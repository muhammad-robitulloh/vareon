var RU=t=>{throw TypeError(t)};var U2=(t,e,n)=>e.has(t)||RU("Cannot "+n);var ge=(t,e,n)=>(U2(t,e,"read from private field"),n?n.call(t):e.get(t)),Ft=(t,e,n)=>e.has(t)?RU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),vt=(t,e,n,r)=>(U2(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),on=(t,e,n)=>(U2(t,e,"access private method"),n);var Pw=(t,e,n,r)=>({set _(i){vt(t,e,i,n)},get _(){return ge(t,e,r)}});function mhe(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Nw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w9={exports:{}},qM={},S9={exports:{}},cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_=Symbol.for("react.element"),ghe=Symbol.for("react.portal"),vhe=Symbol.for("react.fragment"),yhe=Symbol.for("react.strict_mode"),xhe=Symbol.for("react.profiler"),_he=Symbol.for("react.provider"),bhe=Symbol.for("react.context"),whe=Symbol.for("react.forward_ref"),She=Symbol.for("react.suspense"),Ehe=Symbol.for("react.memo"),Che=Symbol.for("react.lazy"),OU=Symbol.iterator;function Mhe(t){return t===null||typeof t!="object"?null:(t=OU&&t[OU]||t["@@iterator"],typeof t=="function"?t:null)}var E9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C9=Object.assign,M9={};function av(t,e,n){this.props=t,this.context=e,this.refs=M9,this.updater=n||E9}av.prototype.isReactComponent={};av.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};av.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A9(){}A9.prototype=av.prototype;function OL(t,e,n){this.props=t,this.context=e,this.refs=M9,this.updater=n||E9}var IL=OL.prototype=new A9;IL.constructor=OL;C9(IL,av.prototype);IL.isPureReactComponent=!0;var IU=Array.isArray,T9=Object.prototype.hasOwnProperty,kL={current:null},P9={key:!0,ref:!0,__self:!0,__source:!0};function N9(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)T9.call(e,r)&&!P9.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:O_,type:t,key:s,ref:o,props:i,_owner:kL.current}}function Ahe(t,e){return{$$typeof:O_,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DL(t){return typeof t=="object"&&t!==null&&t.$$typeof===O_}function The(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var kU=/\/+/g;function z2(t,e){return typeof t=="object"&&t!==null&&t.key!=null?The(""+t.key):e.toString(36)}function bS(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case O_:case ghe:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+z2(o,0):r,IU(i)?(n="",t!=null&&(n=t.replace(kU,"$&/")+"/"),bS(i,e,n,"",function(c){return c})):i!=null&&(DL(i)&&(i=Ahe(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(kU,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",IU(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+z2(s,a);o+=bS(s,e,n,l,i)}else if(l=Mhe(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+z2(s,a++),o+=bS(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rw(t,e,n){if(t==null)return t;var r=[],i=0;return bS(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Phe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ss={current:null},wS={transition:null},Nhe={ReactCurrentDispatcher:ss,ReactCurrentBatchConfig:wS,ReactCurrentOwner:kL};function R9(){throw Error("act(...) is not supported in production builds of React.")}cn.Children={map:Rw,forEach:function(t,e,n){Rw(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rw(t,function(){e++}),e},toArray:function(t){return Rw(t,function(e){return e})||[]},only:function(t){if(!DL(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};cn.Component=av;cn.Fragment=vhe;cn.Profiler=xhe;cn.PureComponent=OL;cn.StrictMode=yhe;cn.Suspense=She;cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nhe;cn.act=R9;cn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=C9({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=kL.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)T9.call(e,l)&&!P9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:O_,type:t.type,key:i,ref:s,props:r,_owner:o}};cn.createContext=function(t){return t={$$typeof:bhe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_he,_context:t},t.Consumer=t};cn.createElement=N9;cn.createFactory=function(t){var e=N9.bind(null,t);return e.type=t,e};cn.createRef=function(){return{current:null}};cn.forwardRef=function(t){return{$$typeof:whe,render:t}};cn.isValidElement=DL;cn.lazy=function(t){return{$$typeof:Che,_payload:{_status:-1,_result:t},_init:Phe}};cn.memo=function(t,e){return{$$typeof:Ehe,type:t,compare:e===void 0?null:e}};cn.startTransition=function(t){var e=wS.transition;wS.transition={};try{t()}finally{wS.transition=e}};cn.unstable_act=R9;cn.useCallback=function(t,e){return ss.current.useCallback(t,e)};cn.useContext=function(t){return ss.current.useContext(t)};cn.useDebugValue=function(){};cn.useDeferredValue=function(t){return ss.current.useDeferredValue(t)};cn.useEffect=function(t,e){return ss.current.useEffect(t,e)};cn.useId=function(){return ss.current.useId()};cn.useImperativeHandle=function(t,e,n){return ss.current.useImperativeHandle(t,e,n)};cn.useInsertionEffect=function(t,e){return ss.current.useInsertionEffect(t,e)};cn.useLayoutEffect=function(t,e){return ss.current.useLayoutEffect(t,e)};cn.useMemo=function(t,e){return ss.current.useMemo(t,e)};cn.useReducer=function(t,e,n){return ss.current.useReducer(t,e,n)};cn.useRef=function(t){return ss.current.useRef(t)};cn.useState=function(t){return ss.current.useState(t)};cn.useSyncExternalStore=function(t,e,n){return ss.current.useSyncExternalStore(t,e,n)};cn.useTransition=function(){return ss.current.useTransition()};cn.version="18.3.1";S9.exports=cn;var P=S9.exports;const te=Pn(P),KM=mhe({__proto__:null,default:te},[P]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rhe=P,Ohe=Symbol.for("react.element"),Ihe=Symbol.for("react.fragment"),khe=Object.prototype.hasOwnProperty,Dhe=Rhe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Lhe={key:!0,ref:!0,__self:!0,__source:!0};function O9(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)khe.call(e,r)&&!Lhe.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Ohe,type:t,key:s,ref:o,props:i,_owner:Dhe.current}}qM.Fragment=Ihe;qM.jsx=O9;qM.jsxs=O9;w9.exports=qM;var h=w9.exports,I9={exports:{}},uo={},k9={exports:{}},D9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var B=R.length;R.push(L);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,L))R[W]=L,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],B=R.pop();if(B!==L){R[0]=B;e:for(var W=0,G=R.length,Y=G>>>1;W<Y;){var ie=2*(W+1)-1,ae=R[ie],se=ie+1,U=R[se];if(0>i(ae,B))se<G&&0>i(U,ae)?(R[W]=U,R[se]=B,W=se):(R[W]=ae,R[ie]=B,W=ie);else if(se<G&&0>i(U,B))R[W]=U,R[se]=B,W=se;else break e}}return L}function i(R,L){var B=R.sortIndex-L.sortIndex;return B!==0?B:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,g=!1,v=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function b(R){if(y=!1,_(R),!v)if(n(l)!==null)v=!0,$(S);else{var L=n(c);L!==null&&V(b,L.startTime-R)}}function S(R,L){v=!1,y&&(y=!1,p(M),M=-1),g=!0;var B=f;try{for(_(L),u=n(l);u!==null&&(!(u.expirationTime>L)||R&&!I());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var G=W(u.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?u.callback=G:u===n(l)&&r(l),_(L)}else r(l);u=n(l)}if(u!==null)var Y=!0;else{var ie=n(c);ie!==null&&V(b,ie.startTime-L),Y=!1}return Y}finally{u=null,f=B,g=!1}}var C=!1,A=null,M=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function k(){if(A!==null){var R=t.unstable_now();N=R;var L=!0;try{L=A(!0,R)}finally{L?j():(C=!1,A=null)}}else C=!1}var j;if(typeof x=="function")j=function(){x(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=k,j=function(){z.postMessage(null)}}else j=function(){m(k,0)};function $(R){A=R,C||(C=!0,j())}function V(R,L){M=m(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,$(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var B=f;f=L;try{return R()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=f;f=R;try{return L()}finally{f=B}},t.unstable_scheduleCallback=function(R,L,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:d++,callback:L,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(y?(p(M),M=-1):y=!0,V(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,$(S))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var L=f;return function(){var B=f;f=L;try{return R.apply(this,arguments)}finally{f=B}}}})(D9);k9.exports=D9;var jhe=k9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fhe=P,oo=jhe;function Qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L9=new Set,G0={};function Th(t,e){ng(t,e),ng(t+"Capture",e)}function ng(t,e){for(G0[t]=e,t=0;t<e.length;t++)L9.add(e[t])}var Tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),PO=Object.prototype.hasOwnProperty,Bhe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DU={},LU={};function Uhe(t){return PO.call(LU,t)?!0:PO.call(DU,t)?!1:Bhe.test(t)?LU[t]=!0:(DU[t]=!0,!1)}function zhe(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function $he(t,e,n,r){if(e===null||typeof e>"u"||zhe(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function os(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Si={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Si[t]=new os(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Si[e]=new os(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Si[t]=new os(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Si[t]=new os(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Si[t]=new os(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Si[t]=new os(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Si[t]=new os(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Si[t]=new os(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Si[t]=new os(t,5,!1,t.toLowerCase(),null,!1,!1)});var LL=/[\-:]([a-z])/g;function jL(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(LL,jL);Si[e]=new os(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(LL,jL);Si[e]=new os(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(LL,jL);Si[e]=new os(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Si[t]=new os(t,1,!1,t.toLowerCase(),null,!1,!1)});Si.xlinkHref=new os("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Si[t]=new os(t,1,!1,t.toLowerCase(),null,!0,!0)});function FL(t,e,n,r){var i=Si.hasOwnProperty(e)?Si[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&($he(e,n,i,r)&&(n=null),r||i===null?Uhe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $c=Fhe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ow=Symbol.for("react.element"),Jp=Symbol.for("react.portal"),em=Symbol.for("react.fragment"),BL=Symbol.for("react.strict_mode"),NO=Symbol.for("react.profiler"),j9=Symbol.for("react.provider"),F9=Symbol.for("react.context"),UL=Symbol.for("react.forward_ref"),RO=Symbol.for("react.suspense"),OO=Symbol.for("react.suspense_list"),zL=Symbol.for("react.memo"),Tu=Symbol.for("react.lazy"),B9=Symbol.for("react.offscreen"),jU=Symbol.iterator;function dy(t){return t===null||typeof t!="object"?null:(t=jU&&t[jU]||t["@@iterator"],typeof t=="function"?t:null)}var xr=Object.assign,$2;function e0(t){if($2===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$2=e&&e[1]||""}return`
`+$2+t}var H2=!1;function V2(t,e){if(!t||H2)return"";H2=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{H2=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?e0(t):""}function Hhe(t){switch(t.tag){case 5:return e0(t.type);case 16:return e0("Lazy");case 13:return e0("Suspense");case 19:return e0("SuspenseList");case 0:case 2:case 15:return t=V2(t.type,!1),t;case 11:return t=V2(t.type.render,!1),t;case 1:return t=V2(t.type,!0),t;default:return""}}function IO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case em:return"Fragment";case Jp:return"Portal";case NO:return"Profiler";case BL:return"StrictMode";case RO:return"Suspense";case OO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case F9:return(t.displayName||"Context")+".Consumer";case j9:return(t._context.displayName||"Context")+".Provider";case UL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zL:return e=t.displayName||null,e!==null?e:IO(t.type)||"Memo";case Tu:e=t._payload,t=t._init;try{return IO(t(e))}catch{}}return null}function Vhe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return IO(e);case 8:return e===BL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function cd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function U9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Whe(t){var e=U9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Iw(t){t._valueTracker||(t._valueTracker=Whe(t))}function z9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=U9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function JS(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function kO(t,e){var n=e.checked;return xr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function FU(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=cd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $9(t,e){e=e.checked,e!=null&&FL(t,"checked",e,!1)}function DO(t,e){$9(t,e);var n=cd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?LO(t,e.type,n):e.hasOwnProperty("defaultValue")&&LO(t,e.type,cd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BU(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function LO(t,e,n){(e!=="number"||JS(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var t0=Array.isArray;function Em(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+cd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Qe(91));return xr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UU(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Qe(92));if(t0(n)){if(1<n.length)throw Error(Qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:cd(n)}}function H9(t,e){var n=cd(e.value),r=cd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function zU(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function V9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function FO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?V9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var kw,W9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(kw=kw||document.createElement("div"),kw.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=kw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function X0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var g0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ghe=["Webkit","ms","Moz","O"];Object.keys(g0).forEach(function(t){Ghe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),g0[e]=g0[t]})});function G9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||g0.hasOwnProperty(t)&&g0[t]?(""+e).trim():e+"px"}function X9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=G9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Xhe=xr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BO(t,e){if(e){if(Xhe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Qe(62))}}function UO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zO=null;function $L(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $O=null,Cm=null,Mm=null;function $U(t){if(t=D_(t)){if(typeof $O!="function")throw Error(Qe(280));var e=t.stateNode;e&&(e=eA(e),$O(t.stateNode,t.type,e))}}function q9(t){Cm?Mm?Mm.push(t):Mm=[t]:Cm=t}function K9(){if(Cm){var t=Cm,e=Mm;if(Mm=Cm=null,$U(t),e)for(t=0;t<e.length;t++)$U(e[t])}}function Y9(t,e){return t(e)}function Z9(){}var W2=!1;function Q9(t,e,n){if(W2)return t(e,n);W2=!0;try{return Y9(t,e,n)}finally{W2=!1,(Cm!==null||Mm!==null)&&(Z9(),K9())}}function q0(t,e){var n=t.stateNode;if(n===null)return null;var r=eA(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Qe(231,e,typeof n));return n}var HO=!1;if(Tc)try{var fy={};Object.defineProperty(fy,"passive",{get:function(){HO=!0}}),window.addEventListener("test",fy,fy),window.removeEventListener("test",fy,fy)}catch{HO=!1}function qhe(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var v0=!1,eE=null,tE=!1,VO=null,Khe={onError:function(t){v0=!0,eE=t}};function Yhe(t,e,n,r,i,s,o,a,l){v0=!1,eE=null,qhe.apply(Khe,arguments)}function Zhe(t,e,n,r,i,s,o,a,l){if(Yhe.apply(this,arguments),v0){if(v0){var c=eE;v0=!1,eE=null}else throw Error(Qe(198));tE||(tE=!0,VO=c)}}function Ph(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function J9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HU(t){if(Ph(t)!==t)throw Error(Qe(188))}function Qhe(t){var e=t.alternate;if(!e){if(e=Ph(t),e===null)throw Error(Qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return HU(i),t;if(s===r)return HU(i),e;s=s.sibling}throw Error(Qe(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Qe(189))}}if(n.alternate!==r)throw Error(Qe(190))}if(n.tag!==3)throw Error(Qe(188));return n.stateNode.current===n?t:e}function eX(t){return t=Qhe(t),t!==null?tX(t):null}function tX(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tX(t);if(e!==null)return e;t=t.sibling}return null}var nX=oo.unstable_scheduleCallback,VU=oo.unstable_cancelCallback,Jhe=oo.unstable_shouldYield,epe=oo.unstable_requestPaint,Nr=oo.unstable_now,tpe=oo.unstable_getCurrentPriorityLevel,HL=oo.unstable_ImmediatePriority,rX=oo.unstable_UserBlockingPriority,nE=oo.unstable_NormalPriority,npe=oo.unstable_LowPriority,iX=oo.unstable_IdlePriority,YM=null,hl=null;function rpe(t){if(hl&&typeof hl.onCommitFiberRoot=="function")try{hl.onCommitFiberRoot(YM,t,void 0,(t.current.flags&128)===128)}catch{}}var Sa=Math.clz32?Math.clz32:ope,ipe=Math.log,spe=Math.LN2;function ope(t){return t>>>=0,t===0?32:31-(ipe(t)/spe|0)|0}var Dw=64,Lw=4194304;function n0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=n0(a):(s&=o,s!==0&&(r=n0(s)))}else o=n&~i,o!==0?r=n0(o):s!==0&&(r=n0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Sa(e),i=1<<n,r|=t[n],e&=~i;return r}function ape(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lpe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Sa(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=ape(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function WO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function sX(){var t=Dw;return Dw<<=1,!(Dw&4194240)&&(Dw=64),t}function G2(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function I_(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Sa(e),t[e]=n}function cpe(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Sa(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function VL(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Sa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Bn=0;function oX(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aX,WL,lX,cX,uX,GO=!1,jw=[],Zu=null,Qu=null,Ju=null,K0=new Map,Y0=new Map,Ru=[],upe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WU(t,e){switch(t){case"focusin":case"focusout":Zu=null;break;case"dragenter":case"dragleave":Qu=null;break;case"mouseover":case"mouseout":Ju=null;break;case"pointerover":case"pointerout":K0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Y0.delete(e.pointerId)}}function hy(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=D_(e),e!==null&&WL(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function dpe(t,e,n,r,i){switch(e){case"focusin":return Zu=hy(Zu,t,e,n,r,i),!0;case"dragenter":return Qu=hy(Qu,t,e,n,r,i),!0;case"mouseover":return Ju=hy(Ju,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return K0.set(s,hy(K0.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Y0.set(s,hy(Y0.get(s)||null,t,e,n,r,i)),!0}return!1}function dX(t){var e=Ef(t.target);if(e!==null){var n=Ph(e);if(n!==null){if(e=n.tag,e===13){if(e=J9(n),e!==null){t.blockedOn=e,uX(t.priority,function(){lX(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function SS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=XO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);zO=r,n.target.dispatchEvent(r),zO=null}else return e=D_(n),e!==null&&WL(e),t.blockedOn=n,!1;e.shift()}return!0}function GU(t,e,n){SS(t)&&n.delete(e)}function fpe(){GO=!1,Zu!==null&&SS(Zu)&&(Zu=null),Qu!==null&&SS(Qu)&&(Qu=null),Ju!==null&&SS(Ju)&&(Ju=null),K0.forEach(GU),Y0.forEach(GU)}function py(t,e){t.blockedOn===e&&(t.blockedOn=null,GO||(GO=!0,oo.unstable_scheduleCallback(oo.unstable_NormalPriority,fpe)))}function Z0(t){function e(i){return py(i,t)}if(0<jw.length){py(jw[0],t);for(var n=1;n<jw.length;n++){var r=jw[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Zu!==null&&py(Zu,t),Qu!==null&&py(Qu,t),Ju!==null&&py(Ju,t),K0.forEach(e),Y0.forEach(e),n=0;n<Ru.length;n++)r=Ru[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ru.length&&(n=Ru[0],n.blockedOn===null);)dX(n),n.blockedOn===null&&Ru.shift()}var Am=$c.ReactCurrentBatchConfig,iE=!0;function hpe(t,e,n,r){var i=Bn,s=Am.transition;Am.transition=null;try{Bn=1,GL(t,e,n,r)}finally{Bn=i,Am.transition=s}}function ppe(t,e,n,r){var i=Bn,s=Am.transition;Am.transition=null;try{Bn=4,GL(t,e,n,r)}finally{Bn=i,Am.transition=s}}function GL(t,e,n,r){if(iE){var i=XO(t,e,n,r);if(i===null)nN(t,e,r,sE,n),WU(t,r);else if(dpe(i,t,e,n,r))r.stopPropagation();else if(WU(t,r),e&4&&-1<upe.indexOf(t)){for(;i!==null;){var s=D_(i);if(s!==null&&aX(s),s=XO(t,e,n,r),s===null&&nN(t,e,r,sE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else nN(t,e,r,null,n)}}var sE=null;function XO(t,e,n,r){if(sE=null,t=$L(r),t=Ef(t),t!==null)if(e=Ph(t),e===null)t=null;else if(n=e.tag,n===13){if(t=J9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sE=t,null}function fX(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tpe()){case HL:return 1;case rX:return 4;case nE:case npe:return 16;case iX:return 536870912;default:return 16}default:return 16}}var Wu=null,XL=null,ES=null;function hX(){if(ES)return ES;var t,e=XL,n=e.length,r,i="value"in Wu?Wu.value:Wu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ES=i.slice(t,1<r?1-r:void 0)}function CS(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Fw(){return!0}function XU(){return!1}function fo(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Fw:XU,this.isPropagationStopped=XU,this}return xr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Fw)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Fw)},persist:function(){},isPersistent:Fw}),e}var lv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qL=fo(lv),k_=xr({},lv,{view:0,detail:0}),mpe=fo(k_),X2,q2,my,ZM=xr({},k_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:KL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==my&&(my&&t.type==="mousemove"?(X2=t.screenX-my.screenX,q2=t.screenY-my.screenY):q2=X2=0,my=t),X2)},movementY:function(t){return"movementY"in t?t.movementY:q2}}),qU=fo(ZM),gpe=xr({},ZM,{dataTransfer:0}),vpe=fo(gpe),ype=xr({},k_,{relatedTarget:0}),K2=fo(ype),xpe=xr({},lv,{animationName:0,elapsedTime:0,pseudoElement:0}),_pe=fo(xpe),bpe=xr({},lv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wpe=fo(bpe),Spe=xr({},lv,{data:0}),KU=fo(Spe),Epe={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cpe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mpe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ape(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mpe[t])?!!e[t]:!1}function KL(){return Ape}var Tpe=xr({},k_,{key:function(t){if(t.key){var e=Epe[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=CS(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cpe[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:KL,charCode:function(t){return t.type==="keypress"?CS(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?CS(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ppe=fo(Tpe),Npe=xr({},ZM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YU=fo(Npe),Rpe=xr({},k_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:KL}),Ope=fo(Rpe),Ipe=xr({},lv,{propertyName:0,elapsedTime:0,pseudoElement:0}),kpe=fo(Ipe),Dpe=xr({},ZM,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Lpe=fo(Dpe),jpe=[9,13,27,32],YL=Tc&&"CompositionEvent"in window,y0=null;Tc&&"documentMode"in document&&(y0=document.documentMode);var Fpe=Tc&&"TextEvent"in window&&!y0,pX=Tc&&(!YL||y0&&8<y0&&11>=y0),ZU=" ",QU=!1;function mX(t,e){switch(t){case"keyup":return jpe.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gX(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var tm=!1;function Bpe(t,e){switch(t){case"compositionend":return gX(e);case"keypress":return e.which!==32?null:(QU=!0,ZU);case"textInput":return t=e.data,t===ZU&&QU?null:t;default:return null}}function Upe(t,e){if(tm)return t==="compositionend"||!YL&&mX(t,e)?(t=hX(),ES=XL=Wu=null,tm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pX&&e.locale!=="ko"?null:e.data;default:return null}}var zpe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zpe[t.type]:e==="textarea"}function vX(t,e,n,r){q9(r),e=oE(e,"onChange"),0<e.length&&(n=new qL("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var x0=null,Q0=null;function $pe(t){TX(t,0)}function QM(t){var e=im(t);if(z9(e))return t}function Hpe(t,e){if(t==="change")return e}var yX=!1;if(Tc){var Y2;if(Tc){var Z2="oninput"in document;if(!Z2){var ez=document.createElement("div");ez.setAttribute("oninput","return;"),Z2=typeof ez.oninput=="function"}Y2=Z2}else Y2=!1;yX=Y2&&(!document.documentMode||9<document.documentMode)}function tz(){x0&&(x0.detachEvent("onpropertychange",xX),Q0=x0=null)}function xX(t){if(t.propertyName==="value"&&QM(Q0)){var e=[];vX(e,Q0,t,$L(t)),Q9($pe,e)}}function Vpe(t,e,n){t==="focusin"?(tz(),x0=e,Q0=n,x0.attachEvent("onpropertychange",xX)):t==="focusout"&&tz()}function Wpe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return QM(Q0)}function Gpe(t,e){if(t==="click")return QM(e)}function Xpe(t,e){if(t==="input"||t==="change")return QM(e)}function qpe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Na=typeof Object.is=="function"?Object.is:qpe;function J0(t,e){if(Na(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!PO.call(e,i)||!Na(t[i],e[i]))return!1}return!0}function nz(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rz(t,e){var n=nz(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=nz(n)}}function _X(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_X(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bX(){for(var t=window,e=JS();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=JS(t.document)}return e}function ZL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kpe(t){var e=bX(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_X(n.ownerDocument.documentElement,n)){if(r!==null&&ZL(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=rz(n,s);var o=rz(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ype=Tc&&"documentMode"in document&&11>=document.documentMode,nm=null,qO=null,_0=null,KO=!1;function iz(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;KO||nm==null||nm!==JS(r)||(r=nm,"selectionStart"in r&&ZL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_0&&J0(_0,r)||(_0=r,r=oE(qO,"onSelect"),0<r.length&&(e=new qL("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=nm)))}function Bw(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var rm={animationend:Bw("Animation","AnimationEnd"),animationiteration:Bw("Animation","AnimationIteration"),animationstart:Bw("Animation","AnimationStart"),transitionend:Bw("Transition","TransitionEnd")},Q2={},wX={};Tc&&(wX=document.createElement("div").style,"AnimationEvent"in window||(delete rm.animationend.animation,delete rm.animationiteration.animation,delete rm.animationstart.animation),"TransitionEvent"in window||delete rm.transitionend.transition);function JM(t){if(Q2[t])return Q2[t];if(!rm[t])return t;var e=rm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wX)return Q2[t]=e[n];return t}var SX=JM("animationend"),EX=JM("animationiteration"),CX=JM("animationstart"),MX=JM("transitionend"),AX=new Map,sz="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yd(t,e){AX.set(t,e),Th(e,[t])}for(var J2=0;J2<sz.length;J2++){var eN=sz[J2],Zpe=eN.toLowerCase(),Qpe=eN[0].toUpperCase()+eN.slice(1);yd(Zpe,"on"+Qpe)}yd(SX,"onAnimationEnd");yd(EX,"onAnimationIteration");yd(CX,"onAnimationStart");yd("dblclick","onDoubleClick");yd("focusin","onFocus");yd("focusout","onBlur");yd(MX,"onTransitionEnd");ng("onMouseEnter",["mouseout","mouseover"]);ng("onMouseLeave",["mouseout","mouseover"]);ng("onPointerEnter",["pointerout","pointerover"]);ng("onPointerLeave",["pointerout","pointerover"]);Th("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Th("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Th("onBeforeInput",["compositionend","keypress","textInput","paste"]);Th("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Th("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Th("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var r0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Jpe=new Set("cancel close invalid load scroll toggle".split(" ").concat(r0));function oz(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Zhe(r,e,void 0,t),t.currentTarget=null}function TX(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;oz(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;oz(i,a,c),s=l}}}if(tE)throw t=VO,tE=!1,VO=null,t}function er(t,e){var n=e[eI];n===void 0&&(n=e[eI]=new Set);var r=t+"__bubble";n.has(r)||(PX(e,t,2,!1),n.add(r))}function tN(t,e,n){var r=0;e&&(r|=4),PX(n,t,r,e)}var Uw="_reactListening"+Math.random().toString(36).slice(2);function ex(t){if(!t[Uw]){t[Uw]=!0,L9.forEach(function(n){n!=="selectionchange"&&(Jpe.has(n)||tN(n,!1,t),tN(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Uw]||(e[Uw]=!0,tN("selectionchange",!1,e))}}function PX(t,e,n,r){switch(fX(e)){case 1:var i=hpe;break;case 4:i=ppe;break;default:i=GL}n=i.bind(null,e,n,t),i=void 0,!HO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ef(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Q9(function(){var c=s,d=$L(n),u=[];e:{var f=AX.get(t);if(f!==void 0){var g=qL,v=t;switch(t){case"keypress":if(CS(n)===0)break e;case"keydown":case"keyup":g=Ppe;break;case"focusin":v="focus",g=K2;break;case"focusout":v="blur",g=K2;break;case"beforeblur":case"afterblur":g=K2;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=qU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vpe;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Ope;break;case SX:case EX:case CX:g=_pe;break;case MX:g=kpe;break;case"scroll":g=mpe;break;case"wheel":g=Lpe;break;case"copy":case"cut":case"paste":g=wpe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=YU}var y=(e&4)!==0,m=!y&&t==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var x=c,_;x!==null;){_=x;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,p!==null&&(b=q0(x,p),b!=null&&y.push(tx(x,b,_)))),m)break;x=x.return}0<y.length&&(f=new g(f,v,null,n,d),u.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==zO&&(v=n.relatedTarget||n.fromElement)&&(Ef(v)||v[Pc]))break e;if((g||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?Ef(v):null,v!==null&&(m=Ph(v),v!==m||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(y=qU,b="onMouseLeave",p="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(y=YU,b="onPointerLeave",p="onPointerEnter",x="pointer"),m=g==null?f:im(g),_=v==null?f:im(v),f=new y(b,x+"leave",g,n,d),f.target=m,f.relatedTarget=_,b=null,Ef(d)===c&&(y=new y(p,x+"enter",v,n,d),y.target=_,y.relatedTarget=m,b=y),m=b,g&&v)t:{for(y=g,p=v,x=0,_=y;_;_=pp(_))x++;for(_=0,b=p;b;b=pp(b))_++;for(;0<x-_;)y=pp(y),x--;for(;0<_-x;)p=pp(p),_--;for(;x--;){if(y===p||p!==null&&y===p.alternate)break t;y=pp(y),p=pp(p)}y=null}else y=null;g!==null&&az(u,f,g,y,!1),v!==null&&m!==null&&az(u,m,v,y,!0)}}e:{if(f=c?im(c):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var S=Hpe;else if(JU(f))if(yX)S=Xpe;else{S=Wpe;var C=Vpe}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=Gpe);if(S&&(S=S(t,c))){vX(u,S,n,d);break e}C&&C(t,f,c),t==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&LO(f,"number",f.value)}switch(C=c?im(c):window,t){case"focusin":(JU(C)||C.contentEditable==="true")&&(nm=C,qO=c,_0=null);break;case"focusout":_0=qO=nm=null;break;case"mousedown":KO=!0;break;case"contextmenu":case"mouseup":case"dragend":KO=!1,iz(u,n,d);break;case"selectionchange":if(Ype)break;case"keydown":case"keyup":iz(u,n,d)}var A;if(YL)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else tm?mX(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(pX&&n.locale!=="ko"&&(tm||M!=="onCompositionStart"?M==="onCompositionEnd"&&tm&&(A=hX()):(Wu=d,XL="value"in Wu?Wu.value:Wu.textContent,tm=!0)),C=oE(c,M),0<C.length&&(M=new KU(M,t,null,n,d),u.push({event:M,listeners:C}),A?M.data=A:(A=gX(n),A!==null&&(M.data=A)))),(A=Fpe?Bpe(t,n):Upe(t,n))&&(c=oE(c,"onBeforeInput"),0<c.length&&(d=new KU("onBeforeInput","beforeinput",null,n,d),u.push({event:d,listeners:c}),d.data=A))}TX(u,e)})}function tx(t,e,n){return{instance:t,listener:e,currentTarget:n}}function oE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=q0(t,n),s!=null&&r.unshift(tx(t,s,i)),s=q0(t,e),s!=null&&r.push(tx(t,s,i))),t=t.return}return r}function pp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function az(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=q0(n,s),l!=null&&o.unshift(tx(n,l,a))):i||(l=q0(n,s),l!=null&&o.push(tx(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var eme=/\r\n?/g,tme=/\u0000|\uFFFD/g;function lz(t){return(typeof t=="string"?t:""+t).replace(eme,`
`).replace(tme,"")}function zw(t,e,n){if(e=lz(e),lz(t)!==e&&n)throw Error(Qe(425))}function aE(){}var YO=null,ZO=null;function QO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var JO=typeof setTimeout=="function"?setTimeout:void 0,nme=typeof clearTimeout=="function"?clearTimeout:void 0,cz=typeof Promise=="function"?Promise:void 0,rme=typeof queueMicrotask=="function"?queueMicrotask:typeof cz<"u"?function(t){return cz.resolve(null).then(t).catch(ime)}:JO;function ime(t){setTimeout(function(){throw t})}function rN(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Z0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Z0(e)}function ed(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uz(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var cv=Math.random().toString(36).slice(2),sl="__reactFiber$"+cv,nx="__reactProps$"+cv,Pc="__reactContainer$"+cv,eI="__reactEvents$"+cv,sme="__reactListeners$"+cv,ome="__reactHandles$"+cv;function Ef(t){var e=t[sl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Pc]||n[sl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uz(t);t!==null;){if(n=t[sl])return n;t=uz(t)}return e}t=n,n=t.parentNode}return null}function D_(t){return t=t[sl]||t[Pc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function im(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Qe(33))}function eA(t){return t[nx]||null}var tI=[],sm=-1;function xd(t){return{current:t}}function ir(t){0>sm||(t.current=tI[sm],tI[sm]=null,sm--)}function Yn(t,e){sm++,tI[sm]=t.current,t.current=e}var ud={},Hi=xd(ud),As=xd(!1),Jf=ud;function rg(t,e){var n=t.type.contextTypes;if(!n)return ud;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ts(t){return t=t.childContextTypes,t!=null}function lE(){ir(As),ir(Hi)}function dz(t,e,n){if(Hi.current!==ud)throw Error(Qe(168));Yn(Hi,e),Yn(As,n)}function NX(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Qe(108,Vhe(t)||"Unknown",i));return xr({},n,r)}function cE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ud,Jf=Hi.current,Yn(Hi,t),Yn(As,As.current),!0}function fz(t,e,n){var r=t.stateNode;if(!r)throw Error(Qe(169));n?(t=NX(t,e,Jf),r.__reactInternalMemoizedMergedChildContext=t,ir(As),ir(Hi),Yn(Hi,t)):ir(As),Yn(As,n)}var cc=null,tA=!1,iN=!1;function RX(t){cc===null?cc=[t]:cc.push(t)}function ame(t){tA=!0,RX(t)}function _d(){if(!iN&&cc!==null){iN=!0;var t=0,e=Bn;try{var n=cc;for(Bn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cc=null,tA=!1}catch(i){throw cc!==null&&(cc=cc.slice(t+1)),nX(HL,_d),i}finally{Bn=e,iN=!1}}return null}var om=[],am=0,uE=null,dE=0,No=[],Ro=0,eh=null,pc=1,mc="";function df(t,e){om[am++]=dE,om[am++]=uE,uE=t,dE=e}function OX(t,e,n){No[Ro++]=pc,No[Ro++]=mc,No[Ro++]=eh,eh=t;var r=pc;t=mc;var i=32-Sa(r)-1;r&=~(1<<i),n+=1;var s=32-Sa(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,pc=1<<32-Sa(e)+i|n<<i|r,mc=s+t}else pc=1<<s|n<<i|r,mc=t}function QL(t){t.return!==null&&(df(t,1),OX(t,1,0))}function JL(t){for(;t===uE;)uE=om[--am],om[am]=null,dE=om[--am],om[am]=null;for(;t===eh;)eh=No[--Ro],No[Ro]=null,mc=No[--Ro],No[Ro]=null,pc=No[--Ro],No[Ro]=null}var to=null,Zs=null,ar=!1,pa=null;function IX(t,e){var n=Io(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function hz(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,to=t,Zs=ed(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,to=t,Zs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=eh!==null?{id:pc,overflow:mc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Io(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,to=t,Zs=null,!0):!1;default:return!1}}function nI(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rI(t){if(ar){var e=Zs;if(e){var n=e;if(!hz(t,e)){if(nI(t))throw Error(Qe(418));e=ed(n.nextSibling);var r=to;e&&hz(t,e)?IX(r,n):(t.flags=t.flags&-4097|2,ar=!1,to=t)}}else{if(nI(t))throw Error(Qe(418));t.flags=t.flags&-4097|2,ar=!1,to=t}}}function pz(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;to=t}function $w(t){if(t!==to)return!1;if(!ar)return pz(t),ar=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!QO(t.type,t.memoizedProps)),e&&(e=Zs)){if(nI(t))throw kX(),Error(Qe(418));for(;e;)IX(t,e),e=ed(e.nextSibling)}if(pz(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zs=ed(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zs=null}}else Zs=to?ed(t.stateNode.nextSibling):null;return!0}function kX(){for(var t=Zs;t;)t=ed(t.nextSibling)}function ig(){Zs=to=null,ar=!1}function ej(t){pa===null?pa=[t]:pa.push(t)}var lme=$c.ReactCurrentBatchConfig;function gy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Qe(309));var r=n.stateNode}if(!r)throw Error(Qe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Qe(284));if(!n._owner)throw Error(Qe(290,t))}return t}function Hw(t,e){throw t=Object.prototype.toString.call(e),Error(Qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function mz(t){var e=t._init;return e(t._payload)}function DX(t){function e(p,x){if(t){var _=p.deletions;_===null?(p.deletions=[x],p.flags|=16):_.push(x)}}function n(p,x){if(!t)return null;for(;x!==null;)e(p,x),x=x.sibling;return null}function r(p,x){for(p=new Map;x!==null;)x.key!==null?p.set(x.key,x):p.set(x.index,x),x=x.sibling;return p}function i(p,x){return p=id(p,x),p.index=0,p.sibling=null,p}function s(p,x,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<x?(p.flags|=2,x):_):(p.flags|=2,x)):(p.flags|=1048576,x)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,x,_,b){return x===null||x.tag!==6?(x=dN(_,p.mode,b),x.return=p,x):(x=i(x,_),x.return=p,x)}function l(p,x,_,b){var S=_.type;return S===em?d(p,x,_.props.children,b,_.key):x!==null&&(x.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tu&&mz(S)===x.type)?(b=i(x,_.props),b.ref=gy(p,x,_),b.return=p,b):(b=OS(_.type,_.key,_.props,null,p.mode,b),b.ref=gy(p,x,_),b.return=p,b)}function c(p,x,_,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=fN(_,p.mode,b),x.return=p,x):(x=i(x,_.children||[]),x.return=p,x)}function d(p,x,_,b,S){return x===null||x.tag!==7?(x=Hf(_,p.mode,b,S),x.return=p,x):(x=i(x,_),x.return=p,x)}function u(p,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=dN(""+x,p.mode,_),x.return=p,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ow:return _=OS(x.type,x.key,x.props,null,p.mode,_),_.ref=gy(p,null,x),_.return=p,_;case Jp:return x=fN(x,p.mode,_),x.return=p,x;case Tu:var b=x._init;return u(p,b(x._payload),_)}if(t0(x)||dy(x))return x=Hf(x,p.mode,_,null),x.return=p,x;Hw(p,x)}return null}function f(p,x,_,b){var S=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(p,x,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ow:return _.key===S?l(p,x,_,b):null;case Jp:return _.key===S?c(p,x,_,b):null;case Tu:return S=_._init,f(p,x,S(_._payload),b)}if(t0(_)||dy(_))return S!==null?null:d(p,x,_,b,null);Hw(p,_)}return null}function g(p,x,_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(_)||null,a(x,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ow:return p=p.get(b.key===null?_:b.key)||null,l(x,p,b,S);case Jp:return p=p.get(b.key===null?_:b.key)||null,c(x,p,b,S);case Tu:var C=b._init;return g(p,x,_,C(b._payload),S)}if(t0(b)||dy(b))return p=p.get(_)||null,d(x,p,b,S,null);Hw(x,b)}return null}function v(p,x,_,b){for(var S=null,C=null,A=x,M=x=0,T=null;A!==null&&M<_.length;M++){A.index>M?(T=A,A=null):T=A.sibling;var N=f(p,A,_[M],b);if(N===null){A===null&&(A=T);break}t&&A&&N.alternate===null&&e(p,A),x=s(N,x,M),C===null?S=N:C.sibling=N,C=N,A=T}if(M===_.length)return n(p,A),ar&&df(p,M),S;if(A===null){for(;M<_.length;M++)A=u(p,_[M],b),A!==null&&(x=s(A,x,M),C===null?S=A:C.sibling=A,C=A);return ar&&df(p,M),S}for(A=r(p,A);M<_.length;M++)T=g(A,p,M,_[M],b),T!==null&&(t&&T.alternate!==null&&A.delete(T.key===null?M:T.key),x=s(T,x,M),C===null?S=T:C.sibling=T,C=T);return t&&A.forEach(function(I){return e(p,I)}),ar&&df(p,M),S}function y(p,x,_,b){var S=dy(_);if(typeof S!="function")throw Error(Qe(150));if(_=S.call(_),_==null)throw Error(Qe(151));for(var C=S=null,A=x,M=x=0,T=null,N=_.next();A!==null&&!N.done;M++,N=_.next()){A.index>M?(T=A,A=null):T=A.sibling;var I=f(p,A,N.value,b);if(I===null){A===null&&(A=T);break}t&&A&&I.alternate===null&&e(p,A),x=s(I,x,M),C===null?S=I:C.sibling=I,C=I,A=T}if(N.done)return n(p,A),ar&&df(p,M),S;if(A===null){for(;!N.done;M++,N=_.next())N=u(p,N.value,b),N!==null&&(x=s(N,x,M),C===null?S=N:C.sibling=N,C=N);return ar&&df(p,M),S}for(A=r(p,A);!N.done;M++,N=_.next())N=g(A,p,M,N.value,b),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?M:N.key),x=s(N,x,M),C===null?S=N:C.sibling=N,C=N);return t&&A.forEach(function(k){return e(p,k)}),ar&&df(p,M),S}function m(p,x,_,b){if(typeof _=="object"&&_!==null&&_.type===em&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ow:e:{for(var S=_.key,C=x;C!==null;){if(C.key===S){if(S=_.type,S===em){if(C.tag===7){n(p,C.sibling),x=i(C,_.props.children),x.return=p,p=x;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Tu&&mz(S)===C.type){n(p,C.sibling),x=i(C,_.props),x.ref=gy(p,C,_),x.return=p,p=x;break e}n(p,C);break}else e(p,C);C=C.sibling}_.type===em?(x=Hf(_.props.children,p.mode,b,_.key),x.return=p,p=x):(b=OS(_.type,_.key,_.props,null,p.mode,b),b.ref=gy(p,x,_),b.return=p,p=b)}return o(p);case Jp:e:{for(C=_.key;x!==null;){if(x.key===C)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(p,x.sibling),x=i(x,_.children||[]),x.return=p,p=x;break e}else{n(p,x);break}else e(p,x);x=x.sibling}x=fN(_,p.mode,b),x.return=p,p=x}return o(p);case Tu:return C=_._init,m(p,x,C(_._payload),b)}if(t0(_))return v(p,x,_,b);if(dy(_))return y(p,x,_,b);Hw(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(p,x.sibling),x=i(x,_),x.return=p,p=x):(n(p,x),x=dN(_,p.mode,b),x.return=p,p=x),o(p)):n(p,x)}return m}var sg=DX(!0),LX=DX(!1),fE=xd(null),hE=null,lm=null,tj=null;function nj(){tj=lm=hE=null}function rj(t){var e=fE.current;ir(fE),t._currentValue=e}function iI(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Tm(t,e){hE=t,tj=lm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ss=!0),t.firstContext=null)}function Bo(t){var e=t._currentValue;if(tj!==t)if(t={context:t,memoizedValue:e,next:null},lm===null){if(hE===null)throw Error(Qe(308));lm=t,hE.dependencies={lanes:0,firstContext:t}}else lm=lm.next=t;return e}var Cf=null;function ij(t){Cf===null?Cf=[t]:Cf.push(t)}function jX(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,ij(e)):(n.next=i.next,i.next=n),e.interleaved=n,Nc(t,r)}function Nc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pu=!1;function sj(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FX(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _c(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function td(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,_n&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Nc(t,n)}return i=r.interleaved,i===null?(e.next=e,ij(r)):(e.next=i.next,i.next=e),r.interleaved=e,Nc(t,n)}function MS(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VL(t,n)}}function gz(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pE(t,e,n,r){var i=t.updateQueue;Pu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,g=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){u=v.call(g,u,f);break e}u=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(g,u,f):v,f==null)break e;u=xr({},u,f);break e;case 2:Pu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=u):d=d.next=g,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=u),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);nh|=o,t.lanes=o,t.memoizedState=u}}function vz(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Qe(191,i));i.call(r)}}}var L_={},pl=xd(L_),rx=xd(L_),ix=xd(L_);function Mf(t){if(t===L_)throw Error(Qe(174));return t}function oj(t,e){switch(Yn(ix,e),Yn(rx,t),Yn(pl,L_),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:FO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=FO(e,t)}ir(pl),Yn(pl,e)}function og(){ir(pl),ir(rx),ir(ix)}function BX(t){Mf(ix.current);var e=Mf(pl.current),n=FO(e,t.type);e!==n&&(Yn(rx,t),Yn(pl,n))}function aj(t){rx.current===t&&(ir(pl),ir(rx))}var pr=xd(0);function mE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sN=[];function lj(){for(var t=0;t<sN.length;t++)sN[t]._workInProgressVersionPrimary=null;sN.length=0}var AS=$c.ReactCurrentDispatcher,oN=$c.ReactCurrentBatchConfig,th=0,yr=null,Xr=null,ci=null,gE=!1,b0=!1,sx=0,cme=0;function Ni(){throw Error(Qe(321))}function cj(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Na(t[n],e[n]))return!1;return!0}function uj(t,e,n,r,i,s){if(th=s,yr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,AS.current=t===null||t.memoizedState===null?hme:pme,t=n(r,i),b0){s=0;do{if(b0=!1,sx=0,25<=s)throw Error(Qe(301));s+=1,ci=Xr=null,e.updateQueue=null,AS.current=mme,t=n(r,i)}while(b0)}if(AS.current=vE,e=Xr!==null&&Xr.next!==null,th=0,ci=Xr=yr=null,gE=!1,e)throw Error(Qe(300));return t}function dj(){var t=sx!==0;return sx=0,t}function Ja(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ci===null?yr.memoizedState=ci=t:ci=ci.next=t,ci}function Uo(){if(Xr===null){var t=yr.alternate;t=t!==null?t.memoizedState:null}else t=Xr.next;var e=ci===null?yr.memoizedState:ci.next;if(e!==null)ci=e,Xr=t;else{if(t===null)throw Error(Qe(310));Xr=t,t={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},ci===null?yr.memoizedState=ci=t:ci=ci.next=t}return ci}function ox(t,e){return typeof e=="function"?e(t):e}function aN(t){var e=Uo(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=Xr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((th&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var u={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,yr.lanes|=d,nh|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Na(r,e.memoizedState)||(Ss=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yr.lanes|=s,nh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lN(t){var e=Uo(),n=e.queue;if(n===null)throw Error(Qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Na(s,e.memoizedState)||(Ss=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function UX(){}function zX(t,e){var n=yr,r=Uo(),i=e(),s=!Na(r.memoizedState,i);if(s&&(r.memoizedState=i,Ss=!0),r=r.queue,fj(VX.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ci!==null&&ci.memoizedState.tag&1){if(n.flags|=2048,ax(9,HX.bind(null,n,r,i,e),void 0,null),pi===null)throw Error(Qe(349));th&30||$X(n,e,i)}return i}function $X(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yr.updateQueue,e===null?(e={lastEffect:null,stores:null},yr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HX(t,e,n,r){e.value=n,e.getSnapshot=r,WX(e)&&GX(t)}function VX(t,e,n){return n(function(){WX(e)&&GX(t)})}function WX(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Na(t,n)}catch{return!0}}function GX(t){var e=Nc(t,1);e!==null&&Ea(e,t,1,-1)}function yz(t){var e=Ja();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ox,lastRenderedState:t},e.queue=t,t=t.dispatch=fme.bind(null,yr,t),[e.memoizedState,t]}function ax(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yr.updateQueue,e===null?(e={lastEffect:null,stores:null},yr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function XX(){return Uo().memoizedState}function TS(t,e,n,r){var i=Ja();yr.flags|=t,i.memoizedState=ax(1|e,n,void 0,r===void 0?null:r)}function nA(t,e,n,r){var i=Uo();r=r===void 0?null:r;var s=void 0;if(Xr!==null){var o=Xr.memoizedState;if(s=o.destroy,r!==null&&cj(r,o.deps)){i.memoizedState=ax(e,n,s,r);return}}yr.flags|=t,i.memoizedState=ax(1|e,n,s,r)}function xz(t,e){return TS(8390656,8,t,e)}function fj(t,e){return nA(2048,8,t,e)}function qX(t,e){return nA(4,2,t,e)}function KX(t,e){return nA(4,4,t,e)}function YX(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZX(t,e,n){return n=n!=null?n.concat([t]):null,nA(4,4,YX.bind(null,e,t),n)}function hj(){}function QX(t,e){var n=Uo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cj(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JX(t,e){var n=Uo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&cj(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eq(t,e,n){return th&21?(Na(n,e)||(n=sX(),yr.lanes|=n,nh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ss=!0),t.memoizedState=n)}function ume(t,e){var n=Bn;Bn=n!==0&&4>n?n:4,t(!0);var r=oN.transition;oN.transition={};try{t(!1),e()}finally{Bn=n,oN.transition=r}}function tq(){return Uo().memoizedState}function dme(t,e,n){var r=rd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nq(t))rq(e,n);else if(n=jX(t,e,n,r),n!==null){var i=is();Ea(n,t,r,i),iq(n,e,r)}}function fme(t,e,n){var r=rd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nq(t))rq(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Na(a,o)){var l=e.interleaved;l===null?(i.next=i,ij(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jX(t,e,i,r),n!==null&&(i=is(),Ea(n,t,r,i),iq(n,e,r))}}function nq(t){var e=t.alternate;return t===yr||e!==null&&e===yr}function rq(t,e){b0=gE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function iq(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,VL(t,n)}}var vE={readContext:Bo,useCallback:Ni,useContext:Ni,useEffect:Ni,useImperativeHandle:Ni,useInsertionEffect:Ni,useLayoutEffect:Ni,useMemo:Ni,useReducer:Ni,useRef:Ni,useState:Ni,useDebugValue:Ni,useDeferredValue:Ni,useTransition:Ni,useMutableSource:Ni,useSyncExternalStore:Ni,useId:Ni,unstable_isNewReconciler:!1},hme={readContext:Bo,useCallback:function(t,e){return Ja().memoizedState=[t,e===void 0?null:e],t},useContext:Bo,useEffect:xz,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,TS(4194308,4,YX.bind(null,e,t),n)},useLayoutEffect:function(t,e){return TS(4194308,4,t,e)},useInsertionEffect:function(t,e){return TS(4,2,t,e)},useMemo:function(t,e){var n=Ja();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ja();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=dme.bind(null,yr,t),[r.memoizedState,t]},useRef:function(t){var e=Ja();return t={current:t},e.memoizedState=t},useState:yz,useDebugValue:hj,useDeferredValue:function(t){return Ja().memoizedState=t},useTransition:function(){var t=yz(!1),e=t[0];return t=ume.bind(null,t[1]),Ja().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yr,i=Ja();if(ar){if(n===void 0)throw Error(Qe(407));n=n()}else{if(n=e(),pi===null)throw Error(Qe(349));th&30||$X(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,xz(VX.bind(null,r,s,t),[t]),r.flags|=2048,ax(9,HX.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ja(),e=pi.identifierPrefix;if(ar){var n=mc,r=pc;n=(r&~(1<<32-Sa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sx++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cme++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},pme={readContext:Bo,useCallback:QX,useContext:Bo,useEffect:fj,useImperativeHandle:ZX,useInsertionEffect:qX,useLayoutEffect:KX,useMemo:JX,useReducer:aN,useRef:XX,useState:function(){return aN(ox)},useDebugValue:hj,useDeferredValue:function(t){var e=Uo();return eq(e,Xr.memoizedState,t)},useTransition:function(){var t=aN(ox)[0],e=Uo().memoizedState;return[t,e]},useMutableSource:UX,useSyncExternalStore:zX,useId:tq,unstable_isNewReconciler:!1},mme={readContext:Bo,useCallback:QX,useContext:Bo,useEffect:fj,useImperativeHandle:ZX,useInsertionEffect:qX,useLayoutEffect:KX,useMemo:JX,useReducer:lN,useRef:XX,useState:function(){return lN(ox)},useDebugValue:hj,useDeferredValue:function(t){var e=Uo();return Xr===null?e.memoizedState=t:eq(e,Xr.memoizedState,t)},useTransition:function(){var t=lN(ox)[0],e=Uo().memoizedState;return[t,e]},useMutableSource:UX,useSyncExternalStore:zX,useId:tq,unstable_isNewReconciler:!1};function sa(t,e){if(t&&t.defaultProps){e=xr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function sI(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:xr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var rA={isMounted:function(t){return(t=t._reactInternals)?Ph(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=is(),i=rd(t),s=_c(r,i);s.payload=e,n!=null&&(s.callback=n),e=td(t,s,i),e!==null&&(Ea(e,t,i,r),MS(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=is(),i=rd(t),s=_c(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=td(t,s,i),e!==null&&(Ea(e,t,i,r),MS(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=is(),r=rd(t),i=_c(n,r);i.tag=2,e!=null&&(i.callback=e),e=td(t,i,r),e!==null&&(Ea(e,t,r,n),MS(e,t,r))}};function _z(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!J0(n,r)||!J0(i,s):!0}function sq(t,e,n){var r=!1,i=ud,s=e.contextType;return typeof s=="object"&&s!==null?s=Bo(s):(i=Ts(e)?Jf:Hi.current,r=e.contextTypes,s=(r=r!=null)?rg(t,i):ud),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=rA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function bz(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&rA.enqueueReplaceState(e,e.state,null)}function oI(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},sj(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Bo(s):(s=Ts(e)?Jf:Hi.current,i.context=rg(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(sI(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&rA.enqueueReplaceState(i,i.state,null),pE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ag(t,e){try{var n="",r=e;do n+=Hhe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function aI(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var gme=typeof WeakMap=="function"?WeakMap:Map;function oq(t,e,n){n=_c(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xE||(xE=!0,vI=r),aI(t,e)},n}function aq(t,e,n){n=_c(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){aI(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){aI(t,e),typeof r!="function"&&(nd===null?nd=new Set([this]):nd.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wz(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new gme;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Nme.bind(null,t,e,n),e.then(t,t))}function Sz(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ez(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_c(-1,1),e.tag=2,td(n,e,1))),n.lanes|=1),t)}var vme=$c.ReactCurrentOwner,Ss=!1;function Qi(t,e,n,r){e.child=t===null?LX(e,null,n,r):sg(e,t.child,n,r)}function Cz(t,e,n,r,i){n=n.render;var s=e.ref;return Tm(e,i),r=uj(t,e,n,r,s,i),n=dj(),t!==null&&!Ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rc(t,e,i)):(ar&&n&&QL(e),e.flags|=1,Qi(t,e,r,i),e.child)}function Mz(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bj(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,lq(t,e,s,r,i)):(t=OS(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:J0,n(o,r)&&t.ref===e.ref)return Rc(t,e,i)}return e.flags|=1,t=id(s,r),t.ref=e.ref,t.return=e,e.child=t}function lq(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(J0(s,r)&&t.ref===e.ref)if(Ss=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ss=!0);else return e.lanes=t.lanes,Rc(t,e,i)}return lI(t,e,n,r,i)}function cq(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yn(um,Gs),Gs|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Yn(um,Gs),Gs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Yn(um,Gs),Gs|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Yn(um,Gs),Gs|=r;return Qi(t,e,i,n),e.child}function uq(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lI(t,e,n,r,i){var s=Ts(n)?Jf:Hi.current;return s=rg(e,s),Tm(e,i),n=uj(t,e,n,r,s,i),r=dj(),t!==null&&!Ss?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Rc(t,e,i)):(ar&&r&&QL(e),e.flags|=1,Qi(t,e,n,i),e.child)}function Az(t,e,n,r,i){if(Ts(n)){var s=!0;cE(e)}else s=!1;if(Tm(e,i),e.stateNode===null)PS(t,e),sq(e,n,r),oI(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bo(c):(c=Ts(n)?Jf:Hi.current,c=rg(e,c));var d=n.getDerivedStateFromProps,u=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&bz(e,o,r,c),Pu=!1;var f=e.memoizedState;o.state=f,pE(e,r,o,i),l=e.memoizedState,a!==r||f!==l||As.current||Pu?(typeof d=="function"&&(sI(e,n,d,r),l=e.memoizedState),(a=Pu||_z(e,n,a,r,f,l,c))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,FX(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sa(e.type,a),o.props=c,u=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bo(l):(l=Ts(n)?Jf:Hi.current,l=rg(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||f!==l)&&bz(e,o,r,l),Pu=!1,f=e.memoizedState,o.state=f,pE(e,r,o,i);var v=e.memoizedState;a!==u||f!==v||As.current||Pu?(typeof g=="function"&&(sI(e,n,g,r),v=e.memoizedState),(c=Pu||_z(e,n,c,r,f,v,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return cI(t,e,n,r,s,i)}function cI(t,e,n,r,i,s){uq(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&fz(e,n,!1),Rc(t,e,s);r=e.stateNode,vme.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sg(e,t.child,null,s),e.child=sg(e,null,a,s)):Qi(t,e,a,s),e.memoizedState=r.state,i&&fz(e,n,!0),e.child}function dq(t){var e=t.stateNode;e.pendingContext?dz(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dz(t,e.context,!1),oj(t,e.containerInfo)}function Tz(t,e,n,r,i){return ig(),ej(i),e.flags|=256,Qi(t,e,n,r),e.child}var uI={dehydrated:null,treeContext:null,retryLane:0};function dI(t){return{baseLanes:t,cachePool:null,transitions:null}}function fq(t,e,n){var r=e.pendingProps,i=pr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Yn(pr,i&1),t===null)return rI(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=oA(o,r,0,null),t=Hf(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=dI(n),e.memoizedState=uI,t):pj(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return yme(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=id(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=id(a,s):(s=Hf(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?dI(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=uI,r}return s=t.child,t=s.sibling,r=id(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function pj(t,e){return e=oA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Vw(t,e,n,r){return r!==null&&ej(r),sg(e,t.child,null,n),t=pj(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yme(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cN(Error(Qe(422))),Vw(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=oA({mode:"visible",children:r.children},i,0,null),s=Hf(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&sg(e,t.child,null,o),e.child.memoizedState=dI(o),e.memoizedState=uI,s);if(!(e.mode&1))return Vw(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Qe(419)),r=cN(s,r,void 0),Vw(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ss||a){if(r=pi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Nc(t,i),Ea(r,t,i,-1))}return _j(),r=cN(Error(Qe(421))),Vw(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Rme.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Zs=ed(i.nextSibling),to=e,ar=!0,pa=null,t!==null&&(No[Ro++]=pc,No[Ro++]=mc,No[Ro++]=eh,pc=t.id,mc=t.overflow,eh=e),e=pj(e,r.children),e.flags|=4096,e)}function Pz(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iI(t.return,e,n)}function uN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hq(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Qi(t,e,r.children,n),r=pr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Pz(t,n,e);else if(t.tag===19)Pz(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Yn(pr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&mE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),uN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&mE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}uN(e,!0,n,null,s);break;case"together":uN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function PS(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Rc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Qe(153));if(e.child!==null){for(t=e.child,n=id(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=id(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xme(t,e,n){switch(e.tag){case 3:dq(e),ig();break;case 5:BX(e);break;case 1:Ts(e.type)&&cE(e);break;case 4:oj(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Yn(fE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Yn(pr,pr.current&1),e.flags|=128,null):n&e.child.childLanes?fq(t,e,n):(Yn(pr,pr.current&1),t=Rc(t,e,n),t!==null?t.sibling:null);Yn(pr,pr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hq(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yn(pr,pr.current),r)break;return null;case 22:case 23:return e.lanes=0,cq(t,e,n)}return Rc(t,e,n)}var pq,fI,mq,gq;pq=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fI=function(){};mq=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Mf(pl.current);var s=null;switch(n){case"input":i=kO(t,i),r=kO(t,r),s=[];break;case"select":i=xr({},i,{value:void 0}),r=xr({},r,{value:void 0}),s=[];break;case"textarea":i=jO(t,i),r=jO(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=aE)}BO(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(G0.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(G0.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&er("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};gq=function(t,e,n,r){n!==r&&(e.flags|=4)};function vy(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ri(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _me(t,e,n){var r=e.pendingProps;switch(JL(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ri(e),null;case 1:return Ts(e.type)&&lE(),Ri(e),null;case 3:return r=e.stateNode,og(),ir(As),ir(Hi),lj(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&($w(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,pa!==null&&(_I(pa),pa=null))),fI(t,e),Ri(e),null;case 5:aj(e);var i=Mf(ix.current);if(n=e.type,t!==null&&e.stateNode!=null)mq(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Qe(166));return Ri(e),null}if(t=Mf(pl.current),$w(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[sl]=e,r[nx]=s,t=(e.mode&1)!==0,n){case"dialog":er("cancel",r),er("close",r);break;case"iframe":case"object":case"embed":er("load",r);break;case"video":case"audio":for(i=0;i<r0.length;i++)er(r0[i],r);break;case"source":er("error",r);break;case"img":case"image":case"link":er("error",r),er("load",r);break;case"details":er("toggle",r);break;case"input":FU(r,s),er("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},er("invalid",r);break;case"textarea":UU(r,s),er("invalid",r)}BO(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&zw(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&zw(r.textContent,a,t),i=["children",""+a]):G0.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&er("scroll",r)}switch(n){case"input":Iw(r),BU(r,s,!0);break;case"textarea":Iw(r),zU(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=aE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=V9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[sl]=e,t[nx]=r,pq(t,e,!1,!1),e.stateNode=t;e:{switch(o=UO(n,r),n){case"dialog":er("cancel",t),er("close",t),i=r;break;case"iframe":case"object":case"embed":er("load",t),i=r;break;case"video":case"audio":for(i=0;i<r0.length;i++)er(r0[i],t);i=r;break;case"source":er("error",t),i=r;break;case"img":case"image":case"link":er("error",t),er("load",t),i=r;break;case"details":er("toggle",t),i=r;break;case"input":FU(t,r),i=kO(t,r),er("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=xr({},r,{value:void 0}),er("invalid",t);break;case"textarea":UU(t,r),i=jO(t,r),er("invalid",t);break;default:i=r}BO(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?X9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&W9(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&X0(t,l):typeof l=="number"&&X0(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(G0.hasOwnProperty(s)?l!=null&&s==="onScroll"&&er("scroll",t):l!=null&&FL(t,s,l,o))}switch(n){case"input":Iw(t),BU(t,r,!1);break;case"textarea":Iw(t),zU(t);break;case"option":r.value!=null&&t.setAttribute("value",""+cd(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Em(t,!!r.multiple,s,!1):r.defaultValue!=null&&Em(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=aE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ri(e),null;case 6:if(t&&e.stateNode!=null)gq(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Qe(166));if(n=Mf(ix.current),Mf(pl.current),$w(e)){if(r=e.stateNode,n=e.memoizedProps,r[sl]=e,(s=r.nodeValue!==n)&&(t=to,t!==null))switch(t.tag){case 3:zw(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zw(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[sl]=e,e.stateNode=r}return Ri(e),null;case 13:if(ir(pr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ar&&Zs!==null&&e.mode&1&&!(e.flags&128))kX(),ig(),e.flags|=98560,s=!1;else if(s=$w(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Qe(317));s[sl]=e}else ig(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ri(e),s=!1}else pa!==null&&(_I(pa),pa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pr.current&1?Zr===0&&(Zr=3):_j())),e.updateQueue!==null&&(e.flags|=4),Ri(e),null);case 4:return og(),fI(t,e),t===null&&ex(e.stateNode.containerInfo),Ri(e),null;case 10:return rj(e.type._context),Ri(e),null;case 17:return Ts(e.type)&&lE(),Ri(e),null;case 19:if(ir(pr),s=e.memoizedState,s===null)return Ri(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)vy(s,!1);else{if(Zr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mE(t),o!==null){for(e.flags|=128,vy(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Yn(pr,pr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Nr()>lg&&(e.flags|=128,r=!0,vy(s,!1),e.lanes=4194304)}else{if(!r)if(t=mE(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),vy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ar)return Ri(e),null}else 2*Nr()-s.renderingStartTime>lg&&n!==1073741824&&(e.flags|=128,r=!0,vy(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Nr(),e.sibling=null,n=pr.current,Yn(pr,r?n&1|2:n&1),e):(Ri(e),null);case 22:case 23:return xj(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Gs&1073741824&&(Ri(e),e.subtreeFlags&6&&(e.flags|=8192)):Ri(e),null;case 24:return null;case 25:return null}throw Error(Qe(156,e.tag))}function bme(t,e){switch(JL(e),e.tag){case 1:return Ts(e.type)&&lE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return og(),ir(As),ir(Hi),lj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return aj(e),null;case 13:if(ir(pr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Qe(340));ig()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ir(pr),null;case 4:return og(),null;case 10:return rj(e.type._context),null;case 22:case 23:return xj(),null;case 24:return null;default:return null}}var Ww=!1,ji=!1,wme=typeof WeakSet=="function"?WeakSet:Set,xt=null;function cm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Er(t,e,r)}else n.current=null}function hI(t,e,n){try{n()}catch(r){Er(t,e,r)}}var Nz=!1;function Sme(t,e){if(YO=iE,t=bX(),ZL(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,u=t,f=null;t:for(;;){for(var g;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(g=u.firstChild)!==null;)f=u,u=g;for(;;){if(u===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(g=u.nextSibling)!==null)break;u=f,f=u.parentNode}u=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ZO={focusedElem:t,selectionRange:n},iE=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,m=v.memoizedState,p=e.stateNode,x=p.getSnapshotBeforeUpdate(e.elementType===e.type?y:sa(e.type,y),m);p.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Qe(163))}}catch(b){Er(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return v=Nz,Nz=!1,v}function w0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&hI(e,n,s)}i=i.next}while(i!==r)}}function iA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pI(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function vq(t){var e=t.alternate;e!==null&&(t.alternate=null,vq(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[sl],delete e[nx],delete e[eI],delete e[sme],delete e[ome])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yq(t){return t.tag===5||t.tag===3||t.tag===4}function Rz(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yq(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mI(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=aE));else if(r!==4&&(t=t.child,t!==null))for(mI(t,e,n),t=t.sibling;t!==null;)mI(t,e,n),t=t.sibling}function gI(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gI(t,e,n),t=t.sibling;t!==null;)gI(t,e,n),t=t.sibling}var yi=null,la=!1;function fu(t,e,n){for(n=n.child;n!==null;)xq(t,e,n),n=n.sibling}function xq(t,e,n){if(hl&&typeof hl.onCommitFiberUnmount=="function")try{hl.onCommitFiberUnmount(YM,n)}catch{}switch(n.tag){case 5:ji||cm(n,e);case 6:var r=yi,i=la;yi=null,fu(t,e,n),yi=r,la=i,yi!==null&&(la?(t=yi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yi.removeChild(n.stateNode));break;case 18:yi!==null&&(la?(t=yi,n=n.stateNode,t.nodeType===8?rN(t.parentNode,n):t.nodeType===1&&rN(t,n),Z0(t)):rN(yi,n.stateNode));break;case 4:r=yi,i=la,yi=n.stateNode.containerInfo,la=!0,fu(t,e,n),yi=r,la=i;break;case 0:case 11:case 14:case 15:if(!ji&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&hI(n,e,o),i=i.next}while(i!==r)}fu(t,e,n);break;case 1:if(!ji&&(cm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Er(n,e,a)}fu(t,e,n);break;case 21:fu(t,e,n);break;case 22:n.mode&1?(ji=(r=ji)||n.memoizedState!==null,fu(t,e,n),ji=r):fu(t,e,n);break;default:fu(t,e,n)}}function Oz(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new wme),e.forEach(function(r){var i=Ome.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jo(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yi=a.stateNode,la=!1;break e;case 3:yi=a.stateNode.containerInfo,la=!0;break e;case 4:yi=a.stateNode.containerInfo,la=!0;break e}a=a.return}if(yi===null)throw Error(Qe(160));xq(s,o,i),yi=null,la=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Er(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_q(e,t),e=e.sibling}function _q(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jo(e,t),Ya(t),r&4){try{w0(3,t,t.return),iA(3,t)}catch(y){Er(t,t.return,y)}try{w0(5,t,t.return)}catch(y){Er(t,t.return,y)}}break;case 1:Jo(e,t),Ya(t),r&512&&n!==null&&cm(n,n.return);break;case 5:if(Jo(e,t),Ya(t),r&512&&n!==null&&cm(n,n.return),t.flags&32){var i=t.stateNode;try{X0(i,"")}catch(y){Er(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&$9(i,s),UO(a,o);var c=UO(a,s);for(o=0;o<l.length;o+=2){var d=l[o],u=l[o+1];d==="style"?X9(i,u):d==="dangerouslySetInnerHTML"?W9(i,u):d==="children"?X0(i,u):FL(i,d,u,c)}switch(a){case"input":DO(i,s);break;case"textarea":H9(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Em(i,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?Em(i,!!s.multiple,s.defaultValue,!0):Em(i,!!s.multiple,s.multiple?[]:"",!1))}i[nx]=s}catch(y){Er(t,t.return,y)}}break;case 6:if(Jo(e,t),Ya(t),r&4){if(t.stateNode===null)throw Error(Qe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Er(t,t.return,y)}}break;case 3:if(Jo(e,t),Ya(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Z0(e.containerInfo)}catch(y){Er(t,t.return,y)}break;case 4:Jo(e,t),Ya(t);break;case 13:Jo(e,t),Ya(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vj=Nr())),r&4&&Oz(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(ji=(c=ji)||d,Jo(e,t),ji=c):Jo(e,t),Ya(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(xt=t,d=t.child;d!==null;){for(u=xt=d;xt!==null;){switch(f=xt,g=f.child,f.tag){case 0:case 11:case 14:case 15:w0(4,f,f.return);break;case 1:cm(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Er(r,n,y)}}break;case 5:cm(f,f.return);break;case 22:if(f.memoizedState!==null){kz(u);continue}}g!==null?(g.return=f,xt=g):kz(u)}d=d.sibling}e:for(d=null,u=t;;){if(u.tag===5){if(d===null){d=u;try{i=u.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=G9("display",o))}catch(y){Er(t,t.return,y)}}}else if(u.tag===6){if(d===null)try{u.stateNode.nodeValue=c?"":u.memoizedProps}catch(y){Er(t,t.return,y)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;d===u&&(d=null),u=u.return}d===u&&(d=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:Jo(e,t),Ya(t),r&4&&Oz(t);break;case 21:break;default:Jo(e,t),Ya(t)}}function Ya(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yq(n)){var r=n;break e}n=n.return}throw Error(Qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(X0(i,""),r.flags&=-33);var s=Rz(t);gI(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Rz(t);mI(t,a,o);break;default:throw Error(Qe(161))}}catch(l){Er(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Eme(t,e,n){xt=t,bq(t)}function bq(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Ww;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ji;a=Ww;var c=ji;if(Ww=o,(ji=l)&&!c)for(xt=i;xt!==null;)o=xt,l=o.child,o.tag===22&&o.memoizedState!==null?Dz(i):l!==null?(l.return=o,xt=l):Dz(i);for(;s!==null;)xt=s,bq(s),s=s.sibling;xt=i,Ww=a,ji=c}Iz(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,xt=s):Iz(t)}}function Iz(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ji||iA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ji)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vz(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vz(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var u=d.dehydrated;u!==null&&Z0(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Qe(163))}ji||e.flags&512&&pI(e)}catch(f){Er(e,e.return,f)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function kz(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function Dz(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{iA(4,e)}catch(l){Er(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Er(e,i,l)}}var s=e.return;try{pI(e)}catch(l){Er(e,s,l)}break;case 5:var o=e.return;try{pI(e)}catch(l){Er(e,o,l)}}}catch(l){Er(e,e.return,l)}if(e===t){xt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,xt=a;break}xt=e.return}}var Cme=Math.ceil,yE=$c.ReactCurrentDispatcher,mj=$c.ReactCurrentOwner,jo=$c.ReactCurrentBatchConfig,_n=0,pi=null,Br=null,_i=0,Gs=0,um=xd(0),Zr=0,lx=null,nh=0,sA=0,gj=0,S0=null,_s=null,vj=0,lg=1/0,ac=null,xE=!1,vI=null,nd=null,Gw=!1,Gu=null,_E=0,E0=0,yI=null,NS=-1,RS=0;function is(){return _n&6?Nr():NS!==-1?NS:NS=Nr()}function rd(t){return t.mode&1?_n&2&&_i!==0?_i&-_i:lme.transition!==null?(RS===0&&(RS=sX()),RS):(t=Bn,t!==0||(t=window.event,t=t===void 0?16:fX(t.type)),t):1}function Ea(t,e,n,r){if(50<E0)throw E0=0,yI=null,Error(Qe(185));I_(t,n,r),(!(_n&2)||t!==pi)&&(t===pi&&(!(_n&2)&&(sA|=n),Zr===4&&Ou(t,_i)),Ps(t,r),n===1&&_n===0&&!(e.mode&1)&&(lg=Nr()+500,tA&&_d()))}function Ps(t,e){var n=t.callbackNode;lpe(t,e);var r=rE(t,t===pi?_i:0);if(r===0)n!==null&&VU(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&VU(n),e===1)t.tag===0?ame(Lz.bind(null,t)):RX(Lz.bind(null,t)),rme(function(){!(_n&6)&&_d()}),n=null;else{switch(oX(r)){case 1:n=HL;break;case 4:n=rX;break;case 16:n=nE;break;case 536870912:n=iX;break;default:n=nE}n=Pq(n,wq.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wq(t,e){if(NS=-1,RS=0,_n&6)throw Error(Qe(327));var n=t.callbackNode;if(Pm()&&t.callbackNode!==n)return null;var r=rE(t,t===pi?_i:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bE(t,r);else{e=r;var i=_n;_n|=2;var s=Eq();(pi!==t||_i!==e)&&(ac=null,lg=Nr()+500,$f(t,e));do try{Tme();break}catch(a){Sq(t,a)}while(!0);nj(),yE.current=s,_n=i,Br!==null?e=0:(pi=null,_i=0,e=Zr)}if(e!==0){if(e===2&&(i=WO(t),i!==0&&(r=i,e=xI(t,i))),e===1)throw n=lx,$f(t,0),Ou(t,r),Ps(t,Nr()),n;if(e===6)Ou(t,r);else{if(i=t.current.alternate,!(r&30)&&!Mme(i)&&(e=bE(t,r),e===2&&(s=WO(t),s!==0&&(r=s,e=xI(t,s))),e===1))throw n=lx,$f(t,0),Ou(t,r),Ps(t,Nr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Qe(345));case 2:ff(t,_s,ac);break;case 3:if(Ou(t,r),(r&130023424)===r&&(e=vj+500-Nr(),10<e)){if(rE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){is(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=JO(ff.bind(null,t,_s,ac),e);break}ff(t,_s,ac);break;case 4:if(Ou(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Sa(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Nr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cme(r/1960))-r,10<r){t.timeoutHandle=JO(ff.bind(null,t,_s,ac),r);break}ff(t,_s,ac);break;case 5:ff(t,_s,ac);break;default:throw Error(Qe(329))}}}return Ps(t,Nr()),t.callbackNode===n?wq.bind(null,t):null}function xI(t,e){var n=S0;return t.current.memoizedState.isDehydrated&&($f(t,e).flags|=256),t=bE(t,e),t!==2&&(e=_s,_s=n,e!==null&&_I(e)),t}function _I(t){_s===null?_s=t:_s.push.apply(_s,t)}function Mme(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Na(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ou(t,e){for(e&=~gj,e&=~sA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Sa(e),r=1<<n;t[n]=-1,e&=~r}}function Lz(t){if(_n&6)throw Error(Qe(327));Pm();var e=rE(t,0);if(!(e&1))return Ps(t,Nr()),null;var n=bE(t,e);if(t.tag!==0&&n===2){var r=WO(t);r!==0&&(e=r,n=xI(t,r))}if(n===1)throw n=lx,$f(t,0),Ou(t,e),Ps(t,Nr()),n;if(n===6)throw Error(Qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ff(t,_s,ac),Ps(t,Nr()),null}function yj(t,e){var n=_n;_n|=1;try{return t(e)}finally{_n=n,_n===0&&(lg=Nr()+500,tA&&_d())}}function rh(t){Gu!==null&&Gu.tag===0&&!(_n&6)&&Pm();var e=_n;_n|=1;var n=jo.transition,r=Bn;try{if(jo.transition=null,Bn=1,t)return t()}finally{Bn=r,jo.transition=n,_n=e,!(_n&6)&&_d()}}function xj(){Gs=um.current,ir(um)}function $f(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,nme(n)),Br!==null)for(n=Br.return;n!==null;){var r=n;switch(JL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lE();break;case 3:og(),ir(As),ir(Hi),lj();break;case 5:aj(r);break;case 4:og();break;case 13:ir(pr);break;case 19:ir(pr);break;case 10:rj(r.type._context);break;case 22:case 23:xj()}n=n.return}if(pi=t,Br=t=id(t.current,null),_i=Gs=e,Zr=0,lx=null,gj=sA=nh=0,_s=S0=null,Cf!==null){for(e=0;e<Cf.length;e++)if(n=Cf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Cf=null}return t}function Sq(t,e){do{var n=Br;try{if(nj(),AS.current=vE,gE){for(var r=yr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gE=!1}if(th=0,ci=Xr=yr=null,b0=!1,sx=0,mj.current=null,n===null||n.return===null){Zr=1,lx=e,Br=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=_i,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,u=d.tag;if(!(d.mode&1)&&(u===0||u===11||u===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Sz(o);if(g!==null){g.flags&=-257,Ez(g,o,a,s,e),g.mode&1&&wz(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){wz(s,c,e),_j();break e}l=Error(Qe(426))}}else if(ar&&a.mode&1){var m=Sz(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Ez(m,o,a,s,e),ej(ag(l,a));break e}}s=l=ag(l,a),Zr!==4&&(Zr=2),S0===null?S0=[s]:S0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=oq(s,l,e);gz(s,p);break e;case 1:a=l;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(nd===null||!nd.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=aq(s,a,e);gz(s,b);break e}}s=s.return}while(s!==null)}Mq(n)}catch(S){e=S,Br===n&&n!==null&&(Br=n=n.return);continue}break}while(!0)}function Eq(){var t=yE.current;return yE.current=vE,t===null?vE:t}function _j(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),pi===null||!(nh&268435455)&&!(sA&268435455)||Ou(pi,_i)}function bE(t,e){var n=_n;_n|=2;var r=Eq();(pi!==t||_i!==e)&&(ac=null,$f(t,e));do try{Ame();break}catch(i){Sq(t,i)}while(!0);if(nj(),_n=n,yE.current=r,Br!==null)throw Error(Qe(261));return pi=null,_i=0,Zr}function Ame(){for(;Br!==null;)Cq(Br)}function Tme(){for(;Br!==null&&!Jhe();)Cq(Br)}function Cq(t){var e=Tq(t.alternate,t,Gs);t.memoizedProps=t.pendingProps,e===null?Mq(t):Br=e,mj.current=null}function Mq(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=bme(n,e),n!==null){n.flags&=32767,Br=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zr=6,Br=null;return}}else if(n=_me(n,e,Gs),n!==null){Br=n;return}if(e=e.sibling,e!==null){Br=e;return}Br=e=t}while(e!==null);Zr===0&&(Zr=5)}function ff(t,e,n){var r=Bn,i=jo.transition;try{jo.transition=null,Bn=1,Pme(t,e,n,r)}finally{jo.transition=i,Bn=r}return null}function Pme(t,e,n,r){do Pm();while(Gu!==null);if(_n&6)throw Error(Qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Qe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(cpe(t,s),t===pi&&(Br=pi=null,_i=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gw||(Gw=!0,Pq(nE,function(){return Pm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jo.transition,jo.transition=null;var o=Bn;Bn=1;var a=_n;_n|=4,mj.current=null,Sme(t,n),_q(n,t),Kpe(ZO),iE=!!YO,ZO=YO=null,t.current=n,Eme(n),epe(),_n=a,Bn=o,jo.transition=s}else t.current=n;if(Gw&&(Gw=!1,Gu=t,_E=i),s=t.pendingLanes,s===0&&(nd=null),rpe(n.stateNode),Ps(t,Nr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(xE)throw xE=!1,t=vI,vI=null,t;return _E&1&&t.tag!==0&&Pm(),s=t.pendingLanes,s&1?t===yI?E0++:(E0=0,yI=t):E0=0,_d(),null}function Pm(){if(Gu!==null){var t=oX(_E),e=jo.transition,n=Bn;try{if(jo.transition=null,Bn=16>t?16:t,Gu===null)var r=!1;else{if(t=Gu,Gu=null,_E=0,_n&6)throw Error(Qe(331));var i=_n;for(_n|=4,xt=t.current;xt!==null;){var s=xt,o=s.child;if(xt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(xt=c;xt!==null;){var d=xt;switch(d.tag){case 0:case 11:case 15:w0(8,d,s)}var u=d.child;if(u!==null)u.return=d,xt=u;else for(;xt!==null;){d=xt;var f=d.sibling,g=d.return;if(vq(d),d===c){xt=null;break}if(f!==null){f.return=g,xt=f;break}xt=g}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(y!==null)}}xt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,xt=o;else e:for(;xt!==null;){if(s=xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:w0(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,xt=p;break e}xt=s.return}}var x=t.current;for(xt=x;xt!==null;){o=xt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,xt=_;else e:for(o=x;xt!==null;){if(a=xt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:iA(9,a)}}catch(S){Er(a,a.return,S)}if(a===o){xt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,xt=b;break e}xt=a.return}}if(_n=i,_d(),hl&&typeof hl.onPostCommitFiberRoot=="function")try{hl.onPostCommitFiberRoot(YM,t)}catch{}r=!0}return r}finally{Bn=n,jo.transition=e}}return!1}function jz(t,e,n){e=ag(n,e),e=oq(t,e,1),t=td(t,e,1),e=is(),t!==null&&(I_(t,1,e),Ps(t,e))}function Er(t,e,n){if(t.tag===3)jz(t,t,n);else for(;e!==null;){if(e.tag===3){jz(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(nd===null||!nd.has(r))){t=ag(n,t),t=aq(e,t,1),e=td(e,t,1),t=is(),e!==null&&(I_(e,1,t),Ps(e,t));break}}e=e.return}}function Nme(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=is(),t.pingedLanes|=t.suspendedLanes&n,pi===t&&(_i&n)===n&&(Zr===4||Zr===3&&(_i&130023424)===_i&&500>Nr()-vj?$f(t,0):gj|=n),Ps(t,e)}function Aq(t,e){e===0&&(t.mode&1?(e=Lw,Lw<<=1,!(Lw&130023424)&&(Lw=4194304)):e=1);var n=is();t=Nc(t,e),t!==null&&(I_(t,e,n),Ps(t,n))}function Rme(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Aq(t,n)}function Ome(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Qe(314))}r!==null&&r.delete(e),Aq(t,n)}var Tq;Tq=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||As.current)Ss=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ss=!1,xme(t,e,n);Ss=!!(t.flags&131072)}else Ss=!1,ar&&e.flags&1048576&&OX(e,dE,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;PS(t,e),t=e.pendingProps;var i=rg(e,Hi.current);Tm(e,n),i=uj(null,e,r,t,i,n);var s=dj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ts(r)?(s=!0,cE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sj(e),i.updater=rA,e.stateNode=i,i._reactInternals=e,oI(e,r,t,n),e=cI(null,e,r,!0,s,n)):(e.tag=0,ar&&s&&QL(e),Qi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(PS(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=kme(r),t=sa(r,t),i){case 0:e=lI(null,e,r,t,n);break e;case 1:e=Az(null,e,r,t,n);break e;case 11:e=Cz(null,e,r,t,n);break e;case 14:e=Mz(null,e,r,sa(r.type,t),n);break e}throw Error(Qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sa(r,i),lI(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sa(r,i),Az(t,e,r,i,n);case 3:e:{if(dq(e),t===null)throw Error(Qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,FX(t,e),pE(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ag(Error(Qe(423)),e),e=Tz(t,e,r,n,i);break e}else if(r!==i){i=ag(Error(Qe(424)),e),e=Tz(t,e,r,n,i);break e}else for(Zs=ed(e.stateNode.containerInfo.firstChild),to=e,ar=!0,pa=null,n=LX(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ig(),r===i){e=Rc(t,e,n);break e}Qi(t,e,r,n)}e=e.child}return e;case 5:return BX(e),t===null&&rI(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,QO(r,i)?o=null:s!==null&&QO(r,s)&&(e.flags|=32),uq(t,e),Qi(t,e,o,n),e.child;case 6:return t===null&&rI(e),null;case 13:return fq(t,e,n);case 4:return oj(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sg(e,null,r,n):Qi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sa(r,i),Cz(t,e,r,i,n);case 7:return Qi(t,e,e.pendingProps,n),e.child;case 8:return Qi(t,e,e.pendingProps.children,n),e.child;case 12:return Qi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Yn(fE,r._currentValue),r._currentValue=o,s!==null)if(Na(s.value,o)){if(s.children===i.children&&!As.current){e=Rc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=_c(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),iI(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Qe(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),iI(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Qi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Tm(e,n),i=Bo(i),r=r(i),e.flags|=1,Qi(t,e,r,n),e.child;case 14:return r=e.type,i=sa(r,e.pendingProps),i=sa(r.type,i),Mz(t,e,r,i,n);case 15:return lq(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sa(r,i),PS(t,e),e.tag=1,Ts(r)?(t=!0,cE(e)):t=!1,Tm(e,n),sq(e,r,i),oI(e,r,i,n),cI(null,e,r,!0,t,n);case 19:return hq(t,e,n);case 22:return cq(t,e,n)}throw Error(Qe(156,e.tag))};function Pq(t,e){return nX(t,e)}function Ime(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Io(t,e,n,r){return new Ime(t,e,n,r)}function bj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function kme(t){if(typeof t=="function")return bj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===UL)return 11;if(t===zL)return 14}return 2}function id(t,e){var n=t.alternate;return n===null?(n=Io(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function OS(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bj(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case em:return Hf(n.children,i,s,e);case BL:o=8,i|=8;break;case NO:return t=Io(12,n,e,i|2),t.elementType=NO,t.lanes=s,t;case RO:return t=Io(13,n,e,i),t.elementType=RO,t.lanes=s,t;case OO:return t=Io(19,n,e,i),t.elementType=OO,t.lanes=s,t;case B9:return oA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j9:o=10;break e;case F9:o=9;break e;case UL:o=11;break e;case zL:o=14;break e;case Tu:o=16,r=null;break e}throw Error(Qe(130,t==null?t:typeof t,""))}return e=Io(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Hf(t,e,n,r){return t=Io(7,t,r,e),t.lanes=n,t}function oA(t,e,n,r){return t=Io(22,t,r,e),t.elementType=B9,t.lanes=n,t.stateNode={isHidden:!1},t}function dN(t,e,n){return t=Io(6,t,null,e),t.lanes=n,t}function fN(t,e,n){return e=Io(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Dme(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=G2(0),this.expirationTimes=G2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=G2(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function wj(t,e,n,r,i,s,o,a,l){return t=new Dme(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Io(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sj(s),t}function Lme(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Jp,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Nq(t){if(!t)return ud;t=t._reactInternals;e:{if(Ph(t)!==t||t.tag!==1)throw Error(Qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ts(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Qe(171))}if(t.tag===1){var n=t.type;if(Ts(n))return NX(t,n,e)}return e}function Rq(t,e,n,r,i,s,o,a,l){return t=wj(n,r,!0,t,i,s,o,a,l),t.context=Nq(null),n=t.current,r=is(),i=rd(n),s=_c(r,i),s.callback=e??null,td(n,s,i),t.current.lanes=i,I_(t,i,r),Ps(t,r),t}function aA(t,e,n,r){var i=e.current,s=is(),o=rd(i);return n=Nq(n),e.context===null?e.context=n:e.pendingContext=n,e=_c(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=td(i,e,o),t!==null&&(Ea(t,i,o,s),MS(t,i,o)),o}function wE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Fz(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Sj(t,e){Fz(t,e),(t=t.alternate)&&Fz(t,e)}function jme(){return null}var Oq=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ej(t){this._internalRoot=t}lA.prototype.render=Ej.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Qe(409));aA(t,e,null,null)};lA.prototype.unmount=Ej.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rh(function(){aA(null,t,null,null)}),e[Pc]=null}};function lA(t){this._internalRoot=t}lA.prototype.unstable_scheduleHydration=function(t){if(t){var e=cX();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ru.length&&e!==0&&e<Ru[n].priority;n++);Ru.splice(n,0,t),n===0&&dX(t)}};function Cj(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Bz(){}function Fme(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=wE(o);s.call(c)}}var o=Rq(e,r,t,0,null,!1,!1,"",Bz);return t._reactRootContainer=o,t[Pc]=o.current,ex(t.nodeType===8?t.parentNode:t),rh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=wE(l);a.call(c)}}var l=wj(t,0,!1,null,null,!1,!1,"",Bz);return t._reactRootContainer=l,t[Pc]=l.current,ex(t.nodeType===8?t.parentNode:t),rh(function(){aA(e,l,n,r)}),l}function uA(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=wE(o);a.call(l)}}aA(e,o,t,i)}else o=Fme(n,e,t,i,r);return wE(o)}aX=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=n0(e.pendingLanes);n!==0&&(VL(e,n|1),Ps(e,Nr()),!(_n&6)&&(lg=Nr()+500,_d()))}break;case 13:rh(function(){var r=Nc(t,1);if(r!==null){var i=is();Ea(r,t,1,i)}}),Sj(t,1)}};WL=function(t){if(t.tag===13){var e=Nc(t,134217728);if(e!==null){var n=is();Ea(e,t,134217728,n)}Sj(t,134217728)}};lX=function(t){if(t.tag===13){var e=rd(t),n=Nc(t,e);if(n!==null){var r=is();Ea(n,t,e,r)}Sj(t,e)}};cX=function(){return Bn};uX=function(t,e){var n=Bn;try{return Bn=t,e()}finally{Bn=n}};$O=function(t,e,n){switch(e){case"input":if(DO(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=eA(r);if(!i)throw Error(Qe(90));z9(r),DO(r,i)}}}break;case"textarea":H9(t,n);break;case"select":e=n.value,e!=null&&Em(t,!!n.multiple,e,!1)}};Y9=yj;Z9=rh;var Bme={usingClientEntryPoint:!1,Events:[D_,im,eA,q9,K9,yj]},yy={findFiberByHostInstance:Ef,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ume={bundleType:yy.bundleType,version:yy.version,rendererPackageName:yy.rendererPackageName,rendererConfig:yy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$c.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eX(t),t===null?null:t.stateNode},findFiberByHostInstance:yy.findFiberByHostInstance||jme,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xw.isDisabled&&Xw.supportsFiber)try{YM=Xw.inject(Ume),hl=Xw}catch{}}uo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bme;uo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cj(e))throw Error(Qe(200));return Lme(t,e,null,n)};uo.createRoot=function(t,e){if(!Cj(t))throw Error(Qe(299));var n=!1,r="",i=Oq;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=wj(t,1,!1,null,null,n,!1,r,i),t[Pc]=e.current,ex(t.nodeType===8?t.parentNode:t),new Ej(e)};uo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Qe(188)):(t=Object.keys(t).join(","),Error(Qe(268,t)));return t=eX(e),t=t===null?null:t.stateNode,t};uo.flushSync=function(t){return rh(t)};uo.hydrate=function(t,e,n){if(!cA(e))throw Error(Qe(200));return uA(null,t,e,!0,n)};uo.hydrateRoot=function(t,e,n){if(!Cj(t))throw Error(Qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Oq;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Rq(e,null,t,1,n??null,i,!1,s,o),t[Pc]=e.current,ex(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new lA(e)};uo.render=function(t,e,n){if(!cA(e))throw Error(Qe(200));return uA(null,t,e,!1,n)};uo.unmountComponentAtNode=function(t){if(!cA(t))throw Error(Qe(40));return t._reactRootContainer?(rh(function(){uA(null,null,t,!1,function(){t._reactRootContainer=null,t[Pc]=null})}),!0):!1};uo.unstable_batchedUpdates=yj;uo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cA(n))throw Error(Qe(200));if(t==null||t._reactInternals===void 0)throw Error(Qe(38));return uA(t,e,n,!1,r)};uo.version="18.3.1-next-f1338f8080-20240426";function Iq(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Iq)}catch(t){console.error(t)}}Iq(),I9.exports=uo;var Nh=I9.exports;const kq=Pn(Nh);var Mj,Uz=Nh;Mj=Uz.createRoot,Uz.hydrateRoot;function zme(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var Dq={exports:{}},Lq={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cg=P;function $me(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Hme=typeof Object.is=="function"?Object.is:$me,Vme=cg.useState,Wme=cg.useEffect,Gme=cg.useLayoutEffect,Xme=cg.useDebugValue;function qme(t,e){var n=e(),r=Vme({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Gme(function(){i.value=n,i.getSnapshot=e,hN(i)&&s({inst:i})},[t,n,e]),Wme(function(){return hN(i)&&s({inst:i}),t(function(){hN(i)&&s({inst:i})})},[t]),Xme(n),n}function hN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Hme(t,n)}catch{return!0}}function Kme(t,e){return e()}var Yme=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Kme:qme;Lq.useSyncExternalStore=cg.useSyncExternalStore!==void 0?cg.useSyncExternalStore:Yme;Dq.exports=Lq;var jq=Dq.exports;const Zme=KM.useInsertionEffect,Qme=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jme=Qme?P.useLayoutEffect:P.useEffect,ege=Zme||Jme,Fq=t=>{const e=P.useRef([t,(...n)=>e[0](...n)]).current;return ege(()=>{e[0]=t}),e[1]},tge="popstate",Aj="pushState",Tj="replaceState",nge="hashchange",zz=[tge,Aj,Tj,nge],rge=t=>{for(const e of zz)addEventListener(e,t);return()=>{for(const e of zz)removeEventListener(e,t)}},Bq=(t,e)=>jq.useSyncExternalStore(rge,t,e),ige=()=>location.search,sge=({ssrSearch:t=""}={})=>Bq(ige,()=>t),$z=()=>location.pathname,oge=({ssrPath:t}={})=>Bq($z,t?()=>t:$z),age=(t,{replace:e=!1,state:n=null}={})=>history[e?Tj:Aj](n,"",t),lge=(t={})=>[oge(t),age],Hz=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Hz]>"u"){for(const t of[Aj,Tj]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Hz,{value:!0})}const cge=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Uq=(t="")=>t==="/"?"":t,uge=(t,e)=>t[0]==="~"?t.slice(1):Uq(e)+t,dge=(t="",e)=>cge(bI(Uq(t)),bI(e)),fge=t=>t[0]==="?"?t.slice(1):t,bI=t=>{try{return decodeURI(t)}catch{return t}},hge=t=>bI(fge(t)),zq={hook:lge,searchHook:sge,parser:zme,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},$q=P.createContext(zq),uv=()=>P.useContext($q),Hq={},Vq=P.createContext(Hq),pge=()=>P.useContext(Vq),dA=t=>{const[e,n]=t.hook(t);return[dge(t.base,e),Fq((r,i)=>n(uge(r,t.base),i))]},as=()=>dA(uv()),fA=()=>{const t=uv();return hge(t.searchHook(t))},Wq=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((u,f)=>[u,l[f]])):o.groups;let d={...l};return c&&Object.assign(d,c),d})(),...r?[a]:[]]:[!1,null]},mge=({children:t,...e})=>{var d,u;const n=uv(),r=e.hook?zq:n;let i=r;const[s,o]=((d=e.ssrPath)==null?void 0:d.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((u=e.hook)==null?void 0:u.hrefs);let a=P.useRef({}),l=a.current,c=l;for(let f in r){const g=f==="base"?r[f]+(e[f]||""):e[f]||r[f];l===c&&g!==c[f]&&(a.current=c={...c}),c[f]=g,g!==r[f]&&(i=c)}return P.createElement($q.Provider,{value:i,children:t})},Vz=({children:t,component:e},n)=>e?P.createElement(e,{params:n}):typeof t=="function"?t(n):t,gge=t=>{let e=P.useRef(Hq),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},hs=({path:t,nest:e,match:n,...r})=>{const i=uv(),[s]=dA(i),[o,a,l]=n??Wq(i.parser,t,s,e),c=gge({...pge(),...a});if(!o)return null;const d=l?P.createElement(mge,{base:l},Vz(r,c)):Vz(r,c);return P.createElement(Vq.Provider,{value:c,children:d})},ca=P.forwardRef((t,e)=>{const n=uv(),[r,i]=dA(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:d,replace:u,state:f,...g}=t,v=Fq(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(a==null||a(m),m.defaultPrevented||(m.preventDefault(),i(o,t)))}),y=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&P.isValidElement(c)?P.cloneElement(c,{onClick:v,href:y}):P.createElement("a",{...g,onClick:v,href:y,className:d!=null&&d.call?d(r===o):d,children:c,ref:e})}),Gq=t=>Array.isArray(t)?t.flatMap(e=>Gq(e&&e.type===P.Fragment?e.props.children:e)):[t],vge=({children:t,location:e})=>{const n=uv(),[r]=dA(n);for(const i of Gq(t)){let s=0;if(P.isValidElement(i)&&(s=Wq(n.parser,i.props.path,e||r,i.props.nest))[0])return P.cloneElement(i,{match:s})}return null};var dv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ih=typeof window>"u"||"Deno"in globalThis;function Po(){}function yge(t,e){return typeof t=="function"?t(e):t}function wI(t){return typeof t=="number"&&t>=0&&t!==1/0}function Xq(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Nm(t,e){return typeof t=="function"?t(e):t}function ma(t,e){return typeof t=="function"?t(e):t}function Wz(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Pj(o,e.options))return!1}else if(!cx(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Gz(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(sh(e.options.mutationKey)!==sh(s))return!1}else if(!cx(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function Pj(t,e){return((e==null?void 0:e.queryKeyHashFn)||sh)(t)}function sh(t){return JSON.stringify(t,(e,n)=>SI(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function cx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!cx(t[n],e[n])):!1}function qq(t,e){if(t===e)return t;const n=Xz(t)&&Xz(e);if(n||SI(t)&&SI(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const d=n?c:s[c];(!n&&r.includes(d)||n)&&t[d]===void 0&&e[d]===void 0?(a[d]=void 0,l++):(a[d]=qq(t[d],e[d]),a[d]===t[d]&&t[d]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function SE(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function Xz(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function SI(t){if(!qz(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!qz(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function qz(t){return Object.prototype.toString.call(t)==="[object Object]"}function xge(t){return new Promise(e=>{setTimeout(e,t)})}function EI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?qq(t,e):e}function _ge(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function bge(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Nj=Symbol();function Kq(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Nj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Df,Lu,Hm,f9,wge=(f9=class extends dv{constructor(){super();Ft(this,Df);Ft(this,Lu);Ft(this,Hm);vt(this,Hm,e=>{if(!ih&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,Lu)||this.setEventListener(ge(this,Hm))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,Lu))==null||e.call(this),vt(this,Lu,void 0))}setEventListener(e){var n;vt(this,Hm,e),(n=ge(this,Lu))==null||n.call(this),vt(this,Lu,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ge(this,Df)!==e&&(vt(this,Df,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ge(this,Df)=="boolean"?ge(this,Df):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Df=new WeakMap,Lu=new WeakMap,Hm=new WeakMap,f9),Rj=new wge,Vm,ju,Wm,h9,Sge=(h9=class extends dv{constructor(){super();Ft(this,Vm,!0);Ft(this,ju);Ft(this,Wm);vt(this,Wm,e=>{if(!ih&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ge(this,ju)||this.setEventListener(ge(this,Wm))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,ju))==null||e.call(this),vt(this,ju,void 0))}setEventListener(e){var n;vt(this,Wm,e),(n=ge(this,ju))==null||n.call(this),vt(this,ju,e(this.setOnline.bind(this)))}setOnline(e){ge(this,Vm)!==e&&(vt(this,Vm,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ge(this,Vm)}},Vm=new WeakMap,ju=new WeakMap,Wm=new WeakMap,h9),EE=new Sge;function CI(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function Ege(t){return Math.min(1e3*2**t,3e4)}function Yq(t){return(t??"online")==="online"?EE.isOnline():!0}var Zq=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function pN(t){return t instanceof Zq}function Qq(t){let e=!1,n=0,r=!1,i;const s=CI(),o=y=>{var m;r||(f(new Zq(y)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Rj.isFocused()&&(t.networkMode==="always"||EE.isOnline())&&t.canRun(),d=()=>Yq(t.networkMode)&&t.canRun(),u=y=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,y),i==null||i(),s.resolve(y))},f=y=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,y),i==null||i(),s.reject(y))},g=()=>new Promise(y=>{var m;i=p=>{(r||c())&&y(p)},(m=t.onPause)==null||m.call(t)}).then(()=>{var y;i=void 0,r||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(r)return;let y;const m=n===0?t.initialPromise:void 0;try{y=m??t.fn()}catch(p){y=Promise.reject(p)}Promise.resolve(y).then(u).catch(p=>{var C;if(r)return;const x=t.retry??(ih?0:3),_=t.retryDelay??Ege,b=typeof _=="function"?_(n,p):_,S=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,p);if(e||!S){f(p);return}n++,(C=t.onFail)==null||C.call(t,n,p),xge(b).then(()=>c()?void 0:g()).then(()=>{e?f(p):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():g().then(v),s)}}function Cge(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var qr=Cge(),Lf,p9,Jq=(p9=class{constructor(){Ft(this,Lf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),wI(this.gcTime)&&vt(this,Lf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(ih?1/0:5*60*1e3))}clearGcTimeout(){ge(this,Lf)&&(clearTimeout(ge(this,Lf)),vt(this,Lf,void 0))}},Lf=new WeakMap,p9),Gm,Xm,To,Di,T_,jf,aa,sc,m9,Mge=(m9=class extends Jq{constructor(e){super();Ft(this,aa);Ft(this,Gm);Ft(this,Xm);Ft(this,To);Ft(this,Di);Ft(this,T_);Ft(this,jf);vt(this,jf,!1),vt(this,T_,e.defaultOptions),this.setOptions(e.options),this.observers=[],vt(this,To,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,vt(this,Gm,Age(this.options)),this.state=e.state??ge(this,Gm),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ge(this,Di))==null?void 0:e.promise}setOptions(e){this.options={...ge(this,T_),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,To).remove(this)}setData(e,n){const r=EI(this.state.data,e,this.options);return on(this,aa,sc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){on(this,aa,sc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ge(this,Di))==null?void 0:r.promise;return(i=ge(this,Di))==null||i.cancel(e),n?n.then(Po).catch(Po):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,Gm))}isActive(){return this.observers.some(e=>ma(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Nj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Xq(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,Di))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,Di))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ge(this,To).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ge(this,Di)&&(ge(this,jf)?ge(this,Di).cancel({revert:!0}):ge(this,Di).cancelRetry()),this.scheduleGc()),ge(this,To).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||on(this,aa,sc).call(this,{type:"invalidate"})}fetch(e,n){var l,c,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,Di))return ge(this,Di).continueRetry(),ge(this,Di).promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(f=>f.options.queryFn);u&&this.setOptions(u.options)}const r=new AbortController,i=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(vt(this,jf,!0),r.signal)})},s=()=>{const u=Kq(this.options,n),f={queryKey:this.queryKey,meta:this.meta};return i(f),vt(this,jf,!1),this.options.persister?this.options.persister(u,f,this):u(f)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),vt(this,Xm,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&on(this,aa,sc).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const a=u=>{var f,g,v,y;pN(u)&&u.silent||on(this,aa,sc).call(this,{type:"error",error:u}),pN(u)||((g=(f=ge(this,To).config).onError)==null||g.call(f,u,this),(y=(v=ge(this,To).config).onSettled)==null||y.call(v,this.state.data,u,this)),this.scheduleGc()};return vt(this,Di,Qq({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:u=>{var f,g,v,y;if(u===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(u)}catch(m){a(m);return}(g=(f=ge(this,To).config).onSuccess)==null||g.call(f,u,this),(y=(v=ge(this,To).config).onSettled)==null||y.call(v,u,this.state.error,this),this.scheduleGc()},onError:a,onFail:(u,f)=>{on(this,aa,sc).call(this,{type:"failed",failureCount:u,error:f})},onPause:()=>{on(this,aa,sc).call(this,{type:"pause"})},onContinue:()=>{on(this,aa,sc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ge(this,Di).start()}},Gm=new WeakMap,Xm=new WeakMap,To=new WeakMap,Di=new WeakMap,T_=new WeakMap,jf=new WeakMap,aa=new WeakSet,sc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...eK(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return pN(i)&&i.revert&&ge(this,Xm)?{...ge(this,Xm),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),qr.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ge(this,To).notify({query:this,type:"updated",action:e})})},m9);function eK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Yq(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Age(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var el,g9,Tge=(g9=class extends dv{constructor(e={}){super();Ft(this,el);this.config=e,vt(this,el,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??Pj(i,n);let o=this.get(s);return o||(o=new Mge({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ge(this,el).has(e.queryHash)||(ge(this,el).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ge(this,el).get(e.queryHash);n&&(e.destroy(),n===e&&ge(this,el).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ge(this,el).get(e)}getAll(){return[...ge(this,el).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Wz(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Wz(e,r)):n}notify(e){qr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){qr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){qr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},el=new WeakMap,g9),tl,Yi,Ff,nl,Cu,v9,Pge=(v9=class extends Jq{constructor(e){super();Ft(this,nl);Ft(this,tl);Ft(this,Yi);Ft(this,Ff);this.mutationId=e.mutationId,vt(this,Yi,e.mutationCache),vt(this,tl,[]),this.state=e.state||tK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ge(this,tl).includes(e)||(ge(this,tl).push(e),this.clearGcTimeout(),ge(this,Yi).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){vt(this,tl,ge(this,tl).filter(n=>n!==e)),this.scheduleGc(),ge(this,Yi).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ge(this,tl).length||(this.state.status==="pending"?this.scheduleGc():ge(this,Yi).remove(this))}continue(){var e;return((e=ge(this,Ff))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,d,u,f,g,v,y,m,p,x,_,b,S,C,A;vt(this,Ff,Qq({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(M,T)=>{on(this,nl,Cu).call(this,{type:"failed",failureCount:M,error:T})},onPause:()=>{on(this,nl,Cu).call(this,{type:"pause"})},onContinue:()=>{on(this,nl,Cu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,Yi).canRun(this)}));const n=this.state.status==="pending",r=!ge(this,Ff).canStart();try{if(!n){on(this,nl,Cu).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ge(this,Yi).config).onMutate)==null?void 0:s.call(i,e,this));const T=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));T!==this.state.context&&on(this,nl,Cu).call(this,{type:"pending",context:T,variables:e,isPaused:r})}const M=await ge(this,Ff).start();return await((c=(l=ge(this,Yi).config).onSuccess)==null?void 0:c.call(l,M,e,this.state.context,this)),await((u=(d=this.options).onSuccess)==null?void 0:u.call(d,M,e,this.state.context)),await((g=(f=ge(this,Yi).config).onSettled)==null?void 0:g.call(f,M,null,this.state.variables,this.state.context,this)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,M,null,e,this.state.context)),on(this,nl,Cu).call(this,{type:"success",data:M}),M}catch(M){try{throw await((p=(m=ge(this,Yi).config).onError)==null?void 0:p.call(m,M,e,this.state.context,this)),await((_=(x=this.options).onError)==null?void 0:_.call(x,M,e,this.state.context)),await((S=(b=ge(this,Yi).config).onSettled)==null?void 0:S.call(b,void 0,M,this.state.variables,this.state.context,this)),await((A=(C=this.options).onSettled)==null?void 0:A.call(C,void 0,M,e,this.state.context)),M}finally{on(this,nl,Cu).call(this,{type:"error",error:M})}}finally{ge(this,Yi).runNext(this)}}},tl=new WeakMap,Yi=new WeakMap,Ff=new WeakMap,nl=new WeakSet,Cu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),qr.batch(()=>{ge(this,tl).forEach(r=>{r.onMutationUpdate(e)}),ge(this,Yi).notify({mutation:this,type:"updated",action:e})})},v9);function tK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ws,P_,y9,Nge=(y9=class extends dv{constructor(e={}){super();Ft(this,Ws);Ft(this,P_);this.config=e,vt(this,Ws,new Map),vt(this,P_,Date.now())}build(e,n,r){const i=new Pge({mutationCache:this,mutationId:++Pw(this,P_)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=qw(e),r=ge(this,Ws).get(n)??[];r.push(e),ge(this,Ws).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=qw(e);if(ge(this,Ws).has(n)){const i=(r=ge(this,Ws).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ge(this,Ws).delete(n):ge(this,Ws).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ge(this,Ws).get(qw(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ge(this,Ws).get(qw(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){qr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ge(this,Ws).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Gz(n,r))}findAll(e={}){return this.getAll().filter(n=>Gz(e,n))}notify(e){qr.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return qr.batch(()=>Promise.all(e.map(n=>n.continue().catch(Po))))}},Ws=new WeakMap,P_=new WeakMap,y9);function qw(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Kz(t){return{onFetch:(e,n)=>{var d,u,f,g,v;const r=e.options,i=(f=(u=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:u.fetchMore)==null?void 0:f.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const m=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},p=Kq(e.options,e.fetchOptions),x=async(_,b,S)=>{if(y)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const C={queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};m(C);const A=await p(C),{maxPages:M}=e.options,T=S?bge:_ge;return{pages:T(_.pages,A,M),pageParams:T(_.pageParams,b,M)}};if(i&&s.length){const _=i==="backward",b=_?Rge:Yz,S={pages:s,pageParams:o},C=b(r,S);a=await x(S,C,_)}else{const _=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:Yz(r,a);if(l>0&&b==null)break;a=await x(a,b),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var y,m;return(m=(y=e.options).persister)==null?void 0:m.call(y,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Yz(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function Rge(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Sr,Fu,Bu,qm,Km,Uu,Ym,Zm,x9,nK=(x9=class{constructor(t={}){Ft(this,Sr);Ft(this,Fu);Ft(this,Bu);Ft(this,qm);Ft(this,Km);Ft(this,Uu);Ft(this,Ym);Ft(this,Zm);vt(this,Sr,t.queryCache||new Tge),vt(this,Fu,t.mutationCache||new Nge),vt(this,Bu,t.defaultOptions||{}),vt(this,qm,new Map),vt(this,Km,new Map),vt(this,Uu,0)}mount(){Pw(this,Uu)._++,ge(this,Uu)===1&&(vt(this,Ym,Rj.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Sr).onFocus())})),vt(this,Zm,EE.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Sr).onOnline())})))}unmount(){var t,e;Pw(this,Uu)._--,ge(this,Uu)===0&&((t=ge(this,Ym))==null||t.call(this),vt(this,Ym,void 0),(e=ge(this,Zm))==null||e.call(this),vt(this,Zm,void 0))}isFetching(t){return ge(this,Sr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ge(this,Fu).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,Sr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ge(this,Sr).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Nm(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ge(this,Sr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ge(this,Sr).get(r.queryHash),s=i==null?void 0:i.state.data,o=yge(e,s);if(o!==void 0)return ge(this,Sr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return qr.batch(()=>ge(this,Sr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,Sr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ge(this,Sr);qr.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ge(this,Sr),r={type:"active",...t};return qr.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=qr.batch(()=>ge(this,Sr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Po).catch(Po)}invalidateQueries(t={},e={}){return qr.batch(()=>{if(ge(this,Sr).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=qr.batch(()=>ge(this,Sr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Po)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Po)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ge(this,Sr).build(this,e);return n.isStaleByTime(Nm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Po).catch(Po)}fetchInfiniteQuery(t){return t.behavior=Kz(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Po).catch(Po)}ensureInfiniteQueryData(t){return t.behavior=Kz(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return EE.isOnline()?ge(this,Fu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,Sr)}getMutationCache(){return ge(this,Fu)}getDefaultOptions(){return ge(this,Bu)}setDefaultOptions(t){vt(this,Bu,t)}setQueryDefaults(t,e){ge(this,qm).set(sh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ge(this,qm).values()];let n={};return e.forEach(r=>{cx(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ge(this,Km).set(sh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ge(this,Km).values()];let n={};return e.forEach(r=>{cx(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ge(this,Bu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Pj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Nj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ge(this,Bu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ge(this,Sr).clear(),ge(this,Fu).clear()}},Sr=new WeakMap,Fu=new WeakMap,Bu=new WeakMap,qm=new WeakMap,Km=new WeakMap,Uu=new WeakMap,Ym=new WeakMap,Zm=new WeakMap,x9),vs,dn,N_,Zi,Bf,Qm,zu,rl,R_,Jm,eg,Uf,zf,$u,tg,Dn,i0,MI,AI,TI,PI,NI,RI,OI,rK,_9,Oge=(_9=class extends dv{constructor(e,n){super();Ft(this,Dn);Ft(this,vs);Ft(this,dn);Ft(this,N_);Ft(this,Zi);Ft(this,Bf);Ft(this,Qm);Ft(this,zu);Ft(this,rl);Ft(this,R_);Ft(this,Jm);Ft(this,eg);Ft(this,Uf);Ft(this,zf);Ft(this,$u);Ft(this,tg,new Set);this.options=n,vt(this,vs,e),vt(this,rl,null),vt(this,zu,CI()),this.options.experimental_prefetchInRender||ge(this,zu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,dn).addObserver(this),Zz(ge(this,dn),this.options)?on(this,Dn,i0).call(this):this.updateResult(),on(this,Dn,PI).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return II(ge(this,dn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return II(ge(this,dn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,on(this,Dn,NI).call(this),on(this,Dn,RI).call(this),ge(this,dn).removeObserver(this)}setOptions(e,n){const r=this.options,i=ge(this,dn);if(this.options=ge(this,vs).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ma(this.options.enabled,ge(this,dn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");on(this,Dn,OI).call(this),ge(this,dn).setOptions(this.options),r._defaulted&&!SE(this.options,r)&&ge(this,vs).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,dn),observer:this});const s=this.hasListeners();s&&Qz(ge(this,dn),i,this.options,r)&&on(this,Dn,i0).call(this),this.updateResult(n),s&&(ge(this,dn)!==i||ma(this.options.enabled,ge(this,dn))!==ma(r.enabled,ge(this,dn))||Nm(this.options.staleTime,ge(this,dn))!==Nm(r.staleTime,ge(this,dn)))&&on(this,Dn,MI).call(this);const o=on(this,Dn,AI).call(this);s&&(ge(this,dn)!==i||ma(this.options.enabled,ge(this,dn))!==ma(r.enabled,ge(this,dn))||o!==ge(this,$u))&&on(this,Dn,TI).call(this,o)}getOptimisticResult(e){const n=ge(this,vs).getQueryCache().build(ge(this,vs),e),r=this.createResult(n,e);return kge(this,r)&&(vt(this,Zi,r),vt(this,Qm,this.options),vt(this,Bf,ge(this,dn).state)),r}getCurrentResult(){return ge(this,Zi)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){ge(this,tg).add(e)}getCurrentQuery(){return ge(this,dn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ge(this,vs).defaultQueryOptions(e),r=ge(this,vs).getQueryCache().build(ge(this,vs),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return on(this,Dn,i0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,Zi)))}createResult(e,n){var M;const r=ge(this,dn),i=this.options,s=ge(this,Zi),o=ge(this,Bf),a=ge(this,Qm),c=e!==r?e.state:ge(this,N_),{state:d}=e;let u={...d},f=!1,g;if(n._optimisticResults){const T=this.hasListeners(),N=!T&&Zz(e,n),I=T&&Qz(e,r,n,i);(N||I)&&(u={...u,...eK(d.data,e.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:m}=u;if(n.select&&u.data!==void 0)if(s&&u.data===(o==null?void 0:o.data)&&n.select===ge(this,R_))g=ge(this,Jm);else try{vt(this,R_,n.select),g=n.select(u.data),g=EI(s==null?void 0:s.data,g,n),vt(this,Jm,g),vt(this,rl,null)}catch(T){vt(this,rl,T)}else g=u.data;if(n.placeholderData!==void 0&&g===void 0&&m==="pending"){let T;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))T=s.data;else if(T=typeof n.placeholderData=="function"?n.placeholderData((M=ge(this,eg))==null?void 0:M.state.data,ge(this,eg)):n.placeholderData,n.select&&T!==void 0)try{T=n.select(T),vt(this,rl,null)}catch(N){vt(this,rl,N)}T!==void 0&&(m="success",g=EI(s==null?void 0:s.data,T,n),f=!0)}ge(this,rl)&&(v=ge(this,rl),g=ge(this,Jm),y=Date.now(),m="error");const p=u.fetchStatus==="fetching",x=m==="pending",_=m==="error",b=x&&p,S=g!==void 0,A={status:m,fetchStatus:u.fetchStatus,isPending:x,isSuccess:m==="success",isError:_,isInitialLoading:b,isLoading:b,data:g,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>c.dataUpdateCount||u.errorUpdateCount>c.errorUpdateCount,isFetching:p,isRefetching:p&&!x,isLoadingError:_&&!S,isPaused:u.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:_&&S,isStale:Oj(e,n),refetch:this.refetch,promise:ge(this,zu)};if(this.options.experimental_prefetchInRender){const T=k=>{A.status==="error"?k.reject(A.error):A.data!==void 0&&k.resolve(A.data)},N=()=>{const k=vt(this,zu,A.promise=CI());T(k)},I=ge(this,zu);switch(I.status){case"pending":e.queryHash===r.queryHash&&T(I);break;case"fulfilled":(A.status==="error"||A.data!==I.value)&&N();break;case"rejected":(A.status!=="error"||A.error!==I.reason)&&N();break}}return A}updateResult(e){const n=ge(this,Zi),r=this.createResult(ge(this,dn),this.options);if(vt(this,Bf,ge(this,dn).state),vt(this,Qm,this.options),ge(this,Bf).data!==void 0&&vt(this,eg,ge(this,dn)),SE(r,n))return;vt(this,Zi,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!ge(this,tg).size)return!0;const l=new Set(a??ge(this,tg));return this.options.throwOnError&&l.add("error"),Object.keys(ge(this,Zi)).some(c=>{const d=c;return ge(this,Zi)[d]!==n[d]&&l.has(d)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),on(this,Dn,rK).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&on(this,Dn,PI).call(this)}},vs=new WeakMap,dn=new WeakMap,N_=new WeakMap,Zi=new WeakMap,Bf=new WeakMap,Qm=new WeakMap,zu=new WeakMap,rl=new WeakMap,R_=new WeakMap,Jm=new WeakMap,eg=new WeakMap,Uf=new WeakMap,zf=new WeakMap,$u=new WeakMap,tg=new WeakMap,Dn=new WeakSet,i0=function(e){on(this,Dn,OI).call(this);let n=ge(this,dn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Po)),n},MI=function(){on(this,Dn,NI).call(this);const e=Nm(this.options.staleTime,ge(this,dn));if(ih||ge(this,Zi).isStale||!wI(e))return;const r=Xq(ge(this,Zi).dataUpdatedAt,e)+1;vt(this,Uf,setTimeout(()=>{ge(this,Zi).isStale||this.updateResult()},r))},AI=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,dn)):this.options.refetchInterval)??!1},TI=function(e){on(this,Dn,RI).call(this),vt(this,$u,e),!(ih||ma(this.options.enabled,ge(this,dn))===!1||!wI(ge(this,$u))||ge(this,$u)===0)&&vt(this,zf,setInterval(()=>{(this.options.refetchIntervalInBackground||Rj.isFocused())&&on(this,Dn,i0).call(this)},ge(this,$u)))},PI=function(){on(this,Dn,MI).call(this),on(this,Dn,TI).call(this,on(this,Dn,AI).call(this))},NI=function(){ge(this,Uf)&&(clearTimeout(ge(this,Uf)),vt(this,Uf,void 0))},RI=function(){ge(this,zf)&&(clearInterval(ge(this,zf)),vt(this,zf,void 0))},OI=function(){const e=ge(this,vs).getQueryCache().build(ge(this,vs),this.options);if(e===ge(this,dn))return;const n=ge(this,dn);vt(this,dn,e),vt(this,N_,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},rK=function(e){qr.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ge(this,Zi))}),ge(this,vs).getQueryCache().notify({query:ge(this,dn),type:"observerResultsUpdated"})})},_9);function Ige(t,e){return ma(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function Zz(t,e){return Ige(t,e)||t.state.data!==void 0&&II(t,e,e.refetchOnMount)}function II(t,e,n){if(ma(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Oj(t,e)}return!1}function Qz(t,e,n,r){return(t!==e||ma(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Oj(t,n)}function Oj(t,e){return ma(e.enabled,t)!==!1&&t.isStaleByTime(Nm(e.staleTime,t))}function kge(t,e){return!SE(t.getCurrentResult(),e)}var Hu,Vu,ys,uc,Ac,IS,kI,b9,Dge=(b9=class extends dv{constructor(n,r){super();Ft(this,Ac);Ft(this,Hu);Ft(this,Vu);Ft(this,ys);Ft(this,uc);vt(this,Hu,n),this.setOptions(r),this.bindMethods(),on(this,Ac,IS).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ge(this,Hu).defaultMutationOptions(n),SE(this.options,r)||ge(this,Hu).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,ys),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&sh(r.mutationKey)!==sh(this.options.mutationKey)?this.reset():((i=ge(this,ys))==null?void 0:i.state.status)==="pending"&&ge(this,ys).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ge(this,ys))==null||n.removeObserver(this)}onMutationUpdate(n){on(this,Ac,IS).call(this),on(this,Ac,kI).call(this,n)}getCurrentResult(){return ge(this,Vu)}reset(){var n;(n=ge(this,ys))==null||n.removeObserver(this),vt(this,ys,void 0),on(this,Ac,IS).call(this),on(this,Ac,kI).call(this)}mutate(n,r){var i;return vt(this,uc,r),(i=ge(this,ys))==null||i.removeObserver(this),vt(this,ys,ge(this,Hu).getMutationCache().build(ge(this,Hu),this.options)),ge(this,ys).addObserver(this),ge(this,ys).execute(n)}},Hu=new WeakMap,Vu=new WeakMap,ys=new WeakMap,uc=new WeakMap,Ac=new WeakSet,IS=function(){var r;const n=((r=ge(this,ys))==null?void 0:r.state)??tK();vt(this,Vu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},kI=function(n){qr.batch(()=>{var r,i,s,o,a,l,c,d;if(ge(this,uc)&&this.hasListeners()){const u=ge(this,Vu).variables,f=ge(this,Vu).context;(n==null?void 0:n.type)==="success"?((i=(r=ge(this,uc)).onSuccess)==null||i.call(r,n.data,u,f),(o=(s=ge(this,uc)).onSettled)==null||o.call(s,n.data,null,u,f)):(n==null?void 0:n.type)==="error"&&((l=(a=ge(this,uc)).onError)==null||l.call(a,n.error,u,f),(d=(c=ge(this,uc)).onSettled)==null||d.call(c,void 0,n.error,u,f))}this.listeners.forEach(u=>{u(ge(this,Vu))})})},b9),iK=P.createContext(void 0),Rl=t=>{const e=P.useContext(iK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Lge=({client:t,children:e})=>(P.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(iK.Provider,{value:t,children:e})),sK=P.createContext(!1),jge=()=>P.useContext(sK);sK.Provider;function Fge(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Bge=P.createContext(Fge()),Uge=()=>P.useContext(Bge);function oK(t,e){return typeof t=="function"?t(...e):!!t}function DI(){}var zge=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},$ge=t=>{P.useEffect(()=>{t.clearReset()},[t])},Hge=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&oK(n,[t.error,r]),Vge=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},Wge=(t,e)=>t.isLoading&&t.isFetching&&!e,Gge=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Jz=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Xge(t,e,n){var d,u,f,g,v;const r=Rl(),i=jge(),s=Uge(),o=r.defaultQueryOptions(t);(u=(d=r.getDefaultOptions().queries)==null?void 0:d._experimental_beforeQuery)==null||u.call(d,o),o._optimisticResults=i?"isRestoring":"optimistic",Vge(o),zge(o,s),$ge(s);const a=!r.getQueryCache().get(o.queryHash),[l]=P.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(P.useSyncExternalStore(P.useCallback(y=>{const m=i?DI:l.subscribe(qr.batchCalls(y));return l.updateResult(),m},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),P.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Gge(o,c))throw Jz(o,l,s);if(Hge({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((g=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_afterQuery)==null||g.call(f,o,c),o.experimental_prefetchInRender&&!ih&&Wge(c,i)){const y=a?Jz(o,l,s):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;y==null||y.catch(DI).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function Yr(t,e){return Xge(t,Oge)}function Nn(t,e){const n=Rl(),[r]=P.useState(()=>new Dge(n,t));P.useEffect(()=>{r.setOptions(t)},[r,t]);const i=P.useSyncExternalStore(P.useCallback(o=>r.subscribe(qr.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=P.useCallback((o,a)=>{r.mutate(o,a).catch(DI)},[r]);if(i.error&&oK(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function qge(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Kge=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await qge(n),await n.json())},Yge=new nK({defaultOptions:{queries:{queryFn:Kge({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function Zge(t,e){const n=P.createContext(e),r=s=>{const{children:o,...a}=s,l=P.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=P.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Gn(t,e=[]){let n=[];function r(s,o){const a=P.createContext(o),l=n.length;n=[...n,o];const c=u=>{var p;const{scope:f,children:g,...v}=u,y=((p=f==null?void 0:f[t])==null?void 0:p[l])||a,m=P.useMemo(()=>v,Object.values(v));return h.jsx(y.Provider,{value:m,children:g})};c.displayName=s+"Provider";function d(u,f){var y;const g=((y=f==null?void 0:f[t])==null?void 0:y[l])||a,v=P.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[c,d]}const i=()=>{const s=n.map(o=>P.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return P.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Qge(i,...e)]}function Qge(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const u=l(s)[`__scope${c}`];return{...a,...u}},{});return P.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function e$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Sl(...t){return e=>{let n=!1;const r=t.map(i=>{const s=e$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():e$(t[i],null)}}}}function At(...t){return P.useCallback(Sl(...t),t)}function dd(t){const e=Jge(t),n=P.forwardRef((r,i)=>{const{children:s,...o}=r,a=P.Children.toArray(s),l=a.find(eve);if(l){const c=l.props.children,d=a.map(u=>u===l?P.Children.count(c)>1?P.Children.only(null):P.isValidElement(c)?c.props.children:null:u);return h.jsx(e,{...o,ref:i,children:P.isValidElement(c)?P.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var j_=dd("Slot");function Jge(t){const e=P.forwardRef((n,r)=>{const{children:i,...s}=n;if(P.isValidElement(i)){const o=nve(i),a=tve(s,i.props);return i.type!==P.Fragment&&(a.ref=r?Sl(r,o):o),P.cloneElement(i,a)}return P.Children.count(i)>1?P.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aK=Symbol("radix.slottable");function lK(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=aK,e}function eve(t){return P.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aK}function tve(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function nve(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Hc(t){const e=t+"CollectionProvider",[n,r]=Gn(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:m,children:p}=y,x=te.useRef(null),_=te.useRef(new Map).current;return h.jsx(i,{scope:m,itemMap:_,collectionRef:x,children:p})};o.displayName=e;const a=t+"CollectionSlot",l=dd(a),c=te.forwardRef((y,m)=>{const{scope:p,children:x}=y,_=s(a,p),b=At(m,_.collectionRef);return h.jsx(l,{ref:b,children:x})});c.displayName=a;const d=t+"CollectionItemSlot",u="data-radix-collection-item",f=dd(d),g=te.forwardRef((y,m)=>{const{scope:p,children:x,..._}=y,b=te.useRef(null),S=At(m,b),C=s(d,p);return te.useEffect(()=>(C.itemMap.set(b,{ref:b,..._}),()=>void C.itemMap.delete(b))),h.jsx(f,{[u]:"",ref:S,children:x})});g.displayName=d;function v(y){const m=s(t+"CollectionConsumer",y);return te.useCallback(()=>{const x=m.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${u}]`));return Array.from(m.itemMap.values()).sort((C,A)=>_.indexOf(C.ref.current)-_.indexOf(A.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},v,r]}function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function kn(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t}),P.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Or({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=rve({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=kn(n),l=P.useCallback(c=>{if(s){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else i(c)},[s,t,i,a]);return[o,l]}function rve({defaultProp:t,onChange:e}){const n=P.useState(t),[r]=n,i=P.useRef(r),s=kn(e);return P.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var ive=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=ive.reduce((t,e)=>{const n=dd(`Primitive.${e}`),r=P.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ux(t,e){t&&Nh.flushSync(()=>t.dispatchEvent(e))}var cr=globalThis!=null&&globalThis.document?P.useLayoutEffect:()=>{};function sve(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var sr=t=>{const{present:e,children:n}=t,r=ove(e),i=typeof n=="function"?n({present:r.isPresent}):P.Children.only(n),s=At(r.ref,ave(i));return typeof n=="function"||r.isPresent?P.cloneElement(i,{ref:s}):null};sr.displayName="Presence";function ove(t){const[e,n]=P.useState(),r=P.useRef({}),i=P.useRef(t),s=P.useRef("none"),o=t?"mounted":"unmounted",[a,l]=sve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return P.useEffect(()=>{const c=Kw(r.current);s.current=a==="mounted"?c:"none"},[a]),cr(()=>{const c=r.current,d=i.current;if(d!==t){const f=s.current,g=Kw(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&f!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),cr(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,u=g=>{const y=Kw(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!i.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},f=g=>{g.target===e&&(s.current=Kw(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:P.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Kw(t){return(t==null?void 0:t.animationName)||"none"}function ave(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var lve=KM[" useId ".trim().toString()]||(()=>{}),cve=0;function zr(t){const[e,n]=P.useState(lve());return cr(()=>{n(r=>r??String(cve++))},[t]),e?`radix-${e}`:""}var Ij="Collapsible",[uve,cK]=Gn(Ij),[dve,kj]=uve(Ij),uK=P.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=Or({prop:r,defaultProp:i,onChange:o});return h.jsx(dve,{scope:n,disabled:s,contentId:zr(),open:l,onOpenToggle:P.useCallback(()=>c(d=>!d),[c]),children:h.jsx(Xe.div,{"data-state":Fj(l),"data-disabled":s?"":void 0,...a,ref:e})})});uK.displayName=Ij;var dK="CollapsibleTrigger",Dj=P.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=kj(dK,n);return h.jsx(Xe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Fj(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Oe(t.onClick,i.onOpenToggle)})});Dj.displayName=dK;var Lj="CollapsibleContent",jj=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=kj(Lj,t.__scopeCollapsible);return h.jsx(sr,{present:n||i.open,children:({present:s})=>h.jsx(fve,{...r,ref:e,present:s})})});jj.displayName=Lj;var fve=P.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=kj(Lj,n),[a,l]=P.useState(r),c=P.useRef(null),d=At(e,c),u=P.useRef(0),f=u.current,g=P.useRef(0),v=g.current,y=o.open||a,m=P.useRef(y),p=P.useRef(void 0);return P.useEffect(()=>{const x=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(x)},[]),cr(()=>{const x=c.current;if(x){p.current=p.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const _=x.getBoundingClientRect();u.current=_.height,g.current=_.width,m.current||(x.style.transitionDuration=p.current.transitionDuration,x.style.animationName=p.current.animationName),l(r)}},[o.open,r]),h.jsx(Xe.div,{"data-state":Fj(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:d,style:{"--radix-collapsible-content-height":f?`${f}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:y&&i})});function Fj(t){return t?"open":"closed"}var fK=uK,hve=Dj,pve=jj,mve=P.createContext(void 0);function Ol(t){const e=P.useContext(mve);return t||e||"ltr"}var Vc="Accordion",gve=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Bj,vve,yve]=Hc(Vc),[hA,Tgt]=Gn(Vc,[yve,cK]),Uj=cK(),xve=te.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return h.jsx(Bj.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?h.jsx(Sve,{...s,ref:e}):h.jsx(wve,{...i,ref:e})})});xve.displayName=Vc;var[hK,_ve]=hA(Vc),[pK,bve]=hA(Vc,{collapsible:!1}),wve=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=Or({prop:n,defaultProp:r,onChange:i});return h.jsx(hK,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:te.useCallback(()=>s&&l(""),[s,l]),children:h.jsx(pK,{scope:t.__scopeAccordion,collapsible:s,children:h.jsx(mK,{...o,ref:e})})})}),Sve=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=Or({prop:n,defaultProp:r,onChange:i}),l=te.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=te.useCallback(d=>a((u=[])=>u.filter(f=>f!==d)),[a]);return h.jsx(hK,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:h.jsx(pK,{scope:t.__scopeAccordion,collapsible:!0,children:h.jsx(mK,{...s,ref:e})})})}),[Eve,pA]=hA(Vc),mK=te.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=te.useRef(null),l=At(a,e),c=vve(n),u=Ol(i)==="ltr",f=Oe(t.onKeyDown,g=>{var M;if(!gve.includes(g.key))return;const v=g.target,y=c().filter(T=>{var N;return!((N=T.ref.current)!=null&&N.disabled)}),m=y.findIndex(T=>T.ref.current===v),p=y.length;if(m===-1)return;g.preventDefault();let x=m;const _=0,b=p-1,S=()=>{x=m+1,x>b&&(x=_)},C=()=>{x=m-1,x<_&&(x=b)};switch(g.key){case"Home":x=_;break;case"End":x=b;break;case"ArrowRight":s==="horizontal"&&(u?S():C());break;case"ArrowDown":s==="vertical"&&S();break;case"ArrowLeft":s==="horizontal"&&(u?C():S());break;case"ArrowUp":s==="vertical"&&C();break}const A=x%p;(M=y[A].ref.current)==null||M.focus()});return h.jsx(Eve,{scope:n,disabled:r,direction:i,orientation:s,children:h.jsx(Bj.Slot,{scope:n,children:h.jsx(Xe.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:f})})})}),CE="AccordionItem",[Cve,zj]=hA(CE),gK=te.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=pA(CE,n),o=_ve(CE,n),a=Uj(n),l=zr(),c=r&&o.value.includes(r)||!1,d=s.disabled||t.disabled;return h.jsx(Cve,{scope:n,open:c,disabled:d,triggerId:l,children:h.jsx(fK,{"data-orientation":s.orientation,"data-state":wK(c),...a,...i,ref:e,disabled:d,open:c,onOpenChange:u=>{u?o.onItemOpen(r):o.onItemClose(r)}})})});gK.displayName=CE;var vK="AccordionHeader",yK=te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=pA(Vc,n),s=zj(vK,n);return h.jsx(Xe.h3,{"data-orientation":i.orientation,"data-state":wK(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});yK.displayName=vK;var LI="AccordionTrigger",xK=te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=pA(Vc,n),s=zj(LI,n),o=bve(LI,n),a=Uj(n);return h.jsx(Bj.ItemSlot,{scope:n,children:h.jsx(hve,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});xK.displayName=LI;var _K="AccordionContent",bK=te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=pA(Vc,n),s=zj(_K,n),o=Uj(n);return h.jsx(pve,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});bK.displayName=_K;function wK(t){return t?"open":"closed"}var Mve=gK,Ave=yK,SK=xK,EK=bK;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tve=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CK=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pve={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nve=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>P.createElement("svg",{ref:l,...Pve,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:CK("lucide",i),...a},[...o.map(([c,d])=>P.createElement(c,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=(t,e)=>{const n=P.forwardRef(({className:r,...i},s)=>P.createElement(Nve,{ref:s,iconNode:e,className:CK(`lucide-${Tve(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hi=pt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rve=pt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=pt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=pt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=pt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=pt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ove=pt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MK=pt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oh=pt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=pt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=pt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ive=pt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mA=pt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kve=pt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dve=pt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AK=pt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lve=pt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TK=pt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=pt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PK=pt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=pt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=pt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=pt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jve=pt("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fve=pt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=pt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=pt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RK=pt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bve=pt("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uve=pt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OK=pt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IK=pt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zve=pt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ve=pt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hve=pt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vve=pt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $j=pt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wve=pt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=pt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kK=pt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t$=pt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gve=pt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xve=pt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qve=pt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=pt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=pt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kve=pt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yve=pt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DK=pt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ug=pt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=pt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zve=pt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LK=pt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=pt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hj=pt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=pt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=pt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qve=pt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=pt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=pt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=pt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jve=pt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eye=pt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tye=pt("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=pt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nye=pt("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=pt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rye=pt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=pt("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=pt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vj=pt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function jK(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=jK(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yt(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=jK(t))&&(r&&(r+=" "),r+=e);return r}const Wj="-",iye=t=>{const e=oye(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Wj);return a[0]===""&&a.length!==1&&a.shift(),FK(a,e)||sye(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},FK=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?FK(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Wj);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},r$=/^\[(.+)\]$/,sye=t=>{if(r$.test(t)){const e=r$.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},oye=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return lye(Object.entries(t.classGroups),n).forEach(([s,o])=>{BI(o,r,s,e)}),r},BI=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:i$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(aye(i)){BI(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{BI(o,i$(e,s),n,r)})})},i$=(t,e)=>{let n=t;return e.split(Wj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},aye=t=>t.isThemeGetter,lye=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,cye=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},BK="!",uye=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,d=0,u;for(let m=0;m<a.length;m++){let p=a[m];if(c===0){if(p===i&&(r||a.slice(m,m+s)===e)){l.push(a.slice(d,m)),d=m+s;continue}if(p==="/"){u=m;continue}}p==="["?c++:p==="]"&&c--}const f=l.length===0?a:a.substring(d),g=f.startsWith(BK),v=g?f.substring(1):f,y=u&&u>d?u-d:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:o}):o},dye=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},fye=t=>({cache:cye(t.cacheSize),parseClassName:uye(t),...iye(t)}),hye=/\s+/,pye=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(hye);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:d,hasImportantModifier:u,baseClassName:f,maybePostfixModifierPosition:g}=n(c);let v=!!g,y=r(v?f.substring(0,g):f);if(!y){if(!v){a=c+(a.length>0?" "+a:a);continue}if(y=r(f),!y){a=c+(a.length>0?" "+a:a);continue}v=!1}const m=dye(d).join(":"),p=u?m+BK:m,x=p+y;if(s.includes(x))continue;s.push(x);const _=i(y,v);for(let b=0;b<_.length;++b){const S=_[b];s.push(p+S)}a=c+(a.length>0?" "+a:a)}return a};function mye(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=UK(e))&&(r&&(r+=" "),r+=n);return r}const UK=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=UK(t[r]))&&(n&&(n+=" "),n+=e);return n};function gye(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((d,u)=>u(d),t());return n=fye(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const d=pye(l,n);return i(l,d),d}return function(){return s(mye.apply(null,arguments))}}const Jn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},zK=/^\[(?:([a-z-]+):)?(.+)\]$/i,vye=/^\d+\/\d+$/,yye=new Set(["px","full","screen"]),xye=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,_ye=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bye=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wye=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Sye=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Kl=t=>Om(t)||yye.has(t)||vye.test(t),hu=t=>pv(t,"length",Rye),Om=t=>!!t&&!Number.isNaN(Number(t)),mN=t=>pv(t,"number",Om),xy=t=>!!t&&Number.isInteger(Number(t)),Eye=t=>t.endsWith("%")&&Om(t.slice(0,-1)),nn=t=>zK.test(t),pu=t=>xye.test(t),Cye=new Set(["length","size","percentage"]),Mye=t=>pv(t,Cye,$K),Aye=t=>pv(t,"position",$K),Tye=new Set(["image","url"]),Pye=t=>pv(t,Tye,Iye),Nye=t=>pv(t,"",Oye),_y=()=>!0,pv=(t,e,n)=>{const r=zK.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Rye=t=>_ye.test(t)&&!bye.test(t),$K=()=>!1,Oye=t=>wye.test(t),Iye=t=>Sye.test(t),kye=()=>{const t=Jn("colors"),e=Jn("spacing"),n=Jn("blur"),r=Jn("brightness"),i=Jn("borderColor"),s=Jn("borderRadius"),o=Jn("borderSpacing"),a=Jn("borderWidth"),l=Jn("contrast"),c=Jn("grayscale"),d=Jn("hueRotate"),u=Jn("invert"),f=Jn("gap"),g=Jn("gradientColorStops"),v=Jn("gradientColorStopPositions"),y=Jn("inset"),m=Jn("margin"),p=Jn("opacity"),x=Jn("padding"),_=Jn("saturate"),b=Jn("scale"),S=Jn("sepia"),C=Jn("skew"),A=Jn("space"),M=Jn("translate"),T=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],I=()=>["auto",nn,e],k=()=>[nn,e],j=()=>["",Kl,hu],F=()=>["auto",Om,nn],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],V=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",nn],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Om,nn];return{cacheSize:500,separator:":",theme:{colors:[_y],spacing:[Kl,hu],blur:["none","",pu,nn],brightness:W(),borderColor:[t],borderRadius:["none","","full",pu,nn],borderSpacing:k(),borderWidth:j(),contrast:W(),grayscale:L(),hueRotate:W(),invert:L(),gap:k(),gradientColorStops:[t],gradientColorStopPositions:[Eye,hu],inset:I(),margin:I(),opacity:W(),padding:k(),saturate:W(),scale:W(),sepia:L(),skew:W(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",nn]}],container:["container"],columns:[{columns:[pu]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),nn]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",xy,nn]}],basis:[{basis:I()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nn]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",xy,nn]}],"grid-cols":[{"grid-cols":[_y]}],"col-start-end":[{col:["auto",{span:["full",xy,nn]},nn]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[_y]}],"row-start-end":[{row:["auto",{span:[xy,nn]},nn]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nn]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nn,e]}],"min-w":[{"min-w":[nn,e,"min","max","fit"]}],"max-w":[{"max-w":[nn,e,"none","full","min","max","fit","prose",{screen:[pu]},pu]}],h:[{h:[nn,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nn,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nn,e,"auto","min","max","fit"]}],"font-size":[{text:["base",pu,hu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",mN]}],"font-family":[{font:[_y]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nn]}],"line-clamp":[{"line-clamp":["none",Om,mN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Kl,nn]}],"list-image":[{"list-image":["none",nn]}],"list-style-type":[{list:["none","disc","decimal",nn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Kl,hu]}],"underline-offset":[{"underline-offset":["auto",Kl,nn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),Aye]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mye]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pye]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:$()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Kl,nn]}],"outline-w":[{outline:[Kl,hu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Kl,hu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",pu,Nye]}],"shadow-color":[{shadow:[_y]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...V(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":V()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",pu,nn]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[u]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nn]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",nn]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",nn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[xy,nn]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nn]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nn]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nn]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Kl,hu,mN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Dye=gye(kye);function we(...t){return Dye(Yt(t))}const Lye=P.forwardRef(({className:t,...e},n)=>h.jsx(Mve,{ref:n,className:we("border-b",t),...e}));Lye.displayName="AccordionItem";const jye=P.forwardRef(({className:t,children:e,...n},r)=>h.jsx(Ave,{className:"flex",children:h.jsxs(SK,{ref:r,className:we("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,h.jsx(U_,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));jye.displayName=SK.displayName;const Fye=P.forwardRef(({className:t,children:e,...n},r)=>h.jsx(EK,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:h.jsx("div",{className:we("pb-4 pt-0",t),children:e})}));Fye.displayName=EK.displayName;function Bye(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t);P.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Uye="DismissableLayer",UI="dismissableLayer.update",zye="dismissableLayer.pointerDownOutside",$ye="dismissableLayer.focusOutside",s$,HK=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wc=P.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=P.useContext(HK),[d,u]=P.useState(null),f=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=P.useState({}),v=At(e,A=>u(A)),y=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=y.indexOf(m),x=d?y.indexOf(d):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=x>=p,S=Vye(A=>{const M=A.target,T=[...c.branches].some(N=>N.contains(M));!b||T||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},f),C=Wye(A=>{const M=A.target;[...c.branches].some(N=>N.contains(M))||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},f);return Bye(A=>{x===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},f),P.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(s$=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),o$(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=s$)}},[d,f,n,c]),P.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),o$())},[d,c]),P.useEffect(()=>{const A=()=>g({});return document.addEventListener(UI,A),()=>document.removeEventListener(UI,A)},[]),h.jsx(Xe.div,{...l,ref:v,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,S.onPointerDownCapture)})});Wc.displayName=Uye;var Hye="DismissableLayerBranch",VK=P.forwardRef((t,e)=>{const n=P.useContext(HK),r=P.useRef(null),i=At(e,r);return P.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),h.jsx(Xe.div,{...t,ref:i})});VK.displayName=Hye;function Vye(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=P.useRef(!1),i=P.useRef(()=>{});return P.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){WK(zye,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Wye(t,e=globalThis==null?void 0:globalThis.document){const n=kn(t),r=P.useRef(!1);return P.useEffect(()=>{const i=s=>{s.target&&!r.current&&WK($ye,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function o$(){const t=new CustomEvent(UI);document.dispatchEvent(t)}function WK(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ux(i,s):i.dispatchEvent(s)}var Gye=Wc,Xye=VK,gN="focusScope.autoFocusOnMount",vN="focusScope.autoFocusOnUnmount",a$={bubbles:!1,cancelable:!0},qye="FocusScope",$_=P.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=P.useState(null),c=kn(i),d=kn(s),u=P.useRef(null),f=At(e,y=>l(y)),g=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(r){let y=function(_){if(g.paused||!a)return;const b=_.target;a.contains(b)?u.current=b:Mu(u.current,{select:!0})},m=function(_){if(g.paused||!a)return;const b=_.relatedTarget;b!==null&&(a.contains(b)||Mu(u.current,{select:!0}))},p=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Mu(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",m);const x=new MutationObserver(p);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",m),x.disconnect()}}},[r,a,g.paused]),P.useEffect(()=>{if(a){c$.add(g);const y=document.activeElement;if(!a.contains(y)){const p=new CustomEvent(gN,a$);a.addEventListener(gN,c),a.dispatchEvent(p),p.defaultPrevented||(Kye(e0e(GK(a)),{select:!0}),document.activeElement===y&&Mu(a))}return()=>{a.removeEventListener(gN,c),setTimeout(()=>{const p=new CustomEvent(vN,a$);a.addEventListener(vN,d),a.dispatchEvent(p),p.defaultPrevented||Mu(y??document.body,{select:!0}),a.removeEventListener(vN,d),c$.remove(g)},0)}}},[a,c,d,g]);const v=P.useCallback(y=>{if(!n&&!r||g.paused)return;const m=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,p=document.activeElement;if(m&&p){const x=y.currentTarget,[_,b]=Yye(x);_&&b?!y.shiftKey&&p===b?(y.preventDefault(),n&&Mu(_,{select:!0})):y.shiftKey&&p===_&&(y.preventDefault(),n&&Mu(b,{select:!0})):p===x&&y.preventDefault()}},[n,r,g.paused]);return h.jsx(Xe.div,{tabIndex:-1,...o,ref:f,onKeyDown:v})});$_.displayName=qye;function Kye(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Mu(r,{select:e}),document.activeElement!==n)return}function Yye(t){const e=GK(t),n=l$(e,t),r=l$(e.reverse(),t);return[n,r]}function GK(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function l$(t,e){for(const n of t)if(!Zye(n,{upTo:e}))return n}function Zye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Qye(t){return t instanceof HTMLInputElement&&"select"in t}function Mu(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Qye(t)&&e&&t.select()}}var c$=Jye();function Jye(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=u$(t,e),t.unshift(e)},remove(e){var n;t=u$(t,e),(n=t[0])==null||n.resume()}}}function u$(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function e0e(t){return t.filter(e=>e.tagName!=="A")}var t0e="Portal",mv=P.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=P.useState(!1);cr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?kq.createPortal(h.jsx(Xe.div,{...r,ref:e}),o):null});mv.displayName=t0e;var yN=0;function _A(){P.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??d$()),document.body.insertAdjacentElement("beforeend",t[1]??d$()),yN++,()=>{yN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),yN--}},[])}function d$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ol=function(){return ol=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ol.apply(this,arguments)};function XK(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function n0e(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var kS="right-scroll-bar-position",DS="width-before-scroll-bar",r0e="with-scroll-bars-hidden",i0e="--removed-body-scroll-bar-size";function xN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function s0e(t,e){var n=P.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var o0e=typeof window<"u"?P.useLayoutEffect:P.useEffect,f$=new WeakMap;function a0e(t,e){var n=s0e(null,function(r){return t.forEach(function(i){return xN(i,r)})});return o0e(function(){var r=f$.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||xN(a,null)}),s.forEach(function(a){i.has(a)||xN(a,o)})}f$.set(n,t)},[t]),n}function l0e(t){return t}function c0e(t,e){e===void 0&&(e=l0e);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var d=o;o=[],d.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return i}function u0e(t){t===void 0&&(t={});var e=c0e(null);return e.options=ol({async:!0,ssr:!1},t),e}var qK=function(t){var e=t.sideCar,n=XK(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return P.createElement(r,ol({},n))};qK.isSideCarExport=!0;function d0e(t,e){return t.useMedium(e),qK}var KK=u0e(),_N=function(){},bA=P.forwardRef(function(t,e){var n=P.useRef(null),r=P.useState({onScrollCapture:_N,onWheelCapture:_N,onTouchMoveCapture:_N}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,u=t.shards,f=t.sideCar,g=t.noIsolation,v=t.inert,y=t.allowPinchZoom,m=t.as,p=m===void 0?"div":m,x=t.gapMode,_=XK(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=f,S=a0e([n,e]),C=ol(ol({},_),i);return P.createElement(P.Fragment,null,d&&P.createElement(b,{sideCar:KK,removeScrollBar:c,shards:u,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!y,lockRef:n,gapMode:x}),o?P.cloneElement(P.Children.only(a),ol(ol({},C),{ref:S})):P.createElement(p,ol({},C,{className:l,ref:S}),a))});bA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};bA.classNames={fullWidth:DS,zeroRight:kS};var f0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function h0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=f0e();return e&&t.setAttribute("nonce",e),t}function p0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function m0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var g0e=function(){var t=0,e=null;return{add:function(n){t==0&&(e=h0e())&&(p0e(e,n),m0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},v0e=function(){var t=g0e();return function(e,n){P.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},YK=function(){var t=v0e(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},y0e={left:0,top:0,right:0,gap:0},bN=function(t){return parseInt(t||"",10)||0},x0e=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[bN(n),bN(r),bN(i)]},_0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return y0e;var e=x0e(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},b0e=YK(),Im="data-scroll-locked",w0e=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(r0e,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Im,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(kS,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(DS,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kS," .").concat(kS,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(DS," .").concat(DS,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Im,`] {
    `).concat(i0e,": ").concat(a,`px;
  }
`)},h$=function(){var t=parseInt(document.body.getAttribute(Im)||"0",10);return isFinite(t)?t:0},S0e=function(){P.useEffect(function(){return document.body.setAttribute(Im,(h$()+1).toString()),function(){var t=h$()-1;t<=0?document.body.removeAttribute(Im):document.body.setAttribute(Im,t.toString())}},[])},E0e=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;S0e();var s=P.useMemo(function(){return _0e(i)},[i]);return P.createElement(b0e,{styles:w0e(s,!e,i,n?"":"!important")})},zI=!1;if(typeof window<"u")try{var Yw=Object.defineProperty({},"passive",{get:function(){return zI=!0,!0}});window.addEventListener("test",Yw,Yw),window.removeEventListener("test",Yw,Yw)}catch{zI=!1}var mp=zI?{passive:!1}:!1,C0e=function(t){return t.tagName==="TEXTAREA"},ZK=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!C0e(t)&&n[e]==="visible")},M0e=function(t){return ZK(t,"overflowY")},A0e=function(t){return ZK(t,"overflowX")},p$=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=QK(t,r);if(i){var s=JK(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},T0e=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},P0e=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},QK=function(t,e){return t==="v"?M0e(e):A0e(e)},JK=function(t,e){return t==="v"?T0e(e):P0e(e)},N0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},R0e=function(t,e,n,r,i){var s=N0e(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,d=o>0,u=0,f=0;do{var g=JK(t,a),v=g[0],y=g[1],m=g[2],p=y-m-s*v;(v||p)&&QK(t,a)&&(u+=p,f+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(Math.abs(u)<1||!i)||!d&&(Math.abs(f)<1||!i))&&(c=!0),c},Zw=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m$=function(t){return[t.deltaX,t.deltaY]},g$=function(t){return t&&"current"in t?t.current:t},O0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},I0e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},k0e=0,gp=[];function D0e(t){var e=P.useRef([]),n=P.useRef([0,0]),r=P.useRef(),i=P.useState(k0e++)[0],s=P.useState(YK)[0],o=P.useRef(t);P.useEffect(function(){o.current=t},[t]),P.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var y=n0e([t.lockRef.current],(t.shards||[]).map(g$),!0).filter(Boolean);return y.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=P.useCallback(function(y,m){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var p=Zw(y),x=n.current,_="deltaX"in y?y.deltaX:x[0]-p[0],b="deltaY"in y?y.deltaY:x[1]-p[1],S,C=y.target,A=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in y&&A==="h"&&C.type==="range")return!1;var M=p$(A,C);if(!M)return!0;if(M?S=A:(S=A==="v"?"h":"v",M=p$(A,C)),!M)return!1;if(!r.current&&"changedTouches"in y&&(_||b)&&(r.current=S),!S)return!0;var T=r.current||S;return R0e(T,m,y,T==="h"?_:b,!0)},[]),l=P.useCallback(function(y){var m=y;if(!(!gp.length||gp[gp.length-1]!==s)){var p="deltaY"in m?m$(m):Zw(m),x=e.current.filter(function(S){return S.name===m.type&&(S.target===m.target||m.target===S.shadowParent)&&O0e(S.delta,p)})[0];if(x&&x.should){m.cancelable&&m.preventDefault();return}if(!x){var _=(o.current.shards||[]).map(g$).filter(Boolean).filter(function(S){return S.contains(m.target)}),b=_.length>0?a(m,_[0]):!o.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),c=P.useCallback(function(y,m,p,x){var _={name:y,delta:m,target:p,should:x,shadowParent:L0e(p)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(b){return b!==_})},1)},[]),d=P.useCallback(function(y){n.current=Zw(y),r.current=void 0},[]),u=P.useCallback(function(y){c(y.type,m$(y),y.target,a(y,t.lockRef.current))},[]),f=P.useCallback(function(y){c(y.type,Zw(y),y.target,a(y,t.lockRef.current))},[]);P.useEffect(function(){return gp.push(s),t.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:f}),document.addEventListener("wheel",l,mp),document.addEventListener("touchmove",l,mp),document.addEventListener("touchstart",d,mp),function(){gp=gp.filter(function(y){return y!==s}),document.removeEventListener("wheel",l,mp),document.removeEventListener("touchmove",l,mp),document.removeEventListener("touchstart",d,mp)}},[]);var g=t.removeScrollBar,v=t.inert;return P.createElement(P.Fragment,null,v?P.createElement(s,{styles:I0e(i)}):null,g?P.createElement(E0e,{gapMode:t.gapMode}):null)}function L0e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const j0e=d0e(KK,D0e);var H_=P.forwardRef(function(t,e){return P.createElement(bA,ol({},t,{ref:e,sideCar:j0e}))});H_.classNames=bA.classNames;var F0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},vp=new WeakMap,Qw=new WeakMap,Jw={},wN=0,eY=function(t){return t&&(t.host||eY(t.parentNode))},B0e=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=eY(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},U0e=function(t,e,n,r){var i=B0e(e,Array.isArray(t)?t:[t]);Jw[n]||(Jw[n]=new WeakMap);var s=Jw[n],o=[],a=new Set,l=new Set(i),c=function(u){!u||a.has(u)||(a.add(u),c(u.parentNode))};i.forEach(c);var d=function(u){!u||l.has(u)||Array.prototype.forEach.call(u.children,function(f){if(a.has(f))d(f);else try{var g=f.getAttribute(r),v=g!==null&&g!=="false",y=(vp.get(f)||0)+1,m=(s.get(f)||0)+1;vp.set(f,y),s.set(f,m),o.push(f),y===1&&v&&Qw.set(f,!0),m===1&&f.setAttribute(n,"true"),v||f.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",f,p)}})};return d(e),a.clear(),wN++,function(){o.forEach(function(u){var f=vp.get(u)-1,g=s.get(u)-1;vp.set(u,f),s.set(u,g),f||(Qw.has(u)||u.removeAttribute(r),Qw.delete(u)),g||u.removeAttribute(n)}),wN--,wN||(vp=new WeakMap,vp=new WeakMap,Qw=new WeakMap,Jw={})}},wA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=F0e(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),U0e(r,i,n,"aria-hidden")):function(){return null}},Gj="Dialog",[tY,nY]=Gn(Gj),[z0e,Ba]=tY(Gj),rY=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=P.useRef(null),l=P.useRef(null),[c=!1,d]=Or({prop:r,defaultProp:i,onChange:s});return h.jsx(z0e,{scope:e,triggerRef:a,contentRef:l,contentId:zr(),titleId:zr(),descriptionId:zr(),open:c,onOpenChange:d,onOpenToggle:P.useCallback(()=>d(u=>!u),[d]),modal:o,children:n})};rY.displayName=Gj;var iY="DialogTrigger",sY=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ba(iY,n),s=At(e,i.triggerRef);return h.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Kj(i.open),...r,ref:s,onClick:Oe(t.onClick,i.onOpenToggle)})});sY.displayName=iY;var Xj="DialogPortal",[$0e,oY]=tY(Xj,{forceMount:void 0}),aY=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Ba(Xj,e);return h.jsx($0e,{scope:e,forceMount:n,children:P.Children.map(r,o=>h.jsx(sr,{present:n||s.open,children:h.jsx(mv,{asChild:!0,container:i,children:o})}))})};aY.displayName=Xj;var TE="DialogOverlay",lY=P.forwardRef((t,e)=>{const n=oY(TE,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ba(TE,t.__scopeDialog);return s.modal?h.jsx(sr,{present:r||s.open,children:h.jsx(V0e,{...i,ref:e})}):null});lY.displayName=TE;var H0e=dd("DialogOverlay.RemoveScroll"),V0e=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ba(TE,n);return h.jsx(H_,{as:H0e,allowPinchZoom:!0,shards:[i.contentRef],children:h.jsx(Xe.div,{"data-state":Kj(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),ah="DialogContent",cY=P.forwardRef((t,e)=>{const n=oY(ah,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Ba(ah,t.__scopeDialog);return h.jsx(sr,{present:r||s.open,children:s.modal?h.jsx(W0e,{...i,ref:e}):h.jsx(G0e,{...i,ref:e})})});cY.displayName=ah;var W0e=P.forwardRef((t,e)=>{const n=Ba(ah,t.__scopeDialog),r=P.useRef(null),i=At(e,n.contentRef,r);return P.useEffect(()=>{const s=r.current;if(s)return wA(s)},[]),h.jsx(uY,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault())})}),G0e=P.forwardRef((t,e)=>{const n=Ba(ah,t.__scopeDialog),r=P.useRef(!1),i=P.useRef(!1);return h.jsx(uY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),uY=P.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=Ba(ah,n),l=P.useRef(null),c=At(e,l);return _A(),h.jsxs(h.Fragment,{children:[h.jsx($_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(Wc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Kj(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx(q0e,{titleId:a.titleId}),h.jsx(Y0e,{contentRef:l,descriptionId:a.descriptionId})]})]})}),qj="DialogTitle",dY=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ba(qj,n);return h.jsx(Xe.h2,{id:i.titleId,...r,ref:e})});dY.displayName=qj;var fY="DialogDescription",hY=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ba(fY,n);return h.jsx(Xe.p,{id:i.descriptionId,...r,ref:e})});hY.displayName=fY;var pY="DialogClose",mY=P.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Ba(pY,n);return h.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});mY.displayName=pY;function Kj(t){return t?"open":"closed"}var gY="DialogTitleWarning",[X0e,vY]=Zge(gY,{contentName:ah,titleName:qj,docsSlug:"dialog"}),q0e=({titleId:t})=>{const e=vY(gY),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return P.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},K0e="DialogDescriptionWarning",Y0e=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${vY(K0e).contentName}}.`;return P.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},SA=rY,Yj=sY,V_=aY,Oh=lY,Ih=cY,gv=dY,vv=hY,W_=mY,Z0e="AlertDialog",[Q0e,Pgt]=Gn(Z0e,[nY]),wd=nY(),J0e="AlertDialogTrigger",exe=P.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=wd(n);return h.jsx(Yj,{...i,...r,ref:e})});exe.displayName=J0e;var txe="AlertDialogPortal",yY=t=>{const{__scopeAlertDialog:e,...n}=t,r=wd(e);return h.jsx(V_,{...r,...n})};yY.displayName=txe;var nxe="AlertDialogOverlay",xY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=wd(n);return h.jsx(Oh,{...i,...r,ref:e})});xY.displayName=nxe;var km="AlertDialogContent",[rxe,ixe]=Q0e(km),sxe=lK("AlertDialogContent"),_Y=P.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=wd(n),o=P.useRef(null),a=At(e,o),l=P.useRef(null);return h.jsx(X0e,{contentName:km,titleName:bY,docsSlug:"alert-dialog",children:h.jsx(rxe,{scope:n,cancelRef:l,children:h.jsxs(Ih,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Oe(i.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(sxe,{children:r}),h.jsx(axe,{contentRef:o})]})})})});_Y.displayName=km;var bY="AlertDialogTitle",wY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=wd(n);return h.jsx(gv,{...i,...r,ref:e})});wY.displayName=bY;var SY="AlertDialogDescription",EY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=wd(n);return h.jsx(vv,{...i,...r,ref:e})});EY.displayName=SY;var oxe="AlertDialogAction",CY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=wd(n);return h.jsx(W_,{...i,...r,ref:e})});CY.displayName=oxe;var MY="AlertDialogCancel",AY=P.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=ixe(MY,n),s=wd(n),o=At(e,i);return h.jsx(W_,{...s,...r,ref:o})});AY.displayName=MY;var axe=({contentRef:t})=>{const e=`\`${km}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${km}\` by passing a \`${SY}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${km}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return P.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},lxe=yY,TY=xY,PY=_Y,NY=CY,RY=AY,OY=wY,IY=EY;const cxe=lxe,kY=P.forwardRef(({className:t,...e},n)=>h.jsx(TY,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));kY.displayName=TY.displayName;const uxe=P.forwardRef(({className:t,...e},n)=>h.jsxs(cxe,{children:[h.jsx(kY,{}),h.jsx(PY,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));uxe.displayName=PY.displayName;const dxe=P.forwardRef(({className:t,...e},n)=>h.jsx(OY,{ref:n,className:we("text-lg font-semibold",t),...e}));dxe.displayName=OY.displayName;const fxe=P.forwardRef(({className:t,...e},n)=>h.jsx(IY,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));fxe.displayName=IY.displayName;const hxe=P.forwardRef(({className:t,...e},n)=>h.jsx(NY,{ref:n,className:we(fx(),t),...e}));hxe.displayName=NY.displayName;const pxe=P.forwardRef(({className:t,...e},n)=>h.jsx(RY,{ref:n,className:we(fx({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));pxe.displayName=RY.displayName;const v$=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,y$=Yt,Gc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return y$(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const d=n==null?void 0:n[c],u=s==null?void 0:s[c];if(d===null)return null;const f=v$(d)||v$(u);return i[c][f]}),a=n&&Object.entries(n).reduce((c,d)=>{let[u,f]=d;return f===void 0||(c[u]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:u,className:f,...g}=d;return Object.entries(g).every(v=>{let[y,m]=v;return Array.isArray(m)?m.includes({...s,...a}[y]):{...s,...a}[y]===m})?[...c,u,f]:c},[]);return y$(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},mxe=Gc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),gxe=P.forwardRef(({className:t,variant:e,...n},r)=>h.jsx("div",{ref:r,role:"alert",className:we(mxe({variant:e}),t),...n}));gxe.displayName="Alert";const vxe=P.forwardRef(({className:t,...e},n)=>h.jsx("h5",{ref:n,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));vxe.displayName="AlertTitle";const yxe=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("text-sm [&_p]:leading-relaxed",t),...e}));yxe.displayName="AlertDescription";var Zj="Avatar",[xxe,Ngt]=Gn(Zj),[_xe,DY]=xxe(Zj),LY=P.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=P.useState("idle");return h.jsx(_xe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:h.jsx(Xe.span,{...r,ref:e})})});LY.displayName=Zj;var jY="AvatarImage",FY=P.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=DY(jY,n),a=bxe(r,s),l=kn(c=>{i(c),o.onImageLoadingStatusChange(c)});return cr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(Xe.img,{...s,ref:e,src:r}):null});FY.displayName=jY;var BY="AvatarFallback",UY=P.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=DY(BY,n),[o,a]=P.useState(r===void 0);return P.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?h.jsx(Xe.span,{...i,ref:e}):null});UY.displayName=BY;function x$(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bxe(t,{referrerPolicy:e,crossOrigin:n}){const r=Sxe(),i=P.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=P.useState(()=>x$(s,t));return cr(()=>{a(x$(s,t))},[s,t]),cr(()=>{const l=u=>()=>{a(u)};if(!s)return;const c=l("loaded"),d=l("error");return s.addEventListener("load",c),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",d)}},[s,n,e]),o}function wxe(){return()=>{}}function Sxe(){return P.useSyncExternalStore(wxe,()=>!0,()=>!1)}var zY=LY,$Y=FY,HY=UY;const Exe=P.forwardRef(({className:t,...e},n)=>h.jsx(zY,{ref:n,className:we(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));Exe.displayName=zY.displayName;const Cxe=P.forwardRef(({className:t,...e},n)=>h.jsx($Y,{ref:n,className:we("aspect-square h-full w-full",t),...e}));Cxe.displayName=$Y.displayName;const Mxe=P.forwardRef(({className:t,...e},n)=>h.jsx(HY,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Mxe.displayName=HY.displayName;const Axe=Gc("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function fn({className:t,variant:e,...n}){return h.jsx("div",{className:we(Axe({variant:e}),t),...n})}const Txe=P.forwardRef(({...t},e)=>h.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));Txe.displayName="Breadcrumb";const Pxe=P.forwardRef(({className:t,...e},n)=>h.jsx("ol",{ref:n,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));Pxe.displayName="BreadcrumbList";const Nxe=P.forwardRef(({className:t,...e},n)=>h.jsx("li",{ref:n,className:we("inline-flex items-center gap-1.5",t),...e}));Nxe.displayName="BreadcrumbItem";const Rxe=P.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?j_:"a";return h.jsx(i,{ref:r,className:we("transition-colors hover:text-foreground",e),...n})});Rxe.displayName="BreadcrumbLink";const Oxe=P.forwardRef(({className:t,...e},n)=>h.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:we("font-normal text-foreground",t),...e}));Oxe.displayName="BreadcrumbPage";const fx=Gc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ge=P.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?j_:"button";return h.jsx(o,{className:we(fx({variant:e,size:n,className:t})),ref:s,...i})});Ge.displayName="Button";function wn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ao(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ji(t,e){const n=wn(t);return isNaN(e)?ao(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Oa(t,e){const n=wn(t);if(isNaN(e))return ao(t,NaN);if(!e)return n;const r=n.getDate(),i=ao(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Qj=6048e5,Ixe=864e5;let kxe={};function G_(){return kxe}function El(t,e){var a,l,c,d;const n=G_(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=wn(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function lh(t){return El(t,{weekStartsOn:1})}function VY(t){const e=wn(t),n=e.getFullYear(),r=ao(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=lh(r),s=ao(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=lh(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function fg(t){const e=wn(t);return e.setHours(0,0,0,0),e}function PE(t){const e=wn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ll(t,e){const n=fg(t),r=fg(e),i=+n-PE(n),s=+r-PE(r);return Math.round((i-s)/Ixe)}function Dxe(t){const e=VY(t),n=ao(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),lh(n)}function $I(t,e){const n=e*7;return Ji(t,n)}function Lxe(t,e){return Oa(t,e*12)}function jxe(t){let e;return t.forEach(function(n){const r=wn(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Fxe(t){let e;return t.forEach(n=>{const r=wn(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Es(t,e){const n=fg(t),r=fg(e);return+n==+r}function Jj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bxe(t){if(!Jj(t)&&typeof t!="number")return!1;const e=wn(t);return!isNaN(Number(e))}function hx(t,e){const n=wn(t),r=wn(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function Uxe(t,e,n){const r=El(t,n),i=El(e,n),s=+r-PE(r),o=+i-PE(i);return Math.round((s-o)/Qj)}function e3(t){const e=wn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Ns(t){const e=wn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function WY(t){const e=wn(t),n=ao(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function t3(t,e){var a,l,c,d;const n=G_(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=wn(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function GY(t){return t3(t,{weekStartsOn:1})}const zxe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},$xe=(t,e,n)=>{let r;const i=zxe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function SN(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Hxe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Vxe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wxe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Gxe={date:SN({formats:Hxe,defaultWidth:"full"}),time:SN({formats:Vxe,defaultWidth:"full"}),dateTime:SN({formats:Wxe,defaultWidth:"full"})},Xxe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},qxe=(t,e,n,r)=>Xxe[t];function by(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Kxe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yxe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Zxe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Qxe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jxe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},e_e={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},t_e=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},n_e={ordinalNumber:t_e,era:by({values:Kxe,defaultWidth:"wide"}),quarter:by({values:Yxe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:by({values:Zxe,defaultWidth:"wide"}),day:by({values:Qxe,defaultWidth:"wide"}),dayPeriod:by({values:Jxe,defaultWidth:"wide",formattingValues:e_e,defaultFormattingWidth:"wide"})};function wy(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?i_e(a,u=>u.test(o)):r_e(a,u=>u.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const d=e.slice(o.length);return{value:c,rest:d}}}function r_e(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function i_e(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function s_e(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const o_e=/^(\d+)(th|st|nd|rd)?/i,a_e=/\d+/i,l_e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},c_e={any:[/^b/i,/^(a|c)/i]},u_e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},d_e={any:[/1/i,/2/i,/3/i,/4/i]},f_e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},h_e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},p_e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},m_e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},g_e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},v_e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},y_e={ordinalNumber:s_e({matchPattern:o_e,parsePattern:a_e,valueCallback:t=>parseInt(t,10)}),era:wy({matchPatterns:l_e,defaultMatchWidth:"wide",parsePatterns:c_e,defaultParseWidth:"any"}),quarter:wy({matchPatterns:u_e,defaultMatchWidth:"wide",parsePatterns:d_e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:wy({matchPatterns:f_e,defaultMatchWidth:"wide",parsePatterns:h_e,defaultParseWidth:"any"}),day:wy({matchPatterns:p_e,defaultMatchWidth:"wide",parsePatterns:m_e,defaultParseWidth:"any"}),dayPeriod:wy({matchPatterns:g_e,defaultMatchWidth:"any",parsePatterns:v_e,defaultParseWidth:"any"})},XY={code:"en-US",formatDistance:$xe,formatLong:Gxe,formatRelative:qxe,localize:n_e,match:y_e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function x_e(t){const e=wn(t);return ll(e,WY(e))+1}function qY(t){const e=wn(t),n=+lh(e)-+Dxe(e);return Math.round(n/Qj)+1}function KY(t,e){var d,u,f,g;const n=wn(t),r=n.getFullYear(),i=G_(),s=(e==null?void 0:e.firstWeekContainsDate)??((u=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(f=i.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=ao(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=El(o,e),l=ao(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=El(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function __e(t,e){var a,l,c,d;const n=G_(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=KY(t,e),s=ao(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),El(s,e)}function YY(t,e){const n=wn(t),r=+El(n,e)-+__e(n,e);return Math.round(r/Qj)+1}function Fn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const mu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fn(n+1,2)},d(t,e){return Fn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fn(t.getHours()%12||12,e.length)},H(t,e){return Fn(t.getHours(),e.length)},m(t,e){return Fn(t.getMinutes(),e.length)},s(t,e){return Fn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Fn(i,e.length)}},yp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},_$={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mu.y(t,e)},Y:function(t,e,n,r){const i=KY(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Fn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Fn(s,e.length)},R:function(t,e){const n=VY(t);return Fn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return mu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=YY(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Fn(i,e.length)},I:function(t,e,n){const r=qY(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):mu.d(t,e)},D:function(t,e,n){const r=x_e(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Fn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Fn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Fn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=yp.noon:r===0?i=yp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=yp.evening:r>=12?i=yp.afternoon:r>=4?i=yp.morning:i=yp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return mu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):mu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):mu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):mu.s(t,e)},S:function(t,e){return mu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return w$(r);case"XXXX":case"XX":return hf(r);case"XXXXX":case"XXX":default:return hf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return w$(r);case"xxxx":case"xx":return hf(r);case"xxxxx":case"xxx":default:return hf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+b$(r,":");case"OOOO":default:return"GMT"+hf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+b$(r,":");case"zzzz":default:return"GMT"+hf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Fn(r,e.length)},T:function(t,e,n){const r=t.getTime();return Fn(r,e.length)}};function b$(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Fn(s,2)}function w$(t,e){return t%60===0?(t>0?"-":"+")+Fn(Math.abs(t)/60,2):hf(t,e)}function hf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Fn(Math.trunc(r/60),2),s=Fn(r%60,2);return n+i+e+s}const S$=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ZY=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},b_e=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return S$(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",S$(r,e)).replace("{{time}}",ZY(i,e))},w_e={p:ZY,P:b_e},S_e=/^D+$/,E_e=/^Y+$/,C_e=["D","DD","YY","YYYY"];function M_e(t){return S_e.test(t)}function A_e(t){return E_e.test(t)}function T_e(t,e,n){const r=P_e(t,e,n);if(console.warn(r),C_e.includes(t))throw new RangeError(r)}function P_e(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const N_e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,R_e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,O_e=/^'([^]*?)'?$/,I_e=/''/g,k_e=/[a-zA-Z]/;function Sd(t,e,n){var d,u,f,g,v,y,m,p;const r=G_(),i=(n==null?void 0:n.locale)??r.locale??XY,s=(n==null?void 0:n.firstWeekContainsDate)??((u=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(f=r.locale)==null?void 0:f.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=wn(t);if(!Bxe(a))throw new RangeError("Invalid time value");let l=e.match(R_e).map(x=>{const _=x[0];if(_==="p"||_==="P"){const b=w_e[_];return b(x,i.formatLong)}return x}).join("").match(N_e).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:D_e(x)};if(_$[_])return{isToken:!0,value:x};if(_.match(k_e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&A_e(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&M_e(_))&&T_e(_,e,String(t));const b=_$[_[0]];return b(a,_,i.localize,c)}).join("")}function D_e(t){const e=t.match(O_e);return e?e[1].replace(I_e,"'"):t}function L_e(t){const e=wn(t),n=e.getFullYear(),r=e.getMonth(),i=ao(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function j_e(t){return Math.trunc(+wn(t)/1e3)}function F_e(t){const e=wn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function B_e(t,e){return Uxe(F_e(t),Ns(t),e)+1}function HI(t,e){const n=wn(t),r=wn(e);return n.getTime()>r.getTime()}function QY(t,e){const n=wn(t),r=wn(e);return+n<+r}function n3(t,e){const n=wn(t),r=wn(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function U_e(t,e){const n=wn(t),r=wn(e);return n.getFullYear()===r.getFullYear()}function EN(t,e){return Ji(t,-e)}function CN(t,e){const n=wn(t),r=n.getFullYear(),i=n.getDate(),s=ao(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=L_e(s);return n.setMonth(e,Math.min(i,o)),n}function E$(t,e){const n=wn(t);return isNaN(+n)?ao(t,NaN):(n.setFullYear(e),n)}var Vt=function(){return Vt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Vt.apply(this,arguments)};function z_e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function JY(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function X_(t){return t.mode==="multiple"}function q_(t){return t.mode==="range"}function EA(t){return t.mode==="single"}var $_e={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function H_e(t,e){return Sd(t,"LLLL y",e)}function V_e(t,e){return Sd(t,"d",e)}function W_e(t,e){return Sd(t,"LLLL",e)}function G_e(t){return"".concat(t)}function X_e(t,e){return Sd(t,"cccccc",e)}function q_e(t,e){return Sd(t,"yyyy",e)}var K_e=Object.freeze({__proto__:null,formatCaption:H_e,formatDay:V_e,formatMonthCaption:W_e,formatWeekNumber:G_e,formatWeekdayName:X_e,formatYearCaption:q_e}),Y_e=function(t,e,n){return Sd(t,"do MMMM (EEEE)",n)},Z_e=function(){return"Month: "},Q_e=function(){return"Go to next month"},J_e=function(){return"Go to previous month"},ebe=function(t,e){return Sd(t,"cccc",e)},tbe=function(t){return"Week n. ".concat(t)},nbe=function(){return"Year: "},rbe=Object.freeze({__proto__:null,labelDay:Y_e,labelMonthDropdown:Z_e,labelNext:Q_e,labelPrevious:J_e,labelWeekNumber:tbe,labelWeekday:ebe,labelYearDropdown:nbe});function ibe(){var t="buttons",e=$_e,n=XY,r={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:K_e,labels:rbe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function sbe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return r?s=Ns(r):e&&(s=new Date(e,0,1)),i?o=e3(i):n&&(o=new Date(n,11,31)),{fromDate:s?fg(s):void 0,toDate:o?fg(o):void 0}}var eZ=P.createContext(void 0);function obe(t){var e,n=t.initialProps,r=ibe(),i=sbe(n),s=i.fromDate,o=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var l;(EA(n)||X_(n)||q_(n))&&(l=n.onSelect);var c=Vt(Vt(Vt({},r),n),{captionLayout:a,classNames:Vt(Vt({},r.classNames),n.classNames),components:Vt({},n.components),formatters:Vt(Vt({},r.formatters),n.formatters),fromDate:s,labels:Vt(Vt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Vt(Vt({},r.modifiers),n.modifiers),modifiersClassNames:Vt(Vt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Vt(Vt({},r.styles),n.styles),toDate:o});return h.jsx(eZ.Provider,{value:c,children:t.children})}function Qn(){var t=P.useContext(eZ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function tZ(t){var e=Qn(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return h.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function abe(t){return h.jsx("svg",Vt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:h.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function nZ(t){var e,n,r=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,l=t.style,c=Qn(),d=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:abe;return h.jsxs("div",{className:a,style:l,children:[h.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),h.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),h.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,h.jsx(d,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function lbe(t){var e,n=Qn(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,d=n.labels.labelMonthDropdown;if(!r)return h.jsx(h.Fragment,{});if(!i)return h.jsx(h.Fragment,{});var u=[];if(U_e(r,i))for(var f=Ns(r),g=r.getMonth();g<=i.getMonth();g++)u.push(CN(f,g));else for(var f=Ns(new Date),g=0;g<=11;g++)u.push(CN(f,g));var v=function(m){var p=Number(m.target.value),x=CN(Ns(t.displayMonth),p);t.onChange(x)},y=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:nZ;return h.jsx(y,{name:"months","aria-label":d(),className:l.dropdown_month,style:s.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:u.map(function(m){return h.jsx("option",{value:m.getMonth(),children:a(m,{locale:o})},m.getMonth())})})}function cbe(t){var e,n=t.displayMonth,r=Qn(),i=r.fromDate,s=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,d=r.formatters.formatYearCaption,u=r.labels.labelYearDropdown,f=[];if(!i)return h.jsx(h.Fragment,{});if(!s)return h.jsx(h.Fragment,{});for(var g=i.getFullYear(),v=s.getFullYear(),y=g;y<=v;y++)f.push(E$(WY(new Date),y));var m=function(x){var _=E$(Ns(n),Number(x.target.value));t.onChange(_)},p=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:nZ;return h.jsx(p,{name:"years","aria-label":u(),className:l.dropdown_year,style:a.dropdown_year,onChange:m,value:n.getFullYear(),caption:d(n,{locale:o}),children:f.map(function(x){return h.jsx("option",{value:x.getFullYear(),children:d(x,{locale:o})},x.getFullYear())})})}function ube(t,e){var n=P.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function dbe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(s&&hx(s,i)<0){var c=-1*(l-1);i=Oa(s,c)}return o&&hx(i,o)<0&&(i=o),Ns(i)}function fbe(){var t=Qn(),e=dbe(t),n=ube(e,t.month),r=n[0],i=n[1],s=function(o){var a;if(!t.disableNavigation){var l=Ns(o);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,s]}function hbe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Ns(t),s=Ns(Oa(i,r)),o=hx(s,i),a=[],l=0;l<o;l++){var c=Oa(i,l);a.push(c)}return n&&(a=a.reverse()),a}function pbe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Ns(t);if(!n)return Oa(a,o);var l=hx(n,t);if(!(l<s))return Oa(a,o)}}function mbe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Ns(t);if(!n)return Oa(a,-o);var l=hx(a,n);if(!(l<=0))return Oa(a,-o)}}var rZ=P.createContext(void 0);function gbe(t){var e=Qn(),n=fbe(),r=n[0],i=n[1],s=hbe(r,e),o=pbe(r,e),a=mbe(r,e),l=function(u){return s.some(function(f){return n3(u,f)})},c=function(u,f){l(u)||(f&&QY(u,f)?i(Oa(u,1+e.numberOfMonths*-1)):i(u))},d={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return h.jsx(rZ.Provider,{value:d,children:t.children})}function K_(){var t=P.useContext(rZ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function C$(t){var e,n=Qn(),r=n.classNames,i=n.styles,s=n.components,o=K_().goToMonth,a=function(d){o(Oa(d,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:tZ,c=h.jsx(l,{id:t.id,displayMonth:t.displayMonth});return h.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[h.jsx("div",{className:r.vhidden,children:c}),h.jsx(lbe,{onChange:a,displayMonth:t.displayMonth}),h.jsx(cbe,{onChange:a,displayMonth:t.displayMonth})]})}function vbe(t){return h.jsx("svg",Vt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function ybe(t){return h.jsx("svg",Vt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:h.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var NE=P.forwardRef(function(t,e){var n=Qn(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var o=s.join(" "),a=Vt(Vt({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),h.jsx("button",Vt({},t,{ref:e,type:"button",className:o,style:a}))});function xbe(t){var e,n,r=Qn(),i=r.dir,s=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,d=l.labelNext,u=r.components;if(!t.nextMonth&&!t.previousMonth)return h.jsx(h.Fragment,{});var f=c(t.previousMonth,{locale:s}),g=[o.nav_button,o.nav_button_previous].join(" "),v=d(t.nextMonth,{locale:s}),y=[o.nav_button,o.nav_button_next].join(" "),m=(e=u==null?void 0:u.IconRight)!==null&&e!==void 0?e:ybe,p=(n=u==null?void 0:u.IconLeft)!==null&&n!==void 0?n:vbe;return h.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&h.jsx(NE,{name:"previous-month","aria-label":f,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?h.jsx(m,{className:o.nav_icon,style:a.nav_icon}):h.jsx(p,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&h.jsx(NE,{name:"next-month","aria-label":v,className:y,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?h.jsx(p,{className:o.nav_icon,style:a.nav_icon}):h.jsx(m,{className:o.nav_icon,style:a.nav_icon})})]})}function M$(t){var e=Qn().numberOfMonths,n=K_(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(v){return n3(t.displayMonth,v)}),l=a===0,c=a===o.length-1,d=e>1&&(l||!c),u=e>1&&(c||!l),f=function(){r&&s(r)},g=function(){i&&s(i)};return h.jsx(xbe,{displayMonth:t.displayMonth,hideNext:d,hidePrevious:u,nextMonth:i,previousMonth:r,onPreviousClick:f,onNextClick:g})}function _be(t){var e,n=Qn(),r=n.classNames,i=n.disableNavigation,s=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:tZ,c;return i?c=h.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=h.jsx(C$,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=h.jsxs(h.Fragment,{children:[h.jsx(C$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),h.jsx(M$,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=h.jsxs(h.Fragment,{children:[h.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(M$,{displayMonth:t.displayMonth,id:t.id})]}),h.jsx("div",{className:r.caption,style:s.caption,children:c})}function bbe(t){var e=Qn(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?h.jsx("tfoot",{className:i,style:r.tfoot,children:h.jsx("tr",{children:h.jsx("td",{colSpan:8,children:n})})}):h.jsx(h.Fragment,{})}function wbe(t,e,n){for(var r=n?lh(new Date):El(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=Ji(r,s);i.push(o)}return i}function Sbe(){var t=Qn(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=wbe(i,s,o);return h.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&h.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(d,u){return h.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(d,{locale:i}),children:a(d,{locale:i})},u)})]})}function Ebe(){var t,e=Qn(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Sbe;return h.jsx("thead",{style:r.head,className:n.head,children:h.jsx(s,{})})}function Cbe(t){var e=Qn(),n=e.locale,r=e.formatters.formatDay;return h.jsx(h.Fragment,{children:r(t.date,{locale:n})})}var r3=P.createContext(void 0);function Mbe(t){if(!X_(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return h.jsx(r3.Provider,{value:e,children:t.children})}return h.jsx(Abe,{initialProps:t.initialProps,children:t.children})}function Abe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,o=function(c,d,u){var f,g;(f=e.onDayClick)===null||f===void 0||f.call(e,c,d,u);var v=!!(d.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var y=!!(!d.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var m=r?JY([],r):[];if(d.selected){var p=m.findIndex(function(x){return Es(c,x)});m.splice(p,1)}else m.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,m,c,d,u)}}},a={disabled:[]};r&&a.disabled.push(function(c){var d=s&&r.length>s-1,u=r.some(function(f){return Es(f,c)});return!!(d&&!u)});var l={selected:r,onDayClick:o,modifiers:a};return h.jsx(r3.Provider,{value:l,children:n})}function i3(){var t=P.useContext(r3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Tbe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Es(i,t)&&Es(r,t)?void 0:Es(i,t)?{from:i,to:void 0}:Es(r,t)?void 0:HI(r,t)?{from:t,to:i}:{from:r,to:t}:i?HI(t,i)?{from:i,to:t}:{from:t,to:i}:r?QY(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var s3=P.createContext(void 0);function Pbe(t){if(!q_(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return h.jsx(s3.Provider,{value:e,children:t.children})}return h.jsx(Nbe,{initialProps:t.initialProps,children:t.children})}function Nbe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,o=i.to,a=e.min,l=e.max,c=function(g,v,y){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,g,v,y);var x=Tbe(g,r);(p=e.onSelect)===null||p===void 0||p.call(e,x,g,v,y)},d={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(d.range_start=[s],o?(d.range_end=[o],Es(s,o)||(d.range_middle=[{after:s,before:o}])):d.range_end=[s]):o&&(d.range_start=[o],d.range_end=[o]),a&&(s&&!o&&d.disabled.push({after:EN(s,a-1),before:Ji(s,a-1)}),s&&o&&d.disabled.push({after:s,before:Ji(s,a-1)}),!s&&o&&d.disabled.push({after:EN(o,a-1),before:Ji(o,a-1)})),l){if(s&&!o&&(d.disabled.push({before:Ji(s,-l+1)}),d.disabled.push({after:Ji(s,l-1)})),s&&o){var u=ll(o,s)+1,f=l-u;d.disabled.push({before:EN(s,f)}),d.disabled.push({after:Ji(o,f)})}!s&&o&&(d.disabled.push({before:Ji(o,-l+1)}),d.disabled.push({after:Ji(o,l-1)}))}return h.jsx(s3.Provider,{value:{selected:r,onDayClick:c,modifiers:d},children:n})}function o3(){var t=P.useContext(s3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function LS(t){return Array.isArray(t)?JY([],t):t!==void 0?[t]:[]}function Rbe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=LS(i)}),e}var Ia;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ia||(Ia={}));var Obe=Ia.Selected,Yl=Ia.Disabled,Ibe=Ia.Hidden,kbe=Ia.Today,MN=Ia.RangeEnd,AN=Ia.RangeMiddle,TN=Ia.RangeStart,Dbe=Ia.Outside;function Lbe(t,e,n){var r,i=(r={},r[Obe]=LS(t.selected),r[Yl]=LS(t.disabled),r[Ibe]=LS(t.hidden),r[kbe]=[t.today],r[MN]=[],r[AN]=[],r[TN]=[],r[Dbe]=[],r);return t.fromDate&&i[Yl].push({before:t.fromDate}),t.toDate&&i[Yl].push({after:t.toDate}),X_(t)?i[Yl]=i[Yl].concat(e.modifiers[Yl]):q_(t)&&(i[Yl]=i[Yl].concat(n.modifiers[Yl]),i[TN]=n.modifiers[TN],i[AN]=n.modifiers[AN],i[MN]=n.modifiers[MN]),i}var iZ=P.createContext(void 0);function jbe(t){var e=Qn(),n=i3(),r=o3(),i=Lbe(e,n,r),s=Rbe(e.modifiers),o=Vt(Vt({},i),s);return h.jsx(iZ.Provider,{value:o,children:t.children})}function sZ(){var t=P.useContext(iZ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Fbe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function Bbe(t){return!!(t&&typeof t=="object"&&"from"in t)}function Ube(t){return!!(t&&typeof t=="object"&&"after"in t)}function zbe(t){return!!(t&&typeof t=="object"&&"before"in t)}function $be(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Hbe(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=ll(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var o=ll(t,r)>=0&&ll(i,t)>=0;return o}return i?Es(i,t):r?Es(r,t):!1}function Vbe(t){return Jj(t)}function Wbe(t){return Array.isArray(t)&&t.every(Jj)}function Gbe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Vbe(n))return Es(t,n);if(Wbe(n))return n.includes(t);if(Bbe(n))return Hbe(t,n);if($be(n))return n.dayOfWeek.includes(t.getDay());if(Fbe(n)){var r=ll(n.before,t),i=ll(n.after,t),s=r>0,o=i<0,a=HI(n.before,n.after);return a?o&&s:s||o}return Ube(n)?ll(t,n.after)>0:zbe(n)?ll(n.before,t)>0:typeof n=="function"?n(t):!1})}function a3(t,e,n){var r=Object.keys(e).reduce(function(s,o){var a=e[o];return Gbe(t,a)&&s.push(o),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!n3(t,n)&&(i.outside=!0),i}function Xbe(t,e){for(var n=Ns(t[0]),r=e3(t[t.length-1]),i,s,o=n;o<=r;){var a=a3(o,e),l=!a.disabled&&!a.hidden;if(!l){o=Ji(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=Ji(o,1)}return s||i}var qbe=365;function oZ(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,c=i.fromDate,d=i.toDate,u=i.locale,f={day:Ji,week:$I,month:Oa,year:Lxe,startOfWeek:function(m){return i.ISOWeek?lh(m):El(m,{locale:u,weekStartsOn:l})},endOfWeek:function(m){return i.ISOWeek?GY(m):t3(m,{locale:u,weekStartsOn:l})}},g=f[n](t,r==="after"?1:-1);r==="before"&&c?g=jxe([c,g]):r==="after"&&d&&(g=Fxe([d,g]));var v=!0;if(s){var y=a3(g,s);v=!y.disabled&&!y.hidden}return v?g:a.count>qbe?a.lastFocused:oZ(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:Vt(Vt({},a),{count:a.count+1})})}var aZ=P.createContext(void 0);function Kbe(t){var e=K_(),n=sZ(),r=P.useState(),i=r[0],s=r[1],o=P.useState(),a=o[0],l=o[1],c=Xbe(e.displayMonths,n),d=i??(a&&e.isDateDisplayed(a))?a:c,u=function(){l(i),s(void 0)},f=function(m){s(m)},g=Qn(),v=function(m,p){if(i){var x=oZ(i,{moveBy:m,direction:p,context:g,modifiers:n});Es(i,x)||(e.goToDate(x,i),f(x))}},y={focusedDay:i,focusTarget:d,blur:u,focus:f,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return h.jsx(aZ.Provider,{value:y,children:t.children})}function l3(){var t=P.useContext(aZ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Ybe(t,e){var n=sZ(),r=a3(t,n,e);return r}var c3=P.createContext(void 0);function Zbe(t){if(!EA(t.initialProps)){var e={selected:void 0};return h.jsx(c3.Provider,{value:e,children:t.children})}return h.jsx(Qbe,{initialProps:t.initialProps,children:t.children})}function Qbe(t){var e=t.initialProps,n=t.children,r=function(s,o,a){var l,c,d;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,o,a);return}(d=e.onSelect)===null||d===void 0||d.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:r};return h.jsx(c3.Provider,{value:i,children:n})}function lZ(){var t=P.useContext(c3);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Jbe(t,e){var n=Qn(),r=lZ(),i=i3(),s=o3(),o=l3(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,d=o.focusWeekBefore,u=o.blur,f=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,y=o.focusYearBefore,m=o.focusYearAfter,p=o.focusStartOfWeek,x=o.focusEndOfWeek,_=function(V){var R,L,B,W;EA(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,t,e,V):X_(n)?(L=i.onDayClick)===null||L===void 0||L.call(i,t,e,V):q_(n)?(B=s.onDayClick)===null||B===void 0||B.call(s,t,e,V):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,V)},b=function(V){var R;f(t),(R=n.onDayFocus)===null||R===void 0||R.call(n,t,e,V)},S=function(V){var R;u(),(R=n.onDayBlur)===null||R===void 0||R.call(n,t,e,V)},C=function(V){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,t,e,V)},A=function(V){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,t,e,V)},M=function(V){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,t,e,V)},T=function(V){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,t,e,V)},N=function(V){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,t,e,V)},I=function(V){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,t,e,V)},k=function(V){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,t,e,V)},j=function(V){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,t,e,V)},F=function(V){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,t,e,V)},z=function(V){var R;switch(V.key){case"ArrowLeft":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":V.preventDefault(),V.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":V.preventDefault(),V.stopPropagation(),c();break;case"ArrowUp":V.preventDefault(),V.stopPropagation(),d();break;case"PageUp":V.preventDefault(),V.stopPropagation(),V.shiftKey?y():g();break;case"PageDown":V.preventDefault(),V.stopPropagation(),V.shiftKey?m():v();break;case"Home":V.preventDefault(),V.stopPropagation(),p();break;case"End":V.preventDefault(),V.stopPropagation(),x();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,t,e,V)},$={onClick:_,onFocus:b,onBlur:S,onKeyDown:z,onKeyUp:F,onMouseEnter:C,onMouseLeave:A,onPointerEnter:M,onPointerLeave:T,onTouchCancel:N,onTouchEnd:I,onTouchMove:k,onTouchStart:j};return $}function ewe(){var t=Qn(),e=lZ(),n=i3(),r=o3(),i=EA(t)?e.selected:X_(t)?n.selected:q_(t)?r.selected:void 0;return i}function twe(t){return Object.values(Ia).includes(t)}function nwe(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(twe(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function rwe(t,e){var n=Vt({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Vt(Vt({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function iwe(t,e,n){var r,i,s,o=Qn(),a=l3(),l=Ybe(t,e),c=Jbe(t,l),d=ewe(),u=!!(o.onDayClick||o.mode!=="default");P.useEffect(function(){var C;l.outside||a.focusedDay&&u&&Es(a.focusedDay,t)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,t,n,u,l.outside]);var f=nwe(o,l).join(" "),g=rwe(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),y=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Cbe,m=h.jsx(y,{date:t,displayMonth:e,activeModifiers:l}),p={style:g,className:f,children:m,role:"gridcell"},x=a.focusTarget&&Es(a.focusTarget,t)&&!l.outside,_=a.focusedDay&&Es(a.focusedDay,t),b=Vt(Vt(Vt({},p),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=_||x?0:-1,r)),c),S={isButton:u,isHidden:v,activeModifiers:l,selectedDays:d,buttonProps:b,divProps:p};return S}function swe(t){var e=P.useRef(null),n=iwe(t.date,t.displayMonth,e);return n.isHidden?h.jsx("div",{role:"gridcell"}):n.isButton?h.jsx(NE,Vt({name:"day",ref:e},n.buttonProps)):h.jsx("div",Vt({},n.divProps))}function owe(t){var e=t.number,n=t.dates,r=Qn(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,d=c(Number(e),{locale:a});if(!i)return h.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:d});var u=l(Number(e),{locale:a}),f=function(g){i(e,n,g)};return h.jsx(NE,{name:"week-number","aria-label":u,className:o.weeknumber,style:s.weeknumber,onClick:f,children:d})}function awe(t){var e,n,r=Qn(),i=r.styles,s=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:swe,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:owe,d;return o&&(d=h.jsx("td",{className:s.cell,style:i.cell,children:h.jsx(c,{number:t.weekNumber,dates:t.dates})})),h.jsxs("tr",{className:s.row,style:i.row,children:[d,t.dates.map(function(u){return h.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:h.jsx(l,{displayMonth:t.displayMonth,date:u})},j_e(u))})]})}function A$(t,e,n){for(var r=n!=null&&n.ISOWeek?GY(e):t3(e,n),i=n!=null&&n.ISOWeek?lh(t):El(t,n),s=ll(r,i),o=[],a=0;a<=s;a++)o.push(Ji(i,a));var l=o.reduce(function(c,d){var u=n!=null&&n.ISOWeek?qY(d):YY(d,n),f=c.find(function(g){return g.weekNumber===u});return f?(f.dates.push(d),c):(c.push({weekNumber:u,dates:[d]}),c)},[]);return l}function lwe(t,e){var n=A$(Ns(t),e3(t),e);if(e!=null&&e.useFixedWeeks){var r=B_e(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=$I(s,6-r),a=A$($I(s,1),o,e);n.push.apply(n,a)}}return n}function cwe(t){var e,n,r,i=Qn(),s=i.locale,o=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,d=i.components,u=i.weekStartsOn,f=i.firstWeekContainsDate,g=i.ISOWeek,v=lwe(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:s,weekStartsOn:u,firstWeekContainsDate:f}),y=(e=d==null?void 0:d.Head)!==null&&e!==void 0?e:Ebe,m=(n=d==null?void 0:d.Row)!==null&&n!==void 0?n:awe,p=(r=d==null?void 0:d.Footer)!==null&&r!==void 0?r:bbe;return h.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&h.jsx(y,{}),h.jsx("tbody",{className:o.tbody,style:a.tbody,children:v.map(function(x){return h.jsx(m,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),h.jsx(p,{displayMonth:t.displayMonth})]})}function uwe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var dwe=uwe()?P.useLayoutEffect:P.useEffect,PN=!1,fwe=0;function T$(){return"react-day-picker-".concat(++fwe)}function hwe(t){var e,n=t??(PN?T$():null),r=P.useState(n),i=r[0],s=r[1];return dwe(function(){i===null&&s(T$())},[]),P.useEffect(function(){PN===!1&&(PN=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function pwe(t){var e,n,r=Qn(),i=r.dir,s=r.classNames,o=r.styles,a=r.components,l=K_().displayMonths,c=hwe(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),d=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,u=[s.month],f=o.month,g=t.displayIndex===0,v=t.displayIndex===l.length-1,y=!g&&!v;i==="rtl"&&(e=[g,v],v=e[0],g=e[1]),g&&(u.push(s.caption_start),f=Vt(Vt({},f),o.caption_start)),v&&(u.push(s.caption_end),f=Vt(Vt({},f),o.caption_end)),y&&(u.push(s.caption_between),f=Vt(Vt({},f),o.caption_between));var m=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:_be;return h.jsxs("div",{className:u.join(" "),style:f,children:[h.jsx(m,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),h.jsx(cwe,{id:d,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function mwe(t){var e=Qn(),n=e.classNames,r=e.styles;return h.jsx("div",{className:n.months,style:r.months,children:t.children})}function gwe(t){var e,n,r=t.initialProps,i=Qn(),s=l3(),o=K_(),a=P.useState(!1),l=a[0],c=a[1];P.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var d=[i.classNames.root,i.className];i.numberOfMonths>1&&d.push(i.classNames.multiple_months),i.showWeekNumber&&d.push(i.classNames.with_weeknumber);var u=Vt(Vt({},i.styles.root),i.style),f=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,y){var m;return Vt(Vt({},v),(m={},m[y]=r[y],m))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:mwe;return h.jsx("div",Vt({className:d.join(" "),style:u,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},f,{children:h.jsx(g,{children:o.displayMonths.map(function(v,y){return h.jsx(pwe,{displayIndex:y,displayMonth:v},y)})})}))}function vwe(t){var e=t.children,n=z_e(t,["children"]);return h.jsx(obe,{initialProps:n,children:h.jsx(gbe,{children:h.jsx(Zbe,{initialProps:n,children:h.jsx(Mbe,{initialProps:n,children:h.jsx(Pbe,{initialProps:n,children:h.jsx(jbe,{children:h.jsx(Kbe,{children:e})})})})})})})}function ywe(t){return h.jsx(vwe,Vt({},t,{children:h.jsx(gwe,{initialProps:t})}))}function VI({className:t,classNames:e,showOutsideDays:n=!0,...r}){return h.jsx(ywe,{showOutsideDays:n,className:we("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:we(fx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:we(fx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>h.jsx(Ive,{className:we("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>h.jsx(mA,{className:we("h-4 w-4",i),...s})},...r})}VI.displayName="Calendar";const Ze=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ze.displayName="Card";const it=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));it.displayName="CardHeader";const ot=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));ot.displayName="CardTitle";const Wt=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Wt.displayName="CardDescription";const ct=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));ct.displayName="CardContent";const xwe=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));xwe.displayName="CardFooter";function _we(t){return Object.prototype.toString.call(t)==="[object Object]"}function P$(t){return _we(t)||Array.isArray(t)}function bwe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function u3(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!P$(a)||!P$(l)?a===l:u3(a,l)})}function N$(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function wwe(t,e){if(t.length!==e.length)return!1;const n=N$(t),r=N$(e);return n.every((i,s)=>{const o=r[s];return u3(i,o)})}function d3(t){return typeof t=="number"}function WI(t){return typeof t=="string"}function CA(t){return typeof t=="boolean"}function R$(t){return Object.prototype.toString.call(t)==="[object Object]"}function gr(t){return Math.abs(t)}function f3(t){return Math.sign(t)}function C0(t,e){return gr(t-e)}function Swe(t,e){if(t===0||e===0||gr(t)<=gr(e))return 0;const n=C0(gr(t),gr(e));return gr(n/t)}function Ewe(t){return Math.round(t*100)/100}function px(t){return mx(t).map(Number)}function Aa(t){return t[Y_(t)]}function Y_(t){return Math.max(0,t.length-1)}function h3(t,e){return e===Y_(t)}function O$(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function mx(t){return Object.keys(t)}function cZ(t,e){return[t,e].reduce((n,r)=>(mx(r).forEach(i=>{const s=n[i],o=r[i],a=R$(s)&&R$(o);n[i]=a?cZ(s,o):o}),n),{})}function GI(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function Cwe(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return WI(t)?n[t](l):t(e,l,c)}return{measure:o}}function gx(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function Mwe(t,e,n,r){const i=gx(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function d(){g(),i.clear()}function u(m){if(!l)return;o||(o=m,n(),n());const p=m-o;for(o=m,a+=p;a>=s;)n(),a-=s;const x=a/s;r(x),l&&(l=e.requestAnimationFrame(u))}function f(){l||(l=e.requestAnimationFrame(u))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:d,start:f,stop:g,update:n,render:r}}function Awe(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=d(),l=u();function c(v){const{height:y,width:m}=v;return r?y:m}function d(){return r?"top":n?"right":"left"}function u(){return r?"bottom":n?"left":"right"}function f(v){return v*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:f}}function ch(t=0,e=0){const n=gr(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function uZ(t,e,n){const{constrain:r}=ch(0,t),i=t+1;let s=o(e);function o(f){return n?gr((i+f)%i):r(f)}function a(){return s}function l(f){return s=o(f),u}function c(f){return d().set(a()+f)}function d(){return uZ(t,a(),n)}const u={get:a,set:l,add:c,clone:d};return u}function Twe(t,e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m,p,x){const{cross:_,direction:b}=t,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},A=gx(),M=gx(),T=ch(50,225).constrain(g.measure(20)),N={mouse:300,touch:400},I={mouse:500,touch:600},k=v?43:25;let j=!1,F=0,z=0,$=!1,V=!1,R=!1,L=!1;function B(J){if(!x)return;function q(fe){(CA(x)||x(J,fe))&&se(fe)}const ne=e;A.add(ne,"dragstart",fe=>fe.preventDefault(),C).add(ne,"touchmove",()=>{},C).add(ne,"touchend",()=>{}).add(ne,"touchstart",q).add(ne,"mousedown",q).add(ne,"touchcancel",K).add(ne,"contextmenu",K).add(ne,"click",Q,!0)}function W(){A.clear(),M.clear()}function G(){const J=L?n:e;M.add(J,"touchmove",U,C).add(J,"touchend",K).add(J,"mousemove",U,C).add(J,"mouseup",K)}function Y(J){const q=J.nodeName||"";return S.includes(q)}function ie(){return(v?I:N)[L?"mouse":"touch"]}function ae(J,q){const ne=u.add(f3(J)*-1),fe=d.byDistance(J,!v).distance;return v||gr(J)<T?fe:m&&q?fe*.5:d.byIndex(ne.get(),0).distance}function se(J){const q=GI(J,r);L=q,R=v&&q&&!J.buttons&&j,j=C0(i.get(),o.get())>=2,!(q&&J.button!==0)&&(Y(J.target)||($=!0,s.pointerDown(J),c.useFriction(0).useDuration(0),i.set(o),G(),F=s.readPoint(J),z=s.readPoint(J,_),f.emit("pointerDown")))}function U(J){if(!GI(J,r)&&J.touches.length>=2)return K(J);const ne=s.readPoint(J),fe=s.readPoint(J,_),me=C0(ne,F),pe=C0(fe,z);if(!V&&!L&&(!J.cancelable||(V=me>pe,!V)))return K(J);const Ae=s.pointerMove(J);me>y&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(b(Ae)),J.preventDefault()}function K(J){const ne=d.byDistance(0,!1).index!==u.get(),fe=s.pointerUp(J)*ie(),me=ae(b(fe),ne),pe=Swe(fe,me),Ae=k-10*pe,Ce=p+pe/50;V=!1,$=!1,M.clear(),c.useDuration(Ae).useFriction(Ce),l.distance(me,!v),L=!1,f.emit("pointerUp")}function Q(J){R&&(J.stopPropagation(),J.preventDefault(),R=!1)}function ee(){return $}return{init:B,destroy:W,pointerDown:ee}}function Pwe(t,e){let r,i;function s(u){return u.timeStamp}function o(u,f){const v=`client${(f||t.scroll)==="x"?"X":"Y"}`;return(GI(u,e)?u:u.touches[0])[v]}function a(u){return r=u,i=u,o(u)}function l(u){const f=o(u)-o(i),g=s(u)-s(r)>170;return i=u,g&&(r=u),f}function c(u){if(!r||!i)return 0;const f=o(i)-o(r),g=s(u)-s(r),v=s(u)-s(i)>170,y=f/g;return g&&!v&&gr(y)>.1?y:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function Nwe(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function Rwe(t){function e(r){return t*(r/100)}return{measure:e}}function Owe(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,d=[],u=!1;function f(m){return i.measureSize(o.measure(m))}function g(m){if(!s)return;c=f(t),d=r.map(f);function p(x){for(const _ of x){if(u)return;const b=_.target===t,S=r.indexOf(_.target),C=b?c:d[S],A=f(b?t:r[S]);if(gr(A-C)>=.5){m.reInit(),e.emit("resize");break}}}l=new ResizeObserver(x=>{(CA(s)||s(m,x))&&p(x)}),n.requestAnimationFrame(()=>{a.forEach(x=>l.observe(x))})}function v(){u=!0,l&&l.disconnect()}return{init:g,destroy:v}}function Iwe(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,d=t.get(),u=0;function f(){const C=r.get()-t.get(),A=!l;let M=0;return A?(o=0,n.set(r),t.set(r),M=C):(n.set(t),o+=C/l,o*=c,d+=o,t.add(o),M=d-u),a=f3(M),u=d,S}function g(){const C=r.get()-e.get();return gr(C)<.001}function v(){return l}function y(){return a}function m(){return o}function p(){return _(i)}function x(){return b(s)}function _(C){return l=C,S}function b(C){return c=C,S}const S={direction:y,duration:v,velocity:m,seek:f,settled:g,useBaseFriction:x,useBaseDuration:p,useFriction:b,useDuration:_};return S}function kwe(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=ch(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function d(g){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",y=gr(t[v]-e.get()),m=n.get()-e.get(),p=a.constrain(y/o);n.subtract(m*p),!g&&gr(m)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function u(g){l=!g}return{shouldConstrain:c,constrain:d,toggleActive:u}}function Dwe(t,e,n,r,i){const s=ch(-e+t,0),o=u(),a=d(),l=f();function c(v,y){return C0(v,y)<=1}function d(){const v=o[0],y=Aa(o),m=o.lastIndexOf(v),p=o.indexOf(y)+1;return ch(m,p)}function u(){return n.map((v,y)=>{const{min:m,max:p}=s,x=s.constrain(v),_=!y,b=h3(n,y);return _?p:b||c(m,x)?m:c(p,x)?p:x}).map(v=>parseFloat(v.toFixed(3)))}function f(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:v,max:y}=a;return o.slice(v,y)}return{snapsContained:l,scrollContainLimit:a}}function Lwe(t,e,n){const r=e[0],i=n?r-t:Aa(e);return{limit:ch(i,r)}}function jwe(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=ch(s,o);function c(f){return f===1?l(n.get()):f===-1?a(n.get()):!1}function d(f){if(!c(f))return;const g=t*(f*-1);r.forEach(v=>v.add(g))}return{loop:d}}function Fwe(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function Bwe(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=u().map(e.measure),c=f(),d=g();function u(){return a(r).map(y=>Aa(y)[o]-y[0][s]).map(gr)}function f(){return r.map(y=>n[s]-y[s]).map(y=>-gr(y))}function g(){return a(c).map(y=>y[0]).map((y,m)=>y+l[m])}return{snaps:c,snapsAligned:d}}function Uwe(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=d();function d(){const f=o(s),g=!t||e==="keepSnaps";return n.length===1?[s]:g?f:f.slice(a,l).map((v,y,m)=>{const p=!y,x=h3(m,y);if(p){const _=Aa(m[0])+1;return O$(_)}if(x){const _=Y_(s)-Aa(m)[0]+1;return O$(_,Aa(m)[0])}return v})}return{slideRegistry:c}}function zwe(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((y,m)=>gr(y)-gr(m))[0]}function c(v){const y=t?o(v):a(v),m=e.map((x,_)=>({diff:d(x-y,0),index:_})).sort((x,_)=>gr(x.diff)-gr(_.diff)),{index:p}=m[0];return{index:p,distance:y}}function d(v,y){const m=[v,v+n,v-n];if(!t)return v;if(!y)return l(m);const p=m.filter(x=>f3(x)===y);return p.length?l(p):Aa(m)-n}function u(v,y){const m=e[v]-i.get(),p=d(m,y);return{index:v,distance:p}}function f(v,y){const m=i.get()+v,{index:p,distance:x}=c(m),_=!t&&s(m);if(!y||_)return{index:p,distance:v};const b=e[p]-x,S=v+d(b,0);return{index:p,distance:S}}return{byDistance:f,byIndex:u,shortcut:d}}function $we(t,e,n,r,i,s,o){function a(u){const f=u.distance,g=u.index!==e.get();s.add(f),f&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(u.index),o.emit("select"))}function l(u,f){const g=i.byDistance(u,f);a(g)}function c(u,f){const g=e.clone().set(u),v=i.byIndex(g.get(),f);a(v)}return{distance:l,index:c}}function Hwe(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function d(g){if(!a)return;function v(y){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const x=n.findIndex(_=>_.includes(y));d3(x)&&(i.useDuration(0),r.index(x,0),o.emit("slideFocus"))}s.add(document,"keydown",u,!1),e.forEach((y,m)=>{s.add(y,"focus",p=>{(CA(a)||a(g,p))&&v(m)},l)})}function u(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:d}}function s0(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return d3(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function dZ(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(f){return`translate3d(${f}px,0px,0px)`}function a(f){return`translate3d(0px,${f}px,0px)`}function l(f){if(s)return;const g=Ewe(t.direction(f));g!==i&&(r.transform=n(g),i=g)}function c(f){s=!f}function d(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:d,to:l,toggleActive:c}}function Vwe(t,e,n,r,i,s,o,a,l){const d=px(i),u=px(i).reverse(),f=p().concat(x());function g(A,M){return A.reduce((T,N)=>T-i[N],M)}function v(A,M){return A.reduce((T,N)=>g(T,M)>0?T.concat([N]):T,[])}function y(A){return s.map((M,T)=>({start:M-r[T]+.5+A,end:M+e-.5+A}))}function m(A,M,T){const N=y(M);return A.map(I=>{const k=T?0:-n,j=T?n:0,F=T?"end":"start",z=N[I][F];return{index:I,loopPoint:z,slideLocation:s0(-1),translate:dZ(t,l[I]),target:()=>a.get()>z?k:j}})}function p(){const A=o[0],M=v(u,A);return m(M,n,!1)}function x(){const A=e-o[0]-1,M=v(d,A);return m(M,-n,!0)}function _(){return f.every(({index:A})=>{const M=d.filter(T=>T!==A);return g(M,e)<=.1})}function b(){f.forEach(A=>{const{target:M,translate:T,slideLocation:N}=A,I=M();I!==N.get()&&(T.to(I),N.set(I))})}function S(){f.forEach(A=>A.translate.clear())}return{canLoop:_,clear:S,loop:b,loopPoints:f}}function Wwe(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(d){for(const u of d)if(u.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(d=>{i||(CA(n)||n(l,d))&&c(d)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function Gwe(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(y=>{const m=e.indexOf(y.target);i[m]=y}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function d(){a&&a.disconnect(),l=!0}function u(v){return mx(i).reduce((y,m)=>{const p=parseInt(m),{isIntersecting:x}=i[p];return(v&&x||!v&&!x)&&y.push(p),y},[])}function f(v=!0){if(v&&s)return s;if(!v&&o)return o;const y=u(v);return v&&(s=y),v||(o=y),y}return{init:c,destroy:d,get:f}}function Xwe(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,d=v(),u=y(),f=n.map(o),g=m();function v(){if(!c)return 0;const x=n[0];return gr(e[a]-x[a])}function y(){if(!c)return 0;const x=s.getComputedStyle(Aa(r));return parseFloat(x.getPropertyValue(`margin-${l}`))}function m(){return n.map((x,_,b)=>{const S=!_,C=h3(b,_);return S?f[_]+d:C?f[_]+u:b[_+1][a]-x[a]}).map(gr)}return{slideSizes:f,slideSizesWithGaps:g,startGap:d,endGap:u}}function qwe(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:d,direction:u}=t,f=d3(n);function g(p,x){return px(p).filter(_=>_%x===0).map(_=>p.slice(_,_+x))}function v(p){return p.length?px(p).reduce((x,_,b)=>{const S=Aa(x)||0,C=S===0,A=_===Y_(p),M=i[c]-s[S][c],T=i[c]-s[_][d],N=!r&&C?u(o):0,I=!r&&A?u(a):0,k=gr(T-I-(M+N));return b&&k>e+l&&x.push(_),A&&x.push(p.length),x},[]).map((x,_,b)=>{const S=Math.max(b[_-1]||0);return p.slice(S,x)}):[]}function y(p){return f?g(p,n):v(p)}return{groupSlides:y}}function Kwe(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:d,loop:u,duration:f,dragFree:g,dragThreshold:v,inViewThreshold:y,slidesToScroll:m,skipSnaps:p,containScroll:x,watchResize:_,watchSlides:b,watchDrag:S,watchFocus:C}=s,A=2,M=Nwe(),T=M.measure(e),N=n.map(M.measure),I=Awe(l,c),k=I.measureSize(T),j=Rwe(k),F=Cwe(a,k),z=!u&&!!x,$=u||!!x,{slideSizes:V,slideSizesWithGaps:R,startGap:L,endGap:B}=Xwe(I,T,N,n,$,i),W=qwe(I,k,m,u,T,N,L,B,A),{snaps:G,snapsAligned:Y}=Bwe(I,F,T,N,W),ie=-Aa(G)+Aa(R),{snapsContained:ae,scrollContainLimit:se}=Dwe(k,ie,Y,x,A),U=z?ae:Y,{limit:K}=Lwe(ie,U,u),Q=uZ(Y_(U),d,u),ee=Q.clone(),ue=px(n),J=({dragHandler:He,scrollBody:st,scrollBounds:We,options:{loop:$e}})=>{$e||We.constrain(He.pointerDown()),st.seek()},q=({scrollBody:He,translate:st,location:We,offsetLocation:$e,previousLocation:rt,scrollLooper:Ct,slideLooper:he,dragHandler:Ee,animation:Ke,eventHandler:ce,scrollBounds:Ne,options:{loop:Be}},Ve)=>{const Ue=He.settled(),Le=!Ne.shouldConstrain(),Ye=Be?Ue:Ue&&Le,mt=Ye&&!Ee.pointerDown();mt&&Ke.stop();const jt=We.get()*Ve+rt.get()*(1-Ve);$e.set(jt),Be&&(Ct.loop(He.direction()),he.loop()),st.to($e.get()),mt&&ce.emit("settle"),Ye||ce.emit("scroll")},ne=Mwe(r,i,()=>J(at),He=>q(at,He)),fe=.68,me=U[Q.get()],pe=s0(me),Ae=s0(me),Ce=s0(me),ke=s0(me),nt=Iwe(pe,Ce,Ae,ke,f,fe),Je=zwe(u,U,ie,K,ke),re=$we(ne,Q,ee,nt,Je,ke,o),Z=Fwe(K),ve=gx(),Se=Gwe(e,n,o,y),{slideRegistry:Ie}=Uwe(z,x,U,se,W,ue),Me=Hwe(t,n,Ie,re,nt,ve,o,C),at={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:T,slideRects:N,animation:ne,axis:I,dragHandler:Twe(I,t,r,i,ke,Pwe(I,i),pe,ne,re,nt,Je,Q,o,j,g,v,p,fe,S),eventStore:ve,percentOfView:j,index:Q,indexPrevious:ee,limit:K,location:pe,offsetLocation:Ce,previousLocation:Ae,options:s,resizeHandler:Owe(e,o,i,n,I,_,M),scrollBody:nt,scrollBounds:kwe(K,Ce,ke,nt,j),scrollLooper:jwe(ie,K,Ce,[pe,Ce,Ae,ke]),scrollProgress:Z,scrollSnapList:U.map(Z.get),scrollSnaps:U,scrollTarget:Je,scrollTo:re,slideLooper:Vwe(I,k,ie,V,R,G,U,Ce,n),slideFocus:Me,slidesHandler:Wwe(e,o,b),slidesInView:Se,slideIndexes:ue,slideRegistry:Ie,slidesToScroll:W,target:ke,translate:dZ(I,e)};return at}function Ywe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(d=>d(e,c)),l}function s(c,d){return t[c]=r(c).concat([d]),l}function o(c,d){return t[c]=r(c).filter(u=>u!==d),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const Zwe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Qwe(t){function e(s,o){return cZ(s,o||{})}function n(s){const o=s.breakpoints||{},a=mx(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>mx(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function Jwe(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function RE(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=Qwe(i),o=Jwe(s),a=gx(),l=Ywe(),{mergeOptions:c,optionsAtMedia:d,optionsMediaQueries:u}=s,{on:f,off:g,emit:v}=l,y=I;let m=!1,p,x=c(Zwe,RE.globalOptions),_=c(x),b=[],S,C,A;function M(){const{container:ue,slides:J}=_;C=(WI(ue)?t.querySelector(ue):ue)||t.children[0];const ne=WI(J)?C.querySelectorAll(J):J;A=[].slice.call(ne||C.children)}function T(ue){const J=Kwe(t,C,A,r,i,ue,l);if(ue.loop&&!J.slideLooper.canLoop()){const q=Object.assign({},ue,{loop:!1});return T(q)}return J}function N(ue,J){m||(x=c(x,ue),_=d(x),b=J||b,M(),p=T(_),u([x,...b.map(({options:q})=>q)]).forEach(q=>a.add(q,"change",I)),_.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(ee),p.eventHandler.init(ee),p.resizeHandler.init(ee),p.slidesHandler.init(ee),p.options.loop&&p.slideLooper.loop(),C.offsetParent&&A.length&&p.dragHandler.init(ee),S=o.init(ee,b)))}function I(ue,J){const q=W();k(),N(c({startIndex:q},ue),J),l.emit("reInit")}function k(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),a.clear()}function j(){m||(m=!0,a.clear(),k(),l.emit("destroy"),l.clear())}function F(ue,J,q){!_.active||m||(p.scrollBody.useBaseFriction().useDuration(J===!0?0:_.duration),p.scrollTo.index(ue,q||0))}function z(ue){const J=p.index.add(1).get();F(J,ue,-1)}function $(ue){const J=p.index.add(-1).get();F(J,ue,1)}function V(){return p.index.add(1).get()!==W()}function R(){return p.index.add(-1).get()!==W()}function L(){return p.scrollSnapList}function B(){return p.scrollProgress.get(p.offsetLocation.get())}function W(){return p.index.get()}function G(){return p.indexPrevious.get()}function Y(){return p.slidesInView.get()}function ie(){return p.slidesInView.get(!1)}function ae(){return S}function se(){return p}function U(){return t}function K(){return C}function Q(){return A}const ee={canScrollNext:V,canScrollPrev:R,containerNode:K,internalEngine:se,destroy:j,off:g,on:f,emit:v,plugins:ae,previousScrollSnap:G,reInit:y,rootNode:U,scrollNext:z,scrollPrev:$,scrollProgress:B,scrollSnapList:L,scrollTo:F,selectedScrollSnap:W,slideNodes:Q,slidesInView:Y,slidesNotInView:ie};return N(e,n),setTimeout(()=>l.emit("init"),0),ee}RE.globalOptions=void 0;function p3(t={},e=[]){const n=P.useRef(t),r=P.useRef(e),[i,s]=P.useState(),[o,a]=P.useState(),l=P.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return P.useEffect(()=>{u3(n.current,t)||(n.current=t,l())},[t,l]),P.useEffect(()=>{wwe(r.current,e)||(r.current=e,l())},[e,l]),P.useEffect(()=>{if(bwe()&&o){RE.globalOptions=p3.globalOptions;const c=RE(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}p3.globalOptions=void 0;const fZ=P.createContext(null);function MA(){const t=P.useContext(fZ);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const e1e=P.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[l,c]=p3({...e,axis:t==="horizontal"?"x":"y"},r),[d,u]=P.useState(!1),[f,g]=P.useState(!1),v=P.useCallback(x=>{x&&(u(x.canScrollPrev()),g(x.canScrollNext()))},[]),y=P.useCallback(()=>{c==null||c.scrollPrev()},[c]),m=P.useCallback(()=>{c==null||c.scrollNext()},[c]),p=P.useCallback(x=>{x.key==="ArrowLeft"?(x.preventDefault(),y()):x.key==="ArrowRight"&&(x.preventDefault(),m())},[y,m]);return P.useEffect(()=>{!c||!n||n(c)},[c,n]),P.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),h.jsx(fZ.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:m,canScrollPrev:d,canScrollNext:f},children:h.jsx("div",{ref:a,onKeyDownCapture:p,className:we("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});e1e.displayName="Carousel";const t1e=P.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=MA();return h.jsx("div",{ref:r,className:"overflow-hidden",children:h.jsx("div",{ref:n,className:we("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});t1e.displayName="CarouselContent";const n1e=P.forwardRef(({className:t,...e},n)=>{const{orientation:r}=MA();return h.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:we("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});n1e.displayName="CarouselItem";const r1e=P.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=MA();return h.jsxs(Ge,{ref:i,variant:e,size:n,className:we("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[h.jsx(Rve,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Previous slide"})]})});r1e.displayName="CarouselPrevious";const i1e=P.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=MA();return h.jsxs(Ge,{ref:i,variant:e,size:n,className:we("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[h.jsx(F_,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Next slide"})]})});i1e.displayName="CarouselNext";var s1e=Array.isArray,Rs=s1e,o1e=typeof Nw=="object"&&Nw&&Nw.Object===Object&&Nw,hZ=o1e,a1e=hZ,l1e=typeof self=="object"&&self&&self.Object===Object&&self,c1e=a1e||l1e||Function("return this")(),Il=c1e,u1e=Il,d1e=u1e.Symbol,Z_=d1e,I$=Z_,pZ=Object.prototype,f1e=pZ.hasOwnProperty,h1e=pZ.toString,Sy=I$?I$.toStringTag:void 0;function p1e(t){var e=f1e.call(t,Sy),n=t[Sy];try{t[Sy]=void 0;var r=!0}catch{}var i=h1e.call(t);return r&&(e?t[Sy]=n:delete t[Sy]),i}var m1e=p1e,g1e=Object.prototype,v1e=g1e.toString;function y1e(t){return v1e.call(t)}var x1e=y1e,k$=Z_,_1e=m1e,b1e=x1e,w1e="[object Null]",S1e="[object Undefined]",D$=k$?k$.toStringTag:void 0;function E1e(t){return t==null?t===void 0?S1e:w1e:D$&&D$ in Object(t)?_1e(t):b1e(t)}var Xc=E1e;function C1e(t){return t!=null&&typeof t=="object"}var qc=C1e,M1e=Xc,A1e=qc,T1e="[object Symbol]";function P1e(t){return typeof t=="symbol"||A1e(t)&&M1e(t)==T1e}var yv=P1e,N1e=Rs,R1e=yv,O1e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,I1e=/^\w*$/;function k1e(t,e){if(N1e(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||R1e(t)?!0:I1e.test(t)||!O1e.test(t)||e!=null&&t in Object(e)}var m3=k1e;function D1e(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ed=D1e;const xv=Pn(Ed);var L1e=Xc,j1e=Ed,F1e="[object AsyncFunction]",B1e="[object Function]",U1e="[object GeneratorFunction]",z1e="[object Proxy]";function $1e(t){if(!j1e(t))return!1;var e=L1e(t);return e==B1e||e==U1e||e==F1e||e==z1e}var g3=$1e;const Ut=Pn(g3);var H1e=Il,V1e=H1e["__core-js_shared__"],W1e=V1e,NN=W1e,L$=function(){var t=/[^.]+$/.exec(NN&&NN.keys&&NN.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function G1e(t){return!!L$&&L$ in t}var X1e=G1e,q1e=Function.prototype,K1e=q1e.toString;function Y1e(t){if(t!=null){try{return K1e.call(t)}catch{}try{return t+""}catch{}}return""}var mZ=Y1e,Z1e=g3,Q1e=X1e,J1e=Ed,eSe=mZ,tSe=/[\\^$.*+?()[\]{}|]/g,nSe=/^\[object .+?Constructor\]$/,rSe=Function.prototype,iSe=Object.prototype,sSe=rSe.toString,oSe=iSe.hasOwnProperty,aSe=RegExp("^"+sSe.call(oSe).replace(tSe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lSe(t){if(!J1e(t)||Q1e(t))return!1;var e=Z1e(t)?aSe:nSe;return e.test(eSe(t))}var cSe=lSe;function uSe(t,e){return t==null?void 0:t[e]}var dSe=uSe,fSe=cSe,hSe=dSe;function pSe(t,e){var n=hSe(t,e);return fSe(n)?n:void 0}var kh=pSe,mSe=kh,gSe=mSe(Object,"create"),AA=gSe,j$=AA;function vSe(){this.__data__=j$?j$(null):{},this.size=0}var ySe=vSe;function xSe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _Se=xSe,bSe=AA,wSe="__lodash_hash_undefined__",SSe=Object.prototype,ESe=SSe.hasOwnProperty;function CSe(t){var e=this.__data__;if(bSe){var n=e[t];return n===wSe?void 0:n}return ESe.call(e,t)?e[t]:void 0}var MSe=CSe,ASe=AA,TSe=Object.prototype,PSe=TSe.hasOwnProperty;function NSe(t){var e=this.__data__;return ASe?e[t]!==void 0:PSe.call(e,t)}var RSe=NSe,OSe=AA,ISe="__lodash_hash_undefined__";function kSe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=OSe&&e===void 0?ISe:e,this}var DSe=kSe,LSe=ySe,jSe=_Se,FSe=MSe,BSe=RSe,USe=DSe;function _v(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_v.prototype.clear=LSe;_v.prototype.delete=jSe;_v.prototype.get=FSe;_v.prototype.has=BSe;_v.prototype.set=USe;var zSe=_v;function $Se(){this.__data__=[],this.size=0}var HSe=$Se;function VSe(t,e){return t===e||t!==t&&e!==e}var v3=VSe,WSe=v3;function GSe(t,e){for(var n=t.length;n--;)if(WSe(t[n][0],e))return n;return-1}var TA=GSe,XSe=TA,qSe=Array.prototype,KSe=qSe.splice;function YSe(t){var e=this.__data__,n=XSe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():KSe.call(e,n,1),--this.size,!0}var ZSe=YSe,QSe=TA;function JSe(t){var e=this.__data__,n=QSe(e,t);return n<0?void 0:e[n][1]}var eEe=JSe,tEe=TA;function nEe(t){return tEe(this.__data__,t)>-1}var rEe=nEe,iEe=TA;function sEe(t,e){var n=this.__data__,r=iEe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var oEe=sEe,aEe=HSe,lEe=ZSe,cEe=eEe,uEe=rEe,dEe=oEe;function bv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}bv.prototype.clear=aEe;bv.prototype.delete=lEe;bv.prototype.get=cEe;bv.prototype.has=uEe;bv.prototype.set=dEe;var PA=bv,fEe=kh,hEe=Il,pEe=fEe(hEe,"Map"),y3=pEe,F$=zSe,mEe=PA,gEe=y3;function vEe(){this.size=0,this.__data__={hash:new F$,map:new(gEe||mEe),string:new F$}}var yEe=vEe;function xEe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _Ee=xEe,bEe=_Ee;function wEe(t,e){var n=t.__data__;return bEe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var NA=wEe,SEe=NA;function EEe(t){var e=SEe(this,t).delete(t);return this.size-=e?1:0,e}var CEe=EEe,MEe=NA;function AEe(t){return MEe(this,t).get(t)}var TEe=AEe,PEe=NA;function NEe(t){return PEe(this,t).has(t)}var REe=NEe,OEe=NA;function IEe(t,e){var n=OEe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kEe=IEe,DEe=yEe,LEe=CEe,jEe=TEe,FEe=REe,BEe=kEe;function wv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wv.prototype.clear=DEe;wv.prototype.delete=LEe;wv.prototype.get=jEe;wv.prototype.has=FEe;wv.prototype.set=BEe;var x3=wv,gZ=x3,UEe="Expected a function";function _3(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(UEe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(_3.Cache||gZ),n}_3.Cache=gZ;var vZ=_3;const zEe=Pn(vZ);var $Ee=vZ,HEe=500;function VEe(t){var e=$Ee(t,function(r){return n.size===HEe&&n.clear(),r}),n=e.cache;return e}var WEe=VEe,GEe=WEe,XEe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qEe=/\\(\\)?/g,KEe=GEe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(XEe,function(n,r,i,s){e.push(i?s.replace(qEe,"$1"):r||n)}),e}),YEe=KEe;function ZEe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var b3=ZEe,B$=Z_,QEe=b3,JEe=Rs,eCe=yv,tCe=1/0,U$=B$?B$.prototype:void 0,z$=U$?U$.toString:void 0;function yZ(t){if(typeof t=="string")return t;if(JEe(t))return QEe(t,yZ)+"";if(eCe(t))return z$?z$.call(t):"";var e=t+"";return e=="0"&&1/t==-tCe?"-0":e}var nCe=yZ,rCe=nCe;function iCe(t){return t==null?"":rCe(t)}var xZ=iCe,sCe=Rs,oCe=m3,aCe=YEe,lCe=xZ;function cCe(t,e){return sCe(t)?t:oCe(t,e)?[t]:aCe(lCe(t))}var _Z=cCe,uCe=yv,dCe=1/0;function fCe(t){if(typeof t=="string"||uCe(t))return t;var e=t+"";return e=="0"&&1/t==-dCe?"-0":e}var RA=fCe,hCe=_Z,pCe=RA;function mCe(t,e){e=hCe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[pCe(e[n++])];return n&&n==r?t:void 0}var w3=mCe,gCe=w3;function vCe(t,e,n){var r=t==null?void 0:gCe(t,e);return r===void 0?n:r}var bZ=vCe;const no=Pn(bZ);function yCe(t){return t==null}var xCe=yCe;const Xt=Pn(xCe);var _Ce=Xc,bCe=Rs,wCe=qc,SCe="[object String]";function ECe(t){return typeof t=="string"||!bCe(t)&&wCe(t)&&_Ce(t)==SCe}var CCe=ECe;const Q_=Pn(CCe);var wZ={exports:{}},Un={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S3=Symbol.for("react.element"),E3=Symbol.for("react.portal"),OA=Symbol.for("react.fragment"),IA=Symbol.for("react.strict_mode"),kA=Symbol.for("react.profiler"),DA=Symbol.for("react.provider"),LA=Symbol.for("react.context"),MCe=Symbol.for("react.server_context"),jA=Symbol.for("react.forward_ref"),FA=Symbol.for("react.suspense"),BA=Symbol.for("react.suspense_list"),UA=Symbol.for("react.memo"),zA=Symbol.for("react.lazy"),ACe=Symbol.for("react.offscreen"),SZ;SZ=Symbol.for("react.module.reference");function Vo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case S3:switch(t=t.type,t){case OA:case kA:case IA:case FA:case BA:return t;default:switch(t=t&&t.$$typeof,t){case MCe:case LA:case jA:case zA:case UA:case DA:return t;default:return e}}case E3:return e}}}Un.ContextConsumer=LA;Un.ContextProvider=DA;Un.Element=S3;Un.ForwardRef=jA;Un.Fragment=OA;Un.Lazy=zA;Un.Memo=UA;Un.Portal=E3;Un.Profiler=kA;Un.StrictMode=IA;Un.Suspense=FA;Un.SuspenseList=BA;Un.isAsyncMode=function(){return!1};Un.isConcurrentMode=function(){return!1};Un.isContextConsumer=function(t){return Vo(t)===LA};Un.isContextProvider=function(t){return Vo(t)===DA};Un.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===S3};Un.isForwardRef=function(t){return Vo(t)===jA};Un.isFragment=function(t){return Vo(t)===OA};Un.isLazy=function(t){return Vo(t)===zA};Un.isMemo=function(t){return Vo(t)===UA};Un.isPortal=function(t){return Vo(t)===E3};Un.isProfiler=function(t){return Vo(t)===kA};Un.isStrictMode=function(t){return Vo(t)===IA};Un.isSuspense=function(t){return Vo(t)===FA};Un.isSuspenseList=function(t){return Vo(t)===BA};Un.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===OA||t===kA||t===IA||t===FA||t===BA||t===ACe||typeof t=="object"&&t!==null&&(t.$$typeof===zA||t.$$typeof===UA||t.$$typeof===DA||t.$$typeof===LA||t.$$typeof===jA||t.$$typeof===SZ||t.getModuleId!==void 0)};Un.typeOf=Vo;wZ.exports=Un;var TCe=wZ.exports,PCe=Xc,NCe=qc,RCe="[object Number]";function OCe(t){return typeof t=="number"||NCe(t)&&PCe(t)==RCe}var EZ=OCe;const ICe=Pn(EZ);var kCe=EZ;function DCe(t){return kCe(t)&&t!=+t}var LCe=DCe;const Sv=Pn(LCe);var ts=function(e){return e===0?0:e>0?1:-1},Af=function(e){return Q_(e)&&e.indexOf("%")===e.length-1},et=function(e){return ICe(e)&&!Sv(e)},Qr=function(e){return et(e)||Q_(e)},jCe=0,Dh=function(e){var n=++jCe;return"".concat(e||"").concat(n)},ns=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(e)&&!Q_(e))return r;var s;if(Af(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Sv(s)&&(s=r),i&&s>n&&(s=n),s},Iu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},FCe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Kr=function(e,n){return et(e)&&et(n)?function(r){return e+r*(n-e)}:function(){return n}};function OE(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):no(r,e))===n})}function Dm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function XI(t){"@babel/helpers - typeof";return XI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XI(t)}var BCe=["viewBox","children"],UCe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],$$=["points","pathLength"],RN={svg:BCe,polygon:$$,polyline:$$},C3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],IE=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(P.isValidElement(e)&&(r=e.props),!xv(r))return null;var i={};return Object.keys(r).forEach(function(s){C3.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},zCe=function(e,n,r){return function(i){return e(n,r,i),null}},uh=function(e,n,r){if(!xv(e)||XI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];C3.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=zCe(o,n,r))}),i},$Ce=["children"],HCe=["children"];function H$(t,e){if(t==null)return{};var n=VCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qI(t){"@babel/helpers - typeof";return qI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qI(t)}var V$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},W$=null,ON=null,M3=function t(e){if(e===W$&&Array.isArray(ON))return ON;var n=[];return P.Children.forEach(e,function(r){Xt(r)||(TCe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),ON=n,W$=e,n};function ro(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return wc(i)}):r=[wc(e)],M3(t).forEach(function(i){var s=no(i,"type.displayName")||no(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Xs(t,e){var n=ro(t,e);return n&&n[0]}var G$=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!et(r)||r<=0||!et(i)||i<=0)},WCe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GCe=function(e){return e&&e.type&&Q_(e.type)&&WCe.indexOf(e.type)>=0},CZ=function(e){return e&&qI(e)==="object"&&"clipDot"in e},XCe=function(e,n,r,i){var s,o=(s=RN==null?void 0:RN[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Ut(e)&&(i&&o.includes(n)||UCe.includes(n))||r&&C3.includes(n)},Pt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(P.isValidElement(e)&&(i=e.props),!xv(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;XCe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},KI=function t(e,n){if(e===n)return!0;var r=P.Children.count(e);if(r!==P.Children.count(n))return!1;if(r===0)return!0;if(r===1)return X$(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!X$(s,o))return!1}return!0},X$=function(e,n){if(Xt(e)&&Xt(n))return!0;if(!Xt(e)&&!Xt(n)){var r=e.props||{},i=r.children,s=H$(r,$Ce),o=n.props||{},a=o.children,l=H$(o,HCe);return i&&a?Dm(s,l)&&KI(i,a):!i&&!a?Dm(s,l):!1}return!1},q$=function(e,n){var r=[],i={};return M3(e).forEach(function(s,o){if(GCe(s))r.push(s);else if(s){var a=wc(s.type),l=n[a]||{},c=l.handler,d=l.once;if(c&&(!d||!i[a])){var u=c(s,a,o);r.push(u),i[a]=!0}}}),r},qCe=function(e){var n=e&&e.type;return n&&V$[n]?V$[n]:null},KCe=function(e,n){return M3(n).indexOf(e)},YCe=["children","width","height","viewBox","className","style","title","desc"];function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YI.apply(this,arguments)}function ZCe(t,e){if(t==null)return{};var n=QCe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QCe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ZI(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=ZCe(t,YCe),d=i||{width:n,height:r,x:0,y:0},u=Yt("recharts-surface",s);return te.createElement("svg",YI({},Pt(c,!0,"svg"),{className:u,width:n,height:r,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),te.createElement("title",null,a),te.createElement("desc",null,l),e)}var JCe=["children","className"];function QI(){return QI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QI.apply(this,arguments)}function eMe(t,e){if(t==null)return{};var n=tMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ln=te.forwardRef(function(t,e){var n=t.children,r=t.className,i=eMe(t,JCe),s=Yt("recharts-layer",r);return te.createElement("g",QI({className:s},Pt(i,!0),{ref:e}),n)}),Ta=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function nMe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var rMe=nMe,iMe=rMe;function sMe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:iMe(t,e,n)}var oMe=sMe,aMe="\\ud800-\\udfff",lMe="\\u0300-\\u036f",cMe="\\ufe20-\\ufe2f",uMe="\\u20d0-\\u20ff",dMe=lMe+cMe+uMe,fMe="\\ufe0e\\ufe0f",hMe="\\u200d",pMe=RegExp("["+hMe+aMe+dMe+fMe+"]");function mMe(t){return pMe.test(t)}var MZ=mMe;function gMe(t){return t.split("")}var vMe=gMe,AZ="\\ud800-\\udfff",yMe="\\u0300-\\u036f",xMe="\\ufe20-\\ufe2f",_Me="\\u20d0-\\u20ff",bMe=yMe+xMe+_Me,wMe="\\ufe0e\\ufe0f",SMe="["+AZ+"]",JI="["+bMe+"]",ek="\\ud83c[\\udffb-\\udfff]",EMe="(?:"+JI+"|"+ek+")",TZ="[^"+AZ+"]",PZ="(?:\\ud83c[\\udde6-\\uddff]){2}",NZ="[\\ud800-\\udbff][\\udc00-\\udfff]",CMe="\\u200d",RZ=EMe+"?",OZ="["+wMe+"]?",MMe="(?:"+CMe+"(?:"+[TZ,PZ,NZ].join("|")+")"+OZ+RZ+")*",AMe=OZ+RZ+MMe,TMe="(?:"+[TZ+JI+"?",JI,PZ,NZ,SMe].join("|")+")",PMe=RegExp(ek+"(?="+ek+")|"+TMe+AMe,"g");function NMe(t){return t.match(PMe)||[]}var RMe=NMe,OMe=vMe,IMe=MZ,kMe=RMe;function DMe(t){return IMe(t)?kMe(t):OMe(t)}var LMe=DMe,jMe=oMe,FMe=MZ,BMe=LMe,UMe=xZ;function zMe(t){return function(e){e=UMe(e);var n=FMe(e)?BMe(e):void 0,r=n?n[0]:e.charAt(0),i=n?jMe(n,1).join(""):e.slice(1);return r[t]()+i}}var $Me=zMe,HMe=$Me,VMe=HMe("toUpperCase"),WMe=VMe;const $A=Pn(WMe);function Kn(t){return function(){return t}}const IZ=Math.cos,kE=Math.sin,Ua=Math.sqrt,DE=Math.PI,HA=2*DE,tk=Math.PI,nk=2*tk,pf=1e-6,GMe=nk-pf;function kZ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function XMe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return kZ;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let qMe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?kZ:XMe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,d=o-e,u=a-n,f=d*d+u*u;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>pf)if(!(Math.abs(u*l-c*d)>pf)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,v=i-a,y=l*l+c*c,m=g*g+v*v,p=Math.sqrt(y),x=Math.sqrt(f),_=s*Math.tan((tk-Math.acos((y+f-m)/(2*p*x)))/2),b=_/x,S=_/p;Math.abs(b-1)>pf&&this._append`L${e+b*d},${n+b*u}`,this._append`A${s},${s},0,0,${+(u*g>d*v)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,d=n+l,u=1^o,f=o?i-s:s-i;this._x1===null?this._append`M${c},${d}`:(Math.abs(this._x1-c)>pf||Math.abs(this._y1-d)>pf)&&this._append`L${c},${d}`,r&&(f<0&&(f=f%nk+nk),f>GMe?this._append`A${r},${r},0,1,${u},${e-a},${n-l}A${r},${r},0,1,${u},${this._x1=c},${this._y1=d}`:f>pf&&this._append`A${r},${r},0,${+(f>=tk)},${u},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function A3(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new qMe(e)}function T3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DZ(t){this._context=t}DZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function VA(t){return new DZ(t)}function LZ(t){return t[0]}function jZ(t){return t[1]}function FZ(t,e){var n=Kn(!0),r=null,i=VA,s=null,o=A3(a);t=typeof t=="function"?t:t===void 0?LZ:Kn(t),e=typeof e=="function"?e:e===void 0?jZ:Kn(e);function a(l){var c,d=(l=T3(l)).length,u,f=!1,g;for(r==null&&(s=i(g=o())),c=0;c<=d;++c)!(c<d&&n(u=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(u,c,l),+e(u,c,l));if(g)return s=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Kn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Kn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Kn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function e1(t,e,n){var r=null,i=Kn(!0),s=null,o=VA,a=null,l=A3(c);t=typeof t=="function"?t:t===void 0?LZ:Kn(+t),e=typeof e=="function"?e:Kn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?jZ:Kn(+n);function c(u){var f,g,v,y=(u=T3(u)).length,m,p=!1,x,_=new Array(y),b=new Array(y);for(s==null&&(a=o(x=l())),f=0;f<=y;++f){if(!(f<y&&i(m=u[f],f,u))===p)if(p=!p)g=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=f-1;v>=g;--v)a.point(_[v],b[v]);a.lineEnd(),a.areaEnd()}p&&(_[f]=+t(m,f,u),b[f]=+e(m,f,u),a.point(r?+r(m,f,u):_[f],n?+n(m,f,u):b[f]))}if(x)return a=null,x+""||null}function d(){return FZ().defined(i).curve(o).context(s)}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:Kn(+u),r=null,c):t},c.x0=function(u){return arguments.length?(t=typeof u=="function"?u:Kn(+u),c):t},c.x1=function(u){return arguments.length?(r=u==null?null:typeof u=="function"?u:Kn(+u),c):r},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:Kn(+u),n=null,c):e},c.y0=function(u){return arguments.length?(e=typeof u=="function"?u:Kn(+u),c):e},c.y1=function(u){return arguments.length?(n=u==null?null:typeof u=="function"?u:Kn(+u),c):n},c.lineX0=c.lineY0=function(){return d().x(t).y(e)},c.lineY1=function(){return d().x(t).y(n)},c.lineX1=function(){return d().x(r).y(e)},c.defined=function(u){return arguments.length?(i=typeof u=="function"?u:Kn(!!u),c):i},c.curve=function(u){return arguments.length?(o=u,s!=null&&(a=o(s)),c):o},c.context=function(u){return arguments.length?(u==null?s=a=null:a=o(s=u),c):s},c}class BZ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function KMe(t){return new BZ(t,!0)}function YMe(t){return new BZ(t,!1)}const P3={draw(t,e){const n=Ua(e/DE);t.moveTo(n,0),t.arc(0,0,n,0,HA)}},ZMe={draw(t,e){const n=Ua(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},UZ=Ua(1/3),QMe=UZ*2,JMe={draw(t,e){const n=Ua(e/QMe),r=n*UZ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eAe={draw(t,e){const n=Ua(e),r=-n/2;t.rect(r,r,n,n)}},tAe=.8908130915292852,zZ=kE(DE/10)/kE(7*DE/10),nAe=kE(HA/10)*zZ,rAe=-IZ(HA/10)*zZ,iAe={draw(t,e){const n=Ua(e*tAe),r=nAe*n,i=rAe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=HA*s/5,a=IZ(o),l=kE(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},IN=Ua(3),sAe={draw(t,e){const n=-Ua(e/(IN*3));t.moveTo(0,n*2),t.lineTo(-IN*n,-n),t.lineTo(IN*n,-n),t.closePath()}},Eo=-.5,Co=Ua(3)/2,rk=1/Ua(12),oAe=(rk/2+1)*3,aAe={draw(t,e){const n=Ua(e/oAe),r=n/2,i=n*rk,s=r,o=n*rk+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(Eo*r-Co*i,Co*r+Eo*i),t.lineTo(Eo*s-Co*o,Co*s+Eo*o),t.lineTo(Eo*a-Co*l,Co*a+Eo*l),t.lineTo(Eo*r+Co*i,Eo*i-Co*r),t.lineTo(Eo*s+Co*o,Eo*o-Co*s),t.lineTo(Eo*a+Co*l,Eo*l-Co*a),t.closePath()}};function lAe(t,e){let n=null,r=A3(i);t=typeof t=="function"?t:Kn(t||P3),e=typeof e=="function"?e:Kn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Kn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function LE(){}function jE(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $Z(t){this._context=t}$Z.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:jE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:jE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cAe(t){return new $Z(t)}function HZ(t){this._context=t}HZ.prototype={areaStart:LE,areaEnd:LE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:jE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uAe(t){return new HZ(t)}function VZ(t){this._context=t}VZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:jE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dAe(t){return new VZ(t)}function WZ(t){this._context=t}WZ.prototype={areaStart:LE,areaEnd:LE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fAe(t){return new WZ(t)}function K$(t){return t<0?-1:1}function Y$(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(K$(s)+K$(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function Z$(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function kN(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function FE(t){this._context=t}FE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:kN(this,this._t0,Z$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,kN(this,Z$(this,n=Y$(this,t,e)),n);break;default:kN(this,this._t0,n=Y$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function GZ(t){this._context=new XZ(t)}(GZ.prototype=Object.create(FE.prototype)).point=function(t,e){FE.prototype.point.call(this,e,t)};function XZ(t){this._context=t}XZ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function hAe(t){return new FE(t)}function pAe(t){return new GZ(t)}function qZ(t){this._context=t}qZ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Q$(t),i=Q$(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Q$(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function mAe(t){return new qZ(t)}function WA(t,e){this._context=t,this._t=e}WA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gAe(t){return new WA(t,.5)}function vAe(t){return new WA(t,0)}function yAe(t){return new WA(t,1)}function hg(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ik(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xAe(t,e){return t[e]}function _Ae(t){const e=[];return e.key=t,e}function bAe(){var t=Kn([]),e=ik,n=hg,r=xAe;function i(s){var o=Array.from(t.apply(this,arguments),_Ae),a,l=o.length,c=-1,d;for(const u of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(u,o[a].key,c,s)]).data=u;for(a=0,d=T3(e(o));a<l;++a)o[d[a]].index=a;return n(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Kn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Kn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?ik:typeof s=="function"?s:Kn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??hg,i):n},i}function wAe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}hg(t,e)}}function SAe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}hg(t,e)}}function EAe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var d=t[e[a]],u=d[r][1]||0,f=d[r-1][1]||0,g=(u-f)/2,v=0;v<a;++v){var y=t[e[v]],m=y[r][1]||0,p=y[r-1][1]||0;g+=m-p}l+=u,c+=g*u}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,hg(t,e)}}function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}var CAe=["type","size","sizeType"];function sk(){return sk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sk.apply(this,arguments)}function J$(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J$(Object(n),!0).forEach(function(r){MAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J$(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MAe(t,e,n){return e=AAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AAe(t){var e=TAe(t,"string");return vx(e)=="symbol"?e:e+""}function TAe(t,e){if(vx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PAe(t,e){if(t==null)return{};var n=NAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var KZ={symbolCircle:P3,symbolCross:ZMe,symbolDiamond:JMe,symbolSquare:eAe,symbolStar:iAe,symbolTriangle:sAe,symbolWye:aAe},RAe=Math.PI/180,OAe=function(e){var n="symbol".concat($A(e));return KZ[n]||P3},IAe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*RAe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},kAe=function(e,n){KZ["symbol".concat($A(e))]=n},N3=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=PAe(e,CAe),c=eH(eH({},l),{},{type:r,size:s,sizeType:a}),d=function(){var m=OAe(r),p=lAe().type(m).size(IAe(s,a,r));return p()},u=c.className,f=c.cx,g=c.cy,v=Pt(c,!0);return f===+f&&g===+g&&s===+s?te.createElement("path",sk({},v,{className:Yt("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(g,")"),d:d()})):null};N3.registerSymbol=kAe;function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function ok(){return ok=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ok.apply(this,arguments)}function tH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DAe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tH(Object(n),!0).forEach(function(r){yx(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZZ(r.key),r)}}function FAe(t,e,n){return e&&jAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BAe(t,e,n){return e=BE(e),UAe(t,YZ()?Reflect.construct(e,n||[],BE(t).constructor):e.apply(t,n))}function UAe(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zAe(t)}function zAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YZ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YZ=function(){return!!t})()}function BE(t){return BE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BE(t)}function $Ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ak(t,e)}function ak(t,e){return ak=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ak(t,e)}function yx(t,e,n){return e=ZZ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZZ(t){var e=HAe(t,"string");return pg(e)=="symbol"?e:e+""}function HAe(t,e){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mo=32,R3=function(t){function e(){return LAe(this,e),BAe(this,e,arguments)}return $Ae(e,t),FAe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Mo/2,o=Mo/6,a=Mo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Mo,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Mo,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return te.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Mo/8,"h").concat(Mo,"v").concat(Mo*3/4,"h").concat(-Mo,"z"),className:"recharts-legend-icon"});if(te.isValidElement(r.legendIcon)){var c=DAe({},r);return delete c.legendIcon,te.cloneElement(r.legendIcon,c)}return te.createElement(N3,{fill:l,cx:s,cy:s,size:Mo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,d={x:0,y:0,width:Mo,height:Mo},u={display:a==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var y=g.formatter||l,m=Yt(yx(yx({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var p=Ut(g.value)?null:g.value;Ta(!Ut(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=g.inactive?c:g.color;return te.createElement("li",ok({className:m,style:u,key:"legend-item-".concat(v)},uh(r.props,g,v)),te.createElement(ZI,{width:o,height:o,viewBox:d,style:f},r.renderIcon(g)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},y?y(p,g,v):p))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(P.PureComponent);yx(R3,"displayName","Legend");yx(R3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var VAe=PA;function WAe(){this.__data__=new VAe,this.size=0}var GAe=WAe;function XAe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var qAe=XAe;function KAe(t){return this.__data__.get(t)}var YAe=KAe;function ZAe(t){return this.__data__.has(t)}var QAe=ZAe,JAe=PA,eTe=y3,tTe=x3,nTe=200;function rTe(t,e){var n=this.__data__;if(n instanceof JAe){var r=n.__data__;if(!eTe||r.length<nTe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tTe(r)}return n.set(t,e),this.size=n.size,this}var iTe=rTe,sTe=PA,oTe=GAe,aTe=qAe,lTe=YAe,cTe=QAe,uTe=iTe;function Ev(t){var e=this.__data__=new sTe(t);this.size=e.size}Ev.prototype.clear=oTe;Ev.prototype.delete=aTe;Ev.prototype.get=lTe;Ev.prototype.has=cTe;Ev.prototype.set=uTe;var QZ=Ev,dTe="__lodash_hash_undefined__";function fTe(t){return this.__data__.set(t,dTe),this}var hTe=fTe;function pTe(t){return this.__data__.has(t)}var mTe=pTe,gTe=x3,vTe=hTe,yTe=mTe;function UE(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gTe;++e<n;)this.add(t[e])}UE.prototype.add=UE.prototype.push=vTe;UE.prototype.has=yTe;var JZ=UE;function xTe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var eQ=xTe;function _Te(t,e){return t.has(e)}var tQ=_Te,bTe=JZ,wTe=eQ,STe=tQ,ETe=1,CTe=2;function MTe(t,e,n,r,i,s){var o=n&ETe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),d=s.get(e);if(c&&d)return c==e&&d==t;var u=-1,f=!0,g=n&CTe?new bTe:void 0;for(s.set(t,e),s.set(e,t);++u<a;){var v=t[u],y=e[u];if(r)var m=o?r(y,v,u,e,t,s):r(v,y,u,t,e,s);if(m!==void 0){if(m)continue;f=!1;break}if(g){if(!wTe(e,function(p,x){if(!STe(g,x)&&(v===p||i(v,p,n,r,s)))return g.push(x)})){f=!1;break}}else if(!(v===y||i(v,y,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var nQ=MTe,ATe=Il,TTe=ATe.Uint8Array,PTe=TTe;function NTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var RTe=NTe;function OTe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var O3=OTe,nH=Z_,rH=PTe,ITe=v3,kTe=nQ,DTe=RTe,LTe=O3,jTe=1,FTe=2,BTe="[object Boolean]",UTe="[object Date]",zTe="[object Error]",$Te="[object Map]",HTe="[object Number]",VTe="[object RegExp]",WTe="[object Set]",GTe="[object String]",XTe="[object Symbol]",qTe="[object ArrayBuffer]",KTe="[object DataView]",iH=nH?nH.prototype:void 0,DN=iH?iH.valueOf:void 0;function YTe(t,e,n,r,i,s,o){switch(n){case KTe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case qTe:return!(t.byteLength!=e.byteLength||!s(new rH(t),new rH(e)));case BTe:case UTe:case HTe:return ITe(+t,+e);case zTe:return t.name==e.name&&t.message==e.message;case VTe:case GTe:return t==e+"";case $Te:var a=DTe;case WTe:var l=r&jTe;if(a||(a=LTe),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=FTe,o.set(t,e);var d=kTe(a(t),a(e),r,i,s,o);return o.delete(t),d;case XTe:if(DN)return DN.call(t)==DN.call(e)}return!1}var ZTe=YTe;function QTe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var rQ=QTe,JTe=rQ,ePe=Rs;function tPe(t,e,n){var r=e(t);return ePe(t)?r:JTe(r,n(t))}var nPe=tPe;function rPe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var iPe=rPe;function sPe(){return[]}var oPe=sPe,aPe=iPe,lPe=oPe,cPe=Object.prototype,uPe=cPe.propertyIsEnumerable,sH=Object.getOwnPropertySymbols,dPe=sH?function(t){return t==null?[]:(t=Object(t),aPe(sH(t),function(e){return uPe.call(t,e)}))}:lPe,fPe=dPe;function hPe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var pPe=hPe,mPe=Xc,gPe=qc,vPe="[object Arguments]";function yPe(t){return gPe(t)&&mPe(t)==vPe}var xPe=yPe,oH=xPe,_Pe=qc,iQ=Object.prototype,bPe=iQ.hasOwnProperty,wPe=iQ.propertyIsEnumerable,SPe=oH(function(){return arguments}())?oH:function(t){return _Pe(t)&&bPe.call(t,"callee")&&!wPe.call(t,"callee")},I3=SPe,zE={exports:{}};function EPe(){return!1}var CPe=EPe;zE.exports;(function(t,e){var n=Il,r=CPe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(zE,zE.exports);var sQ=zE.exports,MPe=9007199254740991,APe=/^(?:0|[1-9]\d*)$/;function TPe(t,e){var n=typeof t;return e=e??MPe,!!e&&(n=="number"||n!="symbol"&&APe.test(t))&&t>-1&&t%1==0&&t<e}var k3=TPe,PPe=9007199254740991;function NPe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=PPe}var D3=NPe,RPe=Xc,OPe=D3,IPe=qc,kPe="[object Arguments]",DPe="[object Array]",LPe="[object Boolean]",jPe="[object Date]",FPe="[object Error]",BPe="[object Function]",UPe="[object Map]",zPe="[object Number]",$Pe="[object Object]",HPe="[object RegExp]",VPe="[object Set]",WPe="[object String]",GPe="[object WeakMap]",XPe="[object ArrayBuffer]",qPe="[object DataView]",KPe="[object Float32Array]",YPe="[object Float64Array]",ZPe="[object Int8Array]",QPe="[object Int16Array]",JPe="[object Int32Array]",e2e="[object Uint8Array]",t2e="[object Uint8ClampedArray]",n2e="[object Uint16Array]",r2e="[object Uint32Array]",tr={};tr[KPe]=tr[YPe]=tr[ZPe]=tr[QPe]=tr[JPe]=tr[e2e]=tr[t2e]=tr[n2e]=tr[r2e]=!0;tr[kPe]=tr[DPe]=tr[XPe]=tr[LPe]=tr[qPe]=tr[jPe]=tr[FPe]=tr[BPe]=tr[UPe]=tr[zPe]=tr[$Pe]=tr[HPe]=tr[VPe]=tr[WPe]=tr[GPe]=!1;function i2e(t){return IPe(t)&&OPe(t.length)&&!!tr[RPe(t)]}var s2e=i2e;function o2e(t){return function(e){return t(e)}}var oQ=o2e,$E={exports:{}};$E.exports;(function(t,e){var n=hZ,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})($E,$E.exports);var a2e=$E.exports,l2e=s2e,c2e=oQ,aH=a2e,lH=aH&&aH.isTypedArray,u2e=lH?c2e(lH):l2e,aQ=u2e,d2e=pPe,f2e=I3,h2e=Rs,p2e=sQ,m2e=k3,g2e=aQ,v2e=Object.prototype,y2e=v2e.hasOwnProperty;function x2e(t,e){var n=h2e(t),r=!n&&f2e(t),i=!n&&!r&&p2e(t),s=!n&&!r&&!i&&g2e(t),o=n||r||i||s,a=o?d2e(t.length,String):[],l=a.length;for(var c in t)(e||y2e.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||m2e(c,l)))&&a.push(c);return a}var _2e=x2e,b2e=Object.prototype;function w2e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||b2e;return t===n}var S2e=w2e;function E2e(t,e){return function(n){return t(e(n))}}var lQ=E2e,C2e=lQ,M2e=C2e(Object.keys,Object),A2e=M2e,T2e=S2e,P2e=A2e,N2e=Object.prototype,R2e=N2e.hasOwnProperty;function O2e(t){if(!T2e(t))return P2e(t);var e=[];for(var n in Object(t))R2e.call(t,n)&&n!="constructor"&&e.push(n);return e}var I2e=O2e,k2e=g3,D2e=D3;function L2e(t){return t!=null&&D2e(t.length)&&!k2e(t)}var J_=L2e,j2e=_2e,F2e=I2e,B2e=J_;function U2e(t){return B2e(t)?j2e(t):F2e(t)}var GA=U2e,z2e=nPe,$2e=fPe,H2e=GA;function V2e(t){return z2e(t,H2e,$2e)}var W2e=V2e,cH=W2e,G2e=1,X2e=Object.prototype,q2e=X2e.hasOwnProperty;function K2e(t,e,n,r,i,s){var o=n&G2e,a=cH(t),l=a.length,c=cH(e),d=c.length;if(l!=d&&!o)return!1;for(var u=l;u--;){var f=a[u];if(!(o?f in e:q2e.call(e,f)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var y=!0;s.set(t,e),s.set(e,t);for(var m=o;++u<l;){f=a[u];var p=t[f],x=e[f];if(r)var _=o?r(x,p,f,e,t,s):r(p,x,f,t,e,s);if(!(_===void 0?p===x||i(p,x,n,r,s):_)){y=!1;break}m||(m=f=="constructor")}if(y&&!m){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(y=!1)}return s.delete(t),s.delete(e),y}var Y2e=K2e,Z2e=kh,Q2e=Il,J2e=Z2e(Q2e,"DataView"),eNe=J2e,tNe=kh,nNe=Il,rNe=tNe(nNe,"Promise"),iNe=rNe,sNe=kh,oNe=Il,aNe=sNe(oNe,"Set"),cQ=aNe,lNe=kh,cNe=Il,uNe=lNe(cNe,"WeakMap"),dNe=uNe,lk=eNe,ck=y3,uk=iNe,dk=cQ,fk=dNe,uQ=Xc,Cv=mZ,uH="[object Map]",fNe="[object Object]",dH="[object Promise]",fH="[object Set]",hH="[object WeakMap]",pH="[object DataView]",hNe=Cv(lk),pNe=Cv(ck),mNe=Cv(uk),gNe=Cv(dk),vNe=Cv(fk),mf=uQ;(lk&&mf(new lk(new ArrayBuffer(1)))!=pH||ck&&mf(new ck)!=uH||uk&&mf(uk.resolve())!=dH||dk&&mf(new dk)!=fH||fk&&mf(new fk)!=hH)&&(mf=function(t){var e=uQ(t),n=e==fNe?t.constructor:void 0,r=n?Cv(n):"";if(r)switch(r){case hNe:return pH;case pNe:return uH;case mNe:return dH;case gNe:return fH;case vNe:return hH}return e});var yNe=mf,LN=QZ,xNe=nQ,_Ne=ZTe,bNe=Y2e,mH=yNe,gH=Rs,vH=sQ,wNe=aQ,SNe=1,yH="[object Arguments]",xH="[object Array]",t1="[object Object]",ENe=Object.prototype,_H=ENe.hasOwnProperty;function CNe(t,e,n,r,i,s){var o=gH(t),a=gH(e),l=o?xH:mH(t),c=a?xH:mH(e);l=l==yH?t1:l,c=c==yH?t1:c;var d=l==t1,u=c==t1,f=l==c;if(f&&vH(t)){if(!vH(e))return!1;o=!0,d=!1}if(f&&!d)return s||(s=new LN),o||wNe(t)?xNe(t,e,n,r,i,s):_Ne(t,e,l,n,r,i,s);if(!(n&SNe)){var g=d&&_H.call(t,"__wrapped__"),v=u&&_H.call(e,"__wrapped__");if(g||v){var y=g?t.value():t,m=v?e.value():e;return s||(s=new LN),i(y,m,n,r,s)}}return f?(s||(s=new LN),bNe(t,e,n,r,i,s)):!1}var MNe=CNe,ANe=MNe,bH=qc;function dQ(t,e,n,r,i){return t===e?!0:t==null||e==null||!bH(t)&&!bH(e)?t!==t&&e!==e:ANe(t,e,n,r,dQ,i)}var L3=dQ,TNe=QZ,PNe=L3,NNe=1,RNe=2;function ONe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],d=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var u=new TNe;if(r)var f=r(c,d,l,t,e,u);if(!(f===void 0?PNe(d,c,NNe|RNe,r,u):f))return!1}}return!0}var INe=ONe,kNe=Ed;function DNe(t){return t===t&&!kNe(t)}var fQ=DNe,LNe=fQ,jNe=GA;function FNe(t){for(var e=jNe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,LNe(i)]}return e}var BNe=FNe;function UNe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var hQ=UNe,zNe=INe,$Ne=BNe,HNe=hQ;function VNe(t){var e=$Ne(t);return e.length==1&&e[0][2]?HNe(e[0][0],e[0][1]):function(n){return n===t||zNe(n,t,e)}}var WNe=VNe;function GNe(t,e){return t!=null&&e in Object(t)}var XNe=GNe,qNe=_Z,KNe=I3,YNe=Rs,ZNe=k3,QNe=D3,JNe=RA;function eRe(t,e,n){e=qNe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=JNe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&QNe(i)&&ZNe(o,i)&&(YNe(t)||KNe(t)))}var tRe=eRe,nRe=XNe,rRe=tRe;function iRe(t,e){return t!=null&&rRe(t,e,nRe)}var sRe=iRe,oRe=L3,aRe=bZ,lRe=sRe,cRe=m3,uRe=fQ,dRe=hQ,fRe=RA,hRe=1,pRe=2;function mRe(t,e){return cRe(t)&&uRe(e)?dRe(fRe(t),e):function(n){var r=aRe(n,t);return r===void 0&&r===e?lRe(n,t):oRe(e,r,hRe|pRe)}}var gRe=mRe;function vRe(t){return t}var Mv=vRe;function yRe(t){return function(e){return e==null?void 0:e[t]}}var xRe=yRe,_Re=w3;function bRe(t){return function(e){return _Re(e,t)}}var wRe=bRe,SRe=xRe,ERe=wRe,CRe=m3,MRe=RA;function ARe(t){return CRe(t)?SRe(MRe(t)):ERe(t)}var TRe=ARe,PRe=WNe,NRe=gRe,RRe=Mv,ORe=Rs,IRe=TRe;function kRe(t){return typeof t=="function"?t:t==null?RRe:typeof t=="object"?ORe(t)?NRe(t[0],t[1]):PRe(t):IRe(t)}var kl=kRe;function DRe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var pQ=DRe;function LRe(t){return t!==t}var jRe=LRe;function FRe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var BRe=FRe,URe=pQ,zRe=jRe,$Re=BRe;function HRe(t,e,n){return e===e?$Re(t,e,n):URe(t,zRe,n)}var VRe=HRe,WRe=VRe;function GRe(t,e){var n=t==null?0:t.length;return!!n&&WRe(t,e,0)>-1}var XRe=GRe;function qRe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var KRe=qRe;function YRe(){}var ZRe=YRe,jN=cQ,QRe=ZRe,JRe=O3,eOe=1/0,tOe=jN&&1/JRe(new jN([,-0]))[1]==eOe?function(t){return new jN(t)}:QRe,nOe=tOe,rOe=JZ,iOe=XRe,sOe=KRe,oOe=tQ,aOe=nOe,lOe=O3,cOe=200;function uOe(t,e,n){var r=-1,i=iOe,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=sOe;else if(s>=cOe){var c=e?null:aOe(t);if(c)return lOe(c);o=!1,i=oOe,l=new rOe}else l=e?[]:a;e:for(;++r<s;){var d=t[r],u=e?e(d):d;if(d=n||d!==0?d:0,o&&u===u){for(var f=l.length;f--;)if(l[f]===u)continue e;e&&l.push(u),a.push(d)}else i(l,u,n)||(l!==a&&l.push(u),a.push(d))}return a}var dOe=uOe,fOe=kl,hOe=dOe;function pOe(t,e){return t&&t.length?hOe(t,fOe(e)):[]}var mOe=pOe;const wH=Pn(mOe);function mQ(t,e,n){return e===!0?wH(t,n):Ut(e)?wH(t,e):t}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}var gOe=["ref"];function SH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SH(Object(n),!0).forEach(function(r){XA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vQ(r.key),r)}}function yOe(t,e,n){return e&&EH(t.prototype,e),n&&EH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xOe(t,e,n){return e=HE(e),_Oe(t,gQ()?Reflect.construct(e,n||[],HE(t).constructor):e.apply(t,n))}function _Oe(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bOe(t)}function bOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gQ=function(){return!!t})()}function HE(t){return HE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HE(t)}function wOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hk(t,e)}function hk(t,e){return hk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hk(t,e)}function XA(t,e,n){return e=vQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vQ(t){var e=SOe(t,"string");return mg(e)=="symbol"?e:e+""}function SOe(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EOe(t,e){if(t==null)return{};var n=COe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function COe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function MOe(t){return t.value}function AOe(t,e){if(te.isValidElement(t))return te.cloneElement(t,e);if(typeof t=="function")return te.createElement(t,e);e.ref;var n=EOe(e,gOe);return te.createElement(R3,n)}var CH=1,Vf=function(t){function e(){var n;vOe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=xOe(this,e,[].concat(i)),XA(n,"lastBoundingBox",{width:-1,height:-1}),n}return wOe(e,t),yOe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>CH||Math.abs(i.height-this.lastBoundingBox.height)>CH)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Zl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,d=i.chartHeight,u,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();u={left:((c||0)-g.width)/2}}else u=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();f={top:((d||0)-v.height)/2}}else f=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Zl(Zl({},u),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,d=i.payload,u=Zl(Zl({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return te.createElement("div",{className:"recharts-legend-wrapper",style:u,ref:function(g){r.wrapperNode=g}},AOe(s,Zl(Zl({},this.props),{},{payload:mQ(d,c,MOe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Zl(Zl({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&et(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(P.PureComponent);XA(Vf,"displayName","Legend");XA(Vf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var MH=Z_,TOe=I3,POe=Rs,AH=MH?MH.isConcatSpreadable:void 0;function NOe(t){return POe(t)||TOe(t)||!!(AH&&t&&t[AH])}var ROe=NOe,OOe=rQ,IOe=ROe;function yQ(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=IOe),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?yQ(a,e-1,n,r,i):OOe(i,a):r||(i[i.length]=a)}return i}var xQ=yQ;function kOe(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var DOe=kOe,LOe=DOe,jOe=LOe(),FOe=jOe,BOe=FOe,UOe=GA;function zOe(t,e){return t&&BOe(t,e,UOe)}var _Q=zOe,$Oe=J_;function HOe(t,e){return function(n,r){if(n==null)return n;if(!$Oe(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var VOe=HOe,WOe=_Q,GOe=VOe,XOe=GOe(WOe),j3=XOe,qOe=j3,KOe=J_;function YOe(t,e){var n=-1,r=KOe(t)?Array(t.length):[];return qOe(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var bQ=YOe;function ZOe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var QOe=ZOe,TH=yv;function JOe(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=TH(t),o=e!==void 0,a=e===null,l=e===e,c=TH(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var eIe=JOe,tIe=eIe;function nIe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=tIe(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var rIe=nIe,FN=b3,iIe=w3,sIe=kl,oIe=bQ,aIe=QOe,lIe=oQ,cIe=rIe,uIe=Mv,dIe=Rs;function fIe(t,e,n){e.length?e=FN(e,function(s){return dIe(s)?function(o){return iIe(o,s.length===1?s[0]:s)}:s}):e=[uIe];var r=-1;e=FN(e,lIe(sIe));var i=oIe(t,function(s,o,a){var l=FN(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return aIe(i,function(s,o){return cIe(s,o,n)})}var hIe=fIe;function pIe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mIe=pIe,gIe=mIe,PH=Math.max;function vIe(t,e,n){return e=PH(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=PH(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),gIe(t,this,a)}}var yIe=vIe;function xIe(t){return function(){return t}}var _Ie=xIe,bIe=kh,wIe=function(){try{var t=bIe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),wQ=wIe,SIe=_Ie,NH=wQ,EIe=Mv,CIe=NH?function(t,e){return NH(t,"toString",{configurable:!0,enumerable:!1,value:SIe(e),writable:!0})}:EIe,MIe=CIe,AIe=800,TIe=16,PIe=Date.now;function NIe(t){var e=0,n=0;return function(){var r=PIe(),i=TIe-(r-n);if(n=r,i>0){if(++e>=AIe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var RIe=NIe,OIe=MIe,IIe=RIe,kIe=IIe(OIe),DIe=kIe,LIe=Mv,jIe=yIe,FIe=DIe;function BIe(t,e){return FIe(jIe(t,e,LIe),t+"")}var UIe=BIe,zIe=v3,$Ie=J_,HIe=k3,VIe=Ed;function WIe(t,e,n){if(!VIe(n))return!1;var r=typeof e;return(r=="number"?$Ie(n)&&HIe(e,n.length):r=="string"&&e in n)?zIe(n[e],t):!1}var qA=WIe,GIe=xQ,XIe=hIe,qIe=UIe,RH=qA,KIe=qIe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&RH(t,e[0],e[1])?e=[]:n>2&&RH(e[0],e[1],e[2])&&(e=[e[0]]),XIe(t,GIe(e,1),[])}),YIe=KIe;const F3=Pn(YIe);function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function pk(){return pk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pk.apply(this,arguments)}function ZIe(t,e){return tke(t)||eke(t,e)||JIe(t,e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JIe(t,e){if(t){if(typeof t=="string")return OH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OH(t,e)}}function OH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eke(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function tke(t){if(Array.isArray(t))return t}function IH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IH(Object(n),!0).forEach(function(r){nke(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nke(t,e,n){return e=rke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rke(t){var e=ike(t,"string");return xx(e)=="symbol"?e:e+""}function ike(t,e){if(xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ske(t){return Array.isArray(t)&&Qr(t[0])&&Qr(t[1])?t.join(" ~ "):t}var oke=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,d=e.payload,u=e.formatter,f=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,y=e.label,m=e.labelFormatter,p=e.accessibilityLayer,x=p===void 0?!1:p,_=function(){if(d&&d.length){var k={padding:0,margin:0},j=(f?F3(d,f):d).map(function(F,z){if(F.type==="none")return null;var $=BN({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),V=F.formatter||u||ske,R=F.value,L=F.name,B=R,W=L;if(V&&B!=null&&W!=null){var G=V(R,L,F,z,d);if(Array.isArray(G)){var Y=ZIe(G,2);B=Y[0],W=Y[1]}else B=G}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:$},Qr(W)?te.createElement("span",{className:"recharts-tooltip-item-name"},W):null,Qr(W)?te.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,te.createElement("span",{className:"recharts-tooltip-item-value"},B),te.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:k},j)}return null},b=BN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=BN({margin:0},c),C=!Xt(y),A=C?y:"",M=Yt("recharts-default-tooltip",g),T=Yt("recharts-tooltip-label",v);C&&m&&d!==void 0&&d!==null&&(A=m(y,d));var N=x?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",pk({className:M,style:b},N),te.createElement("p",{className:T,style:S},te.isValidElement(A)?A:"".concat(A)),_())};function _x(t){"@babel/helpers - typeof";return _x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_x(t)}function n1(t,e,n){return e=ake(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ake(t){var e=lke(t,"string");return _x(e)=="symbol"?e:e+""}function lke(t,e){if(_x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_x(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ey="recharts-tooltip-wrapper",cke={visibility:"hidden"};function uke(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Yt(Ey,n1(n1(n1(n1({},"".concat(Ey,"-right"),et(n)&&e&&et(e.x)&&n>=e.x),"".concat(Ey,"-left"),et(n)&&e&&et(e.x)&&n<e.x),"".concat(Ey,"-bottom"),et(r)&&e&&et(e.y)&&r>=e.y),"".concat(Ey,"-top"),et(r)&&e&&et(e.y)&&r<e.y))}function kH(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&et(s[r]))return s[r];var d=n[r]-a-i,u=n[r]+i;if(e[r])return o[r]?d:u;if(o[r]){var f=d,g=l[r];return f<g?Math.max(u,l[r]):Math.max(d,l[r])}var v=u+a,y=l[r]+c;return v>y?Math.max(d,l[r]):Math.max(u,l[r])}function dke(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fke(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,d,u;return o.height>0&&o.width>0&&n?(d=kH({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),u=kH({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=dke({translateX:d,translateY:u,useTranslate3d:a})):c=cke,{cssProperties:c,cssClasses:uke({translateX:d,translateY:u,coordinate:n})}}function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function DH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DH(Object(n),!0).forEach(function(r){gk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EQ(r.key),r)}}function mke(t,e,n){return e&&pke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gke(t,e,n){return e=VE(e),vke(t,SQ()?Reflect.construct(e,n||[],VE(t).constructor):e.apply(t,n))}function vke(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yke(t)}function yke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function SQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SQ=function(){return!!t})()}function VE(t){return VE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VE(t)}function xke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mk(t,e)}function mk(t,e){return mk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mk(t,e)}function gk(t,e,n){return e=EQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EQ(t){var e=_ke(t,"string");return gg(e)=="symbol"?e:e+""}function _ke(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jH=1,bke=function(t){function e(){var n;hke(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=gke(this,e,[].concat(i)),gk(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),gk(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,d;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(d=n.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&c!==void 0?c:0}})}}),n}return xke(e,t),mke(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>jH||Math.abs(r.height-this.state.lastBoundingBox.height)>jH)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,d=i.coordinate,u=i.hasPayload,f=i.isAnimationActive,g=i.offset,v=i.position,y=i.reverseDirection,m=i.useTranslate3d,p=i.viewBox,x=i.wrapperStyle,_=fke({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:g,position:v,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),b=_.cssClasses,S=_.cssProperties,C=LH(LH({transition:f&&s?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&u?"visible":"hidden",position:"absolute",top:0,left:0},x);return te.createElement("div",{tabIndex:-1,className:b,style:C,ref:function(M){r.wrapperNode=M}},c)}}])}(P.PureComponent),wke=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Pa={isSsr:wke(),get:function(e){return Pa[e]},set:function(e,n){if(typeof e=="string")Pa[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Pa[i]=e[i]})}}};function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function FH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FH(Object(n),!0).forEach(function(r){B3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ske(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eke(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MQ(r.key),r)}}function Cke(t,e,n){return e&&Eke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mke(t,e,n){return e=WE(e),Ake(t,CQ()?Reflect.construct(e,n||[],WE(t).constructor):e.apply(t,n))}function Ake(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tke(t)}function Tke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CQ=function(){return!!t})()}function WE(t){return WE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WE(t)}function Pke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vk(t,e)}function vk(t,e){return vk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vk(t,e)}function B3(t,e,n){return e=MQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MQ(t){var e=Nke(t,"string");return vg(e)=="symbol"?e:e+""}function Nke(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rke(t){return t.dataKey}function Oke(t,e){return te.isValidElement(t)?te.cloneElement(t,e):typeof t=="function"?te.createElement(t,e):te.createElement(oke,e)}var ui=function(t){function e(){return Ske(this,e),Mke(this,e,arguments)}return Pke(e,t),Cke(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,d=i.coordinate,u=i.filterNull,f=i.isAnimationActive,g=i.offset,v=i.payload,y=i.payloadUniqBy,m=i.position,p=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,S=v??[];u&&S.length&&(S=mQ(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),y,Rke));var C=S.length>0;return te.createElement(bke,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:f,active:s,coordinate:d,hasPayload:C,offset:g,position:m,reverseDirection:p,useTranslate3d:x,viewBox:_,wrapperStyle:b},Oke(c,BH(BH({},this.props),{},{payload:S})))}}])}(P.PureComponent);B3(ui,"displayName","Tooltip");B3(ui,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Pa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Ike=Il,kke=function(){return Ike.Date.now()},Dke=kke,Lke=/\s/;function jke(t){for(var e=t.length;e--&&Lke.test(t.charAt(e)););return e}var Fke=jke,Bke=Fke,Uke=/^\s+/;function zke(t){return t&&t.slice(0,Bke(t)+1).replace(Uke,"")}var $ke=zke,Hke=$ke,UH=Ed,Vke=yv,zH=NaN,Wke=/^[-+]0x[0-9a-f]+$/i,Gke=/^0b[01]+$/i,Xke=/^0o[0-7]+$/i,qke=parseInt;function Kke(t){if(typeof t=="number")return t;if(Vke(t))return zH;if(UH(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=UH(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=Hke(t);var n=Gke.test(t);return n||Xke.test(t)?qke(t.slice(2),n?2:8):Wke.test(t)?zH:+t}var AQ=Kke,Yke=Ed,UN=Dke,$H=AQ,Zke="Expected a function",Qke=Math.max,Jke=Math.min;function eDe(t,e,n){var r,i,s,o,a,l,c=0,d=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(Zke);e=$H(e)||0,Yke(n)&&(d=!!n.leading,u="maxWait"in n,s=u?Qke($H(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function g(C){var A=r,M=i;return r=i=void 0,c=C,o=t.apply(M,A),o}function v(C){return c=C,a=setTimeout(p,e),d?g(C):o}function y(C){var A=C-l,M=C-c,T=e-A;return u?Jke(T,s-M):T}function m(C){var A=C-l,M=C-c;return l===void 0||A>=e||A<0||u&&M>=s}function p(){var C=UN();if(m(C))return x(C);a=setTimeout(p,y(C))}function x(C){return a=void 0,f&&r?g(C):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function b(){return a===void 0?o:x(UN())}function S(){var C=UN(),A=m(C);if(r=arguments,i=this,l=C,A){if(a===void 0)return v(l);if(u)return clearTimeout(a),a=setTimeout(p,e),g(l)}return a===void 0&&(a=setTimeout(p,e)),o}return S.cancel=_,S.flush=b,S}var tDe=eDe,nDe=tDe,rDe=Ed,iDe="Expected a function";function sDe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(iDe);return rDe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nDe(t,e,{leading:r,maxWait:e,trailing:i})}var oDe=sDe;const TQ=Pn(oDe);function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function HH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HH(Object(n),!0).forEach(function(r){aDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aDe(t,e,n){return e=lDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lDe(t){var e=cDe(t,"string");return bx(e)=="symbol"?e:e+""}function cDe(t,e){if(bx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uDe(t,e){return pDe(t)||hDe(t,e)||fDe(t,e)||dDe()}function dDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fDe(t,e){if(t){if(typeof t=="string")return VH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VH(t,e)}}function VH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function pDe(t){if(Array.isArray(t))return t}var al=P.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,d=c===void 0?0:c,u=t.minHeight,f=t.maxHeight,g=t.children,v=t.debounce,y=v===void 0?0:v,m=t.id,p=t.className,x=t.onResize,_=t.style,b=_===void 0?{}:_,S=P.useRef(null),C=P.useRef();C.current=x,P.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var A=P.useState({containerWidth:i.width,containerHeight:i.height}),M=uDe(A,2),T=M[0],N=M[1],I=P.useCallback(function(j,F){N(function(z){var $=Math.round(j),V=Math.round(F);return z.containerWidth===$&&z.containerHeight===V?z:{containerWidth:$,containerHeight:V}})},[]);P.useEffect(function(){var j=function(L){var B,W=L[0].contentRect,G=W.width,Y=W.height;I(G,Y),(B=C.current)===null||B===void 0||B.call(C,G,Y)};y>0&&(j=TQ(j,y,{trailing:!0,leading:!1}));var F=new ResizeObserver(j),z=S.current.getBoundingClientRect(),$=z.width,V=z.height;return I($,V),F.observe(S.current),function(){F.disconnect()}},[I,y]);var k=P.useMemo(function(){var j=T.containerWidth,F=T.containerHeight;if(j<0||F<0)return null;Ta(Af(o)||Af(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),Ta(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Af(o)?j:o,$=Af(l)?F:l;n&&n>0&&(z?$=z/n:$&&(z=$*n),f&&$>f&&($=f)),Ta(z>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,$,o,l,d,u,n);var V=!Array.isArray(g)&&wc(g.type).endsWith("Chart");return te.Children.map(g,function(R){return te.isValidElement(R)?P.cloneElement(R,r1({width:z,height:$},V?{style:r1({height:"100%",width:"100%",maxHeight:$,maxWidth:z},R.props.style)}:{})):R})},[n,g,l,f,u,d,T,o]);return te.createElement("div",{id:m?"".concat(m):void 0,className:Yt("recharts-responsive-container",p),style:r1(r1({},b),{},{width:o,height:l,minWidth:d,minHeight:u,maxHeight:f}),ref:S},k)}),KA=function(e){return null};KA.displayName="Cell";function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function WH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(n),!0).forEach(function(r){mDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mDe(t,e,n){return e=gDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gDe(t){var e=vDe(t,"string");return wx(e)=="symbol"?e:e+""}function vDe(t,e){if(wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xp={widthCache:{},cacheCount:0},yDe=2e3,xDe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},GH="recharts_measurement_span";function _De(t){var e=yk({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var M0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Pa.isSsr)return{width:0,height:0};var r=_De(n),i=JSON.stringify({text:e,copyStyle:r});if(xp.widthCache[i])return xp.widthCache[i];try{var s=document.getElementById(GH);s||(s=document.createElement("span"),s.setAttribute("id",GH),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=yk(yk({},xDe),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return xp.widthCache[i]=l,++xp.cacheCount>yDe&&(xp.cacheCount=0,xp.widthCache={}),l}catch{return{width:0,height:0}}},bDe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function GE(t,e){return CDe(t)||EDe(t,e)||SDe(t,e)||wDe()}function wDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function SDe(t,e){if(t){if(typeof t=="string")return XH(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XH(t,e)}}function XH(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function EDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function CDe(t){if(Array.isArray(t))return t}function MDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qH(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TDe(r.key),r)}}function ADe(t,e,n){return e&&qH(t.prototype,e),n&&qH(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function TDe(t){var e=PDe(t,"string");return Sx(e)=="symbol"?e:e+""}function PDe(t,e){if(Sx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,YH=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,RDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ODe=Object.keys(PQ),dm="NaN";function IDe(t,e){return t*PQ[e]}var i1=function(){function t(e,n){MDe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!NDe.test(n)&&(this.num=NaN,this.unit=""),ODe.includes(n)&&(this.num=IDe(e,n),this.unit="px")}return ADe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=RDe.exec(n))!==null&&r!==void 0?r:[],s=GE(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function NQ(t){if(t.includes(dm))return dm;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=KH.exec(e))!==null&&n!==void 0?n:[],i=GE(r,4),s=i[1],o=i[2],a=i[3],l=i1.parse(s??""),c=i1.parse(a??""),d=o==="*"?l.multiply(c):l.divide(c);if(d.isNaN())return dm;e=e.replace(KH,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,f=(u=YH.exec(e))!==null&&u!==void 0?u:[],g=GE(f,4),v=g[1],y=g[2],m=g[3],p=i1.parse(v??""),x=i1.parse(m??""),_=y==="+"?p.add(x):p.subtract(x);if(_.isNaN())return dm;e=e.replace(YH,_.toString())}return e}var ZH=/\(([^()]*)\)/;function kDe(t){for(var e=t;e.includes("(");){var n=ZH.exec(e),r=GE(n,2),i=r[1];e=e.replace(ZH,NQ(i))}return e}function DDe(t){var e=t.replace(/\s+/g,"");return e=kDe(e),e=NQ(e),e}function LDe(t){try{return DDe(t)}catch{return dm}}function zN(t){var e=LDe(t.slice(5,-1));return e===dm?"":e}var jDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],FDe=["dx","dy","angle","className","breakAll"];function xk(){return xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xk.apply(this,arguments)}function QH(t,e){if(t==null)return{};var n=BDe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function BDe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JH(t,e){return HDe(t)||$De(t,e)||zDe(t,e)||UDe()}function UDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zDe(t,e){if(t){if(typeof t=="string")return e6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return e6(t,e)}}function e6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $De(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function HDe(t){if(Array.isArray(t))return t}var RQ=/[ \f\n\r\t\v\u2028\u2029]+/,OQ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Xt(n)||(r?s=n.toString().split(""):s=n.toString().split(RQ));var o=s.map(function(l){return{word:l,width:M0(l,i).width}}),a=r?0:M0("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},VDe=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,d=et(o),u=a,f=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function($,V){var R=V.word,L=V.width,B=$[$.length-1];if(B&&(i==null||s||B.width+L+r<Number(i)))B.words.push(R),B.width+=L+r;else{var W={words:[R],width:L};$.push(W)}return $},[])},g=f(n),v=function(z){return z.reduce(function($,V){return $.width>V.width?$:V})};if(!d)return g;for(var y="",m=function(z){var $=u.slice(0,z),V=OQ({breakAll:c,style:l,children:$+y}).wordsWithComputedWidth,R=f(V),L=R.length>o||v(R).width>Number(i);return[L,R]},p=0,x=u.length-1,_=0,b;p<=x&&_<=u.length-1;){var S=Math.floor((p+x)/2),C=S-1,A=m(C),M=JH(A,2),T=M[0],N=M[1],I=m(S),k=JH(I,1),j=k[0];if(!T&&!j&&(p=S+1),T&&j&&(x=S-1),!T&&j){b=N;break}_++}return b||g},t6=function(e){var n=Xt(e)?[]:e.toString().split(RQ);return[{words:n}]},WDe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Pa.isSsr){var l,c,d=OQ({breakAll:o,children:i,style:s});if(d){var u=d.wordsWithComputedWidth,f=d.spaceWidth;l=u,c=f}else return t6(i);return VDe({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return t6(i)},n6="#808080",dh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,d=e.scaleToFit,u=d===void 0?!1:d,f=e.textAnchor,g=f===void 0?"start":f,v=e.verticalAnchor,y=v===void 0?"end":v,m=e.fill,p=m===void 0?n6:m,x=QH(e,jDe),_=P.useMemo(function(){return WDe({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:u,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,u,x.style,x.width]),b=x.dx,S=x.dy,C=x.angle,A=x.className,M=x.breakAll,T=QH(x,FDe);if(!Qr(r)||!Qr(s))return null;var N=r+(et(b)?b:0),I=s+(et(S)?S:0),k;switch(y){case"start":k=zN("calc(".concat(c,")"));break;case"middle":k=zN("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:k=zN("calc(".concat(_.length-1," * -").concat(a,")"));break}var j=[];if(u){var F=_[0].width,z=x.width;j.push("scale(".concat((et(z)?z/F:1)/F,")"))}return C&&j.push("rotate(".concat(C,", ").concat(N,", ").concat(I,")")),j.length&&(T.transform=j.join(" ")),te.createElement("text",xk({},Pt(T,!0),{x:N,y:I,className:Yt("recharts-text",A),textAnchor:g,fill:p.includes("url")?n6:p}),_.map(function($,V){var R=$.words.join(M?"":" ");return te.createElement("tspan",{x:N,dy:V===0?k:a,key:"".concat(R,"-").concat(V)},R)}))};function sd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function GDe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U3(t){let e,n,r;t.length!==2?(e=sd,n=(a,l)=>sd(t(a),l),r=(a,l)=>t(a)-l):(e=t===sd||t===GDe?t:XDe,n=t,r=t);function i(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;n(a[u],l)<0?c=u+1:d=u}while(c<d)}return c}function s(a,l,c=0,d=a.length){if(c<d){if(e(l,l)!==0)return d;do{const u=c+d>>>1;n(a[u],l)<=0?c=u+1:d=u}while(c<d)}return c}function o(a,l,c=0,d=a.length){const u=i(a,l,c,d-1);return u>c&&r(a[u-1],l)>-r(a[u],l)?u-1:u}return{left:i,center:o,right:s}}function XDe(){return 0}function IQ(t){return t===null?NaN:+t}function*qDe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const KDe=U3(sd),eb=KDe.right;U3(IQ).center;class r6 extends Map{constructor(e,n=QDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(i6(this,e))}has(e){return super.has(i6(this,e))}set(e,n){return super.set(YDe(this,e),n)}delete(e){return super.delete(ZDe(this,e))}}function i6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function YDe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function ZDe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function QDe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function JDe(t=sd){if(t===sd)return kQ;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function kQ(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eLe=Math.sqrt(50),tLe=Math.sqrt(10),nLe=Math.sqrt(2);function XE(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=eLe?10:s>=tLe?5:s>=nLe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?XE(t,e,n*2):[a,l,c]}function _k(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?XE(e,t,n):XE(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function bk(t,e,n){return e=+e,t=+t,n=+n,XE(t,e,n)[2]}function wk(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?bk(e,t,n):bk(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function s6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function o6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function DQ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?kQ:JDe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,d=Math.log(l),u=.5*Math.exp(2*d/3),f=.5*Math.sqrt(d*u*(l-u)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*u/l+f)),v=Math.min(r,Math.floor(e+(l-c)*u/l+f));DQ(t,e,g,v,i)}const s=t[e];let o=n,a=r;for(Cy(t,n,e),i(t[r],s)>0&&Cy(t,n,r);o<a;){for(Cy(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Cy(t,n,a):(++a,Cy(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Cy(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rLe(t,e,n){if(t=Float64Array.from(qDe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return o6(t);if(e>=1)return s6(t);var r,i=(r-1)*e,s=Math.floor(i),o=s6(DQ(t,s).subarray(0,s+1)),a=o6(t.subarray(s+1));return o+(a-o)*(i-s)}}function iLe(t,e,n=IQ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function sLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Wo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Kc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Sk=Symbol("implicit");function z3(){var t=new r6,e=[],n=[],r=Sk;function i(s){let o=t.get(s);if(o===void 0){if(r!==Sk)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new r6;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return z3(e,n).unknown(r)},Wo.apply(i,arguments),i}function Ex(){var t=z3().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,d=.5;delete t.unknown;function u(){var f=e().length,g=i<r,v=g?i:r,y=g?r:i;s=(y-v)/Math.max(1,f-l+c*2),a&&(s=Math.floor(s)),v+=(y-v-s*(f-l))*d,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var m=sLe(f).map(function(p){return v+s*p});return n(g?m.reverse():m)}return t.domain=function(f){return arguments.length?(e(f),u()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,u()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,u()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(f){return arguments.length?(a=!!f,u()):a},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),u()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),u()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,u()):c},t.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),u()):d},t.copy=function(){return Ex(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(d)},Wo.apply(u(),arguments)}function LQ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return LQ(e())},t}function A0(){return LQ(Ex.apply(null,arguments).paddingInner(1))}function $3(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function jQ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function tb(){}var Cx=.7,qE=1/Cx,Lm="\\s*([+-]?\\d+)\\s*",Mx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oLe=/^#([0-9a-f]{3,8})$/,aLe=new RegExp(`^rgb\\(${Lm},${Lm},${Lm}\\)$`),lLe=new RegExp(`^rgb\\(${gl},${gl},${gl}\\)$`),cLe=new RegExp(`^rgba\\(${Lm},${Lm},${Lm},${Mx}\\)$`),uLe=new RegExp(`^rgba\\(${gl},${gl},${gl},${Mx}\\)$`),dLe=new RegExp(`^hsl\\(${Mx},${gl},${gl}\\)$`),fLe=new RegExp(`^hsla\\(${Mx},${gl},${gl},${Mx}\\)$`),a6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};$3(tb,fh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:l6,formatHex:l6,formatHex8:hLe,formatHsl:pLe,formatRgb:c6,toString:c6});function l6(){return this.rgb().formatHex()}function hLe(){return this.rgb().formatHex8()}function pLe(){return FQ(this).formatHsl()}function c6(){return this.rgb().formatRgb()}function fh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?u6(e):n===3?new Cs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?s1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?s1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aLe.exec(t))?new Cs(e[1],e[2],e[3],1):(e=lLe.exec(t))?new Cs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cLe.exec(t))?s1(e[1],e[2],e[3],e[4]):(e=uLe.exec(t))?s1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dLe.exec(t))?h6(e[1],e[2]/100,e[3]/100,1):(e=fLe.exec(t))?h6(e[1],e[2]/100,e[3]/100,e[4]):a6.hasOwnProperty(t)?u6(a6[t]):t==="transparent"?new Cs(NaN,NaN,NaN,0):null}function u6(t){return new Cs(t>>16&255,t>>8&255,t&255,1)}function s1(t,e,n,r){return r<=0&&(t=e=n=NaN),new Cs(t,e,n,r)}function mLe(t){return t instanceof tb||(t=fh(t)),t?(t=t.rgb(),new Cs(t.r,t.g,t.b,t.opacity)):new Cs}function Ek(t,e,n,r){return arguments.length===1?mLe(t):new Cs(t,e,n,r??1)}function Cs(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}$3(Cs,Ek,jQ(tb,{brighter(t){return t=t==null?qE:Math.pow(qE,t),new Cs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Cx:Math.pow(Cx,t),new Cs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Cs(Wf(this.r),Wf(this.g),Wf(this.b),KE(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d6,formatHex:d6,formatHex8:gLe,formatRgb:f6,toString:f6}));function d6(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}`}function gLe(){return`#${Tf(this.r)}${Tf(this.g)}${Tf(this.b)}${Tf((isNaN(this.opacity)?1:this.opacity)*255)}`}function f6(){const t=KE(this.opacity);return`${t===1?"rgb(":"rgba("}${Wf(this.r)}, ${Wf(this.g)}, ${Wf(this.b)}${t===1?")":`, ${t})`}`}function KE(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Tf(t){return t=Wf(t),(t<16?"0":"")+t.toString(16)}function h6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new ya(t,e,n,r)}function FQ(t){if(t instanceof ya)return new ya(t.h,t.s,t.l,t.opacity);if(t instanceof tb||(t=fh(t)),!t)return new ya;if(t instanceof ya)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new ya(o,a,l,t.opacity)}function vLe(t,e,n,r){return arguments.length===1?FQ(t):new ya(t,e,n,r??1)}function ya(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}$3(ya,vLe,jQ(tb,{brighter(t){return t=t==null?qE:Math.pow(qE,t),new ya(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Cx:Math.pow(Cx,t),new ya(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Cs($N(t>=240?t-240:t+120,i,r),$N(t,i,r),$N(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new ya(p6(this.h),o1(this.s),o1(this.l),KE(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=KE(this.opacity);return`${t===1?"hsl(":"hsla("}${p6(this.h)}, ${o1(this.s)*100}%, ${o1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function p6(t){return t=(t||0)%360,t<0?t+360:t}function o1(t){return Math.max(0,Math.min(1,t||0))}function $N(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const H3=t=>()=>t;function yLe(t,e){return function(n){return t+n*e}}function xLe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _Le(t){return(t=+t)==1?BQ:function(e,n){return n-e?xLe(e,n,t):H3(isNaN(e)?n:e)}}function BQ(t,e){var n=e-t;return n?yLe(t,n):H3(isNaN(t)?e:t)}const YE=function t(e){var n=_Le(e);function r(i,s){var o=n((i=Ek(i)).r,(s=Ek(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=BQ(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=a(d),i.b=l(d),i.opacity=c(d),i+""}}return r.gamma=t,r}(1);function bLe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function wLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SLe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Sc(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function ELe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ga(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function CLe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Sc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Ck=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,HN=new RegExp(Ck.source,"g");function MLe(t){return function(){return t}}function ALe(t){return function(e){return t(e)+""}}function UQ(t,e){var n=Ck.lastIndex=HN.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=Ck.exec(t))&&(i=HN.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:ga(r,i)})),n=HN.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?ALe(l[0].x):MLe(e):(e=l.length,function(c){for(var d=0,u;d<e;++d)a[(u=l[d]).i]=u.x(c);return a.join("")})}function Sc(t,e){var n=typeof e,r;return e==null||n==="boolean"?H3(e):(n==="number"?ga:n==="string"?(r=fh(e))?(e=r,YE):UQ:e instanceof fh?YE:e instanceof Date?ELe:wLe(e)?bLe:Array.isArray(e)?SLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?CLe:ga)(t,e)}function V3(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var m6=180/Math.PI,Mk={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zQ(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*m6,skewX:Math.atan(l)*m6,scaleX:o,scaleY:a}}var a1;function TLe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Mk:zQ(e.a,e.b,e.c,e.d,e.e,e.f)}function PLe(t){return t==null||(a1||(a1=document.createElementNS("http://www.w3.org/2000/svg","g")),a1.setAttribute("transform",t),!(t=a1.transform.baseVal.consolidate()))?Mk:(t=t.matrix,zQ(t.a,t.b,t.c,t.d,t.e,t.f))}function $Q(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,d,u,f,g,v){if(c!==u||d!==f){var y=g.push("translate(",null,e,null,n);v.push({i:y-4,x:ga(c,u)},{i:y-2,x:ga(d,f)})}else(u||f)&&g.push("translate("+u+e+f+n)}function o(c,d,u,f){c!==d?(c-d>180?d+=360:d-c>180&&(c+=360),f.push({i:u.push(i(u)+"rotate(",null,r)-2,x:ga(c,d)})):d&&u.push(i(u)+"rotate("+d+r)}function a(c,d,u,f){c!==d?f.push({i:u.push(i(u)+"skewX(",null,r)-2,x:ga(c,d)}):d&&u.push(i(u)+"skewX("+d+r)}function l(c,d,u,f,g,v){if(c!==u||d!==f){var y=g.push(i(g)+"scale(",null,",",null,")");v.push({i:y-4,x:ga(c,u)},{i:y-2,x:ga(d,f)})}else(u!==1||f!==1)&&g.push(i(g)+"scale("+u+","+f+")")}return function(c,d){var u=[],f=[];return c=t(c),d=t(d),s(c.translateX,c.translateY,d.translateX,d.translateY,u,f),o(c.rotate,d.rotate,u,f),a(c.skewX,d.skewX,u,f),l(c.scaleX,c.scaleY,d.scaleX,d.scaleY,u,f),c=d=null,function(g){for(var v=-1,y=f.length,m;++v<y;)u[(m=f[v]).i]=m.x(g);return u.join("")}}}var NLe=$Q(TLe,"px, ","px)","deg)"),RLe=$Q(PLe,", ",")",")"),OLe=1e-12;function g6(t){return((t=Math.exp(t))+1/t)/2}function ILe(t){return((t=Math.exp(t))-1/t)/2}function kLe(t){return((t=Math.exp(2*t))-1)/(t+1)}const jS=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],d=o[0],u=o[1],f=o[2],g=d-a,v=u-l,y=g*g+v*v,m,p;if(y<OLe)p=Math.log(f/c)/e,m=function(A){return[a+A*g,l+A*v,c*Math.exp(e*A*p)]};else{var x=Math.sqrt(y),_=(f*f-c*c+r*y)/(2*c*n*x),b=(f*f-c*c-r*y)/(2*f*n*x),S=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(b*b+1)-b);p=(C-S)/e,m=function(A){var M=A*p,T=g6(S),N=c/(n*x)*(T*kLe(e*M+S)-ILe(S));return[a+N*g,l+N*v,c*T/g6(e*M+S)]}}return m.duration=p*1e3*e/Math.SQRT2,m}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);function DLe(t,e){e===void 0&&(e=t,t=Sc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function LLe(t){return function(){return t}}function ZE(t){return+t}var v6=[0,1];function rs(t){return t}function Ak(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:LLe(isNaN(e)?NaN:.5)}function jLe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function FLe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=Ak(i,r),s=n(o,s)):(r=Ak(r,i),s=n(s,o)),function(a){return s(r(a))}}function BLe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Ak(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=eb(t,a,1,r)-1;return s[l](i[l](a))}}function nb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function YA(){var t=v6,e=v6,n=Sc,r,i,s,o=rs,a,l,c;function d(){var f=Math.min(t.length,e.length);return o!==rs&&(o=jLe(t[0],t[f-1])),a=f>2?BLe:FLe,l=c=null,u}function u(f){return f==null||isNaN(f=+f)?s:(l||(l=a(t.map(r),e,n)))(r(o(f)))}return u.invert=function(f){return o(i((c||(c=a(e,t.map(r),ga)))(f)))},u.domain=function(f){return arguments.length?(t=Array.from(f,ZE),d()):t.slice()},u.range=function(f){return arguments.length?(e=Array.from(f),d()):e.slice()},u.rangeRound=function(f){return e=Array.from(f),n=V3,d()},u.clamp=function(f){return arguments.length?(o=f?!0:rs,d()):o!==rs},u.interpolate=function(f){return arguments.length?(n=f,d()):n},u.unknown=function(f){return arguments.length?(s=f,u):s},function(f,g){return r=f,i=g,d()}}function W3(){return YA()(rs,rs)}function ULe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function QE(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function yg(t){return t=QE(Math.abs(t)),t?t[1]:NaN}function zLe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function $Le(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var HLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ax(t){if(!(e=HLe.exec(t)))throw new Error("invalid format: "+t);var e;return new G3({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ax.prototype=G3.prototype;function G3(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}G3.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function VLe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var HQ;function WLe(t,e){var n=QE(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(HQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+QE(t,Math.max(0,e+s-1))[0]}function y6(t,e){var n=QE(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const x6={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:ULe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>y6(t*100,e),r:y6,s:WLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function _6(t){return t}var b6=Array.prototype.map,w6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GLe(t){var e=t.grouping===void 0||t.thousands===void 0?_6:zLe(b6.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?_6:$Le(b6.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(u){u=Ax(u);var f=u.fill,g=u.align,v=u.sign,y=u.symbol,m=u.zero,p=u.width,x=u.comma,_=u.precision,b=u.trim,S=u.type;S==="n"?(x=!0,S="g"):x6[S]||(_===void 0&&(_=12),b=!0,S="g"),(m||f==="0"&&g==="=")&&(m=!0,f="0",g="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=y==="$"?r:/[%p]/.test(S)?o:"",M=x6[S],T=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(I){var k=C,j=A,F,z,$;if(S==="c")j=M(I)+j,I="";else{I=+I;var V=I<0||1/I<0;if(I=isNaN(I)?l:M(Math.abs(I),_),b&&(I=VLe(I)),V&&+I==0&&v!=="+"&&(V=!1),k=(V?v==="("?v:a:v==="-"||v==="("?"":v)+k,j=(S==="s"?w6[8+HQ/3]:"")+j+(V&&v==="("?")":""),T){for(F=-1,z=I.length;++F<z;)if($=I.charCodeAt(F),48>$||$>57){j=($===46?i+I.slice(F+1):I.slice(F))+j,I=I.slice(0,F);break}}}x&&!m&&(I=e(I,1/0));var R=k.length+I.length+j.length,L=R<p?new Array(p-R+1).join(f):"";switch(x&&m&&(I=e(L+I,L.length?p-j.length:1/0),L=""),g){case"<":I=k+I+j+L;break;case"=":I=k+L+I+j;break;case"^":I=L.slice(0,R=L.length>>1)+k+I+j+L.slice(R);break;default:I=L+k+I+j;break}return s(I)}return N.toString=function(){return u+""},N}function d(u,f){var g=c((u=Ax(u),u.type="f",u)),v=Math.max(-8,Math.min(8,Math.floor(yg(f)/3)))*3,y=Math.pow(10,-v),m=w6[8+v/3];return function(p){return g(y*p)+m}}return{format:c,formatPrefix:d}}var l1,X3,VQ;XLe({thousands:",",grouping:[3],currency:["$",""]});function XLe(t){return l1=GLe(t),X3=l1.format,VQ=l1.formatPrefix,l1}function qLe(t){return Math.max(0,-yg(Math.abs(t)))}function KLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(yg(e)/3)))*3-yg(Math.abs(t)))}function YLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,yg(e)-yg(t))+1}function WQ(t,e,n,r){var i=wk(t,e,n),s;switch(r=Ax(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=KLe(i,o))&&(r.precision=s),VQ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=YLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=qLe(i))&&(r.precision=s-(r.type==="%")*2);break}}return X3(r)}function Cd(t){var e=t.domain;return t.ticks=function(n){var r=e();return _k(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return WQ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,d=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);d-- >0;){if(c=bk(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function JE(){var t=W3();return t.copy=function(){return nb(t,JE())},Wo.apply(t,arguments),Cd(t)}function GQ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,ZE),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return GQ(t).unknown(e)},t=arguments.length?Array.from(t,ZE):[0,1],Cd(n)}function XQ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function S6(t){return Math.log(t)}function E6(t){return Math.exp(t)}function ZLe(t){return-Math.log(-t)}function QLe(t){return-Math.exp(-t)}function JLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function eje(t){return t===10?JLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function tje(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function C6(t){return(e,n)=>-t(-e,n)}function q3(t){const e=t(S6,E6),n=e.domain;let r=10,i,s;function o(){return i=tje(r),s=eje(r),n()[0]<0?(i=C6(i),s=C6(s),t(ZLe,QLe)):t(S6,E6),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],d=l[l.length-1];const u=d<c;u&&([c,d]=[d,c]);let f=i(c),g=i(d),v,y;const m=a==null?10:+a;let p=[];if(!(r%1)&&g-f<m){if(f=Math.floor(f),g=Math.ceil(g),c>0){for(;f<=g;++f)for(v=1;v<r;++v)if(y=f<0?v/s(-f):v*s(f),!(y<c)){if(y>d)break;p.push(y)}}else for(;f<=g;++f)for(v=r-1;v>=1;--v)if(y=f>0?v/s(-f):v*s(f),!(y<c)){if(y>d)break;p.push(y)}p.length*2<m&&(p=_k(c,d,m))}else p=_k(f,g,Math.min(g-f,m)).map(s);return u?p.reverse():p},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Ax(l)).precision==null&&(l.trim=!0),l=X3(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return d=>{let u=d/s(Math.round(i(d)));return u*r<r-.5&&(u*=r),u<=c?l(d):""}},e.nice=()=>n(XQ(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function qQ(){const t=q3(YA()).domain([1,10]);return t.copy=()=>nb(t,qQ()).base(t.base()),Wo.apply(t,arguments),t}function M6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function A6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function K3(t){var e=1,n=t(M6(e),A6(e));return n.constant=function(r){return arguments.length?t(M6(e=+r),A6(e)):e},Cd(n)}function KQ(){var t=K3(YA());return t.copy=function(){return nb(t,KQ()).constant(t.constant())},Wo.apply(t,arguments)}function T6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function nje(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function rje(t){return t<0?-t*t:t*t}function Y3(t){var e=t(rs,rs),n=1;function r(){return n===1?t(rs,rs):n===.5?t(nje,rje):t(T6(n),T6(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Cd(e)}function Z3(){var t=Y3(YA());return t.copy=function(){return nb(t,Z3()).exponent(t.exponent())},Wo.apply(t,arguments),t}function ije(){return Z3.apply(null,arguments).exponent(.5)}function P6(t){return Math.sign(t)*t*t}function sje(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function YQ(){var t=W3(),e=[0,1],n=!1,r;function i(s){var o=sje(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(P6(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ZE)).map(P6)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return YQ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Wo.apply(i,arguments),Cd(i)}function ZQ(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=iLe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[eb(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(sd),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return ZQ().domain(t).range(e).unknown(r)},Wo.apply(s,arguments)}function QQ(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[eb(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return QQ().domain([t,e]).range(i).unknown(s)},Wo.apply(Cd(o),arguments)}function JQ(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[eb(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return JQ().domain(t).range(e).unknown(n)},Wo.apply(i,arguments)}const VN=new Date,WN=new Date;function ni(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>ni(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(VN.setTime(+s),WN.setTime(+o),t(VN),t(WN),Math.floor(n(VN,WN))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const eC=ni(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);eC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ni(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):eC);eC.range;const gc=1e3,ko=gc*60,vc=ko*60,Oc=vc*24,Q3=Oc*7,N6=Oc*30,GN=Oc*365,Pf=ni(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gc)},(t,e)=>(e-t)/gc,t=>t.getUTCSeconds());Pf.range;const J3=ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gc)},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getMinutes());J3.range;const eF=ni(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ko)},(t,e)=>(e-t)/ko,t=>t.getUTCMinutes());eF.range;const tF=ni(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gc-t.getMinutes()*ko)},(t,e)=>{t.setTime(+t+e*vc)},(t,e)=>(e-t)/vc,t=>t.getHours());tF.range;const nF=ni(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vc)},(t,e)=>(e-t)/vc,t=>t.getUTCHours());nF.range;const rb=ni(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ko)/Oc,t=>t.getDate()-1);rb.range;const ZA=ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oc,t=>t.getUTCDate()-1);ZA.range;const eJ=ni(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Oc,t=>Math.floor(t/Oc));eJ.range;function Lh(t){return ni(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ko)/Q3)}const QA=Lh(0),tC=Lh(1),oje=Lh(2),aje=Lh(3),xg=Lh(4),lje=Lh(5),cje=Lh(6);QA.range;tC.range;oje.range;aje.range;xg.range;lje.range;cje.range;function jh(t){return ni(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Q3)}const JA=jh(0),nC=jh(1),uje=jh(2),dje=jh(3),_g=jh(4),fje=jh(5),hje=jh(6);JA.range;nC.range;uje.range;dje.range;_g.range;fje.range;hje.range;const rF=ni(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rF.range;const iF=ni(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iF.range;const Ic=ni(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ic.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ni(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ic.range;const kc=ni(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());kc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ni(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});kc.range;function tJ(t,e,n,r,i,s){const o=[[Pf,1,gc],[Pf,5,5*gc],[Pf,15,15*gc],[Pf,30,30*gc],[s,1,ko],[s,5,5*ko],[s,15,15*ko],[s,30,30*ko],[i,1,vc],[i,3,3*vc],[i,6,6*vc],[i,12,12*vc],[r,1,Oc],[r,2,2*Oc],[n,1,Q3],[e,1,N6],[e,3,3*N6],[t,1,GN]];function a(c,d,u){const f=d<c;f&&([c,d]=[d,c]);const g=u&&typeof u.range=="function"?u:l(c,d,u),v=g?g.range(c,+d+1):[];return f?v.reverse():v}function l(c,d,u){const f=Math.abs(d-c)/u,g=U3(([,,m])=>m).right(o,f);if(g===o.length)return t.every(wk(c/GN,d/GN,u));if(g===0)return eC.every(Math.max(wk(c,d,u),1));const[v,y]=o[f/o[g-1][2]<o[g][2]/f?g-1:g];return v.every(y)}return[a,l]}const[pje,mje]=tJ(kc,iF,JA,eJ,nF,eF),[gje,vje]=tJ(Ic,rF,QA,rb,tF,J3);function XN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function qN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function My(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function yje(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=Ay(i),d=Ty(i),u=Ay(s),f=Ty(s),g=Ay(o),v=Ty(o),y=Ay(a),m=Ty(a),p=Ay(l),x=Ty(l),_={a:V,A:R,b:L,B,c:null,d:L6,e:L6,f:zje,g:Zje,G:Jje,H:Fje,I:Bje,j:Uje,L:nJ,m:$je,M:Hje,p:W,q:G,Q:B6,s:U6,S:Vje,u:Wje,U:Gje,V:Xje,w:qje,W:Kje,x:null,X:null,y:Yje,Y:Qje,Z:e3e,"%":F6},b={a:Y,A:ie,b:ae,B:se,c:null,d:j6,e:j6,f:i3e,g:p3e,G:g3e,H:t3e,I:n3e,j:r3e,L:iJ,m:s3e,M:o3e,p:U,q:K,Q:B6,s:U6,S:a3e,u:l3e,U:c3e,V:u3e,w:d3e,W:f3e,x:null,X:null,y:h3e,Y:m3e,Z:v3e,"%":F6},S={a:N,A:I,b:k,B:j,c:F,d:k6,e:k6,f:kje,g:I6,G:O6,H:D6,I:D6,j:Nje,L:Ije,m:Pje,M:Rje,p:T,q:Tje,Q:Lje,s:jje,S:Oje,u:Sje,U:Eje,V:Cje,w:wje,W:Mje,x:z,X:$,y:I6,Y:O6,Z:Aje,"%":Dje};_.x=C(n,_),_.X=C(r,_),_.c=C(e,_),b.x=C(n,b),b.X=C(r,b),b.c=C(e,b);function C(Q,ee){return function(ue){var J=[],q=-1,ne=0,fe=Q.length,me,pe,Ae;for(ue instanceof Date||(ue=new Date(+ue));++q<fe;)Q.charCodeAt(q)===37&&(J.push(Q.slice(ne,q)),(pe=R6[me=Q.charAt(++q)])!=null?me=Q.charAt(++q):pe=me==="e"?" ":"0",(Ae=ee[me])&&(me=Ae(ue,pe)),J.push(me),ne=q+1);return J.push(Q.slice(ne,q)),J.join("")}}function A(Q,ee){return function(ue){var J=My(1900,void 0,1),q=M(J,Q,ue+="",0),ne,fe;if(q!=ue.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ee&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(ne=qN(My(J.y,0,1)),fe=ne.getUTCDay(),ne=fe>4||fe===0?nC.ceil(ne):nC(ne),ne=ZA.offset(ne,(J.V-1)*7),J.y=ne.getUTCFullYear(),J.m=ne.getUTCMonth(),J.d=ne.getUTCDate()+(J.w+6)%7):(ne=XN(My(J.y,0,1)),fe=ne.getDay(),ne=fe>4||fe===0?tC.ceil(ne):tC(ne),ne=rb.offset(ne,(J.V-1)*7),J.y=ne.getFullYear(),J.m=ne.getMonth(),J.d=ne.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),fe="Z"in J?qN(My(J.y,0,1)).getUTCDay():XN(My(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(fe+5)%7:J.w+J.U*7-(fe+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,qN(J)):XN(J)}}function M(Q,ee,ue,J){for(var q=0,ne=ee.length,fe=ue.length,me,pe;q<ne;){if(J>=fe)return-1;if(me=ee.charCodeAt(q++),me===37){if(me=ee.charAt(q++),pe=S[me in R6?ee.charAt(q++):me],!pe||(J=pe(Q,ue,J))<0)return-1}else if(me!=ue.charCodeAt(J++))return-1}return J}function T(Q,ee,ue){var J=c.exec(ee.slice(ue));return J?(Q.p=d.get(J[0].toLowerCase()),ue+J[0].length):-1}function N(Q,ee,ue){var J=g.exec(ee.slice(ue));return J?(Q.w=v.get(J[0].toLowerCase()),ue+J[0].length):-1}function I(Q,ee,ue){var J=u.exec(ee.slice(ue));return J?(Q.w=f.get(J[0].toLowerCase()),ue+J[0].length):-1}function k(Q,ee,ue){var J=p.exec(ee.slice(ue));return J?(Q.m=x.get(J[0].toLowerCase()),ue+J[0].length):-1}function j(Q,ee,ue){var J=y.exec(ee.slice(ue));return J?(Q.m=m.get(J[0].toLowerCase()),ue+J[0].length):-1}function F(Q,ee,ue){return M(Q,e,ee,ue)}function z(Q,ee,ue){return M(Q,n,ee,ue)}function $(Q,ee,ue){return M(Q,r,ee,ue)}function V(Q){return o[Q.getDay()]}function R(Q){return s[Q.getDay()]}function L(Q){return l[Q.getMonth()]}function B(Q){return a[Q.getMonth()]}function W(Q){return i[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function Y(Q){return o[Q.getUTCDay()]}function ie(Q){return s[Q.getUTCDay()]}function ae(Q){return l[Q.getUTCMonth()]}function se(Q){return a[Q.getUTCMonth()]}function U(Q){return i[+(Q.getUTCHours()>=12)]}function K(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ee=C(Q+="",_);return ee.toString=function(){return Q},ee},parse:function(Q){var ee=A(Q+="",!1);return ee.toString=function(){return Q},ee},utcFormat:function(Q){var ee=C(Q+="",b);return ee.toString=function(){return Q},ee},utcParse:function(Q){var ee=A(Q+="",!0);return ee.toString=function(){return Q},ee}}}var R6={"-":"",_:" ",0:"0"},mi=/^\s*\d+/,xje=/^%/,_je=/[\\^$*+?|[\]().{}]/g;function Tn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function bje(t){return t.replace(_je,"\\$&")}function Ay(t){return new RegExp("^(?:"+t.map(bje).join("|")+")","i")}function Ty(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function wje(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Sje(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Eje(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Cje(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Mje(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function O6(t,e,n){var r=mi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function I6(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Aje(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Tje(t,e,n){var r=mi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Pje(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function k6(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nje(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function D6(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Rje(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Oje(t,e,n){var r=mi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ije(t,e,n){var r=mi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function kje(t,e,n){var r=mi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dje(t,e,n){var r=xje.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Lje(t,e,n){var r=mi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function jje(t,e,n){var r=mi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function L6(t,e){return Tn(t.getDate(),e,2)}function Fje(t,e){return Tn(t.getHours(),e,2)}function Bje(t,e){return Tn(t.getHours()%12||12,e,2)}function Uje(t,e){return Tn(1+rb.count(Ic(t),t),e,3)}function nJ(t,e){return Tn(t.getMilliseconds(),e,3)}function zje(t,e){return nJ(t,e)+"000"}function $je(t,e){return Tn(t.getMonth()+1,e,2)}function Hje(t,e){return Tn(t.getMinutes(),e,2)}function Vje(t,e){return Tn(t.getSeconds(),e,2)}function Wje(t){var e=t.getDay();return e===0?7:e}function Gje(t,e){return Tn(QA.count(Ic(t)-1,t),e,2)}function rJ(t){var e=t.getDay();return e>=4||e===0?xg(t):xg.ceil(t)}function Xje(t,e){return t=rJ(t),Tn(xg.count(Ic(t),t)+(Ic(t).getDay()===4),e,2)}function qje(t){return t.getDay()}function Kje(t,e){return Tn(tC.count(Ic(t)-1,t),e,2)}function Yje(t,e){return Tn(t.getFullYear()%100,e,2)}function Zje(t,e){return t=rJ(t),Tn(t.getFullYear()%100,e,2)}function Qje(t,e){return Tn(t.getFullYear()%1e4,e,4)}function Jje(t,e){var n=t.getDay();return t=n>=4||n===0?xg(t):xg.ceil(t),Tn(t.getFullYear()%1e4,e,4)}function e3e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Tn(e/60|0,"0",2)+Tn(e%60,"0",2)}function j6(t,e){return Tn(t.getUTCDate(),e,2)}function t3e(t,e){return Tn(t.getUTCHours(),e,2)}function n3e(t,e){return Tn(t.getUTCHours()%12||12,e,2)}function r3e(t,e){return Tn(1+ZA.count(kc(t),t),e,3)}function iJ(t,e){return Tn(t.getUTCMilliseconds(),e,3)}function i3e(t,e){return iJ(t,e)+"000"}function s3e(t,e){return Tn(t.getUTCMonth()+1,e,2)}function o3e(t,e){return Tn(t.getUTCMinutes(),e,2)}function a3e(t,e){return Tn(t.getUTCSeconds(),e,2)}function l3e(t){var e=t.getUTCDay();return e===0?7:e}function c3e(t,e){return Tn(JA.count(kc(t)-1,t),e,2)}function sJ(t){var e=t.getUTCDay();return e>=4||e===0?_g(t):_g.ceil(t)}function u3e(t,e){return t=sJ(t),Tn(_g.count(kc(t),t)+(kc(t).getUTCDay()===4),e,2)}function d3e(t){return t.getUTCDay()}function f3e(t,e){return Tn(nC.count(kc(t)-1,t),e,2)}function h3e(t,e){return Tn(t.getUTCFullYear()%100,e,2)}function p3e(t,e){return t=sJ(t),Tn(t.getUTCFullYear()%100,e,2)}function m3e(t,e){return Tn(t.getUTCFullYear()%1e4,e,4)}function g3e(t,e){var n=t.getUTCDay();return t=n>=4||n===0?_g(t):_g.ceil(t),Tn(t.getUTCFullYear()%1e4,e,4)}function v3e(){return"+0000"}function F6(){return"%"}function B6(t){return+t}function U6(t){return Math.floor(+t/1e3)}var _p,oJ,aJ;y3e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function y3e(t){return _p=yje(t),oJ=_p.format,_p.parse,aJ=_p.utcFormat,_p.utcParse,_p}function x3e(t){return new Date(t)}function _3e(t){return t instanceof Date?+t:+new Date(+t)}function sF(t,e,n,r,i,s,o,a,l,c){var d=W3(),u=d.invert,f=d.domain,g=c(".%L"),v=c(":%S"),y=c("%I:%M"),m=c("%I %p"),p=c("%a %d"),x=c("%b %d"),_=c("%B"),b=c("%Y");function S(C){return(l(C)<C?g:a(C)<C?v:o(C)<C?y:s(C)<C?m:r(C)<C?i(C)<C?p:x:n(C)<C?_:b)(C)}return d.invert=function(C){return new Date(u(C))},d.domain=function(C){return arguments.length?f(Array.from(C,_3e)):f().map(x3e)},d.ticks=function(C){var A=f();return t(A[0],A[A.length-1],C??10)},d.tickFormat=function(C,A){return A==null?S:c(A)},d.nice=function(C){var A=f();return(!C||typeof C.range!="function")&&(C=e(A[0],A[A.length-1],C??10)),C?f(XQ(A,C)):d},d.copy=function(){return nb(d,sF(t,e,n,r,i,s,o,a,l,c))},d}function b3e(){return Wo.apply(sF(gje,vje,Ic,rF,QA,rb,tF,J3,Pf,oJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function w3e(){return Wo.apply(sF(pje,mje,kc,iF,JA,ZA,nF,eF,Pf,aJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function eT(){var t=0,e=1,n,r,i,s,o=rs,a=!1,l;function c(u){return u==null||isNaN(u=+u)?l:o(i===0?.5:(u=(s(u)-n)*i,a?Math.max(0,Math.min(1,u)):u))}c.domain=function(u){return arguments.length?([t,e]=u,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(u){return arguments.length?(a=!!u,c):a},c.interpolator=function(u){return arguments.length?(o=u,c):o};function d(u){return function(f){var g,v;return arguments.length?([g,v]=f,o=u(g,v),c):[o(0),o(1)]}}return c.range=d(Sc),c.rangeRound=d(V3),c.unknown=function(u){return arguments.length?(l=u,c):l},function(u){return s=u,n=u(t),r=u(e),i=n===r?0:1/(r-n),c}}function Md(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lJ(){var t=Cd(eT()(rs));return t.copy=function(){return Md(t,lJ())},Kc.apply(t,arguments)}function cJ(){var t=q3(eT()).domain([1,10]);return t.copy=function(){return Md(t,cJ()).base(t.base())},Kc.apply(t,arguments)}function uJ(){var t=K3(eT());return t.copy=function(){return Md(t,uJ()).constant(t.constant())},Kc.apply(t,arguments)}function oF(){var t=Y3(eT());return t.copy=function(){return Md(t,oF()).exponent(t.exponent())},Kc.apply(t,arguments)}function S3e(){return oF.apply(null,arguments).exponent(.5)}function dJ(){var t=[],e=rs;function n(r){if(r!=null&&!isNaN(r=+r))return e((eb(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(sd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>rLe(t,s/r))},n.copy=function(){return dJ(e).domain(t)},Kc.apply(n,arguments)}function tT(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=rs,d,u=!1,f;function g(y){return isNaN(y=+y)?f:(y=.5+((y=+d(y))-s)*(r*y<r*s?a:l),c(u?Math.max(0,Math.min(1,y)):y))}g.domain=function(y){return arguments.length?([t,e,n]=y,i=d(t=+t),s=d(e=+e),o=d(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(y){return arguments.length?(u=!!y,g):u},g.interpolator=function(y){return arguments.length?(c=y,g):c};function v(y){return function(m){var p,x,_;return arguments.length?([p,x,_]=m,c=DLe(y,[p,x,_]),g):[c(0),c(.5),c(1)]}}return g.range=v(Sc),g.rangeRound=v(V3),g.unknown=function(y){return arguments.length?(f=y,g):f},function(y){return d=y,i=y(t),s=y(e),o=y(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function fJ(){var t=Cd(tT()(rs));return t.copy=function(){return Md(t,fJ())},Kc.apply(t,arguments)}function hJ(){var t=q3(tT()).domain([.1,1,10]);return t.copy=function(){return Md(t,hJ()).base(t.base())},Kc.apply(t,arguments)}function pJ(){var t=K3(tT());return t.copy=function(){return Md(t,pJ()).constant(t.constant())},Kc.apply(t,arguments)}function aF(){var t=Y3(tT());return t.copy=function(){return Md(t,aF()).exponent(t.exponent())},Kc.apply(t,arguments)}function E3e(){return aF.apply(null,arguments).exponent(.5)}const z6=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ex,scaleDiverging:fJ,scaleDivergingLog:hJ,scaleDivergingPow:aF,scaleDivergingSqrt:E3e,scaleDivergingSymlog:pJ,scaleIdentity:GQ,scaleImplicit:Sk,scaleLinear:JE,scaleLog:qQ,scaleOrdinal:z3,scalePoint:A0,scalePow:Z3,scaleQuantile:ZQ,scaleQuantize:QQ,scaleRadial:YQ,scaleSequential:lJ,scaleSequentialLog:cJ,scaleSequentialPow:oF,scaleSequentialQuantile:dJ,scaleSequentialSqrt:S3e,scaleSequentialSymlog:uJ,scaleSqrt:ije,scaleSymlog:KQ,scaleThreshold:JQ,scaleTime:b3e,scaleUtc:w3e,tickFormat:WQ},Symbol.toStringTag,{value:"Module"}));var C3e=yv;function M3e(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!C3e(o):n(o,a)))var a=o,l=s}return l}var nT=M3e;function A3e(t,e){return t>e}var mJ=A3e,T3e=nT,P3e=mJ,N3e=Mv;function R3e(t){return t&&t.length?T3e(t,N3e,P3e):void 0}var O3e=R3e;const Xu=Pn(O3e);function I3e(t,e){return t<e}var gJ=I3e,k3e=nT,D3e=gJ,L3e=Mv;function j3e(t){return t&&t.length?k3e(t,L3e,D3e):void 0}var F3e=j3e;const rT=Pn(F3e);var B3e=b3,U3e=kl,z3e=bQ,$3e=Rs;function H3e(t,e){var n=$3e(t)?B3e:z3e;return n(t,U3e(e))}var V3e=H3e,W3e=xQ,G3e=V3e;function X3e(t,e){return W3e(G3e(t,e),1)}var q3e=X3e;const K3e=Pn(q3e);var Y3e=L3;function Z3e(t,e){return Y3e(t,e)}var Q3e=Z3e;const hh=Pn(Q3e);var Av=1e9,J3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cF,lr=!0,zo="[DecimalError] ",Gf=zo+"Invalid argument: ",lF=zo+"Exponent out of range: ",Tv=Math.floor,gf=Math.pow,eFe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ys,li=1e7,rr=7,vJ=9007199254740991,rC=Tv(vJ/rr),_t={};_t.absoluteValue=_t.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_t.comparedTo=_t.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};_t.decimalPlaces=_t.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*rr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_t.dividedBy=_t.div=function(t){return Ec(this,new this.constructor(t))};_t.dividedToIntegerBy=_t.idiv=function(t){var e=this,n=e.constructor;return Wn(Ec(e,new n(t),0,1),n.precision)};_t.equals=_t.eq=function(t){return!this.cmp(t)};_t.exponent=function(){return $r(this)};_t.greaterThan=_t.gt=function(t){return this.cmp(t)>0};_t.greaterThanOrEqualTo=_t.gte=function(t){return this.cmp(t)>=0};_t.isInteger=_t.isint=function(){return this.e>this.d.length-2};_t.isNegative=_t.isneg=function(){return this.s<0};_t.isPositive=_t.ispos=function(){return this.s>0};_t.isZero=function(){return this.s===0};_t.lessThan=_t.lt=function(t){return this.cmp(t)<0};_t.lessThanOrEqualTo=_t.lte=function(t){return this.cmp(t)<1};_t.logarithm=_t.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Ys))throw Error(zo+"NaN");if(n.s<1)throw Error(zo+(n.s?"NaN":"-Infinity"));return n.eq(Ys)?new r(0):(lr=!1,e=Ec(Tx(n,s),Tx(t,s),s),lr=!0,Wn(e,i))};_t.minus=_t.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?_J(e,t):yJ(e,(t.s=-t.s,t))};_t.modulo=_t.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(zo+"NaN");return n.s?(lr=!1,e=Ec(n,t,0,1).times(t),lr=!0,n.minus(e)):Wn(new r(n),i)};_t.naturalExponential=_t.exp=function(){return xJ(this)};_t.naturalLogarithm=_t.ln=function(){return Tx(this)};_t.negated=_t.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_t.plus=_t.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?yJ(e,t):_J(e,(t.s=-t.s,t))};_t.precision=_t.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gf+t);if(e=$r(i)+1,r=i.d.length-1,n=r*rr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_t.squareRoot=_t.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(zo+"NaN")}for(t=$r(a),lr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=cl(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Tv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Ec(a,s,o+2)).times(.5),cl(s.d).slice(0,o)===(e=cl(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Wn(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return lr=!0,Wn(r,n)};_t.times=_t.mul=function(t){var e,n,r,i,s,o,a,l,c,d=this,u=d.constructor,f=d.d,g=(t=new u(t)).d;if(!d.s||!t.s)return new u(0);for(t.s*=d.s,n=d.e+t.e,l=f.length,c=g.length,l<c&&(s=f,f=g,g=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+g[r]*f[i-r-1]+e,s[i--]=a%li|0,e=a/li|0;s[i]=(s[i]+e)%li|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,lr?Wn(t,u.precision):t};_t.toDecimalPlaces=_t.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Cl(t,0,Av),e===void 0?e=r.rounding:Cl(e,0,8),Wn(n,t+$r(n)+1,e))};_t.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=ph(r,!0):(Cl(t,0,Av),e===void 0?e=i.rounding:Cl(e,0,8),r=Wn(new i(r),t+1,e),n=ph(r,!0,t+1)),n};_t.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?ph(i):(Cl(t,0,Av),e===void 0?e=s.rounding:Cl(e,0,8),r=Wn(new s(i),t+$r(i)+1,e),n=ph(r.abs(),!1,t+$r(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_t.toInteger=_t.toint=function(){var t=this,e=t.constructor;return Wn(new e(t),$r(t)+1,e.rounding)};_t.toNumber=function(){return+this};_t.toPower=_t.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,d=+(t=new l(t));if(!t.s)return new l(Ys);if(a=new l(a),!a.s){if(t.s<1)throw Error(zo+"Infinity");return a}if(a.eq(Ys))return a;if(r=l.precision,t.eq(Ys))return Wn(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=d<0?-d:d)<=vJ){for(i=new l(Ys),e=Math.ceil(r/rr+4),lr=!1;n%2&&(i=i.times(a),H6(i.d,e)),n=Tv(n/2),n!==0;)a=a.times(a),H6(a.d,e);return lr=!0,t.s<0?new l(Ys).div(i):Wn(i,r)}}else if(s<0)throw Error(zo+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,lr=!1,i=t.times(Tx(a,r+c)),lr=!0,i=xJ(i),i.s=s,i};_t.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=$r(i),r=ph(i,n<=s.toExpNeg||n>=s.toExpPos)):(Cl(t,1,Av),e===void 0?e=s.rounding:Cl(e,0,8),i=Wn(new s(i),t,e),n=$r(i),r=ph(i,t<=n||n<=s.toExpNeg,t)),r};_t.toSignificantDigits=_t.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Cl(t,1,Av),e===void 0?e=r.rounding:Cl(e,0,8)),Wn(new r(n),t,e)};_t.toString=_t.valueOf=_t.val=_t.toJSON=_t[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=$r(t),n=t.constructor;return ph(t,e<=n.toExpNeg||e>=n.toExpPos)};function yJ(t,e){var n,r,i,s,o,a,l,c,d=t.constructor,u=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),lr?Wn(e,u):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(u/rr),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/li|0,l[s]%=li;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,lr?Wn(e,u):e}function Cl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Gf+t)}function cl(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=rr-r.length,n&&(s+=Nu(n)),s+=r;o=t[e],r=o+"",n=rr-r.length,n&&(s+=Nu(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Ec=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%li|0,o=s/li|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*li+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,d,u,f,g,v,y,m,p,x,_,b,S,C,A,M,T=r.constructor,N=r.s==i.s?1:-1,I=r.d,k=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(zo+"Division by zero");for(l=r.e-i.e,A=k.length,S=I.length,g=new T(N),v=g.d=[],c=0;k[c]==(I[c]||0);)++c;if(k[c]>(I[c]||0)&&--l,s==null?x=s=T.precision:o?x=s+($r(r)-$r(i))+1:x=s,x<0)return new T(0);if(x=x/rr+2|0,c=0,A==1)for(d=0,k=k[0],x++;(c<S||d)&&x--;c++)_=d*li+(I[c]||0),v[c]=_/k|0,d=_%k|0;else{for(d=li/(k[0]+1)|0,d>1&&(k=t(k,d),I=t(I,d),A=k.length,S=I.length),b=A,y=I.slice(0,A),m=y.length;m<A;)y[m++]=0;M=k.slice(),M.unshift(0),C=k[0],k[1]>=li/2&&++C;do d=0,a=e(k,y,A,m),a<0?(p=y[0],A!=m&&(p=p*li+(y[1]||0)),d=p/C|0,d>1?(d>=li&&(d=li-1),u=t(k,d),f=u.length,m=y.length,a=e(u,y,f,m),a==1&&(d--,n(u,A<f?M:k,f))):(d==0&&(a=d=1),u=k.slice()),f=u.length,f<m&&u.unshift(0),n(y,u,m),a==-1&&(m=y.length,a=e(k,y,A,m),a<1&&(d++,n(y,A<m?M:k,m))),m=y.length):a===0&&(d++,y=[0]),v[c++]=d,a&&y[0]?y[m++]=I[b]||0:(y=[I[b]],m=1);while((b++<S||y[0]!==void 0)&&x--)}return v[0]||v.shift(),g.e=l,Wn(g,o?s+$r(g)+1:s)}}();function xJ(t,e){var n,r,i,s,o,a,l=0,c=0,d=t.constructor,u=d.precision;if($r(t)>16)throw Error(lF+$r(t));if(!t.s)return new d(Ys);for(e==null?(lr=!1,a=u):a=e,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(gf(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new d(Ys),d.precision=a;;){if(i=Wn(i.times(t),a),n=n.times(++l),o=s.plus(Ec(i,n,a)),cl(o.d).slice(0,a)===cl(s.d).slice(0,a)){for(;c--;)s=Wn(s.times(s),a);return d.precision=u,e==null?(lr=!0,Wn(s,u)):s}s=o}}function $r(t){for(var e=t.e*rr,n=t.d[0];n>=10;n/=10)e++;return e}function KN(t,e,n){if(e>t.LN10.sd())throw lr=!0,n&&(t.precision=n),Error(zo+"LN10 precision limit exceeded");return Wn(new t(t.LN10),e)}function Nu(t){for(var e="";t--;)e+="0";return e}function Tx(t,e){var n,r,i,s,o,a,l,c,d,u=1,f=10,g=t,v=g.d,y=g.constructor,m=y.precision;if(g.s<1)throw Error(zo+(g.s?"NaN":"-Infinity"));if(g.eq(Ys))return new y(0);if(e==null?(lr=!1,c=m):c=e,g.eq(10))return e==null&&(lr=!0),KN(y,c);if(c+=f,y.precision=c,n=cl(v),r=n.charAt(0),s=$r(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=cl(g.d),r=n.charAt(0),u++;s=$r(g),r>1?(g=new y("0."+n),s++):g=new y(r+"."+n.slice(1))}else return l=KN(y,c+2,m).times(s+""),g=Tx(new y(r+"."+n.slice(1)),c-f).plus(l),y.precision=m,e==null?(lr=!0,Wn(g,m)):g;for(a=o=g=Ec(g.minus(Ys),g.plus(Ys),c),d=Wn(g.times(g),c),i=3;;){if(o=Wn(o.times(d),c),l=a.plus(Ec(o,new y(i),c)),cl(l.d).slice(0,c)===cl(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(KN(y,c+2,m).times(s+""))),a=Ec(a,new y(u),c),y.precision=m,e==null?(lr=!0,Wn(a,m)):a;a=l,i+=2}}function $6(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Tv(n/rr),t.d=[],r=(n+1)%rr,n<0&&(r+=rr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=rr;r<i;)t.d.push(+e.slice(r,r+=rr));e=e.slice(r),r=rr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),lr&&(t.e>rC||t.e<-rC))throw Error(lF+n)}else t.s=0,t.e=0,t.d=[0];return t}function Wn(t,e,n){var r,i,s,o,a,l,c,d,u=t.d;for(o=1,s=u[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=rr,i=e,c=u[d=0];else{if(d=Math.ceil((r+1)/rr),s=u.length,d>=s)return t;for(c=s=u[d],o=1;s>=10;s/=10)o++;r%=rr,i=r-rr+o}if(n!==void 0&&(s=gf(10,o-i-1),a=c/s%10|0,l=e<0||u[d+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/gf(10,o-i):0:u[d-1])%10&1||n==(t.s<0?8:7))),e<1||!u[0])return l?(s=$r(t),u.length=1,e=e-s-1,u[0]=gf(10,(rr-e%rr)%rr),t.e=Tv(-e/rr)||0):(u.length=1,u[0]=t.e=t.s=0),t;if(r==0?(u.length=d,s=1,d--):(u.length=d+1,s=gf(10,rr-r),u[d]=i>0?(c/gf(10,o-i)%gf(10,i)|0)*s:0),l)for(;;)if(d==0){(u[0]+=s)==li&&(u[0]=1,++t.e);break}else{if(u[d]+=s,u[d]!=li)break;u[d--]=0,s=1}for(r=u.length;u[--r]===0;)u.pop();if(lr&&(t.e>rC||t.e<-rC))throw Error(lF+$r(t));return t}function _J(t,e){var n,r,i,s,o,a,l,c,d,u,f=t.constructor,g=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),lr?Wn(e,g):e;if(l=t.d,u=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(d=o<0,d?(n=l,o=-o,a=u.length):(n=u,r=c,a=l.length),i=Math.max(Math.ceil(g/rr),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=u.length,d=i<a,d&&(a=i),i=0;i<a;i++)if(l[i]!=u[i]){d=l[i]<u[i];break}o=0}for(d&&(n=l,l=u,u=n,e.s=-e.s),a=l.length,i=u.length-a;i>0;--i)l[a++]=0;for(i=u.length;i>o;){if(l[--i]<u[i]){for(s=i;s&&l[--s]===0;)l[s]=li-1;--l[s],l[i]+=li}l[i]-=u[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,lr?Wn(e,g):e):new f(0)}function ph(t,e,n){var r,i=$r(t),s=cl(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Nu(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Nu(-i-1)+s,n&&(r=n-o)>0&&(s+=Nu(r))):i>=o?(s+=Nu(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Nu(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Nu(r))),t.s<0?"-"+s:s}function H6(t,e){if(t.length>e)return t.length=e,!0}function bJ(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Gf+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return $6(o,s.toString())}else if(typeof s!="string")throw Error(Gf+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,eFe.test(s))$6(o,s);else throw Error(Gf+s)}if(i.prototype=_t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bJ,i.config=i.set=tFe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function tFe(t){if(!t||typeof t!="object")throw Error(zo+"Object expected");var e,n,r,i=["precision",1,Av,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Tv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Gf+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gf+n+": "+r);return this}var cF=bJ(J3e);Ys=new cF(1);const zn=cF;function nFe(t){return oFe(t)||sFe(t)||iFe(t)||rFe()}function rFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iFe(t,e){if(t){if(typeof t=="string")return Tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tk(t,e)}}function sFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function oFe(t){if(Array.isArray(t))return Tk(t)}function Tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var aFe=function(e){return e},wJ={"@@functional/placeholder":!0},SJ=function(e){return e===wJ},V6=function(e){return function n(){return arguments.length===0||arguments.length===1&&SJ(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},lFe=function t(e,n){return e===1?n:V6(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==wJ}).length;return o>=e?n.apply(void 0,i):t(e-o,V6(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var d=i.map(function(u){return SJ(u)?l.shift():u});return n.apply(void 0,nFe(d).concat(l))}))})},iT=function(e){return lFe(e.length,e)},Pk=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},cFe=iT(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),uFe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return aFe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},Nk=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},EJ=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function dFe(t){var e;return t===0?e=1:e=Math.floor(new zn(t).abs().log(10).toNumber())+1,e}function fFe(t,e,n){for(var r=new zn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var hFe=iT(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),pFe=iT(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),mFe=iT(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const sT={rangeStep:fFe,getDigitCount:dFe,interpolateNumber:hFe,uninterpolateNumber:pFe,uninterpolateTruncation:mFe};function Rk(t){return yFe(t)||vFe(t)||CJ(t)||gFe()}function gFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vFe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function yFe(t){if(Array.isArray(t))return Ok(t)}function Px(t,e){return bFe(t)||_Fe(t,e)||CJ(t,e)||xFe()}function xFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CJ(t,e){if(t){if(typeof t=="string")return Ok(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ok(t,e)}}function Ok(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Fe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function bFe(t){if(Array.isArray(t))return t}function MJ(t){var e=Px(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function AJ(t,e,n){if(t.lte(0))return new zn(0);var r=sT.getDigitCount(t.toNumber()),i=new zn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new zn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new zn(Math.ceil(l))}function wFe(t,e,n){var r=1,i=new zn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new zn(10).pow(sT.getDigitCount(t)-1),i=new zn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new zn(Math.floor(t)))}else t===0?i=new zn(Math.floor((e-1)/2)):n||(i=new zn(Math.floor(t)));var o=Math.floor((e-1)/2),a=uFe(cFe(function(l){return i.add(new zn(l-o).mul(r)).toNumber()}),Pk);return a(0,e)}function TJ(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new zn(0),tickMin:new zn(0),tickMax:new zn(0)};var s=AJ(new zn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new zn(0):(o=new zn(t).add(e).div(2),o=o.sub(new zn(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new zn(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?TJ(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new zn(a).mul(s)),tickMax:o.add(new zn(l).mul(s))})}function SFe(t){var e=Px(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=MJ([n,r]),l=Px(a,2),c=l[0],d=l[1];if(c===-1/0||d===1/0){var u=d===1/0?[c].concat(Rk(Pk(0,i-1).map(function(){return 1/0}))):[].concat(Rk(Pk(0,i-1).map(function(){return-1/0})),[d]);return n>r?Nk(u):u}if(c===d)return wFe(c,i,s);var f=TJ(c,d,o,s),g=f.step,v=f.tickMin,y=f.tickMax,m=sT.rangeStep(v,y.add(new zn(.1).mul(g)),g);return n>r?Nk(m):m}function EFe(t,e){var n=Px(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=MJ([r,i]),a=Px(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var d=Math.max(e,2),u=AJ(new zn(c).sub(l).div(d-1),s,0),f=[].concat(Rk(sT.rangeStep(new zn(l),new zn(c).sub(new zn(.99).mul(u)),u)),[c]);return r>i?Nk(f):f}var CFe=EJ(SFe),MFe=EJ(EFe),AFe="Invariant failed";function mh(t,e){throw new Error(AFe)}var TFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bg(t){"@babel/helpers - typeof";return bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bg(t)}function iC(){return iC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iC.apply(this,arguments)}function PFe(t,e){return IFe(t)||OFe(t,e)||RFe(t,e)||NFe()}function NFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RFe(t,e){if(t){if(typeof t=="string")return W6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W6(t,e)}}function W6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OFe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function IFe(t){if(Array.isArray(t))return t}function kFe(t,e){if(t==null)return{};var n=DFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DFe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,RJ(r.key),r)}}function FFe(t,e,n){return e&&jFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BFe(t,e,n){return e=sC(e),UFe(t,PJ()?Reflect.construct(e,n||[],sC(t).constructor):e.apply(t,n))}function UFe(t,e){if(e&&(bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zFe(t)}function zFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PJ=function(){return!!t})()}function sC(t){return sC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sC(t)}function $Fe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ik(t,e)}function Ik(t,e){return Ik=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ik(t,e)}function NJ(t,e,n){return e=RJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RJ(t){var e=HFe(t,"string");return bg(e)=="symbol"?e:e+""}function HFe(t,e){if(bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ib=function(t){function e(){return LFe(this,e),BFe(this,e,arguments)}return $Fe(e,t),FFe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,d=r.xAxis,u=r.yAxis,f=kFe(r,TFe),g=Pt(f,!1);this.props.direction==="x"&&d.type!=="number"&&mh();var v=l.map(function(y){var m=c(y,a),p=m.x,x=m.y,_=m.value,b=m.errorVal;if(!b)return null;var S=[],C,A;if(Array.isArray(b)){var M=PFe(b,2);C=M[0],A=M[1]}else C=A=b;if(s==="vertical"){var T=d.scale,N=x+i,I=N+o,k=N-o,j=T(_-C),F=T(_+A);S.push({x1:F,y1:I,x2:F,y2:k}),S.push({x1:j,y1:N,x2:F,y2:N}),S.push({x1:j,y1:I,x2:j,y2:k})}else if(s==="horizontal"){var z=u.scale,$=p+i,V=$-o,R=$+o,L=z(_-C),B=z(_+A);S.push({x1:V,y1:B,x2:R,y2:B}),S.push({x1:$,y1:L,x2:$,y2:B}),S.push({x1:V,y1:L,x2:R,y2:L})}return te.createElement(ln,iC({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),S.map(function(W){return te.createElement("line",iC({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return te.createElement(ln,{className:"recharts-errorBars"},v)}}])}(te.Component);NJ(ib,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});NJ(ib,"displayName","ErrorBar");function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}function G6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G6(Object(n),!0).forEach(function(r){VFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VFe(t,e,n){return e=WFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WFe(t){var e=GFe(t,"string");return Nx(e)=="symbol"?e:e+""}function GFe(t,e){if(Nx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OJ=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Xs(n,Vf);if(!o)return null;var a=Vf.defaultProps,l=a!==void 0?Wd(Wd({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(d,u){var f=u.item,g=u.props,v=g.sectors||g.data||[];return d.concat(v.map(function(y){return{type:o.props.iconType||f.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):c=(r||[]).map(function(d){var u=d.item,f=u.type.defaultProps,g=f!==void 0?Wd(Wd({},f),u.props):{},v=g.dataKey,y=g.name,m=g.legendType,p=g.hide;return{inactive:p,dataKey:v,type:l.iconType||m||"square",color:uF(u),value:y||v,payload:g}}),Wd(Wd(Wd({},l),Vf.getWithHeight(o,i)),{},{payload:c,item:o})};function Rx(t){"@babel/helpers - typeof";return Rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rx(t)}function X6(t){return YFe(t)||KFe(t)||qFe(t)||XFe()}function XFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qFe(t,e){if(t){if(typeof t=="string")return kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kk(t,e)}}function KFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YFe(t){if(Array.isArray(t))return kk(t)}function kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(n),!0).forEach(function(r){jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jm(t,e,n){return e=ZFe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZFe(t){var e=QFe(t,"string");return Rx(e)=="symbol"?e:e+""}function QFe(t,e){if(Rx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rr(t,e,n){return Xt(t)||Xt(e)?n:Qr(e)?no(t,e,n):Ut(e)?e(t):n}function T0(t,e,n,r){var i=K3e(t,function(a){return Rr(a,e)});if(n==="number"){var s=i.filter(function(a){return et(a)||parseFloat(a)});return s.length?[rT(s),Xu(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!Xt(a)}):i;return o.map(function(a){return Qr(a)||a instanceof Date?a:""})}var JFe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var d=c>0?i[c-1].coordinate:i[a-1].coordinate,u=i[c].coordinate,f=c>=a-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(ts(u-d)!==ts(f-u)){var v=[];if(ts(f-u)===ts(l[1]-l[0])){g=f;var y=u+l[1]-l[0];v[0]=Math.min(y,(y+d)/2),v[1]=Math.max(y,(y+d)/2)}else{g=d;var m=f+l[1]-l[0];v[0]=Math.min(u,(m+u)/2),v[1]=Math.max(u,(m+u)/2)}var p=[Math.min(u,(g+u)/2),Math.max(u,(g+u)/2)];if(e>p[0]&&e<=p[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var x=Math.min(d,f),_=Math.max(d,f);if(e>(x+u)/2&&e<=(_+u)/2){o=i[c].index;break}}}else for(var b=0;b<a;b++)if(b===0&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o},uF=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},e4e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var d=s[a[l]].stackGroups,u=Object.keys(d),f=0,g=u.length;f<g;f++){var v=d[u[f]],y=v.items,m=v.cateAxisId,p=y.filter(function(A){return wc(A.type).indexOf("Bar")>=0});if(p&&p.length){var x=p[0].type.defaultProps,_=x!==void 0?Cr(Cr({},x),p[0].props):p[0].props,b=_.barSize,S=_[m];o[S]||(o[S]=[]);var C=Xt(b)?n:b;o[S].push({item:p[0],stackList:p.slice(1),barSize:Xt(C)?void 0:ns(C,r,0)})}}return o},t4e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=ns(n,i,0,!0),d,u=[];if(o[0].barSize===+o[0].barSize){var f=!1,g=i/l,v=o.reduce(function(b,S){return b+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&g>0&&(f=!0,g*=.9,v=l*g);var y=(i-v)/2>>0,m={offset:y-c,size:0};d=o.reduce(function(b,S){var C={item:S.item,position:{offset:m.offset+m.size+c,size:f?g:S.barSize}},A=[].concat(X6(b),[C]);return m=A[A.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(M){A.push({item:M,position:m})}),A},u)}else{var p=ns(r,i,0,!0);i-2*p-(l-1)*c<=0&&(c=0);var x=(i-2*p-(l-1)*c)/l;x>1&&(x>>=0);var _=a===+a?Math.min(x,a):x;d=o.reduce(function(b,S,C){var A=[].concat(X6(b),[{item:S.item,position:{offset:p+(x+c)*C+(x-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(M){A.push({item:M,position:A[A.length-1].position})}),A},u)}return d},n4e=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=OJ({children:s,legendWidth:l});if(c){var d=i||{},u=d.width,f=d.height,g=c.align,v=c.verticalAlign,y=c.layout;if((y==="vertical"||y==="horizontal"&&v==="middle")&&g!=="center"&&et(e[g]))return Cr(Cr({},e),{},jm({},g,e[g]+(u||0)));if((y==="horizontal"||y==="vertical"&&g==="center")&&v!=="middle"&&et(e[v]))return Cr(Cr({},e),{},jm({},v,e[v]+(f||0)))}return e},r4e=function(e,n,r){return Xt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},IJ=function(e,n,r,i,s){var o=n.props.children,a=ro(o,ib).filter(function(c){return r4e(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,d){var u=Rr(d,r);if(Xt(u))return c;var f=Array.isArray(u)?[rT(u),Xu(u)]:[u,u],g=l.reduce(function(v,y){var m=Rr(d,y,0),p=f[0]-Math.abs(Array.isArray(m)?m[0]:m),x=f[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(p,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},i4e=function(e,n,r,i,s){var o=n.map(function(a){return IJ(e,a,r,s,i)}).filter(function(a){return!Xt(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},kJ=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&IJ(e,l,c,i)||T0(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var d=0,u=c.length;d<u;d++)a[c[d]]||(a[c[d]]=!0,l.push(c[d]));return l},[])},DJ=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},LJ=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},yc=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?ts(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(u){var f=s?s.indexOf(u):u;return{coordinate:i(f)+c,value:u,offset:c}});return d.filter(function(u){return!Sv(u.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(u,f){return{coordinate:i(u)+c,value:u,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(u){return{coordinate:i(u)+c,value:u,offset:c}}):i.domain().map(function(u,f){return{coordinate:i(u)+c,value:s?s[u]:u,index:f,offset:c}})},YN=new WeakMap,c1=function(e,n){if(typeof n!="function")return e;YN.has(e)||YN.set(e,new WeakMap);var r=YN.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},jJ=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Ex(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:JE(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:A0(),realScaleType:"point"}:s==="category"?{scale:Ex(),realScaleType:"band"}:{scale:JE(),realScaleType:"linear"};if(Q_(i)){var l="scale".concat($A(i));return{scale:(z6[l]||A0)(),realScaleType:z6[l]?l:"point"}}return Ut(i)?{scale:i}:{scale:A0(),realScaleType:"point"}},K6=1e-4,FJ=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-K6,o=Math.max(i[0],i[1])+K6,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},s4e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},o4e=function(e,n){if(!n||n.length!==2||!et(n[0])||!et(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!et(e[0])||e[0]<r)&&(s[0]=r),(!et(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},a4e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=Sv(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},l4e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=Sv(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},c4e={sign:a4e,expand:wAe,none:hg,silhouette:SAe,wiggle:EAe,positive:l4e},u4e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=c4e[r],o=bAe().keys(i).value(function(a,l){return+Rr(a,l,0)}).order(ik).offset(s);return o(e)},d4e=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(u,f){var g,v=(g=f.type)!==null&&g!==void 0&&g.defaultProps?Cr(Cr({},f.type.defaultProps),f.props):f.props,y=v.stackId,m=v.hide;if(m)return u;var p=v[r],x=u[p]||{hasStack:!1,stackGroups:{}};if(Qr(y)){var _=x.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(f),x.hasStack=!0,x.stackGroups[y]=_}else x.stackGroups[Dh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return Cr(Cr({},u),{},jm({},p,x))},l),d={};return Object.keys(c).reduce(function(u,f){var g=c[f];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(y,m){var p=g.stackGroups[m];return Cr(Cr({},y),{},jm({},m,{numericAxisId:r,cateAxisId:i,items:p.items,stackedData:u4e(e,p.items,s)}))},v)}return Cr(Cr({},u),{},jm({},f,g))},d)},BJ=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var d=CFe(c,s,a);return e.domain([rT(d),Xu(d)]),{niceTicks:d}}if(s&&i==="number"){var u=e.domain(),f=MFe(u,s,a);return{niceTicks:f}}return null};function oC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Xt(i[e.dataKey])){var a=OE(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Rr(i,Xt(o)?e.dataKey:o);return Xt(l)?null:e.scale(l)}var Y6=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Rr(o,n.dataKey,n.domain[a]);return Xt(l)?null:n.scale(l)-s/2+i},f4e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},h4e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Qr(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},p4e=function(e){return e.reduce(function(n,r){return[rT(r.concat([n[0]]).filter(et)),Xu(r.concat([n[1]]).filter(et))]},[1/0,-1/0])},UJ=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,d){var u=p4e(d.slice(n,r+1));return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Z6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Dk=function(e,n,r){if(Ut(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(et(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(Z6.test(e[0])){var s=+Z6.exec(e[0])[1];i[0]=n[0]-s}else Ut(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(et(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(Q6.test(e[1])){var o=+Q6.exec(e[1])[1];i[1]=n[1]+o}else Ut(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},aC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=F3(n,function(u){return u.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],d=s[a-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},J6=function(e,n,r){return!e||!e.length||hh(e,no(r,"type.defaultProps.domain"))?n:e},zJ=function(e,n){var r=e.type.defaultProps?Cr(Cr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,d=r.hide;return Cr(Cr({},Pt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:uF(e),value:Rr(n,i),type:l,payload:n,chartType:c,hide:d})};function Ox(t){"@babel/helpers - typeof";return Ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ox(t)}function e8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e8(Object(n),!0).forEach(function(r){$J(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $J(t,e,n){return e=m4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m4e(t){var e=g4e(t,"string");return Ox(e)=="symbol"?e:e+""}function g4e(t,e){if(Ox(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ox(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function v4e(t,e){return b4e(t)||_4e(t,e)||x4e(t,e)||y4e()}function y4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x4e(t,e){if(t){if(typeof t=="string")return t8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t8(t,e)}}function t8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function b4e(t){if(Array.isArray(t))return t}var lC=Math.PI/180,w4e=function(e){return e*180/Math.PI},Zn=function(e,n,r,i){return{x:e+Math.cos(-lC*i)*r,y:n+Math.sin(-lC*i)*r}},HJ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},S4e=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,d=ns(e.cx,o,o/2),u=ns(e.cy,a,a/2),f=HJ(o,a,r),g=ns(e.innerRadius,f,0),v=ns(e.outerRadius,f,f*.8),y=Object.keys(n);return y.reduce(function(m,p){var x=n[p],_=x.domain,b=x.reversed,S;if(Xt(x.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[g,v]),b&&(S=[S[1],S[0]]);else{S=x.range;var C=S,A=v4e(C,2);l=A[0],c=A[1]}var M=jJ(x,s),T=M.realScaleType,N=M.scale;N.domain(_).range(S),FJ(N);var I=BJ(N,lc(lc({},x),{},{realScaleType:T})),k=lc(lc(lc({},x),I),{},{range:S,radius:v,realScaleType:T,scale:N,cx:d,cy:u,innerRadius:g,outerRadius:v,startAngle:l,endAngle:c});return lc(lc({},m),{},$J({},p,k))},{})},E4e=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},C4e=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=E4e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:w4e(c),angleInRadian:c}},M4e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},A4e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},n8=function(e,n){var r=e.x,i=e.y,s=C4e({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var d=M4e(n),u=d.startAngle,f=d.endAngle,g=a,v;if(u<=f){for(;g>f;)g-=360;for(;g<u;)g+=360;v=g>=u&&g<=f}else{for(;g>u;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=u}return v?lc(lc({},n),{},{radius:o,angle:A4e(g,n)}):null},VJ=function(e){return!P.isValidElement(e)&&!Ut(e)&&typeof e!="boolean"?e.className:""};function Ix(t){"@babel/helpers - typeof";return Ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ix(t)}var T4e=["offset"];function P4e(t){return I4e(t)||O4e(t)||R4e(t)||N4e()}function N4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4e(t,e){if(t){if(typeof t=="string")return Lk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lk(t,e)}}function O4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I4e(t){if(Array.isArray(t))return Lk(t)}function Lk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function k4e(t,e){if(t==null)return{};var n=D4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function r8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r8(Object(n),!0).forEach(function(r){L4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function L4e(t,e,n){return e=j4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j4e(t){var e=F4e(t,"string");return Ix(e)=="symbol"?e:e+""}function F4e(t,e){if(Ix(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ix(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kx(){return kx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kx.apply(this,arguments)}var B4e=function(e){var n=e.value,r=e.formatter,i=Xt(e.children)?n:e.children;return Ut(r)?r(i):i},U4e=function(e,n){var r=ts(n-e),i=Math.min(Math.abs(n-e),360);return r*i},z4e=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,d=l.cy,u=l.innerRadius,f=l.outerRadius,g=l.startAngle,v=l.endAngle,y=l.clockWise,m=(u+f)/2,p=U4e(g,v),x=p>=0?1:-1,_,b;i==="insideStart"?(_=g+x*o,b=y):i==="insideEnd"?(_=v-x*o,b=!y):i==="end"&&(_=v+x*o,b=y),b=p<=0?b:!b;var S=Zn(c,d,m,_),C=Zn(c,d,m,_+(b?1:-1)*359),A="M".concat(S.x,",").concat(S.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(C.x,",").concat(C.y),M=Xt(e.id)?Dh("recharts-radial-line-"):e.id;return te.createElement("text",kx({},r,{dominantBaseline:"central",className:Yt("recharts-radial-bar-label",a)}),te.createElement("defs",null,te.createElement("path",{id:M,d:A})),te.createElement("textPath",{xlinkHref:"#".concat(M)},n))},$4e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,d=s.startAngle,u=s.endAngle,f=(d+u)/2;if(i==="outside"){var g=Zn(o,a,c+r,f),v=g.x,y=g.y;return{x:v,y,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(l+c)/2,p=Zn(o,a,m,f),x=p.x,_=p.y;return{x,y:_,textAnchor:"middle",verticalAnchor:"middle"}},H4e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,d=o.height,u=d>=0?1:-1,f=u*i,g=u>0?"end":"start",v=u>0?"start":"end",y=c>=0?1:-1,m=y*i,p=y>0?"end":"start",x=y>0?"start":"end";if(s==="top"){var _={x:a+c/2,y:l-u*i,textAnchor:"middle",verticalAnchor:g};return Wr(Wr({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var b={x:a+c/2,y:l+d+f,textAnchor:"middle",verticalAnchor:v};return Wr(Wr({},b),r?{height:Math.max(r.y+r.height-(l+d),0),width:c}:{})}if(s==="left"){var S={x:a-m,y:l+d/2,textAnchor:p,verticalAnchor:"middle"};return Wr(Wr({},S),r?{width:Math.max(S.x-r.x,0),height:d}:{})}if(s==="right"){var C={x:a+c+m,y:l+d/2,textAnchor:x,verticalAnchor:"middle"};return Wr(Wr({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:d}:{})}var A=r?{width:c,height:d}:{};return s==="insideLeft"?Wr({x:a+m,y:l+d/2,textAnchor:x,verticalAnchor:"middle"},A):s==="insideRight"?Wr({x:a+c-m,y:l+d/2,textAnchor:p,verticalAnchor:"middle"},A):s==="insideTop"?Wr({x:a+c/2,y:l+f,textAnchor:"middle",verticalAnchor:v},A):s==="insideBottom"?Wr({x:a+c/2,y:l+d-f,textAnchor:"middle",verticalAnchor:g},A):s==="insideTopLeft"?Wr({x:a+m,y:l+f,textAnchor:x,verticalAnchor:v},A):s==="insideTopRight"?Wr({x:a+c-m,y:l+f,textAnchor:p,verticalAnchor:v},A):s==="insideBottomLeft"?Wr({x:a+m,y:l+d-f,textAnchor:x,verticalAnchor:g},A):s==="insideBottomRight"?Wr({x:a+c-m,y:l+d-f,textAnchor:p,verticalAnchor:g},A):xv(s)&&(et(s.x)||Af(s.x))&&(et(s.y)||Af(s.y))?Wr({x:a+ns(s.x,c),y:l+ns(s.y,d),textAnchor:"end",verticalAnchor:"end"},A):Wr({x:a+c/2,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},A)},V4e=function(e){return"cx"in e&&et(e.cx)};function di(t){var e=t.offset,n=e===void 0?5:e,r=k4e(t,T4e),i=Wr({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,d=i.className,u=d===void 0?"":d,f=i.textBreakAll;if(!s||Xt(a)&&Xt(l)&&!P.isValidElement(c)&&!Ut(c))return null;if(P.isValidElement(c))return P.cloneElement(c,i);var g;if(Ut(c)){if(g=P.createElement(c,i),P.isValidElement(g))return g}else g=B4e(i);var v=V4e(s),y=Pt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return z4e(i,g,y);var m=v?$4e(i):H4e(i);return te.createElement(dh,kx({className:Yt("recharts-label",u)},y,m,{breakAll:f}),g)}di.displayName="Label";var WJ=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,d=e.outerRadius,u=e.x,f=e.y,g=e.top,v=e.left,y=e.width,m=e.height,p=e.clockWise,x=e.labelViewBox;if(x)return x;if(et(y)&&et(m)){if(et(u)&&et(f))return{x:u,y:f,width:y,height:m};if(et(g)&&et(v))return{x:g,y:v,width:y,height:m}}return et(u)&&et(f)?{x:u,y:f,width:0,height:0}:et(n)&&et(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:d||l||a||0,clockWise:p}:e.viewBox?e.viewBox:{}},W4e=function(e,n){return e?e===!0?te.createElement(di,{key:"label-implicit",viewBox:n}):Qr(e)?te.createElement(di,{key:"label-implicit",viewBox:n,value:e}):P.isValidElement(e)?e.type===di?P.cloneElement(e,{key:"label-implicit",viewBox:n}):te.createElement(di,{key:"label-implicit",content:e,viewBox:n}):Ut(e)?te.createElement(di,{key:"label-implicit",content:e,viewBox:n}):xv(e)?te.createElement(di,kx({viewBox:n},e,{key:"label-implicit"})):null:null},G4e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=WJ(e),o=ro(i,di).map(function(l,c){return P.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=W4e(e.label,n||s);return[a].concat(P4e(o))};di.parseViewBox=WJ;di.renderCallByParent=G4e;function X4e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var q4e=X4e;const K4e=Pn(q4e);function Dx(t){"@babel/helpers - typeof";return Dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dx(t)}var Y4e=["valueAccessor"],Z4e=["data","dataKey","clockWise","id","textBreakAll"];function Q4e(t){return nBe(t)||tBe(t)||eBe(t)||J4e()}function J4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eBe(t,e){if(t){if(typeof t=="string")return jk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jk(t,e)}}function tBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function nBe(t){if(Array.isArray(t))return jk(t)}function jk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cC(){return cC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cC.apply(this,arguments)}function i8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function s8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i8(Object(n),!0).forEach(function(r){rBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rBe(t,e,n){return e=iBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iBe(t){var e=sBe(t,"string");return Dx(e)=="symbol"?e:e+""}function sBe(t,e){if(Dx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o8(t,e){if(t==null)return{};var n=oBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var aBe=function(e){return Array.isArray(e.value)?K4e(e.value):e.value};function vl(t){var e=t.valueAccessor,n=e===void 0?aBe:e,r=o8(t,Y4e),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=o8(r,Z4e);return!i||!i.length?null:te.createElement(ln,{className:"recharts-label-list"},i.map(function(d,u){var f=Xt(s)?n(d,u):Rr(d&&d.payload,s),g=Xt(a)?{}:{id:"".concat(a,"-").concat(u)};return te.createElement(di,cC({},Pt(d,!0),c,g,{parentViewBox:d.parentViewBox,value:f,textBreakAll:l,viewBox:di.parseViewBox(Xt(o)?d:s8(s8({},d),{},{clockWise:o})),key:"label-".concat(u),index:u}))}))}vl.displayName="LabelList";function lBe(t,e){return t?t===!0?te.createElement(vl,{key:"labelList-implicit",data:e}):te.isValidElement(t)||Ut(t)?te.createElement(vl,{key:"labelList-implicit",data:e,content:t}):xv(t)?te.createElement(vl,cC({data:e},t,{key:"labelList-implicit"})):null:null}function cBe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=ro(r,vl).map(function(o,a){return P.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=lBe(t.label,e);return[s].concat(Q4e(i))}vl.renderCallByParent=cBe;function Lx(t){"@babel/helpers - typeof";return Lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lx(t)}function Fk(){return Fk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fk.apply(this,arguments)}function a8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function l8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a8(Object(n),!0).forEach(function(r){uBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uBe(t,e,n){return e=dBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dBe(t){var e=fBe(t,"string");return Lx(e)=="symbol"?e:e+""}function fBe(t,e){if(Lx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hBe=function(e,n){var r=ts(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},u1=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,d=l*(a?1:-1)+i,u=Math.asin(l/d)/lC,f=c?s:s+o*u,g=Zn(n,r,d,f),v=Zn(n,r,i,f),y=c?s-o*u:s,m=Zn(n,r,d*Math.cos(u*lC),y);return{center:g,circleTangency:v,lineTangency:m,theta:u}},GJ=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=hBe(o,a),c=o+l,d=Zn(n,r,s,o),u=Zn(n,r,s,c),f="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(i>0){var g=Zn(n,r,i,o),v=Zn(n,r,i,c);f+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},pBe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,d=e.endAngle,u=ts(d-c),f=u1({cx:n,cy:r,radius:s,angle:c,sign:u,cornerRadius:o,cornerIsExternal:l}),g=f.circleTangency,v=f.lineTangency,y=f.theta,m=u1({cx:n,cy:r,radius:s,angle:d,sign:-u,cornerRadius:o,cornerIsExternal:l}),p=m.circleTangency,x=m.lineTangency,_=m.theta,b=l?Math.abs(c-d):Math.abs(c-d)-y-_;if(b<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GJ({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:d});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(x.x,",").concat(x.y,`
  `);if(i>0){var C=u1({cx:n,cy:r,radius:i,angle:c,sign:u,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=C.circleTangency,M=C.lineTangency,T=C.theta,N=u1({cx:n,cy:r,radius:i,angle:d,sign:-u,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=N.circleTangency,k=N.lineTangency,j=N.theta,F=l?Math.abs(c-d):Math.abs(c-d)-T-j;if(F<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(u>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(u<0),",").concat(M.x,",").concat(M.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},mBe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},XJ=function(e){var n=l8(l8({},mBe),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,d=n.startAngle,u=n.endAngle,f=n.className;if(o<s||d===u)return null;var g=Yt("recharts-sector",f),v=o-s,y=ns(a,v,0,!0),m;return y>0&&Math.abs(d-u)<360?m=pBe({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:d,endAngle:u}):m=GJ({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:u}),te.createElement("path",Fk({},Pt(n,!0),{className:g,d:m,role:"img"}))};function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function Bk(){return Bk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Bk.apply(this,arguments)}function c8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c8(Object(n),!0).forEach(function(r){gBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gBe(t,e,n){return e=vBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vBe(t){var e=yBe(t,"string");return jx(e)=="symbol"?e:e+""}function yBe(t,e){if(jx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var d8={curveBasisClosed:uAe,curveBasisOpen:dAe,curveBasis:cAe,curveBumpX:KMe,curveBumpY:YMe,curveLinearClosed:fAe,curveLinear:VA,curveMonotoneX:hAe,curveMonotoneY:pAe,curveNatural:mAe,curveStep:gAe,curveStepAfter:yAe,curveStepBefore:vAe},d1=function(e){return e.x===+e.x&&e.y===+e.y},Py=function(e){return e.x},Ny=function(e){return e.y},xBe=function(e,n){if(Ut(e))return e;var r="curve".concat($A(e));return(r==="curveMonotone"||r==="curveBump")&&n?d8["".concat(r).concat(n==="vertical"?"Y":"X")]:d8[r]||VA},_Be=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,d=xBe(r,a),u=c?s.filter(function(y){return d1(y)}):s,f;if(Array.isArray(o)){var g=c?o.filter(function(y){return d1(y)}):o,v=u.map(function(y,m){return u8(u8({},y),{},{base:g[m]})});return a==="vertical"?f=e1().y(Ny).x1(Py).x0(function(y){return y.base.x}):f=e1().x(Py).y1(Ny).y0(function(y){return y.base.y}),f.defined(d1).curve(d),f(v)}return a==="vertical"&&et(o)?f=e1().y(Ny).x1(Py).x0(o):et(o)?f=e1().x(Py).y1(Ny).y0(o):f=FZ().x(Py).y(Ny),f.defined(d1).curve(d),f(u)},Xf=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?_Be(e):i;return te.createElement("path",Bk({},Pt(e,!1),IE(e),{className:Yt("recharts-curve",n),d:o,ref:s}))},qJ={exports:{}},bBe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",wBe=bBe,SBe=wBe;function KJ(){}function YJ(){}YJ.resetWarningCache=KJ;var EBe=function(){function t(r,i,s,o,a,l){if(l!==SBe){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:YJ,resetWarningCache:KJ};return n.PropTypes=n,n};qJ.exports=EBe();var CBe=qJ.exports;const In=Pn(CBe);var MBe=Object.getOwnPropertyNames,ABe=Object.getOwnPropertySymbols,TBe=Object.prototype.hasOwnProperty;function f8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function f1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function h8(t){return MBe(t).concat(ABe(t))}var PBe=Object.hasOwn||function(t,e){return TBe.call(t,e)};function Fh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var NBe="__v",RBe="__o",OBe="_owner",p8=Object.getOwnPropertyDescriptor,m8=Object.keys;function IBe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function kBe(t,e){return Fh(t.getTime(),e.getTime())}function DBe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function LBe(t,e){return t===e}function g8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),d=!1,u=0;(a=c.next())&&!a.done;){if(i[u]){u++;continue}var f=o.value,g=a.value;if(n.equals(f[0],g[0],l,u,t,e,n)&&n.equals(f[1],g[1],f[0],g[0],t,e,n)){d=i[u]=!0;break}u++}if(!d)return!1;l++}return!0}var jBe=Fh;function FBe(t,e,n){var r=m8(t),i=r.length;if(m8(e).length!==i)return!1;for(;i-- >0;)if(!ZJ(t,e,n,r[i]))return!1;return!0}function Ry(t,e,n){var r=h8(t),i=r.length;if(h8(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!ZJ(t,e,n,s)||(o=p8(t,s),a=p8(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function BBe(t,e){return Fh(t.valueOf(),e.valueOf())}function UBe(t,e){return t.source===e.source&&t.flags===e.flags}function v8(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,d=0;(a=l.next())&&!a.done;){if(!i[d]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[d]=!0;break}d++}if(!c)return!1}return!0}function zBe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $Be(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function ZJ(t,e,n,r){return(r===OBe||r===RBe||r===NBe)&&(t.$$typeof||e.$$typeof)?!0:PBe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var HBe="[object Arguments]",VBe="[object Boolean]",WBe="[object Date]",GBe="[object Error]",XBe="[object Map]",qBe="[object Number]",KBe="[object Object]",YBe="[object RegExp]",ZBe="[object Set]",QBe="[object String]",JBe="[object URL]",e5e=Array.isArray,y8=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,x8=Object.assign,t5e=Object.prototype.toString.call.bind(Object.prototype.toString);function n5e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,d=t.areSetsEqual,u=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(v,y,m){if(v===y)return!0;if(v==null||y==null)return!1;var p=typeof v;if(p!==typeof y)return!1;if(p!=="object")return p==="number"?o(v,y,m):p==="function"?i(v,y,m):!1;var x=v.constructor;if(x!==y.constructor)return!1;if(x===Object)return a(v,y,m);if(e5e(v))return e(v,y,m);if(y8!=null&&y8(v))return u(v,y,m);if(x===Date)return n(v,y,m);if(x===RegExp)return c(v,y,m);if(x===Map)return s(v,y,m);if(x===Set)return d(v,y,m);var _=t5e(v);return _===WBe?n(v,y,m):_===YBe?c(v,y,m):_===XBe?s(v,y,m):_===ZBe?d(v,y,m):_===KBe?typeof v.then!="function"&&typeof y.then!="function"&&a(v,y,m):_===JBe?f(v,y,m):_===GBe?r(v,y,m):_===HBe?a(v,y,m):_===VBe||_===qBe||_===QBe?l(v,y,m):!1}}function r5e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ry:IBe,areDatesEqual:kBe,areErrorsEqual:DBe,areFunctionsEqual:LBe,areMapsEqual:r?f8(g8,Ry):g8,areNumbersEqual:jBe,areObjectsEqual:r?Ry:FBe,arePrimitiveWrappersEqual:BBe,areRegExpsEqual:UBe,areSetsEqual:r?f8(v8,Ry):v8,areTypedArraysEqual:r?Ry:zBe,areUrlsEqual:$Be};if(n&&(i=x8({},i,n(i))),e){var s=f1(i.areArraysEqual),o=f1(i.areMapsEqual),a=f1(i.areObjectsEqual),l=f1(i.areSetsEqual);i=x8({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function i5e(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function s5e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var d=r(),u=d.cache,f=u===void 0?e?new WeakMap:void 0:u,g=d.meta;return n(l,c,{cache:f,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var o5e=Ad();Ad({strict:!0});Ad({circular:!0});Ad({circular:!0,strict:!0});Ad({createInternalComparator:function(){return Fh}});Ad({strict:!0,createInternalComparator:function(){return Fh}});Ad({circular:!0,createInternalComparator:function(){return Fh}});Ad({circular:!0,createInternalComparator:function(){return Fh},strict:!0});function Ad(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=r5e(t),l=n5e(a),c=r?r(l):i5e(l);return s5e({circular:n,comparator:l,createState:i,equals:c,strict:o})}function a5e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function _8(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):a5e(i)};requestAnimationFrame(r)}function Uk(t){"@babel/helpers - typeof";return Uk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uk(t)}function l5e(t){return f5e(t)||d5e(t)||u5e(t)||c5e()}function c5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u5e(t,e){if(t){if(typeof t=="string")return b8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b8(t,e)}}function b8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function d5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function f5e(t){if(Array.isArray(t))return t}function h5e(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=l5e(o),l=a[0],c=a.slice(1);if(typeof l=="number"){_8(i.bind(null,c),l);return}i(l),_8(i.bind(null,c));return}Uk(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Fx(t){"@babel/helpers - typeof";return Fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fx(t)}function w8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w8(Object(n),!0).forEach(function(r){QJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QJ(t,e,n){return e=p5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p5e(t){var e=m5e(t,"string");return Fx(e)==="symbol"?e:String(e)}function m5e(t,e){if(Fx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g5e=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},v5e=function(e){return e},y5e=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},P0=function(e,n){return Object.keys(n).reduce(function(r,i){return S8(S8({},r),{},QJ({},i,e(i,n[i])))},{})},E8=function(e,n,r){return e.map(function(i){return"".concat(y5e(i)," ").concat(n,"ms ").concat(r)}).join(",")};function x5e(t,e){return w5e(t)||b5e(t,e)||JJ(t,e)||_5e()}function _5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function w5e(t){if(Array.isArray(t))return t}function S5e(t){return M5e(t)||C5e(t)||JJ(t)||E5e()}function E5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JJ(t,e){if(t){if(typeof t=="string")return zk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zk(t,e)}}function C5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function M5e(t){if(Array.isArray(t))return zk(t)}function zk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var uC=1e-4,eee=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},tee=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},C8=function(e,n){return function(r){var i=eee(e,n);return tee(i,r)}},A5e=function(e,n){return function(r){var i=eee(e,n),s=[].concat(S5e(i.map(function(o,a){return o*a}).slice(1)),[0]);return tee(s,r)}},M8=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),d=x5e(c,4);i=d[0],s=d[1],o=d[2],a=d[3]}}}var u=C8(i,o),f=C8(s,a),g=A5e(i,o),v=function(p){return p>1?1:p<0?0:p},y=function(p){for(var x=p>1?1:p,_=x,b=0;b<8;++b){var S=u(_)-x,C=g(_);if(Math.abs(S-x)<uC||C<uC)return f(_);_=v(_-S/C)}return f(_)};return y.isStepper=!1,y},T5e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(d,u,f){var g=-(d-u)*r,v=f*s,y=f+(g-v)*a/1e3,m=f*a/1e3+d;return Math.abs(m-u)<uC&&Math.abs(y)<uC?[u,0]:[m,y]};return l.isStepper=!0,l.dt=a,l},P5e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return M8(i);case"spring":return T5e();default:if(i.split("(")[0]==="cubic-bezier")return M8(i)}return typeof i=="function"?i:null};function Bx(t){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bx(t)}function A8(t){return O5e(t)||R5e(t)||nee(t)||N5e()}function N5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function O5e(t){if(Array.isArray(t))return Hk(t)}function T8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?T8(Object(n),!0).forEach(function(r){$k(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $k(t,e,n){return e=I5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I5e(t){var e=k5e(t,"string");return Bx(e)==="symbol"?e:String(e)}function k5e(t,e){if(Bx(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bx(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function D5e(t,e){return F5e(t)||j5e(t,e)||nee(t,e)||L5e()}function L5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nee(t,e){if(t){if(typeof t=="string")return Hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function j5e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function F5e(t){if(Array.isArray(t))return t}var dC=function(e,n,r){return e+(n-e)*r},Vk=function(e){var n=e.from,r=e.to;return n!==r},B5e=function t(e,n,r){var i=P0(function(s,o){if(Vk(o)){var a=e(o.from,o.to,o.velocity),l=D5e(a,2),c=l[0],d=l[1];return vi(vi({},o),{},{from:c,velocity:d})}return o},n);return r<1?P0(function(s,o){return Vk(o)?vi(vi({},o),{},{velocity:dC(o.velocity,i[s].velocity,r),from:dC(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const U5e=function(t,e,n,r,i){var s=g5e(t,e),o=s.reduce(function(m,p){return vi(vi({},m),{},$k({},p,[t[p],e[p]]))},{}),a=s.reduce(function(m,p){return vi(vi({},m),{},$k({},p,{from:t[p],velocity:0,to:e[p]}))},{}),l=-1,c,d,u=function(){return null},f=function(){return P0(function(p,x){return x.from},a)},g=function(){return!Object.values(a).filter(Vk).length},v=function(p){c||(c=p);var x=p-c,_=x/n.dt;a=B5e(n,a,_),i(vi(vi(vi({},t),e),f())),c=p,g()||(l=requestAnimationFrame(u))},y=function(p){d||(d=p);var x=(p-d)/r,_=P0(function(S,C){return dC.apply(void 0,A8(C).concat([n(x)]))},o);if(i(vi(vi(vi({},t),e),_)),x<1)l=requestAnimationFrame(u);else{var b=P0(function(S,C){return dC.apply(void 0,A8(C).concat([n(1)]))},o);i(vi(vi(vi({},t),e),b))}};return u=n.isStepper?v:y,function(){return requestAnimationFrame(u),function(){cancelAnimationFrame(l)}}};function wg(t){"@babel/helpers - typeof";return wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wg(t)}var z5e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $5e(t,e){if(t==null)return{};var n=H5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function H5e(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function ZN(t){return X5e(t)||G5e(t)||W5e(t)||V5e()}function V5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W5e(t,e){if(t){if(typeof t=="string")return Wk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wk(t,e)}}function G5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function X5e(t){if(Array.isArray(t))return Wk(t)}function Wk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(n),!0).forEach(function(r){o0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function o0(t,e,n){return e=ree(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function q5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function K5e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ree(r.key),r)}}function Y5e(t,e,n){return e&&K5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ree(t){var e=Z5e(t,"string");return wg(e)==="symbol"?e:String(e)}function Z5e(t,e){if(wg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gk(t,e)}function Gk(t,e){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gk(t,e)}function J5e(t){var e=eUe();return function(){var r=fC(t),i;if(e){var s=fC(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Xk(this,i)}}function Xk(t,e){if(e&&(wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qk(t)}function qk(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function fC(t){return fC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fC(t)}var ka=function(t){Q5e(n,t);var e=J5e(n);function n(r,i){var s;q5e(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,d=o.to,u=o.steps,f=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(qk(s)),s.changeStyle=s.changeStyle.bind(qk(s)),!a||g<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:d}),Xk(s);if(u&&u.length)s.state={style:u[0].style};else if(c){if(typeof f=="function")return s.state={style:c},Xk(s);s.state={style:l?o0({},l,c):c}}else s.state={style:{}};return s}return Y5e(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,d=s.to,u=s.from,f=this.state.style;if(a){if(!o){var g={style:l?o0({},l,d):d};this.state&&f&&(l&&f[l]!==d||!l&&f!==d)&&this.setState(g);return}if(!(o5e(i.to,d)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=v||c?u:i.to;if(this.state&&f){var m={style:l?o0({},l,y):y};(l&&f[l]!==y||!l&&f!==y)&&this.setState(m)}this.runAnimation(ea(ea({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,d=i.begin,u=i.onAnimationEnd,f=i.onAnimationStart,g=U5e(o,a,P5e(c),l,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([f,d,v,l,u])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],d=c.style,u=c.duration,f=u===void 0?0:u,g=function(y,m,p){if(p===0)return y;var x=m.duration,_=m.easing,b=_===void 0?"ease":_,S=m.style,C=m.properties,A=m.onAnimationEnd,M=p>0?o[p-1]:m,T=C||Object.keys(S);if(typeof b=="function"||b==="spring")return[].concat(ZN(y),[s.runJSAnimation.bind(s,{from:M.style,to:S,duration:x,easing:b}),x]);var N=E8(T,x,b),I=ea(ea(ea({},M.style),S),{},{transition:N});return[].concat(ZN(y),[I,x,A]).filter(v5e)};return this.manager.start([l].concat(ZN(o.reduce(g,[d,Math.max(f,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=h5e());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,d=i.onAnimationStart,u=i.onAnimationEnd,f=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var y=a?o0({},a,l):l,m=E8(Object.keys(y),o,c);v.start([d,s,ea(ea({},y),{},{transition:m}),o,u])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=$5e(i,z5e),c=P.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!a||c===0||o<=0)return s;var u=function(g){var v=g.props,y=v.style,m=y===void 0?{}:y,p=v.className,x=P.cloneElement(g,ea(ea({},l),{},{style:ea(ea({},m),d),className:p}));return x};return c===1?u(P.Children.only(s)):te.createElement("div",null,P.Children.map(s,function(f){return u(f)}))}}]),n}(P.PureComponent);ka.displayName="Animate";ka.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ka.propTypes={from:In.oneOfType([In.object,In.string]),to:In.oneOfType([In.object,In.string]),attributeName:In.string,duration:In.number,begin:In.number,easing:In.oneOfType([In.string,In.func]),steps:In.arrayOf(In.shape({duration:In.number.isRequired,style:In.object.isRequired,easing:In.oneOfType([In.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),In.func]),properties:In.arrayOf("string"),onAnimationEnd:In.func})),children:In.oneOfType([In.node,In.func]),isActive:In.bool,canBegin:In.bool,onAnimationEnd:In.func,shouldReAnimate:In.bool,onAnimationStart:In.func,onAnimationReStart:In.func};function gh(){return gh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gh.apply(null,arguments)}function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}function hC(){return hC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hC.apply(this,arguments)}function tUe(t,e){return sUe(t)||iUe(t,e)||rUe(t,e)||nUe()}function nUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rUe(t,e){if(t){if(typeof t=="string")return N8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N8(t,e)}}function N8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function sUe(t){if(Array.isArray(t))return t}function R8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R8(Object(n),!0).forEach(function(r){oUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oUe(t,e,n){return e=aUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aUe(t){var e=lUe(t,"string");return Ux(e)=="symbol"?e:e+""}function lUe(t,e){if(Ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var I8=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,d;if(o>0&&s instanceof Array){for(var u=[0,0,0,0],f=0,g=4;f<g;f++)u[f]=s[f]>o?o:s[f];d="M".concat(e,",").concat(n+a*u[0]),u[0]>0&&(d+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(n)),d+="L ".concat(e+r-l*u[1],",").concat(n),u[1]>0&&(d+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*u[1])),d+="L ".concat(e+r,",").concat(n+i-a*u[2]),u[2]>0&&(d+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,`,
        `).concat(e+r-l*u[2],",").concat(n+i)),d+="L ".concat(e+l*u[3],",").concat(n+i),u[3]>0&&(d+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*u[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);d="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*v," Z")}else d="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return d},cUe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),d=Math.max(s,s+a),u=Math.min(o,o+l),f=Math.max(o,o+l);return r>=c&&r<=d&&i>=u&&i<=f}return!1},uUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dF=function(e){var n=O8(O8({},uUe),e),r=P.useRef(),i=P.useState(-1),s=tUe(i,2),o=s[0],a=s[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,c=n.y,d=n.width,u=n.height,f=n.radius,g=n.className,v=n.animationEasing,y=n.animationDuration,m=n.animationBegin,p=n.isAnimationActive,x=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||d===0||u===0)return null;var _=Yt("recharts-rectangle",g);return x?te.createElement(ka,{canBegin:o>0,from:{width:d,height:u,x:l,y:c},to:{width:d,height:u,x:l,y:c},duration:y,animationEasing:v,isActive:x},function(b){var S=b.width,C=b.height,A=b.x,M=b.y;return te.createElement(ka,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,isActive:p,easing:v},te.createElement("path",hC({},Pt(n,!0),{className:_,d:I8(A,M,S,C,f),ref:r})))}):te.createElement("path",hC({},Pt(n,!0),{className:_,d:I8(l,c,d,u,f)}))},dUe=["points","className","baseLinePoints","connectNulls"];function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}function fUe(t,e){if(t==null)return{};var n=hUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function k8(t){return vUe(t)||gUe(t)||mUe(t)||pUe()}function pUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mUe(t,e){if(t){if(typeof t=="string")return Kk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kk(t,e)}}function gUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vUe(t){if(Array.isArray(t))return Kk(t)}function Kk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var D8=function(e){return e&&e.x===+e.x&&e.y===+e.y},yUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){D8(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),D8(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},N0=function(e,n){var r=yUe(e);n&&(r=[r.reduce(function(s,o){return[].concat(k8(s),k8(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},xUe=function(e,n,r){var i=N0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(N0(n.reverse(),r).slice(1))},_Ue=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=fUe(e,dUe);if(!n||!n.length)return null;var a=Yt("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=xUe(n,i,s);return te.createElement("g",{className:a},te.createElement("path",fm({},Pt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?te.createElement("path",fm({},Pt(o,!0),{fill:"none",d:N0(n,s)})):null,l?te.createElement("path",fm({},Pt(o,!0),{fill:"none",d:N0(i,s)})):null)}var d=N0(n,s);return te.createElement("path",fm({},Pt(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",className:a,d}))};function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yk.apply(this,arguments)}var sb=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=Yt("recharts-dot",s);return n===+n&&r===+r&&i===+i?te.createElement("circle",Yk({},Pt(e,!1),IE(e),{className:o,cx:n,cy:r,r:i})):null};function zx(t){"@babel/helpers - typeof";return zx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zx(t)}var bUe=["x","y","top","left","width","height","className"];function Zk(){return Zk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zk.apply(this,arguments)}function L8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(n),!0).forEach(function(r){SUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SUe(t,e,n){return e=EUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EUe(t){var e=CUe(t,"string");return zx(e)=="symbol"?e:e+""}function CUe(t,e){if(zx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MUe(t,e){if(t==null)return{};var n=AUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TUe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},PUe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,d=e.width,u=d===void 0?0:d,f=e.height,g=f===void 0?0:f,v=e.className,y=MUe(e,bUe),m=wUe({x:r,y:s,top:a,left:c,width:u,height:g},y);return!et(r)||!et(s)||!et(u)||!et(g)||!et(a)||!et(c)?null:te.createElement("path",Zk({},Pt(m,!0),{className:Yt("recharts-cross",v),d:TUe(r,s,u,g,a,c)}))},NUe=nT,RUe=mJ,OUe=kl;function IUe(t,e){return t&&t.length?NUe(t,OUe(e),RUe):void 0}var kUe=IUe;const DUe=Pn(kUe);var LUe=nT,jUe=kl,FUe=gJ;function BUe(t,e){return t&&t.length?LUe(t,jUe(e),FUe):void 0}var UUe=BUe;const zUe=Pn(UUe);var $Ue=["cx","cy","angle","ticks","axisLine"],HUe=["ticks","tick","angle","tickFormatter","stroke"];function Sg(t){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sg(t)}function R0(){return R0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R0.apply(this,arguments)}function j8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(n),!0).forEach(function(r){oT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F8(t,e){if(t==null)return{};var n=VUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,see(r.key),r)}}function GUe(t,e,n){return e&&B8(t.prototype,e),n&&B8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XUe(t,e,n){return e=pC(e),qUe(t,iee()?Reflect.construct(e,n||[],pC(t).constructor):e.apply(t,n))}function qUe(t,e){if(e&&(Sg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KUe(t)}function KUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iee=function(){return!!t})()}function pC(t){return pC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pC(t)}function YUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qk(t,e)}function Qk(t,e){return Qk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Qk(t,e)}function oT(t,e,n){return e=see(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function see(t){var e=ZUe(t,"string");return Sg(e)=="symbol"?e:e+""}function ZUe(t,e){if(Sg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aT=function(t){function e(){return WUe(this,e),XUe(this,e,arguments)}return YUe(e,t),GUe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return Zn(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=DUe(a,function(d){return d.coordinate||0}),c=zUe(a,function(d){return d.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,c=F8(r,$Ue),d=a.reduce(function(v,y){return[Math.min(v[0],y.coordinate),Math.max(v[1],y.coordinate)]},[1/0,-1/0]),u=Zn(i,s,d[0],o),f=Zn(i,s,d[1],o),g=Gd(Gd(Gd({},Pt(c,!1)),{},{fill:"none"},Pt(l,!1)),{},{x1:u.x,y1:u.y,x2:f.x,y2:f.y});return te.createElement("line",R0({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,d=F8(i,HUe),u=this.getTickTextAnchor(),f=Pt(d,!1),g=Pt(o,!1),v=s.map(function(y,m){var p=r.getTickValueCoord(y),x=Gd(Gd(Gd(Gd({textAnchor:u,transform:"rotate(".concat(90-a,", ").concat(p.x,", ").concat(p.y,")")},f),{},{stroke:"none",fill:c},g),{},{index:m},p),{},{payload:y});return te.createElement(ln,R0({className:Yt("recharts-polar-radius-axis-tick",VJ(o)),key:"tick-".concat(y.coordinate)},uh(r.props,y,m)),e.renderTickItem(o,x,l?l(y.value,m):y.value))});return te.createElement(ln,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:te.createElement(ln,{className:Yt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),di.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return te.isValidElement(r)?o=te.cloneElement(r,i):Ut(r)?o=r(i):o=te.createElement(dh,R0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(P.PureComponent);oT(aT,"displayName","PolarRadiusAxis");oT(aT,"axisType","radiusAxis");oT(aT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Eg(t){"@babel/helpers - typeof";return Eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eg(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wf.apply(this,arguments)}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){lT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,aee(r.key),r)}}function JUe(t,e,n){return e&&z8(t.prototype,e),n&&z8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eze(t,e,n){return e=mC(e),tze(t,oee()?Reflect.construct(e,n||[],mC(t).constructor):e.apply(t,n))}function tze(t,e){if(e&&(Eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nze(t)}function nze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oee=function(){return!!t})()}function mC(t){return mC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mC(t)}function rze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Jk(t,e)}function Jk(t,e){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Jk(t,e)}function lT(t,e,n){return e=aee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aee(t){var e=ize(t,"string");return Eg(e)=="symbol"?e:e+""}function ize(t,e){if(Eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sze=Math.PI/180,$8=1e-5,cT=function(t){function e(){return QUe(this,e),eze(this,e,arguments)}return rze(e,t),JUe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,d=c||8,u=Zn(s,o,a,r.coordinate),f=Zn(s,o,a+(l==="inner"?-1:1)*d,r.coordinate);return{x1:u.x,y1:u.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*sze),o;return s>$8?o=i==="outer"?"start":"end":s<-$8?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,c=Xd(Xd({},Pt(this.props,!1)),{},{fill:"none"},Pt(a,!1));if(l==="circle")return te.createElement(sb,wf({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var d=this.props.ticks,u=d.map(function(f){return Zn(i,s,o,f.coordinate)});return te.createElement(_Ue,wf({className:"recharts-polar-angle-axis-line"},c,{points:u}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,d=Pt(this.props,!1),u=Pt(o,!1),f=Xd(Xd({},d),{},{fill:"none"},Pt(a,!1)),g=s.map(function(v,y){var m=r.getTickLineCoord(v),p=r.getTickTextAnchor(v),x=Xd(Xd(Xd({textAnchor:p},d),{},{stroke:"none",fill:c},u),{},{index:y,payload:v,x:m.x2,y:m.y2});return te.createElement(ln,wf({className:Yt("recharts-polar-angle-axis-tick",VJ(o)),key:"tick-".concat(v.coordinate)},uh(r.props,v,y)),a&&te.createElement("line",wf({className:"recharts-polar-angle-axis-tick-line"},f,m)),o&&e.renderTickItem(o,x,l?l(v.value,y):v.value))});return te.createElement(ln,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:te.createElement(ln,{className:Yt("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return te.isValidElement(r)?o=te.cloneElement(r,i):Ut(r)?o=r(i):o=te.createElement(dh,wf({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(P.PureComponent);lT(cT,"displayName","PolarAngleAxis");lT(cT,"axisType","angleAxis");lT(cT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var oze=lQ,aze=oze(Object.getPrototypeOf,Object),lze=aze,cze=Xc,uze=lze,dze=qc,fze="[object Object]",hze=Function.prototype,pze=Object.prototype,lee=hze.toString,mze=pze.hasOwnProperty,gze=lee.call(Object);function vze(t){if(!dze(t)||cze(t)!=fze)return!1;var e=uze(t);if(e===null)return!0;var n=mze.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&lee.call(n)==gze}var yze=vze;const xze=Pn(yze);var _ze=Xc,bze=qc,wze="[object Boolean]";function Sze(t){return t===!0||t===!1||bze(t)&&_ze(t)==wze}var Eze=Sze;const Cze=Pn(Eze);function $x(t){"@babel/helpers - typeof";return $x=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$x(t)}function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gC.apply(this,arguments)}function Mze(t,e){return Nze(t)||Pze(t,e)||Tze(t,e)||Aze()}function Aze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tze(t,e){if(t){if(typeof t=="string")return H8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H8(t,e)}}function H8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Pze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Nze(t){if(Array.isArray(t))return t}function V8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function W8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V8(Object(n),!0).forEach(function(r){Rze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rze(t,e,n){return e=Oze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oze(t){var e=Ize(t,"string");return $x(e)=="symbol"?e:e+""}function Ize(t,e){if($x(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($x(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var G8=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},kze={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Dze=function(e){var n=W8(W8({},kze),e),r=P.useRef(),i=P.useState(-1),s=Mze(i,2),o=s[0],a=s[1];P.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,d=n.upperWidth,u=n.lowerWidth,f=n.height,g=n.className,v=n.animationEasing,y=n.animationDuration,m=n.animationBegin,p=n.isUpdateAnimationActive;if(l!==+l||c!==+c||d!==+d||u!==+u||f!==+f||d===0&&u===0||f===0)return null;var x=Yt("recharts-trapezoid",g);return p?te.createElement(ka,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:d,lowerWidth:u,height:f,x:l,y:c},duration:y,animationEasing:v,isActive:p},function(_){var b=_.upperWidth,S=_.lowerWidth,C=_.height,A=_.x,M=_.y;return te.createElement(ka,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:y,easing:v},te.createElement("path",gC({},Pt(n,!0),{className:x,d:G8(A,M,b,S,C),ref:r})))}):te.createElement("g",null,te.createElement("path",gC({},Pt(n,!0),{className:x,d:G8(l,c,d,u,f)})))},Lze=["option","shapeType","propTransformer","activeClassName","isActive"];function Hx(t){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hx(t)}function jze(t,e){if(t==null)return{};var n=Fze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Fze(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function X8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(n),!0).forEach(function(r){Bze(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):X8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bze(t,e,n){return e=Uze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uze(t){var e=zze(t,"string");return Hx(e)=="symbol"?e:e+""}function zze(t,e){if(Hx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $ze(t,e){return vC(vC({},e),t)}function Hze(t,e){return t==="symbols"}function q8(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return te.createElement(dF,n);case"trapezoid":return te.createElement(Dze,n);case"sector":return te.createElement(XJ,n);case"symbols":if(Hze(e))return te.createElement(N3,n);break;default:return null}}function Vze(t){return P.isValidElement(t)?t.props:t}function cee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$ze:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=jze(t,Lze),c;if(P.isValidElement(e))c=P.cloneElement(e,vC(vC({},l),Vze(e)));else if(Ut(e))c=e(l);else if(xze(e)&&!Cze(e)){var d=i(e,l);c=te.createElement(q8,{shapeType:n,elementProps:d})}else{var u=l;c=te.createElement(q8,{shapeType:n,elementProps:u})}return a?te.createElement(ln,{className:o},c):c}function uT(t,e){return e!=null&&"trapezoids"in t.props}function dT(t,e){return e!=null&&"sectors"in t.props}function Vx(t,e){return e!=null&&"points"in t.props}function Wze(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function Gze(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Xze(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function qze(t,e){var n;return uT(t,e)?n=Wze:dT(t,e)?n=Gze:Vx(t,e)&&(n=Xze),n}function Kze(t,e){var n;return uT(t,e)?n="trapezoids":dT(t,e)?n="sectors":Vx(t,e)&&(n="points"),n}function Yze(t,e){if(uT(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(dT(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Vx(t,e)?e.payload:{}}function Zze(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Kze(n,e),s=Yze(n,e),o=r.filter(function(l,c){var d=hh(s,l),u=n.props[i].filter(function(v){var y=qze(n,e);return y(v,e)}),f=n.props[i].indexOf(u[u.length-1]),g=c===f;return d&&g}),a=r.indexOf(o[o.length-1]);return a}var FS;function Cg(t){"@babel/helpers - typeof";return Cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cg(t)}function hm(){return hm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hm.apply(this,arguments)}function K8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K8(Object(n),!0).forEach(function(r){Oo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dee(r.key),r)}}function Jze(t,e,n){return e&&Y8(t.prototype,e),n&&Y8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e$e(t,e,n){return e=yC(e),t$e(t,uee()?Reflect.construct(e,n||[],yC(t).constructor):e.apply(t,n))}function t$e(t,e){if(e&&(Cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(t)}function n$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uee=function(){return!!t})()}function yC(t){return yC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yC(t)}function r$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eD(t,e)}function eD(t,e){return eD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eD(t,e)}function Oo(t,e,n){return e=dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dee(t){var e=i$e(t,"string");return Cg(e)=="symbol"?e:e+""}function i$e(t,e){if(Cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yc=function(t){function e(n){var r;return Qze(this,e),r=e$e(this,e,[n]),Oo(r,"pieRef",null),Oo(r,"sectorRefs",[]),Oo(r,"id",Dh("recharts-pie-")),Oo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Ut(i)&&i()}),Oo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Ut(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return r$e(e,t),Jze(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,d=Pt(this.props,!1),u=Pt(o,!1),f=Pt(a,!1),g=o&&o.offsetRadius||20,v=r.map(function(y,m){var p=(y.startAngle+y.endAngle)/2,x=Zn(y.cx,y.cy,y.outerRadius+g,p),_=qn(qn(qn(qn({},d),y),{},{stroke:"none"},u),{},{index:m,textAnchor:e.getTextAnchor(x.x,y.cx)},x),b=qn(qn(qn(qn({},d),y),{},{fill:"none",stroke:y.fill},f),{},{index:m,points:[Zn(y.cx,y.cy,y.outerRadius,p),x]}),S=l;return Xt(l)&&Xt(c)?S="value":Xt(l)&&(S=c),te.createElement(ln,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(m)},a&&e.renderLabelLineItem(a,b,"line"),e.renderLabelItem(o,_,Rr(y,S)))});return te.createElement(ln,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(c,d){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var u=i.isActiveIndex(d),f=l&&i.hasActiveIndex()?l:null,g=u?o:f,v=qn(qn({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return te.createElement(ln,hm({ref:function(m){m&&!i.sectorRefs.includes(m)&&i.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},uh(i.props,c,d),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(d)}),te.createElement(cee,hm({option:g,isActive:u,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,d=i.animationId,u=this.state,f=u.prevSectors,g=u.prevIsAnimationActive;return te.createElement(ka,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var y=v.t,m=[],p=s&&s[0],x=p.startAngle;return s.forEach(function(_,b){var S=f&&f[b],C=b>0?no(_,"paddingAngle",0):0;if(S){var A=Kr(S.endAngle-S.startAngle,_.endAngle-_.startAngle),M=qn(qn({},_),{},{startAngle:x+C,endAngle:x+A(y)+C});m.push(M),x=M.endAngle}else{var T=_.endAngle,N=_.startAngle,I=Kr(0,T-N),k=I(y),j=qn(qn({},_),{},{startAngle:x+C,endAngle:x+k+C});m.push(j),x=j.endAngle}}),te.createElement(ln,null,r.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!hh(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,d=i.cy,u=i.innerRadius,f=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!et(c)||!et(d)||!et(u)||!et(f))return null;var y=Yt("recharts-pie",a);return te.createElement(ln,{tabIndex:this.props.rootTabIndex,className:y,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(o),di.renderCallByParent(this.props,null,!1),(!g||v)&&vl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(te.isValidElement(r))return te.cloneElement(r,i);if(Ut(r))return r(i);var o=Yt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return te.createElement(Xf,hm({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(te.isValidElement(r))return te.cloneElement(r,i);var o=s;if(Ut(r)&&(o=r(i),te.isValidElement(o)))return o;var a=Yt("recharts-pie-label-text",typeof r!="boolean"&&!Ut(r)?r.className:"");return te.createElement(dh,hm({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(P.PureComponent);FS=Yc;Oo(Yc,"displayName","Pie");Oo(Yc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Pa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Oo(Yc,"parseDeltaAngle",function(t,e){var n=ts(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Oo(Yc,"getRealPieData",function(t){var e=t.data,n=t.children,r=Pt(t,!1),i=ro(n,KA);return e&&e.length?e.map(function(s,o){return qn(qn(qn({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return qn(qn({},r),s.props)}):[]});Oo(Yc,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=HJ(i,s),a=r+ns(t.cx,i,i/2),l=n+ns(t.cy,s,s/2),c=ns(t.innerRadius,o,0),d=ns(t.outerRadius,o,o*.8),u=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:d,maxRadius:u}});Oo(Yc,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?qn(qn({},e.type.defaultProps),e.props):e.props,i=FS.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,d=r.nameKey,u=r.valueKey,f=r.tooltipType,g=Math.abs(r.minAngle),v=FS.parseCoordinateOfPie(r,n),y=FS.parseDeltaAngle(o,a),m=Math.abs(y),p=c;Xt(c)&&Xt(u)?(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):Xt(c)&&(Ta(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=u);var x=i.filter(function(M){return Rr(M,p,0)!==0}).length,_=(m>=360?x:x-1)*l,b=m-x*g-_,S=i.reduce(function(M,T){var N=Rr(T,p,0);return M+(et(N)?N:0)},0),C;if(S>0){var A;C=i.map(function(M,T){var N=Rr(M,p,0),I=Rr(M,d,T),k=(et(N)?N:0)/S,j;T?j=A.endAngle+ts(y)*l*(N!==0?1:0):j=o;var F=j+ts(y)*((N!==0?g:0)+k*b),z=(j+F)/2,$=(v.innerRadius+v.outerRadius)/2,V=[{name:I,value:N,payload:M,dataKey:p,type:f}],R=Zn(v.cx,v.cy,$,z);return A=qn(qn(qn({percent:k,cornerRadius:s,name:I,tooltipPayload:V,midAngle:z,middleRadius:$,tooltipPosition:R},M),v),{},{value:Rr(M,p),startAngle:j,endAngle:F,payload:M,paddingAngle:ts(y)*l}),A})}return qn(qn({},v),{},{sectors:C,data:i})});var s$e=Math.ceil,o$e=Math.max;function a$e(t,e,n,r){for(var i=-1,s=o$e(s$e((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var l$e=a$e,c$e=AQ,Z8=1/0,u$e=17976931348623157e292;function d$e(t){if(!t)return t===0?t:0;if(t=c$e(t),t===Z8||t===-Z8){var e=t<0?-1:1;return e*u$e}return t===t?t:0}var fee=d$e,f$e=l$e,h$e=qA,QN=fee;function p$e(t){return function(e,n,r){return r&&typeof r!="number"&&h$e(e,n,r)&&(n=r=void 0),e=QN(e),n===void 0?(n=e,e=0):n=QN(n),r=r===void 0?e<n?1:-1:QN(r),f$e(e,n,r,t)}}var m$e=p$e,g$e=m$e,v$e=g$e(),y$e=v$e;const xC=Pn(y$e);function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}function Q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(n),!0).forEach(function(r){hee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hee(t,e,n){return e=x$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x$e(t){var e=_$e(t,"string");return Wx(e)=="symbol"?e:e+""}function _$e(t,e){if(Wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b$e=["Webkit","Moz","O","ms"],w$e=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=b$e.reduce(function(s,o){return J8(J8({},s),{},hee({},o+r,n))},{});return i[e]=n,i};function Mg(t){"@babel/helpers - typeof";return Mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mg(t)}function _C(){return _C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_C.apply(this,arguments)}function eV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(n),!0).forEach(function(r){Vs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function S$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,mee(r.key),r)}}function E$e(t,e,n){return e&&tV(t.prototype,e),n&&tV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C$e(t,e,n){return e=bC(e),M$e(t,pee()?Reflect.construct(e,n||[],bC(t).constructor):e.apply(t,n))}function M$e(t,e){if(e&&(Mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A$e(t)}function A$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pee=function(){return!!t})()}function bC(t){return bC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bC(t)}function T$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tD(t,e)}function tD(t,e){return tD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tD(t,e)}function Vs(t,e,n){return e=mee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mee(t){var e=P$e(t,"string");return Mg(e)=="symbol"?e:e+""}function P$e(t,e){if(Mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N$e=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=A0().domain(xC(0,l)).range([s,s+o-a]),d=c.domain().map(function(u){return c(u)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:d}},nV=function(e){return e.changedTouches&&!!e.changedTouches.length},Ag=function(t){function e(n){var r;return S$e(this,e),r=C$e(this,e,[n]),Vs(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Vs(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Vs(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Vs(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Vs(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Vs(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Vs(r,"handleSlideDragStart",function(i){var s=nV(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return T$e(e,t),E$e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,d=c.length-1,u=Math.min(i,s),f=Math.max(i,s),g=e.getIndexInRange(o,u),v=e.getIndexInRange(o,f);return{startIndex:g-g%l,endIndex:v===d?d:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=Rr(s[r],a,r);return Ut(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,d=l.width,u=l.travellerWidth,f=l.startIndex,g=l.endIndex,v=l.onChange,y=r.pageX-s;y>0?y=Math.min(y,c+d-u-a,c+d-u-o):y<0&&(y=Math.max(y,c-o,c-a));var m=this.getIndex({startX:o+y,endX:a+y});(m.startIndex!==f||m.endIndex!==g)&&v&&v(m),this.setState({startX:o+y,endX:a+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=nV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],d=this.props,u=d.x,f=d.width,g=d.travellerWidth,v=d.onChange,y=d.gap,m=d.data,p={startX:this.state.startX,endX:this.state.endX},x=r.pageX-s;x>0?x=Math.min(x,u+f-g-c):x<0&&(x=Math.max(x,u-c)),p[o]=c+x;var _=this.getIndex(p),b=_.startIndex,S=_.endIndex,C=function(){var M=m.length-1;return o==="startX"&&(a>l?b%y===0:S%y===0)||a<l&&S===M||o==="endX"&&(a>l?S%y===0:b%y===0)||a>l&&S===M};this.setState(Vs(Vs({},o,c+x),"brushMoveStartX",r.pageX),function(){v&&C()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,d=this.state[i],u=a.indexOf(d);if(u!==-1){var f=u+r;if(!(f===-1||f>=a.length)){var g=a[f];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Vs({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return te.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,d=r.padding,u=P.Children.only(c);return u?te.cloneElement(u,{x:i,y:s,width:o,height:a,margin:d,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,d=l.travellerWidth,u=l.height,f=l.traveller,g=l.ariaLabel,v=l.data,y=l.startIndex,m=l.endIndex,p=Math.max(r,this.props.x),x=JN(JN({},Pt(this.props,!1)),{},{x:p,y:c,width:d,height:u}),_=g||"Min value: ".concat((s=v[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[m])===null||o===void 0?void 0:o.name);return te.createElement(ln,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,x))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,d=Math.min(r,i)+c,u=Math.max(Math.abs(i-r)-c,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:d,y:o,width:u,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,d=this.state,u=d.startX,f=d.endX,g=5,v={pointerEvents:"none",fill:c};return te.createElement(ln,{className:"recharts-brush-texts"},te.createElement(dh,_C({textAnchor:"end",verticalAnchor:"middle",x:Math.min(u,f)-g,y:o+a/2},v),this.getTextOfTick(i)),te.createElement(dh,_C({textAnchor:"start",verticalAnchor:"middle",x:Math.max(u,f)+l+g,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,d=r.height,u=r.alwaysShowText,f=this.state,g=f.startX,v=f.endX,y=f.isTextActive,m=f.isSlideMoving,p=f.isTravellerMoving,x=f.isTravellerFocused;if(!i||!i.length||!et(a)||!et(l)||!et(c)||!et(d)||c<=0||d<=0)return null;var _=Yt("recharts-brush",s),b=te.Children.count(o)===1,S=w$e("userSelect","none");return te.createElement(ln,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(y||m||p||x||u)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),te.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return te.isValidElement(r)?s=te.cloneElement(r,i):Ut(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,d=r.startIndex,u=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return JN({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?N$e({data:s,width:o,x:a,travellerWidth:l,startIndex:d,endIndex:u}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var f=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(P.PureComponent);Vs(Ag,"displayName","Brush");Vs(Ag,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var R$e=j3;function O$e(t,e){var n;return R$e(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var I$e=O$e,k$e=eQ,D$e=kl,L$e=I$e,j$e=Rs,F$e=qA;function B$e(t,e,n){var r=j$e(t)?k$e:L$e;return n&&F$e(t,e,n)&&(e=void 0),r(t,D$e(e))}var U$e=B$e;const z$e=Pn(U$e);var yl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},rV=wQ;function $$e(t,e,n){e=="__proto__"&&rV?rV(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var H$e=$$e,V$e=H$e,W$e=_Q,G$e=kl;function X$e(t,e){var n={};return e=G$e(e),W$e(t,function(r,i,s){V$e(n,i,e(r,i,s))}),n}var q$e=X$e;const K$e=Pn(q$e);function Y$e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Z$e=Y$e,Q$e=j3;function J$e(t,e){var n=!0;return Q$e(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var eHe=J$e,tHe=Z$e,nHe=eHe,rHe=kl,iHe=Rs,sHe=qA;function oHe(t,e,n){var r=iHe(t)?tHe:nHe;return n&&sHe(t,e,n)&&(e=void 0),r(t,rHe(e))}var aHe=oHe;const gee=Pn(aHe);var lHe=["x","y"];function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(t)}function nD(){return nD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nD.apply(this,arguments)}function iV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(n),!0).forEach(function(r){cHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cHe(t,e,n){return e=uHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uHe(t){var e=dHe(t,"string");return Gx(e)=="symbol"?e:e+""}function dHe(t,e){if(Gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fHe(t,e){if(t==null)return{};var n=hHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pHe(t,e){var n=t.x,r=t.y,i=fHe(t,lHe),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),d=parseInt(c,10),u="".concat(e.width||i.width),f=parseInt(u,10);return Oy(Oy(Oy(Oy(Oy({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:d,width:f,name:e.name,radius:e.radius})}function sV(t){return te.createElement(cee,nD({shapeType:"rectangle",propTransformer:pHe,activeClassName:"recharts-active-bar"},t))}var mHe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||mh(),n)}},gHe=["value","background"],vee;function Tg(t){"@babel/helpers - typeof";return Tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tg(t)}function vHe(t,e){if(t==null)return{};var n=yHe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yHe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wC(){return wC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wC.apply(this,arguments)}function oV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(n),!0).forEach(function(r){qu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xee(r.key),r)}}function _He(t,e,n){return e&&aV(t.prototype,e),n&&aV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function bHe(t,e,n){return e=SC(e),wHe(t,yee()?Reflect.construct(e,n||[],SC(t).constructor):e.apply(t,n))}function wHe(t,e){if(e&&(Tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SHe(t)}function SHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yee=function(){return!!t})()}function SC(t){return SC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SC(t)}function EHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rD(t,e)}function rD(t,e){return rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rD(t,e)}function qu(t,e,n){return e=xee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xee(t){var e=CHe(t,"string");return Tg(e)=="symbol"?e:e+""}function CHe(t,e){if(Tg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bh=function(t){function e(){var n;xHe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=bHe(this,e,[].concat(i)),qu(n,"state",{isAnimationFinished:!1}),qu(n,"id",Dh("recharts-bar-")),qu(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),qu(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return EHe(e,t),_He(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,d=Pt(this.props,!1);return r&&r.map(function(u,f){var g=f===l,v=g?c:o,y=jr(jr(jr({},d),u),{},{isActive:g,option:v,index:f,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return te.createElement(ln,wC({className:"recharts-bar-rectangle"},uh(i.props,u,f),{key:"rectangle-".concat(u==null?void 0:u.x,"-").concat(u==null?void 0:u.y,"-").concat(u==null?void 0:u.value,"-").concat(f)}),te.createElement(sV,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,d=i.animationEasing,u=i.animationId,f=this.state.prevData;return te.createElement(ka,{begin:l,duration:c,isActive:a,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,y=s.map(function(m,p){var x=f&&f[p];if(x){var _=Kr(x.x,m.x),b=Kr(x.y,m.y),S=Kr(x.width,m.width),C=Kr(x.height,m.height);return jr(jr({},m),{},{x:_(v),y:b(v),width:S(v),height:C(v)})}if(o==="horizontal"){var A=Kr(0,m.height),M=A(v);return jr(jr({},m),{},{y:m.y+m.height-M,height:M})}var T=Kr(0,m.width),N=T(v);return jr(jr({},m),{},{width:N})});return te.createElement(ln,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!hh(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Pt(this.props.background,!1);return s.map(function(c,d){c.value;var u=c.background,f=vHe(c,gHe);if(!u)return null;var g=jr(jr(jr(jr(jr({},f),{},{fill:"#eee"},u),l),uh(r.props,c,d)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return te.createElement(sV,wC({key:"background-bar-".concat(d),option:r.props.background,isActive:d===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,u=ro(d,ib);if(!u)return null;var f=c==="vertical"?o[0].height/2:o[0].width/2,g=function(m,p){var x=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:x,errorVal:Rr(m,p)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(ln,v,u.map(function(y){return te.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:f,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,d=r.top,u=r.width,f=r.height,g=r.isAnimationActive,v=r.background,y=r.id;if(i||!s||!s.length)return null;var m=this.state.isAnimationFinished,p=Yt("recharts-bar",o),x=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,b=x||_,S=Xt(y)?this.id:y;return te.createElement(ln,{className:p},x||_?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(S)},te.createElement("rect",{x:x?c:c-u/2,y:_?d:d-f/2,width:x?u:u*2,height:_?f:f*2}))):null,te.createElement(ln,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,S),(!g||m)&&vl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(P.PureComponent);vee=Bh;qu(Bh,"displayName","Bar");qu(Bh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qu(Bh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,d=t.dataStartIndex,u=t.displayedData,f=t.offset,g=s4e(r,n);if(!g)return null;var v=e.layout,y=n.type.defaultProps,m=y!==void 0?jr(jr({},y),n.props):n.props,p=m.dataKey,x=m.children,_=m.minPointSize,b=v==="horizontal"?o:s,S=c?b.scale.domain():null,C=f4e({numericAxis:b}),A=ro(x,KA),M=u.map(function(T,N){var I,k,j,F,z,$;c?I=o4e(c[d+N],S):(I=Rr(T,p),Array.isArray(I)||(I=[C,I]));var V=mHe(_,vee.defaultProps.minPointSize)(I[1],N);if(v==="horizontal"){var R,L=[o.scale(I[0]),o.scale(I[1])],B=L[0],W=L[1];k=Y6({axis:s,ticks:a,bandSize:i,offset:g.offset,entry:T,index:N}),j=(R=W??B)!==null&&R!==void 0?R:void 0,F=g.size;var G=B-W;if(z=Number.isNaN(G)?0:G,$={x:k,y:o.y,width:F,height:o.height},Math.abs(V)>0&&Math.abs(z)<Math.abs(V)){var Y=ts(z||V)*(Math.abs(V)-Math.abs(z));j-=Y,z+=Y}}else{var ie=[s.scale(I[0]),s.scale(I[1])],ae=ie[0],se=ie[1];if(k=ae,j=Y6({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:T,index:N}),F=se-ae,z=g.size,$={x:s.x,y:j,width:s.width,height:z},Math.abs(V)>0&&Math.abs(F)<Math.abs(V)){var U=ts(F||V)*(Math.abs(V)-Math.abs(F));F+=U}}return jr(jr(jr({},T),{},{x:k,y:j,width:F,height:z,value:c?I:I[1],payload:T,background:$},A&&A[N]&&A[N].props),{},{tooltipPayload:[zJ(n,T)],tooltipPosition:{x:k+F/2,y:j+z/2}})});return jr({data:M,layout:v},f)});function Xx(t){"@babel/helpers - typeof";return Xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xx(t)}function MHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_ee(r.key),r)}}function AHe(t,e,n){return e&&lV(t.prototype,e),n&&lV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ua(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(n),!0).forEach(function(r){fT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fT(t,e,n){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ee(t){var e=THe(t,"string");return Xx(e)=="symbol"?e:e+""}function THe(t,e){if(Xx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fF=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,d=Object.keys(n),u={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},f=!!Xs(c,Bh);return d.reduce(function(g,v){var y=n[v],m=y.orientation,p=y.domain,x=y.padding,_=x===void 0?{}:x,b=y.mirror,S=y.reversed,C="".concat(m).concat(b?"Mirror":""),A,M,T,N,I;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var k=p[1]-p[0],j=1/0,F=y.categoricalDomain.sort();if(F.forEach(function(ie,ae){ae>0&&(j=Math.min((ie||0)-(F[ae-1]||0),j))}),Number.isFinite(j)){var z=j/k,$=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(A=z*$/2),y.padding==="no-gap"){var V=ns(e.barCategoryGap,z*$),R=z*$/2;A=R-V-(R-V)/$*V}}}i==="xAxis"?M=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?M=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:M=y.range,S&&(M=[M[1],M[0]]);var L=jJ(y,s,f),B=L.scale,W=L.realScaleType;B.domain(p).range(M),FJ(B);var G=BJ(B,ua(ua({},y),{},{realScaleType:W}));i==="xAxis"?(I=m==="top"&&!b||m==="bottom"&&b,T=r.left,N=u[C]-I*y.height):i==="yAxis"&&(I=m==="left"&&!b||m==="right"&&b,T=u[C]-I*y.width,N=r.top);var Y=ua(ua(ua({},y),G),{},{realScaleType:W,x:T,y:N,scale:B,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return Y.bandSize=aC(Y,G),!y.hide&&i==="xAxis"?u[C]+=(I?-1:1)*Y.height:y.hide||(u[C]+=(I?-1:1)*Y.width),ua(ua({},g),{},fT({},v,Y))},{})},bee=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},PHe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return bee({x:n,y:r},{x:i,y:s})},wee=function(){function t(e){MHe(this,t),this.scale=e}return AHe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();fT(wee,"EPS",1e-4);var hF=function(e){var n=Object.keys(e).reduce(function(r,i){return ua(ua({},r),{},fT({},i,wee.create(e[i])))},{});return ua(ua({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return K$e(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return gee(i,function(s,o){return n[o].isInRange(s)})}})};function NHe(t){return(t%180+180)%180}var RHe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=NHe(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},OHe=kl,IHe=J_,kHe=GA;function DHe(t){return function(e,n,r){var i=Object(e);if(!IHe(e)){var s=OHe(n);e=kHe(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var LHe=DHe,jHe=fee;function FHe(t){var e=jHe(t),n=e%1;return e===e?n?e-n:e:0}var BHe=FHe,UHe=pQ,zHe=kl,$He=BHe,HHe=Math.max;function VHe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:$He(n);return i<0&&(i=HHe(r+i,0)),UHe(t,zHe(e),i)}var WHe=VHe,GHe=LHe,XHe=WHe,qHe=GHe(XHe),KHe=qHe;const YHe=Pn(KHe);var ZHe=zEe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pF=P.createContext(void 0),mF=P.createContext(void 0),See=P.createContext(void 0),Eee=P.createContext({}),Cee=P.createContext(void 0),Mee=P.createContext(0),Aee=P.createContext(0),uV=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,d=ZHe(s);return te.createElement(pF.Provider,{value:r},te.createElement(mF.Provider,{value:i},te.createElement(Eee.Provider,{value:s},te.createElement(See.Provider,{value:d},te.createElement(Cee.Provider,{value:o},te.createElement(Mee.Provider,{value:c},te.createElement(Aee.Provider,{value:l},a)))))))},QHe=function(){return P.useContext(Cee)},Tee=function(e){var n=P.useContext(pF);n==null&&mh();var r=n[e];return r==null&&mh(),r},JHe=function(){var e=P.useContext(pF);return Iu(e)},e6e=function(){var e=P.useContext(mF),n=YHe(e,function(r){return gee(r.domain,Number.isFinite)});return n||Iu(e)},Pee=function(e){var n=P.useContext(mF);n==null&&mh();var r=n[e];return r==null&&mh(),r},t6e=function(){var e=P.useContext(See);return e},n6e=function(){return P.useContext(Eee)},gF=function(){return P.useContext(Aee)},vF=function(){return P.useContext(Mee)};function Pg(t){"@babel/helpers - typeof";return Pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pg(t)}function r6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ree(r.key),r)}}function s6e(t,e,n){return e&&i6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o6e(t,e,n){return e=EC(e),a6e(t,Nee()?Reflect.construct(e,n||[],EC(t).constructor):e.apply(t,n))}function a6e(t,e){if(e&&(Pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l6e(t)}function l6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nee=function(){return!!t})()}function EC(t){return EC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},EC(t)}function c6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iD(t,e)}function iD(t,e){return iD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iD(t,e)}function dV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dV(Object(n),!0).forEach(function(r){yF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yF(t,e,n){return e=Ree(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ree(t){var e=u6e(t,"string");return Pg(e)=="symbol"?e:e+""}function u6e(t,e){if(Pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d6e(t,e){return m6e(t)||p6e(t,e)||h6e(t,e)||f6e()}function f6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h6e(t,e){if(t){if(typeof t=="string")return hV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hV(t,e)}}function hV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function m6e(t){if(Array.isArray(t))return t}function sD(){return sD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sD.apply(this,arguments)}var g6e=function(e,n){var r;return te.isValidElement(e)?r=te.cloneElement(e,n):Ut(e)?r=e(n):r=te.createElement("line",sD({},n,{className:"recharts-reference-line-line"})),r},v6e=function(e,n,r,i,s,o,a,l,c){var d=s.x,u=s.y,f=s.width,g=s.height;if(r){var v=c.y,y=e.y.apply(v,{position:o});if(yl(c,"discard")&&!e.y.isInRange(y))return null;var m=[{x:d+f,y},{x:d,y}];return l==="left"?m.reverse():m}if(n){var p=c.x,x=e.x.apply(p,{position:o});if(yl(c,"discard")&&!e.x.isInRange(x))return null;var _=[{x,y:u+g},{x,y:u}];return a==="top"?_.reverse():_}if(i){var b=c.segment,S=b.map(function(C){return e.apply(C,{position:o})});return yl(c,"discard")&&z$e(S,function(C){return!e.isInRange(C)})?null:S}return null};function y6e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=QHe(),d=Tee(i),u=Pee(s),f=t6e();if(!c||!f)return null;Ta(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=hF({x:d.scale,y:u.scale}),v=Qr(e),y=Qr(n),m=r&&r.length===2,p=v6e(g,v,y,m,f,t.position,d.orientation,u.orientation,t);if(!p)return null;var x=d6e(p,2),_=x[0],b=_.x,S=_.y,C=x[1],A=C.x,M=C.y,T=yl(t,"hidden")?"url(#".concat(c,")"):void 0,N=fV(fV({clipPath:T},Pt(t,!0)),{},{x1:b,y1:S,x2:A,y2:M});return te.createElement(ln,{className:Yt("recharts-reference-line",a)},g6e(o,N),di.renderCallByParent(t,PHe({x1:b,y1:S,x2:A,y2:M})))}var xF=function(t){function e(){return r6e(this,e),o6e(this,e,arguments)}return c6e(e,t),s6e(e,[{key:"render",value:function(){return te.createElement(y6e,this.props)}}])}(te.Component);yF(xF,"displayName","ReferenceLine");yF(xF,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function oD(){return oD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oD.apply(this,arguments)}function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function pV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pV(Object(n),!0).forEach(function(r){hT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Iee(r.key),r)}}function b6e(t,e,n){return e&&_6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w6e(t,e,n){return e=CC(e),S6e(t,Oee()?Reflect.construct(e,n||[],CC(t).constructor):e.apply(t,n))}function S6e(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E6e(t)}function E6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Oee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Oee=function(){return!!t})()}function CC(t){return CC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CC(t)}function C6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aD(t,e)}function aD(t,e){return aD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aD(t,e)}function hT(t,e,n){return e=Iee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Iee(t){var e=M6e(t,"string");return Ng(e)=="symbol"?e:e+""}function M6e(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A6e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=hF({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return yl(e,"discard")&&!o.isInRange(a)?null:a},pT=function(t){function e(){return x6e(this,e),w6e(this,e,arguments)}return C6e(e,t),b6e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=Qr(i),d=Qr(s);if(Ta(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!d)return null;var u=A6e(this.props);if(!u)return null;var f=u.x,g=u.y,v=this.props,y=v.shape,m=v.className,p=yl(this.props,"hidden")?"url(#".concat(l,")"):void 0,x=mV(mV({clipPath:p},Pt(this.props,!0)),{},{cx:f,cy:g});return te.createElement(ln,{className:Yt("recharts-reference-dot",m)},e.renderDot(y,x),di.renderCallByParent(this.props,{x:f-o,y:g-o,width:2*o,height:2*o}))}}])}(te.Component);hT(pT,"displayName","ReferenceDot");hT(pT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});hT(pT,"renderDot",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):Ut(t)?n=t(e):n=te.createElement(sb,oD({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function lD(){return lD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lD.apply(this,arguments)}function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}function gV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(n),!0).forEach(function(r){mT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P6e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dee(r.key),r)}}function N6e(t,e,n){return e&&P6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R6e(t,e,n){return e=MC(e),O6e(t,kee()?Reflect.construct(e,n||[],MC(t).constructor):e.apply(t,n))}function O6e(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I6e(t)}function I6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kee=function(){return!!t})()}function MC(t){return MC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},MC(t)}function k6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cD(t,e)}function cD(t,e){return cD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cD(t,e)}function mT(t,e,n){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dee(t){var e=D6e(t,"string");return Rg(e)=="symbol"?e:e+""}function D6e(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var L6e=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,d=s.xAxis,u=s.yAxis;if(!d||!u)return null;var f=hF({x:d.scale,y:u.scale}),g={x:e?f.x.apply(o,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},v={x:n?f.x.apply(a,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return yl(s,"discard")&&(!f.isInRange(g)||!f.isInRange(v))?null:bee(g,v)},gT=function(t){function e(){return T6e(this,e),R6e(this,e,arguments)}return k6e(e,t),N6e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,d=r.clipPathId;Ta(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Qr(i),f=Qr(s),g=Qr(o),v=Qr(a),y=this.props.shape;if(!u&&!f&&!g&&!v&&!y)return null;var m=L6e(u,f,g,v,this.props);if(!m&&!y)return null;var p=yl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return te.createElement(ln,{className:Yt("recharts-reference-area",l)},e.renderRect(y,vV(vV({clipPath:p},Pt(this.props,!0)),m)),di.renderCallByParent(this.props,m))}}])}(te.Component);mT(gT,"displayName","ReferenceArea");mT(gT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});mT(gT,"renderRect",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):Ut(t)?n=t(e):n=te.createElement(dF,lD({},e,{className:"recharts-reference-area-rect"})),n});function Lee(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function j6e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return RHe(r,n)}function F6e(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function AC(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function B6e(t,e){return Lee(t,e+1)}function U6e(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,d=o,u=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:Lee(r,c)};var y=l,m,p=function(){return m===void 0&&(m=n(v,y)),m},x=v.coordinate,_=l===0||AC(t,x,p,d,a);_||(l=0,d=o,c+=1),_&&(d=x+t*(p()/2+i),l+=c)},f;c<=s.length;)if(f=u(),f)return f.v;return[]}function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(t)}function yV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Li(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yV(Object(n),!0).forEach(function(r){z6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z6e(t,e,n){return e=$6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $6e(t){var e=H6e(t,"string");return qx(e)=="symbol"?e:e+""}function H6e(t,e){if(qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V6e(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(f){var g=s[f],v,y=function(){return v===void 0&&(v=n(g,f)),v};if(f===o-1){var m=t*(g.coordinate+t*y()/2-l);s[f]=g=Li(Li({},g),{},{tickCoord:m>0?g.coordinate-m*t:g.coordinate})}else s[f]=g=Li(Li({},g),{},{tickCoord:g.coordinate});var p=AC(t,g.tickCoord,y,a,l);p&&(l=g.tickCoord-t*(y()/2+i),s[f]=Li(Li({},g),{},{isShow:!0}))},d=o-1;d>=0;d--)c(d);return s}function W6e(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var d=r[a-1],u=n(d,a-1),f=t*(d.coordinate+t*u/2-c);o[a-1]=d=Li(Li({},d),{},{tickCoord:f>0?d.coordinate-f*t:d.coordinate});var g=AC(t,d.tickCoord,function(){return u},l,c);g&&(c=d.tickCoord-t*(u/2+i),o[a-1]=Li(Li({},d),{},{isShow:!0}))}for(var v=s?a-1:a,y=function(x){var _=o[x],b,S=function(){return b===void 0&&(b=n(_,x)),b};if(x===0){var C=t*(_.coordinate-t*S()/2-l);o[x]=_=Li(Li({},_),{},{tickCoord:C<0?_.coordinate-C*t:_.coordinate})}else o[x]=_=Li(Li({},_),{},{tickCoord:_.coordinate});var A=AC(t,_.tickCoord,S,l,c);A&&(l=_.tickCoord+t*(S()/2+i),o[x]=Li(Li({},_),{},{isShow:!0}))},m=0;m<v;m++)y(m);return o}function _F(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,d=t.unit,u=t.angle;if(!i||!i.length||!r)return[];if(et(l)||Pa.isSsr)return B6e(i,typeof l=="number"&&et(l)?l:0);var f=[],g=a==="top"||a==="bottom"?"width":"height",v=d&&g==="width"?M0(d,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,b){var S=Ut(c)?c(_.value,b):_.value;return g==="width"?j6e(M0(S,{fontSize:e,letterSpacing:n}),v,u):M0(S,{fontSize:e,letterSpacing:n})[g]},m=i.length>=2?ts(i[1].coordinate-i[0].coordinate):1,p=F6e(s,m,g);return l==="equidistantPreserveStart"?U6e(m,p,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?f=W6e(m,p,y,i,o,l==="preserveStartEnd"):f=V6e(m,p,y,i,o),f.filter(function(x){return x.isShow}))}var G6e=["viewBox"],X6e=["viewBox"],q6e=["ticks"];function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function pm(){return pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pm.apply(this,arguments)}function xV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(n),!0).forEach(function(r){bF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eR(t,e){if(t==null)return{};var n=K6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _V(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fee(r.key),r)}}function Z6e(t,e,n){return e&&_V(t.prototype,e),n&&_V(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q6e(t,e,n){return e=TC(e),J6e(t,jee()?Reflect.construct(e,n||[],TC(t).constructor):e.apply(t,n))}function J6e(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e8e(t)}function e8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jee=function(){return!!t})()}function TC(t){return TC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TC(t)}function t8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uD(t,e)}function uD(t,e){return uD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uD(t,e)}function bF(t,e,n){return e=Fee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fee(t){var e=n8e(t,"string");return Og(e)=="symbol"?e:e+""}function n8e(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pv=function(t){function e(n){var r;return Y6e(this,e),r=Q6e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return t8e(e,t),Z6e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=eR(r,G6e),a=this.props,l=a.viewBox,c=eR(a,X6e);return!Dm(s,l)||!Dm(o,c)||!Dm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,d=i.tickSize,u=i.mirror,f=i.tickMargin,g,v,y,m,p,x,_=u?-1:1,b=r.tickSize||d,S=et(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=v=r.coordinate,m=o+ +!u*l,y=m-_*b,x=y-_*f,p=S;break;case"left":y=m=r.coordinate,v=s+ +!u*a,g=v-_*b,p=g-_*f,x=S;break;case"right":y=m=r.coordinate,v=s+ +u*a,g=v+_*b,p=g+_*f,x=S;break;default:g=v=r.coordinate,m=o+ +u*l,y=m+_*b,x=y+_*f,p=S;break}return{line:{x1:g,y1:y,x2:v,y2:m},tick:{x:p,y:x}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,d=r.axisLine,u=Xi(Xi(Xi({},Pt(this.props,!1)),Pt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);u=Xi(Xi({},u),{},{x1:i,y1:s+f*a,x2:i+o,y2:s+f*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);u=Xi(Xi({},u),{},{x1:i+g*o,y1:s,x2:i+g*o,y2:s+a})}return te.createElement("line",pm({},u,{className:Yt("recharts-cartesian-axis-line",no(d,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,d=a.tick,u=a.tickFormatter,f=a.unit,g=_F(Xi(Xi({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),m=Pt(this.props,!1),p=Pt(d,!1),x=Xi(Xi({},m),{},{fill:"none"},Pt(l,!1)),_=g.map(function(b,S){var C=o.getTickLineCoord(b),A=C.line,M=C.tick,T=Xi(Xi(Xi(Xi({textAnchor:v,verticalAnchor:y},m),{},{stroke:"none",fill:c},p),M),{},{index:S,payload:b,visibleTicksCount:g.length,tickFormatter:u});return te.createElement(ln,pm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},uh(o.props,b,S)),l&&te.createElement("line",pm({},x,A,{className:Yt("recharts-cartesian-axis-tick-line",no(l,"className"))})),d&&e.renderTickItem(d,T,"".concat(Ut(u)?u(b.value,S):b.value).concat(f||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,d=i.hide;if(d)return null;var u=this.props,f=u.ticks,g=eR(u,q6e),v=f;return Ut(l)&&(v=f&&f.length>0?l(this.props):l(g)),o<=0||a<=0||!v||!v.length?null:te.createElement(ln,{className:Yt("recharts-cartesian-axis",c),ref:function(m){r.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),di.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return te.isValidElement(r)?o=te.cloneElement(r,i):Ut(r)?o=r(i):o=te.createElement(dh,pm({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(P.Component);bF(Pv,"displayName","CartesianAxis");bF(Pv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var r8e=["x1","y1","x2","y2","key"],i8e=["offset"];function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){s8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function s8e(t,e,n){return e=o8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o8e(t){var e=a8e(t,"string");return vh(e)=="symbol"?e:e+""}function a8e(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nf(){return Nf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nf.apply(this,arguments)}function wV(t,e){if(t==null)return{};var n=l8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function l8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var c8e=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return te.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Bee(t,e){var n;if(te.isValidElement(t))n=te.cloneElement(t,e);else if(Ut(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=wV(e,r8e),c=Pt(l,!1);c.offset;var d=wV(c,i8e);n=te.createElement("line",Nf({},d,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function u8e(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Fi(Fi({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Bee(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function d8e(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Fi(Fi({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Bee(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function f8e(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var d=a.map(function(f){return Math.round(f+i-i)}).sort(function(f,g){return f-g});i!==d[0]&&d.unshift(0);var u=d.map(function(f,g){var v=!d[g+1],y=v?i+o-f:d[g+1]-f;if(y<=0)return null;var m=g%e.length;return te.createElement("rect",{key:"react-".concat(g),y:f,x:r,height:y,width:s,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},u)}function h8e(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var d=c.map(function(f){return Math.round(f+s-s)}).sort(function(f,g){return f-g});s!==d[0]&&d.unshift(0);var u=d.map(function(f,g){var v=!d[g+1],y=v?s+a-f:d[g+1]-f;if(y<=0)return null;var m=g%r.length;return te.createElement("rect",{key:"react-".concat(g),x:f,y:o,width:y,height:l,stroke:"none",fill:r[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},u)}var p8e=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return LJ(_F(Fi(Fi(Fi({},Pv.defaultProps),r),{},{ticks:yc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},m8e=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return LJ(_F(Fi(Fi(Fi({},Pv.defaultProps),r),{},{ticks:yc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},bp={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Ku(t){var e,n,r,i,s,o,a=gF(),l=vF(),c=n6e(),d=Fi(Fi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:bp.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:bp.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:bp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:bp.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:bp.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:bp.verticalFill,x:et(t.x)?t.x:c.left,y:et(t.y)?t.y:c.top,width:et(t.width)?t.width:c.width,height:et(t.height)?t.height:c.height}),u=d.x,f=d.y,g=d.width,v=d.height,y=d.syncWithTicks,m=d.horizontalValues,p=d.verticalValues,x=JHe(),_=e6e();if(!et(g)||g<=0||!et(v)||v<=0||!et(u)||u!==+u||!et(f)||f!==+f)return null;var b=d.verticalCoordinatesGenerator||p8e,S=d.horizontalCoordinatesGenerator||m8e,C=d.horizontalPoints,A=d.verticalPoints;if((!C||!C.length)&&Ut(S)){var M=m&&m.length,T=S({yAxis:_?Fi(Fi({},_),{},{ticks:M?m:_.ticks}):void 0,width:a,height:l,offset:c},M?!0:y);Ta(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(vh(T),"]")),Array.isArray(T)&&(C=T)}if((!A||!A.length)&&Ut(b)){var N=p&&p.length,I=b({xAxis:x?Fi(Fi({},x),{},{ticks:N?p:x.ticks}):void 0,width:a,height:l,offset:c},N?!0:y);Ta(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(vh(I),"]")),Array.isArray(I)&&(A=I)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(c8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),te.createElement(u8e,Nf({},d,{offset:c,horizontalPoints:C,xAxis:x,yAxis:_})),te.createElement(d8e,Nf({},d,{offset:c,verticalPoints:A,xAxis:x,yAxis:_})),te.createElement(f8e,Nf({},d,{horizontalPoints:C})),te.createElement(h8e,Nf({},d,{verticalPoints:A})))}Ku.displayName="CartesianGrid";var g8e=["type","layout","connectNulls","ref"],v8e=["key"];function Ig(t){"@babel/helpers - typeof";return Ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ig(t)}function SV(t,e){if(t==null)return{};var n=y8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){da(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wp(t){return w8e(t)||b8e(t)||_8e(t)||x8e()}function x8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _8e(t,e){if(t){if(typeof t=="string")return dD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dD(t,e)}}function b8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w8e(t){if(Array.isArray(t))return dD(t)}function dD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zee(r.key),r)}}function E8e(t,e,n){return e&&CV(t.prototype,e),n&&CV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function C8e(t,e,n){return e=PC(e),M8e(t,Uee()?Reflect.construct(e,n||[],PC(t).constructor):e.apply(t,n))}function M8e(t,e){if(e&&(Ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return A8e(t)}function A8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Uee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Uee=function(){return!!t})()}function PC(t){return PC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PC(t)}function T8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fD(t,e)}function fD(t,e){return fD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fD(t,e)}function da(t,e,n){return e=zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zee(t){var e=P8e(t,"string");return Ig(e)=="symbol"?e:e+""}function P8e(t,e){if(Ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Do=function(t){function e(){var n;S8e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=C8e(this,e,[].concat(i)),da(n,"state",{isAnimationFinished:!0,totalLength:0}),da(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),da(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(p,x){return p+x});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var d=Math.floor(o/c),u=o%c,f=a-o,g=[],v=0,y=0;v<l.length;y+=l[v],++v)if(y+l[v]>u){g=[].concat(wp(l.slice(0,v)),[u-y]);break}var m=g.length%2===0?[0,f]:[f];return[].concat(wp(e.repeat(l,d)),wp(g),m).map(function(p){return"".concat(p,"px")}).join(", ")}),da(n,"id",Dh("recharts-line-")),da(n,"pathRef",function(o){n.mainCurve=o}),da(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),da(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return T8e(e,t),E8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,d=s.children,u=ro(d,ib);if(!u)return null;var f=function(y,m){return{x:y.x,y:y.y,value:y.value,errorVal:Rr(y.payload,m)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(ln,g,u.map(function(v){return te.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,d=a.dataKey,u=Pt(this.props,!1),f=Pt(l,!0),g=c.map(function(y,m){var p=Hs(Hs(Hs({key:"dot-".concat(m),r:3},u),f),{},{index:m,cx:y.x,cy:y.y,value:y.value,dataKey:d,payload:y.payload,points:c});return e.renderDotItem(l,p)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return te.createElement(ln,O0({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,d=a.connectNulls;a.ref;var u=SV(a,g8e),f=Hs(Hs(Hs({},Pt(u,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:d});return te.createElement(Xf,O0({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,d=o.animationBegin,u=o.animationDuration,f=o.animationEasing,g=o.animationId,v=o.animateNewValues,y=o.width,m=o.height,p=this.state,x=p.prevPoints,_=p.totalLength;return te.createElement(ka,{begin:d,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(x){var C=x.length/a.length,A=a.map(function(k,j){var F=Math.floor(j*C);if(x[F]){var z=x[F],$=Kr(z.x,k.x),V=Kr(z.y,k.y);return Hs(Hs({},k),{},{x:$(S),y:V(S)})}if(v){var R=Kr(y*2,k.x),L=Kr(m/2,k.y);return Hs(Hs({},k),{},{x:R(S),y:L(S)})}return Hs(Hs({},k),{},{x:k.x,y:k.y})});return s.renderCurveStatically(A,r,i)}var M=Kr(0,_),T=M(S),N;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});N=s.getStrokeDasharray(T,_,I)}else N=s.generateSimpleStrokeDasharray(_,T);return s.renderCurveStatically(a,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,d=l.totalLength;return a&&o&&o.length&&(!c&&d>0||!hh(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,d=i.yAxis,u=i.top,f=i.left,g=i.width,v=i.height,y=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,x=a.length===1,_=Yt("recharts-line",l),b=c&&c.allowDataOverflow,S=d&&d.allowDataOverflow,C=b||S,A=Xt(m)?this.id:m,M=(r=Pt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=M.r,N=T===void 0?3:T,I=M.strokeWidth,k=I===void 0?2:I,j=CZ(o)?o:{},F=j.clipDot,z=F===void 0?!0:F,$=N*2+k;return te.createElement(ln,{className:_},b||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(A)},te.createElement("rect",{x:b?f:f-g/2,y:S?u:u-v/2,width:b?g:g*2,height:S?v:v*2})),!z&&te.createElement("clipPath",{id:"clipPath-dots-".concat(A)},te.createElement("rect",{x:f-$/2,y:u-$/2,width:g+$,height:v+$}))):null,!x&&this.renderCurve(C,A),this.renderErrorBar(C,A),(x||o)&&this.renderDots(C,z,A),(!y||p)&&vl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(wp(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(wp(o),wp(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(te.isValidElement(r))s=te.cloneElement(r,i);else if(Ut(r))s=r(i);else{var o=i.key,a=SV(i,v8e),l=Yt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=te.createElement(sb,O0({key:o},a,{className:l}))}return s}}])}(P.PureComponent);da(Do,"displayName","Line");da(Do,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Pa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});da(Do,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,d=e.layout,u=l.map(function(f,g){var v=Rr(f,o);return d==="horizontal"?{x:oC({axis:n,ticks:i,bandSize:a,entry:f,index:g}),y:Xt(v)?null:r.scale(v),value:v,payload:f}:{x:Xt(v)?null:n.scale(v),y:oC({axis:r,ticks:s,bandSize:a,entry:f,index:g}),value:v,payload:f}});return Hs({points:u,layout:d},c)});var N8e=["layout","type","stroke","connectNulls","isRange","ref"],R8e=["key"],$ee;function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function Hee(t,e){if(t==null)return{};var n=O8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function O8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function MV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MV(Object(n),!0).forEach(function(r){ul(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wee(r.key),r)}}function k8e(t,e,n){return e&&AV(t.prototype,e),n&&AV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D8e(t,e,n){return e=NC(e),L8e(t,Vee()?Reflect.construct(e,n||[],NC(t).constructor):e.apply(t,n))}function L8e(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j8e(t)}function j8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vee=function(){return!!t})()}function NC(t){return NC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NC(t)}function F8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hD(t,e)}function hD(t,e){return hD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hD(t,e)}function ul(t,e,n){return e=Wee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wee(t){var e=B8e(t,"string");return kg(e)=="symbol"?e:e+""}function B8e(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zc=function(t){function e(){var n;I8e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=D8e(this,e,[].concat(i)),ul(n,"state",{isAnimationFinished:!0}),ul(n,"id",Dh("recharts-area-")),ul(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Ut(o)&&o()}),ul(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Ut(o)&&o()}),n}return F8e(e,t),k8e(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,c=l.dot,d=l.points,u=l.dataKey,f=Pt(this.props,!1),g=Pt(c,!0),v=d.map(function(m,p){var x=Au(Au(Au({key:"dot-".concat(p),r:3},f),g),{},{index:p,cx:m.x,cy:m.y,dataKey:u,value:m.value,payload:m.payload,points:d});return e.renderDotItem(c,x)}),y={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return te.createElement(ln,Rf({className:"recharts-area-dots"},y),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,d=r*Math.abs(l-c),u=Xu(o.map(function(f){return f.y||0}));return et(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(Xu(s.map(function(f){return f.y||0})),u)),et(u)?te.createElement("rect",{x:l<c?l:l-d,y:0,width:d,height:Math.floor(u+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,d=r*Math.abs(l-c),u=Xu(o.map(function(f){return f.x||0}));return et(s)&&typeof s=="number"?u=Math.max(s,u):s&&Array.isArray(s)&&s.length&&(u=Math.max(Xu(s.map(function(f){return f.x||0})),u)),et(u)?te.createElement("rect",{x:0,y:l<c?l:l-d,width:u+(a?parseInt("".concat(a),10):1),height:Math.floor(d)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,c=a.type,d=a.stroke,u=a.connectNulls,f=a.isRange;a.ref;var g=Hee(a,N8e);return te.createElement(ln,{clipPath:s?"url(#clipPath-".concat(o,")"):null},te.createElement(Xf,Rf({},Pt(g,!0),{points:r,connectNulls:u,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),d!=="none"&&te.createElement(Xf,Rf({},Pt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:r})),d!=="none"&&f&&te.createElement(Xf,Rf({},Pt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:u,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,c=o.isAnimationActive,d=o.animationBegin,u=o.animationDuration,f=o.animationEasing,g=o.animationId,v=this.state,y=v.prevPoints,m=v.prevBaseLine;return te.createElement(ka,{begin:d,duration:u,isActive:c,easing:f,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var x=p.t;if(y){var _=y.length/a.length,b=a.map(function(M,T){var N=Math.floor(T*_);if(y[N]){var I=y[N],k=Kr(I.x,M.x),j=Kr(I.y,M.y);return Au(Au({},M),{},{x:k(x),y:j(x)})}return M}),S;if(et(l)&&typeof l=="number"){var C=Kr(m,l);S=C(x)}else if(Xt(l)||Sv(l)){var A=Kr(m,0);S=A(x)}else S=l.map(function(M,T){var N=Math.floor(T*_);if(m[N]){var I=m[N],k=Kr(I.x,M.x),j=Kr(I.y,M.y);return Au(Au({},M),{},{x:k(x),y:j(x)})}return M});return s.renderAreaStatically(b,S,r,i)}return te.createElement(ln,null,te.createElement("defs",null,te.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(x))),te.createElement(ln,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,c=this.state,d=c.prevPoints,u=c.prevBaseLine,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!hh(d,o)||!hh(u,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.top,d=i.left,u=i.xAxis,f=i.yAxis,g=i.width,v=i.height,y=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,x=a.length===1,_=Yt("recharts-area",l),b=u&&u.allowDataOverflow,S=f&&f.allowDataOverflow,C=b||S,A=Xt(m)?this.id:m,M=(r=Pt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},T=M.r,N=T===void 0?3:T,I=M.strokeWidth,k=I===void 0?2:I,j=CZ(o)?o:{},F=j.clipDot,z=F===void 0?!0:F,$=N*2+k;return te.createElement(ln,{className:_},b||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(A)},te.createElement("rect",{x:b?d:d-g/2,y:S?c:c-v/2,width:b?g:g*2,height:S?v:v*2})),!z&&te.createElement("clipPath",{id:"clipPath-dots-".concat(A)},te.createElement("rect",{x:d-$/2,y:c-$/2,width:g+$,height:v+$}))):null,x?null:this.renderArea(C,A),(o||x)&&this.renderDots(C,z,A),(!y||p)&&vl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(P.PureComponent);$ee=Zc;ul(Zc,"displayName","Area");ul(Zc,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Pa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});ul(Zc,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,a=o??s;if(et(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var d=Math.max(c[0],c[1]),u=Math.min(c[0],c[1]);return a==="dataMin"?u:a==="dataMax"||d<0?d:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});ul(Zc,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,a=t.bandSize,l=t.dataKey,c=t.stackedData,d=t.dataStartIndex,u=t.displayedData,f=t.offset,g=e.layout,v=c&&c.length,y=$ee.getBaseValue(e,n,r,i),m=g==="horizontal",p=!1,x=u.map(function(b,S){var C;v?C=c[d+S]:(C=Rr(b,l),Array.isArray(C)?p=!0:C=[y,C]);var A=C[1]==null||v&&Rr(b,l)==null;return m?{x:oC({axis:r,ticks:s,bandSize:a,entry:b,index:S}),y:A?null:i.scale(C[1]),value:C,payload:b}:{x:A?null:r.scale(C[1]),y:oC({axis:i,ticks:o,bandSize:a,entry:b,index:S}),value:C,payload:b}}),_;return v||p?_=x.map(function(b){var S=Array.isArray(b.value)?b.value[0]:null;return m?{x:b.x,y:S!=null&&b.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:b.y}}):_=m?i.scale(y):r.scale(y),Au({points:x,baseLine:_,layout:g,isRange:p},f)});ul(Zc,"renderDotItem",function(t,e){var n;if(te.isValidElement(t))n=te.cloneElement(t,e);else if(Ut(t))n=t(e);else{var r=Yt("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Hee(e,R8e);n=te.createElement(sb,Rf({},s,{key:i,className:r}))}return n});function Dg(t){"@babel/helpers - typeof";return Dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dg(t)}function U8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qee(r.key),r)}}function $8e(t,e,n){return e&&z8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function H8e(t,e,n){return e=RC(e),V8e(t,Gee()?Reflect.construct(e,n||[],RC(t).constructor):e.apply(t,n))}function V8e(t,e){if(e&&(Dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W8e(t)}function W8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gee=function(){return!!t})()}function RC(t){return RC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RC(t)}function G8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pD(t,e)}function pD(t,e){return pD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pD(t,e)}function Xee(t,e,n){return e=qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=X8e(t,"string");return Dg(e)=="symbol"?e:e+""}function X8e(t,e){if(Dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mD(){return mD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mD.apply(this,arguments)}function q8e(t){var e=t.xAxisId,n=gF(),r=vF(),i=Tee(e);return i==null?null:te.createElement(Pv,mD({},i,{className:Yt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return yc(o,!0)}}))}var Qs=function(t){function e(){return U8e(this,e),H8e(this,e,arguments)}return G8e(e,t),$8e(e,[{key:"render",value:function(){return te.createElement(q8e,this.props)}}])}(te.Component);Xee(Qs,"displayName","XAxis");Xee(Qs,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function K8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zee(r.key),r)}}function Z8e(t,e,n){return e&&Y8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q8e(t,e,n){return e=OC(e),J8e(t,Kee()?Reflect.construct(e,n||[],OC(t).constructor):e.apply(t,n))}function J8e(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eVe(t)}function eVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kee=function(){return!!t})()}function OC(t){return OC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OC(t)}function tVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gD(t,e)}function gD(t,e){return gD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gD(t,e)}function Yee(t,e,n){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=nVe(t,"string");return Lg(e)=="symbol"?e:e+""}function nVe(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vD(){return vD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vD.apply(this,arguments)}var rVe=function(e){var n=e.yAxisId,r=gF(),i=vF(),s=Pee(n);return s==null?null:te.createElement(Pv,vD({},s,{className:Yt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return yc(a,!0)}}))},Js=function(t){function e(){return K8e(this,e),Q8e(this,e,arguments)}return tVe(e,t),Z8e(e,[{key:"render",value:function(){return te.createElement(rVe,this.props)}}])}(te.Component);Yee(Js,"displayName","YAxis");Yee(Js,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TV(t){return aVe(t)||oVe(t)||sVe(t)||iVe()}function iVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sVe(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function oVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aVe(t){if(Array.isArray(t))return yD(t)}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xD=function(e,n,r,i,s){var o=ro(e,xF),a=ro(e,pT),l=[].concat(TV(o),TV(a)),c=ro(e,gT),d="".concat(i,"Id"),u=i[0],f=n;if(l.length&&(f=l.reduce(function(y,m){if(m.props[d]===r&&yl(m.props,"extendDomain")&&et(m.props[u])){var p=m.props[u];return[Math.min(y[0],p),Math.max(y[1],p)]}return y},f)),c.length){var g="".concat(u,"1"),v="".concat(u,"2");f=c.reduce(function(y,m){if(m.props[d]===r&&yl(m.props,"extendDomain")&&et(m.props[g])&&et(m.props[v])){var p=m.props[g],x=m.props[v];return[Math.min(y[0],p,x),Math.max(y[1],p,x)]}return y},f)}return s&&s.length&&(f=s.reduce(function(y,m){return et(m)?[Math.min(y[0],m),Math.max(y[1],m)]:y},f)),f},Qee={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,d){this.fn=l,this.context=c,this.once=d||!1}function s(l,c,d,u,f){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,u||l,f),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,u;if(this._eventsCount===0)return c;for(u in d=this._events)e.call(d,u)&&c.push(n?u.slice(1):u);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=n?n+c:c,u=this._events[d];if(!u)return[];if(u.fn)return[u.fn];for(var f=0,g=u.length,v=new Array(g);f<g;f++)v[f]=u[f].fn;return v},a.prototype.listenerCount=function(c){var d=n?n+c:c,u=this._events[d];return u?u.fn?1:u.length:0},a.prototype.emit=function(c,d,u,f,g,v){var y=n?n+c:c;if(!this._events[y])return!1;var m=this._events[y],p=arguments.length,x,_;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,u),!0;case 4:return m.fn.call(m.context,d,u,f),!0;case 5:return m.fn.call(m.context,d,u,f,g),!0;case 6:return m.fn.call(m.context,d,u,f,g,v),!0}for(_=1,x=new Array(p-1);_<p;_++)x[_-1]=arguments[_];m.fn.apply(m.context,x)}else{var b=m.length,S;for(_=0;_<b;_++)switch(m[_].once&&this.removeListener(c,m[_].fn,void 0,!0),p){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,d);break;case 3:m[_].fn.call(m[_].context,d,u);break;case 4:m[_].fn.call(m[_].context,d,u,f);break;default:if(!x)for(S=1,x=new Array(p-1);S<p;S++)x[S-1]=arguments[S];m[_].fn.apply(m[_].context,x)}}return!0},a.prototype.on=function(c,d,u){return s(this,c,d,u,!1)},a.prototype.once=function(c,d,u){return s(this,c,d,u,!0)},a.prototype.removeListener=function(c,d,u,f){var g=n?n+c:c;if(!this._events[g])return this;if(!d)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===d&&(!f||v.once)&&(!u||v.context===u)&&o(this,g);else{for(var y=0,m=[],p=v.length;y<p;y++)(v[y].fn!==d||f&&!v[y].once||u&&v[y].context!==u)&&m.push(v[y]);m.length?this._events[g]=m.length===1?m[0]:m:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=n?n+c:c,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Qee);var lVe=Qee.exports;const cVe=Pn(lVe);var tR=new cVe,nR="recharts.syncMouseEvents";function Kx(t){"@babel/helpers - typeof";return Kx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kx(t)}function uVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jee(r.key),r)}}function fVe(t,e,n){return e&&dVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function rR(t,e,n){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jee(t){var e=hVe(t,"string");return Kx(e)=="symbol"?e:e+""}function hVe(t,e){if(Kx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Kx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pVe=function(){function t(){uVe(this,t),rR(this,"activeIndex",0),rR(this,"coordinateList",[]),rR(this,"layout","horizontal")}return fVe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,d=n.offset,u=d===void 0?null:d,f=n.mouseHandlerCallback,g=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=u??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,d=((r=window)===null||r===void 0?void 0:r.scrollY)||0,u=s+l+c,f=o+this.offset.top+a/2+d;this.mouseHandlerCallback({pageX:u,pageY:f})}}}])}();function mVe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&et(r)&&et(i))return!0}return!1}function gVe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function ete(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Zn(e,n,r,i),a=Zn(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function vVe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,d=e.outerRadius,u=e.angle,f=Zn(a,l,c,u),g=Zn(a,l,d,u);r=f.x,i=f.y,s=g.x,o=g.y}else return ete(e);return[{x:r,y:i},{x:s,y:o}]}function Yx(t){"@babel/helpers - typeof";return Yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yx(t)}function PV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function h1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(n),!0).forEach(function(r){yVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yVe(t,e,n){return e=xVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xVe(t){var e=_Ve(t,"string");return Yx(e)=="symbol"?e:e+""}function _Ve(t,e){if(Yx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bVe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,d=t.tooltipAxisBandSize,u=t.layout,f=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!o||f!=="ScatterChart"&&i!=="axis")return null;var v,y=Xf;if(f==="ScatterChart")v=o,y=PUe;else if(f==="BarChart")v=gVe(u,o,l,d),y=dF;else if(u==="radial"){var m=ete(o),p=m.cx,x=m.cy,_=m.radius,b=m.startAngle,S=m.endAngle;v={cx:p,cy:x,startAngle:b,endAngle:S,innerRadius:_,outerRadius:_},y=XJ}else v={points:vVe(u,o,l)},y=Xf;var C=h1(h1(h1(h1({stroke:"#ccc",pointerEvents:"none"},l),v),Pt(g,!1)),{},{payload:a,payloadIndex:c,className:Yt("recharts-tooltip-cursor",g.className)});return P.isValidElement(g)?P.cloneElement(g,C):P.createElement(y,C)}var wVe=["item"],SVe=["children","className","width","height","style","compact","title","desc"];function jg(t){"@babel/helpers - typeof";return jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jg(t)}function mm(){return mm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mm.apply(this,arguments)}function NV(t,e){return MVe(t)||CVe(t,e)||nte(t,e)||EVe()}function EVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(d){c=!0,i=d}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function MVe(t){if(Array.isArray(t))return t}function RV(t,e){if(t==null)return{};var n=AVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rte(r.key),r)}}function NVe(t,e,n){return e&&PVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RVe(t,e,n){return e=IC(e),OVe(t,tte()?Reflect.construct(e,n||[],IC(t).constructor):e.apply(t,n))}function OVe(t,e){if(e&&(jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IVe(t)}function IVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tte=function(){return!!t})()}function IC(t){return IC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IC(t)}function kVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_D(t,e)}function _D(t,e){return _D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_D(t,e)}function Fg(t){return jVe(t)||LVe(t)||nte(t)||DVe()}function DVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nte(t,e){if(t){if(typeof t=="string")return bD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bD(t,e)}}function LVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jVe(t){if(Array.isArray(t))return bD(t)}function bD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function OV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OV(Object(n),!0).forEach(function(r){Bt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bt(t,e,n){return e=rte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rte(t){var e=FVe(t,"string");return jg(e)=="symbol"?e:e+""}function FVe(t,e){if(jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BVe={xAxis:["bottom","top"],yAxis:["left","right"]},UVe={width:"100%",height:"100%"},ite={x:0,y:0};function p1(t){return t}var zVe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$Ve=function(e,n,r,i){var s=n.find(function(d){return d&&d.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Fe(Fe(Fe({},i),Zn(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return Fe(Fe(Fe({},i),Zn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return ite},vT=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(Fg(a),Fg(c)):a},[]);return o.length>0?o:e&&e.length&&et(i)&&et(s)?e.slice(i,s+1):[]};function ste(t){return t==="number"?[0,"auto"]:void 0}var wD=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=vT(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var d,u=(d=c.props.data)!==null&&d!==void 0?d:n;u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(o.dataKey&&!o.allowDuplicatedCategory){var g=u===void 0?a:u;f=OE(g,o.dataKey,i)}else f=u&&u[r]||a[r];return f?[].concat(Fg(l),[zJ(c,f)]):l},[])},IV=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=zVe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,d=JFe(o,a,c,l);if(d>=0&&c){var u=c[d]&&c[d].value,f=wD(e,n,d,u),g=$Ve(r,a,d,s);return{activeTooltipIndex:d,activeLabel:u,activePayload:f,activeCoordinate:g}}return null},HVe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,u=e.children,f=e.stackOffset,g=DJ(d,s);return r.reduce(function(v,y){var m,p=y.type.defaultProps!==void 0?Fe(Fe({},y.type.defaultProps),y.props):y.props,x=p.type,_=p.dataKey,b=p.allowDataOverflow,S=p.allowDuplicatedCategory,C=p.scale,A=p.ticks,M=p.includeHidden,T=p[o];if(v[T])return v;var N=vT(e.data,{graphicalItems:i.filter(function(G){var Y,ie=o in G.props?G.props[o]:(Y=G.type.defaultProps)===null||Y===void 0?void 0:Y[o];return ie===T}),dataStartIndex:l,dataEndIndex:c}),I=N.length,k,j,F;mVe(p.domain,b,x)&&(k=Dk(p.domain,null,b),g&&(x==="number"||C!=="auto")&&(F=T0(N,_,"category")));var z=ste(x);if(!k||k.length===0){var $,V=($=p.domain)!==null&&$!==void 0?$:z;if(_){if(k=T0(N,_,x),x==="category"&&g){var R=FCe(k);S&&R?(j=k,k=xC(0,I)):S||(k=J6(V,k,y).reduce(function(G,Y){return G.indexOf(Y)>=0?G:[].concat(Fg(G),[Y])},[]))}else if(x==="category")S?k=k.filter(function(G){return G!==""&&!Xt(G)}):k=J6(V,k,y).reduce(function(G,Y){return G.indexOf(Y)>=0||Y===""||Xt(Y)?G:[].concat(Fg(G),[Y])},[]);else if(x==="number"){var L=i4e(N,i.filter(function(G){var Y,ie,ae=o in G.props?G.props[o]:(Y=G.type.defaultProps)===null||Y===void 0?void 0:Y[o],se="hide"in G.props?G.props.hide:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return ae===T&&(M||!se)}),_,s,d);L&&(k=L)}g&&(x==="number"||C!=="auto")&&(F=T0(N,_,"category"))}else g?k=xC(0,I):a&&a[T]&&a[T].hasStack&&x==="number"?k=f==="expand"?[0,1]:UJ(a[T].stackGroups,l,c):k=kJ(N,i.filter(function(G){var Y=o in G.props?G.props[o]:G.type.defaultProps[o],ie="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return Y===T&&(M||!ie)}),x,d,!0);if(x==="number")k=xD(u,k,T,s,A),V&&(k=Dk(V,k,b));else if(x==="category"&&V){var B=V,W=k.every(function(G){return B.indexOf(G)>=0});W&&(k=B)}}return Fe(Fe({},v),{},Bt({},T,Fe(Fe({},p),{},{axisType:s,domain:k,categoricalDomain:F,duplicateDomain:j,originalDomain:(m=p.domain)!==null&&m!==void 0?m:z,isCategorical:g,layout:d})))},{})},VVe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.layout,u=e.children,f=vT(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=f.length,v=DJ(d,s),y=-1;return r.reduce(function(m,p){var x=p.type.defaultProps!==void 0?Fe(Fe({},p.type.defaultProps),p.props):p.props,_=x[o],b=ste("number");if(!m[_]){y++;var S;return v?S=xC(0,g):a&&a[_]&&a[_].hasStack?(S=UJ(a[_].stackGroups,l,c),S=xD(u,S,_,s)):(S=Dk(b,kJ(f,r.filter(function(C){var A,M,T=o in C.props?C.props[o]:(A=C.type.defaultProps)===null||A===void 0?void 0:A[o],N="hide"in C.props?C.props.hide:(M=C.type.defaultProps)===null||M===void 0?void 0:M.hide;return T===_&&!N}),"number",d),i.defaultProps.allowDataOverflow),S=xD(u,S,_,s)),Fe(Fe({},m),{},Bt({},_,Fe(Fe({axisType:s},i.defaultProps),{},{hide:!0,orientation:no(BVe,"".concat(s,".").concat(y%2),null),domain:S,originalDomain:b,isCategorical:v,layout:d})))}return m},{})},WVe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,d=e.children,u="".concat(i,"Id"),f=ro(d,s),g={};return f&&f.length?g=HVe(e,{axes:f,graphicalItems:o,axisType:i,axisIdKey:u,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=VVe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:u,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),g},GVe=function(e){var n=Iu(e),r=yc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:F3(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:aC(n,r)}},kV=function(e){var n=e.children,r=e.defaultShowTooltip,i=Xs(n,Ag),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},XVe=function(e){return!e||!e.length?!1:e.some(function(n){var r=wc(n&&n.type);return r&&r.indexOf("Bar")>=0})},DV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},qVe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,d=r.height,u=r.children,f=r.margin||{},g=Xs(u,Ag),v=Xs(u,Vf),y=Object.keys(l).reduce(function(S,C){var A=l[C],M=A.orientation;return!A.mirror&&!A.hide?Fe(Fe({},S),{},Bt({},M,S[M]+A.width)):S},{left:f.left||0,right:f.right||0}),m=Object.keys(o).reduce(function(S,C){var A=o[C],M=A.orientation;return!A.mirror&&!A.hide?Fe(Fe({},S),{},Bt({},M,no(S,"".concat(M))+A.height)):S},{top:f.top||0,bottom:f.bottom||0}),p=Fe(Fe({},m),y),x=p.bottom;g&&(p.bottom+=g.props.height||Ag.defaultProps.height),v&&n&&(p=n4e(p,i,r,n));var _=c-p.left-p.right,b=d-p.top-p.bottom;return Fe(Fe({brushBottom:x},p),{},{width:Math.max(_,0),height:Math.max(b,0)})},KVe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},yT=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,d=e.formatAxisMap,u=e.defaultProps,f=function(p,x){var _=x.graphicalItems,b=x.stackGroups,S=x.offset,C=x.updateId,A=x.dataStartIndex,M=x.dataEndIndex,T=p.barSize,N=p.layout,I=p.barGap,k=p.barCategoryGap,j=p.maxBarSize,F=DV(N),z=F.numericAxisName,$=F.cateAxisName,V=XVe(_),R=[];return _.forEach(function(L,B){var W=vT(p.data,{graphicalItems:[L],dataStartIndex:A,dataEndIndex:M}),G=L.type.defaultProps!==void 0?Fe(Fe({},L.type.defaultProps),L.props):L.props,Y=G.dataKey,ie=G.maxBarSize,ae=G["".concat(z,"Id")],se=G["".concat($,"Id")],U={},K=l.reduce(function(nt,Je){var re=x["".concat(Je.axisType,"Map")],Z=G["".concat(Je.axisType,"Id")];re&&re[Z]||Je.axisType==="zAxis"||mh();var ve=re[Z];return Fe(Fe({},nt),{},Bt(Bt({},Je.axisType,ve),"".concat(Je.axisType,"Ticks"),yc(ve)))},U),Q=K[$],ee=K["".concat($,"Ticks")],ue=b&&b[ae]&&b[ae].hasStack&&h4e(L,b[ae].stackGroups),J=wc(L.type).indexOf("Bar")>=0,q=aC(Q,ee),ne=[],fe=V&&e4e({barSize:T,stackGroups:b,totalSize:KVe(K,$)});if(J){var me,pe,Ae=Xt(ie)?j:ie,Ce=(me=(pe=aC(Q,ee,!0))!==null&&pe!==void 0?pe:Ae)!==null&&me!==void 0?me:0;ne=t4e({barGap:I,barCategoryGap:k,bandSize:Ce!==q?Ce:q,sizeList:fe[se],maxBarSize:Ae}),Ce!==q&&(ne=ne.map(function(nt){return Fe(Fe({},nt),{},{position:Fe(Fe({},nt.position),{},{offset:nt.position.offset-Ce/2})})}))}var ke=L&&L.type&&L.type.getComposedData;ke&&R.push({props:Fe(Fe({},ke(Fe(Fe({},K),{},{displayedData:W,props:p,dataKey:Y,item:L,bandSize:q,barPosition:ne,offset:S,stackedData:ue,layout:N,dataStartIndex:A,dataEndIndex:M}))),{},Bt(Bt(Bt({key:L.key||"item-".concat(B)},z,K[z]),$,K[$]),"animationId",C)),childIndex:KCe(L,p.children),item:L})}),R},g=function(p,x){var _=p.props,b=p.dataStartIndex,S=p.dataEndIndex,C=p.updateId;if(!G$({props:_}))return null;var A=_.children,M=_.layout,T=_.stackOffset,N=_.data,I=_.reverseStackOrder,k=DV(M),j=k.numericAxisName,F=k.cateAxisName,z=ro(A,r),$=d4e(N,z,"".concat(j,"Id"),"".concat(F,"Id"),T,I),V=l.reduce(function(G,Y){var ie="".concat(Y.axisType,"Map");return Fe(Fe({},G),{},Bt({},ie,WVe(_,Fe(Fe({},Y),{},{graphicalItems:z,stackGroups:Y.axisType===j&&$,dataStartIndex:b,dataEndIndex:S}))))},{}),R=qVe(Fe(Fe({},V),{},{props:_,graphicalItems:z}),x==null?void 0:x.legendBBox);Object.keys(V).forEach(function(G){V[G]=d(_,V[G],R,G.replace("Map",""),n)});var L=V["".concat(F,"Map")],B=GVe(L),W=f(_,Fe(Fe({},V),{},{dataStartIndex:b,dataEndIndex:S,updateId:C,graphicalItems:z,stackGroups:$,offset:R}));return Fe(Fe({formattedGraphicalItems:W,graphicalItems:z,offset:R,stackGroups:$},B),V)},v=function(m){function p(x){var _,b,S;return TVe(this,p),S=RVe(this,p,[x]),Bt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Bt(S,"accessibilityManager",new pVe),Bt(S,"handleLegendBBoxUpdate",function(C){if(C){var A=S.state,M=A.dataStartIndex,T=A.dataEndIndex,N=A.updateId;S.setState(Fe({legendBBox:C},g({props:S.props,dataStartIndex:M,dataEndIndex:T,updateId:N},Fe(Fe({},S.state),{},{legendBBox:C}))))}}),Bt(S,"handleReceiveSyncEvent",function(C,A,M){if(S.props.syncId===C){if(M===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(A)}}),Bt(S,"handleBrushChange",function(C){var A=C.startIndex,M=C.endIndex;if(A!==S.state.dataStartIndex||M!==S.state.dataEndIndex){var T=S.state.updateId;S.setState(function(){return Fe({dataStartIndex:A,dataEndIndex:M},g({props:S.props,dataStartIndex:A,dataEndIndex:M,updateId:T},S.state))}),S.triggerSyncEvent({dataStartIndex:A,dataEndIndex:M})}}),Bt(S,"handleMouseEnter",function(C){var A=S.getMouseInfo(C);if(A){var M=Fe(Fe({},A),{},{isTooltipActive:!0});S.setState(M),S.triggerSyncEvent(M);var T=S.props.onMouseEnter;Ut(T)&&T(M,C)}}),Bt(S,"triggeredAfterMouseMove",function(C){var A=S.getMouseInfo(C),M=A?Fe(Fe({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(M),S.triggerSyncEvent(M);var T=S.props.onMouseMove;Ut(T)&&T(M,C)}),Bt(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Bt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Bt(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),Bt(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};S.setState(A),S.triggerSyncEvent(A);var M=S.props.onMouseLeave;Ut(M)&&M(A,C)}),Bt(S,"handleOuterEvent",function(C){var A=qCe(C),M=no(S.props,"".concat(A));if(A&&Ut(M)){var T,N;/.*touch.*/i.test(A)?N=S.getMouseInfo(C.changedTouches[0]):N=S.getMouseInfo(C),M((T=N)!==null&&T!==void 0?T:{},C)}}),Bt(S,"handleClick",function(C){var A=S.getMouseInfo(C);if(A){var M=Fe(Fe({},A),{},{isTooltipActive:!0});S.setState(M),S.triggerSyncEvent(M);var T=S.props.onClick;Ut(T)&&T(M,C)}}),Bt(S,"handleMouseDown",function(C){var A=S.props.onMouseDown;if(Ut(A)){var M=S.getMouseInfo(C);A(M,C)}}),Bt(S,"handleMouseUp",function(C){var A=S.props.onMouseUp;if(Ut(A)){var M=S.getMouseInfo(C);A(M,C)}}),Bt(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Bt(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),Bt(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),Bt(S,"handleDoubleClick",function(C){var A=S.props.onDoubleClick;if(Ut(A)){var M=S.getMouseInfo(C);A(M,C)}}),Bt(S,"handleContextMenu",function(C){var A=S.props.onContextMenu;if(Ut(A)){var M=S.getMouseInfo(C);A(M,C)}}),Bt(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&tR.emit(nR,S.props.syncId,C,S.eventEmitterSymbol)}),Bt(S,"applySyncEvent",function(C){var A=S.props,M=A.layout,T=A.syncMethod,N=S.state.updateId,I=C.dataStartIndex,k=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(Fe({dataStartIndex:I,dataEndIndex:k},g({props:S.props,dataStartIndex:I,dataEndIndex:k,updateId:N},S.state)));else if(C.activeTooltipIndex!==void 0){var j=C.chartX,F=C.chartY,z=C.activeTooltipIndex,$=S.state,V=$.offset,R=$.tooltipTicks;if(!V)return;if(typeof T=="function")z=T(R,C);else if(T==="value"){z=-1;for(var L=0;L<R.length;L++)if(R[L].value===C.activeLabel){z=L;break}}var B=Fe(Fe({},V),{},{x:V.left,y:V.top}),W=Math.min(j,B.x+B.width),G=Math.min(F,B.y+B.height),Y=R[z]&&R[z].value,ie=wD(S.state,S.props.data,z),ae=R[z]?{x:M==="horizontal"?R[z].coordinate:W,y:M==="horizontal"?G:R[z].coordinate}:ite;S.setState(Fe(Fe({},C),{},{activeLabel:Y,activeCoordinate:ae,activePayload:ie,activeTooltipIndex:z}))}else S.setState(C)}),Bt(S,"renderCursor",function(C){var A,M=S.state,T=M.isTooltipActive,N=M.activeCoordinate,I=M.activePayload,k=M.offset,j=M.activeTooltipIndex,F=M.tooltipAxisBandSize,z=S.getTooltipEventType(),$=(A=C.props.active)!==null&&A!==void 0?A:T,V=S.props.layout,R=C.key||"_recharts-cursor";return te.createElement(bVe,{key:R,activeCoordinate:N,activePayload:I,activeTooltipIndex:j,chartName:n,element:C,isActive:$,layout:V,offset:k,tooltipAxisBandSize:F,tooltipEventType:z})}),Bt(S,"renderPolarAxis",function(C,A,M){var T=no(C,"type.axisType"),N=no(S.state,"".concat(T,"Map")),I=C.type.defaultProps,k=I!==void 0?Fe(Fe({},I),C.props):C.props,j=N&&N[k["".concat(T,"Id")]];return P.cloneElement(C,Fe(Fe({},j),{},{className:Yt(T,j.className),key:C.key||"".concat(A,"-").concat(M),ticks:yc(j,!0)}))}),Bt(S,"renderPolarGrid",function(C){var A=C.props,M=A.radialLines,T=A.polarAngles,N=A.polarRadius,I=S.state,k=I.radiusAxisMap,j=I.angleAxisMap,F=Iu(k),z=Iu(j),$=z.cx,V=z.cy,R=z.innerRadius,L=z.outerRadius;return P.cloneElement(C,{polarAngles:Array.isArray(T)?T:yc(z,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(N)?N:yc(F,!0).map(function(B){return B.coordinate}),cx:$,cy:V,innerRadius:R,outerRadius:L,key:C.key||"polar-grid",radialLines:M})}),Bt(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,A=S.props,M=A.children,T=A.width,N=A.height,I=S.props.margin||{},k=T-(I.left||0)-(I.right||0),j=OJ({children:M,formattedGraphicalItems:C,legendWidth:k,legendContent:c});if(!j)return null;var F=j.item,z=RV(j,wVe);return P.cloneElement(F,Fe(Fe({},z),{},{chartWidth:T,chartHeight:N,margin:I,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Bt(S,"renderTooltip",function(){var C,A=S.props,M=A.children,T=A.accessibilityLayer,N=Xs(M,ui);if(!N)return null;var I=S.state,k=I.isTooltipActive,j=I.activeCoordinate,F=I.activePayload,z=I.activeLabel,$=I.offset,V=(C=N.props.active)!==null&&C!==void 0?C:k;return P.cloneElement(N,{viewBox:Fe(Fe({},$),{},{x:$.left,y:$.top}),active:V,label:z,payload:V?F:[],coordinate:j,accessibilityLayer:T})}),Bt(S,"renderBrush",function(C){var A=S.props,M=A.margin,T=A.data,N=S.state,I=N.offset,k=N.dataStartIndex,j=N.dataEndIndex,F=N.updateId;return P.cloneElement(C,{key:C.key||"_recharts-brush",onChange:c1(S.handleBrushChange,C.props.onChange),data:T,x:et(C.props.x)?C.props.x:I.left,y:et(C.props.y)?C.props.y:I.top+I.height+I.brushBottom-(M.bottom||0),width:et(C.props.width)?C.props.width:I.width,startIndex:k,endIndex:j,updateId:"brush-".concat(F)})}),Bt(S,"renderReferenceElement",function(C,A,M){if(!C)return null;var T=S,N=T.clipPathId,I=S.state,k=I.xAxisMap,j=I.yAxisMap,F=I.offset,z=C.type.defaultProps||{},$=C.props,V=$.xAxisId,R=V===void 0?z.xAxisId:V,L=$.yAxisId,B=L===void 0?z.yAxisId:L;return P.cloneElement(C,{key:C.key||"".concat(A,"-").concat(M),xAxis:k[R],yAxis:j[B],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),Bt(S,"renderActivePoints",function(C){var A=C.item,M=C.activePoint,T=C.basePoint,N=C.childIndex,I=C.isRange,k=[],j=A.props.key,F=A.item.type.defaultProps!==void 0?Fe(Fe({},A.item.type.defaultProps),A.item.props):A.item.props,z=F.activeDot,$=F.dataKey,V=Fe(Fe({index:N,dataKey:$,cx:M.x,cy:M.y,r:4,fill:uF(A.item),strokeWidth:2,stroke:"#fff",payload:M.payload,value:M.value},Pt(z,!1)),IE(z));return k.push(p.renderActiveDot(z,V,"".concat(j,"-activePoint-").concat(N))),T?k.push(p.renderActiveDot(z,Fe(Fe({},V),{},{cx:T.x,cy:T.y}),"".concat(j,"-basePoint-").concat(N))):I&&k.push(null),k}),Bt(S,"renderGraphicChild",function(C,A,M){var T=S.filterFormatItem(C,A,M);if(!T)return null;var N=S.getTooltipEventType(),I=S.state,k=I.isTooltipActive,j=I.tooltipAxis,F=I.activeTooltipIndex,z=I.activeLabel,$=S.props.children,V=Xs($,ui),R=T.props,L=R.points,B=R.isRange,W=R.baseLine,G=T.item.type.defaultProps!==void 0?Fe(Fe({},T.item.type.defaultProps),T.item.props):T.item.props,Y=G.activeDot,ie=G.hide,ae=G.activeBar,se=G.activeShape,U=!!(!ie&&k&&V&&(Y||ae||se)),K={};N!=="axis"&&V&&V.props.trigger==="click"?K={onClick:c1(S.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(K={onMouseLeave:c1(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:c1(S.handleItemMouseEnter,C.props.onMouseEnter)});var Q=P.cloneElement(C,Fe(Fe({},T.props),K));function ee(Je){return typeof j.dataKey=="function"?j.dataKey(Je.payload):null}if(U)if(F>=0){var ue,J;if(j.dataKey&&!j.allowDuplicatedCategory){var q=typeof j.dataKey=="function"?ee:"payload.".concat(j.dataKey.toString());ue=OE(L,q,z),J=B&&W&&OE(W,q,z)}else ue=L==null?void 0:L[F],J=B&&W&&W[F];if(se||ae){var ne=C.props.activeIndex!==void 0?C.props.activeIndex:F;return[P.cloneElement(C,Fe(Fe(Fe({},T.props),K),{},{activeIndex:ne})),null,null]}if(!Xt(ue))return[Q].concat(Fg(S.renderActivePoints({item:T,activePoint:ue,basePoint:J,childIndex:F,isRange:B})))}else{var fe,me=(fe=S.getItemByXY(S.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Q},pe=me.graphicalItem,Ae=pe.item,Ce=Ae===void 0?C:Ae,ke=pe.childIndex,nt=Fe(Fe(Fe({},T.props),K),{},{activeIndex:ke});return[P.cloneElement(Ce,nt),null,null]}return B?[Q,null,null]:[Q,null]}),Bt(S,"renderCustomized",function(C,A,M){return P.cloneElement(C,Fe(Fe({key:"recharts-customized-".concat(M)},S.props),S.state))}),Bt(S,"renderMap",{CartesianGrid:{handler:p1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:p1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:p1},YAxis:{handler:p1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=x.id)!==null&&_!==void 0?_:Dh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=TQ(S.triggeredAfterMouseMove,(b=x.throttleDelay)!==null&&b!==void 0?b:1e3/60),S.state={},S}return kVe(p,m),NVe(p,[{key:"componentDidMount",value:function(){var _,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,b=_.children,S=_.data,C=_.height,A=_.layout,M=Xs(b,ui);if(M){var T=M.props.defaultIndex;if(!(typeof T!="number"||T<0||T>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[T]&&this.state.tooltipTicks[T].value,I=wD(this.state,S,T,N),k=this.state.tooltipTicks[T].coordinate,j=(this.state.offset.top+C)/2,F=A==="horizontal",z=F?{x:k,y:j}:{y:k,x:j},$=this.state.formattedGraphicalItems.find(function(R){var L=R.item;return L.type.name==="Scatter"});$&&(z=Fe(Fe({},z),$.props.points[T].tooltipPosition),I=$.props.points[T].tooltipPayload);var V={activeTooltipIndex:T,isTooltipActive:!0,activeLabel:N,activePayload:I,activeCoordinate:z};this.setState(V),this.renderCursor(M),this.accessibilityManager.setIndex(T)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(_){KI([Xs(_.children,ui)],[Xs(this.props.children,ui)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Xs(this.props.children,ui);if(_&&typeof _.props.shared=="boolean"){var b=_.props.shared?"axis":"item";return a.indexOf(b)>=0?b:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var b=this.container,S=b.getBoundingClientRect(),C=bDe(S),A={chartX:Math.round(_.pageX-C.left),chartY:Math.round(_.pageY-C.top)},M=S.width/b.offsetWidth||1,T=this.inRange(A.chartX,A.chartY,M);if(!T)return null;var N=this.state,I=N.xAxisMap,k=N.yAxisMap,j=this.getTooltipEventType(),F=IV(this.state,this.props.data,this.props.layout,T);if(j!=="axis"&&I&&k){var z=Iu(I).scale,$=Iu(k).scale,V=z&&z.invert?z.invert(A.chartX):null,R=$&&$.invert?$.invert(A.chartY):null;return Fe(Fe({},A),{},{xValue:V,yValue:R},F)}return F?Fe(Fe({},A),F):null}},{key:"inRange",value:function(_,b){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,A=_/S,M=b/S;if(C==="horizontal"||C==="vertical"){var T=this.state.offset,N=A>=T.left&&A<=T.left+T.width&&M>=T.top&&M<=T.top+T.height;return N?{x:A,y:M}:null}var I=this.state,k=I.angleAxisMap,j=I.radiusAxisMap;if(k&&j){var F=Iu(k);return n8({x:A,y:M},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,b=this.getTooltipEventType(),S=Xs(_,ui),C={};S&&b==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=IE(this.props,this.handleOuterEvent);return Fe(Fe({},A),C)}},{key:"addListener",value:function(){tR.on(nR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tR.removeListener(nR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,b,S){for(var C=this.state.formattedGraphicalItems,A=0,M=C.length;A<M;A++){var T=C[A];if(T.item===_||T.props.key===_.key||b===wc(T.item.type)&&S===T.childIndex)return T}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,b=this.state.offset,S=b.left,C=b.top,A=b.height,M=b.width;return te.createElement("defs",null,te.createElement("clipPath",{id:_},te.createElement("rect",{x:S,y:C,height:A,width:M})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(b,S){var C=NV(S,2),A=C[0],M=C[1];return Fe(Fe({},b),{},Bt({},A,M.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(b,S){var C=NV(S,2),A=C[0],M=C[1];return Fe(Fe({},b),{},Bt({},A,M.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(_){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(_){var b=this.state,S=b.formattedGraphicalItems,C=b.activeItem;if(S&&S.length)for(var A=0,M=S.length;A<M;A++){var T=S[A],N=T.props,I=T.item,k=I.type.defaultProps!==void 0?Fe(Fe({},I.type.defaultProps),I.props):I.props,j=wc(I.type);if(j==="Bar"){var F=(N.data||[]).find(function(R){return cUe(_,R)});if(F)return{graphicalItem:T,payload:F}}else if(j==="RadialBar"){var z=(N.data||[]).find(function(R){return n8(_,R)});if(z)return{graphicalItem:T,payload:z}}else if(uT(T,C)||dT(T,C)||Vx(T,C)){var $=Zze({graphicalItem:T,activeTooltipItem:C,itemData:k.data}),V=k.activeIndex===void 0?$:k.activeIndex;return{graphicalItem:Fe(Fe({},T),{},{childIndex:V}),payload:Vx(T,C)?k.data[$]:T.props.data[$]}}}return null}},{key:"render",value:function(){var _=this;if(!G$(this))return null;var b=this.props,S=b.children,C=b.className,A=b.width,M=b.height,T=b.style,N=b.compact,I=b.title,k=b.desc,j=RV(b,SVe),F=Pt(j,!1);if(N)return te.createElement(uV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(ZI,mm({},F,{width:A,height:M,title:I,desc:k}),this.renderClipPath(),q$(S,this.renderMap)));if(this.props.accessibilityLayer){var z,$;F.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,F.role=($=this.props.role)!==null&&$!==void 0?$:"application",F.onKeyDown=function(R){_.accessibilityManager.keyboardEvent(R)},F.onFocus=function(){_.accessibilityManager.focus()}}var V=this.parseEventsOfWrapper();return te.createElement(uV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",mm({className:Yt("recharts-wrapper",C),style:Fe({position:"relative",cursor:"default",width:A,height:M},T)},V,{ref:function(L){_.container=L}}),te.createElement(ZI,mm({},F,{width:A,height:M,title:I,desc:k,style:UVe}),this.renderClipPath(),q$(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(P.Component);Bt(v,"displayName",n),Bt(v,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},u)),Bt(v,"getDerivedStateFromProps",function(m,p){var x=m.dataKey,_=m.data,b=m.children,S=m.width,C=m.height,A=m.layout,M=m.stackOffset,T=m.margin,N=p.dataStartIndex,I=p.dataEndIndex;if(p.updateId===void 0){var k=kV(m);return Fe(Fe(Fe({},k),{},{updateId:0},g(Fe(Fe({props:m},k),{},{updateId:0}),p)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:C,prevLayout:A,prevStackOffset:M,prevMargin:T,prevChildren:b})}if(x!==p.prevDataKey||_!==p.prevData||S!==p.prevWidth||C!==p.prevHeight||A!==p.prevLayout||M!==p.prevStackOffset||!Dm(T,p.prevMargin)){var j=kV(m),F={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},z=Fe(Fe({},IV(p,_,A)),{},{updateId:p.updateId+1}),$=Fe(Fe(Fe({},j),F),z);return Fe(Fe(Fe({},$),g(Fe({props:m},$),p)),{},{prevDataKey:x,prevData:_,prevWidth:S,prevHeight:C,prevLayout:A,prevStackOffset:M,prevMargin:T,prevChildren:b})}if(!KI(b,p.prevChildren)){var V,R,L,B,W=Xs(b,Ag),G=W&&(V=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&V!==void 0?V:N,Y=W&&(L=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&L!==void 0?L:I,ie=G!==N||Y!==I,ae=!Xt(_),se=ae&&!ie?p.updateId:p.updateId+1;return Fe(Fe({updateId:se},g(Fe(Fe({props:m},p),{},{updateId:se,dataStartIndex:G,dataEndIndex:Y}),p)),{},{prevChildren:b,dataStartIndex:G,dataEndIndex:Y})}return null}),Bt(v,"renderActiveDot",function(m,p,x){var _;return P.isValidElement(m)?_=P.cloneElement(m,p):Ut(m)?_=m(p):_=te.createElement(sb,p),te.createElement(ln,{className:"recharts-active-dot",key:x},_)});var y=P.forwardRef(function(p,x){return te.createElement(v,mm({},p,{ref:x}))});return y.displayName=v.displayName,y},I0=yT({chartName:"LineChart",GraphicalChild:Do,axisComponents:[{axisType:"xAxis",AxisComp:Qs},{axisType:"yAxis",AxisComp:Js}],formatAxisMap:fF}),YVe=yT({chartName:"BarChart",GraphicalChild:Bh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qs},{axisType:"yAxis",AxisComp:Js}],formatAxisMap:fF}),ZVe=yT({chartName:"PieChart",GraphicalChild:Yc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:cT},{axisType:"radiusAxis",AxisComp:aT}],formatAxisMap:S4e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),ote=yT({chartName:"AreaChart",GraphicalChild:Zc,axisComponents:[{axisType:"xAxis",AxisComp:Qs},{axisType:"yAxis",AxisComp:Js}],formatAxisMap:fF});const QVe={light:"",dark:".dark"},ate=P.createContext(null);function lte(){const t=P.useContext(ate);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const JVe=P.forwardRef(({id:t,className:e,children:n,config:r,...i},s)=>{const o=P.useId(),a=`chart-${t||o.replace(/:/g,"")}`;return h.jsx(ate.Provider,{value:{config:r},children:h.jsxs("div",{"data-chart":a,ref:s,className:we("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[h.jsx(eWe,{id:a,config:r}),h.jsx(al,{children:n})]})})});JVe.displayName="Chart";const eWe=({id:t,config:e})=>{const n=Object.entries(e).filter(([,r])=>r.theme||r.color);return n.length?h.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(QVe).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([s,o])=>{var l;const a=((l=o.theme)==null?void 0:l[r])||o.color;return a?`  --color-${s}: ${a};`:null}).join(`
`)}
}
`).join(`
`)}}):null},tWe=P.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:s=!1,label:o,labelFormatter:a,labelClassName:l,formatter:c,color:d,nameKey:u,labelKey:f},g)=>{const{config:v}=lte(),y=P.useMemo(()=>{var S;if(i||!(e!=null&&e.length))return null;const[p]=e,x=`${f||(p==null?void 0:p.dataKey)||(p==null?void 0:p.name)||"value"}`,_=SD(v,p,x),b=!f&&typeof o=="string"?((S=v[o])==null?void 0:S.label)||o:_==null?void 0:_.label;return a?h.jsx("div",{className:we("font-medium",l),children:a(b,e)}):b?h.jsx("div",{className:we("font-medium",l),children:b}):null},[o,a,e,i,l,v,f]);if(!t||!(e!=null&&e.length))return null;const m=e.length===1&&r!=="dot";return h.jsxs("div",{ref:g,className:we("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[m?null:y,h.jsx("div",{className:"grid gap-1.5",children:e.map((p,x)=>{const _=`${u||p.name||p.dataKey||"value"}`,b=SD(v,p,_),S=d||p.payload.fill||p.color;return h.jsx("div",{className:we("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&(p==null?void 0:p.value)!==void 0&&p.name?c(p.value,p.name,p,x,p.payload):h.jsxs(h.Fragment,{children:[b!=null&&b.icon?h.jsx(b.icon,{}):!s&&h.jsx("div",{className:we("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":m&&r==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),h.jsxs("div",{className:we("flex flex-1 justify-between leading-none",m?"items-end":"items-center"),children:[h.jsxs("div",{className:"grid gap-1.5",children:[m?y:null,h.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||p.name})]}),p.value&&h.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:p.value.toLocaleString()})]})]})},p.dataKey)})})]})});tWe.displayName="ChartTooltip";const nWe=P.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},s)=>{const{config:o}=lte();return n!=null&&n.length?h.jsx("div",{ref:s,className:we("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(a=>{const l=`${i||a.dataKey||"value"}`,c=SD(o,a,l);return h.jsxs("div",{className:we("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?h.jsx(c.icon,{}):h.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:a.color}}),c==null?void 0:c.label]},a.value)})}):null});nWe.displayName="ChartLegend";function SD(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}function Nv(t){const e=P.useRef({value:t,previous:t});return P.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function ob(t){const[e,n]=P.useState(void 0);return cr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wF="Checkbox",[rWe,Ogt]=Gn(wF),[iWe,sWe]=rWe(wF),cte=P.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=t,[f,g]=P.useState(null),v=At(e,b=>g(b)),y=P.useRef(!1),m=f?d||!!f.closest("form"):!0,[p=!1,x]=Or({prop:i,defaultProp:s,onChange:c}),_=P.useRef(p);return P.useEffect(()=>{const b=f==null?void 0:f.form;if(b){const S=()=>x(_.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[f,x]),h.jsxs(iWe,{scope:n,state:p,disabled:a,children:[h.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":od(p)?"mixed":p,"aria-required":o,"data-state":fte(p),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:v,onKeyDown:Oe(t.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Oe(t.onClick,b=>{x(S=>od(S)?!0:!S),m&&(y.current=b.isPropagationStopped(),y.current||b.stopPropagation())})}),m&&h.jsx(oWe,{control:f,bubbles:!y.current,name:r,value:l,checked:p,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"},defaultChecked:od(s)?!1:s})]})});cte.displayName=wF;var ute="CheckboxIndicator",dte=P.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=sWe(ute,n);return h.jsx(sr,{present:r||od(s.state)||s.state===!0,children:h.jsx(Xe.span,{"data-state":fte(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});dte.displayName=ute;var oWe=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=P.useRef(null),a=Nv(n),l=ob(e);P.useEffect(()=>{const d=o.current,u=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(u,"checked").set;if(a!==n&&g){const v=new Event("click",{bubbles:r});d.indeterminate=od(n),g.call(d,od(n)?!1:n),d.dispatchEvent(v)}},[a,n,r]);const c=P.useRef(od(n)?!1:n);return h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function od(t){return t==="indeterminate"}function fte(t){return od(t)?"indeterminate":t?"checked":"unchecked"}var hte=cte,aWe=dte;const lWe=P.forwardRef(({className:t,...e},n)=>h.jsx(hte,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(aWe,{className:we("flex items-center justify-center text-current"),children:h.jsx(B_,{className:"h-4 w-4"})})}));lWe.displayName=hte.displayName;const cWe=fK,uWe=Dj,dWe=jj;var LV=1,fWe=.9,hWe=.8,pWe=.17,iR=.1,sR=.999,mWe=.9999,gWe=.99,vWe=/[\\\/_+.#"@\[\(\{&]/,yWe=/[\\\/_+.#"@\[\(\{&]/g,xWe=/[\s-]/,pte=/[\s-]/g;function ED(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?LV:gWe;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=n.indexOf(l,i),d=0,u,f,g,v;c>=0;)u=ED(t,e,n,r,c+1,s+1,o),u>d&&(c===i?u*=LV:vWe.test(t.charAt(c-1))?(u*=hWe,g=t.slice(i,c-1).match(yWe),g&&i>0&&(u*=Math.pow(sR,g.length))):xWe.test(t.charAt(c-1))?(u*=fWe,v=t.slice(i,c-1).match(pte),v&&i>0&&(u*=Math.pow(sR,v.length))):(u*=pWe,i>0&&(u*=Math.pow(sR,c-i))),t.charAt(c)!==e.charAt(s)&&(u*=mWe)),(u<iR&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(f=ED(t,e,n,r,c+1,s+2,o),f*iR>u&&(u=f*iR)),u>d&&(d=u),c=n.indexOf(l,c+1);return o[a]=d,d}function jV(t){return t.toLowerCase().replace(pte," ")}function _We(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,ED(t,e,jV(t),jV(e),0,0,{})}var Iy='[cmdk-group=""]',oR='[cmdk-group-items=""]',bWe='[cmdk-group-heading=""]',mte='[cmdk-item=""]',FV=`${mte}:not([aria-disabled="true"])`,CD="cmdk-item-select",qp="data-value",wWe=(t,e,n)=>_We(t,e,n),gte=P.createContext(void 0),ab=()=>P.useContext(gte),vte=P.createContext(void 0),SF=()=>P.useContext(vte),yte=P.createContext(void 0),xte=P.forwardRef((t,e)=>{let n=Kp(()=>{var G,Y;return{search:"",value:(Y=(G=t.value)!=null?G:t.defaultValue)!=null?Y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Kp(()=>new Set),i=Kp(()=>new Map),s=Kp(()=>new Map),o=Kp(()=>new Set),a=_te(t),{label:l,children:c,value:d,onValueChange:u,filter:f,shouldFilter:g,loop:v,disablePointerSelection:y=!1,vimBindings:m=!0,...p}=t,x=zr(),_=zr(),b=zr(),S=P.useRef(null),C=IWe();yh(()=>{if(d!==void 0){let G=d.trim();n.current.value=G,A.emit()}},[d]),yh(()=>{C(6,j)},[]);let A=P.useMemo(()=>({subscribe:G=>(o.current.add(G),()=>o.current.delete(G)),snapshot:()=>n.current,setState:(G,Y,ie)=>{var ae,se,U,K;if(!Object.is(n.current[G],Y)){if(n.current[G]=Y,G==="search")k(),N(),C(1,I);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(b);Q?Q.focus():(ae=document.getElementById(x))==null||ae.focus()}if(C(7,()=>{var Q;n.current.selectedItemId=(Q=F())==null?void 0:Q.id,A.emit()}),ie||C(5,j),((se=a.current)==null?void 0:se.value)!==void 0){let Q=Y??"";(K=(U=a.current).onValueChange)==null||K.call(U,Q);return}}A.emit()}},emit:()=>{o.current.forEach(G=>G())}}),[]),M=P.useMemo(()=>({value:(G,Y,ie)=>{var ae;Y!==((ae=s.current.get(G))==null?void 0:ae.value)&&(s.current.set(G,{value:Y,keywords:ie}),n.current.filtered.items.set(G,T(Y,ie)),C(2,()=>{N(),A.emit()}))},item:(G,Y)=>(r.current.add(G),Y&&(i.current.has(Y)?i.current.get(Y).add(G):i.current.set(Y,new Set([G]))),C(3,()=>{k(),N(),n.current.value||I(),A.emit()}),()=>{s.current.delete(G),r.current.delete(G),n.current.filtered.items.delete(G);let ie=F();C(4,()=>{k(),(ie==null?void 0:ie.getAttribute("id"))===G&&I(),A.emit()})}),group:G=>(i.current.has(G)||i.current.set(G,new Set),()=>{s.current.delete(G),i.current.delete(G)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:x,inputId:b,labelId:_,listInnerRef:S}),[]);function T(G,Y){var ie,ae;let se=(ae=(ie=a.current)==null?void 0:ie.filter)!=null?ae:wWe;return G?se(G,n.current.search,Y):0}function N(){if(!n.current.search||a.current.shouldFilter===!1)return;let G=n.current.filtered.items,Y=[];n.current.filtered.groups.forEach(ae=>{let se=i.current.get(ae),U=0;se.forEach(K=>{let Q=G.get(K);U=Math.max(Q,U)}),Y.push([ae,U])});let ie=S.current;z().sort((ae,se)=>{var U,K;let Q=ae.getAttribute("id"),ee=se.getAttribute("id");return((U=G.get(ee))!=null?U:0)-((K=G.get(Q))!=null?K:0)}).forEach(ae=>{let se=ae.closest(oR);se?se.appendChild(ae.parentElement===se?ae:ae.closest(`${oR} > *`)):ie.appendChild(ae.parentElement===ie?ae:ae.closest(`${oR} > *`))}),Y.sort((ae,se)=>se[1]-ae[1]).forEach(ae=>{var se;let U=(se=S.current)==null?void 0:se.querySelector(`${Iy}[${qp}="${encodeURIComponent(ae[0])}"]`);U==null||U.parentElement.appendChild(U)})}function I(){let G=z().find(ie=>ie.getAttribute("aria-disabled")!=="true"),Y=G==null?void 0:G.getAttribute(qp);A.setState("value",Y||void 0)}function k(){var G,Y,ie,ae;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let se=0;for(let U of r.current){let K=(Y=(G=s.current.get(U))==null?void 0:G.value)!=null?Y:"",Q=(ae=(ie=s.current.get(U))==null?void 0:ie.keywords)!=null?ae:[],ee=T(K,Q);n.current.filtered.items.set(U,ee),ee>0&&se++}for(let[U,K]of i.current)for(let Q of K)if(n.current.filtered.items.get(Q)>0){n.current.filtered.groups.add(U);break}n.current.filtered.count=se}function j(){var G,Y,ie;let ae=F();ae&&(((G=ae.parentElement)==null?void 0:G.firstChild)===ae&&((ie=(Y=ae.closest(Iy))==null?void 0:Y.querySelector(bWe))==null||ie.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function F(){var G;return(G=S.current)==null?void 0:G.querySelector(`${mte}[aria-selected="true"]`)}function z(){var G;return Array.from(((G=S.current)==null?void 0:G.querySelectorAll(FV))||[])}function $(G){let Y=z()[G];Y&&A.setState("value",Y.getAttribute(qp))}function V(G){var Y;let ie=F(),ae=z(),se=ae.findIndex(K=>K===ie),U=ae[se+G];(Y=a.current)!=null&&Y.loop&&(U=se+G<0?ae[ae.length-1]:se+G===ae.length?ae[0]:ae[se+G]),U&&A.setState("value",U.getAttribute(qp))}function R(G){let Y=F(),ie=Y==null?void 0:Y.closest(Iy),ae;for(;ie&&!ae;)ie=G>0?RWe(ie,Iy):OWe(ie,Iy),ae=ie==null?void 0:ie.querySelector(FV);ae?A.setState("value",ae.getAttribute(qp)):V(G)}let L=()=>$(z().length-1),B=G=>{G.preventDefault(),G.metaKey?L():G.altKey?R(1):V(1)},W=G=>{G.preventDefault(),G.metaKey?$(0):G.altKey?R(-1):V(-1)};return P.createElement(Xe.div,{ref:e,tabIndex:-1,...p,"cmdk-root":"",onKeyDown:G=>{var Y;(Y=p.onKeyDown)==null||Y.call(p,G);let ie=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||ie))switch(G.key){case"n":case"j":{m&&G.ctrlKey&&B(G);break}case"ArrowDown":{B(G);break}case"p":case"k":{m&&G.ctrlKey&&W(G);break}case"ArrowUp":{W(G);break}case"Home":{G.preventDefault(),$(0);break}case"End":{G.preventDefault(),L();break}case"Enter":{G.preventDefault();let ae=F();if(ae){let se=new Event(CD);ae.dispatchEvent(se)}}}}},P.createElement("label",{"cmdk-label":"",htmlFor:M.inputId,id:M.labelId,style:DWe},l),xT(t,G=>P.createElement(vte.Provider,{value:A},P.createElement(gte.Provider,{value:M},G))))}),SWe=P.forwardRef((t,e)=>{var n,r;let i=zr(),s=P.useRef(null),o=P.useContext(yte),a=ab(),l=_te(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;yh(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let d=bte(i,s,[t.value,t.children,s],t.keywords),u=SF(),f=fd(C=>C.value&&C.value===d.current),g=fd(C=>c||a.filter()===!1?!0:C.search?C.filtered.items.get(i)>0:!0);P.useEffect(()=>{let C=s.current;if(!(!C||t.disabled))return C.addEventListener(CD,v),()=>C.removeEventListener(CD,v)},[g,t.onSelect,t.disabled]);function v(){var C,A;y(),(A=(C=l.current).onSelect)==null||A.call(C,d.current)}function y(){u.setState("value",d.current,!0)}if(!g)return null;let{disabled:m,value:p,onSelect:x,forceMount:_,keywords:b,...S}=t;return P.createElement(Xe.div,{ref:Sl(s,e),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!f,"data-disabled":!!m,"data-selected":!!f,onPointerMove:m||a.getDisablePointerSelection()?void 0:y,onClick:m?void 0:v},t.children)}),EWe=P.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=zr(),a=P.useRef(null),l=P.useRef(null),c=zr(),d=ab(),u=fd(g=>i||d.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);yh(()=>d.group(o),[]),bte(o,a,[t.value,t.heading,l]);let f=P.useMemo(()=>({id:o,forceMount:i}),[i]);return P.createElement(Xe.div,{ref:Sl(a,e),...s,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},n&&P.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),xT(t,g=>P.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},P.createElement(yte.Provider,{value:f},g))))}),CWe=P.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=P.useRef(null),s=fd(o=>!o.search);return!n&&!s?null:P.createElement(Xe.div,{ref:Sl(i,e),...r,"cmdk-separator":"",role:"separator"})}),MWe=P.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=SF(),o=fd(c=>c.search),a=fd(c=>c.selectedItemId),l=ab();return P.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),P.createElement(Xe.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?t.value:o,onChange:c=>{i||s.setState("search",c.target.value),n==null||n(c.target.value)}})}),AWe=P.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=P.useRef(null),o=P.useRef(null),a=fd(c=>c.selectedItemId),l=ab();return P.useEffect(()=>{if(o.current&&s.current){let c=o.current,d=s.current,u,f=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let g=c.offsetHeight;d.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return f.observe(c),()=>{cancelAnimationFrame(u),f.unobserve(c)}}},[]),P.createElement(Xe.div,{ref:Sl(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},xT(t,c=>P.createElement("div",{ref:Sl(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),TWe=P.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return P.createElement(SA,{open:n,onOpenChange:r},P.createElement(V_,{container:o},P.createElement(Oh,{"cmdk-overlay":"",className:i}),P.createElement(Ih,{"aria-label":t.label,"cmdk-dialog":"",className:s},P.createElement(xte,{ref:e,...a}))))}),PWe=P.forwardRef((t,e)=>fd(n=>n.filtered.count===0)?P.createElement(Xe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),NWe=P.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return P.createElement(Xe.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},xT(t,o=>P.createElement("div",{"aria-hidden":!0},o)))}),Os=Object.assign(xte,{List:AWe,Item:SWe,Input:MWe,Group:EWe,Separator:CWe,Dialog:TWe,Empty:PWe,Loading:NWe});function RWe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function OWe(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function _te(t){let e=P.useRef(t);return yh(()=>{e.current=t}),e}var yh=typeof window>"u"?P.useEffect:P.useLayoutEffect;function Kp(t){let e=P.useRef();return e.current===void 0&&(e.current=t()),e}function fd(t){let e=SF(),n=()=>t(e.snapshot());return P.useSyncExternalStore(e.subscribe,n,n)}function bte(t,e,n,r=[]){let i=P.useRef(),s=ab();return yh(()=>{var o;let a=(()=>{var c;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(c=d.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());s.value(t,a,l),(o=e.current)==null||o.setAttribute(qp,a),i.current=a}),i}var IWe=()=>{let[t,e]=P.useState(),n=Kp(()=>new Map);return yh(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function kWe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function xT({asChild:t,children:e},n){return t&&P.isValidElement(e)?P.cloneElement(kWe(e),{ref:e.ref},n(e.props.children)):n(e)}var DWe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const wte=P.forwardRef(({className:t,...e},n)=>h.jsx(Os,{ref:n,className:we("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));wte.displayName=Os.displayName;const LWe=({children:t,...e})=>h.jsx(n4,{...e,children:h.jsx(MT,{className:"overflow-hidden p-0 shadow-lg",children:h.jsx(wte,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),Ste=P.forwardRef(({className:t,...e},n)=>h.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[h.jsx(ml,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),h.jsx(Os.Input,{ref:n,className:we("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));Ste.displayName=Os.Input.displayName;const Ete=P.forwardRef(({className:t,...e},n)=>h.jsx(Os.List,{ref:n,className:we("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));Ete.displayName=Os.List.displayName;const Cte=P.forwardRef((t,e)=>h.jsx(Os.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));Cte.displayName=Os.Empty.displayName;const Mte=P.forwardRef(({className:t,...e},n)=>h.jsx(Os.Group,{ref:n,className:we("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Mte.displayName=Os.Group.displayName;const jWe=P.forwardRef(({className:t,...e},n)=>h.jsx(Os.Separator,{ref:n,className:we("-mx-1 h-px bg-border",t),...e}));jWe.displayName=Os.Separator.displayName;const Ate=P.forwardRef(({className:t,...e},n)=>h.jsx(Os.Item,{ref:n,className:we("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));Ate.displayName=Os.Item.displayName;const FWe=["top","right","bottom","left"],hd=Math.min,Ks=Math.max,kC=Math.round,m1=Math.floor,xl=t=>({x:t,y:t}),BWe={left:"right",right:"left",bottom:"top",top:"bottom"},UWe={start:"end",end:"start"};function MD(t,e,n){return Ks(t,hd(e,n))}function Dc(t,e){return typeof t=="function"?t(e):t}function Lc(t){return t.split("-")[0]}function Rv(t){return t.split("-")[1]}function EF(t){return t==="x"?"y":"x"}function CF(t){return t==="y"?"height":"width"}function pd(t){return["top","bottom"].includes(Lc(t))?"y":"x"}function MF(t){return EF(pd(t))}function zWe(t,e,n){n===void 0&&(n=!1);const r=Rv(t),i=MF(t),s=CF(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=DC(o)),[o,DC(o)]}function $We(t){const e=DC(t);return[AD(t),e,AD(e)]}function AD(t){return t.replace(/start|end/g,e=>UWe[e])}function HWe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function VWe(t,e,n,r){const i=Rv(t);let s=HWe(Lc(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(AD)))),s}function DC(t){return t.replace(/left|right|bottom|top/g,e=>BWe[e])}function WWe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Tte(t){return typeof t!="number"?WWe(t):{top:t,right:t,bottom:t,left:t}}function LC(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function BV(t,e,n){let{reference:r,floating:i}=t;const s=pd(e),o=MF(e),a=CF(o),l=Lc(e),c=s==="y",d=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,f=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-i.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:u};break;case"left":g={x:r.x-i.width,y:u};break;default:g={x:r.x,y:r.y}}switch(Rv(e)){case"start":g[o]-=f*(n&&c?-1:1);break;case"end":g[o]+=f*(n&&c?-1:1);break}return g}const GWe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:u}=BV(c,r,l),f=r,g={},v=0;for(let y=0;y<a.length;y++){const{name:m,fn:p}=a[y],{x,y:_,data:b,reset:S}=await p({x:d,y:u,initialPlacement:r,placement:f,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=x??d,u=_??u,g={...g,[m]:{...g[m],...b}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(f=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:d,y:u}=BV(c,f,l)),y=-1)}return{x:d,y:u,placement:f,strategy:i,middlewareData:g}};async function Zx(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:f=!1,padding:g=0}=Dc(e,t),v=Tte(g),m=a[f?u==="floating"?"reference":"floating":u],p=LC(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=u==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=LC(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:_,strategy:l}):x);return{top:(p.top-S.top+v.top)/b.y,bottom:(S.bottom-p.bottom+v.bottom)/b.y,left:(p.left-S.left+v.left)/b.x,right:(S.right-p.right+v.right)/b.x}}const XWe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Dc(t,e)||{};if(c==null)return{};const u=Tte(d),f={x:n,y:r},g=MF(i),v=CF(g),y=await o.getDimensions(c),m=g==="y",p=m?"top":"left",x=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[g]-f[g]-s.floating[v],S=f[g]-s.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=C?C[_]:0;(!A||!await(o.isElement==null?void 0:o.isElement(C)))&&(A=a.floating[_]||s.floating[v]);const M=b/2-S/2,T=A/2-y[v]/2-1,N=hd(u[p],T),I=hd(u[x],T),k=N,j=A-y[v]-I,F=A/2-y[v]/2+M,z=MD(k,F,j),$=!l.arrow&&Rv(i)!=null&&F!==z&&s.reference[v]/2-(F<k?N:I)-y[v]/2<0,V=$?F<k?F-k:F-j:0;return{[g]:f[g]+V,data:{[g]:z,centerOffset:F-z-V,...$&&{alignmentOffset:V}},reset:$}}}),qWe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:f,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...m}=Dc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=Lc(i),x=pd(a),_=Lc(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=f||(_||!y?[DC(a)]:$We(a)),C=v!=="none";!f&&C&&S.push(...VWe(a,y,v,b));const A=[a,...S],M=await Zx(e,m),T=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&T.push(M[p]),u){const F=zWe(i,o,b);T.push(M[F[0]],M[F[1]])}if(N=[...N,{placement:i,overflows:T}],!T.every(F=>F<=0)){var I,k;const F=(((I=s.flip)==null?void 0:I.index)||0)+1,z=A[F];if(z)return{data:{index:F,overflows:N},reset:{placement:z}};let $=(k=N.filter(V=>V.overflows[0]<=0).sort((V,R)=>V.overflows[1]-R.overflows[1])[0])==null?void 0:k.placement;if(!$)switch(g){case"bestFit":{var j;const V=(j=N.filter(R=>{if(C){const L=pd(R.placement);return L===x||L==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(L=>L>0).reduce((L,B)=>L+B,0)]).sort((R,L)=>R[1]-L[1])[0])==null?void 0:j[0];V&&($=V);break}case"initialPlacement":$=a;break}if(i!==$)return{reset:{placement:$}}}return{}}}};function UV(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function zV(t){return FWe.some(e=>t[e]>=0)}const KWe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Dc(t,e);switch(r){case"referenceHidden":{const s=await Zx(e,{...i,elementContext:"reference"}),o=UV(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:zV(o)}}}case"escaped":{const s=await Zx(e,{...i,altBoundary:!0}),o=UV(s,n.floating);return{data:{escapedOffsets:o,escaped:zV(o)}}}default:return{}}}}};async function YWe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Lc(n),a=Rv(n),l=pd(n)==="y",c=["left","top"].includes(o)?-1:1,d=s&&l?-1:1,u=Dc(e,t);let{mainAxis:f,crossAxis:g,alignmentAxis:v}=typeof u=="number"?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*d,y:f*c}:{x:f*c,y:g*d}}const ZWe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await YWe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},QWe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x:p,y:x}=m;return{x:p,y:x}}},...l}=Dc(t,e),c={x:n,y:r},d=await Zx(e,l),u=pd(Lc(i)),f=EF(u);let g=c[f],v=c[u];if(s){const m=f==="y"?"top":"left",p=f==="y"?"bottom":"right",x=g+d[m],_=g-d[p];g=MD(x,g,_)}if(o){const m=u==="y"?"top":"left",p=u==="y"?"bottom":"right",x=v+d[m],_=v-d[p];v=MD(x,v,_)}const y=a.fn({...e,[f]:g,[u]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[f]:s,[u]:o}}}}}},JWe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Dc(t,e),d={x:n,y:r},u=pd(i),f=EF(u);let g=d[f],v=d[u];const y=Dc(a,e),m=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const _=f==="y"?"height":"width",b=s.reference[f]-s.floating[_]+m.mainAxis,S=s.reference[f]+s.reference[_]-m.mainAxis;g<b?g=b:g>S&&(g=S)}if(c){var p,x;const _=f==="y"?"width":"height",b=["top","left"].includes(Lc(i)),S=s.reference[u]-s.floating[_]+(b&&((p=o.offset)==null?void 0:p[u])||0)+(b?0:m.crossAxis),C=s.reference[u]+s.reference[_]+(b?0:((x=o.offset)==null?void 0:x[u])||0)-(b?m.crossAxis:0);v<S?v=S:v>C&&(v=C)}return{[f]:g,[u]:v}}}},eGe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Dc(t,e),d=await Zx(e,c),u=Lc(i),f=Rv(i),g=pd(i)==="y",{width:v,height:y}=s.floating;let m,p;u==="top"||u==="bottom"?(m=u,p=f===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=u,m=f==="end"?"top":"bottom");const x=y-d.top-d.bottom,_=v-d.left-d.right,b=hd(y-d[m],x),S=hd(v-d[p],_),C=!e.middlewareData.shift;let A=b,M=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(M=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=x),C&&!f){const N=Ks(d.left,0),I=Ks(d.right,0),k=Ks(d.top,0),j=Ks(d.bottom,0);g?M=v-2*(N!==0||I!==0?N+I:Ks(d.left,d.right)):A=y-2*(k!==0||j!==0?k+j:Ks(d.top,d.bottom))}await l({...e,availableWidth:M,availableHeight:A});const T=await o.getDimensions(a.floating);return v!==T.width||y!==T.height?{reset:{rects:!0}}:{}}}};function _T(){return typeof window<"u"}function Ov(t){return Pte(t)?(t.nodeName||"").toLowerCase():"#document"}function io(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Dl(t){var e;return(e=(Pte(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pte(t){return _T()?t instanceof Node||t instanceof io(t).Node:!1}function Da(t){return _T()?t instanceof Element||t instanceof io(t).Element:!1}function Ml(t){return _T()?t instanceof HTMLElement||t instanceof io(t).HTMLElement:!1}function $V(t){return!_T()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof io(t).ShadowRoot}function lb(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=La(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function tGe(t){return["table","td","th"].includes(Ov(t))}function bT(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function AF(t){const e=TF(),n=Da(t)?La(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function nGe(t){let e=md(t);for(;Ml(e)&&!Bg(e);){if(AF(e))return e;if(bT(e))return null;e=md(e)}return null}function TF(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Bg(t){return["html","body","#document"].includes(Ov(t))}function La(t){return io(t).getComputedStyle(t)}function wT(t){return Da(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function md(t){if(Ov(t)==="html")return t;const e=t.assignedSlot||t.parentNode||$V(t)&&t.host||Dl(t);return $V(e)?e.host:e}function Nte(t){const e=md(t);return Bg(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ml(e)&&lb(e)?e:Nte(e)}function Qx(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Nte(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=io(i);if(s){const a=TD(o);return e.concat(o,o.visualViewport||[],lb(i)?i:[],a&&n?Qx(a):[])}return e.concat(i,Qx(i,[],n))}function TD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Rte(t){const e=La(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ml(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=kC(n)!==s||kC(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function PF(t){return Da(t)?t:t.contextElement}function Fm(t){const e=PF(t);if(!Ml(e))return xl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Rte(e);let o=(s?kC(n.width):n.width)/r,a=(s?kC(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const rGe=xl(0);function Ote(t){const e=io(t);return!TF()||!e.visualViewport?rGe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function iGe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==io(t)?!1:e}function xh(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=PF(t);let o=xl(1);e&&(r?Da(r)&&(o=Fm(r)):o=Fm(t));const a=iGe(s,n,r)?Ote(s):xl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,d=i.width/o.x,u=i.height/o.y;if(s){const f=io(s),g=r&&Da(r)?io(r):r;let v=f,y=TD(v);for(;y&&r&&g!==v;){const m=Fm(y),p=y.getBoundingClientRect(),x=La(y),_=p.left+(y.clientLeft+parseFloat(x.paddingLeft))*m.x,b=p.top+(y.clientTop+parseFloat(x.paddingTop))*m.y;l*=m.x,c*=m.y,d*=m.x,u*=m.y,l+=_,c+=b,v=io(y),y=TD(v)}}return LC({width:d,height:u,x:l,y:c})}function NF(t,e){const n=wT(t).scrollLeft;return e?e.left+n:xh(Dl(t)).left+n}function Ite(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:NF(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function sGe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Dl(r),a=e?bT(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=xl(1);const d=xl(0),u=Ml(r);if((u||!u&&!s)&&((Ov(r)!=="body"||lb(o))&&(l=wT(r)),Ml(r))){const g=xh(r);c=Fm(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const f=o&&!u&&!s?Ite(o,l,!0):xl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+f.x,y:n.y*c.y-l.scrollTop*c.y+d.y+f.y}}function oGe(t){return Array.from(t.getClientRects())}function aGe(t){const e=Dl(t),n=wT(t),r=t.ownerDocument.body,i=Ks(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Ks(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+NF(t);const a=-n.scrollTop;return La(r).direction==="rtl"&&(o+=Ks(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function lGe(t,e){const n=io(t),r=Dl(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=TF();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function cGe(t,e){const n=xh(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Ml(t)?Fm(t):xl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function HV(t,e,n){let r;if(e==="viewport")r=lGe(t,n);else if(e==="document")r=aGe(Dl(t));else if(Da(e))r=cGe(e,n);else{const i=Ote(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return LC(r)}function kte(t,e){const n=md(t);return n===e||!Da(n)||Bg(n)?!1:La(n).position==="fixed"||kte(n,e)}function uGe(t,e){const n=e.get(t);if(n)return n;let r=Qx(t,[],!1).filter(a=>Da(a)&&Ov(a)!=="body"),i=null;const s=La(t).position==="fixed";let o=s?md(t):t;for(;Da(o)&&!Bg(o);){const a=La(o),l=AF(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||lb(o)&&!l&&kte(t,o))?r=r.filter(d=>d!==o):i=a,o=md(o)}return e.set(t,r),r}function dGe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?bT(e)?[]:uGe(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const u=HV(e,d,i);return c.top=Ks(u.top,c.top),c.right=hd(u.right,c.right),c.bottom=hd(u.bottom,c.bottom),c.left=Ks(u.left,c.left),c},HV(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function fGe(t){const{width:e,height:n}=Rte(t);return{width:e,height:n}}function hGe(t,e,n){const r=Ml(e),i=Dl(e),s=n==="fixed",o=xh(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=xl(0);if(r||!r&&!s)if((Ov(e)!=="body"||lb(i))&&(a=wT(e)),r){const f=xh(e,!0,s,e);l.x=f.x+e.clientLeft,l.y=f.y+e.clientTop}else i&&(l.x=NF(i));const c=i&&!r&&!s?Ite(i,a):xl(0),d=o.left+a.scrollLeft-l.x-c.x,u=o.top+a.scrollTop-l.y-c.y;return{x:d,y:u,width:o.width,height:o.height}}function aR(t){return La(t).position==="static"}function VV(t,e){if(!Ml(t)||La(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Dl(t)===n&&(n=n.ownerDocument.body),n}function Dte(t,e){const n=io(t);if(bT(t))return n;if(!Ml(t)){let i=md(t);for(;i&&!Bg(i);){if(Da(i)&&!aR(i))return i;i=md(i)}return n}let r=VV(t,e);for(;r&&tGe(r)&&aR(r);)r=VV(r,e);return r&&Bg(r)&&aR(r)&&!AF(r)?n:r||nGe(t)||n}const pGe=async function(t){const e=this.getOffsetParent||Dte,n=this.getDimensions,r=await n(t.floating);return{reference:hGe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function mGe(t){return La(t).direction==="rtl"}const gGe={convertOffsetParentRelativeRectToViewportRelativeRect:sGe,getDocumentElement:Dl,getClippingRect:dGe,getOffsetParent:Dte,getElementRects:pGe,getClientRects:oGe,getDimensions:fGe,getScale:Fm,isElement:Da,isRTL:mGe};function Lte(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function vGe(t,e){let n=null,r;const i=Dl(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:d,top:u,width:f,height:g}=c;if(a||e(),!f||!g)return;const v=m1(u),y=m1(i.clientWidth-(d+f)),m=m1(i.clientHeight-(u+g)),p=m1(d),_={rootMargin:-v+"px "+-y+"px "+-m+"px "+-p+"px",threshold:Ks(0,hd(1,l))||1};let b=!0;function S(C){const A=C[0].intersectionRatio;if(A!==l){if(!b)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!Lte(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return o(!0),s}function yGe(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=PF(t),d=i||s?[...c?Qx(c):[],...Qx(e)]:[];d.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const u=c&&a?vGe(c,n):null;let f=-1,g=null;o&&(g=new ResizeObserver(p=>{let[x]=p;x&&x.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,y=l?xh(t):null;l&&m();function m(){const p=xh(t);y&&!Lte(y,p)&&n(),y=p,v=requestAnimationFrame(m)}return n(),()=>{var p;d.forEach(x=>{i&&x.removeEventListener("scroll",n),s&&x.removeEventListener("resize",n)}),u==null||u(),(p=g)==null||p.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const xGe=ZWe,_Ge=QWe,bGe=qWe,wGe=eGe,SGe=KWe,WV=XWe,EGe=JWe,CGe=(t,e,n)=>{const r=new Map,i={platform:gGe,...n},s={...i.platform,_c:r};return GWe(t,e,{...i,platform:s})};var BS=typeof document<"u"?P.useLayoutEffect:P.useEffect;function jC(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!jC(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!jC(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function jte(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function GV(t,e){const n=jte(t);return Math.round(e*n)/n}function lR(t){const e=P.useRef(t);return BS(()=>{e.current=t}),e}function MGe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,u]=P.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,g]=P.useState(r);jC(f,r)||g(r);const[v,y]=P.useState(null),[m,p]=P.useState(null),x=P.useCallback(R=>{R!==C.current&&(C.current=R,y(R))},[]),_=P.useCallback(R=>{R!==A.current&&(A.current=R,p(R))},[]),b=s||v,S=o||m,C=P.useRef(null),A=P.useRef(null),M=P.useRef(d),T=l!=null,N=lR(l),I=lR(i),k=lR(c),j=P.useCallback(()=>{if(!C.current||!A.current)return;const R={placement:e,strategy:n,middleware:f};I.current&&(R.platform=I.current),CGe(C.current,A.current,R).then(L=>{const B={...L,isPositioned:k.current!==!1};F.current&&!jC(M.current,B)&&(M.current=B,Nh.flushSync(()=>{u(B)}))})},[f,e,n,I,k]);BS(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,u(R=>({...R,isPositioned:!1})))},[c]);const F=P.useRef(!1);BS(()=>(F.current=!0,()=>{F.current=!1}),[]),BS(()=>{if(b&&(C.current=b),S&&(A.current=S),b&&S){if(N.current)return N.current(b,S,j);j()}},[b,S,j,N,T]);const z=P.useMemo(()=>({reference:C,floating:A,setReference:x,setFloating:_}),[x,_]),$=P.useMemo(()=>({reference:b,floating:S}),[b,S]),V=P.useMemo(()=>{const R={position:n,left:0,top:0};if(!$.floating)return R;const L=GV($.floating,d.x),B=GV($.floating,d.y);return a?{...R,transform:"translate("+L+"px, "+B+"px)",...jte($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:B}},[n,a,$.floating,d.x,d.y]);return P.useMemo(()=>({...d,update:j,refs:z,elements:$,floatingStyles:V}),[d,j,z,$,V])}const AGe=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?WV({element:r.current,padding:i}).fn(n):{}:r?WV({element:r,padding:i}).fn(n):{}}}},TGe=(t,e)=>({...xGe(t),options:[t,e]}),PGe=(t,e)=>({..._Ge(t),options:[t,e]}),NGe=(t,e)=>({...EGe(t),options:[t,e]}),RGe=(t,e)=>({...bGe(t),options:[t,e]}),OGe=(t,e)=>({...wGe(t),options:[t,e]}),IGe=(t,e)=>({...SGe(t),options:[t,e]}),kGe=(t,e)=>({...AGe(t),options:[t,e]});var DGe="Arrow",Fte=P.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return h.jsx(Xe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});Fte.displayName=DGe;var LGe=Fte,RF="Popper",[Bte,Ll]=Gn(RF),[jGe,Ute]=Bte(RF),zte=t=>{const{__scopePopper:e,children:n}=t,[r,i]=P.useState(null);return h.jsx(jGe,{scope:e,anchor:r,onAnchorChange:i,children:n})};zte.displayName=RF;var $te="PopperAnchor",Hte=P.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Ute($te,n),o=P.useRef(null),a=At(e,o);return P.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(Xe.div,{...i,ref:a})});Hte.displayName=$te;var OF="PopperContent",[FGe,BGe]=Bte(OF),Vte=P.forwardRef((t,e)=>{var U,K,Q,ee,ue,J;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:u="partial",hideWhenDetached:f=!1,updatePositionStrategy:g="optimized",onPlaced:v,...y}=t,m=Ute(OF,n),[p,x]=P.useState(null),_=At(e,q=>x(q)),[b,S]=P.useState(null),C=ob(b),A=(C==null?void 0:C.width)??0,M=(C==null?void 0:C.height)??0,T=r+(s!=="center"?"-"+s:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},I=Array.isArray(c)?c:[c],k=I.length>0,j={padding:N,boundary:I.filter(zGe),altBoundary:k},{refs:F,floatingStyles:z,placement:$,isPositioned:V,middlewareData:R}=MGe({strategy:"fixed",placement:T,whileElementsMounted:(...q)=>yGe(...q,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[TGe({mainAxis:i+M,alignmentAxis:o}),l&&PGe({mainAxis:!0,crossAxis:!1,limiter:u==="partial"?NGe():void 0,...j}),l&&RGe({...j}),OGe({...j,apply:({elements:q,rects:ne,availableWidth:fe,availableHeight:me})=>{const{width:pe,height:Ae}=ne.reference,Ce=q.floating.style;Ce.setProperty("--radix-popper-available-width",`${fe}px`),Ce.setProperty("--radix-popper-available-height",`${me}px`),Ce.setProperty("--radix-popper-anchor-width",`${pe}px`),Ce.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),b&&kGe({element:b,padding:a}),$Ge({arrowWidth:A,arrowHeight:M}),f&&IGe({strategy:"referenceHidden",...j})]}),[L,B]=Xte($),W=kn(v);cr(()=>{V&&(W==null||W())},[V,W]);const G=(U=R.arrow)==null?void 0:U.x,Y=(K=R.arrow)==null?void 0:K.y,ie=((Q=R.arrow)==null?void 0:Q.centerOffset)!==0,[ae,se]=P.useState();return cr(()=>{p&&se(window.getComputedStyle(p).zIndex)},[p]),h.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:V?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ee=R.transformOrigin)==null?void 0:ee.x,(ue=R.transformOrigin)==null?void 0:ue.y].join(" "),...((J=R.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx(FGe,{scope:n,placedSide:L,onArrowChange:S,arrowX:G,arrowY:Y,shouldHideArrow:ie,children:h.jsx(Xe.div,{"data-side":L,"data-align":B,...y,ref:_,style:{...y.style,animation:V?void 0:"none"}})})})});Vte.displayName=OF;var Wte="PopperArrow",UGe={top:"bottom",right:"left",bottom:"top",left:"right"},Gte=P.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=BGe(Wte,r),o=UGe[s.placedSide];return h.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:h.jsx(LGe,{...i,ref:n,style:{...i.style,display:"block"}})})});Gte.displayName=Wte;function zGe(t){return t!==null}var $Ge=t=>({name:"transformOrigin",options:t,fn(e){var m,p,x;const{placement:n,rects:r,middlewareData:i}=e,o=((m=i.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=Xte(n),u={start:"0%",center:"50%",end:"100%"}[d],f=(((p=i.arrow)==null?void 0:p.x)??0)+a/2,g=(((x=i.arrow)==null?void 0:x.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=o?u:`${f}px`,y=`${-l}px`):c==="top"?(v=o?u:`${f}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=o?u:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=o?u:`${g}px`),{data:{x:v,y}}}});function Xte(t){const[e,n="center"]=t.split("-");return[e,n]}var IF=zte,Iv=Hte,cb=Vte,ub=Gte,cR="rovingFocusGroup.onEntryFocus",HGe={bubbles:!1,cancelable:!0},ST="RovingFocusGroup",[PD,qte,VGe]=Hc(ST),[WGe,jl]=Gn(ST,[VGe]),[GGe,XGe]=WGe(ST),Kte=P.forwardRef((t,e)=>h.jsx(PD.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(PD.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(qGe,{...t,ref:e})})}));Kte.displayName=ST;var qGe=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...u}=t,f=P.useRef(null),g=At(e,f),v=Ol(s),[y=null,m]=Or({prop:o,defaultProp:a,onChange:l}),[p,x]=P.useState(!1),_=kn(c),b=qte(n),S=P.useRef(!1),[C,A]=P.useState(0);return P.useEffect(()=>{const M=f.current;if(M)return M.addEventListener(cR,_),()=>M.removeEventListener(cR,_)},[_]),h.jsx(GGe,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:y,onItemFocus:P.useCallback(M=>m(M),[m]),onItemShiftTab:P.useCallback(()=>x(!0),[]),onFocusableItemAdd:P.useCallback(()=>A(M=>M+1),[]),onFocusableItemRemove:P.useCallback(()=>A(M=>M-1),[]),children:h.jsx(Xe.div,{tabIndex:p||C===0?-1:0,"data-orientation":r,...u,ref:g,style:{outline:"none",...t.style},onMouseDown:Oe(t.onMouseDown,()=>{S.current=!0}),onFocus:Oe(t.onFocus,M=>{const T=!S.current;if(M.target===M.currentTarget&&T&&!p){const N=new CustomEvent(cR,HGe);if(M.currentTarget.dispatchEvent(N),!N.defaultPrevented){const I=b().filter($=>$.focusable),k=I.find($=>$.active),j=I.find($=>$.id===y),z=[k,j,...I].filter(Boolean).map($=>$.ref.current);Qte(z,d)}}S.current=!1}),onBlur:Oe(t.onBlur,()=>x(!1))})})}),Yte="RovingFocusGroupItem",Zte=P.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=zr(),l=s||a,c=XGe(Yte,n),d=c.currentTabStopId===l,u=qte(n),{onFocusableItemAdd:f,onFocusableItemRemove:g}=c;return P.useEffect(()=>{if(r)return f(),()=>g()},[r,f,g]),h.jsx(PD.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:h.jsx(Xe.span,{tabIndex:d?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Oe(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Oe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=ZGe(v,c.orientation,c.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let p=u().filter(x=>x.focusable).map(x=>x.ref.current);if(y==="last")p.reverse();else if(y==="prev"||y==="next"){y==="prev"&&p.reverse();const x=p.indexOf(v.currentTarget);p=c.loop?QGe(p,x+1):p.slice(x+1)}setTimeout(()=>Qte(p))}})})})});Zte.displayName=Yte;var KGe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function YGe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ZGe(t,e,n){const r=YGe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return KGe[r]}function Qte(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function QGe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var db=Kte,fb=Zte,ND=["Enter"," "],JGe=["ArrowDown","PageUp","Home"],Jte=["ArrowUp","PageDown","End"],e7e=[...JGe,...Jte],t7e={ltr:[...ND,"ArrowRight"],rtl:[...ND,"ArrowLeft"]},n7e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ET="Menu",[Jx,r7e,i7e]=Hc(ET),[Uh,hb]=Gn(ET,[i7e,Ll,jl]),kF=Ll(),ene=jl(),[Igt,zh]=Uh(ET),[kgt,pb]=Uh(ET),s7e="MenuAnchor",DF=P.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kF(n);return h.jsx(Iv,{...i,...r,ref:e})});DF.displayName=s7e;var LF="MenuPortal",[o7e,tne]=Uh(LF,{forceMount:void 0}),nne=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=zh(LF,e);return h.jsx(o7e,{scope:e,forceMount:n,children:h.jsx(sr,{present:n||s.open,children:h.jsx(mv,{asChild:!0,container:i,children:r})})})};nne.displayName=LF;var Fo="MenuContent",[a7e,jF]=Uh(Fo),rne=P.forwardRef((t,e)=>{const n=tne(Fo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=zh(Fo,t.__scopeMenu),o=pb(Fo,t.__scopeMenu);return h.jsx(Jx.Provider,{scope:t.__scopeMenu,children:h.jsx(sr,{present:r||s.open,children:h.jsx(Jx.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(l7e,{...i,ref:e}):h.jsx(c7e,{...i,ref:e})})})})}),l7e=P.forwardRef((t,e)=>{const n=zh(Fo,t.__scopeMenu),r=P.useRef(null),i=At(e,r);return P.useEffect(()=>{const s=r.current;if(s)return wA(s)},[]),h.jsx(FF,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),c7e=P.forwardRef((t,e)=>{const n=zh(Fo,t.__scopeMenu);return h.jsx(FF,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),u7e=dd("MenuContent.ScrollLock"),FF=P.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:g,disableOutsideScroll:v,...y}=t,m=zh(Fo,n),p=pb(Fo,n),x=kF(n),_=ene(n),b=r7e(n),[S,C]=P.useState(null),A=P.useRef(null),M=At(e,A,m.onContentChange),T=P.useRef(0),N=P.useRef(""),I=P.useRef(0),k=P.useRef(null),j=P.useRef("right"),F=P.useRef(0),z=v?H_:P.Fragment,$=v?{as:u7e,allowPinchZoom:!0}:void 0,V=L=>{var U,K;const B=N.current+L,W=b().filter(Q=>!Q.disabled),G=document.activeElement,Y=(U=W.find(Q=>Q.ref.current===G))==null?void 0:U.textValue,ie=W.map(Q=>Q.textValue),ae=w7e(ie,B,Y),se=(K=W.find(Q=>Q.textValue===ae))==null?void 0:K.ref.current;(function Q(ee){N.current=ee,window.clearTimeout(T.current),ee!==""&&(T.current=window.setTimeout(()=>Q(""),1e3))})(B),se&&setTimeout(()=>se.focus())};P.useEffect(()=>()=>window.clearTimeout(T.current),[]),_A();const R=P.useCallback(L=>{var W,G;return j.current===((W=k.current)==null?void 0:W.side)&&E7e(L,(G=k.current)==null?void 0:G.area)},[]);return h.jsx(a7e,{scope:n,searchRef:N,onItemEnter:P.useCallback(L=>{R(L)&&L.preventDefault()},[R]),onItemLeave:P.useCallback(L=>{var B;R(L)||((B=A.current)==null||B.focus(),C(null))},[R]),onTriggerLeave:P.useCallback(L=>{R(L)&&L.preventDefault()},[R]),pointerGraceTimerRef:I,onPointerGraceIntentChange:P.useCallback(L=>{k.current=L},[]),children:h.jsx(z,{...$,children:h.jsx($_,{asChild:!0,trapped:i,onMountAutoFocus:Oe(s,L=>{var B;L.preventDefault(),(B=A.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:f,onDismiss:g,children:h.jsx(db,{asChild:!0,..._,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Oe(l,L=>{p.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(cb,{role:"menu","aria-orientation":"vertical","data-state":xne(m.open),"data-radix-menu-content":"",dir:p.dir,...x,...y,ref:M,style:{outline:"none",...y.style},onKeyDown:Oe(y.onKeyDown,L=>{const W=L.target.closest("[data-radix-menu-content]")===L.currentTarget,G=L.ctrlKey||L.altKey||L.metaKey,Y=L.key.length===1;W&&(L.key==="Tab"&&L.preventDefault(),!G&&Y&&V(L.key));const ie=A.current;if(L.target!==ie||!e7e.includes(L.key))return;L.preventDefault();const se=b().filter(U=>!U.disabled).map(U=>U.ref.current);Jte.includes(L.key)&&se.reverse(),_7e(se)}),onBlur:Oe(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(T.current),N.current="")}),onPointerMove:Oe(t.onPointerMove,e_(L=>{const B=L.target,W=F.current!==L.clientX;if(L.currentTarget.contains(B)&&W){const G=L.clientX>F.current?"right":"left";j.current=G,F.current=L.clientX}}))})})})})})})});rne.displayName=Fo;var d7e="MenuGroup",BF=P.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Xe.div,{role:"group",...r,ref:e})});BF.displayName=d7e;var f7e="MenuLabel",ine=P.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Xe.div,{...r,ref:e})});ine.displayName=f7e;var FC="MenuItem",XV="menu.itemSelect",CT=P.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=P.useRef(null),o=pb(FC,t.__scopeMenu),a=jF(FC,t.__scopeMenu),l=At(e,s),c=P.useRef(!1),d=()=>{const u=s.current;if(!n&&u){const f=new CustomEvent(XV,{bubbles:!0,cancelable:!0});u.addEventListener(XV,g=>r==null?void 0:r(g),{once:!0}),ux(u,f),f.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(sne,{...i,ref:l,disabled:n,onClick:Oe(t.onClick,d),onPointerDown:u=>{var f;(f=t.onPointerDown)==null||f.call(t,u),c.current=!0},onPointerUp:Oe(t.onPointerUp,u=>{var f;c.current||(f=u.currentTarget)==null||f.click()}),onKeyDown:Oe(t.onKeyDown,u=>{const f=a.searchRef.current!=="";n||f&&u.key===" "||ND.includes(u.key)&&(u.currentTarget.click(),u.preventDefault())})})});CT.displayName=FC;var sne=P.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=jF(FC,n),a=ene(n),l=P.useRef(null),c=At(e,l),[d,u]=P.useState(!1),[f,g]=P.useState("");return P.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[s.children]),h.jsx(Jx.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:h.jsx(fb,{asChild:!0,...a,focusable:!r,children:h.jsx(Xe.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Oe(t.onPointerMove,e_(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Oe(t.onPointerLeave,e_(v=>o.onItemLeave(v))),onFocus:Oe(t.onFocus,()=>u(!0)),onBlur:Oe(t.onBlur,()=>u(!1))})})})}),h7e="MenuCheckboxItem",one=P.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return h.jsx(dne,{scope:t.__scopeMenu,checked:n,children:h.jsx(CT,{role:"menuitemcheckbox","aria-checked":BC(n)?"mixed":n,...i,ref:e,"data-state":zF(n),onSelect:Oe(i.onSelect,()=>r==null?void 0:r(BC(n)?!0:!n),{checkForDefaultPrevented:!1})})})});one.displayName=h7e;var ane="MenuRadioGroup",[p7e,m7e]=Uh(ane,{value:void 0,onValueChange:()=>{}}),lne=P.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=kn(r);return h.jsx(p7e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:h.jsx(BF,{...i,ref:e})})});lne.displayName=ane;var cne="MenuRadioItem",une=P.forwardRef((t,e)=>{const{value:n,...r}=t,i=m7e(cne,t.__scopeMenu),s=n===i.value;return h.jsx(dne,{scope:t.__scopeMenu,checked:s,children:h.jsx(CT,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":zF(s),onSelect:Oe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});une.displayName=cne;var UF="MenuItemIndicator",[dne,g7e]=Uh(UF,{checked:!1}),fne=P.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=g7e(UF,n);return h.jsx(sr,{present:r||BC(s.checked)||s.checked===!0,children:h.jsx(Xe.span,{...i,ref:e,"data-state":zF(s.checked)})})});fne.displayName=UF;var v7e="MenuSeparator",hne=P.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});hne.displayName=v7e;var y7e="MenuArrow",pne=P.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=kF(n);return h.jsx(ub,{...i,...r,ref:e})});pne.displayName=y7e;var x7e="MenuSub",[Dgt,mne]=Uh(x7e),a0="MenuSubTrigger",gne=P.forwardRef((t,e)=>{const n=zh(a0,t.__scopeMenu),r=pb(a0,t.__scopeMenu),i=mne(a0,t.__scopeMenu),s=jF(a0,t.__scopeMenu),o=P.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},d=P.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return P.useEffect(()=>d,[d]),P.useEffect(()=>{const u=a.current;return()=>{window.clearTimeout(u),l(null)}},[a,l]),h.jsx(DF,{asChild:!0,...c,children:h.jsx(sne,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":xne(n.open),...t,ref:Sl(e,i.onTriggerChange),onClick:u=>{var f;(f=t.onClick)==null||f.call(t,u),!(t.disabled||u.defaultPrevented)&&(u.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Oe(t.onPointerMove,e_(u=>{s.onItemEnter(u),!u.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:Oe(t.onPointerLeave,e_(u=>{var g,v;d();const f=(g=n.content)==null?void 0:g.getBoundingClientRect();if(f){const y=(v=n.content)==null?void 0:v.dataset.side,m=y==="right",p=m?-5:5,x=f[m?"left":"right"],_=f[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:u.clientX+p,y:u.clientY},{x,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x,y:f.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(u),u.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Oe(t.onKeyDown,u=>{var g;const f=s.searchRef.current!=="";t.disabled||f&&u.key===" "||t7e[r.dir].includes(u.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),u.preventDefault())})})})});gne.displayName=a0;var vne="MenuSubContent",yne=P.forwardRef((t,e)=>{const n=tne(Fo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=zh(Fo,t.__scopeMenu),o=pb(Fo,t.__scopeMenu),a=mne(vne,t.__scopeMenu),l=P.useRef(null),c=At(e,l);return h.jsx(Jx.Provider,{scope:t.__scopeMenu,children:h.jsx(sr,{present:r||s.open,children:h.jsx(Jx.Slot,{scope:t.__scopeMenu,children:h.jsx(FF,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var u;o.isUsingKeyboardRef.current&&((u=l.current)==null||u.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Oe(t.onFocusOutside,d=>{d.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Oe(t.onKeyDown,d=>{var g;const u=d.currentTarget.contains(d.target),f=n7e[o.dir].includes(d.key);u&&f&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});yne.displayName=vne;function xne(t){return t?"open":"closed"}function BC(t){return t==="indeterminate"}function zF(t){return BC(t)?"indeterminate":t?"checked":"unchecked"}function _7e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function b7e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function w7e(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=b7e(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function S7e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function E7e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return S7e(n,e)}function e_(t){return e=>e.pointerType==="mouse"?t(e):void 0}var $F=DF,HF=nne,VF=rne,WF=BF,GF=ine,XF=CT,qF=one,KF=lne,YF=une,ZF=fne,QF=hne,JF=pne,e4=gne,t4=yne,_ne="ContextMenu",[C7e,Lgt]=Gn(_ne,[hb]),Is=hb(),[jgt,bne]=C7e(_ne),wne="ContextMenuTrigger",M7e=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,s=bne(wne,n),o=Is(n),a=P.useRef({x:0,y:0}),l=P.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=P.useRef(0),d=P.useCallback(()=>window.clearTimeout(c.current),[]),u=f=>{a.current={x:f.clientX,y:f.clientY},s.onOpenChange(!0)};return P.useEffect(()=>d,[d]),P.useEffect(()=>void(r&&d()),[r,d]),h.jsxs(h.Fragment,{children:[h.jsx($F,{...o,virtualRef:l}),h.jsx(Xe.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Oe(t.onContextMenu,f=>{d(),u(f),f.preventDefault()}),onPointerDown:r?t.onPointerDown:Oe(t.onPointerDown,g1(f=>{d(),c.current=window.setTimeout(()=>u(f),700)})),onPointerMove:r?t.onPointerMove:Oe(t.onPointerMove,g1(d)),onPointerCancel:r?t.onPointerCancel:Oe(t.onPointerCancel,g1(d)),onPointerUp:r?t.onPointerUp:Oe(t.onPointerUp,g1(d))})]})});M7e.displayName=wne;var A7e="ContextMenuPortal",Sne=t=>{const{__scopeContextMenu:e,...n}=t,r=Is(e);return h.jsx(HF,{...r,...n})};Sne.displayName=A7e;var Ene="ContextMenuContent",Cne=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=bne(Ene,n),s=Is(n),o=P.useRef(!1);return h.jsx(VF,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var l;(l=t.onCloseAutoFocus)==null||l.call(t,a),!a.defaultPrevented&&o.current&&a.preventDefault(),o.current=!1},onInteractOutside:a=>{var l;(l=t.onInteractOutside)==null||l.call(t,a),!a.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cne.displayName=Ene;var T7e="ContextMenuGroup",P7e=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(WF,{...i,...r,ref:e})});P7e.displayName=T7e;var N7e="ContextMenuLabel",Mne=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(GF,{...i,...r,ref:e})});Mne.displayName=N7e;var R7e="ContextMenuItem",Ane=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(XF,{...i,...r,ref:e})});Ane.displayName=R7e;var O7e="ContextMenuCheckboxItem",Tne=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(qF,{...i,...r,ref:e})});Tne.displayName=O7e;var I7e="ContextMenuRadioGroup",k7e=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(KF,{...i,...r,ref:e})});k7e.displayName=I7e;var D7e="ContextMenuRadioItem",Pne=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(YF,{...i,...r,ref:e})});Pne.displayName=D7e;var L7e="ContextMenuItemIndicator",Nne=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(ZF,{...i,...r,ref:e})});Nne.displayName=L7e;var j7e="ContextMenuSeparator",Rne=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(QF,{...i,...r,ref:e})});Rne.displayName=j7e;var F7e="ContextMenuArrow",B7e=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(JF,{...i,...r,ref:e})});B7e.displayName=F7e;var U7e="ContextMenuSubTrigger",One=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(e4,{...i,...r,ref:e})});One.displayName=U7e;var z7e="ContextMenuSubContent",Ine=P.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Is(n);return h.jsx(t4,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ine.displayName=z7e;function g1(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var $7e=Sne,kne=Cne,Dne=Mne,Lne=Ane,jne=Tne,Fne=Pne,Bne=Nne,Une=Rne,zne=One,$ne=Ine;const H7e=P.forwardRef(({className:t,inset:e,children:n,...r},i)=>h.jsxs(zne,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,h.jsx(mA,{className:"ml-auto h-4 w-4"})]}));H7e.displayName=zne.displayName;const V7e=P.forwardRef(({className:t,...e},n)=>h.jsx($ne,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e}));V7e.displayName=$ne.displayName;const W7e=P.forwardRef(({className:t,...e},n)=>h.jsx($7e,{children:h.jsx(kne,{ref:n,className:we("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e})}));W7e.displayName=kne.displayName;const G7e=P.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(Lne,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));G7e.displayName=Lne.displayName;const X7e=P.forwardRef(({className:t,children:e,checked:n,...r},i)=>h.jsxs(jne,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Bne,{children:h.jsx(B_,{className:"h-4 w-4"})})}),e]}));X7e.displayName=jne.displayName;const q7e=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Fne,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Bne,{children:h.jsx(gA,{className:"h-2 w-2 fill-current"})})}),e]}));q7e.displayName=Fne.displayName;const K7e=P.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(Dne,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",t),...n}));K7e.displayName=Dne.displayName;const Y7e=P.forwardRef(({className:t,...e},n)=>h.jsx(Une,{ref:n,className:we("-mx-1 my-1 h-px bg-border",t),...e}));Y7e.displayName=Une.displayName;const n4=SA,Hne=Yj,Z7e=V_,Vne=P.forwardRef(({className:t,...e},n)=>h.jsx(Oh,{ref:n,className:we("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Vne.displayName=Oh.displayName;const MT=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Z7e,{children:[h.jsx(Vne,{}),h.jsxs(Ih,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,h.jsxs(W_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(hv,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));MT.displayName=Ih.displayName;const r4=({className:t,...e})=>h.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});r4.displayName="DialogHeader";const i4=P.forwardRef(({className:t,...e},n)=>h.jsx(gv,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));i4.displayName=gv.displayName;const s4=P.forwardRef(({className:t,...e},n)=>h.jsx(vv,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));s4.displayName=vv.displayName;function Q7e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Wne=te.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),kv=()=>{const t=te.useContext(Wne);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Q7e(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function J7e(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function e9e(){return o4(/^Mac/)}function t9e(){return o4(/^iPhone/)}function qV(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function n9e(){return o4(/^iPad/)||e9e()&&navigator.maxTouchPoints>1}function Gne(){return t9e()||n9e()}function o4(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const r9e=24,i9e=typeof window<"u"?P.useLayoutEffect:P.useEffect;function KV(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const uR=typeof document<"u"&&window.visualViewport;function YV(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Xne(t){for(YV(t)&&(t=t.parentElement);t&&!YV(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const s9e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let v1=0,dR;function o9e(t={}){let{isDisabled:e}=t;i9e(()=>{if(!e)return v1++,v1===1&&Gne()&&(dR=a9e()),()=>{v1--,v1===0&&(dR==null||dR())}},[e])}function a9e(){let t,e=0,n=u=>{t=Xne(u.target),!(t===document.documentElement&&t===document.body)&&(e=u.changedTouches[0].pageY)},r=u=>{if(!t||t===document.documentElement||t===document.body){u.preventDefault();return}let f=u.changedTouches[0].pageY,g=t.scrollTop,v=t.scrollHeight-t.clientHeight;v!==0&&((g<=0&&f>e||g>=v&&f<e)&&u.preventDefault(),e=f)},i=u=>{let f=u.target;RD(f)&&f!==document.activeElement&&(u.preventDefault(),f.style.transform="translateY(-2000px)",f.focus(),requestAnimationFrame(()=>{f.style.transform=""}))},s=u=>{let f=u.target;RD(f)&&(f.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{f.style.transform="",uR&&(uR.height<window.innerHeight?requestAnimationFrame(()=>{ZV(f)}):uR.addEventListener("resize",()=>ZV(f),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=KV(l9e(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let d=KV(ky(document,"touchstart",n,{passive:!1,capture:!0}),ky(document,"touchmove",r,{passive:!1,capture:!0}),ky(document,"touchend",i,{passive:!1,capture:!0}),ky(document,"focus",s,!0),ky(window,"scroll",o));return()=>{c(),d(),window.scrollTo(a,l)}}function l9e(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function ky(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function ZV(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=Xne(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,i=t.getBoundingClientRect().top,s=t.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+r9e;s>o&&(n.scrollTop+=i-r)}t=n.parentElement}}function RD(t){return t instanceof HTMLInputElement&&!s9e.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function c9e(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function u9e(...t){return e=>t.forEach(n=>c9e(n,e))}function qne(...t){return P.useCallback(u9e(...t),t)}const Kne=new WeakMap;function Gr(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([i,s])=>{if(i.startsWith("--")){t.style.setProperty(i,s);return}r[i]=t.style[i],t.style[i]=s}),!n&&Kne.set(t,r)}function d9e(t,e){if(!t||!(t instanceof HTMLElement))return;let n=Kne.get(t);n&&(t.style[e]=n[e])}const Fr=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function y1(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[Fr(e)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[Fr(e)?5:4]):null)}function f9e(t){return 8*(Math.log(t+1)-2)}function fR(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function h9e(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const hr={DURATION:.5,EASE:[.32,.72,0,1]},Yne=.4,p9e=.25,m9e=100,Zne=8,qd=16,OD=26,hR="vaul-dragging";function Qne(t){const e=te.useRef(t);return te.useEffect(()=>{e.current=t}),te.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function g9e({defaultProp:t,onChange:e}){const n=te.useState(t),[r]=n,i=te.useRef(r),s=Qne(e);return te.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Jne({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=g9e({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Qne(n),l=te.useCallback(c=>{if(s){const u=typeof c=="function"?c(t):c;u!==t&&a(u)}else i(c)},[s,t,i,a]);return[o,l]}function v9e({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:s,onSnapPointChange:o,direction:a="bottom",container:l,snapToSequentialPoint:c}){const[d,u]=Jne({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[f,g]=te.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);te.useEffect(()=>{function A(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const v=te.useMemo(()=>d===(n==null?void 0:n[n.length-1])||null,[n,d]),y=te.useMemo(()=>{var A;return(A=n==null?void 0:n.findIndex(M=>M===d))!=null?A:null},[n,d]),m=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===d||!n,p=te.useMemo(()=>{const A=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var M;return(M=n==null?void 0:n.map(T=>{const N=typeof T=="string";let I=0;if(N&&(I=parseInt(T,10)),Fr(a)){const j=N?I:f?T*A.height:0;return f?a==="bottom"?A.height-j:-A.height+j:j}const k=N?I:f?T*A.width:0;return f?a==="right"?A.width-k:-A.width+k:k}))!=null?M:[]},[n,f,l]),x=te.useMemo(()=>y!==null?p==null?void 0:p[y]:null,[p,y]),_=te.useCallback(A=>{var M;const T=(M=p==null?void 0:p.findIndex(N=>N===A))!=null?M:null;o(T),Gr(r.current,{transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,transform:Fr(a)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`}),p&&T!==p.length-1&&s!==void 0&&T!==s&&T<s?Gr(i.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,opacity:"0"}):Gr(i.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,opacity:"1"}),u(n==null?void 0:n[Math.max(T,0)])},[r.current,n,p,s,i,u]);te.useEffect(()=>{if(d||t){var A;const M=(A=n==null?void 0:n.findIndex(T=>T===t||T===d))!=null?A:-1;p&&M!==-1&&typeof p[M]=="number"&&_(p[M])}},[d,t,n,p,_]);function b({draggedDistance:A,closeDrawer:M,velocity:T,dismissible:N}){if(s===void 0)return;const I=a==="bottom"||a==="right"?(x??0)-A:(x??0)+A,k=y===s-1,j=y===0,F=A>0;if(k&&Gr(i.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`}),!c&&T>2&&!F){N?M():_(p[0]);return}if(!c&&T>2&&F&&p&&n){_(p[n.length-1]);return}const z=p==null?void 0:p.reduce((V,R)=>typeof V!="number"||typeof R!="number"?V:Math.abs(R-I)<Math.abs(V-I)?R:V),$=Fr(a)?window.innerHeight:window.innerWidth;if(T>Yne&&Math.abs(A)<$*.4){const V=F?1:-1;if(V>0&&v&&n){_(p[n.length-1]);return}if(j&&V<0&&N&&M(),y===null)return;_(p[y+V]);return}_(z)}function S({draggedDistance:A}){if(x===null)return;const M=a==="bottom"||a==="right"?x-A:x+A;(a==="bottom"||a==="right")&&M<p[p.length-1]||(a==="top"||a==="left")&&M>p[p.length-1]||Gr(r.current,{transform:Fr(a)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`})}function C(A,M){if(!n||typeof y!="number"||!p||s===void 0)return null;const T=y===s-1;if(y>=s&&M)return 0;if(T&&!M)return 1;if(!m&&!T)return null;const I=T?y+1:y-1,k=T?p[I]-p[I-1]:p[I+1]-p[I],j=A/Math.abs(k);return T?1-j:j}return{isLastSnapPoint:v,activeSnapPoint:d,shouldFade:m,getPercentageDragged:C,setActiveSnapPoint:u,activeSnapPointIndex:y,onRelease:b,onDrag:S,snapPointsOffset:p}}const y9e=()=>()=>{};function x9e(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=kv(),s=te.useRef(null),o=P.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-OD)/window.innerWidth}te.useEffect(()=>{if(e&&n){s.current&&clearTimeout(s.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;h9e(r&&!i?fR(document.body,{background:"black"}):y9e,fR(l,{transformOrigin:Fr(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${hr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${hr.EASE.join(",")})`}));const c=fR(l,{borderRadius:`${Zne}px`,overflow:"hidden",...Fr(t)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),s.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},hr.DURATION*1e3)}}},[e,n,o])}let Dy=null;function _9e({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:s}){const[o,a]=te.useState(()=>typeof window<"u"?window.location.href:""),l=te.useRef(0),c=te.useCallback(()=>{if(qV()&&Dy===null&&t&&!s){Dy={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:u,innerHeight:f}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-u}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=f-window.innerHeight;g&&l.current>=f&&(document.body.style.top=`${-(l.current+g)}px`)}),300)}},[t]),d=te.useCallback(()=>{if(qV()&&Dy!==null&&!s){const u=-parseInt(document.body.style.top,10),f=-parseInt(document.body.style.left,10);Object.assign(document.body.style,Dy),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){a(window.location.href);return}window.scrollTo(f,u)}),Dy=null}},[o]);return te.useEffect(()=>{function u(){l.current=window.scrollY}return u(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}},[]),te.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||d()}},[e,d]),te.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&c(),e||window.setTimeout(()=>{d()},500)):d())},[t,r,o,e,n,c,d]),{restorePositionSetting:d}}function ere({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:i,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:a=!0,closeThreshold:l=p9e,scrollLockTimeout:c=m9e,dismissible:d=!0,handleOnly:u=!1,fadeFromIndex:f=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:y,modal:m=!0,onClose:p,nested:x,noBodyStyles:_=!1,direction:b="bottom",defaultOpen:S=!1,disablePreventScroll:C=!0,snapToSequentialPoint:A=!1,preventScrollRestoration:M=!1,repositionInputs:T=!0,onAnimationEnd:N,container:I,autoFocus:k=!1}){var j,F;const[z=!1,$]=Jne({defaultProp:S,prop:t,onChange:ce=>{e==null||e(ce),!ce&&!x&&Ie(),setTimeout(()=>{N==null||N(ce)},hr.DURATION*1e3),ce&&!m&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ce||(document.body.style.pointerEvents="auto")}}),[V,R]=te.useState(!1),[L,B]=te.useState(!1),[W,G]=te.useState(!1),Y=te.useRef(null),ie=te.useRef(null),ae=te.useRef(null),se=te.useRef(null),U=te.useRef(null),K=te.useRef(!1),Q=te.useRef(null),ee=te.useRef(0),ue=te.useRef(!1),J=te.useRef(!S),q=te.useRef(0),ne=te.useRef(null),fe=te.useRef(((j=ne.current)==null?void 0:j.getBoundingClientRect().height)||0),me=te.useRef(((F=ne.current)==null?void 0:F.getBoundingClientRect().width)||0),pe=te.useRef(0),Ae=te.useCallback(ce=>{s&&ce===re.length-1&&(ie.current=new Date)},[]),{activeSnapPoint:Ce,activeSnapPointIndex:ke,setActiveSnapPoint:nt,onRelease:Je,snapPointsOffset:re,onDrag:Z,shouldFade:ve,getPercentageDragged:Se}=v9e({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:ne,fadeFromIndex:f,overlayRef:Y,onSnapPointChange:Ae,direction:b,container:I,snapToSequentialPoint:A});o9e({isDisabled:!z||L||!m||W||!V||!T||!C});const{restorePositionSetting:Ie}=_9e({isOpen:z,modal:m,nested:x??!1,hasBeenOpened:V,preventScrollRestoration:M,noBodyStyles:_});function Me(){return(window.innerWidth-OD)/window.innerWidth}function at(ce){var Ne,Be;!d&&!s||ne.current&&!ne.current.contains(ce.target)||(fe.current=((Ne=ne.current)==null?void 0:Ne.getBoundingClientRect().height)||0,me.current=((Be=ne.current)==null?void 0:Be.getBoundingClientRect().width)||0,B(!0),ae.current=new Date,Gne()&&window.addEventListener("touchend",()=>K.current=!1,{once:!0}),ce.target.setPointerCapture(ce.pointerId),ee.current=Fr(b)?ce.pageY:ce.pageX)}function He(ce,Ne){var Be;let Ve=ce;const Ue=(Be=window.getSelection())==null?void 0:Be.toString(),Le=ne.current?y1(ne.current,b):null,Ye=new Date;if(Ve.tagName==="SELECT"||Ve.hasAttribute("data-vaul-no-drag")||Ve.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(ie.current&&Ye.getTime()-ie.current.getTime()<500)return!1;if(Le!==null&&(b==="bottom"?Le>0:Le<0))return!0;if(Ue&&Ue.length>0)return!1;if(U.current&&Ye.getTime()-U.current.getTime()<c&&Le===0||Ne)return U.current=Ye,!1;for(;Ve;){if(Ve.scrollHeight>Ve.clientHeight){if(Ve.scrollTop!==0)return U.current=new Date,!1;if(Ve.getAttribute("role")==="dialog")return!0}Ve=Ve.parentNode}return!0}function st(ce){if(ne.current&&L){const Ne=b==="bottom"||b==="right"?1:-1,Be=(ee.current-(Fr(b)?ce.pageY:ce.pageX))*Ne,Ve=Be>0,Ue=s&&!d&&!Ve;if(Ue&&ke===0)return;const Le=Math.abs(Be),Ye=document.querySelector("[data-vaul-drawer-wrapper]"),mt=b==="bottom"||b==="top"?fe.current:me.current;let jt=Le/mt;const zt=Se(Le,Ve);if(zt!==null&&(jt=zt),Ue&&jt>=1||!K.current&&!He(ce.target,Ve))return;if(ne.current.classList.add(hR),K.current=!0,Gr(ne.current,{transition:"none"}),Gr(Y.current,{transition:"none"}),s&&Z({draggedDistance:Be}),Ve&&!s){const Rn=f9e(Be),Ko=Math.min(Rn*-1,0)*Ne;Gr(ne.current,{transform:Fr(b)?`translate3d(0, ${Ko}px, 0)`:`translate3d(${Ko}px, 0, 0)`});return}const Ln=1-jt;if((ve||f&&ke===f-1)&&(r==null||r(ce,jt),Gr(Y.current,{opacity:`${Ln}`,transition:"none"},!0)),Ye&&Y.current&&o){const Rn=Math.min(Me()+jt*(1-Me()),1),Ko=8-jt*8,cs=Math.max(0,14-jt*14);Gr(Ye,{borderRadius:`${Ko}px`,transform:Fr(b)?`scale(${Rn}) translate3d(0, ${cs}px, 0)`:`scale(${Rn}) translate3d(${cs}px, 0, 0)`,transition:"none"},!0)}if(!s){const Rn=Le*Ne;Gr(ne.current,{transform:Fr(b)?`translate3d(0, ${Rn}px, 0)`:`translate3d(${Rn}px, 0, 0)`})}}}te.useEffect(()=>{window.requestAnimationFrame(()=>{J.current=!0})},[]),te.useEffect(()=>{var ce;function Ne(){if(!ne.current||!T)return;const Be=document.activeElement;if(RD(Be)||ue.current){var Ve;const Ue=((Ve=window.visualViewport)==null?void 0:Ve.height)||0,Le=window.innerHeight;let Ye=Le-Ue;const mt=ne.current.getBoundingClientRect().height||0,jt=mt>Le*.8;pe.current||(pe.current=mt);const zt=ne.current.getBoundingClientRect().top;if(Math.abs(q.current-Ye)>60&&(ue.current=!ue.current),s&&s.length>0&&re&&ke){const Ln=re[ke]||0;Ye+=Ln}if(q.current=Ye,mt>Ue||ue.current){const Ln=ne.current.getBoundingClientRect().height;let Rn=Ln;Ln>Ue&&(Rn=Ue-(jt?zt:OD)),y?ne.current.style.height=`${Ln-Math.max(Ye,0)}px`:ne.current.style.height=`${Math.max(Rn,Ue-zt)}px`}else J7e()||(ne.current.style.height=`${pe.current}px`);s&&s.length>0&&!ue.current?ne.current.style.bottom="0px":ne.current.style.bottom=`${Math.max(Ye,0)}px`}}return(ce=window.visualViewport)==null||ce.addEventListener("resize",Ne),()=>{var Be;return(Be=window.visualViewport)==null?void 0:Be.removeEventListener("resize",Ne)}},[ke,s,re]);function We(ce){rt(),p==null||p(),ce||$(!1),setTimeout(()=>{s&&nt(s[0])},hr.DURATION*1e3)}function $e(){if(!ne.current)return;const ce=document.querySelector("[data-vaul-drawer-wrapper]"),Ne=y1(ne.current,b);Gr(ne.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`}),Gr(Y.current,{transition:`opacity ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,opacity:"1"}),o&&Ne&&Ne>0&&z&&Gr(ce,{borderRadius:`${Zne}px`,overflow:"hidden",...Fr(b)?{transform:`scale(${Me()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Me()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${hr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${hr.EASE.join(",")})`},!0)}function rt(){!L||!ne.current||(ne.current.classList.remove(hR),K.current=!1,B(!1),se.current=new Date)}function Ct(ce){if(!L||!ne.current)return;ne.current.classList.remove(hR),K.current=!1,B(!1),se.current=new Date;const Ne=y1(ne.current,b);if(!ce||!He(ce.target,!1)||!Ne||Number.isNaN(Ne)||ae.current===null)return;const Be=se.current.getTime()-ae.current.getTime(),Ve=ee.current-(Fr(b)?ce.pageY:ce.pageX),Ue=Math.abs(Ve)/Be;if(Ue>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),s){Je({draggedDistance:Ve*(b==="bottom"||b==="right"?1:-1),closeDrawer:We,velocity:Ue,dismissible:d}),i==null||i(ce,!0);return}if(b==="bottom"||b==="right"?Ve>0:Ve<0){$e(),i==null||i(ce,!0);return}if(Ue>Yne){We(),i==null||i(ce,!1);return}var Le;const Ye=Math.min((Le=ne.current.getBoundingClientRect().height)!=null?Le:0,window.innerHeight);var mt;const jt=Math.min((mt=ne.current.getBoundingClientRect().width)!=null?mt:0,window.innerWidth),zt=b==="left"||b==="right";if(Math.abs(Ne)>=(zt?jt:Ye)*l){We(),i==null||i(ce,!1);return}i==null||i(ce,!0),$e()}te.useEffect(()=>(z&&(Gr(document.documentElement,{scrollBehavior:"auto"}),ie.current=new Date),()=>{d9e(document.documentElement,"scrollBehavior")}),[z]);function he(ce){const Ne=ce?(window.innerWidth-qd)/window.innerWidth:1,Be=ce?-qd:0;Q.current&&window.clearTimeout(Q.current),Gr(ne.current,{transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,transform:Fr(b)?`scale(${Ne}) translate3d(0, ${Be}px, 0)`:`scale(${Ne}) translate3d(${Be}px, 0, 0)`}),!ce&&ne.current&&(Q.current=setTimeout(()=>{const Ve=y1(ne.current,b);Gr(ne.current,{transition:"none",transform:Fr(b)?`translate3d(0, ${Ve}px, 0)`:`translate3d(${Ve}px, 0, 0)`})},500))}function Ee(ce,Ne){if(Ne<0)return;const Be=(window.innerWidth-qd)/window.innerWidth,Ve=Be+Ne*(1-Be),Ue=-qd+Ne*qd;Gr(ne.current,{transform:Fr(b)?`scale(${Ve}) translate3d(0, ${Ue}px, 0)`:`scale(${Ve}) translate3d(${Ue}px, 0, 0)`,transition:"none"})}function Ke(ce,Ne){const Be=Fr(b)?window.innerHeight:window.innerWidth,Ve=Ne?(Be-qd)/Be:1,Ue=Ne?-qd:0;Ne&&Gr(ne.current,{transition:`transform ${hr.DURATION}s cubic-bezier(${hr.EASE.join(",")})`,transform:Fr(b)?`scale(${Ve}) translate3d(0, ${Ue}px, 0)`:`scale(${Ve}) translate3d(${Ue}px, 0, 0)`})}return te.useEffect(()=>{m||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[m]),te.createElement(SA,{defaultOpen:S,onOpenChange:ce=>{!d&&!ce||(ce?R(!0):We(!0),$(ce))},open:z},te.createElement(Wne.Provider,{value:{activeSnapPoint:Ce,snapPoints:s,setActiveSnapPoint:nt,drawerRef:ne,overlayRef:Y,onOpenChange:e,onPress:at,onRelease:Ct,onDrag:st,dismissible:d,shouldAnimate:J,handleOnly:u,isOpen:z,isDragging:L,shouldFade:ve,closeDrawer:We,onNestedDrag:Ee,onNestedOpenChange:he,onNestedRelease:Ke,keyboardIsOpen:ue,modal:m,snapPointsOffset:re,activeSnapPointIndex:ke,direction:b,shouldScaleBackground:o,setBackgroundColorOnScale:a,noBodyStyles:_,container:I,autoFocus:k}},n))}const tre=te.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:s,isOpen:o,modal:a,shouldAnimate:l}=kv(),c=qne(e,n),d=r&&r.length>0;if(!a)return null;const u=te.useCallback(f=>i(f),[i]);return te.createElement(Oh,{onMouseUp:u,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&d?"true":"false","data-vaul-snap-points-overlay":o&&s?"true":"false","data-vaul-animate":l!=null&&l.current?"true":"false",...t})});tre.displayName="Drawer.Overlay";const nre=te.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},i){const{drawerRef:s,onPress:o,onRelease:a,onDrag:l,keyboardIsOpen:c,snapPointsOffset:d,activeSnapPointIndex:u,modal:f,isOpen:g,direction:v,snapPoints:y,container:m,handleOnly:p,shouldAnimate:x,autoFocus:_}=kv(),[b,S]=te.useState(!1),C=qne(i,s),A=te.useRef(null),M=te.useRef(null),T=te.useRef(!1),N=y&&y.length>0;x9e();const I=(j,F,z=0)=>{if(T.current)return!0;const $=Math.abs(j.y),V=Math.abs(j.x),R=V>$,L=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(j.x*L<0)&&V>=0&&V<=z)return R}else if(!(j.y*L<0)&&$>=0&&$<=z)return!R;return T.current=!0,!0};te.useEffect(()=>{N&&window.requestAnimationFrame(()=>{S(!0)})},[]);function k(j){A.current=null,T.current=!1,a(j)}return te.createElement(Ih,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":g&&N?"true":"false","data-vaul-custom-container":m?"true":"false","data-vaul-animate":x!=null&&x.current?"true":"false",...r,ref:C,style:d&&d.length>0?{"--snap-point-height":`${d[u??0]}px`,...e}:e,onPointerDown:j=>{p||(r.onPointerDown==null||r.onPointerDown.call(r,j),A.current={x:j.pageX,y:j.pageY},o(j))},onOpenAutoFocus:j=>{n==null||n(j),_||j.preventDefault()},onPointerDownOutside:j=>{if(t==null||t(j),!f||j.defaultPrevented){j.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:j=>{if(!f){j.preventDefault();return}},onPointerMove:j=>{if(M.current=j,p||(r.onPointerMove==null||r.onPointerMove.call(r,j),!A.current))return;const F=j.pageY-A.current.y,z=j.pageX-A.current.x,$=j.pointerType==="touch"?10:2;I({x:z,y:F},v,$)?l(j):(Math.abs(z)>$||Math.abs(F)>$)&&(A.current=null)},onPointerUp:j=>{r.onPointerUp==null||r.onPointerUp.call(r,j),A.current=null,T.current=!1,a(j)},onPointerOut:j=>{r.onPointerOut==null||r.onPointerOut.call(r,j),k(M.current)},onContextMenu:j=>{r.onContextMenu==null||r.onContextMenu.call(r,j),M.current&&k(M.current)}})});nre.displayName="Drawer.Content";const b9e=250,w9e=120,rre=te.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:i,isDragging:s,snapPoints:o,activeSnapPoint:a,setActiveSnapPoint:l,dismissible:c,handleOnly:d,isOpen:u,onPress:f,onDrag:g}=kv(),v=te.useRef(null),y=te.useRef(!1);function m(){if(y.current){_();return}window.setTimeout(()=>{p()},w9e)}function p(){if(s||t||y.current){_();return}if(_(),!o||o.length===0){c||i();return}if(a===o[o.length-1]&&c){i();return}const S=o.findIndex(A=>A===a);if(S===-1)return;const C=o[S+1];l(C)}function x(){v.current=window.setTimeout(()=>{y.current=!0},b9e)}function _(){v.current&&window.clearTimeout(v.current),y.current=!1}return te.createElement("div",{onClick:m,onPointerCancel:_,onPointerDown:b=>{d&&f(b),x()},onPointerMove:b=>{d&&g(b)},ref:r,"data-vaul-drawer-visible":u?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},te.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});rre.displayName="Drawer.Handle";function S9e({onDrag:t,onOpenChange:e,open:n,...r}){const{onNestedDrag:i,onNestedOpenChange:s,onNestedRelease:o}=kv();if(!i)throw new Error("Drawer.NestedRoot must be placed in another drawer");return te.createElement(ere,{nested:!0,open:n,onClose:()=>{s(!1)},onDrag:(a,l)=>{i(a,l),t==null||t(a,l)},onOpenChange:a=>{a&&s(a),e==null||e(a)},onRelease:o,...r})}function E9e(t){const e=kv(),{container:n=e.container,...r}=t;return te.createElement(V_,{container:n,...r})}const Td={Root:ere,NestedRoot:S9e,Content:nre,Overlay:tre,Trigger:Yj,Portal:E9e,Handle:rre,Close:W_,Title:gv,Description:vv},C9e=Td.Portal,ire=P.forwardRef(({className:t,...e},n)=>h.jsx(Td.Overlay,{ref:n,className:we("fixed inset-0 z-50 bg-black/80",t),...e}));ire.displayName=Td.Overlay.displayName;const M9e=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(C9e,{children:[h.jsx(ire,{}),h.jsxs(Td.Content,{ref:r,className:we("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[h.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));M9e.displayName="DrawerContent";const A9e=P.forwardRef(({className:t,...e},n)=>h.jsx(Td.Title,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));A9e.displayName=Td.Title.displayName;const T9e=P.forwardRef(({className:t,...e},n)=>h.jsx(Td.Description,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));T9e.displayName=Td.Description.displayName;var sre="DropdownMenu",[P9e,Fgt]=Gn(sre,[hb]),ks=hb(),[Bgt,ore]=P9e(sre),are="DropdownMenuTrigger",N9e=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=ore(are,n),o=ks(n);return h.jsx($F,{asChild:!0,...o,children:h.jsx(Xe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Sl(e,s.triggerRef),onPointerDown:Oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});N9e.displayName=are;var R9e="DropdownMenuPortal",lre=t=>{const{__scopeDropdownMenu:e,...n}=t,r=ks(e);return h.jsx(HF,{...r,...n})};lre.displayName=R9e;var cre="DropdownMenuContent",ure=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ore(cre,n),s=ks(n),o=P.useRef(!1);return h.jsx(VF,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Oe(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});ure.displayName=cre;var O9e="DropdownMenuGroup",I9e=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(WF,{...i,...r,ref:e})});I9e.displayName=O9e;var k9e="DropdownMenuLabel",dre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(GF,{...i,...r,ref:e})});dre.displayName=k9e;var D9e="DropdownMenuItem",fre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(XF,{...i,...r,ref:e})});fre.displayName=D9e;var L9e="DropdownMenuCheckboxItem",hre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(qF,{...i,...r,ref:e})});hre.displayName=L9e;var j9e="DropdownMenuRadioGroup",F9e=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(KF,{...i,...r,ref:e})});F9e.displayName=j9e;var B9e="DropdownMenuRadioItem",pre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(YF,{...i,...r,ref:e})});pre.displayName=B9e;var U9e="DropdownMenuItemIndicator",mre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(ZF,{...i,...r,ref:e})});mre.displayName=U9e;var z9e="DropdownMenuSeparator",gre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(QF,{...i,...r,ref:e})});gre.displayName=z9e;var $9e="DropdownMenuArrow",H9e=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(JF,{...i,...r,ref:e})});H9e.displayName=$9e;var V9e="DropdownMenuSubTrigger",vre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(e4,{...i,...r,ref:e})});vre.displayName=V9e;var W9e="DropdownMenuSubContent",yre=P.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=ks(n);return h.jsx(t4,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});yre.displayName=W9e;var G9e=lre,xre=ure,_re=dre,bre=fre,wre=hre,Sre=pre,Ere=mre,Cre=gre,Mre=vre,Are=yre;const X9e=P.forwardRef(({className:t,inset:e,children:n,...r},i)=>h.jsxs(Mre,{ref:i,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,h.jsx(mA,{className:"ml-auto"})]}));X9e.displayName=Mre.displayName;const q9e=P.forwardRef(({className:t,...e},n)=>h.jsx(Are,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));q9e.displayName=Are.displayName;const K9e=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(G9e,{children:h.jsx(xre,{ref:r,sideOffset:e,className:we("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));K9e.displayName=xre.displayName;const Y9e=P.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(bre,{ref:r,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Y9e.displayName=bre.displayName;const Z9e=P.forwardRef(({className:t,children:e,checked:n,...r},i)=>h.jsxs(wre,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Ere,{children:h.jsx(B_,{className:"h-4 w-4"})})}),e]}));Z9e.displayName=wre.displayName;const Q9e=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Sre,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(Ere,{children:h.jsx(gA,{className:"h-2 w-2 fill-current"})})}),e]}));Q9e.displayName=Sre.displayName;const J9e=P.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(_re,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));J9e.displayName=_re.displayName;const eXe=P.forwardRef(({className:t,...e},n)=>h.jsx(Cre,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));eXe.displayName=Cre.displayName;const tXe=te.createContext(null),nXe=()=>te.useContext(tXe),rXe=P.createContext({}),AT=()=>{const t=P.useContext(rXe),e=P.useContext(Tre),{getFieldState:n,formState:r}=nXe(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Tre=P.createContext({}),iXe=P.forwardRef(({className:t,...e},n)=>{const r=P.useId();return h.jsx(Tre.Provider,{value:{id:r},children:h.jsx("div",{ref:n,className:we("space-y-2",t),...e})})});iXe.displayName="FormItem";const sXe=P.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=AT();return h.jsx(Vn,{ref:n,className:we(r&&"text-destructive",t),htmlFor:i,...e})});sXe.displayName="FormLabel";const oXe=P.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=AT();return h.jsx(j_,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});oXe.displayName="FormControl";const aXe=P.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=AT();return h.jsx("p",{ref:n,id:r,className:we("text-sm text-muted-foreground",t),...e})});aXe.displayName="FormDescription";const lXe=P.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=AT(),o=i?String((i==null?void 0:i.message)??""):e;return o?h.jsx("p",{ref:r,id:s,className:we("text-sm font-medium text-destructive",t),...n,children:o}):null});lXe.displayName="FormMessage";var pR,Pre="HoverCard",[Nre,Ugt]=Gn(Pre,[Ll]),a4=Ll(),[zgt,l4]=Nre(Pre),Rre="HoverCardTrigger",cXe=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=l4(Rre,n),s=a4(n);return h.jsx(Iv,{asChild:!0,...s,children:h.jsx(Xe.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Oe(t.onPointerEnter,zC(i.onOpen)),onPointerLeave:Oe(t.onPointerLeave,zC(i.onClose)),onFocus:Oe(t.onFocus,i.onOpen),onBlur:Oe(t.onBlur,i.onClose),onTouchStart:Oe(t.onTouchStart,o=>o.preventDefault())})})});cXe.displayName=Rre;var uXe="HoverCardPortal",[$gt,dXe]=Nre(uXe,{forceMount:void 0}),UC="HoverCardContent",Ore=P.forwardRef((t,e)=>{const n=dXe(UC,t.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=t,s=l4(UC,t.__scopeHoverCard);return h.jsx(sr,{present:r||s.open,children:h.jsx(fXe,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Oe(t.onPointerEnter,zC(s.onOpen)),onPointerLeave:Oe(t.onPointerLeave,zC(s.onClose)),ref:e})})});Ore.displayName=UC;var fXe=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=t,l=l4(UC,n),c=a4(n),d=P.useRef(null),u=At(e,d),[f,g]=P.useState(!1);return P.useEffect(()=>{if(f){const v=document.body;return pR=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=pR,v.style.webkitUserSelect=pR}}},[f]),P.useEffect(()=>{if(d.current){const v=()=>{g(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var m;((m=document.getSelection())==null?void 0:m.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),P.useEffect(()=>{d.current&&mXe(d.current).forEach(y=>y.setAttribute("tabindex","-1"))}),h.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Oe(s,v=>{v.preventDefault()}),onDismiss:l.onDismiss,children:h.jsx(cb,{...c,...a,onPointerDown:Oe(a.onPointerDown,v=>{v.currentTarget.contains(v.target)&&g(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:u,style:{...a.style,userSelect:f?"text":void 0,WebkitUserSelect:f?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),hXe="HoverCardArrow",pXe=P.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=a4(n);return h.jsx(ub,{...i,...r,ref:e})});pXe.displayName=hXe;function zC(t){return e=>e.pointerType==="touch"?void 0:t()}function mXe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var Ire=Ore;const gXe=P.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>h.jsx(Ire,{ref:i,align:e,sideOffset:n,className:we("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",t),...r}));gXe.displayName=Ire.displayName;var vXe=Object.defineProperty,yXe=Object.defineProperties,xXe=Object.getOwnPropertyDescriptors,$C=Object.getOwnPropertySymbols,kre=Object.prototype.hasOwnProperty,Dre=Object.prototype.propertyIsEnumerable,QV=(t,e,n)=>e in t?vXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_Xe=(t,e)=>{for(var n in e||(e={}))kre.call(e,n)&&QV(t,n,e[n]);if($C)for(var n of $C(e))Dre.call(e,n)&&QV(t,n,e[n]);return t},bXe=(t,e)=>yXe(t,xXe(e)),wXe=(t,e)=>{var n={};for(var r in t)kre.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&$C)for(var r of $C(t))e.indexOf(r)<0&&Dre.call(t,r)&&(n[r]=t[r]);return n};function SXe(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function EXe(t){let e=P.useRef();return P.useEffect(()=>{e.current=t}),e.current}var CXe=18,Lre=40,MXe=`${Lre}px`,AXe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function TXe({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[i,s]=P.useState(!1),[o,a]=P.useState(!1),[l,c]=P.useState(!1),d=P.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&o,[i,o,n]),u=P.useCallback(()=>{let f=t.current,g=e.current;if(!f||!g||l||n==="none")return;let v=f,y=v.getBoundingClientRect().left+v.offsetWidth,m=v.getBoundingClientRect().top+v.offsetHeight/2,p=y-CXe,x=m;document.querySelectorAll(AXe).length===0&&document.elementFromPoint(p,x)===f||(s(!0),c(!0))},[t,e,l,n]);return P.useEffect(()=>{let f=t.current;if(!f||n==="none")return;function g(){let y=window.innerWidth-f.getBoundingClientRect().right;a(y>=Lre)}g();let v=setInterval(g,1e3);return()=>{clearInterval(v)}},[t,n]),P.useEffect(()=>{let f=r||document.activeElement===e.current;if(n==="none"||!f)return;let g=setTimeout(u,0),v=setTimeout(u,2e3),y=setTimeout(u,5e3),m=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(v),clearTimeout(y),clearTimeout(m)}},[e,r,n,u]),{hasPWMBadge:i,willPushPWMBadge:d,PWM_BADGE_SPACE_WIDTH:MXe}}var jre=P.createContext({}),Fre=P.forwardRef((t,e)=>{var n=t,{value:r,onChange:i,maxLength:s,textAlign:o="left",pattern:a,placeholder:l,inputMode:c="numeric",onComplete:d,pushPasswordManagerStrategy:u="increase-width",pasteTransformer:f,containerClassName:g,noScriptCSSFallback:v=PXe,render:y,children:m}=n,p=wXe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),x,_,b,S,C;let[A,M]=P.useState(typeof p.defaultValue=="string"?p.defaultValue:""),T=r??A,N=EXe(T),I=P.useCallback(ne=>{i==null||i(ne),M(ne)},[i]),k=P.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),j=P.useRef(null),F=P.useRef(null),z=P.useRef({value:T,onChange:I,isIOS:typeof window<"u"&&((_=(x=window==null?void 0:window.CSS)==null?void 0:x.supports)==null?void 0:_.call(x,"-webkit-touch-callout","none"))}),$=P.useRef({prev:[(b=j.current)==null?void 0:b.selectionStart,(S=j.current)==null?void 0:S.selectionEnd,(C=j.current)==null?void 0:C.selectionDirection]});P.useImperativeHandle(e,()=>j.current,[]),P.useEffect(()=>{let ne=j.current,fe=F.current;if(!ne||!fe)return;z.current.value!==ne.value&&z.current.onChange(ne.value),$.current.prev=[ne.selectionStart,ne.selectionEnd,ne.selectionDirection];function me(){if(document.activeElement!==ne){G(null),ie(null);return}let Ce=ne.selectionStart,ke=ne.selectionEnd,nt=ne.selectionDirection,Je=ne.maxLength,re=ne.value,Z=$.current.prev,ve=-1,Se=-1,Ie;if(re.length!==0&&Ce!==null&&ke!==null){let st=Ce===ke,We=Ce===re.length&&re.length<Je;if(st&&!We){let $e=Ce;if($e===0)ve=0,Se=1,Ie="forward";else if($e===Je)ve=$e-1,Se=$e,Ie="backward";else if(Je>1&&re.length>1){let rt=0;if(Z[0]!==null&&Z[1]!==null){Ie=$e<Z[1]?"backward":"forward";let Ct=Z[0]===Z[1]&&Z[0]<Je;Ie==="backward"&&!Ct&&(rt=-1)}ve=rt+$e,Se=rt+$e+1}}ve!==-1&&Se!==-1&&ve!==Se&&j.current.setSelectionRange(ve,Se,Ie)}let Me=ve!==-1?ve:Ce,at=Se!==-1?Se:ke,He=Ie??nt;G(Me),ie(at),$.current.prev=[Me,at,He]}if(document.addEventListener("selectionchange",me,{capture:!0}),me(),document.activeElement===ne&&B(!0),!document.getElementById("input-otp-style")){let Ce=document.createElement("style");if(Ce.id="input-otp-style",document.head.appendChild(Ce),Ce.sheet){let ke="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";Ly(Ce.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),Ly(Ce.sheet,`[data-input-otp]:autofill { ${ke} }`),Ly(Ce.sheet,`[data-input-otp]:-webkit-autofill { ${ke} }`),Ly(Ce.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),Ly(Ce.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let pe=()=>{fe&&fe.style.setProperty("--root-height",`${ne.clientHeight}px`)};pe();let Ae=new ResizeObserver(pe);return Ae.observe(ne),()=>{document.removeEventListener("selectionchange",me,{capture:!0}),Ae.disconnect()}},[]);let[V,R]=P.useState(!1),[L,B]=P.useState(!1),[W,G]=P.useState(null),[Y,ie]=P.useState(null);P.useEffect(()=>{SXe(()=>{var ne,fe,me,pe;(ne=j.current)==null||ne.dispatchEvent(new Event("input"));let Ae=(fe=j.current)==null?void 0:fe.selectionStart,Ce=(me=j.current)==null?void 0:me.selectionEnd,ke=(pe=j.current)==null?void 0:pe.selectionDirection;Ae!==null&&Ce!==null&&(G(Ae),ie(Ce),$.current.prev=[Ae,Ce,ke])})},[T,L]),P.useEffect(()=>{N!==void 0&&T!==N&&N.length<s&&T.length===s&&(d==null||d(T))},[s,d,N,T]);let ae=TXe({containerRef:F,inputRef:j,pushPasswordManagerStrategy:u,isFocused:L}),se=P.useCallback(ne=>{let fe=ne.currentTarget.value.slice(0,s);if(fe.length>0&&k&&!k.test(fe)){ne.preventDefault();return}typeof N=="string"&&fe.length<N.length&&document.dispatchEvent(new Event("selectionchange")),I(fe)},[s,I,N,k]),U=P.useCallback(()=>{var ne;if(j.current){let fe=Math.min(j.current.value.length,s-1),me=j.current.value.length;(ne=j.current)==null||ne.setSelectionRange(fe,me),G(fe),ie(me)}B(!0)},[s]),K=P.useCallback(ne=>{var fe,me;let pe=j.current;if(!f&&(!z.current.isIOS||!ne.clipboardData||!pe))return;let Ae=ne.clipboardData.getData("text/plain"),Ce=f?f(Ae):Ae;ne.preventDefault();let ke=(fe=j.current)==null?void 0:fe.selectionStart,nt=(me=j.current)==null?void 0:me.selectionEnd,Je=(ke!==nt?T.slice(0,ke)+Ce+T.slice(nt):T.slice(0,ke)+Ce+T.slice(ke)).slice(0,s);if(Je.length>0&&k&&!k.test(Je))return;pe.value=Je,I(Je);let re=Math.min(Je.length,s-1),Z=Je.length;pe.setSelectionRange(re,Z),G(re),ie(Z)},[s,I,k,T]),Q=P.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),ee=P.useMemo(()=>({position:"absolute",inset:0,width:ae.willPushPWMBadge?`calc(100% + ${ae.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ae.willPushPWMBadge?`inset(0 ${ae.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ae.PWM_BADGE_SPACE_WIDTH,ae.willPushPWMBadge,o]),ue=P.useMemo(()=>P.createElement("input",bXe(_Xe({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":T.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":Y,inputMode:c,pattern:k==null?void 0:k.source,"aria-placeholder":l,style:ee,maxLength:s,value:T,ref:j,onPaste:ne=>{var fe;K(ne),(fe=p.onPaste)==null||fe.call(p,ne)},onChange:se,onMouseOver:ne=>{var fe;R(!0),(fe=p.onMouseOver)==null||fe.call(p,ne)},onMouseLeave:ne=>{var fe;R(!1),(fe=p.onMouseLeave)==null||fe.call(p,ne)},onFocus:ne=>{var fe;U(),(fe=p.onFocus)==null||fe.call(p,ne)},onBlur:ne=>{var fe;B(!1),(fe=p.onBlur)==null||fe.call(p,ne)}})),[se,U,K,c,ee,s,Y,W,p,k==null?void 0:k.source,T]),J=P.useMemo(()=>({slots:Array.from({length:s}).map((ne,fe)=>{var me;let pe=L&&W!==null&&Y!==null&&(W===Y&&fe===W||fe>=W&&fe<Y),Ae=T[fe]!==void 0?T[fe]:null,Ce=T[0]!==void 0?null:(me=l==null?void 0:l[fe])!=null?me:null;return{char:Ae,placeholderChar:Ce,isActive:pe,hasFakeCaret:pe&&Ae===null}}),isFocused:L,isHovering:!p.disabled&&V}),[L,V,s,Y,W,p.disabled,T]),q=P.useMemo(()=>y?y(J):P.createElement(jre.Provider,{value:J},m),[m,J,y]);return P.createElement(P.Fragment,null,v!==null&&P.createElement("noscript",null,P.createElement("style",null,v)),P.createElement("div",{ref:F,"data-input-otp-container":!0,style:Q,className:g},q,P.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ue)))});Fre.displayName="Input";function Ly(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var PXe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const NXe=P.forwardRef(({className:t,containerClassName:e,...n},r)=>h.jsx(Fre,{ref:r,containerClassName:we("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:we("disabled:cursor-not-allowed",t),...n}));NXe.displayName="InputOTP";const RXe=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:we("flex items-center",t),...e}));RXe.displayName="InputOTPGroup";const OXe=P.forwardRef(({index:t,className:e,...n},r)=>{const i=P.useContext(jre),{char:s,hasFakeCaret:o,isActive:a}=i.slots[t];return h.jsxs("div",{ref:r,className:we("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",a&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[s,o&&h.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:h.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});OXe.displayName="InputOTPSlot";const IXe=P.forwardRef(({...t},e)=>h.jsx("div",{ref:e,role:"separator",...t,children:h.jsx(jve,{})}));IXe.displayName="InputOTPSeparator";const An=P.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));An.displayName="Input";var kXe="Label",Bre=P.forwardRef((t,e)=>h.jsx(Xe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Bre.displayName=kXe;var Ure=Bre;const DXe=Gc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Vn=P.forwardRef(({className:t,...e},n)=>h.jsx(Ure,{ref:n,className:we(DXe(),t),...e}));Vn.displayName=Ure.displayName;var TT="Menubar",[ID,LXe,jXe]=Hc(TT),[zre,Hgt]=Gn(TT,[jXe,jl]),Ds=hb(),$re=jl(),[FXe,Hre]=zre(TT),Vre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:i,defaultValue:s,loop:o=!0,dir:a,...l}=t,c=Ol(a),d=$re(n),[u="",f]=Or({prop:r,onChange:i,defaultProp:s}),[g,v]=P.useState(null);return h.jsx(FXe,{scope:n,value:u,onMenuOpen:P.useCallback(y=>{f(y),v(y)},[f]),onMenuClose:P.useCallback(()=>f(""),[f]),onMenuToggle:P.useCallback(y=>{f(m=>m?"":y),v(y)},[f]),dir:c,loop:o,children:h.jsx(ID.Provider,{scope:n,children:h.jsx(ID.Slot,{scope:n,children:h.jsx(db,{asChild:!0,...d,orientation:"horizontal",loop:o,dir:c,currentTabStopId:g,onCurrentTabStopIdChange:v,children:h.jsx(Xe.div,{role:"menubar",...l,ref:e})})})})})});Vre.displayName=TT;var BXe="MenubarMenu",[Vgt,Wre]=zre(BXe),kD="MenubarTrigger",Gre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...i}=t,s=$re(n),o=Ds(n),a=Hre(kD,n),l=Wre(kD,n),c=P.useRef(null),d=At(e,c,l.triggerRef),[u,f]=P.useState(!1),g=a.value===l.value;return h.jsx(ID.ItemSlot,{scope:n,value:l.value,disabled:r,children:h.jsx(fb,{asChild:!0,...s,focusable:!r,tabStopId:l.value,children:h.jsx($F,{asChild:!0,...o,children:h.jsx(Xe.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?l.contentId:void 0,"data-highlighted":u?"":void 0,"data-state":g?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:d,onPointerDown:Oe(t.onPointerDown,v=>{!r&&v.button===0&&v.ctrlKey===!1&&(a.onMenuOpen(l.value),g||v.preventDefault())}),onPointerEnter:Oe(t.onPointerEnter,()=>{var y;!!a.value&&!g&&(a.onMenuOpen(l.value),(y=c.current)==null||y.focus())}),onKeyDown:Oe(t.onKeyDown,v=>{r||(["Enter"," "].includes(v.key)&&a.onMenuToggle(l.value),v.key==="ArrowDown"&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(v.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,v.preventDefault()))}),onFocus:Oe(t.onFocus,()=>f(!0)),onBlur:Oe(t.onBlur,()=>f(!1))})})})})});Gre.displayName=kD;var UXe="MenubarPortal",Xre=t=>{const{__scopeMenubar:e,...n}=t,r=Ds(e);return h.jsx(HF,{...r,...n})};Xre.displayName=UXe;var DD="MenubarContent",qre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...i}=t,s=Ds(n),o=Hre(DD,n),a=Wre(DD,n),l=LXe(n),c=P.useRef(!1);return h.jsx(VF,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...s,...i,ref:e,align:r,onCloseAutoFocus:Oe(t.onCloseAutoFocus,d=>{var f;!!!o.value&&!c.current&&((f=a.triggerRef.current)==null||f.focus()),c.current=!1,d.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,d=>{const u=d.target;l().some(g=>{var v;return(v=g.ref.current)==null?void 0:v.contains(u)})&&d.preventDefault()}),onInteractOutside:Oe(t.onInteractOutside,()=>{c.current=!0}),onEntryFocus:d=>{a.wasKeyboardTriggerOpenRef.current||d.preventDefault()},onKeyDown:Oe(t.onKeyDown,d=>{if(["ArrowRight","ArrowLeft"].includes(d.key)){const u=d.target,f=u.hasAttribute("data-radix-menubar-subtrigger"),g=u.closest("[data-radix-menubar-content]")!==d.currentTarget,y=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===d.key;if(!y&&f||g&&y)return;let x=l().filter(S=>!S.disabled).map(S=>S.value);y&&x.reverse();const _=x.indexOf(a.value);x=o.loop?tqe(x,_+1):x.slice(_+1);const[b]=x;b&&o.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});qre.displayName=DD;var zXe="MenubarGroup",$Xe=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(WF,{...i,...r,ref:e})});$Xe.displayName=zXe;var HXe="MenubarLabel",Kre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(GF,{...i,...r,ref:e})});Kre.displayName=HXe;var VXe="MenubarItem",Yre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(XF,{...i,...r,ref:e})});Yre.displayName=VXe;var WXe="MenubarCheckboxItem",Zre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(qF,{...i,...r,ref:e})});Zre.displayName=WXe;var GXe="MenubarRadioGroup",XXe=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(KF,{...i,...r,ref:e})});XXe.displayName=GXe;var qXe="MenubarRadioItem",Qre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(YF,{...i,...r,ref:e})});Qre.displayName=qXe;var KXe="MenubarItemIndicator",Jre=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(ZF,{...i,...r,ref:e})});Jre.displayName=KXe;var YXe="MenubarSeparator",eie=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(QF,{...i,...r,ref:e})});eie.displayName=YXe;var ZXe="MenubarArrow",QXe=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(JF,{...i,...r,ref:e})});QXe.displayName=ZXe;var JXe="MenubarSubTrigger",tie=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(e4,{"data-radix-menubar-subtrigger":"",...i,...r,ref:e})});tie.displayName=JXe;var eqe="MenubarSubContent",nie=P.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Ds(n);return h.jsx(t4,{...i,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});nie.displayName=eqe;function tqe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var rie=Vre,iie=Gre,nqe=Xre,sie=qre,oie=Kre,aie=Yre,lie=Zre,cie=Qre,uie=Jre,die=eie,fie=tie,hie=nie;const rqe=P.forwardRef(({className:t,...e},n)=>h.jsx(rie,{ref:n,className:we("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));rqe.displayName=rie.displayName;const iqe=P.forwardRef(({className:t,...e},n)=>h.jsx(iie,{ref:n,className:we("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));iqe.displayName=iie.displayName;const sqe=P.forwardRef(({className:t,inset:e,children:n,...r},i)=>h.jsxs(fie,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,h.jsx(mA,{className:"ml-auto h-4 w-4"})]}));sqe.displayName=fie.displayName;const oqe=P.forwardRef(({className:t,...e},n)=>h.jsx(hie,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...e}));oqe.displayName=hie.displayName;const aqe=P.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...i},s)=>h.jsx(nqe,{children:h.jsx(sie,{ref:s,align:e,alignOffset:n,sideOffset:r,className:we("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...i})}));aqe.displayName=sie.displayName;const lqe=P.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(aie,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));lqe.displayName=aie.displayName;const cqe=P.forwardRef(({className:t,children:e,checked:n,...r},i)=>h.jsxs(lie,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(uie,{children:h.jsx(B_,{className:"h-4 w-4"})})}),e]}));cqe.displayName=lie.displayName;const uqe=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(cie,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(uie,{children:h.jsx(gA,{className:"h-2 w-2 fill-current"})})}),e]}));uqe.displayName=cie.displayName;const dqe=P.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(oie,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));dqe.displayName=oie.displayName;const fqe=P.forwardRef(({className:t,...e},n)=>h.jsx(die,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));fqe.displayName=die.displayName;var hqe="VisuallyHidden",mb=P.forwardRef((t,e)=>h.jsx(Xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));mb.displayName=hqe;var pie=mb,Dv="NavigationMenu",[c4,mie,pqe]=Hc(Dv),[LD,mqe,gqe]=Hc(Dv),[u4,Wgt]=Gn(Dv,[pqe,gqe]),[vqe,Go]=u4(Dv),[yqe,xqe]=u4(Dv),gie=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,delayDuration:o=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...d}=t,[u,f]=P.useState(null),g=At(e,T=>f(T)),v=Ol(c),y=P.useRef(0),m=P.useRef(0),p=P.useRef(0),[x,_]=P.useState(!0),[b="",S]=Or({prop:r,onChange:T=>{const N=T!=="",I=a>0;N?(window.clearTimeout(p.current),I&&_(!1)):(window.clearTimeout(p.current),p.current=window.setTimeout(()=>_(!0),a)),i==null||i(T)},defaultProp:s}),C=P.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>S(""),150)},[S]),A=P.useCallback(T=>{window.clearTimeout(m.current),S(T)},[S]),M=P.useCallback(T=>{b===T?window.clearTimeout(m.current):y.current=window.setTimeout(()=>{window.clearTimeout(m.current),S(T)},o)},[b,S,o]);return P.useEffect(()=>()=>{window.clearTimeout(y.current),window.clearTimeout(m.current),window.clearTimeout(p.current)},[]),h.jsx(yie,{scope:n,isRootMenu:!0,value:b,dir:v,orientation:l,rootNavigationMenu:u,onTriggerEnter:T=>{window.clearTimeout(y.current),x?M(T):A(T)},onTriggerLeave:()=>{window.clearTimeout(y.current),C()},onContentEnter:()=>window.clearTimeout(m.current),onContentLeave:C,onItemSelect:T=>{S(N=>N===T?"":T)},onItemDismiss:()=>S(""),children:h.jsx(Xe.nav,{"aria-label":"Main","data-orientation":l,dir:v,...d,ref:g})})});gie.displayName=Dv;var vie="NavigationMenuSub",_qe=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",...a}=t,l=Go(vie,n),[c="",d]=Or({prop:r,onChange:i,defaultProp:s});return h.jsx(yie,{scope:n,isRootMenu:!1,value:c,dir:l.dir,orientation:o,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:u=>d(u),onItemSelect:u=>d(u),onItemDismiss:()=>d(""),children:h.jsx(Xe.div,{"data-orientation":o,...a,ref:e})})});_qe.displayName=vie;var yie=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:i,orientation:s,children:o,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:d,onTriggerLeave:u,onContentEnter:f,onContentLeave:g}=t,[v,y]=P.useState(null),[m,p]=P.useState(new Map),[x,_]=P.useState(null);return h.jsx(vqe,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:Nv(a),baseId:zr(),dir:i,orientation:s,viewport:v,onViewportChange:y,indicatorTrack:x,onIndicatorTrackChange:_,onTriggerEnter:kn(d),onTriggerLeave:kn(u),onContentEnter:kn(f),onContentLeave:kn(g),onItemSelect:kn(l),onItemDismiss:kn(c),onViewportContentChange:P.useCallback((b,S)=>{p(C=>(C.set(b,S),new Map(C)))},[]),onViewportContentRemove:P.useCallback(b=>{p(S=>S.has(b)?(S.delete(b),new Map(S)):S)},[]),children:h.jsx(c4.Provider,{scope:e,children:h.jsx(yqe,{scope:e,items:m,children:o})})})},xie="NavigationMenuList",_ie=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Go(xie,n),s=h.jsx(Xe.ul,{"data-orientation":i.orientation,...r,ref:e});return h.jsx(Xe.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange,children:h.jsx(c4.Slot,{scope:n,children:i.isRootMenu?h.jsx(Tie,{asChild:!0,children:s}):s})})});_ie.displayName=xie;var bie="NavigationMenuItem",[bqe,wie]=u4(bie),wqe=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...i}=t,s=zr(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=P.useRef(null),l=P.useRef(null),c=P.useRef(null),d=P.useRef(()=>{}),u=P.useRef(!1),f=P.useCallback((v="start")=>{if(a.current){d.current();const y=FD(a.current);y.length&&h4(v==="start"?y:y.reverse())}},[]),g=P.useCallback(()=>{if(a.current){const v=FD(a.current);v.length&&(d.current=Nqe(v))}},[]);return h.jsx(bqe,{scope:n,value:o,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:u,onEntryKeyDown:f,onFocusProxyEnter:f,onRootContentClose:g,onContentFocusOutside:g,children:h.jsx(Xe.li,{...i,ref:e})})});wqe.displayName=bie;var jD="NavigationMenuTrigger",Sie=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...i}=t,s=Go(jD,t.__scopeNavigationMenu),o=wie(jD,t.__scopeNavigationMenu),a=P.useRef(null),l=At(a,o.triggerRef,e),c=Nie(s.baseId,o.value),d=Rie(s.baseId,o.value),u=P.useRef(!1),f=P.useRef(!1),g=o.value===s.value;return h.jsxs(h.Fragment,{children:[h.jsx(c4.ItemSlot,{scope:n,value:o.value,children:h.jsx(Pie,{asChild:!0,children:h.jsx(Xe.button,{id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":p4(g),"aria-expanded":g,"aria-controls":d,...i,ref:l,onPointerEnter:Oe(t.onPointerEnter,()=>{f.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:Oe(t.onPointerMove,HC(()=>{r||f.current||o.wasEscapeCloseRef.current||u.current||(s.onTriggerEnter(o.value),u.current=!0)})),onPointerLeave:Oe(t.onPointerLeave,HC(()=>{r||(s.onTriggerLeave(),u.current=!1)})),onClick:Oe(t.onClick,()=>{s.onItemSelect(o.value),f.current=g}),onKeyDown:Oe(t.onKeyDown,v=>{const m={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];g&&v.key===m&&(o.onEntryKeyDown(),v.preventDefault())})})})}),g&&h.jsxs(h.Fragment,{children:[h.jsx(pie,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:v=>{const y=o.contentRef.current,m=v.relatedTarget,p=m===a.current,x=y==null?void 0:y.contains(m);(p||!x)&&o.onFocusProxyEnter(p?"start":"end")}}),s.viewport&&h.jsx("span",{"aria-owns":d})]})]})});Sie.displayName=jD;var Sqe="NavigationMenuLink",JV="navigationMenu.linkSelect",Eqe=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:i,...s}=t;return h.jsx(Pie,{asChild:!0,children:h.jsx(Xe.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...s,ref:e,onClick:Oe(t.onClick,o=>{const a=o.target,l=new CustomEvent(JV,{bubbles:!0,cancelable:!0});if(a.addEventListener(JV,c=>i==null?void 0:i(c),{once:!0}),ux(a,l),!l.defaultPrevented&&!o.metaKey){const c=new CustomEvent(US,{bubbles:!0,cancelable:!0});ux(a,c)}},{checkForDefaultPrevented:!1})})})});Eqe.displayName=Sqe;var d4="NavigationMenuIndicator",Eie=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Go(d4,t.__scopeNavigationMenu),s=!!i.value;return i.indicatorTrack?kq.createPortal(h.jsx(sr,{present:n||s,children:h.jsx(Cqe,{...r,ref:e})}),i.indicatorTrack):null});Eie.displayName=d4;var Cqe=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Go(d4,n),s=mie(n),[o,a]=P.useState(null),[l,c]=P.useState(null),d=i.orientation==="horizontal",u=!!i.value;P.useEffect(()=>{var y;const v=(y=s().find(m=>m.value===i.value))==null?void 0:y.ref.current;v&&a(v)},[s,i.value]);const f=()=>{o&&c({size:d?o.offsetWidth:o.offsetHeight,offset:d?o.offsetLeft:o.offsetTop})};return BD(o,f),BD(i.indicatorTrack,f),l?h.jsx(Xe.div,{"aria-hidden":!0,"data-state":u?"visible":"hidden","data-orientation":i.orientation,...r,ref:e,style:{position:"absolute",...d?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}}):null}),Ug="NavigationMenuContent",Cie=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Go(Ug,t.__scopeNavigationMenu),s=wie(Ug,t.__scopeNavigationMenu),o=At(s.contentRef,e),a=s.value===i.value,l={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...r};return i.viewport?h.jsx(Mqe,{forceMount:n,...l,ref:o}):h.jsx(sr,{present:n||a,children:h.jsx(Mie,{"data-state":p4(a),...l,ref:o,onPointerEnter:Oe(t.onPointerEnter,i.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,HC(i.onContentLeave)),style:{pointerEvents:!a&&i.isRootMenu?"none":void 0,...l.style}})})});Cie.displayName=Ug;var Mqe=P.forwardRef((t,e)=>{const n=Go(Ug,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:i}=n;return cr(()=>{r(t.value,{ref:e,...t})},[t,e,r]),cr(()=>()=>i(t.value),[t.value,i]),null}),US="navigationMenu.rootContentDismiss",Mie=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:i,focusProxyRef:s,wasEscapeCloseRef:o,onRootContentClose:a,onContentFocusOutside:l,...c}=t,d=Go(Ug,n),u=P.useRef(null),f=At(u,e),g=Nie(d.baseId,r),v=Rie(d.baseId,r),y=mie(n),m=P.useRef(null),{onItemDismiss:p}=d;P.useEffect(()=>{const _=u.current;if(d.isRootMenu&&_){const b=()=>{var S;p(),a(),_.contains(document.activeElement)&&((S=i.current)==null||S.focus())};return _.addEventListener(US,b),()=>_.removeEventListener(US,b)}},[d.isRootMenu,t.value,i,p,a]);const x=P.useMemo(()=>{const b=y().map(N=>N.value);d.dir==="rtl"&&b.reverse();const S=b.indexOf(d.value),C=b.indexOf(d.previousValue),A=r===d.value,M=C===b.indexOf(r);if(!A&&!M)return m.current;const T=(()=>{if(S!==C){if(A&&C!==-1)return S>C?"from-end":"from-start";if(M&&S!==-1)return S>C?"to-start":"to-end"}return null})();return m.current=T,T},[d.previousValue,d.value,d.dir,y,r]);return h.jsx(Tie,{asChild:!0,children:h.jsx(Wc,{id:v,"aria-labelledby":g,"data-motion":x,"data-orientation":d.orientation,...c,ref:f,disableOutsidePointerEvents:!1,onDismiss:()=>{var b;const _=new Event(US,{bubbles:!0,cancelable:!0});(b=u.current)==null||b.dispatchEvent(_)},onFocusOutside:Oe(t.onFocusOutside,_=>{var S;l();const b=_.target;(S=d.rootNavigationMenu)!=null&&S.contains(b)&&_.preventDefault()}),onPointerDownOutside:Oe(t.onPointerDownOutside,_=>{var A;const b=_.target,S=y().some(M=>{var T;return(T=M.ref.current)==null?void 0:T.contains(b)}),C=d.isRootMenu&&((A=d.viewport)==null?void 0:A.contains(b));(S||C||!d.isRootMenu)&&_.preventDefault()}),onKeyDown:Oe(t.onKeyDown,_=>{var C;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const A=FD(_.currentTarget),M=document.activeElement,T=A.findIndex(k=>k===M),I=_.shiftKey?A.slice(0,T).reverse():A.slice(T+1,A.length);h4(I)?_.preventDefault():(C=s.current)==null||C.focus()}}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,_=>{o.current=!0})})})}),f4="NavigationMenuViewport",Aie=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=!!Go(f4,t.__scopeNavigationMenu).value;return h.jsx(sr,{present:n||s,children:h.jsx(Aqe,{...r,ref:e})})});Aie.displayName=f4;var Aqe=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...i}=t,s=Go(f4,n),o=At(e,s.onViewportChange),a=xqe(Ug,t.__scopeNavigationMenu),[l,c]=P.useState(null),[d,u]=P.useState(null),f=l?(l==null?void 0:l.width)+"px":void 0,g=l?(l==null?void 0:l.height)+"px":void 0,v=!!s.value,y=v?s.value:s.previousValue;return BD(d,()=>{d&&c({width:d.offsetWidth,height:d.offsetHeight})}),h.jsx(Xe.div,{"data-state":p4(v),"data-orientation":s.orientation,...i,ref:o,style:{pointerEvents:!v&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":f,"--radix-navigation-menu-viewport-height":g,...i.style},onPointerEnter:Oe(t.onPointerEnter,s.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,HC(s.onContentLeave)),children:Array.from(a.items).map(([p,{ref:x,forceMount:_,...b}])=>{const S=y===p;return h.jsx(sr,{present:_||S,children:h.jsx(Mie,{...b,ref:Sl(x,C=>{S&&C&&u(C)})})},p)})})}),Tqe="FocusGroup",Tie=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Go(Tqe,n);return h.jsx(LD.Provider,{scope:n,children:h.jsx(LD.Slot,{scope:n,children:h.jsx(Xe.div,{dir:i.dir,...r,ref:e})})})}),eW=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Pqe="FocusGroupItem",Pie=P.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=mqe(n),s=Go(Pqe,n);return h.jsx(LD.ItemSlot,{scope:n,children:h.jsx(Xe.button,{...r,ref:e,onKeyDown:Oe(t.onKeyDown,o=>{if(["Home","End",...eW].includes(o.key)){let l=i().map(u=>u.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),eW.includes(o.key)){const u=l.indexOf(o.currentTarget);l=l.slice(u+1)}setTimeout(()=>h4(l)),o.preventDefault()}})})})});function FD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function h4(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function Nqe(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function BD(t,e){const n=kn(e);cr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function p4(t){return t?"open":"closed"}function Nie(t,e){return`${t}-trigger-${e}`}function Rie(t,e){return`${t}-content-${e}`}function HC(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Oie=gie,Iie=_ie,kie=Sie,Die=Eie,Lie=Cie,jie=Aie;const Rqe=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(Oie,{ref:r,className:we("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...n,children:[e,h.jsx(Fie,{})]}));Rqe.displayName=Oie.displayName;const Oqe=P.forwardRef(({className:t,...e},n)=>h.jsx(Iie,{ref:n,className:we("group flex flex-1 list-none items-center justify-center space-x-1",t),...e}));Oqe.displayName=Iie.displayName;const Iqe=Gc("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),kqe=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(kie,{ref:r,className:we(Iqe(),"group",t),...n,children:[e," ",h.jsx(U_,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));kqe.displayName=kie.displayName;const Dqe=P.forwardRef(({className:t,...e},n)=>h.jsx(Lie,{ref:n,className:we("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",t),...e}));Dqe.displayName=Lie.displayName;const Fie=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:we("absolute left-0 top-full flex justify-center"),children:h.jsx(jie,{className:we("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",t),ref:n,...e})}));Fie.displayName=jie.displayName;const Lqe=P.forwardRef(({className:t,...e},n)=>h.jsx(Die,{ref:n,className:we("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",t),...e,children:h.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));Lqe.displayName=Die.displayName;const jqe=P.forwardRef(({className:t,...e},n)=>h.jsx("ul",{ref:n,className:we("flex flex-row items-center gap-1",t),...e}));jqe.displayName="PaginationContent";const Fqe=P.forwardRef(({className:t,...e},n)=>h.jsx("li",{ref:n,className:we("",t),...e}));Fqe.displayName="PaginationItem";var m4="Popover",[Bie,Ggt]=Gn(m4,[Ll]),gb=Ll(),[Bqe,Pd]=Bie(m4),Uie=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=gb(e),l=P.useRef(null),[c,d]=P.useState(!1),[u=!1,f]=Or({prop:r,defaultProp:i,onChange:s});return h.jsx(IF,{...a,children:h.jsx(Bqe,{scope:e,contentId:zr(),triggerRef:l,open:u,onOpenChange:f,onOpenToggle:P.useCallback(()=>f(g=>!g),[f]),hasCustomAnchor:c,onCustomAnchorAdd:P.useCallback(()=>d(!0),[]),onCustomAnchorRemove:P.useCallback(()=>d(!1),[]),modal:o,children:n})})};Uie.displayName=m4;var zie="PopoverAnchor",Uqe=P.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Pd(zie,n),s=gb(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return P.useEffect(()=>(o(),()=>a()),[o,a]),h.jsx(Iv,{...s,...r,ref:e})});Uqe.displayName=zie;var $ie="PopoverTrigger",Hie=P.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Pd($ie,n),s=gb(n),o=At(e,i.triggerRef),a=h.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":qie(i.open),...r,ref:o,onClick:Oe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:h.jsx(Iv,{asChild:!0,...s,children:a})});Hie.displayName=$ie;var g4="PopoverPortal",[zqe,$qe]=Bie(g4,{forceMount:void 0}),Vie=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Pd(g4,e);return h.jsx(zqe,{scope:e,forceMount:n,children:h.jsx(sr,{present:n||s.open,children:h.jsx(mv,{asChild:!0,container:i,children:r})})})};Vie.displayName=g4;var zg="PopoverContent",Wie=P.forwardRef((t,e)=>{const n=$qe(zg,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Pd(zg,t.__scopePopover);return h.jsx(sr,{present:r||s.open,children:s.modal?h.jsx(Vqe,{...i,ref:e}):h.jsx(Wqe,{...i,ref:e})})});Wie.displayName=zg;var Hqe=dd("PopoverContent.RemoveScroll"),Vqe=P.forwardRef((t,e)=>{const n=Pd(zg,t.__scopePopover),r=P.useRef(null),i=At(e,r),s=P.useRef(!1);return P.useEffect(()=>{const o=r.current;if(o)return wA(o)},[]),h.jsx(H_,{as:Hqe,allowPinchZoom:!0,children:h.jsx(Gie,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),Wqe=P.forwardRef((t,e)=>{const n=Pd(zg,t.__scopePopover),r=P.useRef(!1),i=P.useRef(!1);return h.jsx(Gie,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Gie=P.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:d,...u}=t,f=Pd(zg,n),g=gb(n);return _A(),h.jsx($_,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:h.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>f.onOpenChange(!1),children:h.jsx(cb,{"data-state":qie(f.open),role:"dialog",id:f.contentId,...g,...u,ref:e,style:{...u.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Xie="PopoverClose",Gqe=P.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Pd(Xie,n);return h.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});Gqe.displayName=Xie;var Xqe="PopoverArrow",qqe=P.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=gb(n);return h.jsx(ub,{...i,...r,ref:e})});qqe.displayName=Xqe;function qie(t){return t?"open":"closed"}var Kqe=Uie,Yqe=Hie,Zqe=Vie,Kie=Wie;const Qqe=Kqe,Jqe=Yqe,Yie=P.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>h.jsx(Zqe,{children:h.jsx(Kie,{ref:i,align:e,sideOffset:n,className:we("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));Yie.displayName=Kie.displayName;var v4="Progress",y4=100,[eKe,Xgt]=Gn(v4),[tKe,nKe]=eKe(v4),Zie=P.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=rKe,...o}=t;(i||i===0)&&!tW(i)&&console.error(iKe(`${i}`,"Progress"));const a=tW(i)?i:y4;r!==null&&!nW(r,a)&&console.error(sKe(`${r}`,"Progress"));const l=nW(r,a)?r:null,c=VC(l)?s(l,a):void 0;return h.jsx(tKe,{scope:n,value:l,max:a,children:h.jsx(Xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":VC(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":ese(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});Zie.displayName=v4;var Qie="ProgressIndicator",Jie=P.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=nKe(Qie,n);return h.jsx(Xe.div,{"data-state":ese(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Jie.displayName=Qie;function rKe(t,e){return`${Math.round(t/e*100)}%`}function ese(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function VC(t){return typeof t=="number"}function tW(t){return VC(t)&&!isNaN(t)&&t>0}function nW(t,e){return VC(t)&&!isNaN(t)&&t<=e&&t>=0}function iKe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${y4}\`.`}function sKe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${y4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tse=Zie,oKe=Jie;const x4=P.forwardRef(({className:t,value:e,...n},r)=>h.jsx(tse,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx(oKe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));x4.displayName=tse.displayName;var _4="Radio",[aKe,nse]=Gn(_4),[lKe,cKe]=aKe(_4),rse=P.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...d}=t,[u,f]=P.useState(null),g=At(e,m=>f(m)),v=P.useRef(!1),y=u?c||!!u.closest("form"):!0;return h.jsxs(lKe,{scope:n,checked:i,disabled:o,children:[h.jsx(Xe.button,{type:"button",role:"radio","aria-checked":i,"data-state":ose(i),"data-disabled":o?"":void 0,disabled:o,value:a,...d,ref:g,onClick:Oe(t.onClick,m=>{i||l==null||l(),y&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),y&&h.jsx(uKe,{control:u,bubbles:!v.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});rse.displayName=_4;var ise="RadioIndicator",sse=P.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=cKe(ise,n);return h.jsx(sr,{present:r||s.checked,children:h.jsx(Xe.span,{"data-state":ose(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});sse.displayName=ise;var uKe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=P.useRef(null),o=Nv(n),a=ob(e);return P.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&u){const f=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ose(t){return t?"checked":"unchecked"}var dKe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],b4="RadioGroup",[fKe,qgt]=Gn(b4,[jl,nse]),ase=jl(),lse=nse(),[hKe,pKe]=fKe(b4),cse=P.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:d=!0,onValueChange:u,...f}=t,g=ase(n),v=Ol(c),[y,m]=Or({prop:s,defaultProp:i,onChange:u});return h.jsx(hKe,{scope:n,name:r,required:o,disabled:a,value:y,onValueChange:m,children:h.jsx(db,{asChild:!0,...g,orientation:l,dir:v,loop:d,children:h.jsx(Xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:v,...f,ref:e})})})});cse.displayName=b4;var use="RadioGroupItem",dse=P.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=pKe(use,n),o=s.disabled||r,a=ase(n),l=lse(n),c=P.useRef(null),d=At(e,c),u=s.value===i.value,f=P.useRef(!1);return P.useEffect(()=>{const g=y=>{dKe.includes(y.key)&&(f.current=!0)},v=()=>f.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),h.jsx(fb,{asChild:!0,...a,focusable:!o,active:u,children:h.jsx(rse,{disabled:o,required:s.required,checked:u,...l,...i,name:s.name,ref:d,onCheck:()=>s.onValueChange(i.value),onKeyDown:Oe(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Oe(i.onFocus,()=>{var g;f.current&&((g=c.current)==null||g.click())})})})});dse.displayName=use;var mKe="RadioGroupIndicator",fse=P.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=lse(n);return h.jsx(sse,{...i,...r,ref:e})});fse.displayName=mKe;var hse=cse,pse=dse,gKe=fse;const vKe=P.forwardRef(({className:t,...e},n)=>h.jsx(hse,{className:we("grid gap-2",t),...e,ref:n}));vKe.displayName=hse.displayName;const yKe=P.forwardRef(({className:t,...e},n)=>h.jsx(pse,{ref:n,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:h.jsx(gKe,{className:"flex items-center justify-center",children:h.jsx(gA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));yKe.displayName=pse.displayName;const{createElement:t_,createContext:xKe,createRef:Kgt,forwardRef:mse,useCallback:ms,useContext:_Ke,useEffect:UD,useImperativeHandle:gse,useLayoutEffect:bKe,useMemo:wKe,useRef:fa,useState:zD}=KM,rW=KM[`useId${Math.random()}`.slice(0,5)],SKe=bKe,w4=xKe(null);w4.displayName="PanelGroupContext";const Bm=SKe,EKe=typeof rW=="function"?rW:()=>null;let CKe=0;function vse(t=null){const e=EKe(),n=fa(t||e||null);return n.current===null&&(n.current=""+CKe++),t??n.current}function yse({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:d,onResize:u,order:f,style:g,tagName:v="div",...y}){const m=_Ke(w4);if(m===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:p,expandPanel:x,getPanelSize:_,getPanelStyle:b,groupId:S,isPanelCollapsed:C,reevaluatePanelConstraints:A,registerPanel:M,resizePanel:T,unregisterPanel:N}=m,I=vse(o),k=fa({callbacks:{onCollapse:c,onExpand:d,onResize:u},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:I,idIsFromProps:o!==void 0,order:f});fa({didLogMissingDefaultSizeWarning:!1}),Bm(()=>{const{callbacks:F,constraints:z}=k.current,$={...z};k.current.id=I,k.current.idIsFromProps=o!==void 0,k.current.order=f,F.onCollapse=c,F.onExpand=d,F.onResize=u,z.collapsedSize=n,z.collapsible=r,z.defaultSize=i,z.maxSize=a,z.minSize=l,($.collapsedSize!==z.collapsedSize||$.collapsible!==z.collapsible||$.maxSize!==z.maxSize||$.minSize!==z.minSize)&&A(k.current,$)}),Bm(()=>{const F=k.current;return M(F),()=>{N(F)}},[f,I,M,N]),gse(s,()=>({collapse:()=>{p(k.current)},expand:F=>{x(k.current,F)},getId(){return I},getSize(){return _(k.current)},isCollapsed(){return C(k.current)},isExpanded(){return!C(k.current)},resize:F=>{T(k.current,F)}}),[p,x,_,C,I,T]);const j=b(k.current,i);return t_(v,{...y,children:t,className:e,id:o,style:{...j,...g},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":S,"data-panel-id":I,"data-panel-size":parseFloat(""+j.flexGrow).toFixed(1)})}const MKe=mse((t,e)=>t_(yse,{...t,forwardedRef:e}));yse.displayName="Panel";MKe.displayName="forwardRef(Panel)";function xse(t){return t.type==="keydown"}function _se(t){return t.type.startsWith("pointer")}function bse(t){return t.type.startsWith("mouse")}function AKe(t){if(_se(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(bse(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function TKe(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}const PKe=1,NKe=2,RKe=4,OKe=8;TKe();let IKe=new Map;function mR(t,e){IKe.set(t,e)}function kKe(){const[t,e]=zD(0);return ms(()=>e(n=>n+1),[])}function vn(t,e){if(!t)throw console.error(e),Error(e)}const S4=10;function _h(t,e,n=S4){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function dc(t,e,n=S4){return _h(t,e,n)===0}function qs(t,e,n){return _h(t,e,n)===0}function DKe(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],s=e[r];if(!qs(i,s,n))return!1}return!0}function gm({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];vn(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(_h(n,a)<0)if(s){const l=(i+a)/2;_h(n,l)<0?n=i:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(S4)),n}function l0({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:s}){if(qs(t,0))return e;const o=[...e],[a,l]=r;vn(a!=null,"Invalid first pivot index"),vn(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const u=t<0?l:a,f=n[u];vn(f,`Panel constraints not found for index ${u}`);const{collapsedSize:g=0,collapsible:v,minSize:y=0}=f;if(v){const m=e[u];if(vn(m!=null,`Previous layout not found for panel index ${u}`),qs(m,g)){const p=y-m;_h(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}{const u=t<0?a:l,f=n[u];vn(f,`No panel constraints found for index ${u}`);const{collapsedSize:g=0,collapsible:v,minSize:y=0}=f;if(v){const m=e[u];if(vn(m!=null,`Previous layout not found for panel index ${u}`),qs(m,y)){const p=m-g;_h(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}}{const u=t<0?1:-1;let f=t<0?l:a,g=0;for(;;){const y=e[f];vn(y!=null,`Previous layout not found for panel index ${f}`);const p=gm({panelConstraints:n,panelIndex:f,size:100})-y;if(g+=p,f+=u,f<0||f>=n.length)break}const v=Math.min(Math.abs(t),Math.abs(g));t=t<0?0-v:v}{let f=t<0?a:l;for(;f>=0&&f<n.length;){const g=Math.abs(t)-Math.abs(c),v=e[f];vn(v!=null,`Previous layout not found for panel index ${f}`);const y=v-g,m=gm({panelConstraints:n,panelIndex:f,size:y});if(!qs(v,m)&&(c+=v-m,o[f]=m,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?f--:f++}}if(DKe(i,o))return i;{const u=t<0?l:a,f=e[u];vn(f!=null,`Previous layout not found for panel index ${u}`);const g=f+c,v=gm({panelConstraints:n,panelIndex:u,size:g});if(o[u]=v,!qs(v,g)){let y=g-v,p=t<0?l:a;for(;p>=0&&p<n.length;){const x=o[p];vn(x!=null,`Previous layout not found for panel index ${p}`);const _=x+y,b=gm({panelConstraints:n,panelIndex:p,size:_});if(qs(x,b)||(y-=b-x,o[p]=b),qs(y,0))break;t>0?p--:p++}}}const d=o.reduce((u,f)=>f+u,0);return qs(d,100)?o:i}function LKe({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,s=0,o=0;const a=n[0];vn(a!=null,"No pivot index found"),e.forEach((u,f)=>{const{constraints:g}=u,{maxSize:v=100,minSize:y=0}=g;f===a?(r=y,i=v):(s+=y,o+=v)});const l=Math.min(i,100-s),c=Math.max(r,100-o),d=t[a];return{valueMax:l,valueMin:c,valueNow:d}}function WC(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function jKe(t,e,n=document){const i=WC(t,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===e);return i??null}function wse(t,e,n){const r=jKe(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function Sse(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function E4(t,e=document){const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function FKe(t,e,n,r=document){var i,s,o,a;const l=E4(e,r),c=WC(t,r),d=l?c.indexOf(l):-1,u=(i=(s=n[d])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,f=(o=(a=n[d+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[u,f]}function BKe({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){fa({didWarnAboutMissingResizeHandle:!1}),Bm(()=>{if(!s)return;const a=WC(n,s);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:d,valueNow:u}=LKe({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),f=a[l];if(f!=null){const g=i[l];vn(g,`No panel data found for index "${l}"`),f.setAttribute("aria-controls",g.id),f.setAttribute("aria-valuemax",""+Math.round(c)),f.setAttribute("aria-valuemin",""+Math.round(d)),f.setAttribute("aria-valuenow",u!=null?""+Math.round(u):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,s]),UD(()=>{if(!s)return;const a=e.current;vn(a,"Eager values not found");const{panelDataArray:l}=a,c=Sse(n,s);vn(c!=null,`No group found for id "${n}"`);const d=WC(n,s);vn(d,`No resize handles found for group id "${n}"`);const u=d.map(f=>{const g=f.getAttribute("data-panel-resize-handle-id");vn(g,"Resize handle element has no handle id attribute");const[v,y]=FKe(n,g,l,s);if(v==null||y==null)return()=>{};const m=p=>{if(!p.defaultPrevented)switch(p.key){case"Enter":{p.preventDefault();const x=l.findIndex(_=>_.id===v);if(x>=0){const _=l[x];vn(_,`No panel data found for index ${x}`);const b=r[x],{collapsedSize:S=0,collapsible:C,minSize:A=0}=_.constraints;if(b!=null&&C){const M=l0({delta:qs(b,S)?A-S:S-b,initialLayout:r,panelConstraints:l.map(T=>T.constraints),pivotIndices:wse(n,g,s),prevLayout:r,trigger:"keyboard"});r!==M&&o(M)}}break}}};return f.addEventListener("keydown",m),()=>{f.removeEventListener("keydown",m)}});return()=>{u.forEach(f=>f())}},[s,t,e,n,r,i,o])}function iW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ese(t,e){const n=t==="horizontal",{x:r,y:i}=AKe(e);return n?r:i}function UKe(t,e,n,r,i){const s=n==="horizontal",o=E4(e,i);vn(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute("data-panel-group-id");vn(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=Ese(n,t),d=Sse(a,i);vn(d,`No group element found for id "${a}"`);const u=d.getBoundingClientRect(),f=s?u.width:u.height;return(c-l)/f*100}function zKe(t,e,n,r,i,s){if(xse(t)){const o=n==="horizontal";let a=0;t.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(t.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:UKe(t,e,n,r,s)}function $Ke({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<t.length;s++){const o=n[s];vn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,i-=a)}for(let s=0;s<t.length;s++){const o=n[s];vn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-r,c=i/l;r++,e[s]=c,i-=c}return e}function Sp(t,e,n){e.forEach((r,i)=>{const s=t[i];vn(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:d}=a,u=n[l];if(u==null||r!==u){n[l]=r;const{onCollapse:f,onExpand:g,onResize:v}=o;v&&v(r,u),d&&(f||g)&&(g&&(u==null||dc(u,c))&&!dc(r,c)&&g(),f&&(u==null||!dc(u,c))&&dc(r,c)&&f())}})}function x1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function HKe({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:s=3}){const o=n[i];let a;return o==null?a=t!=null?t.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function VKe(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function sW(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Cse(t){return`react-resizable-panels:${t}`}function Mse(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function Ase(t,e){try{const n=Cse(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function WKe(t,e,n){var r,i;const s=(r=Ase(t,n))!==null&&r!==void 0?r:{},o=Mse(e);return(i=s[o])!==null&&i!==void 0?i:null}function GKe(t,e,n,r,i){var s;const o=Cse(t),a=Mse(e),l=(s=Ase(t,i))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function oW({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!qs(r,100)&&n.length>0)for(let s=0;s<e.length;s++){const o=n[s];vn(o!=null,`No layout data found for index ${s}`);const a=100/r*o;n[s]=a}let i=0;for(let s=0;s<e.length;s++){const o=n[s];vn(o!=null,`No layout data found for index ${s}`);const a=gm({panelConstraints:e,panelIndex:s,size:o});o!=a&&(i+=o-a,n[s]=a)}if(!qs(i,0))for(let s=0;s<e.length;s++){const o=n[s];vn(o!=null,`No layout data found for index ${s}`);const a=o+i,l=gm({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(i-=l-o,n[s]=l,qs(i,0)))break}return n}const XKe=100,c0={getItem:t=>(sW(c0),c0.getItem(t)),setItem:(t,e)=>{sW(c0),c0.setItem(t,e)}},aW={};function Tse({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=c0,style:c,tagName:d="div",...u}){const f=vse(s),g=fa(null),[v,y]=zD(null),[m,p]=zD([]),x=kKe(),_=fa({}),b=fa(new Map),S=fa(0),C=fa({autoSaveId:t,direction:r,dragState:v,id:f,keyboardResizeBy:a,onLayout:o,storage:l}),A=fa({layout:m,panelDataArray:[],panelDataArrayChanged:!1});fa({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),gse(i,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:Y}=A.current;return Y},setLayout:Y=>{const{onLayout:ie}=C.current,{layout:ae,panelDataArray:se}=A.current,U=oW({layout:Y,panelConstraints:se.map(K=>K.constraints)});iW(ae,U)||(p(U),A.current.layout=U,ie&&ie(U),Sp(se,U,_.current))}}),[]),Bm(()=>{C.current.autoSaveId=t,C.current.direction=r,C.current.dragState=v,C.current.id=f,C.current.onLayout=o,C.current.storage=l}),BKe({committedValuesRef:C,eagerValuesRef:A,groupId:f,layout:m,panelDataArray:A.current.panelDataArray,setLayout:p,panelGroupElement:g.current}),UD(()=>{const{panelDataArray:Y}=A.current;if(t){if(m.length===0||m.length!==Y.length)return;let ie=aW[t];ie==null&&(ie=VKe(GKe,XKe),aW[t]=ie);const ae=[...Y],se=new Map(b.current);ie(t,ae,se,m,l)}},[t,m,l]),UD(()=>{});const M=ms(Y=>{const{onLayout:ie}=C.current,{layout:ae,panelDataArray:se}=A.current;if(Y.constraints.collapsible){const U=se.map(ue=>ue.constraints),{collapsedSize:K=0,panelSize:Q,pivotIndices:ee}=Kd(se,Y,ae);if(vn(Q!=null,`Panel size not found for panel "${Y.id}"`),!dc(Q,K)){b.current.set(Y.id,Q);const J=Yp(se,Y)===se.length-1?Q-K:K-Q,q=l0({delta:J,initialLayout:ae,panelConstraints:U,pivotIndices:ee,prevLayout:ae,trigger:"imperative-api"});x1(ae,q)||(p(q),A.current.layout=q,ie&&ie(q),Sp(se,q,_.current))}}},[]),T=ms((Y,ie)=>{const{onLayout:ae}=C.current,{layout:se,panelDataArray:U}=A.current;if(Y.constraints.collapsible){const K=U.map(ne=>ne.constraints),{collapsedSize:Q=0,panelSize:ee=0,minSize:ue=0,pivotIndices:J}=Kd(U,Y,se),q=ie??ue;if(dc(ee,Q)){const ne=b.current.get(Y.id),fe=ne!=null&&ne>=q?ne:q,pe=Yp(U,Y)===U.length-1?ee-fe:fe-ee,Ae=l0({delta:pe,initialLayout:se,panelConstraints:K,pivotIndices:J,prevLayout:se,trigger:"imperative-api"});x1(se,Ae)||(p(Ae),A.current.layout=Ae,ae&&ae(Ae),Sp(U,Ae,_.current))}}},[]),N=ms(Y=>{const{layout:ie,panelDataArray:ae}=A.current,{panelSize:se}=Kd(ae,Y,ie);return vn(se!=null,`Panel size not found for panel "${Y.id}"`),se},[]),I=ms((Y,ie)=>{const{panelDataArray:ae}=A.current,se=Yp(ae,Y);return HKe({defaultSize:ie,dragState:v,layout:m,panelData:ae,panelIndex:se})},[v,m]),k=ms(Y=>{const{layout:ie,panelDataArray:ae}=A.current,{collapsedSize:se=0,collapsible:U,panelSize:K}=Kd(ae,Y,ie);return vn(K!=null,`Panel size not found for panel "${Y.id}"`),U===!0&&dc(K,se)},[]),j=ms(Y=>{const{layout:ie,panelDataArray:ae}=A.current,{collapsedSize:se=0,collapsible:U,panelSize:K}=Kd(ae,Y,ie);return vn(K!=null,`Panel size not found for panel "${Y.id}"`),!U||_h(K,se)>0},[]),F=ms(Y=>{const{panelDataArray:ie}=A.current;ie.push(Y),ie.sort((ae,se)=>{const U=ae.order,K=se.order;return U==null&&K==null?0:U==null?-1:K==null?1:U-K}),A.current.panelDataArrayChanged=!0,x()},[x]);Bm(()=>{if(A.current.panelDataArrayChanged){A.current.panelDataArrayChanged=!1;const{autoSaveId:Y,onLayout:ie,storage:ae}=C.current,{layout:se,panelDataArray:U}=A.current;let K=null;if(Y){const ee=WKe(Y,U,ae);ee&&(b.current=new Map(Object.entries(ee.expandToSizes)),K=ee.layout)}K==null&&(K=$Ke({panelDataArray:U}));const Q=oW({layout:K,panelConstraints:U.map(ee=>ee.constraints)});iW(se,Q)||(p(Q),A.current.layout=Q,ie&&ie(Q),Sp(U,Q,_.current))}}),Bm(()=>{const Y=A.current;return()=>{Y.layout=[]}},[]);const z=ms(Y=>{let ie=!1;const ae=g.current;return ae&&window.getComputedStyle(ae,null).getPropertyValue("direction")==="rtl"&&(ie=!0),function(U){U.preventDefault();const K=g.current;if(!K)return()=>null;const{direction:Q,dragState:ee,id:ue,keyboardResizeBy:J,onLayout:q}=C.current,{layout:ne,panelDataArray:fe}=A.current,{initialLayout:me}=ee??{},pe=wse(ue,Y,K);let Ae=zKe(U,Y,Q,ee,J,K);const Ce=Q==="horizontal";Ce&&ie&&(Ae=-Ae);const ke=fe.map(re=>re.constraints),nt=l0({delta:Ae,initialLayout:me??ne,panelConstraints:ke,pivotIndices:pe,prevLayout:ne,trigger:xse(U)?"keyboard":"mouse-or-touch"}),Je=!x1(ne,nt);(_se(U)||bse(U))&&S.current!=Ae&&(S.current=Ae,!Je&&Ae!==0?Ce?mR(Y,Ae<0?PKe:NKe):mR(Y,Ae<0?RKe:OKe):mR(Y,0)),Je&&(p(nt),A.current.layout=nt,q&&q(nt),Sp(fe,nt,_.current))}},[]),$=ms((Y,ie)=>{const{onLayout:ae}=C.current,{layout:se,panelDataArray:U}=A.current,K=U.map(ne=>ne.constraints),{panelSize:Q,pivotIndices:ee}=Kd(U,Y,se);vn(Q!=null,`Panel size not found for panel "${Y.id}"`);const J=Yp(U,Y)===U.length-1?Q-ie:ie-Q,q=l0({delta:J,initialLayout:se,panelConstraints:K,pivotIndices:ee,prevLayout:se,trigger:"imperative-api"});x1(se,q)||(p(q),A.current.layout=q,ae&&ae(q),Sp(U,q,_.current))},[]),V=ms((Y,ie)=>{const{layout:ae,panelDataArray:se}=A.current,{collapsedSize:U=0,collapsible:K}=ie,{collapsedSize:Q=0,collapsible:ee,maxSize:ue=100,minSize:J=0}=Y.constraints,{panelSize:q}=Kd(se,Y,ae);q!=null&&(K&&ee&&dc(q,U)?dc(U,Q)||$(Y,Q):q<J?$(Y,J):q>ue&&$(Y,ue))},[$]),R=ms((Y,ie)=>{const{direction:ae}=C.current,{layout:se}=A.current;if(!g.current)return;const U=E4(Y,g.current);vn(U,`Drag handle element not found for id "${Y}"`);const K=Ese(ae,ie);y({dragHandleId:Y,dragHandleRect:U.getBoundingClientRect(),initialCursorPosition:K,initialLayout:se})},[]),L=ms(()=>{y(null)},[]),B=ms(Y=>{const{panelDataArray:ie}=A.current,ae=Yp(ie,Y);ae>=0&&(ie.splice(ae,1),delete _.current[Y.id],A.current.panelDataArrayChanged=!0,x())},[x]),W=wKe(()=>({collapsePanel:M,direction:r,dragState:v,expandPanel:T,getPanelSize:N,getPanelStyle:I,groupId:f,isPanelCollapsed:k,isPanelExpanded:j,reevaluatePanelConstraints:V,registerPanel:F,registerResizeHandle:z,resizePanel:$,startDragging:R,stopDragging:L,unregisterPanel:B,panelGroupElement:g.current}),[M,v,r,T,N,I,f,k,j,V,F,z,$,R,L,B]),G={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return t_(w4.Provider,{value:W},t_(d,{...u,children:e,className:n,id:s,ref:g,style:{...G,...c},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":f}))}const qKe=mse((t,e)=>t_(Tse,{...t,forwardedRef:e}));Tse.displayName="PanelGroup";qKe.displayName="forwardRef(PanelGroup)";function Yp(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function Kd(t,e,n){const r=Yp(t,e),s=r===t.length-1?[r-1,r]:[r,r+1],o=n[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function n_(t,[e,n]){return Math.min(n,Math.max(e,t))}function KKe(t,e){return P.useReducer((n,r)=>e[n][r]??n,t)}var C4="ScrollArea",[Pse,Ygt]=Gn(C4),[YKe,Xo]=Pse(C4),Nse=P.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=P.useState(null),[c,d]=P.useState(null),[u,f]=P.useState(null),[g,v]=P.useState(null),[y,m]=P.useState(null),[p,x]=P.useState(0),[_,b]=P.useState(0),[S,C]=P.useState(!1),[A,M]=P.useState(!1),T=At(e,I=>l(I)),N=Ol(i);return h.jsx(YKe,{scope:n,type:r,dir:N,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:d,content:u,onContentChange:f,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:y,onScrollbarYChange:m,scrollbarYEnabled:A,onScrollbarYEnabledChange:M,onCornerWidthChange:x,onCornerHeightChange:b,children:h.jsx(Xe.div,{dir:N,...o,ref:T,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});Nse.displayName=C4;var Rse="ScrollAreaViewport",Ose=P.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=Xo(Rse,n),a=P.useRef(null),l=At(e,a,o.onViewportChange);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),h.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:h.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Ose.displayName=Rse;var Fl="ScrollAreaScrollbar",M4=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Xo(Fl,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return P.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?h.jsx(ZKe,{...r,ref:e,forceMount:n}):i.type==="scroll"?h.jsx(QKe,{...r,ref:e,forceMount:n}):i.type==="auto"?h.jsx(Ise,{...r,ref:e,forceMount:n}):i.type==="always"?h.jsx(A4,{...r,ref:e}):null});M4.displayName=Fl;var ZKe=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Xo(Fl,t.__scopeScrollArea),[s,o]=P.useState(!1);return P.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[i.scrollArea,i.scrollHideDelay]),h.jsx(sr,{present:n||s,children:h.jsx(Ise,{"data-state":s?"visible":"hidden",...r,ref:e})})}),QKe=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Xo(Fl,t.__scopeScrollArea),s=t.orientation==="horizontal",o=NT(()=>l("SCROLL_END"),100),[a,l]=KKe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return P.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),P.useEffect(()=>{const c=i.viewport,d=s?"scrollLeft":"scrollTop";if(c){let u=c[d];const f=()=>{const g=c[d];u!==g&&(l("SCROLL"),o()),u=g};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,o]),h.jsx(sr,{present:n||a!=="hidden",children:h.jsx(A4,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Ise=P.forwardRef((t,e)=>{const n=Xo(Fl,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=P.useState(!1),a=t.orientation==="horizontal",l=NT(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return $g(n.viewport,l),$g(n.content,l),h.jsx(sr,{present:r||s,children:h.jsx(A4,{"data-state":s?"visible":"hidden",...i,ref:e})})}),A4=P.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=Xo(Fl,t.__scopeScrollArea),s=P.useRef(null),o=P.useRef(0),[a,l]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Fse(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:f=>o.current=f};function u(f,g){return iYe(f,o.current,a,g)}return n==="horizontal"?h.jsx(JKe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,g=lW(f,a,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=u(f,i.dir))}}):n==="vertical"?h.jsx(eYe,{...d,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,g=lW(f,a);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=u(f))}}):null}),JKe=P.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Xo(Fl,t.__scopeScrollArea),[o,a]=P.useState(),l=P.useRef(null),c=At(e,l,s.onScrollbarXChange);return P.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(Dse,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":PT(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,u)=>{if(s.viewport){const f=s.viewport.scrollLeft+d.deltaX;t.onWheelScroll(f),Use(f,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:XC(o.paddingLeft),paddingEnd:XC(o.paddingRight)}})}})}),eYe=P.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=Xo(Fl,t.__scopeScrollArea),[o,a]=P.useState(),l=P.useRef(null),c=At(e,l,s.onScrollbarYChange);return P.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),h.jsx(Dse,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":PT(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,u)=>{if(s.viewport){const f=s.viewport.scrollTop+d.deltaY;t.onWheelScroll(f),Use(f,u)&&d.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:XC(o.paddingTop),paddingEnd:XC(o.paddingBottom)}})}})}),[tYe,kse]=Pse(Fl),Dse=P.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:u,...f}=t,g=Xo(Fl,n),[v,y]=P.useState(null),m=At(e,T=>y(T)),p=P.useRef(null),x=P.useRef(""),_=g.viewport,b=r.content-r.viewport,S=kn(d),C=kn(l),A=NT(u,10);function M(T){if(p.current){const N=T.clientX-p.current.left,I=T.clientY-p.current.top;c({x:N,y:I})}}return P.useEffect(()=>{const T=N=>{const I=N.target;(v==null?void 0:v.contains(I))&&S(N,b)};return document.addEventListener("wheel",T,{passive:!1}),()=>document.removeEventListener("wheel",T,{passive:!1})},[_,v,b,S]),P.useEffect(C,[r,C]),$g(v,A),$g(g.content,A),h.jsx(tYe,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:kn(s),onThumbPointerUp:kn(o),onThumbPositionChange:C,onThumbPointerDown:kn(a),children:h.jsx(Xe.div,{...f,ref:m,style:{position:"absolute",...f.style},onPointerDown:Oe(t.onPointerDown,T=>{T.button===0&&(T.target.setPointerCapture(T.pointerId),p.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),M(T))}),onPointerMove:Oe(t.onPointerMove,M),onPointerUp:Oe(t.onPointerUp,T=>{const N=T.target;N.hasPointerCapture(T.pointerId)&&N.releasePointerCapture(T.pointerId),document.body.style.webkitUserSelect=x.current,g.viewport&&(g.viewport.style.scrollBehavior=""),p.current=null})})})}),GC="ScrollAreaThumb",Lse=P.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=kse(GC,t.__scopeScrollArea);return h.jsx(sr,{present:n||i.hasThumb,children:h.jsx(nYe,{ref:e,...r})})}),nYe=P.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=Xo(GC,n),o=kse(GC,n),{onThumbPositionChange:a}=o,l=At(e,u=>o.onThumbChange(u)),c=P.useRef(void 0),d=NT(()=>{c.current&&(c.current(),c.current=void 0)},100);return P.useEffect(()=>{const u=s.viewport;if(u){const f=()=>{if(d(),!c.current){const g=sYe(u,a);c.current=g,a()}};return a(),u.addEventListener("scroll",f),()=>u.removeEventListener("scroll",f)}},[s.viewport,d,a]),h.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Oe(t.onPointerDownCapture,u=>{const g=u.target.getBoundingClientRect(),v=u.clientX-g.left,y=u.clientY-g.top;o.onThumbPointerDown({x:v,y})}),onPointerUp:Oe(t.onPointerUp,o.onThumbPointerUp)})});Lse.displayName=GC;var T4="ScrollAreaCorner",jse=P.forwardRef((t,e)=>{const n=Xo(T4,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?h.jsx(rYe,{...t,ref:e}):null});jse.displayName=T4;var rYe=P.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=Xo(T4,n),[s,o]=P.useState(0),[a,l]=P.useState(0),c=!!(s&&a);return $g(i.scrollbarX,()=>{var u;const d=((u=i.scrollbarX)==null?void 0:u.offsetHeight)||0;i.onCornerHeightChange(d),l(d)}),$g(i.scrollbarY,()=>{var u;const d=((u=i.scrollbarY)==null?void 0:u.offsetWidth)||0;i.onCornerWidthChange(d),o(d)}),c?h.jsx(Xe.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function XC(t){return t?parseInt(t,10):0}function Fse(t,e){const n=t/e;return isNaN(n)?0:n}function PT(t){const e=Fse(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function iYe(t,e,n,r="ltr"){const i=PT(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,u=r==="ltr"?[0,d]:[d*-1,0];return Bse([l,c],u)(t)}function lW(t,e,n="ltr"){const r=PT(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=n_(t,l);return Bse([0,o],[0,a])(c)}function Bse(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Use(t,e){return t>0&&t<e}var sYe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function NT(t,e){const n=kn(t),r=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),P.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function $g(t,e){const n=kn(e);cr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var zse=Nse,oYe=Ose,aYe=jse;const P4=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(zse,{ref:r,className:we("relative overflow-hidden",t),...n,children:[h.jsx(oYe,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx($se,{}),h.jsx(aYe,{})]}));P4.displayName=zse.displayName;const $se=P.forwardRef(({className:t,orientation:e="vertical",...n},r)=>h.jsx(M4,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:h.jsx(Lse,{className:"relative flex-1 rounded-full bg-border"})}));$se.displayName=M4.displayName;var lYe=[" ","Enter","ArrowUp","ArrowDown"],cYe=[" ","Enter"],vb="Select",[RT,OT,uYe]=Hc(vb),[Lv,Zgt]=Gn(vb,[uYe,Ll]),IT=Ll(),[dYe,Nd]=Lv(vb),[fYe,hYe]=Lv(vb),Hse=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:u,disabled:f,required:g,form:v}=t,y=IT(e),[m,p]=P.useState(null),[x,_]=P.useState(null),[b,S]=P.useState(!1),C=Ol(c),[A=!1,M]=Or({prop:r,defaultProp:i,onChange:s}),[T,N]=Or({prop:o,defaultProp:a,onChange:l}),I=P.useRef(null),k=m?v||!!m.closest("form"):!0,[j,F]=P.useState(new Set),z=Array.from(j).map($=>$.props.value).join(";");return h.jsx(IF,{...y,children:h.jsxs(dYe,{required:g,scope:e,trigger:m,onTriggerChange:p,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:zr(),value:T,onValueChange:N,open:A,onOpenChange:M,dir:C,triggerPointerDownPosRef:I,disabled:f,children:[h.jsx(RT.Provider,{scope:e,children:h.jsx(fYe,{scope:t.__scopeSelect,onNativeOptionAdd:P.useCallback($=>{F(V=>new Set(V).add($))},[]),onNativeOptionRemove:P.useCallback($=>{F(V=>{const R=new Set(V);return R.delete($),R})},[]),children:n})}),k?h.jsxs(poe,{"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:u,value:T,onChange:$=>N($.target.value),disabled:f,form:v,children:[T===void 0?h.jsx("option",{value:""}):null,Array.from(j)]},z):null]})})};Hse.displayName=vb;var Vse="SelectTrigger",Wse=P.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=IT(n),o=Nd(Vse,n),a=o.disabled||r,l=At(e,o.onTriggerChange),c=OT(n),d=P.useRef("touch"),[u,f,g]=moe(y=>{const m=c().filter(_=>!_.disabled),p=m.find(_=>_.value===o.value),x=goe(m,y,p);x!==void 0&&o.onValueChange(x.value)}),v=y=>{a||(o.onOpenChange(!0),g()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return h.jsx(Iv,{asChild:!0,...s,children:h.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":hoe(o.value)?"":void 0,...i,ref:l,onClick:Oe(i.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:Oe(i.onPointerDown,y=>{d.current=y.pointerType;const m=y.target;m.hasPointerCapture(y.pointerId)&&m.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:Oe(i.onKeyDown,y=>{const m=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&f(y.key),!(m&&y.key===" ")&&lYe.includes(y.key)&&(v(),y.preventDefault())})})})});Wse.displayName=Vse;var Gse="SelectValue",Xse=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Nd(Gse,n),{onValueNodeHasChildrenChange:c}=l,d=s!==void 0,u=At(e,l.onValueNodeChange);return cr(()=>{c(d)},[c,d]),h.jsx(Xe.span,{...a,ref:u,style:{pointerEvents:"none"},children:hoe(l.value)?h.jsx(h.Fragment,{children:o}):s})});Xse.displayName=Gse;var pYe="SelectIcon",qse=P.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return h.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});qse.displayName=pYe;var mYe="SelectPortal",Kse=t=>h.jsx(mv,{asChild:!0,...t});Kse.displayName=mYe;var bh="SelectContent",Yse=P.forwardRef((t,e)=>{const n=Nd(bh,t.__scopeSelect),[r,i]=P.useState();if(cr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Nh.createPortal(h.jsx(Zse,{scope:t.__scopeSelect,children:h.jsx(RT.Slot,{scope:t.__scopeSelect,children:h.jsx("div",{children:t.children})})}),s):null}return h.jsx(Qse,{...t,ref:e})});Yse.displayName=bh;var ia=10,[Zse,Rd]=Lv(bh),gYe="SelectContentImpl",vYe=dd("SelectContent.RemoveScroll"),Qse=P.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:m,...p}=t,x=Nd(bh,n),[_,b]=P.useState(null),[S,C]=P.useState(null),A=At(e,U=>b(U)),[M,T]=P.useState(null),[N,I]=P.useState(null),k=OT(n),[j,F]=P.useState(!1),z=P.useRef(!1);P.useEffect(()=>{if(_)return wA(_)},[_]),_A();const $=P.useCallback(U=>{const[K,...Q]=k().map(J=>J.ref.current),[ee]=Q.slice(-1),ue=document.activeElement;for(const J of U)if(J===ue||(J==null||J.scrollIntoView({block:"nearest"}),J===K&&S&&(S.scrollTop=0),J===ee&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==ue))return},[k,S]),V=P.useCallback(()=>$([M,_]),[$,M,_]);P.useEffect(()=>{j&&V()},[j,V]);const{onOpenChange:R,triggerPointerDownPosRef:L}=x;P.useEffect(()=>{if(_){let U={x:0,y:0};const K=ee=>{var ue,J;U={x:Math.abs(Math.round(ee.pageX)-(((ue=L.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((J=L.current)==null?void 0:J.y)??0))}},Q=ee=>{U.x<=10&&U.y<=10?ee.preventDefault():_.contains(ee.target)||R(!1),document.removeEventListener("pointermove",K),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",K),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",K),document.removeEventListener("pointerup",Q,{capture:!0})}}},[_,R,L]),P.useEffect(()=>{const U=()=>R(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[R]);const[B,W]=moe(U=>{const K=k().filter(ue=>!ue.disabled),Q=K.find(ue=>ue.ref.current===document.activeElement),ee=goe(K,U,Q);ee&&setTimeout(()=>ee.ref.current.focus())}),G=P.useCallback((U,K,Q)=>{const ee=!z.current&&!Q;(x.value!==void 0&&x.value===K||ee)&&(T(U),ee&&(z.current=!0))},[x.value]),Y=P.useCallback(()=>_==null?void 0:_.focus(),[_]),ie=P.useCallback((U,K,Q)=>{const ee=!z.current&&!Q;(x.value!==void 0&&x.value===K||ee)&&I(U)},[x.value]),ae=r==="popper"?$D:Jse,se=ae===$D?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:u,collisionBoundary:f,collisionPadding:g,sticky:v,hideWhenDetached:y,avoidCollisions:m}:{};return h.jsx(Zse,{scope:n,content:_,viewport:S,onViewportChange:C,itemRefCallback:G,selectedItem:M,onItemLeave:Y,itemTextRefCallback:ie,focusSelectedItem:V,selectedItemText:N,position:r,isPositioned:j,searchRef:B,children:h.jsx(H_,{as:vYe,allowPinchZoom:!0,children:h.jsx($_,{asChild:!0,trapped:x.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Oe(i,U=>{var K;(K=x.trigger)==null||K.focus({preventScroll:!0}),U.preventDefault()}),children:h.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:h.jsx(ae,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:U=>U.preventDefault(),...p,...se,onPlaced:()=>F(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Oe(p.onKeyDown,U=>{const K=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!K&&U.key.length===1&&W(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let ee=k().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(U.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ue=U.target,J=ee.indexOf(ue);ee=ee.slice(J+1)}setTimeout(()=>$(ee)),U.preventDefault()}})})})})})})});Qse.displayName=gYe;var yYe="SelectItemAlignedPosition",Jse=P.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Nd(bh,n),o=Rd(bh,n),[a,l]=P.useState(null),[c,d]=P.useState(null),u=At(e,A=>d(A)),f=OT(n),g=P.useRef(!1),v=P.useRef(!0),{viewport:y,selectedItem:m,selectedItemText:p,focusSelectedItem:x}=o,_=P.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&m&&p){const A=s.trigger.getBoundingClientRect(),M=c.getBoundingClientRect(),T=s.valueNode.getBoundingClientRect(),N=p.getBoundingClientRect();if(s.dir!=="rtl"){const ue=N.left-M.left,J=T.left-ue,q=A.left-J,ne=A.width+q,fe=Math.max(ne,M.width),me=window.innerWidth-ia,pe=n_(J,[ia,Math.max(ia,me-fe)]);a.style.minWidth=ne+"px",a.style.left=pe+"px"}else{const ue=M.right-N.right,J=window.innerWidth-T.right-ue,q=window.innerWidth-A.right-J,ne=A.width+q,fe=Math.max(ne,M.width),me=window.innerWidth-ia,pe=n_(J,[ia,Math.max(ia,me-fe)]);a.style.minWidth=ne+"px",a.style.right=pe+"px"}const I=f(),k=window.innerHeight-ia*2,j=y.scrollHeight,F=window.getComputedStyle(c),z=parseInt(F.borderTopWidth,10),$=parseInt(F.paddingTop,10),V=parseInt(F.borderBottomWidth,10),R=parseInt(F.paddingBottom,10),L=z+$+j+R+V,B=Math.min(m.offsetHeight*5,L),W=window.getComputedStyle(y),G=parseInt(W.paddingTop,10),Y=parseInt(W.paddingBottom,10),ie=A.top+A.height/2-ia,ae=k-ie,se=m.offsetHeight/2,U=m.offsetTop+se,K=z+$+U,Q=L-K;if(K<=ie){const ue=I.length>0&&m===I[I.length-1].ref.current;a.style.bottom="0px";const J=c.clientHeight-y.offsetTop-y.offsetHeight,q=Math.max(ae,se+(ue?Y:0)+J+V),ne=K+q;a.style.height=ne+"px"}else{const ue=I.length>0&&m===I[0].ref.current;a.style.top="0px";const q=Math.max(ie,z+y.offsetTop+(ue?G:0)+se)+Q;a.style.height=q+"px",y.scrollTop=K-ie+y.offsetTop}a.style.margin=`${ia}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=k+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[f,s.trigger,s.valueNode,a,c,y,m,p,s.dir,r]);cr(()=>_(),[_]);const[b,S]=P.useState();cr(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=P.useCallback(A=>{A&&v.current===!0&&(_(),x==null||x(),v.current=!1)},[_,x]);return h.jsx(_Ye,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:h.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:h.jsx(Xe.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Jse.displayName=yYe;var xYe="SelectPopperPosition",$D=P.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ia,...s}=t,o=IT(n);return h.jsx(cb,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});$D.displayName=xYe;var[_Ye,N4]=Lv(bh,{}),HD="SelectViewport",eoe=P.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Rd(HD,n),o=N4(HD,n),a=At(e,s.onViewportChange),l=P.useRef(0);return h.jsxs(h.Fragment,{children:[h.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),h.jsx(RT.Slot,{scope:n,children:h.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Oe(i.onScroll,c=>{const d=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:f}=o;if(f!=null&&f.current&&u){const g=Math.abs(l.current-d.scrollTop);if(g>0){const v=window.innerHeight-ia*2,y=parseFloat(u.style.minHeight),m=parseFloat(u.style.height),p=Math.max(y,m);if(p<v){const x=p+g,_=Math.min(v,x),b=x-_;u.style.height=_+"px",u.style.bottom==="0px"&&(d.scrollTop=b>0?b:0,u.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});eoe.displayName=HD;var toe="SelectGroup",[bYe,wYe]=Lv(toe),SYe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=zr();return h.jsx(bYe,{scope:n,id:i,children:h.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});SYe.displayName=toe;var noe="SelectLabel",roe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wYe(noe,n);return h.jsx(Xe.div,{id:i.id,...r,ref:e})});roe.displayName=noe;var qC="SelectItem",[EYe,ioe]=Lv(qC),soe=P.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Nd(qC,n),l=Rd(qC,n),c=a.value===r,[d,u]=P.useState(s??""),[f,g]=P.useState(!1),v=At(e,x=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,x,r,i)}),y=zr(),m=P.useRef("touch"),p=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return h.jsx(EYe,{scope:n,value:r,disabled:i,textId:y,isSelected:c,onItemTextChange:P.useCallback(x=>{u(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:h.jsx(RT.ItemSlot,{scope:n,value:r,disabled:i,textValue:d,children:h.jsx(Xe.div,{role:"option","aria-labelledby":y,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Oe(o.onFocus,()=>g(!0)),onBlur:Oe(o.onBlur,()=>g(!1)),onClick:Oe(o.onClick,()=>{m.current!=="mouse"&&p()}),onPointerUp:Oe(o.onPointerUp,()=>{m.current==="mouse"&&p()}),onPointerDown:Oe(o.onPointerDown,x=>{m.current=x.pointerType}),onPointerMove:Oe(o.onPointerMove,x=>{var _;m.current=x.pointerType,i?(_=l.onItemLeave)==null||_.call(l):m.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(o.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Oe(o.onKeyDown,x=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&x.key===" "||(cYe.includes(x.key)&&p(),x.key===" "&&x.preventDefault())})})})})});soe.displayName=qC;var u0="SelectItemText",ooe=P.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Nd(u0,n),a=Rd(u0,n),l=ioe(u0,n),c=hYe(u0,n),[d,u]=P.useState(null),f=At(e,p=>u(p),l.onItemTextChange,p=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,p,l.value,l.disabled)}),g=d==null?void 0:d.textContent,v=P.useMemo(()=>h.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:m}=c;return cr(()=>(y(v),()=>m(v)),[y,m,v]),h.jsxs(h.Fragment,{children:[h.jsx(Xe.span,{id:l.textId,...s,ref:f}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Nh.createPortal(s.children,o.valueNode):null]})});ooe.displayName=u0;var aoe="SelectItemIndicator",loe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ioe(aoe,n).isSelected?h.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});loe.displayName=aoe;var VD="SelectScrollUpButton",coe=P.forwardRef((t,e)=>{const n=Rd(VD,t.__scopeSelect),r=N4(VD,t.__scopeSelect),[i,s]=P.useState(!1),o=At(e,r.onScrollButtonChange);return cr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(doe,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});coe.displayName=VD;var WD="SelectScrollDownButton",uoe=P.forwardRef((t,e)=>{const n=Rd(WD,t.__scopeSelect),r=N4(WD,t.__scopeSelect),[i,s]=P.useState(!1),o=At(e,r.onScrollButtonChange);return cr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;s(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?h.jsx(doe,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});uoe.displayName=WD;var doe=P.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Rd("SelectScrollButton",n),o=P.useRef(null),a=OT(n),l=P.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return P.useEffect(()=>()=>l(),[l]),cr(()=>{var d;const c=a().find(u=>u.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),h.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Oe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Oe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Oe(i.onPointerLeave,()=>{l()})})}),CYe="SelectSeparator",foe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return h.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});foe.displayName=CYe;var GD="SelectArrow",MYe=P.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=IT(n),s=Nd(GD,n),o=Rd(GD,n);return s.open&&o.position==="popper"?h.jsx(ub,{...i,...r,ref:e}):null});MYe.displayName=GD;function hoe(t){return t===""||t===void 0}var poe=P.forwardRef((t,e)=>{const{value:n,...r}=t,i=P.useRef(null),s=At(e,i),o=Nv(n);return P.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const u=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(u)}},[o,n]),h.jsx(mb,{asChild:!0,children:h.jsx("select",{...r,ref:s,defaultValue:n})})});poe.displayName="BubbleSelect";function moe(t){const e=kn(t),n=P.useRef(""),r=P.useRef(0),i=P.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=P.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return P.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function goe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=AYe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function AYe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var TYe=Hse,voe=Wse,PYe=Xse,NYe=qse,RYe=Kse,yoe=Yse,OYe=eoe,xoe=roe,_oe=soe,IYe=ooe,kYe=loe,boe=coe,woe=uoe,Soe=foe;const Al=TYe,Tl=PYe,ja=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(voe,{ref:r,className:we("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(NYe,{asChild:!0,children:h.jsx(U_,{className:"h-4 w-4 opacity-50"})})]}));ja.displayName=voe.displayName;const Eoe=P.forwardRef(({className:t,...e},n)=>h.jsx(boe,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(kve,{className:"h-4 w-4"})}));Eoe.displayName=boe.displayName;const Coe=P.forwardRef(({className:t,...e},n)=>h.jsx(woe,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:h.jsx(U_,{className:"h-4 w-4"})}));Coe.displayName=woe.displayName;const Fa=P.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>h.jsx(RYe,{children:h.jsxs(yoe,{ref:i,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(Eoe,{}),h.jsx(OYe,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(Coe,{})]})}));Fa.displayName=yoe.displayName;const DYe=P.forwardRef(({className:t,...e},n)=>h.jsx(xoe,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));DYe.displayName=xoe.displayName;const un=P.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(_oe,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(kYe,{children:h.jsx(B_,{className:"h-4 w-4"})})}),h.jsx(IYe,{children:e})]}));un.displayName=_oe.displayName;const LYe=P.forwardRef(({className:t,...e},n)=>h.jsx(Soe,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));LYe.displayName=Soe.displayName;var jYe="Separator",cW="horizontal",FYe=["horizontal","vertical"],Moe=P.forwardRef((t,e)=>{const{decorative:n,orientation:r=cW,...i}=t,s=BYe(r)?r:cW,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return h.jsx(Xe.div,{"data-orientation":s,...a,...i,ref:e})});Moe.displayName=jYe;function BYe(t){return FYe.includes(t)}var Aoe=Moe;const UYe=P.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>h.jsx(Aoe,{ref:i,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));UYe.displayName=Aoe.displayName;const zYe=SA,$Ye=V_,Toe=P.forwardRef(({className:t,...e},n)=>h.jsx(Oh,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));Toe.displayName=Oh.displayName;const HYe=Gc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Poe=P.forwardRef(({side:t="right",className:e,children:n,...r},i)=>h.jsxs($Ye,{children:[h.jsx(Toe,{}),h.jsxs(Ih,{ref:i,className:we(HYe({side:t}),e),...r,children:[n,h.jsxs(W_,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[h.jsx(hv,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Poe.displayName=Ih.displayName;const Noe=({className:t,...e})=>h.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});Noe.displayName="SheetHeader";const Roe=P.forwardRef(({className:t,...e},n)=>h.jsx(gv,{ref:n,className:we("text-lg font-semibold text-foreground",t),...e}));Roe.displayName=gv.displayName;const Ooe=P.forwardRef(({className:t,...e},n)=>h.jsx(vv,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Ooe.displayName=vv.displayName;const gR=768;function VYe(){const[t,e]=P.useState(void 0);return P.useEffect(()=>{const n=window.matchMedia(`(max-width: ${gR-1}px)`),r=()=>{e(window.innerWidth<gR)};return n.addEventListener("change",r),e(window.innerWidth<gR),()=>n.removeEventListener("change",r)},[]),!!t}const WYe="sidebar_state",GYe=60*60*24*7,XYe="16rem",qYe="18rem",KYe="3rem",YYe="b",Ioe=P.createContext(null);function R4(){const t=P.useContext(Ioe);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function ZYe({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...o}){const a=VYe(),[l,c]=P.useState(!1),[d,u]=P.useState(t),f=e??d,g=P.useCallback(p=>{const x=typeof p=="function"?p(f):p;n?n(x):u(x),document.cookie=`${WYe}=${x}; path=/; max-age=${GYe}`},[n,f]),v=P.useCallback(()=>a?c(p=>!p):g(p=>!p),[a,g,c]);P.useEffect(()=>{const p=x=>{x.key===YYe&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),v())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[v]);const y=f?"expanded":"collapsed",m=P.useMemo(()=>({state:y,open:f,setOpen:g,isMobile:a,openMobile:l,setOpenMobile:c,toggleSidebar:v}),[y,f,g,a,l,c,v]);return h.jsx(Ioe.Provider,{value:m,children:h.jsx(tle,{delayDuration:0,children:h.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":XYe,"--sidebar-width-icon":KYe,...i},className:we("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:s})})})}function QYe({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:o,state:a,openMobile:l,setOpenMobile:c}=R4();return n==="none"?h.jsx("div",{"data-slot":"sidebar",className:we("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):o?h.jsx(zYe,{open:l,onOpenChange:c,...s,children:h.jsxs(Poe,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":qYe},side:t,children:[h.jsxs(Noe,{className:"sr-only",children:[h.jsx(Roe,{children:"Sidebar"}),h.jsx(Ooe,{children:"Displays the mobile sidebar."})]}),h.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):h.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[h.jsx("div",{"data-slot":"sidebar-gap",className:we("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),h.jsx("div",{"data-slot":"sidebar-container",className:we("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:h.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function JYe({className:t,onClick:e,...n}){const{toggleSidebar:r}=R4();return h.jsxs(Ge,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",t),onClick:i=>{e==null||e(i),r()},...n,children:[h.jsx(Kve,{}),h.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function eZe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",t),...e})}function tZe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function nZe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",t),...e})}function rZe({className:t,asChild:e=!1,...n}){const r=e?j_:"div";return h.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:we("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function iZe({className:t,...e}){return h.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:we("w-full text-sm",t),...e})}function uW({className:t,...e}){return h.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",t),...e})}function dW({className:t,...e}){return h.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:we("group/menu-item relative",t),...e})}const sZe=Gc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function fW({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...o}){const a=t?j_:"button",{isMobile:l,state:c}=R4(),d=h.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:we(sZe({variant:n,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),h.jsxs(DQe,{children:[h.jsx(LQe,{asChild:!0,children:d}),h.jsx(nle,{side:"right",align:"center",hidden:c!=="collapsed"||l,...i})]})):d}var koe=["PageUp","PageDown"],Doe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Loe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},jv="Slider",[XD,oZe,aZe]=Hc(jv),[joe,Qgt]=Gn(jv,[aZe]),[lZe,kT]=joe(jv),Foe=P.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:d,onValueChange:u=()=>{},onValueCommit:f=()=>{},inverted:g=!1,form:v,...y}=t,m=P.useRef(new Set),p=P.useRef(0),_=o==="horizontal"?cZe:uZe,[b=[],S]=Or({prop:d,defaultProp:c,onChange:I=>{var j;(j=[...m.current][p.current])==null||j.focus(),u(I)}}),C=P.useRef(b);function A(I){const k=mZe(b,I);N(I,k)}function M(I){N(I,p.current)}function T(){const I=C.current[p.current];b[p.current]!==I&&f(b)}function N(I,k,{commit:j}={commit:!1}){const F=xZe(s),z=_Ze(Math.round((I-r)/s)*s+r,F),$=n_(z,[r,i]);S((V=[])=>{const R=hZe(V,$,k);if(yZe(R,l*s)){p.current=R.indexOf($);const L=String(R)!==String(V);return L&&j&&f(R),L?R:V}else return V})}return h.jsx(lZe,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:p,thumbs:m.current,values:b,orientation:o,form:v,children:h.jsx(XD.Provider,{scope:t.__scopeSlider,children:h.jsx(XD.Slot,{scope:t.__scopeSlider,children:h.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...y,ref:e,onPointerDown:Oe(y.onPointerDown,()=>{a||(C.current=b)}),min:r,max:i,inverted:g,onSlideStart:a?void 0:A,onSlideMove:a?void 0:M,onSlideEnd:a?void 0:T,onHomeKeyDown:()=>!a&&N(r,0,{commit:!0}),onEndKeyDown:()=>!a&&N(i,b.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:k})=>{if(!a){const z=koe.includes(I.key)||I.shiftKey&&Doe.includes(I.key)?10:1,$=p.current,V=b[$],R=s*z*k;N(V+R,$,{commit:!0})}}})})})})});Foe.displayName=jv;var[Boe,Uoe]=joe(jv,{startEdge:"left",endEdge:"right",size:"width",direction:1}),cZe=P.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...d}=t,[u,f]=P.useState(null),g=At(e,_=>f(_)),v=P.useRef(void 0),y=Ol(i),m=y==="ltr",p=m&&!s||!m&&s;function x(_){const b=v.current||u.getBoundingClientRect(),S=[0,b.width],A=O4(S,p?[n,r]:[r,n]);return v.current=b,A(_-b.left)}return h.jsx(Boe,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:h.jsx(zoe,{dir:y,"data-orientation":"horizontal",...d,ref:g,style:{...d.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const b=x(_.clientX);o==null||o(b)},onSlideMove:_=>{const b=x(_.clientX);a==null||a(b)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:_=>{const S=Loe[p?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:S?-1:1})}})})}),uZe=P.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,d=P.useRef(null),u=At(e,d),f=P.useRef(void 0),g=!i;function v(y){const m=f.current||d.current.getBoundingClientRect(),p=[0,m.height],_=O4(p,g?[r,n]:[n,r]);return f.current=m,_(y-m.top)}return h.jsx(Boe,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:h.jsx(zoe,{"data-orientation":"vertical",...c,ref:u,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const m=v(y.clientY);s==null||s(m)},onSlideMove:y=>{const m=v(y.clientY);o==null||o(m)},onSlideEnd:()=>{f.current=void 0,a==null||a()},onStepKeyDown:y=>{const p=Loe[g?"from-bottom":"from-top"].includes(y.key);l==null||l({event:y,direction:p?-1:1})}})})}),zoe=P.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,d=kT(jv,n);return h.jsx(Xe.span,{...c,ref:e,onKeyDown:Oe(t.onKeyDown,u=>{u.key==="Home"?(o(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):koe.concat(Doe).includes(u.key)&&(l(u),u.preventDefault())}),onPointerDown:Oe(t.onPointerDown,u=>{const f=u.target;f.setPointerCapture(u.pointerId),u.preventDefault(),d.thumbs.has(f)?f.focus():r(u)}),onPointerMove:Oe(t.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&i(u)}),onPointerUp:Oe(t.onPointerUp,u=>{const f=u.target;f.hasPointerCapture(u.pointerId)&&(f.releasePointerCapture(u.pointerId),s(u))})})}),$oe="SliderTrack",Hoe=P.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=kT($oe,n);return h.jsx(Xe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Hoe.displayName=$oe;var qD="SliderRange",Voe=P.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=kT(qD,n),s=Uoe(qD,n),o=P.useRef(null),a=At(e,o),l=i.values.length,c=i.values.map(f=>Goe(f,i.min,i.max)),d=l>1?Math.min(...c):0,u=100-Math.max(...c);return h.jsx(Xe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:d+"%",[s.endEdge]:u+"%"}})});Voe.displayName=qD;var KD="SliderThumb",Woe=P.forwardRef((t,e)=>{const n=oZe(t.__scopeSlider),[r,i]=P.useState(null),s=At(e,a=>i(a)),o=P.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return h.jsx(dZe,{...t,ref:s,index:o})}),dZe=P.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=kT(KD,n),a=Uoe(KD,n),[l,c]=P.useState(null),d=At(e,x=>c(x)),u=l?o.form||!!l.closest("form"):!0,f=ob(l),g=o.values[r],v=g===void 0?0:Goe(g,o.min,o.max),y=pZe(r,o.values.length),m=f==null?void 0:f[a.size],p=m?gZe(m,v,a.direction):0;return P.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),h.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${p}px)`},children:[h.jsx(XD.ItemSlot,{scope:t.__scopeSlider,children:h.jsx(Xe.span,{role:"slider","aria-label":t["aria-label"]||y,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:d,style:g===void 0?{display:"none"}:t.style,onFocus:Oe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),u&&h.jsx(fZe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});Woe.displayName=KD;var fZe=t=>{const{value:e,...n}=t,r=P.useRef(null),i=Nv(e);return P.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),h.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function hZe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Goe(t,e,n){const s=100/(n-e)*(t-e);return n_(s,[0,100])}function pZe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function mZe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function gZe(t,e,n){const r=t/2,s=O4([0,50],[0,r]);return(r-s(e)*n)*n}function vZe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function yZe(t,e){if(e>0){const n=vZe(t);return Math.min(...n)>=e}return!0}function O4(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function xZe(t){return(String(t).split(".")[1]||"").length}function _Ze(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Xoe=Foe,bZe=Hoe,wZe=Voe,SZe=Woe;const EZe=P.forwardRef(({className:t,...e},n)=>h.jsxs(Xoe,{ref:n,className:we("relative flex w-full touch-none select-none items-center",t),...e,children:[h.jsx(bZe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:h.jsx(wZe,{className:"absolute h-full bg-primary"})}),h.jsx(SZe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));EZe.displayName=Xoe.displayName;var I4="Switch",[CZe,Jgt]=Gn(I4),[MZe,AZe]=CZe(I4),qoe=P.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:d,...u}=t,[f,g]=P.useState(null),v=At(e,_=>g(_)),y=P.useRef(!1),m=f?d||!!f.closest("form"):!0,[p=!1,x]=Or({prop:i,defaultProp:s,onChange:c});return h.jsxs(MZe,{scope:n,checked:p,disabled:a,children:[h.jsx(Xe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":Zoe(p),"data-disabled":a?"":void 0,disabled:a,value:l,...u,ref:v,onClick:Oe(t.onClick,_=>{x(b=>!b),m&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})}),m&&h.jsx(TZe,{control:f,bubbles:!y.current,name:r,value:l,checked:p,required:o,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});qoe.displayName=I4;var Koe="SwitchThumb",Yoe=P.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=AZe(Koe,n);return h.jsx(Xe.span,{"data-state":Zoe(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});Yoe.displayName=Koe;var TZe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=P.useRef(null),o=Nv(n),a=ob(e);return P.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&u){const f=new Event("click",{bubbles:r});u.call(l,n),l.dispatchEvent(f)}},[o,n,r]),h.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Zoe(t){return t?"checked":"unchecked"}var Qoe=qoe,PZe=Yoe;const k4=P.forwardRef(({className:t,...e},n)=>h.jsx(Qoe,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:h.jsx(PZe,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));k4.displayName=Qoe.displayName;const DT=P.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));DT.displayName="Table";const LT=P.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));LT.displayName="TableHeader";const jT=P.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));jT.displayName="TableBody";const NZe=P.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));NZe.displayName="TableFooter";const ad=P.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ad.displayName="TableRow";const xi=P.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));xi.displayName="TableHead";const fi=P.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));fi.displayName="TableCell";const RZe=P.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));RZe.displayName="TableCaption";var D4="Tabs",[OZe,evt]=Gn(D4,[jl]),Joe=jl(),[IZe,L4]=OZe(D4),eae=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=Ol(a),[u,f]=Or({prop:r,onChange:i,defaultProp:s});return h.jsx(IZe,{scope:n,baseId:zr(),value:u,onValueChange:f,orientation:o,dir:d,activationMode:l,children:h.jsx(Xe.div,{dir:d,"data-orientation":o,...c,ref:e})})});eae.displayName=D4;var tae="TabsList",nae=P.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=L4(tae,n),o=Joe(n);return h.jsx(db,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:h.jsx(Xe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});nae.displayName=tae;var rae="TabsTrigger",iae=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=L4(rae,n),a=Joe(n),l=aae(o.baseId,r),c=lae(o.baseId,r),d=r===o.value;return h.jsx(fb,{asChild:!0,...a,focusable:!i,active:d,children:h.jsx(Xe.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Oe(t.onMouseDown,u=>{!i&&u.button===0&&u.ctrlKey===!1?o.onValueChange(r):u.preventDefault()}),onKeyDown:Oe(t.onKeyDown,u=>{[" ","Enter"].includes(u.key)&&o.onValueChange(r)}),onFocus:Oe(t.onFocus,()=>{const u=o.activationMode!=="manual";!d&&!i&&u&&o.onValueChange(r)})})})});iae.displayName=rae;var sae="TabsContent",oae=P.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=L4(sae,n),l=aae(a.baseId,r),c=lae(a.baseId,r),d=r===a.value,u=P.useRef(d);return P.useEffect(()=>{const f=requestAnimationFrame(()=>u.current=!1);return()=>cancelAnimationFrame(f)},[]),h.jsx(sr,{present:i||d,children:({present:f})=>h.jsx(Xe.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:u.current?"0s":void 0},children:f&&s})})});oae.displayName=sae;function aae(t,e){return`${t}-trigger-${e}`}function lae(t,e){return`${t}-content-${e}`}var kZe=eae,cae=nae,uae=iae,dae=oae;const Qc=kZe,Bl=P.forwardRef(({className:t,...e},n)=>h.jsx(cae,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Bl.displayName=cae.displayName;const Mr=P.forwardRef(({className:t,...e},n)=>h.jsx(uae,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Mr.displayName=uae.displayName;const yn=P.forwardRef(({className:t,...e},n)=>h.jsx(dae,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));yn.displayName=dae.displayName;const j4=P.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));j4.displayName="Textarea";var F4="ToastProvider",[B4,DZe,LZe]=Hc("Toast"),[fae,tvt]=Gn("Toast",[LZe]),[jZe,FT]=fae(F4),hae=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=P.useState(null),[c,d]=P.useState(0),u=P.useRef(!1),f=P.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${F4}\`. Expected non-empty \`string\`.`),h.jsx(B4.Provider,{scope:e,children:h.jsx(jZe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:P.useCallback(()=>d(g=>g+1),[]),onToastRemove:P.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:f,children:o})})};hae.displayName=F4;var pae="ToastViewport",FZe=["F8"],YD="toast.viewportPause",ZD="toast.viewportResume",mae=P.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=FZe,label:i="Notifications ({hotkey})",...s}=t,o=FT(pae,n),a=DZe(n),l=P.useRef(null),c=P.useRef(null),d=P.useRef(null),u=P.useRef(null),f=At(e,u,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;P.useEffect(()=>{const m=p=>{var _;r.length!==0&&r.every(b=>p[b]||p.code===b)&&((_=u.current)==null||_.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),P.useEffect(()=>{const m=l.current,p=u.current;if(v&&m&&p){const x=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(YD);p.dispatchEvent(C),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(ZD);p.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!m.contains(C.relatedTarget)&&_()},S=()=>{m.contains(document.activeElement)||_()};return m.addEventListener("focusin",x),m.addEventListener("focusout",b),m.addEventListener("pointermove",x),m.addEventListener("pointerleave",S),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{m.removeEventListener("focusin",x),m.removeEventListener("focusout",b),m.removeEventListener("pointermove",x),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const y=P.useCallback(({tabbingDirection:m})=>{const x=a().map(_=>{const b=_.ref.current,S=[b,...ZZe(b)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?x.reverse():x).flat()},[a]);return P.useEffect(()=>{const m=u.current;if(m){const p=x=>{var S,C,A;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const M=document.activeElement,T=x.shiftKey;if(x.target===m&&T){(S=c.current)==null||S.focus();return}const k=y({tabbingDirection:T?"backwards":"forwards"}),j=k.findIndex(F=>F===M);vR(k.slice(j+1))?x.preventDefault():T?(C=c.current)==null||C.focus():(A=d.current)==null||A.focus()}};return m.addEventListener("keydown",p),()=>m.removeEventListener("keydown",p)}},[a,y]),h.jsxs(Xye,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&h.jsx(QD,{ref:c,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"forwards"});vR(m)}}),h.jsx(B4.Slot,{scope:n,children:h.jsx(Xe.ol,{tabIndex:-1,...s,ref:f})}),v&&h.jsx(QD,{ref:d,onFocusFromOutsideViewport:()=>{const m=y({tabbingDirection:"backwards"});vR(m)}})]})});mae.displayName=pae;var gae="ToastFocusProxy",QD=P.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=FT(gae,n);return h.jsx(mb,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});QD.displayName=gae;var BT="Toast",BZe="toast.swipeStart",UZe="toast.swipeMove",zZe="toast.swipeCancel",$Ze="toast.swipeEnd",vae=P.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Or({prop:r,defaultProp:i,onChange:s});return h.jsx(sr,{present:n||a,children:h.jsx(WZe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:kn(t.onPause),onResume:kn(t.onResume),onSwipeStart:Oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(t.onSwipeMove,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:Oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(t.onSwipeEnd,c=>{const{x:d,y:u}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),l(!1)})})})});vae.displayName=BT;var[HZe,VZe]=fae(BT,{onClose(){}}),WZe=P.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:u,onSwipeCancel:f,onSwipeEnd:g,...v}=t,y=FT(BT,n),[m,p]=P.useState(null),x=At(e,F=>p(F)),_=P.useRef(null),b=P.useRef(null),S=i||y.duration,C=P.useRef(0),A=P.useRef(S),M=P.useRef(0),{onToastAdd:T,onToastRemove:N}=y,I=kn(()=>{var z;(m==null?void 0:m.contains(document.activeElement))&&((z=y.viewport)==null||z.focus()),o()}),k=P.useCallback(F=>{!F||F===1/0||(window.clearTimeout(M.current),C.current=new Date().getTime(),M.current=window.setTimeout(I,F))},[I]);P.useEffect(()=>{const F=y.viewport;if(F){const z=()=>{k(A.current),c==null||c()},$=()=>{const V=new Date().getTime()-C.current;A.current=A.current-V,window.clearTimeout(M.current),l==null||l()};return F.addEventListener(YD,$),F.addEventListener(ZD,z),()=>{F.removeEventListener(YD,$),F.removeEventListener(ZD,z)}}},[y.viewport,S,l,c,k]),P.useEffect(()=>{s&&!y.isClosePausedRef.current&&k(S)},[s,S,y.isClosePausedRef,k]),P.useEffect(()=>(T(),()=>N()),[T,N]);const j=P.useMemo(()=>m?Eae(m):null,[m]);return y.viewport?h.jsxs(h.Fragment,{children:[j&&h.jsx(GZe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),h.jsx(HZe,{scope:n,onClose:I,children:Nh.createPortal(h.jsx(B4.ItemSlot,{scope:n,children:h.jsx(Gye,{asChild:!0,onEscapeKeyDown:Oe(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||I(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Oe(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,I()))}),onPointerDown:Oe(t.onPointerDown,F=>{F.button===0&&(_.current={x:F.clientX,y:F.clientY})}),onPointerMove:Oe(t.onPointerMove,F=>{if(!_.current)return;const z=F.clientX-_.current.x,$=F.clientY-_.current.y,V=!!b.current,R=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,B=R?L(0,z):0,W=R?0:L(0,$),G=F.pointerType==="touch"?10:2,Y={x:B,y:W},ie={originalEvent:F,delta:Y};V?(b.current=Y,_1(UZe,u,ie,{discrete:!1})):hW(Y,y.swipeDirection,G)?(b.current=Y,_1(BZe,d,ie,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(z)>G||Math.abs($)>G)&&(_.current=null)}),onPointerUp:Oe(t.onPointerUp,F=>{const z=b.current,$=F.target;if($.hasPointerCapture(F.pointerId)&&$.releasePointerCapture(F.pointerId),b.current=null,_.current=null,z){const V=F.currentTarget,R={originalEvent:F,delta:z};hW(z,y.swipeDirection,y.swipeThreshold)?_1($Ze,g,R,{discrete:!0}):_1(zZe,f,R,{discrete:!0}),V.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),GZe=t=>{const{__scopeToast:e,children:n,...r}=t,i=FT(BT,e),[s,o]=P.useState(!1),[a,l]=P.useState(!1);return KZe(()=>o(!0)),P.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(mv,{asChild:!0,children:h.jsx(mb,{...r,children:s&&h.jsxs(h.Fragment,{children:[i.label," ",n]})})})},XZe="ToastTitle",yae=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Xe.div,{...r,ref:e})});yae.displayName=XZe;var qZe="ToastDescription",xae=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(Xe.div,{...r,ref:e})});xae.displayName=qZe;var _ae="ToastAction",bae=P.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(Sae,{altText:n,asChild:!0,children:h.jsx(U4,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${_ae}\`. Expected non-empty \`string\`.`),null)});bae.displayName=_ae;var wae="ToastClose",U4=P.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=VZe(wae,n);return h.jsx(Sae,{asChild:!0,children:h.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,i.onClose)})})});U4.displayName=wae;var Sae=P.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return h.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Eae(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),YZe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Eae(r))}}),e}function _1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?ux(i,s):i.dispatchEvent(s)}var hW=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function KZe(t=()=>{}){const e=kn(t);cr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function YZe(t){return t.nodeType===t.ELEMENT_NODE}function ZZe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vR(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QZe=hae,Cae=mae,Mae=vae,Aae=yae,Tae=xae,Pae=bae,Nae=U4;const JZe=QZe,Rae=P.forwardRef(({className:t,...e},n)=>h.jsx(Cae,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Rae.displayName=Cae.displayName;const eQe=Gc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-500 bg-green-500 text-white",warning:"warning group border-orange-500 bg-orange-500 text-white"}},defaultVariants:{variant:"default"}}),Oae=P.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(Mae,{ref:r,className:we(eQe({variant:e}),t),...n}));Oae.displayName=Mae.displayName;const tQe=P.forwardRef(({className:t,...e},n)=>h.jsx(Pae,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));tQe.displayName=Pae.displayName;const Iae=P.forwardRef(({className:t,...e},n)=>h.jsx(Nae,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(hv,{className:"h-4 w-4"})}));Iae.displayName=Nae.displayName;const kae=P.forwardRef(({className:t,...e},n)=>h.jsx(Aae,{ref:n,className:we("text-sm font-semibold",t),...e}));kae.displayName=Aae.displayName;const Dae=P.forwardRef(({className:t,...e},n)=>h.jsx(Tae,{ref:n,className:we("text-sm opacity-90",t),...e}));Dae.displayName=Tae.displayName;const nQe=1,rQe=5e3;let yR=0;function iQe(){return yR=(yR+1)%Number.MAX_SAFE_INTEGER,yR.toString()}const xR=new Map,pW=t=>{if(xR.has(t))return;const e=setTimeout(()=>{xR.delete(t),k0({type:"REMOVE_TOAST",toastId:t})},rQe);xR.set(t,e)},sQe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,nQe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?pW(n):t.toasts.forEach(r=>{pW(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zS=[];let $S={toasts:[]};function k0(t){$S=sQe($S,t),zS.forEach(e=>{e($S)})}function oQe({...t}){const e=iQe(),n=i=>k0({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>k0({type:"DISMISS_TOAST",toastId:e});return k0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function yb(){const[t,e]=P.useState($S);return P.useEffect(()=>(zS.push(e),()=>{const n=zS.indexOf(e);n>-1&&zS.splice(n,1)}),[t]),{...t,toast:oQe,dismiss:n=>k0({type:"DISMISS_TOAST",toastId:n})}}function aQe(){const{toasts:t}=yb();return h.jsxs(JZe,{children:[t.map(function({id:e,title:n,description:r,action:i,variant:s,...o}){return h.jsxs(Oae,{...o,children:[h.jsxs("div",{className:"flex items-center",children:[s==="success"&&h.jsx(Lve,{className:"h-5 w-5 text-green-400 mr-3"}),s==="destructive"&&h.jsx(TK,{className:"h-5 w-5 text-red-400 mr-3"}),s==="warning"&&h.jsx(eye,{className:"h-5 w-5 text-orange-400 mr-3"}),s==="default"&&h.jsx(Vve,{className:"h-5 w-5 text-blue-400 mr-3"}),h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(kae,{children:n}),r&&h.jsx(Dae,{children:r})]})]}),i,h.jsx(Iae,{})]},e)}),h.jsx(Rae,{})]})}var lQe="Toggle",z4=P.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=t,[o=!1,a]=Or({prop:n,onChange:i,defaultProp:r});return h.jsx(Xe.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:Oe(t.onClick,()=>{t.disabled||a(!o)})})});z4.displayName=lQe;var Lae=z4,Fv="ToggleGroup",[jae,nvt]=Gn(Fv,[jl]),Fae=jl(),$4=te.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return h.jsx(cQe,{...i,ref:e})}if(n==="multiple"){const i=r;return h.jsx(uQe,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${Fv}\``)});$4.displayName=Fv;var[Bae,Uae]=jae(Fv),cQe=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,a]=Or({prop:n,defaultProp:r,onChange:i});return h.jsx(Bae,{scope:t.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:a,onItemDeactivate:te.useCallback(()=>a(""),[a]),children:h.jsx(zae,{...s,ref:e})})}),uQe=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=Or({prop:n,defaultProp:r,onChange:i}),l=te.useCallback(d=>a((u=[])=>[...u,d]),[a]),c=te.useCallback(d=>a((u=[])=>u.filter(f=>f!==d)),[a]);return h.jsx(Bae,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:h.jsx(zae,{...s,ref:e})})});$4.displayName=Fv;var[dQe,fQe]=jae(Fv),zae=te.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:o,loop:a=!0,...l}=t,c=Fae(n),d=Ol(o),u={role:"group",dir:d,...l};return h.jsx(dQe,{scope:n,rovingFocus:i,disabled:r,children:i?h.jsx(db,{asChild:!0,...c,orientation:s,dir:d,loop:a,children:h.jsx(Xe.div,{...u,ref:e})}):h.jsx(Xe.div,{...u,ref:e})})}),KC="ToggleGroupItem",$ae=te.forwardRef((t,e)=>{const n=Uae(KC,t.__scopeToggleGroup),r=fQe(KC,t.__scopeToggleGroup),i=Fae(t.__scopeToggleGroup),s=n.value.includes(t.value),o=r.disabled||t.disabled,a={...t,pressed:s,disabled:o},l=te.useRef(null);return r.rovingFocus?h.jsx(fb,{asChild:!0,...i,focusable:!o,active:s,ref:l,children:h.jsx(mW,{...a,ref:e})}):h.jsx(mW,{...a,ref:e})});$ae.displayName=KC;var mW=te.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,s=Uae(KC,n),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return h.jsx(z4,{...a,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),Hae=$4,Vae=$ae;const Wae=P.createContext({size:"default",variant:"default"}),hQe=P.forwardRef(({className:t,variant:e,size:n,children:r,...i},s)=>h.jsx(Hae,{ref:s,className:we("flex items-center justify-center gap-1",t),...i,children:h.jsx(Wae.Provider,{value:{variant:e,size:n},children:r})}));hQe.displayName=Hae.displayName;const pQe=P.forwardRef(({className:t,children:e,variant:n,size:r,...i},s)=>{const o=P.useContext(Wae);return h.jsx(Vae,{ref:s,className:we(Gae({variant:o.variant||n,size:o.size||r}),t),...i,children:e})});pQe.displayName=Vae.displayName;const Gae=Gc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),mQe=P.forwardRef(({className:t,variant:e,size:n,...r},i)=>h.jsx(Lae,{ref:i,className:we(Gae({variant:e,size:n,className:t})),...r}));mQe.displayName=Lae.displayName;var[UT,rvt]=Gn("Tooltip",[Ll]),zT=Ll(),Xae="TooltipProvider",gQe=700,JD="tooltip.open",[vQe,H4]=UT(Xae),qae=t=>{const{__scopeTooltip:e,delayDuration:n=gQe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=P.useRef(!0),a=P.useRef(!1),l=P.useRef(0);return P.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),h.jsx(vQe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:P.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:P.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:P.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};qae.displayName=Xae;var $T="Tooltip",[yQe,HT]=UT($T),Kae=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=H4($T,t.__scopeTooltip),c=zT(e),[d,u]=P.useState(null),f=zr(),g=P.useRef(0),v=o??l.disableHoverableContent,y=a??l.delayDuration,m=P.useRef(!1),[p=!1,x]=Or({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(JD))):l.onClose(),s==null||s(A)}}),_=P.useMemo(()=>p?m.current?"delayed-open":"instant-open":"closed",[p]),b=P.useCallback(()=>{window.clearTimeout(g.current),g.current=0,m.current=!1,x(!0)},[x]),S=P.useCallback(()=>{window.clearTimeout(g.current),g.current=0,x(!1)},[x]),C=P.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{m.current=!0,x(!0),g.current=0},y)},[y,x]);return P.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),h.jsx(IF,{...c,children:h.jsx(yQe,{scope:e,contentId:f,open:p,stateAttribute:_,trigger:d,onTriggerChange:u,onTriggerEnter:P.useCallback(()=>{l.isOpenDelayedRef.current?C():b()},[l.isOpenDelayedRef,C,b]),onTriggerLeave:P.useCallback(()=>{v?S():(window.clearTimeout(g.current),g.current=0)},[S,v]),onOpen:b,onClose:S,disableHoverableContent:v,children:n})})};Kae.displayName=$T;var eL="TooltipTrigger",Yae=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=HT(eL,n),s=H4(eL,n),o=zT(n),a=P.useRef(null),l=At(e,a,i.onTriggerChange),c=P.useRef(!1),d=P.useRef(!1),u=P.useCallback(()=>c.current=!1,[]);return P.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),h.jsx(Iv,{asChild:!0,...o,children:h.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Oe(t.onPointerMove,f=>{f.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:Oe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Oe(t.onBlur,i.onClose),onClick:Oe(t.onClick,i.onClose)})})});Yae.displayName=eL;var xQe="TooltipPortal",[ivt,_Qe]=UT(xQe,{forceMount:void 0}),Hg="TooltipContent",Zae=P.forwardRef((t,e)=>{const n=_Qe(Hg,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=HT(Hg,t.__scopeTooltip);return h.jsx(sr,{present:r||o.open,children:o.disableHoverableContent?h.jsx(Qae,{side:i,...s,ref:e}):h.jsx(bQe,{side:i,...s,ref:e})})}),bQe=P.forwardRef((t,e)=>{const n=HT(Hg,t.__scopeTooltip),r=H4(Hg,t.__scopeTooltip),i=P.useRef(null),s=At(e,i),[o,a]=P.useState(null),{trigger:l,onClose:c}=n,d=i.current,{onPointerInTransitChange:u}=r,f=P.useCallback(()=>{a(null),u(!1)},[u]),g=P.useCallback((v,y)=>{const m=v.currentTarget,p={x:v.clientX,y:v.clientY},x=MQe(p,m.getBoundingClientRect()),_=AQe(p,x),b=TQe(y.getBoundingClientRect()),S=NQe([..._,...b]);a(S),u(!0)},[u]);return P.useEffect(()=>()=>f(),[f]),P.useEffect(()=>{if(l&&d){const v=m=>g(m,d),y=m=>g(m,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,g,f]),P.useEffect(()=>{if(o){const v=y=>{const m=y.target,p={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(m))||(d==null?void 0:d.contains(m)),_=!PQe(p,o);x?f():_&&(f(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,o,c,f]),h.jsx(Qae,{...t,ref:s})}),[wQe,SQe]=UT($T,{isInside:!1}),EQe=lK("TooltipContent"),Qae=P.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=HT(Hg,n),c=zT(n),{onClose:d}=l;return P.useEffect(()=>(document.addEventListener(JD,d),()=>document.removeEventListener(JD,d)),[d]),P.useEffect(()=>{if(l.trigger){const u=f=>{const g=f.target;g!=null&&g.contains(l.trigger)&&d()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[l.trigger,d]),h.jsx(Wc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:u=>u.preventDefault(),onDismiss:d,children:h.jsxs(cb,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[h.jsx(EQe,{children:r}),h.jsx(wQe,{scope:n,isInside:!0,children:h.jsx(pie,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Zae.displayName=Hg;var Jae="TooltipArrow",CQe=P.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=zT(n);return SQe(Jae,n).isInside?null:h.jsx(ub,{...i,...r,ref:e})});CQe.displayName=Jae;function MQe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function AQe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function TQe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function PQe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,d=e[o].y;l>r!=d>r&&n<(c-a)*(r-l)/(d-l)+a&&(i=!i)}return i}function NQe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),RQe(e)}function RQe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var OQe=qae,IQe=Kae,kQe=Yae,ele=Zae;const tle=OQe,DQe=IQe,LQe=kQe,nle=P.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(ele,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));nle.displayName=ele.displayName;const gW=t=>{let e;const n=new Set,r=(c,d)=>{const u=typeof c=="function"?c(e):c;if(!Object.is(u,e)){const f=e;e=d??(typeof u!="object"||u===null)?u:Object.assign({},e,u),n.forEach(g=>g(e,f))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},jQe=t=>t?gW(t):gW,FQe=t=>t;function BQe(t,e=FQe){const n=te.useSyncExternalStore(t.subscribe,te.useCallback(()=>e(t.getState()),[t,e]),te.useCallback(()=>e(t.getInitialState()),[t,e]));return te.useDebugValue(n),n}const vW=t=>{const e=jQe(t),n=r=>BQe(e,r);return Object.assign(n,e),n},UQe=t=>t?vW(t):vW,V4=UQe(t=>({currentModule:"vareon",theme:typeof window<"u"&&window.localStorage.getItem("theme")==="light"?"light":"dark",performanceMode:!1,systemStatus:{arcana:"online",myntrix:"online",neosyntis:"online",cognisys:"online"},commandPaletteOpen:!1,sidebarCollapsed:!1,notifications:[],setCurrentModule:e=>t({currentModule:e}),toggleTheme:()=>t(e=>{const n=e.theme==="dark"?"light":"dark";return typeof window<"u"&&(window.localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark")),{theme:n}}),togglePerformanceMode:()=>t(e=>({performanceMode:!e.performanceMode})),setSystemStatus:(e,n)=>t(r=>({systemStatus:{...r.systemStatus,[e]:n}})),toggleCommandPalette:()=>t(e=>({commandPaletteOpen:!e.commandPaletteOpen})),toggleSidebar:()=>t(e=>({sidebarCollapsed:!e.sidebarCollapsed})),addNotification:(e,n)=>t(r=>({notifications:[...r.notifications,{id:Date.now().toString(),message:e,type:n}]})),removeNotification:e=>t(n=>({notifications:n.notifications.filter(r=>r.id!==e)}))}));if(typeof window<"u"){const t=V4.getState().theme;document.documentElement.classList.toggle("dark",t==="dark")}function zQe({children:t}){const e=V4(n=>n.theme);return P.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e)},[e]),h.jsx(h.Fragment,{children:t})}function $Qe(){const[,t]=as(),{commandPaletteOpen:e,toggleCommandPalette:n}=V4();P.useEffect(()=>{const s=o=>{o.key==="k"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),n())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[n]);const r=P.useMemo(()=>[{group:"Modules",items:[{icon:$j,label:"VAREON Dashboard",path:"/dashboard",keywords:"home dashboard portal"},{icon:ml,label:"NEOSYNTIS Lab",path:"/dashboard/neosyntis",keywords:"research workflow dataset search"},{icon:Ca,label:"MYNTRIX Core",path:"/dashboard/myntrix",keywords:"agents hardware cnc device"},{icon:bd,label:"COGNISYS",path:"/dashboard/cognisys",keywords:"models routing orchestration"},{icon:Ra,label:"ARCANA System",path:"/dashboard/arcana",keywords:"chat ai terminal shell"}]},{group:"NEOSYNTIS",items:[{icon:ml,label:"Search Engine",path:"/dashboard/neosyntis?tab=search",keywords:"research workflow dataset search"},{icon:vA,label:"Datasets",path:"/dashboard/neosyntis?tab=datasets",keywords:"data dataset huggingface"},{icon:AE,label:"Workflow Builder",path:"/dashboard/neosyntis?tab=workflow",keywords:"workflow nodes automation"},{icon:oh,label:"Telemetry",path:"/dashboard/neosyntis?tab=telemetry",keywords:"metrics stats logs"},{icon:dg,label:"Device Settings",path:"/dashboard/neosyntis?tab=devices",keywords:"cnc esp32 arduino"}]},{group:"MYNTRIX",items:[{icon:bc,label:"Agent Manager",path:"/dashboard/myntrix?tab=agents",keywords:"agents ai bots"},{icon:AE,label:"Task Scheduler",path:"/dashboard/myntrix?tab=scheduler",keywords:"tasks schedule cron"},{icon:Ca,label:"Device Control",path:"/dashboard/myntrix?tab=devices",keywords:"device cnc 3d hardware"},{icon:oh,label:"Resource Monitor",path:"/dashboard/myntrix?tab=monitor",keywords:"cpu memory resources"}]},{group:"Actions",items:[{icon:bc,label:"Start New Chat",path:"/dashboard/arcana?action=new-chat",keywords:"chat conversation"},{icon:Ra,label:"Open Terminal",path:"/dashboard/arcana?tab=terminal",keywords:"shell command line"},{icon:Uve,label:"Create Workflow",path:"/dashboard/neosyntis?tab=workflow&action=new",keywords:"workflow create new"},{icon:dg,label:"Settings",path:"/dashboard/settings",keywords:"settings preferences config"}]}],[]),i=s=>{t(s),n()};return h.jsxs(LWe,{open:e,onOpenChange:n,children:[h.jsx(Ste,{placeholder:"Type a command or search..."}),h.jsxs(Ete,{children:[h.jsx(Cte,{children:"No results found."}),r.map(s=>h.jsx(Mte,{heading:s.group,children:s.items.map(o=>h.jsxs(Ate,{value:`${o.label} ${o.keywords}`,onSelect:()=>i(o.path),"data-testid":`command-${o.label.toLowerCase().replace(/\s+/g,"-")}`,children:[h.jsx(o.icon,{className:"mr-2 h-4 w-4"}),h.jsx("span",{children:o.label})]},o.path))},s.group))]})]})}const HQe=[{icon:$j,label:"VAREON",path:"/",module:"vareon"},{icon:ml,label:"NEOSYNTIS",path:"/dashboard/neosyntis",module:"neosyntis"},{icon:Ca,label:"MYNTRIX",path:"/dashboard/myntrix",module:"myntrix"},{icon:bd,label:"COGNISYS",path:"/dashboard/cognisys",module:"cognisys"},{icon:Ra,label:"ARCANA",path:"/dashboard/arcana",module:"arcana"}];function VQe(){const[t,e]=as();return h.jsxs(h.Fragment,{children:[h.jsx(tZe,{children:h.jsxs(nZe,{children:[h.jsx(rZe,{children:"Modules"}),h.jsx(iZe,{children:h.jsx(uW,{children:HQe.map(n=>{const r=t===n.path,i=n.icon;return h.jsx(dW,{children:h.jsxs(fW,{isActive:r,onClick:()=>e(n.path),"data-testid":`link-${n.module}`,children:[h.jsx(i,{className:"h-4 w-4"}),h.jsx("span",{children:n.label})]})},n.path)})})})]})}),h.jsxs(eZe,{children:[h.jsx(uW,{children:h.jsx(dW,{children:h.jsxs(fW,{isActive:t==="/dashboard/profile",onClick:()=>e("/dashboard/profile"),"data-testid":"link-user-profile",children:[h.jsx(xA,{className:"h-4 w-4"}),h.jsx("span",{children:"User Profile"})]})})}),h.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500","data-testid":"status-indicator-online"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:"All Systems Online"})]})]})]})}const WQe=[{icon:fv,title:"Intent Detection",description:"Automatically classifies user requests into shell commands, code generation, or conversation using specialized LLM models.",model:"mistralai/mistral-small-3.2-24b"},{icon:ME,title:"Code Generation",description:"Generates complete, runnable code in multiple languages with context-aware suggestions and error fixing capabilities.",model:"moonshotai/kimi-dev-72b"},{icon:Ra,title:"Shell Command Translation",description:"Converts natural language instructions into safe, executable shell commands with whitelist-based security.",model:"nvidia/llama-3.3-nemotron-super-49b"},{icon:Vj,title:"Reasoning System",description:"Generates detailed reasoning traces explaining the AI's thought process and planned actions before execution.",enabled:"Configurable"},{icon:FI,title:"Conversational AI",description:"Maintains context-aware conversations with chat history, providing helpful assistance for general queries.",model:"mistralai/mistral-small-3.2-24b"},{icon:Bve,title:"File Operations",description:"Manages generated code files, uploaded documents, and system artifacts with security-restricted access controls.",storage:"In-memory / File system"}];function GQe(){return h.jsx("div",{className:"bg-background py-24",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-16 text-center",children:[h.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Arcana AI Capabilities"}),h.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Multi-model LLM orchestration powering the entire VAREON ecosystem"})]}),h.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:WQe.map(t=>h.jsxs(Ze,{className:"group border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsx(t.icon,{className:"h-10 w-10 text-primary transition-transform duration-300 group-hover:scale-110"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),h.jsx("h3",{className:"mb-3 text-lg font-semibold text-foreground",children:t.title}),h.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:t.description}),(t.model||t.enabled||t.storage)&&h.jsx("div",{className:"rounded-lg bg-muted/50 px-3 py-2",children:h.jsxs("div",{className:"text-xs font-medium text-muted-foreground",children:[t.model&&`Model: ${t.model.split("/")[1]}`,t.enabled&&`Status: ${t.enabled}`,t.storage&&`Storage: ${t.storage}`]})})]},t.title))}),h.jsx("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:h.jsxs("div",{className:"text-center",children:[h.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Legacy Integration Architecture"}),h.jsx("p",{className:"mx-auto max-w-3xl text-muted-foreground",children:"The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All legacy modules (ai_core.py, ai_services.py, llm_utils.py) are preserved in myntrix_core/lib/legacy/ and accessed via safe wrapper functions, enabling the entire ecosystem to leverage proven AI capabilities while maintaining modern architecture standards."})]})})]})})}function XQe(){const t=[{id:"arcana",label:"Arcana AI",subtitle:"Intelligence Core"},{id:"neosyntis",label:"NEOSYNTIS",subtitle:"Development Lab"},{id:"myntrix",label:"MYNTRIX",subtitle:"Execution Core"},{id:"edge",label:"Edge Devices",subtitle:"Production"}];return h.jsx("div",{className:"bg-card py-24",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-16 text-center",children:[h.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"How It Works"}),h.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Seamless integration from AI reasoning to production execution"})]}),h.jsx("div",{className:"flex flex-col items-center space-y-8 md:flex-row md:space-x-4 md:space-y-0",children:t.map((e,n)=>h.jsxs("div",{className:"flex items-center",children:[h.jsxs("div",{className:"group relative transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[h.jsx("div",{className:"absolute -inset-1 rounded-xl bg-gradient-to-r from-primary to-chart-2 opacity-25 blur transition group-hover:opacity-50"}),h.jsxs("div",{className:"relative flex h-32 w-40 flex-col items-center justify-center rounded-xl border border-border bg-background p-4",children:[h.jsx("div",{className:"mb-2 text-lg font-bold text-foreground",children:e.label}),h.jsx("div",{className:"text-xs text-muted-foreground",children:e.subtitle})]})]}),n<t.length-1&&h.jsx(F_,{className:"mx-4 hidden h-8 w-8 text-primary md:block animate-pulse-horizontal"})]},e.id))}),h.jsxs("div",{className:"mt-16 grid gap-6 md:grid-cols-3",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[h.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"1. AI Processing"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Arcana AI analyzes tasks using multi-model orchestration, intent detection, and reasoning capabilities"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[h.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"2. Validation"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"MYNTRIX validates execution plans, performs safety checks, and requires human approval for critical operations"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[h.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"3. Execution"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Commands are executed on edge devices with real-time telemetry monitoring and status updates"})]})]})]})})}const yW="";function qQe(){const[t,e]=P.useState(!0),[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState(""),{toast:l}=yb(),[,c]=as(),d=Nn({mutationFn:async v=>{const y=await fetch(`${yW}/api/token`,{method:"POST",body:v});if(!y.ok){const m=await y.json();throw new Error(m.detail||"Login failed")}return y.json()},onSuccess:v=>{localStorage.setItem("access_token",v.access_token),l({title:"Login Successful",description:"You have been logged in.",variant:"success"}),c("/dashboard")},onError:v=>{l({title:"Login Failed",description:v.message||"An unexpected error occurred.",variant:"destructive"})}}),u=Nn({mutationFn:async v=>{const y=await fetch(`${yW}/api/register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!y.ok){const m=await y.json();throw new Error(m.detail||"Registration failed")}return y.json()},onSuccess:v=>{l({title:"Registration Successful",description:"Please check your email to verify your account.",variant:"success"}),c("/waiting-for-verification")},onError:v=>{l({title:"Registration Failed",description:v.message||"An unexpected error occurred.",variant:"destructive"})}}),f=v=>{if(v.preventDefault(),t){const y=new FormData;y.append("username",n),y.append("password",o),d.mutate(y)}else u.mutate({email:n,username:i,password:o})},g=d.isPending||u.isPending;return h.jsxs(Ze,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[h.jsxs(it,{className:"text-center",children:[h.jsx(ot,{className:"text-3xl font-bold",children:t?"Welcome Back":"Create Account"}),h.jsx(Wt,{children:t?"Sign in to access your dashboard":"Get started with VAREON"})]}),h.jsx(ct,{children:h.jsxs("form",{onSubmit:f,className:"space-y-6",children:[h.jsxs("div",{className:"relative",children:[h.jsx(Gve,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(An,{id:"email",type:"email",placeholder:"Email",value:n,onChange:v=>r(v.target.value),required:!0,className:"pl-10"})]}),h.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-0 opacity-0 overflow-hidden":"max-h-20 opacity-100"}`,children:h.jsxs("div",{className:"relative",children:[h.jsx(xA,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(An,{id:"username",type:"text",placeholder:"Username",value:i,onChange:v=>s(v.target.value),required:!t,className:"pl-10"})]})}),h.jsxs("div",{className:"relative",children:[h.jsx(kK,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),h.jsx(An,{id:"password",type:"password",placeholder:"Password",value:o,onChange:v=>a(v.target.value),required:!0,className:"pl-10"})]}),h.jsx(Ge,{type:"submit",className:"w-full",disabled:g,children:g?h.jsx(Ma,{className:"animate-spin"}):t?"Login":"Sign Up"}),h.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t?"Don't have an account?":"Already have an account?",h.jsx(Ge,{variant:"link",className:"pl-1",onClick:()=>e(!t),type:"button",children:t?"Sign Up":"Login"})]})]})})]})}function KQe(){const[t,e]=P.useState([{role:"assistant",content:"Hello! I'm Arcana AI. I can help you with code generation, shell commands, or general conversation. What would you like to work on?",type:"text"}]),[n,r]=P.useState(""),[i,s]=P.useState(!1),o=async()=>{if(!n.trim())return;const a={role:"user",content:n,type:"text"};e(c=>[...c,a]);const l=n;r(""),s(!0);try{const c=await fetch("/api/chat/demo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l})});if(!c.ok)throw new Error(`API request failed with status ${c.status}`);const u={role:"assistant",content:(await c.json()).response||"Sorry, I couldn't get a response.",type:"text"};e(f=>[...f,u])}catch(c){console.error("Failed to send message:",c);const d={role:"assistant",content:"Sorry, something went wrong. Please try again later.",type:"text"};e(u=>[...u,d])}finally{s(!1)}};return h.jsxs("div",{className:"flex h-[600px] flex-col rounded-xl border border-border bg-card",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(bc,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"font-semibold text-foreground",children:"Arcana AI"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-sm text-muted-foreground",children:"Online"})]})]}),h.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto p-4",children:[t.map((a,l)=>h.jsx("div",{className:`flex animate-fade-in-up ${a.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`flex max-w-[80%] space-x-2 ${a.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[h.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${a.role==="user"?"bg-primary":"bg-muted"}`,children:a.role==="user"?h.jsx(xA,{className:"h-4 w-4 text-primary-foreground"}):h.jsx(bc,{className:"h-4 w-4 text-foreground"})}),h.jsxs("div",{className:`rounded-xl p-3 ${a.role==="user"?"bg-primary/20 text-foreground":a.type==="code"||a.type==="command"?"bg-muted font-mono text-sm border border-border":"bg-muted text-foreground"}`,children:[a.type==="code"&&h.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[h.jsx(ME,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:a.language||"code"})]}),a.type==="command"&&h.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[h.jsx(Ra,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-xs text-muted-foreground",children:"shell"})]}),h.jsx("div",{className:"whitespace-pre-wrap",children:a.content})]})]})},l)),i&&h.jsx("div",{className:"flex justify-start",children:h.jsxs("div",{className:"flex max-w-[80%] space-x-2",children:[h.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:h.jsx(bc,{className:"h-4 w-4 text-foreground"})}),h.jsx("div",{className:"rounded-xl p-3 bg-muted text-foreground",children:h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{className:"animate-pulse-dot",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]})})]})})]}),h.jsx("div",{className:"border-t border-border p-4",children:h.jsxs("div",{className:"flex space-x-2",children:[h.jsx(j4,{value:n,onChange:a=>r(a.target.value),placeholder:"Ask Arcana AI anything...",className:"min-h-[60px] resize-none",onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),o())},"data-testid":"input-chat-message"}),h.jsx(Ge,{onClick:o,size:"icon",className:"shrink-0","data-testid":"button-send-message",children:h.jsx(Hj,{className:"h-4 w-4"})})]})})]})}const YQe=[{icon:fv,title:"Arcana AI",description:"Multi-model LLM orchestration with intent detection, code generation, and reasoning capabilities. The intelligent core powering the entire ecosystem.",features:["Intent Detection","Code Generation","Shell Commands","Reasoning System"],href:"/arcana-demo",color:"text-primary"},{icon:OK,title:"NEOSYNTIS Lab",description:"Interactive research dashboard for AI-powered development. Real-time collaboration, telemetry visualization, and intelligent task execution.",features:["AI Chat Interface","File Management","WebSocket Terminal","Analytics"],href:"/neosyntis-demo",color:"text-chart-2"},{icon:Ca,title:"MYNTRIX Core",description:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety.",features:["Job Planning","Safety Validation","Dry-run Mode","MQTT Integration"],href:"/myntrix-demo",color:"text-chart-3"}];function ZQe(){return h.jsx("div",{className:"bg-background py-24",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-16 text-center",children:[h.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Integrated Ecosystem"}),h.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Three powerful platforms working in harmony to deliver adaptive intelligence from development to deployment."})]}),h.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:YQe.map(t=>h.jsxs(Ze,{className:"group relative overflow-hidden border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[h.jsx("div",{className:"mb-4",children:h.jsx(t.icon,{className:`h-12 w-12 ${t.color} transition-transform duration-300 group-hover:scale-110`})}),h.jsx("h3",{className:"mb-3 text-2xl font-semibold text-foreground",children:t.title}),h.jsx("p",{className:"mb-6 text-muted-foreground",children:t.description}),h.jsx("div",{className:"mb-6 space-y-2",children:t.features.map(e=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),h.jsx("span",{className:"text-sm text-foreground",children:e})]},e))}),h.jsx(ca,{href:t.href,children:h.jsxs(Ge,{variant:"ghost",className:"group/btn w-full justify-between","data-testid":`button-explore-${t.title.toLowerCase().replace(" ","-")}`,children:["Explore ",t.title,h.jsx(F_,{className:"h-4 w-4 transition-transform group-hover/btn:translate-x-1"})]})})]},t.title))})]})})}function xb(){const t=[{title:"Product",links:[{label:"Arcana AI",href:"/arcana"},{label:"NEOSYNTIS",href:"/neosyntis"},{label:"MYNTRIX",href:"/myntrix"}]},{title:"Resources",links:[{label:"Documentation",href:"#"},{label:"API Reference",href:"#"},{label:"GitHub",href:"#"}]},{title:"Company",links:[{label:"About",href:"#"},{label:"Blog",href:"#"},{label:"Contact",href:"#"}]}];return h.jsx("footer",{className:"border-t border-border bg-card",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[h.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary",children:h.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"V"})}),h.jsx("span",{className:"text-xl font-bold text-foreground",children:"VAREON"})]}),h.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Engineering Adaptive Intelligence for the modern enterprise."}),h.jsxs("div",{className:"flex space-x-4",children:[h.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:h.jsx(zve,{className:"h-5 w-5"})}),h.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:h.jsx(tye,{className:"h-5 w-5"})}),h.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:h.jsx(Wve,{className:"h-5 w-5"})})]})]}),t.map(e=>h.jsxs("div",{children:[h.jsx("h3",{className:"mb-4 text-sm font-semibold text-foreground",children:e.title}),h.jsx("ul",{className:"space-y-2",children:e.links.map(n=>h.jsx("li",{children:h.jsx(ca,{href:n.href,children:h.jsx("a",{className:"text-sm text-muted-foreground hover:text-foreground",children:n.label})})},n.label))})]},e.title))]}),h.jsx("div",{className:"mt-12 border-t border-border pt-8",children:h.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," VAREON. All rights reserved."]})})]})})}function QQe(){return h.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-background",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-background"}),h.jsx("div",{className:"absolute inset-0 z-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),h.jsx("div",{className:"absolute inset-0 z-0 animate-pulse-slow bg-gradient-to-br from-primary/5 via-transparent to-transparent"}),h.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex min-h-[80vh] flex-col items-center justify-center text-center",children:[h.jsxs("div",{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2 animate-fade-in","data-testid":"hero-sparkles-badge",children:[h.jsx(yA,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-sm font-medium text-primary",children:"Powered by Arcana AI"})]}),h.jsxs("h1",{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl md:text-7xl animate-fade-in-up",children:["Engineering",h.jsx("br",{}),h.jsx("span",{className:"bg-gradient-to-r from-primary to-chart-2 bg-clip-text text-transparent",children:"Adaptive Intelligence"})]}),h.jsx("p",{className:"mb-12 max-w-2xl text-lg text-muted-foreground sm:text-xl animate-fade-in-up animation-delay-200",children:"The VAREON ecosystem integrates cutting-edge AI with manufacturing execution systems. From research to production, powered by Arcana's multi-model orchestration."}),h.jsxs("div",{className:"flex flex-col items-center space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0 animate-fade-in-up animation-delay-400",children:[h.jsx(ca,{href:"/neosyntis-demo",children:h.jsxs(Ge,{size:"lg",className:"group","data-testid":"button-try-neosyntis",children:["Try NEOSYNTIS Lab",h.jsx(F_,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})}),h.jsx(ca,{href:"/arcana-demo",children:h.jsx(Ge,{size:"lg",variant:"outline","data-testid":"button-explore-arcana",children:"Explore Arcana AI"})})]}),h.jsxs("div",{className:"mt-20 grid gap-6 sm:grid-cols-3 animate-fade-in animation-delay-600",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[h.jsx("div",{className:"mb-2 text-3xl font-bold text-primary",children:"150K+"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Inferences Daily"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[h.jsx("div",{className:"mb-2 text-3xl font-bold text-chart-2",children:"99.9%"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"System Uptime"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[h.jsx("div",{className:"mb-2 text-3xl font-bold text-chart-3",children:"24/7"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time Monitoring"})]})]})]})})]})}function JQe(){const[t,e]=P.useState(`G1 X10 Y10 F500
G1 X20 Y20
G1 X0 Y0`),[n,r]=P.useState("cnc-node-1"),[i,s]=P.useState("dry-run"),[o,a]=P.useState("idle"),[l,c]=P.useState(""),d=()=>{a("validating"),c(""),setTimeout(()=>{i==="dry-run"?(a("success"),c(` Validation passed
 No forbidden commands detected
 Coordinates within safe bounds
 Feedrate acceptable (500 mm/min)

Simulated execution complete. Ready for approval.`)):(a("success"),c(`Job submitted for approval.
Job ID: job_`+Math.random().toString(36).substr(2,9)))},1500)};return h.jsxs(Ze,{className:"border border-card-border p-6",children:[h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:"Submit Job"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and validate manufacturing jobs with AI-powered safety checks"})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"G-code / Task Content"}),h.jsx(j4,{value:t,onChange:u=>e(u.target.value),className:"min-h-[120px] font-mono text-sm",placeholder:"Enter G-code or task description...","data-testid":"input-job-content"})]}),h.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Target Node"}),h.jsxs(Al,{value:n,onValueChange:r,children:[h.jsx(ja,{"data-testid":"select-node",children:h.jsx(Tl,{})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"cnc-node-1",children:"CNC Node 1"}),h.jsx(un,{value:"cnc-node-2",children:"CNC Node 2"}),h.jsx(un,{value:"cnc-node-3",children:"CNC Node 3"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Execution Mode"}),h.jsxs(Al,{value:i,onValueChange:s,children:[h.jsx(ja,{"data-testid":"select-mode",children:h.jsx(Tl,{})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"dry-run",children:"Dry Run (Simulate)"}),h.jsx(un,{value:"validate",children:"Validate Only"}),h.jsx(un,{value:"execute",children:"Execute (Requires Approval)"})]})]})]})]}),h.jsx(Ge,{onClick:d,className:"w-full",disabled:o==="validating","data-testid":"button-submit-job",children:o==="validating"?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}),"Validating..."]}):h.jsxs(h.Fragment,{children:[h.jsx(ug,{className:"mr-2 h-4 w-4"}),"Run ",i==="dry-run"?"Dry Run":"Job"]})}),l&&h.jsxs("div",{className:`rounded-lg border p-4 ${o==="success"?"border-chart-3 bg-chart-3/10":"border-destructive bg-destructive/10"}`,children:[h.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[o==="success"?h.jsx(AK,{className:"h-5 w-5 text-chart-3"}):h.jsx(TK,{className:"h-5 w-5 text-destructive"}),h.jsx("span",{className:"font-semibold text-foreground",children:o==="success"?"Validation Result":"Error"})]}),h.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-foreground",children:l})]})]})]})}function rle(){const[t,e]=P.useState({isLoggedIn:!1,token:null}),[,n]=as();return P.useEffect(()=>{const s=localStorage.getItem("access_token");e(s?{isLoggedIn:!0,token:s}:{isLoggedIn:!1,token:null})},[n]),{...t,login:s=>{localStorage.setItem("access_token",s),e({isLoggedIn:!0,token:s}),n("/dashboard")},logout:()=>{localStorage.removeItem("access_token"),e({isLoggedIn:!1,token:null}),n("/")}}}function _b(){const[t,e]=as(),[n,r]=P.useState(!1),{isLoggedIn:i,logout:s}=rle(),o=[{path:"/",label:"Home"},{path:"/arcana-demo",label:"Arcana AI"},{path:"/neosyntis-demo",label:"NEOSYNTIS"},{path:"/myntrix-demo",label:"MYNTRIX"}],a=()=>{e(i?"/dashboard":"/auth"),r(!1)},l=()=>{s(),r(!1)};return h.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/80 backdrop-blur-md",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"flex h-16 items-center justify-between",children:[h.jsx(ca,{href:"/",children:h.jsxs("a",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 group",children:[h.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary group-hover:animate-pulse-sm",children:h.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"V"})}),h.jsx("span",{className:"text-xl font-bold text-foreground",children:"VAREON"})]})}),h.jsx("div",{className:"hidden items-center space-x-1 md:flex",children:o.map(c=>h.jsx(ca,{href:c.path,children:h.jsxs("a",{className:`relative rounded-lg px-4 py-2 text-sm font-medium transition-colors duration-200 ${t===c.path?"text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[c.label,t===c.path&&h.jsx("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-primary animate-grow-x"})]})},c.path))}),h.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:i?h.jsxs(h.Fragment,{children:[h.jsx(ca,{href:"/dashboard",children:h.jsx(Ge,{variant:"ghost",size:"sm",children:"Dashboard"})}),h.jsx(Ge,{size:"sm",onClick:l,children:"Logout"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ca,{href:"/auth",children:h.jsx(Ge,{variant:"ghost",size:"sm",children:"Sign In"})}),h.jsx(Ge,{size:"sm",onClick:a,"data-testid":"button-get-started",children:"Get Started"})]})}),h.jsx(Ge,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),"data-testid":"button-mobile-menu",children:n?h.jsx(hv,{className:"h-5 w-5"}):h.jsx(qve,{className:"h-5 w-5"})})]}),n&&h.jsx("div",{className:"border-t border-border py-4 md:hidden",children:h.jsxs("div",{className:"flex flex-col space-y-2",children:[o.map(c=>h.jsx(ca,{href:c.path,children:h.jsx("a",{className:`rounded-lg px-4 py-2 text-sm font-medium hover-elevate active-elevate-2 ${t===c.path?"text-primary":"text-muted-foreground"}`,onClick:()=>r(!1),children:c.label})},c.path)),h.jsx("div",{className:"flex flex-col space-y-2 pt-4",children:i?h.jsxs(h.Fragment,{children:[h.jsx(ca,{href:"/dashboard",children:h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:"Dashboard"})}),h.jsx(Ge,{size:"sm",onClick:l,children:"Logout"})]}):h.jsxs(h.Fragment,{children:[h.jsx(ca,{href:"/auth",children:h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:"Sign In"})}),h.jsx(Ge,{size:"sm",onClick:a,children:"Get Started"})]})})]})})]})})}function eJe({children:t}){const[,e]=as();return P.useEffect(()=>{localStorage.getItem("access_token")||e("/auth")},[e]),localStorage.getItem("access_token")?h.jsx(h.Fragment,{children:t}):null}function tJe(){const[t,e]=P.useState(Array.from({length:20},(a,l)=>({x:l,y:30+Math.random()*40})));P.useEffect(()=>{const a=setInterval(()=>{e(l=>[...l.slice(1),{x:l[l.length-1].x+1,y:30+Math.random()*40}])},1e3);return()=>clearInterval(a)},[]);const n=100,r=200,i=t[t.length-1].y,s=t.reduce((a,l)=>a+l.y,0)/t.length,o=Math.max(...t.map(a=>a.y));return h.jsxs(Ze,{className:"border border-card-border p-6",children:[h.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(hi,{className:"h-5 w-5 text-primary"}),h.jsx("span",{className:"font-semibold text-foreground",children:"Real-time Telemetry"})]}),h.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-1"}),h.jsx("span",{className:"text-muted-foreground",children:"CPU Load"})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-muted-foreground",children:"Status: Running"})]})]})]}),h.jsxs("div",{className:"relative h-[200px] rounded-lg bg-muted/30 p-4",children:[h.jsxs("svg",{width:"100%",height:r,className:"overflow-visible",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[h.jsx("stop",{offset:"0%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.3"}),h.jsx("stop",{offset:"100%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.05"})]})}),h.jsx("path",{d:`M 0 ${r} ${t.map((a,l)=>{const c=l/(t.length-1)*100,d=r-a.y/n*r;return`L ${c}% ${d}`}).join(" ")} L 100% ${r} Z`,fill:"url(#chartGradient)"}),h.jsx("polyline",{points:t.map((a,l)=>{const c=l/(t.length-1)*100,d=r-a.y/n*r;return`${c}%,${d}`}).join(" "),fill:"none",stroke:"hsl(var(--chart-1))",strokeWidth:"2",className:"transition-all duration-500 ease-linear"})]}),h.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-xs text-muted-foreground",children:[h.jsx("span",{children:"0s"}),h.jsx("span",{children:"10s"}),h.jsx("span",{children:"20s"})]})]}),h.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[i.toFixed(1),"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Current Load"})]}),h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[s.toFixed(1),"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"})]}),h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[o.toFixed(1),"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Peak"})]})]})]})}function nJe(){const[t,e]=P.useState(["$ NeuroNet Shell v2.0","$ Connected to NEOSYNTIS Lab","$ Type 'help' for available commands",""]),[n,r]=P.useState(""),[i,s]=P.useState(!1),o=a=>{const l=`$ ${a}`;e(c=>[...c,l]),r(""),s(!0),setTimeout(()=>{let c=[];if(a==="help")c=["Available commands:","  ls     - List files","  pwd    - Print working directory","  clear  - Clear terminal",""];else if(a==="ls")c=["ai_core.py  ai_services.py  config.py  main.py",""];else if(a==="pwd")c=["/workspace/neuronet",""];else if(a==="clear"){e(["$ NeuroNet Shell v2.0",""]),r(""),s(!1);return}else a&&(c=[`Command '${a}' not found. Type 'help' for available commands.`,""]);let d=0,u=0;const f=setInterval(()=>{if(d<c.length){const g=c[d];u<=g.length?(e(v=>{const y=v[v.length-1];if(y===l||y==="")return[...v,g.substring(0,u)];{const m=[...v];return m[v.length-1]=g.substring(0,u),m}}),u++):(d++,u=0,d===c.length&&(clearInterval(f),s(!1)))}},20)},0)};return h.jsxs("div",{className:"flex h-[400px] flex-col rounded-xl border border-border bg-black/50 font-mono text-sm",children:[h.jsxs("div",{className:"flex items-center justify-between border-b border-border bg-muted/30 px-4 py-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Ra,{className:"h-4 w-4 text-chart-3"}),h.jsx("span",{className:"text-xs font-semibold text-foreground",children:"WebSocket Shell"})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-5"}),h.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-2"}),h.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-3"})]})]}),h.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:h.jsxs("div",{className:"space-y-1",children:[t.map((a,l)=>h.jsx("div",{className:a.startsWith("$")?"text-chart-3":"text-foreground/80",children:a},l)),i&&h.jsxs("div",{className:"text-foreground/80",children:[h.jsx("span",{className:"animate-pulse-dot",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),h.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"text-chart-3",children:"$"}),h.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value),onKeyDown:a=>{a.key==="Enter"&&o(n)},className:"flex-1 bg-transparent text-foreground outline-none",placeholder:"Enter command...","data-testid":"input-terminal-command"})]})]})}),h.jsx("div",{className:"border-t border-border bg-muted/30 px-4 py-2",children:h.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[h.jsx("span",{children:"Press Enter to execute"}),h.jsx(Ge,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>o(n),"data-testid":"button-execute-command",children:"Execute"})]})})]})}function rJe(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(_b,{}),h.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/20 via-background to-background py-24",children:[h.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),h.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("div",{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2",children:[h.jsx(fv,{className:"h-4 w-4 text-primary"}),h.jsx("span",{className:"text-sm font-medium text-primary",children:"AI Core Engine"})]}),h.jsx("h1",{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl",children:"Arcana AI"}),h.jsx("p",{className:"mx-auto mb-12 max-w-3xl text-xl text-muted-foreground",children:"Multi-model LLM orchestration platform powering intelligent code generation, shell command conversion, and contextual reasoning across the VAREON ecosystem."}),h.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[h.jsx("div",{className:"text-2xl font-bold text-primary",children:"6"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Core Capabilities"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[h.jsx("div",{className:"text-2xl font-bold text-chart-2",children:"5+"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"LLM Models"})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[h.jsx("div",{className:"text-2xl font-bold text-chart-3",children:"Real-time"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Streaming"})]})]})]})})]}),h.jsx(GQe,{}),h.jsx("div",{className:"bg-card py-24",children:h.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:h.jsx("div",{className:"rounded-2xl border border-border bg-background p-8 md:p-12",children:h.jsxs("div",{className:"flex items-start space-x-4",children:[h.jsx(yA,{className:"h-8 w-8 shrink-0 text-primary"}),h.jsxs("div",{children:[h.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Seamless Integration with MYNTRIX"}),h.jsxs("p",{className:"mb-6 text-muted-foreground",children:["The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All original modules (ai_core.py, ai_services.py, llm_utils.py, file_utils.py, shell_utils.py) are preserved in ",h.jsx("code",{className:"rounded bg-muted px-2 py-1 font-mono text-sm",children:"myntrix_core/lib/legacy/"})," and accessed through safe wrapper functions. This architecture enables:"]}),h.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Code Preservation"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Original Arcana files remain untouched, ensuring backward compatibility and easy updates"})]}),h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Modern API Integration"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"New MYNTRIX endpoints leverage legacy AI capabilities through clean adapter interfaces"})]}),h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Safety Wrappers"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Timeout protection, error handling, and validation layers around legacy functions"})]}),h.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Gradual Migration Path"}),h.jsx("div",{className:"text-sm text-muted-foreground",children:"Ability to refactor legacy code incrementally while maintaining full system functionality"})]})]})]})]})})})}),h.jsx(xb,{})]})}function iJe(){return h.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[h.jsx(_b,{}),h.jsx("main",{className:"flex-grow flex items-center justify-center py-12",children:h.jsx(qQe,{})}),h.jsx(xb,{})]})}function sJe(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(_b,{}),h.jsx(QQe,{}),h.jsx(ZQe,{}),h.jsx(XQe,{}),h.jsx(xb,{})]})}const oJe=[{icon:Qve,title:"Safety Validation",description:"Multi-layer safety checks including forbidden command detection, coordinate bounds validation, and feedrate limits."},{icon:Vj,title:"Dry-run Simulation",description:"Execute jobs in simulation mode to validate behavior before committing to production hardware."},{icon:vA,title:"Telemetry & Logging",description:"Real-time telemetry ingestion with journal entries and comprehensive execution history."}];function aJe(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(_b,{}),h.jsx("div",{className:"bg-gradient-to-br from-chart-3/20 via-background to-background py-16",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[h.jsx(Ca,{className:"h-8 w-8 text-chart-3"}),h.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"MYNTRIX Core"})]}),h.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety protocols."})]})}),h.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(JQe,{})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ze,{className:"border border-card-border p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"System Status"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Validator"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-sm text-foreground",children:"Online"})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"Executor"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),h.jsx("span",{className:"text-sm text-foreground",children:"Ready"})]})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm text-muted-foreground",children:"MQTT Bridge"}),h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-5"}),h.jsx("span",{className:"text-sm text-foreground",children:"Mock Mode"})]})]})]})]}),h.jsxs(Ze,{className:"border border-card-border p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Recent Jobs"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[h.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_x7k2m"}),h.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),h.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 1 - Dry Run"})]}),h.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[h.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[h.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_p9n4q"}),h.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),h.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 2 - Validate"})]})]})]})]})]}),h.jsxs("div",{className:"mt-16",children:[h.jsx("h2",{className:"mb-8 text-center text-3xl font-bold text-foreground",children:"Core Modules"}),h.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:oJe.map(t=>h.jsxs(Ze,{className:"border border-card-border p-6 hover-elevate",children:[h.jsx(t.icon,{className:"mb-4 h-10 w-10 text-primary"}),h.jsx("h3",{className:"mb-3 text-xl font-semibold text-foreground",children:t.title}),h.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]}),h.jsxs("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:[h.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"NeuroNet Integration"}),h.jsx("p",{className:"text-muted-foreground",children:"MYNTRIX Core is built on the foundation of the legacy NeuroNet system. The planner module uses the NeuroNet AI adapter to leverage reasoning capabilities, while the validator integrates legacy safety checks. This hybrid architecture combines proven AI intelligence with modern manufacturing execution standards."}),h.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[h.jsxs("div",{className:"rounded-lg bg-background p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Adapter Layer"}),h.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/legacy_adapter.py"})]}),h.jsxs("div",{className:"rounded-lg bg-background p-4",children:[h.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"MQTT Bridge"}),h.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/mqtt_bridge.py"})]})]})]})]}),h.jsx(xb,{})]})}function lJe(){return h.jsxs("div",{className:"min-h-screen bg-background",children:[h.jsx(_b,{}),h.jsx("div",{className:"bg-gradient-to-br from-chart-2/20 via-background to-background py-16",children:h.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[h.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[h.jsx(OK,{className:"h-8 w-8 text-chart-2"}),h.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"NEOSYNTIS Lab"})]}),h.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Interactive AI research dashboard powered by NeuroNet. Real-time chat, code generation, shell terminal, and telemetry visualization in a unified development environment."})]})}),h.jsx("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:h.jsxs(Qc,{defaultValue:"chat",className:"space-y-6",children:[h.jsxs(Bl,{className:"grid w-full grid-cols-3 lg:w-auto",children:[h.jsx(Mr,{value:"chat","data-testid":"tab-chat",children:"AI Chat"}),h.jsx(Mr,{value:"terminal","data-testid":"tab-terminal",children:"Terminal"}),h.jsx(Mr,{value:"telemetry","data-testid":"tab-telemetry",children:"Telemetry"})]}),h.jsx(yn,{value:"chat",className:"space-y-6",children:h.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(KQe,{})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Active Models"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[h.jsx("span",{className:"text-sm text-foreground",children:"Intent Detection"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[h.jsx("span",{className:"text-sm text-foreground",children:"Code Generation"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),h.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[h.jsx("span",{className:"text-sm text-foreground",children:"Conversation"}),h.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]})]})]}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Token Usage"}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Session"}),h.jsx("span",{className:"font-medium text-foreground",children:"2,450"})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Total"}),h.jsx("span",{className:"font-medium text-foreground",children:"15,230"})]}),h.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-muted",children:h.jsx("div",{className:"h-full w-[45%] bg-primary"})})]})]})]})]})}),h.jsx(yn,{value:"terminal",children:h.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsx(nJe,{})}),h.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[h.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Command History"}),h.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[h.jsx("div",{className:"text-muted-foreground",children:"$ ls -la"}),h.jsx("div",{className:"text-muted-foreground",children:"$ pwd"}),h.jsx("div",{className:"text-muted-foreground",children:"$ cat ai_core.py"}),h.jsx("div",{className:"text-muted-foreground",children:"$ python main.py"})]})]})]})}),h.jsx(yn,{value:"telemetry",children:h.jsx(tJe,{})})]})}),h.jsx(xb,{})]})}function cJe(){return h.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:h.jsx(Ze,{className:"w-full max-w-md mx-4",children:h.jsxs(ct,{className:"pt-6",children:[h.jsxs("div",{className:"flex mb-4 gap-2",children:[h.jsx(Dve,{className:"h-8 w-8 text-red-500"}),h.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),h.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const uJe="";function dJe(){const[t,e]=as(),[n,r]=P.useState(null),[i,s]=P.useState(null),{toast:o}=yb(),a=Nn({mutationFn:async({email:u,token:f})=>{const g=await fetch(`${uJe}/api/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u,token:f})});if(!g.ok){const v=await g.json();throw new Error(v.detail||"Verification failed.")}return g.json()},onSuccess:u=>{o({title:"Success!",description:u.message||"Email verified successfully.",variant:"default"})},onError:u=>{o({title:"Verification Failed",description:u.message||"An error occurred during verification.",variant:"destructive"})}});P.useEffect(()=>{const u=window.location.search.substring(1),f=new URLSearchParams(u||""),g=f.get("email"),v=f.get("token");r(g),s(v),(!g||!v)&&o({title:"Invalid Link",description:"The verification link is missing required parameters.",variant:"destructive"})},[t,o]);const l=()=>{e("/auth")},c=()=>{n&&i?a.mutate({email:n,token:i}):o({title:"Error",description:"Cannot verify: email or token is missing.",variant:"destructive"})},d=()=>a.isPending?h.jsxs(Ge,{className:"w-full",disabled:!0,children:[h.jsx(Ma,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):a.isSuccess?h.jsx(Ge,{onClick:l,className:"w-full",children:"Back to Login"}):n&&i?h.jsx(Ge,{onClick:c,className:"w-full",children:"Verify Email"}):h.jsx(Ge,{onClick:l,className:"w-full",children:"Back to Login"});return h.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:h.jsxs(Ze,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[h.jsxs(it,{className:"text-center",children:[h.jsx(ot,{className:"text-3xl font-bold",children:"Email Verification"}),h.jsx(Wt,{children:a.isPending?"Verifying your email address...":a.isSuccess?"Your email has been successfully verified!":a.isError?"There was an issue verifying your email. Please try again or request a new link.":"Click the button below to verify your email address."})]}),h.jsx(ct,{className:"flex flex-col items-center space-y-4",children:d()})]})})}function fJe(){const[,t]=as(),e=()=>{t("/auth")};return h.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:h.jsxs(Ze,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[h.jsxs(it,{className:"text-center",children:[h.jsx(ot,{className:"text-3xl font-bold",children:"Check Your Email"}),h.jsx(Wt,{children:"A verification link has been sent to your email address. Please click the link in the email to verify your account and complete your registration."})]}),h.jsx(ct,{className:"flex flex-col items-center space-y-4",children:h.jsx(Ge,{onClick:e,className:"w-full",children:"Back to Login"})})]})})}const ile=[{id:"1",name:"Workflow: Data Pipeline",type:"workflow",status:"running",progress:67,createdAt:new Date(Date.now()-18e5)},{id:"2",name:"Model Training: GPT Fine-tune",type:"training",status:"pending",progress:0,createdAt:new Date(Date.now()-3e5)},{id:"3",name:"Data Processing: Cleanup",type:"data",status:"completed",progress:100,createdAt:new Date(Date.now()-72e5)},{id:"4",name:"Device Sync: CNC-01",type:"device",status:"running",progress:45,createdAt:new Date(Date.now()-9e5)}],sle=[{id:"1",name:"GPT-4",provider:"openai",type:"chat",isActive:!0,reasoning:!0,role:"conversation"},{id:"2",name:"Claude-3.5-Sonnet",provider:"anthropic",type:"chat",isActive:!0,reasoning:!0,role:"reasoning"},{id:"3",name:"Codestral",provider:"mistral",type:"code",isActive:!0,reasoning:!1,role:"code_generation"},{id:"4",name:"Gemini-Pro",provider:"google",type:"chat",isActive:!0,reasoning:!1,role:"summarization"},{id:"5",name:"Llama-3-70B",provider:"meta",type:"chat",isActive:!1,reasoning:!1,role:"general"},{id:"6",name:"Mixtral-8x7B",provider:"mistral",type:"chat",isActive:!0,reasoning:!1,role:"intent_detection"},{id:"7",name:"Command-R",provider:"cohere",type:"chat",isActive:!0,reasoning:!1,role:"shell_conversion"}],ole={tokenUsage:[{date:"2024-01-01",tokens:125e3},{date:"2024-01-02",tokens:142e3},{date:"2024-01-03",tokens:138e3},{date:"2024-01-04",tokens:156e3},{date:"2024-01-05",tokens:149e3},{date:"2024-01-06",tokens:167e3},{date:"2024-01-07",tokens:171e3}],modelUsage:[{model:"GPT-4",count:1543},{model:"Claude-3.5",count:892},{model:"Gemini-Pro",count:654},{model:"Codestral",count:421},{model:"Mixtral",count:234}],systemMetrics:{cpu:[65,72,68,75,71,69,73,70,68,74],memory:[78,81,79,82,80,83,81,79,82,80],network:[42,38,45,41,39,43,40,44,42,38]}},hJe=[{id:"1",role:"user",content:"Explain quantum computing in simple terms",createdAt:new Date(Date.now()-3e5)},{id:"2",role:"assistant",content:"Quantum computing is a revolutionary approach to computation that leverages quantum mechanical phenomena like superposition and entanglement. Unlike classical computers that use bits (0 or 1), quantum computers use quantum bits or qubits that can exist in multiple states simultaneously.",reasoning:"To explain quantum computing simply, I should use analogies and avoid heavy mathematical formulas. Focus on the key differences from classical computing and provide a conceptual understanding.",createdAt:new Date(Date.now()-29e4)},{id:"3",role:"user",content:"Can you give a practical example?",createdAt:new Date(Date.now()-12e4)},{id:"4",role:"assistant",content:"Sure! Imagine you have a maze to solve. A classical computer would try one path at a time until it finds the exit. A quantum computer, thanks to superposition, can explore all possible paths simultaneously. This makes quantum computers exceptionally powerful for specific problems like cryptography, drug discovery, and optimization.",reasoning:"Use the maze analogy as it's intuitive and clearly demonstrates the parallel processing advantage of quantum computing.",createdAt:new Date(Date.now()-11e4)}],pJe=async()=>Promise.resolve({pinnedDatasets:[{id:"ds1",name:"financial_report_q3.csv",size:"1.2MB"},{id:"ds2",name:"user_feedback_analysis.json",size:"800KB"}],conversationHistory:[{id:"msg1",role:"user",content:"Summarize the key findings from the Q3 financial report."},{id:"msg2",role:"assistant",content:"The Q3 report shows a 15% increase in revenue, primarily driven by the new product line."},{id:"msg3",role:"user",content:"Which regions performed best?"}]});function ale(){const t=Rl(),{data:e,isLoading:n,error:r}=Yr({queryKey:["arcanaContextMemory"],queryFn:pJe}),i=Nn({mutationFn:async()=>(console.log("Clearing conversation history..."),Promise.resolve()),onSuccess:()=>{t.setQueryData(["arcanaContextMemory"],o=>o&&{...o,conversationHistory:[]})}}),s=Nn({mutationFn:async o=>(console.log(`Removing dataset ${o}...`),Promise.resolve()),onSuccess:(o,a)=>{t.setQueryData(["arcanaContextMemory"],l=>l&&{...l,pinnedDatasets:l.pinnedDatasets.filter(c=>c.id!==a)})}});return n?h.jsx("div",{className:"w-80 border-l bg-card/30 p-4 flex items-center justify-center",children:"Loading context and memory..."}):r?h.jsxs("div",{className:"w-80 border-l bg-card/30 p-4 text-red-500 flex items-center justify-center",children:["Error loading context and memory: ",r.message]}):h.jsxs("div",{className:"w-80 border-l bg-card/30",children:[h.jsx("div",{className:"p-4 border-b",children:h.jsx("h3",{className:"font-medium text-sm",children:"Context & Memory"})}),h.jsx(P4,{className:"h-[calc(100%-60px)] p-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs(Ze,{children:[h.jsxs(it,{className:"pb-3 flex-row items-center justify-between",children:[h.jsx(ot,{className:"text-sm",children:"Current Conversation"}),h.jsxs(Ge,{variant:"ghost",size:"sm",onClick:()=>i.mutate(),className:"gap-1 text-xs",children:[h.jsx(z_,{className:"h-3 w-3"}),"Clear"]})]}),h.jsx(ct,{children:h.jsx("div",{className:"space-y-3",children:e&&e.conversationHistory&&e.conversationHistory.length>0?e.conversationHistory.map(o=>h.jsxs("div",{className:"text-xs p-2 bg-muted/30 rounded",children:[h.jsx("p",{className:`font-semibold ${o.role==="user"?"text-blue-400":"text-green-400"}`,children:o.role}),h.jsx("p",{className:"text-muted-foreground",children:o.content})]},o.id)):h.jsx("p",{className:"text-sm text-muted-foreground",children:"No conversation history."})})})]}),h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsx(ot,{className:"text-sm",children:"Pinned Datasets"})}),h.jsx(ct,{children:h.jsx("div",{className:"space-y-2",children:e&&e.pinnedDatasets&&e.pinnedDatasets.length>0?e.pinnedDatasets.map(o=>h.jsxs("div",{className:"flex items-center justify-between text-sm p-2 bg-muted/30 rounded group",children:[h.jsx("span",{className:"truncate pr-2",children:o.name}),h.jsxs("div",{className:"flex items-center shrink-0",children:[h.jsx(fn,{variant:"outline",className:"text-xs mr-2",children:o.size}),h.jsx(Ge,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100",onClick:()=>s.mutate(o.id),children:h.jsx(hv,{className:"h-4 w-4"})})]})]},o.id)):h.jsx("p",{className:"text-sm text-muted-foreground",children:"No pinned datasets."})})})]}),h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsx(ot,{className:"text-sm",children:"Quick Actions"})}),h.jsxs(ct,{className:"space-y-2",children:[h.jsxs(Ge,{variant:"outline",size:"sm",className:"w-full justify-start gap-2","data-testid":"button-run-myntrix",children:[h.jsx(ug,{className:"h-4 w-4"}),"Run in Myntrix"]}),h.jsxs(Ge,{variant:"outline",size:"sm",className:"w-full justify-start gap-2","data-testid":"button-save-neosyntis",children:[h.jsx(LK,{className:"h-4 w-4"}),"Save to Neosyntis"]})]})]})]})})]})}function mJe(){const[t,e]=P.useState(""),[n,r]=P.useState(hJe),i=P.useRef(null),s=Nn({mutationFn:async l=>{var y;const c=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l})});if(!c.ok)throw new Error("Failed to send message");const d=(y=c.body)==null?void 0:y.getReader();if(!d)throw new Error("Failed to get reader for streaming response");let u="",f="",g=!1;const v=new TextDecoder;for(;;){const{done:m,value:p}=await d.read();if(m)break;const x=v.decode(p,{stream:!0});try{const _=JSON.parse(x);_.type==="content"?u+=_.data:_.type==="reasoning"&&(g=!0,f+=_.data)}catch{g?f+=x:u+=x}r(_=>{const b=_[_.length-1];return b&&b.role==="assistant"?_.map((S,C)=>C===_.length-1?{...S,content:u,reasoning:f}:S):[..._,{id:Date.now().toString(),role:"assistant",content:u,reasoning:f,createdAt:new Date}]})}return{content:u,reasoning:f}},onMutate:l=>{const c={id:Date.now().toString(),role:"user",content:l,createdAt:new Date};r(d=>[...d,c]),e("")},onError:l=>{console.error("Chat message error:",l),r(c=>[...c,{id:Date.now().toString(),role:"assistant",content:`Error: ${l.message}`,createdAt:new Date}])}}),o=()=>{var l;(l=i.current)==null||l.scrollIntoView({behavior:"smooth"})};P.useEffect(()=>{o()},[n]);const a=()=>{t.trim()&&s.mutate(t)};return h.jsxs("div",{className:"h-full flex",children:[h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsx("div",{className:"border-b px-6 py-3 bg-card/50",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium",children:"Chat with ARCANA"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Cognitive AI Assistant"})]}),h.jsx(fn,{variant:"outline",children:"GPT-4"})]})}),h.jsx(P4,{className:"flex-1 px-6 py-4",children:h.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[n.map(l=>h.jsx("div",{className:`flex ${l.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${l.role==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:[l.reasoning&&h.jsxs(cWe,{className:"mb-3",children:[h.jsxs(uWe,{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors w-full",children:[h.jsx(yA,{className:"h-4 w-4"}),h.jsx("span",{children:"Reasoning Process"}),h.jsx(U_,{className:"h-4 w-4 ml-auto"})]}),h.jsx(dWe,{className:"mt-2 p-3 bg-muted/50 rounded-md text-sm text-muted-foreground",children:l.reasoning})]}),h.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:l.content}),h.jsx("div",{className:"text-xs text-muted-foreground mt-2 opacity-70",children:new Date(l.createdAt).toLocaleTimeString()})]})},l.id)),h.jsx("div",{ref:i})]})}),h.jsx("div",{className:"border-t p-4 bg-card/50",children:h.jsxs("div",{className:"max-w-4xl mx-auto space-y-3",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[h.jsx(fn,{variant:"outline",className:"text-xs",children:"Model: GPT-4"}),h.jsx(fn,{variant:"outline",className:"text-xs",children:"Tokens: 2,543 / 8,192"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ge,{variant:"outline",size:"icon","data-testid":"button-attach-file",children:h.jsx(Yve,{className:"h-4 w-4"})}),h.jsx(An,{placeholder:"Type your message...",value:t,onChange:l=>e(l.target.value),onKeyDown:l=>l.key==="Enter"&&!l.shiftKey&&a(),className:"flex-1","data-testid":"input-chat-message"}),h.jsx(Ge,{onClick:a,disabled:s.isPending,"data-testid":"button-send-message",children:s.isPending?h.jsx(hi,{className:"h-4 w-4 animate-spin"}):h.jsx(Hj,{className:"h-4 w-4"})})]})]})})]}),h.jsx(ale,{})]})}var lle={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={4567:function(o,a,l){var c=this&&this.__decorate||function(_,b,S,C){var A,M=arguments.length,T=M<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(_,b,S,C);else for(var N=_.length-1;N>=0;N--)(A=_[N])&&(T=(M<3?A(T):M>3?A(b,S,T):A(b,S))||T);return M>3&&T&&Object.defineProperty(b,S,T),T},d=this&&this.__param||function(_,b){return function(S,C){b(S,C,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;const u=l(9042),f=l(6114),g=l(9924),v=l(844),y=l(5596),m=l(4725),p=l(3656);let x=a.AccessibilityManager=class extends v.Disposable{constructor(_,b){super(),this._terminal=_,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new y.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,v.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let b=0;b<_;b++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=u.tooMuchOutput)),f.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,f.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,b){this._liveRegionDebouncer.refresh(_,b,this._terminal.rows)}_renderRows(_,b){const S=this._terminal.buffer,C=S.lines.length.toString();for(let A=_;A<=b;A++){const M=S.translateBufferLineToString(S.ydisp+A,!0),T=(S.ydisp+A+1).toString(),N=this._rowElements[A];N&&(M.length===0?N.innerText="":N.textContent=M,N.setAttribute("aria-posinset",T),N.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,b){const S=_.target,C=this._rowElements[b===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==C)return;let A,M;if(b===0?(A=S,M=this._rowElements.pop(),this._rowContainer.removeChild(M)):(A=this._rowElements.shift(),M=S,this._rowContainer.removeChild(A)),A.removeEventListener("focus",this._topBoundaryFocusListener),M.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const T=this._createAccessibilityTreeNode();this._rowElements.unshift(T),this._rowContainer.insertAdjacentElement("afterbegin",T)}else{const T=this._createAccessibilityTreeNode();this._rowElements.push(T),this._rowContainer.appendChild(T)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};a.AccessibilityManager=x=c([d(1,m.IRenderService)],x)},3614:(o,a)=>{function l(f){return f.replace(/\r?\n/g,"\r")}function c(f,g){return g?"\x1B[200~"+f+"\x1B[201~":f}function d(f,g,v,y){f=c(f=l(f),v.decPrivateModes.bracketedPasteMode&&y.rawOptions.ignoreBracketedPasteMode!==!0),v.triggerDataEvent(f,!0),g.value=""}function u(f,g,v){const y=v.getBoundingClientRect(),m=f.clientX-y.left-10,p=f.clientY-y.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${m}px`,g.style.top=`${p}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=l,a.bracketTextForPaste=c,a.copyHandler=function(f,g){f.clipboardData&&f.clipboardData.setData("text/plain",g.selectionText),f.preventDefault()},a.handlePasteEvent=function(f,g,v,y){f.stopPropagation(),f.clipboardData&&d(f.clipboardData.getData("text/plain"),g,v,y)},a.paste=d,a.moveTextAreaUnderMouseCursor=u,a.rightClickHandler=function(f,g,v,y,m){u(f,g,v),m&&y.rightClickSelect(f),g.value=y.selectionText,g.select()}},7239:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const c=l(1505);a.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(d,u,f){this._css.set(d,u,f)}getCss(d,u){return this._css.get(d,u)}setColor(d,u,f){this._color.set(d,u,f)}getColor(d,u){return this._color.get(d,u)}clear(){this._color.clear(),this._css.clear()}}},3656:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(l,c,d,u){l.addEventListener(c,d,u);let f=!1;return{dispose:()=>{f||(f=!0,l.removeEventListener(c,d,u))}}}},6465:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier2=void 0;const u=l(3656),f=l(8460),g=l(844),v=l(2585);let y=a.Linkifier2=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new f.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new f.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const p=this._linkProviders.indexOf(m);p!==-1&&this._linkProviders.splice(p,1)}}}attachToDom(m,p,x){this._element=m,this._mouseService=p,this._renderService=x,this.register((0,u.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,u.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,u.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const x=m.composedPath();for(let _=0;_<x.length;_++){const b=x[_];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,p){var x,_;this._activeProviderReplies&&p||((x=this._activeProviderReplies)===null||x===void 0||x.forEach(S=>{S==null||S.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let b=!1;for(const[S,C]of this._linkProviders.entries())p?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(S)&&(b=this._checkLinkProviderResult(S,m,b)):C.provideLinks(m.y,A=>{var M,T;if(this._isMouseOut)return;const N=A==null?void 0:A.map(I=>({link:I}));(M=this._activeProviderReplies)===null||M===void 0||M.set(S,N),b=this._checkLinkProviderResult(S,m,b),((T=this._activeProviderReplies)===null||T===void 0?void 0:T.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,p){const x=new Set;for(let _=0;_<p.size;_++){const b=p.get(_);if(b)for(let S=0;S<b.length;S++){const C=b[S],A=C.link.range.start.y<m?0:C.link.range.start.x,M=C.link.range.end.y>m?this._bufferService.cols:C.link.range.end.x;for(let T=A;T<=M;T++){if(x.has(T)){b.splice(S--,1);break}x.add(T)}}}}_checkLinkProviderResult(m,p,x){var _;if(!this._activeProviderReplies)return x;const b=this._activeProviderReplies.get(m);let S=!1;for(let C=0;C<m;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(S=!0);if(!S&&b){const C=b.find(A=>this._linkAtPosition(A.link,p));C&&(x=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!x)for(let C=0;C<this._activeProviderReplies.size;C++){const A=(_=this._activeProviderReplies.get(C))===null||_===void 0?void 0:_.find(M=>this._linkAtPosition(M.link,p));if(A){x=!0,this._handleNewLink(A);break}}return x}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,p){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!p||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(m.link,p)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:x=>{var _,b;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==x&&(this._currentLink.state.decorations.pointerCursor=x,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",x)))}},underline:{get:()=>{var x,_;return(_=(x=this._currentLink)===null||x===void 0?void 0:x.state)===null||_===void 0?void 0:_.decorations.underline},set:x=>{var _,b,S;!((_=this._currentLink)===null||_===void 0)&&_.state&&((S=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||S===void 0?void 0:S.decorations.underline)!==x&&(this._currentLink.state.decorations.underline=x,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,x))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(x=>{if(!this._currentLink)return;const _=x.start===0?0:x.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+x.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(_,b),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(m,p,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(x,p.text)}_fireUnderlineEvent(m,p){const x=m.range,_=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(x.start.x-1,x.start.y-_-1,x.end.x,x.end.y-_-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(m,p,x){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(x,p.text)}_linkAtPosition(m,p){const x=m.range.start.y*this._bufferService.cols+m.range.start.x,_=m.range.end.y*this._bufferService.cols+m.range.end.x,b=p.y*this._bufferService.cols+p.x;return x<=b&&b<=_}_positionFromMouseEvent(m,p,x){const _=x.getCoords(m,p,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,p,x,_,b){return{x1:m,y1:p,x2:x,y2:_,cols:this._bufferService.cols,fg:b}}};a.Linkifier2=y=c([d(0,v.IBufferService)],y)},9042:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(o,a,l){var c=this&&this.__decorate||function(y,m,p,x){var _,b=arguments.length,S=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,p):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(y,m,p,x);else for(var C=y.length-1;C>=0;C--)(_=y[C])&&(S=(b<3?_(S):b>3?_(m,p,S):_(m,p))||S);return b>3&&S&&Object.defineProperty(m,p,S),S},d=this&&this.__param||function(y,m){return function(p,x){m(p,x,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkProvider=void 0;const u=l(511),f=l(2585);let g=a.OscLinkProvider=class{constructor(y,m,p){this._bufferService=y,this._optionsService=m,this._oscLinkService=p}provideLinks(y,m){var p;const x=this._bufferService.buffer.lines.get(y-1);if(!x)return void m(void 0);const _=[],b=this._optionsService.rawOptions.linkHandler,S=new u.CellData,C=x.getTrimmedLength();let A=-1,M=-1,T=!1;for(let N=0;N<C;N++)if(M!==-1||x.hasContent(N)){if(x.loadCell(N,S),S.hasExtendedAttrs()&&S.extended.urlId){if(M===-1){M=N,A=S.extended.urlId;continue}T=S.extended.urlId!==A}else M!==-1&&(T=!0);if(T||M!==-1&&N===C-1){const I=(p=this._oscLinkService.getLinkData(A))===null||p===void 0?void 0:p.uri;if(I){const k={start:{x:M+1,y},end:{x:N+(T||N!==C-1?0:1),y}};let j=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const F=new URL(I);["http:","https:"].includes(F.protocol)||(j=!0)}catch{j=!0}j||_.push({text:I,range:k,activate:(F,z)=>b?b.activate(F,z,k):v(0,z),hover:(F,z)=>{var $;return($=b==null?void 0:b.hover)===null||$===void 0?void 0:$.call(b,F,z,k)},leave:(F,z)=>{var $;return($=b==null?void 0:b.leave)===null||$===void 0?void 0:$.call(b,F,z,k)}})}T=!1,S.hasExtendedAttrs()&&S.extended.urlId?(M=N,A=S.extended.urlId):(M=-1,A=-1)}}m(_)}};function v(y,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}a.OscLinkProvider=g=c([d(0,f.IBufferService),d(1,f.IOptionsService),d(2,f.IOscLinkService)],g)},6193:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0,a.RenderDebouncer=class{constructor(l,c){this._parentWindow=l,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ScreenDprMonitor=void 0;const c=l(844);class d extends c.Disposable{constructor(f){super(),this._parentWindow=f,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(f){this._listener&&this.clearListener(),this._listener=f,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var f;this._outerListener&&((f=this._resolutionMediaMatchList)===null||f===void 0||f.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}a.ScreenDprMonitor=d},3236:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const c=l(3614),d=l(3656),u=l(6465),f=l(9042),g=l(3730),v=l(1680),y=l(3107),m=l(5744),p=l(2950),x=l(1296),_=l(428),b=l(4269),S=l(5114),C=l(8934),A=l(3230),M=l(9312),T=l(4725),N=l(6731),I=l(8055),k=l(8969),j=l(8460),F=l(844),z=l(6114),$=l(8437),V=l(2584),R=l(7399),L=l(5941),B=l(9074),W=l(2585),G=l(5435),Y=l(4567),ie=typeof window<"u"?window.document:null;class ae extends k.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(U={}){super(U),this.browser=z,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new F.MutableDisposable),this._onCursorMove=this.register(new j.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new j.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new j.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new j.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new j.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new j.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new j.EventEmitter),this._onBlur=this.register(new j.EventEmitter),this._onA11yCharEmitter=this.register(new j.EventEmitter),this._onA11yTabEmitter=this.register(new j.EventEmitter),this._onWillOpen=this.register(new j.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(u.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(W.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((K,Q)=>this.refresh(K,Q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(K=>this._reportWindowsOptions(K))),this.register(this._inputHandler.onColor(K=>this._handleColorEvent(K))),this.register((0,j.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,j.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(K=>this._afterResize(K.cols,K.rows))),this.register((0,F.toDisposable)(()=>{var K,Q;this._customKeyEventHandler=void 0,(Q=(K=this.element)===null||K===void 0?void 0:K.parentNode)===null||Q===void 0||Q.removeChild(this.element)}))}_handleColorEvent(U){if(this._themeService)for(const K of U){let Q,ee="";switch(K.index){case 256:Q="foreground",ee="10";break;case 257:Q="background",ee="11";break;case 258:Q="cursor",ee="12";break;default:Q="ansi",ee="4;"+K.index}switch(K.type){case 0:const ue=I.color.toColorRGB(Q==="ansi"?this._themeService.colors.ansi[K.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${V.C0.ESC}]${ee};${(0,L.toRgbString)(ue)}${V.C1_ESCAPED.ST}`);break;case 1:if(Q==="ansi")this._themeService.modifyColors(J=>J.ansi[K.index]=I.rgba.toColor(...K.color));else{const J=Q;this._themeService.modifyColors(q=>q[J]=I.rgba.toColor(...K.color))}break;case 2:this._themeService.restoreColor(K.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(U){U?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(U){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(V.C0.ESC+"[I"),this.updateCursorStyle(U),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var U;return(U=this.textarea)===null||U===void 0?void 0:U.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(V.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const U=this.buffer.ybase+this.buffer.y,K=this.buffer.lines.get(U);if(!K)return;const Q=Math.min(this.buffer.x,this.cols-1),ee=this._renderService.dimensions.css.cell.height,ue=K.getWidth(Q),J=this._renderService.dimensions.css.cell.width*ue,q=this.buffer.y*this._renderService.dimensions.css.cell.height,ne=Q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=ne+"px",this.textarea.style.top=q+"px",this.textarea.style.width=J+"px",this.textarea.style.height=ee+"px",this.textarea.style.lineHeight=ee+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,d.addDisposableDomListener)(this.element,"copy",K=>{this.hasSelection()&&(0,c.copyHandler)(K,this._selectionService)}));const U=K=>(0,c.handlePasteEvent)(K,this.textarea,this.coreService,this.optionsService);this.register((0,d.addDisposableDomListener)(this.textarea,"paste",U)),this.register((0,d.addDisposableDomListener)(this.element,"paste",U)),z.isFirefox?this.register((0,d.addDisposableDomListener)(this.element,"mousedown",K=>{K.button===2&&(0,c.rightClickHandler)(K,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,d.addDisposableDomListener)(this.element,"contextmenu",K=>{(0,c.rightClickHandler)(K,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),z.isLinux&&this.register((0,d.addDisposableDomListener)(this.element,"auxclick",K=>{K.button===1&&(0,c.moveTextAreaUnderMouseCursor)(K,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,d.addDisposableDomListener)(this.textarea,"keyup",U=>this._keyUp(U),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keydown",U=>this._keyDown(U),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"keypress",U=>this._keyPress(U),!0)),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionupdate",U=>this._compositionHelper.compositionupdate(U))),this.register((0,d.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,d.addDisposableDomListener)(this.textarea,"input",U=>this._inputEvent(U),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(U){var K;if(!U)throw new Error("Terminal requires a parent element.");U.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=U.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),U.appendChild(this.element);const Q=ie.createDocumentFragment();this._viewportElement=ie.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=ie.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ie.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ie.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=ie.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",f.promptLabel),z.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,(K=this._document.defaultView)!==null&&K!==void 0?K:window),this._instantiationService.setService(T.ICoreBrowserService,this._coreBrowserService),this.register((0,d.addDisposableDomListener)(this.textarea,"focus",ee=>this._handleTextAreaFocus(ee))),this.register((0,d.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(T.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(N.ThemeService),this._instantiationService.setService(T.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(T.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(A.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(T.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ee=>this._onRender.fire(ee))),this.onResize(ee=>this._renderService.resize(ee.cols,ee.rows)),this._compositionView=ie.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(T.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(v.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(M.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(T.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ee=>this._renderService.handleSelectionChanged(ee.start,ee.end,ee.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ee=>{this.textarea.value=ee,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ee=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(y.BufferDecorationRenderer,this.screenElement)),this.register((0,d.addDisposableDomListener)(this.element,"mousedown",ee=>this._selectionService.handleMouseDown(ee))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(Y.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ee=>this._handleScreenReaderModeOptionChange(ee))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ee=>{!this._overviewRulerRenderer&&ee&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(x.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const U=this,K=this.element;function Q(J){const q=U._mouseService.getMouseReportCoords(J,U.screenElement);if(!q)return!1;let ne,fe;switch(J.overrideType||J.type){case"mousemove":fe=32,J.buttons===void 0?(ne=3,J.button!==void 0&&(ne=J.button<3?J.button:3)):ne=1&J.buttons?0:4&J.buttons?1:2&J.buttons?2:3;break;case"mouseup":fe=0,ne=J.button<3?J.button:3;break;case"mousedown":fe=1,ne=J.button<3?J.button:3;break;case"wheel":if(U.viewport.getLinesScrolled(J)===0)return!1;fe=J.deltaY<0?0:1,ne=4;break;default:return!1}return!(fe===void 0||ne===void 0||ne>4)&&U.coreMouseService.triggerMouseEvent({col:q.col,row:q.row,x:q.x,y:q.y,button:ne,action:fe,ctrl:J.ctrlKey,alt:J.altKey,shift:J.shiftKey})}const ee={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ue={mouseup:J=>(Q(J),J.buttons||(this._document.removeEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.removeEventListener("mousemove",ee.mousedrag)),this.cancel(J)),wheel:J=>(Q(J),this.cancel(J,!0)),mousedrag:J=>{J.buttons&&Q(J)},mousemove:J=>{J.buttons||Q(J)}};this.register(this.coreMouseService.onProtocolChange(J=>{J?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(J)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&J?ee.mousemove||(K.addEventListener("mousemove",ue.mousemove),ee.mousemove=ue.mousemove):(K.removeEventListener("mousemove",ee.mousemove),ee.mousemove=null),16&J?ee.wheel||(K.addEventListener("wheel",ue.wheel,{passive:!1}),ee.wheel=ue.wheel):(K.removeEventListener("wheel",ee.wheel),ee.wheel=null),2&J?ee.mouseup||(K.addEventListener("mouseup",ue.mouseup),ee.mouseup=ue.mouseup):(this._document.removeEventListener("mouseup",ee.mouseup),K.removeEventListener("mouseup",ee.mouseup),ee.mouseup=null),4&J?ee.mousedrag||(ee.mousedrag=ue.mousedrag):(this._document.removeEventListener("mousemove",ee.mousedrag),ee.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,d.addDisposableDomListener)(K,"mousedown",J=>{if(J.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(J))return Q(J),ee.mouseup&&this._document.addEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.addEventListener("mousemove",ee.mousedrag),this.cancel(J)})),this.register((0,d.addDisposableDomListener)(K,"wheel",J=>{if(!ee.wheel){if(!this.buffer.hasScrollback){const q=this.viewport.getLinesScrolled(J);if(q===0)return;const ne=V.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(J.deltaY<0?"A":"B");let fe="";for(let me=0;me<Math.abs(q);me++)fe+=ne;return this.coreService.triggerDataEvent(fe,!0),this.cancel(J,!0)}return this.viewport.handleWheel(J)?this.cancel(J):void 0}},{passive:!1})),this.register((0,d.addDisposableDomListener)(K,"touchstart",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(J),this.cancel(J)},{passive:!0})),this.register((0,d.addDisposableDomListener)(K,"touchmove",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(J)?void 0:this.cancel(J)},{passive:!1}))}refresh(U,K){var Q;(Q=this._renderService)===null||Q===void 0||Q.refreshRows(U,K)}updateCursorStyle(U){var K;!((K=this._selectionService)===null||K===void 0)&&K.shouldColumnSelect(U)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(U,K,Q=0){var ee;Q===1?(super.scrollLines(U,K,Q),this.refresh(0,this.rows-1)):(ee=this.viewport)===null||ee===void 0||ee.scrollLines(U)}paste(U){(0,c.paste)(U,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(U){this._customKeyEventHandler=U}registerLinkProvider(U){return this.linkifier2.registerLinkProvider(U)}registerCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const K=this._characterJoinerService.register(U);return this.refresh(0,this.rows-1),K}deregisterCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(U)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(U){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+U)}registerDecoration(U){return this._decorationService.registerDecoration(U)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(U,K,Q){this._selectionService.setSelection(U,K,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var U;(U=this._selectionService)===null||U===void 0||U.clearSelection()}selectAll(){var U;(U=this._selectionService)===null||U===void 0||U.selectAll()}selectLines(U,K){var Q;(Q=this._selectionService)===null||Q===void 0||Q.selectLines(U,K)}_keyDown(U){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;const K=this.browser.isMac&&this.options.macOptionIsMeta&&U.altKey;if(!K&&!this._compositionHelper.keydown(U))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;K||U.key!=="Dead"&&U.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Q=(0,R.evaluateKeyboardEvent)(U,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(U),Q.type===3||Q.type===2){const ee=this.rows-1;return this.scrollLines(Q.type===2?-ee:ee),this.cancel(U,!0)}return Q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,U)||(Q.cancel&&this.cancel(U,!0),!Q.key||!!(U.key&&!U.ctrlKey&&!U.altKey&&!U.metaKey&&U.key.length===1&&U.key.charCodeAt(0)>=65&&U.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==V.C0.ETX&&Q.key!==V.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||U.altKey||U.ctrlKey?this.cancel(U,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(U,K){const Q=U.isMac&&!this.options.macOptionIsMeta&&K.altKey&&!K.ctrlKey&&!K.metaKey||U.isWindows&&K.altKey&&K.ctrlKey&&!K.metaKey||U.isWindows&&K.getModifierState("AltGraph");return K.type==="keypress"?Q:Q&&(!K.keyCode||K.keyCode>47)}_keyUp(U){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1||(function(K){return K.keyCode===16||K.keyCode===17||K.keyCode===18}(U)||this.focus(),this.updateCursorStyle(U),this._keyPressHandled=!1)}_keyPress(U){let K;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;if(this.cancel(U),U.charCode)K=U.charCode;else if(U.which===null||U.which===void 0)K=U.keyCode;else{if(U.which===0||U.charCode===0)return!1;K=U.which}return!(!K||(U.altKey||U.ctrlKey||U.metaKey)&&!this._isThirdLevelShift(this.browser,U)||(K=String.fromCharCode(K),this._onKey.fire({key:K,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(K,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(U){if(U.data&&U.inputType==="insertText"&&(!U.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const K=U.data;return this.coreService.triggerDataEvent(K,!0),this.cancel(U),!0}return!1}resize(U,K){U!==this.cols||K!==this.rows?super.resize(U,K):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(U,K){var Q,ee;(Q=this._charSizeService)===null||Q===void 0||Q.measure(),(ee=this.viewport)===null||ee===void 0||ee.syncScrollArea(!0)}clear(){var U;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let K=1;K<this.rows;K++)this.buffer.lines.push(this.buffer.getBlankLine($.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(U=this.viewport)===null||U===void 0||U.reset(),this.refresh(0,this.rows-1)}}reset(){var U,K;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),(U=this._selectionService)===null||U===void 0||U.reset(),this._decorationService.reset(),(K=this.viewport)===null||K===void 0||K.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var U;(U=this._renderService)===null||U===void 0||U.clearTextureAtlas()}_reportFocus(){var U;!((U=this.element)===null||U===void 0)&&U.classList.contains("focus")?this.coreService.triggerDataEvent(V.C0.ESC+"[I"):this.coreService.triggerDataEvent(V.C0.ESC+"[O")}_reportWindowsOptions(U){if(this._renderService)switch(U){case G.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const K=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${V.C0.ESC}[4;${Q};${K}t`);break;case G.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ee=this._renderService.dimensions.css.cell.width.toFixed(0),ue=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${V.C0.ESC}[6;${ue};${ee}t`)}}cancel(U,K){if(this.options.cancelEvents||K)return U.preventDefault(),U.stopPropagation(),!1}}a.Terminal=ae},9924:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0,a.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,d){this._rowCount=d,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const u=Date.now();if(u-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=u,this._innerRefresh();else if(!this._additionalRefreshRequested){const f=u-this._lastRefreshMs,g=this._debounceThresholdMS-f;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(o,a,l){var c=this&&this.__decorate||function(p,x,_,b){var S,C=arguments.length,A=C<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(p,x,_,b);else for(var M=p.length-1;M>=0;M--)(S=p[M])&&(A=(C<3?S(A):C>3?S(x,_,A):S(x,_))||A);return C>3&&A&&Object.defineProperty(x,_,A),A},d=this&&this.__param||function(p,x){return function(_,b){x(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;const u=l(3656),f=l(4725),g=l(8460),v=l(844),y=l(2585);let m=a.Viewport=class extends v.Disposable{constructor(p,x,_,b,S,C,A,M){super(),this._viewportElement=p,this._scrollArea=x,this._bufferService=_,this._optionsService=b,this._charSizeService=S,this._renderService=C,this._coreBrowserService=A,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,u.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(T=>this._activeBuffer=T.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(T=>this._renderDimensions=T)),this._handleThemeChange(M.colors),this.register(M.onChangeColors(T=>this._handleThemeChange(T))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(p){this._viewportElement.style.backgroundColor=p.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(p){if(p)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const x=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==x&&(this._lastRecordedBufferHeight=x,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const p=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==p&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=p),this._refreshAnimationFrame=null}syncScrollArea(p=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(p)}_handleScroll(p){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const x=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:x,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const p=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(p*(this._smoothScrollState.target-this._smoothScrollState.origin)),p<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(p,x){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(x<0&&this._viewportElement.scrollTop!==0||x>0&&_<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)}handleWheel(p){const x=this._getPixelsScrolled(p);return x!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+x:this._smoothScrollState.target+=x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=x,this._bubbleScroll(p,x))}scrollLines(p){if(p!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const x=p*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+x,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!1})}_getPixelsScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let x=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?x*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._currentRowHeight*this._bufferService.rows),x}getBufferElements(p,x){var _;let b,S="";const C=[],A=x??this._bufferService.buffer.lines.length,M=this._bufferService.buffer.lines;for(let T=p;T<A;T++){const N=M.get(T);if(!N)continue;const I=(_=M.get(T+1))===null||_===void 0?void 0:_.isWrapped;if(S+=N.translateToString(!I),!I||T===M.length-1){const k=document.createElement("div");k.textContent=S,C.push(k),S.length>0&&(b=k),S=""}}return{bufferElements:C,cursorElement:b}}getLinesScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let x=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(x/=this._currentRowHeight+0,this._wheelPartialScroll+=x,x=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(x*=this._bufferService.rows),x}_applyScrollModifier(p,x){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&x.altKey||_==="ctrl"&&x.ctrlKey||_==="shift"&&x.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(p){this._lastTouchY=p.touches[0].pageY}handleTouchMove(p){const x=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,x!==0&&(this._viewportElement.scrollTop+=x,this._bubbleScroll(p,x))}};a.Viewport=m=c([d(2,y.IBufferService),d(3,y.IOptionsService),d(4,f.ICharSizeService),d(5,f.IRenderService),d(6,f.ICoreBrowserService),d(7,f.IThemeService)],m)},3107:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferDecorationRenderer=void 0;const u=l(3656),f=l(4725),g=l(844),v=l(2585);let y=a.BufferDecorationRenderer=class extends g.Disposable{constructor(m,p,x,_){super(),this._screenElement=m,this._bufferService=p,this._decorationService=x,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,u.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(b=>this._removeDecoration(b))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var p,x;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((p=m==null?void 0:m.options)===null||p===void 0?void 0:p.layer)==="top"),_.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(x=m.options.x)!==null&&x!==void 0?x:0;return b&&b>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(m,_),_}_refreshStyle(m){const p=m.marker.line-this._bufferService.buffers.active.ydisp;if(p<0||p>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let x=this._decorationElements.get(m);x||(x=this._createElement(m),m.element=x,this._decorationElements.set(m,x),this._container.appendChild(x),m.onDispose(()=>{this._decorationElements.delete(m),x.remove()})),x.style.top=p*this._renderService.dimensions.css.cell.height+"px",x.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(x)}}_refreshXPosition(m,p=m.element){var x;if(!p)return;const _=(x=m.options.x)!==null&&x!==void 0?x:0;(m.options.anchor||"left")==="right"?p.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":p.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var p;(p=this._decorationElements.get(m))===null||p===void 0||p.remove(),this._decorationElements.delete(m),m.dispose()}};a.BufferDecorationRenderer=y=c([d(1,v.IBufferService),d(2,v.IDecorationService),d(3,f.IRenderService)],y)},5871:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorZoneStore=void 0,a.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,d){return c>=l.startBufferLine-this._linePadding[d||"full"]&&c<=l.endBufferLine+this._linePadding[d||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(o,a,l){var c=this&&this.__decorate||function(b,S,C,A){var M,T=arguments.length,N=T<3?S:A===null?A=Object.getOwnPropertyDescriptor(S,C):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,S,C,A);else for(var I=b.length-1;I>=0;I--)(M=b[I])&&(N=(T<3?M(N):T>3?M(S,C,N):M(S,C))||N);return T>3&&N&&Object.defineProperty(S,C,N),N},d=this&&this.__param||function(b,S){return function(C,A){S(C,A,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OverviewRulerRenderer=void 0;const u=l(5871),f=l(3656),g=l(4725),v=l(844),y=l(2585),m={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},x={full:0,left:0,center:0,right:0};let _=a.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,S,C,A,M,T,N){var I;super(),this._viewportElement=b,this._screenElement=S,this._bufferService=C,this._decorationService=A,this._renderService=M,this._optionsService=T,this._coreBrowseService=N,this._colorZoneStore=new u.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(I=this._viewportElement.parentElement)===null||I===void 0||I.insertBefore(this._canvas,this._viewportElement);const k=this._canvas.getContext("2d");if(!k)throw new Error("Ctx cannot be null");this._ctx=k,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)(()=>{var j;(j=this._canvas)===null||j===void 0||j.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,f.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=b,p.center=S,p.right=b,this._refreshDrawHeightConstants(),x.full=0,x.left=0,x.center=p.left,x.right=p.left+p.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);m.left=S,m.center=S,m.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const S of b)S.position!=="full"&&this._renderColorZone(S);for(const S of b)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(x[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-m[b.position||"full"]/2),p[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[b.position||"full"]))}_queueRefresh(b,S){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a.OverviewRulerRenderer=_=c([d(2,y.IBufferService),d(3,y.IDecorationService),d(4,g.IRenderService),d(5,y.IOptionsService),d(6,g.ICoreBrowserService)],_)},2950:function(o,a,l){var c=this&&this.__decorate||function(y,m,p,x){var _,b=arguments.length,S=b<3?m:x===null?x=Object.getOwnPropertyDescriptor(m,p):x;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(y,m,p,x);else for(var C=y.length-1;C>=0;C--)(_=y[C])&&(S=(b<3?_(S):b>3?_(m,p,S):_(m,p))||S);return b>3&&S&&Object.defineProperty(m,p,S),S},d=this&&this.__param||function(y,m){return function(p,x){m(p,x,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;const u=l(4725),f=l(2585),g=l(2584);let v=a.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(y,m,p,x,_,b){this._textarea=y,this._compositionView=m,this._bufferService=p,this._optionsService=x,this._coreService=_,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(y){this._compositionView.textContent=y.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(y){if(this._isComposing||this._isSendingComposition){if(y.keyCode===229||y.keyCode===16||y.keyCode===17||y.keyCode===18)return!1;this._finalizeComposition(!1)}return y.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(y){if(this._compositionView.classList.remove("active"),this._isComposing=!1,y){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const y=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,p=m.replace(y,"");this._dataAlreadySent=p,m.length>y.length?this._coreService.triggerDataEvent(p,!0):m.length<y.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):m.length===y.length&&m!==y&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(y){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,x=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=x+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=x+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}y||setTimeout(()=>this.updateCompositionElements(!0),0)}}};a.CompositionHelper=v=c([d(2,f.IBufferService),d(3,f.IOptionsService),d(4,f.ICoreService),d(5,u.IRenderService)],v)},9806:(o,a)=>{function l(c,d,u){const f=u.getBoundingClientRect(),g=c.getComputedStyle(u),v=parseInt(g.getPropertyValue("padding-left")),y=parseInt(g.getPropertyValue("padding-top"));return[d.clientX-f.left-v,d.clientY-f.top-y]}Object.defineProperty(a,"__esModule",{value:!0}),a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=l,a.getCoords=function(c,d,u,f,g,v,y,m,p){if(!v)return;const x=l(c,d,u);return x?(x[0]=Math.ceil((x[0]+(p?y/2:0))/y),x[1]=Math.ceil(x[1]/m),x[0]=Math.min(Math.max(x[0],1),f+(p?1:0)),x[1]=Math.min(Math.max(x[1],1),g),x):void 0}},9504:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;const c=l(2584);function d(m,p,x,_){const b=m-u(m,x),S=p-u(p,x),C=Math.abs(b-S)-function(A,M,T){let N=0;const I=A-u(A,T),k=M-u(M,T);for(let j=0;j<Math.abs(I-k);j++){const F=f(A,M)==="A"?-1:1,z=T.buffer.lines.get(I+F*j);z!=null&&z.isWrapped&&N++}return N}(m,p,x);return y(C,v(f(m,p),_))}function u(m,p){let x=0,_=p.buffer.lines.get(m),b=_==null?void 0:_.isWrapped;for(;b&&m>=0&&m<p.rows;)x++,_=p.buffer.lines.get(--m),b=_==null?void 0:_.isWrapped;return x}function f(m,p){return m>p?"A":"B"}function g(m,p,x,_,b,S){let C=m,A=p,M="";for(;C!==x||A!==_;)C+=b?1:-1,b&&C>S.cols-1?(M+=S.buffer.translateBufferLineToString(A,!1,m,C),C=0,m=0,A++):!b&&C<0&&(M+=S.buffer.translateBufferLineToString(A,!1,0,m+1),C=S.cols-1,m=C,A--);return M+S.buffer.translateBufferLineToString(A,!1,m,C)}function v(m,p){const x=p?"O":"[";return c.C0.ESC+x+m}function y(m,p){m=Math.floor(m);let x="";for(let _=0;_<m;_++)x+=p;return x}a.moveToCellSequence=function(m,p,x,_){const b=x.buffer.x,S=x.buffer.y;if(!x.buffer.hasScrollback)return function(M,T,N,I,k,j){return d(T,I,k,j).length===0?"":y(g(M,T,M,T-u(T,k),!1,k).length,v("D",j))}(b,S,0,p,x,_)+d(S,p,x,_)+function(M,T,N,I,k,j){let F;F=d(T,I,k,j).length>0?I-u(I,k):T;const z=I,$=function(V,R,L,B,W,G){let Y;return Y=d(L,B,W,G).length>0?B-u(B,W):R,V<L&&Y<=B||V>=L&&Y<B?"C":"D"}(M,T,N,I,k,j);return y(g(M,F,N,z,$==="C",k).length,v($,j))}(b,S,m,p,x,_);let C;if(S===p)return C=b>m?"D":"C",y(Math.abs(b-m),v(C,_));C=S>p?"D":"C";const A=Math.abs(S-p);return y(function(M,T){return T.cols-M}(S>p?m:b,x)+(A-1)*x.cols+1+((S>p?b:m)-1),v(C,_))}},1296:function(o,a,l){var c=this&&this.__decorate||function(k,j,F,z){var $,V=arguments.length,R=V<3?j:z===null?z=Object.getOwnPropertyDescriptor(j,F):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(k,j,F,z);else for(var L=k.length-1;L>=0;L--)($=k[L])&&(R=(V<3?$(R):V>3?$(j,F,R):$(j,F))||R);return V>3&&R&&Object.defineProperty(j,F,R),R},d=this&&this.__param||function(k,j){return function(F,z){j(F,z,k)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;const u=l(3787),f=l(2550),g=l(2223),v=l(6171),y=l(4725),m=l(8055),p=l(8460),x=l(844),_=l(2585),b="xterm-dom-renderer-owner-",S="xterm-rows",C="xterm-fg-",A="xterm-bg-",M="xterm-focus",T="xterm-selection";let N=1,I=a.DomRenderer=class extends x.Disposable{constructor(k,j,F,z,$,V,R,L,B,W){super(),this._element=k,this._screenElement=j,this._viewportElement=F,this._linkifier2=z,this._charSizeService=V,this._optionsService=R,this._bufferService=L,this._coreBrowserService=B,this._themeService=W,this._terminalClass=N++,this._rowElements=[],this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(T),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,v.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(G=>this._injectCss(G))),this._injectCss(this._themeService.colors),this._rowFactory=$.createInstance(u.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(G=>this._handleLinkHover(G))),this.register(this._linkifier2.onHideLinkUnderline(G=>this._handleLinkLeave(G))),this.register((0,x.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new f.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const k=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*k,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*k),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/k),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/k),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const F of this._rowElements)F.style.width=`${this.dimensions.css.canvas.width}px`,F.style.height=`${this.dimensions.css.cell.height}px`,F.style.lineHeight=`${this.dimensions.css.cell.height}px`,F.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const j=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=j,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(k){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let j=`${this._terminalSelector} .${S} { color: ${k.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;j+=`${this._terminalSelector} .${S} .xterm-dim { color: ${m.color.multiplyOpacity(k.foreground,.5).css};}`,j+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,j+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",j+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${k.cursor.css};  color: ${k.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${k.cursor.css}; }}`,j+=`${this._terminalSelector} .${S}.${M} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${M} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${k.cursor.css}; color: ${k.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${k.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${k.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${k.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,j+=`${this._terminalSelector} .${T} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${T} div { position: absolute; background-color: ${k.selectionBackgroundOpaque.css};}${this._terminalSelector} .${T} div { position: absolute; background-color: ${k.selectionInactiveBackgroundOpaque.css};}`;for(const[F,z]of k.ansi.entries())j+=`${this._terminalSelector} .${C}${F} { color: ${z.css}; }${this._terminalSelector} .${C}${F}.xterm-dim { color: ${m.color.multiplyOpacity(z,.5).css}; }${this._terminalSelector} .${A}${F} { background-color: ${z.css}; }`;j+=`${this._terminalSelector} .${C}${g.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(k.background).css}; }${this._terminalSelector} .${C}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(k.background),.5).css}; }${this._terminalSelector} .${A}${g.INVERTED_DEFAULT_COLOR} { background-color: ${k.foreground.css}; }`,this._themeStyleElement.textContent=j}_setDefaultSpacing(){const k=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${k}px`,this._rowFactory.defaultSpacing=k}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(k,j){for(let F=this._rowElements.length;F<=j;F++){const z=document.createElement("div");this._rowContainer.appendChild(z),this._rowElements.push(z)}for(;this._rowElements.length>j;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(k,j){this._refreshRowElements(k,j),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(M)}handleFocus(){this._rowContainer.classList.add(M),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(k,j,F){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(k,j,F),this.renderRows(0,this._bufferService.rows-1),!k||!j)return;const z=k[1]-this._bufferService.buffer.ydisp,$=j[1]-this._bufferService.buffer.ydisp,V=Math.max(z,0),R=Math.min($,this._bufferService.rows-1);if(V>=this._bufferService.rows||R<0)return;const L=document.createDocumentFragment();if(F){const B=k[0]>j[0];L.appendChild(this._createSelectionElement(V,B?j[0]:k[0],B?k[0]:j[0],R-V+1))}else{const B=z===V?k[0]:0,W=V===$?j[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(V,B,W));const G=R-V-1;if(L.appendChild(this._createSelectionElement(V+1,0,this._bufferService.cols,G)),V!==R){const Y=$===R?j[0]:this._bufferService.cols;L.appendChild(this._createSelectionElement(R,0,Y))}}this._selectionContainer.appendChild(L)}_createSelectionElement(k,j,F,z=1){const $=document.createElement("div");return $.style.height=z*this.dimensions.css.cell.height+"px",$.style.top=k*this.dimensions.css.cell.height+"px",$.style.left=j*this.dimensions.css.cell.width+"px",$.style.width=this.dimensions.css.cell.width*(F-j)+"px",$}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const k of this._rowElements)k.replaceChildren()}renderRows(k,j){const F=this._bufferService.buffer,z=F.ybase+F.y,$=Math.min(F.x,this._bufferService.cols-1),V=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,L=this._optionsService.rawOptions.cursorInactiveStyle;for(let B=k;B<=j;B++){const W=B+F.ydisp,G=this._rowElements[B],Y=F.lines.get(W);if(!G||!Y)break;G.replaceChildren(...this._rowFactory.createRow(Y,W,W===z,R,L,$,V,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!0)}_handleLinkLeave(k){this._setCellUnderline(k.x1,k.x2,k.y1,k.y2,k.cols,!1)}_setCellUnderline(k,j,F,z,$,V){F<0&&(k=0),z<0&&(j=0);const R=this._bufferService.rows-1;F=Math.max(Math.min(F,R),0),z=Math.max(Math.min(z,R),0),$=Math.min($,this._bufferService.cols);const L=this._bufferService.buffer,B=L.ybase+L.y,W=Math.min(L.x,$-1),G=this._optionsService.rawOptions.cursorBlink,Y=this._optionsService.rawOptions.cursorStyle,ie=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=F;ae<=z;++ae){const se=ae+L.ydisp,U=this._rowElements[ae],K=L.lines.get(se);if(!U||!K)break;U.replaceChildren(...this._rowFactory.createRow(K,se,se===B,Y,ie,W,G,this.dimensions.css.cell.width,this._widthCache,V?ae===F?k:0:-1,V?(ae===z?j:$)-1:-1))}}};a.DomRenderer=I=c([d(4,_.IInstantiationService),d(5,y.ICharSizeService),d(6,_.IOptionsService),d(7,_.IBufferService),d(8,y.ICoreBrowserService),d(9,y.IThemeService)],I)},3787:function(o,a,l){var c=this&&this.__decorate||function(C,A,M,T){var N,I=arguments.length,k=I<3?A:T===null?T=Object.getOwnPropertyDescriptor(A,M):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")k=Reflect.decorate(C,A,M,T);else for(var j=C.length-1;j>=0;j--)(N=C[j])&&(k=(I<3?N(k):I>3?N(A,M,k):N(A,M))||k);return I>3&&k&&Object.defineProperty(A,M,k),k},d=this&&this.__param||function(C,A){return function(M,T){A(M,T,C)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=void 0;const u=l(2223),f=l(643),g=l(511),v=l(2585),y=l(8055),m=l(4725),p=l(4269),x=l(6171),_=l(3734);let b=a.DomRendererRowFactory=class{constructor(C,A,M,T,N,I,k){this._document=C,this._characterJoinerService=A,this._optionsService=M,this._coreBrowserService=T,this._coreService=N,this._decorationService=I,this._themeService=k,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,A,M){this._selectionStart=C,this._selectionEnd=A,this._columnSelectMode=M}createRow(C,A,M,T,N,I,k,j,F,z,$){const V=[],R=this._characterJoinerService.getJoinedCharacters(A),L=this._themeService.colors;let B,W=C.getNoBgTrimmedLength();M&&W<I+1&&(W=I+1);let G=0,Y="",ie=0,ae=0,se=0,U=!1,K=0,Q=!1,ee=0;const ue=[],J=z!==-1&&$!==-1;for(let q=0;q<W;q++){C.loadCell(q,this._workCell);let ne=this._workCell.getWidth();if(ne===0)continue;let fe=!1,me=q,pe=this._workCell;if(R.length>0&&q===R[0][0]){fe=!0;const We=R.shift();pe=new p.JoinedCellData(this._workCell,C.translateToString(!0,We[0],We[1]),We[1]-We[0]),me=We[1]-1,ne=pe.getWidth()}const Ae=this._isCellInSelection(q,A),Ce=M&&q===I,ke=J&&q>=z&&q<=$;let nt=!1;this._decorationService.forEachDecorationAtCell(q,A,void 0,We=>{nt=!0});let Je=pe.getChars()||f.WHITESPACE_CELL_CHAR;if(Je===" "&&(pe.isUnderline()||pe.isOverline())&&(Je=""),ee=ne*j-F.get(Je,pe.isBold(),pe.isItalic()),B){if(G&&(Ae&&Q||!Ae&&!Q&&pe.bg===ie)&&(Ae&&Q&&L.selectionForeground||pe.fg===ae)&&pe.extended.ext===se&&ke===U&&ee===K&&!Ce&&!fe&&!nt){Y+=Je,G++;continue}G&&(B.textContent=Y),B=this._document.createElement("span"),G=0,Y=""}else B=this._document.createElement("span");if(ie=pe.bg,ae=pe.fg,se=pe.extended.ext,U=ke,K=ee,Q=Ae,fe&&I>=q&&I<=me&&(I=q),!this._coreService.isCursorHidden&&Ce){if(ue.push("xterm-cursor"),this._coreBrowserService.isFocused)k&&ue.push("xterm-cursor-blink"),ue.push(T==="bar"?"xterm-cursor-bar":T==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(N)switch(N){case"outline":ue.push("xterm-cursor-outline");break;case"block":ue.push("xterm-cursor-block");break;case"bar":ue.push("xterm-cursor-bar");break;case"underline":ue.push("xterm-cursor-underline")}}if(pe.isBold()&&ue.push("xterm-bold"),pe.isItalic()&&ue.push("xterm-italic"),pe.isDim()&&ue.push("xterm-dim"),Y=pe.isInvisible()?f.WHITESPACE_CELL_CHAR:pe.getChars()||f.WHITESPACE_CELL_CHAR,pe.isUnderline()&&(ue.push(`xterm-underline-${pe.extended.underlineStyle}`),Y===" "&&(Y=""),!pe.isUnderlineColorDefault()))if(pe.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(pe.getUnderlineColor()).join(",")})`;else{let We=pe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&pe.isBold()&&We<8&&(We+=8),B.style.textDecorationColor=L.ansi[We].css}pe.isOverline()&&(ue.push("xterm-overline"),Y===" "&&(Y="")),pe.isStrikethrough()&&ue.push("xterm-strikethrough"),ke&&(B.style.textDecoration="underline");let re=pe.getFgColor(),Z=pe.getFgColorMode(),ve=pe.getBgColor(),Se=pe.getBgColorMode();const Ie=!!pe.isInverse();if(Ie){const We=re;re=ve,ve=We;const $e=Z;Z=Se,Se=$e}let Me,at,He,st=!1;switch(this._decorationService.forEachDecorationAtCell(q,A,void 0,We=>{We.options.layer!=="top"&&st||(We.backgroundColorRGB&&(Se=50331648,ve=We.backgroundColorRGB.rgba>>8&16777215,Me=We.backgroundColorRGB),We.foregroundColorRGB&&(Z=50331648,re=We.foregroundColorRGB.rgba>>8&16777215,at=We.foregroundColorRGB),st=We.options.layer==="top")}),!st&&Ae&&(Me=this._coreBrowserService.isFocused?L.selectionBackgroundOpaque:L.selectionInactiveBackgroundOpaque,ve=Me.rgba>>8&16777215,Se=50331648,st=!0,L.selectionForeground&&(Z=50331648,re=L.selectionForeground.rgba>>8&16777215,at=L.selectionForeground)),st&&ue.push("xterm-decoration-top"),Se){case 16777216:case 33554432:He=L.ansi[ve],ue.push(`xterm-bg-${ve}`);break;case 50331648:He=y.rgba.toColor(ve>>16,ve>>8&255,255&ve),this._addStyle(B,`background-color:#${S((ve>>>0).toString(16),"0",6)}`);break;default:Ie?(He=L.foreground,ue.push(`xterm-bg-${u.INVERTED_DEFAULT_COLOR}`)):He=L.background}switch(Me||pe.isDim()&&(Me=y.color.multiplyOpacity(He,.5)),Z){case 16777216:case 33554432:pe.isBold()&&re<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(re+=8),this._applyMinimumContrast(B,He,L.ansi[re],pe,Me,void 0)||ue.push(`xterm-fg-${re}`);break;case 50331648:const We=y.rgba.toColor(re>>16&255,re>>8&255,255&re);this._applyMinimumContrast(B,He,We,pe,Me,at)||this._addStyle(B,`color:#${S(re.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,He,L.foreground,pe,Me,void 0)||Ie&&ue.push(`xterm-fg-${u.INVERTED_DEFAULT_COLOR}`)}ue.length&&(B.className=ue.join(" "),ue.length=0),Ce||fe||nt?B.textContent=Y:G++,ee!==this.defaultSpacing&&(B.style.letterSpacing=`${ee}px`),V.push(B),q=me}return B&&G&&(B.textContent=Y),V}_applyMinimumContrast(C,A,M,T,N,I){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,x.excludeFromContrastRatioDemands)(T.getCode()))return!1;const k=this._getContrastCache(T);let j;if(N||I||(j=k.getColor(A.rgba,M.rgba)),j===void 0){const F=this._optionsService.rawOptions.minimumContrastRatio/(T.isDim()?2:1);j=y.color.ensureContrastRatio(N||A,I||M,F),k.setColor((N||A).rgba,(I||M).rgba,j??null)}return!!j&&(this._addStyle(C,`color:${j.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,A){C.setAttribute("style",`${C.getAttribute("style")||""}${A};`)}_isCellInSelection(C,A){const M=this._selectionStart,T=this._selectionEnd;return!(!M||!T)&&(this._columnSelectMode?M[0]<=T[0]?C>=M[0]&&A>=M[1]&&C<T[0]&&A<=T[1]:C<M[0]&&A>=M[1]&&C>=T[0]&&A<=T[1]:A>M[1]&&A<T[1]||M[1]===T[1]&&A===M[1]&&C>=M[0]&&C<T[0]||M[1]<T[1]&&A===T[1]&&C<T[0]||M[1]<T[1]&&A===M[1]&&C>=M[0])}};function S(C,A,M){for(;C.length<M;)C=A+C;return C}a.DomRendererRowFactory=b=c([d(1,m.ICharacterJoinerService),d(2,v.IOptionsService),d(3,m.ICoreBrowserService),d(4,v.ICoreService),d(5,v.IDecorationService),d(6,m.IThemeService)],b)},2550:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WidthCache=void 0,a.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=l.createElement("span"),d=l.createElement("span");d.style.fontWeight="bold";const u=l.createElement("span");u.style.fontStyle="italic";const f=l.createElement("span");f.style.fontWeight="bold",f.style.fontStyle="italic",this._measureElements=[c,d,u,f],this._container.appendChild(c),this._container.appendChild(d),this._container.appendChild(u),this._container.appendChild(f),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,d,u){l===this._font&&c===this._fontSize&&d===this._weight&&u===this._weightBold||(this._font=l,this._fontSize=c,this._weight=d,this._weightBold=u,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${d}`,this._measureElements[1].style.fontWeight=`${u}`,this._measureElements[2].style.fontWeight=`${d}`,this._measureElements[3].style.fontWeight=`${u}`,this.clear())}get(l,c,d){let u=0;if(!c&&!d&&l.length===1&&(u=l.charCodeAt(0))<256)return this._flat[u]!==-9999?this._flat[u]:this._flat[u]=this._measure(l,0);let f=l;c&&(f+="B"),d&&(f+="I");let g=this._holey.get(f);if(g===void 0){let v=0;c&&(v|=1),d&&(v|=2),g=this._measure(l,v),this._holey.set(f,g)}return g}_measure(l,c){const d=this._measureElements[c];return d.textContent=l.repeat(32),d.offsetWidth/32}}},2223:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(o,a)=>{function l(c){return 57508<=c&&c<=57558}Object.defineProperty(a,"__esModule",{value:!0}),a.createRenderDimensions=a.excludeFromContrastRatioDemands=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},a.isPowerlineGlyph=l,a.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},a.excludeFromContrastRatioDemands=function(c){return l(c)||function(d){return 9472<=d&&d<=9631}(c)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0,a.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;const u=l(2585),f=l(8460),g=l(844);let v=a.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,p,x){super(),this._optionsService=x,this.width=0,this.height=0,this._onCharSizeChange=this.register(new f.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new y(m,p,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};a.CharSizeService=v=c([d(2,u.IOptionsService)],v);class y{constructor(p,x,_){this._document=p,this._parentElement=x,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const p={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return p.width!==0&&p.height!==0&&(this._result.width=p.width/32,this._result.height=Math.ceil(p.height)),this._result}}},4269:function(o,a,l){var c=this&&this.__decorate||function(p,x,_,b){var S,C=arguments.length,A=C<3?x:b===null?b=Object.getOwnPropertyDescriptor(x,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(p,x,_,b);else for(var M=p.length-1;M>=0;M--)(S=p[M])&&(A=(C<3?S(A):C>3?S(x,_,A):S(x,_))||A);return C>3&&A&&Object.defineProperty(x,_,A),A},d=this&&this.__param||function(p,x){return function(_,b){x(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const u=l(3734),f=l(643),g=l(511),v=l(2585);class y extends u.AttributeData{constructor(x,_,b){super(),this.content=0,this.combinedData="",this.fg=x.fg,this.bg=x.bg,this.combinedData=_,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(x){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=y;let m=a.CharacterJoinerService=class cle{constructor(x){this._bufferService=x,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(x){const _={id:this._nextCharacterJoinerId++,handler:x};return this._characterJoiners.push(_),_.id}deregister(x){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===x)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(x){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(x);if(!_||_.length===0)return[];const b=[],S=_.translateToString(!0);let C=0,A=0,M=0,T=_.getFg(0),N=_.getBg(0);for(let I=0;I<_.getTrimmedLength();I++)if(_.loadCell(I,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==T||this._workCell.bg!==N){if(I-C>1){const k=this._getJoinedRanges(S,M,A,_,C);for(let j=0;j<k.length;j++)b.push(k[j])}C=I,M=A,T=this._workCell.fg,N=this._workCell.bg}A+=this._workCell.getChars().length||f.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const I=this._getJoinedRanges(S,M,A,_,C);for(let k=0;k<I.length;k++)b.push(I[k])}return b}_getJoinedRanges(x,_,b,S,C){const A=x.substring(_,b);let M=[];try{M=this._characterJoiners[0].handler(A)}catch(T){console.error(T)}for(let T=1;T<this._characterJoiners.length;T++)try{const N=this._characterJoiners[T].handler(A);for(let I=0;I<N.length;I++)cle._mergeRanges(M,N[I])}catch(N){console.error(N)}return this._stringRangesToCellRanges(M,S,C),M}_stringRangesToCellRanges(x,_,b){let S=0,C=!1,A=0,M=x[S];if(M){for(let T=b;T<this._bufferService.cols;T++){const N=_.getWidth(T),I=_.getString(T).length||f.WHITESPACE_CELL_CHAR.length;if(N!==0){if(!C&&M[0]<=A&&(M[0]=T,C=!0),M[1]<=A){if(M[1]=T,M=x[++S],!M)break;M[0]<=A?(M[0]=T,C=!0):C=!1}A+=I}}M&&(M[1]=this._bufferService.cols)}}static _mergeRanges(x,_){let b=!1;for(let S=0;S<x.length;S++){const C=x[S];if(b){if(_[1]<=C[0])return x[S-1][1]=_[1],x;if(_[1]<=C[1])return x[S-1][1]=Math.max(_[1],C[1]),x.splice(S,1),x;x.splice(S,1),S--}else{if(_[1]<=C[0])return x.splice(S,0,_),x;if(_[1]<=C[1])return C[0]=Math.min(_[0],C[0]),x;_[0]<C[1]&&(C[0]=Math.min(_[0],C[0]),b=!0)}}return b?x[x.length-1][1]=_[1]:x.push(_),x}};a.CharacterJoinerService=m=c([d(0,v.IBufferService)],m)},5114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0,a.CoreBrowserService=class{constructor(l,c){this._textarea=l,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(o,a,l){var c=this&&this.__decorate||function(v,y,m,p){var x,_=arguments.length,b=_<3?y:p===null?p=Object.getOwnPropertyDescriptor(y,m):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,y,m,p);else for(var S=v.length-1;S>=0;S--)(x=v[S])&&(b=(_<3?x(b):_>3?x(y,m,b):x(y,m))||b);return _>3&&b&&Object.defineProperty(y,m,b),b},d=this&&this.__param||function(v,y){return function(m,p){y(m,p,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;const u=l(4725),f=l(9806);let g=a.MouseService=class{constructor(v,y){this._renderService=v,this._charSizeService=y}getCoords(v,y,m,p,x){return(0,f.getCoords)(window,v,y,m,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,x)}getMouseReportCoords(v,y){const m=(0,f.getCoordsRelativeToElement)(window,v,y);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};a.MouseService=g=c([d(0,u.IRenderService),d(1,u.ICharSizeService)],g)},3230:function(o,a,l){var c=this&&this.__decorate||function(b,S,C,A){var M,T=arguments.length,N=T<3?S:A===null?A=Object.getOwnPropertyDescriptor(S,C):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,S,C,A);else for(var I=b.length-1;I>=0;I--)(M=b[I])&&(N=(T<3?M(N):T>3?M(S,C,N):M(S,C))||N);return T>3&&N&&Object.defineProperty(S,C,N),N},d=this&&this.__param||function(b,S){return function(C,A){S(C,A,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;const u=l(3656),f=l(6193),g=l(5596),v=l(4725),y=l(8460),m=l(844),p=l(7226),x=l(2585);let _=a.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,S,C,A,M,T,N,I){if(super(),this._rowCount=b,this._charSizeService=A,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new p.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new y.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new y.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new y.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new y.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new f.RenderDebouncer(N.window,(k,j)=>this._renderRows(k,j)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(T.onResize(()=>this._fullRefresh())),this.register(T.buffers.onBufferActivate(()=>{var k;return(k=this._renderer.value)===null||k===void 0?void 0:k.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(M.onDecorationRegistered(()=>this._fullRefresh())),this.register(M.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(T.cols,T.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(T.buffer.y,T.buffer.y,!0))),this.register((0,u.addDisposableDomListener)(N.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(I.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in N.window){const k=new N.window.IntersectionObserver(j=>this._handleIntersectionChange(j[j.length-1]),{threshold:0});k.observe(S),this.register({dispose:()=>k.disconnect()})}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,S,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,S,this._rowCount))}_renderRows(b,S){this._renderer.value&&(b=Math.min(b,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(b,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:S}),this._onRender.fire({start:b,end:S}),this._isNextRenderRedrawOnly=!0)}resize(b,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,S;this._renderer.value&&((S=(b=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(b,S)):this._renderer.value.handleResize(b,S),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,S,C){var A;this._selectionState.start=b,this._selectionState.end=S,this._selectionState.columnSelectMode=C,(A=this._renderer.value)===null||A===void 0||A.handleSelectionChanged(b,S,C)}handleCursorMove(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)===null||b===void 0||b.clear()}};a.RenderService=_=c([d(2,x.IOptionsService),d(3,v.ICharSizeService),d(4,x.IDecorationService),d(5,x.IBufferService),d(6,v.ICoreBrowserService),d(7,v.IThemeService)],_)},9312:function(o,a,l){var c=this&&this.__decorate||function(M,T,N,I){var k,j=arguments.length,F=j<3?T:I===null?I=Object.getOwnPropertyDescriptor(T,N):I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(M,T,N,I);else for(var z=M.length-1;z>=0;z--)(k=M[z])&&(F=(j<3?k(F):j>3?k(T,N,F):k(T,N))||F);return j>3&&F&&Object.defineProperty(T,N,F),F},d=this&&this.__param||function(M,T){return function(N,I){T(N,I,M)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;const u=l(9806),f=l(9504),g=l(456),v=l(4725),y=l(8460),m=l(844),p=l(6114),x=l(4841),_=l(511),b=l(2585),S="",C=new RegExp(S,"g");let A=a.SelectionService=class extends m.Disposable{constructor(M,T,N,I,k,j,F,z,$){super(),this._element=M,this._screenElement=T,this._linkifier=N,this._bufferService=I,this._coreService=k,this._mouseService=j,this._optionsService=F,this._renderService=z,this._coreBrowserService=$,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new y.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new y.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new y.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new y.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=V=>this._handleMouseMove(V),this._mouseUpListener=V=>this._handleMouseUp(V),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(V=>this._handleTrim(V)),this.register(this._bufferService.buffers.onBufferActivate(V=>this._handleBufferActivate(V))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const M=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;return!(!M||!T||M[0]===T[0]&&M[1]===T[1])}get selectionText(){const M=this._model.finalSelectionStart,T=this._model.finalSelectionEnd;if(!M||!T)return"";const N=this._bufferService.buffer,I=[];if(this._activeSelectionMode===3){if(M[0]===T[0])return"";const k=M[0]<T[0]?M[0]:T[0],j=M[0]<T[0]?T[0]:M[0];for(let F=M[1];F<=T[1];F++){const z=N.translateBufferLineToString(F,!0,k,j);I.push(z)}}else{const k=M[1]===T[1]?T[0]:void 0;I.push(N.translateBufferLineToString(M[1],!0,M[0],k));for(let j=M[1]+1;j<=T[1]-1;j++){const F=N.lines.get(j),z=N.translateBufferLineToString(j,!0);F!=null&&F.isWrapped?I[I.length-1]+=z:I.push(z)}if(M[1]!==T[1]){const j=N.lines.get(T[1]),F=N.translateBufferLineToString(T[1],!0,0,T[0]);j&&j.isWrapped?I[I.length-1]+=F:I.push(F)}}return I.map(k=>k.replace(C," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(M){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&M&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(M){const T=this._getMouseBufferCoords(M),N=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!!(N&&I&&T)&&this._areCoordsInSelection(T,N,I)}isCellInSelection(M,T){const N=this._model.finalSelectionStart,I=this._model.finalSelectionEnd;return!(!N||!I)&&this._areCoordsInSelection([M,T],N,I)}_areCoordsInSelection(M,T,N){return M[1]>T[1]&&M[1]<N[1]||T[1]===N[1]&&M[1]===T[1]&&M[0]>=T[0]&&M[0]<N[0]||T[1]<N[1]&&M[1]===N[1]&&M[0]<N[0]||T[1]<N[1]&&M[1]===T[1]&&M[0]>=T[0]}_selectWordAtCursor(M,T){var N,I;const k=(I=(N=this._linkifier.currentLink)===null||N===void 0?void 0:N.link)===null||I===void 0?void 0:I.range;if(k)return this._model.selectionStart=[k.start.x-1,k.start.y-1],this._model.selectionStartLength=(0,x.getRangeLength)(k,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const j=this._getMouseBufferCoords(M);return!!j&&(this._selectWordAt(j,T),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(M,T){this._model.clearSelection(),M=Math.max(M,0),T=Math.min(T,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,M],this._model.selectionEnd=[this._bufferService.cols,T],this.refresh(),this._onSelectionChange.fire()}_handleTrim(M){this._model.handleTrim(M)&&this.refresh()}_getMouseBufferCoords(M){const T=this._mouseService.getCoords(M,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(T)return T[0]--,T[1]--,T[1]+=this._bufferService.buffer.ydisp,T}_getMouseEventScrollAmount(M){let T=(0,u.getCoordsRelativeToElement)(this._coreBrowserService.window,M,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return T>=0&&T<=N?0:(T>N&&(T-=N),T=Math.min(Math.max(T,-50),50),T/=50,T/Math.abs(T)+Math.round(14*T))}shouldForceSelection(M){return p.isMac?M.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:M.shiftKey}handleMouseDown(M){if(this._mouseDownTimeStamp=M.timeStamp,(M.button!==2||!this.hasSelection)&&M.button===0){if(!this._enabled){if(!this.shouldForceSelection(M))return;M.stopPropagation()}M.preventDefault(),this._dragScrollAmount=0,this._enabled&&M.shiftKey?this._handleIncrementalClick(M):M.detail===1?this._handleSingleClick(M):M.detail===2?this._handleDoubleClick(M):M.detail===3&&this._handleTripleClick(M),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(M){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(M))}_handleSingleClick(M){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(M)?3:0,this._model.selectionStart=this._getMouseBufferCoords(M),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const T=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);T&&T.length!==this._model.selectionStart[0]&&T.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(M){this._selectWordAtCursor(M,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(M){const T=this._getMouseBufferCoords(M);T&&(this._activeSelectionMode=2,this._selectLineAt(T[1]))}shouldColumnSelect(M){return M.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(M){if(M.stopImmediatePropagation(),!this._model.selectionStart)return;const T=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(M),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(M),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const I=N.lines.get(this._model.selectionEnd[1]);I&&I.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}T&&T[0]===this._model.selectionEnd[0]&&T[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const M=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(M.ydisp+this._bufferService.rows,M.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=M.ydisp),this.refresh()}}_handleMouseUp(M){const T=M.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&T<500&&M.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(M,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&N[0]!==void 0&&N[1]!==void 0){const I=(0,f.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(I,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const M=this._model.finalSelectionStart,T=this._model.finalSelectionEnd,N=!(!M||!T||M[0]===T[0]&&M[1]===T[1]);N?M&&T&&(this._oldSelectionStart&&this._oldSelectionEnd&&M[0]===this._oldSelectionStart[0]&&M[1]===this._oldSelectionStart[1]&&T[0]===this._oldSelectionEnd[0]&&T[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(M,T,N)):this._oldHasSelection&&this._fireOnSelectionChange(M,T,N)}_fireOnSelectionChange(M,T,N){this._oldSelectionStart=M,this._oldSelectionEnd=T,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(M){this.clearSelection(),this._trimListener.dispose(),this._trimListener=M.activeBuffer.lines.onTrim(T=>this._handleTrim(T))}_convertViewportColToCharacterIndex(M,T){let N=T;for(let I=0;T>=I;I++){const k=M.loadCell(I,this._workCell).getChars().length;this._workCell.getWidth()===0?N--:k>1&&T!==I&&(N+=k-1)}return N}setSelection(M,T,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[M,T],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(M){this._isClickInSelection(M)||(this._selectWordAtCursor(M,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(M,T,N=!0,I=!0){if(M[0]>=this._bufferService.cols)return;const k=this._bufferService.buffer,j=k.lines.get(M[1]);if(!j)return;const F=k.translateBufferLineToString(M[1],!1);let z=this._convertViewportColToCharacterIndex(j,M[0]),$=z;const V=M[0]-z;let R=0,L=0,B=0,W=0;if(F.charAt(z)===" "){for(;z>0&&F.charAt(z-1)===" ";)z--;for(;$<F.length&&F.charAt($+1)===" ";)$++}else{let ie=M[0],ae=M[0];j.getWidth(ie)===0&&(R++,ie--),j.getWidth(ae)===2&&(L++,ae++);const se=j.getString(ae).length;for(se>1&&(W+=se-1,$+=se-1);ie>0&&z>0&&!this._isCharWordSeparator(j.loadCell(ie-1,this._workCell));){j.loadCell(ie-1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,ie--):U>1&&(B+=U-1,z-=U-1),z--,ie--}for(;ae<j.length&&$+1<F.length&&!this._isCharWordSeparator(j.loadCell(ae+1,this._workCell));){j.loadCell(ae+1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===2?(L++,ae++):U>1&&(W+=U-1,$+=U-1),$++,ae++}}$++;let G=z+V-R+B,Y=Math.min(this._bufferService.cols,$-z+R+L-B-W);if(T||F.slice(z,$).trim()!==""){if(N&&G===0&&j.getCodePoint(0)!==32){const ie=k.lines.get(M[1]-1);if(ie&&j.isWrapped&&ie.getCodePoint(this._bufferService.cols-1)!==32){const ae=this._getWordAt([this._bufferService.cols-1,M[1]-1],!1,!0,!1);if(ae){const se=this._bufferService.cols-ae.start;G-=se,Y+=se}}}if(I&&G+Y===this._bufferService.cols&&j.getCodePoint(this._bufferService.cols-1)!==32){const ie=k.lines.get(M[1]+1);if(ie!=null&&ie.isWrapped&&ie.getCodePoint(0)!==32){const ae=this._getWordAt([0,M[1]+1],!1,!1,!0);ae&&(Y+=ae.length)}}return{start:G,length:Y}}}_selectWordAt(M,T){const N=this._getWordAt(M,T);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,M[1]--;this._model.selectionStart=[N.start,M[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(M){const T=this._getWordAt(M,!0);if(T){let N=M[1];for(;T.start<0;)T.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;T.start+T.length>this._bufferService.cols;)T.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?T.start:T.start+T.length,N]}}_isCharWordSeparator(M){return M.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(M.getChars())>=0}_selectLineAt(M){const T=this._bufferService.buffer.getWrappedRangeForLine(M),N={start:{x:0,y:T.first},end:{x:this._bufferService.cols-1,y:T.last}};this._model.selectionStart=[0,T.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,x.getRangeLength)(N,this._bufferService.cols)}};a.SelectionService=A=c([d(3,b.IBufferService),d(4,b.ICoreService),d(5,v.IMouseService),d(6,b.IOptionsService),d(7,v.IRenderService),d(8,v.ICoreBrowserService)],A)},4725:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IThemeService=a.ICharacterJoinerService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;const c=l(8343);a.ICharSizeService=(0,c.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),a.IMouseService=(0,c.createDecorator)("MouseService"),a.IRenderService=(0,c.createDecorator)("RenderService"),a.ISelectionService=(0,c.createDecorator)("SelectionService"),a.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),a.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(o,a,l){var c=this&&this.__decorate||function(A,M,T,N){var I,k=arguments.length,j=k<3?M:N===null?N=Object.getOwnPropertyDescriptor(M,T):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(A,M,T,N);else for(var F=A.length-1;F>=0;F--)(I=A[F])&&(j=(k<3?I(j):k>3?I(M,T,j):I(M,T))||j);return k>3&&j&&Object.defineProperty(M,T,j),j},d=this&&this.__param||function(A,M){return function(T,N){M(T,N,A)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const u=l(7239),f=l(8055),g=l(8460),v=l(844),y=l(2585),m=f.css.toColor("#ffffff"),p=f.css.toColor("#000000"),x=f.css.toColor("#ffffff"),_=f.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const A=[f.css.toColor("#2e3436"),f.css.toColor("#cc0000"),f.css.toColor("#4e9a06"),f.css.toColor("#c4a000"),f.css.toColor("#3465a4"),f.css.toColor("#75507b"),f.css.toColor("#06989a"),f.css.toColor("#d3d7cf"),f.css.toColor("#555753"),f.css.toColor("#ef2929"),f.css.toColor("#8ae234"),f.css.toColor("#fce94f"),f.css.toColor("#729fcf"),f.css.toColor("#ad7fa8"),f.css.toColor("#34e2e2"),f.css.toColor("#eeeeec")],M=[0,95,135,175,215,255];for(let T=0;T<216;T++){const N=M[T/36%6|0],I=M[T/6%6|0],k=M[T%6];A.push({css:f.channels.toCss(N,I,k),rgba:f.channels.toRgba(N,I,k)})}for(let T=0;T<24;T++){const N=8+10*T;A.push({css:f.channels.toCss(N,N,N),rgba:f.channels.toRgba(N,N,N)})}return A})());let S=a.ThemeService=class extends v.Disposable{get colors(){return this._colors}constructor(A){super(),this._optionsService=A,this._contrastCache=new u.ColorContrastCache,this._halfContrastCache=new u.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:p,cursor:x,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:f.color.blend(p,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:f.color.blend(p,b),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(A={}){const M=this._colors;if(M.foreground=C(A.foreground,m),M.background=C(A.background,p),M.cursor=C(A.cursor,x),M.cursorAccent=C(A.cursorAccent,_),M.selectionBackgroundTransparent=C(A.selectionBackground,b),M.selectionBackgroundOpaque=f.color.blend(M.background,M.selectionBackgroundTransparent),M.selectionInactiveBackgroundTransparent=C(A.selectionInactiveBackground,M.selectionBackgroundTransparent),M.selectionInactiveBackgroundOpaque=f.color.blend(M.background,M.selectionInactiveBackgroundTransparent),M.selectionForeground=A.selectionForeground?C(A.selectionForeground,f.NULL_COLOR):void 0,M.selectionForeground===f.NULL_COLOR&&(M.selectionForeground=void 0),f.color.isOpaque(M.selectionBackgroundTransparent)&&(M.selectionBackgroundTransparent=f.color.opacity(M.selectionBackgroundTransparent,.3)),f.color.isOpaque(M.selectionInactiveBackgroundTransparent)&&(M.selectionInactiveBackgroundTransparent=f.color.opacity(M.selectionInactiveBackgroundTransparent,.3)),M.ansi=a.DEFAULT_ANSI_COLORS.slice(),M.ansi[0]=C(A.black,a.DEFAULT_ANSI_COLORS[0]),M.ansi[1]=C(A.red,a.DEFAULT_ANSI_COLORS[1]),M.ansi[2]=C(A.green,a.DEFAULT_ANSI_COLORS[2]),M.ansi[3]=C(A.yellow,a.DEFAULT_ANSI_COLORS[3]),M.ansi[4]=C(A.blue,a.DEFAULT_ANSI_COLORS[4]),M.ansi[5]=C(A.magenta,a.DEFAULT_ANSI_COLORS[5]),M.ansi[6]=C(A.cyan,a.DEFAULT_ANSI_COLORS[6]),M.ansi[7]=C(A.white,a.DEFAULT_ANSI_COLORS[7]),M.ansi[8]=C(A.brightBlack,a.DEFAULT_ANSI_COLORS[8]),M.ansi[9]=C(A.brightRed,a.DEFAULT_ANSI_COLORS[9]),M.ansi[10]=C(A.brightGreen,a.DEFAULT_ANSI_COLORS[10]),M.ansi[11]=C(A.brightYellow,a.DEFAULT_ANSI_COLORS[11]),M.ansi[12]=C(A.brightBlue,a.DEFAULT_ANSI_COLORS[12]),M.ansi[13]=C(A.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),M.ansi[14]=C(A.brightCyan,a.DEFAULT_ANSI_COLORS[14]),M.ansi[15]=C(A.brightWhite,a.DEFAULT_ANSI_COLORS[15]),A.extendedAnsi){const T=Math.min(M.ansi.length-16,A.extendedAnsi.length);for(let N=0;N<T;N++)M.ansi[N+16]=C(A.extendedAnsi[N],a.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(A){this._restoreColor(A),this._onChangeColors.fire(this.colors)}_restoreColor(A){if(A!==void 0)switch(A){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[A]=this._restoreColors.ansi[A]}else for(let M=0;M<this._restoreColors.ansi.length;++M)this._colors.ansi[M]=this._restoreColors.ansi[M]}modifyColors(A){A(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(A,M){if(A!==void 0)try{return f.css.toColor(A)}catch{}return M}a.ThemeService=S=c([d(0,y.IOptionsService)],S)},6349:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;const c=l(8460),d=l(844);class u extends d.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const v=new Array(g);for(let y=0;y<Math.min(g,this.length);y++)v[y]=this._array[this._getCyclicIndex(y)];this._array=v,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let v=this._length;v<g;v++)this._array[v]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,v){this._array[this._getCyclicIndex(g)]=v}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,v,...y){if(v){for(let m=g;m<this._length-v;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+v)];this._length-=v,this.onDeleteEmitter.fire({index:g,amount:v})}for(let m=this._length-1;m>=g;m--)this._array[this._getCyclicIndex(m+y.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<y.length;m++)this._array[this._getCyclicIndex(g+m)]=y[m];if(y.length&&this.onInsertEmitter.fire({index:g,amount:y.length}),this._length+y.length>this._maxLength){const m=this._length+y.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=y.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,v,y){if(!(v<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+y<0)throw new Error("Cannot shift elements in list beyond index 0");if(y>0){for(let p=v-1;p>=0;p--)this.set(g+p+y,this.get(g+p));const m=g+v+y-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<v;m++)this.set(g+m+y,this.get(g+m))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}a.CircularList=u},1439:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function l(c,d=5){if(typeof c!="object")return c;const u=Array.isArray(c)?[]:{};for(const f in c)u[f]=d<=1?c[f]:c[f]&&l(c[f],d-1);return u}},8055:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;const c=l(6114);let d=0,u=0,f=0,g=0;var v,y,m,p,x;function _(S){const C=S.toString(16);return C.length<2?"0"+C:C}function b(S,C){return S<C?(C+.05)/(S+.05):(S+.05)/(C+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(C,A,M,T){return T!==void 0?`#${_(C)}${_(A)}${_(M)}${_(T)}`:`#${_(C)}${_(A)}${_(M)}`},S.toRgba=function(C,A,M,T=255){return(C<<24|A<<16|M<<8|T)>>>0}}(v||(a.channels=v={})),function(S){function C(A,M){return g=Math.round(255*M),[d,u,f]=x.toChannels(A.rgba),{css:v.toCss(d,u,f,g),rgba:v.toRgba(d,u,f,g)}}S.blend=function(A,M){if(g=(255&M.rgba)/255,g===1)return{css:M.css,rgba:M.rgba};const T=M.rgba>>24&255,N=M.rgba>>16&255,I=M.rgba>>8&255,k=A.rgba>>24&255,j=A.rgba>>16&255,F=A.rgba>>8&255;return d=k+Math.round((T-k)*g),u=j+Math.round((N-j)*g),f=F+Math.round((I-F)*g),{css:v.toCss(d,u,f),rgba:v.toRgba(d,u,f)}},S.isOpaque=function(A){return(255&A.rgba)==255},S.ensureContrastRatio=function(A,M,T){const N=x.ensureContrastRatio(A.rgba,M.rgba,T);if(N)return x.toColor(N>>24&255,N>>16&255,N>>8&255)},S.opaque=function(A){const M=(255|A.rgba)>>>0;return[d,u,f]=x.toChannels(M),{css:v.toCss(d,u,f),rgba:M}},S.opacity=C,S.multiplyOpacity=function(A,M){return g=255&A.rgba,C(A,g*M/255)},S.toColorRGB=function(A){return[A.rgba>>24&255,A.rgba>>16&255,A.rgba>>8&255]}}(y||(a.color=y={})),function(S){let C,A;if(!c.isNode){const M=document.createElement("canvas");M.width=1,M.height=1;const T=M.getContext("2d",{willReadFrequently:!0});T&&(C=T,C.globalCompositeOperation="copy",A=C.createLinearGradient(0,0,1,1))}S.toColor=function(M){if(M.match(/#[\da-f]{3,8}/i))switch(M.length){case 4:return d=parseInt(M.slice(1,2).repeat(2),16),u=parseInt(M.slice(2,3).repeat(2),16),f=parseInt(M.slice(3,4).repeat(2),16),x.toColor(d,u,f);case 5:return d=parseInt(M.slice(1,2).repeat(2),16),u=parseInt(M.slice(2,3).repeat(2),16),f=parseInt(M.slice(3,4).repeat(2),16),g=parseInt(M.slice(4,5).repeat(2),16),x.toColor(d,u,f,g);case 7:return{css:M,rgba:(parseInt(M.slice(1),16)<<8|255)>>>0};case 9:return{css:M,rgba:parseInt(M.slice(1),16)>>>0}}const T=M.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(T)return d=parseInt(T[1]),u=parseInt(T[2]),f=parseInt(T[3]),g=Math.round(255*(T[5]===void 0?1:parseFloat(T[5]))),x.toColor(d,u,f,g);if(!C||!A)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=A,C.fillStyle=M,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[d,u,f,g]=C.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:v.toRgba(d,u,f,g),css:M}}}(m||(a.css=m={})),function(S){function C(A,M,T){const N=A/255,I=M/255,k=T/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))+.0722*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))}S.relativeLuminance=function(A){return C(A>>16&255,A>>8&255,255&A)},S.relativeLuminance2=C}(p||(a.rgb=p={})),function(S){function C(M,T,N){const I=M>>24&255,k=M>>16&255,j=M>>8&255;let F=T>>24&255,z=T>>16&255,$=T>>8&255,V=b(p.relativeLuminance2(F,z,$),p.relativeLuminance2(I,k,j));for(;V<N&&(F>0||z>0||$>0);)F-=Math.max(0,Math.ceil(.1*F)),z-=Math.max(0,Math.ceil(.1*z)),$-=Math.max(0,Math.ceil(.1*$)),V=b(p.relativeLuminance2(F,z,$),p.relativeLuminance2(I,k,j));return(F<<24|z<<16|$<<8|255)>>>0}function A(M,T,N){const I=M>>24&255,k=M>>16&255,j=M>>8&255;let F=T>>24&255,z=T>>16&255,$=T>>8&255,V=b(p.relativeLuminance2(F,z,$),p.relativeLuminance2(I,k,j));for(;V<N&&(F<255||z<255||$<255);)F=Math.min(255,F+Math.ceil(.1*(255-F))),z=Math.min(255,z+Math.ceil(.1*(255-z))),$=Math.min(255,$+Math.ceil(.1*(255-$))),V=b(p.relativeLuminance2(F,z,$),p.relativeLuminance2(I,k,j));return(F<<24|z<<16|$<<8|255)>>>0}S.ensureContrastRatio=function(M,T,N){const I=p.relativeLuminance(M>>8),k=p.relativeLuminance(T>>8);if(b(I,k)<N){if(k<I){const z=C(M,T,N),$=b(I,p.relativeLuminance(z>>8));if($<N){const V=A(M,T,N);return $>b(I,p.relativeLuminance(V>>8))?z:V}return z}const j=A(M,T,N),F=b(I,p.relativeLuminance(j>>8));if(F<N){const z=C(M,T,N);return F>b(I,p.relativeLuminance(z>>8))?j:z}return j}},S.reduceLuminance=C,S.increaseLuminance=A,S.toChannels=function(M){return[M>>24&255,M>>16&255,M>>8&255,255&M]},S.toColor=function(M,T,N,I){return{css:v.toCss(M,T,N,I),rgba:v.toRgba(M,T,N,I)}}}(x||(a.rgba=x={})),a.toPaddedHex=_,a.contrastRatio=b},8969:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;const c=l(844),d=l(2585),u=l(4348),f=l(7866),g=l(744),v=l(7302),y=l(6975),m=l(8460),p=l(1753),x=l(1480),_=l(7994),b=l(9282),S=l(5435),C=l(5981),A=l(2660);let M=!1;class T extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(I=>{var k;(k=this._onScrollApi)===null||k===void 0||k.fire(I.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(I){for(const k in I)this.optionsService.options[k]=I[k]}constructor(I){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new u.InstantiationService,this.optionsService=this.register(new v.OptionsService(I)),this._instantiationService.setService(d.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(d.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(f.LogService)),this._instantiationService.setService(d.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(y.CoreService)),this._instantiationService.setService(d.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(d.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(x.UnicodeService)),this._instantiationService.setService(d.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(d.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(A.OscLinkService),this._instantiationService.setService(d.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(k=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((k,j)=>this._inputHandler.parse(k,j))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(I,k){this._writeBuffer.write(I,k)}writeSync(I,k){this._logService.logLevel<=d.LogLevelEnum.WARN&&!M&&(this._logService.warn("writeSync is unreliable and will be removed soon."),M=!0),this._writeBuffer.writeSync(I,k)}resize(I,k){isNaN(I)||isNaN(k)||(I=Math.max(I,g.MINIMUM_COLS),k=Math.max(k,g.MINIMUM_ROWS),this._bufferService.resize(I,k))}scroll(I,k=!1){this._bufferService.scroll(I,k)}scrollLines(I,k,j){this._bufferService.scrollLines(I,k,j)}scrollPages(I){this.scrollLines(I*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(I){const k=I-this._bufferService.buffer.ydisp;k!==0&&this.scrollLines(k)}registerEscHandler(I,k){return this._inputHandler.registerEscHandler(I,k)}registerDcsHandler(I,k){return this._inputHandler.registerDcsHandler(I,k)}registerCsiHandler(I,k){return this._inputHandler.registerCsiHandler(I,k)}registerOscHandler(I,k){return this._inputHandler.registerOscHandler(I,k)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let I=!1;const k=this.optionsService.rawOptions.windowsPty;k&&k.buildNumber!==void 0&&k.buildNumber!==void 0?I=k.backend==="conpty"&&k.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(I=!0),I?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const I=[];I.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),I.push(this.registerCsiHandler({final:"H"},()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const k of I)k.dispose()})}}}a.CoreTerminal=T},8460:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const d=[];for(let u=0;u<this._listeners.length;u++)d.push(this._listeners[u]);for(let u=0;u<d.length;u++)d[u].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(d=>c.fire(d))}},5435:function(o,a,l){var c=this&&this.__decorate||function(V,R,L,B){var W,G=arguments.length,Y=G<3?R:B===null?B=Object.getOwnPropertyDescriptor(R,L):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Y=Reflect.decorate(V,R,L,B);else for(var ie=V.length-1;ie>=0;ie--)(W=V[ie])&&(Y=(G<3?W(Y):G>3?W(R,L,Y):W(R,L))||Y);return G>3&&Y&&Object.defineProperty(R,L,Y),Y},d=this&&this.__param||function(V,R){return function(L,B){R(L,B,V)}};Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;const u=l(2584),f=l(7116),g=l(2015),v=l(844),y=l(482),m=l(8437),p=l(8460),x=l(643),_=l(511),b=l(3734),S=l(2585),C=l(6242),A=l(6351),M=l(5941),T={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function I(V,R){if(V>24)return R.setWinLines||!1;switch(V){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var k;(function(V){V[V.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",V[V.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(k||(a.WindowsOptionsReportType=k={}));let j=0;class F extends v.Disposable{getAttrData(){return this._curAttrData}constructor(R,L,B,W,G,Y,ie,ae,se=new g.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=L,this._coreService=B,this._logService=W,this._optionsService=G,this._oscLinkService=Y,this._coreMouseService=ie,this._unicodeService=ae,this._parser=se,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new y.StringToUtf32,this._utf8Decoder=new y.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(U=>this._activeBuffer=U.activeBuffer)),this._parser.setCsiHandlerFallback((U,K)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(U),params:K.toArray()})}),this._parser.setEscHandlerFallback(U=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(U)})}),this._parser.setExecuteHandlerFallback(U=>{this._logService.debug("Unknown EXECUTE code: ",{code:U})}),this._parser.setOscHandlerFallback((U,K,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:U,action:K,data:Q})}),this._parser.setDcsHandlerFallback((U,K,Q)=>{K==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(U),action:K,payload:Q})}),this._parser.setPrintHandler((U,K,Q)=>this.print(U,K,Q)),this._parser.registerCsiHandler({final:"@"},U=>this.insertChars(U)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},U=>this.scrollLeft(U)),this._parser.registerCsiHandler({final:"A"},U=>this.cursorUp(U)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},U=>this.scrollRight(U)),this._parser.registerCsiHandler({final:"B"},U=>this.cursorDown(U)),this._parser.registerCsiHandler({final:"C"},U=>this.cursorForward(U)),this._parser.registerCsiHandler({final:"D"},U=>this.cursorBackward(U)),this._parser.registerCsiHandler({final:"E"},U=>this.cursorNextLine(U)),this._parser.registerCsiHandler({final:"F"},U=>this.cursorPrecedingLine(U)),this._parser.registerCsiHandler({final:"G"},U=>this.cursorCharAbsolute(U)),this._parser.registerCsiHandler({final:"H"},U=>this.cursorPosition(U)),this._parser.registerCsiHandler({final:"I"},U=>this.cursorForwardTab(U)),this._parser.registerCsiHandler({final:"J"},U=>this.eraseInDisplay(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},U=>this.eraseInDisplay(U,!0)),this._parser.registerCsiHandler({final:"K"},U=>this.eraseInLine(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},U=>this.eraseInLine(U,!0)),this._parser.registerCsiHandler({final:"L"},U=>this.insertLines(U)),this._parser.registerCsiHandler({final:"M"},U=>this.deleteLines(U)),this._parser.registerCsiHandler({final:"P"},U=>this.deleteChars(U)),this._parser.registerCsiHandler({final:"S"},U=>this.scrollUp(U)),this._parser.registerCsiHandler({final:"T"},U=>this.scrollDown(U)),this._parser.registerCsiHandler({final:"X"},U=>this.eraseChars(U)),this._parser.registerCsiHandler({final:"Z"},U=>this.cursorBackwardTab(U)),this._parser.registerCsiHandler({final:"`"},U=>this.charPosAbsolute(U)),this._parser.registerCsiHandler({final:"a"},U=>this.hPositionRelative(U)),this._parser.registerCsiHandler({final:"b"},U=>this.repeatPrecedingCharacter(U)),this._parser.registerCsiHandler({final:"c"},U=>this.sendDeviceAttributesPrimary(U)),this._parser.registerCsiHandler({prefix:">",final:"c"},U=>this.sendDeviceAttributesSecondary(U)),this._parser.registerCsiHandler({final:"d"},U=>this.linePosAbsolute(U)),this._parser.registerCsiHandler({final:"e"},U=>this.vPositionRelative(U)),this._parser.registerCsiHandler({final:"f"},U=>this.hVPosition(U)),this._parser.registerCsiHandler({final:"g"},U=>this.tabClear(U)),this._parser.registerCsiHandler({final:"h"},U=>this.setMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"h"},U=>this.setModePrivate(U)),this._parser.registerCsiHandler({final:"l"},U=>this.resetMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"l"},U=>this.resetModePrivate(U)),this._parser.registerCsiHandler({final:"m"},U=>this.charAttributes(U)),this._parser.registerCsiHandler({final:"n"},U=>this.deviceStatus(U)),this._parser.registerCsiHandler({prefix:"?",final:"n"},U=>this.deviceStatusPrivate(U)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},U=>this.softReset(U)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},U=>this.setCursorStyle(U)),this._parser.registerCsiHandler({final:"r"},U=>this.setScrollRegion(U)),this._parser.registerCsiHandler({final:"s"},U=>this.saveCursor(U)),this._parser.registerCsiHandler({final:"t"},U=>this.windowOptions(U)),this._parser.registerCsiHandler({final:"u"},U=>this.restoreCursor(U)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},U=>this.insertColumns(U)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},U=>this.deleteColumns(U)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},U=>this.selectProtected(U)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},U=>this.requestMode(U,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},U=>this.requestMode(U,!1)),this._parser.setExecuteHandler(u.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(u.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(u.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(u.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(u.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(u.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(u.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(u.C1.IND,()=>this.index()),this._parser.setExecuteHandler(u.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(u.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler(U=>(this.setTitle(U),this.setIconName(U),!0))),this._parser.registerOscHandler(1,new C.OscHandler(U=>this.setIconName(U))),this._parser.registerOscHandler(2,new C.OscHandler(U=>this.setTitle(U))),this._parser.registerOscHandler(4,new C.OscHandler(U=>this.setOrReportIndexedColor(U))),this._parser.registerOscHandler(8,new C.OscHandler(U=>this.setHyperlink(U))),this._parser.registerOscHandler(10,new C.OscHandler(U=>this.setOrReportFgColor(U))),this._parser.registerOscHandler(11,new C.OscHandler(U=>this.setOrReportBgColor(U))),this._parser.registerOscHandler(12,new C.OscHandler(U=>this.setOrReportCursorColor(U))),this._parser.registerOscHandler(104,new C.OscHandler(U=>this.restoreIndexedColor(U))),this._parser.registerOscHandler(110,new C.OscHandler(U=>this.restoreFgColor(U))),this._parser.registerOscHandler(111,new C.OscHandler(U=>this.restoreBgColor(U))),this._parser.registerOscHandler(112,new C.OscHandler(U=>this.restoreCursorColor(U))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const U in f.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:U},()=>this.selectCharset("("+U)),this._parser.registerEscHandler({intermediates:")",final:U},()=>this.selectCharset(")"+U)),this._parser.registerEscHandler({intermediates:"*",final:U},()=>this.selectCharset("*"+U)),this._parser.registerEscHandler({intermediates:"+",final:U},()=>this.selectCharset("+"+U)),this._parser.registerEscHandler({intermediates:"-",final:U},()=>this.selectCharset("-"+U)),this._parser.registerEscHandler({intermediates:".",final:U},()=>this.selectCharset("."+U)),this._parser.registerEscHandler({intermediates:"/",final:U},()=>this.selectCharset("/"+U));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(U=>(this._logService.error("Parsing error: ",U),U)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new A.DcsHandler((U,K)=>this.requestStatusString(U,K)))}_preserveStack(R,L,B,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=L,this._parseStack.decodedLength=B,this._parseStack.position=W}_logSlowResolvingAsync(R){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([R,new Promise((L,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(L=>{if(L!=="#SLOW_TIMEOUT")throw L;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,L){let B,W=this._activeBuffer.x,G=this._activeBuffer.y,Y=0;const ie=this._parseStack.paused;if(ie){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,L))return this._logSlowResolvingAsync(B),B;W=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>N&&(Y=this._parseStack.position+N)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,ae=>String.fromCharCode(ae)).join("")}"`),typeof R=="string"?R.split("").map(ae=>ae.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(R.length,N))),ie||this._dirtyRowTracker.clearRange(),R.length>N)for(let ae=Y;ae<R.length;ae+=N){const se=ae+N<R.length?ae+N:R.length,U=typeof R=="string"?this._stringDecoder.decode(R.substring(ae,se),this._parseBuffer):this._utf8Decoder.decode(R.subarray(ae,se),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,U))return this._preserveStack(W,G,U,ae),this._logSlowResolvingAsync(B),B}else if(!ie){const ae=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,ae))return this._preserveStack(W,G,ae,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===W&&this._activeBuffer.y===G||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,L,B){let W,G;const Y=this._charsetService.charset,ie=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,se=this._coreService.decPrivateModes.wraparound,U=this._coreService.modes.insertMode,K=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-L>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,K.fg,K.bg,K.extended);for(let ee=L;ee<B;++ee){if(W=R[ee],G=this._unicodeService.wcwidth(W),W<127&&Y){const ue=Y[String.fromCharCode(W)];ue&&(W=ue.charCodeAt(0))}if(ie&&this._onA11yChar.fire((0,y.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),G||!this._activeBuffer.x){if(this._activeBuffer.x+G-1>=ae){if(se){for(;this._activeBuffer.x<ae;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,K.fg,K.bg,K.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ae-1,G===2)continue}if(U&&(Q.insertCells(this._activeBuffer.x,G,this._activeBuffer.getNullCell(K),K),Q.getWidth(ae-1)===2&&Q.setCellFromCodePoint(ae-1,x.NULL_CELL_CODE,x.NULL_CELL_WIDTH,K.fg,K.bg,K.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,W,G,K.fg,K.bg,K.extended),G>0)for(;--G;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,K.fg,K.bg,K.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,W):Q.addCodepointToCell(this._activeBuffer.x-2,W)}B-L>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ae&&B-L>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,K.fg,K.bg,K.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,L){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,L):this._parser.registerCsiHandler(R,B=>!I(B.params[0],this._optionsService.rawOptions.windowOptions)||L(B))}registerDcsHandler(R,L){return this._parser.registerDcsHandler(R,new A.DcsHandler(L))}registerEscHandler(R,L){return this._parser.registerEscHandler(R,L)}registerOscHandler(R,L){return this._parser.registerOscHandler(R,new C.OscHandler(L))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);L.hasWidth(this._activeBuffer.x)&&!L.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,L){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+L):(this._activeBuffer.x=R,this._activeBuffer.y=L),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,L){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+L)}cursorUp(R){const L=this._activeBuffer.y-this._activeBuffer.scrollTop;return L>=0?this._moveCursor(0,-Math.min(L,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const L=this._activeBuffer.scrollBottom-this._activeBuffer.y;return L>=0?this._moveCursor(0,Math.min(L,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const L=R.params[0];return L===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:L===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let L=R.params[0]||1;for(;L--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const L=R.params[0];return L===1&&(this._curAttrData.bg|=536870912),L!==2&&L!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,L,B,W=!1,G=!1){const Y=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);Y.replaceCells(L,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),G),W&&(Y.isWrapped=!1)}_resetBufferLine(R,L=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),L),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),B.isWrapped=!1)}eraseInDisplay(R,L=!1){let B;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);B<this._bufferService.rows;B++)this._resetBufferLine(B,L);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,L),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,L);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,L);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(R,L=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,L);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,L);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,L)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;L--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let L=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;L--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let L=R.params[0]||1;for(;L--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.deleteCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.insertCells(0,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.insertCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const L=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.deleteCells(this._activeBuffer.x,L,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const L=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return L&&(L.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const L=R.params[0]||1,B=new Uint32Array(L);for(let W=0;W<L;++W)B[W]=this._parser.precedingCodepoint;return this.print(B,0,B.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(u.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(u.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(u.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(u.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(u.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),this._charsetService.setgCharset(1,f.DEFAULT_CHARSET),this._charsetService.setgCharset(2,f.DEFAULT_CHARSET),this._charsetService.setgCharset(3,f.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let L=0;L<R.length;L++)switch(R.params[L]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[L]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,L){const B=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:G}=this._coreMouseService,Y=this._coreService,{buffers:ie,cols:ae}=this._bufferService,{active:se,alt:U}=ie,K=this._optionsService.rawOptions,Q=q=>q?1:2,ee=R.params[0];return ue=ee,J=L?ee===2?4:ee===4?Q(Y.modes.insertMode):ee===12?3:ee===20?Q(K.convertEol):0:ee===1?Q(B.applicationCursorKeys):ee===3?K.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:ee===6?Q(B.origin):ee===7?Q(B.wraparound):ee===8?3:ee===9?Q(W==="X10"):ee===12?Q(K.cursorBlink):ee===25?Q(!Y.isCursorHidden):ee===45?Q(B.reverseWraparound):ee===66?Q(B.applicationKeypad):ee===67?4:ee===1e3?Q(W==="VT200"):ee===1002?Q(W==="DRAG"):ee===1003?Q(W==="ANY"):ee===1004?Q(B.sendFocus):ee===1005?4:ee===1006?Q(G==="SGR"):ee===1015?4:ee===1016?Q(G==="SGR_PIXELS"):ee===1048?1:ee===47||ee===1047||ee===1049?Q(se===U):ee===2004?Q(B.bracketedPasteMode):0,Y.triggerDataEvent(`${u.C0.ESC}[${L?"":"?"}${ue};${J}$y`),!0;var ue,J}_updateAttrColor(R,L,B,W,G){return L===2?(R|=50331648,R&=-16777216,R|=b.AttributeData.fromColorRGB([B,W,G])):L===5&&(R&=-50331904,R|=33554432|255&B),R}_extractColor(R,L,B){const W=[0,0,-1,0,0,0];let G=0,Y=0;do{if(W[Y+G]=R.params[L+Y],R.hasSubParams(L+Y)){const ie=R.getSubParams(L+Y);let ae=0;do W[1]===5&&(G=1),W[Y+ae+1+G]=ie[ae];while(++ae<ie.length&&ae+Y+1+G<W.length);break}if(W[1]===5&&Y+G>=2||W[1]===2&&Y+G>=5)break;W[1]&&(G=1)}while(++Y+L<R.length&&Y+G<W.length);for(let ie=2;ie<W.length;++ie)W[ie]===-1&&(W[ie]=0);switch(W[0]){case 38:B.fg=this._updateAttrColor(B.fg,W[1],W[3],W[4],W[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,W[1],W[3],W[4],W[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,W[1],W[3],W[4],W[5])}return Y}_processUnderline(R,L){L.extended=L.extended.clone(),(!~R||R>5)&&(R=1),L.extended.underlineStyle=R,L.fg|=268435456,R===0&&(L.fg&=-268435457),L.updateExtended()}_processSGR0(R){R.fg=m.DEFAULT_ATTR_DATA.fg,R.bg=m.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const L=R.length;let B;const W=this._curAttrData;for(let G=0;G<L;G++)B=R.params[G],B>=30&&B<=37?(W.fg&=-50331904,W.fg|=16777216|B-30):B>=40&&B<=47?(W.bg&=-50331904,W.bg|=16777216|B-40):B>=90&&B<=97?(W.fg&=-50331904,W.fg|=16777224|B-90):B>=100&&B<=107?(W.bg&=-50331904,W.bg|=16777224|B-100):B===0?this._processSGR0(W):B===1?W.fg|=134217728:B===3?W.bg|=67108864:B===4?(W.fg|=268435456,this._processUnderline(R.hasSubParams(G)?R.getSubParams(G)[0]:1,W)):B===5?W.fg|=536870912:B===7?W.fg|=67108864:B===8?W.fg|=1073741824:B===9?W.fg|=2147483648:B===2?W.bg|=134217728:B===21?this._processUnderline(2,W):B===22?(W.fg&=-134217729,W.bg&=-134217729):B===23?W.bg&=-67108865:B===24?(W.fg&=-268435457,this._processUnderline(0,W)):B===25?W.fg&=-536870913:B===27?W.fg&=-67108865:B===28?W.fg&=-1073741825:B===29?W.fg&=2147483647:B===39?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):B===49?(W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?G+=this._extractColor(R,G,W):B===53?W.bg|=1073741824:B===55?W.bg&=-1073741825:B===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):B===100?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${u.C0.ESC}[0n`);break;case 6:const L=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[${L};${B}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const L=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${u.C0.ESC}[?${L};${B}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const L=R.params[0]||1;switch(L){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=L%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(R){const L=R.params[0]||1;let B;return(R.length<2||(B=R.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>L&&(this._activeBuffer.scrollTop=L-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(R){if(!I(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const L=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:L!==2&&this._onRequestWindowsOptionsReport.fire(k.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(k.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${u.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:L!==0&&L!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),L!==0&&L!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:L!==0&&L!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),L!==0&&L!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const L=[],B=R.split(";");for(;B.length>1;){const W=B.shift(),G=B.shift();if(/^\d+$/.exec(W)){const Y=parseInt(W);if($(Y))if(G==="?")L.push({type:0,index:Y});else{const ie=(0,M.parseColor)(G);ie&&L.push({type:1,index:Y,color:ie})}}}return L.length&&this._onColor.fire(L),!0}setHyperlink(R){const L=R.split(";");return!(L.length<2)&&(L[1]?this._createHyperlink(L[0],L[1]):!L[0]&&this._finishHyperlink())}_createHyperlink(R,L){this._getCurrentLinkId()&&this._finishHyperlink();const B=R.split(":");let W;const G=B.findIndex(Y=>Y.startsWith("id="));return G!==-1&&(W=B[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:L}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,L){const B=R.split(";");for(let W=0;W<B.length&&!(L>=this._specialColors.length);++W,++L)if(B[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[L]}]);else{const G=(0,M.parseColor)(B[W]);G&&this._onColor.fire([{type:1,index:this._specialColors[L],color:G}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const L=[],B=R.split(";");for(let W=0;W<B.length;++W)if(/^\d+$/.exec(B[W])){const G=parseInt(B[W]);$(G)&&L.push({type:2,index:G})}return L.length&&this._onColor.fire(L),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,f.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(T[R[0]],f.CHARSETS[R[1]]||f.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new _.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let L=0;L<this._bufferService.rows;++L){const B=this._activeBuffer.ybase+this._activeBuffer.y+L,W=this._activeBuffer.lines.get(B);W&&(W.fill(R),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,L){const B=this._bufferService.buffer,W=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${u.C0.ESC}${G}${u.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,L){this._dirtyRowTracker.markRangeDirty(R,L)}}a.InputHandler=F;let z=class{constructor(V){this._bufferService=V,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(V){V<this.start?this.start=V:V>this.end&&(this.end=V)}markRangeDirty(V,R){V>R&&(j=V,V=R,R=j),V<this.start&&(this.start=V),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function $(V){return 0<=V&&V<256}z=c([d(0,S.IBufferService)],z)},844:(o,a)=>{function l(c){for(const d of c)d.dispose();c.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const d=this._disposables.indexOf(c);d!==-1&&this._disposables.splice(d,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var d;this._isDisposed||c===this._value||((d=this._value)===null||d===void 0||d.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},a.toDisposable=function(c){return{dispose:c}},a.disposeArray=l,a.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(d,u,f){this._data[d]||(this._data[d]={}),this._data[d][u]=f}get(d,u){return this._data[d]?this._data[d][u]:void 0}clear(){this._data={}}}a.TwoKeyMap=l,a.FourKeyMap=class{constructor(){this._data=new l}set(c,d,u,f,g){this._data.get(c,d)||this._data.set(c,d,new l),this._data.get(c,d).set(u,f,g)}get(c,d,u,f){var g;return(g=this._data.get(c,d))===null||g===void 0?void 0:g.get(u,f)}clear(){this._data.clear()}}},6114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof navigator>"u";const l=a.isNode?"node":navigator.userAgent,c=a.isNode?"node":navigator.platform;a.isFirefox=l.includes("Firefox"),a.isLegacyEdge=l.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(l),a.getSafariVersion=function(){if(!a.isSafari)return 0;const d=l.match(/Version\/(\d+)/);return d===null||d.length<2?0:parseInt(d[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),a.isIpad=c==="iPad",a.isIphone=c==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),a.isLinux=c.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(l)},6106:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SortedList=void 0;let l=0;a.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const d=this._getKey(c);if(d===void 0||(l=this._search(d),l===-1)||this._getKey(this._array[l])!==d)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===d);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,d){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do d(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let d=0,u=this._array.length-1;for(;u>=d;){let f=d+u>>1;const g=this._getKey(this._array[f]);if(g>c)u=f-1;else{if(!(g<c)){for(;f>0&&this._getKey(this._array[f-1])===c;)f--;return f}d=f+1}}return d}}},7226:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const c=l(6114);class d{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let v=0,y=0,m=g.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),y=Math.max(v,y),p=g.timeRemaining(),1.5*y>p)return m-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-v))}ms`),void this._start();m=p}this.clear()}}class u extends d{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const v=Date.now()+g;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}a.PriorityTaskQueue=u,a.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends d{_requestCallback(f){return requestIdleCallback(f)}_cancelCallback(f){cancelIdleCallback(f)}}:u,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(f){this._queue.clear(),this._queue.enqueue(f)}flush(){this._queue.flush()}}},9282:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;const c=l(643);a.updateWindowsModeWrappedState=function(d){const u=d.buffer.lines.get(d.buffer.ybase+d.buffer.y-1),f=u==null?void 0:u.get(d.cols-1),g=d.buffer.lines.get(d.buffer.ybase+d.buffer.y);g&&f&&(g.isWrapped=f[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&f[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(u){return[u>>>16&255,u>>>8&255,255&u]}static fromColorRGB(u){return(255&u[0])<<16|(255&u[1])<<8|255&u[2]}clone(){const u=new l;return u.fg=this.fg,u.bg=this.bg,u.extended=this.extended.clone(),u}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}a.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(u){this._ext=u}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(u){this._ext&=-469762049,this._ext|=u<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(u){this._ext&=-67108864,this._ext|=67108863&u}get urlId(){return this._urlId}set urlId(u){this._urlId=u}constructor(u=0,f=0){this._ext=0,this._urlId=0,this._ext=u,this._urlId=f}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=c},9092:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buffer=a.MAX_BUFFER_SIZE=void 0;const c=l(6349),d=l(7226),u=l(3734),f=l(8437),g=l(4634),v=l(511),y=l(643),m=l(4863),p=l(7116);a.MAX_BUFFER_SIZE=4294967295,a.Buffer=class{constructor(x,_,b){this._hasScrollback=x,this._optionsService=_,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=f.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=v.CellData.fromCharData([0,y.NULL_CELL_CHAR,y.NULL_CELL_WIDTH,y.NULL_CELL_CODE]),this._whitespaceCell=v.CellData.fromCharData([0,y.WHITESPACE_CELL_CHAR,y.WHITESPACE_CELL_WIDTH,y.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new d.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(x){return x?(this._nullCell.fg=x.fg,this._nullCell.bg=x.bg,this._nullCell.extended=x.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new u.ExtendedAttrs),this._nullCell}getWhitespaceCell(x){return x?(this._whitespaceCell.fg=x.fg,this._whitespaceCell.bg=x.bg,this._whitespaceCell.extended=x.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new u.ExtendedAttrs),this._whitespaceCell}getBlankLine(x,_){return new f.BufferLine(this._bufferService.cols,this.getNullCell(x),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const x=this.ybase+this.y-this.ydisp;return x>=0&&x<this._rows}_getCorrectBufferLength(x){if(!this._hasScrollback)return x;const _=x+this._optionsService.rawOptions.scrollback;return _>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:_}fillViewportRows(x){if(this.lines.length===0){x===void 0&&(x=f.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(x))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA);let S=0;const C=this._getCorrectBufferLength(_);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<x)for(let M=0;M<this.lines.length;M++)S+=+this.lines.get(M).resize(x,b);let A=0;if(this._rows<_)for(let M=this._rows;M<_;M++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new f.BufferLine(x,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+A+1?(this.ybase--,A++,this.ydisp>0&&this.ydisp--):this.lines.push(new f.BufferLine(x,b)));else for(let M=this._rows;M>_;M--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const M=this.lines.length-C;M>0&&(this.lines.trimStart(M),this.ybase=Math.max(this.ybase-M,0),this.ydisp=Math.max(this.ydisp-M,0),this.savedY=Math.max(this.savedY-M,0)),this.lines.maxLength=C}this.x=Math.min(this.x,x-1),this.y=Math.min(this.y,_-1),A&&(this.y+=A),this.savedX=Math.min(this.savedX,x-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(x,_),this._cols>x))for(let A=0;A<this.lines.length;A++)S+=+this.lines.get(A).resize(x,b);this._cols=x,this._rows=_,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let x=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,x=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return x}get _isReflowEnabled(){const x=this._optionsService.rawOptions.windowsPty;return x&&x.buildNumber?this._hasScrollback&&x.backend==="conpty"&&x.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(x,_){this._cols!==x&&(x>this._cols?this._reflowLarger(x,_):this._reflowSmaller(x,_))}_reflowLarger(x,_){const b=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,x,this.ybase+this.y,this.getNullCell(f.DEFAULT_ATTR_DATA));if(b.length>0){const S=(0,g.reflowLargerCreateNewLayout)(this.lines,b);(0,g.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(x,_,S.countRemoved)}}_reflowLargerAdjustViewport(x,_,b){const S=this.getNullCell(f.DEFAULT_ATTR_DATA);let C=b;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new f.BufferLine(x,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(x,_){const b=this.getNullCell(f.DEFAULT_ATTR_DATA),S=[];let C=0;for(let A=this.lines.length-1;A>=0;A--){let M=this.lines.get(A);if(!M||!M.isWrapped&&M.getTrimmedLength()<=x)continue;const T=[M];for(;M.isWrapped&&A>0;)M=this.lines.get(--A),T.unshift(M);const N=this.ybase+this.y;if(N>=A&&N<A+T.length)continue;const I=T[T.length-1].getTrimmedLength(),k=(0,g.reflowSmallerGetNewLineLengths)(T,this._cols,x),j=k.length-T.length;let F;F=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+j):Math.max(0,this.lines.length-this.lines.maxLength+j);const z=[];for(let W=0;W<j;W++){const G=this.getBlankLine(f.DEFAULT_ATTR_DATA,!0);z.push(G)}z.length>0&&(S.push({start:A+T.length+C,newLines:z}),C+=z.length),T.push(...z);let $=k.length-1,V=k[$];V===0&&($--,V=k[$]);let R=T.length-j-1,L=I;for(;R>=0;){const W=Math.min(L,V);if(T[$]===void 0)break;if(T[$].copyCellsFrom(T[R],L-W,V-W,W,!0),V-=W,V===0&&($--,V=k[$]),L-=W,L===0){R--;const G=Math.max(R,0);L=(0,g.getWrappedLineTrimmedLength)(T,G,this._cols)}}for(let W=0;W<T.length;W++)k[W]<x&&T[W].setCell(k[W],b);let B=j-F;for(;B-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+j,this.ybase+_-1)}if(S.length>0){const A=[],M=[];for(let $=0;$<this.lines.length;$++)M.push(this.lines.get($));const T=this.lines.length;let N=T-1,I=0,k=S[I];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let j=0;for(let $=Math.min(this.lines.maxLength-1,T+C-1);$>=0;$--)if(k&&k.start>N+j){for(let V=k.newLines.length-1;V>=0;V--)this.lines.set($--,k.newLines[V]);$++,A.push({index:N+1,amount:k.newLines.length}),j+=k.newLines.length,k=S[++I]}else this.lines.set($,M[N--]);let F=0;for(let $=A.length-1;$>=0;$--)A[$].index+=F,this.lines.onInsertEmitter.fire(A[$]),F+=A[$].amount;const z=Math.max(0,T+C-this.lines.maxLength);z>0&&this.lines.onTrimEmitter.fire(z)}}translateBufferLineToString(x,_,b=0,S){const C=this.lines.get(x);return C?C.translateToString(_,b,S):""}getWrappedRangeForLine(x){let _=x,b=x;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:_,last:b}}setupTabStops(x){for(x!=null?this.tabs[x]||(x=this.prevStop(x)):(this.tabs={},x=0);x<this._cols;x+=this._optionsService.rawOptions.tabStopWidth)this.tabs[x]=!0}prevStop(x){for(x==null&&(x=this.x);!this.tabs[--x]&&x>0;);return x>=this._cols?this._cols-1:x<0?0:x}nextStop(x){for(x==null&&(x=this.x);!this.tabs[++x]&&x<this._cols;);return x>=this._cols?this._cols-1:x<0?0:x}clearMarkers(x){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===x&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let x=0;x<this.markers.length;x++)this.markers[x].dispose(),this.markers.splice(x--,1);this._isClearing=!1}addMarker(x){const _=new m.Marker(x);return this.markers.push(_),_.register(this.lines.onTrim(b=>{_.line-=b,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(b=>{_.line>=b.index&&(_.line+=b.amount)})),_.register(this.lines.onDelete(b=>{_.line>=b.index&&_.line<b.index+b.amount&&_.dispose(),_.line>b.index&&(_.line-=b.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(x){this._isClearing||this.markers.splice(this.markers.indexOf(x),1)}}},8437:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;const c=l(3734),d=l(511),u=l(643),f=l(482);a.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let g=0;class v{constructor(m,p,x=!1){this.isWrapped=x,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const _=p||d.CellData.fromCharData([0,u.NULL_CELL_CHAR,u.NULL_CELL_WIDTH,u.NULL_CELL_CODE]);for(let b=0;b<m;++b)this.setCell(b,_);this.length=m}get(m){const p=this._data[3*m+0],x=2097151&p;return[this._data[3*m+1],2097152&p?this._combined[m]:x?(0,f.stringFromCodePoint)(x):"",p>>22,2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):x]}set(m,p){this._data[3*m+1]=p[u.CHAR_DATA_ATTR_INDEX],p[u.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=p[1],this._data[3*m+0]=2097152|m|p[u.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=p[u.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[u.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&p}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m]:2097151&p?(0,f.stringFromCodePoint)(2097151&p):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,p){return g=3*m,p.content=this._data[g+0],p.fg=this._data[g+1],p.bg=this._data[g+2],2097152&p.content&&(p.combinedData=this._combined[m]),268435456&p.bg&&(p.extended=this._extendedAttrs[m]),p}setCell(m,p){2097152&p.content&&(this._combined[m]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[m]=p.extended),this._data[3*m+0]=p.content,this._data[3*m+1]=p.fg,this._data[3*m+2]=p.bg}setCellFromCodePoint(m,p,x,_,b,S){268435456&b&&(this._extendedAttrs[m]=S),this._data[3*m+0]=p|x<<22,this._data[3*m+1]=_,this._data[3*m+2]=b}addCodepointToCell(m,p){let x=this._data[3*m+0];2097152&x?this._combined[m]+=(0,f.stringFromCodePoint)(p):(2097151&x?(this._combined[m]=(0,f.stringFromCodePoint)(2097151&x)+(0,f.stringFromCodePoint)(p),x&=-2097152,x|=2097152):x=p|4194304,this._data[3*m+0]=x)}insertCells(m,p,x,_){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length-m){const b=new d.CellData;for(let S=this.length-m-p-1;S>=0;--S)this.setCell(m+p+S,this.loadCell(m+S,b));for(let S=0;S<p;++S)this.setCell(m+S,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}deleteCells(m,p,x,_){if(m%=this.length,p<this.length-m){const b=new d.CellData;for(let S=0;S<this.length-m-p;++S)this.setCell(m+S,this.loadCell(m+p+S,b));for(let S=this.length-p;S<this.length;++S)this.setCell(S,x)}else for(let b=m;b<this.length;++b)this.setCell(b,x);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}replaceCells(m,p,x,_,b=!1){if(b)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&!this.isProtected(p)&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.isProtected(m)||this.setCell(m,x),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.setCell(m++,x)}resize(m,p){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const x=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*x)this._data=new Uint32Array(this._data.buffer,0,x);else{const _=new Uint32Array(x);_.set(this._data),this._data=_}for(let _=this.length;_<m;++_)this.setCell(_,p)}else{this._data=this._data.subarray(0,x);const _=Object.keys(this._combined);for(let S=0;S<_.length;S++){const C=parseInt(_[S],10);C>=m&&delete this._combined[C]}const b=Object.keys(this._extendedAttrs);for(let S=0;S<b.length;S++){const C=parseInt(b[S],10);C>=m&&delete this._extendedAttrs[C]}}return this.length=m,4*x*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,p=!1){if(p)for(let x=0;x<this.length;++x)this.isProtected(x)||this.setCell(x,m);else{this._combined={},this._extendedAttrs={};for(let x=0;x<this.length;++x)this.setCell(x,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const p in m._combined)this._combined[p]=m._combined[p];this._extendedAttrs={};for(const p in m._extendedAttrs)this._extendedAttrs[p]=m._extendedAttrs[p];this.isWrapped=m.isWrapped}clone(){const m=new v(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const p in this._combined)m._combined[p]=this._combined[p];for(const p in this._extendedAttrs)m._extendedAttrs[p]=this._extendedAttrs[p];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,p,x,_,b){const S=m._data;if(b)for(let A=_-1;A>=0;A--){for(let M=0;M<3;M++)this._data[3*(x+A)+M]=S[3*(p+A)+M];268435456&S[3*(p+A)+2]&&(this._extendedAttrs[x+A]=m._extendedAttrs[p+A])}else for(let A=0;A<_;A++){for(let M=0;M<3;M++)this._data[3*(x+A)+M]=S[3*(p+A)+M];268435456&S[3*(p+A)+2]&&(this._extendedAttrs[x+A]=m._extendedAttrs[p+A])}const C=Object.keys(m._combined);for(let A=0;A<C.length;A++){const M=parseInt(C[A],10);M>=p&&(this._combined[M-p+x]=m._combined[M])}}translateToString(m=!1,p=0,x=this.length){m&&(x=Math.min(x,this.getTrimmedLength()));let _="";for(;p<x;){const b=this._data[3*p+0],S=2097151&b;_+=2097152&b?this._combined[p]:S?(0,f.stringFromCodePoint)(S):u.WHITESPACE_CELL_CHAR,p+=b>>22||1}return _}}a.BufferLine=v},4841:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(o,a)=>{function l(c,d,u){if(d===c.length-1)return c[d].getTrimmedLength();const f=!c[d].hasContent(u-1)&&c[d].getWidth(u-1)===1,g=c[d+1].getWidth(0)===2;return f&&g?u-1:u}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(c,d,u,f,g){const v=[];for(let y=0;y<c.length-1;y++){let m=y,p=c.get(++m);if(!p.isWrapped)continue;const x=[c.get(y)];for(;m<c.length&&p.isWrapped;)x.push(p),p=c.get(++m);if(f>=y&&f<m){y+=x.length-1;continue}let _=0,b=l(x,_,d),S=1,C=0;for(;S<x.length;){const M=l(x,S,d),T=M-C,N=u-b,I=Math.min(T,N);x[_].copyCellsFrom(x[S],C,b,I,!1),b+=I,b===u&&(_++,b=0),C+=I,C===M&&(S++,C=0),b===0&&_!==0&&x[_-1].getWidth(u-1)===2&&(x[_].copyCellsFrom(x[_-1],u-1,b++,1,!1),x[_-1].setCell(u-1,g))}x[_].replaceCells(b,u,g);let A=0;for(let M=x.length-1;M>0&&(M>_||x[M].getTrimmedLength()===0);M--)A++;A>0&&(v.push(y+x.length-A),v.push(A)),y+=x.length-1}return v},a.reflowLargerCreateNewLayout=function(c,d){const u=[];let f=0,g=d[f],v=0;for(let y=0;y<c.length;y++)if(g===y){const m=d[++f];c.onDeleteEmitter.fire({index:y-v,amount:m}),y+=m-1,v+=m,g=d[++f]}else u.push(y);return{layout:u,countRemoved:v}},a.reflowLargerApplyNewLayout=function(c,d){const u=[];for(let f=0;f<d.length;f++)u.push(c.get(d[f]));for(let f=0;f<u.length;f++)c.set(f,u[f]);c.length=d.length},a.reflowSmallerGetNewLineLengths=function(c,d,u){const f=[],g=c.map((p,x)=>l(c,x,d)).reduce((p,x)=>p+x);let v=0,y=0,m=0;for(;m<g;){if(g-m<u){f.push(g-m);break}v+=u;const p=l(c,y,d);v>p&&(v-=p,y++);const x=c[y].getWidth(v-1)===2;x&&v--;const _=x?u-1:u;f.push(_),m+=_}return f},a.getWrappedLineTrimmedLength=l},5295:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;const c=l(8460),d=l(844),u=l(9092);class f extends d.Disposable{constructor(v,y){super(),this._optionsService=v,this._bufferService=y,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new u.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new u.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(v,y){this._normal.resize(v,y),this._alt.resize(v,y),this.setupTabStops(v)}setupTabStops(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)}}a.BufferSet=f},511:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const c=l(482),d=l(643),u=l(3734);class f extends u.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new u.ExtendedAttrs,this.combinedData=""}static fromCharData(v){const y=new f;return y.setFromCharData(v),y}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[d.CHAR_DATA_ATTR_INDEX],this.bg=0;let y=!1;if(v[d.CHAR_DATA_CHAR_INDEX].length>2)y=!0;else if(v[d.CHAR_DATA_CHAR_INDEX].length===2){const m=v[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const p=v[d.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(m-55296)+p-56320+65536|v[d.CHAR_DATA_WIDTH_INDEX]<<22:y=!0}else y=!0}else this.content=v[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[d.CHAR_DATA_WIDTH_INDEX]<<22;y&&(this.combinedData=v[d.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[d.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=f},643:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;const c=l(8460),d=l(844);class u{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=u._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,d.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}a.Marker=u,u._nextId=1},7116:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},a.CHARSETS.A={"#":""},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},a.CHARSETS.C=a.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.E=a.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},a.CHARSETS.H=a.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(o,a)=>{var l,c,d;Object.defineProperty(a,"__esModule",{value:!0}),a.C1_ESCAPED=a.C1=a.C0=void 0,function(u){u.NUL="\0",u.SOH="",u.STX="",u.ETX="",u.EOT="",u.ENQ="",u.ACK="",u.BEL="\x07",u.BS="\b",u.HT="	",u.LF=`
`,u.VT="\v",u.FF="\f",u.CR="\r",u.SO="",u.SI="",u.DLE="",u.DC1="",u.DC2="",u.DC3="",u.DC4="",u.NAK="",u.SYN="",u.ETB="",u.CAN="",u.EM="",u.SUB="",u.ESC="\x1B",u.FS="",u.GS="",u.RS="",u.US="",u.SP=" ",u.DEL=""}(l||(a.C0=l={})),function(u){u.PAD="",u.HOP="",u.BPH="",u.NBH="",u.IND="",u.NEL="",u.SSA="",u.ESA="",u.HTS="",u.HTJ="",u.VTS="",u.PLD="",u.PLU="",u.RI="",u.SS2="",u.SS3="",u.DCS="",u.PU1="",u.PU2="",u.STS="",u.CCH="",u.MW="",u.SPA="",u.EPA="",u.SOS="",u.SGCI="",u.SCI="",u.CSI="",u.ST="",u.OSC="",u.PM="",u.APC=""}(c||(a.C1=c={})),function(u){u.ST=`${l.ESC}\\`}(d||(a.C1_ESCAPED=d={}))},7399:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;const c=l(2584),d={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(u,f,g,v){const y={type:0,cancel:!1,key:void 0},m=(u.shiftKey?1:0)|(u.altKey?2:0)|(u.ctrlKey?4:0)|(u.metaKey?8:0);switch(u.keyCode){case 0:u.key==="UIKeyInputUpArrow"?y.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A":u.key==="UIKeyInputLeftArrow"?y.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D":u.key==="UIKeyInputRightArrow"?y.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C":u.key==="UIKeyInputDownArrow"&&(y.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(u.altKey){y.key=c.C0.ESC+c.C0.DEL;break}y.key=c.C0.DEL;break;case 9:if(u.shiftKey){y.key=c.C0.ESC+"[Z";break}y.key=c.C0.HT,y.cancel=!0;break;case 13:y.key=u.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,y.cancel=!0;break;case 27:y.key=c.C0.ESC,u.altKey&&(y.key=c.C0.ESC+c.C0.ESC),y.cancel=!0;break;case 37:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"D",y.key===c.C0.ESC+"[1;3D"&&(y.key=c.C0.ESC+(g?"b":"[1;5D"))):y.key=f?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"C",y.key===c.C0.ESC+"[1;3C"&&(y.key=c.C0.ESC+(g?"f":"[1;5C"))):y.key=f?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"A",g||y.key!==c.C0.ESC+"[1;3A"||(y.key=c.C0.ESC+"[1;5A")):y.key=f?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(u.metaKey)break;m?(y.key=c.C0.ESC+"[1;"+(m+1)+"B",g||y.key!==c.C0.ESC+"[1;3B"||(y.key=c.C0.ESC+"[1;5B")):y.key=f?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:u.shiftKey||u.ctrlKey||(y.key=c.C0.ESC+"[2~");break;case 46:y.key=m?c.C0.ESC+"[3;"+(m+1)+"~":c.C0.ESC+"[3~";break;case 36:y.key=m?c.C0.ESC+"[1;"+(m+1)+"H":f?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:y.key=m?c.C0.ESC+"[1;"+(m+1)+"F":f?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:u.shiftKey?y.type=2:u.ctrlKey?y.key=c.C0.ESC+"[5;"+(m+1)+"~":y.key=c.C0.ESC+"[5~";break;case 34:u.shiftKey?y.type=3:u.ctrlKey?y.key=c.C0.ESC+"[6;"+(m+1)+"~":y.key=c.C0.ESC+"[6~";break;case 112:y.key=m?c.C0.ESC+"[1;"+(m+1)+"P":c.C0.ESC+"OP";break;case 113:y.key=m?c.C0.ESC+"[1;"+(m+1)+"Q":c.C0.ESC+"OQ";break;case 114:y.key=m?c.C0.ESC+"[1;"+(m+1)+"R":c.C0.ESC+"OR";break;case 115:y.key=m?c.C0.ESC+"[1;"+(m+1)+"S":c.C0.ESC+"OS";break;case 116:y.key=m?c.C0.ESC+"[15;"+(m+1)+"~":c.C0.ESC+"[15~";break;case 117:y.key=m?c.C0.ESC+"[17;"+(m+1)+"~":c.C0.ESC+"[17~";break;case 118:y.key=m?c.C0.ESC+"[18;"+(m+1)+"~":c.C0.ESC+"[18~";break;case 119:y.key=m?c.C0.ESC+"[19;"+(m+1)+"~":c.C0.ESC+"[19~";break;case 120:y.key=m?c.C0.ESC+"[20;"+(m+1)+"~":c.C0.ESC+"[20~";break;case 121:y.key=m?c.C0.ESC+"[21;"+(m+1)+"~":c.C0.ESC+"[21~";break;case 122:y.key=m?c.C0.ESC+"[23;"+(m+1)+"~":c.C0.ESC+"[23~";break;case 123:y.key=m?c.C0.ESC+"[24;"+(m+1)+"~":c.C0.ESC+"[24~";break;default:if(!u.ctrlKey||u.shiftKey||u.altKey||u.metaKey)if(g&&!v||!u.altKey||u.metaKey)!g||u.altKey||u.ctrlKey||u.shiftKey||!u.metaKey?u.key&&!u.ctrlKey&&!u.altKey&&!u.metaKey&&u.keyCode>=48&&u.key.length===1?y.key=u.key:u.key&&u.ctrlKey&&(u.key==="_"&&(y.key=c.C0.US),u.key==="@"&&(y.key=c.C0.NUL)):u.keyCode===65&&(y.type=1);else{const p=d[u.keyCode],x=p==null?void 0:p[u.shiftKey?1:0];if(x)y.key=c.C0.ESC+x;else if(u.keyCode>=65&&u.keyCode<=90){const _=u.ctrlKey?u.keyCode-64:u.keyCode+32;let b=String.fromCharCode(_);u.shiftKey&&(b=b.toUpperCase()),y.key=c.C0.ESC+b}else if(u.keyCode===32)y.key=c.C0.ESC+(u.ctrlKey?c.C0.NUL:" ");else if(u.key==="Dead"&&u.code.startsWith("Key")){let _=u.code.slice(3,4);u.shiftKey||(_=_.toLowerCase()),y.key=c.C0.ESC+_,y.cancel=!0}}else u.keyCode>=65&&u.keyCode<=90?y.key=String.fromCharCode(u.keyCode-64):u.keyCode===32?y.key=c.C0.NUL:u.keyCode>=51&&u.keyCode<=55?y.key=String.fromCharCode(u.keyCode-51+27):u.keyCode===56?y.key=c.C0.DEL:u.keyCode===219?y.key=c.C0.ESC:u.keyCode===220?y.key=c.C0.FS:u.keyCode===221&&(y.key=c.C0.GS)}return y}},482:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},a.utf32ToString=function(l,c=0,d=l.length){let u="";for(let f=c;f<d;++f){let g=l[f];g>65535?(g-=65536,u+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):u+=String.fromCharCode(g)}return u},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const d=l.length;if(!d)return 0;let u=0,f=0;if(this._interim){const g=l.charCodeAt(f++);56320<=g&&g<=57343?c[u++]=1024*(this._interim-55296)+g-56320+65536:(c[u++]=this._interim,c[u++]=g),this._interim=0}for(let g=f;g<d;++g){const v=l.charCodeAt(g);if(55296<=v&&v<=56319){if(++g>=d)return this._interim=v,u;const y=l.charCodeAt(g);56320<=y&&y<=57343?c[u++]=1024*(v-55296)+y-56320+65536:(c[u++]=v,c[u++]=y)}else v!==65279&&(c[u++]=v)}return u}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const d=l.length;if(!d)return 0;let u,f,g,v,y=0,m=0,p=0;if(this.interim[0]){let b=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let C,A=0;for(;(C=63&this.interim[++A])&&A<4;)S<<=6,S|=C;const M=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,T=M-A;for(;p<T;){if(p>=d)return 0;if(C=l[p++],(192&C)!=128){p--,b=!0;break}this.interim[A++]=C,S<<=6,S|=63&C}b||(M===2?S<128?p--:c[y++]=S:M===3?S<2048||S>=55296&&S<=57343||S===65279||(c[y++]=S):S<65536||S>1114111||(c[y++]=S)),this.interim.fill(0)}const x=d-4;let _=p;for(;_<d;){for(;!(!(_<x)||128&(u=l[_])||128&(f=l[_+1])||128&(g=l[_+2])||128&(v=l[_+3]));)c[y++]=u,c[y++]=f,c[y++]=g,c[y++]=v,_+=4;if(u=l[_++],u<128)c[y++]=u;else if((224&u)==192){if(_>=d)return this.interim[0]=u,y;if(f=l[_++],(192&f)!=128){_--;continue}if(m=(31&u)<<6|63&f,m<128){_--;continue}c[y++]=m}else if((240&u)==224){if(_>=d)return this.interim[0]=u,y;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=d)return this.interim[0]=u,this.interim[1]=f,y;if(g=l[_++],(192&g)!=128){_--;continue}if(m=(15&u)<<12|(63&f)<<6|63&g,m<2048||m>=55296&&m<=57343||m===65279)continue;c[y++]=m}else if((248&u)==240){if(_>=d)return this.interim[0]=u,y;if(f=l[_++],(192&f)!=128){_--;continue}if(_>=d)return this.interim[0]=u,this.interim[1]=f,y;if(g=l[_++],(192&g)!=128){_--;continue}if(_>=d)return this.interim[0]=u,this.interim[1]=f,this.interim[2]=g,y;if(v=l[_++],(192&v)!=128){_--;continue}if(m=(7&u)<<18|(63&f)<<12|(63&g)<<6|63&v,m<65536||m>1114111)continue;c[y++]=m}}return y}}},225:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let d;a.UnicodeV6=class{constructor(){if(this.version="6",!d){d=new Uint8Array(65536),d.fill(1),d[0]=0,d.fill(0,1,32),d.fill(0,127,160),d.fill(2,4352,4448),d[9001]=2,d[9002]=2,d.fill(2,11904,42192),d[12351]=1,d.fill(2,44032,55204),d.fill(2,63744,64256),d.fill(2,65040,65050),d.fill(2,65072,65136),d.fill(2,65280,65377),d.fill(2,65504,65511);for(let u=0;u<l.length;++u)d.fill(0,l[u][0],l[u][1]+1)}}wcwidth(u){return u<32?0:u<127?1:u<65536?d[u]:function(f,g){let v,y=0,m=g.length-1;if(f<g[0][0]||f>g[m][1])return!1;for(;m>=y;)if(v=y+m>>1,f>g[v][1])y=v+1;else{if(!(f<g[v][0]))return!0;m=v-1}return!1}(u,c)?0:u>=131072&&u<=196605||u>=196608&&u<=262141?2:1}}},5981:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;const c=l(8460),d=l(844);class u extends d.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,v){if(v!==void 0&&this._syncCalls>v)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let y;for(this._isSyncWriting=!0;y=this._writeBuffer.shift();){this._action(y);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,v){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v)}_innerWrite(g=0,v=!0){const y=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],p=this._action(m,v);if(p){const _=b=>Date.now()-y>=12?setTimeout(()=>this._innerWrite(0,b)):this._innerWrite(y,b);return void p.catch(b=>(queueMicrotask(()=>{throw b}),Promise.resolve(!1))).then(_)}const x=this._callbacks[this._bufferOffset];if(x&&x(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-y>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}a.WriteBuffer=u},5941:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function d(u,f){const g=u.toString(16),v=g.length<2?"0"+g:g;switch(f){case 4:return g[0];case 8:return v;case 12:return(v+v).slice(0,3);default:return v+v}}a.parseColor=function(u){if(!u)return;let f=u.toLowerCase();if(f.indexOf("rgb:")===0){f=f.slice(4);const g=l.exec(f);if(g){const v=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/v*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/v*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/v*255)]}}else if(f.indexOf("#")===0&&(f=f.slice(1),c.exec(f)&&[3,6,9,12].includes(f.length))){const g=f.length/3,v=[0,0,0];for(let y=0;y<3;++y){const m=parseInt(f.slice(g*y,g*y+g),16);v[y]=g===1?m<<4:g===2?m:g===3?m>>4:m>>8}return v}},a.toRgbString=function(u,f=16){const[g,v,y]=u;return`rgb:${d(g,f)}/${d(v,f)}/${d(y,f)}`}},5770:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;const c=l(482),d=l(8742),u=l(5770),f=[];a.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=f,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=f}registerHandler(v,y){this._handlers[v]===void 0&&(this._handlers[v]=[]);const m=this._handlers[v];return m.push(y),{dispose:()=>{const p=m.indexOf(y);p!==-1&&m.splice(p,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}reset(){if(this._active.length)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].unhook(!1);this._stack.paused=!1,this._active=f,this._ident=0}hook(v,y){if(this.reset(),this._ident=v,this._active=this._handlers[v]||f,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(y);else this._handlerFb(this._ident,"HOOK",y)}put(v,y,m){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(v,y,m);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(v,y,m))}unhook(v,y=!0){if(this._active.length){let m=!1,p=this._active.length-1,x=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,m=y,x=this._stack.fallThrough,this._stack.paused=!1),!x&&m===!1){for(;p>=0&&(m=this._active[p].unhook(v),m!==!0);p--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,m;p--}for(;p>=0;p--)if(m=this._active[p].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",v);this._active=f,this._ident=0}};const g=new d.Params;g.addParam(0),a.DcsHandler=class{constructor(v){this._handler=v,this._data="",this._params=g,this._hitLimit=!1}hook(v){this._params=v.length>1||v.params[0]?v.clone():g,this._data="",this._hitLimit=!1}put(v,y,m){this._hitLimit||(this._data+=(0,c.utf32ToString)(v,y,m),this._data.length>u.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(v){let y=!1;if(this._hitLimit)y=!1;else if(v&&(y=this._handler(this._data,this._params),y instanceof Promise))return y.then(m=>(this._params=g,this._data="",this._hitLimit=!1,m));return this._params=g,this._data="",this._hitLimit=!1,y}}},2015:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;const c=l(844),d=l(8742),u=l(6242),f=l(6351);class g{constructor(p){this.table=new Uint8Array(p)}setDefault(p,x){this.table.fill(p<<4|x)}add(p,x,_,b){this.table[x<<8|p]=_<<4|b}addMany(p,x,_,b){for(let S=0;S<p.length;S++)this.table[x<<8|p[S]]=_<<4|b}}a.TransitionTable=g;const v=160;a.VT500_TRANSITION_TABLE=function(){const m=new g(4095),p=Array.apply(null,Array(256)).map((A,M)=>M),x=(A,M)=>p.slice(A,M),_=x(32,127),b=x(0,24);b.push(25),b.push.apply(b,x(28,32));const S=x(0,14);let C;for(C in m.setDefault(1,0),m.addMany(_,0,2,0),S)m.addMany([24,26,153,154],C,3,0),m.addMany(x(128,144),C,3,0),m.addMany(x(144,152),C,3,0),m.add(156,C,0,0),m.add(27,C,11,1),m.add(157,C,4,8),m.addMany([152,158,159],C,0,7),m.add(155,C,11,3),m.add(144,C,11,9);return m.addMany(b,0,3,0),m.addMany(b,1,3,1),m.add(127,1,0,1),m.addMany(b,8,0,8),m.addMany(b,3,3,3),m.add(127,3,0,3),m.addMany(b,4,3,4),m.add(127,4,0,4),m.addMany(b,6,3,6),m.addMany(b,5,3,5),m.add(127,5,0,5),m.addMany(b,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(_,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(x(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(_,7,0,7),m.addMany(b,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(x(64,127),3,7,0),m.addMany(x(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(x(48,60),4,8,4),m.addMany(x(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(x(32,64),6,0,6),m.add(127,6,0,6),m.addMany(x(64,127),6,0,0),m.addMany(x(32,48),3,9,5),m.addMany(x(32,48),5,9,5),m.addMany(x(48,64),5,0,6),m.addMany(x(64,127),5,7,0),m.addMany(x(32,48),4,9,5),m.addMany(x(32,48),1,9,2),m.addMany(x(32,48),2,9,2),m.addMany(x(48,127),2,10,0),m.addMany(x(48,80),1,10,0),m.addMany(x(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(x(96,127),1,10,0),m.add(80,1,11,9),m.addMany(b,9,0,9),m.add(127,9,0,9),m.addMany(x(28,32),9,0,9),m.addMany(x(32,48),9,9,12),m.addMany(x(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(b,11,0,11),m.addMany(x(32,128),11,0,11),m.addMany(x(28,32),11,0,11),m.addMany(b,10,0,10),m.add(127,10,0,10),m.addMany(x(28,32),10,0,10),m.addMany(x(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(x(32,48),10,9,12),m.addMany(b,12,0,12),m.add(127,12,0,12),m.addMany(x(28,32),12,0,12),m.addMany(x(32,48),12,9,12),m.addMany(x(48,64),12,0,11),m.addMany(x(64,127),12,12,13),m.addMany(x(64,127),10,12,13),m.addMany(x(64,127),9,12,13),m.addMany(b,13,13,13),m.addMany(_,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(v,0,2,0),m.add(v,8,5,8),m.add(v,6,0,6),m.add(v,11,0,11),m.add(v,13,13,13),m}();class y extends c.Disposable{constructor(p=a.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new d.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(x,_,b)=>{},this._executeHandlerFb=x=>{},this._csiHandlerFb=(x,_)=>{},this._escHandlerFb=x=>{},this._errorHandlerFb=x=>x,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new u.OscParser),this._dcsParser=this.register(new f.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,x=[64,126]){let _=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=p.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<p.intermediates.length;++S){const C=p.intermediates.charCodeAt(S);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=C}}if(p.final.length!==1)throw new Error("final must be a single byte");const b=p.final.charCodeAt(0);if(x[0]>b||b>x[1])throw new Error(`final must be in range ${x[0]} .. ${x[1]}`);return _<<=8,_|=b,_}identToString(p){const x=[];for(;p;)x.push(String.fromCharCode(255&p)),p>>=8;return x.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,x){const _=this._identifier(p,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const b=this._escHandlers[_];return b.push(x),{dispose:()=>{const S=b.indexOf(x);S!==-1&&b.splice(S,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,x){this._executeHandlers[p.charCodeAt(0)]=x}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,x){const _=this._identifier(p);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const b=this._csiHandlers[_];return b.push(x),{dispose:()=>{const S=b.indexOf(x);S!==-1&&b.splice(S,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,x){return this._dcsParser.registerHandler(this._identifier(p),x)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,x){return this._oscParser.registerHandler(p,x)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,x,_,b,S){this._parseStack.state=p,this._parseStack.handlers=x,this._parseStack.handlerPos=_,this._parseStack.transition=b,this._parseStack.chunkPos=S}parse(p,x,_){let b,S=0,C=0,A=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,A=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const M=this._parseStack.handlers;let T=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&T>-1){for(;T>=0&&(b=M[T](this._params),b!==!0);T--)if(b instanceof Promise)return this._parseStack.handlerPos=T,b}this._parseStack.handlers=[];break;case 4:if(_===!1&&T>-1){for(;T>=0&&(b=M[T](),b!==!0);T--)if(b instanceof Promise)return this._parseStack.handlerPos=T,b}this._parseStack.handlers=[];break;case 6:if(S=p[this._parseStack.chunkPos],b=this._dcsParser.unhook(S!==24&&S!==26,_),b)return b;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=p[this._parseStack.chunkPos],b=this._oscParser.end(S!==24&&S!==26,_),b)return b;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,A=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let M=A;M<x;++M){switch(S=p[M],C=this._transitions.table[this.currentState<<8|(S<160?S:v)],C>>4){case 2:for(let j=M+1;;++j){if(j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,M,j),M=j-1;break}if(++j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,M,j),M=j-1;break}if(++j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,M,j),M=j-1;break}if(++j>=x||(S=p[j])<32||S>126&&S<v){this._printHandler(p,M,j),M=j-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:M,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const T=this._csiHandlers[this._collect<<8|S];let N=T?T.length-1:-1;for(;N>=0&&(b=T[N](this._params),b!==!0);N--)if(b instanceof Promise)return this._preserveStack(3,T,N,C,M),b;N<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++M<x&&(S=p[M])>47&&S<60);M--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const I=this._escHandlers[this._collect<<8|S];let k=I?I.length-1:-1;for(;k>=0&&(b=I[k](),b!==!0);k--)if(b instanceof Promise)return this._preserveStack(4,I,k,C,M),b;k<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let j=M+1;;++j)if(j>=x||(S=p[j])===24||S===26||S===27||S>127&&S<v){this._dcsParser.put(p,M,j),M=j-1;break}break;case 14:if(b=this._dcsParser.unhook(S!==24&&S!==26),b)return this._preserveStack(6,[],0,C,M),b;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let j=M+1;;j++)if(j>=x||(S=p[j])<32||S>127&&S<v){this._oscParser.put(p,M,j),M=j-1;break}break;case 6:if(b=this._oscParser.end(S!==24&&S!==26),b)return this._preserveStack(5,[],0,C,M),b;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}a.EscapeSequenceParser=y},6242:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;const c=l(5770),d=l(482),u=[];a.OscParser=class{constructor(){this._state=0,this._active=u,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(f,g){this._handlers[f]===void 0&&(this._handlers[f]=[]);const v=this._handlers[f];return v.push(g),{dispose:()=>{const y=v.indexOf(g);y!==-1&&v.splice(y,1)}}}clearHandler(f){this._handlers[f]&&delete this._handlers[f]}setHandlerFallback(f){this._handlerFb=f}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=u}reset(){if(this._state===2)for(let f=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;f>=0;--f)this._active[f].end(!1);this._stack.paused=!1,this._active=u,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||u,this._active.length)for(let f=this._active.length-1;f>=0;f--)this._active[f].start();else this._handlerFb(this._id,"START")}_put(f,g,v){if(this._active.length)for(let y=this._active.length-1;y>=0;y--)this._active[y].put(f,g,v);else this._handlerFb(this._id,"PUT",(0,d.utf32ToString)(f,g,v))}start(){this.reset(),this._state=1}put(f,g,v){if(this._state!==3){if(this._state===1)for(;g<v;){const y=f[g++];if(y===59){this._state=2,this._start();break}if(y<48||57<y)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+y-48}this._state===2&&v-g>0&&this._put(f,g,v)}}end(f,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let v=!1,y=this._active.length-1,m=!1;if(this._stack.paused&&(y=this._stack.loopPosition-1,v=g,m=this._stack.fallThrough,this._stack.paused=!1),!m&&v===!1){for(;y>=0&&(v=this._active[y].end(f),v!==!0);y--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!1,v;y--}for(;y>=0;y--)if(v=this._active[y].end(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=y,this._stack.fallThrough=!0,v}else this._handlerFb(this._id,"END",f);this._active=u,this._id=-1,this._state=0}}},a.OscHandler=class{constructor(f){this._handler=f,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(f,g,v){this._hitLimit||(this._data+=(0,d.utf32ToString)(f,g,v),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(f){let g=!1;if(this._hitLimit)g=!1;else if(f&&(g=this._handler(this._data),g instanceof Promise))return g.then(v=>(this._data="",this._hitLimit=!1,v));return this._data="",this._hitLimit=!1,g}}},8742:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;const l=2147483647;class c{static fromArray(u){const f=new c;if(!u.length)return f;for(let g=Array.isArray(u[0])?1:0;g<u.length;++g){const v=u[g];if(Array.isArray(v))for(let y=0;y<v.length;++y)f.addSubParam(v[y]);else f.addParam(v)}return f}constructor(u=32,f=32){if(this.maxLength=u,this.maxSubParamsLength=f,f>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(u),this.length=0,this._subParams=new Int32Array(f),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(u),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const u=new c(this.maxLength,this.maxSubParamsLength);return u.params.set(this.params),u.length=this.length,u._subParams.set(this._subParams),u._subParamsLength=this._subParamsLength,u._subParamsIdx.set(this._subParamsIdx),u._rejectDigits=this._rejectDigits,u._rejectSubDigits=this._rejectSubDigits,u._digitIsSub=this._digitIsSub,u}toArray(){const u=[];for(let f=0;f<this.length;++f){u.push(this.params[f]);const g=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];v-g>0&&u.push(Array.prototype.slice.call(this._subParams,g,v))}return u}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(u){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=u>l?l:u}}addSubParam(u){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(u<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=u>l?l:u,this._subParamsIdx[this.length-1]++}}hasSubParams(u){return(255&this._subParamsIdx[u])-(this._subParamsIdx[u]>>8)>0}getSubParams(u){const f=this._subParamsIdx[u]>>8,g=255&this._subParamsIdx[u];return g-f>0?this._subParams.subarray(f,g):null}getSubParamsAll(){const u={};for(let f=0;f<this.length;++f){const g=this._subParamsIdx[f]>>8,v=255&this._subParamsIdx[f];v-g>0&&(u[f]=this._subParams.slice(g,v))}return u}addDigit(u){let f;if(this._rejectDigits||!(f=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,v=g[f-1];g[f-1]=~v?Math.min(10*v+u,l):u}}a.Params=c},5741:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0,a.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const d={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(d),c.dispose=()=>this._wrappedAddonDispose(d),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let d=0;d<this._addons.length;d++)if(this._addons[d]===l){c=d;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;const c=l(3785),d=l(511);a.BufferApiView=class{constructor(u,f){this._buffer=u,this.type=f}init(u){return this._buffer=u,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(u){const f=this._buffer.lines.get(u);if(f)return new c.BufferLineApiView(f)}getNullCell(){return new d.CellData}}},3785:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;const c=l(511);a.BufferLineApiView=class{constructor(d){this._line=d}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(d,u){if(!(d<0||d>=this._line.length))return u?(this._line.loadCell(d,u),u):this._line.loadCell(d,new c.CellData)}translateToString(d,u,f){return this._line.translateToString(d,u,f)}}},8285:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;const c=l(8771),d=l(8460),u=l(844);class f extends u.Disposable{constructor(v){super(),this._core=v,this._onBufferChange=this.register(new d.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}a.BufferNamespaceApi=f},7975:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0,a.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,d=>c(d.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(d,u)=>c(d,u.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0,a.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;const u=l(8460),f=l(844),g=l(5295),v=l(2585);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;let y=a.BufferService=class extends f.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new u.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new u.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,a.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,a.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(m,this))}resize(m,p){this.cols=m,this.rows=p,this.buffers.resize(m,p),this._onResize.fire({cols:m,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,p=!1){const x=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===m.fg&&_.getBg(0)===m.bg||(_=x.getBlankLine(m,p),this._cachedBlankLine=_),_.isWrapped=p;const b=x.ybase+x.scrollTop,S=x.ybase+x.scrollBottom;if(x.scrollTop===0){const C=x.lines.isFull;S===x.lines.length-1?C?x.lines.recycle().copyFrom(_):x.lines.push(_.clone()):x.lines.splice(S+1,0,_.clone()),C?this.isUserScrolling&&(x.ydisp=Math.max(x.ydisp-1,0)):(x.ybase++,this.isUserScrolling||x.ydisp++)}else{const C=S-b+1;x.lines.shiftElements(b+1,C-1,-1),x.lines.set(S,_.clone())}this.isUserScrolling||(x.ydisp=x.ybase),this._onScroll.fire(x.ydisp)}scrollLines(m,p,x){const _=this.buffer;if(m<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else m+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const b=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+m,_.ybase),0),b!==_.ydisp&&(p||this._onScroll.fire(_.ydisp))}};a.BufferService=y=c([d(0,v.IOptionsService)],y)},7994:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0,a.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(o,a,l){var c=this&&this.__decorate||function(_,b,S,C){var A,M=arguments.length,T=M<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(_,b,S,C);else for(var N=_.length-1;N>=0;N--)(A=_[N])&&(T=(M<3?A(T):M>3?A(b,S,T):A(b,S))||T);return M>3&&T&&Object.defineProperty(b,S,T),T},d=this&&this.__param||function(_,b){return function(S,C){b(S,C,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;const u=l(2585),f=l(8460),g=l(844),v={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function y(_,b){let S=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(S|=64,S|=_.action):(S|=3&_.button,4&_.button&&(S|=64),8&_.button&&(S|=128),_.action===32?S|=32:_.action!==0||b||(S|=3)),S}const m=String.fromCharCode,p={DEFAULT:_=>{const b=[y(_,!1)+32,_.col+32,_.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${m(b[0])}${m(b[1])}${m(b[2])}`},SGR:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${y(_,!0)};${_.col};${_.row}${b}`},SGR_PIXELS:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${y(_,!0)};${_.x};${_.y}${b}`}};let x=a.CoreMouseService=class extends g.Disposable{constructor(_,b){super(),this._bufferService=_,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new f.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(v))this.addProtocol(S,v[S]);for(const S of Object.keys(p))this.addEncoding(S,p[S]);this.reset()}addProtocol(_,b){this._protocols[_]=b}addEncoding(_,b){this._encodings[_]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const b=this._encodings[this._activeEncoding](_);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,b,S){if(S){if(_.x!==b.x||_.y!==b.y)return!1}else if(_.col!==b.col||_.row!==b.row)return!1;return _.button===b.button&&_.action===b.action&&_.ctrl===b.ctrl&&_.alt===b.alt&&_.shift===b.shift}};a.CoreMouseService=x=c([d(0,u.IBufferService),d(1,u.ICoreService)],x)},6975:function(o,a,l){var c=this&&this.__decorate||function(x,_,b,S){var C,A=arguments.length,M=A<3?_:S===null?S=Object.getOwnPropertyDescriptor(_,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(x,_,b,S);else for(var T=x.length-1;T>=0;T--)(C=x[T])&&(M=(A<3?C(M):A>3?C(_,b,M):C(_,b))||M);return A>3&&M&&Object.defineProperty(_,b,M),M},d=this&&this.__param||function(x,_){return function(b,S){_(b,S,x)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;const u=l(1439),f=l(8460),g=l(844),v=l(2585),y=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=a.CoreService=class extends g.Disposable{constructor(x,_,b){super(),this._bufferService=x,this._logService=_,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new f.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new f.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new f.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new f.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,u.clone)(y),this.decPrivateModes=(0,u.clone)(m)}reset(){this.modes=(0,u.clone)(y),this.decPrivateModes=(0,u.clone)(m)}triggerDataEvent(x,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${x}"`,()=>x.split("").map(S=>S.charCodeAt(0))),this._onData.fire(x)}triggerBinaryEvent(x){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${x}"`,()=>x.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(x))}};a.CoreService=p=c([d(0,v.IBufferService),d(1,v.ILogService),d(2,v.IOptionsService)],p)},9074:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DecorationService=void 0;const c=l(8055),d=l(8460),u=l(844),f=l(6106);let g=0,v=0;class y extends u.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new f.SortedList(x=>x==null?void 0:x.marker.line),this._onDecorationRegistered=this.register(new d.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new d.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,u.toDisposable)(()=>this.reset()))}registerDecoration(x){if(x.marker.isDisposed)return;const _=new m(x);if(_){const b=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),b.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const x of this._decorations.values())x.dispose();this._decorations.clear()}*getDecorationsAtCell(x,_,b){var S,C,A;let M=0,T=0;for(const N of this._decorations.getKeyIterator(_))M=(S=N.options.x)!==null&&S!==void 0?S:0,T=M+((C=N.options.width)!==null&&C!==void 0?C:1),x>=M&&x<T&&(!b||((A=N.options.layer)!==null&&A!==void 0?A:"bottom")===b)&&(yield N)}forEachDecorationAtCell(x,_,b,S){this._decorations.forEachByKey(_,C=>{var A,M,T;g=(A=C.options.x)!==null&&A!==void 0?A:0,v=g+((M=C.options.width)!==null&&M!==void 0?M:1),x>=g&&x<v&&(!b||((T=C.options.layer)!==null&&T!==void 0?T:"bottom")===b)&&S(C)})}}a.DecorationService=y;class m extends u.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(x){super(),this.options=x,this.onRenderEmitter=this.register(new d.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new d.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=x.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;const c=l(2585),d=l(8343);class u{constructor(...g){this._entries=new Map;for(const[v,y]of g)this.set(v,y)}set(g,v){const y=this._entries.get(g);return this._entries.set(g,v),y}forEach(g){for(const[v,y]of this._entries.entries())g(v,y)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}a.ServiceCollection=u,a.InstantiationService=class{constructor(){this._services=new u,this._services.set(c.IInstantiationService,this)}setService(f,g){this._services.set(f,g)}getService(f){return this._services.get(f)}createInstance(f,...g){const v=(0,d.getServiceDependencies)(f).sort((p,x)=>p.index-x.index),y=[];for(const p of v){const x=this._services.get(p.id);if(!x)throw new Error(`[createInstance] ${f.name} depends on UNKNOWN service ${p.id}.`);y.push(x)}const m=v.length>0?v[0].index:g.length;if(g.length!==m)throw new Error(`[createInstance] First service dependency of ${f.name} at position ${m+1} conflicts with ${g.length} static arguments`);return new f(...g,...y)}}},7866:function(o,a,l){var c=this&&this.__decorate||function(m,p,x,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,x):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,x,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(C=(S<3?b(C):S>3?b(p,x,C):b(p,x))||C);return S>3&&C&&Object.defineProperty(p,x,C),C},d=this&&this.__param||function(m,p){return function(x,_){p(x,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const u=l(844),f=l(2585),g={trace:f.LogLevelEnum.TRACE,debug:f.LogLevelEnum.DEBUG,info:f.LogLevelEnum.INFO,warn:f.LogLevelEnum.WARN,error:f.LogLevelEnum.ERROR,off:f.LogLevelEnum.OFF};let v,y=a.LogService=class extends u.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=f.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),v=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let p=0;p<m.length;p++)typeof m[p]=="function"&&(m[p]=m[p]())}_log(m,p,x){this._evalLazyOptionalParams(x),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+p,...x)}trace(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.TRACE&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}debug(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.DEBUG&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}info(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.INFO&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,m,p)}warn(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.WARN&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,m,p)}error(m,...p){var x,_;this._logLevel<=f.LogLevelEnum.ERROR&&this._log((_=(x=this._optionsService.options.logger)===null||x===void 0?void 0:x.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,m,p)}};a.LogService=y=c([d(0,f.IOptionsService)],y),a.setTraceLogger=function(m){v=m},a.traceCall=function(m,p,x){if(typeof x.value!="function")throw new Error("not supported");const _=x.value;x.value=function(...b){if(v.logLevel!==f.LogLevelEnum.TRACE)return _.apply(this,b);v.trace(`GlyphRenderer#${_.name}(${b.map(C=>JSON.stringify(C)).join(", ")})`);const S=_.apply(this,b);return v.trace(`GlyphRenderer#${_.name} return`,S),S}}},7302:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=void 0;const c=l(8460),d=l(844),u=l(6114);a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:u.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const f=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends d.Disposable{constructor(y){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},a.DEFAULT_OPTIONS);for(const p in y)if(p in m)try{const x=y[p];m[p]=this._sanitizeAndValidateOption(p,x)}catch(x){console.error(x)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(y,m){return this.onOptionChange(p=>{p===y&&m(this.rawOptions[y])})}onMultipleOptionChange(y,m){return this.onOptionChange(p=>{y.indexOf(p)!==-1&&m()})}_setupOptions(){const y=p=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},m=(p,x)=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);x=this._sanitizeAndValidateOption(p,x),this.rawOptions[p]!==x&&(this.rawOptions[p]=x,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const x={get:y.bind(this,p),set:m.bind(this,p)};Object.defineProperty(this.options,p,x)}}_sanitizeAndValidateOption(y,m){switch(y){case"cursorStyle":if(m||(m=a.DEFAULT_OPTIONS[y]),!function(p){return p==="block"||p==="underline"||p==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${y}`);break;case"wordSeparator":m||(m=a.DEFAULT_OPTIONS[y]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=f.includes(m)?m:a.DEFAULT_OPTIONS[y];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${y} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${y} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${y} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${y} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}a.OptionsService=g},2660:function(o,a,l){var c=this&&this.__decorate||function(g,v,y,m){var p,x=arguments.length,_=x<3?v:m===null?m=Object.getOwnPropertyDescriptor(v,y):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(g,v,y,m);else for(var b=g.length-1;b>=0;b--)(p=g[b])&&(_=(x<3?p(_):x>3?p(v,y,_):p(v,y))||_);return x>3&&_&&Object.defineProperty(v,y,_),_},d=this&&this.__param||function(g,v){return function(y,m){v(y,m,g)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkService=void 0;const u=l(2585);let f=a.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const v=this._bufferService.buffer;if(g.id===void 0){const b=v.addMarker(v.ybase+v.y),S={data:g,id:this._nextId++,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(S,b)),this._dataByLinkId.set(S.id,S),S.id}const y=g,m=this._getEntryIdKey(y),p=this._entriesWithId.get(m);if(p)return this.addLineToLink(p.id,v.ybase+v.y),p.id;const x=v.addMarker(v.ybase+v.y),_={id:this._nextId++,key:this._getEntryIdKey(y),data:y,lines:[x]};return x.onDispose(()=>this._removeMarkerFromLink(_,x)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(g,v){const y=this._dataByLinkId.get(g);if(y&&y.lines.every(m=>m.line!==v)){const m=this._bufferService.buffer.addMarker(v);y.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(y,m))}}getLinkData(g){var v;return(v=this._dataByLinkId.get(g))===null||v===void 0?void 0:v.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,v){const y=g.lines.indexOf(v);y!==-1&&(g.lines.splice(y,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};a.OscLinkService=f=c([d(0,u.IBufferService)],f)},8343:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const l="di$target",c="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(d){return d[c]||[]},a.createDecorator=function(d){if(a.serviceRegistry.has(d))return a.serviceRegistry.get(d);const u=function(f,g,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(y,m,p){m[l]===m?m[c].push({id:y,index:p}):(m[c]=[{id:y,index:p}],m[l]=m)})(u,f,v)};return u.toString=()=>d,a.serviceRegistry.set(d,u),u}},2585:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const c=l(8343);var d;a.IBufferService=(0,c.createDecorator)("BufferService"),a.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),a.ICoreService=(0,c.createDecorator)("CoreService"),a.ICharsetService=(0,c.createDecorator)("CharsetService"),a.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(u){u[u.TRACE=0]="TRACE",u[u.DEBUG=1]="DEBUG",u[u.INFO=2]="INFO",u[u.WARN=3]="WARN",u[u.ERROR=4]="ERROR",u[u.OFF=5]="OFF"}(d||(a.LogLevelEnum=d={})),a.ILogService=(0,c.createDecorator)("LogService"),a.IOptionsService=(0,c.createDecorator)("OptionsService"),a.IOscLinkService=(0,c.createDecorator)("OscLinkService"),a.IUnicodeService=(0,c.createDecorator)("UnicodeService"),a.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const c=l(8460),d=l(225);a.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const u=new d.UnicodeV6;this.register(u),this._active=u.version,this._activeProvider=u}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(u){if(!this._providers[u])throw new Error(`unknown Unicode version "${u}"`);this._active=u,this._activeProvider=this._providers[u],this._onChange.fire(u)}register(u){this._providers[u.version]=u}wcwidth(u){return this._activeProvider.wcwidth(u)}getStringCellWidth(u){let f=0;const g=u.length;for(let v=0;v<g;++v){let y=u.charCodeAt(v);if(55296<=y&&y<=56319){if(++v>=g)return f+this.wcwidth(y);const m=u.charCodeAt(v);56320<=m&&m<=57343?y=1024*(y-55296)+m-56320+65536:f+=this.wcwidth(m)}f+=this.wcwidth(y)}return f}}}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o].call(l.exports,l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const a=i(9042),l=i(3236),c=i(844),d=i(5741),u=i(8285),f=i(7975),g=i(7090),v=["cols","rows"];class y extends c.Disposable{constructor(p){super(),this._core=this.register(new l.Terminal(p)),this._addonManager=this.register(new d.AddonManager),this._publicOptions=Object.assign({},this._core.options);const x=b=>this._core.options[b],_=(b,S)=>{this._checkReadonlyOptions(b),this._core.options[b]=S};for(const b in this._core.options){const S={get:x.bind(this,b),set:_.bind(this,b)};Object.defineProperty(this._publicOptions,b,S)}}_checkReadonlyOptions(p){if(v.includes(p))throw new Error(`Option "${p}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new f.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new u.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const p=this._core.coreService.decPrivateModes;let x="none";switch(this._core.coreMouseService.activeProtocol){case"X10":x="x10";break;case"VT200":x="vt200";break;case"DRAG":x="drag";break;case"ANY":x="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:x,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}}get options(){return this._publicOptions}set options(p){for(const x in p)this._publicOptions[x]=p[x]}blur(){this._core.blur()}focus(){this._core.focus()}resize(p,x){this._verifyIntegers(p,x),this._core.resize(p,x)}open(p){this._core.open(p)}attachCustomKeyEventHandler(p){this._core.attachCustomKeyEventHandler(p)}registerLinkProvider(p){return this._core.registerLinkProvider(p)}registerCharacterJoiner(p){return this._checkProposedApi(),this._core.registerCharacterJoiner(p)}deregisterCharacterJoiner(p){this._checkProposedApi(),this._core.deregisterCharacterJoiner(p)}registerMarker(p=0){return this._verifyIntegers(p),this._core.registerMarker(p)}registerDecoration(p){var x,_,b;return this._checkProposedApi(),this._verifyPositiveIntegers((x=p.x)!==null&&x!==void 0?x:0,(_=p.width)!==null&&_!==void 0?_:0,(b=p.height)!==null&&b!==void 0?b:0),this._core.registerDecoration(p)}hasSelection(){return this._core.hasSelection()}select(p,x,_){this._verifyIntegers(p,x,_),this._core.select(p,x,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(p,x){this._verifyIntegers(p,x),this._core.selectLines(p,x)}dispose(){super.dispose()}scrollLines(p){this._verifyIntegers(p),this._core.scrollLines(p)}scrollPages(p){this._verifyIntegers(p),this._core.scrollPages(p)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(p){this._verifyIntegers(p),this._core.scrollToLine(p)}clear(){this._core.clear()}write(p,x){this._core.write(p,x)}writeln(p,x){this._core.write(p),this._core.write(`\r
`,x)}paste(p){this._core.paste(p)}refresh(p,x){this._verifyIntegers(p,x),this._core.refresh(p,x)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(p){this._addonManager.loadAddon(this,p)}static get strings(){return a}_verifyIntegers(...p){for(const x of p)if(x===1/0||isNaN(x)||x%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...p){for(const x of p)if(x&&(x===1/0||isNaN(x)||x%1!=0||x<0))throw new Error("This API only accepts positive integers")}}o.Terminal=y})(),s})())})(lle);var gJe=lle.exports,ule={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const o=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(a.getPropertyValue("height")),c=Math.max(0,parseInt(a.getPropertyValue("width"))),d=window.getComputedStyle(this._terminal.element),u=l-(parseInt(d.getPropertyValue("padding-top"))+parseInt(d.getPropertyValue("padding-bottom"))),f=c-(parseInt(d.getPropertyValue("padding-right"))+parseInt(d.getPropertyValue("padding-left")))-o;return{cols:Math.max(2,Math.floor(f/s.css.cell.width)),rows:Math.max(1,Math.floor(u/s.css.cell.height))}}}})(),n})())})(ule);var vJe=ule.exports,dle={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={6:(o,a)=>{function l(d){try{const u=new URL(d),f=u.password&&u.username?`${u.protocol}//${u.username}:${u.password}@${u.host}`:u.username?`${u.protocol}//${u.username}@${u.host}`:`${u.protocol}//${u.host}`;return d.toLocaleLowerCase().startsWith(f.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.LinkComputer=a.WebLinkProvider=void 0,a.WebLinkProvider=class{constructor(d,u,f,g={}){this._terminal=d,this._regex=u,this._handler=f,this._options=g}provideLinks(d,u){const f=c.computeLink(d,this._regex,this._terminal,this._handler);u(this._addCallbacks(f))}_addCallbacks(d){return d.map(u=>(u.leave=this._options.leave,u.hover=(f,g)=>{if(this._options.hover){const{range:v}=u;this._options.hover(f,g,v)}},u))}};class c{static computeLink(u,f,g,v){const y=new RegExp(f.source,(f.flags||"")+"g"),[m,p]=c._getWindowedLineStrings(u-1,g),x=m.join("");let _;const b=[];for(;_=y.exec(x);){const S=_[0];if(!l(S))continue;const[C,A]=c._mapStrIdx(g,p,0,_.index),[M,T]=c._mapStrIdx(g,C,A,S.length);if(C===-1||A===-1||M===-1||T===-1)continue;const N={start:{x:A+1,y:C+1},end:{x:T,y:M+1}};b.push({range:N,text:S,activate:v})}return b}static _getWindowedLineStrings(u,f){let g,v=u,y=u,m=0,p="";const x=[];if(g=f.buffer.active.getLine(u)){const _=g.translateToString(!0);if(g.isWrapped&&_[0]!==" "){for(m=0;(g=f.buffer.active.getLine(--v))&&m<2048&&(p=g.translateToString(!0),m+=p.length,x.push(p),g.isWrapped&&p.indexOf(" ")===-1););x.reverse()}for(x.push(_),m=0;(g=f.buffer.active.getLine(++y))&&g.isWrapped&&m<2048&&(p=g.translateToString(!0),m+=p.length,x.push(p),p.indexOf(" ")===-1););}return[x,v]}static _mapStrIdx(u,f,g,v){const y=u.buffer.active,m=y.getNullCell();let p=g;for(;v;){const x=y.getLine(f);if(!x)return[-1,-1];for(let _=p;_<x.length;++_){x.getCell(_,m);const b=m.getChars();if(m.getWidth()&&(v-=b.length||1,_===x.length-1&&b==="")){const S=y.getLine(f+1);S&&S.isWrapped&&(S.getCell(0,m),m.getWidth()===2&&(v+=1))}if(v<0)return[f,_]}f++,p=0}return[f,p]}}a.LinkComputer=c}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o](l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.WebLinksAddon=void 0;const a=i(6),l=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(d,u){const f=window.open();if(f){try{f.opener=null}catch{}f.location.href=u}else console.warn("Opening link blocked as opener could not be cleared")}o.WebLinksAddon=class{constructor(d=c,u={}){this._handler=d,this._options=u}activate(d){this._terminal=d;const u=this._options,f=u.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new a.WebLinkProvider(this._terminal,f,this._handler,u))}dispose(){var d;(d=this._linkProvider)==null||d.dispose()}}})(),s})())})(dle);var yJe=dle.exports;function xJe(){console.log("TerminalTab component rendered");const t=P.useRef(null),[e,n]=P.useState([]),[r,i]=P.useState(""),[s,o]=P.useState(10),a=()=>{console.log("createTerminal called");const d=Date.now().toString(),u=`Terminal ${e.length+1}`,f=new gJe.Terminal({cursorBlink:!0,fontSize:s,fontFamily:"JetBrains Mono, monospace",theme:{background:"hsl(var(--background))",foreground:"hsl(var(--foreground))",cursor:"hsl(var(--primary))",black:"hsl(var(--muted))",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"hsl(var(--foreground))"}}),g=new vJe.FitAddon;f.loadAddon(g);const v=new yJe.WebLinksAddon;f.loadAddon(v);const y=window.location.protocol==="https:"?"wss:":"ws:",m=localStorage.getItem("access_token"),p=new WebSocket(`${y}//${window.location.host}/ws/shell/${d}?token=${m}`);p.onopen=()=>{console.log(`Terminal ${d} WebSocket connected`),f.writeln("Welcome to ARCANA Terminal"),f.writeln("Cognitive Shell Interface v2.1.0"),f.writeln(""),f.write("$ "),g.fit(),p.send(JSON.stringify({resize:{cols:f.cols,rows:f.rows}}))},p.onmessage=_=>{if(typeof _.data=="string")f.write(_.data);else if(_.data instanceof ArrayBuffer){const b=new TextDecoder("utf-8");f.write(b.decode(_.data))}else if(_.data instanceof Blob){const b=new FileReader;b.onload=()=>{f.write(b.result)},b.readAsText(_.data)}},p.onclose=()=>{console.log(`Terminal ${d} WebSocket disconnected`),f.writeln(`
\rConnection to terminal backend lost.`)},p.onerror=_=>{console.error(`Terminal ${d} WebSocket error:`,_),f.writeln(`
\rTerminal connection error.`)},f.onData(_=>{console.log(`terminal.onData for ${d}. Data: ${_}`),p.readyState===WebSocket.OPEN&&p.send(_)}),f.onResize(_=>{p.readyState===WebSocket.OPEN&&p.send(JSON.stringify({resize:{cols:_.cols,rows:_.rows}}))});const x={id:d,name:u,terminal:f,fitAddon:g,ws:p};n(_=>[..._,x]),i(d)},l=d=>{console.log(`closeTerminal called for ${d}`);const u=e.find(g=>g.id===d);u&&(u.terminal.dispose(),u.ws.close());const f=e.filter(g=>g.id!==d);n(f),r===d&&f.length>0?i(f[0].id):r===d&&f.length===0&&i("")},c=d=>{o(u=>{const f=Math.max(5,Math.min(20,u+d));return e.forEach(g=>{g.terminal.options.fontSize=f,g.fitAddon.fit()}),f})};return P.useEffect(()=>{console.log("useEffect [terminals] triggered. terminals.length:",e.length),e.length===0&&a();const d=new ResizeObserver(()=>{console.log("ResizeObserver triggered."),e.forEach(u=>u.fitAddon.fit())});return t.current?(console.log("Observing terminalContainerRef.current for resize."),d.observe(t.current)):console.warn("terminalContainerRef.current is null in useEffect [terminals]. Cannot observe for resize."),()=>{console.log("useEffect [terminals] cleanup function executed."),e.forEach(u=>{console.log(`Disposing terminal ${u.id}.`),u.terminal.dispose()}),d.disconnect()}},[e]),P.useEffect(()=>{console.log("useEffect [activeTerminal] triggered. activeTerminal:",r);const d=e.find(u=>u.id===r);e.forEach(u=>{u.id!==r&&u.terminal.element&&u.terminal.element.parentNode&&(u.terminal.element.parentNode.removeChild(u.terminal.element),console.log(`Detached terminal ${u.id}`))}),d&&t.current?(console.log(`Attempting to display terminal ${d.id} in container.`),(!d.terminal.element||d.terminal.element.parentNode!==t.current)&&(t.current.innerHTML!==""&&(t.current.innerHTML=""),d.terminal.open(t.current),console.log(`Terminal ${d.id} opened/reattached.`)),d.terminal.focus(),d.fitAddon.fit(),console.log(`FitAddon.fit() called for terminal ${d.id}.`)):console.warn("No active terminal or terminalContainerRef.current is null in useEffect [activeTerminal].")},[r,e]),h.jsxs("div",{className:"h-full flex flex-col p-6",children:[h.jsxs(Ze,{className:"flex-1 flex flex-col overflow-hidden",children:[h.jsxs("div",{className:"border-b bg-card/50 px-4 py-2 flex items-center justify-between",children:[h.jsx(Qc,{value:r,onValueChange:i,className:"flex-1",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Bl,{className:"bg-transparent h-9",children:e.map(d=>h.jsxs(Mr,{value:d.id,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-terminal-${d.id}`,children:[d.name,e.length>1&&h.jsx("button",{onClick:u=>{u.stopPropagation(),l(d.id)},className:"ml-1 hover:bg-muted rounded-sm p-0.5","data-testid":`button-close-terminal-${d.id}`,children:h.jsx(hv,{className:"h-4 w-4"})})]},d.id))}),h.jsx(Ge,{variant:"ghost",size:"sm",onClick:a,"data-testid":"button-new-terminal",children:h.jsx(Rh,{className:"h-4 w-4"})})]})}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>c(-1),children:"-"}),h.jsxs("span",{children:[s,"px"]}),h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>c(1),children:"+"})]})]}),h.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:h.jsx("div",{ref:t,className:"h-full w-full rounded-md overflow-hidden bg-background"})})]}),h.jsxs("div",{className:"mt-4 text-xs text-muted-foreground flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("span",{children:"CWD: ~/projects/vareon"}),h.jsx("span",{children:"Shell: bash"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs",children:"Ctrl+C"}),h.jsx("span",{children:"Interrupt"}),h.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs ml-4",children:"Ctrl+L"}),h.jsx("span",{children:"Clear"})]})]})]})}function _Je(){const t=fA(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"chat",[i,s]=P.useState(r);P.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/arcana?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"ARCANA Cognitive System"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Conversational AI & Shell Interface"})]}),h.jsx(fn,{variant:"outline",children:"GPT-4 Active"})]})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs(Qc,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[h.jsx("div",{className:"border-b bg-card/50 px-6",children:h.jsxs(Bl,{className:"bg-transparent h-12",children:[h.jsxs(Mr,{value:"chat",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-chat",children:[h.jsx(FI,{className:"h-4 w-4"}),"Chat Interface"]}),h.jsxs(Mr,{value:"terminal",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-terminal",children:[h.jsx(Ra,{className:"h-4 w-4"}),"Terminal"]}),h.jsxs(Mr,{value:"memory",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-memory",children:[h.jsx(FI,{className:"h-4 w-4"})," ","Context Memory"]})]})}),h.jsxs("div",{className:"flex-1 overflow-hidden",children:[h.jsx(yn,{value:"chat",className:"h-full m-0",children:h.jsx(mJe,{})}),h.jsx(yn,{value:"terminal",className:"h-full m-0",children:h.jsx(xJe,{})}),h.jsx(yn,{value:"memory",className:"h-full m-0",children:h.jsx(ale,{})})]})]})})]})}var bJe={value:()=>{}};function VT(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new HS(n)}function HS(t){this._=t}function wJe(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}HS.prototype=VT.prototype={constructor:HS,on:function(t,e){var n=this._,r=wJe(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=SJe(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=xW(n[i],t.name,e);else if(e==null)for(i in n)n[i]=xW(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new HS(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function SJe(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function xW(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=bJe,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var tL="http://www.w3.org/1999/xhtml";const _W={svg:"http://www.w3.org/2000/svg",xhtml:tL,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function WT(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),_W.hasOwnProperty(e)?{space:_W[e],local:t}:t}function EJe(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===tL&&e.documentElement.namespaceURI===tL?e.createElement(t):e.createElementNS(n,t)}}function CJe(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function fle(t){var e=WT(t);return(e.local?CJe:EJe)(e)}function MJe(){}function W4(t){return t==null?MJe:function(){return this.querySelector(t)}}function AJe(t){typeof t!="function"&&(t=W4(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,d=0;d<o;++d)(l=s[d])&&(c=t.call(l,l.__data__,d,s))&&("__data__"in l&&(c.__data__=l.__data__),a[d]=c);return new lo(r,this._parents)}function TJe(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function PJe(){return[]}function hle(t){return t==null?PJe:function(){return this.querySelectorAll(t)}}function NJe(t){return function(){return TJe(t.apply(this,arguments))}}function RJe(t){typeof t=="function"?t=NJe(t):t=hle(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new lo(r,i)}function ple(t){return function(){return this.matches(t)}}function mle(t){return function(e){return e.matches(t)}}var OJe=Array.prototype.find;function IJe(t){return function(){return OJe.call(this.children,t)}}function kJe(){return this.firstElementChild}function DJe(t){return this.select(t==null?kJe:IJe(typeof t=="function"?t:mle(t)))}var LJe=Array.prototype.filter;function jJe(){return Array.from(this.children)}function FJe(t){return function(){return LJe.call(this.children,t)}}function BJe(t){return this.selectAll(t==null?jJe:FJe(typeof t=="function"?t:mle(t)))}function UJe(t){typeof t!="function"&&(t=ple(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new lo(r,this._parents)}function gle(t){return new Array(t.length)}function zJe(){return new lo(this._enter||this._groups.map(gle),this._parents)}function YC(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}YC.prototype={constructor:YC,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $Je(t){return function(){return t}}function HJe(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new YC(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function VJe(t,e,n,r,i,s,o){var a,l,c=new Map,d=e.length,u=s.length,f=new Array(d),g;for(a=0;a<d;++a)(l=e[a])&&(f[a]=g=o.call(l,l.__data__,a,e)+"",c.has(g)?i[a]=l:c.set(g,l));for(a=0;a<u;++a)g=o.call(t,s[a],a,s)+"",(l=c.get(g))?(r[a]=l,l.__data__=s[a],c.delete(g)):n[a]=new YC(t,s[a]);for(a=0;a<d;++a)(l=e[a])&&c.get(f[a])===l&&(i[a]=l)}function WJe(t){return t.__data__}function GJe(t,e){if(!arguments.length)return Array.from(this,WJe);var n=e?VJe:HJe,r=this._parents,i=this._groups;typeof t!="function"&&(t=$Je(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var d=r[c],u=i[c],f=u.length,g=XJe(t.call(d,d&&d.__data__,c,r)),v=g.length,y=a[c]=new Array(v),m=o[c]=new Array(v),p=l[c]=new Array(f);n(d,u,y,m,p,g,e);for(var x=0,_=0,b,S;x<v;++x)if(b=y[x]){for(x>=_&&(_=x+1);!(S=m[_])&&++_<v;);b._next=S||null}}return o=new lo(o,r),o._enter=a,o._exit=l,o}function XJe(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function qJe(){return new lo(this._exit||this._groups.map(gle),this._parents)}function KJe(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function YJe(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],d=r[l],u=c.length,f=a[l]=new Array(u),g,v=0;v<u;++v)(g=c[v]||d[v])&&(f[v]=g);for(;l<i;++l)a[l]=n[l];return new lo(a,this._parents)}function ZJe(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function QJe(t){t||(t=JJe);function e(u,f){return u&&f?t(u.__data__,f.__data__):!u-!f}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,d=0;d<a;++d)(c=o[d])&&(l[d]=c);l.sort(e)}return new lo(i,this._parents).order()}function JJe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function eet(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function tet(){return Array.from(this)}function net(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function ret(){let t=0;for(const e of this)++t;return t}function iet(){return!this.node()}function set(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function oet(t){return function(){this.removeAttribute(t)}}function aet(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cet(t,e){return function(){this.setAttribute(t,e)}}function uet(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function det(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function fet(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function het(t,e){var n=WT(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?aet:oet:typeof e=="function"?n.local?fet:det:n.local?uet:cet)(n,e))}function vle(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function pet(t){return function(){this.style.removeProperty(t)}}function met(t,e,n){return function(){this.style.setProperty(t,e,n)}}function get(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function vet(t,e,n){return arguments.length>1?this.each((e==null?pet:typeof e=="function"?get:met)(t,e,n??"")):Vg(this.node(),t)}function Vg(t,e){return t.style.getPropertyValue(e)||vle(t).getComputedStyle(t,null).getPropertyValue(e)}function yet(t){return function(){delete this[t]}}function xet(t,e){return function(){this[t]=e}}function _et(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function bet(t,e){return arguments.length>1?this.each((e==null?yet:typeof e=="function"?_et:xet)(t,e)):this.node()[t]}function yle(t){return t.trim().split(/^|\s+/)}function G4(t){return t.classList||new xle(t)}function xle(t){this._node=t,this._names=yle(t.getAttribute("class")||"")}xle.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function _le(t,e){for(var n=G4(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function ble(t,e){for(var n=G4(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function wet(t){return function(){_le(this,t)}}function Eet(t){return function(){ble(this,t)}}function Cet(t,e){return function(){(e.apply(this,arguments)?_le:ble)(this,t)}}function Met(t,e){var n=yle(t+"");if(arguments.length<2){for(var r=G4(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Cet:e?wet:Eet)(n,e))}function Aet(){this.textContent=""}function Tet(t){return function(){this.textContent=t}}function Pet(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Net(t){return arguments.length?this.each(t==null?Aet:(typeof t=="function"?Pet:Tet)(t)):this.node().textContent}function Ret(){this.innerHTML=""}function Oet(t){return function(){this.innerHTML=t}}function Iet(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ket(t){return arguments.length?this.each(t==null?Ret:(typeof t=="function"?Iet:Oet)(t)):this.node().innerHTML}function Det(){this.nextSibling&&this.parentNode.appendChild(this)}function Let(){return this.each(Det)}function jet(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Fet(){return this.each(jet)}function Bet(t){var e=typeof t=="function"?t:fle(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Uet(){return null}function zet(t,e){var n=typeof t=="function"?t:fle(t),r=e==null?Uet:typeof e=="function"?e:W4(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function $et(){var t=this.parentNode;t&&t.removeChild(this)}function Het(){return this.each($et)}function Vet(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Wet(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Get(t){return this.select(t?Wet:Vet)}function Xet(t){return arguments.length?this.property("__data__",t):this.node().__data__}function qet(t){return function(e){t.call(this,e,this.__data__)}}function Ket(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Yet(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function Zet(t,e,n){return function(){var r=this.__on,i,s=qet(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Qet(t,e,n){var r=Ket(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,d;l<c;++l)for(i=0,d=a[l];i<s;++i)if((o=r[i]).type===d.type&&o.name===d.name)return d.value}return}for(a=e?Zet:Yet,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function wle(t,e,n){var r=vle(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Jet(t,e){return function(){return wle(this,t,e)}}function ett(t,e){return function(){return wle(this,t,e.apply(this,arguments))}}function ttt(t,e){return this.each((typeof e=="function"?ett:Jet)(t,e))}function*ntt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Sle=[null];function lo(t,e){this._groups=t,this._parents=e}function bb(){return new lo([[document.documentElement]],Sle)}function rtt(){return this}lo.prototype=bb.prototype={constructor:lo,select:AJe,selectAll:RJe,selectChild:DJe,selectChildren:BJe,filter:UJe,data:GJe,enter:zJe,exit:qJe,join:KJe,merge:YJe,selection:rtt,order:ZJe,sort:QJe,call:eet,nodes:tet,node:net,size:ret,empty:iet,each:set,attr:het,style:vet,property:bet,classed:Met,text:Net,html:ket,raise:Let,lower:Fet,append:Bet,insert:zet,remove:Het,clone:Get,datum:Xet,on:Qet,dispatch:ttt,[Symbol.iterator]:ntt};function bs(t){return typeof t=="string"?new lo([[document.querySelector(t)]],[document.documentElement]):new lo([[t]],Sle)}function itt(t){let e;for(;e=t.sourceEvent;)t=e;return t}function ha(t,e){if(t=itt(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const stt={passive:!1},r_={capture:!0,passive:!1};function _R(t){t.stopImmediatePropagation()}function Um(t){t.preventDefault(),t.stopImmediatePropagation()}function Ele(t){var e=t.document.documentElement,n=bs(t).on("dragstart.drag",Um,r_);"onselectstart"in e?n.on("selectstart.drag",Um,r_):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Cle(t,e){var n=t.document.documentElement,r=bs(t).on("dragstart.drag",null);e&&(r.on("click.drag",Um,r_),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const b1=t=>()=>t;function nL(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:d}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:d}})}nL.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function ott(t){return!t.ctrlKey&&!t.button}function att(){return this.parentNode}function ltt(t,e){return e??{x:t.x,y:t.y}}function ctt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mle(){var t=ott,e=att,n=ltt,r=ctt,i={},s=VT("start","drag","end"),o=0,a,l,c,d,u=0;function f(b){b.on("mousedown.drag",g).filter(r).on("touchstart.drag",m).on("touchmove.drag",p,stt).on("touchend.drag touchcancel.drag",x).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(b,S){if(!(d||!t.call(this,b,S))){var C=_(this,e.call(this,b,S),b,S,"mouse");C&&(bs(b.view).on("mousemove.drag",v,r_).on("mouseup.drag",y,r_),Ele(b.view),_R(b),c=!1,a=b.clientX,l=b.clientY,C("start",b))}}function v(b){if(Um(b),!c){var S=b.clientX-a,C=b.clientY-l;c=S*S+C*C>u}i.mouse("drag",b)}function y(b){bs(b.view).on("mousemove.drag mouseup.drag",null),Cle(b.view,c),Um(b),i.mouse("end",b)}function m(b,S){if(t.call(this,b,S)){var C=b.changedTouches,A=e.call(this,b,S),M=C.length,T,N;for(T=0;T<M;++T)(N=_(this,A,b,S,C[T].identifier,C[T]))&&(_R(b),N("start",b,C[T]))}}function p(b){var S=b.changedTouches,C=S.length,A,M;for(A=0;A<C;++A)(M=i[S[A].identifier])&&(Um(b),M("drag",b,S[A]))}function x(b){var S=b.changedTouches,C=S.length,A,M;for(d&&clearTimeout(d),d=setTimeout(function(){d=null},500),A=0;A<C;++A)(M=i[S[A].identifier])&&(_R(b),M("end",b,S[A]))}function _(b,S,C,A,M,T){var N=s.copy(),I=ha(T||C,S),k,j,F;if((F=n.call(b,new nL("beforestart",{sourceEvent:C,target:f,identifier:M,active:o,x:I[0],y:I[1],dx:0,dy:0,dispatch:N}),A))!=null)return k=F.x-I[0]||0,j=F.y-I[1]||0,function z($,V,R){var L=I,B;switch($){case"start":i[M]=z,B=o++;break;case"end":delete i[M],--o;case"drag":I=ha(R||V,S),B=o;break}N.call($,b,new nL($,{sourceEvent:V,subject:F,target:f,identifier:M,active:B,x:I[0]+k,y:I[1]+j,dx:I[0]-L[0],dy:I[1]-L[1],dispatch:N}),A)}}return f.filter=function(b){return arguments.length?(t=typeof b=="function"?b:b1(!!b),f):t},f.container=function(b){return arguments.length?(e=typeof b=="function"?b:b1(b),f):e},f.subject=function(b){return arguments.length?(n=typeof b=="function"?b:b1(b),f):n},f.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:b1(!!b),f):r},f.on=function(){var b=s.on.apply(s,arguments);return b===s?f:b},f.clickDistance=function(b){return arguments.length?(u=(b=+b)*b,f):Math.sqrt(u)},f}var Wg=0,d0=0,jy=0,Ale=1e3,ZC,f0,QC=0,wh=0,GT=0,i_=typeof performance=="object"&&performance.now?performance:Date,Tle=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function X4(){return wh||(Tle(utt),wh=i_.now()+GT)}function utt(){wh=0}function JC(){this._call=this._time=this._next=null}JC.prototype=Ple.prototype={constructor:JC,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?X4():+n)+(e==null?0:+e),!this._next&&f0!==this&&(f0?f0._next=this:ZC=this,f0=this),this._call=t,this._time=n,rL()},stop:function(){this._call&&(this._call=null,this._time=1/0,rL())}};function Ple(t,e,n){var r=new JC;return r.restart(t,e,n),r}function dtt(){X4(),++Wg;for(var t=ZC,e;t;)(e=wh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Wg}function bW(){wh=(QC=i_.now())+GT,Wg=d0=0;try{dtt()}finally{Wg=0,htt(),wh=0}}function ftt(){var t=i_.now(),e=t-QC;e>Ale&&(GT-=e,QC=t)}function htt(){for(var t,e=ZC,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:ZC=n);f0=t,rL(r)}function rL(t){if(!Wg){d0&&(d0=clearTimeout(d0));var e=t-wh;e>24?(t<1/0&&(d0=setTimeout(bW,t-i_.now()-GT)),jy&&(jy=clearInterval(jy))):(jy||(QC=i_.now(),jy=setInterval(ftt,Ale)),Wg=1,Tle(bW))}}function wW(t,e,n){var r=new JC;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var ptt=VT("start","end","cancel","interrupt"),mtt=[],Nle=0,SW=1,iL=2,VS=3,EW=4,sL=5,WS=6;function XT(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;gtt(t,n,{name:e,index:r,group:i,on:ptt,tween:mtt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Nle})}function q4(t,e){var n=za(t,e);if(n.state>Nle)throw new Error("too late; already scheduled");return n}function Ul(t,e){var n=za(t,e);if(n.state>VS)throw new Error("too late; already running");return n}function za(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function gtt(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=Ple(s,0,n.time);function s(c){n.state=SW,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var d,u,f,g;if(n.state!==SW)return l();for(d in r)if(g=r[d],g.name===n.name){if(g.state===VS)return wW(o);g.state===EW?(g.state=WS,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[d]):+d<e&&(g.state=WS,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[d])}if(wW(function(){n.state===VS&&(n.state=EW,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=iL,n.on.call("start",t,t.__data__,n.index,n.group),n.state===iL){for(n.state=VS,i=new Array(f=n.tween.length),d=0,u=-1;d<f;++d)(g=n.tween[d].value.call(t,t.__data__,n.index,n.group))&&(i[++u]=g);i.length=u+1}}function a(c){for(var d=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=sL,1),u=-1,f=i.length;++u<f;)i[u].call(t,d);n.state===sL&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=WS,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function GS(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>iL&&r.state<sL,r.state=WS,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function vtt(t){return this.each(function(){GS(this,t)})}function ytt(t,e){var n,r;return function(){var i=Ul(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function xtt(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Ul(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function _tt(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=za(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?ytt:xtt)(n,t,e))}function K4(t,e,n){var r=t._id;return t.each(function(){var i=Ul(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return za(i,r).value[e]}}function Rle(t,e){var n;return(typeof e=="number"?ga:e instanceof fh?YE:(n=fh(e))?(e=n,YE):UQ)(t,e)}function btt(t){return function(){this.removeAttribute(t)}}function wtt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Stt(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Ett(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Ctt(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Mtt(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Att(t,e){var n=WT(t),r=n==="transform"?RLe:Rle;return this.attrTween(t,typeof e=="function"?(n.local?Mtt:Ctt)(n,r,K4(this,"attr."+t,e)):e==null?(n.local?wtt:btt)(n):(n.local?Ett:Stt)(n,r,e))}function Ttt(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ptt(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ntt(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ptt(t,s)),n}return i._value=e,i}function Rtt(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ttt(t,s)),n}return i._value=e,i}function Ott(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=WT(t);return this.tween(n,(r.local?Ntt:Rtt)(r,e))}function Itt(t,e){return function(){q4(this,t).delay=+e.apply(this,arguments)}}function ktt(t,e){return e=+e,function(){q4(this,t).delay=e}}function Dtt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Itt:ktt)(e,t)):za(this.node(),e).delay}function Ltt(t,e){return function(){Ul(this,t).duration=+e.apply(this,arguments)}}function jtt(t,e){return e=+e,function(){Ul(this,t).duration=e}}function Ftt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ltt:jtt)(e,t)):za(this.node(),e).duration}function Btt(t,e){if(typeof e!="function")throw new Error;return function(){Ul(this,t).ease=e}}function Utt(t){var e=this._id;return arguments.length?this.each(Btt(e,t)):za(this.node(),e).ease}function ztt(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;Ul(this,t).ease=n}}function $tt(t){if(typeof t!="function")throw new Error;return this.each(ztt(this._id,t))}function Htt(t){typeof t!="function"&&(t=ple(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new jc(r,this._parents,this._name,this._id)}function Vtt(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],d=l.length,u=o[a]=new Array(d),f,g=0;g<d;++g)(f=l[g]||c[g])&&(u[g]=f);for(;a<r;++a)o[a]=e[a];return new jc(o,this._parents,this._name,this._id)}function Wtt(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Gtt(t,e,n){var r,i,s=Wtt(e)?q4:Ul;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Xtt(t,e){var n=this._id;return arguments.length<2?za(this.node(),n).on.on(t):this.each(Gtt(n,t,e))}function qtt(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Ktt(){return this.on("end.remove",qtt(this._id))}function Ytt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=W4(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),d,u,f=0;f<l;++f)(d=a[f])&&(u=t.call(d,d.__data__,f,a))&&("__data__"in d&&(u.__data__=d.__data__),c[f]=u,XT(c[f],e,n,f,c,za(d,n)));return new jc(s,this._parents,e,n)}function Ztt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=hle(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,d,u=0;u<c;++u)if(d=l[u]){for(var f=t.call(d,d.__data__,u,l),g,v=za(d,n),y=0,m=f.length;y<m;++y)(g=f[y])&&XT(g,e,n,y,f,v);s.push(f),o.push(d)}return new jc(s,o,e,n)}var Qtt=bb.prototype.constructor;function Jtt(){return new Qtt(this._groups,this._parents)}function ent(t,e){var n,r,i;return function(){var s=Vg(this,t),o=(this.style.removeProperty(t),Vg(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Ole(t){return function(){this.style.removeProperty(t)}}function tnt(t,e,n){var r,i=n+"",s;return function(){var o=Vg(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function nnt(t,e,n){var r,i,s;return function(){var o=Vg(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),Vg(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function rnt(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=Ul(this,t),c=l.on,d=l.value[s]==null?a||(a=Ole(e)):void 0;(c!==n||i!==d)&&(r=(n=c).copy()).on(o,i=d),l.on=r}}function int(t,e,n){var r=(t+="")=="transform"?NLe:Rle;return e==null?this.styleTween(t,ent(t,r)).on("end.style."+t,Ole(t)):typeof e=="function"?this.styleTween(t,nnt(t,r,K4(this,"style."+t,e))).each(rnt(this._id,t)):this.styleTween(t,tnt(t,r,e),n).on("end.style."+t,null)}function snt(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ont(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&snt(t,o,n)),r}return s._value=e,s}function ant(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ont(t,e,n??""))}function lnt(t){return function(){this.textContent=t}}function cnt(t){return function(){var e=t(this);this.textContent=e??""}}function unt(t){return this.tween("text",typeof t=="function"?cnt(K4(this,"text",t)):lnt(t==null?"":t+""))}function dnt(t){return function(e){this.textContent=t.call(this,e)}}function fnt(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&dnt(i)),e}return r._value=t,r}function hnt(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,fnt(t))}function pnt(){for(var t=this._name,e=this._id,n=Ile(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var d=za(l,e);XT(l,t,n,c,o,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new jc(r,this._parents,t,n)}function mnt(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Ul(this,r),d=c.on;d!==t&&(e=(t=d).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var gnt=0;function jc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Ile(){return++gnt}var Ql=bb.prototype;jc.prototype={constructor:jc,select:Ytt,selectAll:Ztt,selectChild:Ql.selectChild,selectChildren:Ql.selectChildren,filter:Htt,merge:Vtt,selection:Jtt,transition:pnt,call:Ql.call,nodes:Ql.nodes,node:Ql.node,size:Ql.size,empty:Ql.empty,each:Ql.each,on:Xtt,attr:Att,attrTween:Ott,style:int,styleTween:ant,text:unt,textTween:hnt,remove:Ktt,tween:_tt,delay:Dtt,duration:Ftt,ease:Utt,easeVarying:$tt,end:mnt,[Symbol.iterator]:Ql[Symbol.iterator]};function vnt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ynt={time:null,delay:0,duration:250,ease:vnt};function xnt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function _nt(t){var e,n;t instanceof jc?(e=t._id,t=t._name):(e=Ile(),(n=ynt).time=X4(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&XT(l,t,e,c,o,n||xnt(l,e));return new jc(r,this._parents,t,e)}bb.prototype.interrupt=vtt;bb.prototype.transition=_nt;const w1=t=>()=>t;function bnt(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xc(t,e,n){this.k=t,this.x=e,this.y=n}xc.prototype={constructor:xc,scale:function(t){return t===1?this:new xc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new xc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qT=new xc(1,0,0);kle.prototype=xc.prototype;function kle(t){for(;!t.__zoom;)if(!(t=t.parentNode))return qT;return t.__zoom}function bR(t){t.stopImmediatePropagation()}function Fy(t){t.preventDefault(),t.stopImmediatePropagation()}function wnt(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Snt(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function CW(){return this.__zoom||qT}function Ent(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Cnt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Mnt(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Dle(){var t=wnt,e=Snt,n=Mnt,r=Ent,i=Cnt,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=jS,c=VT("start","zoom","end"),d,u,f,g=500,v=150,y=0,m=10;function p(F){F.property("__zoom",CW).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",T).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",I).on("touchmove.zoom",k).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(F,z,$,V){var R=F.selection?F.selection():F;R.property("__zoom",CW),F!==R?S(F,z,$,V):R.interrupt().each(function(){C(this,arguments).event(V).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},p.scaleBy=function(F,z,$,V){p.scaleTo(F,function(){var R=this.__zoom.k,L=typeof z=="function"?z.apply(this,arguments):z;return R*L},$,V)},p.scaleTo=function(F,z,$,V){p.transform(F,function(){var R=e.apply(this,arguments),L=this.__zoom,B=$==null?b(R):typeof $=="function"?$.apply(this,arguments):$,W=L.invert(B),G=typeof z=="function"?z.apply(this,arguments):z;return n(_(x(L,G),B,W),R,o)},$,V)},p.translateBy=function(F,z,$,V){p.transform(F,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof $=="function"?$.apply(this,arguments):$),e.apply(this,arguments),o)},null,V)},p.translateTo=function(F,z,$,V,R){p.transform(F,function(){var L=e.apply(this,arguments),B=this.__zoom,W=V==null?b(L):typeof V=="function"?V.apply(this,arguments):V;return n(qT.translate(W[0],W[1]).scale(B.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof $=="function"?-$.apply(this,arguments):-$),L,o)},V,R)};function x(F,z){return z=Math.max(s[0],Math.min(s[1],z)),z===F.k?F:new xc(z,F.x,F.y)}function _(F,z,$){var V=z[0]-$[0]*F.k,R=z[1]-$[1]*F.k;return V===F.x&&R===F.y?F:new xc(F.k,V,R)}function b(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function S(F,z,$,V){F.on("start.zoom",function(){C(this,arguments).event(V).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(V).end()}).tween("zoom",function(){var R=this,L=arguments,B=C(R,L).event(V),W=e.apply(R,L),G=$==null?b(W):typeof $=="function"?$.apply(R,L):$,Y=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),ie=R.__zoom,ae=typeof z=="function"?z.apply(R,L):z,se=l(ie.invert(G).concat(Y/ie.k),ae.invert(G).concat(Y/ae.k));return function(U){if(U===1)U=ae;else{var K=se(U),Q=Y/K[2];U=new xc(Q,G[0]-K[0]*Q,G[1]-K[1]*Q)}B.zoom(null,U)}})}function C(F,z,$){return!$&&F.__zooming||new A(F,z)}function A(F,z){this.that=F,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(F,z),this.taps=0}A.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,z){return this.mouse&&F!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var z=bs(this.that).datum();c.call(F,this.that,new bnt(F,{sourceEvent:this.sourceEvent,target:p,type:F,transform:this.that.__zoom,dispatch:c}),z)}};function M(F,...z){if(!t.apply(this,arguments))return;var $=C(this,z).event(F),V=this.__zoom,R=Math.max(s[0],Math.min(s[1],V.k*Math.pow(2,r.apply(this,arguments)))),L=ha(F);if($.wheel)($.mouse[0][0]!==L[0]||$.mouse[0][1]!==L[1])&&($.mouse[1]=V.invert($.mouse[0]=L)),clearTimeout($.wheel);else{if(V.k===R)return;$.mouse=[L,V.invert(L)],GS(this),$.start()}Fy(F),$.wheel=setTimeout(B,v),$.zoom("mouse",n(_(x(V,R),$.mouse[0],$.mouse[1]),$.extent,o));function B(){$.wheel=null,$.end()}}function T(F,...z){if(f||!t.apply(this,arguments))return;var $=F.currentTarget,V=C(this,z,!0).event(F),R=bs(F.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",Y,!0),L=ha(F,$),B=F.clientX,W=F.clientY;Ele(F.view),bR(F),V.mouse=[L,this.__zoom.invert(L)],GS(this),V.start();function G(ie){if(Fy(ie),!V.moved){var ae=ie.clientX-B,se=ie.clientY-W;V.moved=ae*ae+se*se>y}V.event(ie).zoom("mouse",n(_(V.that.__zoom,V.mouse[0]=ha(ie,$),V.mouse[1]),V.extent,o))}function Y(ie){R.on("mousemove.zoom mouseup.zoom",null),Cle(ie.view,V.moved),Fy(ie),V.event(ie).end()}}function N(F,...z){if(t.apply(this,arguments)){var $=this.__zoom,V=ha(F.changedTouches?F.changedTouches[0]:F,this),R=$.invert(V),L=$.k*(F.shiftKey?.5:2),B=n(_(x($,L),V,R),e.apply(this,z),o);Fy(F),a>0?bs(this).transition().duration(a).call(S,B,V,F):bs(this).call(p.transform,B,V,F)}}function I(F,...z){if(t.apply(this,arguments)){var $=F.touches,V=$.length,R=C(this,z,F.changedTouches.length===V).event(F),L,B,W,G;for(bR(F),B=0;B<V;++B)W=$[B],G=ha(W,this),G=[G,this.__zoom.invert(G),W.identifier],R.touch0?!R.touch1&&R.touch0[2]!==G[2]&&(R.touch1=G,R.taps=0):(R.touch0=G,L=!0,R.taps=1+!!d);d&&(d=clearTimeout(d)),L&&(R.taps<2&&(u=G[0],d=setTimeout(function(){d=null},g)),GS(this),R.start())}}function k(F,...z){if(this.__zooming){var $=C(this,z).event(F),V=F.changedTouches,R=V.length,L,B,W,G;for(Fy(F),L=0;L<R;++L)B=V[L],W=ha(B,this),$.touch0&&$.touch0[2]===B.identifier?$.touch0[0]=W:$.touch1&&$.touch1[2]===B.identifier&&($.touch1[0]=W);if(B=$.that.__zoom,$.touch1){var Y=$.touch0[0],ie=$.touch0[1],ae=$.touch1[0],se=$.touch1[1],U=(U=ae[0]-Y[0])*U+(U=ae[1]-Y[1])*U,K=(K=se[0]-ie[0])*K+(K=se[1]-ie[1])*K;B=x(B,Math.sqrt(U/K)),W=[(Y[0]+ae[0])/2,(Y[1]+ae[1])/2],G=[(ie[0]+se[0])/2,(ie[1]+se[1])/2]}else if($.touch0)W=$.touch0[0],G=$.touch0[1];else return;$.zoom("touch",n(_(B,W,G),$.extent,o))}}function j(F,...z){if(this.__zooming){var $=C(this,z).event(F),V=F.changedTouches,R=V.length,L,B;for(bR(F),f&&clearTimeout(f),f=setTimeout(function(){f=null},g),L=0;L<R;++L)B=V[L],$.touch0&&$.touch0[2]===B.identifier?delete $.touch0:$.touch1&&$.touch1[2]===B.identifier&&delete $.touch1;if($.touch1&&!$.touch0&&($.touch0=$.touch1,delete $.touch1),$.touch0)$.touch0[1]=this.__zoom.invert($.touch0[0]);else if($.end(),$.taps===2&&(B=ha(B,this),Math.hypot(u[0]-B[0],u[1]-B[1])<m)){var W=bs(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return p.wheelDelta=function(F){return arguments.length?(r=typeof F=="function"?F:w1(+F),p):r},p.filter=function(F){return arguments.length?(t=typeof F=="function"?F:w1(!!F),p):t},p.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:w1(!!F),p):i},p.extent=function(F){return arguments.length?(e=typeof F=="function"?F:w1([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),p):e},p.scaleExtent=function(F){return arguments.length?(s[0]=+F[0],s[1]=+F[1],p):[s[0],s[1]]},p.translateExtent=function(F){return arguments.length?(o[0][0]=+F[0][0],o[1][0]=+F[1][0],o[0][1]=+F[0][1],o[1][1]=+F[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(F){return arguments.length?(n=F,p):n},p.duration=function(F){return arguments.length?(a=+F,p):a},p.interpolate=function(F){return arguments.length?(l=F,p):l},p.on=function(){var F=c.on.apply(c,arguments);return F===c?p:F},p.clickDistance=function(F){return arguments.length?(y=(F=+F)*F,p):Math.sqrt(y)},p.tapDistance=function(F){return arguments.length?(m=+F,p):m},p}function Ant(){const t=P.useRef(null),{data:e}=Yr({queryKey:["/api/models"],initialData:sle});return P.useEffect(()=>{if(!t.current||!e)return;const n=bs(t.current);n.selectAll("*").remove();const r=t.current.clientWidth,i=400,s=r/2,o=i/2,a=150,l=2*Math.PI/e.length;n.append("circle").attr("cx",s).attr("cy",o).attr("r",60).attr("fill","hsl(var(--card))").attr("stroke","hsl(var(--primary))").attr("stroke-width",3),n.append("text").attr("x",s).attr("y",o-10).attr("text-anchor","middle").attr("class","fill-current font-bold text-sm").text("COGNISYS"),n.append("text").attr("x",s).attr("y",o+10).attr("text-anchor","middle").attr("class","fill-current text-xs text-muted-foreground").text("Orchestrator"),e.forEach((c,d)=>{const u=d*l-Math.PI/2,f=s+a*Math.cos(u),g=o+a*Math.sin(u);n.append("line").attr("x1",s).attr("y1",o).attr("x2",f).attr("y2",g).attr("stroke",c.isActive?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",1.5).attr("opacity",.3),n.append("circle").attr("cx",f).attr("cy",g).attr("r",35).attr("fill","hsl(var(--card))").attr("stroke",c.isActive?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",2);const v=n.append("text").attr("x",f).attr("y",g).attr("text-anchor","middle").attr("class","fill-current text-xs");c.name.split("-").forEach((m,p)=>{v.append("tspan").attr("x",f).attr("dy",p===0?-5:12).text(m.length>8?m.substring(0,8):m)})})},[e]),h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(bd,{className:"h-5 w-5 text-primary"}),"Model Relationship Map"]}),h.jsx(Wt,{children:"Visual representation of all connected AI models"})]}),h.jsx(ct,{children:h.jsx("svg",{ref:t,className:"w-full",height:"400"})})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Active Models"}),h.jsx(Wt,{children:"Models currently available for routing"})]}),h.jsx(ct,{children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e==null?void 0:e.filter(n=>n.isActive).map(n=>h.jsx("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm",children:n.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(fn,{variant:"outline",className:"text-xs",children:n.provider}),h.jsx(fn,{variant:"outline",className:"text-xs",children:n.type}),n.reasoning&&h.jsxs(fn,{variant:"secondary",className:"text-xs gap-1",children:[h.jsx(Vj,{className:"h-3 w-3"}),"Reasoning"]})]}),n.role&&h.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Role: ",n.role.replace(/_/g," ")]})]})},n.id))})})]})]})}const Tnt=1,Pnt=1e6;let wR=0;function Nnt(){return wR=(wR+1)%Number.MAX_SAFE_INTEGER,wR.toString()}const SR=new Map,MW=t=>{if(SR.has(t))return;const e=setTimeout(()=>{SR.delete(t),D0({type:"REMOVE_TOAST",toastId:t})},Pnt);SR.set(t,e)},Rnt=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Tnt)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?MW(n):t.toasts.forEach(r=>{MW(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},XS=[];let qS={toasts:[]};function D0(t){qS=Rnt(qS,t),XS.forEach(e=>{e(qS)})}function Ont({...t}){const e=Nnt(),n=i=>D0({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>D0({type:"DISMISS_TOAST",toastId:e});return D0({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function $h(){const[t,e]=P.useState(qS);return P.useEffect(()=>(XS.push(e),()=>{const n=XS.indexOf(e);n>-1&&XS.splice(n,1)}),[t]),{...t,toast:Ont,dismiss:n=>D0({type:"DISMISS_TOAST",toastId:n})}}function Int(){const{toast:t}=$h(),e=Rl(),[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState(""),[l,c]=P.useState(1),{data:d,isLoading:u,error:f}=Yr({queryKey:["cognisysRoutingRules"],queryFn:async()=>{const y=await fetch("/api/cognisys/routing-rules");if(!y.ok){const m=await y.text();throw console.error("API Error Response:",m),new Error(`Network response was not ok: ${y.status} ${y.statusText} - ${m}`)}return y.json()}}),g=Nn({mutationFn:async y=>{const m=await fetch("/api/cognisys/routing-rules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)});if(!m.ok){const p=await m.text();throw console.error("API Error Response (Create Rule):",p),new Error(`Failed to create routing rule: ${m.status} ${m.statusText} - ${p}`)}return m.json()},onSuccess:()=>{t({title:"Rule Created",description:"New routing rule has been successfully created."}),e.invalidateQueries({queryKey:["cognisysRoutingRules"]}),r(""),s(""),a(""),c(1)},onError:y=>{t({title:"Error",description:`Failed to create rule: ${y.message}`,variant:"destructive"})}}),v=Nn({mutationFn:async y=>{const m=await fetch(`/api/cognisys/routing-rules/${y}`,{method:"DELETE"});if(!m.ok){const p=await m.text();throw console.error("API Error Response (Delete Rule):",p),new Error(`Failed to delete routing rule: ${m.status} ${m.statusText} - ${p}`)}return m.json()},onSuccess:()=>{t({title:"Rule Deleted",description:"Routing rule has been successfully deleted."}),e.invalidateQueries({queryKey:["cognisysRoutingRules"]})},onError:y=>{t({title:"Error",description:`Failed to delete rule: ${y.message}`,variant:"destructive"})}});return u?h.jsx("div",{className:"p-6 text-center",children:"Loading routing rules..."}):f?(console.error("Error loading routing rules:",f),h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading routing rules: ",f.message]})):(console.log("Routing Rules:",d),h.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(IK,{className:"h-5 w-5 text-primary"}),"Routing Rules"]}),h.jsx(Wt,{className:"mt-1",children:"Define intent-based routing to appropriate models"})]}),h.jsxs(Ge,{"data-testid":"button-add-rule",onClick:()=>g.mutate({intent:n,condition:i,targetModel:o,priority:l}),disabled:g.isPending||!n||!i||!o,children:[g.isPending?h.jsx(hi,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Add Rule"]})]})}),h.jsx(ct,{className:"space-y-4",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Intent Type"}),h.jsxs(Al,{value:n,onValueChange:r,children:[h.jsx(ja,{"data-testid":"select-intent-type",children:h.jsx(Tl,{placeholder:"Select intent..."})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"code_generation",children:"Code Generation"}),h.jsx(un,{value:"reasoning",children:"Reasoning"}),h.jsx(un,{value:"conversation",children:"Conversation"}),h.jsx(un,{value:"summarization",children:"Summarization"}),h.jsx(un,{value:"shell_command",children:"Shell Command"}),h.jsx(un,{value:"custom",children:"Custom"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Condition"}),h.jsx(An,{placeholder:'contains("keyword")',"data-testid":"input-condition",value:i,onChange:y=>s(y.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Target Model"}),h.jsxs(Al,{value:o,onValueChange:a,children:[h.jsx(ja,{"data-testid":"select-target-model",children:h.jsx(Tl,{placeholder:"Select model..."})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"gpt-4",children:"GPT-4"}),h.jsx(un,{value:"claude",children:"Claude-3.5-Sonnet"}),h.jsx(un,{value:"codestral",children:"Codestral"}),h.jsx(un,{value:"gemini",children:"Gemini-Pro"})]})]})]})]})})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Active Rules"}),h.jsx(Wt,{children:"Rules are evaluated in order of priority"})]}),h.jsx(ct,{className:"space-y-3",children:u?h.jsx("p",{className:"text-muted-foreground",children:"Loading rules..."}):f?h.jsxs("p",{className:"text-red-500",children:["Error loading rules: ",f.message]}):h.jsx(h.Fragment,{children:Array.isArray(d)&&d.length>0?d.map(y=>{try{return h.jsx(Ze,{className:"bg-card/50",children:h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-start justify-between gap-4",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(fn,{variant:"default",className:"text-xs",children:y.intent.replace(/_/g," ")}),h.jsxs(fn,{variant:"outline",className:"text-xs",children:["Priority ",y.priority]})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Condition:"}),h.jsx("div",{className:"text-sm font-mono bg-muted/30 px-2 py-1 rounded",children:y.condition})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Target:"}),h.jsx(fn,{variant:"secondary",className:"text-xs",children:y.targetModel})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ge,{variant:"ghost",size:"sm",children:"Edit"}),h.jsx(Ge,{variant:"ghost",size:"sm","data-testid":`button-delete-rule-${y.id}`,onClick:()=>v.mutate(y.id),disabled:v.isPending,children:v.isPending?h.jsx(hi,{className:"h-4 w-4 animate-spin"}):h.jsx(z_,{className:"h-4 w-4"})})]})]})})},y.id)}catch(m){return console.error(`Error rendering rule with ID ${y.id||"unknown"}:`,m),h.jsxs(Ze,{className:"bg-red-100 border-red-400 text-red-700 p-4 mb-2",children:[h.jsx("p",{children:"Error rendering rule. Please check console for details."}),y.id&&h.jsxs("p",{children:["Rule ID: ",y.id]}),h.jsxs("p",{children:["Error: ",m.message]})]},`error-${y.id||Math.random()}`)}}):h.jsx("p",{className:"text-muted-foreground",children:"No routing rules found."})})})]}),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Routing Logic"})}),h.jsxs(ct,{className:"text-sm text-muted-foreground space-y-2",children:[h.jsx("p",{children:"COGNISYS evaluates each request against routing rules in priority order:"}),h.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[h.jsx("li",{children:"Intent detection identifies the request type"}),h.jsx("li",{children:"Matching rules are found based on conditions"}),h.jsx("li",{children:"Highest priority matching rule determines the target model"}),h.jsx("li",{children:"Request is routed to the selected model"}),h.jsx("li",{children:"Optional reasoning step is applied if configured"})]})]})]})]}))}const knt=[{id:"openai",name:"OpenAI",baseUrl:"https://api.openai.com/v1",enabled:!0},{id:"anthropic",name:"Anthropic",baseUrl:"https://api.anthropic.com/v1",enabled:!0},{id:"google",name:"Google Gemini",baseUrl:"https://generativelanguage.googleapis.com/v1",enabled:!0},{id:"openrouter",name:"OpenRouter",baseUrl:"https://openrouter.ai/api/v1",enabled:!0},{id:"huggingface",name:"HuggingFace",baseUrl:"https://api-inference.huggingface.co",enabled:!1}];function Dnt(){const[t,e]=P.useState({});return h.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[h.jsx(Ze,{children:h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(dg,{className:"h-5 w-5 text-primary"}),"Provider Configuration"]}),h.jsx(Wt,{children:"Manage API keys and settings for LLM providers"})]})}),knt.map(n=>h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(ot,{className:"text-base",children:n.name}),h.jsx(Wt,{className:"text-xs mt-1",children:n.baseUrl})]}),h.jsx(k4,{checked:n.enabled,"data-testid":`switch-${n.id}`})]})}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"API Key"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(An,{type:t[n.id]?"text":"password",placeholder:"sk-...","data-testid":`input-api-key-${n.id}`}),h.jsx(Ge,{variant:"outline",size:"icon",onClick:()=>e({...t,[n.id]:!t[n.id]}),"data-testid":`button-toggle-${n.id}`,children:t[n.id]?h.jsx(NK,{className:"h-4 w-4"}):h.jsx(RK,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Base URL (optional)"}),h.jsx(An,{defaultValue:n.baseUrl,"data-testid":`input-base-url-${n.id}`})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Organization ID (optional)"}),h.jsx(An,{placeholder:"org-...","data-testid":`input-org-id-${n.id}`})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ge,{variant:"outline",size:"sm","data-testid":`button-test-${n.id}`,children:"Test Connection"}),h.jsx(Ge,{size:"sm","data-testid":`button-save-${n.id}`,children:"Save"})]})]})]},n.id)),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Multi-Provider Benefits"})}),h.jsx(ct,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"Automatic failover if one provider is down"}),h.jsx("li",{children:"Cost optimization by routing to cheaper models"}),h.jsx("li",{children:"Access to specialized models from different providers"}),h.jsx("li",{children:"No vendor lock-in, freedom to switch providers"}),h.jsx("li",{children:"Load balancing across multiple providers"})]})})]})]})}function Hr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Hr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const Pl={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},s_=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Lle=["Enter"," ","Escape"],jle={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var Gg;(function(t){t.Strict="strict",t.Loose="loose"})(Gg||(Gg={}));var qf;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(qf||(qf={}));var o_;(function(t){t.Partial="partial",t.Full="full"})(o_||(o_={}));const Fle={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var ku;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(ku||(ku={}));var eM;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(eM||(eM={}));var Lt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(Lt||(Lt={}));const AW={[Lt.Left]:Lt.Right,[Lt.Right]:Lt.Left,[Lt.Top]:Lt.Bottom,[Lt.Bottom]:Lt.Top};function Ble(t){return t===null?null:t?"valid":"invalid"}const Ule=t=>"id"in t&&"source"in t&&"target"in t,Lnt=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),Y4=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),wb=(t,e=[0,0])=>{const{width:n,height:r}=Jc(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},jnt=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):Y4(i)?i:e.nodeLookup.get(i.id));const a=o?tM(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return KT(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return YT(n)},Sb=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=KT(n,tM(i)),r=!0)}),r?YT(n):{x:0,y:0,width:0,height:0}},Z4=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...Cb(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:d,selectable:u=!0,hidden:f=!1}=c;if(o&&!u||f)continue;const g=d.width??c.width??c.initialWidth??null,v=d.height??c.height??c.initialHeight??null,y=a_(a,qg(c)),m=(g??0)*(v??0),p=s&&y>0;(!c.internals.handleBounds||p||y>=m||c.dragging)&&l.push(c)}return l},Fnt=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function Bnt(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Unt({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const a=Bnt(t,o),l=Sb(a),c=Q4(l,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function zle({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},d=o.origin??r;let u=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",Pl.error005());else{const g=a.measured.width,v=a.measured.height;g&&v&&(u=[[l,c],[l+g,c+v]])}else a&&Kg(o.extent)&&(u=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const f=Kg(u)?Sh(e,u,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",Pl.error015())),{position:{x:f.x-l+(o.measured.width??0)*d[0],y:f.y-c+(o.measured.height??0)*d[1]},positionAbsolute:f}}async function znt({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(f=>f.id)),o=[];for(const f of n){if(f.deletable===!1)continue;const g=s.has(f.id),v=!g&&f.parentId&&o.find(y=>y.id===f.parentId);(g||v)&&o.push(f)}const a=new Set(e.map(f=>f.id)),l=r.filter(f=>f.deletable!==!1),d=Fnt(o,l);for(const f of l)a.has(f.id)&&!d.find(v=>v.id===f.id)&&d.push(f);if(!i)return{edges:d,nodes:o};const u=await i({nodes:o,edges:d});return typeof u=="boolean"?u?{edges:d,nodes:o}:{edges:[],nodes:[]}:u}const Xg=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Sh=(t={x:0,y:0},e,n)=>({x:Xg(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:Xg(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function $le(t,e,n){const{width:r,height:i}=Jc(n),{x:s,y:o}=n.internals.positionAbsolute;return Sh(t,[[s,o],[s+r,o+i]],e)}const TW=(t,e,n)=>t<e?Xg(Math.abs(t-e),1,e)/e:t>n?-Xg(Math.abs(t-n),1,e)/e:0,Hle=(t,e,n=15,r=40)=>{const i=TW(t.x,r,e.width-r)*n,s=TW(t.y,r,e.height-r)*n;return[i,s]},KT=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),oL=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),YT=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),qg=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=Y4(t)?t.internals.positionAbsolute:wb(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},tM=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=Y4(t)?t.internals.positionAbsolute:wb(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},Vle=(t,e)=>YT(KT(oL(t),oL(e))),a_=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},PW=t=>_a(t.width)&&_a(t.height)&&_a(t.x)&&_a(t.y),_a=t=>!isNaN(t)&&isFinite(t),$nt=(t,e)=>{},Eb=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),Cb=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?Eb(a,o):a},nM=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Ep(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Hnt(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Ep(t,n),i=Ep(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Ep(t.top??t.y??0,n),i=Ep(t.bottom??t.y??0,n),s=Ep(t.left??t.x??0,e),o=Ep(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function Vnt(t,e,n,r,i,s){const{x:o,y:a}=nM(t,[e,n,r]),{x:l,y:c}=nM({x:t.x+t.width,y:t.y+t.height},[e,n,r]),d=i-l,u=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(d),bottom:Math.floor(u)}}const Q4=(t,e,n,r,i,s)=>{const o=Hnt(s,e,n),a=(e-o.x)/t.width,l=(n-o.y)/t.height,c=Math.min(a,l),d=Xg(c,r,i),u=t.x+t.width/2,f=t.y+t.height/2,g=e/2-u*d,v=n/2-f*d,y=Vnt(t,g,v,d,e,n),m={left:Math.min(y.left-o.left,0),top:Math.min(y.top-o.top,0),right:Math.min(y.right-o.right,0),bottom:Math.min(y.bottom-o.bottom,0)};return{x:g-m.left+m.right,y:v-m.top+m.bottom,zoom:d}},l_=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function Kg(t){return t!=null&&t!=="parent"}function Jc(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Wle(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Gle(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function NW(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Wnt(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Gnt(t){return{...jle,...t||{}}}function L0(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=ba(t),a=Cb({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?Eb(a,e):a;return{xSnapped:l,ySnapped:c,...a}}const J4=t=>({width:t.offsetWidth,height:t.offsetHeight}),Xle=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Xnt=["INPUT","SELECT","TEXTAREA"];function qle(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:Xnt.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Kle=t=>"clientX"in t,ba=(t,e)=>{var s,o;const n=Kle(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},RW=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...J4(o)}})};function Yle({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,d=Math.abs(l-t),u=Math.abs(c-e);return[l,c,d,u]}function S1(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function OW({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case Lt.Left:return[e-S1(e-r,s),n];case Lt.Right:return[e+S1(r-e,s),n];case Lt.Top:return[e,n-S1(n-i,s)];case Lt.Bottom:return[e,n+S1(i-n,s)]}}function Zle({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,curvature:o=.25}){const[a,l]=OW({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,d]=OW({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[u,f,g,v]=Yle({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:d});return[`M${t},${e} C${a},${l} ${c},${d} ${r},${i}`,u,f,g,v]}function Qle({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function qnt({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(r!==void 0)return r;const s=i&&n?1e3:0,o=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return s+o}function Knt({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=KT(tM(t),tM(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return a_(o,YT(s))>0}const Ynt=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,Znt=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),eB=(t,e)=>{if(!t.source||!t.target)return e;let n;return Ule(t)?n={...t}:n={...t,id:Ynt(t)},Znt(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function Jle({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=Qle({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const IW={[Lt.Left]:{x:-1,y:0},[Lt.Right]:{x:1,y:0},[Lt.Top]:{x:0,y:-1},[Lt.Bottom]:{x:0,y:1}},Qnt=({source:t,sourcePosition:e=Lt.Bottom,target:n})=>e===Lt.Left||e===Lt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},kW=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function Jnt({source:t,sourcePosition:e=Lt.Bottom,target:n,targetPosition:r=Lt.Top,center:i,offset:s,stepPosition:o}){const a=IW[e],l=IW[r],c={x:t.x+a.x*s,y:t.y+a.y*s},d={x:n.x+l.x*s,y:n.y+l.y*s},u=Qnt({source:c,sourcePosition:e,target:d}),f=u.x!==0?"x":"y",g=u[f];let v=[],y,m;const p={x:0,y:0},x={x:0,y:0},[,,_,b]=Qle({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[f]*l[f]===-1){f==="x"?(y=i.x??c.x+(d.x-c.x)*o,m=i.y??(c.y+d.y)/2):(y=i.x??(c.x+d.x)/2,m=i.y??c.y+(d.y-c.y)*o);const C=[{x:y,y:c.y},{x:y,y:d.y}],A=[{x:c.x,y:m},{x:d.x,y:m}];a[f]===g?v=f==="x"?C:A:v=f==="x"?A:C}else{const C=[{x:c.x,y:d.y}],A=[{x:d.x,y:c.y}];if(f==="x"?v=a.x===g?A:C:v=a.y===g?C:A,e===r){const k=Math.abs(t[f]-n[f]);if(k<=s){const j=Math.min(s-1,s-k);a[f]===g?p[f]=(c[f]>t[f]?-1:1)*j:x[f]=(d[f]>n[f]?-1:1)*j}}if(e!==r){const k=f==="x"?"y":"x",j=a[f]===l[k],F=c[k]>d[k],z=c[k]<d[k];(a[f]===1&&(!j&&F||j&&z)||a[f]!==1&&(!j&&z||j&&F))&&(v=f==="x"?C:A)}const M={x:c.x+p.x,y:c.y+p.y},T={x:d.x+x.x,y:d.y+x.y},N=Math.max(Math.abs(M.x-v[0].x),Math.abs(T.x-v[0].x)),I=Math.max(Math.abs(M.y-v[0].y),Math.abs(T.y-v[0].y));N>=I?(y=(M.x+T.x)/2,m=v[0].y):(y=v[0].x,m=(M.y+T.y)/2)}return[[t,{x:c.x+p.x,y:c.y+p.y},...v,{x:d.x+x.x,y:d.y+x.y},n],y,m,_,b]}function ert(t,e,n,r){const i=Math.min(kW(t,e)/2,kW(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,d=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*d}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function aL({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20,stepPosition:d=.5}){const[u,f,g,v,y]=Jnt({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:d});return[u.reduce((p,x,_)=>{let b="";return _>0&&_<u.length-1?b=ert(u[_-1],x,u[_+1],o):b=`${_===0?"M":"L"}${x.x} ${x.y}`,p+=b,p},""),f,g,v,y]}function DW(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function trt(t){var u;const{sourceNode:e,targetNode:n}=t;if(!DW(e)||!DW(n))return null;const r=e.internals.handleBounds||LW(e.handles),i=n.internals.handleBounds||LW(n.handles),s=jW((r==null?void 0:r.source)??[],t.sourceHandle),o=jW(t.connectionMode===Gg.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(u=t.onError)==null||u.call(t,"008",Pl.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||Lt.Bottom,l=(o==null?void 0:o.position)||Lt.Top,c=c_(e,s,a),d=c_(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:d.x,targetY:d.y,sourcePosition:a,targetPosition:l}}function LW(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function c_(t,e,n=Lt.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??Jc(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case Lt.Top:return{x:i+o/2,y:s};case Lt.Right:return{x:i+o,y:s+a/2};case Lt.Bottom:return{x:i+o/2,y:s+a};case Lt.Left:return{x:i,y:s+a/2}}}function jW(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function lL(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function nrt(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=lL(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const ece=1e3,rrt=10,tB={nodeOrigin:[0,0],nodeExtent:s_,elevateNodesOnSelect:!0,defaults:{}},irt={...tB,checkEquality:!0};function nB(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function srt(t,e,n){const r=nB(tB,n);for(const i of t.values())if(i.parentId)rB(i,t,e,r);else{const s=wb(i,r.nodeOrigin),o=Kg(i.extent)?i.extent:r.nodeExtent,a=Sh(s,o,Jc(i));i.internals.positionAbsolute=a}}function ort(t,e){if(!t.handles)return t.measured?e==null?void 0:e.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function cL(t,e,n,r){var c,d;const i=nB(irt,r);let s={i:-1},o=t.length>0;const a=new Map(e),l=i!=null&&i.elevateNodesOnSelect?ece:0;e.clear(),n.clear();for(const u of t){let f=a.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))e.set(u.id,f);else{const g=wb(u,i.nodeOrigin),v=Kg(u.extent)?u.extent:i.nodeExtent,y=Sh(g,v,Jc(u));f={...i.defaults,...u,measured:{width:(c=u.measured)==null?void 0:c.width,height:(d=u.measured)==null?void 0:d.height},internals:{positionAbsolute:y,handleBounds:ort(u,f),z:tce(u,l),userNode:u}},e.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(o=!1),u.parentId&&rB(f,e,n,r,s)}return o}function art(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function rB(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a}=nB(tB,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}art(t,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*rrt),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const d=s?ece:0,{x:u,y:f,z:g}=lrt(t,c,o,a,d),{positionAbsolute:v}=t.internals,y=u!==v.x||f!==v.y;(y||g!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:y?{x:u,y:f}:v,z:g}})}function tce(t,e){return(_a(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function lrt(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=Jc(t),l=wb(t,n),c=Kg(t.extent)?Sh(l,t.extent,a):l;let d=Sh({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(d=$le(d,a,e));const u=tce(t,i),f=e.internals.z??0;return{x:d.x,y:d.y,z:f>=u?f+1:u}}function iB(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??qg(l),d=Vle(c,a.rect);s.set(a.parentId,{expandedRect:d,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var _;const d=l.internals.positionAbsolute,u=Jc(l),f=l.origin??r,g=a.x<d.x?Math.round(Math.abs(d.x-a.x)):0,v=a.y<d.y?Math.round(Math.abs(d.y-a.y)):0,y=Math.max(u.width,Math.round(a.width)),m=Math.max(u.height,Math.round(a.height)),p=(y-u.width)*f[0],x=(m-u.height)*f[1];(g>0||v>0||p||x)&&(i.push({id:c,type:"position",position:{x:l.position.x-g+p,y:l.position.y-v+x}}),(_=n.get(c))==null||_.forEach(b=>{t.some(S=>S.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+g,y:b.position.y+v}})})),(u.width<a.width||u.height<a.height||g||v)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:y+(g?f[0]*g-p:0),height:m+(v?f[1]*v-x:0)}})}),i}function crt(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:d}=new window.DOMMatrixReadOnly(c.transform),u=[];for(const f of t.values()){const g=e.get(f.id);if(!g)continue;if(g.hidden){e.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const v=J4(f.nodeElement),y=g.measured.width!==v.width||g.measured.height!==v.height;if(!!(v.width&&v.height&&(y||!g.internals.handleBounds||f.force))){const p=f.nodeElement.getBoundingClientRect(),x=Kg(g.extent)?g.extent:s;let{positionAbsolute:_}=g.internals;g.parentId&&g.extent==="parent"?_=$le(_,v,e.get(g.parentId)):x&&(_=Sh(_,x,v));const b={...g,measured:v,internals:{...g.internals,positionAbsolute:_,handleBounds:{source:RW("source",f.nodeElement,p,d,g.id),target:RW("target",f.nodeElement,p,d,g.id)}}};e.set(g.id,b),g.parentId&&rB(b,e,n,{nodeOrigin:i}),a=!0,y&&(l.push({id:g.id,type:"dimensions",dimensions:v}),g.expandParent&&g.parentId&&u.push({id:g.id,parentId:g.parentId,rect:qg(b,i)}))}}if(u.length>0){const f=iB(u,e,n,i);l.push(...f)}return{changes:l,updatedInternals:a}}async function urt({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function FW(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,e))}}function nce(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,d=`${s}-${a}--${i}-${o}`;FW("source",l,d,t,i,o),FW("target",l,c,t,s,a),e.set(r.id,r)}}function rce(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:rce(n,e):!1}function BW(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function drt(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!rce(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function ER({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,d]of e){const u=(o=n.get(c))==null?void 0:o.internals.userNode;u&&i.push({...u,position:d.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function frt({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=Eb(s,e);return{x:o.x-s.x,y:o.y-s.y}}function hrt({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},d=null,u=!1,f=null,g=!1,v=!1,y=null;function m({noDragClassName:x,handleSelector:_,domNode:b,isSelectable:S,nodeId:C,nodeClickDistance:A=0}){f=bs(b);function M({x:k,y:j}){const{nodeLookup:F,nodeExtent:z,snapGrid:$,snapToGrid:V,nodeOrigin:R,onNodeDrag:L,onSelectionDrag:B,onError:W,updateNodePositions:G}=e();s={x:k,y:j};let Y=!1;const ie=a.size>1,ae=ie&&z?oL(Sb(a)):null,se=ie&&V?frt({dragItems:a,snapGrid:$,x:k,y:j}):null;for(const[U,K]of a){if(!F.has(U))continue;let Q={x:k-K.distance.x,y:j-K.distance.y};V&&(Q=se?{x:Math.round(Q.x+se.x),y:Math.round(Q.y+se.y)}:Eb(Q,$));let ee=null;if(ie&&z&&!K.extent&&ae){const{positionAbsolute:q}=K.internals,ne=q.x-ae.x+z[0][0],fe=q.x+K.measured.width-ae.x2+z[1][0],me=q.y-ae.y+z[0][1],pe=q.y+K.measured.height-ae.y2+z[1][1];ee=[[ne,me],[fe,pe]]}const{position:ue,positionAbsolute:J}=zle({nodeId:U,nextPosition:Q,nodeLookup:F,nodeExtent:ee||z,nodeOrigin:R,onError:W});Y=Y||K.position.x!==ue.x||K.position.y!==ue.y,K.position=ue,K.internals.positionAbsolute=J}if(v=v||Y,!!Y&&(G(a,!0),y&&(r||L||!C&&B))){const[U,K]=ER({nodeId:C,dragItems:a,nodeLookup:F});r==null||r(y,a,U,K),L==null||L(y,U,K),C||B==null||B(y,K)}}async function T(){if(!d)return;const{transform:k,panBy:j,autoPanSpeed:F,autoPanOnNodeDrag:z}=e();if(!z){l=!1,cancelAnimationFrame(o);return}const[$,V]=Hle(c,d,F);($!==0||V!==0)&&(s.x=(s.x??0)-$/k[2],s.y=(s.y??0)-V/k[2],await j({x:$,y:V})&&M(s)),o=requestAnimationFrame(T)}function N(k){var ie;const{nodeLookup:j,multiSelectionActive:F,nodesDraggable:z,transform:$,snapGrid:V,snapToGrid:R,selectNodesOnDrag:L,onNodeDragStart:B,onSelectionDragStart:W,unselectNodesAndEdges:G}=e();u=!0,(!L||!S)&&!F&&C&&((ie=j.get(C))!=null&&ie.selected||G()),S&&L&&C&&(t==null||t(C));const Y=L0(k.sourceEvent,{transform:$,snapGrid:V,snapToGrid:R,containerBounds:d});if(s=Y,a=drt(j,z,Y,C),a.size>0&&(n||B||!C&&W)){const[ae,se]=ER({nodeId:C,dragItems:a,nodeLookup:j});n==null||n(k.sourceEvent,a,ae,se),B==null||B(k.sourceEvent,ae,se),C||W==null||W(k.sourceEvent,se)}}const I=Mle().clickDistance(A).on("start",k=>{const{domNode:j,nodeDragThreshold:F,transform:z,snapGrid:$,snapToGrid:V}=e();d=(j==null?void 0:j.getBoundingClientRect())||null,g=!1,v=!1,y=k.sourceEvent,F===0&&N(k),s=L0(k.sourceEvent,{transform:z,snapGrid:$,snapToGrid:V,containerBounds:d}),c=ba(k.sourceEvent,d)}).on("drag",k=>{const{autoPanOnNodeDrag:j,transform:F,snapGrid:z,snapToGrid:$,nodeDragThreshold:V,nodeLookup:R}=e(),L=L0(k.sourceEvent,{transform:F,snapGrid:z,snapToGrid:$,containerBounds:d});if(y=k.sourceEvent,(k.sourceEvent.type==="touchmove"&&k.sourceEvent.touches.length>1||C&&!R.has(C))&&(g=!0),!g){if(!l&&j&&u&&(l=!0,T()),!u){const B=ba(k.sourceEvent,d),W=B.x-c.x,G=B.y-c.y;Math.sqrt(W*W+G*G)>V&&N(k)}(s.x!==L.xSnapped||s.y!==L.ySnapped)&&a&&u&&(c=ba(k.sourceEvent,d),M(L))}}).on("end",k=>{if(!(!u||g)&&(l=!1,u=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:j,updateNodePositions:F,onNodeDragStop:z,onSelectionDragStop:$}=e();if(v&&(F(a,!1),v=!1),i||z||!C&&$){const[V,R]=ER({nodeId:C,dragItems:a,nodeLookup:j,dragging:!1});i==null||i(k.sourceEvent,a,V,R),z==null||z(k.sourceEvent,V,R),C||$==null||$(k.sourceEvent,R)}}}).filter(k=>{const j=k.target;return!k.button&&(!x||!BW(j,`.${x}`,b))&&(!_||BW(j,_,b))});f.call(I)}function p(){f==null||f.on(".drag",null)}return{update:m,destroy:p}}function prt(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())a_(i,qg(s))>0&&r.push(s);return r}const mrt=250;function grt(t,e,n,r){var a,l;let i=[],s=1/0;const o=prt(t,n,e+mrt);for(const c of o){const d=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const u of d){if(r.nodeId===u.nodeId&&r.type===u.type&&r.id===u.id)continue;const{x:f,y:g}=c_(c,u,u.position,!0),v=Math.sqrt(Math.pow(f-t.x,2)+Math.pow(g-t.y,2));v>e||(v<s?(i=[{...u,x:f,y:g}],s=v):v===s&&i.push({...u,x:f,y:g}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(d=>d.type===c)??i[0]}return i[0]}function ice(t,e,n,r,i,s=!1){var c,d,u;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((d=o.internals.handleBounds)==null?void 0:d.source)??[],...((u=o.internals.handleBounds)==null?void 0:u.target)??[]],l=(n?a==null?void 0:a.find(f=>f.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...c_(o,l,l.position,!0)}:l}function sce(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function vrt(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const oce=()=>!0;function yrt(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:d,flowId:u,panBy:f,cancelConnection:g,onConnectStart:v,onConnect:y,onConnectEnd:m,isValidConnection:p=oce,onReconnectEnd:x,updateConnection:_,getTransform:b,getFromHandle:S,autoPanSpeed:C,dragThreshold:A=1,handleDomNode:M}){const T=Xle(t.target);let N=0,I;const{x:k,y:j}=ba(t),F=sce(s,M),z=a==null?void 0:a.getBoundingClientRect();let $=!1;if(!z||!F)return;const V=ice(i,F,r,l,e);if(!V)return;let R=ba(t,z),L=!1,B=null,W=!1,G=null;function Y(){if(!d||!z)return;const[ue,J]=Hle(R,z,C);f({x:ue,y:J}),N=requestAnimationFrame(Y)}const ie={...V,nodeId:i,type:F,position:V.position},ae=l.get(i);let U={inProgress:!0,isValid:null,from:c_(ae,ie,Lt.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:ae,to:R,toHandle:null,toPosition:AW[ie.position],toNode:null};function K(){$=!0,_(U),v==null||v(t,{nodeId:i,handleId:r,handleType:F})}A===0&&K();function Q(ue){if(!$){const{x:fe,y:me}=ba(ue),pe=fe-k,Ae=me-j;if(!(pe*pe+Ae*Ae>A*A))return;K()}if(!S()||!ie){ee(ue);return}const J=b();R=ba(ue,z),I=grt(Cb(R,J,!1,[1,1]),n,l,ie),L||(Y(),L=!0);const q=ace(ue,{handle:I,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:p,doc:T,lib:c,flowId:u,nodeLookup:l});G=q.handleDomNode,B=q.connection,W=vrt(!!I,q.isValid);const ne={...U,isValid:W,to:q.toHandle&&W?nM({x:q.toHandle.x,y:q.toHandle.y},J):R,toHandle:q.toHandle,toPosition:W&&q.toHandle?q.toHandle.position:AW[ie.position],toNode:q.toHandle?l.get(q.toHandle.nodeId):null};W&&I&&U.toHandle&&ne.toHandle&&U.toHandle.type===ne.toHandle.type&&U.toHandle.nodeId===ne.toHandle.nodeId&&U.toHandle.id===ne.toHandle.id&&U.to.x===ne.to.x&&U.to.y===ne.to.y||(_(ne),U=ne)}function ee(ue){if(!("touches"in ue&&ue.touches.length>0)){if($){(I||G)&&B&&W&&(y==null||y(B));const{inProgress:J,...q}=U,ne={...q,toPosition:U.toHandle?U.toPosition:null};m==null||m(ue,ne),s&&(x==null||x(ue,ne))}g(),cancelAnimationFrame(N),L=!1,W=!1,B=null,G=null,T.removeEventListener("mousemove",Q),T.removeEventListener("mouseup",ee),T.removeEventListener("touchmove",Q),T.removeEventListener("touchend",ee)}}T.addEventListener("mousemove",Q),T.addEventListener("mouseup",ee),T.addEventListener("touchmove",Q),T.addEventListener("touchend",ee)}function ace(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=oce,nodeLookup:d}){const u=s==="target",f=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:g,y:v}=ba(t),y=o.elementFromPoint(g,v),m=y!=null&&y.classList.contains(`${a}-flow__handle`)?y:f,p={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){const x=sce(void 0,m),_=m.getAttribute("data-nodeid"),b=m.getAttribute("data-handleid"),S=m.classList.contains("connectable"),C=m.classList.contains("connectableend");if(!_||!x)return p;const A={source:u?_:r,sourceHandle:u?b:i,target:u?r:_,targetHandle:u?i:b};p.connection=A;const T=S&&C&&(n===Gg.Strict?u&&x==="source"||!u&&x==="target":_!==r||b!==i);p.isValid=T&&c(A),p.toHandle=ice(_,x,b,d,n,!0)}return p}const uL={onPointerDown:yrt,isValid:ace};function xrt({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=bs(t);function s({translateExtent:a,width:l,height:c,zoomStep:d=1,pannable:u=!0,zoomable:f=!0,inversePan:g=!1}){const v=_=>{if(_.sourceEvent.type!=="wheel"||!e)return;const b=n(),S=_.sourceEvent.ctrlKey&&l_()?10:1,C=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*d,A=b[2]*Math.pow(2,C*S);e.scaleTo(A)};let y=[0,0];const m=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(y=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},p=_=>{const b=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const S=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],C=[S[0]-y[0],S[1]-y[1]];y=S;const A=r()*Math.max(b[2],Math.log(b[2]))*(g?-1:1),M={x:b[0]-C[0]*A,y:b[1]-C[1]*A},T=[[0,0],[l,c]];e.setViewportConstrained({x:M.x,y:M.y,zoom:b[2]},T,a)},x=Dle().on("start",m).on("zoom",u?p:null).on("zoom.wheel",f?v:null);i.call(x,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:ha}}const ZT=t=>({x:t.x,y:t.y,zoom:t.k}),CR=({x:t,y:e,zoom:n})=>qT.translate(t,e).scale(n),vm=(t,e)=>t.target.closest(`.${e}`),lce=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),_rt=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,MR=(t,e=0,n=_rt,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},cce=t=>{const e=t.ctrlKey&&l_()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function brt({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return d=>{if(vm(d,e))return d.ctrlKey&&d.preventDefault(),!1;d.preventDefault(),d.stopImmediatePropagation();const u=n.property("__zoom").k||1;if(d.ctrlKey&&o){const m=ha(d),p=cce(d),x=u*Math.pow(2,p);r.scaleTo(n,x,m,d);return}const f=d.deltaMode===1?20:1;let g=i===qf.Vertical?0:d.deltaX*f,v=i===qf.Horizontal?0:d.deltaY*f;!l_()&&d.shiftKey&&i!==qf.Vertical&&(g=d.deltaY*f,v=0),r.translateBy(n,-(g/u)*s,-(v/u)*s,{internal:!0});const y=ZT(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(l==null||l(d,y),t.panScrollTimeout=setTimeout(()=>{c==null||c(d,y),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,a==null||a(d,y))}}function wrt({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,a=vm(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function Srt({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=ZT(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function Ert({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&lce(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,ZT(s.transform)))}}function Crt({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&lce(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const l=ZT(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function Mrt({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:d}){return u=>{var m;const f=t||e,g=n&&u.ctrlKey,v=u.type==="wheel";if(u.button===1&&u.type==="mousedown"&&(vm(u,`${c}-flow__node`)||vm(u,`${c}-flow__edge`)))return!0;if(!r&&!f&&!i&&!s&&!n||o||d&&!v||vm(u,a)&&v||vm(u,l)&&(!v||i&&v&&!t)||!n&&u.ctrlKey&&v)return!1;if(!n&&u.type==="touchstart"&&((m=u.touches)==null?void 0:m.length)>1)return u.preventDefault(),!1;if(!f&&!i&&!g&&v||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||v)&&y}}function Art({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const d={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},u=t.getBoundingClientRect(),f=Dle().clickDistance(!_a(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),g=bs(t).call(f);_({x:s.x,y:s.y,zoom:Xg(s.zoom,e,n)},[[0,0],[u.width,u.height]],i);const v=g.on("wheel.zoom"),y=g.on("dblclick.zoom");f.wheelDelta(cce);function m(k,j){return g?new Promise(F=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Sc:jS).transform(MR(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),k)}):Promise.resolve(!1)}function p({noWheelClassName:k,noPanClassName:j,onPaneContextMenu:F,userSelectionActive:z,panOnScroll:$,panOnDrag:V,panOnScrollMode:R,panOnScrollSpeed:L,preventScrolling:B,zoomOnPinch:W,zoomOnScroll:G,zoomOnDoubleClick:Y,zoomActivationKeyPressed:ie,lib:ae,onTransformChange:se,connectionInProgress:U}){z&&!d.isZoomingOrPanning&&x();const Q=$&&!ie&&!z?brt({zoomPanValues:d,noWheelClassName:k,d3Selection:g,d3Zoom:f,panOnScrollMode:R,panOnScrollSpeed:L,zoomOnPinch:W,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):wrt({noWheelClassName:k,preventScrolling:B,d3ZoomHandler:v});if(g.on("wheel.zoom",Q,{passive:!1}),!z){const ue=Srt({zoomPanValues:d,onDraggingChange:c,onPanZoomStart:a});f.on("start",ue);const J=Ert({zoomPanValues:d,panOnDrag:V,onPaneContextMenu:!!F,onPanZoom:o,onTransformChange:se});f.on("zoom",J);const q=Crt({zoomPanValues:d,panOnDrag:V,panOnScroll:$,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:c});f.on("end",q)}const ee=Mrt({zoomActivationKeyPressed:ie,panOnDrag:V,zoomOnScroll:G,panOnScroll:$,zoomOnDoubleClick:Y,zoomOnPinch:W,userSelectionActive:z,noPanClassName:j,noWheelClassName:k,lib:ae,connectionInProgress:U});f.filter(ee),Y?g.on("dblclick.zoom",y):g.on("dblclick.zoom",null)}function x(){f.on("zoom",null)}async function _(k,j,F){const z=CR(k),$=f==null?void 0:f.constrain()(z,j,F);return $&&await m($),new Promise(V=>V($))}async function b(k,j){const F=CR(k);return await m(F,j),new Promise(z=>z(F))}function S(k){if(g){const j=CR(k),F=g.property("__zoom");(F.k!==k.zoom||F.x!==k.x||F.y!==k.y)&&(f==null||f.transform(g,j,null,{sync:!0}))}}function C(){const k=g?kle(g.node()):{x:0,y:0,k:1};return{x:k.x,y:k.y,zoom:k.k}}function A(k,j){return g?new Promise(F=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Sc:jS).scaleTo(MR(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),k)}):Promise.resolve(!1)}function M(k,j){return g?new Promise(F=>{f==null||f.interpolate((j==null?void 0:j.interpolate)==="linear"?Sc:jS).scaleBy(MR(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),k)}):Promise.resolve(!1)}function T(k){f==null||f.scaleExtent(k)}function N(k){f==null||f.translateExtent(k)}function I(k){const j=!_a(k)||k<0?0:k;f==null||f.clickDistance(j)}return{update:p,destroy:x,setViewport:b,setViewportConstrained:_,getViewport:C,scaleTo:A,scaleBy:M,setScaleExtent:T,setTranslateExtent:N,syncViewport:S,setClickDistance:I}}var Yg;(function(t){t.Line="line",t.Handle="handle"})(Yg||(Yg={}));function Trt({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function UW(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function gu(t,e){return Math.max(0,e-t)}function vu(t,e){return Math.max(0,t-e)}function E1(t,e,n){return Math.max(0,e-t,t-n)}function zW(t,e){return t?!e:e}function Prt(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:d,isVertical:u}=e,f=d&&u,{xSnapped:g,ySnapped:v}=n,{minWidth:y,maxWidth:m,minHeight:p,maxHeight:x}=r,{x:_,y:b,width:S,height:C,aspectRatio:A}=t;let M=Math.floor(d?g-t.pointerX:0),T=Math.floor(u?v-t.pointerY:0);const N=S+(l?-M:M),I=C+(c?-T:T),k=-s[0]*S,j=-s[1]*C;let F=E1(N,y,m),z=E1(I,p,x);if(o){let R=0,L=0;l&&M<0?R=gu(_+M+k,o[0][0]):!l&&M>0&&(R=vu(_+N+k,o[1][0])),c&&T<0?L=gu(b+T+j,o[0][1]):!c&&T>0&&(L=vu(b+I+j,o[1][1])),F=Math.max(F,R),z=Math.max(z,L)}if(a){let R=0,L=0;l&&M>0?R=vu(_+M,a[0][0]):!l&&M<0&&(R=gu(_+N,a[1][0])),c&&T>0?L=vu(b+T,a[0][1]):!c&&T<0&&(L=gu(b+I,a[1][1])),F=Math.max(F,R),z=Math.max(z,L)}if(i){if(d){const R=E1(N/A,p,x)*A;if(F=Math.max(F,R),o){let L=0;!l&&!c||l&&!c&&f?L=vu(b+j+N/A,o[1][1])*A:L=gu(b+j+(l?M:-M)/A,o[0][1])*A,F=Math.max(F,L)}if(a){let L=0;!l&&!c||l&&!c&&f?L=gu(b+N/A,a[1][1])*A:L=vu(b+(l?M:-M)/A,a[0][1])*A,F=Math.max(F,L)}}if(u){const R=E1(I*A,y,m)/A;if(z=Math.max(z,R),o){let L=0;!l&&!c||c&&!l&&f?L=vu(_+I*A+k,o[1][0])/A:L=gu(_+(c?T:-T)*A+k,o[0][0])/A,z=Math.max(z,L)}if(a){let L=0;!l&&!c||c&&!l&&f?L=gu(_+I*A,a[1][0])/A:L=vu(_+(c?T:-T)*A,a[0][0])/A,z=Math.max(z,L)}}}T=T+(T<0?z:-z),M=M+(M<0?F:-F),i&&(f?N>I*A?T=(zW(l,c)?-M:M)/A:M=(zW(l,c)?-T:T)*A:d?(T=M/A,c=l):(M=T*A,l=c));const $=l?_+M:_,V=c?b+T:b;return{width:S+(l?-M:M),height:C+(c?-T:T),x:s[0]*M*(l?-1:1)+$,y:s[1]*T*(c?-1:1)+V}}const uce={width:0,height:0,x:0,y:0},Nrt={...uce,pointerX:0,pointerY:0,aspectRatio:1};function Rrt(t){return[[0,0],[t.measured.width,t.measured.height]]}function Ort(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function Irt({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=bs(t);let o={controlDirection:UW("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:d,keepAspectRatio:u,resizeDirection:f,onResizeStart:g,onResize:v,onResizeEnd:y,shouldResize:m}){let p={...uce},x={...Nrt};o={boundaries:d,resizeDirection:f,keepAspectRatio:u,controlDirection:UW(c)};let _,b=null,S=[],C,A,M,T=!1;const N=Mle().on("start",I=>{const{nodeLookup:k,transform:j,snapGrid:F,snapToGrid:z,nodeOrigin:$,paneDomNode:V}=n();if(_=k.get(e),!_)return;b=(V==null?void 0:V.getBoundingClientRect())??null;const{xSnapped:R,ySnapped:L}=L0(I.sourceEvent,{transform:j,snapGrid:F,snapToGrid:z,containerBounds:b});p={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},x={...p,pointerX:R,pointerY:L,aspectRatio:p.width/p.height},C=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(C=k.get(_.parentId),A=C&&_.extent==="parent"?Rrt(C):void 0),S=[],M=void 0;for(const[B,W]of k)if(W.parentId===e&&(S.push({id:B,position:{...W.position},extent:W.extent}),W.extent==="parent"||W.expandParent)){const G=Ort(W,_,W.origin??$);M?M=[[Math.min(G[0][0],M[0][0]),Math.min(G[0][1],M[0][1])],[Math.max(G[1][0],M[1][0]),Math.max(G[1][1],M[1][1])]]:M=G}g==null||g(I,{...p})}).on("drag",I=>{const{transform:k,snapGrid:j,snapToGrid:F,nodeOrigin:z}=n(),$=L0(I.sourceEvent,{transform:k,snapGrid:j,snapToGrid:F,containerBounds:b}),V=[];if(!_)return;const{x:R,y:L,width:B,height:W}=p,G={},Y=_.origin??z,{width:ie,height:ae,x:se,y:U}=Prt(x,o.controlDirection,$,o.boundaries,o.keepAspectRatio,Y,A,M),K=ie!==B,Q=ae!==W,ee=se!==R&&K,ue=U!==L&&Q;if(!ee&&!ue&&!K&&!Q)return;if((ee||ue||Y[0]===1||Y[1]===1)&&(G.x=ee?se:p.x,G.y=ue?U:p.y,p.x=G.x,p.y=G.y,S.length>0)){const fe=se-R,me=U-L;for(const pe of S)pe.position={x:pe.position.x-fe+Y[0]*(ie-B),y:pe.position.y-me+Y[1]*(ae-W)},V.push(pe)}if((K||Q)&&(G.width=K&&(!o.resizeDirection||o.resizeDirection==="horizontal")?ie:p.width,G.height=Q&&(!o.resizeDirection||o.resizeDirection==="vertical")?ae:p.height,p.width=G.width,p.height=G.height),C&&_.expandParent){const fe=Y[0]*(G.width??0);G.x&&G.x<fe&&(p.x=fe,x.x=x.x-(G.x-fe));const me=Y[1]*(G.height??0);G.y&&G.y<me&&(p.y=me,x.y=x.y-(G.y-me))}const J=Trt({width:p.width,prevWidth:B,height:p.height,prevHeight:W,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),q={...p,direction:J};(m==null?void 0:m(I,q))!==!1&&(T=!0,v==null||v(I,q),r(G,V))}).on("end",I=>{T&&(y==null||y(I,{...p}),i==null||i({...p}),T=!1)});s.call(N)}function l(){s.on(".drag",null)}return{update:a,destroy:l}}var dce={exports:{}},fce={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QT=P,krt=jq;function Drt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lrt=typeof Object.is=="function"?Object.is:Drt,jrt=krt.useSyncExternalStore,Frt=QT.useRef,Brt=QT.useEffect,Urt=QT.useMemo,zrt=QT.useDebugValue;fce.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Frt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Urt(function(){function l(g){if(!c){if(c=!0,d=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return u=v}return u=g}if(v=u,Lrt(d,g))return v;var y=r(g);return i!==void 0&&i(v,y)?v:(d=g,u=y)}var c=!1,d,u,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=jrt(t,s[0],s[1]);return Brt(function(){o.hasValue=!0,o.value=a},[a]),zrt(a),a};dce.exports=fce;var $rt=dce.exports;const Hrt=Pn($rt),Vrt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},$W=t=>{let e;const n=new Set,r=(d,u)=>{const f=typeof d=="function"?d(e):d;if(!Object.is(f,e)){const g=e;e=u??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(v=>v(e,g))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(Vrt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},Wrt=t=>t?$W(t):$W,{useDebugValue:Grt}=te,{useSyncExternalStoreWithSelector:Xrt}=Hrt,qrt=t=>t;function hce(t,e=qrt,n){const r=Xrt(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Grt(r),r}const HW=(t,e)=>{const n=Wrt(t),r=(i,s=e)=>hce(n,i,s);return Object.assign(r,n),r},Krt=(t,e)=>t?HW(t,e):HW;function _r(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const JT=P.createContext(null),Yrt=JT.Provider,pce=Pl.error001();function pn(t,e){const n=P.useContext(JT);if(n===null)throw new Error(pce);return hce(n,t,e)}function ur(){const t=P.useContext(JT);if(t===null)throw new Error(pce);return P.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const VW={display:"none"},Zrt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},mce="react-flow__node-desc",gce="react-flow__edge-desc",Qrt="react-flow__aria-live",Jrt=t=>t.ariaLiveMessage,eit=t=>t.ariaLabelConfig;function tit({rfId:t}){const e=pn(Jrt);return h.jsx("div",{id:`${Qrt}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:Zrt,children:e})}function nit({rfId:t,disableKeyboardA11y:e}){const n=pn(eit);return h.jsxs(h.Fragment,{children:[h.jsx("div",{id:`${mce}-${t}`,style:VW,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),h.jsx("div",{id:`${gce}-${t}`,style:VW,children:n["edge.a11yDescription.default"]}),!e&&h.jsx(tit,{rfId:t})]})}const eP=P.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return h.jsx("div",{className:Hr(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});eP.displayName="Panel";function rit({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:h.jsx(eP,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:h.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const iit=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},C1=t=>t.id;function sit(t,e){return _r(t.selectedNodes.map(C1),e.selectedNodes.map(C1))&&_r(t.selectedEdges.map(C1),e.selectedEdges.map(C1))}function oit({onSelectionChange:t}){const e=ur(),{selectedNodes:n,selectedEdges:r}=pn(iit,sit);return P.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const ait=t=>!!t.onSelectionChangeHandlers;function lit({onSelectionChange:t}){const e=pn(ait);return t||e?h.jsx(oit,{onSelectionChange:t}):null}const vce=[0,0],cit={x:0,y:0,zoom:1},uit=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],WW=[...uit,"rfId"],dit=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),GW={translateExtent:s_,nodeOrigin:vce,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function fit(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=pn(dit,_r),d=ur();P.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{u.current=GW,a()}),[]);const u=P.useRef(GW);return P.useEffect(()=>{for(const f of WW){const g=t[f],v=u.current[f];g!==v&&(typeof t[f]>"u"||(f==="nodes"?e(g):f==="edges"?n(g):f==="minZoom"?r(g):f==="maxZoom"?i(g):f==="translateExtent"?s(g):f==="nodeExtent"?o(g):f==="paneClickDistance"?c(g):f==="ariaLabelConfig"?d.setState({ariaLabelConfig:Gnt(g)}):f==="fitView"?d.setState({fitViewQueued:g}):f==="fitViewOptions"?d.setState({fitViewOptions:g}):d.setState({[f]:g})))}u.current=t},WW.map(f=>t[f])),null}function XW(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function hit(t){var r;const[e,n]=P.useState(t==="system"?null:t);return P.useEffect(()=>{if(t!=="system"){n(t);return}const i=XW(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=XW())!=null&&r.matches?"dark":"light"}const qW=typeof document<"u"?document:null;function u_(t=null,e={target:qW,actInsideInputWithModifier:!0}){const[n,r]=P.useState(!1),i=P.useRef(!1),s=P.useRef(new Set([])),[o,a]=P.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(u=>typeof u=="string").map(u=>u.replace("+",`
`).replace(`

`,`
+`).split(`
`)),d=c.reduce((u,f)=>u.concat(...f),[]);return[c,d]}return[[],[]]},[t]);return P.useEffect(()=>{const l=(e==null?void 0:e.target)??qW,c=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const d=g=>{var m,p;if(i.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!i.current||i.current&&!c)&&qle(g))return!1;const y=YW(g.code,a);if(s.current.add(g[y]),KW(o,s.current,!1)){const x=((p=(m=g.composedPath)==null?void 0:m.call(g))==null?void 0:p[0])||g.target,_=(x==null?void 0:x.nodeName)==="BUTTON"||(x==null?void 0:x.nodeName)==="A";e.preventDefault!==!1&&(i.current||!_)&&g.preventDefault(),r(!0)}},u=g=>{const v=YW(g.code,a);KW(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[v]),g.key==="Meta"&&s.current.clear(),i.current=!1},f=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",d),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l==null||l.removeEventListener("keydown",d),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[t,r]),n}function KW(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function YW(t,e){return e.includes(t)?"code":"key"}const pit=()=>{const t=ur();return P.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=Q4(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),c={x:e.x-a,y:e.y-l},d=n.snapGrid??i,u=n.snapToGrid??s;return Cb(c,r,u,d)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=nM(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function yce(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)mit(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function mit(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function xce(t,e){return yce(t,e)}function _ce(t,e){return yce(t,e)}function vf(t,e){return{id:t,type:"select",selected:e}}function ym(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(vf(s.id,o)))}return r}function ZW({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function QW(t){return{id:t.id,type:"remove"}}const JW=t=>Lnt(t),git=t=>Ule(t);function bce(t){return P.forwardRef(t)}const vit=typeof window<"u"?P.useLayoutEffect:P.useEffect;function eG(t){const[e,n]=P.useState(BigInt(0)),[r]=P.useState(()=>yit(()=>n(i=>i+BigInt(1))));return vit(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function yit(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const wce=P.createContext(null);function xit({children:t}){const e=ur(),n=P.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:d,onNodesChange:u,nodeLookup:f,fitViewQueued:g}=e.getState();let v=l;for(const m of a)v=typeof m=="function"?m(v):m;const y=ZW({items:v,lookup:f});d&&c(v),y.length>0?u==null||u(y):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:p,setNodes:x}=e.getState();m&&x(p)})},[]),r=eG(n),i=P.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:d,onEdgesChange:u,edgeLookup:f}=e.getState();let g=l;for(const v of a)g=typeof v=="function"?v(g):v;d?c(g):u&&u(ZW({items:g,lookup:f}))},[]),s=eG(i),o=P.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return h.jsx(wce.Provider,{value:o,children:t})}function _it(){const t=P.useContext(wce);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const bit=t=>!!t.panZoom;function sB(){const t=pit(),e=ur(),n=_it(),r=pn(bit),i=P.useMemo(()=>{const s=u=>e.getState().nodeLookup.get(u),o=u=>{n.nodeQueue.push(u)},a=u=>{n.edgeQueue.push(u)},l=u=>{var p,x;const{nodeLookup:f,nodeOrigin:g}=e.getState(),v=JW(u)?u:f.get(u.id),y=v.parentId?Gle(v.position,v.measured,v.parentId,f,g):v.position,m={...v,position:y,width:((p=v.measured)==null?void 0:p.width)??v.width,height:((x=v.measured)==null?void 0:x.height)??v.height};return qg(m)},c=(u,f,g={replace:!1})=>{o(v=>v.map(y=>{if(y.id===u){const m=typeof f=="function"?f(y):f;return g.replace&&JW(m)?m:{...y,...m}}return y}))},d=(u,f,g={replace:!1})=>{a(v=>v.map(y=>{if(y.id===u){const m=typeof f=="function"?f(y):f;return g.replace&&git(m)?m:{...y,...m}}return y}))};return{getNodes:()=>e.getState().nodes.map(u=>({...u})),getNode:u=>{var f;return(f=s(u))==null?void 0:f.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:u=[]}=e.getState();return u.map(f=>({...f}))},getEdge:u=>e.getState().edgeLookup.get(u),setNodes:o,setEdges:a,addNodes:u=>{const f=Array.isArray(u)?u:[u];n.nodeQueue.push(g=>[...g,...f])},addEdges:u=>{const f=Array.isArray(u)?u:[u];n.edgeQueue.push(g=>[...g,...f])},toObject:()=>{const{nodes:u=[],edges:f=[],transform:g}=e.getState(),[v,y,m]=g;return{nodes:u.map(p=>({...p})),edges:f.map(p=>({...p})),viewport:{x:v,y,zoom:m}}},deleteElements:async({nodes:u=[],edges:f=[]})=>{const{nodes:g,edges:v,onNodesDelete:y,onEdgesDelete:m,triggerNodeChanges:p,triggerEdgeChanges:x,onDelete:_,onBeforeDelete:b}=e.getState(),{nodes:S,edges:C}=await znt({nodesToRemove:u,edgesToRemove:f,nodes:g,edges:v,onBeforeDelete:b}),A=C.length>0,M=S.length>0;if(A){const T=C.map(QW);m==null||m(C),x(T)}if(M){const T=S.map(QW);y==null||y(S),p(T)}return(M||A)&&(_==null||_({nodes:S,edges:C})),{deletedNodes:S,deletedEdges:C}},getIntersectingNodes:(u,f=!0,g)=>{const v=PW(u),y=v?u:l(u),m=g!==void 0;return y?(g||e.getState().nodes).filter(p=>{const x=e.getState().nodeLookup.get(p.id);if(x&&!v&&(p.id===u.id||!x.internals.positionAbsolute))return!1;const _=qg(m?p:x),b=a_(_,y);return f&&b>0||b>=_.width*_.height||b>=y.width*y.height}):[]},isNodeIntersecting:(u,f,g=!0)=>{const y=PW(u)?u:l(u);if(!y)return!1;const m=a_(y,f);return g&&m>0||m>=f.width*f.height||m>=y.width*y.height},updateNode:c,updateNodeData:(u,f,g={replace:!1})=>{c(u,v=>{const y=typeof f=="function"?f(v):f;return g.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},g)},updateEdge:d,updateEdgeData:(u,f,g={replace:!1})=>{d(u,v=>{const y=typeof f=="function"?f(v):f;return g.replace?{...v,data:y}:{...v,data:{...v.data,...y}}},g)},getNodesBounds:u=>{const{nodeLookup:f,nodeOrigin:g}=e.getState();return jnt(u,{nodeLookup:f,nodeOrigin:g})},getHandleConnections:({type:u,id:f,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}-${u}${f?`-${f}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:u,handleId:f,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}${u?f?`-${u}-${f}`:`-${u}`:""}`))==null?void 0:v.values())??[])},fitView:async u=>{const f=e.getState().fitViewResolver??Wnt();return e.setState({fitViewQueued:!0,fitViewOptions:u,fitViewResolver:f}),n.nodeQueue.push(g=>[...g]),f.promise}}},[]);return P.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const tG=t=>t.selected,wit=typeof window<"u"?window:void 0;function Sit({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=ur(),{deleteElements:r}=sB(),i=u_(t,{actInsideInputWithModifier:!1}),s=u_(e,{target:wit});P.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(tG),edges:o.filter(tG)}),n.setState({nodesSelectionActive:!1})}},[i]),P.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function Eit(t){const e=ur();P.useEffect(()=>{const n=()=>{var i,s,o,a;if(!t.current||!(((s=(i=t.current).checkVisibility)==null?void 0:s.call(i))??!0))return!1;const r=J4(t.current);(r.height===0||r.width===0)&&((a=(o=e.getState()).onError)==null||a.call(o,"004",Pl.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const tP={position:"absolute",width:"100%",height:"100%",top:0,left:0},Cit=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function Mit({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=qf.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:d,maxZoom:u,zoomActivationKeyCode:f,preventScrolling:g=!0,children:v,noWheelClassName:y,noPanClassName:m,onViewportChange:p,isControlledViewport:x,paneClickDistance:_}){const b=ur(),S=P.useRef(null),{userSelectionActive:C,lib:A,connectionInProgress:M}=pn(Cit,_r),T=u_(f),N=P.useRef();Eit(S);const I=P.useCallback(k=>{p==null||p({x:k[0],y:k[1],zoom:k[2]}),x||b.setState({transform:k})},[p,x]);return P.useEffect(()=>{if(S.current){N.current=Art({domNode:S.current,minZoom:d,maxZoom:u,translateExtent:c,viewport:l,paneClickDistance:_,onDraggingChange:z=>b.setState({paneDragging:z}),onPanZoomStart:(z,$)=>{const{onViewportChangeStart:V,onMoveStart:R}=b.getState();R==null||R(z,$),V==null||V($)},onPanZoom:(z,$)=>{const{onViewportChange:V,onMove:R}=b.getState();R==null||R(z,$),V==null||V($)},onPanZoomEnd:(z,$)=>{const{onViewportChangeEnd:V,onMoveEnd:R}=b.getState();R==null||R(z,$),V==null||V($)}});const{x:k,y:j,zoom:F}=N.current.getViewport();return b.setState({panZoom:N.current,transform:[k,j,F],domNode:S.current.closest(".react-flow")}),()=>{var z;(z=N.current)==null||z.destroy()}}},[]),P.useEffect(()=>{var k;(k=N.current)==null||k.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:T,preventScrolling:g,noPanClassName:m,userSelectionActive:C,noWheelClassName:y,lib:A,onTransformChange:I,connectionInProgress:M})},[t,e,n,r,i,s,o,a,T,g,m,C,y,A,I,M]),h.jsx("div",{className:"react-flow__renderer",ref:S,style:tP,children:v})}const Ait=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Tit(){const{userSelectionActive:t,userSelectionRect:e}=pn(Ait,_r);return t&&e?h.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const AR=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},Pit=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function Nit({isSelecting:t,selectionKeyPressed:e,selectionMode:n=o_.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:d,onPaneMouseMove:u,onPaneMouseLeave:f,children:g}){const v=ur(),{userSelectionActive:y,elementsSelectable:m,dragging:p,connectionInProgress:x}=pn(Pit,_r),_=m&&(t||y),b=P.useRef(null),S=P.useRef(),C=P.useRef(new Set),A=P.useRef(new Set),M=P.useRef(!1),T=P.useRef(!1),N=R=>{if(M.current||x){M.current=!1;return}a==null||a(R),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},I=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}l==null||l(R)},k=c?R=>c(R):void 0,j=R=>{(i&&b.current===R.target||!i||e)&&R.stopPropagation()},F=R=>{var ae,se;const{resetSelectedElements:L,domNode:B}=v.getState();S.current=B==null?void 0:B.getBoundingClientRect();const W=R.target!==b.current&&!!R.target.closest(".nokey"),G=i&&b.current===R.target||!i||e;if(!m||!t||R.button!==0||!S.current||W||!G||!R.isPrimary)return;R.stopPropagation(),R.preventDefault(),(se=(ae=R.target)==null?void 0:ae.setPointerCapture)==null||se.call(ae,R.pointerId),T.current=!0,M.current=!1;const{x:Y,y:ie}=ba(R.nativeEvent,S.current);L(),v.setState({userSelectionRect:{width:0,height:0,startX:Y,startY:ie,x:Y,y:ie}}),s==null||s(R)},z=R=>{const{userSelectionRect:L,transform:B,nodeLookup:W,edgeLookup:G,connectionLookup:Y,triggerNodeChanges:ie,triggerEdgeChanges:ae,defaultEdgeOptions:se}=v.getState();if(!S.current||!L)return;M.current=!0;const{x:U,y:K}=ba(R.nativeEvent,S.current),{startX:Q,startY:ee}=L,ue={startX:Q,startY:ee,x:U<Q?U:Q,y:K<ee?K:ee,width:Math.abs(U-Q),height:Math.abs(K-ee)},J=C.current,q=A.current;C.current=new Set(Z4(W,ue,B,n===o_.Partial,!0).map(fe=>fe.id)),A.current=new Set;const ne=(se==null?void 0:se.selectable)??!0;for(const fe of C.current){const me=Y.get(fe);if(me)for(const{edgeId:pe}of me.values()){const Ae=G.get(pe);Ae&&(Ae.selectable??ne)&&A.current.add(pe)}}if(!NW(J,C.current)){const fe=ym(W,C.current,!0);ie(fe)}if(!NW(q,A.current)){const fe=ym(G,A.current);ae(fe)}v.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},$=R=>{var B,W;if(R.button!==0||!T.current)return;(W=(B=R.target)==null?void 0:B.releasePointerCapture)==null||W.call(B,R.pointerId);const{userSelectionRect:L}=v.getState();!y&&L&&R.target===b.current&&(N==null||N(R)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:C.current.size>0}),o==null||o(R),(e||i)&&(M.current=!1),T.current=!1},V=r===!0||Array.isArray(r)&&r.includes(0);return h.jsxs("div",{className:Hr(["react-flow__pane",{draggable:V,dragging:p,selection:t}]),onClick:_?void 0:AR(N,b),onContextMenu:AR(I,b),onWheel:AR(k,b),onPointerEnter:_?void 0:d,onPointerMove:_?z:u,onPointerUp:_?$:void 0,onPointerDownCapture:_?F:void 0,onClickCapture:_?j:void 0,onPointerLeave:f,ref:b,style:tP,children:[g,h.jsx(Tit,{})]})}function dL({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",Pl.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var d;return(d=r==null?void 0:r.current)==null?void 0:d.blur()})):i([t])}function Sce({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=ur(),[l,c]=P.useState(!1),d=P.useRef();return P.useEffect(()=>{d.current=hrt({getStoreItems:()=>a.getState(),onNodeMouseDown:u=>{dL({id:u,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),P.useEffect(()=>{var u,f;if(e)(u=d.current)==null||u.destroy();else if(t.current)return(f=d.current)==null||f.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var g;(g=d.current)==null||g.destroy()}},[n,r,e,s,t,i]),l}const Rit=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function Ece(){const t=ur();return P.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:d}=t.getState(),u=new Map,f=Rit(o),g=i?s[0]:5,v=i?s[1]:5,y=n.direction.x*g*n.factor,m=n.direction.y*v*n.factor;for(const[,p]of c){if(!f(p))continue;let x={x:p.internals.positionAbsolute.x+y,y:p.internals.positionAbsolute.y+m};i&&(x=Eb(x,s));const{position:_,positionAbsolute:b}=zle({nodeId:p.id,nextPosition:x,nodeLookup:c,nodeExtent:r,nodeOrigin:d,onError:a});p.position=_,p.internals.positionAbsolute=b,u.set(p.id,p)}l(u)},[])}const oB=P.createContext(null),Oit=oB.Provider;oB.Consumer;const Cce=()=>P.useContext(oB),Iit=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),kit=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,d=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:d,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===Gg.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:d&&c}};function Dit({type:t="source",position:e=Lt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:d,onTouchStart:u,...f},g){var z,$;const v=o||null,y=t==="target",m=ur(),p=Cce(),{connectOnClick:x,noPanClassName:_,rfId:b}=pn(Iit,_r),{connectingFrom:S,connectingTo:C,clickConnecting:A,isPossibleEndHandle:M,connectionInProcess:T,clickConnectionInProcess:N,valid:I}=pn(kit(p,v,t),_r);p||($=(z=m.getState()).onError)==null||$.call(z,"010",Pl.error010());const k=V=>{const{defaultEdgeOptions:R,onConnect:L,hasDefaultEdges:B}=m.getState(),W={...R,...V};if(B){const{edges:G,setEdges:Y}=m.getState();Y(eB(W,G))}L==null||L(W),a==null||a(W)},j=V=>{if(!p)return;const R=Kle(V.nativeEvent);if(i&&(R&&V.button===0||!R)){const L=m.getState();uL.onPointerDown(V.nativeEvent,{handleDomNode:V.currentTarget,autoPanOnConnect:L.autoPanOnConnect,connectionMode:L.connectionMode,connectionRadius:L.connectionRadius,domNode:L.domNode,nodeLookup:L.nodeLookup,lib:L.lib,isTarget:y,handleId:v,nodeId:p,flowId:L.rfId,panBy:L.panBy,cancelConnection:L.cancelConnection,onConnectStart:L.onConnectStart,onConnectEnd:L.onConnectEnd,updateConnection:L.updateConnection,onConnect:k,isValidConnection:n||L.isValidConnection,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,autoPanSpeed:L.autoPanSpeed,dragThreshold:L.connectionDragThreshold})}R?d==null||d(V):u==null||u(V)},F=V=>{const{onClickConnectStart:R,onClickConnectEnd:L,connectionClickStartHandle:B,connectionMode:W,isValidConnection:G,lib:Y,rfId:ie,nodeLookup:ae,connection:se}=m.getState();if(!p||!B&&!i)return;if(!B){R==null||R(V.nativeEvent,{nodeId:p,handleId:v,handleType:t}),m.setState({connectionClickStartHandle:{nodeId:p,type:t,id:v}});return}const U=Xle(V.target),K=n||G,{connection:Q,isValid:ee}=uL.isValid(V.nativeEvent,{handle:{nodeId:p,id:v,type:t},connectionMode:W,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:K,flowId:ie,doc:U,lib:Y,nodeLookup:ae});ee&&Q&&k(Q);const ue=structuredClone(se);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,L==null||L(V,ue),m.setState({connectionClickStartHandle:null})};return h.jsx("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":e,"data-id":`${b}-${p}-${v}-${t}`,className:Hr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!y,target:y,connectable:r,connectablestart:i,connectableend:s,clickconnecting:A,connectingfrom:S,connectingto:C,valid:I,connectionindicator:r&&(!T||M)&&(T||N?s:i)}]),onMouseDown:j,onTouchStart:j,onClick:x?F:void 0,ref:g,...f,children:l})}const rM=P.memo(bce(Dit));function Lit({data:t,isConnectable:e,sourcePosition:n=Lt.Bottom}){return h.jsxs(h.Fragment,{children:[t==null?void 0:t.label,h.jsx(rM,{type:"source",position:n,isConnectable:e})]})}function jit({data:t,isConnectable:e,targetPosition:n=Lt.Top,sourcePosition:r=Lt.Bottom}){return h.jsxs(h.Fragment,{children:[h.jsx(rM,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,h.jsx(rM,{type:"source",position:r,isConnectable:e})]})}function Fit(){return null}function Bit({data:t,isConnectable:e,targetPosition:n=Lt.Top}){return h.jsxs(h.Fragment,{children:[h.jsx(rM,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const iM={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},nG={input:Lit,default:jit,output:Bit,group:Fit};function Uit(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const zit=t=>{const{width:e,height:n,x:r,y:i}=Sb(t.nodeLookup,{filter:s=>!!s.selected});return{width:_a(e)?e:null,height:_a(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function $it({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=ur(),{width:i,height:s,transformString:o,userSelectionActive:a}=pn(zit,_r),l=Ece(),c=P.useRef(null);if(P.useEffect(()=>{var f;n||(f=c.current)==null||f.focus({preventScroll:!0})},[n]),Sce({nodeRef:c}),a||!i||!s)return null;const d=t?f=>{const g=r.getState().nodes.filter(v=>v.selected);t(f,g)}:void 0,u=f=>{Object.prototype.hasOwnProperty.call(iM,f.key)&&(f.preventDefault(),l({direction:iM[f.key],factor:f.shiftKey?4:1}))};return h.jsx("div",{className:Hr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:h.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:d,tabIndex:n?void 0:-1,onKeyDown:n?void 0:u,style:{width:i,height:s}})})}const rG=typeof window<"u"?window:void 0,Hit=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Mce({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:d,selectionMode:u,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:y,zoomActivationKeyCode:m,elementsSelectable:p,zoomOnScroll:x,zoomOnPinch:_,panOnScroll:b,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:M,defaultViewport:T,translateExtent:N,minZoom:I,maxZoom:k,preventScrolling:j,onSelectionContextMenu:F,noWheelClassName:z,noPanClassName:$,disableKeyboardA11y:V,onViewportChange:R,isControlledViewport:L}){const{nodesSelectionActive:B,userSelectionActive:W}=pn(Hit),G=u_(c,{target:rG}),Y=u_(y,{target:rG}),ie=Y||M,ae=Y||b,se=d&&ie!==!0,U=G||W||se;return Sit({deleteKeyCode:l,multiSelectionKeyCode:v}),h.jsx(Mit,{onPaneContextMenu:s,elementsSelectable:p,zoomOnScroll:x,zoomOnPinch:_,panOnScroll:ae,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:A,panOnDrag:!G&&ie,defaultViewport:T,translateExtent:N,minZoom:I,maxZoom:k,zoomActivationKeyCode:m,preventScrolling:j,noWheelClassName:z,noPanClassName:$,onViewportChange:R,isControlledViewport:L,paneClickDistance:a,children:h.jsxs(Nit,{onSelectionStart:f,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ie,isSelecting:!!U,selectionMode:u,selectionKeyPressed:G,selectionOnDrag:se,children:[t,B&&h.jsx($it,{onSelectionContextMenu:F,noPanClassName:$,disableKeyboardA11y:V})]})})}Mce.displayName="FlowRenderer";const Vit=P.memo(Mce),Wit=t=>e=>t?Z4(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Git(t){return pn(P.useCallback(Wit(t),[t]),_r)}const Xit=t=>t.updateNodeInternals;function qit(){const t=pn(Xit),[e]=P.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return P.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function Kit({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=ur(),s=P.useRef(null),o=P.useRef(null),a=P.useRef(t.sourcePosition),l=P.useRef(t.targetPosition),c=P.useRef(e),d=n&&!!t.internals.handleBounds;return P.useEffect(()=>{s.current&&!t.hidden&&(!d||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[d,t.hidden]),P.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),P.useEffect(()=>{if(s.current){const u=c.current!==e,f=a.current!==t.sourcePosition,g=l.current!==t.targetPosition;(u||f||g)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function Yit({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:d,resizeObserver:u,noDragClassName:f,noPanClassName:g,disableKeyboardA11y:v,rfId:y,nodeTypes:m,nodeClickDistance:p,onError:x}){const{node:_,internals:b,isParent:S}=pn(K=>{const Q=K.nodeLookup.get(t),ee=K.parentLookup.has(t);return{node:Q,internals:Q.internals,isParent:ee}},_r);let C=_.type||"default",A=(m==null?void 0:m[C])||nG[C];A===void 0&&(x==null||x("003",Pl.error003(C)),C="default",A=(m==null?void 0:m.default)||nG.default);const M=!!(_.draggable||a&&typeof _.draggable>"u"),T=!!(_.selectable||l&&typeof _.selectable>"u"),N=!!(_.connectable||c&&typeof _.connectable>"u"),I=!!(_.focusable||d&&typeof _.focusable>"u"),k=ur(),j=Wle(_),F=Kit({node:_,nodeType:C,hasDimensions:j,resizeObserver:u}),z=Sce({nodeRef:F,disabled:_.hidden||!M,noDragClassName:f,handleSelector:_.dragHandle,nodeId:t,isSelectable:T,nodeClickDistance:p}),$=Ece();if(_.hidden)return null;const V=Jc(_),R=Uit(_),L=T||M||e||n||r||i,B=n?K=>n(K,{...b.userNode}):void 0,W=r?K=>r(K,{...b.userNode}):void 0,G=i?K=>i(K,{...b.userNode}):void 0,Y=s?K=>s(K,{...b.userNode}):void 0,ie=o?K=>o(K,{...b.userNode}):void 0,ae=K=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ee}=k.getState();T&&(!Q||!M||ee>0)&&dL({id:t,store:k,nodeRef:F}),e&&e(K,{...b.userNode})},se=K=>{if(!(qle(K.nativeEvent)||v)){if(Lle.includes(K.key)&&T){const Q=K.key==="Escape";dL({id:t,store:k,unselect:Q,nodeRef:F})}else if(M&&_.selected&&Object.prototype.hasOwnProperty.call(iM,K.key)){K.preventDefault();const{ariaLabelConfig:Q}=k.getState();k.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:K.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),$({direction:iM[K.key],factor:K.shiftKey?4:1})}}},U=()=>{var ne;if(v||!((ne=F.current)!=null&&ne.matches(":focus-visible")))return;const{transform:K,width:Q,height:ee,autoPanOnNodeFocus:ue,setCenter:J}=k.getState();if(!ue)return;Z4(new Map([[t,_]]),{x:0,y:0,width:Q,height:ee},K,!0).length>0||J(_.position.x+V.width/2,_.position.y+V.height/2,{zoom:K[2]})};return h.jsx("div",{className:Hr(["react-flow__node",`react-flow__node-${C}`,{[g]:M},_.className,{selected:_.selected,selectable:T,parent:S,draggable:M,dragging:z}]),ref:F,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:L?"all":"none",visibility:j?"visible":"hidden",..._.style,...R},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:B,onMouseMove:W,onMouseLeave:G,onContextMenu:Y,onClick:ae,onDoubleClick:ie,onKeyDown:I?se:void 0,tabIndex:I?0:void 0,onFocus:I?U:void 0,role:_.ariaRole??(I?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${mce}-${y}`,"aria-label":_.ariaLabel,..._.domAttributes,children:h.jsx(Oit,{value:t,children:h.jsx(A,{id:t,data:_.data,type:C,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:_.selected??!1,selectable:T,draggable:M,deletable:_.deletable??!0,isConnectable:N,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:z,dragHandle:_.dragHandle,zIndex:b.z,parentId:_.parentId,...V})})})}var Zit=P.memo(Yit);const Qit=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Ace(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=pn(Qit,_r),o=Git(t.onlyRenderVisibleElements),a=qit();return h.jsx("div",{className:"react-flow__nodes",style:tP,children:o.map(l=>h.jsx(Zit,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}Ace.displayName="NodeRenderer";const Jit=P.memo(Ace);function est(t){return pn(P.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&Knt({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),_r)}const tst=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return h.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},nst=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return h.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},iG={[eM.Arrow]:tst,[eM.ArrowClosed]:nst};function rst(t){const e=ur();return P.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(iG,t)?iG[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Pl.error009(t)),null)},[t])}const ist=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=rst(e);return l?h.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:h.jsx(l,{color:n,strokeWidth:o})}):null},Tce=({defaultColor:t,rfId:e})=>{const n=pn(s=>s.edges),r=pn(s=>s.defaultEdgeOptions),i=P.useMemo(()=>nrt(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?h.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:h.jsx("defs",{children:i.map(s=>h.jsx(ist,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Tce.displayName="MarkerDefinitions";var sst=P.memo(Tce);function Pce({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...d}){const[u,f]=P.useState({x:1,y:0,width:0,height:0}),g=Hr(["react-flow__edge-textwrapper",c]),v=P.useRef(null);return P.useEffect(()=>{if(v.current){const y=v.current.getBBox();f({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?h.jsxs("g",{transform:`translate(${t-u.width/2} ${e-u.height/2})`,className:g,visibility:u.width?"visible":"hidden",...d,children:[i&&h.jsx("rect",{width:u.width+2*o[0],x:-o[0],y:-o[1],height:u.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),h.jsx("text",{className:"react-flow__edge-text",y:u.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}Pce.displayName="EdgeText";const ost=P.memo(Pce);function nP({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...d}){return h.jsxs(h.Fragment,{children:[h.jsx("path",{...d,d:t,fill:"none",className:Hr(["react-flow__edge-path",d.className])}),c?h.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&_a(e)&&_a(n)?h.jsx(ost,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function sG({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===Lt.Left||t===Lt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function Nce({sourceX:t,sourceY:e,sourcePosition:n=Lt.Bottom,targetX:r,targetY:i,targetPosition:s=Lt.Top}){const[o,a]=sG({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=sG({pos:s,x1:r,y1:i,x2:t,y2:e}),[d,u,f,g]=Yle({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,d,u,f,g]}function Rce(t){return P.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,interactionWidth:p})=>{const[x,_,b]=Nce({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),S=t.isInternal?void 0:e;return h.jsx(nP,{id:S,path:x,labelX:_,labelY:b,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,interactionWidth:p})})}const ast=Rce({isInternal:!1}),Oce=Rce({isInternal:!0});ast.displayName="SimpleBezierEdge";Oce.displayName="SimpleBezierEdgeInternal";function Ice(t){return P.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,sourcePosition:g=Lt.Bottom,targetPosition:v=Lt.Top,markerEnd:y,markerStart:m,pathOptions:p,interactionWidth:x})=>{const[_,b,S]=aL({sourceX:n,sourceY:r,sourcePosition:g,targetX:i,targetY:s,targetPosition:v,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),C=t.isInternal?void 0:e;return h.jsx(nP,{id:C,path:_,labelX:b,labelY:S,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:y,markerStart:m,interactionWidth:x})})}const kce=Ice({isInternal:!1}),Dce=Ice({isInternal:!0});kce.displayName="SmoothStepEdge";Dce.displayName="SmoothStepEdgeInternal";function Lce(t){return P.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return h.jsx(kce,{...n,id:r,pathOptions:P.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const lst=Lce({isInternal:!1}),jce=Lce({isInternal:!0});lst.displayName="StepEdge";jce.displayName="StepEdgeInternal";function Fce(t){return P.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:v,interactionWidth:y})=>{const[m,p,x]=Jle({sourceX:n,sourceY:r,targetX:i,targetY:s}),_=t.isInternal?void 0:e;return h.jsx(nP,{id:_,path:m,labelX:p,labelY:x,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:d,labelBgBorderRadius:u,style:f,markerEnd:g,markerStart:v,interactionWidth:y})})}const cst=Fce({isInternal:!1}),Bce=Fce({isInternal:!0});cst.displayName="StraightEdge";Bce.displayName="StraightEdgeInternal";function Uce(t){return P.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=Lt.Bottom,targetPosition:a=Lt.Top,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,pathOptions:p,interactionWidth:x})=>{const[_,b,S]=Zle({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:p==null?void 0:p.curvature}),C=t.isInternal?void 0:e;return h.jsx(nP,{id:C,path:_,labelX:b,labelY:S,label:l,labelStyle:c,labelShowBg:d,labelBgStyle:u,labelBgPadding:f,labelBgBorderRadius:g,style:v,markerEnd:y,markerStart:m,interactionWidth:x})})}const ust=Uce({isInternal:!1}),zce=Uce({isInternal:!0});ust.displayName="BezierEdge";zce.displayName="BezierEdgeInternal";const oG={default:zce,straight:Bce,step:jce,smoothstep:Dce,simplebezier:Oce},aG={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},dst=(t,e,n)=>n===Lt.Left?t-e:n===Lt.Right?t+e:t,fst=(t,e,n)=>n===Lt.Top?t-e:n===Lt.Bottom?t+e:t,lG="react-flow__edgeupdater";function cG({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return h.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Hr([lG,`${lG}-${a}`]),cx:dst(e,r,t),cy:fst(n,r,t),r,stroke:"transparent",fill:"transparent"})}function hst({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:d,onReconnectEnd:u,setReconnecting:f,setUpdateHover:g}){const v=ur(),y=(b,S)=>{if(b.button!==0)return;const{autoPanOnConnect:C,domNode:A,isValidConnection:M,connectionMode:T,connectionRadius:N,lib:I,onConnectStart:k,onConnectEnd:j,cancelConnection:F,nodeLookup:z,rfId:$,panBy:V,updateConnection:R}=v.getState(),L=S.type==="target",B=(Y,ie)=>{f(!1),u==null||u(Y,n,S.type,ie)},W=Y=>c==null?void 0:c(n,Y),G=(Y,ie)=>{f(!0),d==null||d(b,n,S.type),k==null||k(Y,ie)};uL.onPointerDown(b.nativeEvent,{autoPanOnConnect:C,connectionMode:T,connectionRadius:N,domNode:A,handleId:S.id,nodeId:S.nodeId,nodeLookup:z,isTarget:L,edgeUpdaterType:S.type,lib:I,flowId:$,cancelConnection:F,panBy:V,isValidConnection:M,onConnect:W,onConnectStart:G,onConnectEnd:j,onReconnectEnd:B,updateConnection:R,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},m=b=>y(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=b=>y(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),x=()=>g(!0),_=()=>g(!1);return h.jsxs(h.Fragment,{children:[(t===!0||t==="source")&&h.jsx(cG,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:m,onMouseEnter:x,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&h.jsx(cG,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:p,onMouseEnter:x,onMouseOut:_,type:"target"})]})}function pst({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:d,onReconnect:u,onReconnectStart:f,onReconnectEnd:g,rfId:v,edgeTypes:y,noPanClassName:m,onError:p,disableKeyboardA11y:x}){let _=pn(J=>J.edgeLookup.get(t));const b=pn(J=>J.defaultEdgeOptions);_=b?{...b,..._}:_;let S=_.type||"default",C=(y==null?void 0:y[S])||oG[S];C===void 0&&(p==null||p("011",Pl.error011(S)),S="default",C=(y==null?void 0:y.default)||oG.default);const A=!!(_.focusable||e&&typeof _.focusable>"u"),M=typeof u<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),T=!!(_.selectable||r&&typeof _.selectable>"u"),N=P.useRef(null),[I,k]=P.useState(!1),[j,F]=P.useState(!1),z=ur(),{zIndex:$,sourceX:V,sourceY:R,targetX:L,targetY:B,sourcePosition:W,targetPosition:G}=pn(P.useCallback(J=>{const q=J.nodeLookup.get(_.source),ne=J.nodeLookup.get(_.target);if(!q||!ne)return{zIndex:_.zIndex,...aG};const fe=trt({id:t,sourceNode:q,targetNode:ne,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:J.connectionMode,onError:p});return{zIndex:qnt({selected:_.selected,zIndex:_.zIndex,sourceNode:q,targetNode:ne,elevateOnSelect:J.elevateEdgesOnSelect}),...fe||aG}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),_r),Y=P.useMemo(()=>_.markerStart?`url('#${lL(_.markerStart,v)}')`:void 0,[_.markerStart,v]),ie=P.useMemo(()=>_.markerEnd?`url('#${lL(_.markerEnd,v)}')`:void 0,[_.markerEnd,v]);if(_.hidden||V===null||R===null||L===null||B===null)return null;const ae=J=>{var me;const{addSelectedEdges:q,unselectNodesAndEdges:ne,multiSelectionActive:fe}=z.getState();T&&(z.setState({nodesSelectionActive:!1}),_.selected&&fe?(ne({nodes:[],edges:[_]}),(me=N.current)==null||me.blur()):q([t])),i&&i(J,_)},se=s?J=>{s(J,{..._})}:void 0,U=o?J=>{o(J,{..._})}:void 0,K=a?J=>{a(J,{..._})}:void 0,Q=l?J=>{l(J,{..._})}:void 0,ee=c?J=>{c(J,{..._})}:void 0,ue=J=>{var q;if(!x&&Lle.includes(J.key)&&T){const{unselectNodesAndEdges:ne,addSelectedEdges:fe}=z.getState();J.key==="Escape"?((q=N.current)==null||q.blur(),ne({edges:[_]})):fe([t])}};return h.jsx("svg",{style:{zIndex:$},children:h.jsxs("g",{className:Hr(["react-flow__edge",`react-flow__edge-${S}`,_.className,m,{selected:_.selected,animated:_.animated,inactive:!T&&!i,updating:I,selectable:T}]),onClick:ae,onDoubleClick:se,onContextMenu:U,onMouseEnter:K,onMouseMove:Q,onMouseLeave:ee,onKeyDown:A?ue:void 0,tabIndex:A?0:void 0,role:_.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":A?`${gce}-${v}`:void 0,ref:N,..._.domAttributes,children:[!j&&h.jsx(C,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:T,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:V,sourceY:R,targetX:L,targetY:B,sourcePosition:W,targetPosition:G,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:Y,markerEnd:ie,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),M&&h.jsx(hst,{edge:_,isReconnectable:M,reconnectRadius:d,onReconnect:u,onReconnectStart:f,onReconnectEnd:g,sourceX:V,sourceY:R,targetX:L,targetY:B,sourcePosition:W,targetPosition:G,setUpdateHover:k,setReconnecting:F})]})})}var mst=P.memo(pst);const gst=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function $ce({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:d,reconnectRadius:u,onEdgeDoubleClick:f,onReconnectStart:g,onReconnectEnd:v,disableKeyboardA11y:y}){const{edgesFocusable:m,edgesReconnectable:p,elementsSelectable:x,onError:_}=pn(gst,_r),b=est(e);return h.jsxs("div",{className:"react-flow__edges",children:[h.jsx(sst,{defaultColor:t,rfId:n}),b.map(S=>h.jsx(mst,{id:S,edgesFocusable:m,edgesReconnectable:p,elementsSelectable:x,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:d,reconnectRadius:u,onDoubleClick:f,onReconnectStart:g,onReconnectEnd:v,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:y},S))]})}$ce.displayName="EdgeRenderer";const vst=P.memo($ce),yst=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function xst({children:t}){const e=pn(yst);return h.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function _st(t){const e=sB(),n=P.useRef(!1);P.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const bst=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function wst(t){const e=pn(bst),n=ur();return P.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Sst(t){return t.connection.inProgress?{...t.connection,to:Cb(t.connection.to,t.transform)}:{...t.connection}}function Est(t){return Sst}function Cst(t){const e=Est();return pn(e,_r)}const Mst=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Ast({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=pn(Mst,_r);return!(s&&i&&l)?null:h.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:h.jsx("g",{className:Hr(["react-flow__connection",Ble(a)]),children:h.jsx(Hce,{style:e,type:n,CustomComponent:r,isValid:a})})})}const Hce=({style:t,type:e=ku.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:d,toHandle:u,toPosition:f}=Cst();if(!i)return;if(n)return h.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:f,connectionStatus:Ble(r),toNode:d,toHandle:u});let g="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:f};switch(e){case ku.Bezier:[g]=Zle(v);break;case ku.SimpleBezier:[g]=Nce(v);break;case ku.Step:[g]=aL({...v,borderRadius:0});break;case ku.SmoothStep:[g]=aL(v);break;default:[g]=Jle(v)}return h.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:t})};Hce.displayName="ConnectionLine";const Tst={};function uG(t=Tst){P.useRef(t),ur(),P.useEffect(()=>{},[t])}function Pst(){ur(),P.useRef(!1),P.useEffect(()=>{},[])}function Vce({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,onSelectionContextMenu:u,onSelectionStart:f,onSelectionEnd:g,connectionLineType:v,connectionLineStyle:y,connectionLineComponent:m,connectionLineContainerStyle:p,selectionKeyCode:x,selectionOnDrag:_,selectionMode:b,multiSelectionKeyCode:S,panActivationKeyCode:C,zoomActivationKeyCode:A,deleteKeyCode:M,onlyRenderVisibleElements:T,elementsSelectable:N,defaultViewport:I,translateExtent:k,minZoom:j,maxZoom:F,preventScrolling:z,defaultMarkerColor:$,zoomOnScroll:V,zoomOnPinch:R,panOnScroll:L,panOnScrollSpeed:B,panOnScrollMode:W,zoomOnDoubleClick:G,panOnDrag:Y,onPaneClick:ie,onPaneMouseEnter:ae,onPaneMouseMove:se,onPaneMouseLeave:U,onPaneScroll:K,onPaneContextMenu:Q,paneClickDistance:ee,nodeClickDistance:ue,onEdgeContextMenu:J,onEdgeMouseEnter:q,onEdgeMouseMove:ne,onEdgeMouseLeave:fe,reconnectRadius:me,onReconnect:pe,onReconnectStart:Ae,onReconnectEnd:Ce,noDragClassName:ke,noWheelClassName:nt,noPanClassName:Je,disableKeyboardA11y:re,nodeExtent:Z,rfId:ve,viewport:Se,onViewportChange:Ie}){return uG(t),uG(e),Pst(),_st(n),wst(Se),h.jsx(Vit,{onPaneClick:ie,onPaneMouseEnter:ae,onPaneMouseMove:se,onPaneMouseLeave:U,onPaneContextMenu:Q,onPaneScroll:K,paneClickDistance:ee,deleteKeyCode:M,selectionKeyCode:x,selectionOnDrag:_,selectionMode:b,onSelectionStart:f,onSelectionEnd:g,multiSelectionKeyCode:S,panActivationKeyCode:C,zoomActivationKeyCode:A,elementsSelectable:N,zoomOnScroll:V,zoomOnPinch:R,zoomOnDoubleClick:G,panOnScroll:L,panOnScrollSpeed:B,panOnScrollMode:W,panOnDrag:Y,defaultViewport:I,translateExtent:k,minZoom:j,maxZoom:F,onSelectionContextMenu:u,preventScrolling:z,noDragClassName:ke,noWheelClassName:nt,noPanClassName:Je,disableKeyboardA11y:re,onViewportChange:Ie,isControlledViewport:!!Se,children:h.jsxs(xst,{children:[h.jsx(vst,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:pe,onReconnectStart:Ae,onReconnectEnd:Ce,onlyRenderVisibleElements:T,onEdgeContextMenu:J,onEdgeMouseEnter:q,onEdgeMouseMove:ne,onEdgeMouseLeave:fe,reconnectRadius:me,defaultMarkerColor:$,noPanClassName:Je,disableKeyboardA11y:re,rfId:ve}),h.jsx(Ast,{style:y,type:v,component:m,containerStyle:p}),h.jsx("div",{className:"react-flow__edgelabel-renderer"}),h.jsx(Jit,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:d,nodeClickDistance:ue,onlyRenderVisibleElements:T,noPanClassName:Je,noDragClassName:ke,disableKeyboardA11y:re,nodeExtent:Z,rfId:ve}),h.jsx("div",{className:"react-flow__viewport-portal"})]})})}Vce.displayName="GraphView";const Nst=P.memo(Vce),dG=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:d,nodeExtent:u}={})=>{const f=new Map,g=new Map,v=new Map,y=new Map,m=r??e??[],p=n??t??[],x=d??[0,0],_=u??s_;nce(v,y,m);const b=cL(p,f,g,{nodeOrigin:x,nodeExtent:_,elevateNodesOnSelect:!1});let S=[0,0,1];if(o&&i&&s){const C=Sb(f,{filter:N=>!!((N.width||N.initialWidth)&&(N.height||N.initialHeight))}),{x:A,y:M,zoom:T}=Q4(C,i,s,l,c,(a==null?void 0:a.padding)??.1);S=[A,M,T]}return{rfId:"1",width:i??0,height:s??0,transform:S,nodes:p,nodesInitialized:b,nodeLookup:f,parentLookup:g,edges:m,edgeLookup:y,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:s_,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Gg.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:x,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Fle},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:$nt,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:jle}},Rst=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:u})=>Krt((f,g)=>{async function v(){const{nodeLookup:y,panZoom:m,fitViewOptions:p,fitViewResolver:x,width:_,height:b,minZoom:S,maxZoom:C}=g();m&&(await Unt({nodes:y,width:_,height:b,panZoom:m,minZoom:S,maxZoom:C},p),x==null||x.resolve(!0),f({fitViewResolver:null}))}return{...dG({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:d,nodeExtent:u,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:m,parentLookup:p,nodeOrigin:x,elevateNodesOnSelect:_,fitViewQueued:b}=g(),S=cL(y,m,p,{nodeOrigin:x,nodeExtent:u,elevateNodesOnSelect:_,checkEquality:!0});b&&S?(v(),f({nodes:y,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):f({nodes:y,nodesInitialized:S})},setEdges:y=>{const{connectionLookup:m,edgeLookup:p}=g();nce(m,p,y),f({edges:y})},setDefaultNodesAndEdges:(y,m)=>{if(y){const{setNodes:p}=g();p(y),f({hasDefaultNodes:!0})}if(m){const{setEdges:p}=g();p(m),f({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:m,nodeLookup:p,parentLookup:x,domNode:_,nodeOrigin:b,nodeExtent:S,debug:C,fitViewQueued:A}=g(),{changes:M,updatedInternals:T}=crt(y,p,x,_,b,S);T&&(srt(p,x,{nodeOrigin:b,nodeExtent:S}),A?(v(),f({fitViewQueued:!1,fitViewOptions:void 0})):f({}),(M==null?void 0:M.length)>0&&(C&&console.log("React Flow: trigger node changes",M),m==null||m(M)))},updateNodePositions:(y,m=!1)=>{const p=[],x=[],{nodeLookup:_,triggerNodeChanges:b}=g();for(const[S,C]of y){const A=_.get(S),M=!!(A!=null&&A.expandParent&&(A!=null&&A.parentId)&&(C!=null&&C.position)),T={id:S,type:"position",position:M?{x:Math.max(0,C.position.x),y:Math.max(0,C.position.y)}:C.position,dragging:m};M&&A.parentId&&p.push({id:S,parentId:A.parentId,rect:{...C.internals.positionAbsolute,width:C.measured.width??0,height:C.measured.height??0}}),x.push(T)}if(p.length>0){const{parentLookup:S,nodeOrigin:C}=g(),A=iB(p,_,S,C);x.push(...A)}b(x)},triggerNodeChanges:y=>{const{onNodesChange:m,setNodes:p,nodes:x,hasDefaultNodes:_,debug:b}=g();if(y!=null&&y.length){if(_){const S=xce(y,x);p(S)}b&&console.log("React Flow: trigger node changes",y),m==null||m(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:m,setEdges:p,edges:x,hasDefaultEdges:_,debug:b}=g();if(y!=null&&y.length){if(_){const S=_ce(y,x);p(S)}b&&console.log("React Flow: trigger edge changes",y),m==null||m(y)}},addSelectedNodes:y=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:x,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const S=y.map(C=>vf(C,!0));_(S);return}_(ym(x,new Set([...y]),!0)),b(ym(p))},addSelectedEdges:y=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:x,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const S=y.map(C=>vf(C,!0));b(S);return}b(ym(p,new Set([...y]))),_(ym(x,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:m}={})=>{const{edges:p,nodes:x,nodeLookup:_,triggerNodeChanges:b,triggerEdgeChanges:S}=g(),C=y||x,A=m||p,M=C.map(N=>{const I=_.get(N.id);return I&&(I.selected=!1),vf(N.id,!1)}),T=A.map(N=>vf(N.id,!1));b(M),S(T)},setMinZoom:y=>{const{panZoom:m,maxZoom:p}=g();m==null||m.setScaleExtent([y,p]),f({minZoom:y})},setMaxZoom:y=>{const{panZoom:m,minZoom:p}=g();m==null||m.setScaleExtent([p,y]),f({maxZoom:y})},setTranslateExtent:y=>{var m;(m=g().panZoom)==null||m.setTranslateExtent(y),f({translateExtent:y})},setPaneClickDistance:y=>{var m;(m=g().panZoom)==null||m.setClickDistance(y)},resetSelectedElements:()=>{const{edges:y,nodes:m,triggerNodeChanges:p,triggerEdgeChanges:x,elementsSelectable:_}=g();if(!_)return;const b=m.reduce((C,A)=>A.selected?[...C,vf(A.id,!1)]:C,[]),S=y.reduce((C,A)=>A.selected?[...C,vf(A.id,!1)]:C,[]);p(b),x(S)},setNodeExtent:y=>{const{nodes:m,nodeLookup:p,parentLookup:x,nodeOrigin:_,elevateNodesOnSelect:b,nodeExtent:S}=g();y[0][0]===S[0][0]&&y[0][1]===S[0][1]&&y[1][0]===S[1][0]&&y[1][1]===S[1][1]||(cL(m,p,x,{nodeOrigin:_,nodeExtent:y,elevateNodesOnSelect:b,checkEquality:!1}),f({nodeExtent:y}))},panBy:y=>{const{transform:m,width:p,height:x,panZoom:_,translateExtent:b}=g();return urt({delta:y,panZoom:_,transform:m,translateExtent:b,width:p,height:x})},setCenter:async(y,m,p)=>{const{width:x,height:_,maxZoom:b,panZoom:S}=g();if(!S)return Promise.resolve(!1);const C=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:b;return await S.setViewport({x:x/2-y*C,y:_/2-m*C,zoom:C},{duration:p==null?void 0:p.duration,ease:p==null?void 0:p.ease,interpolate:p==null?void 0:p.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{f({connection:{...Fle}})},updateConnection:y=>{f({connection:y})},reset:()=>f({...dG()})}},Object.is);function Ost({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:d,nodeExtent:u,children:f}){const[g]=P.useState(()=>Rst({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:c,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:d,nodeExtent:u}));return h.jsx(Yrt,{value:g,children:h.jsx(xit,{children:f})})}function Ist({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:d,nodeOrigin:u,nodeExtent:f}){return P.useContext(JT)?h.jsx(h.Fragment,{children:t}):h.jsx(Ost,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:d,nodeOrigin:u,nodeExtent:f,children:t})}const kst={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Dst({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:d,onMoveStart:u,onMoveEnd:f,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:m,onClickConnectEnd:p,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:A,onNodeDrag:M,onNodeDragStop:T,onNodesDelete:N,onEdgesDelete:I,onDelete:k,onSelectionChange:j,onSelectionDragStart:F,onSelectionDrag:z,onSelectionDragStop:$,onSelectionContextMenu:V,onSelectionStart:R,onSelectionEnd:L,onBeforeDelete:B,connectionMode:W,connectionLineType:G=ku.Bezier,connectionLineStyle:Y,connectionLineComponent:ie,connectionLineContainerStyle:ae,deleteKeyCode:se="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:K=!1,selectionMode:Q=o_.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:ue=l_()?"Meta":"Control",zoomActivationKeyCode:J=l_()?"Meta":"Control",snapToGrid:q,snapGrid:ne,onlyRenderVisibleElements:fe=!1,selectNodesOnDrag:me,nodesDraggable:pe,autoPanOnNodeFocus:Ae,nodesConnectable:Ce,nodesFocusable:ke,nodeOrigin:nt=vce,edgesFocusable:Je,edgesReconnectable:re,elementsSelectable:Z=!0,defaultViewport:ve=cit,minZoom:Se=.5,maxZoom:Ie=2,translateExtent:Me=s_,preventScrolling:at=!0,nodeExtent:He,defaultMarkerColor:st="#b1b1b7",zoomOnScroll:We=!0,zoomOnPinch:$e=!0,panOnScroll:rt=!1,panOnScrollSpeed:Ct=.5,panOnScrollMode:he=qf.Free,zoomOnDoubleClick:Ee=!0,panOnDrag:Ke=!0,onPaneClick:ce,onPaneMouseEnter:Ne,onPaneMouseMove:Be,onPaneMouseLeave:Ve,onPaneScroll:Ue,onPaneContextMenu:Le,paneClickDistance:Ye=0,nodeClickDistance:mt=0,children:jt,onReconnect:zt,onReconnectStart:Ln,onReconnectEnd:Rn,onEdgeContextMenu:Ko,onEdgeDoubleClick:cs,onEdgeMouseEnter:eu,onEdgeMouseMove:tu,onEdgeMouseLeave:qh,reconnectRadius:ho=10,onNodesChange:Kh,onEdgesChange:nu,noDragClassName:Yh="nodrag",noWheelClassName:Zh="nowheel",noPanClassName:Qh="nopan",fitView:Jh,fitViewOptions:ep,connectOnClick:tp,attributionPosition:Vv,proOptions:Wv,defaultEdgeOptions:oe,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Pe,disableKeyboardA11y:Re=!1,autoPanOnConnect:be,autoPanOnNodeDrag:qe,autoPanSpeed:lt,connectionRadius:yt,isValidConnection:gt,onError:It,style:Ot,id:bt,nodeDragThreshold:St,connectionDragThreshold:Nt,viewport:mn,onViewportChange:qt,width:Kt,height:Mt,colorMode:Sn="light",debug:$t,onScroll:dr,ariaLabelConfig:Yo,...ri},po){const On=bt||"1",Xn=hit(Sn),Ei=P.useCallback(Ir=>{Ir.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),dr==null||dr(Ir)},[dr]);return h.jsx("div",{"data-testid":"rf__wrapper",...ri,onScroll:Ei,style:{...Ot,...kst},ref:po,className:Hr(["react-flow",i,Xn]),id:bt,role:"application",children:h.jsxs(Ist,{nodes:t,edges:e,width:Kt,height:Mt,fitView:Jh,fitViewOptions:ep,minZoom:Se,maxZoom:Ie,nodeOrigin:nt,nodeExtent:He,children:[h.jsx(Nst,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:x,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:G,connectionLineStyle:Y,connectionLineComponent:ie,connectionLineContainerStyle:ae,selectionKeyCode:U,selectionOnDrag:K,selectionMode:Q,deleteKeyCode:se,multiSelectionKeyCode:ue,panActivationKeyCode:ee,zoomActivationKeyCode:J,onlyRenderVisibleElements:fe,defaultViewport:ve,translateExtent:Me,minZoom:Se,maxZoom:Ie,preventScrolling:at,zoomOnScroll:We,zoomOnPinch:$e,zoomOnDoubleClick:Ee,panOnScroll:rt,panOnScrollSpeed:Ct,panOnScrollMode:he,panOnDrag:Ke,onPaneClick:ce,onPaneMouseEnter:Ne,onPaneMouseMove:Be,onPaneMouseLeave:Ve,onPaneScroll:Ue,onPaneContextMenu:Le,paneClickDistance:Ye,nodeClickDistance:mt,onSelectionContextMenu:V,onSelectionStart:R,onSelectionEnd:L,onReconnect:zt,onReconnectStart:Ln,onReconnectEnd:Rn,onEdgeContextMenu:Ko,onEdgeDoubleClick:cs,onEdgeMouseEnter:eu,onEdgeMouseMove:tu,onEdgeMouseLeave:qh,reconnectRadius:ho,defaultMarkerColor:st,noDragClassName:Yh,noWheelClassName:Zh,noPanClassName:Qh,rfId:On,disableKeyboardA11y:Re,nodeExtent:He,viewport:mn,onViewportChange:qt}),h.jsx(fit,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:y,onClickConnectStart:m,onClickConnectEnd:p,nodesDraggable:pe,autoPanOnNodeFocus:Ae,nodesConnectable:Ce,nodesFocusable:ke,edgesFocusable:Je,edgesReconnectable:re,elementsSelectable:Z,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Pe,minZoom:Se,maxZoom:Ie,nodeExtent:He,onNodesChange:Kh,onEdgesChange:nu,snapToGrid:q,snapGrid:ne,connectionMode:W,translateExtent:Me,connectOnClick:tp,defaultEdgeOptions:oe,fitView:Jh,fitViewOptions:ep,onNodesDelete:N,onEdgesDelete:I,onDelete:k,onNodeDragStart:A,onNodeDrag:M,onNodeDragStop:T,onSelectionDrag:z,onSelectionDragStart:F,onSelectionDragStop:$,onMove:d,onMoveStart:u,onMoveEnd:f,noPanClassName:Qh,nodeOrigin:nt,rfId:On,autoPanOnConnect:be,autoPanOnNodeDrag:qe,autoPanSpeed:lt,onError:It,connectionRadius:yt,isValidConnection:gt,selectNodesOnDrag:me,nodeDragThreshold:St,connectionDragThreshold:Nt,onBeforeDelete:B,paneClickDistance:Ye,debug:$t,ariaLabelConfig:Yo}),h.jsx(lit,{onSelectionChange:j}),jt,h.jsx(rit,{proOptions:Wv,position:Vv}),h.jsx(nit,{rfId:On,disableKeyboardA11y:Re})]})})}var Wce=bce(Dst);function Gce(t){const[e,n]=P.useState(t),r=P.useCallback(i=>n(s=>xce(i,s)),[]);return[e,n,r]}function Xce(t){const[e,n]=P.useState(t),r=P.useCallback(i=>n(s=>_ce(i,s)),[]);return[e,n,r]}function Lst({dimensions:t,lineWidth:e,variant:n,className:r}){return h.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Hr(["react-flow__background-pattern",n,r])})}function jst({radius:t,className:e}){return h.jsx("circle",{cx:t,cy:t,r:t,className:Hr(["react-flow__background-pattern","dots",e])})}var ld;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(ld||(ld={}));const Fst={[ld.Dots]:1,[ld.Lines]:1,[ld.Cross]:6},Bst=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function qce({id:t,variant:e=ld.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:d}){const u=P.useRef(null),{transform:f,patternId:g}=pn(Bst,_r),v=r||Fst[e],y=e===ld.Dots,m=e===ld.Cross,p=Array.isArray(n)?n:[n,n],x=[p[0]*f[2]||1,p[1]*f[2]||1],_=v*f[2],b=Array.isArray(s)?s:[s,s],S=m?[_,_]:x,C=[b[0]*f[2]||1+S[0]/2,b[1]*f[2]||1+S[1]/2],A=`${g}${t||""}`;return h.jsxs("svg",{className:Hr(["react-flow__background",c]),style:{...l,...tP,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:u,"data-testid":"rf__background",children:[h.jsx("pattern",{id:A,x:f[0]%x[0],y:f[1]%x[1],width:x[0],height:x[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:y?h.jsx(jst,{radius:_/2,className:d}):h.jsx(Lst,{dimensions:S,lineWidth:i,variant:e,className:d})}),h.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${A})`})]})}qce.displayName="Background";const Kce=P.memo(qce);function Ust(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:h.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function zst(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:h.jsx("path",{d:"M0 0h32v4.2H0z"})})}function $st(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:h.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Hst(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function Vst(){return h.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:h.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function M1({children:t,className:e,...n}){return h.jsx("button",{type:"button",className:Hr(["react-flow__controls-button",e]),...n,children:t})}const Wst=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Yce({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:d,position:u="bottom-left",orientation:f="vertical","aria-label":g}){const v=ur(),{isInteractive:y,minZoomReached:m,maxZoomReached:p,ariaLabelConfig:x}=pn(Wst,_r),{zoomIn:_,zoomOut:b,fitView:S}=sB(),C=()=>{_(),s==null||s()},A=()=>{b(),o==null||o()},M=()=>{S(i),a==null||a()},T=()=>{v.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),l==null||l(!y)},N=f==="horizontal"?"horizontal":"vertical";return h.jsxs(eP,{className:Hr(["react-flow__controls",N,c]),position:u,style:t,"data-testid":"rf__controls","aria-label":g??x["controls.ariaLabel"],children:[e&&h.jsxs(h.Fragment,{children:[h.jsx(M1,{onClick:C,className:"react-flow__controls-zoomin",title:x["controls.zoomIn.ariaLabel"],"aria-label":x["controls.zoomIn.ariaLabel"],disabled:p,children:h.jsx(Ust,{})}),h.jsx(M1,{onClick:A,className:"react-flow__controls-zoomout",title:x["controls.zoomOut.ariaLabel"],"aria-label":x["controls.zoomOut.ariaLabel"],disabled:m,children:h.jsx(zst,{})})]}),n&&h.jsx(M1,{className:"react-flow__controls-fitview",onClick:M,title:x["controls.fitView.ariaLabel"],"aria-label":x["controls.fitView.ariaLabel"],children:h.jsx($st,{})}),r&&h.jsx(M1,{className:"react-flow__controls-interactive",onClick:T,title:x["controls.interactive.ariaLabel"],"aria-label":x["controls.interactive.ariaLabel"],children:y?h.jsx(Vst,{}):h.jsx(Hst,{})}),d]})}Yce.displayName="Controls";const Zce=P.memo(Yce);function Gst({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:d,shapeRendering:u,selected:f,onClick:g}){const{background:v,backgroundColor:y}=s||{},m=o||v||y;return h.jsx("rect",{className:Hr(["react-flow__minimap-node",{selected:f},c]),x:e,y:n,rx:d,ry:d,width:r,height:i,style:{fill:m,stroke:a,strokeWidth:l},shapeRendering:u,onClick:g?p=>g(p,t):void 0})}const Xst=P.memo(Gst),qst=t=>t.nodes.map(e=>e.id),TR=t=>t instanceof Function?t:()=>t;function Kst({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Xst,onClick:o}){const a=pn(qst,_r),l=TR(e),c=TR(t),d=TR(n),u=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return h.jsx(h.Fragment,{children:a.map(f=>h.jsx(Zst,{id:f,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:d,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:u},f))})}function Yst({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:d,y:u,width:f,height:g}=pn(v=>{const{internals:y}=v.nodeLookup.get(t),m=y.userNode,{x:p,y:x}=y.positionAbsolute,{width:_,height:b}=Jc(m);return{node:m,x:p,y:x,width:_,height:b}},_r);return!c||c.hidden||!Wle(c)?null:h.jsx(a,{x:d,y:u,width:f,height:g,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const Zst=P.memo(Yst);var Qst=P.memo(Kst);const Jst=200,eot=150,tot=t=>!t.hidden,not=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?Vle(Sb(t.nodeLookup,{filter:tot}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},rot="react-flow__minimap-desc";function Qce({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:d,maskStrokeWidth:u,position:f="bottom-right",onClick:g,onNodeClick:v,pannable:y=!1,zoomable:m=!1,ariaLabel:p,inversePan:x,zoomStep:_=1,offsetScale:b=5}){const S=ur(),C=P.useRef(null),{boundingRect:A,viewBB:M,rfId:T,panZoom:N,translateExtent:I,flowWidth:k,flowHeight:j,ariaLabelConfig:F}=pn(not,_r),z=(t==null?void 0:t.width)??Jst,$=(t==null?void 0:t.height)??eot,V=A.width/z,R=A.height/$,L=Math.max(V,R),B=L*z,W=L*$,G=b*L,Y=A.x-(B-A.width)/2-G,ie=A.y-(W-A.height)/2-G,ae=B+G*2,se=W+G*2,U=`${rot}-${T}`,K=P.useRef(0),Q=P.useRef();K.current=L,P.useEffect(()=>{if(C.current&&N)return Q.current=xrt({domNode:C.current,panZoom:N,getTransform:()=>S.getState().transform,getViewScale:()=>K.current}),()=>{var q;(q=Q.current)==null||q.destroy()}},[N]),P.useEffect(()=>{var q;(q=Q.current)==null||q.update({translateExtent:I,width:k,height:j,inversePan:x,pannable:y,zoomStep:_,zoomable:m})},[y,m,x,_,I,k,j]);const ee=g?q=>{var me;const[ne,fe]=((me=Q.current)==null?void 0:me.pointer(q))||[0,0];g(q,{x:ne,y:fe})}:void 0,ue=v?P.useCallback((q,ne)=>{const fe=S.getState().nodeLookup.get(ne).internals.userNode;v(q,fe)},[]):void 0,J=p??F["minimap.ariaLabel"];return h.jsx(eP,{position:f,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-stroke-width-props":typeof u=="number"?u*L:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Hr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:h.jsxs("svg",{width:z,height:$,viewBox:`${Y} ${ie} ${ae} ${se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":U,ref:C,onClick:ee,children:[J&&h.jsx("title",{id:U,children:J}),h.jsx(Qst,{onClick:ue,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),h.jsx("path",{className:"react-flow__minimap-mask",d:`M${Y-G},${ie-G}h${ae+G*2}v${se+G*2}h${-ae-G*2}z
        M${M.x},${M.y}h${M.width}v${M.height}h${-M.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Qce.displayName="MiniMap";const Jce=P.memo(Qce),iot=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,sot={[Yg.Line]:"right",[Yg.Handle]:"bottom-right"};function oot({nodeId:t,position:e,variant:n=Yg.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:d=Number.MAX_VALUE,keepAspectRatio:u=!1,resizeDirection:f,autoScale:g=!0,shouldResize:v,onResizeStart:y,onResize:m,onResizeEnd:p}){const x=Cce(),_=typeof t=="string"?t:x,b=ur(),S=P.useRef(null),C=n===Yg.Handle,A=pn(P.useCallback(iot(C&&g),[C,g]),_r),M=P.useRef(null),T=e??sot[n];P.useEffect(()=>{if(!(!S.current||!_))return M.current||(M.current=Irt({domNode:S.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:I,transform:k,snapGrid:j,snapToGrid:F,nodeOrigin:z,domNode:$}=b.getState();return{nodeLookup:I,transform:k,snapGrid:j,snapToGrid:F,nodeOrigin:z,paneDomNode:$}},onChange:(I,k)=>{const{triggerNodeChanges:j,nodeLookup:F,parentLookup:z,nodeOrigin:$}=b.getState(),V=[],R={x:I.x,y:I.y},L=F.get(_);if(L&&L.expandParent&&L.parentId){const B=L.origin??$,W=I.width??L.measured.width??0,G=I.height??L.measured.height??0,Y={id:L.id,parentId:L.parentId,rect:{width:W,height:G,...Gle({x:I.x??L.position.x,y:I.y??L.position.y},{width:W,height:G},L.parentId,F,B)}},ie=iB([Y],F,z,$);V.push(...ie),R.x=I.x?Math.max(B[0]*W,I.x):void 0,R.y=I.y?Math.max(B[1]*G,I.y):void 0}if(R.x!==void 0&&R.y!==void 0){const B={id:_,type:"position",position:{...R}};V.push(B)}if(I.width!==void 0&&I.height!==void 0){const W={id:_,type:"dimensions",resizing:!0,setAttributes:f?f==="horizontal"?"width":"height":!0,dimensions:{width:I.width,height:I.height}};V.push(W)}for(const B of k){const W={...B,type:"position"};V.push(W)}j(V)},onEnd:({width:I,height:k})=>{const j={id:_,type:"dimensions",resizing:!1,dimensions:{width:I,height:k}};b.getState().triggerNodeChanges([j])}})),M.current.update({controlPosition:T,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:d},keepAspectRatio:u,resizeDirection:f,onResizeStart:y,onResize:m,onResizeEnd:p,shouldResize:v}),()=>{var I;(I=M.current)==null||I.destroy()}},[T,a,l,c,d,u,y,m,p,v]);const N=T.split("-");return h.jsx("div",{className:Hr(["react-flow__resize-control","nodrag",...N,n,r]),ref:S,style:{...i,scale:A,...o&&{[C?"backgroundColor":"borderColor"]:o}},children:s})}P.memo(oot);const aot=[],lot=[],cot=t=>({nodes:[{id:"1",type:"input",data:{label:`Query: "${t}"`},position:{x:250,y:5}},{id:"2",data:{label:"Intent Analysis"},position:{x:250,y:100}},{id:"3",data:{label:"ARCANA (Conversational)"},position:{x:50,y:200}},{id:"4",data:{label:"MYNTRIX (Operational)"},position:{x:250,y:200}},{id:"5",data:{label:"NEOSYNTIS (Analytical)"},position:{x:450,y:200}},{id:"6",type:"output",data:{label:"Decision: Route to ARCANA"},position:{x:250,y:300}}],edges:[{id:"e1-2",source:"1",target:"2",animated:!0},{id:"e2-3",source:"2",target:"3",label:"85% confidence"},{id:"e2-4",source:"2",target:"4",label:"10% confidence"},{id:"e2-5",source:"2",target:"5",label:"5% confidence"},{id:"e3-6",source:"3",target:"6",animated:!0,style:{stroke:"#10b981"}}]});function uot(){const[t,e]=P.useState("Hello, can you summarize a document for me?"),[n,r]=P.useState("auto"),[i,s]=P.useState([]),[o,a,l]=Gce(aot),[c,d,u]=Xce(lot),f=P.useCallback(v=>d(y=>eB(v,y)),[d]),g=()=>{if(!t.trim())return;const v=[...i,{role:"user",content:t},{role:"assistant",content:"This is a mock response. The visualization on the right shows the routing logic.",model:n==="auto"?"GPT-4 (auto-routed)":n,tokens:Math.floor(Math.random()*500)+100}];if(s(v),n==="auto"){const{nodes:y,edges:m}=cot(t);a(y),d(m)}e("")};return h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(Ra,{className:"h-5 w-5 text-primary"}),"Test Console"]}),h.jsx(Wt,{children:"Test prompts and verify routing behavior. The visualization will appear on the right when using auto-routing."})]}),h.jsx(ct,{className:"space-y-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsxs(Al,{value:n,onValueChange:r,children:[h.jsx(ja,{className:"w-[200px]",children:h.jsx(Tl,{})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"auto",children:"Auto-route"}),h.jsx(un,{value:"gpt-4",children:"GPT-4"})]})]}),h.jsx(An,{placeholder:"Enter test prompt...",value:t,onChange:v=>e(v.target.value),onKeyDown:v=>v.key==="Enter"&&g(),className:"flex-1"}),h.jsx(Ge,{onClick:g,children:h.jsx(Hj,{className:"h-4 w-4"})}),i.length>0&&h.jsx(Ge,{variant:"outline",onClick:()=>s([]),children:h.jsx(z_,{className:"h-4 w-4"})})]})})]}),i.length>0&&h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Conversation"})}),h.jsx(ct,{className:"space-y-4",children:i.map((v,y)=>h.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:h.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${v.role==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:[h.jsx("div",{className:"text-sm whitespace-pre-wrap",children:v.content}),v.model&&h.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[h.jsx(fn,{variant:"secondary",className:"text-xs",children:v.model}),v.tokens&&h.jsxs("span",{className:"text-xs text-muted-foreground",children:[v.tokens," tokens"]})]})]})},y))})]})]}),h.jsxs(Ze,{className:"h-[600px]",children:[h.jsx(it,{children:h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(fv,{className:"h-5 w-5 text-primary"}),"Reasoning & Routing Visualization"]})}),h.jsx(ct,{className:"h-[calc(100%-4rem)]",children:o.length>0?h.jsxs(Wce,{nodes:o,edges:c,onNodesChange:l,onEdgesChange:u,onConnect:f,fitView:!0,children:[h.jsx(Zce,{}),h.jsx(Jce,{}),h.jsx(Kce,{gap:12,size:1})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:h.jsx("p",{children:"Run a query with auto-routing to see the visualization."})})})]})]})}function dot(){const t=fA(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"map",[i,s]=P.useState(r);P.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/cognisys?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"COGNISYS"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Multimodel Orchestration & Routing System"})]}),h.jsxs(fn,{variant:"outline",className:"gap-2",children:[h.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"12 Models Active"]})]})}),h.jsx("div",{className:"flex-1 overflow-auto p-6",children:h.jsxs(Qc,{value:i,onValueChange:o,children:[h.jsxs(Bl,{className:"grid w-full grid-cols-4 mb-6",children:[h.jsxs(Mr,{value:"map",className:"gap-2","data-testid":"tab-model-map",children:[h.jsx(bd,{className:"h-4 w-4"}),"Model Map"]}),h.jsxs(Mr,{value:"routing",className:"gap-2","data-testid":"tab-routing",children:[h.jsx(IK,{className:"h-4 w-4"}),"Routing Rules"]}),h.jsxs(Mr,{value:"settings",className:"gap-2","data-testid":"tab-provider-settings",children:[h.jsx(dg,{className:"h-4 w-4"}),"Providers"]}),h.jsxs(Mr,{value:"test",className:"gap-2","data-testid":"tab-test-console",children:[h.jsx(Ra,{className:"h-4 w-4"}),"Test Console"]})]}),h.jsx(yn,{value:"map",children:h.jsx(Ant,{})}),h.jsx(yn,{value:"routing",children:h.jsx(Int,{})}),h.jsx(yn,{value:"settings",children:h.jsx(Dnt,{})}),h.jsx(yn,{value:"test",children:h.jsx(uot,{})})]})})]})}const fot={online:"bg-green-500",running:"bg-green-500",connected:"bg-green-500",completed:"bg-green-500",idle:"bg-yellow-500",pending:"bg-yellow-500",degraded:"bg-orange-500",offline:"bg-gray-500",stopped:"bg-gray-500",disconnected:"bg-gray-500",error:"bg-red-500"},hot={sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4"};function zm({status:t,label:e,showLabel:n=!1,size:r="md"}){return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:we("rounded-full",fot[t],hot[r])}),n&&h.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:e||t})]})}function pot(){const[,t]=as(),{toast:e}=$h(),n=Nn({mutationFn:async()=>{const T=await fetch("/api/neosyntis/open-lab",{method:"POST"});if(!T.ok)throw new Error("Failed to open Neosyntis Lab");return T.json()},onSuccess:()=>{e({title:"Neosyntis Lab Opened",description:"The Neosyntis Lab has been successfully opened."})},onError:T=>{e({title:"Error",description:`Failed to open Neosyntis Lab: ${T.message}`,variant:"destructive"})}}),r=Nn({mutationFn:async()=>{const T=await fetch("/api/arcana/start-chat",{method:"POST"});if(!T.ok)throw new Error("Failed to start Arcana Chat");return T.json()},onSuccess:()=>{e({title:"Arcana Chat Started",description:"A new Arcana chat session has been initiated."})},onError:T=>{e({title:"Error",description:`Failed to start Arcana Chat: ${T.message}`,variant:"destructive"})}}),i=Nn({mutationFn:async()=>{const T=await fetch("/api/myntrix/deploy-model",{method:"POST"});if(!T.ok)throw new Error("Failed to deploy Myntrix Model");return T.json()},onSuccess:()=>{e({title:"Myntrix Model Deployed",description:"The Myntrix model has been successfully deployed."})},onError:T=>{e({title:"Error",description:`Failed to deploy Myntrix Model: ${T.message}`,variant:"destructive"})}}),s=Nn({mutationFn:async()=>{const T=await fetch("/api/myntrix/manage-agents",{method:"POST"});if(!T.ok)throw new Error("Failed to manage Myntrix Agents");return T.json()},onSuccess:()=>{e({title:"Myntrix Agents Managed",description:"Myntrix agents management initiated."})},onError:T=>{e({title:"Error",description:`Failed to manage Myntrix Agents: ${T.message}`,variant:"destructive"})}});Rl();const{data:o,isLoading:a,error:l}=Yr({queryKey:["/api/system/status"],queryFn:async()=>{const T=await fetch("/api/system/status");if(!T.ok)throw new Error("Network response was not ok");return T.json()}}),{data:c,isLoading:d,error:u}=Yr({queryKey:["/api/arcana/status"],queryFn:async()=>{const T=await fetch("/api/arcana/status");if(!T.ok)throw new Error("Network response was not ok");return T.json()}}),{data:f,isLoading:g,error:v}=Yr({queryKey:["/api/myntrix/status"],queryFn:async()=>{const T=await fetch("/api/myntrix/status");if(!T.ok)throw new Error("Network response was not ok");return T.json()}}),{data:y,isLoading:m,error:p}=Yr({queryKey:["/api/neosyntis/status"],queryFn:async()=>{const T=await fetch("/api/neosyntis/status");if(!T.ok)throw new Error("Network response was not ok");return T.json()}}),{data:x,isLoading:_,error:b}=Yr({queryKey:["/api/cognisys/status"],queryFn:async()=>{const T=await fetch("/api/cognisys/status");if(!T.ok)throw new Error("Network response was not ok");return T.json()}}),S=[{label:"Open Neosyntis Lab",icon:ml,action:()=>n.mutate(),loading:n.isPending},{label:"Start Arcana Chat",icon:Ra,action:()=>r.mutate(),loading:r.isPending},{label:"Deploy Myntrix Model",icon:bc,action:()=>i.mutate(),loading:i.isPending},{label:"Manage Myntrix Agents",icon:hi,action:()=>s.mutate(),loading:s.isPending}],C=a||d||g||m||_||n.isPending||r.isPending||i.isPending||s.isPending,A=l||u||v||p||b||n.isError||r.isError||i.isError||s.isError;if(C)return h.jsx("div",{className:"p-6 text-center",children:"Loading dashboard data..."});if(A)return h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading dashboard data: ",A instanceof Error?A.message:"An unknown error occurred"]});if(!o||!c||!f||!y||!x)return h.jsx("div",{className:"p-6 text-center text-red-500",children:"Missing some dashboard data."});const M=[{id:"arcana",name:"ARCANA",icon:Ra,description:"Cognitive Chat & Shell System",status:c.status,metrics:[{label:"Active Chats",value:c.activeChats},{label:"Messages",value:c.messagesProcessed},{label:"Avg Response",value:c.avgResponseTime}],path:"/dashboard/arcana"},{id:"myntrix",name:"MYNTRIX",icon:bc,description:"AI Core & Device Control",status:f.status,metrics:[{label:"Active Agents",value:f.activeAgents},{label:"Jobs Completed",value:f.jobsCompleted},{label:"Devices",value:f.devicesConnected}],path:"/dashboard/myntrix"},{id:"neosyntis",name:"NEOSYNTIS",icon:ml,description:"Research & Workflow Lab",status:y.status,metrics:[{label:"Active Workflows",value:y.activeWorkflows},{label:"Datasets",value:y.datasetsManaged},{label:"Search Queries",value:y.searchQueriesProcessed}],path:"/dashboard/neosyntis"},{id:"cognisys",name:"COGNISYS",icon:bd,description:"Multimodel Orchestration",status:x.status,metrics:[{label:"Active Models",value:x.modelsActive},{label:"Routing Rules",value:x.routingRules},{label:"Requests Routed",value:x.requestsRouted}],path:"/dashboard/cognisys"}];return o.arcana.status==="online"&&o.myntrix.status==="online"&&o.neosyntis.status==="online"&&o.cognisys.status,o.arcana.uptime,h.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"VAREON Dashboard"}),h.jsx("p",{className:"text-muted-foreground mt-1",children:"Central hub for your cognitive AI ecosystem"})]}),h.jsxs(fn,{variant:"outline",className:"gap-2",children:[h.jsx(zm,{status:"online",size:"sm"}),"All Systems Operational"]})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:M.map(T=>h.jsxs(Ze,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>t(T.path),"data-testid":`card-module-${T.id}`,children:[h.jsxs(it,{className:"pb-3",children:[h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:h.jsx(T.icon,{className:"h-5 w-5 text-primary"})}),h.jsxs("div",{children:[h.jsx(ot,{className:"text-base",children:T.name}),h.jsx(zm,{status:T.status,showLabel:!0,size:"sm",label:T.status})]})]})}),h.jsx(Wt,{className:"text-xs mt-2",children:T.description})]}),h.jsx(ct,{className:"space-y-2",children:T.metrics.map((N,I)=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:N.label}),h.jsx("span",{className:"font-medium font-mono",children:N.value})]},I))})]},T.id))}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(Jve,{className:"h-5 w-5 text-primary"}),"Quick Actions"]}),h.jsx(Wt,{children:"Frequently used operations"})]}),h.jsx(ct,{className:"space-y-2",children:S.map((T,N)=>h.jsxs(Ge,{variant:"ghost",className:"w-full justify-between group",onClick:T.action,disabled:T.loading,"data-testid":`button-quick-${T.label.toLowerCase().replace(/\s+/g,"-")}`,children:[h.jsxs("span",{className:"flex items-center gap-2",children:[T.loading?h.jsx(hi,{className:"h-4 w-4 animate-spin"}):h.jsx(T.icon,{className:"h-4 w-4"}),T.label]}),h.jsx(F_,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity"})]},N))})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(hi,{className:"h-5 w-5 text-primary"}),"System Health"]}),h.jsx(Wt,{children:"Overall system performance"})]}),h.jsx(ct,{className:"space-y-3",children:Object.entries(o).map(([T,N])=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(zm,{status:N.status,size:"sm"}),h.jsx("span",{className:"text-sm font-medium capitalize",children:T})]}),h.jsxs(fn,{variant:"outline",className:"text-xs",children:[N.uptime," uptime"]})]},T))})]})]}),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsxs(it,{children:[h.jsx(ot,{children:"Welcome to VAREON Ecosystem"}),h.jsx(Wt,{children:"An enterprise-grade cognitive AI platform integrating research, orchestration, and deployment"})]}),h.jsxs(ct,{className:"space-y-2 text-sm text-muted-foreground",children:[h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"NEOSYNTIS"})," - Advanced research laboratory with workflow automation, dataset management, and intelligent search capabilities."]}),h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"MYNTRIX"})," - Core AI engine managing agents, hardware integration, and task orchestration with 3D visualization."]}),h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"COGNISYS"})," - Multimodel routing system with intelligent intent detection and reasoning capabilities."]}),h.jsxs("p",{children:[h.jsx("strong",{className:"text-foreground",children:"ARCANA"})," - Conversational AI interface with embedded terminal and context-aware memory management."]})]})]})]})}async function mot(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const got=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await mot(n),await n.json())},By=new nK({defaultOptions:{queries:{queryFn:got({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function vot(){const{toast:t}=$h(),{data:e}=Yr({queryKey:["/api/agents"],queryFn:async()=>{const a=await fetch("/api/agents");if(!a.ok)throw new Error("Network response was not ok");return a.json()}}),n=Nn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/start`,{method:"POST"});if(!l.ok)throw new Error("Failed to start agent");return l.json()},onSuccess:()=>{t({title:"Agent started",description:"Agent is now running"}),By.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to start agent: ${a.message}`,variant:"destructive"})}}),r=Nn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/stop`,{method:"POST"});if(!l.ok)throw new Error("Failed to stop agent");return l.json()},onSuccess:()=>{t({title:"Agent stopped"}),By.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to stop agent: ${a.message}`,variant:"destructive"})}}),i=Nn({mutationFn:async a=>{const l=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok)throw new Error("Failed to create agent");return l.json()},onSuccess:()=>{t({title:"Agent created",description:"New agent has been successfully created."}),By.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to create agent: ${a.message}`,variant:"destructive"})}}),s=Nn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/restart`,{method:"POST"});if(!l.ok)throw new Error("Failed to restart agent");return l.json()},onSuccess:()=>{t({title:"Agent restarted",description:"Agent has been successfully restarted."}),By.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to restart agent: ${a.message}`,variant:"destructive"})}}),o=Nn({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}`,{method:"DELETE"});if(!l.ok)throw new Error("Failed to delete agent");return l.json()},onSuccess:()=>{t({title:"Agent deleted",description:"Agent has been successfully deleted."}),By.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to delete agent: ${a.message}`,variant:"destructive"})}});return h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsx(Ze,{children:h.jsx(it,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(bc,{className:"h-5 w-5 text-primary"}),"Agent Manager"]}),h.jsx(Wt,{className:"mt-1",children:"Manage and monitor AI agents for task execution"})]}),h.jsxs(Ge,{onClick:()=>i.mutate({name:"New Agent",type:"Generic"}),"data-testid":"button-create-agent",disabled:i.isPending,children:[i.isPending?h.jsx(Ma,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Create Agent"]})]})})}),h.jsx(Ze,{children:h.jsx(ct,{className:"p-0",children:h.jsxs(DT,{children:[h.jsx(LT,{children:h.jsxs(ad,{children:[h.jsx(xi,{children:"Name"}),h.jsx(xi,{children:"Type"}),h.jsx(xi,{children:"Status"}),h.jsx(xi,{children:"Health"}),h.jsx(xi,{children:"Last Run"}),h.jsx(xi,{className:"text-right",children:"Actions"})]})}),h.jsx(jT,{children:e==null?void 0:e.map(a=>h.jsxs(ad,{"data-testid":`row-agent-${a.id}`,children:[h.jsx(fi,{className:"font-medium",children:a.name}),h.jsx(fi,{children:h.jsx(fn,{variant:"outline",children:a.type})}),h.jsx(fi,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(zm,{status:a.status,size:"sm"}),h.jsx("span",{className:"text-sm capitalize",children:a.status})]})}),h.jsx(fi,{children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex-1 max-w-[100px]",children:h.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all ${a.health>=90?"bg-green-500":a.health>=70?"bg-yellow-500":a.health>0?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.health}%`}})})}),h.jsxs("span",{className:"text-sm font-mono",children:[a.health,"%"]})]})}),h.jsx(fi,{className:"text-sm text-muted-foreground",children:a.lastRun?new Date(a.lastRun).toLocaleString():"Never"}),h.jsx(fi,{className:"text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.status==="running"?h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>r.mutate(a.id),"data-testid":`button-stop-${a.id}`,children:h.jsx(DK,{className:"h-4 w-4"})}):h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>n.mutate(a.id),"data-testid":`button-start-${a.id}`,children:h.jsx(ug,{className:"h-4 w-4"})}),h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>s.mutate(a.id),"data-testid":`button-restart-${a.id}`,disabled:s.isPending,children:s.isPending?h.jsx(Ma,{className:"h-4 w-4 animate-spin"}):h.jsx(Zve,{className:"h-4 w-4"})}),h.jsx(Ge,{variant:"ghost",size:"sm",onClick:()=>o.mutate(a.id),"data-testid":`button-delete-${a.id}`,disabled:o.isPending,children:o.isPending?h.jsx(Ma,{className:"h-4 w-4 animate-spin"}):h.jsx(z_,{className:"h-4 w-4"})})]})})]},a.id))})]})})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsx(ot,{className:"text-sm text-muted-foreground",children:"Total Agents"})}),h.jsx(ct,{children:h.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.length})})]}),h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsx(ot,{className:"text-sm text-muted-foreground",children:"Running"})}),h.jsx(ct,{children:h.jsx("div",{className:"text-3xl font-bold text-green-600",children:e==null?void 0:e.filter(a=>a.status==="running").length})})]}),h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsx(ot,{className:"text-sm text-muted-foreground",children:"Avg Health"})}),h.jsx(ct,{children:h.jsxs("div",{className:"text-3xl font-bold",children:[Math.round((e==null?void 0:e.reduce((a,l)=>a+l.health,0))/(e==null?void 0:e.length)),"%"]})})]})]})]})}const yot=[{id:"task-1",name:"Daily Data Sync",schedule:"0 1 * * *",action:"workflow",enabled:!0,nextRun:new Date(Date.now()+24*60*60*1e3).toISOString()},{id:"task-2",name:"Hourly Health Check",schedule:"0 * * * *",action:"script",enabled:!0,nextRun:new Date(Date.now()+60*60*1e3).toISOString()},{id:"task-3",name:"Agent Deployment",schedule:"0 9 * * 1",action:"agent",enabled:!1,nextRun:null}],xot=[{id:"run-1",taskId:"task-1",taskName:"Daily Data Sync",startTime:new Date(Date.now()-24*60*60*1e3).toISOString(),endTime:new Date(Date.now()-23*60*60*1e3).toISOString(),status:"Success",logs:"INFO: Sync complete. 10,234 records updated."},{id:"run-2",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-60*60*1e3).toISOString(),endTime:new Date(Date.now()-59*60*1e3).toISOString(),status:"Success",logs:"INFO: All systems nominal."},{id:"run-3",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-2*60*60*1e3).toISOString(),endTime:new Date(Date.now()-2*60*60*1e3+5e3).toISOString(),status:"Failed",logs:"ERROR: Timeout connecting to node-B. Check network connectivity."}];function _ot(){const{toast:t}=yb(),e=Rl(),[n,r]=P.useState(""),[i,s]=P.useState(""),[o,a]=P.useState("workflow"),[l,c]=P.useState(),[d,u]=P.useState(!1),{data:f,isLoading:g,error:v}=Yr({queryKey:["/api/tasks"],queryFn:async()=>Promise.resolve(yot)}),{data:y}=Yr({queryKey:["/api/tasks/history"],queryFn:async()=>Promise.resolve(xot)}),m=Nn({mutationFn:async b=>(console.log("Creating task:",b),Promise.resolve({...b,id:`task-${Math.random()}`})),onSuccess:()=>{t({title:"Task Created",description:"New task has been scheduled."}),e.invalidateQueries({queryKey:["/api/tasks"]}),r(""),s(""),a("workflow")},onError:b=>{t({title:"Error",description:`Failed to create task: ${b.message}`,variant:"destructive"})}}),p=Nn({mutationFn:async b=>(console.log("Running task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Started",description:"Task initiated successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to run task: ${b.message}`,variant:"destructive"})}}),x=Nn({mutationFn:async({taskId:b,enabled:S})=>(console.log(`${S?"Enabling":"Disabling"} task:`,b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Updated",description:"Task status changed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to change task status: ${b.message}`,variant:"destructive"})}}),_=Nn({mutationFn:async b=>(console.log("Deleting task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Deleted",description:"Task removed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to delete task: ${b.message}`,variant:"destructive"})}});return g?h.jsx("div",{className:"p-6 text-center",children:"Loading scheduled tasks..."}):v?h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading tasks: ",v.message]}):h.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(VI,{className:"h-5 w-5 text-primary"}),"Task Scheduler"]}),h.jsx(Wt,{children:"Schedule automated tasks with cron expressions"})]}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Task Name"}),h.jsx(An,{placeholder:"My Scheduled Task","data-testid":"input-task-name",value:n,onChange:b=>r(b.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Cron Expression"}),h.jsxs(Qqe,{open:d,onOpenChange:u,children:[h.jsx(Jqe,{asChild:!0,children:h.jsxs(Ge,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[h.jsx(MK,{className:"mr-2 h-4 w-4"}),l?Sd(l,"PPP"):h.jsx("span",{children:"Pick a date"})]})}),h.jsx(Yie,{className:"w-auto p-0 z-50",children:h.jsx(VI,{mode:"single",selected:l,onSelect:b=>{c(b),s(b?`0 0 ${b.getDate()} ${b.getMonth()+1} *`:""),u(!1)},initialFocus:!0})})]}),h.jsx(An,{placeholder:"0 */6 * * *",value:i,onChange:b=>s(b.target.value),"data-testid":"input-cron-expression"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Task Action"}),h.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-task-action",value:o,onChange:b=>a(b.target.value),children:[h.jsx("option",{value:"workflow",children:"Run Workflow"}),h.jsx("option",{value:"agent",children:"Execute Agent"}),h.jsx("option",{value:"script",children:"Run Script"}),h.jsx("option",{value:"api",children:"Call API"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ge,{"data-testid":"button-create-schedule",onClick:()=>m.mutate({name:n,schedule:i,action:o}),disabled:m.isPending||!n||!i,children:[m.isPending?h.jsx(hi,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Create Schedule"]}),h.jsx(Ge,{variant:"outline",children:"Test Run"})]}),i&&h.jsxs("div",{className:"p-3 bg-primary/5 border border-primary/10 rounded-lg",children:[h.jsx("div",{className:"text-sm font-medium mb-1",children:"Schedule Preview"}),h.jsxs("div",{className:"text-sm text-muted-foreground",children:["This task will run: ",h.jsx("span",{className:"font-mono",children:i})]})]})]})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Scheduled Tasks"}),h.jsx(Wt,{children:"Manage existing scheduled tasks"})]}),h.jsx(ct,{className:"space-y-3",children:f&&f.length>0?f.map(b=>h.jsxs(Ze,{className:"bg-card/50",children:[h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(ot,{className:"text-sm",children:b.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(fn,{variant:b.enabled?"default":"outline",className:"text-xs",children:b.enabled?"Enabled":"Disabled"}),h.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:b.schedule})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[h.jsx(PK,{className:"h-3 w-3"}),"Next run"]}),h.jsx("div",{className:"text-xs font-mono mt-1",children:b.nextRun?new Date(b.nextRun).toLocaleString():"N/A"})]})]})}),h.jsx(ct,{children:h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>p.mutate(b.id),disabled:p.isPending,children:p.isPending?h.jsx(hi,{className:"h-4 w-4 animate-spin"}):"Run Now"}),h.jsx(Ge,{variant:"outline",size:"sm",onClick:()=>x.mutate({taskId:b.id,enabled:!b.enabled}),disabled:x.isPending,children:x.isPending?h.jsx(hi,{className:"h-4 w-4 animate-spin"}):b.enabled?"Disable":"Enable"}),h.jsx(Ge,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>_.mutate(b.id),disabled:_.isPending,children:_.isPending?h.jsx(hi,{className:"h-4 w-4 animate-spin"}):"Delete"})]})})]},b.id)):h.jsx("p",{className:"text-muted-foreground",children:"No scheduled tasks found."})})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(Hve,{className:"h-5 w-5 text-primary"}),"Task Execution History"]}),h.jsx(Wt,{children:"Review the status and logs of past task runs."})]}),h.jsx(ct,{children:h.jsxs(DT,{children:[h.jsx(LT,{children:h.jsxs(ad,{children:[h.jsx(xi,{children:"Task"}),h.jsx(xi,{children:"Status"}),h.jsx(xi,{className:"hidden md:table-cell",children:"Start Time"}),h.jsx(xi,{className:"hidden md:table-cell",children:"Duration"}),h.jsx(xi,{className:"text-right",children:"Actions"})]})}),h.jsx(jT,{children:y==null?void 0:y.map(b=>h.jsxs(ad,{children:[h.jsx(fi,{className:"font-medium",children:b.taskName}),h.jsx(fi,{children:h.jsx(fn,{variant:b.status==="Success"?"default":b.status==="Failed"?"destructive":"outline",children:b.status})}),h.jsx(fi,{className:"hidden md:table-cell text-sm text-muted-foreground",children:new Date(b.startTime).toLocaleString()}),h.jsx(fi,{className:"hidden md:table-cell text-sm text-muted-foreground",children:`${(new Date(b.endTime).getTime()-new Date(b.startTime).getTime())/1e3}s`}),h.jsx(fi,{className:"text-right",children:h.jsxs(n4,{children:[h.jsx(Hne,{asChild:!0,children:h.jsx(Ge,{variant:"outline",size:"sm",children:"View Logs"})}),h.jsxs(MT,{children:[h.jsxs(r4,{children:[h.jsxs(i4,{children:["Logs for ",b.taskName]}),h.jsxs(s4,{children:["Execution started at ",new Date(b.startTime).toLocaleString()]})]}),h.jsx("div",{className:"mt-4 bg-muted/50 p-4 rounded-md max-h-96 overflow-y-auto",children:h.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:b.logs})})]})]})})]},b.id))})]})})]}),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Cron Expression Guide"})}),h.jsx(ct,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("div",{className:"font-mono text-xs space-y-1",children:[h.jsx("div",{children:"* * * * *  Minute Hour Day Month Weekday"}),h.jsx("div",{children:"0 */6 * * *  Every 6 hours"}),h.jsx("div",{children:"0 9 * * 1  Every Monday at 9 AM"}),h.jsx("div",{children:"0 0 1 * *  First day of every month"})]})})]})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Mb="180",yf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},xf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},eue=0,fL=1,tue=2,bot=3,nue=0,rP=1,j0=2,oa=3,Fc=0,Ui=1,xa=2,Cc=0,Kf=1,hL=2,pL=3,mL=4,rue=5,Du=100,iue=101,sue=102,oue=103,aue=104,lue=200,cue=201,uue=202,due=203,sM=204,oM=205,fue=206,hue=207,pue=208,mue=209,gue=210,vue=211,yue=212,xue=213,_ue=214,aM=0,lM=1,cM=2,Eh=3,uM=4,dM=5,fM=6,hM=7,Ab=0,bue=1,wue=2,_l=0,Sue=1,Eue=2,Cue=3,aB=4,Mue=5,Aue=6,Tue=7,gL="attached",Pue="detached",iP=300,Bc=301,gd=302,d_=303,f_=304,Bv=306,h_=1e3,Lo=1001,p_=1002,bi=1003,lB=1004,wot=1004,xm=1005,Sot=1005,Jr=1006,F0=1007,Eot=1007,dl=1008,Cot=1008,$o=1009,cB=1010,uB=1011,Zg=1012,sP=1013,Uc=1014,Ms=1015,Uv=1016,oP=1017,aP=1018,Qg=1020,dB=35902,fB=35899,hB=1021,pB=1022,Bi=1023,Jg=1026,ev=1027,lP=1028,Tb=1029,mB=1030,cP=1031,Mot=1032,uP=1033,B0=33776,U0=33777,z0=33778,$0=33779,pM=35840,mM=35841,gM=35842,vM=35843,yM=36196,xM=37492,_M=37496,bM=37808,wM=37809,SM=37810,EM=37811,CM=37812,MM=37813,AM=37814,TM=37815,PM=37816,NM=37817,RM=37818,OM=37819,IM=37820,kM=37821,DM=36492,LM=36494,jM=36495,FM=36283,BM=36284,UM=36285,zM=36286,Nue=2200,Rue=2201,Oue=2202,m_=2300,$M=2301,KS=2302,Of=2400,If=2401,g_=2402,dP=2500,gB=2501,Aot=0,Tot=1,Pot=2,Iue=3200,kue=3201,Not=3202,Rot=3203,Od=0,Due=1,fc="",xs="srgb",Ch="srgb-linear",v_="linear",jn="srgb",Oot=0,_f=7680,Iot=7681,kot=7682,Dot=7683,Lot=34055,jot=34056,Fot=5386,Bot=512,Uot=513,zot=514,$ot=515,Hot=516,Vot=517,Wot=518,vL=519,Lue=512,jue=513,Fue=514,vB=515,Bue=516,Uue=517,zue=518,$ue=519,y_=35044,Got=35048,Xot=35040,qot=35045,Kot=35049,Yot=35041,Zot=35046,Qot=35050,Jot=35042,eat="100",yL="300 es",eo=2e3,tv=2001,tat={COMPUTE:"compute",RENDER:"render"},nat={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},rat={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let zl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Oi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let fG=1234567;const Yf=Math.PI/180,nv=180/Math.PI;function so(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Oi[t&255]+Oi[t>>8&255]+Oi[t>>16&255]+Oi[t>>24&255]+"-"+Oi[e&255]+Oi[e>>8&255]+"-"+Oi[e>>16&15|64]+Oi[e>>24&255]+"-"+Oi[n&63|128]+Oi[n>>8&255]+"-"+Oi[n>>16&255]+Oi[n>>24&255]+Oi[r&255]+Oi[r>>8&255]+Oi[r>>16&255]+Oi[r>>24&255]).toLowerCase()}function Ht(t,e,n){return Math.max(e,Math.min(n,t))}function yB(t,e){return(t%e+e)%e}function iat(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function sat(t,e,n){return t!==e?(n-t)/(e-t):0}function H0(t,e,n){return(1-n)*t+n*e}function oat(t,e,n,r){return H0(t,e,1-Math.exp(-n*r))}function aat(t,e=1){return e-Math.abs(yB(t,e*2)-e)}function lat(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function cat(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function uat(t,e){return t+Math.floor(Math.random()*(e-t+1))}function dat(t,e){return t+Math.random()*(e-t)}function fat(t){return t*(.5-Math.random())}function hat(t){t!==void 0&&(fG=t);let e=fG+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function pat(t){return t*Yf}function mat(t){return t*nv}function gat(t){return(t&t-1)===0&&t!==0}function vat(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function yat(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function xat(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),d=o((e+r)/2),u=s((e-r)/2),f=o((e-r)/2),g=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*d,l*u,l*f,a*c);break;case"YZY":t.set(l*f,a*d,l*u,a*c);break;case"ZXZ":t.set(l*u,l*f,a*d,a*c);break;case"XZX":t.set(a*d,l*v,l*g,a*c);break;case"YXY":t.set(l*g,a*d,l*v,a*c);break;case"ZYZ":t.set(l*v,l*g,a*d,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function es(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function en(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Hue={DEG2RAD:Yf,RAD2DEG:nv,generateUUID:so,clamp:Ht,euclideanModulo:yB,mapLinear:iat,inverseLerp:sat,lerp:H0,damp:oat,pingpong:aat,smoothstep:lat,smootherstep:cat,randInt:uat,randFloat:dat,randFloatSpread:fat,seededRandom:hat,degToRad:pat,radToDeg:mat,isPowerOfTwo:gat,ceilPowerOfTwo:vat,floorPowerOfTwo:yat,setQuaternionFromProperEuler:xat,normalize:en,denormalize:es};class ze{constructor(e=0,n=0){ze.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Ht(this.x,e.x,n.x),this.y=Ht(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Ht(this.x,e,n),this.y=Ht(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ht(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ht(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zi{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],d=r[i+2],u=r[i+3];const f=s[o+0],g=s[o+1],v=s[o+2],y=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=d,e[n+3]=u;return}if(a===1){e[n+0]=f,e[n+1]=g,e[n+2]=v,e[n+3]=y;return}if(u!==y||l!==f||c!==g||d!==v){let m=1-a;const p=l*f+c*g+d*v+u*y,x=p>=0?1:-1,_=1-p*p;if(_>Number.EPSILON){const S=Math.sqrt(_),C=Math.atan2(S,p*x);m=Math.sin(m*C)/S,a=Math.sin(a*C)/S}const b=a*x;if(l=l*m+f*b,c=c*m+g*b,d=d*m+v*b,u=u*m+y*b,m===1-a){const S=1/Math.sqrt(l*l+c*c+d*d+u*u);l*=S,c*=S,d*=S,u*=S}}e[n]=l,e[n+1]=c,e[n+2]=d,e[n+3]=u}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],d=r[i+3],u=s[o],f=s[o+1],g=s[o+2],v=s[o+3];return e[n]=a*v+d*u+l*g-c*f,e[n+1]=l*v+d*f+c*u-a*g,e[n+2]=c*v+d*g+a*f-l*u,e[n+3]=d*v-a*u-l*f-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),d=a(i/2),u=a(s/2),f=l(r/2),g=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=f*d*u+c*g*v,this._y=c*g*u-f*d*v,this._z=c*d*v+f*g*u,this._w=c*d*u-f*g*v;break;case"YXZ":this._x=f*d*u+c*g*v,this._y=c*g*u-f*d*v,this._z=c*d*v-f*g*u,this._w=c*d*u+f*g*v;break;case"ZXY":this._x=f*d*u-c*g*v,this._y=c*g*u+f*d*v,this._z=c*d*v+f*g*u,this._w=c*d*u-f*g*v;break;case"ZYX":this._x=f*d*u-c*g*v,this._y=c*g*u+f*d*v,this._z=c*d*v-f*g*u,this._w=c*d*u+f*g*v;break;case"YZX":this._x=f*d*u+c*g*v,this._y=c*g*u+f*d*v,this._z=c*d*v-f*g*u,this._w=c*d*u-f*g*v;break;case"XZY":this._x=f*d*u-c*g*v,this._y=c*g*u-f*d*v,this._z=c*d*v+f*g*u,this._w=c*d*u+f*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],d=n[6],u=n[10],f=r+a+u;if(f>0){const g=.5/Math.sqrt(f+1);this._w=.25/g,this._x=(d-l)*g,this._y=(s-c)*g,this._z=(o-i)*g}else if(r>a&&r>u){const g=2*Math.sqrt(1+r-a-u);this._w=(d-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+c)/g}else if(a>u){const g=2*Math.sqrt(1+a-r-u);this._w=(s-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+d)/g}else{const g=2*Math.sqrt(1+u-r-a);this._w=(o-i)/g,this._x=(s+c)/g,this._y=(l+d)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ht(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,d=n._w;return this._x=r*d+o*a+i*c-s*l,this._y=i*d+o*l+s*a-r*c,this._z=s*d+o*c+r*l-i*a,this._w=o*d-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),d=Math.atan2(c,a),u=Math.sin((1-n)*d)/c,f=Math.sin(n*d)/c;return this._w=o*u+this._w*f,this._x=r*u+this._x*f,this._y=i*u+this._y*f,this._z=s*u+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,n=0,r=0){le.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(hG.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(hG.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),d=2*(a*n-s*i),u=2*(s*r-o*n);return this.x=n+l*c+o*u-a*d,this.y=r+l*d+a*c-s*u,this.z=i+l*u+s*d-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Ht(this.x,e.x,n.x),this.y=Ht(this.y,e.y,n.y),this.z=Ht(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Ht(this.x,e,n),this.y=Ht(this.y,e,n),this.z=Ht(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ht(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return PR.copy(this).projectOnVector(e),this.sub(PR)}reflect(e){return this.sub(PR.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ht(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const PR=new le,hG=new zi;class Jt{constructor(e,n,r,i,s,o,a,l,c){Jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const d=this.elements;return d[0]=e,d[1]=i,d[2]=a,d[3]=n,d[4]=s,d[5]=l,d[6]=r,d[7]=o,d[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],d=r[4],u=r[7],f=r[2],g=r[5],v=r[8],y=i[0],m=i[3],p=i[6],x=i[1],_=i[4],b=i[7],S=i[2],C=i[5],A=i[8];return s[0]=o*y+a*x+l*S,s[3]=o*m+a*_+l*C,s[6]=o*p+a*b+l*A,s[1]=c*y+d*x+u*S,s[4]=c*m+d*_+u*C,s[7]=c*p+d*b+u*A,s[2]=f*y+g*x+v*S,s[5]=f*m+g*_+v*C,s[8]=f*p+g*b+v*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8];return n*o*d-n*a*c-r*s*d+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=d*o-a*c,f=a*l-d*s,g=c*s-o*l,v=n*u+r*f+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/v;return e[0]=u*y,e[1]=(i*c-d*r)*y,e[2]=(a*r-i*o)*y,e[3]=f*y,e[4]=(d*n-i*l)*y,e[5]=(i*s-a*n)*y,e[6]=g*y,e[7]=(r*l-c*n)*y,e[8]=(o*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(NR.makeScale(e,n)),this}rotate(e){return this.premultiply(NR.makeRotation(-e)),this}translate(e,n){return this.premultiply(NR.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const NR=new Jt;function Vue(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const _at={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _m(t,e){return new _at[t](e)}function x_(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Wue(){const t=x_("canvas");return t.style.display="block",t}const pG={};function __(t){t in pG||(pG[t]=!0,console.warn(t))}function bat(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}const mG=new Jt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),gG=new Jt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function wat(){const t={enabled:!0,workingColorSpace:Ch,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===jn&&(i.r=Mc(i.r),i.g=Mc(i.g),i.b=Mc(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===jn&&(i.r=$m(i.r),i.g=$m(i.g),i.b=$m(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===fc?v_:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return __("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return __("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Ch]:{primaries:e,whitePoint:r,transfer:v_,toXYZ:mG,fromXYZ:gG,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:xs},outputColorSpaceConfig:{drawingBufferColorSpace:xs}},[xs]:{primaries:e,whitePoint:r,transfer:jn,toXYZ:mG,fromXYZ:gG,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:xs}}}),t}const hn=wat();function Mc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function $m(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Cp;class Gue{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Cp===void 0&&(Cp=x_("canvas")),Cp.width=e.width,Cp.height=e.height;const i=Cp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Cp}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=x_("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Mc(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Mc(n[r]/255)*255):n[r]=Mc(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Sat=0;class Yu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Sat++}),this.uuid=so(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(RR(i[o].image)):s.push(RR(i[o]))}else s=RR(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function RR(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Gue.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Eat=0;const OR=new le;class Ar extends zl{constructor(e=Ar.DEFAULT_IMAGE,n=Ar.DEFAULT_MAPPING,r=Lo,i=Lo,s=Jr,o=dl,a=Bi,l=$o,c=Ar.DEFAULT_ANISOTROPY,d=fc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Eat++}),this.uuid=so(),this.name="",this.source=new Yu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new ze(0,0),this.repeat=new ze(1,1),this.center=new ze(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=d,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(OR).x}get height(){return this.source.getSize(OR).y}get depth(){return this.source.getSize(OR).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==iP)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case h_:e.x=e.x-Math.floor(e.x);break;case Lo:e.x=e.x<0?0:1;break;case p_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case h_:e.y=e.y-Math.floor(e.y);break;case Lo:e.y=e.y<0?0:1;break;case p_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ar.DEFAULT_IMAGE=null;Ar.DEFAULT_MAPPING=iP;Ar.DEFAULT_ANISOTROPY=1;class xn{constructor(e=0,n=0,r=0,i=1){xn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],d=l[4],u=l[8],f=l[1],g=l[5],v=l[9],y=l[2],m=l[6],p=l[10];if(Math.abs(d-f)<.01&&Math.abs(u-y)<.01&&Math.abs(v-m)<.01){if(Math.abs(d+f)<.1&&Math.abs(u+y)<.1&&Math.abs(v+m)<.1&&Math.abs(c+g+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,b=(g+1)/2,S=(p+1)/2,C=(d+f)/4,A=(u+y)/4,M=(v+m)/4;return _>b&&_>S?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=C/r,s=A/r):b>S?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=C/i,s=M/i):S<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(S),r=A/s,i=M/s),this.set(r,i,s,n),this}let x=Math.sqrt((m-v)*(m-v)+(u-y)*(u-y)+(f-d)*(f-d));return Math.abs(x)<.001&&(x=1),this.x=(m-v)/x,this.y=(u-y)/x,this.z=(f-d)/x,this.w=Math.acos((c+g+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Ht(this.x,e.x,n.x),this.y=Ht(this.y,e.y,n.y),this.z=Ht(this.z,e.z,n.z),this.w=Ht(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Ht(this.x,e,n),this.y=Ht(this.y,e,n),this.z=Ht(this.z,e,n),this.w=Ht(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Ht(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class xB extends zl{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Jr,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new xn(0,0,e,n),this.scissorTest=!1,this.viewport=new xn(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Ar(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Jr,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Yu(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Nl extends xB{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class fP extends Ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=bi,this.minFilter=bi,this.wrapR=Lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Cat extends Nl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new fP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class hP extends Ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=bi,this.minFilter=bi,this.wrapR=Lo,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Mat extends Nl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new hP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class $i{constructor(e=new le(1/0,1/0,1/0),n=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(ta.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(ta.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=ta.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,ta):ta.fromBufferAttribute(s,o),ta.applyMatrix4(e.matrixWorld),this.expandByPoint(ta);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),A1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),A1.copy(r.boundingBox)),A1.applyMatrix4(e.matrixWorld),this.union(A1)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,ta),ta.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Uy),T1.subVectors(this.max,Uy),Mp.subVectors(e.a,Uy),Ap.subVectors(e.b,Uy),Tp.subVectors(e.c,Uy),yu.subVectors(Ap,Mp),xu.subVectors(Tp,Ap),Yd.subVectors(Mp,Tp);let n=[0,-yu.z,yu.y,0,-xu.z,xu.y,0,-Yd.z,Yd.y,yu.z,0,-yu.x,xu.z,0,-xu.x,Yd.z,0,-Yd.x,-yu.y,yu.x,0,-xu.y,xu.x,0,-Yd.y,Yd.x,0];return!IR(n,Mp,Ap,Tp,T1)||(n=[1,0,0,0,1,0,0,0,1],!IR(n,Mp,Ap,Tp,T1))?!1:(P1.crossVectors(yu,xu),n=[P1.x,P1.y,P1.z],IR(n,Mp,Ap,Tp,T1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ta).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(ta).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Jl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Jl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Jl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Jl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Jl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Jl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Jl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Jl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Jl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Jl=[new le,new le,new le,new le,new le,new le,new le,new le],ta=new le,A1=new $i,Mp=new le,Ap=new le,Tp=new le,yu=new le,xu=new le,Yd=new le,Uy=new le,T1=new le,P1=new le,Zd=new le;function IR(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Zd.fromArray(t,s);const a=i.x*Math.abs(Zd.x)+i.y*Math.abs(Zd.y)+i.z*Math.abs(Zd.z),l=e.dot(Zd),c=n.dot(Zd),d=r.dot(Zd);if(Math.max(-Math.max(l,c,d),Math.min(l,c,d))>a)return!1}return!0}const Aat=new $i,zy=new le,kR=new le;let wi=class{constructor(e=new le,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Aat.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;zy.subVectors(e,this.center);const n=zy.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(zy,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(kR.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(zy.copy(e.center).add(kR)),this.expandByPoint(zy.copy(e.center).sub(kR))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const ec=new le,DR=new le,N1=new le,_u=new le,LR=new le,R1=new le,jR=new le;class Hh{constructor(e=new le,n=new le(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ec)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ec.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ec.copy(this.origin).addScaledVector(this.direction,n),ec.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){DR.copy(e).add(n).multiplyScalar(.5),N1.copy(n).sub(e).normalize(),_u.copy(this.origin).sub(DR);const s=e.distanceTo(n)*.5,o=-this.direction.dot(N1),a=_u.dot(this.direction),l=-_u.dot(N1),c=_u.lengthSq(),d=Math.abs(1-o*o);let u,f,g,v;if(d>0)if(u=o*l-a,f=o*a-l,v=s*d,u>=0)if(f>=-v)if(f<=v){const y=1/d;u*=y,f*=y,g=u*(u+o*f+2*a)+f*(o*u+f+2*l)+c}else f=s,u=Math.max(0,-(o*f+a)),g=-u*u+f*(f+2*l)+c;else f=-s,u=Math.max(0,-(o*f+a)),g=-u*u+f*(f+2*l)+c;else f<=-v?(u=Math.max(0,-(-o*s+a)),f=u>0?-s:Math.min(Math.max(-s,-l),s),g=-u*u+f*(f+2*l)+c):f<=v?(u=0,f=Math.min(Math.max(-s,-l),s),g=f*(f+2*l)+c):(u=Math.max(0,-(o*s+a)),f=u>0?s:Math.min(Math.max(-s,-l),s),g=-u*u+f*(f+2*l)+c);else f=o>0?-s:s,u=Math.max(0,-(o*f+a)),g=-u*u+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,u),i&&i.copy(DR).addScaledVector(N1,f),g}intersectSphere(e,n){ec.subVectors(e.center,this.origin);const r=ec.dot(this.direction),i=ec.dot(ec)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,d=1/this.direction.y,u=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),d>=0?(s=(e.min.y-f.y)*d,o=(e.max.y-f.y)*d):(s=(e.max.y-f.y)*d,o=(e.min.y-f.y)*d),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),u>=0?(a=(e.min.z-f.z)*u,l=(e.max.z-f.z)*u):(a=(e.max.z-f.z)*u,l=(e.min.z-f.z)*u),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ec)!==null}intersectTriangle(e,n,r,i,s){LR.subVectors(n,e),R1.subVectors(r,e),jR.crossVectors(LR,R1);let o=this.direction.dot(jR),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;_u.subVectors(this.origin,e);const l=a*this.direction.dot(R1.crossVectors(_u,R1));if(l<0)return null;const c=a*this.direction.dot(LR.cross(_u));if(c<0||l+c>o)return null;const d=-a*_u.dot(jR);return d<0?null:this.at(d/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Gt{constructor(e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m){Gt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m)}set(e,n,r,i,s,o,a,l,c,d,u,f,g,v,y,m){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=d,p[10]=u,p[14]=f,p[3]=g,p[7]=v,p[11]=y,p[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Gt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Pp.setFromMatrixColumn(e,0).length(),s=1/Pp.setFromMatrixColumn(e,1).length(),o=1/Pp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),d=Math.cos(s),u=Math.sin(s);if(e.order==="XYZ"){const f=o*d,g=o*u,v=a*d,y=a*u;n[0]=l*d,n[4]=-l*u,n[8]=c,n[1]=g+v*c,n[5]=f-y*c,n[9]=-a*l,n[2]=y-f*c,n[6]=v+g*c,n[10]=o*l}else if(e.order==="YXZ"){const f=l*d,g=l*u,v=c*d,y=c*u;n[0]=f+y*a,n[4]=v*a-g,n[8]=o*c,n[1]=o*u,n[5]=o*d,n[9]=-a,n[2]=g*a-v,n[6]=y+f*a,n[10]=o*l}else if(e.order==="ZXY"){const f=l*d,g=l*u,v=c*d,y=c*u;n[0]=f-y*a,n[4]=-o*u,n[8]=v+g*a,n[1]=g+v*a,n[5]=o*d,n[9]=y-f*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const f=o*d,g=o*u,v=a*d,y=a*u;n[0]=l*d,n[4]=v*c-g,n[8]=f*c+y,n[1]=l*u,n[5]=y*c+f,n[9]=g*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const f=o*l,g=o*c,v=a*l,y=a*c;n[0]=l*d,n[4]=y-f*u,n[8]=v*u+g,n[1]=u,n[5]=o*d,n[9]=-a*d,n[2]=-c*d,n[6]=g*u+v,n[10]=f-y*u}else if(e.order==="XZY"){const f=o*l,g=o*c,v=a*l,y=a*c;n[0]=l*d,n[4]=-u,n[8]=c*d,n[1]=f*u+y,n[5]=o*d,n[9]=g*u-v,n[2]=v*u-g,n[6]=a*d,n[10]=y*u+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Tat,e,Pat)}lookAt(e,n,r){const i=this.elements;return zs.subVectors(e,n),zs.lengthSq()===0&&(zs.z=1),zs.normalize(),bu.crossVectors(r,zs),bu.lengthSq()===0&&(Math.abs(r.z)===1?zs.x+=1e-4:zs.z+=1e-4,zs.normalize(),bu.crossVectors(r,zs)),bu.normalize(),O1.crossVectors(zs,bu),i[0]=bu.x,i[4]=O1.x,i[8]=zs.x,i[1]=bu.y,i[5]=O1.y,i[9]=zs.y,i[2]=bu.z,i[6]=O1.z,i[10]=zs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],d=r[1],u=r[5],f=r[9],g=r[13],v=r[2],y=r[6],m=r[10],p=r[14],x=r[3],_=r[7],b=r[11],S=r[15],C=i[0],A=i[4],M=i[8],T=i[12],N=i[1],I=i[5],k=i[9],j=i[13],F=i[2],z=i[6],$=i[10],V=i[14],R=i[3],L=i[7],B=i[11],W=i[15];return s[0]=o*C+a*N+l*F+c*R,s[4]=o*A+a*I+l*z+c*L,s[8]=o*M+a*k+l*$+c*B,s[12]=o*T+a*j+l*V+c*W,s[1]=d*C+u*N+f*F+g*R,s[5]=d*A+u*I+f*z+g*L,s[9]=d*M+u*k+f*$+g*B,s[13]=d*T+u*j+f*V+g*W,s[2]=v*C+y*N+m*F+p*R,s[6]=v*A+y*I+m*z+p*L,s[10]=v*M+y*k+m*$+p*B,s[14]=v*T+y*j+m*V+p*W,s[3]=x*C+_*N+b*F+S*R,s[7]=x*A+_*I+b*z+S*L,s[11]=x*M+_*k+b*$+S*B,s[15]=x*T+_*j+b*V+S*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],d=e[2],u=e[6],f=e[10],g=e[14],v=e[3],y=e[7],m=e[11],p=e[15];return v*(+s*l*u-i*c*u-s*a*f+r*c*f+i*a*g-r*l*g)+y*(+n*l*g-n*c*f+s*o*f-i*o*g+i*c*d-s*l*d)+m*(+n*c*u-n*a*g-s*o*u+r*o*g+s*a*d-r*c*d)+p*(-i*a*d-n*l*u+n*a*f+i*o*u-r*o*f+r*l*d)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],d=e[8],u=e[9],f=e[10],g=e[11],v=e[12],y=e[13],m=e[14],p=e[15],x=u*m*c-y*f*c+y*l*g-a*m*g-u*l*p+a*f*p,_=v*f*c-d*m*c-v*l*g+o*m*g+d*l*p-o*f*p,b=d*y*c-v*u*c+v*a*g-o*y*g-d*a*p+o*u*p,S=v*u*l-d*y*l-v*a*f+o*y*f+d*a*m-o*u*m,C=n*x+r*_+i*b+s*S;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/C;return e[0]=x*A,e[1]=(y*f*s-u*m*s-y*i*g+r*m*g+u*i*p-r*f*p)*A,e[2]=(a*m*s-y*l*s+y*i*c-r*m*c-a*i*p+r*l*p)*A,e[3]=(u*l*s-a*f*s-u*i*c+r*f*c+a*i*g-r*l*g)*A,e[4]=_*A,e[5]=(d*m*s-v*f*s+v*i*g-n*m*g-d*i*p+n*f*p)*A,e[6]=(v*l*s-o*m*s-v*i*c+n*m*c+o*i*p-n*l*p)*A,e[7]=(o*f*s-d*l*s+d*i*c-n*f*c-o*i*g+n*l*g)*A,e[8]=b*A,e[9]=(v*u*s-d*y*s-v*r*g+n*y*g+d*r*p-n*u*p)*A,e[10]=(o*y*s-v*a*s+v*r*c-n*y*c-o*r*p+n*a*p)*A,e[11]=(d*a*s-o*u*s-d*r*c+n*u*c+o*r*g-n*a*g)*A,e[12]=S*A,e[13]=(d*y*i-v*u*i+v*r*f-n*y*f-d*r*m+n*u*m)*A,e[14]=(v*a*i-o*y*i-v*r*l+n*y*l+o*r*m-n*a*m)*A,e[15]=(o*u*i-d*a*i+d*r*l-n*u*l-o*r*f+n*a*f)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,d=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,d*a+r,d*l-i*o,0,c*l-i*a,d*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,d=o+o,u=a+a,f=s*c,g=s*d,v=s*u,y=o*d,m=o*u,p=a*u,x=l*c,_=l*d,b=l*u,S=r.x,C=r.y,A=r.z;return i[0]=(1-(y+p))*S,i[1]=(g+b)*S,i[2]=(v-_)*S,i[3]=0,i[4]=(g-b)*C,i[5]=(1-(f+p))*C,i[6]=(m+x)*C,i[7]=0,i[8]=(v+_)*A,i[9]=(m-x)*A,i[10]=(1-(f+y))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Pp.set(i[0],i[1],i[2]).length();const o=Pp.set(i[4],i[5],i[6]).length(),a=Pp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],na.copy(this);const c=1/s,d=1/o,u=1/a;return na.elements[0]*=c,na.elements[1]*=c,na.elements[2]*=c,na.elements[4]*=d,na.elements[5]*=d,na.elements[6]*=d,na.elements[8]*=u,na.elements[9]*=u,na.elements[10]*=u,n.setFromRotationMatrix(na),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=eo,l=!1){const c=this.elements,d=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),g=(r+i)/(r-i);let v,y;if(l)v=s/(o-s),y=o*s/(o-s);else if(a===eo)v=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===tv)v=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=u,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=y,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=eo,l=!1){const c=this.elements,d=2/(n-e),u=2/(r-i),f=-(n+e)/(n-e),g=-(r+i)/(r-i);let v,y;if(l)v=1/(o-s),y=o/(o-s);else if(a===eo)v=-2/(o-s),y=-(o+s)/(o-s);else if(a===tv)v=-1/(o-s),y=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=d,c[4]=0,c[8]=0,c[12]=f,c[1]=0,c[5]=u,c[9]=0,c[13]=g,c[2]=0,c[6]=0,c[10]=v,c[14]=y,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Pp=new le,na=new Gt,Tat=new le(0,0,0),Pat=new le(1,1,1),bu=new le,O1=new le,zs=new le,vG=new Gt,yG=new zi;class co{constructor(e=0,n=0,r=0,i=co.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],d=i[9],u=i[2],f=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Ht(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-d,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ht(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-u,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ht(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-u,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ht(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(f,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Ht(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-d,c),this._y=Math.atan2(-u,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Ht(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-d,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return vG.makeRotationFromQuaternion(e),this.setFromRotationMatrix(vG,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return yG.setFromEuler(this),this.setFromQuaternion(yG,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}co.DEFAULT_ORDER="XYZ";class Zf{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Nat=0;const xG=new le,Np=new zi,tc=new Gt,I1=new le,$y=new le,Rat=new le,Oat=new zi,_G=new le(1,0,0),bG=new le(0,1,0),wG=new le(0,0,1),SG={type:"added"},Iat={type:"removed"},Rp={type:"childadded",child:null},FR={type:"childremoved",child:null};class bn extends zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Nat++}),this.uuid=so(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=bn.DEFAULT_UP.clone();const e=new le,n=new co,r=new zi,i=new le(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Gt},normalMatrix:{value:new Jt}}),this.matrix=new Gt,this.matrixWorld=new Gt,this.matrixAutoUpdate=bn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Zf,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Np.setFromAxisAngle(e,n),this.quaternion.multiply(Np),this}rotateOnWorldAxis(e,n){return Np.setFromAxisAngle(e,n),this.quaternion.premultiply(Np),this}rotateX(e){return this.rotateOnAxis(_G,e)}rotateY(e){return this.rotateOnAxis(bG,e)}rotateZ(e){return this.rotateOnAxis(wG,e)}translateOnAxis(e,n){return xG.copy(e).applyQuaternion(this.quaternion),this.position.add(xG.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(_G,e)}translateY(e){return this.translateOnAxis(bG,e)}translateZ(e){return this.translateOnAxis(wG,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(tc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?I1.copy(e):I1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),$y.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?tc.lookAt($y,I1,this.up):tc.lookAt(I1,$y,this.up),this.quaternion.setFromRotationMatrix(tc),i&&(tc.extractRotation(i.matrixWorld),Np.setFromRotationMatrix(tc),this.quaternion.premultiply(Np.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(SG),Rp.child=e,this.dispatchEvent(Rp),Rp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Iat),FR.child=e,this.dispatchEvent(FR),FR.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),tc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),tc.multiply(e.parent.matrixWorld)),e.applyMatrix4(tc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(SG),Rp.child=e,this.dispatchEvent(Rp),Rp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($y,e,Rat),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose($y,Oat,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,d=l.length;c<d;c++){const u=l[c];s(e.shapes,u)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),d=o(e.images),u=o(e.shapes),f=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),d.length>0&&(r.images=d),u.length>0&&(r.shapes=u),f.length>0&&(r.skeletons=f),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const d=a[c];delete d.metadata,l.push(d)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}bn.DEFAULT_UP=new le(0,1,0);bn.DEFAULT_MATRIX_AUTO_UPDATE=!0;bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ra=new le,nc=new le,BR=new le,rc=new le,Op=new le,Ip=new le,EG=new le,UR=new le,zR=new le,$R=new le,HR=new xn,VR=new xn,WR=new xn;class ws{constructor(e=new le,n=new le,r=new le){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ra.subVectors(e,n),i.cross(ra);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){ra.subVectors(i,n),nc.subVectors(r,n),BR.subVectors(e,n);const o=ra.dot(ra),a=ra.dot(nc),l=ra.dot(BR),c=nc.dot(nc),d=nc.dot(BR),u=o*c-a*a;if(u===0)return s.set(0,0,0),null;const f=1/u,g=(c*l-a*d)*f,v=(o*d-a*l)*f;return s.set(1-g-v,v,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,rc)===null?!1:rc.x>=0&&rc.y>=0&&rc.x+rc.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,rc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,rc.x),l.addScaledVector(o,rc.y),l.addScaledVector(a,rc.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return HR.setScalar(0),VR.setScalar(0),WR.setScalar(0),HR.fromBufferAttribute(e,n),VR.fromBufferAttribute(e,r),WR.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(HR,s.x),o.addScaledVector(VR,s.y),o.addScaledVector(WR,s.z),o}static isFrontFacing(e,n,r,i){return ra.subVectors(r,n),nc.subVectors(e,n),ra.cross(nc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ra.subVectors(this.c,this.b),nc.subVectors(this.a,this.b),ra.cross(nc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ws.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return ws.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return ws.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return ws.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ws.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Op.subVectors(i,r),Ip.subVectors(s,r),UR.subVectors(e,r);const l=Op.dot(UR),c=Ip.dot(UR);if(l<=0&&c<=0)return n.copy(r);zR.subVectors(e,i);const d=Op.dot(zR),u=Ip.dot(zR);if(d>=0&&u<=d)return n.copy(i);const f=l*u-d*c;if(f<=0&&l>=0&&d<=0)return o=l/(l-d),n.copy(r).addScaledVector(Op,o);$R.subVectors(e,s);const g=Op.dot($R),v=Ip.dot($R);if(v>=0&&g<=v)return n.copy(s);const y=g*c-l*v;if(y<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(Ip,a);const m=d*v-g*u;if(m<=0&&u-d>=0&&g-v>=0)return EG.subVectors(s,i),a=(u-d)/(u-d+(g-v)),n.copy(i).addScaledVector(EG,a);const p=1/(m+y+f);return o=y*p,a=f*p,n.copy(r).addScaledVector(Op,o).addScaledVector(Ip,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Xue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},wu={h:0,s:0,l:0},k1={h:0,s:0,l:0};function GR(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ht{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=xs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,hn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=hn.workingColorSpace){return this.r=e,this.g=n,this.b=r,hn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=hn.workingColorSpace){if(e=yB(e,1),n=Ht(n,0,1),r=Ht(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=GR(o,s,e+1/3),this.g=GR(o,s,e),this.b=GR(o,s,e-1/3)}return hn.colorSpaceToWorking(this,i),this}setStyle(e,n=xs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=xs){const r=Xue[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Mc(e.r),this.g=Mc(e.g),this.b=Mc(e.b),this}copyLinearToSRGB(e){return this.r=$m(e.r),this.g=$m(e.g),this.b=$m(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=xs){return hn.workingToColorSpace(Ii.copy(this),e),Math.round(Ht(Ii.r*255,0,255))*65536+Math.round(Ht(Ii.g*255,0,255))*256+Math.round(Ht(Ii.b*255,0,255))}getHexString(e=xs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=hn.workingColorSpace){hn.workingToColorSpace(Ii.copy(this),n);const r=Ii.r,i=Ii.g,s=Ii.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const d=(a+o)/2;if(a===o)l=0,c=0;else{const u=o-a;switch(c=d<=.5?u/(o+a):u/(2-o-a),o){case r:l=(i-s)/u+(i<s?6:0);break;case i:l=(s-r)/u+2;break;case s:l=(r-i)/u+4;break}l/=6}return e.h=l,e.s=c,e.l=d,e}getRGB(e,n=hn.workingColorSpace){return hn.workingToColorSpace(Ii.copy(this),n),e.r=Ii.r,e.g=Ii.g,e.b=Ii.b,e}getStyle(e=xs){hn.workingToColorSpace(Ii.copy(this),e);const n=Ii.r,r=Ii.g,i=Ii.b;return e!==xs?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(wu),this.setHSL(wu.h+e,wu.s+n,wu.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(wu),e.getHSL(k1);const r=H0(wu.h,k1.h,n),i=H0(wu.s,k1.s,n),s=H0(wu.l,k1.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Ii=new ht;ht.NAMES=Xue;let kat=0;class Vi extends zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:kat++}),this.uuid=so(),this.name="",this.type="Material",this.blending=Kf,this.side=Fc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=sM,this.blendDst=oM,this.blendEquation=Du,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ht(0,0,0),this.blendAlpha=0,this.depthFunc=Eh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=vL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=_f,this.stencilZFail=_f,this.stencilZPass=_f,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Kf&&(r.blending=this.blending),this.side!==Fc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==sM&&(r.blendSrc=this.blendSrc),this.blendDst!==oM&&(r.blendDst=this.blendDst),this.blendEquation!==Du&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Eh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==vL&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==_f&&(r.stencilFail=this.stencilFail),this.stencilZFail!==_f&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==_f&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Id extends Vi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new co,this.combine=Ab,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const hc=Dat();function Dat(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,d=0;for(;!(c&8388608);)c<<=1,d-=8388608;c&=-8388609,d+=947912704,s[l]=c|d}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function gs(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Ht(t,-65504,65504),hc.floatView[0]=t;const e=hc.uint32View[0],n=e>>23&511;return hc.baseTable[n]+((e&8388607)>>hc.shiftTable[n])}function h0(t){const e=t>>10;return hc.uint32View[0]=hc.mantissaTable[hc.offsetTable[e]+(t&1023)]+hc.exponentTable[e],hc.floatView[0]}class Lat{static toHalfFloat(e){return gs(e)}static fromHalfFloat(e){return h0(e)}}const Lr=new le,D1=new ze;let jat=0;class $n{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:jat++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=y_,this.updateRanges=[],this.gpuType=Ms,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)D1.fromBufferAttribute(this,n),D1.applyMatrix3(e),this.setXY(n,D1.x,D1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyMatrix3(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyMatrix4(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.applyNormalMatrix(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Lr.fromBufferAttribute(this,n),Lr.transformDirection(e),this.setXYZ(n,Lr.x,Lr.y,Lr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=es(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==y_&&(e.usage=this.usage),e}}class Fat extends $n{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Bat extends $n{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Uat extends $n{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class zat extends $n{constructor(e,n,r){super(new Int16Array(e),n,r)}}class _B extends $n{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class $at extends $n{constructor(e,n,r){super(new Int32Array(e),n,r)}}class bB extends $n{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Hat extends $n{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=h0(this.array[e*this.itemSize]);return this.normalized&&(n=es(n,this.array)),n}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize]=gs(n),this}getY(e){let n=h0(this.array[e*this.itemSize+1]);return this.normalized&&(n=es(n,this.array)),n}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+1]=gs(n),this}getZ(e){let n=h0(this.array[e*this.itemSize+2]);return this.normalized&&(n=es(n,this.array)),n}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+2]=gs(n),this}getW(e){let n=h0(this.array[e*this.itemSize+3]);return this.normalized&&(n=es(n,this.array)),n}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.array[e*this.itemSize+3]=gs(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.array[e+0]=gs(n),this.array[e+1]=gs(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.array[e+0]=gs(n),this.array[e+1]=gs(r),this.array[e+2]=gs(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.array[e+0]=gs(n),this.array[e+1]=gs(r),this.array[e+2]=gs(i),this.array[e+3]=gs(s),this}}class Et extends $n{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Vat=0;const Ao=new Gt,XR=new bn,kp=new le,$s=new $i,Hy=new $i,ai=new le;class tn extends zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Vat++}),this.uuid=so(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(Vue(e)?bB:_B)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Jt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ao.makeRotationFromQuaternion(e),this.applyMatrix4(Ao),this}rotateX(e){return Ao.makeRotationX(e),this.applyMatrix4(Ao),this}rotateY(e){return Ao.makeRotationY(e),this.applyMatrix4(Ao),this}rotateZ(e){return Ao.makeRotationZ(e),this.applyMatrix4(Ao),this}translate(e,n,r){return Ao.makeTranslation(e,n,r),this.applyMatrix4(Ao),this}scale(e,n,r){return Ao.makeScale(e,n,r),this.applyMatrix4(Ao),this}lookAt(e){return XR.lookAt(e),XR.updateMatrix(),this.applyMatrix4(XR.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kp).negate(),this.translate(kp.x,kp.y,kp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Et(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $i);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];$s.setFromBufferAttribute(s),this.morphTargetsRelative?(ai.addVectors(this.boundingBox.min,$s.min),this.boundingBox.expandByPoint(ai),ai.addVectors(this.boundingBox.max,$s.max),this.boundingBox.expandByPoint(ai)):(this.boundingBox.expandByPoint($s.min),this.boundingBox.expandByPoint($s.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const r=this.boundingSphere.center;if($s.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];Hy.setFromBufferAttribute(a),this.morphTargetsRelative?(ai.addVectors($s.min,Hy.min),$s.expandByPoint(ai),ai.addVectors($s.max,Hy.max),$s.expandByPoint(ai)):($s.expandByPoint(Hy.min),$s.expandByPoint(Hy.max))}$s.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)ai.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ai));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,d=a.count;c<d;c++)ai.fromBufferAttribute(a,c),l&&(kp.fromBufferAttribute(e,c),ai.add(kp)),i=Math.max(i,r.distanceToSquared(ai))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new $n(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let M=0;M<r.count;M++)a[M]=new le,l[M]=new le;const c=new le,d=new le,u=new le,f=new ze,g=new ze,v=new ze,y=new le,m=new le;function p(M,T,N){c.fromBufferAttribute(r,M),d.fromBufferAttribute(r,T),u.fromBufferAttribute(r,N),f.fromBufferAttribute(s,M),g.fromBufferAttribute(s,T),v.fromBufferAttribute(s,N),d.sub(c),u.sub(c),g.sub(f),v.sub(f);const I=1/(g.x*v.y-v.x*g.y);isFinite(I)&&(y.copy(d).multiplyScalar(v.y).addScaledVector(u,-g.y).multiplyScalar(I),m.copy(u).multiplyScalar(g.x).addScaledVector(d,-v.x).multiplyScalar(I),a[M].add(y),a[T].add(y),a[N].add(y),l[M].add(m),l[T].add(m),l[N].add(m))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let M=0,T=x.length;M<T;++M){const N=x[M],I=N.start,k=N.count;for(let j=I,F=I+k;j<F;j+=3)p(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const _=new le,b=new le,S=new le,C=new le;function A(M){S.fromBufferAttribute(i,M),C.copy(S);const T=a[M];_.copy(T),_.sub(S.multiplyScalar(S.dot(T))).normalize(),b.crossVectors(C,T);const I=b.dot(l[M])<0?-1:1;o.setXYZW(M,_.x,_.y,_.z,I)}for(let M=0,T=x.length;M<T;++M){const N=x[M],I=N.start,k=N.count;for(let j=I,F=I+k;j<F;j+=3)A(e.getX(j+0)),A(e.getX(j+1)),A(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new $n(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,g=r.count;f<g;f++)r.setXYZ(f,0,0,0);const i=new le,s=new le,o=new le,a=new le,l=new le,c=new le,d=new le,u=new le;if(e)for(let f=0,g=e.count;f<g;f+=3){const v=e.getX(f+0),y=e.getX(f+1),m=e.getX(f+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,y),o.fromBufferAttribute(n,m),d.subVectors(o,s),u.subVectors(i,s),d.cross(u),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,m),a.add(d),l.add(d),c.add(d),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let f=0,g=n.count;f<g;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),o.fromBufferAttribute(n,f+2),d.subVectors(o,s),u.subVectors(i,s),d.cross(u),r.setXYZ(f+0,d.x,d.y,d.z),r.setXYZ(f+1,d.x,d.y,d.z),r.setXYZ(f+2,d.x,d.y,d.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ai.fromBufferAttribute(e,n),ai.normalize(),e.setXYZ(n,ai.x,ai.y,ai.z)}toNonIndexed(){function e(a,l){const c=a.array,d=a.itemSize,u=a.normalized,f=new c.constructor(l.length*d);let g=0,v=0;for(let y=0,m=l.length;y<m;y++){a.isInterleavedBufferAttribute?g=l[y]*a.data.stride+a.offset:g=l[y]*d;for(let p=0;p<d;p++)f[v++]=c[g++]}return new $n(f,d,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new tn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let d=0,u=c.length;d<u;d++){const f=c[d],g=e(f,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],d=[];for(let u=0,f=c.length;u<f;u++){const g=c[u];d.push(g.toJSON(e.data))}d.length>0&&(i[l]=d,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const d=i[c];this.setAttribute(c,d.clone(n))}const s=e.morphAttributes;for(const c in s){const d=[],u=s[c];for(let f=0,g=u.length;f<g;f++)d.push(u[f].clone(n));this.morphAttributes[c]=d}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,d=o.length;c<d;c++){const u=o[c];this.addGroup(u.start,u.count,u.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const CG=new Gt,Qd=new Hh,L1=new wi,MG=new le,j1=new le,F1=new le,B1=new le,qR=new le,U1=new le,AG=new le,z1=new le;class Ur extends bn{constructor(e=new tn,n=new Id){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){U1.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const d=a[l],u=s[l];d!==0&&(qR.fromBufferAttribute(u,e),o?U1.addScaledVector(qR,d):U1.addScaledVector(qR.sub(n),d))}n.add(U1)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),L1.copy(r.boundingSphere),L1.applyMatrix4(s),Qd.copy(e.ray).recast(e.near),!(L1.containsPoint(Qd.origin)===!1&&(Qd.intersectSphere(L1,MG)===null||Qd.origin.distanceToSquared(MG)>(e.far-e.near)**2))&&(CG.copy(s).invert(),Qd.copy(e.ray).applyMatrix4(CG),!(r.boundingBox!==null&&Qd.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Qd)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,d=s.attributes.uv1,u=s.attributes.normal,f=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,y=f.length;v<y;v++){const m=f[v],p=o[m.materialIndex],x=Math.max(m.start,g.start),_=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));for(let b=x,S=_;b<S;b+=3){const C=a.getX(b),A=a.getX(b+1),M=a.getX(b+2);i=$1(this,p,e,r,c,d,u,C,A,M),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(a.count,g.start+g.count);for(let m=v,p=y;m<p;m+=3){const x=a.getX(m),_=a.getX(m+1),b=a.getX(m+2);i=$1(this,o,e,r,c,d,u,x,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,y=f.length;v<y;v++){const m=f[v],p=o[m.materialIndex],x=Math.max(m.start,g.start),_=Math.min(l.count,Math.min(m.start+m.count,g.start+g.count));for(let b=x,S=_;b<S;b+=3){const C=b,A=b+1,M=b+2;i=$1(this,p,e,r,c,d,u,C,A,M),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),y=Math.min(l.count,g.start+g.count);for(let m=v,p=y;m<p;m+=3){const x=m,_=m+1,b=m+2;i=$1(this,o,e,r,c,d,u,x,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}}}function Wat(t,e,n,r,i,s,o,a){let l;if(e.side===Ui?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Fc,a),l===null)return null;z1.copy(a),z1.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(z1);return c<n.near||c>n.far?null:{distance:c,point:z1.clone(),object:t}}function $1(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,j1),t.getVertexPosition(l,F1),t.getVertexPosition(c,B1);const d=Wat(t,e,n,r,j1,F1,B1,AG);if(d){const u=new le;ws.getBarycoord(AG,j1,F1,B1,u),i&&(d.uv=ws.getInterpolatedAttribute(i,a,l,c,u,new ze)),s&&(d.uv1=ws.getInterpolatedAttribute(s,a,l,c,u,new ze)),o&&(d.normal=ws.getInterpolatedAttribute(o,a,l,c,u,new le),d.normal.dot(r.direction)>0&&d.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new le,materialIndex:0};ws.getNormal(j1,F1,B1,f.normal),d.face=f,d.barycoord=u}return d}class Vh extends tn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],d=[],u=[];let f=0,g=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Et(c,3)),this.setAttribute("normal",new Et(d,3)),this.setAttribute("uv",new Et(u,2));function v(y,m,p,x,_,b,S,C,A,M,T){const N=b/A,I=S/M,k=b/2,j=S/2,F=C/2,z=A+1,$=M+1;let V=0,R=0;const L=new le;for(let B=0;B<$;B++){const W=B*I-j;for(let G=0;G<z;G++){const Y=G*N-k;L[y]=Y*x,L[m]=W*_,L[p]=F,c.push(L.x,L.y,L.z),L[y]=0,L[m]=0,L[p]=C>0?1:-1,d.push(L.x,L.y,L.z),u.push(G/A),u.push(1-B/M),V+=1}}for(let B=0;B<M;B++)for(let W=0;W<A;W++){const G=f+W+z*B,Y=f+W+z*(B+1),ie=f+(W+1)+z*(B+1),ae=f+(W+1)+z*B;l.push(G,Y,ae),l.push(Y,ie,ae),R+=6}a.addGroup(g,R,T),g+=R,f+=V}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vh(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function rv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Ki(t){const e={};for(let n=0;n<t.length;n++){const r=rv(t[n]);for(const i in r)e[i]=r[i]}return e}function Gat(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function que(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:hn.workingColorSpace}const wB={clone:rv,merge:Ki};var Xat=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,qat=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Ho extends Vi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Xat,this.fragmentShader=qat,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=rv(e.uniforms),this.uniformsGroups=Gat(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class Pb extends bn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Gt,this.projectionMatrix=new Gt,this.projectionMatrixInverse=new Gt,this.coordinateSystem=eo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Su=new le,TG=new ze,PG=new ze;class mr extends Pb{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=nv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Yf*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return nv*2*Math.atan(Math.tan(Yf*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Su.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Su.x,Su.y).multiplyScalar(-e/Su.z),Su.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Su.x,Su.y).multiplyScalar(-e/Su.z)}getViewSize(e,n){return this.getViewBounds(e,TG,PG),n.subVectors(PG,TG)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Yf*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Dp=-90,Lp=1;class Kue extends bn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new mr(Dp,Lp,e,n);i.layers=this.layers,this.add(i);const s=new mr(Dp,Lp,e,n);s.layers=this.layers,this.add(s);const o=new mr(Dp,Lp,e,n);o.layers=this.layers,this.add(o);const a=new mr(Dp,Lp,e,n);a.layers=this.layers,this.add(a);const l=new mr(Dp,Lp,e,n);l.layers=this.layers,this.add(l);const c=new mr(Dp,Lp,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===eo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===tv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,d]=this.children,u=e.getRenderTarget(),f=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,d),e.setRenderTarget(u,f,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class Nb extends Ar{constructor(e=[],n=Bc,r,i,s,o,a,l,c,d){super(e,n,r,i,s,o,a,l,c,d),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Yue extends Nl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new Nb(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Vh(5,5,5),s=new Ho({name:"CubemapFromEquirect",uniforms:rv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ui,blending:Cc});s.uniforms.tEquirect.value=n;const o=new Ur(i,s),a=n.minFilter;return n.minFilter===dl&&(n.minFilter=Jr),new Kue(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class bm extends bn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Kat={type:"move"};class YS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new bm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new bm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new bm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const m=n.getJointPose(y,r),p=this._getHandJoint(c,y);m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=m.radius),p.visible=m!==null}const d=c.joints["index-finger-tip"],u=c.joints["thumb-tip"],f=d.position.distanceTo(u.position),g=.02,v=.005;c.inputState.pinching&&f>g+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=g-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Kat)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new bm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class pP{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ht(e),this.density=n}clone(){return new pP(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class mP{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ht(e),this.near=n,this.far=r}clone(){return new mP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let SB=class extends bn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new co,this.environmentIntensity=1,this.environmentRotation=new co,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};class gP{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=y_,this.updateRanges=[],this.version=0,this.uuid=so()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=so()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const qi=new le;class Mh{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyMatrix4(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.applyNormalMatrix(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)qi.fromBufferAttribute(this,n),qi.transformDirection(e),this.setXYZ(n,qi.x,qi.y,qi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=es(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=en(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=en(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=es(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=es(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=es(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=es(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=en(n,this.array),r=en(r,this.array),i=en(i,this.array),s=en(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new $n(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Mh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class EB extends Vi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let jp;const Vy=new le,Fp=new le,Bp=new le,Up=new ze,Wy=new ze,Zue=new Gt,H1=new le,Gy=new le,V1=new le,NG=new ze,KR=new ze,RG=new ze;class Que extends bn{constructor(e=new EB){if(super(),this.isSprite=!0,this.type="Sprite",jp===void 0){jp=new tn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new gP(n,5);jp.setIndex([0,1,2,0,2,3]),jp.setAttribute("position",new Mh(r,3,0,!1)),jp.setAttribute("uv",new Mh(r,2,3,!1))}this.geometry=jp,this.material=e,this.center=new ze(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Fp.setFromMatrixScale(this.matrixWorld),Zue.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Bp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Fp.multiplyScalar(-Bp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;W1(H1.set(-.5,-.5,0),Bp,o,Fp,i,s),W1(Gy.set(.5,-.5,0),Bp,o,Fp,i,s),W1(V1.set(.5,.5,0),Bp,o,Fp,i,s),NG.set(0,0),KR.set(1,0),RG.set(1,1);let a=e.ray.intersectTriangle(H1,Gy,V1,!1,Vy);if(a===null&&(W1(Gy.set(-.5,.5,0),Bp,o,Fp,i,s),KR.set(0,1),a=e.ray.intersectTriangle(H1,V1,Gy,!1,Vy),a===null))return;const l=e.ray.origin.distanceTo(Vy);l<e.near||l>e.far||n.push({distance:l,point:Vy.clone(),uv:ws.getInterpolation(Vy,H1,Gy,V1,NG,KR,RG,new ze),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function W1(t,e,n,r,i,s){Up.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Wy.x=s*Up.x-i*Up.y,Wy.y=i*Up.x+s*Up.y):Wy.copy(Up),t.copy(e),t.x+=Wy.x,t.y+=Wy.y,t.applyMatrix4(Zue)}const G1=new le,OG=new le;class Jue extends bn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){G1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(G1);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){G1.setFromMatrixPosition(e.matrixWorld),OG.setFromMatrixPosition(this.matrixWorld);const r=G1.distanceTo(OG)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const IG=new le,kG=new xn,DG=new xn,Yat=new le,LG=new Gt,X1=new le,YR=new wi,jG=new Gt,ZR=new Hh;class ede extends Ur{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=gL,this.bindMatrix=new Gt,this.bindMatrixInverse=new Gt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new $i),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,X1),this.boundingBox.expandByPoint(X1)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new wi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,X1),this.boundingSphere.expandByPoint(X1)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),YR.copy(this.boundingSphere),YR.applyMatrix4(i),e.ray.intersectsSphere(YR)!==!1&&(jG.copy(i).invert(),ZR.copy(e.ray).applyMatrix4(jG),!(this.boundingBox!==null&&ZR.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,ZR)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new xn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===gL?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Pue?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;kG.fromBufferAttribute(i.attributes.skinIndex,e),DG.fromBufferAttribute(i.attributes.skinWeight,e),IG.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=DG.getComponent(s);if(o!==0){const a=kG.getComponent(s);LG.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Yat.copy(IG).applyMatrix4(LG),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class CB extends bn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class bl extends Ar{constructor(e=null,n=1,r=1,i,s,o,a,l,c=bi,d=bi,u,f){super(null,o,a,l,c,d,i,s,u,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const FG=new Gt,Zat=new Gt;class vP{constructor(e=[],n=[]){this.uuid=so(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Gt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Gt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Zat;FG.multiplyMatrices(a,n[s]),FG.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new vP(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new bl(n,e,e,Bi,Ms);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new CB),this.bones.push(o),this.boneInverses.push(new Gt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class iv extends $n{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const zp=new Gt,BG=new Gt,q1=[],UG=new $i,Qat=new Gt,Xy=new Ur,qy=new wi;class tde extends Ur{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new iv(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Qat)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new $i),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,zp),UG.copy(e.boundingBox).applyMatrix4(zp),this.boundingBox.union(UG)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new wi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,zp),qy.copy(e.boundingSphere).applyMatrix4(zp),this.boundingSphere.union(qy)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Xy.geometry=this.geometry,Xy.material=this.material,Xy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),qy.copy(this.boundingSphere),qy.applyMatrix4(r),e.ray.intersectsSphere(qy)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,zp),BG.multiplyMatrices(r,zp),Xy.matrixWorld=BG,Xy.raycast(e,q1);for(let o=0,a=q1.length;o<a;o++){const l=q1[o];l.instanceId=s,l.object=this,n.push(l)}q1.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new iv(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new bl(new Float32Array(i*this.count),i,this.count,lP,Ms));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const QR=new le,Jat=new le,elt=new Jt;class il{constructor(e=new le(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=QR.subVectors(r,n).cross(Jat.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(QR),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||elt.getNormalMatrix(e),i=this.coplanarPoint(QR).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Jd=new wi,tlt=new ze(.5,.5),K1=new le;class zv{constructor(e=new il,n=new il,r=new il,i=new il,s=new il,o=new il){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=eo,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],c=s[3],d=s[4],u=s[5],f=s[6],g=s[7],v=s[8],y=s[9],m=s[10],p=s[11],x=s[12],_=s[13],b=s[14],S=s[15];if(i[0].setComponents(c-o,g-d,p-v,S-x).normalize(),i[1].setComponents(c+o,g+d,p+v,S+x).normalize(),i[2].setComponents(c+a,g+u,p+y,S+_).normalize(),i[3].setComponents(c-a,g-u,p-y,S-_).normalize(),r)i[4].setComponents(l,f,m,b).normalize(),i[5].setComponents(c-l,g-f,p-m,S-b).normalize();else if(i[4].setComponents(c-l,g-f,p-m,S-b).normalize(),n===eo)i[5].setComponents(c+l,g+f,p+m,S+b).normalize();else if(n===tv)i[5].setComponents(l,f,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Jd.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Jd.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Jd)}intersectsSprite(e){Jd.center.set(0,0,0);const n=tlt.distanceTo(e.center);return Jd.radius=.7071067811865476+n,Jd.applyMatrix4(e.matrixWorld),this.intersectsSphere(Jd)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(K1.x=i.normal.x>0?e.max.x:e.min.x,K1.y=i.normal.y>0?e.max.y:e.min.y,K1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(K1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Za=new Gt,Qa=new zv;class yP{constructor(){this.coordinateSystem=eo}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Qa.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Qa.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Qa.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Qa.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Qa.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Qa.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Qa.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Qa.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Za.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Qa.setFromProjectionMatrix(Za,i.coordinateSystem,i.reversedDepth),Qa.containsPoint(e))return!0}return!1}clone(){return new yP}}function JR(t,e){return t-e}function nlt(t,e){return t.z-e.z}function rlt(t,e){return e.z-t.z}class ilt{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const ps=new Gt,slt=new ht(1,1,1),zG=new zv,olt=new yP,Y1=new $i,ef=new wi,Ky=new le,$G=new le,alt=new le,eO=new ilt,ki=new Ur,Z1=[];function llt(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function tf(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class nde extends Ur{constructor(e,n,r=n*2,i){super(new tn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new bl(n,e,e,Bi,Ms);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new bl(n,e,e,Tb,Uc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new bl(n,e,e,Bi,Ms);r.colorSpace=hn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,d=new a.constructor(r*l),u=new $n(d,l,c);n.setAttribute(s,u)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new $n(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new $i);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ps),this.getBoundingBoxAt(s,Y1).applyMatrix4(ps),e.union(Y1)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new wi);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,ps),this.getBoundingSphereAt(s,ef).applyMatrix4(ps),e.union(ef)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(JR),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;ps.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(slt.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(JR),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const d in r.attributes){const u=n.getAttribute(d),f=r.getAttribute(d);llt(u,f,l);const g=u.itemSize;for(let v=u.count,y=c;v<y;v++){const m=l+v;for(let p=0;p<g;p++)f.setComponent(m,p,0)}f.needsUpdate=!0,f.addUpdateRange(l*g,c*g)}if(i){const d=a.indexStart,u=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let f=0;f<o.count;f++)s.setX(d+f,l+o.getX(f));for(let f=o.count,g=u;f<g;f++)s.setX(d+f,l);s.needsUpdate=!0,s.addUpdateRange(d,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:d,vertexStart:u,reservedIndexCount:f}=c,g=s.index,v=g.array,y=e-u;for(let m=d;m<d+f;m++)v[m]=v[m]+y;g.array.copyWithin(n,d,d+f),g.addUpdateRange(n,f),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:d,reservedVertexCount:u}=c,f=s.attributes;for(const g in f){const v=f[g],{array:y,itemSize:m}=v;y.copyWithin(e*m,d*m,(d+u)*m),v.addUpdateRange(e*m,u*m)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new $i,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let d=l;o&&(d=o.getX(d)),s.expandByPoint(Ky.fromBufferAttribute(a,d))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new wi;this.getBoundingBoxAt(e,Y1),Y1.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,d=i.start+i.count;c<d;c++){let u=c;o&&(u=o.getX(u)),Ky.fromBufferAttribute(a,u),l=Math.max(l,s.center.distanceToSquared(Ky))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(JR);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);tf(this._multiDrawCounts,i),tf(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),tf(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),tf(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),tf(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new tn,this._initializeGeometry(s));const o=this.geometry;s.index&&tf(s.index.array,o.index.array);for(const a in s.attributes)tf(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;ki.material=this.material,ki.geometry.index=o.index,ki.geometry.attributes=o.attributes,ki.geometry.boundingBox===null&&(ki.geometry.boundingBox=new $i),ki.geometry.boundingSphere===null&&(ki.geometry.boundingSphere=new wi);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,d=i[c];ki.geometry.setDrawRange(d.start,d.count),this.getMatrixAt(a,ki.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,ki.geometry.boundingBox),this.getBoundingSphereAt(c,ki.geometry.boundingSphere),ki.raycast(e,Z1);for(let u=0,f=Z1.length;u<f;u++){const g=Z1[u];g.object=this,g.batchId=a,n.push(g)}Z1.length=0}ki.material=null,ki.geometry.index=null,ki.geometry.attributes={},ki.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,d=this._multiDrawCounts,u=this._geometryInfo,f=this.perObjectFrustumCulled,g=this._indirectTexture,v=g.image.data,y=r.isArrayCamera?olt:zG;f&&!r.isArrayCamera&&(ps.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),zG.setFromProjectionMatrix(ps,r.coordinateSystem,r.reversedDepth));let m=0;if(this.sortObjects){ps.copy(this.matrixWorld).invert(),Ky.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ps),$G.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ps);for(let _=0,b=l.length;_<b;_++)if(l[_].visible&&l[_].active){const S=l[_].geometryIndex;this.getMatrixAt(_,ps),this.getBoundingSphereAt(S,ef).applyMatrix4(ps);let C=!1;if(f&&(C=!y.intersectsSphere(ef,r)),!C){const A=u[S],M=alt.subVectors(ef.center,Ky).dot($G);eO.push(A.start,A.count,M,_)}}const p=eO.list,x=this.customSort;x===null?p.sort(s.transparent?rlt:nlt):x.call(this,p,r);for(let _=0,b=p.length;_<b;_++){const S=p[_];c[m]=S.start*a,d[m]=S.count,v[m]=S.index,m++}eO.reset()}else for(let p=0,x=l.length;p<x;p++)if(l[p].visible&&l[p].active){const _=l[p].geometryIndex;let b=!1;if(f&&(this.getMatrixAt(p,ps),this.getBoundingSphereAt(_,ef).applyMatrix4(ps),b=!y.intersectsSphere(ef,r)),!b){const S=u[_];c[m]=S.start*a,d[m]=S.count,v[m]=p,m++}}g.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class ls extends Vi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ht(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const HM=new le,VM=new le,HG=new Gt,Yy=new Hh,Q1=new wi,tO=new le,VG=new le;class vd extends bn{constructor(e=new tn,n=new ls){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)HM.fromBufferAttribute(n,i-1),VM.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=HM.distanceTo(VM);e.setAttribute("lineDistance",new Et(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Q1.copy(r.boundingSphere),Q1.applyMatrix4(i),Q1.radius+=s,e.ray.intersectsSphere(Q1)===!1)return;HG.copy(i).invert(),Yy.copy(e.ray).applyMatrix4(HG);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,d=r.index,f=r.attributes.position;if(d!==null){const g=Math.max(0,o.start),v=Math.min(d.count,o.start+o.count);for(let y=g,m=v-1;y<m;y+=c){const p=d.getX(y),x=d.getX(y+1),_=J1(this,e,Yy,l,p,x,y);_&&n.push(_)}if(this.isLineLoop){const y=d.getX(v-1),m=d.getX(g),p=J1(this,e,Yy,l,y,m,v-1);p&&n.push(p)}}else{const g=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let y=g,m=v-1;y<m;y+=c){const p=J1(this,e,Yy,l,y,y+1,y);p&&n.push(p)}if(this.isLineLoop){const y=J1(this,e,Yy,l,v-1,g,v-1);y&&n.push(y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function J1(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(HM.fromBufferAttribute(a,i),VM.fromBufferAttribute(a,s),n.distanceSqToSegment(HM,VM,tO,VG)>r)return;tO.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(tO);if(!(c<e.near||c>e.far))return{distance:c,point:VG.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const WG=new le,GG=new le;class $l extends vd{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)WG.fromBufferAttribute(n,i),GG.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+WG.distanceTo(GG);e.setAttribute("lineDistance",new Et(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class rde extends vd{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class MB extends Vi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const XG=new Gt,xL=new Hh,eS=new wi,tS=new le;class ide extends bn{constructor(e=new tn,n=new MB){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),eS.copy(r.boundingSphere),eS.applyMatrix4(i),eS.radius+=s,e.ray.intersectsSphere(eS)===!1)return;XG.copy(i).invert(),xL.copy(e.ray).applyMatrix4(XG);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,u=r.attributes.position;if(c!==null){const f=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let v=f,y=g;v<y;v++){const m=c.getX(v);tS.fromBufferAttribute(u,m),qG(tS,m,l,i,e,n,this)}}else{const f=Math.max(0,o.start),g=Math.min(u.count,o.start+o.count);for(let v=f,y=g;v<y;v++)tS.fromBufferAttribute(u,v),qG(tS,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function qG(t,e,n,r,i,s,o){const a=xL.distanceSqToPoint(t);if(a<n){const l=new le;xL.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class sde extends Ar{constructor(e,n,r,i,s=Jr,o=Jr,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const d=this;function u(){d.needsUpdate=!0,d._requestVideoFrameCallbackId=e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(u))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class clt extends sde{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class ult extends Ar{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=bi,this.minFilter=bi,this.generateMipmaps=!1,this.needsUpdate=!0}}class xP extends Ar{constructor(e,n,r,i,s,o,a,l,c,d,u,f){super(null,o,a,l,c,d,i,s,u,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class dlt extends xP{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Lo,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class flt extends xP{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Bc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class hlt extends Ar{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class AB extends Ar{constructor(e,n,r=Uc,i,s,o,a=bi,l=bi,c,d=Jg,u=1){if(d!==Jg&&d!==ev)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:u};super(f,i,s,o,a,l,d,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Yu(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class TB extends Ar{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class _P extends tn{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],c=[],d=n/2,u=Math.PI/2*e,f=n,g=2*u+f,v=r*2+s,y=i+1,m=new le,p=new le;for(let x=0;x<=v;x++){let _=0,b=0,S=0,C=0;if(x<=r){const T=x/r,N=T*Math.PI/2;b=-d-e*Math.cos(N),S=e*Math.sin(N),C=-e*Math.cos(N),_=T*u}else if(x<=r+s){const T=(x-r)/s;b=-d+T*n,S=e,C=0,_=u+T*f}else{const T=(x-r-s)/r,N=T*Math.PI/2;b=d+e*Math.sin(N),S=e*Math.cos(N),C=e*Math.sin(N),_=u+f+T*u}const A=Math.max(0,Math.min(1,_/g));let M=0;x===0?M=.5/i:x===v&&(M=-.5/i);for(let T=0;T<=i;T++){const N=T/i,I=N*Math.PI*2,k=Math.sin(I),j=Math.cos(I);p.x=-S*j,p.y=b,p.z=S*k,a.push(p.x,p.y,p.z),m.set(-S*j,C,S*k),m.normalize(),l.push(m.x,m.y,m.z),c.push(N+M,A)}if(x>0){const T=(x-1)*y;for(let N=0;N<i;N++){const I=T+N,k=T+N+1,j=x*y+N,F=x*y+N+1;o.push(I,k,j),o.push(k,F,j)}}}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _P(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class bP extends tn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new le,d=new ze;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let u=0,f=3;u<=n;u++,f+=3){const g=r+u/n*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),o.push(c.x,c.y,c.z),a.push(0,0,1),d.x=(o[f]/e+1)/2,d.y=(o[f+1]/e+1)/2,l.push(d.x,d.y)}for(let u=1;u<=n;u++)s.push(u,u+1,0);this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("normal",new Et(a,3)),this.setAttribute("uv",new Et(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bP(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Rb extends tn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const d=[],u=[],f=[],g=[];let v=0;const y=[],m=r/2;let p=0;x(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(d),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(g,2));function x(){const b=new le,S=new le;let C=0;const A=(n-e)/r;for(let M=0;M<=s;M++){const T=[],N=M/s,I=N*(n-e)+e;for(let k=0;k<=i;k++){const j=k/i,F=j*l+a,z=Math.sin(F),$=Math.cos(F);S.x=I*z,S.y=-N*r+m,S.z=I*$,u.push(S.x,S.y,S.z),b.set(z,A,$).normalize(),f.push(b.x,b.y,b.z),g.push(j,1-N),T.push(v++)}y.push(T)}for(let M=0;M<i;M++)for(let T=0;T<s;T++){const N=y[T][M],I=y[T+1][M],k=y[T+1][M+1],j=y[T][M+1];(e>0||T!==0)&&(d.push(N,I,j),C+=3),(n>0||T!==s-1)&&(d.push(I,k,j),C+=3)}c.addGroup(p,C,0),p+=C}function _(b){const S=v,C=new ze,A=new le;let M=0;const T=b===!0?e:n,N=b===!0?1:-1;for(let k=1;k<=i;k++)u.push(0,m*N,0),f.push(0,N,0),g.push(.5,.5),v++;const I=v;for(let k=0;k<=i;k++){const F=k/i*l+a,z=Math.cos(F),$=Math.sin(F);A.x=T*$,A.y=m*N,A.z=T*z,u.push(A.x,A.y,A.z),f.push(0,N,0),C.x=z*.5+.5,C.y=$*.5*N+.5,g.push(C.x,C.y),v++}for(let k=0;k<i;k++){const j=S+k,F=I+k;b===!0?d.push(F,F+1,j):d.push(F+1,F,j),M+=3}c.addGroup(p,M,b===!0?1:2),p+=M}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rb(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ob extends Rb{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Ob(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class kd extends tn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),d(),this.setAttribute("position",new Et(s,3)),this.setAttribute("normal",new Et(s.slice(),3)),this.setAttribute("uv",new Et(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const _=new le,b=new le,S=new le;for(let C=0;C<n.length;C+=3)g(n[C+0],_),g(n[C+1],b),g(n[C+2],S),l(_,b,S,x)}function l(x,_,b,S){const C=S+1,A=[];for(let M=0;M<=C;M++){A[M]=[];const T=x.clone().lerp(b,M/C),N=_.clone().lerp(b,M/C),I=C-M;for(let k=0;k<=I;k++)k===0&&M===C?A[M][k]=T:A[M][k]=T.clone().lerp(N,k/I)}for(let M=0;M<C;M++)for(let T=0;T<2*(C-M)-1;T++){const N=Math.floor(T/2);T%2===0?(f(A[M][N+1]),f(A[M+1][N]),f(A[M][N])):(f(A[M][N+1]),f(A[M+1][N+1]),f(A[M+1][N]))}}function c(x){const _=new le;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(x),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function d(){const x=new le;for(let _=0;_<s.length;_+=3){x.x=s[_+0],x.y=s[_+1],x.z=s[_+2];const b=m(x)/2/Math.PI+.5,S=p(x)/Math.PI+.5;o.push(b,1-S)}v(),u()}function u(){for(let x=0;x<o.length;x+=6){const _=o[x+0],b=o[x+2],S=o[x+4],C=Math.max(_,b,S),A=Math.min(_,b,S);C>.9&&A<.1&&(_<.2&&(o[x+0]+=1),b<.2&&(o[x+2]+=1),S<.2&&(o[x+4]+=1))}}function f(x){s.push(x.x,x.y,x.z)}function g(x,_){const b=x*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function v(){const x=new le,_=new le,b=new le,S=new le,C=new ze,A=new ze,M=new ze;for(let T=0,N=0;T<s.length;T+=9,N+=6){x.set(s[T+0],s[T+1],s[T+2]),_.set(s[T+3],s[T+4],s[T+5]),b.set(s[T+6],s[T+7],s[T+8]),C.set(o[N+0],o[N+1]),A.set(o[N+2],o[N+3]),M.set(o[N+4],o[N+5]),S.copy(x).add(_).add(b).divideScalar(3);const I=m(S);y(C,N+0,x,I),y(A,N+2,_,I),y(M,N+4,b,I)}}function y(x,_,b,S){S<0&&x.x===1&&(o[_]=x.x-1),b.x===0&&b.z===0&&(o[_]=S/2/Math.PI+.5)}function m(x){return Math.atan2(x.z,-x.x)}function p(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kd(e.vertices,e.indices,e.radius,e.details)}}class wP extends kd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wP(e.radius,e.detail)}}const nS=new le,rS=new le,nO=new le,iS=new ws;class ode extends tn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Yf*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],d=["a","b","c"],u=new Array(3),f={},g=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:y,b:m,c:p}=iS;if(y.fromBufferAttribute(a,c[0]),m.fromBufferAttribute(a,c[1]),p.fromBufferAttribute(a,c[2]),iS.getNormal(nO),u[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,u[1]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,u[2]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,!(u[0]===u[1]||u[1]===u[2]||u[2]===u[0]))for(let x=0;x<3;x++){const _=(x+1)%3,b=u[x],S=u[_],C=iS[d[x]],A=iS[d[_]],M=`${b}_${S}`,T=`${S}_${b}`;T in f&&f[T]?(nO.dot(f[T].normal)<=s&&(g.push(C.x,C.y,C.z),g.push(A.x,A.y,A.z)),f[T]=null):M in f||(f[M]={index0:c[x],index1:c[_],normal:nO.clone()})}}for(const v in f)if(f[v]){const{index0:y,index1:m}=f[v];nS.fromBufferAttribute(a,y),rS.fromBufferAttribute(a,m),g.push(nS.x,nS.y,nS.z),g.push(rS.x,rS.y,rS.z)}this.setAttribute("position",new Et(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class $a{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const d=r[i],f=r[i+1]-d,g=(o-d)/f;return(i+g)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new ze:new le);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new le,i=[],s=[],o=[],a=new le,l=new Gt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new le)}s[0]=new le,o[0]=new le;let c=Number.MAX_VALUE;const d=Math.abs(i[0].x),u=Math.abs(i[0].y),f=Math.abs(i[0].z);d<=c&&(c=d,r.set(1,0,0)),u<=c&&(c=u,r.set(0,1,0)),f<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Ht(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,v))}o[g].crossVectors(i[g],s[g])}if(n===!0){let g=Math.acos(Ht(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class SP extends $a{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new ze){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const d=Math.cos(this.aRotation),u=Math.sin(this.aRotation),f=l-this.aX,g=c-this.aY;l=f*d-g*u+this.aX,c=f*u+g*d+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class ade extends SP{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function PB(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,d,u){let f=(o-s)/c-(a-s)/(c+d)+(a-o)/d,g=(a-o)/d-(l-o)/(d+u)+(l-a)/u;f*=d,g*=d,i(o,a,f,g)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const sS=new le,rO=new PB,iO=new PB,sO=new PB;class lde extends $a{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new le){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,d;this.closed||a>0?c=i[(a-1)%s]:(sS.subVectors(i[0],i[1]).add(i[0]),c=sS);const u=i[a%s],f=i[(a+1)%s];if(this.closed||a+2<s?d=i[(a+2)%s]:(sS.subVectors(i[s-1],i[s-2]).add(i[s-1]),d=sS),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(u),g),y=Math.pow(u.distanceToSquared(f),g),m=Math.pow(f.distanceToSquared(d),g);y<1e-4&&(y=1),v<1e-4&&(v=y),m<1e-4&&(m=y),rO.initNonuniformCatmullRom(c.x,u.x,f.x,d.x,v,y,m),iO.initNonuniformCatmullRom(c.y,u.y,f.y,d.y,v,y,m),sO.initNonuniformCatmullRom(c.z,u.z,f.z,d.z,v,y,m)}else this.curveType==="catmullrom"&&(rO.initCatmullRom(c.x,u.x,f.x,d.x,this.tension),iO.initCatmullRom(c.y,u.y,f.y,d.y,this.tension),sO.initCatmullRom(c.z,u.z,f.z,d.z,this.tension));return r.set(rO.calc(l),iO.calc(l),sO.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new le().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function KG(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function plt(t,e){const n=1-t;return n*n*e}function mlt(t,e){return 2*(1-t)*t*e}function glt(t,e){return t*t*e}function V0(t,e,n,r){return plt(t,e)+mlt(t,n)+glt(t,r)}function vlt(t,e){const n=1-t;return n*n*n*e}function ylt(t,e){const n=1-t;return 3*n*n*t*e}function xlt(t,e){return 3*(1-t)*t*t*e}function _lt(t,e){return t*t*t*e}function W0(t,e,n,r,i){return vlt(t,e)+ylt(t,n)+xlt(t,r)+_lt(t,i)}class NB extends $a{constructor(e=new ze,n=new ze,r=new ze,i=new ze){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(W0(e,i.x,s.x,o.x,a.x),W0(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class cde extends $a{constructor(e=new le,n=new le,r=new le,i=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(W0(e,i.x,s.x,o.x,a.x),W0(e,i.y,s.y,o.y,a.y),W0(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RB extends $a{constructor(e=new ze,n=new ze){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new ze){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ze){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ude extends $a{constructor(e=new le,n=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new le){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new le){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class OB extends $a{constructor(e=new ze,n=new ze,r=new ze){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ze){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(V0(e,i.x,s.x,o.x),V0(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class IB extends $a{constructor(e=new le,n=new le,r=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(V0(e,i.x,s.x,o.x),V0(e,i.y,s.y,o.y),V0(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kB extends $a{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new ze){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],d=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return r.set(KG(a,l.x,c.x,d.x,u.x),KG(a,l.y,c.y,d.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ze().fromArray(i))}return this}}var WM=Object.freeze({__proto__:null,ArcCurve:ade,CatmullRomCurve3:lde,CubicBezierCurve:NB,CubicBezierCurve3:cde,EllipseCurve:SP,LineCurve:RB,LineCurve3:ude,QuadraticBezierCurve:OB,QuadraticBezierCurve3:IB,SplineCurve:kB});class dde extends $a{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new WM[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const d=l[c];r&&r.equals(d)||(n.push(d),r=d)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new WM[i.type]().fromJSON(i))}return this}}class GM extends dde{constructor(e){super(),this.type="Path",this.currentPoint=new ze,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new RB(this.currentPoint.clone(),new ze(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new OB(this.currentPoint.clone(),new ze(e,n),new ze(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new NB(this.currentPoint.clone(),new ze(e,n),new ze(r,i),new ze(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new kB(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,d=this.currentPoint.y;return this.absellipse(e+c,n+d,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new SP(e,n,r,i,s,o,a,l);if(this.curves.length>0){const u=c.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(c);const d=c.getPoint(1);return this.currentPoint.copy(d),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Qf extends GM{constructor(e){super(e),this.uuid=so(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new GM().fromJSON(i))}return this}}function blt(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=fde(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(r&&(s=Mlt(t,e,s,n)),t.length>80*n){a=1/0,l=1/0;let d=-1/0,u=-1/0;for(let f=n;f<i;f+=n){const g=t[f],v=t[f+1];g<a&&(a=g),v<l&&(l=v),g>d&&(d=g),v>u&&(u=v)}c=Math.max(d-a,u-l),c=c!==0?32767/c:0}return b_(s,o,n,a,l,c,0),o}function fde(t,e,n,r,i){let s;if(i===jlt(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=YG(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=YG(o/r|0,t[o],t[o+1],s);return s&&sv(s,s.next)&&(S_(s),s=s.next),s}function Ah(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(sv(n,n.next)||vr(n.prev,n,n.next)===0)){if(S_(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function b_(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Rlt(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?Slt(t,r,i,s):wlt(t)){e.push(l.i,t.i,c.i),S_(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Elt(Ah(t),e),b_(t,e,n,r,i,s,2)):o===2&&Clt(t,e,n,r,i,s):b_(Ah(t),e,n,r,i,s,1);break}}}function wlt(t){const e=t.prev,n=t,r=t.next;if(vr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,d=Math.min(i,s,o),u=Math.min(a,l,c),f=Math.max(i,s,o),g=Math.max(a,l,c);let v=r.next;for(;v!==e;){if(v.x>=d&&v.x<=f&&v.y>=u&&v.y<=g&&p0(i,a,s,l,o,c,v.x,v.y)&&vr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Slt(t,e,n,r){const i=t.prev,s=t,o=t.next;if(vr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,d=i.y,u=s.y,f=o.y,g=Math.min(a,l,c),v=Math.min(d,u,f),y=Math.max(a,l,c),m=Math.max(d,u,f),p=_L(g,v,e,n,r),x=_L(y,m,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=p&&b&&b.z<=x;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&p0(a,d,l,u,c,f,_.x,_.y)&&vr(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=g&&b.x<=y&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&p0(a,d,l,u,c,f,b.x,b.y)&&vr(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=p;){if(_.x>=g&&_.x<=y&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&p0(a,d,l,u,c,f,_.x,_.y)&&vr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=x;){if(b.x>=g&&b.x<=y&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&p0(a,d,l,u,c,f,b.x,b.y)&&vr(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Elt(t,e){let n=t;do{const r=n.prev,i=n.next.next;!sv(r,i)&&pde(r,n,n.next,i)&&w_(r,i)&&w_(i,r)&&(e.push(r.i,n.i,i.i),S_(n),S_(n.next),n=t=i),n=n.next}while(n!==t);return Ah(n)}function Clt(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&klt(o,a)){let l=mde(o,a);o=Ah(o,o.next),l=Ah(l,l.next),b_(o,e,n,r,i,s,0),b_(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Mlt(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=fde(t,a,l,r,!1);c===c.next&&(c.steiner=!0),i.push(Ilt(c))}i.sort(Alt);for(let s=0;s<i.length;s++)n=Tlt(i[s],n);return n}function Alt(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function Tlt(t,e){const n=Plt(t,e);if(!n)return e;const r=mde(n,t);return Ah(r,r.next),Ah(n,n.next)}function Plt(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(sv(t,n))return n;do{if(sv(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const u=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(u<=r&&u>s&&(s=u,o=n.x<n.next.x?n:n.next,u===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let d=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&hde(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const u=Math.abs(i-n.y)/(r-n.x);w_(n,t)&&(u<d||u===d&&(n.x>o.x||n.x===o.x&&Nlt(o,n)))&&(o=n,d=u)}n=n.next}while(n!==a);return o}function Nlt(t,e){return vr(t.prev,t,e.prev)<0&&vr(e.next,t,t.next)<0}function Rlt(t,e,n,r){let i=t;do i.z===0&&(i.z=_L(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Olt(i)}function Olt(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let c=0;c<n&&(a++,o=o.nextZ,!!o);c++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function _L(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Ilt(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function hde(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function p0(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&hde(t,e,n,r,i,s,o,a)}function klt(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Dlt(t,e)&&(w_(t,e)&&w_(e,t)&&Llt(t,e)&&(vr(t.prev,t,e.prev)||vr(t,e.prev,e))||sv(t,e)&&vr(t.prev,t,t.next)>0&&vr(e.prev,e,e.next)>0)}function vr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function sv(t,e){return t.x===e.x&&t.y===e.y}function pde(t,e,n,r){const i=aS(vr(t,e,n)),s=aS(vr(t,e,r)),o=aS(vr(n,r,t)),a=aS(vr(n,r,e));return!!(i!==s&&o!==a||i===0&&oS(t,n,e)||s===0&&oS(t,r,e)||o===0&&oS(n,t,r)||a===0&&oS(n,e,r))}function oS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function aS(t){return t>0?1:t<0?-1:0}function Dlt(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&pde(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function w_(t,e){return vr(t.prev,t,t.next)<0?vr(t,e,t.next)>=0&&vr(t,t.prev,e)>=0:vr(t,e,t.prev)<0||vr(t,t.next,e)<0}function Llt(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function mde(t,e){const n=bL(t.i,t.x,t.y),r=bL(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function YG(t,e,n,r){const i=bL(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function S_(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function bL(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function jlt(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Flt{static triangulate(e,n,r=2){return blt(e,n,r)}}class wa{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return wa.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];ZG(e),QG(r,e);let o=e.length;n.forEach(ZG);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,QG(r,n[l]);const a=Flt.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function ZG(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function QG(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class EP extends tn{constructor(e=new Qf([new ze(.5,.5),new ze(-.5,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Et(i,3)),this.setAttribute("uv",new Et(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,d=n.steps!==void 0?n.steps:1,u=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:g-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,m=n.bevelSegments!==void 0?n.bevelSegments:3;const p=n.extrudePath,x=n.UVGenerator!==void 0?n.UVGenerator:Blt;let _,b=!1,S,C,A,M;p&&(_=p.getSpacedPoints(d),b=!0,f=!1,S=p.computeFrenetFrames(d,!1),C=new le,A=new le,M=new le),f||(m=0,g=0,v=0,y=0);const T=a.extractPoints(c);let N=T.shape;const I=T.holes;if(!wa.isClockWise(N)){N=N.reverse();for(let ne=0,fe=I.length;ne<fe;ne++){const me=I[ne];wa.isClockWise(me)&&(I[ne]=me.reverse())}}function j(ne){const me=10000000000000001e-36;let pe=ne[0];for(let Ae=1;Ae<=ne.length;Ae++){const Ce=Ae%ne.length,ke=ne[Ce],nt=ke.x-pe.x,Je=ke.y-pe.y,re=nt*nt+Je*Je,Z=Math.max(Math.abs(ke.x),Math.abs(ke.y),Math.abs(pe.x),Math.abs(pe.y)),ve=me*Z*Z;if(re<=ve){ne.splice(Ce,1),Ae--;continue}pe=ke}}j(N),I.forEach(j);const F=I.length,z=N;for(let ne=0;ne<F;ne++){const fe=I[ne];N=N.concat(fe)}function $(ne,fe,me){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),ne.clone().addScaledVector(fe,me)}const V=N.length;function R(ne,fe,me){let pe,Ae,Ce;const ke=ne.x-fe.x,nt=ne.y-fe.y,Je=me.x-ne.x,re=me.y-ne.y,Z=ke*ke+nt*nt,ve=ke*re-nt*Je;if(Math.abs(ve)>Number.EPSILON){const Se=Math.sqrt(Z),Ie=Math.sqrt(Je*Je+re*re),Me=fe.x-nt/Se,at=fe.y+ke/Se,He=me.x-re/Ie,st=me.y+Je/Ie,We=((He-Me)*re-(st-at)*Je)/(ke*re-nt*Je);pe=Me+ke*We-ne.x,Ae=at+nt*We-ne.y;const $e=pe*pe+Ae*Ae;if($e<=2)return new ze(pe,Ae);Ce=Math.sqrt($e/2)}else{let Se=!1;ke>Number.EPSILON?Je>Number.EPSILON&&(Se=!0):ke<-Number.EPSILON?Je<-Number.EPSILON&&(Se=!0):Math.sign(nt)===Math.sign(re)&&(Se=!0),Se?(pe=-nt,Ae=ke,Ce=Math.sqrt(Z)):(pe=ke,Ae=nt,Ce=Math.sqrt(Z/2))}return new ze(pe/Ce,Ae/Ce)}const L=[];for(let ne=0,fe=z.length,me=fe-1,pe=ne+1;ne<fe;ne++,me++,pe++)me===fe&&(me=0),pe===fe&&(pe=0),L[ne]=R(z[ne],z[me],z[pe]);const B=[];let W,G=L.concat();for(let ne=0,fe=F;ne<fe;ne++){const me=I[ne];W=[];for(let pe=0,Ae=me.length,Ce=Ae-1,ke=pe+1;pe<Ae;pe++,Ce++,ke++)Ce===Ae&&(Ce=0),ke===Ae&&(ke=0),W[pe]=R(me[pe],me[Ce],me[ke]);B.push(W),G=G.concat(W)}let Y;if(m===0)Y=wa.triangulateShape(z,I);else{const ne=[],fe=[];for(let me=0;me<m;me++){const pe=me/m,Ae=g*Math.cos(pe*Math.PI/2),Ce=v*Math.sin(pe*Math.PI/2)+y;for(let ke=0,nt=z.length;ke<nt;ke++){const Je=$(z[ke],L[ke],Ce);Q(Je.x,Je.y,-Ae),pe===0&&ne.push(Je)}for(let ke=0,nt=F;ke<nt;ke++){const Je=I[ke];W=B[ke];const re=[];for(let Z=0,ve=Je.length;Z<ve;Z++){const Se=$(Je[Z],W[Z],Ce);Q(Se.x,Se.y,-Ae),pe===0&&re.push(Se)}pe===0&&fe.push(re)}}Y=wa.triangulateShape(ne,fe)}const ie=Y.length,ae=v+y;for(let ne=0;ne<V;ne++){const fe=f?$(N[ne],G[ne],ae):N[ne];b?(A.copy(S.normals[0]).multiplyScalar(fe.x),C.copy(S.binormals[0]).multiplyScalar(fe.y),M.copy(_[0]).add(A).add(C),Q(M.x,M.y,M.z)):Q(fe.x,fe.y,0)}for(let ne=1;ne<=d;ne++)for(let fe=0;fe<V;fe++){const me=f?$(N[fe],G[fe],ae):N[fe];b?(A.copy(S.normals[ne]).multiplyScalar(me.x),C.copy(S.binormals[ne]).multiplyScalar(me.y),M.copy(_[ne]).add(A).add(C),Q(M.x,M.y,M.z)):Q(me.x,me.y,u/d*ne)}for(let ne=m-1;ne>=0;ne--){const fe=ne/m,me=g*Math.cos(fe*Math.PI/2),pe=v*Math.sin(fe*Math.PI/2)+y;for(let Ae=0,Ce=z.length;Ae<Ce;Ae++){const ke=$(z[Ae],L[Ae],pe);Q(ke.x,ke.y,u+me)}for(let Ae=0,Ce=I.length;Ae<Ce;Ae++){const ke=I[Ae];W=B[Ae];for(let nt=0,Je=ke.length;nt<Je;nt++){const re=$(ke[nt],W[nt],pe);b?Q(re.x,re.y+_[d-1].y,_[d-1].x+me):Q(re.x,re.y,u+me)}}}se(),U();function se(){const ne=i.length/3;if(f){let fe=0,me=V*fe;for(let pe=0;pe<ie;pe++){const Ae=Y[pe];ee(Ae[2]+me,Ae[1]+me,Ae[0]+me)}fe=d+m*2,me=V*fe;for(let pe=0;pe<ie;pe++){const Ae=Y[pe];ee(Ae[0]+me,Ae[1]+me,Ae[2]+me)}}else{for(let fe=0;fe<ie;fe++){const me=Y[fe];ee(me[2],me[1],me[0])}for(let fe=0;fe<ie;fe++){const me=Y[fe];ee(me[0]+V*d,me[1]+V*d,me[2]+V*d)}}r.addGroup(ne,i.length/3-ne,0)}function U(){const ne=i.length/3;let fe=0;K(z,fe),fe+=z.length;for(let me=0,pe=I.length;me<pe;me++){const Ae=I[me];K(Ae,fe),fe+=Ae.length}r.addGroup(ne,i.length/3-ne,1)}function K(ne,fe){let me=ne.length;for(;--me>=0;){const pe=me;let Ae=me-1;Ae<0&&(Ae=ne.length-1);for(let Ce=0,ke=d+m*2;Ce<ke;Ce++){const nt=V*Ce,Je=V*(Ce+1),re=fe+pe+nt,Z=fe+Ae+nt,ve=fe+Ae+Je,Se=fe+pe+Je;ue(re,Z,ve,Se)}}}function Q(ne,fe,me){l.push(ne),l.push(fe),l.push(me)}function ee(ne,fe,me){J(ne),J(fe),J(me);const pe=i.length/3,Ae=x.generateTopUV(r,i,pe-3,pe-2,pe-1);q(Ae[0]),q(Ae[1]),q(Ae[2])}function ue(ne,fe,me,pe){J(ne),J(fe),J(pe),J(fe),J(me),J(pe);const Ae=i.length/3,Ce=x.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);q(Ce[0]),q(Ce[1]),q(Ce[3]),q(Ce[1]),q(Ce[2]),q(Ce[3])}function J(ne){i.push(l[ne*3+0]),i.push(l[ne*3+1]),i.push(l[ne*3+2])}function q(ne){s.push(ne.x),s.push(ne.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Ult(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new WM[i.type]().fromJSON(i)),new EP(r,e.options)}}const Blt={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],d=e[i*3+1];return[new ze(s,o),new ze(a,l),new ze(c,d)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],d=e[r*3+1],u=e[r*3+2],f=e[i*3],g=e[i*3+1],v=e[i*3+2],y=e[s*3],m=e[s*3+1],p=e[s*3+2];return Math.abs(a-d)<Math.abs(o-c)?[new ze(o,1-l),new ze(c,1-u),new ze(f,1-v),new ze(y,1-p)]:[new ze(a,1-l),new ze(d,1-u),new ze(g,1-v),new ze(m,1-p)]}};function Ult(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class CP extends kd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new CP(e.radius,e.detail)}}class MP extends tn{constructor(e=[new ze(0,-.5),new ze(.5,0),new ze(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Ht(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],d=1/n,u=new le,f=new ze,g=new le,v=new le,y=new le;let m=0,p=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:m=e[x+1].x-e[x].x,p=e[x+1].y-e[x].y,g.x=p*1,g.y=-m,g.z=p*0,y.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:m=e[x+1].x-e[x].x,p=e[x+1].y-e[x].y,g.x=p*1,g.y=-m,g.z=p*0,v.copy(g),g.x+=y.x,g.y+=y.y,g.z+=y.z,g.normalize(),l.push(g.x,g.y,g.z),y.copy(v)}for(let x=0;x<=n;x++){const _=r+x*d*i,b=Math.sin(_),S=Math.cos(_);for(let C=0;C<=e.length-1;C++){u.x=e[C].x*b,u.y=e[C].y,u.z=e[C].x*S,o.push(u.x,u.y,u.z),f.x=x/n,f.y=C/(e.length-1),a.push(f.x,f.y);const A=l[3*C+0]*b,M=l[3*C+1],T=l[3*C+0]*S;c.push(A,M,T)}}for(let x=0;x<n;x++)for(let _=0;_<e.length-1;_++){const b=_+x*e.length,S=b,C=b+e.length,A=b+e.length+1,M=b+1;s.push(S,C,M),s.push(A,M,C)}this.setIndex(s),this.setAttribute("position",new Et(o,3)),this.setAttribute("uv",new Et(a,2)),this.setAttribute("normal",new Et(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new MP(e.points,e.segments,e.phiStart,e.phiLength)}}class Ib extends kd{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new Ib(e.radius,e.detail)}}class $v extends tn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,d=l+1,u=e/a,f=n/l,g=[],v=[],y=[],m=[];for(let p=0;p<d;p++){const x=p*f-o;for(let _=0;_<c;_++){const b=_*u-s;v.push(b,-x,0),y.push(0,0,1),m.push(_/a),m.push(1-p/l)}}for(let p=0;p<l;p++)for(let x=0;x<a;x++){const _=x+c*p,b=x+c*(p+1),S=x+1+c*(p+1),C=x+1+c*p;g.push(_,b,C),g.push(b,S,C)}this.setIndex(g),this.setAttribute("position",new Et(v,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $v(e.width,e.height,e.widthSegments,e.heightSegments)}}class AP extends tn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],d=[];let u=e;const f=(n-e)/i,g=new le,v=new ze;for(let y=0;y<=i;y++){for(let m=0;m<=r;m++){const p=s+m/r*o;g.x=u*Math.cos(p),g.y=u*Math.sin(p),l.push(g.x,g.y,g.z),c.push(0,0,1),v.x=(g.x/n+1)/2,v.y=(g.y/n+1)/2,d.push(v.x,v.y)}u+=f}for(let y=0;y<i;y++){const m=y*(r+1);for(let p=0;p<r;p++){const x=p+m,_=x,b=x+r+1,S=x+r+2,C=x+1;a.push(_,b,C),a.push(b,S,C)}}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(d,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new AP(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class TP extends tn{constructor(e=new Qf([new ze(0,.5),new ze(-.5,-.5),new ze(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let d=0;d<e.length;d++)c(e[d]),this.addGroup(a,l,d),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Et(i,3)),this.setAttribute("normal",new Et(s,3)),this.setAttribute("uv",new Et(o,2));function c(d){const u=i.length/3,f=d.extractPoints(n);let g=f.shape;const v=f.holes;wa.isClockWise(g)===!1&&(g=g.reverse());for(let m=0,p=v.length;m<p;m++){const x=v[m];wa.isClockWise(x)===!0&&(v[m]=x.reverse())}const y=wa.triangulateShape(g,v);for(let m=0,p=v.length;m<p;m++){const x=v[m];g=g.concat(x)}for(let m=0,p=g.length;m<p;m++){const x=g[m];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let m=0,p=y.length;m<p;m++){const x=y[m],_=x[0]+u,b=x[1]+u,S=x[2]+u;r.push(_,b,S),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return zlt(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new TP(r,e.curveSegments)}}function zlt(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class kb extends tn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const d=[],u=new le,f=new le,g=[],v=[],y=[],m=[];for(let p=0;p<=r;p++){const x=[],_=p/r;let b=0;p===0&&o===0?b=.5/n:p===r&&l===Math.PI&&(b=-.5/n);for(let S=0;S<=n;S++){const C=S/n;u.x=-e*Math.cos(i+C*s)*Math.sin(o+_*a),u.y=e*Math.cos(o+_*a),u.z=e*Math.sin(i+C*s)*Math.sin(o+_*a),v.push(u.x,u.y,u.z),f.copy(u).normalize(),y.push(f.x,f.y,f.z),m.push(C+b,1-_),x.push(c++)}d.push(x)}for(let p=0;p<r;p++)for(let x=0;x<n;x++){const _=d[p][x+1],b=d[p][x],S=d[p+1][x],C=d[p+1][x+1];(p!==0||o>0)&&g.push(_,b,C),(p!==r-1||l<Math.PI)&&g.push(b,S,C)}this.setIndex(g),this.setAttribute("position",new Et(v,3)),this.setAttribute("normal",new Et(y,3)),this.setAttribute("uv",new Et(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new kb(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class PP extends kd{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new PP(e.radius,e.detail)}}class NP extends tn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],d=new le,u=new le,f=new le;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const y=v/i*s,m=g/r*Math.PI*2;u.x=(e+n*Math.cos(m))*Math.cos(y),u.y=(e+n*Math.cos(m))*Math.sin(y),u.z=n*Math.sin(m),a.push(u.x,u.y,u.z),d.x=e*Math.cos(y),d.y=e*Math.sin(y),f.subVectors(u,d).normalize(),l.push(f.x,f.y,f.z),c.push(v/i),c.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const y=(i+1)*g+v-1,m=(i+1)*(g-1)+v-1,p=(i+1)*(g-1)+v,x=(i+1)*g+v;o.push(y,m,x),o.push(m,p,x)}this.setIndex(o),this.setAttribute("position",new Et(a,3)),this.setAttribute("normal",new Et(l,3)),this.setAttribute("uv",new Et(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new NP(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class RP extends tn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],d=[],u=new le,f=new le,g=new le,v=new le,y=new le,m=new le,p=new le;for(let _=0;_<=r;++_){const b=_/r*s*Math.PI*2;x(b,s,o,e,g),x(b+.01,s,o,e,v),m.subVectors(v,g),p.addVectors(v,g),y.crossVectors(m,p),p.crossVectors(y,m),y.normalize(),p.normalize();for(let S=0;S<=i;++S){const C=S/i*Math.PI*2,A=-n*Math.cos(C),M=n*Math.sin(C);u.x=g.x+(A*p.x+M*y.x),u.y=g.y+(A*p.y+M*y.y),u.z=g.z+(A*p.z+M*y.z),l.push(u.x,u.y,u.z),f.subVectors(u,g).normalize(),c.push(f.x,f.y,f.z),d.push(_/r),d.push(S/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const S=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),A=(i+1)*_+b,M=(i+1)*(_-1)+b;a.push(S,C,M),a.push(C,A,M)}this.setIndex(a),this.setAttribute("position",new Et(l,3)),this.setAttribute("normal",new Et(c,3)),this.setAttribute("uv",new Et(d,2));function x(_,b,S,C,A){const M=Math.cos(_),T=Math.sin(_),N=S/b*_,I=Math.cos(N);A.x=C*(2+I)*.5*M,A.y=C*(2+I)*T*.5,A.z=C*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new RP(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class OP extends tn{constructor(e=new IB(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new le,l=new le,c=new ze;let d=new le;const u=[],f=[],g=[],v=[];y(),this.setIndex(v),this.setAttribute("position",new Et(u,3)),this.setAttribute("normal",new Et(f,3)),this.setAttribute("uv",new Et(g,2));function y(){for(let _=0;_<n;_++)m(_);m(s===!1?n:0),x(),p()}function m(_){d=e.getPointAt(_/n,d);const b=o.normals[_],S=o.binormals[_];for(let C=0;C<=i;C++){const A=C/i*Math.PI*2,M=Math.sin(A),T=-Math.cos(A);l.x=T*b.x+M*S.x,l.y=T*b.y+M*S.y,l.z=T*b.z+M*S.z,l.normalize(),f.push(l.x,l.y,l.z),a.x=d.x+r*l.x,a.y=d.y+r*l.y,a.z=d.z+r*l.z,u.push(a.x,a.y,a.z)}}function p(){for(let _=1;_<=n;_++)for(let b=1;b<=i;b++){const S=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),A=(i+1)*_+b,M=(i+1)*(_-1)+b;v.push(S,C,M),v.push(C,A,M)}}function x(){for(let _=0;_<=n;_++)for(let b=0;b<=i;b++)c.x=_/n,c.y=b/i,g.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new OP(new WM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class gde extends tn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new le,s=new le;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,d=l.length;c<d;++c){const u=l[c],f=u.start,g=u.count;for(let v=f,y=f+g;v<y;v+=3)for(let m=0;m<3;m++){const p=a.getX(v+m),x=a.getX(v+(m+1)%3);i.fromBufferAttribute(o,p),s.fromBufferAttribute(o,x),JG(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const d=3*a+c,u=3*a+(c+1)%3;i.fromBufferAttribute(o,d),s.fromBufferAttribute(o,u),JG(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Et(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function JG(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var e7=Object.freeze({__proto__:null,BoxGeometry:Vh,CapsuleGeometry:_P,CircleGeometry:bP,ConeGeometry:Ob,CylinderGeometry:Rb,DodecahedronGeometry:wP,EdgesGeometry:ode,ExtrudeGeometry:EP,IcosahedronGeometry:CP,LatheGeometry:MP,OctahedronGeometry:Ib,PlaneGeometry:$v,PolyhedronGeometry:kd,RingGeometry:AP,ShapeGeometry:TP,SphereGeometry:kb,TetrahedronGeometry:PP,TorusGeometry:NP,TorusKnotGeometry:RP,TubeGeometry:OP,WireframeGeometry:gde});class vde extends Vi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class yde extends Ho{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class DB extends Vi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new co,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xde extends DB{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new ze(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ht(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ht(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ht(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class _de extends Vi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new co,this.combine=Ab,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class bde extends Vi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class wde extends Vi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Sde extends Vi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new co,this.combine=Ab,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class LB extends Vi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Iue,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class jB extends Vi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Ede extends Vi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Od,this.normalScale=new ze(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Cde extends ls{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function kf(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Mde(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ade(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function wL(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function FB(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function $lt(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],d=c.getValueSize(),u=[],f=[];for(let g=0;g<c.times.length;++g){const v=c.times[g]*i;if(!(v<n||v>=r)){u.push(c.times[g]);for(let y=0;y<d;++y)f.push(c.values[g*d+y])}}u.length!==0&&(c.times=kf(u,c.times.constructor),c.values=kf(f,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Hlt(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(p){return p.name===a.name&&p.ValueTypeName===l});if(c===void 0)continue;let d=0;const u=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=u/3);let f=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=g/3);const v=a.times.length-1;let y;if(s<=a.times[0]){const p=d,x=u-d;y=a.values.slice(p,x)}else if(s>=a.times[v]){const p=v*u+d,x=p+u-d;y=a.values.slice(p,x)}else{const p=a.createInterpolant(),x=d,_=u-d;p.evaluate(s),y=p.resultBuffer.slice(x,_)}l==="quaternion"&&new zi().fromArray(y).normalize().conjugate().toArray(y);const m=c.times.length;for(let p=0;p<m;++p){const x=p*g+f;if(l==="quaternion")zi.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const _=g-f*2;for(let b=0;b<_;++b)c.values[x+b]-=y[b]}}}return t.blendMode=gB,t}class Vlt{static convertArray(e,n){return kf(e,n)}static isTypedArray(e){return Mde(e)}static getKeyframeOrder(e){return Ade(e)}static sortedArray(e,n,r){return wL(e,n,r)}static flattenJSON(e,n,r,i){FB(e,n,r,i)}static subclip(e,n,r,i,s=30){return $lt(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return Hlt(e,n,r,i)}}class Db{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Tde extends Db{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Of,endingEnd:Of}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case If:s=e,a=2*n-r;break;case g_:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case If:o=e,l=2*r-n;break;case g_:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,d=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*d,this._offsetNext=o*d}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=this._offsetPrev,u=this._offsetNext,f=this._weightPrev,g=this._weightNext,v=(r-n)/(i-n),y=v*v,m=y*v,p=-f*m+2*f*y-f*v,x=(1+f)*m+(-1.5-2*f)*y+(-.5+f)*v+1,_=(-1-g)*m+(1.5+g)*y+.5*v,b=g*m-g*y;for(let S=0;S!==a;++S)s[S]=p*o[d+S]+x*o[c+S]+_*o[l+S]+b*o[u+S];return s}}class BB extends Db{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,d=(r-n)/(i-n),u=1-d;for(let f=0;f!==a;++f)s[f]=o[c+f]*u+o[l+f]*d;return s}}class Pde extends Db{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class qo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=kf(n,this.TimeBufferType),this.values=kf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:kf(e.times,Array),values:kf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Pde(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new BB(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Tde(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case m_:n=this.InterpolantFactoryMethodDiscrete;break;case $M:n=this.InterpolantFactoryMethodLinear;break;case KS:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return m_;case this.InterpolantFactoryMethodLinear:return $M;case this.InterpolantFactoryMethodSmooth:return KS}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Mde(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===KS,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],d=e[a+1];if(c!==d&&(a!==1||c!==e[0]))if(i)l=!0;else{const u=a*r,f=u-r,g=u+r;for(let v=0;v!==r;++v){const y=n[u+v];if(y!==n[f+v]||y!==n[g+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const u=a*r,f=o*r;for(let g=0;g!==r;++g)n[f+g]=n[u+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}qo.prototype.ValueTypeName="";qo.prototype.TimeBufferType=Float32Array;qo.prototype.ValueBufferType=Float32Array;qo.prototype.DefaultInterpolation=$M;class Wh extends qo{constructor(e,n,r){super(e,n,r)}}Wh.prototype.ValueTypeName="bool";Wh.prototype.ValueBufferType=Array;Wh.prototype.DefaultInterpolation=m_;Wh.prototype.InterpolantFactoryMethodLinear=void 0;Wh.prototype.InterpolantFactoryMethodSmooth=void 0;class UB extends qo{constructor(e,n,r,i){super(e,n,r,i)}}UB.prototype.ValueTypeName="color";class E_ extends qo{constructor(e,n,r,i){super(e,n,r,i)}}E_.prototype.ValueTypeName="number";class Nde extends Db{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let d=c+a;c!==d;c+=4)zi.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Lb extends qo{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new Nde(this.times,this.values,this.getValueSize(),e)}}Lb.prototype.ValueTypeName="quaternion";Lb.prototype.InterpolantFactoryMethodSmooth=void 0;class Gh extends qo{constructor(e,n,r){super(e,n,r)}}Gh.prototype.ValueTypeName="string";Gh.prototype.ValueBufferType=Array;Gh.prototype.DefaultInterpolation=m_;Gh.prototype.InterpolantFactoryMethodLinear=void 0;Gh.prototype.InterpolantFactoryMethodSmooth=void 0;class C_ extends qo{constructor(e,n,r,i){super(e,n,r,i)}}C_.prototype.ValueTypeName="vector";class M_{constructor(e="",n=-1,r=[],i=dP){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=so(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(Glt(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)n.push(qo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const d=Ade(l);l=wL(l,1,d),c=wL(c,1,d),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new E_(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],d=c.name.match(s);if(d&&d.length>1){const u=d[1];let f=i[u];f||(i[u]=f=[]),f.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(u,f,g,v,y){if(g.length!==0){const m=[],p=[];FB(g,m,p,v),m.length!==0&&y.push(new u(f,m,p))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let u=0;u<c.length;u++){const f=c[u].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const g={};let v;for(v=0;v<f.length;v++)if(f[v].morphTargets)for(let y=0;y<f[v].morphTargets.length;y++)g[f[v].morphTargets[y]]=-1;for(const y in g){const m=[],p=[];for(let x=0;x!==f[v].morphTargets.length;++x){const _=f[v];m.push(_.time),p.push(_.morphTarget===y?1:0)}i.push(new E_(".morphTargetInfluence["+y+"]",m,p))}l=g.length*o}else{const g=".bones["+n[u].name+"]";r(C_,g+".position",f,"pos",i),r(Lb,g+".quaternion",f,"rot",i),r(C_,g+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Wlt(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return E_;case"vector":case"vector2":case"vector3":case"vector4":return C_;case"color":return UB;case"quaternion":return Lb;case"bool":case"boolean":return Wh;case"string":return Gh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Glt(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Wlt(t.type);if(t.times===void 0){const n=[],r=[];FB(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const fl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class zB{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.abortController=new AbortController,this.itemStart=function(d){a++,s===!1&&i.onStart!==void 0&&i.onStart(d,o,a),s=!0},this.itemEnd=function(d){o++,i.onProgress!==void 0&&i.onProgress(d,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(d){i.onError!==void 0&&i.onError(d)},this.resolveURL=function(d){return l?l(d):d},this.setURLModifier=function(d){return l=d,this},this.addHandler=function(d,u){return c.push(d,u),this},this.removeHandler=function(d){const u=c.indexOf(d);return u!==-1&&c.splice(u,2),this},this.getHandler=function(d){for(let u=0,f=c.length;u<f;u+=2){const g=c[u],v=c[u+1];if(g.global&&(g.lastIndex=0),g.test(d))return v}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const Rde=new zB;class Ls{constructor(e){this.manager=e!==void 0?e:Rde,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ls.DEFAULT_MATERIAL_NAME="__DEFAULT";const ic={};class Xlt extends Error{constructor(e,n){super(e),this.response=n}}class zc extends Ls{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=fl.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ic[e]!==void 0){ic[e].push({onLoad:n,onProgress:r,onError:i});return}ic[e]=[],ic[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const d=ic[e],u=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),g=f?parseInt(f):0,v=g!==0;let y=0;const m=new ReadableStream({start(p){x();function x(){u.read().then(({done:_,value:b})=>{if(_)p.close();else{y+=b.byteLength;const S=new ProgressEvent("progress",{lengthComputable:v,loaded:y,total:g});for(let C=0,A=d.length;C<A;C++){const M=d[C];M.onProgress&&M.onProgress(S)}p.enqueue(b),x()}},_=>{p.error(_)})}}});return new Response(m)}else throw new Xlt(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(d=>new DOMParser().parseFromString(d,a));case"json":return c.json();default:if(a==="")return c.text();{const u=/charset="?([^;"\s]*)"?/i.exec(a),f=u&&u[1]?u[1].toLowerCase():void 0,g=new TextDecoder(f);return c.arrayBuffer().then(v=>g.decode(v))}}}).then(c=>{fl.add(`file:${e}`,c);const d=ic[e];delete ic[e];for(let u=0,f=d.length;u<f;u++){const g=d[u];g.onLoad&&g.onLoad(c)}}).catch(c=>{const d=ic[e];if(d===void 0)throw this.manager.itemError(e),c;delete ic[e];for(let u=0,f=d.length;u<f;u++){const g=d[u];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class qlt extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new zc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=M_.parse(e[r]);n.push(i)}return n}}class Klt extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new xP,l=new zc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function d(u){l.load(e[u],function(f){const g=s.parse(f,!0);o[u]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=Jr),a.image=o,a.format=g.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let u=0,f=e.length;u<f;++u)d(u);else l.load(e,function(u){const f=s.parse(u,!0);if(f.isCubemap){const g=f.mipmaps.length/f.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)o[v].mipmaps.push(f.mipmaps[v*f.mipmapCount+y]),o[v].format=f.format,o[v].width=f.width,o[v].height=f.height}a.image=o}else a.image.width=f.width,a.image.height=f.height,a.mipmaps=f.mipmaps;f.mipmapCount===1&&(a.minFilter=Jr),a.format=f.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}const $p=new WeakMap;class A_ extends Ls{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fl.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let u=$p.get(o);u===void 0&&(u=[],$p.set(o,u)),u.push({onLoad:n,onError:i})}return o}const a=x_("img");function l(){d(),n&&n(this);const u=$p.get(this)||[];for(let f=0;f<u.length;f++){const g=u[f];g.onLoad&&g.onLoad(this)}$p.delete(this),s.manager.itemEnd(e)}function c(u){d(),i&&i(u),fl.remove(`image:${e}`);const f=$p.get(this)||[];for(let g=0;g<f.length;g++){const v=f[g];v.onError&&v.onError(u)}$p.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function d(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),fl.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class Ylt extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=new Nb;s.colorSpace=xs;const o=new A_(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(d){s.images[c]=d,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class Zlt extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new bl,a=new zc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(d){if(i!==void 0)i(d);else{console.error(d);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Lo,o.wrapT=c.wrapT!==void 0?c.wrapT:Lo,o.magFilter=c.magFilter!==void 0?c.magFilter:Jr,o.minFilter=c.minFilter!==void 0?c.minFilter:Jr,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=dl),c.mipmapCount===1&&(o.minFilter=Jr),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class Qlt extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=new Ar,o=new A_(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Dd extends bn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ht(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Ode extends Dd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(bn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ht(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const oO=new Gt,t7=new le,n7=new le;class $B{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new ze(512,512),this.mapType=$o,this.map=null,this.mapPass=null,this.matrix=new Gt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new zv,this._frameExtents=new ze(1,1),this._viewportCount=1,this._viewports=[new xn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;t7.setFromMatrixPosition(e.matrixWorld),n.position.copy(t7),n7.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(n7),n.updateMatrixWorld(),oO.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(oO,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(oO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Jlt extends $B{constructor(){super(new mr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=nv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Ide extends Dd{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(bn.DEFAULT_UP),this.updateMatrix(),this.target=new bn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new Jlt}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const r7=new Gt,Zy=new le,aO=new le;class ect extends $B{constructor(){super(new mr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new ze(4,2),this._viewportCount=6,this._viewports=[new xn(2,1,1,1),new xn(0,1,1,1),new xn(3,1,1,1),new xn(1,1,1,1),new xn(3,0,1,1),new xn(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Zy.setFromMatrixPosition(e.matrixWorld),r.position.copy(Zy),aO.copy(r.position),aO.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(aO),r.updateMatrixWorld(),i.makeTranslation(-Zy.x,-Zy.y,-Zy.z),r7.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(r7,r.coordinateSystem,r.reversedDepth)}}class kde extends Dd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new ect}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wl extends Pb{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,d=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=d*this.view.offsetY,l=a-d*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class tct extends $B{constructor(){super(new wl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Dde extends Dd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(bn.DEFAULT_UP),this.updateMatrix(),this.target=new bn,this.shadow=new tct}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Lde extends Dd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class jde extends Dd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Fde{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Bde extends Dd{constructor(e=new Fde,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class IP extends Ls{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new zc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ht().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ht().setHex(o.value);break;case"v2":i.uniforms[s].value=new ze().fromArray(o.value);break;case"v3":i.uniforms[s].value=new le().fromArray(o.value);break;case"v4":i.uniforms[s].value=new xn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Jt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Gt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new ze().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new ze().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return IP.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:vde,SpriteMaterial:EB,RawShaderMaterial:yde,ShaderMaterial:Ho,PointsMaterial:MB,MeshPhysicalMaterial:xde,MeshStandardMaterial:DB,MeshPhongMaterial:_de,MeshToonMaterial:bde,MeshNormalMaterial:wde,MeshLambertMaterial:Sde,MeshDepthMaterial:LB,MeshDistanceMaterial:jB,MeshBasicMaterial:Id,MeshMatcapMaterial:Ede,LineDashedMaterial:Cde,LineBasicMaterial:ls,Material:Vi};return new n[e]}}class SL{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Ude extends tn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class zde extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new zc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,v){if(n[v]!==void 0)return n[v];const m=g.interleavedBuffers[v],p=s(g,m.buffer),x=_m(m.type,p),_=new gP(x,m.stride);return _.uuid=m.uuid,n[v]=_,_}function s(g,v){if(r[v]!==void 0)return r[v];const m=g.arrayBuffers[v],p=new Uint32Array(m).buffer;return r[v]=p,p}const o=e.isInstancedBufferGeometry?new Ude:new tn,a=e.data.index;if(a!==void 0){const g=_m(a.type,a.array);o.setIndex(new $n(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let y;if(v.isInterleavedBufferAttribute){const m=i(e.data,v.data);y=new Mh(m,v.itemSize,v.offset,v.normalized)}else{const m=_m(v.type,v.array),p=v.isInstancedBufferAttribute?iv:$n;y=new p(m,v.itemSize,v.normalized)}v.name!==void 0&&(y.name=v.name),v.usage!==void 0&&y.setUsage(v.usage),o.setAttribute(g,y)}const c=e.data.morphAttributes;if(c)for(const g in c){const v=c[g],y=[];for(let m=0,p=v.length;m<p;m++){const x=v[m];let _;if(x.isInterleavedBufferAttribute){const b=i(e.data,x.data);_=new Mh(b,x.itemSize,x.offset,x.normalized)}else{const b=_m(x.type,x.array);_=new $n(b,x.itemSize,x.normalized)}x.name!==void 0&&(_.name=x.name),y.push(_)}o.morphAttributes[g]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const u=e.data.groups||e.data.drawcalls||e.data.offsets;if(u!==void 0)for(let g=0,v=u.length;g!==v;++g){const y=u[g];o.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;return f!==void 0&&(o.boundingSphere=new wi().fromJSON(f)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class nct extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?SL.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new zc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(u){i!==void 0&&i(u),console.error("THREE:ObjectLoader: Can't parse "+e+".",u.message);return}const d=c.metadata;if(d===void 0||d.type===void 0||d.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?SL.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new zc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),d=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,d),this.bindLightTargets(c),n!==void 0){let u=!1;for(const f in o)if(o[f].data instanceof HTMLImageElement){u=!0;break}u===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Qf().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new vP().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new zde;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in e7?a=e7[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new IP;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=M_.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(d)}else return l.data?{data:_m(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new zB(n);s=new A_(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,d=e.length;c<d;c++){const u=e[c],f=u.url;if(Array.isArray(f)){const g=[];for(let v=0,y=f.length;v<y;v++){const m=f[v],p=a(m);p!==null&&(p instanceof HTMLImageElement?g.push(p):g.push(new bl(p.data,p.width,p.height)))}i[u.uuid]=new Yu(g)}else{const g=a(u.url);i[u.uuid]=new Yu(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:_m(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new A_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const d=[];for(let u=0,f=c.length;u<f;u++){const g=c[u],v=await s(g);v!==null&&(v instanceof HTMLImageElement?d.push(v):d.push(new bl(v.data,v.width,v.height)))}r[l.uuid]=new Yu(d)}else{const d=await s(l.url);r[l.uuid]=new Yu(d)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let d;Array.isArray(c)?(d=new Nb,c.length===6&&(d.needsUpdate=!0)):(c&&c.data?d=new bl:d=new Ar,c&&(d.needsUpdate=!0)),d.source=l,d.uuid=a.uuid,a.name!==void 0&&(d.name=a.name),a.mapping!==void 0&&(d.mapping=r(a.mapping,rct)),a.channel!==void 0&&(d.channel=a.channel),a.offset!==void 0&&d.offset.fromArray(a.offset),a.repeat!==void 0&&d.repeat.fromArray(a.repeat),a.center!==void 0&&d.center.fromArray(a.center),a.rotation!==void 0&&(d.rotation=a.rotation),a.wrap!==void 0&&(d.wrapS=r(a.wrap[0],i7),d.wrapT=r(a.wrap[1],i7)),a.format!==void 0&&(d.format=a.format),a.internalFormat!==void 0&&(d.internalFormat=a.internalFormat),a.type!==void 0&&(d.type=a.type),a.colorSpace!==void 0&&(d.colorSpace=a.colorSpace),a.minFilter!==void 0&&(d.minFilter=r(a.minFilter,s7)),a.magFilter!==void 0&&(d.magFilter=r(a.magFilter,s7)),a.anisotropy!==void 0&&(d.anisotropy=a.anisotropy),a.flipY!==void 0&&(d.flipY=a.flipY),a.generateMipmaps!==void 0&&(d.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(d.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(d.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(d.compareFunction=a.compareFunction),a.userData!==void 0&&(d.userData=a.userData),i[a.uuid]=d}return i}parseObject(e,n,r,i,s){let o;function a(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const g=[];for(let v=0,y=f.length;v<y;v++){const m=f[v];r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),g.push(r[m])}return g}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let d,u;switch(e.type){case"Scene":o=new SB,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ht(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new mP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new pP(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new mr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new wl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Lde(e.color,e.intensity);break;case"DirectionalLight":o=new Dde(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new kde(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new jde(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Ide(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Ode(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Bde().fromJSON(e);break;case"SkinnedMesh":d=a(e.geometry),u=l(e.material),o=new ede(d,u),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":d=a(e.geometry),u=l(e.material),o=new Ur(d,u);break;case"InstancedMesh":d=a(e.geometry),u=l(e.material);const f=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new tde(d,u,f),o.instanceMatrix=new iv(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new iv(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":d=a(e.geometry),u=l(e.material),o=new nde(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,u),o.geometry=d,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(y=>{let m=null,p=null;return y.boundingBox!==void 0&&(m=new $i().fromJSON(y.boundingBox)),y.boundingSphere!==void 0&&(p=new wi().fromJSON(y.boundingSphere)),{...y,boundingBox:m,boundingSphere:p}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new wi().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new $i().fromJSON(e.boundingBox));break;case"LOD":o=new Jue;break;case"Line":o=new vd(a(e.geometry),l(e.material));break;case"LineLoop":o=new rde(a(e.geometry),l(e.material));break;case"LineSegments":o=new $l(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new ide(a(e.geometry),l(e.material));break;case"Sprite":o=new Que(l(e.material));break;case"Group":o=new bm;break;case"Bone":o=new CB;break;default:o=new bn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let g=0;g<f.length;g++)o.add(this.parseObject(f[g],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let g=0;g<f.length;g++){const v=f[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const f=e.levels;for(let g=0;g<f.length;g++){const v=f[g],y=o.getObjectByProperty("uuid",v.object);y!==void 0&&o.addLevel(y,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new bn}})}}const rct={UVMapping:iP,CubeReflectionMapping:Bc,CubeRefractionMapping:gd,EquirectangularReflectionMapping:d_,EquirectangularRefractionMapping:f_,CubeUVReflectionMapping:Bv},i7={RepeatWrapping:h_,ClampToEdgeWrapping:Lo,MirroredRepeatWrapping:p_},s7={NearestFilter:bi,NearestMipmapNearestFilter:lB,NearestMipmapLinearFilter:xm,LinearFilter:Jr,LinearMipmapNearestFilter:F0,LinearMipmapLinearFilter:dl},lO=new WeakMap;class ict extends Ls{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=fl.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{if(lO.has(o)===!0)i&&i(lO.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return fl.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),lO.set(l,c),fl.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});fl.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let lS;class HB{static getContext(){return lS===void 0&&(lS=new(window.AudioContext||window.webkitAudioContext)),lS}static setContext(e){lS=e}}class sct extends Ls{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new zc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);HB.getContext().decodeAudioData(c,function(u){n(u)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const o7=new Gt,a7=new Gt,nf=new Gt;class oct{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new mr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new mr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,nf.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Yf*n.fov*.5)/n.zoom;let a,l;a7.elements[12]=-i,o7.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,nf.elements[0]=2*n.near/(l-a),nf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(nf),a=-o*n.aspect-s,l=o*n.aspect-s,nf.elements[0]=2*n.near/(l-a),nf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(nf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(a7),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(o7)}}class $de extends mr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class VB{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const rf=new le,cO=new zi,act=new le,sf=new le,of=new le;class lct extends bn{constructor(){super(),this.type="AudioListener",this.context=HB.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new VB}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(rf,cO,act),sf.set(0,0,-1).applyQuaternion(cO),of.set(0,1,0).applyQuaternion(cO),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(rf.x,r),n.positionY.linearRampToValueAtTime(rf.y,r),n.positionZ.linearRampToValueAtTime(rf.z,r),n.forwardX.linearRampToValueAtTime(sf.x,r),n.forwardY.linearRampToValueAtTime(sf.y,r),n.forwardZ.linearRampToValueAtTime(sf.z,r),n.upX.linearRampToValueAtTime(of.x,r),n.upY.linearRampToValueAtTime(of.y,r),n.upZ.linearRampToValueAtTime(of.z,r)}else n.setPosition(rf.x,rf.y,rf.z),n.setOrientation(sf.x,sf.y,sf.z,of.x,of.y,of.z)}}class Hde extends bn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const af=new le,l7=new zi,cct=new le,lf=new le;class uct extends Hde{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(af,l7,cct),lf.set(0,0,1).applyQuaternion(l7);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(af.x,r),n.positionY.linearRampToValueAtTime(af.y,r),n.positionZ.linearRampToValueAtTime(af.z,r),n.orientationX.linearRampToValueAtTime(lf.x,r),n.orientationY.linearRampToValueAtTime(lf.y,r),n.orientationZ.linearRampToValueAtTime(lf.z,r)}else n.setPosition(af.x,af.y,af.z),n.setOrientation(lf.x,lf.y,lf.z)}}class dct{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Vde{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){zi.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;zi.multiplyQuaternionsFlat(e,o,e,n,e,r),zi.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const WB="\\[\\]\\.:\\/",fct=new RegExp("["+WB+"]","g"),GB="[^"+WB+"]",hct="[^"+WB.replace("\\.","")+"]",pct=/((?:WC+[\/:])*)/.source.replace("WC",GB),mct=/(WCOD+)?/.source.replace("WCOD",hct),gct=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",GB),vct=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",GB),yct=new RegExp("^"+pct+mct+gct+vct+"$"),xct=["material","materials","bones","map"];class _ct{constructor(e,n,r){const i=r||gn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class gn{constructor(e,n,r){this.path=n,this.parsedPath=r||gn.parseTrackName(n),this.node=gn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new gn.Composite(e,n,r):new gn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(fct,"")}static parseTrackName(e){const n=yct.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);xct.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=gn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let d=0;d<e.length;d++)if(e[d].name===c){c=d;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}gn.Composite=_ct;gn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};gn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};gn.prototype.GetterByBindingType=[gn.prototype._getValue_direct,gn.prototype._getValue_array,gn.prototype._getValue_arrayElement,gn.prototype._getValue_toArray];gn.prototype.SetterByBindingTypeAndVersioning=[[gn.prototype._setValue_direct,gn.prototype._setValue_direct_setNeedsUpdate,gn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_array,gn.prototype._setValue_array_setNeedsUpdate,gn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_arrayElement,gn.prototype._setValue_arrayElement_setNeedsUpdate,gn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[gn.prototype._setValue_fromArray,gn.prototype._setValue_fromArray_setNeedsUpdate,gn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class bct{constructor(){this.isAnimationObjectGroup=!0,this.uuid=so(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let d=0,u=arguments.length;d!==u;++d){const f=arguments[d],g=f.uuid;let v=n[g];if(v===void 0){v=l++,n[g]=v,e.push(f);for(let y=0,m=o;y!==m;++y)s[y].push(new gn(f,r[y],i[y]))}else if(v<c){a=e[v];const y=--c,m=e[y];n[m.uuid]=v,e[v]=m,n[g]=y,e[y]=f;for(let p=0,x=o;p!==x;++p){const _=s[p],b=_[y];let S=_[v];_[v]=b,S===void 0&&(S=new gn(f,r[p],i[p])),_[y]=S}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,d=n[c];if(d!==void 0&&d>=s){const u=s++,f=e[u];n[f.uuid]=d,e[d]=f,n[c]=u,e[u]=l;for(let g=0,v=i;g!==v;++g){const y=r[g],m=y[u],p=y[d];y[d]=m,y[u]=p}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],d=c.uuid,u=n[d];if(u!==void 0)if(delete n[d],u<s){const f=--s,g=e[f],v=--o,y=e[v];n[g.uuid]=u,e[u]=g,n[y.uuid]=f,e[f]=y,e.pop();for(let m=0,p=i;m!==p;++m){const x=r[m],_=x[f],b=x[v];x[u]=_,x[f]=b,x.pop()}}else{const f=--o,g=e[f];f>0&&(n[g.uuid]=u),e[u]=g,e.pop();for(let v=0,y=i;v!==y;++v){const m=r[v];m[u]=m[f],m.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,d=this.nCachedObjects_,u=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(u);for(let f=d,g=l.length;f!==g;++f){const v=l[f];u[f]=new gn(v,e,n)}return u}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Wde{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Of,endingEnd:Of};for(let c=0;c!==o;++c){const d=s[c].createInterpolant(null);a[c]=d,d.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Rue,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case gB:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulateAdditive(a);break;case dP:default:for(let d=0,u=l.length;d!==u;++d)l[d].evaluate(o),c[d].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Oue;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===Nue){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=If,i.endingEnd=If):(e?i.endingStart=this.zeroSlopeAtStart?If:Of:i.endingStart=g_,n?i.endingEnd=this.zeroSlopeAtEnd?If:Of:i.endingEnd=g_)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const wct=new Float32Array(1);class Sct extends zl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let d=c[l];d===void 0&&(d={},c[l]=d);for(let u=0;u!==s;++u){const f=i[u],g=f.name;let v=d[g];if(v!==void 0)++v.referenceCount,o[u]=v;else{if(v=o[u],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const y=n&&n._propertyBindings[u].binding.parsedPath;v=new Vde(gn.create(r,g,y),f.ValueTypeName,f.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),o[u]=v}a[u].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],d=e._byClipCacheIndex;c._byClipCacheIndex=d,l[d]=c,l.pop(),e._byClipCacheIndex=null;const u=a.actionByRoot,f=(e._localRoot||this._root).uuid;delete u[f],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new BB(new Float32Array(2),new Float32Array(2),1,wct),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?M_.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=dP),l!==void 0){const u=l.actionByRoot[s];if(u!==void 0&&u.blendMode===r)return u;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const d=new Wde(this,o,n,r);return this._bindAction(d,c),this._addInactiveAction(d,a,s),d}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?M_.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const d=c._cacheIndex,u=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,u._cacheIndex=d,n[d]=u,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Ect extends xB{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new hP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class XB{constructor(e){this.value=e}clone(){return new XB(this.value.clone===void 0?this.value:this.value.clone())}}let Cct=0;class Mct extends zl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Cct++}),this.name="",this.usage=y_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Act extends gP{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Tct{constructor(e,n,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const c7=new Gt;class Gde{constructor(e,n,r=0,i=1/0){this.ray=new Hh(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Zf,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return c7.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(c7),this}intersectObject(e,n=!0,r=[]){return EL(e,this,r,n),r.sort(u7),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)EL(e[i],this,r,n);return r.sort(u7),r}}function u7(t,e){return t.distance-e.distance}function EL(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)EL(s[o],e,n,!0)}}class Pct{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=Nct.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function Nct(){this._document.hidden===!1&&this.reset()}class CL{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Ht(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Ht(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Rct{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class qB{constructor(e,n,r,i){qB.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const d7=new ze;class Oct{constructor(e=new ze(1/0,1/0),n=new ze(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=d7.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,d7).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const f7=new le,cS=new le,Hp=new le,Vp=new le,uO=new le,Ict=new le,kct=new le;class Dct{constructor(e=new le,n=new le){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){f7.subVectors(e,this.start),cS.subVectors(this.end,this.start);const r=cS.dot(cS);let s=cS.dot(f7)/r;return n&&(s=Ht(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=Ict,r=kct){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,c=this.end,d=e.end;Hp.subVectors(c,a),Vp.subVectors(d,l),uO.subVectors(a,l);const u=Hp.dot(Hp),f=Vp.dot(Vp),g=Vp.dot(uO);if(u<=i&&f<=i)return n.copy(a),r.copy(l),n.sub(r),n.dot(n);if(u<=i)s=0,o=g/f,o=Ht(o,0,1);else{const v=Hp.dot(uO);if(f<=i)o=0,s=Ht(-v/u,0,1);else{const y=Hp.dot(Vp),m=u*f-y*y;m!==0?s=Ht((y*g-v*f)/m,0,1):s=0,o=(y*s+g)/f,o<0?(o=0,s=Ht(-v/u,0,1)):o>1&&(o=1,s=Ht((y-v)/u,0,1))}}return n.copy(a).add(Hp.multiplyScalar(s)),r.copy(l).add(Vp.multiplyScalar(o)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const h7=new le;class Lct extends bn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new tn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,d=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(d),Math.sin(d),1)}r.setAttribute("position",new Et(i,3));const s=new ls({fog:!1,toneMapped:!1});this.cone=new $l(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),h7.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(h7),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Eu=new le,uS=new Gt,dO=new Gt;class jct extends $l{constructor(e){const n=Xde(e),r=new tn,i=[],s=[];for(let c=0;c<n.length;c++){const d=n[c];d.parent&&d.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Et(i,3)),r.setAttribute("color",new Et(s,3));const o=new ls({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new ht(255),l=new ht(65280);this.setColors(a,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");dO.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(uS.multiplyMatrices(dO,a.matrixWorld),Eu.setFromMatrixPosition(uS),i.setXYZ(o,Eu.x,Eu.y,Eu.z),uS.multiplyMatrices(dO,a.parent.matrixWorld),Eu.setFromMatrixPosition(uS),i.setXYZ(o+1,Eu.x,Eu.y,Eu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xde(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...Xde(t.children[n]));return e}class Fct extends Ur{constructor(e,n,r){const i=new kb(n,4,2),s=new Id({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Bct=new le,p7=new ht,m7=new ht;class Uct extends bn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new Ib(n);i.rotateY(Math.PI*.5),this.material=new Id({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new $n(o,3)),this.add(new Ur(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");p7.copy(this.light.color),m7.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?p7:m7;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Bct.setFromMatrixPosition(this.light.matrixWorld).negate())}}class zct extends $l{constructor(e=10,n=10,r=4473924,i=8947848){r=new ht(r),i=new ht(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let f=0,g=0,v=-a;f<=n;f++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const y=f===s?r:i;y.toArray(c,g),g+=3,y.toArray(c,g),g+=3,y.toArray(c,g),g+=3,y.toArray(c,g),g+=3}const d=new tn;d.setAttribute("position",new Et(l,3)),d.setAttribute("color",new Et(c,3));const u=new ls({vertexColors:!0,toneMapped:!1});super(d,u),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class $ct extends $l{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new ht(s),o=new ht(o);const a=[],l=[];if(n>1)for(let u=0;u<n;u++){const f=u/n*(Math.PI*2),g=Math.sin(f)*e,v=Math.cos(f)*e;a.push(0,0,0),a.push(g,0,v);const y=u&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let u=0;u<r;u++){const f=u&1?s:o,g=e-e/r*u;for(let v=0;v<i;v++){let y=v/i*(Math.PI*2),m=Math.sin(y)*g,p=Math.cos(y)*g;a.push(m,0,p),l.push(f.r,f.g,f.b),y=(v+1)/i*(Math.PI*2),m=Math.sin(y)*g,p=Math.cos(y)*g,a.push(m,0,p),l.push(f.r,f.g,f.b)}}const c=new tn;c.setAttribute("position",new Et(a,3)),c.setAttribute("color",new Et(l,3));const d=new ls({vertexColors:!0,toneMapped:!1});super(c,d),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const g7=new le,dS=new le,v7=new le;class Hct extends bn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new tn;i.setAttribute("position",new Et([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ls({fog:!1,toneMapped:!1});this.lightPlane=new vd(i,s),this.add(this.lightPlane),i=new tn,i.setAttribute("position",new Et([0,0,0,0,0,1],3)),this.targetLine=new vd(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),g7.setFromMatrixPosition(this.light.matrixWorld),dS.setFromMatrixPosition(this.light.target.matrixWorld),v7.subVectors(dS,g7),this.lightPlane.lookAt(dS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(dS),this.targetLine.scale.z=v7.length()}}const fS=new le,wr=new Pb;class Vct extends $l{constructor(e){const n=new tn,r=new ls({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,y){l(v),l(y)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new Et(i,3)),n.setAttribute("color",new Et(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ht(16755200),d=new ht(16711680),u=new ht(43775),f=new ht(16777215),g=new ht(3355443);this.setColors(c,d,u,f,g)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,o;if(wr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===eo)s=-1,o=1;else if(this.camera.coordinateSystem===tv)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Pr("c",n,e,wr,0,0,s),Pr("t",n,e,wr,0,0,o),Pr("n1",n,e,wr,-r,-i,s),Pr("n2",n,e,wr,r,-i,s),Pr("n3",n,e,wr,-r,i,s),Pr("n4",n,e,wr,r,i,s),Pr("f1",n,e,wr,-r,-i,o),Pr("f2",n,e,wr,r,-i,o),Pr("f3",n,e,wr,-r,i,o),Pr("f4",n,e,wr,r,i,o),Pr("u1",n,e,wr,r*.7,i*1.1,s),Pr("u2",n,e,wr,-r*.7,i*1.1,s),Pr("u3",n,e,wr,0,i*2,s),Pr("cf1",n,e,wr,-r,0,o),Pr("cf2",n,e,wr,r,0,o),Pr("cf3",n,e,wr,0,-i,o),Pr("cf4",n,e,wr,0,i,o),Pr("cn1",n,e,wr,-r,0,s),Pr("cn2",n,e,wr,r,0,s),Pr("cn3",n,e,wr,0,-i,s),Pr("cn4",n,e,wr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Pr(t,e,n,r,i,s,o){fS.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,d=a.length;c<d;c++)l.setXYZ(a[c],fS.x,fS.y,fS.z)}}const hS=new $i;class Wct extends $l{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new tn;s.setIndex(new $n(r,1)),s.setAttribute("position",new $n(i,3)),super(s,new ls({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&hS.setFromObject(this.object),hS.isEmpty())return;const e=hS.min,n=hS.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Gct extends $l{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new tn;s.setIndex(new $n(r,1)),s.setAttribute("position",new Et(i,3)),super(s,new ls({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Xct extends vd{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new tn;o.setAttribute("position",new Et(s,3)),o.computeBoundingSphere(),super(o,new ls({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new tn;l.setAttribute("position",new Et(a,3)),l.computeBoundingSphere(),this.add(new Ur(l,new Id({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const y7=new le;let pS,fO;class qct extends bn{constructor(e=new le(0,0,1),n=new le(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",pS===void 0&&(pS=new tn,pS.setAttribute("position",new Et([0,0,0,0,1,0],3)),fO=new Ob(.5,1,5,1),fO.translate(0,-.5,0)),this.position.copy(n),this.line=new vd(pS,new ls({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ur(fO,new Id({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{y7.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(y7,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Kct extends $l{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new tn;i.setAttribute("position",new Et(n,3)),i.setAttribute("color",new Et(r,3));const s=new ls({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new ht,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yct{constructor(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new GM,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(p){const x=[];for(let _=0,b=p.length;_<b;_++){const S=p[_],C=new Qf;C.curves=S.curves,x.push(C)}return x}function r(p,x){const _=x.length;let b=!1;for(let S=_-1,C=0;C<_;S=C++){let A=x[S],M=x[C],T=M.x-A.x,N=M.y-A.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(A=x[C],T=-T,M=x[S],N=-N),p.y<A.y||p.y>M.y)continue;if(p.y===A.y){if(p.x===A.x)return!0}else{const I=N*(p.x-A.x)-T*(p.y-A.y);if(I===0)return!0;if(I<0)continue;b=!b}}else{if(p.y!==A.y)continue;if(M.x<=p.x&&p.x<=A.x||A.x<=p.x&&p.x<=M.x)return!0}}return b}const i=wa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new Qf,l.curves=a.curves,c.push(l),c;let d=!i(s[0].getPoints());d=e?!d:d;const u=[],f=[];let g=[],v=0,y;f[v]=void 0,g[v]=[];for(let p=0,x=s.length;p<x;p++)a=s[p],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!d&&f[v]&&v++,f[v]={s:new Qf,p:y},f[v].s.curves=a.curves,d&&v++,g[v]=[]):g[v].push({h:a,p:y[0]});if(!f[0])return n(s);if(f.length>1){let p=!1,x=0;for(let _=0,b=f.length;_<b;_++)u[_]=[];for(let _=0,b=f.length;_<b;_++){const S=g[_];for(let C=0;C<S.length;C++){const A=S[C];let M=!0;for(let T=0;T<f.length;T++)r(A.p,f[T].p)&&(_!==T&&x++,M?(M=!1,u[T].push(A)):p=!0);M&&u[_].push(A)}}x>0&&p===!1&&(g=u)}let m;for(let p=0,x=f.length;p<x;p++){l=f[p].s,c.push(l),m=g[p];for(let _=0,b=m.length;_<b;_++)l.holes.push(m[_].h)}return c}}class Zct extends zl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function Qct(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function Jct(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function eut(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function ML(t,e,n,r){const i=tut(r);switch(n){case hB:return t*e;case lP:return t*e/i.components*i.byteLength;case Tb:return t*e/i.components*i.byteLength;case mB:return t*e*2/i.components*i.byteLength;case cP:return t*e*2/i.components*i.byteLength;case pB:return t*e*3/i.components*i.byteLength;case Bi:return t*e*4/i.components*i.byteLength;case uP:return t*e*4/i.components*i.byteLength;case B0:case U0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case z0:case $0:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case mM:case vM:return Math.max(t,16)*Math.max(e,8)/4;case pM:case gM:return Math.max(t,8)*Math.max(e,8)/2;case yM:case xM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case _M:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case bM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case wM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case SM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case EM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case CM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case MM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case AM:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case TM:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case PM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case NM:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case RM:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case OM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case IM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case kM:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case DM:case LM:case jM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case FM:case BM:return Math.ceil(t/4)*Math.ceil(e/4)*8;case UM:case zM:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function tut(t){switch(t){case $o:case cB:return{byteLength:1,components:1};case Zg:case uB:case Uv:return{byteLength:2,components:1};case oP:case aP:return{byteLength:2,components:4};case Uc:case sP:case Ms:return{byteLength:4,components:1};case dB:case fB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class nut{static contain(e,n){return Qct(e,n)}static cover(e,n){return Jct(e,n)}static fill(e){return eut(e)}static getByteLength(e,n,r,i){return ML(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Mb}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Mb);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function qde(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function rut(t){const e=new WeakMap;function n(a,l){const c=a.array,d=a.usage,u=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,d),a.onUploadCallback();let g;if(c instanceof Float32Array)g=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)g=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)g=t.SHORT;else if(c instanceof Uint32Array)g=t.UNSIGNED_INT;else if(c instanceof Int32Array)g=t.INT;else if(c instanceof Int8Array)g=t.BYTE;else if(c instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:g,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:u}}function r(a,l,c){const d=l.array,u=l.updateRanges;if(t.bindBuffer(c,a),u.length===0)t.bufferSubData(c,0,d);else{u.sort((g,v)=>g.start-v.start);let f=0;for(let g=1;g<u.length;g++){const v=u[f],y=u[g];y.start<=v.start+v.count+1?v.count=Math.max(v.count,y.start+y.count-v.start):(++f,u[f]=y)}u.length=f+1;for(let g=0,v=u.length;g<v;g++){const y=u[g];t.bufferSubData(c,y.start*d.BYTES_PER_ELEMENT,d,y.start,y.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const d=e.get(a);(!d||d.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var iut=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,sut=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,out=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,aut=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lut=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,cut=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,uut=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,dut=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,fut=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,hut=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,put=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,mut=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,gut=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,vut=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,yut=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,xut=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,_ut=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,but=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,wut=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Sut=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Eut=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Cut=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Mut=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Aut=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Tut=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Put=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Nut=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Rut=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Out=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Iut=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,kut="gl_FragColor = linearToOutputTexel( gl_FragColor );",Dut=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Lut=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jut=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Fut=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,But=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Uut=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,zut=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,$ut=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Hut=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Vut=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Wut=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Gut=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Xut=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,qut=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Kut=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Yut=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Zut=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Qut=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Jut=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,edt=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,tdt=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,ndt=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,rdt=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,idt=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,sdt=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,odt=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,adt=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ldt=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,cdt=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,udt=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ddt=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fdt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,hdt=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,pdt=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,mdt=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,gdt=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,vdt=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,ydt=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,xdt=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,_dt=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,bdt=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,wdt=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Sdt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Edt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Cdt=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Mdt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Adt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Tdt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Pdt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Ndt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Rdt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Odt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Idt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,kdt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Ddt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ldt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,jdt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Fdt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Bdt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Udt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,zdt=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,$dt=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Hdt=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Vdt=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Wdt=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Gdt=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Xdt=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,qdt=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Kdt=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Ydt=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Zdt=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Qdt=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Jdt=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,eft=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,tft=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,nft=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const rft=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,ift=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oft=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,lft=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cft=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,uft=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,dft=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fft=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,hft=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,pft=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,mft=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,gft=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vft=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,yft=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xft=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_ft=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bft=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,wft=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sft=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Eft=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Cft=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mft=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aft=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Tft=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pft=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nft=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Rft=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Oft=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ift=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kft=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dft=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Lft=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,rn={alphahash_fragment:iut,alphahash_pars_fragment:sut,alphamap_fragment:out,alphamap_pars_fragment:aut,alphatest_fragment:lut,alphatest_pars_fragment:cut,aomap_fragment:uut,aomap_pars_fragment:dut,batching_pars_vertex:fut,batching_vertex:hut,begin_vertex:put,beginnormal_vertex:mut,bsdfs:gut,iridescence_fragment:vut,bumpmap_pars_fragment:yut,clipping_planes_fragment:xut,clipping_planes_pars_fragment:_ut,clipping_planes_pars_vertex:but,clipping_planes_vertex:wut,color_fragment:Sut,color_pars_fragment:Eut,color_pars_vertex:Cut,color_vertex:Mut,common:Aut,cube_uv_reflection_fragment:Tut,defaultnormal_vertex:Put,displacementmap_pars_vertex:Nut,displacementmap_vertex:Rut,emissivemap_fragment:Out,emissivemap_pars_fragment:Iut,colorspace_fragment:kut,colorspace_pars_fragment:Dut,envmap_fragment:Lut,envmap_common_pars_fragment:jut,envmap_pars_fragment:Fut,envmap_pars_vertex:But,envmap_physical_pars_fragment:Yut,envmap_vertex:Uut,fog_vertex:zut,fog_pars_vertex:$ut,fog_fragment:Hut,fog_pars_fragment:Vut,gradientmap_pars_fragment:Wut,lightmap_pars_fragment:Gut,lights_lambert_fragment:Xut,lights_lambert_pars_fragment:qut,lights_pars_begin:Kut,lights_toon_fragment:Zut,lights_toon_pars_fragment:Qut,lights_phong_fragment:Jut,lights_phong_pars_fragment:edt,lights_physical_fragment:tdt,lights_physical_pars_fragment:ndt,lights_fragment_begin:rdt,lights_fragment_maps:idt,lights_fragment_end:sdt,logdepthbuf_fragment:odt,logdepthbuf_pars_fragment:adt,logdepthbuf_pars_vertex:ldt,logdepthbuf_vertex:cdt,map_fragment:udt,map_pars_fragment:ddt,map_particle_fragment:fdt,map_particle_pars_fragment:hdt,metalnessmap_fragment:pdt,metalnessmap_pars_fragment:mdt,morphinstance_vertex:gdt,morphcolor_vertex:vdt,morphnormal_vertex:ydt,morphtarget_pars_vertex:xdt,morphtarget_vertex:_dt,normal_fragment_begin:bdt,normal_fragment_maps:wdt,normal_pars_fragment:Sdt,normal_pars_vertex:Edt,normal_vertex:Cdt,normalmap_pars_fragment:Mdt,clearcoat_normal_fragment_begin:Adt,clearcoat_normal_fragment_maps:Tdt,clearcoat_pars_fragment:Pdt,iridescence_pars_fragment:Ndt,opaque_fragment:Rdt,packing:Odt,premultiplied_alpha_fragment:Idt,project_vertex:kdt,dithering_fragment:Ddt,dithering_pars_fragment:Ldt,roughnessmap_fragment:jdt,roughnessmap_pars_fragment:Fdt,shadowmap_pars_fragment:Bdt,shadowmap_pars_vertex:Udt,shadowmap_vertex:zdt,shadowmask_pars_fragment:$dt,skinbase_vertex:Hdt,skinning_pars_vertex:Vdt,skinning_vertex:Wdt,skinnormal_vertex:Gdt,specularmap_fragment:Xdt,specularmap_pars_fragment:qdt,tonemapping_fragment:Kdt,tonemapping_pars_fragment:Ydt,transmission_fragment:Zdt,transmission_pars_fragment:Qdt,uv_pars_fragment:Jdt,uv_pars_vertex:eft,uv_vertex:tft,worldpos_vertex:nft,background_vert:rft,background_frag:ift,backgroundCube_vert:sft,backgroundCube_frag:oft,cube_vert:aft,cube_frag:lft,depth_vert:cft,depth_frag:uft,distanceRGBA_vert:dft,distanceRGBA_frag:fft,equirect_vert:hft,equirect_frag:pft,linedashed_vert:mft,linedashed_frag:gft,meshbasic_vert:vft,meshbasic_frag:yft,meshlambert_vert:xft,meshlambert_frag:_ft,meshmatcap_vert:bft,meshmatcap_frag:wft,meshnormal_vert:Sft,meshnormal_frag:Eft,meshphong_vert:Cft,meshphong_frag:Mft,meshphysical_vert:Aft,meshphysical_frag:Tft,meshtoon_vert:Pft,meshtoon_frag:Nft,points_vert:Rft,points_frag:Oft,shadow_vert:Ift,shadow_frag:kft,sprite_vert:Dft,sprite_frag:Lft},ut={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jt}},envmap:{envMap:{value:null},envMapRotation:{value:new Jt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jt},normalScale:{value:new ze(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0},uvTransform:{value:new Jt}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new ze(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}}},va={basic:{uniforms:Ki([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.fog]),vertexShader:rn.meshbasic_vert,fragmentShader:rn.meshbasic_frag},lambert:{uniforms:Ki([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,ut.lights,{emissive:{value:new ht(0)}}]),vertexShader:rn.meshlambert_vert,fragmentShader:rn.meshlambert_frag},phong:{uniforms:Ki([ut.common,ut.specularmap,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,ut.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:rn.meshphong_vert,fragmentShader:rn.meshphong_frag},standard:{uniforms:Ki([ut.common,ut.envmap,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.roughnessmap,ut.metalnessmap,ut.fog,ut.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag},toon:{uniforms:Ki([ut.common,ut.aomap,ut.lightmap,ut.emissivemap,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.gradientmap,ut.fog,ut.lights,{emissive:{value:new ht(0)}}]),vertexShader:rn.meshtoon_vert,fragmentShader:rn.meshtoon_frag},matcap:{uniforms:Ki([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,ut.fog,{matcap:{value:null}}]),vertexShader:rn.meshmatcap_vert,fragmentShader:rn.meshmatcap_frag},points:{uniforms:Ki([ut.points,ut.fog]),vertexShader:rn.points_vert,fragmentShader:rn.points_frag},dashed:{uniforms:Ki([ut.common,ut.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:rn.linedashed_vert,fragmentShader:rn.linedashed_frag},depth:{uniforms:Ki([ut.common,ut.displacementmap]),vertexShader:rn.depth_vert,fragmentShader:rn.depth_frag},normal:{uniforms:Ki([ut.common,ut.bumpmap,ut.normalmap,ut.displacementmap,{opacity:{value:1}}]),vertexShader:rn.meshnormal_vert,fragmentShader:rn.meshnormal_frag},sprite:{uniforms:Ki([ut.sprite,ut.fog]),vertexShader:rn.sprite_vert,fragmentShader:rn.sprite_frag},background:{uniforms:{uvTransform:{value:new Jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:rn.background_vert,fragmentShader:rn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Jt}},vertexShader:rn.backgroundCube_vert,fragmentShader:rn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:rn.cube_vert,fragmentShader:rn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:rn.equirect_vert,fragmentShader:rn.equirect_frag},distanceRGBA:{uniforms:Ki([ut.common,ut.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:rn.distanceRGBA_vert,fragmentShader:rn.distanceRGBA_frag},shadow:{uniforms:Ki([ut.lights,ut.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:rn.shadow_vert,fragmentShader:rn.shadow_frag}};va.physical={uniforms:Ki([va.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jt},clearcoatNormalScale:{value:new ze(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jt},sheen:{value:0},sheenColor:{value:new ht(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jt},transmissionSamplerSize:{value:new ze},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jt},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)},specularColor:{value:new ht(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jt},anisotropyVector:{value:new ze},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Jt}}]),vertexShader:rn.meshphysical_vert,fragmentShader:rn.meshphysical_frag};const mS={r:0,b:0,g:0},cf=new co,jft=new Gt;function Fft(t,e,n,r,i,s,o){const a=new ht(0);let l=s===!0?0:1,c,d,u=null,f=0,g=null;function v(_){let b=_.isScene===!0?_.background:null;return b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b)),b}function y(_){let b=!1;const S=v(_);S===null?p(a,l):S&&S.isColor&&(p(S,1),b=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function m(_,b){const S=v(b);S&&(S.isCubeTexture||S.mapping===Bv)?(d===void 0&&(d=new Ur(new Vh(1,1,1),new Ho({name:"BackgroundCubeMaterial",uniforms:rv(va.backgroundCube.uniforms),vertexShader:va.backgroundCube.vertexShader,fragmentShader:va.backgroundCube.fragmentShader,side:Ui,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),d.geometry.deleteAttribute("normal"),d.geometry.deleteAttribute("uv"),d.onBeforeRender=function(C,A,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(d.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(d)),cf.copy(b.backgroundRotation),cf.x*=-1,cf.y*=-1,cf.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(cf.y*=-1,cf.z*=-1),d.material.uniforms.envMap.value=S,d.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,d.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,d.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,d.material.uniforms.backgroundRotation.value.setFromMatrix4(jft.makeRotationFromEuler(cf)),d.material.toneMapped=hn.getTransfer(S.colorSpace)!==jn,(u!==S||f!==S.version||g!==t.toneMapping)&&(d.material.needsUpdate=!0,u=S,f=S.version,g=t.toneMapping),d.layers.enableAll(),_.unshift(d,d.geometry,d.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new Ur(new $v(2,2),new Ho({name:"BackgroundMaterial",uniforms:rv(va.background.uniforms),vertexShader:va.background.vertexShader,fragmentShader:va.background.fragmentShader,side:Fc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=hn.getTransfer(S.colorSpace)!==jn,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(u!==S||f!==S.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,u=S,f=S.version,g=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function p(_,b){_.getRGB(mS,que(t)),r.buffers.color.setClear(mS.r,mS.g,mS.b,b,o)}function x(){d!==void 0&&(d.geometry.dispose(),d.material.dispose(),d=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(_,b=1){a.set(_),l=b,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,p(a,l)},render:y,addToRenderList:m,dispose:x}}function Bft(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,o=!1;function a(N,I,k,j,F){let z=!1;const $=u(j,k,I);s!==$&&(s=$,c(s.object)),z=g(N,j,k,F),z&&v(N,j,k,F),F!==null&&e.update(F,t.ELEMENT_ARRAY_BUFFER),(z||o)&&(o=!1,b(N,I,k,j),F!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return t.createVertexArray()}function c(N){return t.bindVertexArray(N)}function d(N){return t.deleteVertexArray(N)}function u(N,I,k){const j=k.wireframe===!0;let F=r[N.id];F===void 0&&(F={},r[N.id]=F);let z=F[I.id];z===void 0&&(z={},F[I.id]=z);let $=z[j];return $===void 0&&($=f(l()),z[j]=$),$}function f(N){const I=[],k=[],j=[];for(let F=0;F<n;F++)I[F]=0,k[F]=0,j[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:k,attributeDivisors:j,object:N,attributes:{},index:null}}function g(N,I,k,j){const F=s.attributes,z=I.attributes;let $=0;const V=k.getAttributes();for(const R in V)if(V[R].location>=0){const B=F[R];let W=z[R];if(W===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(W=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(W=N.instanceColor)),B===void 0||B.attribute!==W||W&&B.data!==W.data)return!0;$++}return s.attributesNum!==$||s.index!==j}function v(N,I,k,j){const F={},z=I.attributes;let $=0;const V=k.getAttributes();for(const R in V)if(V[R].location>=0){let B=z[R];B===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(B=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(B=N.instanceColor));const W={};W.attribute=B,B&&B.data&&(W.data=B.data),F[R]=W,$++}s.attributes=F,s.attributesNum=$,s.index=j}function y(){const N=s.newAttributes;for(let I=0,k=N.length;I<k;I++)N[I]=0}function m(N){p(N,0)}function p(N,I){const k=s.newAttributes,j=s.enabledAttributes,F=s.attributeDivisors;k[N]=1,j[N]===0&&(t.enableVertexAttribArray(N),j[N]=1),F[N]!==I&&(t.vertexAttribDivisor(N,I),F[N]=I)}function x(){const N=s.newAttributes,I=s.enabledAttributes;for(let k=0,j=I.length;k<j;k++)I[k]!==N[k]&&(t.disableVertexAttribArray(k),I[k]=0)}function _(N,I,k,j,F,z,$){$===!0?t.vertexAttribIPointer(N,I,k,F,z):t.vertexAttribPointer(N,I,k,j,F,z)}function b(N,I,k,j){y();const F=j.attributes,z=k.getAttributes(),$=I.defaultAttributeValues;for(const V in z){const R=z[V];if(R.location>=0){let L=F[V];if(L===void 0&&(V==="instanceMatrix"&&N.instanceMatrix&&(L=N.instanceMatrix),V==="instanceColor"&&N.instanceColor&&(L=N.instanceColor)),L!==void 0){const B=L.normalized,W=L.itemSize,G=e.get(L);if(G===void 0)continue;const Y=G.buffer,ie=G.type,ae=G.bytesPerElement,se=ie===t.INT||ie===t.UNSIGNED_INT||L.gpuType===sP;if(L.isInterleavedBufferAttribute){const U=L.data,K=U.stride,Q=L.offset;if(U.isInstancedInterleavedBuffer){for(let ee=0;ee<R.locationSize;ee++)p(R.location+ee,U.meshPerAttribute);N.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=U.meshPerAttribute*U.count)}else for(let ee=0;ee<R.locationSize;ee++)m(R.location+ee);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let ee=0;ee<R.locationSize;ee++)_(R.location+ee,W/R.locationSize,ie,B,K*ae,(Q+W/R.locationSize*ee)*ae,se)}else{if(L.isInstancedBufferAttribute){for(let U=0;U<R.locationSize;U++)p(R.location+U,L.meshPerAttribute);N.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=L.meshPerAttribute*L.count)}else for(let U=0;U<R.locationSize;U++)m(R.location+U);t.bindBuffer(t.ARRAY_BUFFER,Y);for(let U=0;U<R.locationSize;U++)_(R.location+U,W/R.locationSize,ie,B,W*ae,W/R.locationSize*U*ae,se)}}else if($!==void 0){const B=$[V];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv(R.location,B);break;case 3:t.vertexAttrib3fv(R.location,B);break;case 4:t.vertexAttrib4fv(R.location,B);break;default:t.vertexAttrib1fv(R.location,B)}}}}x()}function S(){M();for(const N in r){const I=r[N];for(const k in I){const j=I[k];for(const F in j)d(j[F].object),delete j[F];delete I[k]}delete r[N]}}function C(N){if(r[N.id]===void 0)return;const I=r[N.id];for(const k in I){const j=I[k];for(const F in j)d(j[F].object),delete j[F];delete I[k]}delete r[N.id]}function A(N){for(const I in r){const k=r[I];if(k[N.id]===void 0)continue;const j=k[N.id];for(const F in j)d(j[F].object),delete j[F];delete k[N.id]}}function M(){T(),o=!0,s!==i&&(s=i,c(s.object))}function T(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:M,resetDefaultState:T,dispose:S,releaseStatesOfGeometry:C,releaseStatesOfProgram:A,initAttributes:y,enableAttribute:m,disableUnusedAttributes:x}}function Uft(t,e,n){let r;function i(c){r=c}function s(c,d){t.drawArrays(r,c,d),n.update(d,r,1)}function o(c,d,u){u!==0&&(t.drawArraysInstanced(r,c,d,u),n.update(d,r,u))}function a(c,d,u){if(u===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,d,0,u);let g=0;for(let v=0;v<u;v++)g+=d[v];n.update(g,r,1)}function l(c,d,u,f){if(u===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<c.length;v++)o(c[v],d[v],f[v]);else{g.multiDrawArraysInstancedWEBGL(r,c,0,d,0,f,0,u);let v=0;for(let y=0;y<u;y++)v+=d[y]*f[y];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function zft(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(A){return!(A!==Bi&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(A){const M=A===Uv&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==$o&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Ms&&!M)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const d=l(c);d!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",d,"instead."),c=d);const u=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),y=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=v>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:u,reversedDepthBuffer:f,maxTextures:g,maxVertexTextures:v,maxTextureSize:y,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:x,maxVaryings:_,maxFragmentUniforms:b,vertexTextures:S,maxSamples:C}}function $ft(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new il,a=new Jt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(u,f){const g=u.length!==0||f||r!==0||i;return i=f,r=u.length,g},this.beginShadows=function(){s=!0,d(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(u,f){n=d(u,f,0)},this.setState=function(u,f,g){const v=u.clippingPlanes,y=u.clipIntersection,m=u.clipShadows,p=t.get(u);if(!i||v===null||v.length===0||s&&!m)s?d(null):c();else{const x=s?0:r,_=x*4;let b=p.clippingState||null;l.value=b,b=d(v,f,_,g);for(let S=0;S!==_;++S)b[S]=n[S];p.clippingState=b,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function d(u,f,g,v){const y=u!==null?u.length:0;let m=null;if(y!==0){if(m=l.value,v!==!0||m===null){const p=g+y*4,x=f.matrixWorldInverse;a.getNormalMatrix(x),(m===null||m.length<p)&&(m=new Float32Array(p));for(let _=0,b=g;_!==y;++_,b+=4)o.copy(u[_]).applyMatrix4(x,a),o.normal.toArray(m,b),m[b+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,m}}function Hft(t){let e=new WeakMap;function n(o,a){return a===d_?o.mapping=Bc:a===f_&&(o.mapping=gd),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===d_||a===f_)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Yue(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const wm=4,x7=[.125,.215,.35,.446,.526,.582],Sf=20,hO=new wl,_7=new ht;let pO=null,mO=0,gO=0,vO=!1;const bf=(1+Math.sqrt(5))/2,Wp=1/bf,b7=[new le(-bf,Wp,0),new le(bf,Wp,0),new le(-Wp,0,bf),new le(Wp,0,bf),new le(0,bf,-Wp),new le(0,bf,Wp),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)],Vft=new le;class AL{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=Vft}=s;pO=this._renderer.getRenderTarget(),mO=this._renderer.getActiveCubeFace(),gO=this._renderer.getActiveMipmapLevel(),vO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=E7(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=S7(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(pO,mO,gO),this._renderer.xr.enabled=vO,e.scissorTest=!1,gS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Bc||e.mapping===gd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),pO=this._renderer.getRenderTarget(),mO=this._renderer.getActiveCubeFace(),gO=this._renderer.getActiveMipmapLevel(),vO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Jr,minFilter:Jr,generateMipmaps:!1,type:Uv,format:Bi,colorSpace:Ch,depthBuffer:!1},i=w7(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=w7(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Wft(s)),this._blurMaterial=Gft(s,e,n)}return i}_compileMaterial(e){const n=new Ur(this._lodPlanes[0],e);this._renderer.compile(n,hO)}_sceneToCubeUV(e,n,r,i,s){const l=new mr(90,1,n,r),c=[1,-1,1,1,1,1],d=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,g=u.toneMapping;u.getClearColor(_7),u.toneMapping=_l,u.autoClear=!1,u.state.buffers.depth.getReversed()&&(u.setRenderTarget(i),u.clearDepth(),u.setRenderTarget(null));const y=new Id({name:"PMREM.Background",side:Ui,depthWrite:!1,depthTest:!1}),m=new Ur(new Vh,y);let p=!1;const x=e.background;x?x.isColor&&(y.color.copy(x),e.background=null,p=!0):(y.color.copy(_7),p=!0);for(let _=0;_<6;_++){const b=_%3;b===0?(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+d[_],s.y,s.z)):b===1?(l.up.set(0,0,c[_]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+d[_],s.z)):(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+d[_]));const S=this._cubeSize;gS(i,b*S,_>2?S:0,S,S),u.setRenderTarget(i),p&&u.render(m,l),u.render(e,l)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=g,u.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Bc||e.mapping===gd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=E7()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=S7());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Ur(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;gS(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,hO)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=b7[(i-s-1)%b7.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const d=3,u=new Ur(this._lodPlanes[i],c),f=c.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*Sf-1),y=s/v,m=isFinite(s)?1+Math.floor(d*y):Sf;m>Sf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Sf}`);const p=[];let x=0;for(let A=0;A<Sf;++A){const M=A/y,T=Math.exp(-M*M/2);p.push(T),A===0?x+=T:A<m&&(x+=2*T)}for(let A=0;A<p.length;A++)p[A]=p[A]/x;f.envMap.value=e.texture,f.samples.value=m,f.weights.value=p,f.latitudinal.value=o==="latitudinal",a&&(f.poleAxis.value=a);const{_lodMax:_}=this;f.dTheta.value=v,f.mipInt.value=_-r;const b=this._sizeLods[i],S=3*b*(i>_-wm?i-_+wm:0),C=4*(this._cubeSize-b);gS(n,S,C,3*b,2*b),l.setRenderTarget(n),l.render(u,hO)}}function Wft(t){const e=[],n=[],r=[];let i=t;const s=t-wm+1+x7.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-wm?l=x7[o-t+wm-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),d=-c,u=1+c,f=[d,d,u,d,u,u,d,d,u,u,d,u],g=6,v=6,y=3,m=2,p=1,x=new Float32Array(y*v*g),_=new Float32Array(m*v*g),b=new Float32Array(p*v*g);for(let C=0;C<g;C++){const A=C%3*2/3-1,M=C>2?0:-1,T=[A,M,0,A+2/3,M,0,A+2/3,M+1,0,A,M,0,A+2/3,M+1,0,A,M+1,0];x.set(T,y*v*C),_.set(f,m*v*C);const N=[C,C,C,C,C,C];b.set(N,p*v*C)}const S=new tn;S.setAttribute("position",new $n(x,y)),S.setAttribute("uv",new $n(_,m)),S.setAttribute("faceIndex",new $n(b,p)),e.push(S),i>wm&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function w7(t,e,n){const r=new Nl(t,e,n);return r.texture.mapping=Bv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function gS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Gft(t,e,n){const r=new Float32Array(Sf),i=new le(0,1,0);return new Ho({name:"SphericalGaussianBlur",defines:{n:Sf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:KB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Cc,depthTest:!1,depthWrite:!1})}function S7(){return new Ho({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:KB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Cc,depthTest:!1,depthWrite:!1})}function E7(){return new Ho({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:KB(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Cc,depthTest:!1,depthWrite:!1})}function KB(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Xft(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===d_||l===f_,d=l===Bc||l===gd;if(c||d){let u=e.get(a);const f=u!==void 0?u.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==f)return n===null&&(n=new AL(t)),u=c?n.fromEquirectangular(a,u):n.fromCubemap(a,u),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),u.texture;if(u!==void 0)return u.texture;{const g=a.image;return c&&g&&g.height>0||d&&g&&i(g)?(n===null&&(n=new AL(t)),u=c?n.fromEquirectangular(a):n.fromCubemap(a),u.texture.pmremVersion=a.pmremVersion,e.set(a,u),a.addEventListener("dispose",s),u.texture):null}}}return a}function i(a){let l=0;const c=6;for(let d=0;d<c;d++)a[d]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function qft(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&__("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Kft(t,e,n,r){const i={},s=new WeakMap;function o(u){const f=u.target;f.index!==null&&e.remove(f.index);for(const v in f.attributes)e.remove(f.attributes[v]);f.removeEventListener("dispose",o),delete i[f.id];const g=s.get(f);g&&(e.remove(g),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function a(u,f){return i[f.id]===!0||(f.addEventListener("dispose",o),i[f.id]=!0,n.memory.geometries++),f}function l(u){const f=u.attributes;for(const g in f)e.update(f[g],t.ARRAY_BUFFER)}function c(u){const f=[],g=u.index,v=u.attributes.position;let y=0;if(g!==null){const x=g.array;y=g.version;for(let _=0,b=x.length;_<b;_+=3){const S=x[_+0],C=x[_+1],A=x[_+2];f.push(S,C,C,A,A,S)}}else if(v!==void 0){const x=v.array;y=v.version;for(let _=0,b=x.length/3-1;_<b;_+=3){const S=_+0,C=_+1,A=_+2;f.push(S,C,C,A,A,S)}}else return;const m=new(Vue(f)?bB:_B)(f,1);m.version=y;const p=s.get(u);p&&e.remove(p),s.set(u,m)}function d(u){const f=s.get(u);if(f){const g=u.index;g!==null&&f.version<g.version&&c(u)}else c(u);return s.get(u)}return{get:a,update:l,getWireframeAttribute:d}}function Yft(t,e,n){let r;function i(f){r=f}let s,o;function a(f){s=f.type,o=f.bytesPerElement}function l(f,g){t.drawElements(r,g,s,f*o),n.update(g,r,1)}function c(f,g,v){v!==0&&(t.drawElementsInstanced(r,g,s,f*o,v),n.update(g,r,v))}function d(f,g,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,f,0,v);let m=0;for(let p=0;p<v;p++)m+=g[p];n.update(m,r,1)}function u(f,g,v,y){if(v===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<f.length;p++)c(f[p]/o,g[p],y[p]);else{m.multiDrawElementsInstancedWEBGL(r,g,0,s,f,0,y,0,v);let p=0;for(let x=0;x<v;x++)p+=g[x]*y[x];n.update(p,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=d,this.renderMultiDrawInstances=u}function Zft(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Qft(t,e,n){const r=new WeakMap,i=new xn;function s(o,a,l){const c=o.morphTargetInfluences,d=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,u=d!==void 0?d.length:0;let f=r.get(a);if(f===void 0||f.count!==u){let N=function(){M.dispose(),r.delete(a),a.removeEventListener("dispose",N)};var g=N;f!==void 0&&f.texture.dispose();const v=a.morphAttributes.position!==void 0,y=a.morphAttributes.normal!==void 0,m=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],x=a.morphAttributes.normal||[],_=a.morphAttributes.color||[];let b=0;v===!0&&(b=1),y===!0&&(b=2),m===!0&&(b=3);let S=a.attributes.position.count*b,C=1;S>e.maxTextureSize&&(C=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const A=new Float32Array(S*C*4*u),M=new fP(A,S,C,u);M.type=Ms,M.needsUpdate=!0;const T=b*4;for(let I=0;I<u;I++){const k=p[I],j=x[I],F=_[I],z=S*C*4*I;for(let $=0;$<k.count;$++){const V=$*T;v===!0&&(i.fromBufferAttribute(k,$),A[z+V+0]=i.x,A[z+V+1]=i.y,A[z+V+2]=i.z,A[z+V+3]=0),y===!0&&(i.fromBufferAttribute(j,$),A[z+V+4]=i.x,A[z+V+5]=i.y,A[z+V+6]=i.z,A[z+V+7]=0),m===!0&&(i.fromBufferAttribute(F,$),A[z+V+8]=i.x,A[z+V+9]=i.y,A[z+V+10]=i.z,A[z+V+11]=F.itemSize===4?i.w:1)}}f={count:u,texture:M,size:new ze(S,C)},r.set(a,f),a.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let v=0;for(let m=0;m<c.length;m++)v+=c[m];const y=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",y),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function Jft(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,d=l.geometry,u=e.get(l,d);if(i.get(u)!==c&&(e.update(u),i.set(u,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return u}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const Kde=new Ar,C7=new AB(1,1),Yde=new fP,Zde=new hP,Qde=new Nb,M7=[],A7=[],T7=new Float32Array(16),P7=new Float32Array(9),N7=new Float32Array(4);function Hv(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=M7[i];if(s===void 0&&(s=new Float32Array(i),M7[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function ei(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ti(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function kP(t,e){let n=A7[e];n===void 0&&(n=new Int32Array(e),A7[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function eht(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function tht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ei(n,e))return;t.uniform2fv(this.addr,e),ti(n,e)}}function nht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ei(n,e))return;t.uniform3fv(this.addr,e),ti(n,e)}}function rht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ei(n,e))return;t.uniform4fv(this.addr,e),ti(n,e)}}function iht(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ei(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ti(n,e)}else{if(ei(n,r))return;N7.set(r),t.uniformMatrix2fv(this.addr,!1,N7),ti(n,r)}}function sht(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ei(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ti(n,e)}else{if(ei(n,r))return;P7.set(r),t.uniformMatrix3fv(this.addr,!1,P7),ti(n,r)}}function oht(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ei(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ti(n,e)}else{if(ei(n,r))return;T7.set(r),t.uniformMatrix4fv(this.addr,!1,T7),ti(n,r)}}function aht(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function lht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ei(n,e))return;t.uniform2iv(this.addr,e),ti(n,e)}}function cht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ei(n,e))return;t.uniform3iv(this.addr,e),ti(n,e)}}function uht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ei(n,e))return;t.uniform4iv(this.addr,e),ti(n,e)}}function dht(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function fht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ei(n,e))return;t.uniform2uiv(this.addr,e),ti(n,e)}}function hht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ei(n,e))return;t.uniform3uiv(this.addr,e),ti(n,e)}}function pht(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ei(n,e))return;t.uniform4uiv(this.addr,e),ti(n,e)}}function mht(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(C7.compareFunction=vB,s=C7):s=Kde,n.setTexture2D(e||s,i)}function ght(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Zde,i)}function vht(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Qde,i)}function yht(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Yde,i)}function xht(t){switch(t){case 5126:return eht;case 35664:return tht;case 35665:return nht;case 35666:return rht;case 35674:return iht;case 35675:return sht;case 35676:return oht;case 5124:case 35670:return aht;case 35667:case 35671:return lht;case 35668:case 35672:return cht;case 35669:case 35673:return uht;case 5125:return dht;case 36294:return fht;case 36295:return hht;case 36296:return pht;case 35678:case 36198:case 36298:case 36306:case 35682:return mht;case 35679:case 36299:case 36307:return ght;case 35680:case 36300:case 36308:case 36293:return vht;case 36289:case 36303:case 36311:case 36292:return yht}}function _ht(t,e){t.uniform1fv(this.addr,e)}function bht(t,e){const n=Hv(e,this.size,2);t.uniform2fv(this.addr,n)}function wht(t,e){const n=Hv(e,this.size,3);t.uniform3fv(this.addr,n)}function Sht(t,e){const n=Hv(e,this.size,4);t.uniform4fv(this.addr,n)}function Eht(t,e){const n=Hv(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Cht(t,e){const n=Hv(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Mht(t,e){const n=Hv(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Aht(t,e){t.uniform1iv(this.addr,e)}function Tht(t,e){t.uniform2iv(this.addr,e)}function Pht(t,e){t.uniform3iv(this.addr,e)}function Nht(t,e){t.uniform4iv(this.addr,e)}function Rht(t,e){t.uniform1uiv(this.addr,e)}function Oht(t,e){t.uniform2uiv(this.addr,e)}function Iht(t,e){t.uniform3uiv(this.addr,e)}function kht(t,e){t.uniform4uiv(this.addr,e)}function Dht(t,e,n){const r=this.cache,i=e.length,s=kP(n,i);ei(r,s)||(t.uniform1iv(this.addr,s),ti(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||Kde,s[o])}function Lht(t,e,n){const r=this.cache,i=e.length,s=kP(n,i);ei(r,s)||(t.uniform1iv(this.addr,s),ti(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||Zde,s[o])}function jht(t,e,n){const r=this.cache,i=e.length,s=kP(n,i);ei(r,s)||(t.uniform1iv(this.addr,s),ti(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||Qde,s[o])}function Fht(t,e,n){const r=this.cache,i=e.length,s=kP(n,i);ei(r,s)||(t.uniform1iv(this.addr,s),ti(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||Yde,s[o])}function Bht(t){switch(t){case 5126:return _ht;case 35664:return bht;case 35665:return wht;case 35666:return Sht;case 35674:return Eht;case 35675:return Cht;case 35676:return Mht;case 5124:case 35670:return Aht;case 35667:case 35671:return Tht;case 35668:case 35672:return Pht;case 35669:case 35673:return Nht;case 5125:return Rht;case 36294:return Oht;case 36295:return Iht;case 36296:return kht;case 35678:case 36198:case 36298:case 36306:case 35682:return Dht;case 35679:case 36299:case 36307:return Lht;case 35680:case 36300:case 36308:case 36293:return jht;case 36289:case 36303:case 36311:case 36292:return Fht}}class Uht{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=xht(n.type)}}class zht{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=Bht(n.type)}}class $ht{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const yO=/(\w+)(\])?(\[|\.)?/g;function R7(t,e){t.seq.push(e),t.map[e.id]=e}function Hht(t,e,n){const r=t.name,i=r.length;for(yO.lastIndex=0;;){const s=yO.exec(r),o=yO.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){R7(n,c===void 0?new Uht(a,t,e):new zht(a,t,e));break}else{let u=n.map[a];u===void 0&&(u=new $ht(a),R7(n,u)),n=u}}}class ZS{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Hht(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function O7(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const Vht=37297;let Wht=0;function Ght(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const I7=new Jt;function Xht(t){hn._getMatrix(I7,hn.workingColorSpace,t);const e=`mat3( ${I7.elements.map(n=>n.toFixed(4))} )`;switch(hn.getTransfer(t)){case v_:return[e,"LinearTransferOETF"];case jn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function k7(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+Ght(t.getShaderSource(e),a)}else return s}function qht(t,e){const n=Xht(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Kht(t,e){let n;switch(e){case Sue:n="Linear";break;case Eue:n="Reinhard";break;case Cue:n="Cineon";break;case aB:n="ACESFilmic";break;case Aue:n="AgX";break;case Tue:n="Neutral";break;case Mue:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const vS=new le;function Yht(){hn.getLuminanceCoefficients(vS);const t=vS.x.toFixed(4),e=vS.y.toFixed(4),n=vS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function Zht(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(m0).join(`
`)}function Qht(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Jht(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function m0(t){return t!==""}function D7(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function L7(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ept=/^[ \t]*#include +<([\w\d./]+)>/gm;function TL(t){return t.replace(ept,npt)}const tpt=new Map;function npt(t,e){let n=rn[e];if(n===void 0){const r=tpt.get(e);if(r!==void 0)n=rn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return TL(n)}const rpt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function j7(t){return t.replace(rpt,ipt)}function ipt(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function F7(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function spt(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===rP?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===j0?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===oa&&(e="SHADOWMAP_TYPE_VSM"),e}function opt(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Bc:case gd:e="ENVMAP_TYPE_CUBE";break;case Bv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function apt(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case gd:e="ENVMAP_MODE_REFRACTION";break}return e}function lpt(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Ab:e="ENVMAP_BLENDING_MULTIPLY";break;case bue:e="ENVMAP_BLENDING_MIX";break;case wue:e="ENVMAP_BLENDING_ADD";break}return e}function cpt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function upt(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=spt(n),c=opt(n),d=apt(n),u=lpt(n),f=cpt(n),g=Zht(n),v=Qht(s),y=i.createProgram();let m,p,x=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(m0).join(`
`),m.length>0&&(m+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(m0).join(`
`),p.length>0&&(p+=`
`)):(m=[F7(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(m0).join(`
`),p=[F7(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+d:"",n.envMap?"#define "+u:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==_l?"#define TONE_MAPPING":"",n.toneMapping!==_l?rn.tonemapping_pars_fragment:"",n.toneMapping!==_l?Kht("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",rn.colorspace_pars_fragment,qht("linearToOutputTexel",n.outputColorSpace),Yht(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(m0).join(`
`)),o=TL(o),o=D7(o,n),o=L7(o,n),a=TL(a),a=D7(a,n),a=L7(a,n),o=j7(o),a=j7(a),n.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,m=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,p=["#define varying in",n.glslVersion===yL?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===yL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const _=x+m+o,b=x+p+a,S=O7(i,i.VERTEX_SHADER,_),C=O7(i,i.FRAGMENT_SHADER,b);i.attachShader(y,S),i.attachShader(y,C),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function A(I){if(t.debug.checkShaderErrors){const k=i.getProgramInfoLog(y)||"",j=i.getShaderInfoLog(S)||"",F=i.getShaderInfoLog(C)||"",z=k.trim(),$=j.trim(),V=F.trim();let R=!0,L=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(R=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,S,C);else{const B=k7(i,S,"vertex"),W=k7(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+z+`
`+B+`
`+W)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):($===""||V==="")&&(L=!1);L&&(I.diagnostics={runnable:R,programLog:z,vertexShader:{log:$,prefix:m},fragmentShader:{log:V,prefix:p}})}i.deleteShader(S),i.deleteShader(C),M=new ZS(i,y),T=Jht(i,y)}let M;this.getUniforms=function(){return M===void 0&&A(this),M};let T;this.getAttributes=function(){return T===void 0&&A(this),T};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(y,Vht)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Wht++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=S,this.fragmentShader=C,this}let dpt=0;class fpt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new hpt(e),n.set(e,r)),r}}class hpt{constructor(e){this.id=dpt++,this.code=e,this.usedTimes=0}}function ppt(t,e,n,r,i,s,o){const a=new Zf,l=new fpt,c=new Set,d=[],u=i.logarithmicDepthBuffer,f=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T){return c.add(T),T===0?"uv":`uv${T}`}function m(T,N,I,k,j){const F=k.fog,z=j.geometry,$=T.isMeshStandardMaterial?k.environment:null,V=(T.isMeshStandardMaterial?n:e).get(T.envMap||$),R=V&&V.mapping===Bv?V.image.height:null,L=v[T.type];T.precision!==null&&(g=i.getMaxPrecision(T.precision),g!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",g,"instead."));const B=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,W=B!==void 0?B.length:0;let G=0;z.morphAttributes.position!==void 0&&(G=1),z.morphAttributes.normal!==void 0&&(G=2),z.morphAttributes.color!==void 0&&(G=3);let Y,ie,ae,se;if(L){const zt=va[L];Y=zt.vertexShader,ie=zt.fragmentShader}else Y=T.vertexShader,ie=T.fragmentShader,l.update(T),ae=l.getVertexShaderID(T),se=l.getFragmentShaderID(T);const U=t.getRenderTarget(),K=t.state.buffers.depth.getReversed(),Q=j.isInstancedMesh===!0,ee=j.isBatchedMesh===!0,ue=!!T.map,J=!!T.matcap,q=!!V,ne=!!T.aoMap,fe=!!T.lightMap,me=!!T.bumpMap,pe=!!T.normalMap,Ae=!!T.displacementMap,Ce=!!T.emissiveMap,ke=!!T.metalnessMap,nt=!!T.roughnessMap,Je=T.anisotropy>0,re=T.clearcoat>0,Z=T.dispersion>0,ve=T.iridescence>0,Se=T.sheen>0,Ie=T.transmission>0,Me=Je&&!!T.anisotropyMap,at=re&&!!T.clearcoatMap,He=re&&!!T.clearcoatNormalMap,st=re&&!!T.clearcoatRoughnessMap,We=ve&&!!T.iridescenceMap,$e=ve&&!!T.iridescenceThicknessMap,rt=Se&&!!T.sheenColorMap,Ct=Se&&!!T.sheenRoughnessMap,he=!!T.specularMap,Ee=!!T.specularColorMap,Ke=!!T.specularIntensityMap,ce=Ie&&!!T.transmissionMap,Ne=Ie&&!!T.thicknessMap,Be=!!T.gradientMap,Ve=!!T.alphaMap,Ue=T.alphaTest>0,Le=!!T.alphaHash,Ye=!!T.extensions;let mt=_l;T.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(mt=t.toneMapping);const jt={shaderID:L,shaderType:T.type,shaderName:T.name,vertexShader:Y,fragmentShader:ie,defines:T.defines,customVertexShaderID:ae,customFragmentShaderID:se,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:g,batching:ee,batchingColor:ee&&j._colorsTexture!==null,instancing:Q,instancingColor:Q&&j.instanceColor!==null,instancingMorph:Q&&j.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:U===null?t.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:Ch,alphaToCoverage:!!T.alphaToCoverage,map:ue,matcap:J,envMap:q,envMapMode:q&&V.mapping,envMapCubeUVHeight:R,aoMap:ne,lightMap:fe,bumpMap:me,normalMap:pe,displacementMap:f&&Ae,emissiveMap:Ce,normalMapObjectSpace:pe&&T.normalMapType===Due,normalMapTangentSpace:pe&&T.normalMapType===Od,metalnessMap:ke,roughnessMap:nt,anisotropy:Je,anisotropyMap:Me,clearcoat:re,clearcoatMap:at,clearcoatNormalMap:He,clearcoatRoughnessMap:st,dispersion:Z,iridescence:ve,iridescenceMap:We,iridescenceThicknessMap:$e,sheen:Se,sheenColorMap:rt,sheenRoughnessMap:Ct,specularMap:he,specularColorMap:Ee,specularIntensityMap:Ke,transmission:Ie,transmissionMap:ce,thicknessMap:Ne,gradientMap:Be,opaque:T.transparent===!1&&T.blending===Kf&&T.alphaToCoverage===!1,alphaMap:Ve,alphaTest:Ue,alphaHash:Le,combine:T.combine,mapUv:ue&&y(T.map.channel),aoMapUv:ne&&y(T.aoMap.channel),lightMapUv:fe&&y(T.lightMap.channel),bumpMapUv:me&&y(T.bumpMap.channel),normalMapUv:pe&&y(T.normalMap.channel),displacementMapUv:Ae&&y(T.displacementMap.channel),emissiveMapUv:Ce&&y(T.emissiveMap.channel),metalnessMapUv:ke&&y(T.metalnessMap.channel),roughnessMapUv:nt&&y(T.roughnessMap.channel),anisotropyMapUv:Me&&y(T.anisotropyMap.channel),clearcoatMapUv:at&&y(T.clearcoatMap.channel),clearcoatNormalMapUv:He&&y(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:st&&y(T.clearcoatRoughnessMap.channel),iridescenceMapUv:We&&y(T.iridescenceMap.channel),iridescenceThicknessMapUv:$e&&y(T.iridescenceThicknessMap.channel),sheenColorMapUv:rt&&y(T.sheenColorMap.channel),sheenRoughnessMapUv:Ct&&y(T.sheenRoughnessMap.channel),specularMapUv:he&&y(T.specularMap.channel),specularColorMapUv:Ee&&y(T.specularColorMap.channel),specularIntensityMapUv:Ke&&y(T.specularIntensityMap.channel),transmissionMapUv:ce&&y(T.transmissionMap.channel),thicknessMapUv:Ne&&y(T.thicknessMap.channel),alphaMapUv:Ve&&y(T.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(pe||Je),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!z.attributes.uv&&(ue||Ve),fog:!!F,useFog:T.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:T.flatShading===!0&&T.wireframe===!1,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:u,reversedDepthBuffer:K,skinning:j.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:G,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:mt,decodeVideoTexture:ue&&T.map.isVideoTexture===!0&&hn.getTransfer(T.map.colorSpace)===jn,decodeVideoTextureEmissive:Ce&&T.emissiveMap.isVideoTexture===!0&&hn.getTransfer(T.emissiveMap.colorSpace)===jn,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===xa,flipSided:T.side===Ui,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionClipCullDistance:Ye&&T.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Ye&&T.extensions.multiDraw===!0||ee)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()};return jt.vertexUv1s=c.has(1),jt.vertexUv2s=c.has(2),jt.vertexUv3s=c.has(3),c.clear(),jt}function p(T){const N=[];if(T.shaderID?N.push(T.shaderID):(N.push(T.customVertexShaderID),N.push(T.customFragmentShaderID)),T.defines!==void 0)for(const I in T.defines)N.push(I),N.push(T.defines[I]);return T.isRawShaderMaterial===!1&&(x(N,T),_(N,T),N.push(t.outputColorSpace)),N.push(T.customProgramCacheKey),N.join()}function x(T,N){T.push(N.precision),T.push(N.outputColorSpace),T.push(N.envMapMode),T.push(N.envMapCubeUVHeight),T.push(N.mapUv),T.push(N.alphaMapUv),T.push(N.lightMapUv),T.push(N.aoMapUv),T.push(N.bumpMapUv),T.push(N.normalMapUv),T.push(N.displacementMapUv),T.push(N.emissiveMapUv),T.push(N.metalnessMapUv),T.push(N.roughnessMapUv),T.push(N.anisotropyMapUv),T.push(N.clearcoatMapUv),T.push(N.clearcoatNormalMapUv),T.push(N.clearcoatRoughnessMapUv),T.push(N.iridescenceMapUv),T.push(N.iridescenceThicknessMapUv),T.push(N.sheenColorMapUv),T.push(N.sheenRoughnessMapUv),T.push(N.specularMapUv),T.push(N.specularColorMapUv),T.push(N.specularIntensityMapUv),T.push(N.transmissionMapUv),T.push(N.thicknessMapUv),T.push(N.combine),T.push(N.fogExp2),T.push(N.sizeAttenuation),T.push(N.morphTargetsCount),T.push(N.morphAttributeCount),T.push(N.numDirLights),T.push(N.numPointLights),T.push(N.numSpotLights),T.push(N.numSpotLightMaps),T.push(N.numHemiLights),T.push(N.numRectAreaLights),T.push(N.numDirLightShadows),T.push(N.numPointLightShadows),T.push(N.numSpotLightShadows),T.push(N.numSpotLightShadowsWithMaps),T.push(N.numLightProbes),T.push(N.shadowMapType),T.push(N.toneMapping),T.push(N.numClippingPlanes),T.push(N.numClipIntersection),T.push(N.depthPacking)}function _(T,N){a.disableAll(),N.supportsVertexTextures&&a.enable(0),N.instancing&&a.enable(1),N.instancingColor&&a.enable(2),N.instancingMorph&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),N.dispersion&&a.enable(20),N.batchingColor&&a.enable(21),N.gradientMap&&a.enable(22),T.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.reversedDepthBuffer&&a.enable(4),N.skinning&&a.enable(5),N.morphTargets&&a.enable(6),N.morphNormals&&a.enable(7),N.morphColors&&a.enable(8),N.premultipliedAlpha&&a.enable(9),N.shadowMapEnabled&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),N.decodeVideoTexture&&a.enable(19),N.decodeVideoTextureEmissive&&a.enable(20),N.alphaToCoverage&&a.enable(21),T.push(a.mask)}function b(T){const N=v[T.type];let I;if(N){const k=va[N];I=wB.clone(k.uniforms)}else I=T.uniforms;return I}function S(T,N){let I;for(let k=0,j=d.length;k<j;k++){const F=d[k];if(F.cacheKey===N){I=F,++I.usedTimes;break}}return I===void 0&&(I=new upt(t,N,T,s),d.push(I)),I}function C(T){if(--T.usedTimes===0){const N=d.indexOf(T);d[N]=d[d.length-1],d.pop(),T.destroy()}}function A(T){l.remove(T)}function M(){l.dispose()}return{getParameters:m,getProgramCacheKey:p,getUniforms:b,acquireProgram:S,releaseProgram:C,releaseShaderCache:A,programs:d,dispose:M}}function mpt(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function gpt(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function B7(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function U7(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(u,f,g,v,y,m){let p=t[e];return p===void 0?(p={id:u.id,object:u,geometry:f,material:g,groupOrder:v,renderOrder:u.renderOrder,z:y,group:m},t[e]=p):(p.id=u.id,p.object=u,p.geometry=f,p.material=g,p.groupOrder=v,p.renderOrder=u.renderOrder,p.z=y,p.group=m),e++,p}function a(u,f,g,v,y,m){const p=o(u,f,g,v,y,m);g.transmission>0?r.push(p):g.transparent===!0?i.push(p):n.push(p)}function l(u,f,g,v,y,m){const p=o(u,f,g,v,y,m);g.transmission>0?r.unshift(p):g.transparent===!0?i.unshift(p):n.unshift(p)}function c(u,f){n.length>1&&n.sort(u||gpt),r.length>1&&r.sort(f||B7),i.length>1&&i.sort(f||B7)}function d(){for(let u=e,f=t.length;u<f;u++){const g=t[u];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:d,sort:c}}function vpt(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new U7,t.set(r,[o])):i>=s.length?(o=new U7,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function ypt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new le,color:new ht};break;case"SpotLight":n={position:new le,direction:new le,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new le,color:new ht,distance:0,decay:0};break;case"HemisphereLight":n={direction:new le,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":n={color:new ht,position:new le,halfWidth:new le,halfHeight:new le};break}return t[e.id]=n,n}}}function xpt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new ze,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let _pt=0;function bpt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function wpt(t){const e=new ypt,n=xpt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new le);const i=new le,s=new Gt,o=new Gt;function a(c){let d=0,u=0,f=0;for(let T=0;T<9;T++)r.probe[T].set(0,0,0);let g=0,v=0,y=0,m=0,p=0,x=0,_=0,b=0,S=0,C=0,A=0;c.sort(bpt);for(let T=0,N=c.length;T<N;T++){const I=c[T],k=I.color,j=I.intensity,F=I.distance,z=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=k.r*j,u+=k.g*j,f+=k.b*j;else if(I.isLightProbe){for(let $=0;$<9;$++)r.probe[$].addScaledVector(I.sh.coefficients[$],j);A++}else if(I.isDirectionalLight){const $=e.get(I);if($.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const V=I.shadow,R=n.get(I);R.shadowIntensity=V.intensity,R.shadowBias=V.bias,R.shadowNormalBias=V.normalBias,R.shadowRadius=V.radius,R.shadowMapSize=V.mapSize,r.directionalShadow[g]=R,r.directionalShadowMap[g]=z,r.directionalShadowMatrix[g]=I.shadow.matrix,x++}r.directional[g]=$,g++}else if(I.isSpotLight){const $=e.get(I);$.position.setFromMatrixPosition(I.matrixWorld),$.color.copy(k).multiplyScalar(j),$.distance=F,$.coneCos=Math.cos(I.angle),$.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),$.decay=I.decay,r.spot[y]=$;const V=I.shadow;if(I.map&&(r.spotLightMap[S]=I.map,S++,V.updateMatrices(I),I.castShadow&&C++),r.spotLightMatrix[y]=V.matrix,I.castShadow){const R=n.get(I);R.shadowIntensity=V.intensity,R.shadowBias=V.bias,R.shadowNormalBias=V.normalBias,R.shadowRadius=V.radius,R.shadowMapSize=V.mapSize,r.spotShadow[y]=R,r.spotShadowMap[y]=z,b++}y++}else if(I.isRectAreaLight){const $=e.get(I);$.color.copy(k).multiplyScalar(j),$.halfWidth.set(I.width*.5,0,0),$.halfHeight.set(0,I.height*.5,0),r.rectArea[m]=$,m++}else if(I.isPointLight){const $=e.get(I);if($.color.copy(I.color).multiplyScalar(I.intensity),$.distance=I.distance,$.decay=I.decay,I.castShadow){const V=I.shadow,R=n.get(I);R.shadowIntensity=V.intensity,R.shadowBias=V.bias,R.shadowNormalBias=V.normalBias,R.shadowRadius=V.radius,R.shadowMapSize=V.mapSize,R.shadowCameraNear=V.camera.near,R.shadowCameraFar=V.camera.far,r.pointShadow[v]=R,r.pointShadowMap[v]=z,r.pointShadowMatrix[v]=I.shadow.matrix,_++}r.point[v]=$,v++}else if(I.isHemisphereLight){const $=e.get(I);$.skyColor.copy(I.color).multiplyScalar(j),$.groundColor.copy(I.groundColor).multiplyScalar(j),r.hemi[p]=$,p++}}m>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ut.LTC_FLOAT_1,r.rectAreaLTC2=ut.LTC_FLOAT_2):(r.rectAreaLTC1=ut.LTC_HALF_1,r.rectAreaLTC2=ut.LTC_HALF_2)),r.ambient[0]=d,r.ambient[1]=u,r.ambient[2]=f;const M=r.hash;(M.directionalLength!==g||M.pointLength!==v||M.spotLength!==y||M.rectAreaLength!==m||M.hemiLength!==p||M.numDirectionalShadows!==x||M.numPointShadows!==_||M.numSpotShadows!==b||M.numSpotMaps!==S||M.numLightProbes!==A)&&(r.directional.length=g,r.spot.length=y,r.rectArea.length=m,r.point.length=v,r.hemi.length=p,r.directionalShadow.length=x,r.directionalShadowMap.length=x,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=x,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=b+S-C,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=A,M.directionalLength=g,M.pointLength=v,M.spotLength=y,M.rectAreaLength=m,M.hemiLength=p,M.numDirectionalShadows=x,M.numPointShadows=_,M.numSpotShadows=b,M.numSpotMaps=S,M.numLightProbes=A,r.version=_pt++)}function l(c,d){let u=0,f=0,g=0,v=0,y=0;const m=d.matrixWorldInverse;for(let p=0,x=c.length;p<x;p++){const _=c[p];if(_.isDirectionalLight){const b=r.directional[u];b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),u++}else if(_.isSpotLight){const b=r.spot[g];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),g++}else if(_.isRectAreaLight){const b=r.rectArea[v];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),o.identity(),s.copy(_.matrixWorld),s.premultiply(m),o.extractRotation(s),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(_.isPointLight){const b=r.point[f];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),f++}else if(_.isHemisphereLight){const b=r.hemi[y];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(m),y++}}}return{setup:a,setupView:l,state:r}}function z7(t){const e=new wpt(t),n=[],r=[];function i(d){c.camera=d,n.length=0,r.length=0}function s(d){n.push(d)}function o(d){r.push(d)}function a(){e.setup(n)}function l(d){e.setupView(n,d)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Spt(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new z7(t),e.set(i,[a])):s>=o.length?(a=new z7(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const Ept=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Cpt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Mpt(t,e,n){let r=new zv;const i=new ze,s=new ze,o=new xn,a=new LB({depthPacking:kue}),l=new jB,c={},d=n.maxTextureSize,u={[Fc]:Ui,[Ui]:Fc,[xa]:xa},f=new Ho({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new ze},radius:{value:4}},vertexShader:Ept,fragmentShader:Cpt}),g=f.clone();g.defines.HORIZONTAL_PASS=1;const v=new tn;v.setAttribute("position",new $n(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Ur(v,f),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=rP;let p=this.type;this.render=function(C,A,M){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||C.length===0)return;const T=t.getRenderTarget(),N=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),k=t.state;k.setBlending(Cc),k.buffers.depth.getReversed()===!0?k.buffers.color.setClear(0,0,0,0):k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const j=p!==oa&&this.type===oa,F=p===oa&&this.type!==oa;for(let z=0,$=C.length;z<$;z++){const V=C[z],R=V.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",V,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;i.copy(R.mapSize);const L=R.getFrameExtents();if(i.multiply(L),s.copy(R.mapSize),(i.x>d||i.y>d)&&(i.x>d&&(s.x=Math.floor(d/L.x),i.x=s.x*L.x,R.mapSize.x=s.x),i.y>d&&(s.y=Math.floor(d/L.y),i.y=s.y*L.y,R.mapSize.y=s.y)),R.map===null||j===!0||F===!0){const W=this.type!==oa?{minFilter:bi,magFilter:bi}:{};R.map!==null&&R.map.dispose(),R.map=new Nl(i.x,i.y,W),R.map.texture.name=V.name+".shadowMap",R.camera.updateProjectionMatrix()}t.setRenderTarget(R.map),t.clear();const B=R.getViewportCount();for(let W=0;W<B;W++){const G=R.getViewport(W);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),k.viewport(o),R.updateMatrices(V,W),r=R.getFrustum(),b(A,M,R.camera,V,this.type)}R.isPointLightShadow!==!0&&this.type===oa&&x(R,M),R.needsUpdate=!1}p=this.type,m.needsUpdate=!1,t.setRenderTarget(T,N,I)};function x(C,A){const M=e.update(y);f.defines.VSM_SAMPLES!==C.blurSamples&&(f.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,f.needsUpdate=!0,g.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Nl(i.x,i.y)),f.uniforms.shadow_pass.value=C.map.texture,f.uniforms.resolution.value=C.mapSize,f.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(A,null,M,f,y,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(A,null,M,g,y,null)}function _(C,A,M,T){let N=null;const I=M.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(I!==void 0)N=I;else if(N=M.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0||A.alphaToCoverage===!0){const k=N.uuid,j=A.uuid;let F=c[k];F===void 0&&(F={},c[k]=F);let z=F[j];z===void 0&&(z=N.clone(),F[j]=z,A.addEventListener("dispose",S)),N=z}if(N.visible=A.visible,N.wireframe=A.wireframe,T===oa?N.side=A.shadowSide!==null?A.shadowSide:A.side:N.side=A.shadowSide!==null?A.shadowSide:u[A.side],N.alphaMap=A.alphaMap,N.alphaTest=A.alphaToCoverage===!0?.5:A.alphaTest,N.map=A.map,N.clipShadows=A.clipShadows,N.clippingPlanes=A.clippingPlanes,N.clipIntersection=A.clipIntersection,N.displacementMap=A.displacementMap,N.displacementScale=A.displacementScale,N.displacementBias=A.displacementBias,N.wireframeLinewidth=A.wireframeLinewidth,N.linewidth=A.linewidth,M.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const k=t.properties.get(N);k.light=M}return N}function b(C,A,M,T,N){if(C.visible===!1)return;if(C.layers.test(A.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&N===oa)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,C.matrixWorld);const j=e.update(C),F=C.material;if(Array.isArray(F)){const z=j.groups;for(let $=0,V=z.length;$<V;$++){const R=z[$],L=F[R.materialIndex];if(L&&L.visible){const B=_(C,L,T,N);C.onBeforeShadow(t,C,A,M,j,B,R),t.renderBufferDirect(M,null,j,B,C,R),C.onAfterShadow(t,C,A,M,j,B,R)}}}else if(F.visible){const z=_(C,F,T,N);C.onBeforeShadow(t,C,A,M,j,z,null),t.renderBufferDirect(M,null,j,z,C,null),C.onAfterShadow(t,C,A,M,j,z,null)}}const k=C.children;for(let j=0,F=k.length;j<F;j++)b(k[j],A,M,T,N)}function S(C){C.target.removeEventListener("dispose",S);for(const M in c){const T=c[M],N=C.target.uuid;N in T&&(T[N].dispose(),delete T[N])}}}const Apt={[aM]:lM,[cM]:fM,[uM]:hM,[Eh]:dM,[lM]:aM,[fM]:cM,[hM]:uM,[dM]:Eh};function Tpt(t,e){function n(){let ce=!1;const Ne=new xn;let Be=null;const Ve=new xn(0,0,0,0);return{setMask:function(Ue){Be!==Ue&&!ce&&(t.colorMask(Ue,Ue,Ue,Ue),Be=Ue)},setLocked:function(Ue){ce=Ue},setClear:function(Ue,Le,Ye,mt,jt){jt===!0&&(Ue*=mt,Le*=mt,Ye*=mt),Ne.set(Ue,Le,Ye,mt),Ve.equals(Ne)===!1&&(t.clearColor(Ue,Le,Ye,mt),Ve.copy(Ne))},reset:function(){ce=!1,Be=null,Ve.set(-1,0,0,0)}}}function r(){let ce=!1,Ne=!1,Be=null,Ve=null,Ue=null;return{setReversed:function(Le){if(Ne!==Le){const Ye=e.get("EXT_clip_control");Le?Ye.clipControlEXT(Ye.LOWER_LEFT_EXT,Ye.ZERO_TO_ONE_EXT):Ye.clipControlEXT(Ye.LOWER_LEFT_EXT,Ye.NEGATIVE_ONE_TO_ONE_EXT),Ne=Le;const mt=Ue;Ue=null,this.setClear(mt)}},getReversed:function(){return Ne},setTest:function(Le){Le?U(t.DEPTH_TEST):K(t.DEPTH_TEST)},setMask:function(Le){Be!==Le&&!ce&&(t.depthMask(Le),Be=Le)},setFunc:function(Le){if(Ne&&(Le=Apt[Le]),Ve!==Le){switch(Le){case aM:t.depthFunc(t.NEVER);break;case lM:t.depthFunc(t.ALWAYS);break;case cM:t.depthFunc(t.LESS);break;case Eh:t.depthFunc(t.LEQUAL);break;case uM:t.depthFunc(t.EQUAL);break;case dM:t.depthFunc(t.GEQUAL);break;case fM:t.depthFunc(t.GREATER);break;case hM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ve=Le}},setLocked:function(Le){ce=Le},setClear:function(Le){Ue!==Le&&(Ne&&(Le=1-Le),t.clearDepth(Le),Ue=Le)},reset:function(){ce=!1,Be=null,Ve=null,Ue=null,Ne=!1}}}function i(){let ce=!1,Ne=null,Be=null,Ve=null,Ue=null,Le=null,Ye=null,mt=null,jt=null;return{setTest:function(zt){ce||(zt?U(t.STENCIL_TEST):K(t.STENCIL_TEST))},setMask:function(zt){Ne!==zt&&!ce&&(t.stencilMask(zt),Ne=zt)},setFunc:function(zt,Ln,Rn){(Be!==zt||Ve!==Ln||Ue!==Rn)&&(t.stencilFunc(zt,Ln,Rn),Be=zt,Ve=Ln,Ue=Rn)},setOp:function(zt,Ln,Rn){(Le!==zt||Ye!==Ln||mt!==Rn)&&(t.stencilOp(zt,Ln,Rn),Le=zt,Ye=Ln,mt=Rn)},setLocked:function(zt){ce=zt},setClear:function(zt){jt!==zt&&(t.clearStencil(zt),jt=zt)},reset:function(){ce=!1,Ne=null,Be=null,Ve=null,Ue=null,Le=null,Ye=null,mt=null,jt=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let d={},u={},f=new WeakMap,g=[],v=null,y=!1,m=null,p=null,x=null,_=null,b=null,S=null,C=null,A=new ht(0,0,0),M=0,T=!1,N=null,I=null,k=null,j=null,F=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,V=0;const R=t.getParameter(t.VERSION);R.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(R)[1]),$=V>=1):R.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),$=V>=2);let L=null,B={};const W=t.getParameter(t.SCISSOR_BOX),G=t.getParameter(t.VIEWPORT),Y=new xn().fromArray(W),ie=new xn().fromArray(G);function ae(ce,Ne,Be,Ve){const Ue=new Uint8Array(4),Le=t.createTexture();t.bindTexture(ce,Le),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ye=0;Ye<Be;Ye++)ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY?t.texImage3D(Ne,0,t.RGBA,1,1,Ve,0,t.RGBA,t.UNSIGNED_BYTE,Ue):t.texImage2D(Ne+Ye,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ue);return Le}const se={};se[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),U(t.DEPTH_TEST),o.setFunc(Eh),me(!1),pe(fL),U(t.CULL_FACE),ne(Cc);function U(ce){d[ce]!==!0&&(t.enable(ce),d[ce]=!0)}function K(ce){d[ce]!==!1&&(t.disable(ce),d[ce]=!1)}function Q(ce,Ne){return u[ce]!==Ne?(t.bindFramebuffer(ce,Ne),u[ce]=Ne,ce===t.DRAW_FRAMEBUFFER&&(u[t.FRAMEBUFFER]=Ne),ce===t.FRAMEBUFFER&&(u[t.DRAW_FRAMEBUFFER]=Ne),!0):!1}function ee(ce,Ne){let Be=g,Ve=!1;if(ce){Be=f.get(Ne),Be===void 0&&(Be=[],f.set(Ne,Be));const Ue=ce.textures;if(Be.length!==Ue.length||Be[0]!==t.COLOR_ATTACHMENT0){for(let Le=0,Ye=Ue.length;Le<Ye;Le++)Be[Le]=t.COLOR_ATTACHMENT0+Le;Be.length=Ue.length,Ve=!0}}else Be[0]!==t.BACK&&(Be[0]=t.BACK,Ve=!0);Ve&&t.drawBuffers(Be)}function ue(ce){return v!==ce?(t.useProgram(ce),v=ce,!0):!1}const J={[Du]:t.FUNC_ADD,[iue]:t.FUNC_SUBTRACT,[sue]:t.FUNC_REVERSE_SUBTRACT};J[oue]=t.MIN,J[aue]=t.MAX;const q={[lue]:t.ZERO,[cue]:t.ONE,[uue]:t.SRC_COLOR,[sM]:t.SRC_ALPHA,[gue]:t.SRC_ALPHA_SATURATE,[pue]:t.DST_COLOR,[fue]:t.DST_ALPHA,[due]:t.ONE_MINUS_SRC_COLOR,[oM]:t.ONE_MINUS_SRC_ALPHA,[mue]:t.ONE_MINUS_DST_COLOR,[hue]:t.ONE_MINUS_DST_ALPHA,[vue]:t.CONSTANT_COLOR,[yue]:t.ONE_MINUS_CONSTANT_COLOR,[xue]:t.CONSTANT_ALPHA,[_ue]:t.ONE_MINUS_CONSTANT_ALPHA};function ne(ce,Ne,Be,Ve,Ue,Le,Ye,mt,jt,zt){if(ce===Cc){y===!0&&(K(t.BLEND),y=!1);return}if(y===!1&&(U(t.BLEND),y=!0),ce!==rue){if(ce!==m||zt!==T){if((p!==Du||b!==Du)&&(t.blendEquation(t.FUNC_ADD),p=Du,b=Du),zt)switch(ce){case Kf:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case hL:t.blendFunc(t.ONE,t.ONE);break;case pL:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case mL:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case Kf:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case hL:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case pL:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case mL:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}x=null,_=null,S=null,C=null,A.set(0,0,0),M=0,m=ce,T=zt}return}Ue=Ue||Ne,Le=Le||Be,Ye=Ye||Ve,(Ne!==p||Ue!==b)&&(t.blendEquationSeparate(J[Ne],J[Ue]),p=Ne,b=Ue),(Be!==x||Ve!==_||Le!==S||Ye!==C)&&(t.blendFuncSeparate(q[Be],q[Ve],q[Le],q[Ye]),x=Be,_=Ve,S=Le,C=Ye),(mt.equals(A)===!1||jt!==M)&&(t.blendColor(mt.r,mt.g,mt.b,jt),A.copy(mt),M=jt),m=ce,T=!1}function fe(ce,Ne){ce.side===xa?K(t.CULL_FACE):U(t.CULL_FACE);let Be=ce.side===Ui;Ne&&(Be=!Be),me(Be),ce.blending===Kf&&ce.transparent===!1?ne(Cc):ne(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),o.setFunc(ce.depthFunc),o.setTest(ce.depthTest),o.setMask(ce.depthWrite),s.setMask(ce.colorWrite);const Ve=ce.stencilWrite;a.setTest(Ve),Ve&&(a.setMask(ce.stencilWriteMask),a.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),a.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Ce(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?U(t.SAMPLE_ALPHA_TO_COVERAGE):K(t.SAMPLE_ALPHA_TO_COVERAGE)}function me(ce){N!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),N=ce)}function pe(ce){ce!==eue?(U(t.CULL_FACE),ce!==I&&(ce===fL?t.cullFace(t.BACK):ce===tue?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):K(t.CULL_FACE),I=ce}function Ae(ce){ce!==k&&($&&t.lineWidth(ce),k=ce)}function Ce(ce,Ne,Be){ce?(U(t.POLYGON_OFFSET_FILL),(j!==Ne||F!==Be)&&(t.polygonOffset(Ne,Be),j=Ne,F=Be)):K(t.POLYGON_OFFSET_FILL)}function ke(ce){ce?U(t.SCISSOR_TEST):K(t.SCISSOR_TEST)}function nt(ce){ce===void 0&&(ce=t.TEXTURE0+z-1),L!==ce&&(t.activeTexture(ce),L=ce)}function Je(ce,Ne,Be){Be===void 0&&(L===null?Be=t.TEXTURE0+z-1:Be=L);let Ve=B[Be];Ve===void 0&&(Ve={type:void 0,texture:void 0},B[Be]=Ve),(Ve.type!==ce||Ve.texture!==Ne)&&(L!==Be&&(t.activeTexture(Be),L=Be),t.bindTexture(ce,Ne||se[ce]),Ve.type=ce,Ve.texture=Ne)}function re(){const ce=B[L];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Z(){try{t.compressedTexImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ve(){try{t.compressedTexImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Se(){try{t.texSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ie(){try{t.texSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Me(){try{t.compressedTexSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function at(){try{t.compressedTexSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function He(){try{t.texStorage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function st(){try{t.texStorage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function We(){try{t.texImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function $e(){try{t.texImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function rt(ce){Y.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),Y.copy(ce))}function Ct(ce){ie.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),ie.copy(ce))}function he(ce,Ne){let Be=c.get(Ne);Be===void 0&&(Be=new WeakMap,c.set(Ne,Be));let Ve=Be.get(ce);Ve===void 0&&(Ve=t.getUniformBlockIndex(Ne,ce.name),Be.set(ce,Ve))}function Ee(ce,Ne){const Ve=c.get(Ne).get(ce);l.get(Ne)!==Ve&&(t.uniformBlockBinding(Ne,Ve,ce.__bindingPointIndex),l.set(Ne,Ve))}function Ke(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},L=null,B={},u={},f=new WeakMap,g=[],v=null,y=!1,m=null,p=null,x=null,_=null,b=null,S=null,C=null,A=new ht(0,0,0),M=0,T=!1,N=null,I=null,k=null,j=null,F=null,Y.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:U,disable:K,bindFramebuffer:Q,drawBuffers:ee,useProgram:ue,setBlending:ne,setMaterial:fe,setFlipSided:me,setCullFace:pe,setLineWidth:Ae,setPolygonOffset:Ce,setScissorTest:ke,activeTexture:nt,bindTexture:Je,unbindTexture:re,compressedTexImage2D:Z,compressedTexImage3D:ve,texImage2D:We,texImage3D:$e,updateUBOMapping:he,uniformBlockBinding:Ee,texStorage2D:He,texStorage3D:st,texSubImage2D:Se,texSubImage3D:Ie,compressedTexSubImage2D:Me,compressedTexSubImage3D:at,scissor:rt,viewport:Ct,reset:Ke}}function Ppt(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new ze,d=new WeakMap;let u;const f=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(re,Z){return g?new OffscreenCanvas(re,Z):x_("canvas")}function y(re,Z,ve){let Se=1;const Ie=Je(re);if((Ie.width>ve||Ie.height>ve)&&(Se=ve/Math.max(Ie.width,Ie.height)),Se<1)if(typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&re instanceof ImageBitmap||typeof VideoFrame<"u"&&re instanceof VideoFrame){const Me=Math.floor(Se*Ie.width),at=Math.floor(Se*Ie.height);u===void 0&&(u=v(Me,at));const He=Z?v(Me,at):u;return He.width=Me,He.height=at,He.getContext("2d").drawImage(re,0,0,Me,at),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+Me+"x"+at+")."),He}else return"data"in re&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),re;return re}function m(re){return re.generateMipmaps}function p(re){t.generateMipmap(re)}function x(re){return re.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:re.isWebGL3DRenderTarget?t.TEXTURE_3D:re.isWebGLArrayRenderTarget||re.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(re,Z,ve,Se,Ie=!1){if(re!==null){if(t[re]!==void 0)return t[re];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+re+"'")}let Me=Z;if(Z===t.RED&&(ve===t.FLOAT&&(Me=t.R32F),ve===t.HALF_FLOAT&&(Me=t.R16F),ve===t.UNSIGNED_BYTE&&(Me=t.R8)),Z===t.RED_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.R8UI),ve===t.UNSIGNED_SHORT&&(Me=t.R16UI),ve===t.UNSIGNED_INT&&(Me=t.R32UI),ve===t.BYTE&&(Me=t.R8I),ve===t.SHORT&&(Me=t.R16I),ve===t.INT&&(Me=t.R32I)),Z===t.RG&&(ve===t.FLOAT&&(Me=t.RG32F),ve===t.HALF_FLOAT&&(Me=t.RG16F),ve===t.UNSIGNED_BYTE&&(Me=t.RG8)),Z===t.RG_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RG8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RG16UI),ve===t.UNSIGNED_INT&&(Me=t.RG32UI),ve===t.BYTE&&(Me=t.RG8I),ve===t.SHORT&&(Me=t.RG16I),ve===t.INT&&(Me=t.RG32I)),Z===t.RGB_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RGB8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RGB16UI),ve===t.UNSIGNED_INT&&(Me=t.RGB32UI),ve===t.BYTE&&(Me=t.RGB8I),ve===t.SHORT&&(Me=t.RGB16I),ve===t.INT&&(Me=t.RGB32I)),Z===t.RGBA_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RGBA8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RGBA16UI),ve===t.UNSIGNED_INT&&(Me=t.RGBA32UI),ve===t.BYTE&&(Me=t.RGBA8I),ve===t.SHORT&&(Me=t.RGBA16I),ve===t.INT&&(Me=t.RGBA32I)),Z===t.RGB&&(ve===t.UNSIGNED_INT_5_9_9_9_REV&&(Me=t.RGB9_E5),ve===t.UNSIGNED_INT_10F_11F_11F_REV&&(Me=t.R11F_G11F_B10F)),Z===t.RGBA){const at=Ie?v_:hn.getTransfer(Se);ve===t.FLOAT&&(Me=t.RGBA32F),ve===t.HALF_FLOAT&&(Me=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Me=at===jn?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Me=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Me=t.RGB5_A1)}return(Me===t.R16F||Me===t.R32F||Me===t.RG16F||Me===t.RG32F||Me===t.RGBA16F||Me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function b(re,Z){let ve;return re?Z===null||Z===Uc||Z===Qg?ve=t.DEPTH24_STENCIL8:Z===Ms?ve=t.DEPTH32F_STENCIL8:Z===Zg&&(ve=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Uc||Z===Qg?ve=t.DEPTH_COMPONENT24:Z===Ms?ve=t.DEPTH_COMPONENT32F:Z===Zg&&(ve=t.DEPTH_COMPONENT16),ve}function S(re,Z){return m(re)===!0||re.isFramebufferTexture&&re.minFilter!==bi&&re.minFilter!==Jr?Math.log2(Math.max(Z.width,Z.height))+1:re.mipmaps!==void 0&&re.mipmaps.length>0?re.mipmaps.length:re.isCompressedTexture&&Array.isArray(re.image)?Z.mipmaps.length:1}function C(re){const Z=re.target;Z.removeEventListener("dispose",C),M(Z),Z.isVideoTexture&&d.delete(Z)}function A(re){const Z=re.target;Z.removeEventListener("dispose",A),N(Z)}function M(re){const Z=r.get(re);if(Z.__webglInit===void 0)return;const ve=re.source,Se=f.get(ve);if(Se){const Ie=Se[Z.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&T(re),Object.keys(Se).length===0&&f.delete(ve)}r.remove(re)}function T(re){const Z=r.get(re);t.deleteTexture(Z.__webglTexture);const ve=re.source,Se=f.get(ve);delete Se[Z.__cacheKey],o.memory.textures--}function N(re){const Z=r.get(re);if(re.depthTexture&&(re.depthTexture.dispose(),r.remove(re.depthTexture)),re.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(Z.__webglFramebuffer[Se]))for(let Ie=0;Ie<Z.__webglFramebuffer[Se].length;Ie++)t.deleteFramebuffer(Z.__webglFramebuffer[Se][Ie]);else t.deleteFramebuffer(Z.__webglFramebuffer[Se]);Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer[Se])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Se=0;Se<Z.__webglFramebuffer.length;Se++)t.deleteFramebuffer(Z.__webglFramebuffer[Se]);else t.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Se=0;Se<Z.__webglColorRenderbuffer.length;Se++)Z.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(Z.__webglColorRenderbuffer[Se]);Z.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const ve=re.textures;for(let Se=0,Ie=ve.length;Se<Ie;Se++){const Me=r.get(ve[Se]);Me.__webglTexture&&(t.deleteTexture(Me.__webglTexture),o.memory.textures--),r.remove(ve[Se])}r.remove(re)}let I=0;function k(){I=0}function j(){const re=I;return re>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+re+" texture units while this GPU supports only "+i.maxTextures),I+=1,re}function F(re){const Z=[];return Z.push(re.wrapS),Z.push(re.wrapT),Z.push(re.wrapR||0),Z.push(re.magFilter),Z.push(re.minFilter),Z.push(re.anisotropy),Z.push(re.internalFormat),Z.push(re.format),Z.push(re.type),Z.push(re.generateMipmaps),Z.push(re.premultiplyAlpha),Z.push(re.flipY),Z.push(re.unpackAlignment),Z.push(re.colorSpace),Z.join()}function z(re,Z){const ve=r.get(re);if(re.isVideoTexture&&ke(re),re.isRenderTargetTexture===!1&&re.isExternalTexture!==!0&&re.version>0&&ve.__version!==re.version){const Se=re.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(ve,re,Z);return}}else re.isExternalTexture&&(ve.__webglTexture=re.sourceTexture?re.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+Z)}function $(re,Z){const ve=r.get(re);if(re.isRenderTargetTexture===!1&&re.version>0&&ve.__version!==re.version){se(ve,re,Z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+Z)}function V(re,Z){const ve=r.get(re);if(re.isRenderTargetTexture===!1&&re.version>0&&ve.__version!==re.version){se(ve,re,Z);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+Z)}function R(re,Z){const ve=r.get(re);if(re.version>0&&ve.__version!==re.version){U(ve,re,Z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+Z)}const L={[h_]:t.REPEAT,[Lo]:t.CLAMP_TO_EDGE,[p_]:t.MIRRORED_REPEAT},B={[bi]:t.NEAREST,[lB]:t.NEAREST_MIPMAP_NEAREST,[xm]:t.NEAREST_MIPMAP_LINEAR,[Jr]:t.LINEAR,[F0]:t.LINEAR_MIPMAP_NEAREST,[dl]:t.LINEAR_MIPMAP_LINEAR},W={[Lue]:t.NEVER,[$ue]:t.ALWAYS,[jue]:t.LESS,[vB]:t.LEQUAL,[Fue]:t.EQUAL,[zue]:t.GEQUAL,[Bue]:t.GREATER,[Uue]:t.NOTEQUAL};function G(re,Z){if(Z.type===Ms&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===Jr||Z.magFilter===F0||Z.magFilter===xm||Z.magFilter===dl||Z.minFilter===Jr||Z.minFilter===F0||Z.minFilter===xm||Z.minFilter===dl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(re,t.TEXTURE_WRAP_S,L[Z.wrapS]),t.texParameteri(re,t.TEXTURE_WRAP_T,L[Z.wrapT]),(re===t.TEXTURE_3D||re===t.TEXTURE_2D_ARRAY)&&t.texParameteri(re,t.TEXTURE_WRAP_R,L[Z.wrapR]),t.texParameteri(re,t.TEXTURE_MAG_FILTER,B[Z.magFilter]),t.texParameteri(re,t.TEXTURE_MIN_FILTER,B[Z.minFilter]),Z.compareFunction&&(t.texParameteri(re,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(re,t.TEXTURE_COMPARE_FUNC,W[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===bi||Z.minFilter!==xm&&Z.minFilter!==dl||Z.type===Ms&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||r.get(Z).__currentAnisotropy){const ve=e.get("EXT_texture_filter_anisotropic");t.texParameterf(re,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,i.getMaxAnisotropy())),r.get(Z).__currentAnisotropy=Z.anisotropy}}}function Y(re,Z){let ve=!1;re.__webglInit===void 0&&(re.__webglInit=!0,Z.addEventListener("dispose",C));const Se=Z.source;let Ie=f.get(Se);Ie===void 0&&(Ie={},f.set(Se,Ie));const Me=F(Z);if(Me!==re.__cacheKey){Ie[Me]===void 0&&(Ie[Me]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ve=!0),Ie[Me].usedTimes++;const at=Ie[re.__cacheKey];at!==void 0&&(Ie[re.__cacheKey].usedTimes--,at.usedTimes===0&&T(Z)),re.__cacheKey=Me,re.__webglTexture=Ie[Me].texture}return ve}function ie(re,Z,ve){return Math.floor(Math.floor(re/ve)/Z)}function ae(re,Z,ve,Se){const Me=re.updateRanges;if(Me.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,Z.width,Z.height,ve,Se,Z.data);else{Me.sort(($e,rt)=>$e.start-rt.start);let at=0;for(let $e=1;$e<Me.length;$e++){const rt=Me[at],Ct=Me[$e],he=rt.start+rt.count,Ee=ie(Ct.start,Z.width,4),Ke=ie(rt.start,Z.width,4);Ct.start<=he+1&&Ee===Ke&&ie(Ct.start+Ct.count-1,Z.width,4)===Ee?rt.count=Math.max(rt.count,Ct.start+Ct.count-rt.start):(++at,Me[at]=Ct)}Me.length=at+1;const He=t.getParameter(t.UNPACK_ROW_LENGTH),st=t.getParameter(t.UNPACK_SKIP_PIXELS),We=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,Z.width);for(let $e=0,rt=Me.length;$e<rt;$e++){const Ct=Me[$e],he=Math.floor(Ct.start/4),Ee=Math.ceil(Ct.count/4),Ke=he%Z.width,ce=Math.floor(he/Z.width),Ne=Ee,Be=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ke),t.pixelStorei(t.UNPACK_SKIP_ROWS,ce),n.texSubImage2D(t.TEXTURE_2D,0,Ke,ce,Ne,Be,ve,Se,Z.data)}re.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,He),t.pixelStorei(t.UNPACK_SKIP_PIXELS,st),t.pixelStorei(t.UNPACK_SKIP_ROWS,We)}}function se(re,Z,ve){let Se=t.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Se=t.TEXTURE_3D);const Ie=Y(re,Z),Me=Z.source;n.bindTexture(Se,re.__webglTexture,t.TEXTURE0+ve);const at=r.get(Me);if(Me.version!==at.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ve);const He=hn.getPrimaries(hn.workingColorSpace),st=Z.colorSpace===fc?null:hn.getPrimaries(Z.colorSpace),We=Z.colorSpace===fc||He===st?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,We);let $e=y(Z.image,!1,i.maxTextureSize);$e=nt(Z,$e);const rt=s.convert(Z.format,Z.colorSpace),Ct=s.convert(Z.type);let he=_(Z.internalFormat,rt,Ct,Z.colorSpace,Z.isVideoTexture);G(Se,Z);let Ee;const Ke=Z.mipmaps,ce=Z.isVideoTexture!==!0,Ne=at.__version===void 0||Ie===!0,Be=Me.dataReady,Ve=S(Z,$e);if(Z.isDepthTexture)he=b(Z.format===ev,Z.type),Ne&&(ce?n.texStorage2D(t.TEXTURE_2D,1,he,$e.width,$e.height):n.texImage2D(t.TEXTURE_2D,0,he,$e.width,$e.height,0,rt,Ct,null));else if(Z.isDataTexture)if(Ke.length>0){ce&&Ne&&n.texStorage2D(t.TEXTURE_2D,Ve,he,Ke[0].width,Ke[0].height);for(let Ue=0,Le=Ke.length;Ue<Le;Ue++)Ee=Ke[Ue],ce?Be&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,rt,Ct,Ee.data):n.texImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,rt,Ct,Ee.data);Z.generateMipmaps=!1}else ce?(Ne&&n.texStorage2D(t.TEXTURE_2D,Ve,he,$e.width,$e.height),Be&&ae(Z,$e,rt,Ct)):n.texImage2D(t.TEXTURE_2D,0,he,$e.width,$e.height,0,rt,Ct,$e.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){ce&&Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,he,Ke[0].width,Ke[0].height,$e.depth);for(let Ue=0,Le=Ke.length;Ue<Le;Ue++)if(Ee=Ke[Ue],Z.format!==Bi)if(rt!==null)if(ce){if(Be)if(Z.layerUpdates.size>0){const Ye=ML(Ee.width,Ee.height,Z.format,Z.type);for(const mt of Z.layerUpdates){const jt=Ee.data.subarray(mt*Ye/Ee.data.BYTES_PER_ELEMENT,(mt+1)*Ye/Ee.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,mt,Ee.width,Ee.height,1,rt,jt)}Z.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,0,Ee.width,Ee.height,$e.depth,rt,Ee.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ue,he,Ee.width,Ee.height,$e.depth,0,Ee.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ce?Be&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,0,Ee.width,Ee.height,$e.depth,rt,Ct,Ee.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ue,he,Ee.width,Ee.height,$e.depth,0,rt,Ct,Ee.data)}else{ce&&Ne&&n.texStorage2D(t.TEXTURE_2D,Ve,he,Ke[0].width,Ke[0].height);for(let Ue=0,Le=Ke.length;Ue<Le;Ue++)Ee=Ke[Ue],Z.format!==Bi?rt!==null?ce?Be&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,rt,Ee.data):n.compressedTexImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?Be&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,rt,Ct,Ee.data):n.texImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,rt,Ct,Ee.data)}else if(Z.isDataArrayTexture)if(ce){if(Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ve,he,$e.width,$e.height,$e.depth),Be)if(Z.layerUpdates.size>0){const Ue=ML($e.width,$e.height,Z.format,Z.type);for(const Le of Z.layerUpdates){const Ye=$e.data.subarray(Le*Ue/$e.data.BYTES_PER_ELEMENT,(Le+1)*Ue/$e.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Le,$e.width,$e.height,1,rt,Ct,Ye)}Z.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,$e.width,$e.height,$e.depth,rt,Ct,$e.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,he,$e.width,$e.height,$e.depth,0,rt,Ct,$e.data);else if(Z.isData3DTexture)ce?(Ne&&n.texStorage3D(t.TEXTURE_3D,Ve,he,$e.width,$e.height,$e.depth),Be&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,$e.width,$e.height,$e.depth,rt,Ct,$e.data)):n.texImage3D(t.TEXTURE_3D,0,he,$e.width,$e.height,$e.depth,0,rt,Ct,$e.data);else if(Z.isFramebufferTexture){if(Ne)if(ce)n.texStorage2D(t.TEXTURE_2D,Ve,he,$e.width,$e.height);else{let Ue=$e.width,Le=$e.height;for(let Ye=0;Ye<Ve;Ye++)n.texImage2D(t.TEXTURE_2D,Ye,he,Ue,Le,0,rt,Ct,null),Ue>>=1,Le>>=1}}else if(Ke.length>0){if(ce&&Ne){const Ue=Je(Ke[0]);n.texStorage2D(t.TEXTURE_2D,Ve,he,Ue.width,Ue.height)}for(let Ue=0,Le=Ke.length;Ue<Le;Ue++)Ee=Ke[Ue],ce?Be&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,rt,Ct,Ee):n.texImage2D(t.TEXTURE_2D,Ue,he,rt,Ct,Ee);Z.generateMipmaps=!1}else if(ce){if(Ne){const Ue=Je($e);n.texStorage2D(t.TEXTURE_2D,Ve,he,Ue.width,Ue.height)}Be&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,rt,Ct,$e)}else n.texImage2D(t.TEXTURE_2D,0,he,rt,Ct,$e);m(Z)&&p(Se),at.__version=Me.version,Z.onUpdate&&Z.onUpdate(Z)}re.__version=Z.version}function U(re,Z,ve){if(Z.image.length!==6)return;const Se=Y(re,Z),Ie=Z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture,t.TEXTURE0+ve);const Me=r.get(Ie);if(Ie.version!==Me.__version||Se===!0){n.activeTexture(t.TEXTURE0+ve);const at=hn.getPrimaries(hn.workingColorSpace),He=Z.colorSpace===fc?null:hn.getPrimaries(Z.colorSpace),st=Z.colorSpace===fc||at===He?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,st);const We=Z.isCompressedTexture||Z.image[0].isCompressedTexture,$e=Z.image[0]&&Z.image[0].isDataTexture,rt=[];for(let Le=0;Le<6;Le++)!We&&!$e?rt[Le]=y(Z.image[Le],!0,i.maxCubemapSize):rt[Le]=$e?Z.image[Le].image:Z.image[Le],rt[Le]=nt(Z,rt[Le]);const Ct=rt[0],he=s.convert(Z.format,Z.colorSpace),Ee=s.convert(Z.type),Ke=_(Z.internalFormat,he,Ee,Z.colorSpace),ce=Z.isVideoTexture!==!0,Ne=Me.__version===void 0||Se===!0,Be=Ie.dataReady;let Ve=S(Z,Ct);G(t.TEXTURE_CUBE_MAP,Z);let Ue;if(We){ce&&Ne&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ve,Ke,Ct.width,Ct.height);for(let Le=0;Le<6;Le++){Ue=rt[Le].mipmaps;for(let Ye=0;Ye<Ue.length;Ye++){const mt=Ue[Ye];Z.format!==Bi?he!==null?ce?Be&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,0,0,mt.width,mt.height,he,mt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,Ke,mt.width,mt.height,0,mt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,0,0,mt.width,mt.height,he,Ee,mt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye,Ke,mt.width,mt.height,0,he,Ee,mt.data)}}}else{if(Ue=Z.mipmaps,ce&&Ne){Ue.length>0&&Ve++;const Le=Je(rt[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ve,Ke,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if($e){ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,rt[Le].width,rt[Le].height,he,Ee,rt[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Ke,rt[Le].width,rt[Le].height,0,he,Ee,rt[Le].data);for(let Ye=0;Ye<Ue.length;Ye++){const jt=Ue[Ye].image[Le].image;ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,0,0,jt.width,jt.height,he,Ee,jt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,Ke,jt.width,jt.height,0,he,Ee,jt.data)}}else{ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,he,Ee,rt[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Ke,he,Ee,rt[Le]);for(let Ye=0;Ye<Ue.length;Ye++){const mt=Ue[Ye];ce?Be&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,0,0,he,Ee,mt.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Ye+1,Ke,he,Ee,mt.image[Le])}}}m(Z)&&p(t.TEXTURE_CUBE_MAP),Me.__version=Ie.version,Z.onUpdate&&Z.onUpdate(Z)}re.__version=Z.version}function K(re,Z,ve,Se,Ie,Me){const at=s.convert(ve.format,ve.colorSpace),He=s.convert(ve.type),st=_(ve.internalFormat,at,He,ve.colorSpace),We=r.get(Z),$e=r.get(ve);if($e.__renderTarget=Z,!We.__hasExternalTextures){const rt=Math.max(1,Z.width>>Me),Ct=Math.max(1,Z.height>>Me);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,Me,st,rt,Ct,Z.depth,0,at,He,null):n.texImage2D(Ie,Me,st,rt,Ct,0,at,He,null)}n.bindFramebuffer(t.FRAMEBUFFER,re),Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,Ie,$e.__webglTexture,0,Ae(Z)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,Ie,$e.__webglTexture,Me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Q(re,Z,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,re),Z.depthBuffer){const Se=Z.depthTexture,Ie=Se&&Se.isDepthTexture?Se.type:null,Me=b(Z.stencilBuffer,Ie),at=Z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,He=Ae(Z);Ce(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,He,Me,Z.width,Z.height):ve?t.renderbufferStorageMultisample(t.RENDERBUFFER,He,Me,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,Me,Z.width,Z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,at,t.RENDERBUFFER,re)}else{const Se=Z.textures;for(let Ie=0;Ie<Se.length;Ie++){const Me=Se[Ie],at=s.convert(Me.format,Me.colorSpace),He=s.convert(Me.type),st=_(Me.internalFormat,at,He,Me.colorSpace),We=Ae(Z);ve&&Ce(Z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,We,st,Z.width,Z.height):Ce(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,We,st,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,st,Z.width,Z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ee(re,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,re),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Se=r.get(Z.depthTexture);Se.__renderTarget=Z,(!Se.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),z(Z.depthTexture,0);const Ie=Se.__webglTexture,Me=Ae(Z);if(Z.depthTexture.format===Jg)Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0);else if(Z.depthTexture.format===ev)Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function ue(re){const Z=r.get(re),ve=re.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==re.depthTexture){const Se=re.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Se){const Ie=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Se.removeEventListener("dispose",Ie)};Se.addEventListener("dispose",Ie),Z.__depthDisposeCallback=Ie}Z.__boundDepthTexture=Se}if(re.depthTexture&&!Z.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");const Se=re.texture.mipmaps;Se&&Se.length>0?ee(Z.__webglFramebuffer[0],re):ee(Z.__webglFramebuffer,re)}else if(ve){Z.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)if(n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[Se]),Z.__webglDepthbuffer[Se]===void 0)Z.__webglDepthbuffer[Se]=t.createRenderbuffer(),Q(Z.__webglDepthbuffer[Se],re,!1);else{const Ie=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=Z.__webglDepthbuffer[Se];t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,Me)}}else{const Se=re.texture.mipmaps;if(Se&&Se.length>0?n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=t.createRenderbuffer(),Q(Z.__webglDepthbuffer,re,!1);else{const Ie=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=Z.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,Me)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function J(re,Z,ve){const Se=r.get(re);Z!==void 0&&K(Se.__webglFramebuffer,re,re.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ve!==void 0&&ue(re)}function q(re){const Z=re.texture,ve=r.get(re),Se=r.get(Z);re.addEventListener("dispose",A);const Ie=re.textures,Me=re.isWebGLCubeRenderTarget===!0,at=Ie.length>1;if(at||(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=Z.version,o.memory.textures++),Me){ve.__webglFramebuffer=[];for(let He=0;He<6;He++)if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer[He]=[];for(let st=0;st<Z.mipmaps.length;st++)ve.__webglFramebuffer[He][st]=t.createFramebuffer()}else ve.__webglFramebuffer[He]=t.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer=[];for(let He=0;He<Z.mipmaps.length;He++)ve.__webglFramebuffer[He]=t.createFramebuffer()}else ve.__webglFramebuffer=t.createFramebuffer();if(at)for(let He=0,st=Ie.length;He<st;He++){const We=r.get(Ie[He]);We.__webglTexture===void 0&&(We.__webglTexture=t.createTexture(),o.memory.textures++)}if(re.samples>0&&Ce(re)===!1){ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let He=0;He<Ie.length;He++){const st=Ie[He];ve.__webglColorRenderbuffer[He]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[He]);const We=s.convert(st.format,st.colorSpace),$e=s.convert(st.type),rt=_(st.internalFormat,We,$e,st.colorSpace,re.isXRRenderTarget===!0),Ct=Ae(re);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ct,rt,re.width,re.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+He,t.RENDERBUFFER,ve.__webglColorRenderbuffer[He])}t.bindRenderbuffer(t.RENDERBUFFER,null),re.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(ve.__webglDepthRenderbuffer,re,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Me){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),G(t.TEXTURE_CUBE_MAP,Z);for(let He=0;He<6;He++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let st=0;st<Z.mipmaps.length;st++)K(ve.__webglFramebuffer[He][st],re,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,st);else K(ve.__webglFramebuffer[He],re,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0);m(Z)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(at){for(let He=0,st=Ie.length;He<st;He++){const We=Ie[He],$e=r.get(We);let rt=t.TEXTURE_2D;(re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(rt=re.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(rt,$e.__webglTexture),G(rt,We),K(ve.__webglFramebuffer,re,We,t.COLOR_ATTACHMENT0+He,rt,0),m(We)&&p(rt)}n.unbindTexture()}else{let He=t.TEXTURE_2D;if((re.isWebGL3DRenderTarget||re.isWebGLArrayRenderTarget)&&(He=re.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(He,Se.__webglTexture),G(He,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let st=0;st<Z.mipmaps.length;st++)K(ve.__webglFramebuffer[st],re,Z,t.COLOR_ATTACHMENT0,He,st);else K(ve.__webglFramebuffer,re,Z,t.COLOR_ATTACHMENT0,He,0);m(Z)&&p(He),n.unbindTexture()}re.depthBuffer&&ue(re)}function ne(re){const Z=re.textures;for(let ve=0,Se=Z.length;ve<Se;ve++){const Ie=Z[ve];if(m(Ie)){const Me=x(re),at=r.get(Ie).__webglTexture;n.bindTexture(Me,at),p(Me),n.unbindTexture()}}}const fe=[],me=[];function pe(re){if(re.samples>0){if(Ce(re)===!1){const Z=re.textures,ve=re.width,Se=re.height;let Ie=t.COLOR_BUFFER_BIT;const Me=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,at=r.get(re),He=Z.length>1;if(He)for(let We=0;We<Z.length;We++)n.bindFramebuffer(t.FRAMEBUFFER,at.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+We,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,at.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+We,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,at.__webglMultisampledFramebuffer);const st=re.texture.mipmaps;st&&st.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,at.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,at.__webglFramebuffer);for(let We=0;We<Z.length;We++){if(re.resolveDepthBuffer&&(re.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),re.stencilBuffer&&re.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),He){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,at.__webglColorRenderbuffer[We]);const $e=r.get(Z[We]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,$e,0)}t.blitFramebuffer(0,0,ve,Se,0,0,ve,Se,Ie,t.NEAREST),l===!0&&(fe.length=0,me.length=0,fe.push(t.COLOR_ATTACHMENT0+We),re.depthBuffer&&re.resolveDepthBuffer===!1&&(fe.push(Me),me.push(Me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,fe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),He)for(let We=0;We<Z.length;We++){n.bindFramebuffer(t.FRAMEBUFFER,at.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+We,t.RENDERBUFFER,at.__webglColorRenderbuffer[We]);const $e=r.get(Z[We]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,at.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+We,t.TEXTURE_2D,$e,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,at.__webglMultisampledFramebuffer)}else if(re.depthBuffer&&re.resolveDepthBuffer===!1&&l){const Z=re.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Z])}}}function Ae(re){return Math.min(i.maxSamples,re.samples)}function Ce(re){const Z=r.get(re);return re.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function ke(re){const Z=o.render.frame;d.get(re)!==Z&&(d.set(re,Z),re.update())}function nt(re,Z){const ve=re.colorSpace,Se=re.format,Ie=re.type;return re.isCompressedTexture===!0||re.isVideoTexture===!0||ve!==Ch&&ve!==fc&&(hn.getTransfer(ve)===jn?(Se!==Bi||Ie!==$o)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ve)),Z}function Je(re){return typeof HTMLImageElement<"u"&&re instanceof HTMLImageElement?(c.width=re.naturalWidth||re.width,c.height=re.naturalHeight||re.height):typeof VideoFrame<"u"&&re instanceof VideoFrame?(c.width=re.displayWidth,c.height=re.displayHeight):(c.width=re.width,c.height=re.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=k,this.setTexture2D=z,this.setTexture2DArray=$,this.setTexture3D=V,this.setTextureCube=R,this.rebindTextures=J,this.setupRenderTarget=q,this.updateRenderTargetMipmap=ne,this.updateMultisampleRenderTarget=pe,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=K,this.useMultisampledRTT=Ce}function Jde(t,e){function n(r,i=fc){let s;const o=hn.getTransfer(i);if(r===$o)return t.UNSIGNED_BYTE;if(r===oP)return t.UNSIGNED_SHORT_4_4_4_4;if(r===aP)return t.UNSIGNED_SHORT_5_5_5_1;if(r===dB)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===fB)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===cB)return t.BYTE;if(r===uB)return t.SHORT;if(r===Zg)return t.UNSIGNED_SHORT;if(r===sP)return t.INT;if(r===Uc)return t.UNSIGNED_INT;if(r===Ms)return t.FLOAT;if(r===Uv)return t.HALF_FLOAT;if(r===hB)return t.ALPHA;if(r===pB)return t.RGB;if(r===Bi)return t.RGBA;if(r===Jg)return t.DEPTH_COMPONENT;if(r===ev)return t.DEPTH_STENCIL;if(r===lP)return t.RED;if(r===Tb)return t.RED_INTEGER;if(r===mB)return t.RG;if(r===cP)return t.RG_INTEGER;if(r===uP)return t.RGBA_INTEGER;if(r===B0||r===U0||r===z0||r===$0)if(o===jn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===B0)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===U0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===z0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===$0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===B0)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===U0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===z0)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===$0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===pM||r===mM||r===gM||r===vM)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===pM)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===mM)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===gM)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===vM)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===yM||r===xM||r===_M)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===yM||r===xM)return o===jn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===_M)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===bM||r===wM||r===SM||r===EM||r===CM||r===MM||r===AM||r===TM||r===PM||r===NM||r===RM||r===OM||r===IM||r===kM)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===bM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===wM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===SM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===EM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===CM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===MM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===AM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===TM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===PM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===NM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===RM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===OM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===IM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===kM)return o===jn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===DM||r===LM||r===jM)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===DM)return o===jn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===LM)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===jM)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===FM||r===BM||r===UM||r===zM)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===FM)return s.COMPRESSED_RED_RGTC1_EXT;if(r===BM)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===UM)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===zM)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Qg?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const Npt=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Rpt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Opt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new TB(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Ho({vertexShader:Npt,fragmentShader:Rpt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Ur(new $v(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Ipt extends zl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,d=null,u=null,f=null,g=null,v=null;const y=typeof XRWebGLBinding<"u",m=new Opt,p={},x=n.getContextAttributes();let _=null,b=null;const S=[],C=[],A=new ze;let M=null;const T=new mr;T.viewport=new xn;const N=new mr;N.viewport=new xn;const I=[T,N],k=new $de;let j=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let U=S[se];return U===void 0&&(U=new YS,S[se]=U),U.getTargetRaySpace()},this.getControllerGrip=function(se){let U=S[se];return U===void 0&&(U=new YS,S[se]=U),U.getGripSpace()},this.getHand=function(se){let U=S[se];return U===void 0&&(U=new YS,S[se]=U),U.getHandSpace()};function z(se){const U=C.indexOf(se.inputSource);if(U===-1)return;const K=S[U];K!==void 0&&(K.update(se.inputSource,se.frame,c||o),K.dispatchEvent({type:se.type,data:se.inputSource}))}function $(){i.removeEventListener("select",z),i.removeEventListener("selectstart",z),i.removeEventListener("selectend",z),i.removeEventListener("squeeze",z),i.removeEventListener("squeezestart",z),i.removeEventListener("squeezeend",z),i.removeEventListener("end",$),i.removeEventListener("inputsourceschange",V);for(let se=0;se<S.length;se++){const U=C[se];U!==null&&(C[se]=null,S[se].disconnect(U))}j=null,F=null,m.reset();for(const se in p)delete p[se];e.setRenderTarget(_),g=null,f=null,u=null,i=null,b=null,ae.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return f!==null?f:g},this.getBinding=function(){return u===null&&y&&(u=new XRWebGLBinding(i,n)),u},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",z),i.addEventListener("selectstart",z),i.addEventListener("selectend",z),i.addEventListener("squeeze",z),i.addEventListener("squeezestart",z),i.addEventListener("squeezeend",z),i.addEventListener("end",$),i.addEventListener("inputsourceschange",V),x.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(A),y&&"createProjectionLayer"in XRWebGLBinding.prototype){let K=null,Q=null,ee=null;x.depth&&(ee=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,K=x.stencil?ev:Jg,Q=x.stencil?Qg:Uc);const ue={colorFormat:n.RGBA8,depthFormat:ee,scaleFactor:s};u=this.getBinding(),f=u.createProjectionLayer(ue),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),b=new Nl(f.textureWidth,f.textureHeight,{format:Bi,type:$o,depthTexture:new AB(f.textureWidth,f.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,K),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const K={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,K),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),b=new Nl(g.framebufferWidth,g.framebufferHeight,{format:Bi,type:$o,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ae.setContext(i),ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function V(se){for(let U=0;U<se.removed.length;U++){const K=se.removed[U],Q=C.indexOf(K);Q>=0&&(C[Q]=null,S[Q].disconnect(K))}for(let U=0;U<se.added.length;U++){const K=se.added[U];let Q=C.indexOf(K);if(Q===-1){for(let ue=0;ue<S.length;ue++)if(ue>=C.length){C.push(K),Q=ue;break}else if(C[ue]===null){C[ue]=K,Q=ue;break}if(Q===-1)break}const ee=S[Q];ee&&ee.connect(K)}}const R=new le,L=new le;function B(se,U,K){R.setFromMatrixPosition(U.matrixWorld),L.setFromMatrixPosition(K.matrixWorld);const Q=R.distanceTo(L),ee=U.projectionMatrix.elements,ue=K.projectionMatrix.elements,J=ee[14]/(ee[10]-1),q=ee[14]/(ee[10]+1),ne=(ee[9]+1)/ee[5],fe=(ee[9]-1)/ee[5],me=(ee[8]-1)/ee[0],pe=(ue[8]+1)/ue[0],Ae=J*me,Ce=J*pe,ke=Q/(-me+pe),nt=ke*-me;if(U.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(nt),se.translateZ(ke),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),ee[10]===-1)se.projectionMatrix.copy(U.projectionMatrix),se.projectionMatrixInverse.copy(U.projectionMatrixInverse);else{const Je=J+ke,re=q+ke,Z=Ae-nt,ve=Ce+(Q-nt),Se=ne*q/re*Je,Ie=fe*q/re*Je;se.projectionMatrix.makePerspective(Z,ve,Se,Ie,Je,re),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function W(se,U){U===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices(U.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;let U=se.near,K=se.far;m.texture!==null&&(m.depthNear>0&&(U=m.depthNear),m.depthFar>0&&(K=m.depthFar)),k.near=N.near=T.near=U,k.far=N.far=T.far=K,(j!==k.near||F!==k.far)&&(i.updateRenderState({depthNear:k.near,depthFar:k.far}),j=k.near,F=k.far),k.layers.mask=se.layers.mask|6,T.layers.mask=k.layers.mask&3,N.layers.mask=k.layers.mask&5;const Q=se.parent,ee=k.cameras;W(k,Q);for(let ue=0;ue<ee.length;ue++)W(ee[ue],Q);ee.length===2?B(k,T,N):k.projectionMatrix.copy(T.projectionMatrix),G(se,k,Q)};function G(se,U,K){K===null?se.matrix.copy(U.matrixWorld):(se.matrix.copy(K.matrixWorld),se.matrix.invert(),se.matrix.multiply(U.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy(U.projectionMatrix),se.projectionMatrixInverse.copy(U.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=nv*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return k},this.getFoveation=function(){if(!(f===null&&g===null))return l},this.setFoveation=function(se){l=se,f!==null&&(f.fixedFoveation=se),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=se)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(k)},this.getCameraTexture=function(se){return p[se]};let Y=null;function ie(se,U){if(d=U.getViewerPose(c||o),v=U,d!==null){const K=d.views;g!==null&&(e.setRenderTargetFramebuffer(b,g.framebuffer),e.setRenderTarget(b));let Q=!1;K.length!==k.cameras.length&&(k.cameras.length=0,Q=!0);for(let q=0;q<K.length;q++){const ne=K[q];let fe=null;if(g!==null)fe=g.getViewport(ne);else{const pe=u.getViewSubImage(f,ne);fe=pe.viewport,q===0&&(e.setRenderTargetTextures(b,pe.colorTexture,pe.depthStencilTexture),e.setRenderTarget(b))}let me=I[q];me===void 0&&(me=new mr,me.layers.enable(q),me.viewport=new xn,I[q]=me),me.matrix.fromArray(ne.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(ne.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(fe.x,fe.y,fe.width,fe.height),q===0&&(k.matrix.copy(me.matrix),k.matrix.decompose(k.position,k.quaternion,k.scale)),Q===!0&&k.cameras.push(me)}const ee=i.enabledFeatures;if(ee&&ee.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&y){u=r.getBinding();const q=u.getDepthInformation(K[0]);q&&q.isValid&&q.texture&&m.init(q,i.renderState)}if(ee&&ee.includes("camera-access")&&y){e.state.unbindTexture(),u=r.getBinding();for(let q=0;q<K.length;q++){const ne=K[q].camera;if(ne){let fe=p[ne];fe||(fe=new TB,p[ne]=fe);const me=u.getCameraImage(ne);fe.sourceTexture=me}}}}for(let K=0;K<S.length;K++){const Q=C[K],ee=S[K];Q!==null&&ee!==void 0&&ee.update(Q,U,c||o)}Y&&Y(se,U),U.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:U}),v=null}const ae=new qde;ae.setAnimationLoop(ie),this.setAnimationLoop=function(se){Y=se},this.dispose=function(){}}}const uf=new co,kpt=new Gt;function Dpt(t,e){function n(m,p){m.matrixAutoUpdate===!0&&m.updateMatrix(),p.value.copy(m.matrix)}function r(m,p){p.color.getRGB(m.fogColor.value,que(t)),p.isFog?(m.fogNear.value=p.near,m.fogFar.value=p.far):p.isFogExp2&&(m.fogDensity.value=p.density)}function i(m,p,x,_,b){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(m,p):p.isMeshToonMaterial?(s(m,p),u(m,p)):p.isMeshPhongMaterial?(s(m,p),d(m,p)):p.isMeshStandardMaterial?(s(m,p),f(m,p),p.isMeshPhysicalMaterial&&g(m,p,b)):p.isMeshMatcapMaterial?(s(m,p),v(m,p)):p.isMeshDepthMaterial?s(m,p):p.isMeshDistanceMaterial?(s(m,p),y(m,p)):p.isMeshNormalMaterial?s(m,p):p.isLineBasicMaterial?(o(m,p),p.isLineDashedMaterial&&a(m,p)):p.isPointsMaterial?l(m,p,x,_):p.isSpriteMaterial?c(m,p):p.isShadowMaterial?(m.color.value.copy(p.color),m.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(m,p){m.opacity.value=p.opacity,p.color&&m.diffuse.value.copy(p.color),p.emissive&&m.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.bumpMap&&(m.bumpMap.value=p.bumpMap,n(p.bumpMap,m.bumpMapTransform),m.bumpScale.value=p.bumpScale,p.side===Ui&&(m.bumpScale.value*=-1)),p.normalMap&&(m.normalMap.value=p.normalMap,n(p.normalMap,m.normalMapTransform),m.normalScale.value.copy(p.normalScale),p.side===Ui&&m.normalScale.value.negate()),p.displacementMap&&(m.displacementMap.value=p.displacementMap,n(p.displacementMap,m.displacementMapTransform),m.displacementScale.value=p.displacementScale,m.displacementBias.value=p.displacementBias),p.emissiveMap&&(m.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,m.emissiveMapTransform)),p.specularMap&&(m.specularMap.value=p.specularMap,n(p.specularMap,m.specularMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest);const x=e.get(p),_=x.envMap,b=x.envMapRotation;_&&(m.envMap.value=_,uf.copy(b),uf.x*=-1,uf.y*=-1,uf.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(uf.y*=-1,uf.z*=-1),m.envMapRotation.value.setFromMatrix4(kpt.makeRotationFromEuler(uf)),m.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=p.reflectivity,m.ior.value=p.ior,m.refractionRatio.value=p.refractionRatio),p.lightMap&&(m.lightMap.value=p.lightMap,m.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,m.lightMapTransform)),p.aoMap&&(m.aoMap.value=p.aoMap,m.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,m.aoMapTransform))}function o(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform))}function a(m,p){m.dashSize.value=p.dashSize,m.totalSize.value=p.dashSize+p.gapSize,m.scale.value=p.scale}function l(m,p,x,_){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.size.value=p.size*x,m.scale.value=_*.5,p.map&&(m.map.value=p.map,n(p.map,m.uvTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function c(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.rotation.value=p.rotation,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function d(m,p){m.specular.value.copy(p.specular),m.shininess.value=Math.max(p.shininess,1e-4)}function u(m,p){p.gradientMap&&(m.gradientMap.value=p.gradientMap)}function f(m,p){m.metalness.value=p.metalness,p.metalnessMap&&(m.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,m.metalnessMapTransform)),m.roughness.value=p.roughness,p.roughnessMap&&(m.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,m.roughnessMapTransform)),p.envMap&&(m.envMapIntensity.value=p.envMapIntensity)}function g(m,p,x){m.ior.value=p.ior,p.sheen>0&&(m.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),m.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(m.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,m.sheenColorMapTransform)),p.sheenRoughnessMap&&(m.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,m.sheenRoughnessMapTransform))),p.clearcoat>0&&(m.clearcoat.value=p.clearcoat,m.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(m.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,m.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(m.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===Ui&&m.clearcoatNormalScale.value.negate())),p.dispersion>0&&(m.dispersion.value=p.dispersion),p.iridescence>0&&(m.iridescence.value=p.iridescence,m.iridescenceIOR.value=p.iridescenceIOR,m.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(m.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,m.iridescenceMapTransform)),p.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),p.transmission>0&&(m.transmission.value=p.transmission,m.transmissionSamplerMap.value=x.texture,m.transmissionSamplerSize.value.set(x.width,x.height),p.transmissionMap&&(m.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,m.transmissionMapTransform)),m.thickness.value=p.thickness,p.thicknessMap&&(m.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=p.attenuationDistance,m.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(m.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(m.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=p.specularIntensity,m.specularColor.value.copy(p.specularColor),p.specularColorMap&&(m.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,m.specularColorMapTransform)),p.specularIntensityMap&&(m.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,m.specularIntensityMapTransform))}function v(m,p){p.matcap&&(m.matcap.value=p.matcap)}function y(m,p){const x=e.get(p).light;m.referencePosition.value.setFromMatrixPosition(x.matrixWorld),m.nearDistance.value=x.shadow.camera.near,m.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Lpt(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,_){const b=_.program;r.uniformBlockBinding(x,b)}function c(x,_){let b=i[x.id];b===void 0&&(v(x),b=d(x),i[x.id]=b,x.addEventListener("dispose",m));const S=_.program;r.updateUBOMapping(x,S);const C=e.render.frame;s[x.id]!==C&&(f(x),s[x.id]=C)}function d(x){const _=u();x.__bindingPointIndex=_;const b=t.createBuffer(),S=x.__size,C=x.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,S,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,b),b}function u(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(x){const _=i[x.id],b=x.uniforms,S=x.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let C=0,A=b.length;C<A;C++){const M=Array.isArray(b[C])?b[C]:[b[C]];for(let T=0,N=M.length;T<N;T++){const I=M[T];if(g(I,C,T,S)===!0){const k=I.__offset,j=Array.isArray(I.value)?I.value:[I.value];let F=0;for(let z=0;z<j.length;z++){const $=j[z],V=y($);typeof $=="number"||typeof $=="boolean"?(I.__data[0]=$,t.bufferSubData(t.UNIFORM_BUFFER,k+F,I.__data)):$.isMatrix3?(I.__data[0]=$.elements[0],I.__data[1]=$.elements[1],I.__data[2]=$.elements[2],I.__data[3]=0,I.__data[4]=$.elements[3],I.__data[5]=$.elements[4],I.__data[6]=$.elements[5],I.__data[7]=0,I.__data[8]=$.elements[6],I.__data[9]=$.elements[7],I.__data[10]=$.elements[8],I.__data[11]=0):($.toArray(I.__data,F),F+=V.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,k,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(x,_,b,S){const C=x.value,A=_+"_"+b;if(S[A]===void 0)return typeof C=="number"||typeof C=="boolean"?S[A]=C:S[A]=C.clone(),!0;{const M=S[A];if(typeof C=="number"||typeof C=="boolean"){if(M!==C)return S[A]=C,!0}else if(M.equals(C)===!1)return M.copy(C),!0}return!1}function v(x){const _=x.uniforms;let b=0;const S=16;for(let A=0,M=_.length;A<M;A++){const T=Array.isArray(_[A])?_[A]:[_[A]];for(let N=0,I=T.length;N<I;N++){const k=T[N],j=Array.isArray(k.value)?k.value:[k.value];for(let F=0,z=j.length;F<z;F++){const $=j[F],V=y($),R=b%S,L=R%V.boundary,B=R+L;b+=L,B!==0&&S-B<V.storage&&(b+=S-B),k.__data=new Float32Array(V.storage/Float32Array.BYTES_PER_ELEMENT),k.__offset=b,b+=V.storage}}}const C=b%S;return C>0&&(b+=S-C),x.__size=b,x.__cache={},this}function y(x){const _={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(_.boundary=4,_.storage=4):x.isVector2?(_.boundary=8,_.storage=8):x.isVector3||x.isColor?(_.boundary=16,_.storage=12):x.isVector4?(_.boundary=16,_.storage=16):x.isMatrix3?(_.boundary=48,_.storage=48):x.isMatrix4?(_.boundary=64,_.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),_}function m(x){const _=x.target;_.removeEventListener("dispose",m);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function p(){for(const x in i)t.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:p}}class efe{constructor(e={}){const{canvas:n=Wue(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:d="default",failIfMajorPerformanceCaveat:u=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const v=new Uint32Array(4),y=new Int32Array(4);let m=null,p=null;const x=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=_l,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const b=this;let S=!1;this._outputColorSpace=xs;let C=0,A=0,M=null,T=-1,N=null;const I=new xn,k=new xn;let j=null;const F=new ht(0);let z=0,$=n.width,V=n.height,R=1,L=null,B=null;const W=new xn(0,0,$,V),G=new xn(0,0,$,V);let Y=!1;const ie=new zv;let ae=!1,se=!1;const U=new Gt,K=new le,Q=new xn,ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ue=!1;function J(){return M===null?R:1}let q=r;function ne(oe,_e){return n.getContext(oe,_e)}try{const oe={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:d,failIfMajorPerformanceCaveat:u};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Mb}`),n.addEventListener("webglcontextlost",Be,!1),n.addEventListener("webglcontextrestored",Ve,!1),n.addEventListener("webglcontextcreationerror",Ue,!1),q===null){const _e="webgl2";if(q=ne(_e,oe),q===null)throw ne(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let fe,me,pe,Ae,Ce,ke,nt,Je,re,Z,ve,Se,Ie,Me,at,He,st,We,$e,rt,Ct,he,Ee,Ke;function ce(){fe=new qft(q),fe.init(),he=new Jde(q,fe),me=new zft(q,fe,e,he),pe=new Tpt(q,fe),me.reversedDepthBuffer&&f&&pe.buffers.depth.setReversed(!0),Ae=new Zft(q),Ce=new mpt,ke=new Ppt(q,fe,pe,Ce,me,he,Ae),nt=new Hft(b),Je=new Xft(b),re=new rut(q),Ee=new Bft(q,re),Z=new Kft(q,re,Ae,Ee),ve=new Jft(q,Z,re,Ae),$e=new Qft(q,me,ke),He=new $ft(Ce),Se=new ppt(b,nt,Je,fe,me,Ee,He),Ie=new Dpt(b,Ce),Me=new vpt,at=new Spt(fe),We=new Fft(b,nt,Je,pe,ve,g,l),st=new Mpt(b,ve,me),Ke=new Lpt(q,Ae,me,pe),rt=new Uft(q,fe,Ae),Ct=new Yft(q,fe,Ae),Ae.programs=Se.programs,b.capabilities=me,b.extensions=fe,b.properties=Ce,b.renderLists=Me,b.shadowMap=st,b.state=pe,b.info=Ae}ce();const Ne=new Ipt(b,q);this.xr=Ne,this.getContext=function(){return q},this.getContextAttributes=function(){return q.getContextAttributes()},this.forceContextLoss=function(){const oe=fe.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=fe.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(oe){oe!==void 0&&(R=oe,this.setSize($,V,!1))},this.getSize=function(oe){return oe.set($,V)},this.setSize=function(oe,_e,Pe=!0){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}$=oe,V=_e,n.width=Math.floor(oe*R),n.height=Math.floor(_e*R),Pe===!0&&(n.style.width=oe+"px",n.style.height=_e+"px"),this.setViewport(0,0,oe,_e)},this.getDrawingBufferSize=function(oe){return oe.set($*R,V*R).floor()},this.setDrawingBufferSize=function(oe,_e,Pe){$=oe,V=_e,R=Pe,n.width=Math.floor(oe*Pe),n.height=Math.floor(_e*Pe),this.setViewport(0,0,oe,_e)},this.getCurrentViewport=function(oe){return oe.copy(I)},this.getViewport=function(oe){return oe.copy(W)},this.setViewport=function(oe,_e,Pe,Re){oe.isVector4?W.set(oe.x,oe.y,oe.z,oe.w):W.set(oe,_e,Pe,Re),pe.viewport(I.copy(W).multiplyScalar(R).round())},this.getScissor=function(oe){return oe.copy(G)},this.setScissor=function(oe,_e,Pe,Re){oe.isVector4?G.set(oe.x,oe.y,oe.z,oe.w):G.set(oe,_e,Pe,Re),pe.scissor(k.copy(G).multiplyScalar(R).round())},this.getScissorTest=function(){return Y},this.setScissorTest=function(oe){pe.setScissorTest(Y=oe)},this.setOpaqueSort=function(oe){L=oe},this.setTransparentSort=function(oe){B=oe},this.getClearColor=function(oe){return oe.copy(We.getClearColor())},this.setClearColor=function(){We.setClearColor(...arguments)},this.getClearAlpha=function(){return We.getClearAlpha()},this.setClearAlpha=function(){We.setClearAlpha(...arguments)},this.clear=function(oe=!0,_e=!0,Pe=!0){let Re=0;if(oe){let be=!1;if(M!==null){const qe=M.texture.format;be=qe===uP||qe===cP||qe===Tb}if(be){const qe=M.texture.type,lt=qe===$o||qe===Uc||qe===Zg||qe===Qg||qe===oP||qe===aP,yt=We.getClearColor(),gt=We.getClearAlpha(),It=yt.r,Ot=yt.g,bt=yt.b;lt?(v[0]=It,v[1]=Ot,v[2]=bt,v[3]=gt,q.clearBufferuiv(q.COLOR,0,v)):(y[0]=It,y[1]=Ot,y[2]=bt,y[3]=gt,q.clearBufferiv(q.COLOR,0,y))}else Re|=q.COLOR_BUFFER_BIT}_e&&(Re|=q.DEPTH_BUFFER_BIT),Pe&&(Re|=q.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),q.clear(Re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Be,!1),n.removeEventListener("webglcontextrestored",Ve,!1),n.removeEventListener("webglcontextcreationerror",Ue,!1),We.dispose(),Me.dispose(),at.dispose(),Ce.dispose(),nt.dispose(),Je.dispose(),ve.dispose(),Ee.dispose(),Ke.dispose(),Se.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",Rn),Ne.removeEventListener("sessionend",Ko),cs.stop()};function Be(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function Ve(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const oe=Ae.autoReset,_e=st.enabled,Pe=st.autoUpdate,Re=st.needsUpdate,be=st.type;ce(),Ae.autoReset=oe,st.enabled=_e,st.autoUpdate=Pe,st.needsUpdate=Re,st.type=be}function Ue(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function Le(oe){const _e=oe.target;_e.removeEventListener("dispose",Le),Ye(_e)}function Ye(oe){mt(oe),Ce.remove(oe)}function mt(oe){const _e=Ce.get(oe).programs;_e!==void 0&&(_e.forEach(function(Pe){Se.releaseProgram(Pe)}),oe.isShaderMaterial&&Se.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,_e,Pe,Re,be,qe){_e===null&&(_e=ee);const lt=be.isMesh&&be.matrixWorld.determinant()<0,yt=Qh(oe,_e,Pe,Re,be);pe.setMaterial(Re,lt);let gt=Pe.index,It=1;if(Re.wireframe===!0){if(gt=Z.getWireframeAttribute(Pe),gt===void 0)return;It=2}const Ot=Pe.drawRange,bt=Pe.attributes.position;let St=Ot.start*It,Nt=(Ot.start+Ot.count)*It;qe!==null&&(St=Math.max(St,qe.start*It),Nt=Math.min(Nt,(qe.start+qe.count)*It)),gt!==null?(St=Math.max(St,0),Nt=Math.min(Nt,gt.count)):bt!=null&&(St=Math.max(St,0),Nt=Math.min(Nt,bt.count));const mn=Nt-St;if(mn<0||mn===1/0)return;Ee.setup(be,Re,yt,Pe,gt);let qt,Kt=rt;if(gt!==null&&(qt=re.get(gt),Kt=Ct,Kt.setIndex(qt)),be.isMesh)Re.wireframe===!0?(pe.setLineWidth(Re.wireframeLinewidth*J()),Kt.setMode(q.LINES)):Kt.setMode(q.TRIANGLES);else if(be.isLine){let Mt=Re.linewidth;Mt===void 0&&(Mt=1),pe.setLineWidth(Mt*J()),be.isLineSegments?Kt.setMode(q.LINES):be.isLineLoop?Kt.setMode(q.LINE_LOOP):Kt.setMode(q.LINE_STRIP)}else be.isPoints?Kt.setMode(q.POINTS):be.isSprite&&Kt.setMode(q.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)__("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Kt.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(fe.get("WEBGL_multi_draw"))Kt.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const Mt=be._multiDrawStarts,Sn=be._multiDrawCounts,$t=be._multiDrawCount,dr=gt?re.get(gt).bytesPerElement:1,Yo=Ce.get(Re).currentProgram.getUniforms();for(let ri=0;ri<$t;ri++)Yo.setValue(q,"_gl_DrawID",ri),Kt.render(Mt[ri]/dr,Sn[ri])}else if(be.isInstancedMesh)Kt.renderInstances(St,mn,be.count);else if(Pe.isInstancedBufferGeometry){const Mt=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,Sn=Math.min(Pe.instanceCount,Mt);Kt.renderInstances(St,mn,Sn)}else Kt.render(St,mn)};function jt(oe,_e,Pe){oe.transparent===!0&&oe.side===xa&&oe.forceSinglePass===!1?(oe.side=Ui,oe.needsUpdate=!0,nu(oe,_e,Pe),oe.side=Fc,oe.needsUpdate=!0,nu(oe,_e,Pe),oe.side=xa):nu(oe,_e,Pe)}this.compile=function(oe,_e,Pe=null){Pe===null&&(Pe=oe),p=at.get(Pe),p.init(_e),_.push(p),Pe.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),oe!==Pe&&oe.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),p.setupLights();const Re=new Set;return oe.traverse(function(be){if(!(be.isMesh||be.isPoints||be.isLine||be.isSprite))return;const qe=be.material;if(qe)if(Array.isArray(qe))for(let lt=0;lt<qe.length;lt++){const yt=qe[lt];jt(yt,Pe,be),Re.add(yt)}else jt(qe,Pe,be),Re.add(qe)}),p=_.pop(),Re},this.compileAsync=function(oe,_e,Pe=null){const Re=this.compile(oe,_e,Pe);return new Promise(be=>{function qe(){if(Re.forEach(function(lt){Ce.get(lt).currentProgram.isReady()&&Re.delete(lt)}),Re.size===0){be(oe);return}setTimeout(qe,10)}fe.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let zt=null;function Ln(oe){zt&&zt(oe)}function Rn(){cs.stop()}function Ko(){cs.start()}const cs=new qde;cs.setAnimationLoop(Ln),typeof self<"u"&&cs.setContext(self),this.setAnimationLoop=function(oe){zt=oe,Ne.setAnimationLoop(oe),oe===null?cs.stop():cs.start()},Ne.addEventListener("sessionstart",Rn),Ne.addEventListener("sessionend",Ko),this.render=function(oe,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;if(oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(_e),_e=Ne.getCamera()),oe.isScene===!0&&oe.onBeforeRender(b,oe,_e,M),p=at.get(oe,_.length),p.init(_e),_.push(p),U.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ie.setFromProjectionMatrix(U,eo,_e.reversedDepth),se=this.localClippingEnabled,ae=He.init(this.clippingPlanes,se),m=Me.get(oe,x.length),m.init(),x.push(m),Ne.enabled===!0&&Ne.isPresenting===!0){const qe=b.xr.getDepthSensingMesh();qe!==null&&eu(qe,_e,-1/0,b.sortObjects)}eu(oe,_e,0,b.sortObjects),m.finish(),b.sortObjects===!0&&m.sort(L,B),ue=Ne.enabled===!1||Ne.isPresenting===!1||Ne.hasDepthSensing()===!1,ue&&We.addToRenderList(m,oe),this.info.render.frame++,ae===!0&&He.beginShadows();const Pe=p.state.shadowsArray;st.render(Pe,oe,_e),ae===!0&&He.endShadows(),this.info.autoReset===!0&&this.info.reset();const Re=m.opaque,be=m.transmissive;if(p.setupLights(),_e.isArrayCamera){const qe=_e.cameras;if(be.length>0)for(let lt=0,yt=qe.length;lt<yt;lt++){const gt=qe[lt];qh(Re,be,oe,gt)}ue&&We.render(oe);for(let lt=0,yt=qe.length;lt<yt;lt++){const gt=qe[lt];tu(m,oe,gt,gt.viewport)}}else be.length>0&&qh(Re,be,oe,_e),ue&&We.render(oe),tu(m,oe,_e);M!==null&&A===0&&(ke.updateMultisampleRenderTarget(M),ke.updateRenderTargetMipmap(M)),oe.isScene===!0&&oe.onAfterRender(b,oe,_e),Ee.resetDefaultState(),T=-1,N=null,_.pop(),_.length>0?(p=_[_.length-1],ae===!0&&He.setGlobalState(b.clippingPlanes,p.state.camera)):p=null,x.pop(),x.length>0?m=x[x.length-1]:m=null};function eu(oe,_e,Pe,Re){if(oe.visible===!1)return;if(oe.layers.test(_e.layers)){if(oe.isGroup)Pe=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(_e);else if(oe.isLight)p.pushLight(oe),oe.castShadow&&p.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||ie.intersectsSprite(oe)){Re&&Q.setFromMatrixPosition(oe.matrixWorld).applyMatrix4(U);const lt=ve.update(oe),yt=oe.material;yt.visible&&m.push(oe,lt,yt,Pe,Q.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||ie.intersectsObject(oe))){const lt=ve.update(oe),yt=oe.material;if(Re&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),Q.copy(oe.boundingSphere.center)):(lt.boundingSphere===null&&lt.computeBoundingSphere(),Q.copy(lt.boundingSphere.center)),Q.applyMatrix4(oe.matrixWorld).applyMatrix4(U)),Array.isArray(yt)){const gt=lt.groups;for(let It=0,Ot=gt.length;It<Ot;It++){const bt=gt[It],St=yt[bt.materialIndex];St&&St.visible&&m.push(oe,lt,St,Pe,Q.z,bt)}}else yt.visible&&m.push(oe,lt,yt,Pe,Q.z,null)}}const qe=oe.children;for(let lt=0,yt=qe.length;lt<yt;lt++)eu(qe[lt],_e,Pe,Re)}function tu(oe,_e,Pe,Re){const be=oe.opaque,qe=oe.transmissive,lt=oe.transparent;p.setupLightsView(Pe),ae===!0&&He.setGlobalState(b.clippingPlanes,Pe),Re&&pe.viewport(I.copy(Re)),be.length>0&&ho(be,_e,Pe),qe.length>0&&ho(qe,_e,Pe),lt.length>0&&ho(lt,_e,Pe),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function qh(oe,_e,Pe,Re){if((Pe.isScene===!0?Pe.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[Re.id]===void 0&&(p.state.transmissionRenderTarget[Re.id]=new Nl(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")||fe.has("EXT_color_buffer_float")?Uv:$o,minFilter:dl,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:hn.workingColorSpace}));const qe=p.state.transmissionRenderTarget[Re.id],lt=Re.viewport||I;qe.setSize(lt.z*b.transmissionResolutionScale,lt.w*b.transmissionResolutionScale);const yt=b.getRenderTarget(),gt=b.getActiveCubeFace(),It=b.getActiveMipmapLevel();b.setRenderTarget(qe),b.getClearColor(F),z=b.getClearAlpha(),z<1&&b.setClearColor(16777215,.5),b.clear(),ue&&We.render(Pe);const Ot=b.toneMapping;b.toneMapping=_l;const bt=Re.viewport;if(Re.viewport!==void 0&&(Re.viewport=void 0),p.setupLightsView(Re),ae===!0&&He.setGlobalState(b.clippingPlanes,Re),ho(oe,Pe,Re),ke.updateMultisampleRenderTarget(qe),ke.updateRenderTargetMipmap(qe),fe.has("WEBGL_multisampled_render_to_texture")===!1){let St=!1;for(let Nt=0,mn=_e.length;Nt<mn;Nt++){const qt=_e[Nt],Kt=qt.object,Mt=qt.geometry,Sn=qt.material,$t=qt.group;if(Sn.side===xa&&Kt.layers.test(Re.layers)){const dr=Sn.side;Sn.side=Ui,Sn.needsUpdate=!0,Kh(Kt,Pe,Re,Mt,Sn,$t),Sn.side=dr,Sn.needsUpdate=!0,St=!0}}St===!0&&(ke.updateMultisampleRenderTarget(qe),ke.updateRenderTargetMipmap(qe))}b.setRenderTarget(yt,gt,It),b.setClearColor(F,z),bt!==void 0&&(Re.viewport=bt),b.toneMapping=Ot}function ho(oe,_e,Pe){const Re=_e.isScene===!0?_e.overrideMaterial:null;for(let be=0,qe=oe.length;be<qe;be++){const lt=oe[be],yt=lt.object,gt=lt.geometry,It=lt.group;let Ot=lt.material;Ot.allowOverride===!0&&Re!==null&&(Ot=Re),yt.layers.test(Pe.layers)&&Kh(yt,_e,Pe,gt,Ot,It)}}function Kh(oe,_e,Pe,Re,be,qe){oe.onBeforeRender(b,_e,Pe,Re,be,qe),oe.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),be.onBeforeRender(b,_e,Pe,Re,oe,qe),be.transparent===!0&&be.side===xa&&be.forceSinglePass===!1?(be.side=Ui,be.needsUpdate=!0,b.renderBufferDirect(Pe,_e,Re,be,oe,qe),be.side=Fc,be.needsUpdate=!0,b.renderBufferDirect(Pe,_e,Re,be,oe,qe),be.side=xa):b.renderBufferDirect(Pe,_e,Re,be,oe,qe),oe.onAfterRender(b,_e,Pe,Re,be,qe)}function nu(oe,_e,Pe){_e.isScene!==!0&&(_e=ee);const Re=Ce.get(oe),be=p.state.lights,qe=p.state.shadowsArray,lt=be.state.version,yt=Se.getParameters(oe,be.state,qe,_e,Pe),gt=Se.getProgramCacheKey(yt);let It=Re.programs;Re.environment=oe.isMeshStandardMaterial?_e.environment:null,Re.fog=_e.fog,Re.envMap=(oe.isMeshStandardMaterial?Je:nt).get(oe.envMap||Re.environment),Re.envMapRotation=Re.environment!==null&&oe.envMap===null?_e.environmentRotation:oe.envMapRotation,It===void 0&&(oe.addEventListener("dispose",Le),It=new Map,Re.programs=It);let Ot=It.get(gt);if(Ot!==void 0){if(Re.currentProgram===Ot&&Re.lightsStateVersion===lt)return Zh(oe,yt),Ot}else yt.uniforms=Se.getUniforms(oe),oe.onBeforeCompile(yt,b),Ot=Se.acquireProgram(yt,gt),It.set(gt,Ot),Re.uniforms=yt.uniforms;const bt=Re.uniforms;return(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(bt.clippingPlanes=He.uniform),Zh(oe,yt),Re.needsLights=ep(oe),Re.lightsStateVersion=lt,Re.needsLights&&(bt.ambientLightColor.value=be.state.ambient,bt.lightProbe.value=be.state.probe,bt.directionalLights.value=be.state.directional,bt.directionalLightShadows.value=be.state.directionalShadow,bt.spotLights.value=be.state.spot,bt.spotLightShadows.value=be.state.spotShadow,bt.rectAreaLights.value=be.state.rectArea,bt.ltc_1.value=be.state.rectAreaLTC1,bt.ltc_2.value=be.state.rectAreaLTC2,bt.pointLights.value=be.state.point,bt.pointLightShadows.value=be.state.pointShadow,bt.hemisphereLights.value=be.state.hemi,bt.directionalShadowMap.value=be.state.directionalShadowMap,bt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,bt.spotShadowMap.value=be.state.spotShadowMap,bt.spotLightMatrix.value=be.state.spotLightMatrix,bt.spotLightMap.value=be.state.spotLightMap,bt.pointShadowMap.value=be.state.pointShadowMap,bt.pointShadowMatrix.value=be.state.pointShadowMatrix),Re.currentProgram=Ot,Re.uniformsList=null,Ot}function Yh(oe){if(oe.uniformsList===null){const _e=oe.currentProgram.getUniforms();oe.uniformsList=ZS.seqWithValue(_e.seq,oe.uniforms)}return oe.uniformsList}function Zh(oe,_e){const Pe=Ce.get(oe);Pe.outputColorSpace=_e.outputColorSpace,Pe.batching=_e.batching,Pe.batchingColor=_e.batchingColor,Pe.instancing=_e.instancing,Pe.instancingColor=_e.instancingColor,Pe.instancingMorph=_e.instancingMorph,Pe.skinning=_e.skinning,Pe.morphTargets=_e.morphTargets,Pe.morphNormals=_e.morphNormals,Pe.morphColors=_e.morphColors,Pe.morphTargetsCount=_e.morphTargetsCount,Pe.numClippingPlanes=_e.numClippingPlanes,Pe.numIntersection=_e.numClipIntersection,Pe.vertexAlphas=_e.vertexAlphas,Pe.vertexTangents=_e.vertexTangents,Pe.toneMapping=_e.toneMapping}function Qh(oe,_e,Pe,Re,be){_e.isScene!==!0&&(_e=ee),ke.resetTextureUnits();const qe=_e.fog,lt=Re.isMeshStandardMaterial?_e.environment:null,yt=M===null?b.outputColorSpace:M.isXRRenderTarget===!0?M.texture.colorSpace:Ch,gt=(Re.isMeshStandardMaterial?Je:nt).get(Re.envMap||lt),It=Re.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,Ot=!!Pe.attributes.tangent&&(!!Re.normalMap||Re.anisotropy>0),bt=!!Pe.morphAttributes.position,St=!!Pe.morphAttributes.normal,Nt=!!Pe.morphAttributes.color;let mn=_l;Re.toneMapped&&(M===null||M.isXRRenderTarget===!0)&&(mn=b.toneMapping);const qt=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,Kt=qt!==void 0?qt.length:0,Mt=Ce.get(Re),Sn=p.state.lights;if(ae===!0&&(se===!0||oe!==N)){const Ir=oe===N&&Re.id===T;He.setState(Re,oe,Ir)}let $t=!1;Re.version===Mt.__version?(Mt.needsLights&&Mt.lightsStateVersion!==Sn.state.version||Mt.outputColorSpace!==yt||be.isBatchedMesh&&Mt.batching===!1||!be.isBatchedMesh&&Mt.batching===!0||be.isBatchedMesh&&Mt.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&Mt.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&Mt.instancing===!1||!be.isInstancedMesh&&Mt.instancing===!0||be.isSkinnedMesh&&Mt.skinning===!1||!be.isSkinnedMesh&&Mt.skinning===!0||be.isInstancedMesh&&Mt.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&Mt.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&Mt.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&Mt.instancingMorph===!1&&be.morphTexture!==null||Mt.envMap!==gt||Re.fog===!0&&Mt.fog!==qe||Mt.numClippingPlanes!==void 0&&(Mt.numClippingPlanes!==He.numPlanes||Mt.numIntersection!==He.numIntersection)||Mt.vertexAlphas!==It||Mt.vertexTangents!==Ot||Mt.morphTargets!==bt||Mt.morphNormals!==St||Mt.morphColors!==Nt||Mt.toneMapping!==mn||Mt.morphTargetsCount!==Kt)&&($t=!0):($t=!0,Mt.__version=Re.version);let dr=Mt.currentProgram;$t===!0&&(dr=nu(Re,_e,be));let Yo=!1,ri=!1,po=!1;const On=dr.getUniforms(),Xn=Mt.uniforms;if(pe.useProgram(dr.program)&&(Yo=!0,ri=!0,po=!0),Re.id!==T&&(T=Re.id,ri=!0),Yo||N!==oe){pe.buffers.depth.getReversed()&&oe.reversedDepth!==!0&&(oe._reversedDepth=!0,oe.updateProjectionMatrix()),On.setValue(q,"projectionMatrix",oe.projectionMatrix),On.setValue(q,"viewMatrix",oe.matrixWorldInverse);const Ci=On.map.cameraPosition;Ci!==void 0&&Ci.setValue(q,K.setFromMatrixPosition(oe.matrixWorld)),me.logarithmicDepthBuffer&&On.setValue(q,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial)&&On.setValue(q,"isOrthographic",oe.isOrthographicCamera===!0),N!==oe&&(N=oe,ri=!0,po=!0)}if(be.isSkinnedMesh){On.setOptional(q,be,"bindMatrix"),On.setOptional(q,be,"bindMatrixInverse");const Ir=be.skeleton;Ir&&(Ir.boneTexture===null&&Ir.computeBoneTexture(),On.setValue(q,"boneTexture",Ir.boneTexture,ke))}be.isBatchedMesh&&(On.setOptional(q,be,"batchingTexture"),On.setValue(q,"batchingTexture",be._matricesTexture,ke),On.setOptional(q,be,"batchingIdTexture"),On.setValue(q,"batchingIdTexture",be._indirectTexture,ke),On.setOptional(q,be,"batchingColorTexture"),be._colorsTexture!==null&&On.setValue(q,"batchingColorTexture",be._colorsTexture,ke));const Ei=Pe.morphAttributes;if((Ei.position!==void 0||Ei.normal!==void 0||Ei.color!==void 0)&&$e.update(be,Pe,dr),(ri||Mt.receiveShadow!==be.receiveShadow)&&(Mt.receiveShadow=be.receiveShadow,On.setValue(q,"receiveShadow",be.receiveShadow)),Re.isMeshGouraudMaterial&&Re.envMap!==null&&(Xn.envMap.value=gt,Xn.flipEnvMap.value=gt.isCubeTexture&&gt.isRenderTargetTexture===!1?-1:1),Re.isMeshStandardMaterial&&Re.envMap===null&&_e.environment!==null&&(Xn.envMapIntensity.value=_e.environmentIntensity),ri&&(On.setValue(q,"toneMappingExposure",b.toneMappingExposure),Mt.needsLights&&Jh(Xn,po),qe&&Re.fog===!0&&Ie.refreshFogUniforms(Xn,qe),Ie.refreshMaterialUniforms(Xn,Re,R,V,p.state.transmissionRenderTarget[oe.id]),ZS.upload(q,Yh(Mt),Xn,ke)),Re.isShaderMaterial&&Re.uniformsNeedUpdate===!0&&(ZS.upload(q,Yh(Mt),Xn,ke),Re.uniformsNeedUpdate=!1),Re.isSpriteMaterial&&On.setValue(q,"center",be.center),On.setValue(q,"modelViewMatrix",be.modelViewMatrix),On.setValue(q,"normalMatrix",be.normalMatrix),On.setValue(q,"modelMatrix",be.matrixWorld),Re.isShaderMaterial||Re.isRawShaderMaterial){const Ir=Re.uniformsGroups;for(let Ci=0,ru=Ir.length;Ci<ru;Ci++){const mo=Ir[Ci];Ke.update(mo,dr),Ke.bind(mo,dr)}}return dr}function Jh(oe,_e){oe.ambientLightColor.needsUpdate=_e,oe.lightProbe.needsUpdate=_e,oe.directionalLights.needsUpdate=_e,oe.directionalLightShadows.needsUpdate=_e,oe.pointLights.needsUpdate=_e,oe.pointLightShadows.needsUpdate=_e,oe.spotLights.needsUpdate=_e,oe.spotLightShadows.needsUpdate=_e,oe.rectAreaLights.needsUpdate=_e,oe.hemisphereLights.needsUpdate=_e}function ep(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return M},this.setRenderTargetTextures=function(oe,_e,Pe){const Re=Ce.get(oe);Re.__autoAllocateDepthBuffer=oe.resolveDepthBuffer===!1,Re.__autoAllocateDepthBuffer===!1&&(Re.__useRenderToTexture=!1),Ce.get(oe.texture).__webglTexture=_e,Ce.get(oe.depthTexture).__webglTexture=Re.__autoAllocateDepthBuffer?void 0:Pe,Re.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(oe,_e){const Pe=Ce.get(oe);Pe.__webglFramebuffer=_e,Pe.__useDefaultFramebuffer=_e===void 0};const tp=q.createFramebuffer();this.setRenderTarget=function(oe,_e=0,Pe=0){M=oe,C=_e,A=Pe;let Re=!0,be=null,qe=!1,lt=!1;if(oe){const gt=Ce.get(oe);if(gt.__useDefaultFramebuffer!==void 0)pe.bindFramebuffer(q.FRAMEBUFFER,null),Re=!1;else if(gt.__webglFramebuffer===void 0)ke.setupRenderTarget(oe);else if(gt.__hasExternalTextures)ke.rebindTextures(oe,Ce.get(oe.texture).__webglTexture,Ce.get(oe.depthTexture).__webglTexture);else if(oe.depthBuffer){const bt=oe.depthTexture;if(gt.__boundDepthTexture!==bt){if(bt!==null&&Ce.has(bt)&&(oe.width!==bt.image.width||oe.height!==bt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");ke.setupDepthRenderbuffer(oe)}}const It=oe.texture;(It.isData3DTexture||It.isDataArrayTexture||It.isCompressedArrayTexture)&&(lt=!0);const Ot=Ce.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Array.isArray(Ot[_e])?be=Ot[_e][Pe]:be=Ot[_e],qe=!0):oe.samples>0&&ke.useMultisampledRTT(oe)===!1?be=Ce.get(oe).__webglMultisampledFramebuffer:Array.isArray(Ot)?be=Ot[Pe]:be=Ot,I.copy(oe.viewport),k.copy(oe.scissor),j=oe.scissorTest}else I.copy(W).multiplyScalar(R).floor(),k.copy(G).multiplyScalar(R).floor(),j=Y;if(Pe!==0&&(be=tp),pe.bindFramebuffer(q.FRAMEBUFFER,be)&&Re&&pe.drawBuffers(oe,be),pe.viewport(I),pe.scissor(k),pe.setScissorTest(j),qe){const gt=Ce.get(oe.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_CUBE_MAP_POSITIVE_X+_e,gt.__webglTexture,Pe)}else if(lt){const gt=_e;for(let It=0;It<oe.textures.length;It++){const Ot=Ce.get(oe.textures[It]);q.framebufferTextureLayer(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0+It,Ot.__webglTexture,Pe,gt)}}else if(oe!==null&&Pe!==0){const gt=Ce.get(oe.texture);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,gt.__webglTexture,Pe)}T=-1},this.readRenderTargetPixels=function(oe,_e,Pe,Re,be,qe,lt,yt=0){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let gt=Ce.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&lt!==void 0&&(gt=gt[lt]),gt){pe.bindFramebuffer(q.FRAMEBUFFER,gt);try{const It=oe.textures[yt],Ot=It.format,bt=It.type;if(!me.textureFormatReadable(Ot)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!me.textureTypeReadable(bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=oe.width-Re&&Pe>=0&&Pe<=oe.height-be&&(oe.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+yt),q.readPixels(_e,Pe,Re,be,he.convert(Ot),he.convert(bt),qe))}finally{const It=M!==null?Ce.get(M).__webglFramebuffer:null;pe.bindFramebuffer(q.FRAMEBUFFER,It)}}},this.readRenderTargetPixelsAsync=async function(oe,_e,Pe,Re,be,qe,lt,yt=0){if(!(oe&&oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let gt=Ce.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&lt!==void 0&&(gt=gt[lt]),gt)if(_e>=0&&_e<=oe.width-Re&&Pe>=0&&Pe<=oe.height-be){pe.bindFramebuffer(q.FRAMEBUFFER,gt);const It=oe.textures[yt],Ot=It.format,bt=It.type;if(!me.textureFormatReadable(Ot))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!me.textureTypeReadable(bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const St=q.createBuffer();q.bindBuffer(q.PIXEL_PACK_BUFFER,St),q.bufferData(q.PIXEL_PACK_BUFFER,qe.byteLength,q.STREAM_READ),oe.textures.length>1&&q.readBuffer(q.COLOR_ATTACHMENT0+yt),q.readPixels(_e,Pe,Re,be,he.convert(Ot),he.convert(bt),0);const Nt=M!==null?Ce.get(M).__webglFramebuffer:null;pe.bindFramebuffer(q.FRAMEBUFFER,Nt);const mn=q.fenceSync(q.SYNC_GPU_COMMANDS_COMPLETE,0);return q.flush(),await bat(q,mn,4),q.bindBuffer(q.PIXEL_PACK_BUFFER,St),q.getBufferSubData(q.PIXEL_PACK_BUFFER,0,qe),q.deleteBuffer(St),q.deleteSync(mn),qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(oe,_e=null,Pe=0){const Re=Math.pow(2,-Pe),be=Math.floor(oe.image.width*Re),qe=Math.floor(oe.image.height*Re),lt=_e!==null?_e.x:0,yt=_e!==null?_e.y:0;ke.setTexture2D(oe,0),q.copyTexSubImage2D(q.TEXTURE_2D,Pe,0,0,lt,yt,be,qe),pe.unbindTexture()};const Vv=q.createFramebuffer(),Wv=q.createFramebuffer();this.copyTextureToTexture=function(oe,_e,Pe=null,Re=null,be=0,qe=null){qe===null&&(be!==0?(__("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),qe=be,be=0):qe=0);let lt,yt,gt,It,Ot,bt,St,Nt,mn;const qt=oe.isCompressedTexture?oe.mipmaps[qe]:oe.image;if(Pe!==null)lt=Pe.max.x-Pe.min.x,yt=Pe.max.y-Pe.min.y,gt=Pe.isBox3?Pe.max.z-Pe.min.z:1,It=Pe.min.x,Ot=Pe.min.y,bt=Pe.isBox3?Pe.min.z:0;else{const Ei=Math.pow(2,-be);lt=Math.floor(qt.width*Ei),yt=Math.floor(qt.height*Ei),oe.isDataArrayTexture?gt=qt.depth:oe.isData3DTexture?gt=Math.floor(qt.depth*Ei):gt=1,It=0,Ot=0,bt=0}Re!==null?(St=Re.x,Nt=Re.y,mn=Re.z):(St=0,Nt=0,mn=0);const Kt=he.convert(_e.format),Mt=he.convert(_e.type);let Sn;_e.isData3DTexture?(ke.setTexture3D(_e,0),Sn=q.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(ke.setTexture2DArray(_e,0),Sn=q.TEXTURE_2D_ARRAY):(ke.setTexture2D(_e,0),Sn=q.TEXTURE_2D),q.pixelStorei(q.UNPACK_FLIP_Y_WEBGL,_e.flipY),q.pixelStorei(q.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),q.pixelStorei(q.UNPACK_ALIGNMENT,_e.unpackAlignment);const $t=q.getParameter(q.UNPACK_ROW_LENGTH),dr=q.getParameter(q.UNPACK_IMAGE_HEIGHT),Yo=q.getParameter(q.UNPACK_SKIP_PIXELS),ri=q.getParameter(q.UNPACK_SKIP_ROWS),po=q.getParameter(q.UNPACK_SKIP_IMAGES);q.pixelStorei(q.UNPACK_ROW_LENGTH,qt.width),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,qt.height),q.pixelStorei(q.UNPACK_SKIP_PIXELS,It),q.pixelStorei(q.UNPACK_SKIP_ROWS,Ot),q.pixelStorei(q.UNPACK_SKIP_IMAGES,bt);const On=oe.isDataArrayTexture||oe.isData3DTexture,Xn=_e.isDataArrayTexture||_e.isData3DTexture;if(oe.isDepthTexture){const Ei=Ce.get(oe),Ir=Ce.get(_e),Ci=Ce.get(Ei.__renderTarget),ru=Ce.get(Ir.__renderTarget);pe.bindFramebuffer(q.READ_FRAMEBUFFER,Ci.__webglFramebuffer),pe.bindFramebuffer(q.DRAW_FRAMEBUFFER,ru.__webglFramebuffer);for(let mo=0;mo<gt;mo++)On&&(q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Ce.get(oe).__webglTexture,be,bt+mo),q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Ce.get(_e).__webglTexture,qe,mn+mo)),q.blitFramebuffer(It,Ot,lt,yt,St,Nt,lt,yt,q.DEPTH_BUFFER_BIT,q.NEAREST);pe.bindFramebuffer(q.READ_FRAMEBUFFER,null),pe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else if(be!==0||oe.isRenderTargetTexture||Ce.has(oe)){const Ei=Ce.get(oe),Ir=Ce.get(_e);pe.bindFramebuffer(q.READ_FRAMEBUFFER,Vv),pe.bindFramebuffer(q.DRAW_FRAMEBUFFER,Wv);for(let Ci=0;Ci<gt;Ci++)On?q.framebufferTextureLayer(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Ei.__webglTexture,be,bt+Ci):q.framebufferTexture2D(q.READ_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Ei.__webglTexture,be),Xn?q.framebufferTextureLayer(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,Ir.__webglTexture,qe,mn+Ci):q.framebufferTexture2D(q.DRAW_FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,Ir.__webglTexture,qe),be!==0?q.blitFramebuffer(It,Ot,lt,yt,St,Nt,lt,yt,q.COLOR_BUFFER_BIT,q.NEAREST):Xn?q.copyTexSubImage3D(Sn,qe,St,Nt,mn+Ci,It,Ot,lt,yt):q.copyTexSubImage2D(Sn,qe,St,Nt,It,Ot,lt,yt);pe.bindFramebuffer(q.READ_FRAMEBUFFER,null),pe.bindFramebuffer(q.DRAW_FRAMEBUFFER,null)}else Xn?oe.isDataTexture||oe.isData3DTexture?q.texSubImage3D(Sn,qe,St,Nt,mn,lt,yt,gt,Kt,Mt,qt.data):_e.isCompressedArrayTexture?q.compressedTexSubImage3D(Sn,qe,St,Nt,mn,lt,yt,gt,Kt,qt.data):q.texSubImage3D(Sn,qe,St,Nt,mn,lt,yt,gt,Kt,Mt,qt):oe.isDataTexture?q.texSubImage2D(q.TEXTURE_2D,qe,St,Nt,lt,yt,Kt,Mt,qt.data):oe.isCompressedTexture?q.compressedTexSubImage2D(q.TEXTURE_2D,qe,St,Nt,qt.width,qt.height,Kt,qt.data):q.texSubImage2D(q.TEXTURE_2D,qe,St,Nt,lt,yt,Kt,Mt,qt);q.pixelStorei(q.UNPACK_ROW_LENGTH,$t),q.pixelStorei(q.UNPACK_IMAGE_HEIGHT,dr),q.pixelStorei(q.UNPACK_SKIP_PIXELS,Yo),q.pixelStorei(q.UNPACK_SKIP_ROWS,ri),q.pixelStorei(q.UNPACK_SKIP_IMAGES,po),qe===0&&_e.generateMipmaps&&q.generateMipmap(Sn),pe.unbindTexture()},this.initRenderTarget=function(oe){Ce.get(oe).__webglFramebuffer===void 0&&ke.setupRenderTarget(oe)},this.initTexture=function(oe){oe.isCubeTexture?ke.setTextureCube(oe,0):oe.isData3DTexture?ke.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?ke.setTexture2DArray(oe,0):ke.setTexture2D(oe,0),pe.unbindTexture()},this.resetState=function(){C=0,A=0,M=null,pe.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return eo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=hn._getDrawingBufferColorSpace(e),n.unpackColorSpace=hn._getUnpackColorSpace()}}const jpt=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:aB,AddEquation:Du,AddOperation:wue,AdditiveAnimationBlendMode:gB,AdditiveBlending:hL,AgXToneMapping:Aue,AlphaFormat:hB,AlwaysCompare:$ue,AlwaysDepth:lM,AlwaysStencilFunc:vL,AmbientLight:Lde,AnimationAction:Wde,AnimationClip:M_,AnimationLoader:qlt,AnimationMixer:Sct,AnimationObjectGroup:bct,AnimationUtils:Vlt,ArcCurve:ade,ArrayCamera:$de,ArrowHelper:qct,AttachedBindMode:gL,Audio:Hde,AudioAnalyser:dct,AudioContext:HB,AudioListener:lct,AudioLoader:sct,AxesHelper:Kct,BackSide:Ui,BasicDepthPacking:Iue,BasicShadowMap:nue,BatchedMesh:nde,Bone:CB,BooleanKeyframeTrack:Wh,Box2:Oct,Box3:$i,Box3Helper:Gct,BoxGeometry:Vh,BoxHelper:Wct,BufferAttribute:$n,BufferGeometry:tn,BufferGeometryLoader:zde,ByteType:cB,Cache:fl,Camera:Pb,CameraHelper:Vct,CanvasTexture:hlt,CapsuleGeometry:_P,CatmullRomCurve3:lde,CineonToneMapping:Cue,CircleGeometry:bP,ClampToEdgeWrapping:Lo,Clock:VB,Color:ht,ColorKeyframeTrack:UB,ColorManagement:hn,CompressedArrayTexture:dlt,CompressedCubeTexture:flt,CompressedTexture:xP,CompressedTextureLoader:Klt,ConeGeometry:Ob,ConstantAlphaFactor:xue,ConstantColorFactor:vue,Controls:Zct,CubeCamera:Kue,CubeReflectionMapping:Bc,CubeRefractionMapping:gd,CubeTexture:Nb,CubeTextureLoader:Ylt,CubeUVReflectionMapping:Bv,CubicBezierCurve:NB,CubicBezierCurve3:cde,CubicInterpolant:Tde,CullFaceBack:fL,CullFaceFront:tue,CullFaceFrontBack:bot,CullFaceNone:eue,Curve:$a,CurvePath:dde,CustomBlending:rue,CustomToneMapping:Mue,CylinderGeometry:Rb,Cylindrical:Rct,Data3DTexture:hP,DataArrayTexture:fP,DataTexture:bl,DataTextureLoader:Zlt,DataUtils:Lat,DecrementStencilOp:Dot,DecrementWrapStencilOp:jot,DefaultLoadingManager:Rde,DepthFormat:Jg,DepthStencilFormat:ev,DepthTexture:AB,DetachedBindMode:Pue,DirectionalLight:Dde,DirectionalLightHelper:Hct,DiscreteInterpolant:Pde,DodecahedronGeometry:wP,DoubleSide:xa,DstAlphaFactor:fue,DstColorFactor:pue,DynamicCopyUsage:Qot,DynamicDrawUsage:Got,DynamicReadUsage:Kot,EdgesGeometry:ode,EllipseCurve:SP,EqualCompare:Fue,EqualDepth:uM,EqualStencilFunc:zot,EquirectangularReflectionMapping:d_,EquirectangularRefractionMapping:f_,Euler:co,EventDispatcher:zl,ExternalTexture:TB,ExtrudeGeometry:EP,FileLoader:zc,Float16BufferAttribute:Hat,Float32BufferAttribute:Et,FloatType:Ms,Fog:mP,FogExp2:pP,FramebufferTexture:ult,FrontSide:Fc,Frustum:zv,FrustumArray:yP,GLBufferAttribute:Tct,GLSL1:eat,GLSL3:yL,GreaterCompare:Bue,GreaterDepth:fM,GreaterEqualCompare:zue,GreaterEqualDepth:dM,GreaterEqualStencilFunc:Wot,GreaterStencilFunc:Hot,GridHelper:zct,Group:bm,HalfFloatType:Uv,HemisphereLight:Ode,HemisphereLightHelper:Uct,IcosahedronGeometry:CP,ImageBitmapLoader:ict,ImageLoader:A_,ImageUtils:Gue,IncrementStencilOp:kot,IncrementWrapStencilOp:Lot,InstancedBufferAttribute:iv,InstancedBufferGeometry:Ude,InstancedInterleavedBuffer:Act,InstancedMesh:tde,Int16BufferAttribute:zat,Int32BufferAttribute:$at,Int8BufferAttribute:Fat,IntType:sP,InterleavedBuffer:gP,InterleavedBufferAttribute:Mh,Interpolant:Db,InterpolateDiscrete:m_,InterpolateLinear:$M,InterpolateSmooth:KS,InterpolationSamplingMode:rat,InterpolationSamplingType:nat,InvertStencilOp:Fot,KeepStencilOp:_f,KeyframeTrack:qo,LOD:Jue,LatheGeometry:MP,Layers:Zf,LessCompare:jue,LessDepth:cM,LessEqualCompare:vB,LessEqualDepth:Eh,LessEqualStencilFunc:$ot,LessStencilFunc:Uot,Light:Dd,LightProbe:Bde,Line:vd,Line3:Dct,LineBasicMaterial:ls,LineCurve:RB,LineCurve3:ude,LineDashedMaterial:Cde,LineLoop:rde,LineSegments:$l,LinearFilter:Jr,LinearInterpolant:BB,LinearMipMapLinearFilter:Cot,LinearMipMapNearestFilter:Eot,LinearMipmapLinearFilter:dl,LinearMipmapNearestFilter:F0,LinearSRGBColorSpace:Ch,LinearToneMapping:Sue,LinearTransfer:v_,Loader:Ls,LoaderUtils:SL,LoadingManager:zB,LoopOnce:Nue,LoopPingPong:Oue,LoopRepeat:Rue,MOUSE:yf,Material:Vi,MaterialLoader:IP,MathUtils:Hue,Matrix2:qB,Matrix3:Jt,Matrix4:Gt,MaxEquation:aue,Mesh:Ur,MeshBasicMaterial:Id,MeshDepthMaterial:LB,MeshDistanceMaterial:jB,MeshLambertMaterial:Sde,MeshMatcapMaterial:Ede,MeshNormalMaterial:wde,MeshPhongMaterial:_de,MeshPhysicalMaterial:xde,MeshStandardMaterial:DB,MeshToonMaterial:bde,MinEquation:oue,MirroredRepeatWrapping:p_,MixOperation:bue,MultiplyBlending:mL,MultiplyOperation:Ab,NearestFilter:bi,NearestMipMapLinearFilter:Sot,NearestMipMapNearestFilter:wot,NearestMipmapLinearFilter:xm,NearestMipmapNearestFilter:lB,NeutralToneMapping:Tue,NeverCompare:Lue,NeverDepth:aM,NeverStencilFunc:Bot,NoBlending:Cc,NoColorSpace:fc,NoToneMapping:_l,NormalAnimationBlendMode:dP,NormalBlending:Kf,NotEqualCompare:Uue,NotEqualDepth:hM,NotEqualStencilFunc:Vot,NumberKeyframeTrack:E_,Object3D:bn,ObjectLoader:nct,ObjectSpaceNormalMap:Due,OctahedronGeometry:Ib,OneFactor:cue,OneMinusConstantAlphaFactor:_ue,OneMinusConstantColorFactor:yue,OneMinusDstAlphaFactor:hue,OneMinusDstColorFactor:mue,OneMinusSrcAlphaFactor:oM,OneMinusSrcColorFactor:due,OrthographicCamera:wl,PCFShadowMap:rP,PCFSoftShadowMap:j0,PMREMGenerator:AL,Path:GM,PerspectiveCamera:mr,Plane:il,PlaneGeometry:$v,PlaneHelper:Xct,PointLight:kde,PointLightHelper:Fct,Points:ide,PointsMaterial:MB,PolarGridHelper:$ct,PolyhedronGeometry:kd,PositionalAudio:uct,PropertyBinding:gn,PropertyMixer:Vde,QuadraticBezierCurve:OB,QuadraticBezierCurve3:IB,Quaternion:zi,QuaternionKeyframeTrack:Lb,QuaternionLinearInterpolant:Nde,RED_GREEN_RGTC2_Format:UM,RED_RGTC1_Format:FM,REVISION:Mb,RGBADepthPacking:kue,RGBAFormat:Bi,RGBAIntegerFormat:uP,RGBA_ASTC_10x10_Format:OM,RGBA_ASTC_10x5_Format:PM,RGBA_ASTC_10x6_Format:NM,RGBA_ASTC_10x8_Format:RM,RGBA_ASTC_12x10_Format:IM,RGBA_ASTC_12x12_Format:kM,RGBA_ASTC_4x4_Format:bM,RGBA_ASTC_5x4_Format:wM,RGBA_ASTC_5x5_Format:SM,RGBA_ASTC_6x5_Format:EM,RGBA_ASTC_6x6_Format:CM,RGBA_ASTC_8x5_Format:MM,RGBA_ASTC_8x6_Format:AM,RGBA_ASTC_8x8_Format:TM,RGBA_BPTC_Format:DM,RGBA_ETC2_EAC_Format:_M,RGBA_PVRTC_2BPPV1_Format:vM,RGBA_PVRTC_4BPPV1_Format:gM,RGBA_S3TC_DXT1_Format:U0,RGBA_S3TC_DXT3_Format:z0,RGBA_S3TC_DXT5_Format:$0,RGBDepthPacking:Not,RGBFormat:pB,RGBIntegerFormat:Mot,RGB_BPTC_SIGNED_Format:LM,RGB_BPTC_UNSIGNED_Format:jM,RGB_ETC1_Format:yM,RGB_ETC2_Format:xM,RGB_PVRTC_2BPPV1_Format:mM,RGB_PVRTC_4BPPV1_Format:pM,RGB_S3TC_DXT1_Format:B0,RGDepthPacking:Rot,RGFormat:mB,RGIntegerFormat:cP,RawShaderMaterial:yde,Ray:Hh,Raycaster:Gde,RectAreaLight:jde,RedFormat:lP,RedIntegerFormat:Tb,ReinhardToneMapping:Eue,RenderTarget:xB,RenderTarget3D:Ect,RepeatWrapping:h_,ReplaceStencilOp:Iot,ReverseSubtractEquation:sue,RingGeometry:AP,SIGNED_RED_GREEN_RGTC2_Format:zM,SIGNED_RED_RGTC1_Format:BM,SRGBColorSpace:xs,SRGBTransfer:jn,Scene:SB,ShaderChunk:rn,ShaderLib:va,ShaderMaterial:Ho,ShadowMaterial:vde,Shape:Qf,ShapeGeometry:TP,ShapePath:Yct,ShapeUtils:wa,ShortType:uB,Skeleton:vP,SkeletonHelper:jct,SkinnedMesh:ede,Source:Yu,Sphere:wi,SphereGeometry:kb,Spherical:CL,SphericalHarmonics3:Fde,SplineCurve:kB,SpotLight:Ide,SpotLightHelper:Lct,Sprite:Que,SpriteMaterial:EB,SrcAlphaFactor:sM,SrcAlphaSaturateFactor:gue,SrcColorFactor:uue,StaticCopyUsage:Zot,StaticDrawUsage:y_,StaticReadUsage:qot,StereoCamera:oct,StreamCopyUsage:Jot,StreamDrawUsage:Xot,StreamReadUsage:Yot,StringKeyframeTrack:Gh,SubtractEquation:iue,SubtractiveBlending:pL,TOUCH:xf,TangentSpaceNormalMap:Od,TetrahedronGeometry:PP,Texture:Ar,TextureLoader:Qlt,TextureUtils:nut,Timer:Pct,TimestampQuery:tat,TorusGeometry:NP,TorusKnotGeometry:RP,Triangle:ws,TriangleFanDrawMode:Pot,TriangleStripDrawMode:Tot,TrianglesDrawMode:Aot,TubeGeometry:OP,UVMapping:iP,Uint16BufferAttribute:_B,Uint32BufferAttribute:bB,Uint8BufferAttribute:Bat,Uint8ClampedBufferAttribute:Uat,Uniform:XB,UniformsGroup:Mct,UniformsLib:ut,UniformsUtils:wB,UnsignedByteType:$o,UnsignedInt101111Type:fB,UnsignedInt248Type:Qg,UnsignedInt5999Type:dB,UnsignedIntType:Uc,UnsignedShort4444Type:oP,UnsignedShort5551Type:aP,UnsignedShortType:Zg,VSMShadowMap:oa,Vector2:ze,Vector3:le,Vector4:xn,VectorKeyframeTrack:C_,VideoFrameTexture:clt,VideoTexture:sde,WebGL3DRenderTarget:Mat,WebGLArrayRenderTarget:Cat,WebGLCoordinateSystem:eo,WebGLCubeRenderTarget:Yue,WebGLRenderTarget:Nl,WebGLRenderer:efe,WebGLUtils:Jde,WebGPUCoordinateSystem:tv,WebXRController:YS,WireframeGeometry:gde,WrapAroundEnding:g_,ZeroCurvatureEnding:Of,ZeroFactor:lue,ZeroSlopeEnding:If,ZeroStencilOp:Oot,createCanvasElement:Wue},Symbol.toStringTag,{value:"Module"}));var tfe={exports:{}},Xh={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Xh.ConcurrentRoot=1;Xh.ContinuousEventPriority=4;Xh.DefaultEventPriority=16;Xh.DiscreteEventPriority=1;Xh.IdleEventPriority=536870912;Xh.LegacyRoot=0;tfe.exports=Xh;var Sm=tfe.exports;function Fpt(t){let e;const n=new Set,r=(c,d)=>{const u=typeof c=="function"?c(e):c;if(u!==e){const f=e;e=d?u:Object.assign({},e,u),n.forEach(g=>g(e,f))}},i=()=>e,s=(c,d=i,u=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=d(e);function g(){const v=d(e);if(!u(f,v)){const y=f;c(f=v,y)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(c,d,u)=>d||u?s(c,d,u):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Bpt=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),$7=Bpt?P.useEffect:P.useLayoutEffect;function Upt(t){const e=typeof t=="function"?Fpt(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=P.useReducer(m=>m+1,0),o=e.getState(),a=P.useRef(o),l=P.useRef(r),c=P.useRef(i),d=P.useRef(!1),u=P.useRef();u.current===void 0&&(u.current=r(o));let f,g=!1;(a.current!==o||l.current!==r||c.current!==i||d.current)&&(f=r(o),g=!i(u.current,f)),$7(()=>{g&&(u.current=f),a.current=o,l.current=r,c.current=i,d.current=!1});const v=P.useRef(o);$7(()=>{const m=()=>{try{const x=e.getState(),_=l.current(x);c.current(u.current,_)||(a.current=x,u.current=_,s())}catch{d.current=!0,s()}},p=e.subscribe(m);return e.getState()!==v.current&&m(),p},[]);const y=g?f:u.current;return P.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var nfe={exports:{}},xO={exports:{}},_O={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H7;function zpt(){return H7||(H7=1,function(t){function e(R,L){var B=R.length;R.push(L);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,L))R[W]=L,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],B=R.pop();if(B!==L){R[0]=B;e:for(var W=0,G=R.length,Y=G>>>1;W<Y;){var ie=2*(W+1)-1,ae=R[ie],se=ie+1,U=R[se];if(0>i(ae,B))se<G&&0>i(U,ae)?(R[W]=U,R[se]=B,W=se):(R[W]=ae,R[ie]=B,W=ie);else if(se<G&&0>i(U,B))R[W]=U,R[se]=B,W=se;else break e}}return L}function i(R,L){var B=R.sortIndex-L.sortIndex;return B!==0?B:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,g=!1,v=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function b(R){if(y=!1,_(R),!v)if(n(l)!==null)v=!0,$(S);else{var L=n(c);L!==null&&V(b,L.startTime-R)}}function S(R,L){v=!1,y&&(y=!1,p(M),M=-1),g=!0;var B=f;try{for(_(L),u=n(l);u!==null&&(!(u.expirationTime>L)||R&&!I());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var G=W(u.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?u.callback=G:u===n(l)&&r(l),_(L)}else r(l);u=n(l)}if(u!==null)var Y=!0;else{var ie=n(c);ie!==null&&V(b,ie.startTime-L),Y=!1}return Y}finally{u=null,f=B,g=!1}}var C=!1,A=null,M=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function k(){if(A!==null){var R=t.unstable_now();N=R;var L=!0;try{L=A(!0,R)}finally{L?j():(C=!1,A=null)}}else C=!1}var j;if(typeof x=="function")j=function(){x(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=k,j=function(){z.postMessage(null)}}else j=function(){m(k,0)};function $(R){A=R,C||(C=!0,j())}function V(R,L){M=m(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,$(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var B=f;f=L;try{return R()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=f;f=R;try{return L()}finally{f=B}},t.unstable_scheduleCallback=function(R,L,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:d++,callback:L,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(y?(p(M),M=-1):y=!0,V(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,$(S))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var L=f;return function(){var B=f;f=L;try{return R.apply(this,arguments)}finally{f=B}}}}(_O)),_O}var V7;function $pt(){return V7||(V7=1,xO.exports=zpt()),xO.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hpt=function(e){var n={},r=P,i=$pt(),s=Object.assign;function o(w){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+w,O=1;O<arguments.length;O++)E+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}function A(w){if(w==null)return null;if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w;switch(w){case d:return"Fragment";case c:return"Portal";case f:return"Profiler";case u:return"StrictMode";case m:return"Suspense";case p:return"SuspenseList"}if(typeof w=="object")switch(w.$$typeof){case v:return(w.displayName||"Context")+".Consumer";case g:return(w._context.displayName||"Context")+".Provider";case y:var E=w.render;return w=w.displayName,w||(w=E.displayName||E.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case x:return E=w.displayName||null,E!==null?E:A(w.type)||"Memo";case _:E=w._payload,w=w._init;try{return A(w(E))}catch{}}return null}function M(w){var E=w.type;switch(w.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return w=E.render,w=w.displayName||w.name||"",E.displayName||(w!==""?"ForwardRef("+w+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(E);case 8:return E===u?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function T(w){var E=w,O=w;if(w.alternate)for(;E.return;)E=E.return;else{w=E;do E=w,E.flags&4098&&(O=E.return),w=E.return;while(w)}return E.tag===3?O:null}function N(w){if(T(w)!==w)throw Error(o(188))}function I(w){var E=w.alternate;if(!E){if(E=T(w),E===null)throw Error(o(188));return E!==w?null:w}for(var O=w,D=E;;){var H=O.return;if(H===null)break;var X=H.alternate;if(X===null){if(D=H.return,D!==null){O=D;continue}break}if(H.child===X.child){for(X=H.child;X;){if(X===O)return N(H),w;if(X===D)return N(H),E;X=X.sibling}throw Error(o(188))}if(O.return!==D.return)O=H,D=X;else{for(var de=!1,ye=H.child;ye;){if(ye===O){de=!0,O=H,D=X;break}if(ye===D){de=!0,D=H,O=X;break}ye=ye.sibling}if(!de){for(ye=X.child;ye;){if(ye===O){de=!0,O=X,D=H;break}if(ye===D){de=!0,D=X,O=H;break}ye=ye.sibling}if(!de)throw Error(o(189))}}if(O.alternate!==D)throw Error(o(190))}if(O.tag!==3)throw Error(o(188));return O.stateNode.current===O?w:E}function k(w){return w=I(w),w!==null?j(w):null}function j(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){var E=j(w);if(E!==null)return E;w=w.sibling}return null}function F(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){if(w.tag!==4){var E=F(w);if(E!==null)return E}w=w.sibling}return null}var z=Array.isArray,$=e.getPublicInstance,V=e.getRootHostContext,R=e.getChildHostContext,L=e.prepareForCommit,B=e.resetAfterCommit,W=e.createInstance,G=e.appendInitialChild,Y=e.finalizeInitialChildren,ie=e.prepareUpdate,ae=e.shouldSetTextContent,se=e.createTextInstance,U=e.scheduleTimeout,K=e.cancelTimeout,Q=e.noTimeout,ee=e.isPrimaryRenderer,ue=e.supportsMutation,J=e.supportsPersistence,q=e.supportsHydration,ne=e.getInstanceFromNode,fe=e.preparePortalMount,me=e.getCurrentEventPriority,pe=e.detachDeletedInstance,Ae=e.supportsMicrotasks,Ce=e.scheduleMicrotask,ke=e.supportsTestSelectors,nt=e.findFiberRoot,Je=e.getBoundingRect,re=e.getTextContent,Z=e.isHiddenSubtree,ve=e.matchAccessibilityRole,Se=e.setFocusIfFocusable,Ie=e.setupIntersectionObserver,Me=e.appendChild,at=e.appendChildToContainer,He=e.commitTextUpdate,st=e.commitMount,We=e.commitUpdate,$e=e.insertBefore,rt=e.insertInContainerBefore,Ct=e.removeChild,he=e.removeChildFromContainer,Ee=e.resetTextContent,Ke=e.hideInstance,ce=e.hideTextInstance,Ne=e.unhideInstance,Be=e.unhideTextInstance,Ve=e.clearContainer,Ue=e.cloneInstance,Le=e.createContainerChildSet,Ye=e.appendChildToContainerChildSet,mt=e.finalizeContainerChildren,jt=e.replaceContainerChildren,zt=e.cloneHiddenInstance,Ln=e.cloneHiddenTextInstance,Rn=e.canHydrateInstance,Ko=e.canHydrateTextInstance,cs=e.canHydrateSuspenseInstance,eu=e.isSuspenseInstancePending,tu=e.isSuspenseInstanceFallback,qh=e.registerSuspenseInstanceRetry,ho=e.getNextHydratableSibling,Kh=e.getFirstHydratableChild,nu=e.getFirstHydratableChildWithinContainer,Yh=e.getFirstHydratableChildWithinSuspenseInstance,Zh=e.hydrateInstance,Qh=e.hydrateTextInstance,Jh=e.hydrateSuspenseInstance,ep=e.getNextHydratableInstanceAfterSuspenseInstance,tp=e.commitHydratedContainer,Vv=e.commitHydratedSuspenseInstance,Wv=e.clearSuspenseBoundary,oe=e.clearSuspenseBoundaryFromContainer,_e=e.shouldDeleteUnhydratedTailInstances,Pe=e.didNotMatchHydratedContainerTextInstance,Re=e.didNotMatchHydratedTextInstance,be;function qe(w){if(be===void 0)try{throw Error()}catch(O){var E=O.stack.trim().match(/\n( *(at )?)/);be=E&&E[1]||""}return`
`+be+w}var lt=!1;function yt(w,E){if(!w||lt)return"";lt=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(tt){var D=tt}Reflect.construct(w,[],E)}else{try{E.call()}catch(tt){D=tt}w.call(E.prototype)}else{try{throw Error()}catch(tt){D=tt}w()}}catch(tt){if(tt&&D&&typeof tt.stack=="string"){for(var H=tt.stack.split(`
`),X=D.stack.split(`
`),de=H.length-1,ye=X.length-1;1<=de&&0<=ye&&H[de]!==X[ye];)ye--;for(;1<=de&&0<=ye;de--,ye--)if(H[de]!==X[ye]){if(de!==1||ye!==1)do if(de--,ye--,0>ye||H[de]!==X[ye]){var je=`
`+H[de].replace(" at new "," at ");return w.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",w.displayName)),je}while(1<=de&&0<=ye);break}}}finally{lt=!1,Error.prepareStackTrace=O}return(w=w?w.displayName||w.name:"")?qe(w):""}var gt=Object.prototype.hasOwnProperty,It=[],Ot=-1;function bt(w){return{current:w}}function St(w){0>Ot||(w.current=It[Ot],It[Ot]=null,Ot--)}function Nt(w,E){Ot++,It[Ot]=w.current,w.current=E}var mn={},qt=bt(mn),Kt=bt(!1),Mt=mn;function Sn(w,E){var O=w.type.contextTypes;if(!O)return mn;var D=w.stateNode;if(D&&D.__reactInternalMemoizedUnmaskedChildContext===E)return D.__reactInternalMemoizedMaskedChildContext;var H={},X;for(X in O)H[X]=E[X];return D&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=E,w.__reactInternalMemoizedMaskedChildContext=H),H}function $t(w){return w=w.childContextTypes,w!=null}function dr(){St(Kt),St(qt)}function Yo(w,E,O){if(qt.current!==mn)throw Error(o(168));Nt(qt,E),Nt(Kt,O)}function ri(w,E,O){var D=w.stateNode;if(E=E.childContextTypes,typeof D.getChildContext!="function")return O;D=D.getChildContext();for(var H in D)if(!(H in E))throw Error(o(108,M(w)||"Unknown",H));return s({},O,D)}function po(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||mn,Mt=qt.current,Nt(qt,w),Nt(Kt,Kt.current),!0}function On(w,E,O){var D=w.stateNode;if(!D)throw Error(o(169));O?(w=ri(w,E,Mt),D.__reactInternalMemoizedMergedChildContext=w,St(Kt),St(qt),Nt(qt,w)):St(Kt),Nt(Kt,O)}var Xn=Math.clz32?Math.clz32:Ci,Ei=Math.log,Ir=Math.LN2;function Ci(w){return w>>>=0,w===0?32:31-(Ei(w)/Ir|0)|0}var ru=64,mo=4194304;function Gv(w){switch(w&-w){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return w&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return w}}function Bb(w,E){var O=w.pendingLanes;if(O===0)return 0;var D=0,H=w.suspendedLanes,X=w.pingedLanes,de=O&268435455;if(de!==0){var ye=de&~H;ye!==0?D=Gv(ye):(X&=de,X!==0&&(D=Gv(X)))}else de=O&~H,de!==0?D=Gv(de):X!==0&&(D=Gv(X));if(D===0)return 0;if(E!==0&&E!==D&&!(E&H)&&(H=D&-D,X=E&-E,H>=X||H===16&&(X&4194240)!==0))return E;if(D&4&&(D|=O&16),E=w.entangledLanes,E!==0)for(w=w.entanglements,E&=D;0<E;)O=31-Xn(E),H=1<<O,D|=w[O],E&=~H;return D}function Afe(w,E){switch(w){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tfe(w,E){for(var O=w.suspendedLanes,D=w.pingedLanes,H=w.expirationTimes,X=w.pendingLanes;0<X;){var de=31-Xn(X),ye=1<<de,je=H[de];je===-1?(!(ye&O)||ye&D)&&(H[de]=Afe(ye,E)):je<=E&&(w.expiredLanes|=ye),X&=~ye}}function LP(w){return w=w.pendingLanes&-1073741825,w!==0?w:w&1073741824?1073741824:0}function jP(w){for(var E=[],O=0;31>O;O++)E.push(w);return E}function Xv(w,E,O){w.pendingLanes|=E,E!==536870912&&(w.suspendedLanes=0,w.pingedLanes=0),w=w.eventTimes,E=31-Xn(E),w[E]=O}function Pfe(w,E){var O=w.pendingLanes&~E;w.pendingLanes=E,w.suspendedLanes=0,w.pingedLanes=0,w.expiredLanes&=E,w.mutableReadLanes&=E,w.entangledLanes&=E,E=w.entanglements;var D=w.eventTimes;for(w=w.expirationTimes;0<O;){var H=31-Xn(O),X=1<<H;E[H]=0,D[H]=-1,w[H]=-1,O&=~X}}function FP(w,E){var O=w.entangledLanes|=E;for(w=w.entanglements;O;){var D=31-Xn(O),H=1<<D;H&E|w[D]&E&&(w[D]|=E),O&=~H}}var En=0;function e5(w){return w&=-w,1<w?4<w?w&268435455?16:536870912:4:1}var BP=i.unstable_scheduleCallback,t5=i.unstable_cancelCallback,Nfe=i.unstable_shouldYield,Rfe=i.unstable_requestPaint,ii=i.unstable_now,UP=i.unstable_ImmediatePriority,Ofe=i.unstable_UserBlockingPriority,zP=i.unstable_NormalPriority,Ife=i.unstable_IdlePriority,Ub=null,Ha=null;function kfe(w){if(Ha&&typeof Ha.onCommitFiberRoot=="function")try{Ha.onCommitFiberRoot(Ub,w,void 0,(w.current.flags&128)===128)}catch{}}function Dfe(w,E){return w===E&&(w!==0||1/w===1/E)||w!==w&&E!==E}var Va=typeof Object.is=="function"?Object.is:Dfe,Hl=null,zb=!1,$P=!1;function n5(w){Hl===null?Hl=[w]:Hl.push(w)}function Lfe(w){zb=!0,n5(w)}function Wa(){if(!$P&&Hl!==null){$P=!0;var w=0,E=En;try{var O=Hl;for(En=1;w<O.length;w++){var D=O[w];do D=D(!0);while(D!==null)}Hl=null,zb=!1}catch(H){throw Hl!==null&&(Hl=Hl.slice(w+1)),BP(UP,Wa),H}finally{En=E,$P=!1}}return null}var jfe=a.ReactCurrentBatchConfig;function $b(w,E){if(Va(w,E))return!0;if(typeof w!="object"||w===null||typeof E!="object"||E===null)return!1;var O=Object.keys(w),D=Object.keys(E);if(O.length!==D.length)return!1;for(D=0;D<O.length;D++){var H=O[D];if(!gt.call(E,H)||!Va(w[H],E[H]))return!1}return!0}function Ffe(w){switch(w.tag){case 5:return qe(w.type);case 16:return qe("Lazy");case 13:return qe("Suspense");case 19:return qe("SuspenseList");case 0:case 2:case 15:return w=yt(w.type,!1),w;case 11:return w=yt(w.type.render,!1),w;case 1:return w=yt(w.type,!0),w;default:return""}}function Zo(w,E){if(w&&w.defaultProps){E=s({},E),w=w.defaultProps;for(var O in w)E[O]===void 0&&(E[O]=w[O]);return E}return E}var Hb=bt(null),Vb=null,np=null,HP=null;function VP(){HP=np=Vb=null}function r5(w,E,O){ee?(Nt(Hb,E._currentValue),E._currentValue=O):(Nt(Hb,E._currentValue2),E._currentValue2=O)}function WP(w){var E=Hb.current;St(Hb),ee?w._currentValue=E:w._currentValue2=E}function GP(w,E,O){for(;w!==null;){var D=w.alternate;if((w.childLanes&E)!==E?(w.childLanes|=E,D!==null&&(D.childLanes|=E)):D!==null&&(D.childLanes&E)!==E&&(D.childLanes|=E),w===O)break;w=w.return}}function rp(w,E){Vb=w,HP=np=null,w=w.dependencies,w!==null&&w.firstContext!==null&&(w.lanes&E&&(Bs=!0),w.firstContext=null)}function go(w){var E=ee?w._currentValue:w._currentValue2;if(HP!==w)if(w={context:w,memoizedValue:E,next:null},np===null){if(Vb===null)throw Error(o(308));np=w,Vb.dependencies={lanes:0,firstContext:w}}else np=np.next=w;return E}var Ga=null,iu=!1;function XP(w){w.updateQueue={baseState:w.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i5(w,E){w=w.updateQueue,E.updateQueue===w&&(E.updateQueue={baseState:w.baseState,firstBaseUpdate:w.firstBaseUpdate,lastBaseUpdate:w.lastBaseUpdate,shared:w.shared,effects:w.effects})}function Vl(w,E){return{eventTime:w,lane:E,tag:0,payload:null,callback:null,next:null}}function su(w,E){var O=w.updateQueue;O!==null&&(O=O.shared,kr!==null&&w.mode&1&&!(an&2)?(w=O.interleaved,w===null?(E.next=E,Ga===null?Ga=[O]:Ga.push(O)):(E.next=w.next,w.next=E),O.interleaved=E):(w=O.pending,w===null?E.next=E:(E.next=w.next,w.next=E),O.pending=E))}function Wb(w,E,O){if(E=E.updateQueue,E!==null&&(E=E.shared,(O&4194240)!==0)){var D=E.lanes;D&=w.pendingLanes,O|=D,E.lanes=O,FP(w,O)}}function s5(w,E){var O=w.updateQueue,D=w.alternate;if(D!==null&&(D=D.updateQueue,O===D)){var H=null,X=null;if(O=O.firstBaseUpdate,O!==null){do{var de={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};X===null?H=X=de:X=X.next=de,O=O.next}while(O!==null);X===null?H=X=E:X=X.next=E}else H=X=E;O={baseState:D.baseState,firstBaseUpdate:H,lastBaseUpdate:X,shared:D.shared,effects:D.effects},w.updateQueue=O;return}w=O.lastBaseUpdate,w===null?O.firstBaseUpdate=E:w.next=E,O.lastBaseUpdate=E}function Gb(w,E,O,D){var H=w.updateQueue;iu=!1;var X=H.firstBaseUpdate,de=H.lastBaseUpdate,ye=H.shared.pending;if(ye!==null){H.shared.pending=null;var je=ye,tt=je.next;je.next=null,de===null?X=tt:de.next=tt,de=je;var wt=w.alternate;wt!==null&&(wt=wt.updateQueue,ye=wt.lastBaseUpdate,ye!==de&&(ye===null?wt.firstBaseUpdate=tt:ye.next=tt,wt.lastBaseUpdate=je))}if(X!==null){var Zt=H.baseState;de=0,wt=tt=je=null,ye=X;do{var kt=ye.lane,Hn=ye.eventTime;if((D&kt)===kt){wt!==null&&(wt=wt.next={eventTime:Hn,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var Rt=w,Pi=ye;switch(kt=E,Hn=O,Pi.tag){case 1:if(Rt=Pi.payload,typeof Rt=="function"){Zt=Rt.call(Hn,Zt,kt);break e}Zt=Rt;break e;case 3:Rt.flags=Rt.flags&-65537|128;case 0:if(Rt=Pi.payload,kt=typeof Rt=="function"?Rt.call(Hn,Zt,kt):Rt,kt==null)break e;Zt=s({},Zt,kt);break e;case 2:iu=!0}}ye.callback!==null&&ye.lane!==0&&(w.flags|=64,kt=H.effects,kt===null?H.effects=[ye]:kt.push(ye))}else Hn={eventTime:Hn,lane:kt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},wt===null?(tt=wt=Hn,je=Zt):wt=wt.next=Hn,de|=kt;if(ye=ye.next,ye===null){if(ye=H.shared.pending,ye===null)break;kt=ye,ye=kt.next,kt.next=null,H.lastBaseUpdate=kt,H.shared.pending=null}}while(!0);if(wt===null&&(je=Zt),H.baseState=je,H.firstBaseUpdate=tt,H.lastBaseUpdate=wt,E=H.shared.interleaved,E!==null){H=E;do de|=H.lane,H=H.next;while(H!==E)}else X===null&&(H.shared.lanes=0);fp|=de,w.lanes=de,w.memoizedState=Zt}}function o5(w,E,O){if(w=E.effects,E.effects=null,w!==null)for(E=0;E<w.length;E++){var D=w[E],H=D.callback;if(H!==null){if(D.callback=null,D=O,typeof H!="function")throw Error(o(191,H));H.call(D)}}}var a5=new r.Component().refs;function qP(w,E,O,D){E=w.memoizedState,O=O(D,E),O=O==null?E:s({},E,O),w.memoizedState=O,w.lanes===0&&(w.updateQueue.baseState=O)}var Xb={isMounted:function(w){return(w=w._reactInternals)?T(w)===w:!1},enqueueSetState:function(w,E,O){w=w._reactInternals;var D=Gi(),H=lu(w),X=Vl(D,H);X.payload=E,O!=null&&(X.callback=O),su(w,X),E=bo(w,H,D),E!==null&&Wb(E,w,H)},enqueueReplaceState:function(w,E,O){w=w._reactInternals;var D=Gi(),H=lu(w),X=Vl(D,H);X.tag=1,X.payload=E,O!=null&&(X.callback=O),su(w,X),E=bo(w,H,D),E!==null&&Wb(E,w,H)},enqueueForceUpdate:function(w,E){w=w._reactInternals;var O=Gi(),D=lu(w),H=Vl(O,D);H.tag=2,E!=null&&(H.callback=E),su(w,H),E=bo(w,D,O),E!==null&&Wb(E,w,D)}};function l5(w,E,O,D,H,X,de){return w=w.stateNode,typeof w.shouldComponentUpdate=="function"?w.shouldComponentUpdate(D,X,de):E.prototype&&E.prototype.isPureReactComponent?!$b(O,D)||!$b(H,X):!0}function c5(w,E,O){var D=!1,H=mn,X=E.contextType;return typeof X=="object"&&X!==null?X=go(X):(H=$t(E)?Mt:qt.current,D=E.contextTypes,X=(D=D!=null)?Sn(w,H):mn),E=new E(O,X),w.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=Xb,w.stateNode=E,E._reactInternals=w,D&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=H,w.__reactInternalMemoizedMaskedChildContext=X),E}function u5(w,E,O,D){w=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(O,D),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(O,D),E.state!==w&&Xb.enqueueReplaceState(E,E.state,null)}function KP(w,E,O,D){var H=w.stateNode;H.props=O,H.state=w.memoizedState,H.refs=a5,XP(w);var X=E.contextType;typeof X=="object"&&X!==null?H.context=go(X):(X=$t(E)?Mt:qt.current,H.context=Sn(w,X)),H.state=w.memoizedState,X=E.getDerivedStateFromProps,typeof X=="function"&&(qP(w,E,X,O),H.state=w.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(E=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),E!==H.state&&Xb.enqueueReplaceState(H,H.state,null),Gb(w,O,H,D),H.state=w.memoizedState),typeof H.componentDidMount=="function"&&(w.flags|=4194308)}var ip=[],sp=0,qb=null,Kb=0,vo=[],yo=0,Ld=null,Wl=1,Gl="";function jd(w,E){ip[sp++]=Kb,ip[sp++]=qb,qb=w,Kb=E}function d5(w,E,O){vo[yo++]=Wl,vo[yo++]=Gl,vo[yo++]=Ld,Ld=w;var D=Wl;w=Gl;var H=32-Xn(D)-1;D&=~(1<<H),O+=1;var X=32-Xn(E)+H;if(30<X){var de=H-H%5;X=(D&(1<<de)-1).toString(32),D>>=de,H-=de,Wl=1<<32-Xn(E)+H|O<<H|D,Gl=X+w}else Wl=1<<X|O<<H|D,Gl=w}function YP(w){w.return!==null&&(jd(w,1),d5(w,1,0))}function ZP(w){for(;w===qb;)qb=ip[--sp],ip[sp]=null,Kb=ip[--sp],ip[sp]=null;for(;w===Ld;)Ld=vo[--yo],vo[yo]=null,Gl=vo[--yo],vo[yo]=null,Wl=vo[--yo],vo[yo]=null}var js=null,Fs=null,or=!1,qv=!1,Qo=null;function f5(w,E){var O=wo(5,null,null,0);O.elementType="DELETED",O.stateNode=E,O.return=w,E=w.deletions,E===null?(w.deletions=[O],w.flags|=16):E.push(O)}function h5(w,E){switch(w.tag){case 5:return E=Rn(E,w.type,w.pendingProps),E!==null?(w.stateNode=E,js=w,Fs=Kh(E),!0):!1;case 6:return E=Ko(E,w.pendingProps),E!==null?(w.stateNode=E,js=w,Fs=null,!0):!1;case 13:if(E=cs(E),E!==null){var O=Ld!==null?{id:Wl,overflow:Gl}:null;return w.memoizedState={dehydrated:E,treeContext:O,retryLane:1073741824},O=wo(18,null,null,0),O.stateNode=E,O.return=w,w.child=O,js=w,Fs=null,!0}return!1;default:return!1}}function QP(w){return(w.mode&1)!==0&&(w.flags&128)===0}function JP(w){if(or){var E=Fs;if(E){var O=E;if(!h5(w,E)){if(QP(w))throw Error(o(418));E=ho(O);var D=js;E&&h5(w,E)?f5(D,O):(w.flags=w.flags&-4097|2,or=!1,js=w)}}else{if(QP(w))throw Error(o(418));w.flags=w.flags&-4097|2,or=!1,js=w}}}function p5(w){for(w=w.return;w!==null&&w.tag!==5&&w.tag!==3&&w.tag!==13;)w=w.return;js=w}function Kv(w){if(!q||w!==js)return!1;if(!or)return p5(w),or=!0,!1;if(w.tag!==3&&(w.tag!==5||_e(w.type)&&!ae(w.type,w.memoizedProps))){var E=Fs;if(E){if(QP(w)){for(w=Fs;w;)w=ho(w);throw Error(o(418))}for(;E;)f5(w,E),E=ho(E)}}if(p5(w),w.tag===13){if(!q)throw Error(o(316));if(w=w.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(o(317));Fs=ep(w)}else Fs=js?ho(w.stateNode):null;return!0}function op(){q&&(Fs=js=null,qv=or=!1)}function e2(w){Qo===null?Qo=[w]:Qo.push(w)}function Yv(w,E,O){if(w=O.ref,w!==null&&typeof w!="function"&&typeof w!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(o(309));var D=O.stateNode}if(!D)throw Error(o(147,w));var H=D,X=""+w;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===X?E.ref:(E=function(de){var ye=H.refs;ye===a5&&(ye=H.refs={}),de===null?delete ye[X]:ye[X]=de},E._stringRef=X,E)}if(typeof w!="string")throw Error(o(284));if(!O._owner)throw Error(o(290,w))}return w}function Yb(w,E){throw w=Object.prototype.toString.call(E),Error(o(31,w==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":w))}function m5(w){var E=w._init;return E(w._payload)}function g5(w){function E(Te,xe){if(w){var De=Te.deletions;De===null?(Te.deletions=[xe],Te.flags|=16):De.push(xe)}}function O(Te,xe){if(!w)return null;for(;xe!==null;)E(Te,xe),xe=xe.sibling;return null}function D(Te,xe){for(Te=new Map;xe!==null;)xe.key!==null?Te.set(xe.key,xe):Te.set(xe.index,xe),xe=xe.sibling;return Te}function H(Te,xe){return Te=uu(Te,xe),Te.index=0,Te.sibling=null,Te}function X(Te,xe,De){return Te.index=De,w?(De=Te.alternate,De!==null?(De=De.index,De<xe?(Te.flags|=2,xe):De):(Te.flags|=2,xe)):(Te.flags|=1048576,xe)}function de(Te){return w&&Te.alternate===null&&(Te.flags|=2),Te}function ye(Te,xe,De,ft){return xe===null||xe.tag!==6?(xe=j2(De,Te.mode,ft),xe.return=Te,xe):(xe=H(xe,De),xe.return=Te,xe)}function je(Te,xe,De,ft){var Tt=De.type;return Tt===d?wt(Te,xe,De.props.children,ft,De.key):xe!==null&&(xe.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===_&&m5(Tt)===xe.type)?(ft=H(xe,De.props),ft.ref=Yv(Te,xe,De),ft.return=Te,ft):(ft=Aw(De.type,De.key,De.props,null,Te.mode,ft),ft.ref=Yv(Te,xe,De),ft.return=Te,ft)}function tt(Te,xe,De,ft){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==De.containerInfo||xe.stateNode.implementation!==De.implementation?(xe=F2(De,Te.mode,ft),xe.return=Te,xe):(xe=H(xe,De.children||[]),xe.return=Te,xe)}function wt(Te,xe,De,ft,Tt){return xe===null||xe.tag!==7?(xe=Vd(De,Te.mode,ft,Tt),xe.return=Te,xe):(xe=H(xe,De),xe.return=Te,xe)}function Zt(Te,xe,De){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=j2(""+xe,Te.mode,De),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return De=Aw(xe.type,xe.key,xe.props,null,Te.mode,De),De.ref=Yv(Te,null,xe),De.return=Te,De;case c:return xe=F2(xe,Te.mode,De),xe.return=Te,xe;case _:var ft=xe._init;return Zt(Te,ft(xe._payload),De)}if(z(xe)||C(xe))return xe=Vd(xe,Te.mode,De,null),xe.return=Te,xe;Yb(Te,xe)}return null}function kt(Te,xe,De,ft){var Tt=xe!==null?xe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Tt!==null?null:ye(Te,xe,""+De,ft);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return De.key===Tt?je(Te,xe,De,ft):null;case c:return De.key===Tt?tt(Te,xe,De,ft):null;case _:return Tt=De._init,kt(Te,xe,Tt(De._payload),ft)}if(z(De)||C(De))return Tt!==null?null:wt(Te,xe,De,ft,null);Yb(Te,De)}return null}function Hn(Te,xe,De,ft,Tt){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Te=Te.get(De)||null,ye(xe,Te,""+ft,Tt);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case l:return Te=Te.get(ft.key===null?De:ft.key)||null,je(xe,Te,ft,Tt);case c:return Te=Te.get(ft.key===null?De:ft.key)||null,tt(xe,Te,ft,Tt);case _:var sn=ft._init;return Hn(Te,xe,De,sn(ft._payload),Tt)}if(z(ft)||C(ft))return Te=Te.get(De)||null,wt(xe,Te,ft,Tt,null);Yb(xe,ft)}return null}function Rt(Te,xe,De,ft){for(var Tt=null,sn=null,Qt=xe,Cn=xe=0,oi=null;Qt!==null&&Cn<De.length;Cn++){Qt.index>Cn?(oi=Qt,Qt=null):oi=Qt.sibling;var Mn=kt(Te,Qt,De[Cn],ft);if(Mn===null){Qt===null&&(Qt=oi);break}w&&Qt&&Mn.alternate===null&&E(Te,Qt),xe=X(Mn,xe,Cn),sn===null?Tt=Mn:sn.sibling=Mn,sn=Mn,Qt=oi}if(Cn===De.length)return O(Te,Qt),or&&jd(Te,Cn),Tt;if(Qt===null){for(;Cn<De.length;Cn++)Qt=Zt(Te,De[Cn],ft),Qt!==null&&(xe=X(Qt,xe,Cn),sn===null?Tt=Qt:sn.sibling=Qt,sn=Qt);return or&&jd(Te,Cn),Tt}for(Qt=D(Te,Qt);Cn<De.length;Cn++)oi=Hn(Qt,Te,Cn,De[Cn],ft),oi!==null&&(w&&oi.alternate!==null&&Qt.delete(oi.key===null?Cn:oi.key),xe=X(oi,xe,Cn),sn===null?Tt=oi:sn.sibling=oi,sn=oi);return w&&Qt.forEach(function(du){return E(Te,du)}),or&&jd(Te,Cn),Tt}function Pi(Te,xe,De,ft){var Tt=C(De);if(typeof Tt!="function")throw Error(o(150));if(De=Tt.call(De),De==null)throw Error(o(151));for(var sn=Tt=null,Qt=xe,Cn=xe=0,oi=null,Mn=De.next();Qt!==null&&!Mn.done;Cn++,Mn=De.next()){Qt.index>Cn?(oi=Qt,Qt=null):oi=Qt.sibling;var du=kt(Te,Qt,Mn.value,ft);if(du===null){Qt===null&&(Qt=oi);break}w&&Qt&&du.alternate===null&&E(Te,Qt),xe=X(du,xe,Cn),sn===null?Tt=du:sn.sibling=du,sn=du,Qt=oi}if(Mn.done)return O(Te,Qt),or&&jd(Te,Cn),Tt;if(Qt===null){for(;!Mn.done;Cn++,Mn=De.next())Mn=Zt(Te,Mn.value,ft),Mn!==null&&(xe=X(Mn,xe,Cn),sn===null?Tt=Mn:sn.sibling=Mn,sn=Mn);return or&&jd(Te,Cn),Tt}for(Qt=D(Te,Qt);!Mn.done;Cn++,Mn=De.next())Mn=Hn(Qt,Te,Cn,Mn.value,ft),Mn!==null&&(w&&Mn.alternate!==null&&Qt.delete(Mn.key===null?Cn:Mn.key),xe=X(Mn,xe,Cn),sn===null?Tt=Mn:sn.sibling=Mn,sn=Mn);return w&&Qt.forEach(function(phe){return E(Te,phe)}),or&&jd(Te,Cn),Tt}function So(Te,xe,De,ft){if(typeof De=="object"&&De!==null&&De.type===d&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case l:e:{for(var Tt=De.key,sn=xe;sn!==null;){if(sn.key===Tt){if(Tt=De.type,Tt===d){if(sn.tag===7){O(Te,sn.sibling),xe=H(sn,De.props.children),xe.return=Te,Te=xe;break e}}else if(sn.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===_&&m5(Tt)===sn.type){O(Te,sn.sibling),xe=H(sn,De.props),xe.ref=Yv(Te,sn,De),xe.return=Te,Te=xe;break e}O(Te,sn);break}else E(Te,sn);sn=sn.sibling}De.type===d?(xe=Vd(De.props.children,Te.mode,ft,De.key),xe.return=Te,Te=xe):(ft=Aw(De.type,De.key,De.props,null,Te.mode,ft),ft.ref=Yv(Te,xe,De),ft.return=Te,Te=ft)}return de(Te);case c:e:{for(sn=De.key;xe!==null;){if(xe.key===sn)if(xe.tag===4&&xe.stateNode.containerInfo===De.containerInfo&&xe.stateNode.implementation===De.implementation){O(Te,xe.sibling),xe=H(xe,De.children||[]),xe.return=Te,Te=xe;break e}else{O(Te,xe);break}else E(Te,xe);xe=xe.sibling}xe=F2(De,Te.mode,ft),xe.return=Te,Te=xe}return de(Te);case _:return sn=De._init,So(Te,xe,sn(De._payload),ft)}if(z(De))return Rt(Te,xe,De,ft);if(C(De))return Pi(Te,xe,De,ft);Yb(Te,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,xe!==null&&xe.tag===6?(O(Te,xe.sibling),xe=H(xe,De),xe.return=Te,Te=xe):(O(Te,xe),xe=j2(De,Te.mode,ft),xe.return=Te,Te=xe),de(Te)):O(Te,xe)}return So}var ap=g5(!0),v5=g5(!1),Zv={},xo=bt(Zv),Qv=bt(Zv),lp=bt(Zv);function Xa(w){if(w===Zv)throw Error(o(174));return w}function t2(w,E){Nt(lp,E),Nt(Qv,w),Nt(xo,Zv),w=V(E),St(xo),Nt(xo,w)}function cp(){St(xo),St(Qv),St(lp)}function y5(w){var E=Xa(lp.current),O=Xa(xo.current);E=R(O,w.type,E),O!==E&&(Nt(Qv,w),Nt(xo,E))}function n2(w){Qv.current===w&&(St(xo),St(Qv))}var fr=bt(0);function Zb(w){for(var E=w;E!==null;){if(E.tag===13){var O=E.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||eu(O)||tu(O)))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(E.flags&128)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var r2=[];function i2(){for(var w=0;w<r2.length;w++){var E=r2[w];ee?E._workInProgressVersionPrimary=null:E._workInProgressVersionSecondary=null}r2.length=0}var Qb=a.ReactCurrentDispatcher,_o=a.ReactCurrentBatchConfig,up=0,br=null,Mi=null,si=null,Jb=!1,Jv=!1,ey=0,Bfe=0;function Ai(){throw Error(o(321))}function s2(w,E){if(E===null)return!1;for(var O=0;O<E.length&&O<w.length;O++)if(!Va(w[O],E[O]))return!1;return!0}function o2(w,E,O,D,H,X){if(up=X,br=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,Qb.current=w===null||w.memoizedState===null?Hfe:Vfe,w=O(D,H),Jv){X=0;do{if(Jv=!1,ey=0,25<=X)throw Error(o(301));X+=1,si=Mi=null,E.updateQueue=null,Qb.current=Wfe,w=O(D,H)}while(Jv)}if(Qb.current=iw,E=Mi!==null&&Mi.next!==null,up=0,si=Mi=br=null,Jb=!1,E)throw Error(o(300));return w}function a2(){var w=ey!==0;return ey=0,w}function Xl(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return si===null?br.memoizedState=si=w:si=si.next=w,si}function qa(){if(Mi===null){var w=br.alternate;w=w!==null?w.memoizedState:null}else w=Mi.next;var E=si===null?br.memoizedState:si.next;if(E!==null)si=E,Mi=w;else{if(w===null)throw Error(o(310));Mi=w,w={memoizedState:Mi.memoizedState,baseState:Mi.baseState,baseQueue:Mi.baseQueue,queue:Mi.queue,next:null},si===null?br.memoizedState=si=w:si=si.next=w}return si}function Fd(w,E){return typeof E=="function"?E(w):E}function ew(w){var E=qa(),O=E.queue;if(O===null)throw Error(o(311));O.lastRenderedReducer=w;var D=Mi,H=D.baseQueue,X=O.pending;if(X!==null){if(H!==null){var de=H.next;H.next=X.next,X.next=de}D.baseQueue=H=X,O.pending=null}if(H!==null){X=H.next,D=D.baseState;var ye=de=null,je=null,tt=X;do{var wt=tt.lane;if((up&wt)===wt)je!==null&&(je=je.next={lane:0,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null}),D=tt.hasEagerState?tt.eagerState:w(D,tt.action);else{var Zt={lane:wt,action:tt.action,hasEagerState:tt.hasEagerState,eagerState:tt.eagerState,next:null};je===null?(ye=je=Zt,de=D):je=je.next=Zt,br.lanes|=wt,fp|=wt}tt=tt.next}while(tt!==null&&tt!==X);je===null?de=D:je.next=ye,Va(D,E.memoizedState)||(Bs=!0),E.memoizedState=D,E.baseState=de,E.baseQueue=je,O.lastRenderedState=D}if(w=O.interleaved,w!==null){H=w;do X=H.lane,br.lanes|=X,fp|=X,H=H.next;while(H!==w)}else H===null&&(O.lanes=0);return[E.memoizedState,O.dispatch]}function tw(w){var E=qa(),O=E.queue;if(O===null)throw Error(o(311));O.lastRenderedReducer=w;var D=O.dispatch,H=O.pending,X=E.memoizedState;if(H!==null){O.pending=null;var de=H=H.next;do X=w(X,de.action),de=de.next;while(de!==H);Va(X,E.memoizedState)||(Bs=!0),E.memoizedState=X,E.baseQueue===null&&(E.baseState=X),O.lastRenderedState=X}return[X,D]}function x5(){}function _5(w,E){var O=br,D=qa(),H=E(),X=!Va(D.memoizedState,H);if(X&&(D.memoizedState=H,Bs=!0),D=D.queue,ny(S5.bind(null,O,D,w),[w]),D.getSnapshot!==E||X||si!==null&&si.memoizedState.tag&1){if(O.flags|=2048,ty(9,w5.bind(null,O,D,H,E),void 0,null),kr===null)throw Error(o(349));up&30||b5(O,E,H)}return H}function b5(w,E,O){w.flags|=16384,w={getSnapshot:E,value:O},E=br.updateQueue,E===null?(E={lastEffect:null,stores:null},br.updateQueue=E,E.stores=[w]):(O=E.stores,O===null?E.stores=[w]:O.push(w))}function w5(w,E,O,D){E.value=O,E.getSnapshot=D,E5(E)&&bo(w,1,-1)}function S5(w,E,O){return O(function(){E5(E)&&bo(w,1,-1)})}function E5(w){var E=w.getSnapshot;w=w.value;try{var O=E();return!Va(w,O)}catch{return!0}}function l2(w){var E=Xl();return typeof w=="function"&&(w=w()),E.memoizedState=E.baseState=w,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fd,lastRenderedState:w},E.queue=w,w=w.dispatch=$fe.bind(null,br,w),[E.memoizedState,w]}function ty(w,E,O,D){return w={tag:w,create:E,destroy:O,deps:D,next:null},E=br.updateQueue,E===null?(E={lastEffect:null,stores:null},br.updateQueue=E,E.lastEffect=w.next=w):(O=E.lastEffect,O===null?E.lastEffect=w.next=w:(D=O.next,O.next=w,w.next=D,E.lastEffect=w)),w}function C5(){return qa().memoizedState}function nw(w,E,O,D){var H=Xl();br.flags|=w,H.memoizedState=ty(1|E,O,void 0,D===void 0?null:D)}function rw(w,E,O,D){var H=qa();D=D===void 0?null:D;var X=void 0;if(Mi!==null){var de=Mi.memoizedState;if(X=de.destroy,D!==null&&s2(D,de.deps)){H.memoizedState=ty(E,O,X,D);return}}br.flags|=w,H.memoizedState=ty(1|E,O,X,D)}function c2(w,E){return nw(8390656,8,w,E)}function ny(w,E){return rw(2048,8,w,E)}function M5(w,E){return rw(4,2,w,E)}function A5(w,E){return rw(4,4,w,E)}function T5(w,E){if(typeof E=="function")return w=w(),E(w),function(){E(null)};if(E!=null)return w=w(),E.current=w,function(){E.current=null}}function P5(w,E,O){return O=O!=null?O.concat([w]):null,rw(4,4,T5.bind(null,E,w),O)}function u2(){}function N5(w,E){var O=qa();E=E===void 0?null:E;var D=O.memoizedState;return D!==null&&E!==null&&s2(E,D[1])?D[0]:(O.memoizedState=[w,E],w)}function R5(w,E){var O=qa();E=E===void 0?null:E;var D=O.memoizedState;return D!==null&&E!==null&&s2(E,D[1])?D[0]:(w=w(),O.memoizedState=[w,E],w)}function Ufe(w,E){var O=En;En=O!==0&&4>O?O:4,w(!0);var D=_o.transition;_o.transition={};try{w(!1),E()}finally{En=O,_o.transition=D}}function O5(){return qa().memoizedState}function zfe(w,E,O){var D=lu(w);O={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null},I5(w)?k5(E,O):(D5(w,E,O),O=Gi(),w=bo(w,D,O),w!==null&&L5(w,E,D))}function $fe(w,E,O){var D=lu(w),H={lane:D,action:O,hasEagerState:!1,eagerState:null,next:null};if(I5(w))k5(E,H);else{D5(w,E,H);var X=w.alternate;if(w.lanes===0&&(X===null||X.lanes===0)&&(X=E.lastRenderedReducer,X!==null))try{var de=E.lastRenderedState,ye=X(de,O);if(H.hasEagerState=!0,H.eagerState=ye,Va(ye,de))return}catch{}finally{}O=Gi(),w=bo(w,D,O),w!==null&&L5(w,E,D)}}function I5(w){var E=w.alternate;return w===br||E!==null&&E===br}function k5(w,E){Jv=Jb=!0;var O=w.pending;O===null?E.next=E:(E.next=O.next,O.next=E),w.pending=E}function D5(w,E,O){kr!==null&&w.mode&1&&!(an&2)?(w=E.interleaved,w===null?(O.next=O,Ga===null?Ga=[E]:Ga.push(E)):(O.next=w.next,w.next=O),E.interleaved=O):(w=E.pending,w===null?O.next=O:(O.next=w.next,w.next=O),E.pending=O)}function L5(w,E,O){if(O&4194240){var D=E.lanes;D&=w.pendingLanes,O|=D,E.lanes=O,FP(w,O)}}var iw={readContext:go,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},Hfe={readContext:go,useCallback:function(w,E){return Xl().memoizedState=[w,E===void 0?null:E],w},useContext:go,useEffect:c2,useImperativeHandle:function(w,E,O){return O=O!=null?O.concat([w]):null,nw(4194308,4,T5.bind(null,E,w),O)},useLayoutEffect:function(w,E){return nw(4194308,4,w,E)},useInsertionEffect:function(w,E){return nw(4,2,w,E)},useMemo:function(w,E){var O=Xl();return E=E===void 0?null:E,w=w(),O.memoizedState=[w,E],w},useReducer:function(w,E,O){var D=Xl();return E=O!==void 0?O(E):E,D.memoizedState=D.baseState=E,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:w,lastRenderedState:E},D.queue=w,w=w.dispatch=zfe.bind(null,br,w),[D.memoizedState,w]},useRef:function(w){var E=Xl();return w={current:w},E.memoizedState=w},useState:l2,useDebugValue:u2,useDeferredValue:function(w){var E=l2(w),O=E[0],D=E[1];return c2(function(){var H=_o.transition;_o.transition={};try{D(w)}finally{_o.transition=H}},[w]),O},useTransition:function(){var w=l2(!1),E=w[0];return w=Ufe.bind(null,w[1]),Xl().memoizedState=w,[E,w]},useMutableSource:function(){},useSyncExternalStore:function(w,E,O){var D=br,H=Xl();if(or){if(O===void 0)throw Error(o(407));O=O()}else{if(O=E(),kr===null)throw Error(o(349));up&30||b5(D,E,O)}H.memoizedState=O;var X={value:O,getSnapshot:E};return H.queue=X,c2(S5.bind(null,D,X,w),[w]),D.flags|=2048,ty(9,w5.bind(null,D,X,O,E),void 0,null),O},useId:function(){var w=Xl(),E=kr.identifierPrefix;if(or){var O=Gl,D=Wl;O=(D&~(1<<32-Xn(D)-1)).toString(32)+O,E=":"+E+"R"+O,O=ey++,0<O&&(E+="H"+O.toString(32)),E+=":"}else O=Bfe++,E=":"+E+"r"+O.toString(32)+":";return w.memoizedState=E},unstable_isNewReconciler:!1},Vfe={readContext:go,useCallback:N5,useContext:go,useEffect:ny,useImperativeHandle:P5,useInsertionEffect:M5,useLayoutEffect:A5,useMemo:R5,useReducer:ew,useRef:C5,useState:function(){return ew(Fd)},useDebugValue:u2,useDeferredValue:function(w){var E=ew(Fd),O=E[0],D=E[1];return ny(function(){var H=_o.transition;_o.transition={};try{D(w)}finally{_o.transition=H}},[w]),O},useTransition:function(){var w=ew(Fd)[0],E=qa().memoizedState;return[w,E]},useMutableSource:x5,useSyncExternalStore:_5,useId:O5,unstable_isNewReconciler:!1},Wfe={readContext:go,useCallback:N5,useContext:go,useEffect:ny,useImperativeHandle:P5,useInsertionEffect:M5,useLayoutEffect:A5,useMemo:R5,useReducer:tw,useRef:C5,useState:function(){return tw(Fd)},useDebugValue:u2,useDeferredValue:function(w){var E=tw(Fd),O=E[0],D=E[1];return ny(function(){var H=_o.transition;_o.transition={};try{D(w)}finally{_o.transition=H}},[w]),O},useTransition:function(){var w=tw(Fd)[0],E=qa().memoizedState;return[w,E]},useMutableSource:x5,useSyncExternalStore:_5,useId:O5,unstable_isNewReconciler:!1};function d2(w,E){try{var O="",D=E;do O+=Ffe(D),D=D.return;while(D);var H=O}catch(X){H=`
Error generating stack: `+X.message+`
`+X.stack}return{value:w,source:E,stack:H}}function f2(w,E){try{console.error(E.value)}catch(O){setTimeout(function(){throw O})}}var Gfe=typeof WeakMap=="function"?WeakMap:Map;function j5(w,E,O){O=Vl(-1,O),O.tag=3,O.payload={element:null};var D=E.value;return O.callback=function(){_w||(_w=!0,N2=D),f2(w,E)},O}function F5(w,E,O){O=Vl(-1,O),O.tag=3;var D=w.type.getDerivedStateFromError;if(typeof D=="function"){var H=E.value;O.payload=function(){return D(H)},O.callback=function(){f2(w,E)}}var X=w.stateNode;return X!==null&&typeof X.componentDidCatch=="function"&&(O.callback=function(){f2(w,E),typeof D!="function"&&(ou===null?ou=new Set([this]):ou.add(this));var de=E.stack;this.componentDidCatch(E.value,{componentStack:de!==null?de:""})}),O}function B5(w,E,O){var D=w.pingCache;if(D===null){D=w.pingCache=new Gfe;var H=new Set;D.set(E,H)}else H=D.get(E),H===void 0&&(H=new Set,D.set(E,H));H.has(O)||(H.add(O),w=ohe.bind(null,w,E,O),E.then(w,w))}function U5(w){do{var E;if((E=w.tag===13)&&(E=w.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return w;w=w.return}while(w!==null);return null}function z5(w,E,O,D,H){return w.mode&1?(w.flags|=65536,w.lanes=H,w):(w===E?w.flags|=65536:(w.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(E=Vl(-1,1),E.tag=2,su(O,E))),O.lanes|=1),w)}function Ka(w){w.flags|=4}function $5(w,E){if(w!==null&&w.child===E.child)return!0;if(E.flags&16)return!1;for(w=E.child;w!==null;){if(w.flags&12854||w.subtreeFlags&12854)return!1;w=w.sibling}return!0}var ry,iy,sw,ow;if(ue)ry=function(w,E){for(var O=E.child;O!==null;){if(O.tag===5||O.tag===6)G(w,O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===E)break;for(;O.sibling===null;){if(O.return===null||O.return===E)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},iy=function(){},sw=function(w,E,O,D,H){if(w=w.memoizedProps,w!==D){var X=E.stateNode,de=Xa(xo.current);O=ie(X,O,w,D,H,de),(E.updateQueue=O)&&Ka(E)}},ow=function(w,E,O,D){O!==D&&Ka(E)};else if(J){ry=function(w,E,O,D){for(var H=E.child;H!==null;){if(H.tag===5){var X=H.stateNode;O&&D&&(X=zt(X,H.type,H.memoizedProps,H)),G(w,X)}else if(H.tag===6)X=H.stateNode,O&&D&&(X=Ln(X,H.memoizedProps,H)),G(w,X);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)X=H.child,X!==null&&(X.return=H),ry(w,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===E)break;for(;H.sibling===null;){if(H.return===null||H.return===E)return;H=H.return}H.sibling.return=H.return,H=H.sibling}};var H5=function(w,E,O,D){for(var H=E.child;H!==null;){if(H.tag===5){var X=H.stateNode;O&&D&&(X=zt(X,H.type,H.memoizedProps,H)),Ye(w,X)}else if(H.tag===6)X=H.stateNode,O&&D&&(X=Ln(X,H.memoizedProps,H)),Ye(w,X);else if(H.tag!==4){if(H.tag===22&&H.memoizedState!==null)X=H.child,X!==null&&(X.return=H),H5(w,H,!0,!0);else if(H.child!==null){H.child.return=H,H=H.child;continue}}if(H===E)break;for(;H.sibling===null;){if(H.return===null||H.return===E)return;H=H.return}H.sibling.return=H.return,H=H.sibling}};iy=function(w,E){var O=E.stateNode;if(!$5(w,E)){w=O.containerInfo;var D=Le(w);H5(D,E,!1,!1),O.pendingChildren=D,Ka(E),mt(w,D)}},sw=function(w,E,O,D,H){var X=w.stateNode,de=w.memoizedProps;if((w=$5(w,E))&&de===D)E.stateNode=X;else{var ye=E.stateNode,je=Xa(xo.current),tt=null;de!==D&&(tt=ie(ye,O,de,D,H,je)),w&&tt===null?E.stateNode=X:(X=Ue(X,tt,O,de,D,E,w,ye),Y(X,O,D,H,je)&&Ka(E),E.stateNode=X,w?Ka(E):ry(X,E,!1,!1))}},ow=function(w,E,O,D){O!==D?(w=Xa(lp.current),O=Xa(xo.current),E.stateNode=se(D,w,O,E),Ka(E)):E.stateNode=w.stateNode}}else iy=function(){},sw=function(){},ow=function(){};function sy(w,E){if(!or)switch(w.tailMode){case"hidden":E=w.tail;for(var O=null;E!==null;)E.alternate!==null&&(O=E),E=E.sibling;O===null?w.tail=null:O.sibling=null;break;case"collapsed":O=w.tail;for(var D=null;O!==null;)O.alternate!==null&&(D=O),O=O.sibling;D===null?E||w.tail===null?w.tail=null:w.tail.sibling=null:D.sibling=null}}function Ti(w){var E=w.alternate!==null&&w.alternate.child===w.child,O=0,D=0;if(E)for(var H=w.child;H!==null;)O|=H.lanes|H.childLanes,D|=H.subtreeFlags&14680064,D|=H.flags&14680064,H.return=w,H=H.sibling;else for(H=w.child;H!==null;)O|=H.lanes|H.childLanes,D|=H.subtreeFlags,D|=H.flags,H.return=w,H=H.sibling;return w.subtreeFlags|=D,w.childLanes=O,E}function Xfe(w,E,O){var D=E.pendingProps;switch(ZP(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ti(E),null;case 1:return $t(E.type)&&dr(),Ti(E),null;case 3:return D=E.stateNode,cp(),St(Kt),St(qt),i2(),D.pendingContext&&(D.context=D.pendingContext,D.pendingContext=null),(w===null||w.child===null)&&(Kv(E)?Ka(E):w===null||w.memoizedState.isDehydrated&&!(E.flags&256)||(E.flags|=1024,Qo!==null&&(I2(Qo),Qo=null))),iy(w,E),Ti(E),null;case 5:n2(E),O=Xa(lp.current);var H=E.type;if(w!==null&&E.stateNode!=null)sw(w,E,H,D,O),w.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!D){if(E.stateNode===null)throw Error(o(166));return Ti(E),null}if(w=Xa(xo.current),Kv(E)){if(!q)throw Error(o(175));w=Zh(E.stateNode,E.type,E.memoizedProps,O,w,E,!qv),E.updateQueue=w,w!==null&&Ka(E)}else{var X=W(H,D,O,w,E);ry(X,E,!1,!1),E.stateNode=X,Y(X,H,D,O,w)&&Ka(E)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return Ti(E),null;case 6:if(w&&E.stateNode!=null)ow(w,E,w.memoizedProps,D);else{if(typeof D!="string"&&E.stateNode===null)throw Error(o(166));if(w=Xa(lp.current),O=Xa(xo.current),Kv(E)){if(!q)throw Error(o(176));if(w=E.stateNode,D=E.memoizedProps,(O=Qh(w,D,E,!qv))&&(H=js,H!==null))switch(X=(H.mode&1)!==0,H.tag){case 3:Pe(H.stateNode.containerInfo,w,D,X);break;case 5:Re(H.type,H.memoizedProps,H.stateNode,w,D,X)}O&&Ka(E)}else E.stateNode=se(D,w,O,E)}return Ti(E),null;case 13:if(St(fr),D=E.memoizedState,or&&Fs!==null&&E.mode&1&&!(E.flags&128)){for(w=Fs;w;)w=ho(w);return op(),E.flags|=98560,E}if(D!==null&&D.dehydrated!==null){if(D=Kv(E),w===null){if(!D)throw Error(o(318));if(!q)throw Error(o(344));if(w=E.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(o(317));Jh(w,E)}else op(),!(E.flags&128)&&(E.memoizedState=null),E.flags|=4;return Ti(E),null}return Qo!==null&&(I2(Qo),Qo=null),E.flags&128?(E.lanes=O,E):(D=D!==null,O=!1,w===null?Kv(E):O=w.memoizedState!==null,D&&!O&&(E.child.flags|=8192,E.mode&1&&(w===null||fr.current&1?Vr===0&&(Vr=3):D2())),E.updateQueue!==null&&(E.flags|=4),Ti(E),null);case 4:return cp(),iy(w,E),w===null&&fe(E.stateNode.containerInfo),Ti(E),null;case 10:return WP(E.type._context),Ti(E),null;case 17:return $t(E.type)&&dr(),Ti(E),null;case 19:if(St(fr),H=E.memoizedState,H===null)return Ti(E),null;if(D=(E.flags&128)!==0,X=H.rendering,X===null)if(D)sy(H,!1);else{if(Vr!==0||w!==null&&w.flags&128)for(w=E.child;w!==null;){if(X=Zb(w),X!==null){for(E.flags|=128,sy(H,!1),w=X.updateQueue,w!==null&&(E.updateQueue=w,E.flags|=4),E.subtreeFlags=0,w=O,D=E.child;D!==null;)O=D,H=w,O.flags&=14680066,X=O.alternate,X===null?(O.childLanes=0,O.lanes=H,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=X.childLanes,O.lanes=X.lanes,O.child=X.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=X.memoizedProps,O.memoizedState=X.memoizedState,O.updateQueue=X.updateQueue,O.type=X.type,H=X.dependencies,O.dependencies=H===null?null:{lanes:H.lanes,firstContext:H.firstContext}),D=D.sibling;return Nt(fr,fr.current&1|2),E.child}w=w.sibling}H.tail!==null&&ii()>P2&&(E.flags|=128,D=!0,sy(H,!1),E.lanes=4194304)}else{if(!D)if(w=Zb(X),w!==null){if(E.flags|=128,D=!0,w=w.updateQueue,w!==null&&(E.updateQueue=w,E.flags|=4),sy(H,!0),H.tail===null&&H.tailMode==="hidden"&&!X.alternate&&!or)return Ti(E),null}else 2*ii()-H.renderingStartTime>P2&&O!==1073741824&&(E.flags|=128,D=!0,sy(H,!1),E.lanes=4194304);H.isBackwards?(X.sibling=E.child,E.child=X):(w=H.last,w!==null?w.sibling=X:E.child=X,H.last=X)}return H.tail!==null?(E=H.tail,H.rendering=E,H.tail=E.sibling,H.renderingStartTime=ii(),E.sibling=null,w=fr.current,Nt(fr,D?w&1|2:w&1),E):(Ti(E),null);case 22:case 23:return k2(),D=E.memoizedState!==null,w!==null&&w.memoizedState!==null!==D&&(E.flags|=8192),D&&E.mode&1?Us&1073741824&&(Ti(E),ue&&E.subtreeFlags&6&&(E.flags|=8192)):Ti(E),null;case 24:return null;case 25:return null}throw Error(o(156,E.tag))}var qfe=a.ReactCurrentOwner,Bs=!1;function Wi(w,E,O,D){E.child=w===null?v5(E,null,O,D):ap(E,w.child,O,D)}function V5(w,E,O,D,H){O=O.render;var X=E.ref;return rp(E,H),D=o2(w,E,O,D,X,H),O=a2(),w!==null&&!Bs?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~H,ql(w,E,H)):(or&&O&&YP(E),E.flags|=1,Wi(w,E,D,H),E.child)}function W5(w,E,O,D,H){if(w===null){var X=O.type;return typeof X=="function"&&!L2(X)&&X.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(E.tag=15,E.type=X,G5(w,E,X,D,H)):(w=Aw(O.type,null,D,E,E.mode,H),w.ref=E.ref,w.return=E,E.child=w)}if(X=w.child,!(w.lanes&H)){var de=X.memoizedProps;if(O=O.compare,O=O!==null?O:$b,O(de,D)&&w.ref===E.ref)return ql(w,E,H)}return E.flags|=1,w=uu(X,D),w.ref=E.ref,w.return=E,E.child=w}function G5(w,E,O,D,H){if(w!==null&&$b(w.memoizedProps,D)&&w.ref===E.ref)if(Bs=!1,(w.lanes&H)!==0)w.flags&131072&&(Bs=!0);else return E.lanes=w.lanes,ql(w,E,H);return h2(w,E,O,D,H)}function X5(w,E,O){var D=E.pendingProps,H=D.children,X=w!==null?w.memoizedState:null;if(D.mode==="hidden")if(!(E.mode&1))E.memoizedState={baseLanes:0,cachePool:null},Nt(dp,Us),Us|=O;else if(O&1073741824)E.memoizedState={baseLanes:0,cachePool:null},D=X!==null?X.baseLanes:O,Nt(dp,Us),Us|=D;else return w=X!==null?X.baseLanes|O:O,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:w,cachePool:null},E.updateQueue=null,Nt(dp,Us),Us|=w,null;else X!==null?(D=X.baseLanes|O,E.memoizedState=null):D=O,Nt(dp,Us),Us|=D;return Wi(w,E,H,O),E.child}function q5(w,E){var O=E.ref;(w===null&&O!==null||w!==null&&w.ref!==O)&&(E.flags|=512,E.flags|=2097152)}function h2(w,E,O,D,H){var X=$t(O)?Mt:qt.current;return X=Sn(E,X),rp(E,H),O=o2(w,E,O,D,X,H),D=a2(),w!==null&&!Bs?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~H,ql(w,E,H)):(or&&D&&YP(E),E.flags|=1,Wi(w,E,O,H),E.child)}function K5(w,E,O,D,H){if($t(O)){var X=!0;po(E)}else X=!1;if(rp(E,H),E.stateNode===null)w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),c5(E,O,D),KP(E,O,D,H),D=!0;else if(w===null){var de=E.stateNode,ye=E.memoizedProps;de.props=ye;var je=de.context,tt=O.contextType;typeof tt=="object"&&tt!==null?tt=go(tt):(tt=$t(O)?Mt:qt.current,tt=Sn(E,tt));var wt=O.getDerivedStateFromProps,Zt=typeof wt=="function"||typeof de.getSnapshotBeforeUpdate=="function";Zt||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(ye!==D||je!==tt)&&u5(E,de,D,tt),iu=!1;var kt=E.memoizedState;de.state=kt,Gb(E,D,de,H),je=E.memoizedState,ye!==D||kt!==je||Kt.current||iu?(typeof wt=="function"&&(qP(E,O,wt,D),je=E.memoizedState),(ye=iu||l5(E,O,ye,D,kt,je,tt))?(Zt||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(E.flags|=4194308)):(typeof de.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=D,E.memoizedState=je),de.props=D,de.state=je,de.context=tt,D=ye):(typeof de.componentDidMount=="function"&&(E.flags|=4194308),D=!1)}else{de=E.stateNode,i5(w,E),ye=E.memoizedProps,tt=E.type===E.elementType?ye:Zo(E.type,ye),de.props=tt,Zt=E.pendingProps,kt=de.context,je=O.contextType,typeof je=="object"&&je!==null?je=go(je):(je=$t(O)?Mt:qt.current,je=Sn(E,je));var Hn=O.getDerivedStateFromProps;(wt=typeof Hn=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(ye!==Zt||kt!==je)&&u5(E,de,D,je),iu=!1,kt=E.memoizedState,de.state=kt,Gb(E,D,de,H);var Rt=E.memoizedState;ye!==Zt||kt!==Rt||Kt.current||iu?(typeof Hn=="function"&&(qP(E,O,Hn,D),Rt=E.memoizedState),(tt=iu||l5(E,O,tt,D,kt,Rt,je)||!1)?(wt||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(D,Rt,je),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(D,Rt,je)),typeof de.componentDidUpdate=="function"&&(E.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof de.componentDidUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=1024),E.memoizedProps=D,E.memoizedState=Rt),de.props=D,de.state=Rt,de.context=je,D=tt):(typeof de.componentDidUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||ye===w.memoizedProps&&kt===w.memoizedState||(E.flags|=1024),D=!1)}return p2(w,E,O,D,X,H)}function p2(w,E,O,D,H,X){q5(w,E);var de=(E.flags&128)!==0;if(!D&&!de)return H&&On(E,O,!1),ql(w,E,X);D=E.stateNode,qfe.current=E;var ye=de&&typeof O.getDerivedStateFromError!="function"?null:D.render();return E.flags|=1,w!==null&&de?(E.child=ap(E,w.child,null,X),E.child=ap(E,null,ye,X)):Wi(w,E,ye,X),E.memoizedState=D.state,H&&On(E,O,!0),E.child}function Y5(w){var E=w.stateNode;E.pendingContext?Yo(w,E.pendingContext,E.pendingContext!==E.context):E.context&&Yo(w,E.context,!1),t2(w,E.containerInfo)}function Z5(w,E,O,D,H){return op(),e2(H),E.flags|=256,Wi(w,E,O,D),E.child}var aw={dehydrated:null,treeContext:null,retryLane:0};function lw(w){return{baseLanes:w,cachePool:null}}function Q5(w,E,O){var D=E.pendingProps,H=fr.current,X=!1,de=(E.flags&128)!==0,ye;if((ye=de)||(ye=w!==null&&w.memoizedState===null?!1:(H&2)!==0),ye?(X=!0,E.flags&=-129):(w===null||w.memoizedState!==null)&&(H|=1),Nt(fr,H&1),w===null)return JP(E),w=E.memoizedState,w!==null&&(w=w.dehydrated,w!==null)?(E.mode&1?tu(w)?E.lanes=8:E.lanes=1073741824:E.lanes=1,null):(H=D.children,w=D.fallback,X?(D=E.mode,X=E.child,H={mode:"hidden",children:H},!(D&1)&&X!==null?(X.childLanes=0,X.pendingProps=H):X=Tw(H,D,0,null),w=Vd(w,D,O,null),X.return=E,w.return=E,X.sibling=w,E.child=X,E.child.memoizedState=lw(O),E.memoizedState=aw,w):m2(E,H));if(H=w.memoizedState,H!==null){if(ye=H.dehydrated,ye!==null){if(de)return E.flags&256?(E.flags&=-257,cw(w,E,O,Error(o(422)))):E.memoizedState!==null?(E.child=w.child,E.flags|=128,null):(X=D.fallback,H=E.mode,D=Tw({mode:"visible",children:D.children},H,0,null),X=Vd(X,H,O,null),X.flags|=2,D.return=E,X.return=E,D.sibling=X,E.child=D,E.mode&1&&ap(E,w.child,null,O),E.child.memoizedState=lw(O),E.memoizedState=aw,X);if(!(E.mode&1))E=cw(w,E,O,null);else if(tu(ye))E=cw(w,E,O,Error(o(419)));else if(D=(O&w.childLanes)!==0,Bs||D){if(D=kr,D!==null){switch(O&-O){case 4:X=2;break;case 16:X=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:X=32;break;case 536870912:X=268435456;break;default:X=0}D=X&(D.suspendedLanes|O)?0:X,D!==0&&D!==H.retryLane&&(H.retryLane=D,bo(w,D,-1))}D2(),E=cw(w,E,O,Error(o(421)))}else eu(ye)?(E.flags|=128,E.child=w.child,E=ahe.bind(null,w),qh(ye,E),E=null):(O=H.treeContext,q&&(Fs=Yh(ye),js=E,or=!0,Qo=null,qv=!1,O!==null&&(vo[yo++]=Wl,vo[yo++]=Gl,vo[yo++]=Ld,Wl=O.id,Gl=O.overflow,Ld=E)),E=m2(E,E.pendingProps.children),E.flags|=4096);return E}return X?(D=eU(w,E,D.children,D.fallback,O),X=E.child,H=w.child.memoizedState,X.memoizedState=H===null?lw(O):{baseLanes:H.baseLanes|O,cachePool:null},X.childLanes=w.childLanes&~O,E.memoizedState=aw,D):(O=J5(w,E,D.children,O),E.memoizedState=null,O)}return X?(D=eU(w,E,D.children,D.fallback,O),X=E.child,H=w.child.memoizedState,X.memoizedState=H===null?lw(O):{baseLanes:H.baseLanes|O,cachePool:null},X.childLanes=w.childLanes&~O,E.memoizedState=aw,D):(O=J5(w,E,D.children,O),E.memoizedState=null,O)}function m2(w,E){return E=Tw({mode:"visible",children:E},w.mode,0,null),E.return=w,w.child=E}function J5(w,E,O,D){var H=w.child;return w=H.sibling,O=uu(H,{mode:"visible",children:O}),!(E.mode&1)&&(O.lanes=D),O.return=E,O.sibling=null,w!==null&&(D=E.deletions,D===null?(E.deletions=[w],E.flags|=16):D.push(w)),E.child=O}function eU(w,E,O,D,H){var X=E.mode;w=w.child;var de=w.sibling,ye={mode:"hidden",children:O};return!(X&1)&&E.child!==w?(O=E.child,O.childLanes=0,O.pendingProps=ye,E.deletions=null):(O=uu(w,ye),O.subtreeFlags=w.subtreeFlags&14680064),de!==null?D=uu(de,D):(D=Vd(D,X,H,null),D.flags|=2),D.return=E,O.return=E,O.sibling=D,E.child=O,D}function cw(w,E,O,D){return D!==null&&e2(D),ap(E,w.child,null,O),w=m2(E,E.pendingProps.children),w.flags|=2,E.memoizedState=null,w}function tU(w,E,O){w.lanes|=E;var D=w.alternate;D!==null&&(D.lanes|=E),GP(w.return,E,O)}function g2(w,E,O,D,H){var X=w.memoizedState;X===null?w.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:D,tail:O,tailMode:H}:(X.isBackwards=E,X.rendering=null,X.renderingStartTime=0,X.last=D,X.tail=O,X.tailMode=H)}function nU(w,E,O){var D=E.pendingProps,H=D.revealOrder,X=D.tail;if(Wi(w,E,D.children,O),D=fr.current,D&2)D=D&1|2,E.flags|=128;else{if(w!==null&&w.flags&128)e:for(w=E.child;w!==null;){if(w.tag===13)w.memoizedState!==null&&tU(w,O,E);else if(w.tag===19)tU(w,O,E);else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===E)break e;for(;w.sibling===null;){if(w.return===null||w.return===E)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}D&=1}if(Nt(fr,D),!(E.mode&1))E.memoizedState=null;else switch(H){case"forwards":for(O=E.child,H=null;O!==null;)w=O.alternate,w!==null&&Zb(w)===null&&(H=O),O=O.sibling;O=H,O===null?(H=E.child,E.child=null):(H=O.sibling,O.sibling=null),g2(E,!1,H,O,X);break;case"backwards":for(O=null,H=E.child,E.child=null;H!==null;){if(w=H.alternate,w!==null&&Zb(w)===null){E.child=H;break}w=H.sibling,H.sibling=O,O=H,H=w}g2(E,!0,O,null,X);break;case"together":g2(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function ql(w,E,O){if(w!==null&&(E.dependencies=w.dependencies),fp|=E.lanes,!(O&E.childLanes))return null;if(w!==null&&E.child!==w.child)throw Error(o(153));if(E.child!==null){for(w=E.child,O=uu(w,w.pendingProps),E.child=O,O.return=E;w.sibling!==null;)w=w.sibling,O=O.sibling=uu(w,w.pendingProps),O.return=E;O.sibling=null}return E.child}function Kfe(w,E,O){switch(E.tag){case 3:Y5(E),op();break;case 5:y5(E);break;case 1:$t(E.type)&&po(E);break;case 4:t2(E,E.stateNode.containerInfo);break;case 10:r5(E,E.type._context,E.memoizedProps.value);break;case 13:var D=E.memoizedState;if(D!==null)return D.dehydrated!==null?(Nt(fr,fr.current&1),E.flags|=128,null):O&E.child.childLanes?Q5(w,E,O):(Nt(fr,fr.current&1),w=ql(w,E,O),w!==null?w.sibling:null);Nt(fr,fr.current&1);break;case 19:if(D=(O&E.childLanes)!==0,w.flags&128){if(D)return nU(w,E,O);E.flags|=128}var H=E.memoizedState;if(H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),Nt(fr,fr.current),D)break;return null;case 22:case 23:return E.lanes=0,X5(w,E,O)}return ql(w,E,O)}function Yfe(w,E){switch(ZP(E),E.tag){case 1:return $t(E.type)&&dr(),w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 3:return cp(),St(Kt),St(qt),i2(),w=E.flags,w&65536&&!(w&128)?(E.flags=w&-65537|128,E):null;case 5:return n2(E),null;case 13:if(St(fr),w=E.memoizedState,w!==null&&w.dehydrated!==null){if(E.alternate===null)throw Error(o(340));op()}return w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 19:return St(fr),null;case 4:return cp(),null;case 10:return WP(E.type._context),null;case 22:case 23:return k2(),null;case 24:return null;default:return null}}var uw=!1,Bd=!1,Zfe=typeof WeakSet=="function"?WeakSet:Set,dt=null;function dw(w,E){var O=w.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(D){fs(w,E,D)}else O.current=null}function v2(w,E,O){try{O()}catch(D){fs(w,E,D)}}var rU=!1;function Qfe(w,E){for(L(w.containerInfo),dt=E;dt!==null;)if(w=dt,E=w.child,(w.subtreeFlags&1028)!==0&&E!==null)E.return=w,dt=E;else for(;dt!==null;){w=dt;try{var O=w.alternate;if(w.flags&1024)switch(w.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var D=O.memoizedProps,H=O.memoizedState,X=w.stateNode,de=X.getSnapshotBeforeUpdate(w.elementType===w.type?D:Zo(w.type,D),H);X.__reactInternalSnapshotBeforeUpdate=de}break;case 3:ue&&Ve(w.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){fs(w,w.return,ye)}if(E=w.sibling,E!==null){E.return=w.return,dt=E;break}dt=w.return}return O=rU,rU=!1,O}function Ud(w,E,O){var D=E.updateQueue;if(D=D!==null?D.lastEffect:null,D!==null){var H=D=D.next;do{if((H.tag&w)===w){var X=H.destroy;H.destroy=void 0,X!==void 0&&v2(E,O,X)}H=H.next}while(H!==D)}}function oy(w,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var O=E=E.next;do{if((O.tag&w)===w){var D=O.create;O.destroy=D()}O=O.next}while(O!==E)}}function y2(w){var E=w.ref;if(E!==null){var O=w.stateNode;switch(w.tag){case 5:w=$(O);break;default:w=O}typeof E=="function"?E(w):E.current=w}}function iU(w,E,O){if(Ha&&typeof Ha.onCommitFiberUnmount=="function")try{Ha.onCommitFiberUnmount(Ub,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:if(w=E.updateQueue,w!==null&&(w=w.lastEffect,w!==null)){var D=w=w.next;do{var H=D,X=H.destroy;H=H.tag,X!==void 0&&(H&2||H&4)&&v2(E,O,X),D=D.next}while(D!==w)}break;case 1:if(dw(E,O),w=E.stateNode,typeof w.componentWillUnmount=="function")try{w.props=E.memoizedProps,w.state=E.memoizedState,w.componentWillUnmount()}catch(de){fs(E,O,de)}break;case 5:dw(E,O);break;case 4:ue?uU(w,E,O):J&&J&&(E=E.stateNode.containerInfo,O=Le(E),jt(E,O))}}function sU(w,E,O){for(var D=E;;)if(iU(w,D,O),D.child===null||ue&&D.tag===4){if(D===E)break;for(;D.sibling===null;){if(D.return===null||D.return===E)return;D=D.return}D.sibling.return=D.return,D=D.sibling}else D.child.return=D,D=D.child}function oU(w){var E=w.alternate;E!==null&&(w.alternate=null,oU(E)),w.child=null,w.deletions=null,w.sibling=null,w.tag===5&&(E=w.stateNode,E!==null&&pe(E)),w.stateNode=null,w.return=null,w.dependencies=null,w.memoizedProps=null,w.memoizedState=null,w.pendingProps=null,w.stateNode=null,w.updateQueue=null}function aU(w){return w.tag===5||w.tag===3||w.tag===4}function lU(w){e:for(;;){for(;w.sibling===null;){if(w.return===null||aU(w.return))return null;w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.flags&2||w.child===null||w.tag===4)continue e;w.child.return=w,w=w.child}if(!(w.flags&2))return w.stateNode}}function cU(w){if(ue){e:{for(var E=w.return;E!==null;){if(aU(E))break e;E=E.return}throw Error(o(160))}var O=E;switch(O.tag){case 5:E=O.stateNode,O.flags&32&&(Ee(E),O.flags&=-33),O=lU(w),_2(w,O,E);break;case 3:case 4:E=O.stateNode.containerInfo,O=lU(w),x2(w,O,E);break;default:throw Error(o(161))}}}function x2(w,E,O){var D=w.tag;if(D===5||D===6)w=w.stateNode,E?rt(O,w,E):at(O,w);else if(D!==4&&(w=w.child,w!==null))for(x2(w,E,O),w=w.sibling;w!==null;)x2(w,E,O),w=w.sibling}function _2(w,E,O){var D=w.tag;if(D===5||D===6)w=w.stateNode,E?$e(O,w,E):Me(O,w);else if(D!==4&&(w=w.child,w!==null))for(_2(w,E,O),w=w.sibling;w!==null;)_2(w,E,O),w=w.sibling}function uU(w,E,O){for(var D=E,H=!1,X,de;;){if(!H){H=D.return;e:for(;;){if(H===null)throw Error(o(160));switch(X=H.stateNode,H.tag){case 5:de=!1;break e;case 3:X=X.containerInfo,de=!0;break e;case 4:X=X.containerInfo,de=!0;break e}H=H.return}H=!0}if(D.tag===5||D.tag===6)sU(w,D,O),de?he(X,D.stateNode):Ct(X,D.stateNode);else if(D.tag===18)de?oe(X,D.stateNode):Wv(X,D.stateNode);else if(D.tag===4){if(D.child!==null){X=D.stateNode.containerInfo,de=!0,D.child.return=D,D=D.child;continue}}else if(iU(w,D,O),D.child!==null){D.child.return=D,D=D.child;continue}if(D===E)break;for(;D.sibling===null;){if(D.return===null||D.return===E)return;D=D.return,D.tag===4&&(H=!1)}D.sibling.return=D.return,D=D.sibling}}function b2(w,E){if(ue){switch(E.tag){case 0:case 11:case 14:case 15:Ud(3,E,E.return),oy(3,E),Ud(5,E,E.return);return;case 1:return;case 5:var O=E.stateNode;if(O!=null){var D=E.memoizedProps;w=w!==null?w.memoizedProps:D;var H=E.type,X=E.updateQueue;E.updateQueue=null,X!==null&&We(O,X,H,w,D,E)}return;case 6:if(E.stateNode===null)throw Error(o(162));O=E.memoizedProps,He(E.stateNode,w!==null?w.memoizedProps:O,O);return;case 3:q&&w!==null&&w.memoizedState.isDehydrated&&tp(E.stateNode.containerInfo);return;case 12:return;case 13:fw(E);return;case 19:fw(E);return;case 17:return}throw Error(o(163))}switch(E.tag){case 0:case 11:case 14:case 15:Ud(3,E,E.return),oy(3,E),Ud(5,E,E.return);return;case 12:return;case 13:fw(E);return;case 19:fw(E);return;case 3:q&&w!==null&&w.memoizedState.isDehydrated&&tp(E.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(E.tag){case 1:case 5:case 6:break e;case 3:case 4:E=E.stateNode,jt(E.containerInfo,E.pendingChildren);break e}throw Error(o(163))}}function fw(w){var E=w.updateQueue;if(E!==null){w.updateQueue=null;var O=w.stateNode;O===null&&(O=w.stateNode=new Zfe),E.forEach(function(D){var H=lhe.bind(null,w,D);O.has(D)||(O.add(D),D.then(H,H))})}}function Jfe(w,E){for(dt=E;dt!==null;){E=dt;var O=E.deletions;if(O!==null)for(var D=0;D<O.length;D++){var H=O[D];try{var X=w;ue?uU(X,H,E):sU(X,H,E);var de=H.alternate;de!==null&&(de.return=null),H.return=null}catch(Tt){fs(H,E,Tt)}}if(O=E.child,E.subtreeFlags&12854&&O!==null)O.return=E,dt=O;else for(;dt!==null;){E=dt;try{var ye=E.flags;if(ye&32&&ue&&Ee(E.stateNode),ye&512){var je=E.alternate;if(je!==null){var tt=je.ref;tt!==null&&(typeof tt=="function"?tt(null):tt.current=null)}}if(ye&8192)switch(E.tag){case 13:if(E.memoizedState!==null){var wt=E.alternate;(wt===null||wt.memoizedState===null)&&(T2=ii())}break;case 22:var Zt=E.memoizedState!==null,kt=E.alternate,Hn=kt!==null&&kt.memoizedState!==null;if(O=E,ue){e:if(D=O,H=Zt,X=null,ue)for(var Rt=D;;){if(Rt.tag===5){if(X===null){X=Rt;var Pi=Rt.stateNode;H?Ke(Pi):Ne(Rt.stateNode,Rt.memoizedProps)}}else if(Rt.tag===6){if(X===null){var So=Rt.stateNode;H?ce(So):Be(So,Rt.memoizedProps)}}else if((Rt.tag!==22&&Rt.tag!==23||Rt.memoizedState===null||Rt===D)&&Rt.child!==null){Rt.child.return=Rt,Rt=Rt.child;continue}if(Rt===D)break;for(;Rt.sibling===null;){if(Rt.return===null||Rt.return===D)break e;X===Rt&&(X=null),Rt=Rt.return}X===Rt&&(X=null),Rt.sibling.return=Rt.return,Rt=Rt.sibling}}if(Zt&&!Hn&&O.mode&1){dt=O;for(var Te=O.child;Te!==null;){for(O=dt=Te;dt!==null;){D=dt;var xe=D.child;switch(D.tag){case 0:case 11:case 14:case 15:Ud(4,D,D.return);break;case 1:dw(D,D.return);var De=D.stateNode;if(typeof De.componentWillUnmount=="function"){var ft=D.return;try{De.props=D.memoizedProps,De.state=D.memoizedState,De.componentWillUnmount()}catch(Tt){fs(D,ft,Tt)}}break;case 5:dw(D,D.return);break;case 22:if(D.memoizedState!==null){hU(O);continue}}xe!==null?(xe.return=D,dt=xe):hU(O)}Te=Te.sibling}}}switch(ye&4102){case 2:cU(E),E.flags&=-3;break;case 6:cU(E),E.flags&=-3,b2(E.alternate,E);break;case 4096:E.flags&=-4097;break;case 4100:E.flags&=-4097,b2(E.alternate,E);break;case 4:b2(E.alternate,E)}}catch(Tt){fs(E,E.return,Tt)}if(O=E.sibling,O!==null){O.return=E.return,dt=O;break}dt=E.return}}}function ehe(w,E,O){dt=w,dU(w)}function dU(w,E,O){for(var D=(w.mode&1)!==0;dt!==null;){var H=dt,X=H.child;if(H.tag===22&&D){var de=H.memoizedState!==null||uw;if(!de){var ye=H.alternate,je=ye!==null&&ye.memoizedState!==null||Bd;ye=uw;var tt=Bd;if(uw=de,(Bd=je)&&!tt)for(dt=H;dt!==null;)de=dt,je=de.child,de.tag===22&&de.memoizedState!==null?pU(H):je!==null?(je.return=de,dt=je):pU(H);for(;X!==null;)dt=X,dU(X),X=X.sibling;dt=H,uw=ye,Bd=tt}fU(w)}else H.subtreeFlags&8772&&X!==null?(X.return=H,dt=X):fU(w)}}function fU(w){for(;dt!==null;){var E=dt;if(E.flags&8772){var O=E.alternate;try{if(E.flags&8772)switch(E.tag){case 0:case 11:case 15:Bd||oy(5,E);break;case 1:var D=E.stateNode;if(E.flags&4&&!Bd)if(O===null)D.componentDidMount();else{var H=E.elementType===E.type?O.memoizedProps:Zo(E.type,O.memoizedProps);D.componentDidUpdate(H,O.memoizedState,D.__reactInternalSnapshotBeforeUpdate)}var X=E.updateQueue;X!==null&&o5(E,X,D);break;case 3:var de=E.updateQueue;if(de!==null){if(O=null,E.child!==null)switch(E.child.tag){case 5:O=$(E.child.stateNode);break;case 1:O=E.child.stateNode}o5(E,de,O)}break;case 5:var ye=E.stateNode;O===null&&E.flags&4&&st(ye,E.type,E.memoizedProps,E);break;case 6:break;case 4:break;case 12:break;case 13:if(q&&E.memoizedState===null){var je=E.alternate;if(je!==null){var tt=je.memoizedState;if(tt!==null){var wt=tt.dehydrated;wt!==null&&Vv(wt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Bd||E.flags&512&&y2(E)}catch(Zt){fs(E,E.return,Zt)}}if(E===w){dt=null;break}if(O=E.sibling,O!==null){O.return=E.return,dt=O;break}dt=E.return}}function hU(w){for(;dt!==null;){var E=dt;if(E===w){dt=null;break}var O=E.sibling;if(O!==null){O.return=E.return,dt=O;break}dt=E.return}}function pU(w){for(;dt!==null;){var E=dt;try{switch(E.tag){case 0:case 11:case 15:var O=E.return;try{oy(4,E)}catch(je){fs(E,O,je)}break;case 1:var D=E.stateNode;if(typeof D.componentDidMount=="function"){var H=E.return;try{D.componentDidMount()}catch(je){fs(E,H,je)}}var X=E.return;try{y2(E)}catch(je){fs(E,X,je)}break;case 5:var de=E.return;try{y2(E)}catch(je){fs(E,de,je)}}}catch(je){fs(E,E.return,je)}if(E===w){dt=null;break}var ye=E.sibling;if(ye!==null){ye.return=E.return,dt=ye;break}dt=E.return}}var hw=0,pw=1,mw=2,gw=3,vw=4;if(typeof Symbol=="function"&&Symbol.for){var ay=Symbol.for;hw=ay("selector.component"),pw=ay("selector.has_pseudo_class"),mw=ay("selector.role"),gw=ay("selector.test_id"),vw=ay("selector.text")}function w2(w){var E=ne(w);if(E!=null){if(typeof E.memoizedProps["data-testname"]!="string")throw Error(o(364));return E}if(w=nt(w),w===null)throw Error(o(362));return w.stateNode.current}function S2(w,E){switch(E.$$typeof){case hw:if(w.type===E.value)return!0;break;case pw:e:{E=E.value,w=[w,0];for(var O=0;O<w.length;){var D=w[O++],H=w[O++],X=E[H];if(D.tag!==5||!Z(D)){for(;X!=null&&S2(D,X);)H++,X=E[H];if(H===E.length){E=!0;break e}else for(D=D.child;D!==null;)w.push(D,H),D=D.sibling}}E=!1}return E;case mw:if(w.tag===5&&ve(w.stateNode,E.value))return!0;break;case vw:if((w.tag===5||w.tag===6)&&(w=re(w),w!==null&&0<=w.indexOf(E.value)))return!0;break;case gw:if(w.tag===5&&(w=w.memoizedProps["data-testname"],typeof w=="string"&&w.toLowerCase()===E.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function E2(w){switch(w.$$typeof){case hw:return"<"+(A(w.value)||"Unknown")+">";case pw:return":has("+(E2(w)||"")+")";case mw:return'[role="'+w.value+'"]';case vw:return'"'+w.value+'"';case gw:return'[data-testname="'+w.value+'"]';default:throw Error(o(365))}}function mU(w,E){var O=[];w=[w,0];for(var D=0;D<w.length;){var H=w[D++],X=w[D++],de=E[X];if(H.tag!==5||!Z(H)){for(;de!=null&&S2(H,de);)X++,de=E[X];if(X===E.length)O.push(H);else for(H=H.child;H!==null;)w.push(H,X),H=H.sibling}}return O}function C2(w,E){if(!ke)throw Error(o(363));w=w2(w),w=mU(w,E),E=[],w=Array.from(w);for(var O=0;O<w.length;){var D=w[O++];if(D.tag===5)Z(D)||E.push(D.stateNode);else for(D=D.child;D!==null;)w.push(D),D=D.sibling}return E}var the=Math.ceil,yw=a.ReactCurrentDispatcher,M2=a.ReactCurrentOwner,Tr=a.ReactCurrentBatchConfig,an=0,kr=null,Dr=null,gi=0,Us=0,dp=bt(0),Vr=0,ly=null,fp=0,xw=0,A2=0,cy=null,us=null,T2=0,P2=1/0;function hp(){P2=ii()+500}var _w=!1,N2=null,ou=null,bw=!1,au=null,ww=0,uy=0,R2=null,Sw=-1,Ew=0;function Gi(){return an&6?ii():Sw!==-1?Sw:Sw=ii()}function lu(w){return w.mode&1?an&2&&gi!==0?gi&-gi:jfe.transition!==null?(Ew===0&&(w=ru,ru<<=1,!(ru&4194240)&&(ru=64),Ew=w),Ew):(w=En,w!==0?w:me()):1}function bo(w,E,O){if(50<uy)throw uy=0,R2=null,Error(o(185));var D=Cw(w,E);return D===null?null:(Xv(D,E,O),(!(an&2)||D!==kr)&&(D===kr&&(!(an&2)&&(xw|=E),Vr===4&&cu(D,gi)),ds(D,O),E===1&&an===0&&!(w.mode&1)&&(hp(),zb&&Wa())),D)}function Cw(w,E){w.lanes|=E;var O=w.alternate;for(O!==null&&(O.lanes|=E),O=w,w=w.return;w!==null;)w.childLanes|=E,O=w.alternate,O!==null&&(O.childLanes|=E),O=w,w=w.return;return O.tag===3?O.stateNode:null}function ds(w,E){var O=w.callbackNode;Tfe(w,E);var D=Bb(w,w===kr?gi:0);if(D===0)O!==null&&t5(O),w.callbackNode=null,w.callbackPriority=0;else if(E=D&-D,w.callbackPriority!==E){if(O!=null&&t5(O),E===1)w.tag===0?Lfe(vU.bind(null,w)):n5(vU.bind(null,w)),Ae?Ce(function(){an===0&&Wa()}):BP(UP,Wa),O=null;else{switch(e5(D)){case 1:O=UP;break;case 4:O=Ofe;break;case 16:O=zP;break;case 536870912:O=Ife;break;default:O=zP}O=MU(O,gU.bind(null,w))}w.callbackPriority=E,w.callbackNode=O}}function gU(w,E){if(Sw=-1,Ew=0,an&6)throw Error(o(327));var O=w.callbackNode;if(Hd()&&w.callbackNode!==O)return null;var D=Bb(w,w===kr?gi:0);if(D===0)return null;if(D&30||D&w.expiredLanes||E)E=Mw(w,D);else{E=D;var H=an;an|=2;var X=_U();(kr!==w||gi!==E)&&(hp(),zd(w,E));do try{ihe();break}catch(ye){xU(w,ye)}while(!0);VP(),yw.current=X,an=H,Dr!==null?E=0:(kr=null,gi=0,E=Vr)}if(E!==0){if(E===2&&(H=LP(w),H!==0&&(D=H,E=O2(w,H))),E===1)throw O=ly,zd(w,0),cu(w,D),ds(w,ii()),O;if(E===6)cu(w,D);else{if(H=w.current.alternate,!(D&30)&&!nhe(H)&&(E=Mw(w,D),E===2&&(X=LP(w),X!==0&&(D=X,E=O2(w,X))),E===1))throw O=ly,zd(w,0),cu(w,D),ds(w,ii()),O;switch(w.finishedWork=H,w.finishedLanes=D,E){case 0:case 1:throw Error(o(345));case 2:$d(w,us);break;case 3:if(cu(w,D),(D&130023424)===D&&(E=T2+500-ii(),10<E)){if(Bb(w,0)!==0)break;if(H=w.suspendedLanes,(H&D)!==D){Gi(),w.pingedLanes|=w.suspendedLanes&H;break}w.timeoutHandle=U($d.bind(null,w,us),E);break}$d(w,us);break;case 4:if(cu(w,D),(D&4194240)===D)break;for(E=w.eventTimes,H=-1;0<D;){var de=31-Xn(D);X=1<<de,de=E[de],de>H&&(H=de),D&=~X}if(D=H,D=ii()-D,D=(120>D?120:480>D?480:1080>D?1080:1920>D?1920:3e3>D?3e3:4320>D?4320:1960*the(D/1960))-D,10<D){w.timeoutHandle=U($d.bind(null,w,us),D);break}$d(w,us);break;case 5:$d(w,us);break;default:throw Error(o(329))}}}return ds(w,ii()),w.callbackNode===O?gU.bind(null,w):null}function O2(w,E){var O=cy;return w.current.memoizedState.isDehydrated&&(zd(w,E).flags|=256),w=Mw(w,E),w!==2&&(E=us,us=O,E!==null&&I2(E)),w}function I2(w){us===null?us=w:us.push.apply(us,w)}function nhe(w){for(var E=w;;){if(E.flags&16384){var O=E.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var D=0;D<O.length;D++){var H=O[D],X=H.getSnapshot;H=H.value;try{if(!Va(X(),H))return!1}catch{return!1}}}if(O=E.child,E.subtreeFlags&16384&&O!==null)O.return=E,E=O;else{if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function cu(w,E){for(E&=~A2,E&=~xw,w.suspendedLanes|=E,w.pingedLanes&=~E,w=w.expirationTimes;0<E;){var O=31-Xn(E),D=1<<O;w[O]=-1,E&=~D}}function vU(w){if(an&6)throw Error(o(327));Hd();var E=Bb(w,0);if(!(E&1))return ds(w,ii()),null;var O=Mw(w,E);if(w.tag!==0&&O===2){var D=LP(w);D!==0&&(E=D,O=O2(w,D))}if(O===1)throw O=ly,zd(w,0),cu(w,E),ds(w,ii()),O;if(O===6)throw Error(o(345));return w.finishedWork=w.current.alternate,w.finishedLanes=E,$d(w,us),ds(w,ii()),null}function yU(w){au!==null&&au.tag===0&&!(an&6)&&Hd();var E=an;an|=1;var O=Tr.transition,D=En;try{if(Tr.transition=null,En=1,w)return w()}finally{En=D,Tr.transition=O,an=E,!(an&6)&&Wa()}}function k2(){Us=dp.current,St(dp)}function zd(w,E){w.finishedWork=null,w.finishedLanes=0;var O=w.timeoutHandle;if(O!==Q&&(w.timeoutHandle=Q,K(O)),Dr!==null)for(O=Dr.return;O!==null;){var D=O;switch(ZP(D),D.tag){case 1:D=D.type.childContextTypes,D!=null&&dr();break;case 3:cp(),St(Kt),St(qt),i2();break;case 5:n2(D);break;case 4:cp();break;case 13:St(fr);break;case 19:St(fr);break;case 10:WP(D.type._context);break;case 22:case 23:k2()}O=O.return}if(kr=w,Dr=w=uu(w.current,null),gi=Us=E,Vr=0,ly=null,A2=xw=fp=0,us=cy=null,Ga!==null){for(E=0;E<Ga.length;E++)if(O=Ga[E],D=O.interleaved,D!==null){O.interleaved=null;var H=D.next,X=O.pending;if(X!==null){var de=X.next;X.next=H,D.next=de}O.pending=D}Ga=null}return w}function xU(w,E){do{var O=Dr;try{if(VP(),Qb.current=iw,Jb){for(var D=br.memoizedState;D!==null;){var H=D.queue;H!==null&&(H.pending=null),D=D.next}Jb=!1}if(up=0,si=Mi=br=null,Jv=!1,ey=0,M2.current=null,O===null||O.return===null){Vr=1,ly=E,Dr=null;break}e:{var X=w,de=O.return,ye=O,je=E;if(E=gi,ye.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var tt=je,wt=ye,Zt=wt.tag;if(!(wt.mode&1)&&(Zt===0||Zt===11||Zt===15)){var kt=wt.alternate;kt?(wt.updateQueue=kt.updateQueue,wt.memoizedState=kt.memoizedState,wt.lanes=kt.lanes):(wt.updateQueue=null,wt.memoizedState=null)}var Hn=U5(de);if(Hn!==null){Hn.flags&=-257,z5(Hn,de,ye,X,E),Hn.mode&1&&B5(X,tt,E),E=Hn,je=tt;var Rt=E.updateQueue;if(Rt===null){var Pi=new Set;Pi.add(je),E.updateQueue=Pi}else Rt.add(je);break e}else{if(!(E&1)){B5(X,tt,E),D2();break e}je=Error(o(426))}}else if(or&&ye.mode&1){var So=U5(de);if(So!==null){!(So.flags&65536)&&(So.flags|=256),z5(So,de,ye,X,E),e2(je);break e}}X=je,Vr!==4&&(Vr=2),cy===null?cy=[X]:cy.push(X),je=d2(je,ye),ye=de;do{switch(ye.tag){case 3:ye.flags|=65536,E&=-E,ye.lanes|=E;var Te=j5(ye,je,E);s5(ye,Te);break e;case 1:X=je;var xe=ye.type,De=ye.stateNode;if(!(ye.flags&128)&&(typeof xe.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(ou===null||!ou.has(De)))){ye.flags|=65536,E&=-E,ye.lanes|=E;var ft=F5(ye,X,E);s5(ye,ft);break e}}ye=ye.return}while(ye!==null)}wU(O)}catch(Tt){E=Tt,Dr===O&&O!==null&&(Dr=O=O.return);continue}break}while(!0)}function _U(){var w=yw.current;return yw.current=iw,w===null?iw:w}function D2(){(Vr===0||Vr===3||Vr===2)&&(Vr=4),kr===null||!(fp&268435455)&&!(xw&268435455)||cu(kr,gi)}function Mw(w,E){var O=an;an|=2;var D=_U();kr===w&&gi===E||zd(w,E);do try{rhe();break}catch(H){xU(w,H)}while(!0);if(VP(),an=O,yw.current=D,Dr!==null)throw Error(o(261));return kr=null,gi=0,Vr}function rhe(){for(;Dr!==null;)bU(Dr)}function ihe(){for(;Dr!==null&&!Nfe();)bU(Dr)}function bU(w){var E=CU(w.alternate,w,Us);w.memoizedProps=w.pendingProps,E===null?wU(w):Dr=E,M2.current=null}function wU(w){var E=w;do{var O=E.alternate;if(w=E.return,E.flags&32768){if(O=Yfe(O,E),O!==null){O.flags&=32767,Dr=O;return}if(w!==null)w.flags|=32768,w.subtreeFlags=0,w.deletions=null;else{Vr=6,Dr=null;return}}else if(O=Xfe(O,E,Us),O!==null){Dr=O;return}if(E=E.sibling,E!==null){Dr=E;return}Dr=E=w}while(E!==null);Vr===0&&(Vr=5)}function $d(w,E){var O=En,D=Tr.transition;try{Tr.transition=null,En=1,she(w,E,O)}finally{Tr.transition=D,En=O}return null}function she(w,E,O){do Hd();while(au!==null);if(an&6)throw Error(o(327));var D=w.finishedWork,H=w.finishedLanes;if(D===null)return null;if(w.finishedWork=null,w.finishedLanes=0,D===w.current)throw Error(o(177));w.callbackNode=null,w.callbackPriority=0;var X=D.lanes|D.childLanes;if(Pfe(w,X),w===kr&&(Dr=kr=null,gi=0),!(D.subtreeFlags&2064)&&!(D.flags&2064)||bw||(bw=!0,MU(zP,function(){return Hd(),null})),X=(D.flags&15990)!==0,D.subtreeFlags&15990||X){X=Tr.transition,Tr.transition=null;var de=En;En=1;var ye=an;an|=4,M2.current=null,Qfe(w,D),Jfe(w,D),B(w.containerInfo),w.current=D,ehe(D),Rfe(),an=ye,En=de,Tr.transition=X}else w.current=D;if(bw&&(bw=!1,au=w,ww=H),X=w.pendingLanes,X===0&&(ou=null),kfe(D.stateNode),ds(w,ii()),E!==null)for(O=w.onRecoverableError,D=0;D<E.length;D++)O(E[D]);if(_w)throw _w=!1,w=N2,N2=null,w;return ww&1&&w.tag!==0&&Hd(),X=w.pendingLanes,X&1?w===R2?uy++:(uy=0,R2=w):uy=0,Wa(),null}function Hd(){if(au!==null){var w=e5(ww),E=Tr.transition,O=En;try{if(Tr.transition=null,En=16>w?16:w,au===null)var D=!1;else{if(w=au,au=null,ww=0,an&6)throw Error(o(331));var H=an;for(an|=4,dt=w.current;dt!==null;){var X=dt,de=X.child;if(dt.flags&16){var ye=X.deletions;if(ye!==null){for(var je=0;je<ye.length;je++){var tt=ye[je];for(dt=tt;dt!==null;){var wt=dt;switch(wt.tag){case 0:case 11:case 15:Ud(8,wt,X)}var Zt=wt.child;if(Zt!==null)Zt.return=wt,dt=Zt;else for(;dt!==null;){wt=dt;var kt=wt.sibling,Hn=wt.return;if(oU(wt),wt===tt){dt=null;break}if(kt!==null){kt.return=Hn,dt=kt;break}dt=Hn}}}var Rt=X.alternate;if(Rt!==null){var Pi=Rt.child;if(Pi!==null){Rt.child=null;do{var So=Pi.sibling;Pi.sibling=null,Pi=So}while(Pi!==null)}}dt=X}}if(X.subtreeFlags&2064&&de!==null)de.return=X,dt=de;else e:for(;dt!==null;){if(X=dt,X.flags&2048)switch(X.tag){case 0:case 11:case 15:Ud(9,X,X.return)}var Te=X.sibling;if(Te!==null){Te.return=X.return,dt=Te;break e}dt=X.return}}var xe=w.current;for(dt=xe;dt!==null;){de=dt;var De=de.child;if(de.subtreeFlags&2064&&De!==null)De.return=de,dt=De;else e:for(de=xe;dt!==null;){if(ye=dt,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:oy(9,ye)}}catch(Tt){fs(ye,ye.return,Tt)}if(ye===de){dt=null;break e}var ft=ye.sibling;if(ft!==null){ft.return=ye.return,dt=ft;break e}dt=ye.return}}if(an=H,Wa(),Ha&&typeof Ha.onPostCommitFiberRoot=="function")try{Ha.onPostCommitFiberRoot(Ub,w)}catch{}D=!0}return D}finally{En=O,Tr.transition=E}}return!1}function SU(w,E,O){E=d2(O,E),E=j5(w,E,1),su(w,E),E=Gi(),w=Cw(w,1),w!==null&&(Xv(w,1,E),ds(w,E))}function fs(w,E,O){if(w.tag===3)SU(w,w,O);else for(;E!==null;){if(E.tag===3){SU(E,w,O);break}else if(E.tag===1){var D=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof D.componentDidCatch=="function"&&(ou===null||!ou.has(D))){w=d2(O,w),w=F5(E,w,1),su(E,w),w=Gi(),E=Cw(E,1),E!==null&&(Xv(E,1,w),ds(E,w));break}}E=E.return}}function ohe(w,E,O){var D=w.pingCache;D!==null&&D.delete(E),E=Gi(),w.pingedLanes|=w.suspendedLanes&O,kr===w&&(gi&O)===O&&(Vr===4||Vr===3&&(gi&130023424)===gi&&500>ii()-T2?zd(w,0):A2|=O),ds(w,E)}function EU(w,E){E===0&&(w.mode&1?(E=mo,mo<<=1,!(mo&130023424)&&(mo=4194304)):E=1);var O=Gi();w=Cw(w,E),w!==null&&(Xv(w,E,O),ds(w,O))}function ahe(w){var E=w.memoizedState,O=0;E!==null&&(O=E.retryLane),EU(w,O)}function lhe(w,E){var O=0;switch(w.tag){case 13:var D=w.stateNode,H=w.memoizedState;H!==null&&(O=H.retryLane);break;case 19:D=w.stateNode;break;default:throw Error(o(314))}D!==null&&D.delete(E),EU(w,O)}var CU;CU=function(w,E,O){if(w!==null)if(w.memoizedProps!==E.pendingProps||Kt.current)Bs=!0;else{if(!(w.lanes&O)&&!(E.flags&128))return Bs=!1,Kfe(w,E,O);Bs=!!(w.flags&131072)}else Bs=!1,or&&E.flags&1048576&&d5(E,Kb,E.index);switch(E.lanes=0,E.tag){case 2:var D=E.type;w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),w=E.pendingProps;var H=Sn(E,qt.current);rp(E,O),H=o2(null,E,D,w,H,O);var X=a2();return E.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,$t(D)?(X=!0,po(E)):X=!1,E.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,XP(E),H.updater=Xb,E.stateNode=H,H._reactInternals=E,KP(E,D,w,O),E=p2(null,E,D,!0,X,O)):(E.tag=0,or&&X&&YP(E),Wi(null,E,H,O),E=E.child),E;case 16:D=E.elementType;e:{switch(w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),w=E.pendingProps,H=D._init,D=H(D._payload),E.type=D,H=E.tag=uhe(D),w=Zo(D,w),H){case 0:E=h2(null,E,D,w,O);break e;case 1:E=K5(null,E,D,w,O);break e;case 11:E=V5(null,E,D,w,O);break e;case 14:E=W5(null,E,D,Zo(D.type,w),O);break e}throw Error(o(306,D,""))}return E;case 0:return D=E.type,H=E.pendingProps,H=E.elementType===D?H:Zo(D,H),h2(w,E,D,H,O);case 1:return D=E.type,H=E.pendingProps,H=E.elementType===D?H:Zo(D,H),K5(w,E,D,H,O);case 3:e:{if(Y5(E),w===null)throw Error(o(387));D=E.pendingProps,X=E.memoizedState,H=X.element,i5(w,E),Gb(E,D,null,O);var de=E.memoizedState;if(D=de.element,q&&X.isDehydrated)if(X={element:D,isDehydrated:!1,cache:de.cache,transitions:de.transitions},E.updateQueue.baseState=X,E.memoizedState=X,E.flags&256){H=Error(o(423)),E=Z5(w,E,D,O,H);break e}else if(D!==H){H=Error(o(424)),E=Z5(w,E,D,O,H);break e}else for(q&&(Fs=nu(E.stateNode.containerInfo),js=E,or=!0,Qo=null,qv=!1),O=v5(E,null,D,O),E.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(op(),D===H){E=ql(w,E,O);break e}Wi(w,E,D,O)}E=E.child}return E;case 5:return y5(E),w===null&&JP(E),D=E.type,H=E.pendingProps,X=w!==null?w.memoizedProps:null,de=H.children,ae(D,H)?de=null:X!==null&&ae(D,X)&&(E.flags|=32),q5(w,E),Wi(w,E,de,O),E.child;case 6:return w===null&&JP(E),null;case 13:return Q5(w,E,O);case 4:return t2(E,E.stateNode.containerInfo),D=E.pendingProps,w===null?E.child=ap(E,null,D,O):Wi(w,E,D,O),E.child;case 11:return D=E.type,H=E.pendingProps,H=E.elementType===D?H:Zo(D,H),V5(w,E,D,H,O);case 7:return Wi(w,E,E.pendingProps,O),E.child;case 8:return Wi(w,E,E.pendingProps.children,O),E.child;case 12:return Wi(w,E,E.pendingProps.children,O),E.child;case 10:e:{if(D=E.type._context,H=E.pendingProps,X=E.memoizedProps,de=H.value,r5(E,D,de),X!==null)if(Va(X.value,de)){if(X.children===H.children&&!Kt.current){E=ql(w,E,O);break e}}else for(X=E.child,X!==null&&(X.return=E);X!==null;){var ye=X.dependencies;if(ye!==null){de=X.child;for(var je=ye.firstContext;je!==null;){if(je.context===D){if(X.tag===1){je=Vl(-1,O&-O),je.tag=2;var tt=X.updateQueue;if(tt!==null){tt=tt.shared;var wt=tt.pending;wt===null?je.next=je:(je.next=wt.next,wt.next=je),tt.pending=je}}X.lanes|=O,je=X.alternate,je!==null&&(je.lanes|=O),GP(X.return,O,E),ye.lanes|=O;break}je=je.next}}else if(X.tag===10)de=X.type===E.type?null:X.child;else if(X.tag===18){if(de=X.return,de===null)throw Error(o(341));de.lanes|=O,ye=de.alternate,ye!==null&&(ye.lanes|=O),GP(de,O,E),de=X.sibling}else de=X.child;if(de!==null)de.return=X;else for(de=X;de!==null;){if(de===E){de=null;break}if(X=de.sibling,X!==null){X.return=de.return,de=X;break}de=de.return}X=de}Wi(w,E,H.children,O),E=E.child}return E;case 9:return H=E.type,D=E.pendingProps.children,rp(E,O),H=go(H),D=D(H),E.flags|=1,Wi(w,E,D,O),E.child;case 14:return D=E.type,H=Zo(D,E.pendingProps),H=Zo(D.type,H),W5(w,E,D,H,O);case 15:return G5(w,E,E.type,E.pendingProps,O);case 17:return D=E.type,H=E.pendingProps,H=E.elementType===D?H:Zo(D,H),w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,$t(D)?(w=!0,po(E)):w=!1,rp(E,O),c5(E,D,H),KP(E,D,H,O),p2(null,E,D,!0,w,O);case 19:return nU(w,E,O);case 22:return X5(w,E,O)}throw Error(o(156,E.tag))};function MU(w,E){return BP(w,E)}function che(w,E,O,D){this.tag=w,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=D,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wo(w,E,O,D){return new che(w,E,O,D)}function L2(w){return w=w.prototype,!(!w||!w.isReactComponent)}function uhe(w){if(typeof w=="function")return L2(w)?1:0;if(w!=null){if(w=w.$$typeof,w===y)return 11;if(w===x)return 14}return 2}function uu(w,E){var O=w.alternate;return O===null?(O=wo(w.tag,E,w.key,w.mode),O.elementType=w.elementType,O.type=w.type,O.stateNode=w.stateNode,O.alternate=w,w.alternate=O):(O.pendingProps=E,O.type=w.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=w.flags&14680064,O.childLanes=w.childLanes,O.lanes=w.lanes,O.child=w.child,O.memoizedProps=w.memoizedProps,O.memoizedState=w.memoizedState,O.updateQueue=w.updateQueue,E=w.dependencies,O.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},O.sibling=w.sibling,O.index=w.index,O.ref=w.ref,O}function Aw(w,E,O,D,H,X){var de=2;if(D=w,typeof w=="function")L2(w)&&(de=1);else if(typeof w=="string")de=5;else e:switch(w){case d:return Vd(O.children,H,X,E);case u:de=8,H|=8;break;case f:return w=wo(12,O,E,H|2),w.elementType=f,w.lanes=X,w;case m:return w=wo(13,O,E,H),w.elementType=m,w.lanes=X,w;case p:return w=wo(19,O,E,H),w.elementType=p,w.lanes=X,w;case b:return Tw(O,H,X,E);default:if(typeof w=="object"&&w!==null)switch(w.$$typeof){case g:de=10;break e;case v:de=9;break e;case y:de=11;break e;case x:de=14;break e;case _:de=16,D=null;break e}throw Error(o(130,w==null?w:typeof w,""))}return E=wo(de,O,E,H),E.elementType=w,E.type=D,E.lanes=X,E}function Vd(w,E,O,D){return w=wo(7,w,D,E),w.lanes=O,w}function Tw(w,E,O,D){return w=wo(22,w,D,E),w.elementType=b,w.lanes=O,w.stateNode={},w}function j2(w,E,O){return w=wo(6,w,null,E),w.lanes=O,w}function F2(w,E,O){return E=wo(4,w.children!==null?w.children:[],w.key,E),E.lanes=O,E.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},E}function dhe(w,E,O,D,H){this.tag=E,this.containerInfo=w,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jP(0),this.expirationTimes=jP(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jP(0),this.identifierPrefix=D,this.onRecoverableError=H,q&&(this.mutableSourceEagerHydrationData=null)}function AU(w,E,O,D,H,X,de,ye,je){return w=new dhe(w,E,O,ye,je),E===1?(E=1,X===!0&&(E|=8)):E=0,X=wo(3,null,null,E),w.current=X,X.stateNode=w,X.memoizedState={element:D,isDehydrated:O,cache:null,transitions:null},XP(X),w}function TU(w){if(!w)return mn;w=w._reactInternals;e:{if(T(w)!==w||w.tag!==1)throw Error(o(170));var E=w;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if($t(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(o(171))}if(w.tag===1){var O=w.type;if($t(O))return ri(w,O,E)}return E}function PU(w){var E=w._reactInternals;if(E===void 0)throw typeof w.render=="function"?Error(o(188)):(w=Object.keys(w).join(","),Error(o(268,w)));return w=k(E),w===null?null:w.stateNode}function NU(w,E){if(w=w.memoizedState,w!==null&&w.dehydrated!==null){var O=w.retryLane;w.retryLane=O!==0&&O<E?O:E}}function B2(w,E){NU(w,E),(w=w.alternate)&&NU(w,E)}function fhe(w){return w=k(w),w===null?null:w.stateNode}function hhe(){return null}return n.attemptContinuousHydration=function(w){if(w.tag===13){var E=Gi();bo(w,134217728,E),B2(w,134217728)}},n.attemptHydrationAtCurrentPriority=function(w){if(w.tag===13){var E=Gi(),O=lu(w);bo(w,O,E),B2(w,O)}},n.attemptSynchronousHydration=function(w){switch(w.tag){case 3:var E=w.stateNode;if(E.current.memoizedState.isDehydrated){var O=Gv(E.pendingLanes);O!==0&&(FP(E,O|1),ds(E,ii()),!(an&6)&&(hp(),Wa()))}break;case 13:var D=Gi();yU(function(){return bo(w,1,D)}),B2(w,1)}},n.batchedUpdates=function(w,E){var O=an;an|=1;try{return w(E)}finally{an=O,an===0&&(hp(),zb&&Wa())}},n.createComponentSelector=function(w){return{$$typeof:hw,value:w}},n.createContainer=function(w,E,O,D,H,X,de){return AU(w,E,!1,null,O,D,H,X,de)},n.createHasPseudoClassSelector=function(w){return{$$typeof:pw,value:w}},n.createHydrationContainer=function(w,E,O,D,H,X,de,ye,je){return w=AU(O,D,!0,w,H,X,de,ye,je),w.context=TU(null),O=w.current,D=Gi(),H=lu(O),X=Vl(D,H),X.callback=E??null,su(O,X),w.current.lanes=H,Xv(w,H,D),ds(w,D),w},n.createPortal=function(w,E,O){var D=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:D==null?null:""+D,children:w,containerInfo:E,implementation:O}},n.createRoleSelector=function(w){return{$$typeof:mw,value:w}},n.createTestNameSelector=function(w){return{$$typeof:gw,value:w}},n.createTextSelector=function(w){return{$$typeof:vw,value:w}},n.deferredUpdates=function(w){var E=En,O=Tr.transition;try{return Tr.transition=null,En=16,w()}finally{En=E,Tr.transition=O}},n.discreteUpdates=function(w,E,O,D,H){var X=En,de=Tr.transition;try{return Tr.transition=null,En=1,w(E,O,D,H)}finally{En=X,Tr.transition=de,an===0&&hp()}},n.findAllNodes=C2,n.findBoundingRects=function(w,E){if(!ke)throw Error(o(363));E=C2(w,E),w=[];for(var O=0;O<E.length;O++)w.push(Je(E[O]));for(E=w.length-1;0<E;E--){O=w[E];for(var D=O.x,H=D+O.width,X=O.y,de=X+O.height,ye=E-1;0<=ye;ye--)if(E!==ye){var je=w[ye],tt=je.x,wt=tt+je.width,Zt=je.y,kt=Zt+je.height;if(D>=tt&&X>=Zt&&H<=wt&&de<=kt){w.splice(E,1);break}else if(D!==tt||O.width!==je.width||kt<X||Zt>de){if(!(X!==Zt||O.height!==je.height||wt<D||tt>H)){tt>D&&(je.width+=tt-D,je.x=D),wt<H&&(je.width=H-tt),w.splice(E,1);break}}else{Zt>X&&(je.height+=Zt-X,je.y=X),kt<de&&(je.height=de-Zt),w.splice(E,1);break}}}return w},n.findHostInstance=PU,n.findHostInstanceWithNoPortals=function(w){return w=I(w),w=w!==null?F(w):null,w===null?null:w.stateNode},n.findHostInstanceWithWarning=function(w){return PU(w)},n.flushControlled=function(w){var E=an;an|=1;var O=Tr.transition,D=En;try{Tr.transition=null,En=1,w()}finally{En=D,Tr.transition=O,an=E,an===0&&(hp(),Wa())}},n.flushPassiveEffects=Hd,n.flushSync=yU,n.focusWithin=function(w,E){if(!ke)throw Error(o(363));for(w=w2(w),E=mU(w,E),E=Array.from(E),w=0;w<E.length;){var O=E[w++];if(!Z(O)){if(O.tag===5&&Se(O.stateNode))return!0;for(O=O.child;O!==null;)E.push(O),O=O.sibling}}return!1},n.getCurrentUpdatePriority=function(){return En},n.getFindAllNodesFailureDescription=function(w,E){if(!ke)throw Error(o(363));var O=0,D=[];w=[w2(w),0];for(var H=0;H<w.length;){var X=w[H++],de=w[H++],ye=E[de];if((X.tag!==5||!Z(X))&&(S2(X,ye)&&(D.push(E2(ye)),de++,de>O&&(O=de)),de<E.length))for(X=X.child;X!==null;)w.push(X,de),X=X.sibling}if(O<E.length){for(w=[];O<E.length;O++)w.push(E2(E[O]));return`findAllNodes was able to match part of the selector:
  `+(D.join(" > ")+`

No matching component was found for:
  `)+w.join(" > ")}return null},n.getPublicRootInstance=function(w){if(w=w.current,!w.child)return null;switch(w.child.tag){case 5:return $(w.child.stateNode);default:return w.child.stateNode}},n.injectIntoDevTools=function(w){if(w={bundleType:w.bundleType,version:w.version,rendererPackageName:w.rendererPackageName,rendererConfig:w.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:fhe,findFiberByHostInstance:w.findFiberByHostInstance||hhe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")w=!1;else{var E=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(E.isDisabled||!E.supportsFiber)w=!0;else{try{Ub=E.inject(w),Ha=E}catch{}w=!!E.checkDCE}}return w},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(w,E,O,D){if(!ke)throw Error(o(363));w=C2(w,E);var H=Ie(w,O,D).disconnect;return{disconnect:function(){H()}}},n.registerMutableSourceForHydration=function(w,E){var O=E._getVersion;O=O(E._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[E,O]:w.mutableSourceEagerHydrationData.push(E,O)},n.runWithPriority=function(w,E){var O=En;try{return En=w,E()}finally{En=O}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(w,E,O,D){var H=E.current,X=Gi(),de=lu(H);return O=TU(O),E.context===null?E.context=O:E.pendingContext=O,E=Vl(X,de),E.payload={element:w},D=D===void 0?null:D,D!==null&&(E.callback=D),su(H,E),w=bo(H,de,X),w!==null&&Wb(w,H,de),de},n};nfe.exports=Hpt;var Vpt=nfe.exports;const Wpt=Pn(Vpt);var rfe={exports:{}},ife={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,L){var B=R.length;R.push(L);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,L))R[W]=L,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var L=R[0],B=R.pop();if(B!==L){R[0]=B;e:for(var W=0,G=R.length,Y=G>>>1;W<Y;){var ie=2*(W+1)-1,ae=R[ie],se=ie+1,U=R[se];if(0>i(ae,B))se<G&&0>i(U,ae)?(R[W]=U,R[se]=B,W=se):(R[W]=ae,R[ie]=B,W=ie);else if(se<G&&0>i(U,B))R[W]=U,R[se]=B,W=se;else break e}}return L}function i(R,L){var B=R.sortIndex-L.sortIndex;return B!==0?B:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,u=null,f=3,g=!1,v=!1,y=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=R)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function b(R){if(y=!1,_(R),!v)if(n(l)!==null)v=!0,$(S);else{var L=n(c);L!==null&&V(b,L.startTime-R)}}function S(R,L){v=!1,y&&(y=!1,p(M),M=-1),g=!0;var B=f;try{for(_(L),u=n(l);u!==null&&(!(u.expirationTime>L)||R&&!I());){var W=u.callback;if(typeof W=="function"){u.callback=null,f=u.priorityLevel;var G=W(u.expirationTime<=L);L=t.unstable_now(),typeof G=="function"?u.callback=G:u===n(l)&&r(l),_(L)}else r(l);u=n(l)}if(u!==null)var Y=!0;else{var ie=n(c);ie!==null&&V(b,ie.startTime-L),Y=!1}return Y}finally{u=null,f=B,g=!1}}var C=!1,A=null,M=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function k(){if(A!==null){var R=t.unstable_now();N=R;var L=!0;try{L=A(!0,R)}finally{L?j():(C=!1,A=null)}}else C=!1}var j;if(typeof x=="function")j=function(){x(k)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=k,j=function(){z.postMessage(null)}}else j=function(){m(k,0)};function $(R){A=R,C||(C=!0,j())}function V(R,L){M=m(function(){R(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,$(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var B=f;f=L;try{return R()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=f;f=R;try{return L()}finally{f=B}},t.unstable_scheduleCallback=function(R,L,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:d++,callback:L,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(y?(p(M),M=-1):y=!0,V(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,$(S))),R},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(R){var L=f;return function(){var B=f;f=L;try{return R.apply(this,arguments)}finally{f=B}}}})(ife);rfe.exports=ife;var W7=rfe.exports;const YB={},sfe=t=>void Object.assign(YB,t);function Gpt(t,e){function n(d,{args:u=[],attach:f,...g},v){let y=`${d[0].toUpperCase()}${d.slice(1)}`,m;if(d==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const p=g.object;m=Zp(p,{type:d,root:v,attach:f,primitive:!0})}else{const p=YB[y];if(!p)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(u))throw new Error("R3F: The args prop must be an array!");m=Zp(new p(...u),{type:d,root:v,attach:f,memoizedProps:{args:u}})}return m.__r3f.attach===void 0&&(m.isBufferGeometry?m.__r3f.attach="geometry":m.isMaterial&&(m.__r3f.attach="material")),y!=="inject"&&SO(m,g),m}function r(d,u){let f=!1;if(u){var g,v;(g=u.__r3f)!=null&&g.attach?wO(d,u,u.__r3f.attach):u.isObject3D&&d.isObject3D&&(d.add(u),f=!0),f||(v=d.__r3f)==null||v.objects.push(u),u.__r3f||Zp(u,{}),u.__r3f.parent=d,NL(u),Qp(u)}}function i(d,u,f){let g=!1;if(u){var v,y;if((v=u.__r3f)!=null&&v.attach)wO(d,u,u.__r3f.attach);else if(u.isObject3D&&d.isObject3D){u.parent=d,u.dispatchEvent({type:"added"}),d.dispatchEvent({type:"childadded",child:u});const m=d.children.filter(x=>x!==u),p=m.indexOf(f);d.children=[...m.slice(0,p),u,...m.slice(p)],g=!0}g||(y=d.__r3f)==null||y.objects.push(u),u.__r3f||Zp(u,{}),u.__r3f.parent=d,NL(u),Qp(u)}}function s(d,u,f=!1){d&&[...d].forEach(g=>o(u,g,f))}function o(d,u,f){if(u){var g,v,y;if(u.__r3f&&(u.__r3f.parent=null),(g=d.__r3f)!=null&&g.objects&&(d.__r3f.objects=d.__r3f.objects.filter(b=>b!==u)),(v=u.__r3f)!=null&&v.attach)Y7(d,u,u.__r3f.attach);else if(u.isObject3D&&d.isObject3D){var m;d.remove(u),(m=u.__r3f)!=null&&m.root&&emt(QS(u),u)}const x=(y=u.__r3f)==null?void 0:y.primitive,_=!x&&(f===void 0?u.dispose!==null:f);if(!x){var p;s((p=u.__r3f)==null?void 0:p.objects,u,_),s(u.children,u,_)}if(delete u.__r3f,_&&u.dispose&&u.type!=="Scene"){const b=()=>{try{u.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?W7.unstable_scheduleCallback(W7.unstable_IdlePriority,b):b()}Qp(d)}}function a(d,u,f,g){var v;const y=(v=d.__r3f)==null?void 0:v.parent;if(!y)return;const m=n(u,f,d.__r3f.root);if(d.children){for(const p of d.children)p.__r3f&&r(m,p);d.children=d.children.filter(p=>!p.__r3f)}d.__r3f.objects.forEach(p=>r(m,p)),d.__r3f.objects=[],d.__r3f.autoRemovedBeforeAppend||o(y,d),m.parent&&(m.__r3f.autoRemovedBeforeAppend=!0),r(y,m),m.raycast&&m.__r3f.eventCount&&QS(m).getState().internal.interaction.push(m),[g,g.alternate].forEach(p=>{p!==null&&(p.stateNode=m,p.ref&&(typeof p.ref=="function"?p.ref(m):p.ref.current=m))})}const l=()=>{};return{reconciler:Wpt({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(d,u)=>{if(!u)return;const f=d.getState().scene;f.__r3f&&(f.__r3f.root=d,r(f,u))},removeChildFromContainer:(d,u)=>{u&&o(d.getState().scene,u)},insertInContainerBefore:(d,u,f)=>{if(!u||!f)return;const g=d.getState().scene;g.__r3f&&i(g,u,f)},getRootHostContext:()=>null,getChildHostContext:d=>d,finalizeInitialChildren(d){var u;return!!((u=d==null?void 0:d.__r3f)!=null?u:{}).handlers},prepareUpdate(d,u,f,g){var v;if(((v=d==null?void 0:d.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==d)return[!0];{const{args:m=[],children:p,...x}=g,{args:_=[],children:b,...S}=f;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((A,M)=>A!==_[M]))return[!0];const C=ffe(d,x,S,!0);return C.changes.length?[!1,C]:null}},commitUpdate(d,[u,f],g,v,y,m){u?a(d,g,y,m):SO(d,f)},commitMount(d,u,f,g){var v;const y=(v=d.__r3f)!=null?v:{};d.raycast&&y.handlers&&y.eventCount&&QS(d).getState().internal.interaction.push(d)},getPublicInstance:d=>d,prepareForCommit:()=>null,preparePortalMount:d=>Zp(d.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(d){var u;const{attach:f,parent:g}=(u=d.__r3f)!=null?u:{};f&&g&&Y7(g,d,f),d.isObject3D&&(d.visible=!1),Qp(d)},unhideInstance(d,u){var f;const{attach:g,parent:v}=(f=d.__r3f)!=null?f:{};g&&v&&wO(v,d,g),(d.isObject3D&&u.visible==null||u.visible)&&(d.visible=!0),Qp(d)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Sm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&nr.fun(performance.now)?performance.now:nr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:nr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:nr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:SO}}var G7,X7;const bO=t=>"colorSpace"in t||"outputColorSpace"in t,ofe=()=>{var t;return(t=YB.ColorManagement)!=null?t:null},afe=t=>t&&t.isOrthographicCamera,Xpt=t=>t&&t.hasOwnProperty("current"),jb=typeof window<"u"&&((G7=window.document)!=null&&G7.createElement||((X7=window.navigator)==null?void 0:X7.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function lfe(t){const e=P.useRef(t);return jb(()=>void(e.current=t),[t]),e}function qpt({set:t}){return jb(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class cfe extends P.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}cfe.getDerivedStateFromError=()=>({error:!0});const ufe="__default",q7=new Map,Kpt=t=>t&&!!t.memoized&&!!t.changes;function dfe(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Qy=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function QS(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const nr={obj:t=>t===Object(t)&&!nr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(nr.str(t)||nr.num(t)||nr.boo(t))return t===e;const s=nr.obj(t);if(s&&r==="reference")return t===e;const o=nr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!nr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(nr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Ypt(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Zp(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function PL(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const K7=/-\d+$/;function wO(t,e,n){if(nr.str(n)){if(K7.test(n)){const s=n.replace(K7,""),{target:o,key:a}=PL(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=PL(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function Y7(t,e,n){var r,i;if(nr.str(n)){const{target:s,key:o}=PL(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function ffe(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const d=t.__r3f,u=Object.entries(i),f=[];if(c){const v=Object.keys(l);for(let y=0;y<v.length;y++)i.hasOwnProperty(v[y])||u.unshift([v[y],ufe+"remove"])}u.forEach(([v,y])=>{var m;if((m=t.__r3f)!=null&&m.primitive&&v==="object"||nr.equ(y,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return f.push([v,y,!0,[]]);let p=[];v.includes("-")&&(p=v.split("-")),f.push([v,y,!1,p]);for(const x in i){const _=i[x];x.startsWith(`${v}-`)&&f.push([x,_,!1,x.split("-")])}});const g={...i};return d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.args&&(g.args=d.memoizedProps.args),d!=null&&d.memoizedProps&&d!=null&&d.memoizedProps.attach&&(g.attach=d.memoizedProps.attach),{memoized:g,changes:f}}const Zpt=typeof process<"u"&&!1;function SO(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Kpt(e)?e:ffe(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let f=0;f<a.length;f++){let[g,v,y,m]=a[f];if(bO(t)){const b="srgb",S="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?b:S):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?b:S)}let p=t,x=p[g];if(m.length&&(x=m.reduce((_,b)=>_[b],t),!(x&&x.set))){const[_,...b]=m.reverse();p=b.reverse().reduce((S,C)=>S[C],t),g=_}if(v===ufe+"remove")if(p.constructor){let _=q7.get(p.constructor);_||(_=new p.constructor,q7.set(p.constructor,_)),v=_[g]}else v=0;if(y&&r)v?r.handlers[g]=v:delete r.handlers[g],r.eventCount=Object.keys(r.handlers).length;else if(x&&x.set&&(x.copy||x instanceof Zf)){if(Array.isArray(v))x.fromArray?x.fromArray(v):x.set(...v);else if(x.copy&&v&&v.constructor&&(Zpt?x.constructor.name===v.constructor.name:x.constructor===v.constructor))x.copy(v);else if(v!==void 0){var c;const _=(c=x)==null?void 0:c.isColor;!_&&x.setScalar?x.setScalar(v):x instanceof Zf&&v instanceof Zf?x.mask=v.mask:x.set(v),!ofe()&&s&&!s.linear&&_&&x.convertSRGBToLinear()}}else{var d;if(p[g]=v,(d=p[g])!=null&&d.isTexture&&p[g].format===Bi&&p[g].type===$o&&s){const _=p[g];bO(_)&&bO(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}Qp(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const f=QS(t).getState().internal,g=f.interaction.indexOf(t);g>-1&&f.interaction.splice(g,1),r.eventCount&&f.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&NL(t),t}function Qp(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function NL(t){t.onUpdate==null||t.onUpdate(t)}function Qpt(t,e){t.manual||(afe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function yS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Jpt(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Sm.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Sm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Sm.ContinuousEventPriority;default:return Sm.DefaultEventPriority}}function hfe(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function emt(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{hfe(n.capturedMap,e,r,i)})}function tmt(t){function e(l){const{internal:c}=t.getState(),d=l.offsetX-c.initialClick[0],u=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(d*d+u*u))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(d=>{var u;return(u=c.__r3f)==null?void 0:u.handlers["onPointer"+d]}))}function r(l,c){const d=t.getState(),u=new Set,f=[],g=c?c(d.internal.interaction):d.internal.interaction;for(let p=0;p<g.length;p++){const x=Qy(g[p]);x&&(x.raycaster.camera=void 0)}d.previousRoot||d.events.compute==null||d.events.compute(l,d);function v(p){const x=Qy(p);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var _;x.events.compute==null||x.events.compute(l,x,(_=x.previousRoot)==null?void 0:_.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(p,!0):[]}let y=g.flatMap(v).sort((p,x)=>{const _=Qy(p.object),b=Qy(x.object);return!_||!b?p.distance-x.distance:b.events.priority-_.events.priority||p.distance-x.distance}).filter(p=>{const x=yS(p);return u.has(x)?!1:(u.add(x),!0)});d.events.filter&&(y=d.events.filter(y,d));for(const p of y){let x=p.object;for(;x;){var m;(m=x.__r3f)!=null&&m.eventCount&&f.push({...p,eventObject:x}),x=x.parent}}if("pointerId"in l&&d.internal.capturedMap.has(l.pointerId))for(let p of d.internal.capturedMap.get(l.pointerId).values())u.has(yS(p.intersection))||f.push(p.intersection);return f}function i(l,c,d,u){const f=t.getState();if(l.length){const g={stopped:!1};for(const v of l){const y=Qy(v.object)||f,{raycaster:m,pointer:p,camera:x,internal:_}=y,b=new le(p.x,p.y,0).unproject(x),S=N=>{var I,k;return(I=(k=_.capturedMap.get(N))==null?void 0:k.has(v.eventObject))!=null?I:!1},C=N=>{const I={intersection:v,target:c.target};_.capturedMap.has(N)?_.capturedMap.get(N).set(v.eventObject,I):_.capturedMap.set(N,new Map([[v.eventObject,I]])),c.target.setPointerCapture(N)},A=N=>{const I=_.capturedMap.get(N);I&&hfe(_.capturedMap,v.eventObject,I,N)};let M={};for(let N in c){let I=c[N];typeof I!="function"&&(M[N]=I)}let T={...v,...M,pointer:p,intersections:l,stopped:g.stopped,delta:d,unprojectedPoint:b,ray:m.ray,camera:x,stopPropagation(){const N="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!N||N.has(v.eventObject))&&(T.stopped=g.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(I=>I.eventObject===v.eventObject))){const I=l.slice(0,l.indexOf(v));s([...I,v])}},target:{hasPointerCapture:S,setPointerCapture:C,releasePointerCapture:A},currentTarget:{hasPointerCapture:S,setPointerCapture:C,releasePointerCapture:A},nativeEvent:c};if(u(T),g.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const d of c.hovered.values())if(!l.length||!l.find(u=>u.object===d.object&&u.index===d.index&&u.instanceId===d.instanceId)){const f=d.eventObject.__r3f,g=f==null?void 0:f.handlers;if(c.hovered.delete(yS(d)),f!=null&&f.eventCount){const v={...d,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(l,c){for(let d=0;d<c.length;d++){const u=c[d].__r3f;u==null||u.handlers.onPointerMissed==null||u.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:d}=t.getState();"pointerId"in c&&d.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{d.capturedMap.has(c.pointerId)&&(d.capturedMap.delete(c.pointerId),s([]))})}}return function(d){const{onPointerMissed:u,internal:f}=t.getState();f.lastEvent.current=d;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",m=r(d,g?n:void 0),p=v?e(d):0;l==="onPointerDown"&&(f.initialClick=[d.offsetX,d.offsetY],f.initialHits=m.map(_=>_.eventObject)),v&&!m.length&&p<=2&&(o(d,f.interaction),u&&u(d)),g&&s(m);function x(_){const b=_.eventObject,S=b.__r3f,C=S==null?void 0:S.handlers;if(S!=null&&S.eventCount)if(g){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const A=yS(_),M=f.hovered.get(A);M?M.stopped&&_.stopPropagation():(f.hovered.set(A,_),C.onPointerOver==null||C.onPointerOver(_),C.onPointerEnter==null||C.onPointerEnter(_))}C.onPointerMove==null||C.onPointerMove(_)}else{const A=C[l];A?(!v||f.initialHits.includes(b))&&(o(d,f.interaction.filter(M=>!f.initialHits.includes(M))),A(_)):v&&f.initialHits.includes(b)&&o(d,f.interaction.filter(M=>!f.initialHits.includes(M)))}}i(m,d,p,x)}}return{handlePointer:a}}const pfe=t=>!!(t!=null&&t.render),mfe=P.createContext(null),nmt=(t,e)=>{const n=Upt((a,l)=>{const c=new le,d=new le,u=new le;function f(p=l().camera,x=d,_=l().size){const{width:b,height:S,top:C,left:A}=_,M=b/S;x.isVector3?u.copy(x):u.set(...x);const T=p.getWorldPosition(c).distanceTo(u);if(afe(p))return{width:b/p.zoom,height:S/p.zoom,top:C,left:A,factor:1,distance:T,aspect:M};{const N=p.fov*Math.PI/180,I=2*Math.tan(N/2)*T,k=I*(b/S);return{width:k,height:I,top:C,left:A,factor:b/k,distance:T,aspect:M}}}let g;const v=p=>a(x=>({performance:{...x.performance,current:p}})),y=new ze;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(p=1)=>t(l(),p),advance:(p,x)=>e(p,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new VB,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const p=l();g&&clearTimeout(g),p.performance.current!==p.performance.min&&v(p.performance.min),g=setTimeout(()=>v(l().performance.max),p.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:p=>a(x=>({...x,events:{...x.events,...p}})),setSize:(p,x,_,b,S)=>{const C=l().camera,A={width:p,height:x,top:b||0,left:S||0,updateStyle:_};a(M=>({size:A,viewport:{...M.viewport,...f(C,d,A)}}))},setDpr:p=>a(x=>{const _=dfe(p);return{viewport:{...x.viewport,dpr:_,initialDpr:x.viewport.initialDpr||_}}}),setFrameloop:(p="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,p!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:p}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:P.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(p,x,_)=>{const b=l().internal;return b.priority=b.priority+(x>0?1:0),b.subscribers.push({ref:p,priority:x,store:_}),b.subscribers=b.subscribers.sort((S,C)=>S.priority-C.priority),()=>{const S=l().internal;S!=null&&S.subscribers&&(S.priority=S.priority-(x>0?1:0),S.subscribers=S.subscribers.filter(C=>C.ref!==p))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:d,set:u}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var f;i=l,s=c.dpr,Qpt(a,l),d.setPixelRatio(c.dpr);const g=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&d.domElement instanceof HTMLCanvasElement;d.setSize(l.width,l.height,g)}a!==o&&(o=a,u(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let xS,rmt=new Set,imt=new Set,smt=new Set;function EO(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Jy(t,e){switch(t){case"before":return EO(rmt,e);case"after":return EO(imt,e);case"tail":return EO(smt,e)}}let CO,MO;function AO(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),CO=e.internal.subscribers,xS=0;xS<CO.length;xS++)MO=CO[xS],MO.ref.current(MO.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function omt(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,Jy("before",c),n=!0;for(const u of t.values()){var d;s=u.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((d=s.gl.xr)!=null&&d.isPresenting)&&(r+=AO(c,s))}if(n=!1,Jy("after",c),r===0)return Jy("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,d=1){var u;if(!c)return t.forEach(f=>a(f.store.getState(),d));(u=c.gl.xr)!=null&&u.isPresenting||!c.internal.active||c.frameloop==="never"||(d>1?c.internal.frames=Math.min(60,c.internal.frames+d):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,d=!0,u,f){if(d&&Jy("before",c),u)AO(c,u,f);else for(const g of t.values())AO(c,g.store.getState());d&&Jy("after",c)}return{loop:o,invalidate:a,advance:l}}function gfe(){const t=P.useContext(mfe);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function oc(t=n=>n,e){return gfe()(t,e)}function DP(t,e=0){const n=gfe(),r=n.getState().internal.subscribe,i=lfe(t);return jb(()=>r(i,e,n),[e,r,n]),null}const ov=new Map,{invalidate:Z7,advance:Q7}=omt(ov),{reconciler:XM,applyProps:Gp}=Gpt(ov,Jpt),Xp={objects:"shallow",strict:!1},amt=(t,e)=>{const n=typeof t=="function"?t(e):t;return pfe(n)?n:new efe({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function lmt(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function cmt(t){const e=ov.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||nmt(Z7,Q7),o=n||XM.createContainer(s,Sm.ConcurrentRoot,null,!1,null,"",i,null);e||ov.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(d={}){let{gl:u,size:f,scene:g,events:v,onCreated:y,shadows:m=!1,linear:p=!1,flat:x=!1,legacy:_=!1,orthographic:b=!1,frameloop:S="always",dpr:C=[1,2],performance:A,raycaster:M,camera:T,onPointerMissed:N}=d,I=s.getState(),k=I.gl;I.gl||I.set({gl:k=amt(u,t)});let j=I.raycaster;j||I.set({raycaster:j=new Gde});const{params:F,...z}=M||{};if(nr.equ(z,j,Xp)||Gp(j,{...z}),nr.equ(F,j.params,Xp)||Gp(j,{params:{...j.params,...F}}),!I.camera||I.camera===c&&!nr.equ(c,T,Xp)){c=T;const B=T instanceof Pb,W=B?T:b?new wl(0,0,0,0,.1,1e3):new mr(75,0,.1,1e3);B||(W.position.z=5,T&&(Gp(W,T),("aspect"in T||"left"in T||"right"in T||"bottom"in T||"top"in T)&&(W.manual=!0,W.updateProjectionMatrix())),!I.camera&&!(T!=null&&T.rotation)&&W.lookAt(0,0,0)),I.set({camera:W}),j.camera=W}if(!I.scene){let B;g!=null&&g.isScene?B=g:(B=new SB,g&&Gp(B,g)),I.set({scene:Zp(B)})}if(!I.xr){var $;const B=(Y,ie)=>{const ae=s.getState();ae.frameloop!=="never"&&Q7(Y,!0,ae,ie)},W=()=>{const Y=s.getState();Y.gl.xr.enabled=Y.gl.xr.isPresenting,Y.gl.xr.setAnimationLoop(Y.gl.xr.isPresenting?B:null),Y.gl.xr.isPresenting||Z7(Y)},G={connect(){const Y=s.getState().gl;Y.xr.addEventListener("sessionstart",W),Y.xr.addEventListener("sessionend",W)},disconnect(){const Y=s.getState().gl;Y.xr.removeEventListener("sessionstart",W),Y.xr.removeEventListener("sessionend",W)}};typeof(($=k.xr)==null?void 0:$.addEventListener)=="function"&&G.connect(),I.set({xr:G})}if(k.shadowMap){const B=k.shadowMap.enabled,W=k.shadowMap.type;if(k.shadowMap.enabled=!!m,nr.boo(m))k.shadowMap.type=j0;else if(nr.str(m)){var V;const G={basic:nue,percentage:rP,soft:j0,variance:oa};k.shadowMap.type=(V=G[m])!=null?V:j0}else nr.obj(m)&&Object.assign(k.shadowMap,m);(B!==k.shadowMap.enabled||W!==k.shadowMap.type)&&(k.shadowMap.needsUpdate=!0)}const R=ofe();R&&("enabled"in R?R.enabled=!_:"legacyMode"in R&&(R.legacyMode=_)),l||Gp(k,{outputEncoding:p?3e3:3001,toneMapping:x?_l:aB}),I.legacy!==_&&I.set(()=>({legacy:_})),I.linear!==p&&I.set(()=>({linear:p})),I.flat!==x&&I.set(()=>({flat:x})),u&&!nr.fun(u)&&!pfe(u)&&!nr.equ(u,k,Xp)&&Gp(k,u),v&&!I.events.handlers&&I.set({events:v(s)});const L=lmt(t,f);return nr.equ(L,I.size,Xp)||I.setSize(L.width,L.height,L.updateStyle,L.top,L.left),C&&I.viewport.dpr!==dfe(C)&&I.setDpr(C),I.frameloop!==S&&I.setFrameloop(S),I.onPointerMissed||I.set({onPointerMissed:N}),A&&!nr.equ(A,I.performance,Xp)&&I.set(B=>({performance:{...B.performance,...A}})),a=y,l=!0,this},render(d){return l||this.configure(),XM.updateContainer(h.jsx(umt,{store:s,children:d,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){vfe(t)}}}function umt({store:t,children:e,onCreated:n,rootElement:r}){return jb(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),h.jsx(mfe.Provider,{value:t,children:e})}function vfe(t,e){const n=ov.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),XM.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Ypt(i),ov.delete(t)}catch{}},500)})}}XM.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:P.version});const TO={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function dmt(t){const{handlePointer:e}=tmt(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(TO).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=TO[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=TO[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function J7(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function fmt({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=P.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=P.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,d=P.useRef(!1);P.useEffect(()=>(d.current=!0,()=>void(d.current=!1)));const[u,f,g]=P.useMemo(()=>{const p=()=>{if(!a.current.element)return;const{left:x,top:_,width:b,height:S,bottom:C,right:A,x:M,y:T}=a.current.element.getBoundingClientRect(),N={left:x,top:_,width:b,height:S,bottom:C,right:A,x:M,y:T};a.current.element instanceof HTMLElement&&r&&(N.height=a.current.element.offsetHeight,N.width=a.current.element.offsetWidth),Object.freeze(N),d.current&&!gmt(a.current.lastBounds,N)&&o(a.current.lastBounds=N)};return[p,c?J7(p,c):p,l?J7(p,l):p]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(p=>p.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function y(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(p=>p.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const m=p=>{!p||p===a.current.element||(v(),a.current.element=p,a.current.scrollContainers=yfe(p),y())};return pmt(g,!!e),hmt(f),P.useEffect(()=>{v(),y()},[e,g,f]),P.useEffect(()=>v,[]),[m,s,u]}function hmt(t){P.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function pmt(t,e){P.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function yfe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...yfe(t.parentElement)]}const mmt=["x","y","top","bottom","left","right","width","height"],gmt=(t,e)=>mmt.every(n=>t[n]===e[n]);var vmt=Object.defineProperty,ymt=Object.defineProperties,xmt=Object.getOwnPropertyDescriptors,e9=Object.getOwnPropertySymbols,_mt=Object.prototype.hasOwnProperty,bmt=Object.prototype.propertyIsEnumerable,t9=(t,e,n)=>e in t?vmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n9=(t,e)=>{for(var n in e||(e={}))_mt.call(e,n)&&t9(t,n,e[n]);if(e9)for(var n of e9(e))bmt.call(e,n)&&t9(t,n,e[n]);return t},wmt=(t,e)=>ymt(t,xmt(e)),r9,i9;typeof window<"u"&&((r9=window.document)!=null&&r9.createElement||((i9=window.navigator)==null?void 0:i9.product)==="ReactNative")?P.useLayoutEffect:P.useEffect;function xfe(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=xfe(r,e,n);if(i)return i;r=r.sibling}}function _fe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const s9=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=s9;return}return s9.apply(this,arguments)};const ZB=_fe(P.createContext(null));class bfe extends P.Component{render(){return P.createElement(ZB.Provider,{value:this._reactInternals},this.props.children)}}function Smt(){const t=P.useContext(ZB);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=P.useId();return P.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=xfe(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Emt(){const t=Smt(),[e]=P.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==ZB&&!e.has(i)&&e.set(i,P.useContext(_fe(i)))}n=n.return}return e}function Cmt(){const t=Emt();return P.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>P.createElement(e,null,P.createElement(n.Provider,wmt(n9({},r),{value:t.get(n)}))),e=>P.createElement(bfe,n9({},e))),[t])}const Mmt=P.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=dmt,eventSource:a,eventPrefix:l,shadows:c,linear:d,flat:u,legacy:f,orthographic:g,frameloop:v,dpr:y,performance:m,raycaster:p,camera:x,scene:_,onPointerMissed:b,onCreated:S,...C},A){P.useMemo(()=>sfe(jpt),[]);const M=Cmt(),[T,N]=fmt({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=P.useRef(null),k=P.useRef(null);P.useImperativeHandle(A,()=>I.current);const j=lfe(b),[F,z]=P.useState(!1),[$,V]=P.useState(!1);if(F)throw F;if($)throw $;const R=P.useRef(null);jb(()=>{const B=I.current;N.width>0&&N.height>0&&B&&(R.current||(R.current=cmt(B)),R.current.configure({gl:s,events:o,shadows:c,linear:d,flat:u,legacy:f,orthographic:g,frameloop:v,dpr:y,performance:m,raycaster:p,camera:x,scene:_,size:N,onPointerMissed:(...W)=>j.current==null?void 0:j.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?Xpt(a)?a.current:a:k.current),l&&W.setEvents({compute:(G,Y)=>{const ie=G[l+"X"],ae=G[l+"Y"];Y.pointer.set(ie/Y.size.width*2-1,-(ae/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),S==null||S(W)}}),R.current.render(h.jsx(M,{children:h.jsx(cfe,{set:V,children:h.jsx(P.Suspense,{fallback:h.jsx(qpt,{set:z}),children:e??null})})})))}),P.useEffect(()=>{const B=I.current;if(B)return()=>vfe(B)},[]);const L=a?"none":"auto";return h.jsx("div",{ref:k,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:L,...i},...C,children:h.jsx("div",{ref:T,style:{width:"100%",height:"100%"},children:h.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),wfe=P.forwardRef(function(e,n){return h.jsx(bfe,{children:h.jsx(Mmt,{...e,ref:n})})}),Fb=new le,QB=new le,Amt=new le,o9=new ze;function Tmt(t,e,n){const r=Fb.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function Pmt(t,e){const n=Fb.setFromMatrixPosition(t.matrixWorld),r=QB.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(Amt);return i.angleTo(s)>Math.PI/2}function Nmt(t,e,n,r){const i=Fb.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),o9.set(s.x,s.y),n.setFromCamera(o9,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function Rmt(t,e){if(e instanceof wl)return e.zoom;if(e instanceof mr){const n=Fb.setFromMatrixPosition(t.matrixWorld),r=QB.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Omt(t,e,n){if(e instanceof mr||e instanceof wl){const r=Fb.setFromMatrixPosition(t.matrixWorld),i=QB.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const RL=t=>Math.abs(t)<1e-10?0:t;function Sfe(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=RL(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const Imt=(t=>e=>Sfe(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),kmt=(t=>(e,n)=>Sfe(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Dmt(t){return t&&typeof t=="object"&&"current"in t}const JB=P.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:d=!1,occlude:u,onOcclude:f,castShadow:g,receiveShadow:v,material:y,geometry:m,zIndexRange:p=[16777271,0],calculatePosition:x=Tmt,as:_="div",wrapperClass:b,pointerEvents:S="auto",...C},A)=>{const{gl:M,camera:T,scene:N,size:I,raycaster:k,events:j,viewport:F}=oc(),[z]=P.useState(()=>document.createElement(_)),$=P.useRef(),V=P.useRef(null),R=P.useRef(0),L=P.useRef([0,0]),B=P.useRef(null),W=P.useRef(null),G=(a==null?void 0:a.current)||j.connected||M.domElement.parentNode,Y=P.useRef(null),ie=P.useRef(!1),ae=P.useMemo(()=>u&&u!=="blending"||Array.isArray(u)&&u.length&&Dmt(u[0]),[u]);P.useLayoutEffect(()=>{const ee=M.domElement;u&&u==="blending"?(ee.style.zIndex=`${Math.floor(p[0]/2)}`,ee.style.position="absolute",ee.style.pointerEvents="none"):(ee.style.zIndex=null,ee.style.position=null,ee.style.pointerEvents=null)},[u]),P.useLayoutEffect(()=>{if(V.current){const ee=$.current=Mj(z);if(N.updateMatrixWorld(),d)z.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ue=x(V.current,T,I);z.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ue[0]}px,${ue[1]}px,0);transform-origin:0 0;`}return G&&(i?G.prepend(z):G.appendChild(z)),()=>{G&&G.removeChild(z),ee.unmount()}}},[G,d]),P.useLayoutEffect(()=>{b&&(z.className=b)},[b]);const se=P.useMemo(()=>d?{position:"absolute",top:0,left:0,width:I.width,height:I.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-I.height/2,left:-I.width/2,width:I.width,height:I.height},...n},[n,s,o,I,d]),U=P.useMemo(()=>({position:"absolute",pointerEvents:S}),[S]);P.useLayoutEffect(()=>{if(ie.current=!1,d){var ee;(ee=$.current)==null||ee.render(P.createElement("div",{ref:B,style:se},P.createElement("div",{ref:W,style:U},P.createElement("div",{ref:A,className:r,style:n,children:t}))))}else{var ue;(ue=$.current)==null||ue.render(P.createElement("div",{ref:A,style:se,className:r,children:t}))}});const K=P.useRef(!0);DP(ee=>{if(V.current){T.updateMatrixWorld(),V.current.updateWorldMatrix(!0,!1);const ue=d?L.current:x(V.current,T,I);if(d||Math.abs(R.current-T.zoom)>e||Math.abs(L.current[0]-ue[0])>e||Math.abs(L.current[1]-ue[1])>e){const J=Pmt(V.current,T);let q=!1;ae&&(Array.isArray(u)?q=u.map(pe=>pe.current):u!=="blending"&&(q=[N]));const ne=K.current;if(q){const pe=Nmt(V.current,T,k,q);K.current=pe&&!J}else K.current=!J;ne!==K.current&&(f?f(!K.current):z.style.display=K.current?"block":"none");const fe=Math.floor(p[0]/2),me=u?ae?[p[0],fe]:[fe-1,0]:p;if(z.style.zIndex=`${Omt(V.current,T,me)}`,d){const[pe,Ae]=[I.width/2,I.height/2],Ce=T.projectionMatrix.elements[5]*Ae,{isOrthographicCamera:ke,top:nt,left:Je,bottom:re,right:Z}=T,ve=Imt(T.matrixWorldInverse),Se=ke?`scale(${Ce})translate(${RL(-(Z+Je)/2)}px,${RL((nt+re)/2)}px)`:`translateZ(${Ce}px)`;let Ie=V.current.matrixWorld;c&&(Ie=T.matrixWorldInverse.clone().transpose().copyPosition(Ie).scale(V.current.scale),Ie.elements[3]=Ie.elements[7]=Ie.elements[11]=0,Ie.elements[15]=1),z.style.width=I.width+"px",z.style.height=I.height+"px",z.style.perspective=ke?"":`${Ce}px`,B.current&&W.current&&(B.current.style.transform=`${Se}${ve}translate(${pe}px,${Ae}px)`,W.current.style.transform=kmt(Ie,1/((l||10)/400)))}else{const pe=l===void 0?1:Rmt(V.current,T)*l;z.style.transform=`translate3d(${ue[0]}px,${ue[1]}px,0) scale(${pe})`}L.current=ue,R.current=T.zoom}}if(!ae&&Y.current&&!ie.current)if(d){if(B.current){const ue=B.current.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const{isOrthographicCamera:J}=T;if(J||m)C.scale&&(Array.isArray(C.scale)?C.scale instanceof le?Y.current.scale.copy(C.scale.clone().divideScalar(1)):Y.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):Y.current.scale.setScalar(1/C.scale));else{const q=(l||10)/400,ne=ue.clientWidth*q,fe=ue.clientHeight*q;Y.current.scale.set(ne,fe,1)}ie.current=!0}}}else{const ue=z.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const J=1/F.factor,q=ue.clientWidth*J,ne=ue.clientHeight*J;Y.current.scale.set(q,ne,1),ie.current=!0}Y.current.lookAt(ee.camera.position)}});const Q=P.useMemo(()=>({vertexShader:d?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[d]);return P.createElement("group",gh({},C,{ref:V}),u&&!ae&&P.createElement("mesh",{castShadow:g,receiveShadow:v,ref:Y},m||P.createElement("planeGeometry",null),y||P.createElement("shaderMaterial",{side:xa,vertexShader:Q.vertexShader,fragmentShader:Q.fragmentShader})))});var Lmt=Object.defineProperty,jmt=(t,e,n)=>e in t?Lmt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fmt=(t,e,n)=>(jmt(t,e+"",n),n);class Bmt{constructor(){Fmt(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Umt=Object.defineProperty,zmt=(t,e,n)=>e in t?Umt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dt=(t,e,n)=>(zmt(t,typeof e!="symbol"?e+"":e,n),n);const _S=new Hh,a9=new il,$mt=Math.cos(70*(Math.PI/180)),l9=(t,e)=>(t%e+e)%e;let Hmt=class extends Bmt{constructor(e,n){super(),Dt(this,"object"),Dt(this,"domElement"),Dt(this,"enabled",!0),Dt(this,"target",new le),Dt(this,"minDistance",0),Dt(this,"maxDistance",1/0),Dt(this,"minZoom",0),Dt(this,"maxZoom",1/0),Dt(this,"minPolarAngle",0),Dt(this,"maxPolarAngle",Math.PI),Dt(this,"minAzimuthAngle",-1/0),Dt(this,"maxAzimuthAngle",1/0),Dt(this,"enableDamping",!1),Dt(this,"dampingFactor",.05),Dt(this,"enableZoom",!0),Dt(this,"zoomSpeed",1),Dt(this,"enableRotate",!0),Dt(this,"rotateSpeed",1),Dt(this,"enablePan",!0),Dt(this,"panSpeed",1),Dt(this,"screenSpacePanning",!0),Dt(this,"keyPanSpeed",7),Dt(this,"zoomToCursor",!1),Dt(this,"autoRotate",!1),Dt(this,"autoRotateSpeed",2),Dt(this,"reverseOrbit",!1),Dt(this,"reverseHorizontalOrbit",!1),Dt(this,"reverseVerticalOrbit",!1),Dt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Dt(this,"mouseButtons",{LEFT:yf.ROTATE,MIDDLE:yf.DOLLY,RIGHT:yf.PAN}),Dt(this,"touches",{ONE:xf.ROTATE,TWO:xf.DOLLY_PAN}),Dt(this,"target0"),Dt(this,"position0"),Dt(this,"zoom0"),Dt(this,"_domElementKeyEvents",null),Dt(this,"getPolarAngle"),Dt(this,"getAzimuthalAngle"),Dt(this,"setPolarAngle"),Dt(this,"setAzimuthalAngle"),Dt(this,"getDistance"),Dt(this,"getZoomScale"),Dt(this,"listenToKeyEvents"),Dt(this,"stopListenToKeyEvents"),Dt(this,"saveState"),Dt(this,"reset"),Dt(this,"update"),Dt(this,"connect"),Dt(this,"dispose"),Dt(this,"dollyIn"),Dt(this,"dollyOut"),Dt(this,"getScale"),Dt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>d.phi,this.getAzimuthalAngle=()=>d.theta,this.setPolarAngle=he=>{let Ee=l9(he,2*Math.PI),Ke=d.phi;Ke<0&&(Ke+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ce=Math.abs(Ee-Ke);2*Math.PI-ce<ce&&(Ee<Ke?Ee+=2*Math.PI:Ke+=2*Math.PI),u.phi=Ee-Ke,r.update()},this.setAzimuthalAngle=he=>{let Ee=l9(he,2*Math.PI),Ke=d.theta;Ke<0&&(Ke+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ce=Math.abs(Ee-Ke);2*Math.PI-ce<ce&&(Ee<Ke?Ee+=2*Math.PI:Ke+=2*Math.PI),u.theta=Ee-Ke,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",Me),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Me),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const he=new le,Ee=new le(0,1,0),Ke=new zi().setFromUnitVectors(e.up,Ee),ce=Ke.clone().invert(),Ne=new le,Be=new zi,Ve=2*Math.PI;return function(){const Le=r.object.position;Ke.setFromUnitVectors(e.up,Ee),ce.copy(Ke).invert(),he.copy(Le).sub(r.target),he.applyQuaternion(Ke),d.setFromVector3(he),r.autoRotate&&l===a.NONE&&F(k()),r.enableDamping?(d.theta+=u.theta*r.dampingFactor,d.phi+=u.phi*r.dampingFactor):(d.theta+=u.theta,d.phi+=u.phi);let Ye=r.minAzimuthAngle,mt=r.maxAzimuthAngle;isFinite(Ye)&&isFinite(mt)&&(Ye<-Math.PI?Ye+=Ve:Ye>Math.PI&&(Ye-=Ve),mt<-Math.PI?mt+=Ve:mt>Math.PI&&(mt-=Ve),Ye<=mt?d.theta=Math.max(Ye,Math.min(mt,d.theta)):d.theta=d.theta>(Ye+mt)/2?Math.max(Ye,d.theta):Math.min(mt,d.theta)),d.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,d.phi)),d.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&T||r.object.isOrthographicCamera?d.radius=Y(d.radius):d.radius=Y(d.radius*f),he.setFromSpherical(d),he.applyQuaternion(ce),Le.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(u.theta*=1-r.dampingFactor,u.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(u.set(0,0,0),g.set(0,0,0));let jt=!1;if(r.zoomToCursor&&T){let zt=null;if(r.object instanceof mr&&r.object.isPerspectiveCamera){const Ln=he.length();zt=Y(Ln*f);const Rn=Ln-zt;r.object.position.addScaledVector(A,Rn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Ln=new le(M.x,M.y,0);Ln.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),jt=!0;const Rn=new le(M.x,M.y,0);Rn.unproject(r.object),r.object.position.sub(Rn).add(Ln),r.object.updateMatrixWorld(),zt=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;zt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(zt).add(r.object.position):(_S.origin.copy(r.object.position),_S.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(_S.direction))<$mt?e.lookAt(r.target):(a9.setFromNormalAndCoplanarPoint(r.object.up,r.target),_S.intersectPlane(a9,r.target))))}else r.object instanceof wl&&r.object.isOrthographicCamera&&(jt=f!==1,jt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,T=!1,jt||Ne.distanceToSquared(r.object.position)>c||8*(1-Be.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ne.copy(r.object.position),Be.copy(r.object.quaternion),jt=!1,!0):!1}})(),this.connect=he=>{r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",st),r.domElement.addEventListener("pointerdown",Je),r.domElement.addEventListener("pointercancel",Z),r.domElement.addEventListener("wheel",Ie)},this.dispose=()=>{var he,Ee,Ke,ce,Ne,Be;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",st),(Ee=r.domElement)==null||Ee.removeEventListener("pointerdown",Je),(Ke=r.domElement)==null||Ke.removeEventListener("pointercancel",Z),(ce=r.domElement)==null||ce.removeEventListener("wheel",Ie),(Ne=r.domElement)==null||Ne.ownerDocument.removeEventListener("pointermove",re),(Be=r.domElement)==null||Be.ownerDocument.removeEventListener("pointerup",Z),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Me)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,d=new CL,u=new CL;let f=1;const g=new le,v=new ze,y=new ze,m=new ze,p=new ze,x=new ze,_=new ze,b=new ze,S=new ze,C=new ze,A=new le,M=new ze;let T=!1;const N=[],I={};function k(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function F(he){r.reverseOrbit||r.reverseHorizontalOrbit?u.theta+=he:u.theta-=he}function z(he){r.reverseOrbit||r.reverseVerticalOrbit?u.phi+=he:u.phi-=he}const $=(()=>{const he=new le;return function(Ke,ce){he.setFromMatrixColumn(ce,0),he.multiplyScalar(-Ke),g.add(he)}})(),V=(()=>{const he=new le;return function(Ke,ce){r.screenSpacePanning===!0?he.setFromMatrixColumn(ce,1):(he.setFromMatrixColumn(ce,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(Ke),g.add(he)}})(),R=(()=>{const he=new le;return function(Ke,ce){const Ne=r.domElement;if(Ne&&r.object instanceof mr&&r.object.isPerspectiveCamera){const Be=r.object.position;he.copy(Be).sub(r.target);let Ve=he.length();Ve*=Math.tan(r.object.fov/2*Math.PI/180),$(2*Ke*Ve/Ne.clientHeight,r.object.matrix),V(2*ce*Ve/Ne.clientHeight,r.object.matrix)}else Ne&&r.object instanceof wl&&r.object.isOrthographicCamera?($(Ke*(r.object.right-r.object.left)/r.object.zoom/Ne.clientWidth,r.object.matrix),V(ce*(r.object.top-r.object.bottom)/r.object.zoom/Ne.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function L(he){r.object instanceof mr&&r.object.isPerspectiveCamera||r.object instanceof wl&&r.object.isOrthographicCamera?f=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function B(he){L(f/he)}function W(he){L(f*he)}function G(he){if(!r.zoomToCursor||!r.domElement)return;T=!0;const Ee=r.domElement.getBoundingClientRect(),Ke=he.clientX-Ee.left,ce=he.clientY-Ee.top,Ne=Ee.width,Be=Ee.height;M.x=Ke/Ne*2-1,M.y=-(ce/Be)*2+1,A.set(M.x,M.y,1).unproject(r.object).sub(r.object.position).normalize()}function Y(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function ie(he){v.set(he.clientX,he.clientY)}function ae(he){G(he),b.set(he.clientX,he.clientY)}function se(he){p.set(he.clientX,he.clientY)}function U(he){y.set(he.clientX,he.clientY),m.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(F(2*Math.PI*m.x/Ee.clientHeight),z(2*Math.PI*m.y/Ee.clientHeight)),v.copy(y),r.update()}function K(he){S.set(he.clientX,he.clientY),C.subVectors(S,b),C.y>0?B(j()):C.y<0&&W(j()),b.copy(S),r.update()}function Q(he){x.set(he.clientX,he.clientY),_.subVectors(x,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(x),r.update()}function ee(he){G(he),he.deltaY<0?W(j()):he.deltaY>0&&B(j()),r.update()}function ue(he){let Ee=!1;switch(he.code){case r.keys.UP:R(0,r.keyPanSpeed),Ee=!0;break;case r.keys.BOTTOM:R(0,-r.keyPanSpeed),Ee=!0;break;case r.keys.LEFT:R(r.keyPanSpeed,0),Ee=!0;break;case r.keys.RIGHT:R(-r.keyPanSpeed,0),Ee=!0;break}Ee&&(he.preventDefault(),r.update())}function J(){if(N.length==1)v.set(N[0].pageX,N[0].pageY);else{const he=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);v.set(he,Ee)}}function q(){if(N.length==1)p.set(N[0].pageX,N[0].pageY);else{const he=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);p.set(he,Ee)}}function ne(){const he=N[0].pageX-N[1].pageX,Ee=N[0].pageY-N[1].pageY,Ke=Math.sqrt(he*he+Ee*Ee);b.set(0,Ke)}function fe(){r.enableZoom&&ne(),r.enablePan&&q()}function me(){r.enableZoom&&ne(),r.enableRotate&&J()}function pe(he){if(N.length==1)y.set(he.pageX,he.pageY);else{const Ke=Ct(he),ce=.5*(he.pageX+Ke.x),Ne=.5*(he.pageY+Ke.y);y.set(ce,Ne)}m.subVectors(y,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(F(2*Math.PI*m.x/Ee.clientHeight),z(2*Math.PI*m.y/Ee.clientHeight)),v.copy(y)}function Ae(he){if(N.length==1)x.set(he.pageX,he.pageY);else{const Ee=Ct(he),Ke=.5*(he.pageX+Ee.x),ce=.5*(he.pageY+Ee.y);x.set(Ke,ce)}_.subVectors(x,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(x)}function Ce(he){const Ee=Ct(he),Ke=he.pageX-Ee.x,ce=he.pageY-Ee.y,Ne=Math.sqrt(Ke*Ke+ce*ce);S.set(0,Ne),C.set(0,Math.pow(S.y/b.y,r.zoomSpeed)),B(C.y),b.copy(S)}function ke(he){r.enableZoom&&Ce(he),r.enablePan&&Ae(he)}function nt(he){r.enableZoom&&Ce(he),r.enableRotate&&pe(he)}function Je(he){var Ee,Ke;r.enabled!==!1&&(N.length===0&&((Ee=r.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",re),(Ke=r.domElement)==null||Ke.ownerDocument.addEventListener("pointerup",Z)),We(he),he.pointerType==="touch"?at(he):ve(he))}function re(he){r.enabled!==!1&&(he.pointerType==="touch"?He(he):Se(he))}function Z(he){var Ee,Ke,ce;$e(he),N.length===0&&((Ee=r.domElement)==null||Ee.releasePointerCapture(he.pointerId),(Ke=r.domElement)==null||Ke.ownerDocument.removeEventListener("pointermove",re),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",Z)),r.dispatchEvent(o),l=a.NONE}function ve(he){let Ee;switch(he.button){case 0:Ee=r.mouseButtons.LEFT;break;case 1:Ee=r.mouseButtons.MIDDLE;break;case 2:Ee=r.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case yf.DOLLY:if(r.enableZoom===!1)return;ae(he),l=a.DOLLY;break;case yf.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;se(he),l=a.PAN}else{if(r.enableRotate===!1)return;ie(he),l=a.ROTATE}break;case yf.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;ie(he),l=a.ROTATE}else{if(r.enablePan===!1)return;se(he),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Se(he){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;U(he);break;case a.DOLLY:if(r.enableZoom===!1)return;K(he);break;case a.PAN:if(r.enablePan===!1)return;Q(he);break}}function Ie(he){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(he.preventDefault(),r.dispatchEvent(s),ee(he),r.dispatchEvent(o))}function Me(he){r.enabled===!1||r.enablePan===!1||ue(he)}function at(he){switch(rt(he),N.length){case 1:switch(r.touches.ONE){case xf.ROTATE:if(r.enableRotate===!1)return;J(),l=a.TOUCH_ROTATE;break;case xf.PAN:if(r.enablePan===!1)return;q(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case xf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;fe(),l=a.TOUCH_DOLLY_PAN;break;case xf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;me(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function He(he){switch(rt(he),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;pe(he),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(he),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ke(he),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;nt(he),r.update();break;default:l=a.NONE}}function st(he){r.enabled!==!1&&he.preventDefault()}function We(he){N.push(he)}function $e(he){delete I[he.pointerId];for(let Ee=0;Ee<N.length;Ee++)if(N[Ee].pointerId==he.pointerId){N.splice(Ee,1);return}}function rt(he){let Ee=I[he.pointerId];Ee===void 0&&(Ee=new ze,I[he.pointerId]=Ee),Ee.set(he.pageX,he.pageY)}function Ct(he){const Ee=he.pointerId===N[0].pointerId?N[1]:N[0];return I[Ee.pointerId]}this.dollyIn=(he=j())=>{W(he),r.update()},this.dollyOut=(he=j())=>{B(he),r.update()},this.getScale=()=>f,this.setScale=he=>{L(he),r.update()},this.getZoomScale=()=>j(),n!==void 0&&this.connect(n),this.update()}};function Vmt(t,e,n,r){const i=class extends Ho{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,d])=>{const u=wB.clone({[c]:{value:d}});return{...l,...u}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return i.key=Hue.generateUUID(),i}const Wmt=()=>parseInt(Mb.replace(/\D+/g,"")),Gmt=Wmt(),Efe=P.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},d)=>{const u=oc(C=>C.invalidate),f=oc(C=>C.camera),g=oc(C=>C.gl),v=oc(C=>C.events),y=oc(C=>C.setEvents),m=oc(C=>C.set),p=oc(C=>C.get),x=oc(C=>C.performance),_=e||f,b=r||v.connected||g.domElement,S=P.useMemo(()=>new Hmt(_),[_]);return DP(()=>{S.enabled&&S.update()},-1),P.useEffect(()=>(s&&S.connect(s===!0?b:s),S.connect(b),()=>void S.dispose()),[s,b,n,S,u]),P.useEffect(()=>{const C=T=>{u(),n&&x.regress(),o&&o(T)},A=T=>{a&&a(T)},M=T=>{l&&l(T)};return S.addEventListener("change",C),S.addEventListener("start",A),S.addEventListener("end",M),()=>{S.removeEventListener("start",A),S.removeEventListener("end",M),S.removeEventListener("change",C)}},[o,a,l,S,u,y]),P.useEffect(()=>{if(t){const C=p().controls;return m({controls:S}),()=>m({controls:C})}},[t,S]),P.createElement("primitive",gh({ref:d,object:S,enableDamping:i},c))}),Xmt=Vmt({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new ht,sectionColor:new ht,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new le,worldPlanePosition:new le},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Gmt>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),qmt=P.forwardRef(({args:t,cellColor:e="#000000",sectionColor:n="#2080ff",cellSize:r=.5,sectionSize:i=1,followCamera:s=!1,infiniteGrid:o=!1,fadeDistance:a=100,fadeStrength:l=1,fadeFrom:c=1,cellThickness:d=.5,sectionThickness:u=1,side:f=Ui,...g},v)=>{sfe({GridMaterial:Xmt});const y=P.useRef(null);P.useImperativeHandle(v,()=>y.current,[]);const m=new il,p=new le(0,1,0),x=new le(0,0,0);DP(S=>{m.setFromNormalAndCoplanarPoint(p,x).applyMatrix4(y.current.matrixWorld);const C=y.current.material,A=C.uniforms.worldCamProjPosition,M=C.uniforms.worldPlanePosition;m.projectPoint(S.camera.position,A.value),M.value.set(0,0,0).applyMatrix4(y.current.matrixWorld)});const _={cellSize:r,sectionSize:i,cellColor:e,sectionColor:n,cellThickness:d,sectionThickness:u},b={fadeDistance:a,fadeStrength:l,fadeFrom:c,infiniteGrid:o,followCamera:s};return P.createElement("mesh",gh({ref:y,frustumCulled:!1},g),P.createElement("gridMaterial",gh({transparent:!0,"extensions-derivatives":!0,side:f},_,b)),P.createElement("planeGeometry",{args:t}))});function Cfe(t,e){const n=t+"Geometry";return P.forwardRef(({args:r,children:i,...s},o)=>{const a=P.useRef(null);return P.useImperativeHandle(o,()=>a.current),P.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),P.createElement("mesh",gh({ref:a},s),P.createElement(n,{attach:"geometry",args:r}),i)})}const Kmt=Cfe("box"),Mfe=Cfe("sphere");function Ymt(){return h.jsxs("mesh",{children:[h.jsx("boxGeometry",{args:[2,2,2]}),h.jsx("meshStandardMaterial",{color:"hsl(var(--primary))"})]})}function Zmt(){const[t,e]=P.useState("1"),{data:n}=Yr({queryKey:["/api/devices"],queryFn:async()=>{const f=await fetch("/api/devices");if(!f.ok)throw new Error("Network response was not ok");return f.json()}}),{toast:r}=$h(),i=Rl(),s=Nn({mutationFn:async f=>{const g=await fetch(`/api/devices/${f}/connect`,{method:"POST"});if(!g.ok)throw new Error("Failed to connect to device");return g.json()},onSuccess:()=>{r({title:"Device Connected",description:"Successfully connected to device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:f=>{r({title:"Error",description:`Failed to connect: ${f.message}`,variant:"destructive"})}}),o=Nn({mutationFn:async f=>{const g=await fetch(`/api/devices/${f}/disconnect`,{method:"POST"});if(!g.ok)throw new Error("Failed to disconnect from device");return g.json()},onSuccess:()=>{r({title:"Device Disconnected",description:"Successfully disconnected from device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:f=>{r({title:"Error",description:`Failed to disconnect: ${f.message}`,variant:"destructive"})}});Nn({mutationFn:async({deviceId:f,command:g})=>{const v=await fetch(`/api/devices/${f}/command`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:g})});if(!v.ok)throw new Error("Failed to send command");return v.json()},onSuccess:()=>{r({title:"Command Sent",description:"Command successfully sent to device."})},onError:f=>{r({title:"Error",description:`Failed to send command: ${f.message}`,variant:"destructive"})}});const a=Nn({mutationFn:async({deviceId:f,file:g})=>{const v=new FormData;v.append("file",g);const y=await fetch(`/api/devices/${f}/upload`,{method:"POST",body:v});if(!y.ok)throw new Error("Failed to upload file");return y.json()},onSuccess:()=>{r({title:"File Uploaded",description:"File successfully uploaded to device."})},onError:f=>{r({title:"Error",description:`Failed to upload file: ${f.message}`,variant:"destructive"})}}),[l,c]=P.useState({}),[d,u]=P.useState([]);return P.useEffect(()=>{if(!t)return;const f=window.location.protocol==="https:"?"wss:":"ws:",g=localStorage.getItem("access_token"),v=new WebSocket(`${f}//${window.location.host}/ws/telemetry/${t}?token=${g}`);return v.onopen=()=>{console.log(`Telemetry WebSocket connected for device ${t}`),u(y=>[...y,`[${new Date().toLocaleTimeString()}] Connected to telemetry stream.`])},v.onmessage=y=>{const m=JSON.parse(y.data);m.type==="telemetry"?c(m.payload):m.type==="log"&&u(p=>[...p,`[${new Date().toLocaleTimeString()}] ${m.payload}`])},v.onclose=()=>{console.log(`Telemetry WebSocket disconnected for device ${t}`),u(y=>[...y,`[${new Date().toLocaleTimeString()}] Disconnected from telemetry stream.`])},v.onerror=y=>{console.error(`Telemetry WebSocket error for device ${t}:`,y),u(m=>[...m,`[${new Date().toLocaleTimeString()}] Telemetry stream error.`])},()=>{v.close(),c({}),u([])}},[t]),h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(Ca,{className:"h-5 w-5 text-primary"}),"Device Control Center"]}),h.jsx(Wt,{children:"Monitor and control connected hardware devices"})]}),h.jsx(ct,{children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n==null?void 0:n.map(f=>h.jsxs(Ze,{className:`cursor-pointer hover-elevate ${t===f.id?"border-primary":""}`,onClick:()=>e(f.id),"data-testid":`card-device-${f.id}`,children:[h.jsxs(it,{className:"pb-3",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ot,{className:"text-sm",children:f.name}),h.jsx(zm,{status:f.status,size:"sm"})]}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(fn,{variant:"outline",className:"text-xs",children:f.type.toUpperCase()}),f.port&&h.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:f.port})]})]}),h.jsx(ct,{className:"flex justify-end gap-2",children:f.status==="connected"?h.jsx(Ge,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),o.mutate(f.id)},disabled:o.isPending,children:o.isPending?h.jsx(Ma,{className:"h-4 w-4 animate-spin"}):"Disconnect"}):h.jsx(Ge,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),s.mutate(f.id)},disabled:s.isPending,children:s.isPending?h.jsx(Ma,{className:"h-4 w-4 animate-spin"}):"Connect"})}),f.lastSeen&&h.jsx(ct,{children:h.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last seen: ",new Date(f.lastSeen).toLocaleString()]})})]},f.id))})})]}),h.jsxs(Qc,{defaultValue:"3d",children:[h.jsxs(Bl,{className:"grid w-full grid-cols-3",children:[h.jsxs(Mr,{value:"3d","data-testid":"tab-3d-viewer",children:[h.jsx(dx,{className:"h-4 w-4 mr-2"}),"3D Viewer"]}),h.jsxs(Mr,{value:"telemetry","data-testid":"tab-telemetry",children:[h.jsx(hi,{className:"h-4 w-4 mr-2"}),"Telemetry"]}),h.jsxs(Mr,{value:"upload","data-testid":"tab-upload",children:[h.jsx(Rm,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),h.jsx(yn,{value:"3d",className:"mt-4",children:h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"3D Model Viewer"}),h.jsx(Wt,{children:"Preview CAD/CAM designs and G-code toolpaths"})]}),h.jsxs(ct,{children:[h.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border overflow-hidden",children:h.jsx(wfe,{camera:{position:[5,5,5]},children:h.jsxs(P.Suspense,{fallback:null,children:[h.jsx("ambientLight",{intensity:.5}),h.jsx("directionalLight",{position:[10,10,5],intensity:1}),h.jsx(Ymt,{}),h.jsx(qmt,{args:[10,10],cellColor:"hsl(var(--muted-foreground))",sectionColor:"hsl(var(--primary))"}),h.jsx(Efe,{enablePan:!0,enableZoom:!0,enableRotate:!0})]})})}),h.jsxs("div",{className:"flex gap-2 mt-4",children:[h.jsx(Ge,{variant:"outline",size:"sm",children:"Load STL"}),h.jsx(Ge,{variant:"outline",size:"sm",children:"Load OBJ"}),h.jsx(Ge,{variant:"outline",size:"sm",children:"Load G-Code"}),h.jsx(Ge,{variant:"outline",size:"sm",className:"ml-auto",children:"Reset View"})]})]})]})}),h.jsx(yn,{value:"telemetry",className:"mt-4",children:h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Live Telemetry"}),h.jsx(Wt,{children:"Real-time device metrics and sensor data"})]}),h.jsxs(ct,{children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Temperature"}),h.jsx("div",{className:"text-2xl font-bold mt-1",children:l.temperature?`${l.temperature}C`:"N/A"})]}),h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Speed"}),h.jsx("div",{className:"text-2xl font-bold mt-1",children:l.speed?`${l.speed} RPM`:"N/A"})]}),h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Position X"}),h.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionX!==void 0?l.positionX:"N/A"})]}),h.jsxs("div",{className:"p-4 border rounded-lg",children:[h.jsx("div",{className:"text-sm text-muted-foreground",children:"Position Y"}),h.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionY!==void 0?l.positionY:"N/A"})]})]}),h.jsx("div",{className:"mt-4 p-4 bg-background/50 rounded-lg font-mono text-xs space-y-1 h-48 overflow-y-auto",children:d.map((f,g)=>h.jsx("div",{children:f},g))})]})]})}),h.jsx(yn,{value:"upload",className:"mt-4",children:h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Upload to Device"}),h.jsx(Wt,{children:"Upload G-code or firmware to connected device"})]}),h.jsxs(ct,{className:"space-y-4",children:[h.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:f=>{f.target.files&&f.target.files[0]&&t&&a.mutate({deviceId:t,file:f.target.files[0]})}}),h.jsxs("label",{htmlFor:"file-upload",className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer block",children:[h.jsx(Rm,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Drop G-code or firmware file here, or click to select"}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports .gcode, .nc, .hex, .bin formats"})]}),h.jsxs(Ge,{className:"w-full","data-testid":"button-upload-to-device",onClick:()=>{const f=document.getElementById("file-upload");f&&f.click()},disabled:!t||a.isPending,children:[a.isPending?h.jsx(Ma,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Rm,{className:"h-4 w-4 mr-2"}),"Upload to Device"]})]})]})})]})]})}function Qmt(){const{data:t}=Yr({queryKey:["/api/telemetry"],initialData:ole}),{data:e}=Yr({queryKey:["/api/jobs"],initialData:ile}),n=t.systemMetrics.cpu.map((i,s)=>({time:s,value:i})),r=t.systemMetrics.memory.map((i,s)=>({time:s,value:i}));return h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsx(Ze,{children:h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(oh,{className:"h-5 w-5 text-primary"}),"Resource Monitor"]}),h.jsx(Wt,{children:"System resources and job activity monitoring"})]})}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ot,{className:"text-sm text-muted-foreground",children:"CPU Usage"}),h.jsx(Ca,{className:"h-4 w-4 text-muted-foreground"})]})}),h.jsxs(ct,{children:[h.jsxs("div",{className:"text-3xl font-bold",children:[n[n.length-1].value,"%"]}),h.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Avg: ",Math.round(n.reduce((i,s)=>i+s.value,0)/n.length),"%"]})]})]}),h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ot,{className:"text-sm text-muted-foreground",children:"Memory Usage"}),h.jsx($ve,{className:"h-4 w-4 text-muted-foreground"})]})}),h.jsxs(ct,{children:[h.jsxs("div",{className:"text-3xl font-bold",children:[r[r.length-1].value,"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"12.8 GB / 16 GB"})]})]}),h.jsxs(Ze,{children:[h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ot,{className:"text-sm text-muted-foreground",children:"Active Jobs"}),h.jsx(hi,{className:"h-4 w-4 text-muted-foreground"})]})}),h.jsxs(ct,{children:[h.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.filter(i=>i.status==="running").length}),h.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e==null?void 0:e.filter(i=>i.status==="pending").length," pending"]})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"CPU Usage"}),h.jsx(Wt,{children:"Real-time CPU utilization"})]}),h.jsx(ct,{children:h.jsx(al,{width:"100%",height:200,children:h.jsxs(ote,{data:n,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorCpu",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),h.jsx(Ku,{strokeDasharray:"3 3",opacity:.1}),h.jsx(Qs,{dataKey:"time",tick:{fontSize:12}}),h.jsx(Js,{domain:[0,100],tick:{fontSize:12}}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Zc,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",fillOpacity:1,fill:"url(#colorCpu)"})]})})})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Memory Usage"}),h.jsx(Wt,{children:"RAM utilization over time"})]}),h.jsx(ct,{children:h.jsx(al,{width:"100%",height:200,children:h.jsxs(I0,{data:r,children:[h.jsx(Ku,{strokeDasharray:"3 3",opacity:.1}),h.jsx(Qs,{dataKey:"time",tick:{fontSize:12}}),h.jsx(Js,{domain:[0,100],tick:{fontSize:12}}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Do,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Job Activity"}),h.jsx(Wt,{children:"Current running and pending jobs"})]}),h.jsx(ct,{className:"space-y-3",children:e==null?void 0:e.map(i=>h.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm",children:i.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(fn,{variant:i.status==="running"?"default":i.status==="completed"?"secondary":"outline",className:"text-xs",children:i.status}),h.jsx("span",{className:"text-xs text-muted-foreground",children:i.type})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-sm font-mono font-medium",children:[i.progress,"%"]}),h.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(i.createdAt).toLocaleTimeString()})]})]},i.id))})]})]})}function Jmt({id:t,offset:e,color:n,speed:r}){const i=P.useRef(null);return DP(({clock:s})=>{const o=s.getElapsedTime()*r+e,a=5*Math.cos(o),l=5*Math.sin(o);i.current.position.set(a,0,l)}),h.jsxs(Mfe,{ref:i,args:[.3,32,32],children:[h.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.5}),h.jsx(JB,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function egt({id:t,position:e,color:n}){return h.jsxs(Kmt,{position:e,args:[.5,.5,.5],children:[h.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.2}),h.jsx(JB,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function tgt(){const t=P.useMemo(()=>[{id:"Agent-001",offset:0,color:"#33a0e8",speed:.5},{id:"Agent-002",offset:Math.PI/2,color:"#33e885",speed:.4},{id:"Agent-003",offset:Math.PI,color:"#e8335a",speed:.6},{id:"Agent-004",offset:3*Math.PI/2,color:"#e8e233",speed:.3}],[]),e=P.useMemo(()=>[{id:"Device-A",position:[3,2,-3],color:"#888"},{id:"Device-B",position:[-3,-2,3],color:"#888"},{id:"Device-C",position:[4,-1,4],color:"#888"}],[]);return h.jsxs(h.Fragment,{children:[h.jsx("ambientLight",{intensity:.2}),h.jsx("pointLight",{position:[10,10,10],intensity:1}),h.jsxs(Mfe,{args:[1,32,32],position:[0,0,0],children:[h.jsx("meshStandardMaterial",{color:"#fff",emissive:"#fff",emissiveIntensity:.8,roughness:.2,metalness:.8}),h.jsx(JB,{distanceFactor:10,position:[0,1.3,0],className:"text-white text-sm whitespace-nowrap",children:"MYNTRIX Core"})]}),t.map(n=>h.jsx(Jmt,{...n},n.id)),e.map(n=>h.jsx(egt,{...n},n.id)),h.jsx(Efe,{enablePan:!0,enableZoom:!0,enableRotate:!0}),h.jsx("gridHelper",{args:[20,20,"#555","#222"]})]})}function ngt(){return h.jsx("div",{className:"w-full h-[calc(100vh-200px)] bg-gray-900 rounded-lg overflow-hidden",children:h.jsx(wfe,{camera:{position:[0,5,12],fov:60},children:h.jsx(tgt,{})})})}const rgt=[{value:"agents",label:"Agent Manager",icon:bc},{value:"scheduler",label:"Task Scheduler",icon:MK},{value:"devices",label:"Device Control",icon:Ca},{value:"monitor",label:"Resource Monitor",icon:oh},{value:"3d-viz",label:"3D Visualization",icon:oh}];function igt(){const t=fA(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"agents",[i,s]=P.useState(r);P.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/myntrix?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"MYNTRIX Core"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"AI Core & Hardware Integration Platform"})]}),h.jsx(fn,{variant:"outline",children:"v1.8.2"})]})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs(Qc,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[h.jsx("div",{className:"border-b bg-card/50 px-6",children:h.jsx(Bl,{className:"bg-transparent h-12 w-full justify-start gap-1",children:rgt.map(a=>h.jsxs(Mr,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[h.jsx(a.icon,{className:"h-4 w-4"}),a.label]},a.value))})}),h.jsxs("div",{className:"flex-1 overflow-auto",children:[h.jsx(yn,{value:"agents",className:"h-full m-0 p-6",children:h.jsx(vot,{})}),h.jsx(yn,{value:"scheduler",className:"h-full m-0 p-6",children:h.jsx(_ot,{})}),h.jsx(yn,{value:"devices",className:"h-full m-0 p-6",children:h.jsx(Zmt,{})}),h.jsx(yn,{value:"monitor",className:"h-full m-0 p-6",children:h.jsx(Qmt,{})}),h.jsx(yn,{value:"3d-viz",className:"h-full m-0 p-6",children:h.jsx(ngt,{})})]})]})})]})}function sgt(){const[t,e]=P.useState(""),{data:n,isLoading:r,error:i}=Yr({queryKey:["/api/neosyntis/datasets"],queryFn:async()=>{const p=await fetch("/api/neosyntis/datasets");if(!p.ok)throw new Error("Network response was not ok");return p.json()}}),{toast:s}=$h(),o=Rl(),[a,l]=P.useState(""),[c,d]=P.useState(""),[u,f]=P.useState("custom"),g=Nn({mutationFn:async p=>{const x=await fetch("/api/neosyntis/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!x.ok)throw new Error("Failed to create dataset");return x.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]}),l(""),d(""),f("custom")},onError:p=>{s({title:"Error",description:`Failed to create dataset: ${p.message}`,variant:"destructive"})}}),v=Nn({mutationFn:async p=>{const x=new FormData;x.append("file",p);const _=await fetch("/api/neosyntis/datasets/upload",{method:"POST",body:x});if(!_.ok)throw new Error("Failed to upload dataset");return _.json()},onSuccess:()=>{s({title:"Dataset Uploaded",description:"Dataset file successfully uploaded."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to upload dataset: ${p.message}`,variant:"destructive"})}}),y=Nn({mutationFn:async p=>{const x=await fetch(`/api/neosyntis/datasets/${p}`,{method:"DELETE"});if(!x.ok)throw new Error("Failed to delete dataset");return x.json()},onSuccess:()=>{s({title:"Dataset Deleted",description:"Dataset has been successfully deleted."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to delete dataset: ${p.message}`,variant:"destructive"})}}),m=n==null?void 0:n.filter(p=>{var x;return p.name.toLowerCase().includes(t.toLowerCase())||((x=p.description)==null?void 0:x.toLowerCase().includes(t.toLowerCase()))});return r?h.jsx("div",{className:"p-6 text-center",children:"Loading datasets..."}):i?(console.error("Error loading datasets:",i),h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading datasets: ",i.message]})):(console.log("Datasets:",n),console.log("Filtered Datasets:",m),h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(vA,{className:"h-5 w-5 text-primary"}),"Dataset Management"]}),h.jsx(Wt,{className:"mt-1",children:"Create, manage, and deploy custom datasets for model fine-tuning"})]}),h.jsxs(n4,{children:[h.jsx(Hne,{asChild:!0,children:h.jsxs(Ge,{"data-testid":"button-create-dataset",children:[h.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Create Dataset"]})}),h.jsxs(MT,{children:[h.jsxs(r4,{children:[h.jsx(i4,{children:"Create New Dataset"}),h.jsx(s4,{children:"Build a custom dataset from scratch or import existing data"})]}),h.jsxs("div",{className:"space-y-4 pt-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Dataset Name"}),h.jsx(An,{placeholder:"My Custom Dataset","data-testid":"input-dataset-name",value:a,onChange:p=>l(p.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Description"}),h.jsx(An,{placeholder:"Dataset description...","data-testid":"input-dataset-description",value:c,onChange:p=>d(p.target.value)})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Type"}),h.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-dataset-type",value:u,onChange:p=>f(p.target.value),children:[h.jsx("option",{value:"custom",children:"Custom"}),h.jsx("option",{value:"qa",children:"Question-Answer"}),h.jsx("option",{value:"code",children:"Code Examples"}),h.jsx("option",{value:"text",children:"Text"}),h.jsx("option",{value:"structured",children:"Structured Data"})]})]}),h.jsxs("div",{className:"flex gap-2 pt-4",children:[h.jsx(Ge,{className:"flex-1","data-testid":"button-create",onClick:()=>g.mutate({name:a,description:c,type:u}),disabled:g.isPending||!a,children:g.isPending?h.jsx(Ma,{className:"h-4 w-4 mr-2 animate-spin"}):"Create"}),h.jsx(Ge,{variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"flex gap-3",children:[h.jsx(An,{placeholder:"Search datasets...",value:t,onChange:p=>e(p.target.value),className:"flex-1","data-testid":"input-search-datasets"}),h.jsx("input",{type:"file",id:"dataset-file-upload",className:"hidden",onChange:p=>{p.target.files&&p.target.files[0]&&v.mutate(p.target.files[0])}}),h.jsxs(Ge,{variant:"outline","data-testid":"button-import",onClick:()=>{const p=document.getElementById("dataset-file-upload");p&&p.click()},disabled:v.isPending,children:[v.isPending?h.jsx(Ma,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Rm,{className:"h-4 w-4 mr-2"}),"Import"]})]}),h.jsx("div",{className:"border rounded-lg",children:h.jsxs(DT,{children:[h.jsx(LT,{children:h.jsxs(ad,{children:[h.jsx(xi,{children:"Name"}),h.jsx(xi,{children:"Type"}),h.jsx(xi,{children:"Size"}),h.jsx(xi,{children:"Created"}),h.jsx(xi,{className:"text-right",children:"Actions"})]})}),h.jsx(jT,{children:(m==null?void 0:m.length)===0?h.jsx(ad,{children:h.jsx(fi,{colSpan:5,className:"text-center text-muted-foreground",children:"No datasets found. Create one or import from a file."})}):m==null?void 0:m.map(p=>h.jsxs(ad,{"data-testid":`row-dataset-${p.id}`,children:[h.jsx(fi,{children:h.jsxs("div",{children:[h.jsx("div",{className:"font-medium",children:p.name}),h.jsx("div",{className:"text-sm text-muted-foreground",children:p.description})]})}),h.jsx(fi,{children:h.jsx(fn,{variant:"outline",children:p.type})}),h.jsxs(fi,{className:"font-mono text-sm",children:[p.size.toLocaleString()," rows"]}),h.jsx(fi,{className:"text-sm text-muted-foreground",children:new Date(p.createdAt).toLocaleDateString()}),h.jsx(fi,{className:"text-right",children:h.jsxs("div",{className:"flex items-center justify-end gap-2",children:[h.jsx(Ge,{variant:"ghost",size:"sm","data-testid":`button-view-${p.id}`,children:"View"}),h.jsx(Ge,{variant:"ghost",size:"sm","data-testid":`button-export-${p.id}`,children:h.jsx(Fve,{className:"h-4 w-4"})}),h.jsx(Ge,{variant:"ghost",size:"sm","data-testid":`button-huggingface-${p.id}`,children:h.jsx(jI,{className:"h-4 w-4"})}),h.jsx(Ge,{variant:"ghost",size:"sm","data-testid":`button-delete-${p.id}`,onClick:()=>y.mutate(p.id),disabled:y.isPending,children:y.isPending?h.jsx(Ma,{className:"h-4 w-4 animate-spin"}):h.jsx(z_,{className:"h-4 w-4"})})]})})]},p.id))})]})}),h.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[h.jsxs("span",{children:["Showing ",m==null?void 0:m.length," of ",n==null?void 0:n.length," datasets"]}),h.jsxs(Ge,{variant:"outline",size:"sm",children:[h.jsx(jI,{className:"h-4 w-4 mr-2"}),"Push to HuggingFace"]})]})]})]}),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Dataset Injection"})}),h.jsxs(ct,{className:"text-sm text-muted-foreground space-y-2",children:[h.jsx("p",{children:"VAREON uses dataset injection for prompt enhancement. Before LLM inference, selected datasets are checked and relevant context is automatically injected into the prompt."}),h.jsx("p",{children:"This approach allows fine-tuning-like results without training custom models, perfect for using cloud LLM providers like OpenRouter, Gemini API, or HuggingFace Inference."})]})]})]}))}const ogt={id:"res-1",query:"Impact of AI on renewable energy",provider:"google",createdAt:new Date().toISOString(),summary:"AI is revolutionizing the renewable energy sector by optimizing grid management, improving forecasting for wind and solar, and accelerating the discovery of new materials for batteries and solar panels. This leads to increased efficiency, lower costs, and greater grid stability.",results:[{title:"How AI is transforming renewable energy - McKinsey",snippet:"AI can help optimize energy consumption, improve the accuracy of weather forecasting for renewables, and support the development of new clean energy technologies.",url:"#"},{title:"The Role of AI in the Energy Transition - BCG",snippet:"Artificial intelligence is a critical enabler for the energy transition, helping to integrate variable renewables and manage complex power grids.",url:"#"}],entities:[{type:"Organization",text:"McKinsey",count:1},{type:"Organization",text:"BCG",count:1},{type:"Person",text:"Sundar Pichai",count:0},{type:"Location",text:"California",count:0}],sentiment:{positive:85,neutral:10,negative:5}},agt=({type:t})=>{switch(t){case"Person":return h.jsx(rye,{className:"h-4 w-4 text-blue-400"});case"Organization":return h.jsx(Ove,{className:"h-4 w-4 text-green-400"});case"Location":return h.jsx(Xve,{className:"h-4 w-4 text-red-400"});default:return null}};function lgt(){const[t,e]=P.useState("Impact of AI on renewable energy"),[n,r]=P.useState("google");$h(),Rl();const{data:i,refetch:s,isLoading:o}=Yr({queryKey:["/api/search",t,n],queryFn:async()=>t.trim()?Promise.resolve(ogt):Promise.reject(new Error("Query is empty")),enabled:!1}),a=()=>{t.trim()&&s()};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(ml,{className:"h-5 w-5 text-primary"}),"Intelligent Search Engine"]}),h.jsx(Wt,{children:"Search the web with AI-powered summarization and knowledge extraction."})]}),h.jsx(ct,{className:"space-y-4",children:h.jsxs("div",{className:"flex gap-3",children:[h.jsxs(Al,{value:n,onValueChange:r,children:[h.jsx(ja,{className:"w-[180px]",children:h.jsx(Tl,{})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"google",children:"Google"}),h.jsx(un,{value:"bing",children:"Bing"})]})]}),h.jsx(An,{placeholder:"Enter your search query...",value:t,onChange:l=>e(l.target.value),onKeyDown:l=>l.key==="Enter"&&a(),className:"flex-1"}),h.jsxs(Ge,{onClick:a,disabled:o,children:[o?h.jsx(hi,{className:"h-4 w-4 animate-spin"}):h.jsx(ml,{className:"h-4 w-4"}),h.jsx("span",{className:"ml-2",children:"Search"})]})]})})]}),o&&h.jsx("div",{className:"text-center p-12",children:"Searching..."}),i?h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2 space-y-4",children:h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsxs(ot,{children:['Search Results for "',i.query,'"']})}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/10",children:[h.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[h.jsx(yA,{className:"h-4 w-4 text-primary mt-0.5"}),h.jsx("span",{className:"text-sm font-medium",children:"AI Summary"})]}),h.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.summary})]}),i.results.map((l,c)=>h.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[h.jsx(jI,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h5",{className:"font-medium text-sm truncate",children:l.title}),h.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:l.snippet}),h.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline mt-1 inline-block",children:l.url})]})]},c))]})]})}),h.jsx("div",{className:"lg:col-span-1 space-y-6",children:h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Knowledge Panel"})}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Extracted Entities"}),h.jsx("div",{className:"space-y-2",children:i.entities.filter(l=>l.count>0).map(l=>h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(agt,{type:l.type}),h.jsx("span",{children:l.text})]}),h.jsx(fn,{variant:"secondary",children:l.count})]},l.text))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-2",children:"Sentiment Analysis"}),h.jsx(al,{width:"100%",height:150,children:h.jsxs(YVe,{data:[{name:"Positive",value:i.sentiment.positive,fill:"#22c55e"},{name:"Neutral",value:i.sentiment.neutral,fill:"#a1a1aa"},{name:"Negative",value:i.sentiment.negative,fill:"#ef4444"}],layout:"vertical",children:[h.jsx(Qs,{type:"number",hide:!0}),h.jsx(Js,{type:"category",dataKey:"name",tickLine:!1,axisLine:!1,width:60,fontSize:12}),h.jsx(ui,{cursor:{fill:"rgba(128,128,128,0.1)"}}),h.jsx(Bh,{dataKey:"value",barSize:20})]})})]})]})]})})]}):!o&&h.jsx(Ze,{className:"p-12",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(ml,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),h.jsx("h3",{className:"text-lg font-medium",children:"No search results yet"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a query above to start searching"})]})})]})}const cgt={input:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-green-500",children:[h.jsx("div",{className:"text-xs font-bold text-green-600",children:"INPUT"}),h.jsx("div",{className:"text-sm",children:t.label})]}),llm:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-primary",children:[h.jsx("div",{className:"text-xs font-bold text-primary",children:"LLM"}),h.jsx("div",{className:"text-sm",children:t.label}),t.model&&h.jsx("div",{className:"text-xs text-muted-foreground",children:t.model})]}),action:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-accent",children:[h.jsx("div",{className:"text-xs font-bold text-accent",children:"ACTION"}),h.jsx("div",{className:"text-sm",children:t.label})]}),output:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-orange-500",children:[h.jsx("div",{className:"text-xs font-bold text-orange-600",children:"OUTPUT"}),h.jsx("div",{className:"text-sm",children:t.label})]}),delay:({data:t})=>h.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-yellow-500",children:[h.jsx("div",{className:"text-xs font-bold text-yellow-600",children:"DELAY"}),h.jsx("div",{className:"text-sm",children:t.label})]})};function ugt(){const{toast:t}=$h(),e=Rl(),[n,r]=P.useState(null),{data:i,isLoading:s,error:o}=Yr({queryKey:["workflow",n],queryFn:async()=>{if(!n)return{nodes:[],edges:[]};const p=await fetch(`/api/workflows/${n}`);if(!p.ok)throw new Error("Network response was not ok");return p.json()},enabled:!!n,initialData:{nodes:[],edges:[]}}),[a,l,c]=Gce(i.nodes),[d,u,f]=Xce(i.edges);P.useEffect(()=>{l(i.nodes),u(i.edges)},[i,l,u]);const g=P.useCallback(p=>u(x=>eB(p,x)),[u]),v=Nn({mutationFn:async p=>{const x=n?"PUT":"POST",_=n?`/api/workflows/${n}`:"/api/workflows",b=await fetch(_,{method:x,headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!b.ok)throw new Error("Failed to save workflow");return b.json()},onSuccess:p=>{t({title:"Workflow Saved",description:"Workflow has been successfully saved."}),!n&&p.id&&r(p.id),e.invalidateQueries({queryKey:["workflow",n]})},onError:p=>{t({title:"Error",description:`Failed to save workflow: ${p.message}`,variant:"destructive"})}}),y=Nn({mutationFn:async p=>{const x=await fetch(`/api/workflows/${p}/run`,{method:"POST"});if(!x.ok)throw new Error("Failed to run workflow");return x.json()},onSuccess:()=>{t({title:"Workflow Started",description:"Workflow execution initiated."})},onError:p=>{t({title:"Error",description:`Failed to run workflow: ${p.message}`,variant:"destructive"})}}),m=Nn({mutationFn:async p=>{if(!n)throw new Error("Cannot add node without a workflow. Please save the workflow first.");const x=await fetch(`/api/workflows/${n}/nodes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!x.ok)throw new Error("Failed to add node");return x.json()},onSuccess:p=>{l(x=>x.concat(p)),t({title:"Node Added",description:"New node added to workflow."})},onError:p=>{t({title:"Error",description:`Failed to add node: ${p.message}`,variant:"destructive"})}});return s?h.jsx("div",{className:"p-6 text-center",children:"Loading workflow..."}):o?h.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading workflow: ",o.message]}):h.jsxs("div",{className:"space-y-6",children:[h.jsx(Ze,{children:h.jsx(it,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(AE,{className:"h-5 w-5 text-primary"}),"Workflow Builder"]}),h.jsx(Wt,{className:"mt-1",children:"Create agentic workflows with drag-and-drop node editor"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ge,{variant:"outline","data-testid":"button-add-node",onClick:()=>m.mutate({id:`node-${Date.now()}`,type:"llm",position:{x:Math.random()*250,y:Math.random()*250},data:{label:"New LLM Node",model:"GPT-3.5"}}),disabled:m.isPending||!n,children:[m.isPending?h.jsx(hi,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Add Node"]}),h.jsxs(Ge,{variant:"outline","data-testid":"button-save-workflow",onClick:()=>v.mutate({nodes:a,edges:d}),disabled:v.isPending,children:[v.isPending?h.jsx(hi,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(LK,{className:"h-4 w-4 mr-2"}),"Save"]}),h.jsxs(Ge,{"data-testid":"button-run-workflow",onClick:()=>n&&y.mutate(n),disabled:y.isPending||!n,children:[y.isPending?h.jsx(hi,{className:"h-4 w-4 mr-2 animate-spin"}):h.jsx(ug,{className:"h-4 w-4 mr-2"}),"Run"]})]})]})})}),h.jsx(Ze,{className:"h-[600px]",children:h.jsx(ct,{className:"h-full p-0",children:h.jsxs(Wce,{nodes:a,edges:d,onNodesChange:c,onEdgesChange:f,onConnect:g,nodeTypes:cgt,fitView:!0,className:"bg-background h-[500px]",children:[h.jsx(Zce,{}),h.jsx(Jce,{className:"bg-card border"}),h.jsx(Kce,{gap:12,size:1})]})})}),h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Available Node Types"})}),h.jsx(ct,{children:h.jsxs("div",{className:"flex flex-wrap gap-2",children:[h.jsx(fn,{variant:"outline",className:"border-green-500 text-green-600",children:"Input - Entry point"}),h.jsx(fn,{variant:"outline",className:"border-primary text-primary",children:"LLM - AI Processing"}),h.jsx(fn,{variant:"outline",className:"border-accent text-accent",children:"Action - Execute Task"}),h.jsx(fn,{variant:"outline",className:"border-orange-500 text-orange-600",children:"Output - Result"}),h.jsx(fn,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Delay - Wait Timer"})]})})]})]})}const c9=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function dgt(){const{data:t}=Yr({queryKey:["/api/telemetry"],initialData:ole}),{data:e}=Yr({queryKey:["/api/jobs"],initialData:ile});return h.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[h.jsx(Ze,{children:h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(oh,{className:"h-5 w-5 text-primary"}),"Telemetry Dashboard"]}),h.jsx(Wt,{children:"Real-time metrics, statistics, and system performance monitoring"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Token Usage (Last 7 Days)"})}),h.jsx(ct,{children:h.jsx(al,{width:"100%",height:250,children:h.jsxs(ote,{data:t.tokenUsage,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),h.jsx(Ku,{strokeDasharray:"3 3",opacity:.1}),h.jsx(Qs,{dataKey:"date",tick:{fontSize:12}}),h.jsx(Js,{tick:{fontSize:12}}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Zc,{type:"monotone",dataKey:"tokens",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorTokens)"})]})})})]}),h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Model Usage Distribution"})}),h.jsx(ct,{children:h.jsx(al,{width:"100%",height:250,children:h.jsxs(ZVe,{children:[h.jsx(Yc,{data:t.modelUsage,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:r})=>`${n} ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:t.modelUsage.map((n,r)=>h.jsx(KA,{fill:c9[r%c9.length]},`cell-${r}`))}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}})]})})})]})]}),h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"System Resources"})}),h.jsx(ct,{children:h.jsxs(Qc,{defaultValue:"cpu",children:[h.jsxs(Bl,{children:[h.jsx(Mr,{value:"cpu",children:"CPU"}),h.jsx(Mr,{value:"memory",children:"Memory"}),h.jsx(Mr,{value:"network",children:"Network"})]}),h.jsx(yn,{value:"cpu",className:"mt-4",children:h.jsx(al,{width:"100%",height:200,children:h.jsxs(I0,{data:t.systemMetrics.cpu.map((n,r)=>({time:r,value:n})),children:[h.jsx(Ku,{strokeDasharray:"3 3",opacity:.1}),h.jsx(Qs,{dataKey:"time"}),h.jsx(Js,{domain:[0,100]}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Do,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",strokeWidth:2})]})})}),h.jsx(yn,{value:"memory",className:"mt-4",children:h.jsx(al,{width:"100%",height:200,children:h.jsxs(I0,{data:t.systemMetrics.memory.map((n,r)=>({time:r,value:n})),children:[h.jsx(Ku,{strokeDasharray:"3 3",opacity:.1}),h.jsx(Qs,{dataKey:"time"}),h.jsx(Js,{domain:[0,100]}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Do,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})}),h.jsx(yn,{value:"network",className:"mt-4",children:h.jsx(al,{width:"100%",height:200,children:h.jsxs(I0,{data:t.systemMetrics.network.map((n,r)=>({time:r,value:n})),children:[h.jsx(Ku,{strokeDasharray:"3 3",opacity:.1}),h.jsx(Qs,{dataKey:"time"}),h.jsx(Js,{}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Do,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-3))",strokeWidth:2})]})})})]})})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(hi,{className:"h-5 w-5 text-primary"}),"Active Jobs"]}),h.jsx(Wt,{children:"Real-time job execution status and logs"})]}),h.jsx(ct,{className:"space-y-4",children:e==null?void 0:e.map(n=>h.jsxs(Ze,{className:"bg-card/50",children:[h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ot,{className:"text-sm",children:n.name}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:`h-2 w-2 rounded-full ${n.status==="running"?"bg-green-500":n.status==="completed"?"bg-blue-500":"bg-yellow-500"}`}),h.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:n.status})]})]})}),h.jsx(ct,{children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Progress"}),h.jsxs("span",{className:"font-mono font-medium",children:[n.progress,"%"]})]}),h.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${n.progress}%`}})}),h.jsxs("div",{className:"mt-3 p-3 bg-background/50 rounded-md font-mono text-xs",children:[h.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job started"]}),n.status==="running"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"text-blue-500",children:["[",new Date(Date.now()-3e4).toLocaleTimeString(),"] Processing data..."]}),h.jsxs("div",{className:"text-yellow-500",children:["[",new Date(Date.now()-1e4).toLocaleTimeString(),"] ",n.progress,"% complete"]})]}),n.status==="completed"&&h.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job completed successfully"]})]})]})})]},n.id))})]})]})}function fgt(){const[t,e]=P.useState("cnc"),[n,r]=P.useState("cad");return h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(Ca,{className:"h-5 w-5 text-primary"}),"Device Integration Settings"]}),h.jsx(Wt,{children:"Configure connections to CNC machines, ESP32, Arduino, and other hardware"})]}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Device Type"}),h.jsxs(Al,{value:t,onValueChange:i=>e(i),children:[h.jsx(ja,{"data-testid":"select-device-type",children:h.jsx(Tl,{})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"cnc",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(dx,{className:"h-4 w-4"}),"CNC Machine"]})}),h.jsx(un,{value:"esp32",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ca,{className:"h-4 w-4"}),"ESP32"]})}),h.jsx(un,{value:"arduino",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Ca,{className:"h-4 w-4"}),"Arduino"]})})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Serial Port"}),h.jsxs(Al,{children:[h.jsx(ja,{"data-testid":"select-serial-port",children:h.jsx(Tl,{placeholder:"Select port..."})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"/dev/ttyUSB0",children:"/dev/ttyUSB0"}),h.jsx(un,{value:"/dev/ttyUSB1",children:"/dev/ttyUSB1"}),h.jsx(un,{value:"/dev/ttyUSB2",children:"/dev/ttyUSB2"}),h.jsx(un,{value:"COM3",children:"COM3"}),h.jsx(un,{value:"COM4",children:"COM4"})]})]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ge,{"data-testid":"button-connect-device",children:[h.jsx(nye,{className:"h-4 w-4 mr-2"}),"Connect"]}),h.jsx(Ge,{variant:"outline",children:"Disconnect"}),h.jsx(Ge,{variant:"outline",children:"Test Connection"})]}),h.jsxs("div",{className:"flex items-center gap-4 p-4 bg-card/50 rounded-lg border",children:[h.jsx(zm,{status:"connected"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium text-sm",children:"Connection Status"}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"Device connected on /dev/ttyUSB0"})]}),h.jsx(fn,{variant:"outline",children:"115200 baud"})]})]})]}),t==="cnc"?h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"CNC Control Interface"}),h.jsx(Wt,{children:"CAD/CAM mode for G-code generation and machine control"})]}),h.jsx(ct,{children:h.jsxs(Qc,{value:n,onValueChange:i=>r(i),children:[h.jsxs(Bl,{children:[h.jsx(Mr,{value:"cad","data-testid":"tab-cad",children:"CAD Mode"}),h.jsx(Mr,{value:"cam","data-testid":"tab-cam",children:"CAM Mode"})]}),h.jsxs(yn,{value:"cad",className:"mt-4 space-y-4",children:[h.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border border-dashed flex items-center justify-center",children:h.jsxs("div",{className:"text-center space-y-2",children:[h.jsx(dx,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"CAD Viewer"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"3D model viewer would appear here"})]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ge,{variant:"outline",children:"Import STL"}),h.jsx(Ge,{variant:"outline",children:"Import OBJ"}),h.jsx(Ge,{children:"Generate Toolpath"})]})]}),h.jsx(yn,{value:"cam",className:"mt-4 space-y-4",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Tool Diameter (mm)"}),h.jsx(An,{type:"number",defaultValue:"6"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Spindle Speed (RPM)"}),h.jsx(An,{type:"number",defaultValue:"12000"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Feed Rate (mm/min)"}),h.jsx(An,{type:"number",defaultValue:"800"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"Depth Per Pass (mm)"}),h.jsx(An,{type:"number",defaultValue:"2"})]})]}),h.jsx(Ge,{className:"w-full",children:"Generate G-Code"})]})})]})})]}):h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(ME,{className:"h-5 w-5 text-primary"}),"Integrated Development Environment"]}),h.jsxs(Wt,{children:["Code editor for ",t.toUpperCase()," development"]})]}),h.jsxs(ct,{className:"space-y-4",children:[h.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border font-mono text-sm p-4 overflow-auto",children:h.jsxs("div",{className:"space-y-1",children:[h.jsxs("div",{className:"text-green-500",children:["// ",t.toUpperCase()," Sketch"]}),h.jsx("div",{children:"void setup() {"}),h.jsx("div",{className:"pl-4",children:"Serial.begin(115200);"}),h.jsx("div",{className:"pl-4",children:"pinMode(LED_BUILTIN, OUTPUT);"}),h.jsx("div",{children:"}"}),h.jsx("div",{className:"mt-2",children:"void loop() {"}),h.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, HIGH);"}),h.jsx("div",{className:"pl-4",children:"delay(1000);"}),h.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, LOW);"}),h.jsx("div",{className:"pl-4",children:"delay(1000);"}),h.jsx("div",{children:"}"})]})}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ge,{children:[h.jsx(ME,{className:"h-4 w-4 mr-2"}),"Verify"]}),h.jsx(Ge,{variant:"outline",children:"Upload to Device"}),h.jsx(Ge,{variant:"outline",children:"Serial Monitor"})]})]})]})]})}const u9=[{id:"reasoning",label:"Reasoning Model",description:"Deep thinking and problem solving"},{id:"code_generation",label:"Code Generation",description:"Generate and refactor code"},{id:"conversation",label:"Conversation",description:"Natural dialogue and chat"},{id:"shell_conversion",label:"Shell Conversion",description:"Natural language to shell commands"},{id:"summarization",label:"Summarization",description:"Condense and summarize content"},{id:"intent_detection",label:"Intent Detection",description:"Understand user intentions"},{id:"general",label:"General Purpose",description:"Universal model for naming files, etc"}];function hgt(){const[t,e]=P.useState(!1),[n,r]=P.useState("openrouter");return h.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(bd,{className:"h-5 w-5 text-primary"}),"COGNISYS Configuration"]}),h.jsx(Wt,{children:"Configure API providers, model assignments, and reasoning settings"})]}),h.jsx(ct,{className:"space-y-6",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"LLM Provider"}),h.jsxs(Al,{value:n,onValueChange:r,children:[h.jsx(ja,{"data-testid":"select-provider",children:h.jsx(Tl,{})}),h.jsxs(Fa,{children:[h.jsx(un,{value:"openrouter",children:"OpenRouter"}),h.jsx(un,{value:"openai",children:"OpenAI"}),h.jsx(un,{value:"anthropic",children:"Anthropic"}),h.jsx(un,{value:"google",children:"Google Gemini API"}),h.jsx(un,{value:"huggingface",children:"HuggingFace Inference"}),h.jsx(un,{value:"local",children:"Local Deployment"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"API Key"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(An,{type:t?"text":"password",placeholder:"sk-...","data-testid":"input-api-key"}),h.jsx(Ge,{variant:"outline",size:"icon",onClick:()=>e(!t),"data-testid":"button-toggle-api-key",children:t?h.jsx(NK,{className:"h-4 w-4"}):h.jsx(RK,{className:"h-4 w-4"})})]})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"API Base URL (optional)"}),h.jsx(An,{placeholder:"https://api.openrouter.ai/v1","data-testid":"input-api-url"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Organization ID (optional)"}),h.jsx(An,{placeholder:"org-...","data-testid":"input-org-id"})]})]})]})})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Model Assignment per Role"}),h.jsx(Wt,{children:"Assign specific models to different tasks for optimal performance"})]}),h.jsx(ct,{className:"space-y-4",children:u9.map(i=>h.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium",children:i.label}),h.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]}),h.jsxs(Al,{defaultValue:"gpt-4",children:[h.jsx(ja,{className:"w-[200px]","data-testid":`select-model-${i.id}`,children:h.jsx(Tl,{})}),h.jsx(Fa,{children:sle.filter(s=>s.isActive).map(s=>h.jsx(un,{value:s.id,children:s.name},s.id))})]})]},i.id))})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Reasoning Configuration"}),h.jsx(Wt,{children:"Enable reasoning for specific models to improve accuracy"})]}),h.jsx(ct,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("p",{className:"text-sm text-muted-foreground",children:"Reasoning adds a thinking step before responses. Enable selectively to balance accuracy with token usage and inference speed."}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:u9.map(i=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsx(Vn,{htmlFor:`reasoning-${i.id}`,className:"flex-1 cursor-pointer",children:i.label}),h.jsx(k4,{id:`reasoning-${i.id}`,"data-testid":`switch-reasoning-${i.id}`})]},i.id))})]})})]}),h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Advanced Settings"})}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Token Limit"}),h.jsx(An,{type:"number",defaultValue:"4096","data-testid":"input-token-limit"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Temperature"}),h.jsx(An,{type:"number",step:"0.1",min:"0",max:"2",defaultValue:"0.7","data-testid":"input-temperature"})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Search Engine API Key (optional)"}),h.jsx(An,{placeholder:"For Serper or similar providers","data-testid":"input-search-api-key"})]}),h.jsx(Ge,{className:"w-full","data-testid":"button-save-config",children:"Save Configuration"})]})]})]})}function pgt(){const t=[{name:"VAREON",color:"bg-blue-500",connected:!0},{name:"NEOSYNTIS",color:"bg-purple-500",connected:!0},{name:"MYNTRIX",color:"bg-green-500",connected:!0},{name:"COGNISYS",color:"bg-orange-500",connected:!0},{name:"ARCANA",color:"bg-pink-500",connected:!0}];return h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsx(Ze,{children:h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(dx,{className:"h-5 w-5 text-primary"}),"Ecosystem Architecture Builder"]}),h.jsx(Wt,{children:"Visualize and customize your VAREON ecosystem architecture"})]})}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"System Architecture"}),h.jsx(Wt,{children:"Visual representation of module connections and data flow"})]}),h.jsx(ct,{children:h.jsx("div",{className:"h-96 bg-gradient-to-br from-primary/5 via-background to-accent/5 rounded-lg border border-dashed flex items-center justify-center relative overflow-hidden",children:h.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:h.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 600",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"line-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[h.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"}),h.jsx("stop",{offset:"50%",stopColor:"hsl(var(--accent))",stopOpacity:"0.5"}),h.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"})]})}),h.jsx("line",{x1:"400",y1:"100",x2:"400",y2:"200",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"400",y1:"250",x2:"250",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"400",y1:"250",x2:"550",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"250",y1:"400",x2:"150",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"250",y1:"400",x2:"350",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("line",{x1:"550",y1:"400",x2:"650",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),h.jsx("circle",{cx:"400",cy:"100",r:"60",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"3"}),h.jsx("text",{x:"400",y:"110",textAnchor:"middle",className:"fill-current text-sm font-bold",children:"VAREON"}),h.jsx("circle",{cx:"400",cy:"250",r:"50",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"2"}),h.jsx("text",{x:"400",y:"260",textAnchor:"middle",className:"fill-current text-xs font-medium",children:"COGNISYS"}),h.jsx("circle",{cx:"250",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),h.jsx("text",{x:"250",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"NEOSYNTIS"}),h.jsx("circle",{cx:"550",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),h.jsx("text",{x:"550",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"MYNTRIX"}),h.jsx("circle",{cx:"150",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),h.jsx("text",{x:"150",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Search"}),h.jsx("circle",{cx:"350",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),h.jsx("text",{x:"350",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Workflow"}),h.jsx("circle",{cx:"650",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-4))",strokeWidth:"2"}),h.jsx("text",{x:"650",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"ARCANA"})]})})})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsxs(ot,{className:"flex items-center gap-2 text-base",children:[h.jsx($j,{className:"h-5 w-5 text-primary"}),"Active Modules"]})}),h.jsx(ct,{className:"space-y-3",children:t.map(e=>h.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:`h-3 w-3 rounded-full ${e.color}`}),h.jsx("span",{className:"font-medium",children:e.name})]}),h.jsx(fn,{variant:e.connected?"default":"outline",children:e.connected?"Connected":"Disconnected"})]},e.name))})]}),h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsxs(ot,{className:"flex items-center gap-2 text-base",children:[h.jsx(bd,{className:"h-5 w-5 text-primary"}),"Integration Points"]})}),h.jsxs(ct,{className:"space-y-3",children:[h.jsxs("div",{className:"p-3 border rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"NEOSYNTIS  ARCANA"}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Search results auto-save to chat memory"})]}),h.jsxs("div",{className:"p-3 border rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"ARCANA  MYNTRIX"}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Chat commands trigger agent jobs"})]}),h.jsxs("div",{className:"p-3 border rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"COGNISYS  ALL"}),h.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Model routing for all modules"})]}),h.jsxs(Ge,{variant:"outline",className:"w-full mt-2","data-testid":"button-add-integration",children:[h.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Add Custom Integration"]})]})]})]}),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Custom Architecture"})}),h.jsxs(ct,{className:"text-sm text-muted-foreground space-y-2",children:[h.jsx("p",{children:"This is a placeholder for advanced ecosystem customization. You can define:"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[h.jsx("li",{children:"Custom module relationships and data flows"}),h.jsx("li",{children:"Conditional routing rules between components"}),h.jsx("li",{children:"Event-driven triggers and webhooks"}),h.jsx("li",{children:"Custom API endpoints and integrations"}),h.jsx("li",{children:"Resource allocation and scaling policies"})]})]})]})]})}const mgt=[{name:"Llama-3-8B-Instruct",status:"deployed",uptime:"15d 4h",requests:12453},{name:"Mistral-7B-v0.3",status:"deploying",progress:67,eta:"5 min"},{name:"CodeLlama-13B",status:"pending",queuePosition:3}];function ggt(){return h.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(n$,{className:"h-5 w-5 text-primary"}),"Model Deployment"]}),h.jsx(Wt,{children:"Deploy and manage self-hosted LLM models"})]}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Model Name"}),h.jsx(An,{placeholder:"llama-3-8b-instruct","data-testid":"input-model-name"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Model Format"}),h.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-model-format",children:[h.jsx("option",{value:"gguf",children:"GGUF"}),h.jsx("option",{value:"safetensors",children:"SafeTensors"}),h.jsx("option",{value:"pytorch",children:"PyTorch"})]})]})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{children:"Upload Model File"}),h.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer",children:[h.jsx(Rm,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),h.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop your model file here, or click to browse"}),h.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports GGUF, SafeTensors, PyTorch formats (max 50GB)"})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ge,{className:"flex-1","data-testid":"button-deploy-model",children:[h.jsx(n$,{className:"h-4 w-4 mr-2"}),"Deploy Model"]}),h.jsx(Ge,{variant:"outline","data-testid":"button-import-huggingface",children:"Import from HuggingFace"})]})]})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Active Deployments"}),h.jsx(Wt,{children:"Monitor and manage deployed models"})]}),h.jsx(ct,{className:"space-y-4",children:mgt.map(t=>{var e;return h.jsxs(Ze,{className:"bg-card/50",children:[h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx(ot,{className:"text-sm",children:t.name}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.status==="deployed"&&h.jsxs(h.Fragment,{children:[h.jsxs(fn,{variant:"default",className:"gap-1",children:[h.jsx(AK,{className:"h-3 w-3"}),"Deployed"]}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.uptime," uptime"]})]}),t.status==="deploying"&&h.jsxs(h.Fragment,{children:[h.jsxs(fn,{variant:"secondary",className:"gap-1",children:[h.jsx(PK,{className:"h-3 w-3"}),"Deploying"]}),h.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA ",t.eta]})]}),t.status==="pending"&&h.jsxs(fn,{variant:"outline",children:["Queue #",t.queuePosition]})]})]}),t.status==="deployed"&&h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-sm font-mono font-medium",children:(e=t.requests)==null?void 0:e.toLocaleString()}),h.jsx("div",{className:"text-xs text-muted-foreground",children:"requests"})]})]})}),h.jsxs(ct,{children:[t.status==="deploying"&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Progress"}),h.jsxs("span",{className:"font-medium",children:[t.progress,"%"]})]}),h.jsx(x4,{value:t.progress})]}),t.status==="deployed"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsx(Ge,{variant:"outline",size:"sm",children:"View Logs"}),h.jsx(Ge,{variant:"outline",size:"sm",children:"Metrics"}),h.jsx(Ge,{variant:"outline",size:"sm",className:"text-destructive",children:"Stop"})]}),t.status==="pending"&&h.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for available resources..."})]})]},t.name)})})]}),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Self-Hosted Deployment Benefits"})}),h.jsx(ct,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"Complete data privacy and control"}),h.jsx("li",{children:"No API rate limits or usage costs"}),h.jsx("li",{children:"Custom fine-tuned models"}),h.jsx("li",{children:"Lower latency for local inference"}),h.jsx("li",{children:"Independence from cloud LLM providers"})]})})]})]})}const vgt=[{epoch:1,loss:2.4,accuracy:.45,val_loss:2.6,val_accuracy:.42},{epoch:2,loss:1.8,accuracy:.58,val_loss:2.1,val_accuracy:.51},{epoch:3,loss:1.3,accuracy:.68,val_loss:1.7,val_accuracy:.63},{epoch:4,loss:.9,accuracy:.76,val_loss:1.4,val_accuracy:.71},{epoch:5,loss:.6,accuracy:.84,val_loss:1.2,val_accuracy:.78}],ygt=[{name:"GPT-2 Fine-tune",status:"training",epoch:"3/10",accuracy:.76,eta:"2h 15m"},{name:"BERT QA Model",status:"completed",accuracy:.92,duration:"4h 32m"},{name:"Code Generation",status:"paused",epoch:"5/20",accuracy:.68}];function xgt(){return h.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[h.jsx(Ze,{children:h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(fv,{className:"h-5 w-5 text-primary"}),"Machine Learning Dashboard"]}),h.jsx(Wt,{children:"Train and monitor custom ML models for self-deployment"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs(Ze,{className:"lg:col-span-2",children:[h.jsxs(it,{children:[h.jsx(ot,{className:"text-base",children:"Training Metrics"}),h.jsx(Wt,{children:"Loss and accuracy over epochs"})]}),h.jsx(ct,{children:h.jsx(al,{width:"100%",height:300,children:h.jsxs(I0,{data:vgt,children:[h.jsx(Ku,{strokeDasharray:"3 3",opacity:.1}),h.jsx(Qs,{dataKey:"epoch",label:{value:"Epoch",position:"insideBottom",offset:-5}}),h.jsx(Js,{}),h.jsx(ui,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),h.jsx(Vf,{}),h.jsx(Do,{type:"monotone",dataKey:"loss",stroke:"hsl(var(--chart-1))",name:"Training Loss",strokeWidth:2}),h.jsx(Do,{type:"monotone",dataKey:"val_loss",stroke:"hsl(var(--chart-1))",strokeDasharray:"5 5",name:"Val Loss",strokeWidth:2}),h.jsx(Do,{type:"monotone",dataKey:"accuracy",stroke:"hsl(var(--chart-2))",name:"Training Acc",strokeWidth:2}),h.jsx(Do,{type:"monotone",dataKey:"val_accuracy",stroke:"hsl(var(--chart-2))",strokeDasharray:"5 5",name:"Val Acc",strokeWidth:2})]})})})]}),h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"Current Training"})}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Model"}),h.jsx("span",{className:"font-medium",children:"GPT-2 Fine-tune"})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Epoch"}),h.jsx("span",{className:"font-mono",children:"3 / 10"})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"Accuracy"}),h.jsx("span",{className:"font-mono",children:"76%"})]}),h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-muted-foreground",children:"ETA"}),h.jsx("span",{className:"font-mono",children:"2h 15m"})]})]}),h.jsx(x4,{value:30}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(Ge,{variant:"outline",size:"sm",className:"flex-1","data-testid":"button-pause-training",children:[h.jsx(DK,{className:"h-4 w-4 mr-2"}),"Pause"]}),h.jsx(Ge,{variant:"outline",size:"sm","data-testid":"button-training-settings",children:h.jsx(dg,{className:"h-4 w-4"})})]})]})]})]}),h.jsxs(Ze,{children:[h.jsx(it,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx(ot,{className:"text-base",children:"Training Experiments"}),h.jsx(Wt,{children:"Manage and monitor ML training runs"})]}),h.jsxs(Ge,{"data-testid":"button-new-experiment",children:[h.jsx(ug,{className:"h-4 w-4 mr-2"}),"New Experiment"]})]})}),h.jsx(ct,{className:"space-y-4",children:ygt.map(t=>h.jsxs(Ze,{className:"bg-card/50",children:[h.jsx(it,{className:"pb-3",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx(ot,{className:"text-sm",children:t.name}),h.jsx(fn,{variant:t.status==="training"?"default":t.status==="completed"?"secondary":"outline",children:t.status})]})}),h.jsx(ct,{children:h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.status==="training"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Epoch"}),h.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),h.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"ETA"}),h.jsx("div",{className:"font-mono font-medium",children:t.eta})]})]}),t.status==="completed"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),h.jsxs("div",{className:"font-mono font-medium text-green-600",children:[(t.accuracy*100).toFixed(1),"%"]})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Duration"}),h.jsx("div",{className:"font-mono font-medium",children:t.duration})]}),h.jsx("div",{className:"flex items-end justify-end",children:h.jsx(Ge,{variant:"outline",size:"sm",children:"Deploy"})})]}),t.status==="paused"&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Progress"}),h.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),h.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),h.jsx("div",{className:"flex items-end justify-end",children:h.jsx(Ge,{variant:"outline",size:"sm",children:h.jsx(ug,{className:"h-4 w-4"})})})]})]})})]},t.name))})]}),h.jsxs(Ze,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[h.jsx(it,{children:h.jsx(ot,{className:"text-base",children:"ML Training Features"})}),h.jsx(ct,{className:"text-sm text-muted-foreground space-y-2",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"Fine-tune pre-trained models on custom datasets"}),h.jsx("li",{children:"Real-time training metrics and visualization"}),h.jsx("li",{children:"Automatic checkpointing and resume capability"}),h.jsx("li",{children:"Hyperparameter optimization and tuning"}),h.jsx("li",{children:"Model evaluation and comparison tools"}),h.jsx("li",{children:"Export trained models for deployment"})]})})]})]})}const _gt=[{value:"search",label:"Search Engine",icon:ml},{value:"datasets",label:"Datasets",icon:vA},{value:"workflow",label:"Workflow",icon:AE},{value:"telemetry",label:"Telemetry",icon:oh},{value:"devices",label:"Device Settings",icon:dg},{value:"cognisys",label:"COGNISYS Config",icon:bd},{value:"ecosystem",label:"Ecosystem Builder",icon:dx},{value:"deployment",label:"Model Deployment",icon:Rm},{value:"ml",label:"Machine Learning",icon:fv}];function bgt(){const t=fA(),[,e]=as(),r=new URLSearchParams(t).get("tab")||"search",[i,s]=P.useState(r);P.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/neosyntis?tab=${a}`)};return h.jsxs("div",{className:"flex flex-col h-full",children:[h.jsx("div",{className:"border-b bg-card px-6 py-4",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:"NEOSYNTIS Lab"}),h.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Research & Workflow Automation Platform"})]}),h.jsx(fn,{variant:"outline",children:"v2.1.0"})]})}),h.jsx("div",{className:"flex-1 overflow-hidden",children:h.jsxs(Qc,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[h.jsx("div",{className:"border-b bg-card/50 px-6 overflow-x-auto",children:h.jsx(Bl,{className:"bg-transparent h-12 w-full justify-start gap-1",children:_gt.map(a=>h.jsxs(Mr,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[h.jsx(a.icon,{className:"h-4 w-4"}),h.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.value))})}),h.jsxs("div",{className:"flex-1 overflow-auto",children:[h.jsx(yn,{value:"search",className:"h-full m-0 p-6",children:h.jsx(lgt,{})}),h.jsx(yn,{value:"datasets",className:"h-full m-0 p-6",children:h.jsx(sgt,{})}),h.jsx(yn,{value:"workflow",className:"h-full m-0 p-6",children:h.jsx(ugt,{})}),h.jsx(yn,{value:"telemetry",className:"h-full m-0 p-6",children:h.jsx(dgt,{})}),h.jsx(yn,{value:"devices",className:"h-full m-0 p-6",children:h.jsx(fgt,{})}),h.jsx(yn,{value:"cognisys",className:"h-full m-0 p-6",children:h.jsx(hgt,{})}),h.jsx(yn,{value:"ecosystem",className:"h-full m-0 p-6",children:h.jsx(pgt,{})}),h.jsx(yn,{value:"deployment",className:"h-full m-0 p-6",children:h.jsx(ggt,{})}),h.jsx(yn,{value:"ml",className:"h-full m-0 p-6",children:h.jsx(xgt,{})})]})]})})]})}const wgt=async()=>new Promise(t=>{setTimeout(()=>{t({username:"vareon_user",email:"user@vareon.com"})},500)}),d9=async t=>new Promise((e,n)=>{setTimeout(()=>{t.username==="admin"?n(new Error('Username "admin" is reserved.')):e({message:"Profile updated successfully!"})},1e3)});function Sgt(){const{toast:t}=yb(),{logout:e}=rle(),[,n]=as(),[r,i]=P.useState(""),[s,o]=P.useState(""),[a,l]=P.useState(""),[c,d]=P.useState(""),[u,f]=P.useState(""),[g,v]=P.useState(!1);P.useEffect(()=>{v(!0),wgt().then(x=>{i(x.username),o(x.email),v(!1)}).catch(x=>{t({title:"Error",description:`Failed to load user data: ${x.message}`,variant:"destructive"}),v(!1)})},[t]);const y=async()=>{v(!0);try{const x={};r&&(x.username=r),s&&(x.email=s),await d9(x),t({title:"Profile Updated",description:"Your profile information has been updated."})}catch(x){t({title:"Error",description:`Failed to update profile: ${x.message}`,variant:"destructive"})}finally{v(!1)}},m=async()=>{if(v(!0),c!==u){t({title:"Error",description:"New password and confirmation do not match.",variant:"destructive"}),v(!1);return}if(!a||!c){t({title:"Error",description:"Current and new passwords cannot be empty.",variant:"destructive"}),v(!1);return}try{await d9({password:c}),t({title:"Password Updated",description:"Your password has been changed successfully."}),l(""),d(""),f("")}catch(x){t({title:"Error",description:`Failed to change password: ${x.message}`,variant:"destructive"})}finally{v(!1)}},p=()=>{e(),n("/auth"),t({title:"Logged Out",description:"You have been successfully logged out."})};return g?h.jsx("div",{className:"flex justify-center items-center h-full",children:h.jsx("p",{className:"text-muted-foreground",children:"Loading user profile..."})}):h.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-6",children:[h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(xA,{className:"h-5 w-5 text-primary"}),"User Profile"]}),h.jsx(Wt,{children:"Manage your account settings and profile information."})]}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{htmlFor:"username",children:"Username"}),h.jsx(An,{id:"username",type:"text",value:r,onChange:x=>i(x.target.value),disabled:g})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{htmlFor:"email",children:"Email"}),h.jsx(An,{id:"email",type:"email",value:s,onChange:x=>o(x.target.value),disabled:g})]}),h.jsx(Ge,{onClick:y,disabled:g,children:g?"Saving...":"Save Profile"})]})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(kK,{className:"h-5 w-5 text-primary"}),"Change Password"]}),h.jsx(Wt,{children:"Update your account password."})]}),h.jsxs(ct,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{htmlFor:"current-password",children:"Current Password"}),h.jsx(An,{id:"current-password",type:"password",value:a,onChange:x=>l(x.target.value),disabled:g})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{htmlFor:"new-password",children:"New Password"}),h.jsx(An,{id:"new-password",type:"password",value:c,onChange:x=>d(x.target.value),disabled:g})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsx(Vn,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),h.jsx(An,{id:"confirm-new-password",type:"password",value:u,onChange:x=>f(x.target.value),disabled:g})]}),h.jsx(Ge,{onClick:m,disabled:g,children:g?"Changing...":"Change Password"})]})]}),h.jsxs(Ze,{children:[h.jsxs(it,{children:[h.jsxs(ot,{className:"flex items-center gap-2",children:[h.jsx(t$,{className:"h-5 w-5 text-primary"}),"Account Actions"]}),h.jsx(Wt,{children:"Perform actions related to your account."})]}),h.jsx(ct,{children:h.jsxs(Ge,{variant:"destructive",onClick:p,disabled:g,children:[h.jsx(t$,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]})}function Egt(){return h.jsxs(vge,{children:[h.jsx(hs,{path:"/",component:sJe}),h.jsx(hs,{path:"/arcana-demo",component:rJe}),h.jsx(hs,{path:"/neosyntis-demo",component:lJe}),h.jsx(hs,{path:"/myntrix-demo",component:aJe}),h.jsx(hs,{path:"/auth",component:iJe}),h.jsx(hs,{path:"/verify-email",component:dJe}),h.jsx(hs,{path:"/waiting-for-verification",component:fJe}),h.jsxs(eJe,{children:[h.jsx(hs,{path:"/dashboard",component:pot}),h.jsx(hs,{path:"/dashboard/neosyntis",component:bgt}),h.jsx(hs,{path:"/dashboard/myntrix",component:igt}),h.jsx(hs,{path:"/dashboard/cognisys",component:dot}),h.jsx(hs,{path:"/dashboard/arcana",component:_Je}),h.jsx(hs,{path:"/dashboard/profile",component:Sgt})," "]}),h.jsx(hs,{component:cJe})]})}function Cgt(){const t={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},[e]=as();return h.jsx(Lge,{client:Yge,children:h.jsx(zQe,{children:h.jsxs(tle,{children:[h.jsx(ZYe,{style:t,children:h.jsxs("div",{className:"flex h-screen w-full",children:[e.startsWith("/dashboard")&&h.jsx(QYe,{children:h.jsx(VQe,{})}),h.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[h.jsxs("header",{className:"flex items-center justify-between p-3 border-b bg-card",children:[e.startsWith("/dashboard")&&h.jsx(JYe,{"data-testid":"button-sidebar-toggle"}),h.jsx("div",{className:"flex items-center gap-2"})]}),h.jsx("main",{className:"flex-1 overflow-auto",children:h.jsx(Egt,{})})]})]})}),h.jsx($Qe,{}),h.jsx(aQe,{})]})})})}Mj(document.getElementById("root")).render(h.jsx(Cgt,{}));
