var fU=t=>{throw TypeError(t)};var vN=(t,e,n)=>e.has(t)||fU("Cannot "+n);var ge=(t,e,n)=>(vN(t,e,"read from private field"),n?n.call(t):e.get(t)),Ht=(t,e,n)=>e.has(t)?fU("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yt=(t,e,n,r)=>(vN(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),un=(t,e,n)=>(vN(t,e,"access private method"),n);var i1=(t,e,n,r)=>({set _(i){yt(t,e,i,n)},get _(){return ge(t,e,r)}});function ope(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var s1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hq={exports:{}},MA={},pq={exports:{}},gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=Symbol.for("react.element"),ape=Symbol.for("react.portal"),lpe=Symbol.for("react.fragment"),cpe=Symbol.for("react.strict_mode"),upe=Symbol.for("react.profiler"),dpe=Symbol.for("react.provider"),fpe=Symbol.for("react.context"),hpe=Symbol.for("react.forward_ref"),ppe=Symbol.for("react.suspense"),mpe=Symbol.for("react.memo"),gpe=Symbol.for("react.lazy"),hU=Symbol.iterator;function vpe(t){return t===null||typeof t!="object"?null:(t=hU&&t[hU]||t["@@iterator"],typeof t=="function"?t:null)}var mq={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gq=Object.assign,vq={};function Av(t,e,n){this.props=t,this.context=e,this.refs=vq,this.updater=n||mq}Av.prototype.isReactComponent={};Av.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Av.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yq(){}yq.prototype=Av.prototype;function pL(t,e,n){this.props=t,this.context=e,this.refs=vq,this.updater=n||mq}var mL=pL.prototype=new yq;mL.constructor=pL;gq(mL,Av.prototype);mL.isPureReactComponent=!0;var pU=Array.isArray,xq=Object.prototype.hasOwnProperty,gL={current:null},_q={key:!0,ref:!0,__self:!0,__source:!0};function bq(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)xq.call(e,r)&&!_q.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:rb,type:t,key:s,ref:o,props:i,_owner:gL.current}}function ype(t,e){return{$$typeof:rb,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vL(t){return typeof t=="object"&&t!==null&&t.$$typeof===rb}function xpe(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var mU=/\/+/g;function yN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xpe(""+t.key):e.toString(36)}function YS(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case rb:case ape:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+yN(o,0):r,pU(i)?(n="",t!=null&&(n=t.replace(mU,"$&/")+"/"),YS(i,e,n,"",function(c){return c})):i!=null&&(vL(i)&&(i=ype(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(mU,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",pU(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+yN(s,a);o+=YS(s,e,n,l,i)}else if(l=vpe(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+yN(s,a++),o+=YS(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function o1(t,e,n){if(t==null)return t;var r=[],i=0;return YS(t,r,"","",function(s){return e.call(n,s,i++)}),r}function _pe(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hs={current:null},ZS={transition:null},bpe={ReactCurrentDispatcher:hs,ReactCurrentBatchConfig:ZS,ReactCurrentOwner:gL};function wq(){throw Error("act(...) is not supported in production builds of React.")}gn.Children={map:o1,forEach:function(t,e,n){o1(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return o1(t,function(){e++}),e},toArray:function(t){return o1(t,function(e){return e})||[]},only:function(t){if(!vL(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};gn.Component=Av;gn.Fragment=lpe;gn.Profiler=upe;gn.PureComponent=pL;gn.StrictMode=cpe;gn.Suspense=ppe;gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bpe;gn.act=wq;gn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=gq({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=gL.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xq.call(e,l)&&!_q.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:rb,type:t.type,key:i,ref:s,props:r,_owner:o}};gn.createContext=function(t){return t={$$typeof:fpe,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:dpe,_context:t},t.Consumer=t};gn.createElement=bq;gn.createFactory=function(t){var e=bq.bind(null,t);return e.type=t,e};gn.createRef=function(){return{current:null}};gn.forwardRef=function(t){return{$$typeof:hpe,render:t}};gn.isValidElement=vL;gn.lazy=function(t){return{$$typeof:gpe,_payload:{_status:-1,_result:t},_init:_pe}};gn.memo=function(t,e){return{$$typeof:mpe,type:t,compare:e===void 0?null:e}};gn.startTransition=function(t){var e=ZS.transition;ZS.transition={};try{t()}finally{ZS.transition=e}};gn.unstable_act=wq;gn.useCallback=function(t,e){return hs.current.useCallback(t,e)};gn.useContext=function(t){return hs.current.useContext(t)};gn.useDebugValue=function(){};gn.useDeferredValue=function(t){return hs.current.useDeferredValue(t)};gn.useEffect=function(t,e){return hs.current.useEffect(t,e)};gn.useId=function(){return hs.current.useId()};gn.useImperativeHandle=function(t,e,n){return hs.current.useImperativeHandle(t,e,n)};gn.useInsertionEffect=function(t,e){return hs.current.useInsertionEffect(t,e)};gn.useLayoutEffect=function(t,e){return hs.current.useLayoutEffect(t,e)};gn.useMemo=function(t,e){return hs.current.useMemo(t,e)};gn.useReducer=function(t,e,n){return hs.current.useReducer(t,e,n)};gn.useRef=function(t){return hs.current.useRef(t)};gn.useState=function(t){return hs.current.useState(t)};gn.useSyncExternalStore=function(t,e,n){return hs.current.useSyncExternalStore(t,e,n)};gn.useTransition=function(){return hs.current.useTransition()};gn.version="18.3.1";pq.exports=gn;var A=pq.exports;const te=kn(A),AA=ope({__proto__:null,default:te},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wpe=A,Spe=Symbol.for("react.element"),Epe=Symbol.for("react.fragment"),Cpe=Object.prototype.hasOwnProperty,Mpe=wpe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ape={key:!0,ref:!0,__self:!0,__source:!0};function Sq(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Cpe.call(e,r)&&!Ape.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Spe,type:t,key:s,ref:o,props:i,_owner:Mpe.current}}MA.Fragment=Epe;MA.jsx=Sq;MA.jsxs=Sq;hq.exports=MA;var u=hq.exports,Eq={exports:{}},xo={},Cq={exports:{}},Mq={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,I){var B=R.length;R.push(I);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,I))R[W]=I,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],B=R.pop();if(B!==I){R[0]=B;e:for(var W=0,G=R.length,X=G>>>1;W<X;){var ne=2*(W+1)-1,ae=R[ne],se=ne+1,$=R[se];if(0>i(ae,B))se<G&&0>i($,ae)?(R[W]=$,R[se]=B,W=se):(R[W]=ae,R[ne]=B,W=ne);else if(se<G&&0>i($,B))R[W]=$,R[se]=B,W=se;else break e}}return I}function i(R,I){var B=R.sortIndex-I.sortIndex;return B!==0?B:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,g=!1,v=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=R)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function b(R){if(x=!1,_(R),!v)if(n(l)!==null)v=!0,U(S);else{var I=n(c);I!==null&&H(b,I.startTime-R)}}function S(R,I){v=!1,x&&(x=!1,p(T),T=-1),g=!0;var B=h;try{for(_(I),d=n(l);d!==null&&(!(d.expirationTime>I)||R&&!k());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var G=W(d.expirationTime<=I);I=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(I)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var ne=n(c);ne!==null&&H(b,ne.startTime-I),X=!1}return X}finally{d=null,h=B,g=!1}}var C=!1,M=null,T=-1,P=5,N=-1;function k(){return!(t.unstable_now()-N<P)}function D(){if(M!==null){var R=t.unstable_now();N=R;var I=!0;try{I=M(!0,R)}finally{I?j():(C=!1,M=null)}}else C=!1}var j;if(typeof y=="function")j=function(){y(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=D,j=function(){z.postMessage(null)}}else j=function(){m(D,0)};function U(R){M=R,C||(C=!0,j())}function H(R,I){T=m(function(){R(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var B=h;h=I;try{return R()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return I()}finally{h=B}},t.unstable_scheduleCallback=function(R,I,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:f++,callback:I,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(x?(p(T),T=-1):x=!0,H(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,U(S))),R},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(R){var I=h;return function(){var B=h;h=I;try{return R.apply(this,arguments)}finally{h=B}}}})(Mq);Cq.exports=Mq;var Tpe=Cq.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ppe=A,mo=Tpe;function tt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Aq=new Set,px={};function Hh(t,e){xg(t,e),xg(t+"Capture",e)}function xg(t,e){for(px[t]=e,t=0;t<e.length;t++)Aq.add(e[t])}var Ic=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lk=Object.prototype.hasOwnProperty,Npe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gU={},vU={};function Rpe(t){return lk.call(vU,t)?!0:lk.call(gU,t)?!1:Npe.test(t)?vU[t]=!0:(gU[t]=!0,!1)}function Ope(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kpe(t,e,n,r){if(e===null||typeof e>"u"||Ope(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ps(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pi[t]=new ps(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pi[e]=new ps(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pi[t]=new ps(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pi[t]=new ps(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pi[t]=new ps(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pi[t]=new ps(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pi[t]=new ps(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pi[t]=new ps(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pi[t]=new ps(t,5,!1,t.toLowerCase(),null,!1,!1)});var yL=/[\-:]([a-z])/g;function xL(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(yL,xL);Pi[e]=new ps(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(yL,xL);Pi[e]=new ps(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(yL,xL);Pi[e]=new ps(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pi[t]=new ps(t,1,!1,t.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new ps("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pi[t]=new ps(t,1,!1,t.toLowerCase(),null,!0,!0)});function _L(t,e,n,r){var i=Pi.hasOwnProperty(e)?Pi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kpe(e,n,i,r)&&(n=null),r||i===null?Rpe(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xc=Ppe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a1=Symbol.for("react.element"),pm=Symbol.for("react.portal"),mm=Symbol.for("react.fragment"),bL=Symbol.for("react.strict_mode"),ck=Symbol.for("react.profiler"),Tq=Symbol.for("react.provider"),Pq=Symbol.for("react.context"),wL=Symbol.for("react.forward_ref"),uk=Symbol.for("react.suspense"),dk=Symbol.for("react.suspense_list"),SL=Symbol.for("react.memo"),ku=Symbol.for("react.lazy"),Nq=Symbol.for("react.offscreen"),yU=Symbol.iterator;function Ry(t){return t===null||typeof t!="object"?null:(t=yU&&t[yU]||t["@@iterator"],typeof t=="function"?t:null)}var Ar=Object.assign,xN;function b0(t){if(xN===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);xN=e&&e[1]||""}return`
`+xN+t}var _N=!1;function bN(t,e){if(!t||_N)return"";_N=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{_N=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?b0(t):""}function Ipe(t){switch(t.tag){case 5:return b0(t.type);case 16:return b0("Lazy");case 13:return b0("Suspense");case 19:return b0("SuspenseList");case 0:case 2:case 15:return t=bN(t.type,!1),t;case 11:return t=bN(t.type.render,!1),t;case 1:return t=bN(t.type,!0),t;default:return""}}function fk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mm:return"Fragment";case pm:return"Portal";case ck:return"Profiler";case bL:return"StrictMode";case uk:return"Suspense";case dk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pq:return(t.displayName||"Context")+".Consumer";case Tq:return(t._context.displayName||"Context")+".Provider";case wL:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case SL:return e=t.displayName||null,e!==null?e:fk(t.type)||"Memo";case ku:e=t._payload,t=t._init;try{return fk(t(e))}catch{}}return null}function Dpe(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fk(e);case 8:return e===bL?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function md(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rq(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function jpe(t){var e=Rq(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function l1(t){t._valueTracker||(t._valueTracker=jpe(t))}function Oq(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rq(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function NE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hk(t,e){var n=e.checked;return Ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xU(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=md(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kq(t,e){e=e.checked,e!=null&&_L(t,"checked",e,!1)}function pk(t,e){kq(t,e);var n=md(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mk(t,e.type,n):e.hasOwnProperty("defaultValue")&&mk(t,e.type,md(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _U(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mk(t,e,n){(e!=="number"||NE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var w0=Array.isArray;function Bm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+md(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(tt(91));return Ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bU(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(tt(92));if(w0(n)){if(1<n.length)throw Error(tt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:md(n)}}function Iq(t,e){var n=md(e.value),r=md(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wU(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Dq(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Dq(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var c1,jq=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(c1=c1||document.createElement("div"),c1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=c1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function mx(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var F0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lpe=["Webkit","ms","Moz","O"];Object.keys(F0).forEach(function(t){Lpe.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),F0[e]=F0[t]})});function Lq(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||F0.hasOwnProperty(t)&&F0[t]?(""+e).trim():e+"px"}function Fq(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Lq(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Fpe=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yk(t,e){if(e){if(Fpe[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(tt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(tt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(tt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(tt(62))}}function xk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _k=null;function EL(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bk=null,zm=null,Um=null;function SU(t){if(t=ob(t)){if(typeof bk!="function")throw Error(tt(280));var e=t.stateNode;e&&(e=OA(e),bk(t.stateNode,t.type,e))}}function Bq(t){zm?Um?Um.push(t):Um=[t]:zm=t}function zq(){if(zm){var t=zm,e=Um;if(Um=zm=null,SU(t),e)for(t=0;t<e.length;t++)SU(e[t])}}function Uq(t,e){return t(e)}function $q(){}var wN=!1;function Hq(t,e,n){if(wN)return t(e,n);wN=!0;try{return Uq(t,e,n)}finally{wN=!1,(zm!==null||Um!==null)&&($q(),zq())}}function gx(t,e){var n=t.stateNode;if(n===null)return null;var r=OA(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(tt(231,e,typeof n));return n}var wk=!1;if(Ic)try{var Oy={};Object.defineProperty(Oy,"passive",{get:function(){wk=!0}}),window.addEventListener("test",Oy,Oy),window.removeEventListener("test",Oy,Oy)}catch{wk=!1}function Bpe(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var B0=!1,RE=null,OE=!1,Sk=null,zpe={onError:function(t){B0=!0,RE=t}};function Upe(t,e,n,r,i,s,o,a,l){B0=!1,RE=null,Bpe.apply(zpe,arguments)}function $pe(t,e,n,r,i,s,o,a,l){if(Upe.apply(this,arguments),B0){if(B0){var c=RE;B0=!1,RE=null}else throw Error(tt(198));OE||(OE=!0,Sk=c)}}function Vh(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Vq(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function EU(t){if(Vh(t)!==t)throw Error(tt(188))}function Hpe(t){var e=t.alternate;if(!e){if(e=Vh(t),e===null)throw Error(tt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return EU(i),t;if(s===r)return EU(i),e;s=s.sibling}throw Error(tt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(tt(189))}}if(n.alternate!==r)throw Error(tt(190))}if(n.tag!==3)throw Error(tt(188));return n.stateNode.current===n?t:e}function Wq(t){return t=Hpe(t),t!==null?Gq(t):null}function Gq(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Gq(t);if(e!==null)return e;t=t.sibling}return null}var qq=mo.unstable_scheduleCallback,CU=mo.unstable_cancelCallback,Vpe=mo.unstable_shouldYield,Wpe=mo.unstable_requestPaint,Fr=mo.unstable_now,Gpe=mo.unstable_getCurrentPriorityLevel,CL=mo.unstable_ImmediatePriority,Xq=mo.unstable_UserBlockingPriority,kE=mo.unstable_NormalPriority,qpe=mo.unstable_LowPriority,Kq=mo.unstable_IdlePriority,TA=null,wl=null;function Xpe(t){if(wl&&typeof wl.onCommitFiberRoot=="function")try{wl.onCommitFiberRoot(TA,t,void 0,(t.current.flags&128)===128)}catch{}}var ka=Math.clz32?Math.clz32:Zpe,Kpe=Math.log,Ype=Math.LN2;function Zpe(t){return t>>>=0,t===0?32:31-(Kpe(t)/Ype|0)|0}var u1=64,d1=4194304;function S0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function IE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=S0(a):(s&=o,s!==0&&(r=S0(s)))}else o=n&~i,o!==0?r=S0(o):s!==0&&(r=S0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ka(e),i=1<<n,r|=t[n],e&=~i;return r}function Qpe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jpe(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-ka(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Qpe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ek(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Yq(){var t=u1;return u1<<=1,!(u1&4194240)&&(u1=64),t}function SN(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ib(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ka(e),t[e]=n}function eme(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ka(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function ML(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ka(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $n=0;function Zq(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Qq,AL,Jq,eX,tX,Ck=!1,f1=[],rd=null,id=null,sd=null,vx=new Map,yx=new Map,ju=[],tme="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function MU(t,e){switch(t){case"focusin":case"focusout":rd=null;break;case"dragenter":case"dragleave":id=null;break;case"mouseover":case"mouseout":sd=null;break;case"pointerover":case"pointerout":vx.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yx.delete(e.pointerId)}}function ky(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ob(e),e!==null&&AL(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function nme(t,e,n,r,i){switch(e){case"focusin":return rd=ky(rd,t,e,n,r,i),!0;case"dragenter":return id=ky(id,t,e,n,r,i),!0;case"mouseover":return sd=ky(sd,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return vx.set(s,ky(vx.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,yx.set(s,ky(yx.get(s)||null,t,e,n,r,i)),!0}return!1}function nX(t){var e=If(t.target);if(e!==null){var n=Vh(e);if(n!==null){if(e=n.tag,e===13){if(e=Vq(n),e!==null){t.blockedOn=e,tX(t.priority,function(){Jq(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function QS(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mk(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);_k=r,n.target.dispatchEvent(r),_k=null}else return e=ob(n),e!==null&&AL(e),t.blockedOn=n,!1;e.shift()}return!0}function AU(t,e,n){QS(t)&&n.delete(e)}function rme(){Ck=!1,rd!==null&&QS(rd)&&(rd=null),id!==null&&QS(id)&&(id=null),sd!==null&&QS(sd)&&(sd=null),vx.forEach(AU),yx.forEach(AU)}function Iy(t,e){t.blockedOn===e&&(t.blockedOn=null,Ck||(Ck=!0,mo.unstable_scheduleCallback(mo.unstable_NormalPriority,rme)))}function xx(t){function e(i){return Iy(i,t)}if(0<f1.length){Iy(f1[0],t);for(var n=1;n<f1.length;n++){var r=f1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rd!==null&&Iy(rd,t),id!==null&&Iy(id,t),sd!==null&&Iy(sd,t),vx.forEach(e),yx.forEach(e),n=0;n<ju.length;n++)r=ju[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ju.length&&(n=ju[0],n.blockedOn===null);)nX(n),n.blockedOn===null&&ju.shift()}var $m=Xc.ReactCurrentBatchConfig,DE=!0;function ime(t,e,n,r){var i=$n,s=$m.transition;$m.transition=null;try{$n=1,TL(t,e,n,r)}finally{$n=i,$m.transition=s}}function sme(t,e,n,r){var i=$n,s=$m.transition;$m.transition=null;try{$n=4,TL(t,e,n,r)}finally{$n=i,$m.transition=s}}function TL(t,e,n,r){if(DE){var i=Mk(t,e,n,r);if(i===null)kN(t,e,r,jE,n),MU(t,r);else if(nme(i,t,e,n,r))r.stopPropagation();else if(MU(t,r),e&4&&-1<tme.indexOf(t)){for(;i!==null;){var s=ob(i);if(s!==null&&Qq(s),s=Mk(t,e,n,r),s===null&&kN(t,e,r,jE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kN(t,e,r,null,n)}}var jE=null;function Mk(t,e,n,r){if(jE=null,t=EL(r),t=If(t),t!==null)if(e=Vh(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Vq(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jE=t,null}function rX(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Gpe()){case CL:return 1;case Xq:return 4;case kE:case qpe:return 16;case Kq:return 536870912;default:return 16}default:return 16}}var Zu=null,PL=null,JS=null;function iX(){if(JS)return JS;var t,e=PL,n=e.length,r,i="value"in Zu?Zu.value:Zu.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return JS=i.slice(t,1<r?1-r:void 0)}function eE(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function h1(){return!0}function TU(){return!1}function _o(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?h1:TU,this.isPropagationStopped=TU,this}return Ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=h1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=h1)},persist:function(){},isPersistent:h1}),e}var Tv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},NL=_o(Tv),sb=Ar({},Tv,{view:0,detail:0}),ome=_o(sb),EN,CN,Dy,PA=Ar({},sb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RL,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dy&&(Dy&&t.type==="mousemove"?(EN=t.screenX-Dy.screenX,CN=t.screenY-Dy.screenY):CN=EN=0,Dy=t),EN)},movementY:function(t){return"movementY"in t?t.movementY:CN}}),PU=_o(PA),ame=Ar({},PA,{dataTransfer:0}),lme=_o(ame),cme=Ar({},sb,{relatedTarget:0}),MN=_o(cme),ume=Ar({},Tv,{animationName:0,elapsedTime:0,pseudoElement:0}),dme=_o(ume),fme=Ar({},Tv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),hme=_o(fme),pme=Ar({},Tv,{data:0}),NU=_o(pme),mme={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gme={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vme={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yme(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=vme[t])?!!e[t]:!1}function RL(){return yme}var xme=Ar({},sb,{key:function(t){if(t.key){var e=mme[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eE(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?gme[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RL,charCode:function(t){return t.type==="keypress"?eE(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eE(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_me=_o(xme),bme=Ar({},PA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RU=_o(bme),wme=Ar({},sb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RL}),Sme=_o(wme),Eme=Ar({},Tv,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cme=_o(Eme),Mme=Ar({},PA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ame=_o(Mme),Tme=[9,13,27,32],OL=Ic&&"CompositionEvent"in window,z0=null;Ic&&"documentMode"in document&&(z0=document.documentMode);var Pme=Ic&&"TextEvent"in window&&!z0,sX=Ic&&(!OL||z0&&8<z0&&11>=z0),OU=" ",kU=!1;function oX(t,e){switch(t){case"keyup":return Tme.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aX(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var gm=!1;function Nme(t,e){switch(t){case"compositionend":return aX(e);case"keypress":return e.which!==32?null:(kU=!0,OU);case"textInput":return t=e.data,t===OU&&kU?null:t;default:return null}}function Rme(t,e){if(gm)return t==="compositionend"||!OL&&oX(t,e)?(t=iX(),JS=PL=Zu=null,gm=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sX&&e.locale!=="ko"?null:e.data;default:return null}}var Ome={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Ome[t.type]:e==="textarea"}function lX(t,e,n,r){Bq(r),e=LE(e,"onChange"),0<e.length&&(n=new NL("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var U0=null,_x=null;function kme(t){xX(t,0)}function NA(t){var e=xm(t);if(Oq(e))return t}function Ime(t,e){if(t==="change")return e}var cX=!1;if(Ic){var AN;if(Ic){var TN="oninput"in document;if(!TN){var DU=document.createElement("div");DU.setAttribute("oninput","return;"),TN=typeof DU.oninput=="function"}AN=TN}else AN=!1;cX=AN&&(!document.documentMode||9<document.documentMode)}function jU(){U0&&(U0.detachEvent("onpropertychange",uX),_x=U0=null)}function uX(t){if(t.propertyName==="value"&&NA(_x)){var e=[];lX(e,_x,t,EL(t)),Hq(kme,e)}}function Dme(t,e,n){t==="focusin"?(jU(),U0=e,_x=n,U0.attachEvent("onpropertychange",uX)):t==="focusout"&&jU()}function jme(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return NA(_x)}function Lme(t,e){if(t==="click")return NA(e)}function Fme(t,e){if(t==="input"||t==="change")return NA(e)}function Bme(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var za=typeof Object.is=="function"?Object.is:Bme;function bx(t,e){if(za(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!lk.call(e,i)||!za(t[i],e[i]))return!1}return!0}function LU(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function FU(t,e){var n=LU(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=LU(n)}}function dX(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?dX(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function fX(){for(var t=window,e=NE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=NE(t.document)}return e}function kL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function zme(t){var e=fX(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&dX(n.ownerDocument.documentElement,n)){if(r!==null&&kL(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=FU(n,s);var o=FU(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ume=Ic&&"documentMode"in document&&11>=document.documentMode,vm=null,Ak=null,$0=null,Tk=!1;function BU(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Tk||vm==null||vm!==NE(r)||(r=vm,"selectionStart"in r&&kL(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$0&&bx($0,r)||($0=r,r=LE(Ak,"onSelect"),0<r.length&&(e=new NL("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vm)))}function p1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ym={animationend:p1("Animation","AnimationEnd"),animationiteration:p1("Animation","AnimationIteration"),animationstart:p1("Animation","AnimationStart"),transitionend:p1("Transition","TransitionEnd")},PN={},hX={};Ic&&(hX=document.createElement("div").style,"AnimationEvent"in window||(delete ym.animationend.animation,delete ym.animationiteration.animation,delete ym.animationstart.animation),"TransitionEvent"in window||delete ym.transitionend.transition);function RA(t){if(PN[t])return PN[t];if(!ym[t])return t;var e=ym[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hX)return PN[t]=e[n];return t}var pX=RA("animationend"),mX=RA("animationiteration"),gX=RA("animationstart"),vX=RA("transitionend"),yX=new Map,zU="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cd(t,e){yX.set(t,e),Hh(e,[t])}for(var NN=0;NN<zU.length;NN++){var RN=zU[NN],$me=RN.toLowerCase(),Hme=RN[0].toUpperCase()+RN.slice(1);Cd($me,"on"+Hme)}Cd(pX,"onAnimationEnd");Cd(mX,"onAnimationIteration");Cd(gX,"onAnimationStart");Cd("dblclick","onDoubleClick");Cd("focusin","onFocus");Cd("focusout","onBlur");Cd(vX,"onTransitionEnd");xg("onMouseEnter",["mouseout","mouseover"]);xg("onMouseLeave",["mouseout","mouseover"]);xg("onPointerEnter",["pointerout","pointerover"]);xg("onPointerLeave",["pointerout","pointerover"]);Hh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var E0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vme=new Set("cancel close invalid load scroll toggle".split(" ").concat(E0));function UU(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,$pe(r,e,void 0,t),t.currentTarget=null}function xX(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;UU(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;UU(i,a,c),s=l}}}if(OE)throw t=Sk,OE=!1,Sk=null,t}function rr(t,e){var n=e[kk];n===void 0&&(n=e[kk]=new Set);var r=t+"__bubble";n.has(r)||(_X(e,t,2,!1),n.add(r))}function ON(t,e,n){var r=0;e&&(r|=4),_X(n,t,r,e)}var m1="_reactListening"+Math.random().toString(36).slice(2);function wx(t){if(!t[m1]){t[m1]=!0,Aq.forEach(function(n){n!=="selectionchange"&&(Vme.has(n)||ON(n,!1,t),ON(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[m1]||(e[m1]=!0,ON("selectionchange",!1,e))}}function _X(t,e,n,r){switch(rX(e)){case 1:var i=ime;break;case 4:i=sme;break;default:i=TL}n=i.bind(null,e,n,t),i=void 0,!wk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=If(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Hq(function(){var c=s,f=EL(n),d=[];e:{var h=yX.get(t);if(h!==void 0){var g=NL,v=t;switch(t){case"keypress":if(eE(n)===0)break e;case"keydown":case"keyup":g=_me;break;case"focusin":v="focus",g=MN;break;case"focusout":v="blur",g=MN;break;case"beforeblur":case"afterblur":g=MN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=PU;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lme;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Sme;break;case pX:case mX:case gX:g=dme;break;case vX:g=Cme;break;case"scroll":g=ome;break;case"wheel":g=Ame;break;case"copy":case"cut":case"paste":g=hme;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=RU}var x=(e&4)!==0,m=!x&&t==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var y=c,_;y!==null;){_=y;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,p!==null&&(b=gx(y,p),b!=null&&x.push(Sx(y,b,_)))),m)break;y=y.return}0<x.length&&(h=new g(h,v,null,n,f),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==_k&&(v=n.relatedTarget||n.fromElement)&&(If(v)||v[Dc]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?If(v):null,v!==null&&(m=Vh(v),v!==m||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=PU,b="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=RU,b="onPointerLeave",p="onPointerEnter",y="pointer"),m=g==null?h:xm(g),_=v==null?h:xm(v),h=new x(b,y+"leave",g,n,f),h.target=m,h.relatedTarget=_,b=null,If(f)===c&&(x=new x(p,y+"enter",v,n,f),x.target=_,x.relatedTarget=m,b=x),m=b,g&&v)t:{for(x=g,p=v,y=0,_=x;_;_=Ap(_))y++;for(_=0,b=p;b;b=Ap(b))_++;for(;0<y-_;)x=Ap(x),y--;for(;0<_-y;)p=Ap(p),_--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=Ap(x),p=Ap(p)}x=null}else x=null;g!==null&&$U(d,h,g,x,!1),v!==null&&m!==null&&$U(d,m,v,x,!0)}}e:{if(h=c?xm(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var S=Ime;else if(IU(h))if(cX)S=Fme;else{S=jme;var C=Dme}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=Lme);if(S&&(S=S(t,c))){lX(d,S,n,f);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&mk(h,"number",h.value)}switch(C=c?xm(c):window,t){case"focusin":(IU(C)||C.contentEditable==="true")&&(vm=C,Ak=c,$0=null);break;case"focusout":$0=Ak=vm=null;break;case"mousedown":Tk=!0;break;case"contextmenu":case"mouseup":case"dragend":Tk=!1,BU(d,n,f);break;case"selectionchange":if(Ume)break;case"keydown":case"keyup":BU(d,n,f)}var M;if(OL)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else gm?oX(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(sX&&n.locale!=="ko"&&(gm||T!=="onCompositionStart"?T==="onCompositionEnd"&&gm&&(M=iX()):(Zu=f,PL="value"in Zu?Zu.value:Zu.textContent,gm=!0)),C=LE(c,T),0<C.length&&(T=new NU(T,t,null,n,f),d.push({event:T,listeners:C}),M?T.data=M:(M=aX(n),M!==null&&(T.data=M)))),(M=Pme?Nme(t,n):Rme(t,n))&&(c=LE(c,"onBeforeInput"),0<c.length&&(f=new NU("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=M))}xX(d,e)})}function Sx(t,e,n){return{instance:t,listener:e,currentTarget:n}}function LE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=gx(t,n),s!=null&&r.unshift(Sx(t,s,i)),s=gx(t,e),s!=null&&r.push(Sx(t,s,i))),t=t.return}return r}function Ap(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $U(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=gx(n,s),l!=null&&o.unshift(Sx(n,l,a))):i||(l=gx(n,s),l!=null&&o.push(Sx(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Wme=/\r\n?/g,Gme=/\u0000|\uFFFD/g;function HU(t){return(typeof t=="string"?t:""+t).replace(Wme,`
`).replace(Gme,"")}function g1(t,e,n){if(e=HU(e),HU(t)!==e&&n)throw Error(tt(425))}function FE(){}var Pk=null,Nk=null;function Rk(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ok=typeof setTimeout=="function"?setTimeout:void 0,qme=typeof clearTimeout=="function"?clearTimeout:void 0,VU=typeof Promise=="function"?Promise:void 0,Xme=typeof queueMicrotask=="function"?queueMicrotask:typeof VU<"u"?function(t){return VU.resolve(null).then(t).catch(Kme)}:Ok;function Kme(t){setTimeout(function(){throw t})}function IN(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),xx(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);xx(e)}function od(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function WU(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Pv=Math.random().toString(36).slice(2),pl="__reactFiber$"+Pv,Ex="__reactProps$"+Pv,Dc="__reactContainer$"+Pv,kk="__reactEvents$"+Pv,Yme="__reactListeners$"+Pv,Zme="__reactHandles$"+Pv;function If(t){var e=t[pl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Dc]||n[pl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=WU(t);t!==null;){if(n=t[pl])return n;t=WU(t)}return e}t=n,n=t.parentNode}return null}function ob(t){return t=t[pl]||t[Dc],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xm(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(tt(33))}function OA(t){return t[Ex]||null}var Ik=[],_m=-1;function Md(t){return{current:t}}function ar(t){0>_m||(t.current=Ik[_m],Ik[_m]=null,_m--)}function Qn(t,e){_m++,Ik[_m]=t.current,t.current=e}var gd={},Zi=Md(gd),Ds=Md(!1),hh=gd;function _g(t,e){var n=t.type.contextTypes;if(!n)return gd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function js(t){return t=t.childContextTypes,t!=null}function BE(){ar(Ds),ar(Zi)}function GU(t,e,n){if(Zi.current!==gd)throw Error(tt(168));Qn(Zi,e),Qn(Ds,n)}function bX(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(tt(108,Dpe(t)||"Unknown",i));return Ar({},n,r)}function zE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gd,hh=Zi.current,Qn(Zi,t),Qn(Ds,Ds.current),!0}function qU(t,e,n){var r=t.stateNode;if(!r)throw Error(tt(169));n?(t=bX(t,e,hh),r.__reactInternalMemoizedMergedChildContext=t,ar(Ds),ar(Zi),Qn(Zi,t)):ar(Ds),Qn(Ds,n)}var gc=null,kA=!1,DN=!1;function wX(t){gc===null?gc=[t]:gc.push(t)}function Qme(t){kA=!0,wX(t)}function Ad(){if(!DN&&gc!==null){DN=!0;var t=0,e=$n;try{var n=gc;for($n=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gc=null,kA=!1}catch(i){throw gc!==null&&(gc=gc.slice(t+1)),qq(CL,Ad),i}finally{$n=e,DN=!1}}return null}var bm=[],wm=0,UE=null,$E=0,Bo=[],zo=0,ph=null,bc=1,wc="";function bf(t,e){bm[wm++]=$E,bm[wm++]=UE,UE=t,$E=e}function SX(t,e,n){Bo[zo++]=bc,Bo[zo++]=wc,Bo[zo++]=ph,ph=t;var r=bc;t=wc;var i=32-ka(r)-1;r&=~(1<<i),n+=1;var s=32-ka(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,bc=1<<32-ka(e)+i|n<<i|r,wc=s+t}else bc=1<<s|n<<i|r,wc=t}function IL(t){t.return!==null&&(bf(t,1),SX(t,1,0))}function DL(t){for(;t===UE;)UE=bm[--wm],bm[wm]=null,$E=bm[--wm],bm[wm]=null;for(;t===ph;)ph=Bo[--zo],Bo[zo]=null,wc=Bo[--zo],Bo[zo]=null,bc=Bo[--zo],Bo[zo]=null}var co=null,so=null,fr=!1,Ea=null;function EX(t,e){var n=$o(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function XU(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,co=t,so=od(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,co=t,so=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ph!==null?{id:bc,overflow:wc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$o(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,co=t,so=null,!0):!1;default:return!1}}function Dk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jk(t){if(fr){var e=so;if(e){var n=e;if(!XU(t,e)){if(Dk(t))throw Error(tt(418));e=od(n.nextSibling);var r=co;e&&XU(t,e)?EX(r,n):(t.flags=t.flags&-4097|2,fr=!1,co=t)}}else{if(Dk(t))throw Error(tt(418));t.flags=t.flags&-4097|2,fr=!1,co=t}}}function KU(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;co=t}function v1(t){if(t!==co)return!1;if(!fr)return KU(t),fr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rk(t.type,t.memoizedProps)),e&&(e=so)){if(Dk(t))throw CX(),Error(tt(418));for(;e;)EX(t,e),e=od(e.nextSibling)}if(KU(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(tt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){so=od(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}so=null}}else so=co?od(t.stateNode.nextSibling):null;return!0}function CX(){for(var t=so;t;)t=od(t.nextSibling)}function bg(){so=co=null,fr=!1}function jL(t){Ea===null?Ea=[t]:Ea.push(t)}var Jme=Xc.ReactCurrentBatchConfig;function jy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(tt(309));var r=n.stateNode}if(!r)throw Error(tt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(tt(284));if(!n._owner)throw Error(tt(290,t))}return t}function y1(t,e){throw t=Object.prototype.toString.call(e),Error(tt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function YU(t){var e=t._init;return e(t._payload)}function MX(t){function e(p,y){if(t){var _=p.deletions;_===null?(p.deletions=[y],p.flags|=16):_.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=ud(p,y),p.index=0,p.sibling=null,p}function s(p,y,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<y?(p.flags|=2,y):_):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,y,_,b){return y===null||y.tag!==6?(y=$N(_,p.mode,b),y.return=p,y):(y=i(y,_),y.return=p,y)}function l(p,y,_,b){var S=_.type;return S===mm?f(p,y,_.props.children,b,_.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ku&&YU(S)===y.type)?(b=i(y,_.props),b.ref=jy(p,y,_),b.return=p,b):(b=aE(_.type,_.key,_.props,null,p.mode,b),b.ref=jy(p,y,_),b.return=p,b)}function c(p,y,_,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=HN(_,p.mode,b),y.return=p,y):(y=i(y,_.children||[]),y.return=p,y)}function f(p,y,_,b,S){return y===null||y.tag!==7?(y=eh(_,p.mode,b,S),y.return=p,y):(y=i(y,_),y.return=p,y)}function d(p,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=$N(""+y,p.mode,_),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case a1:return _=aE(y.type,y.key,y.props,null,p.mode,_),_.ref=jy(p,null,y),_.return=p,_;case pm:return y=HN(y,p.mode,_),y.return=p,y;case ku:var b=y._init;return d(p,b(y._payload),_)}if(w0(y)||Ry(y))return y=eh(y,p.mode,_,null),y.return=p,y;y1(p,y)}return null}function h(p,y,_,b){var S=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return S!==null?null:a(p,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case a1:return _.key===S?l(p,y,_,b):null;case pm:return _.key===S?c(p,y,_,b):null;case ku:return S=_._init,h(p,y,S(_._payload),b)}if(w0(_)||Ry(_))return S!==null?null:f(p,y,_,b,null);y1(p,_)}return null}function g(p,y,_,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(_)||null,a(y,p,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case a1:return p=p.get(b.key===null?_:b.key)||null,l(y,p,b,S);case pm:return p=p.get(b.key===null?_:b.key)||null,c(y,p,b,S);case ku:var C=b._init;return g(p,y,_,C(b._payload),S)}if(w0(b)||Ry(b))return p=p.get(_)||null,f(y,p,b,S,null);y1(y,b)}return null}function v(p,y,_,b){for(var S=null,C=null,M=y,T=y=0,P=null;M!==null&&T<_.length;T++){M.index>T?(P=M,M=null):P=M.sibling;var N=h(p,M,_[T],b);if(N===null){M===null&&(M=P);break}t&&M&&N.alternate===null&&e(p,M),y=s(N,y,T),C===null?S=N:C.sibling=N,C=N,M=P}if(T===_.length)return n(p,M),fr&&bf(p,T),S;if(M===null){for(;T<_.length;T++)M=d(p,_[T],b),M!==null&&(y=s(M,y,T),C===null?S=M:C.sibling=M,C=M);return fr&&bf(p,T),S}for(M=r(p,M);T<_.length;T++)P=g(M,p,T,_[T],b),P!==null&&(t&&P.alternate!==null&&M.delete(P.key===null?T:P.key),y=s(P,y,T),C===null?S=P:C.sibling=P,C=P);return t&&M.forEach(function(k){return e(p,k)}),fr&&bf(p,T),S}function x(p,y,_,b){var S=Ry(_);if(typeof S!="function")throw Error(tt(150));if(_=S.call(_),_==null)throw Error(tt(151));for(var C=S=null,M=y,T=y=0,P=null,N=_.next();M!==null&&!N.done;T++,N=_.next()){M.index>T?(P=M,M=null):P=M.sibling;var k=h(p,M,N.value,b);if(k===null){M===null&&(M=P);break}t&&M&&k.alternate===null&&e(p,M),y=s(k,y,T),C===null?S=k:C.sibling=k,C=k,M=P}if(N.done)return n(p,M),fr&&bf(p,T),S;if(M===null){for(;!N.done;T++,N=_.next())N=d(p,N.value,b),N!==null&&(y=s(N,y,T),C===null?S=N:C.sibling=N,C=N);return fr&&bf(p,T),S}for(M=r(p,M);!N.done;T++,N=_.next())N=g(M,p,T,N.value,b),N!==null&&(t&&N.alternate!==null&&M.delete(N.key===null?T:N.key),y=s(N,y,T),C===null?S=N:C.sibling=N,C=N);return t&&M.forEach(function(D){return e(p,D)}),fr&&bf(p,T),S}function m(p,y,_,b){if(typeof _=="object"&&_!==null&&_.type===mm&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case a1:e:{for(var S=_.key,C=y;C!==null;){if(C.key===S){if(S=_.type,S===mm){if(C.tag===7){n(p,C.sibling),y=i(C,_.props.children),y.return=p,p=y;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ku&&YU(S)===C.type){n(p,C.sibling),y=i(C,_.props),y.ref=jy(p,C,_),y.return=p,p=y;break e}n(p,C);break}else e(p,C);C=C.sibling}_.type===mm?(y=eh(_.props.children,p.mode,b,_.key),y.return=p,p=y):(b=aE(_.type,_.key,_.props,null,p.mode,b),b.ref=jy(p,y,_),b.return=p,p=b)}return o(p);case pm:e:{for(C=_.key;y!==null;){if(y.key===C)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(p,y.sibling),y=i(y,_.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=HN(_,p.mode,b),y.return=p,p=y}return o(p);case ku:return C=_._init,m(p,y,C(_._payload),b)}if(w0(_))return v(p,y,_,b);if(Ry(_))return x(p,y,_,b);y1(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,_),y.return=p,p=y):(n(p,y),y=$N(_,p.mode,b),y.return=p,p=y),o(p)):n(p,y)}return m}var wg=MX(!0),AX=MX(!1),HE=Md(null),VE=null,Sm=null,LL=null;function FL(){LL=Sm=VE=null}function BL(t){var e=HE.current;ar(HE),t._currentValue=e}function Lk(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hm(t,e){VE=t,LL=Sm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rs=!0),t.firstContext=null)}function Ko(t){var e=t._currentValue;if(LL!==t)if(t={context:t,memoizedValue:e,next:null},Sm===null){if(VE===null)throw Error(tt(308));Sm=t,VE.dependencies={lanes:0,firstContext:t}}else Sm=Sm.next=t;return e}var Df=null;function zL(t){Df===null?Df=[t]:Df.push(t)}function TX(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zL(e)):(n.next=i.next,i.next=n),e.interleaved=n,jc(t,r)}function jc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Iu=!1;function UL(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PX(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ac(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ad(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Cn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,jc(t,n)}return i=r.interleaved,i===null?(e.next=e,zL(r)):(e.next=i.next,i.next=e),r.interleaved=e,jc(t,n)}function tE(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ML(t,n)}}function ZU(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function WE(t,e,n,r){var i=t.updateQueue;Iu=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,f=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(h=e,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=Ar({},d,h);break e;case 2:Iu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,l=d):f=f.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);gh|=o,t.lanes=o,t.memoizedState=d}}function QU(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(tt(191,i));i.call(r)}}}var ab={},Sl=Md(ab),Cx=Md(ab),Mx=Md(ab);function jf(t){if(t===ab)throw Error(tt(174));return t}function $L(t,e){switch(Qn(Mx,e),Qn(Cx,t),Qn(Sl,ab),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vk(e,t)}ar(Sl),Qn(Sl,e)}function Sg(){ar(Sl),ar(Cx),ar(Mx)}function NX(t){jf(Mx.current);var e=jf(Sl.current),n=vk(e,t.type);e!==n&&(Qn(Cx,t),Qn(Sl,n))}function HL(t){Cx.current===t&&(ar(Sl),ar(Cx))}var br=Md(0);function GE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jN=[];function VL(){for(var t=0;t<jN.length;t++)jN[t]._workInProgressVersionPrimary=null;jN.length=0}var nE=Xc.ReactCurrentDispatcher,LN=Xc.ReactCurrentBatchConfig,mh=0,Mr=null,ni=null,vi=null,qE=!1,H0=!1,Ax=0,ege=0;function Li(){throw Error(tt(321))}function WL(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!za(t[n],e[n]))return!1;return!0}function GL(t,e,n,r,i,s){if(mh=s,Mr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nE.current=t===null||t.memoizedState===null?ige:sge,t=n(r,i),H0){s=0;do{if(H0=!1,Ax=0,25<=s)throw Error(tt(301));s+=1,vi=ni=null,e.updateQueue=null,nE.current=oge,t=n(r,i)}while(H0)}if(nE.current=XE,e=ni!==null&&ni.next!==null,mh=0,vi=ni=Mr=null,qE=!1,e)throw Error(tt(300));return t}function qL(){var t=Ax!==0;return Ax=0,t}function ll(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vi===null?Mr.memoizedState=vi=t:vi=vi.next=t,vi}function Yo(){if(ni===null){var t=Mr.alternate;t=t!==null?t.memoizedState:null}else t=ni.next;var e=vi===null?Mr.memoizedState:vi.next;if(e!==null)vi=e,ni=t;else{if(t===null)throw Error(tt(310));ni=t,t={memoizedState:ni.memoizedState,baseState:ni.baseState,baseQueue:ni.baseQueue,queue:ni.queue,next:null},vi===null?Mr.memoizedState=vi=t:vi=vi.next=t}return vi}function Tx(t,e){return typeof e=="function"?e(t):e}function FN(t){var e=Yo(),n=e.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=t;var r=ni,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((mh&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Mr.lanes|=f,gh|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,za(r,e.memoizedState)||(Rs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Mr.lanes|=s,gh|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function BN(t){var e=Yo(),n=e.queue;if(n===null)throw Error(tt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);za(s,e.memoizedState)||(Rs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function RX(){}function OX(t,e){var n=Mr,r=Yo(),i=e(),s=!za(r.memoizedState,i);if(s&&(r.memoizedState=i,Rs=!0),r=r.queue,XL(DX.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||vi!==null&&vi.memoizedState.tag&1){if(n.flags|=2048,Px(9,IX.bind(null,n,r,i,e),void 0,null),_i===null)throw Error(tt(349));mh&30||kX(n,e,i)}return i}function kX(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IX(t,e,n,r){e.value=n,e.getSnapshot=r,jX(e)&&LX(t)}function DX(t,e,n){return n(function(){jX(e)&&LX(t)})}function jX(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!za(t,n)}catch{return!0}}function LX(t){var e=jc(t,1);e!==null&&Ia(e,t,1,-1)}function JU(t){var e=ll();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tx,lastRenderedState:t},e.queue=t,t=t.dispatch=rge.bind(null,Mr,t),[e.memoizedState,t]}function Px(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Mr.updateQueue,e===null?(e={lastEffect:null,stores:null},Mr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FX(){return Yo().memoizedState}function rE(t,e,n,r){var i=ll();Mr.flags|=t,i.memoizedState=Px(1|e,n,void 0,r===void 0?null:r)}function IA(t,e,n,r){var i=Yo();r=r===void 0?null:r;var s=void 0;if(ni!==null){var o=ni.memoizedState;if(s=o.destroy,r!==null&&WL(r,o.deps)){i.memoizedState=Px(e,n,s,r);return}}Mr.flags|=t,i.memoizedState=Px(1|e,n,s,r)}function e$(t,e){return rE(8390656,8,t,e)}function XL(t,e){return IA(2048,8,t,e)}function BX(t,e){return IA(4,2,t,e)}function zX(t,e){return IA(4,4,t,e)}function UX(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $X(t,e,n){return n=n!=null?n.concat([t]):null,IA(4,4,UX.bind(null,e,t),n)}function KL(){}function HX(t,e){var n=Yo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&WL(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function VX(t,e){var n=Yo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&WL(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function WX(t,e,n){return mh&21?(za(n,e)||(n=Yq(),Mr.lanes|=n,gh|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rs=!0),t.memoizedState=n)}function tge(t,e){var n=$n;$n=n!==0&&4>n?n:4,t(!0);var r=LN.transition;LN.transition={};try{t(!1),e()}finally{$n=n,LN.transition=r}}function GX(){return Yo().memoizedState}function nge(t,e,n){var r=cd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qX(t))XX(e,n);else if(n=TX(t,e,n,r),n!==null){var i=fs();Ia(n,t,r,i),KX(n,e,r)}}function rge(t,e,n){var r=cd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qX(t))XX(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,za(a,o)){var l=e.interleaved;l===null?(i.next=i,zL(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=TX(t,e,i,r),n!==null&&(i=fs(),Ia(n,t,r,i),KX(n,e,r))}}function qX(t){var e=t.alternate;return t===Mr||e!==null&&e===Mr}function XX(t,e){H0=qE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KX(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ML(t,n)}}var XE={readContext:Ko,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},ige={readContext:Ko,useCallback:function(t,e){return ll().memoizedState=[t,e===void 0?null:e],t},useContext:Ko,useEffect:e$,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rE(4194308,4,UX.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rE(4194308,4,t,e)},useInsertionEffect:function(t,e){return rE(4,2,t,e)},useMemo:function(t,e){var n=ll();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ll();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=nge.bind(null,Mr,t),[r.memoizedState,t]},useRef:function(t){var e=ll();return t={current:t},e.memoizedState=t},useState:JU,useDebugValue:KL,useDeferredValue:function(t){return ll().memoizedState=t},useTransition:function(){var t=JU(!1),e=t[0];return t=tge.bind(null,t[1]),ll().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Mr,i=ll();if(fr){if(n===void 0)throw Error(tt(407));n=n()}else{if(n=e(),_i===null)throw Error(tt(349));mh&30||kX(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,e$(DX.bind(null,r,s,t),[t]),r.flags|=2048,Px(9,IX.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=ll(),e=_i.identifierPrefix;if(fr){var n=wc,r=bc;n=(r&~(1<<32-ka(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ax++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=ege++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sge={readContext:Ko,useCallback:HX,useContext:Ko,useEffect:XL,useImperativeHandle:$X,useInsertionEffect:BX,useLayoutEffect:zX,useMemo:VX,useReducer:FN,useRef:FX,useState:function(){return FN(Tx)},useDebugValue:KL,useDeferredValue:function(t){var e=Yo();return WX(e,ni.memoizedState,t)},useTransition:function(){var t=FN(Tx)[0],e=Yo().memoizedState;return[t,e]},useMutableSource:RX,useSyncExternalStore:OX,useId:GX,unstable_isNewReconciler:!1},oge={readContext:Ko,useCallback:HX,useContext:Ko,useEffect:XL,useImperativeHandle:$X,useInsertionEffect:BX,useLayoutEffect:zX,useMemo:VX,useReducer:BN,useRef:FX,useState:function(){return BN(Tx)},useDebugValue:KL,useDeferredValue:function(t){var e=Yo();return ni===null?e.memoizedState=t:WX(e,ni.memoizedState,t)},useTransition:function(){var t=BN(Tx)[0],e=Yo().memoizedState;return[t,e]},useMutableSource:RX,useSyncExternalStore:OX,useId:GX,unstable_isNewReconciler:!1};function ga(t,e){if(t&&t.defaultProps){e=Ar({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Fk(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ar({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var DA={isMounted:function(t){return(t=t._reactInternals)?Vh(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=fs(),i=cd(t),s=Ac(r,i);s.payload=e,n!=null&&(s.callback=n),e=ad(t,s,i),e!==null&&(Ia(e,t,i,r),tE(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=fs(),i=cd(t),s=Ac(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ad(t,s,i),e!==null&&(Ia(e,t,i,r),tE(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=fs(),r=cd(t),i=Ac(n,r);i.tag=2,e!=null&&(i.callback=e),e=ad(t,i,r),e!==null&&(Ia(e,t,r,n),tE(e,t,r))}};function t$(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bx(n,r)||!bx(i,s):!0}function YX(t,e,n){var r=!1,i=gd,s=e.contextType;return typeof s=="object"&&s!==null?s=Ko(s):(i=js(e)?hh:Zi.current,r=e.contextTypes,s=(r=r!=null)?_g(t,i):gd),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=DA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function n$(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&DA.enqueueReplaceState(e,e.state,null)}function Bk(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},UL(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ko(s):(s=js(e)?hh:Zi.current,i.context=_g(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Fk(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&DA.enqueueReplaceState(i,i.state,null),WE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Eg(t,e){try{var n="",r=e;do n+=Ipe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zk(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var age=typeof WeakMap=="function"?WeakMap:Map;function ZX(t,e,n){n=Ac(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){YE||(YE=!0,Yk=r),zk(t,e)},n}function QX(t,e,n){n=Ac(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){zk(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){zk(t,e),typeof r!="function"&&(ld===null?ld=new Set([this]):ld.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function r$(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new age;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=bge.bind(null,t,e,n),e.then(t,t))}function i$(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function s$(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ac(-1,1),e.tag=2,ad(n,e,1))),n.lanes|=1),t)}var lge=Xc.ReactCurrentOwner,Rs=!1;function os(t,e,n,r){e.child=t===null?AX(e,null,n,r):wg(e,t.child,n,r)}function o$(t,e,n,r,i){n=n.render;var s=e.ref;return Hm(e,i),r=GL(t,e,n,r,s,i),n=qL(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lc(t,e,i)):(fr&&n&&IL(e),e.flags|=1,os(t,e,r,i),e.child)}function a$(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!r3(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,JX(t,e,s,r,i)):(t=aE(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bx,n(o,r)&&t.ref===e.ref)return Lc(t,e,i)}return e.flags|=1,t=ud(s,r),t.ref=e.ref,t.return=e,e.child=t}function JX(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bx(s,r)&&t.ref===e.ref)if(Rs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Rs=!0);else return e.lanes=t.lanes,Lc(t,e,i)}return Uk(t,e,n,r,i)}function eK(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qn(Cm,eo),eo|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qn(Cm,eo),eo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Qn(Cm,eo),eo|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Qn(Cm,eo),eo|=r;return os(t,e,i,n),e.child}function tK(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Uk(t,e,n,r,i){var s=js(n)?hh:Zi.current;return s=_g(e,s),Hm(e,i),n=GL(t,e,n,r,s,i),r=qL(),t!==null&&!Rs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lc(t,e,i)):(fr&&r&&IL(e),e.flags|=1,os(t,e,n,i),e.child)}function l$(t,e,n,r,i){if(js(n)){var s=!0;zE(e)}else s=!1;if(Hm(e,i),e.stateNode===null)iE(t,e),YX(e,n,r),Bk(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Ko(c):(c=js(n)?hh:Zi.current,c=_g(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&n$(e,o,r,c),Iu=!1;var h=e.memoizedState;o.state=h,WE(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Ds.current||Iu?(typeof f=="function"&&(Fk(e,n,f,r),l=e.memoizedState),(a=Iu||t$(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,PX(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:ga(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ko(l):(l=js(n)?hh:Zi.current,l=_g(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&n$(e,o,r,l),Iu=!1,h=e.memoizedState,o.state=h,WE(e,r,o,i);var v=e.memoizedState;a!==d||h!==v||Ds.current||Iu?(typeof g=="function"&&(Fk(e,n,g,r),v=e.memoizedState),(c=Iu||t$(e,n,c,r,h,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return $k(t,e,n,r,s,i)}function $k(t,e,n,r,i,s){tK(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&qU(e,n,!1),Lc(t,e,s);r=e.stateNode,lge.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=wg(e,t.child,null,s),e.child=wg(e,null,a,s)):os(t,e,a,s),e.memoizedState=r.state,i&&qU(e,n,!0),e.child}function nK(t){var e=t.stateNode;e.pendingContext?GU(t,e.pendingContext,e.pendingContext!==e.context):e.context&&GU(t,e.context,!1),$L(t,e.containerInfo)}function c$(t,e,n,r,i){return bg(),jL(i),e.flags|=256,os(t,e,n,r),e.child}var Hk={dehydrated:null,treeContext:null,retryLane:0};function Vk(t){return{baseLanes:t,cachePool:null,transitions:null}}function rK(t,e,n){var r=e.pendingProps,i=br.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Qn(br,i&1),t===null)return jk(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=FA(o,r,0,null),t=eh(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vk(n),e.memoizedState=Hk,t):YL(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return cge(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ud(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ud(a,s):(s=eh(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Vk(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Hk,r}return s=t.child,t=s.sibling,r=ud(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function YL(t,e){return e=FA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function x1(t,e,n,r){return r!==null&&jL(r),wg(e,t.child,null,n),t=YL(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function cge(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=zN(Error(tt(422))),x1(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=FA({mode:"visible",children:r.children},i,0,null),s=eh(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&wg(e,t.child,null,o),e.child.memoizedState=Vk(o),e.memoizedState=Hk,s);if(!(e.mode&1))return x1(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(tt(419)),r=zN(s,r,void 0),x1(t,e,o,r)}if(a=(o&t.childLanes)!==0,Rs||a){if(r=_i,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,jc(t,i),Ia(r,t,i,-1))}return n3(),r=zN(Error(tt(421))),x1(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wge.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,so=od(i.nextSibling),co=e,fr=!0,Ea=null,t!==null&&(Bo[zo++]=bc,Bo[zo++]=wc,Bo[zo++]=ph,bc=t.id,wc=t.overflow,ph=e),e=YL(e,r.children),e.flags|=4096,e)}function u$(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lk(t.return,e,n)}function UN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function iK(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(os(t,e,r.children,n),r=br.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u$(t,n,e);else if(t.tag===19)u$(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Qn(br,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&GE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),UN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&GE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}UN(e,!0,n,null,s);break;case"together":UN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function iE(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),gh|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(tt(153));if(e.child!==null){for(t=e.child,n=ud(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ud(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function uge(t,e,n){switch(e.tag){case 3:nK(e),bg();break;case 5:NX(e);break;case 1:js(e.type)&&zE(e);break;case 4:$L(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Qn(HE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Qn(br,br.current&1),e.flags|=128,null):n&e.child.childLanes?rK(t,e,n):(Qn(br,br.current&1),t=Lc(t,e,n),t!==null?t.sibling:null);Qn(br,br.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return iK(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Qn(br,br.current),r)break;return null;case 22:case 23:return e.lanes=0,eK(t,e,n)}return Lc(t,e,n)}var sK,Wk,oK,aK;sK=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wk=function(){};oK=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,jf(Sl.current);var s=null;switch(n){case"input":i=hk(t,i),r=hk(t,r),s=[];break;case"select":i=Ar({},i,{value:void 0}),r=Ar({},r,{value:void 0}),s=[];break;case"textarea":i=gk(t,i),r=gk(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=FE)}yk(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(px.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(px.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&rr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};aK=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ly(t,e){if(!fr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function dge(t,e,n){var r=e.pendingProps;switch(DL(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fi(e),null;case 1:return js(e.type)&&BE(),Fi(e),null;case 3:return r=e.stateNode,Sg(),ar(Ds),ar(Zi),VL(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(v1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ea!==null&&(Jk(Ea),Ea=null))),Wk(t,e),Fi(e),null;case 5:HL(e);var i=jf(Mx.current);if(n=e.type,t!==null&&e.stateNode!=null)oK(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(tt(166));return Fi(e),null}if(t=jf(Sl.current),v1(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[pl]=e,r[Ex]=s,t=(e.mode&1)!==0,n){case"dialog":rr("cancel",r),rr("close",r);break;case"iframe":case"object":case"embed":rr("load",r);break;case"video":case"audio":for(i=0;i<E0.length;i++)rr(E0[i],r);break;case"source":rr("error",r);break;case"img":case"image":case"link":rr("error",r),rr("load",r);break;case"details":rr("toggle",r);break;case"input":xU(r,s),rr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},rr("invalid",r);break;case"textarea":bU(r,s),rr("invalid",r)}yk(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&g1(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&g1(r.textContent,a,t),i=["children",""+a]):px.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&rr("scroll",r)}switch(n){case"input":l1(r),_U(r,s,!0);break;case"textarea":l1(r),wU(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=FE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Dq(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[pl]=e,t[Ex]=r,sK(t,e,!1,!1),e.stateNode=t;e:{switch(o=xk(n,r),n){case"dialog":rr("cancel",t),rr("close",t),i=r;break;case"iframe":case"object":case"embed":rr("load",t),i=r;break;case"video":case"audio":for(i=0;i<E0.length;i++)rr(E0[i],t);i=r;break;case"source":rr("error",t),i=r;break;case"img":case"image":case"link":rr("error",t),rr("load",t),i=r;break;case"details":rr("toggle",t),i=r;break;case"input":xU(t,r),i=hk(t,r),rr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ar({},r,{value:void 0}),rr("invalid",t);break;case"textarea":bU(t,r),i=gk(t,r),rr("invalid",t);break;default:i=r}yk(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Fq(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&jq(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&mx(t,l):typeof l=="number"&&mx(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(px.hasOwnProperty(s)?l!=null&&s==="onScroll"&&rr("scroll",t):l!=null&&_L(t,s,l,o))}switch(n){case"input":l1(t),_U(t,r,!1);break;case"textarea":l1(t),wU(t);break;case"option":r.value!=null&&t.setAttribute("value",""+md(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Bm(t,!!r.multiple,s,!1):r.defaultValue!=null&&Bm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=FE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fi(e),null;case 6:if(t&&e.stateNode!=null)aK(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(tt(166));if(n=jf(Mx.current),jf(Sl.current),v1(e)){if(r=e.stateNode,n=e.memoizedProps,r[pl]=e,(s=r.nodeValue!==n)&&(t=co,t!==null))switch(t.tag){case 3:g1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&g1(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[pl]=e,e.stateNode=r}return Fi(e),null;case 13:if(ar(br),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fr&&so!==null&&e.mode&1&&!(e.flags&128))CX(),bg(),e.flags|=98560,s=!1;else if(s=v1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(tt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(tt(317));s[pl]=e}else bg(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fi(e),s=!1}else Ea!==null&&(Jk(Ea),Ea=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||br.current&1?si===0&&(si=3):n3())),e.updateQueue!==null&&(e.flags|=4),Fi(e),null);case 4:return Sg(),Wk(t,e),t===null&&wx(e.stateNode.containerInfo),Fi(e),null;case 10:return BL(e.type._context),Fi(e),null;case 17:return js(e.type)&&BE(),Fi(e),null;case 19:if(ar(br),s=e.memoizedState,s===null)return Fi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ly(s,!1);else{if(si!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=GE(t),o!==null){for(e.flags|=128,Ly(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Qn(br,br.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fr()>Cg&&(e.flags|=128,r=!0,Ly(s,!1),e.lanes=4194304)}else{if(!r)if(t=GE(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ly(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!fr)return Fi(e),null}else 2*Fr()-s.renderingStartTime>Cg&&n!==1073741824&&(e.flags|=128,r=!0,Ly(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fr(),e.sibling=null,n=br.current,Qn(br,r?n&1|2:n&1),e):(Fi(e),null);case 22:case 23:return t3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?eo&1073741824&&(Fi(e),e.subtreeFlags&6&&(e.flags|=8192)):Fi(e),null;case 24:return null;case 25:return null}throw Error(tt(156,e.tag))}function fge(t,e){switch(DL(e),e.tag){case 1:return js(e.type)&&BE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Sg(),ar(Ds),ar(Zi),VL(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return HL(e),null;case 13:if(ar(br),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(tt(340));bg()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ar(br),null;case 4:return Sg(),null;case 10:return BL(e.type._context),null;case 22:case 23:return t3(),null;case 24:return null;default:return null}}var _1=!1,Vi=!1,hge=typeof WeakSet=="function"?WeakSet:Set,_t=null;function Em(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Or(t,e,r)}else n.current=null}function Gk(t,e,n){try{n()}catch(r){Or(t,e,r)}}var d$=!1;function pge(t,e){if(Pk=DE,t=fX(),kL(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++f===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Nk={focusedElem:t,selectionRange:n},DE=!1,_t=e;_t!==null;)if(e=_t,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_t=t;else for(;_t!==null;){e=_t;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,m=v.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:ga(e.type,x),m);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(tt(163))}}catch(b){Or(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,_t=t;break}_t=e.return}return v=d$,d$=!1,v}function V0(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Gk(e,n,s)}i=i.next}while(i!==r)}}function jA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function qk(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lK(t){var e=t.alternate;e!==null&&(t.alternate=null,lK(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pl],delete e[Ex],delete e[kk],delete e[Yme],delete e[Zme])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function cK(t){return t.tag===5||t.tag===3||t.tag===4}function f$(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||cK(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=FE));else if(r!==4&&(t=t.child,t!==null))for(Xk(t,e,n),t=t.sibling;t!==null;)Xk(t,e,n),t=t.sibling}function Kk(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kk(t,e,n),t=t.sibling;t!==null;)Kk(t,e,n),t=t.sibling}var Ci=null,xa=!1;function vu(t,e,n){for(n=n.child;n!==null;)uK(t,e,n),n=n.sibling}function uK(t,e,n){if(wl&&typeof wl.onCommitFiberUnmount=="function")try{wl.onCommitFiberUnmount(TA,n)}catch{}switch(n.tag){case 5:Vi||Em(n,e);case 6:var r=Ci,i=xa;Ci=null,vu(t,e,n),Ci=r,xa=i,Ci!==null&&(xa?(t=Ci,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ci.removeChild(n.stateNode));break;case 18:Ci!==null&&(xa?(t=Ci,n=n.stateNode,t.nodeType===8?IN(t.parentNode,n):t.nodeType===1&&IN(t,n),xx(t)):IN(Ci,n.stateNode));break;case 4:r=Ci,i=xa,Ci=n.stateNode.containerInfo,xa=!0,vu(t,e,n),Ci=r,xa=i;break;case 0:case 11:case 14:case 15:if(!Vi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Gk(n,e,o),i=i.next}while(i!==r)}vu(t,e,n);break;case 1:if(!Vi&&(Em(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Or(n,e,a)}vu(t,e,n);break;case 21:vu(t,e,n);break;case 22:n.mode&1?(Vi=(r=Vi)||n.memoizedState!==null,vu(t,e,n),Vi=r):vu(t,e,n);break;default:vu(t,e,n)}}function h$(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new hge),e.forEach(function(r){var i=Sge.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ua(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ci=a.stateNode,xa=!1;break e;case 3:Ci=a.stateNode.containerInfo,xa=!0;break e;case 4:Ci=a.stateNode.containerInfo,xa=!0;break e}a=a.return}if(Ci===null)throw Error(tt(160));uK(s,o,i),Ci=null,xa=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Or(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dK(e,t),e=e.sibling}function dK(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ua(e,t),sl(t),r&4){try{V0(3,t,t.return),jA(3,t)}catch(x){Or(t,t.return,x)}try{V0(5,t,t.return)}catch(x){Or(t,t.return,x)}}break;case 1:ua(e,t),sl(t),r&512&&n!==null&&Em(n,n.return);break;case 5:if(ua(e,t),sl(t),r&512&&n!==null&&Em(n,n.return),t.flags&32){var i=t.stateNode;try{mx(i,"")}catch(x){Or(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kq(i,s),xk(a,o);var c=xk(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?Fq(i,d):f==="dangerouslySetInnerHTML"?jq(i,d):f==="children"?mx(i,d):_L(i,f,d,c)}switch(a){case"input":pk(i,s);break;case"textarea":Iq(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?Bm(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?Bm(i,!!s.multiple,s.defaultValue,!0):Bm(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ex]=s}catch(x){Or(t,t.return,x)}}break;case 6:if(ua(e,t),sl(t),r&4){if(t.stateNode===null)throw Error(tt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Or(t,t.return,x)}}break;case 3:if(ua(e,t),sl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{xx(e.containerInfo)}catch(x){Or(t,t.return,x)}break;case 4:ua(e,t),sl(t);break;case 13:ua(e,t),sl(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(JL=Fr())),r&4&&h$(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(Vi=(c=Vi)||f,ua(e,t),Vi=c):ua(e,t),sl(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(_t=t,f=t.child;f!==null;){for(d=_t=f;_t!==null;){switch(h=_t,g=h.child,h.tag){case 0:case 11:case 14:case 15:V0(4,h,h.return);break;case 1:Em(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Or(r,n,x)}}break;case 5:Em(h,h.return);break;case 22:if(h.memoizedState!==null){m$(d);continue}}g!==null?(g.return=h,_t=g):m$(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Lq("display",o))}catch(x){Or(t,t.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Or(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ua(e,t),sl(t),r&4&&h$(t);break;case 21:break;default:ua(e,t),sl(t)}}function sl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(cK(n)){var r=n;break e}n=n.return}throw Error(tt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(mx(i,""),r.flags&=-33);var s=f$(t);Kk(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=f$(t);Xk(t,a,o);break;default:throw Error(tt(161))}}catch(l){Or(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function mge(t,e,n){_t=t,fK(t)}function fK(t,e,n){for(var r=(t.mode&1)!==0;_t!==null;){var i=_t,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||_1;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Vi;a=_1;var c=Vi;if(_1=o,(Vi=l)&&!c)for(_t=i;_t!==null;)o=_t,l=o.child,o.tag===22&&o.memoizedState!==null?g$(i):l!==null?(l.return=o,_t=l):g$(i);for(;s!==null;)_t=s,fK(s),s=s.sibling;_t=i,_1=a,Vi=c}p$(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_t=s):p$(t)}}function p$(t){for(;_t!==null;){var e=_t;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vi||jA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ga(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&QU(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QU(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&xx(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(tt(163))}Vi||e.flags&512&&qk(e)}catch(h){Or(e,e.return,h)}}if(e===t){_t=null;break}if(n=e.sibling,n!==null){n.return=e.return,_t=n;break}_t=e.return}}function m$(t){for(;_t!==null;){var e=_t;if(e===t){_t=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_t=n;break}_t=e.return}}function g$(t){for(;_t!==null;){var e=_t;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{jA(4,e)}catch(l){Or(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Or(e,i,l)}}var s=e.return;try{qk(e)}catch(l){Or(e,s,l)}break;case 5:var o=e.return;try{qk(e)}catch(l){Or(e,o,l)}}}catch(l){Or(e,e.return,l)}if(e===t){_t=null;break}var a=e.sibling;if(a!==null){a.return=e.return,_t=a;break}_t=e.return}}var gge=Math.ceil,KE=Xc.ReactCurrentDispatcher,ZL=Xc.ReactCurrentOwner,qo=Xc.ReactCurrentBatchConfig,Cn=0,_i=null,Xr=null,Mi=0,eo=0,Cm=Md(0),si=0,Nx=null,gh=0,LA=0,QL=0,W0=null,Ts=null,JL=0,Cg=1/0,pc=null,YE=!1,Yk=null,ld=null,b1=!1,Qu=null,ZE=0,G0=0,Zk=null,sE=-1,oE=0;function fs(){return Cn&6?Fr():sE!==-1?sE:sE=Fr()}function cd(t){return t.mode&1?Cn&2&&Mi!==0?Mi&-Mi:Jme.transition!==null?(oE===0&&(oE=Yq()),oE):(t=$n,t!==0||(t=window.event,t=t===void 0?16:rX(t.type)),t):1}function Ia(t,e,n,r){if(50<G0)throw G0=0,Zk=null,Error(tt(185));ib(t,n,r),(!(Cn&2)||t!==_i)&&(t===_i&&(!(Cn&2)&&(LA|=n),si===4&&Lu(t,Mi)),Ls(t,r),n===1&&Cn===0&&!(e.mode&1)&&(Cg=Fr()+500,kA&&Ad()))}function Ls(t,e){var n=t.callbackNode;Jpe(t,e);var r=IE(t,t===_i?Mi:0);if(r===0)n!==null&&CU(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&CU(n),e===1)t.tag===0?Qme(v$.bind(null,t)):wX(v$.bind(null,t)),Xme(function(){!(Cn&6)&&Ad()}),n=null;else{switch(Zq(r)){case 1:n=CL;break;case 4:n=Xq;break;case 16:n=kE;break;case 536870912:n=Kq;break;default:n=kE}n=_K(n,hK.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hK(t,e){if(sE=-1,oE=0,Cn&6)throw Error(tt(327));var n=t.callbackNode;if(Vm()&&t.callbackNode!==n)return null;var r=IE(t,t===_i?Mi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=QE(t,r);else{e=r;var i=Cn;Cn|=2;var s=mK();(_i!==t||Mi!==e)&&(pc=null,Cg=Fr()+500,Jf(t,e));do try{xge();break}catch(a){pK(t,a)}while(!0);FL(),KE.current=s,Cn=i,Xr!==null?e=0:(_i=null,Mi=0,e=si)}if(e!==0){if(e===2&&(i=Ek(t),i!==0&&(r=i,e=Qk(t,i))),e===1)throw n=Nx,Jf(t,0),Lu(t,r),Ls(t,Fr()),n;if(e===6)Lu(t,r);else{if(i=t.current.alternate,!(r&30)&&!vge(i)&&(e=QE(t,r),e===2&&(s=Ek(t),s!==0&&(r=s,e=Qk(t,s))),e===1))throw n=Nx,Jf(t,0),Lu(t,r),Ls(t,Fr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(tt(345));case 2:wf(t,Ts,pc);break;case 3:if(Lu(t,r),(r&130023424)===r&&(e=JL+500-Fr(),10<e)){if(IE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){fs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ok(wf.bind(null,t,Ts,pc),e);break}wf(t,Ts,pc);break;case 4:if(Lu(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-ka(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gge(r/1960))-r,10<r){t.timeoutHandle=Ok(wf.bind(null,t,Ts,pc),r);break}wf(t,Ts,pc);break;case 5:wf(t,Ts,pc);break;default:throw Error(tt(329))}}}return Ls(t,Fr()),t.callbackNode===n?hK.bind(null,t):null}function Qk(t,e){var n=W0;return t.current.memoizedState.isDehydrated&&(Jf(t,e).flags|=256),t=QE(t,e),t!==2&&(e=Ts,Ts=n,e!==null&&Jk(e)),t}function Jk(t){Ts===null?Ts=t:Ts.push.apply(Ts,t)}function vge(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!za(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lu(t,e){for(e&=~QL,e&=~LA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ka(e),r=1<<n;t[n]=-1,e&=~r}}function v$(t){if(Cn&6)throw Error(tt(327));Vm();var e=IE(t,0);if(!(e&1))return Ls(t,Fr()),null;var n=QE(t,e);if(t.tag!==0&&n===2){var r=Ek(t);r!==0&&(e=r,n=Qk(t,r))}if(n===1)throw n=Nx,Jf(t,0),Lu(t,e),Ls(t,Fr()),n;if(n===6)throw Error(tt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wf(t,Ts,pc),Ls(t,Fr()),null}function e3(t,e){var n=Cn;Cn|=1;try{return t(e)}finally{Cn=n,Cn===0&&(Cg=Fr()+500,kA&&Ad())}}function vh(t){Qu!==null&&Qu.tag===0&&!(Cn&6)&&Vm();var e=Cn;Cn|=1;var n=qo.transition,r=$n;try{if(qo.transition=null,$n=1,t)return t()}finally{$n=r,qo.transition=n,Cn=e,!(Cn&6)&&Ad()}}function t3(){eo=Cm.current,ar(Cm)}function Jf(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qme(n)),Xr!==null)for(n=Xr.return;n!==null;){var r=n;switch(DL(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&BE();break;case 3:Sg(),ar(Ds),ar(Zi),VL();break;case 5:HL(r);break;case 4:Sg();break;case 13:ar(br);break;case 19:ar(br);break;case 10:BL(r.type._context);break;case 22:case 23:t3()}n=n.return}if(_i=t,Xr=t=ud(t.current,null),Mi=eo=e,si=0,Nx=null,QL=LA=gh=0,Ts=W0=null,Df!==null){for(e=0;e<Df.length;e++)if(n=Df[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Df=null}return t}function pK(t,e){do{var n=Xr;try{if(FL(),nE.current=XE,qE){for(var r=Mr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}qE=!1}if(mh=0,vi=ni=Mr=null,H0=!1,Ax=0,ZL.current=null,n===null||n.return===null){si=1,Nx=e,Xr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=i$(o);if(g!==null){g.flags&=-257,s$(g,o,a,s,e),g.mode&1&&r$(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){r$(s,c,e),n3();break e}l=Error(tt(426))}}else if(fr&&a.mode&1){var m=i$(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),s$(m,o,a,s,e),jL(Eg(l,a));break e}}s=l=Eg(l,a),si!==4&&(si=2),W0===null?W0=[s]:W0.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=ZX(s,l,e);ZU(s,p);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ld===null||!ld.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=QX(s,a,e);ZU(s,b);break e}}s=s.return}while(s!==null)}vK(n)}catch(S){e=S,Xr===n&&n!==null&&(Xr=n=n.return);continue}break}while(!0)}function mK(){var t=KE.current;return KE.current=XE,t===null?XE:t}function n3(){(si===0||si===3||si===2)&&(si=4),_i===null||!(gh&268435455)&&!(LA&268435455)||Lu(_i,Mi)}function QE(t,e){var n=Cn;Cn|=2;var r=mK();(_i!==t||Mi!==e)&&(pc=null,Jf(t,e));do try{yge();break}catch(i){pK(t,i)}while(!0);if(FL(),Cn=n,KE.current=r,Xr!==null)throw Error(tt(261));return _i=null,Mi=0,si}function yge(){for(;Xr!==null;)gK(Xr)}function xge(){for(;Xr!==null&&!Vpe();)gK(Xr)}function gK(t){var e=xK(t.alternate,t,eo);t.memoizedProps=t.pendingProps,e===null?vK(t):Xr=e,ZL.current=null}function vK(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=fge(n,e),n!==null){n.flags&=32767,Xr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{si=6,Xr=null;return}}else if(n=dge(n,e,eo),n!==null){Xr=n;return}if(e=e.sibling,e!==null){Xr=e;return}Xr=e=t}while(e!==null);si===0&&(si=5)}function wf(t,e,n){var r=$n,i=qo.transition;try{qo.transition=null,$n=1,_ge(t,e,n,r)}finally{qo.transition=i,$n=r}return null}function _ge(t,e,n,r){do Vm();while(Qu!==null);if(Cn&6)throw Error(tt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(tt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(eme(t,s),t===_i&&(Xr=_i=null,Mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||b1||(b1=!0,_K(kE,function(){return Vm(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qo.transition,qo.transition=null;var o=$n;$n=1;var a=Cn;Cn|=4,ZL.current=null,pge(t,n),dK(n,t),zme(Nk),DE=!!Pk,Nk=Pk=null,t.current=n,mge(n),Wpe(),Cn=a,$n=o,qo.transition=s}else t.current=n;if(b1&&(b1=!1,Qu=t,ZE=i),s=t.pendingLanes,s===0&&(ld=null),Xpe(n.stateNode),Ls(t,Fr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(YE)throw YE=!1,t=Yk,Yk=null,t;return ZE&1&&t.tag!==0&&Vm(),s=t.pendingLanes,s&1?t===Zk?G0++:(G0=0,Zk=t):G0=0,Ad(),null}function Vm(){if(Qu!==null){var t=Zq(ZE),e=qo.transition,n=$n;try{if(qo.transition=null,$n=16>t?16:t,Qu===null)var r=!1;else{if(t=Qu,Qu=null,ZE=0,Cn&6)throw Error(tt(331));var i=Cn;for(Cn|=4,_t=t.current;_t!==null;){var s=_t,o=s.child;if(_t.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_t=c;_t!==null;){var f=_t;switch(f.tag){case 0:case 11:case 15:V0(8,f,s)}var d=f.child;if(d!==null)d.return=f,_t=d;else for(;_t!==null;){f=_t;var h=f.sibling,g=f.return;if(lK(f),f===c){_t=null;break}if(h!==null){h.return=g,_t=h;break}_t=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var m=x.sibling;x.sibling=null,x=m}while(x!==null)}}_t=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_t=o;else e:for(;_t!==null;){if(s=_t,s.flags&2048)switch(s.tag){case 0:case 11:case 15:V0(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,_t=p;break e}_t=s.return}}var y=t.current;for(_t=y;_t!==null;){o=_t;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,_t=_;else e:for(o=y;_t!==null;){if(a=_t,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:jA(9,a)}}catch(S){Or(a,a.return,S)}if(a===o){_t=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,_t=b;break e}_t=a.return}}if(Cn=i,Ad(),wl&&typeof wl.onPostCommitFiberRoot=="function")try{wl.onPostCommitFiberRoot(TA,t)}catch{}r=!0}return r}finally{$n=n,qo.transition=e}}return!1}function y$(t,e,n){e=Eg(n,e),e=ZX(t,e,1),t=ad(t,e,1),e=fs(),t!==null&&(ib(t,1,e),Ls(t,e))}function Or(t,e,n){if(t.tag===3)y$(t,t,n);else for(;e!==null;){if(e.tag===3){y$(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ld===null||!ld.has(r))){t=Eg(n,t),t=QX(e,t,1),e=ad(e,t,1),t=fs(),e!==null&&(ib(e,1,t),Ls(e,t));break}}e=e.return}}function bge(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=fs(),t.pingedLanes|=t.suspendedLanes&n,_i===t&&(Mi&n)===n&&(si===4||si===3&&(Mi&130023424)===Mi&&500>Fr()-JL?Jf(t,0):QL|=n),Ls(t,e)}function yK(t,e){e===0&&(t.mode&1?(e=d1,d1<<=1,!(d1&130023424)&&(d1=4194304)):e=1);var n=fs();t=jc(t,e),t!==null&&(ib(t,e,n),Ls(t,n))}function wge(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yK(t,n)}function Sge(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(tt(314))}r!==null&&r.delete(e),yK(t,n)}var xK;xK=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ds.current)Rs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rs=!1,uge(t,e,n);Rs=!!(t.flags&131072)}else Rs=!1,fr&&e.flags&1048576&&SX(e,$E,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;iE(t,e),t=e.pendingProps;var i=_g(e,Zi.current);Hm(e,n),i=GL(null,e,r,t,i,n);var s=qL();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,js(r)?(s=!0,zE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,UL(e),i.updater=DA,e.stateNode=i,i._reactInternals=e,Bk(e,r,t,n),e=$k(null,e,r,!0,s,n)):(e.tag=0,fr&&s&&IL(e),os(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(iE(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Cge(r),t=ga(r,t),i){case 0:e=Uk(null,e,r,t,n);break e;case 1:e=l$(null,e,r,t,n);break e;case 11:e=o$(null,e,r,t,n);break e;case 14:e=a$(null,e,r,ga(r.type,t),n);break e}throw Error(tt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ga(r,i),Uk(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ga(r,i),l$(t,e,r,i,n);case 3:e:{if(nK(e),t===null)throw Error(tt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,PX(t,e),WE(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Eg(Error(tt(423)),e),e=c$(t,e,r,n,i);break e}else if(r!==i){i=Eg(Error(tt(424)),e),e=c$(t,e,r,n,i);break e}else for(so=od(e.stateNode.containerInfo.firstChild),co=e,fr=!0,Ea=null,n=AX(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bg(),r===i){e=Lc(t,e,n);break e}os(t,e,r,n)}e=e.child}return e;case 5:return NX(e),t===null&&jk(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Rk(r,i)?o=null:s!==null&&Rk(r,s)&&(e.flags|=32),tK(t,e),os(t,e,o,n),e.child;case 6:return t===null&&jk(e),null;case 13:return rK(t,e,n);case 4:return $L(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=wg(e,null,r,n):os(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ga(r,i),o$(t,e,r,i,n);case 7:return os(t,e,e.pendingProps,n),e.child;case 8:return os(t,e,e.pendingProps.children,n),e.child;case 12:return os(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Qn(HE,r._currentValue),r._currentValue=o,s!==null)if(za(s.value,o)){if(s.children===i.children&&!Ds.current){e=Lc(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ac(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Lk(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(tt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lk(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}os(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hm(e,n),i=Ko(i),r=r(i),e.flags|=1,os(t,e,r,n),e.child;case 14:return r=e.type,i=ga(r,e.pendingProps),i=ga(r.type,i),a$(t,e,r,i,n);case 15:return JX(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ga(r,i),iE(t,e),e.tag=1,js(r)?(t=!0,zE(e)):t=!1,Hm(e,n),YX(e,r,i),Bk(e,r,i,n),$k(null,e,r,!0,t,n);case 19:return iK(t,e,n);case 22:return eK(t,e,n)}throw Error(tt(156,e.tag))};function _K(t,e){return qq(t,e)}function Ege(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $o(t,e,n,r){return new Ege(t,e,n,r)}function r3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cge(t){if(typeof t=="function")return r3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===wL)return 11;if(t===SL)return 14}return 2}function ud(t,e){var n=t.alternate;return n===null?(n=$o(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function aE(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")r3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mm:return eh(n.children,i,s,e);case bL:o=8,i|=8;break;case ck:return t=$o(12,n,e,i|2),t.elementType=ck,t.lanes=s,t;case uk:return t=$o(13,n,e,i),t.elementType=uk,t.lanes=s,t;case dk:return t=$o(19,n,e,i),t.elementType=dk,t.lanes=s,t;case Nq:return FA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tq:o=10;break e;case Pq:o=9;break e;case wL:o=11;break e;case SL:o=14;break e;case ku:o=16,r=null;break e}throw Error(tt(130,t==null?t:typeof t,""))}return e=$o(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function eh(t,e,n,r){return t=$o(7,t,r,e),t.lanes=n,t}function FA(t,e,n,r){return t=$o(22,t,r,e),t.elementType=Nq,t.lanes=n,t.stateNode={isHidden:!1},t}function $N(t,e,n){return t=$o(6,t,null,e),t.lanes=n,t}function HN(t,e,n){return e=$o(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Mge(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=SN(0),this.expirationTimes=SN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=SN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function i3(t,e,n,r,i,s,o,a,l){return t=new Mge(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=$o(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},UL(s),t}function Age(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pm,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bK(t){if(!t)return gd;t=t._reactInternals;e:{if(Vh(t)!==t||t.tag!==1)throw Error(tt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(js(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(tt(171))}if(t.tag===1){var n=t.type;if(js(n))return bX(t,n,e)}return e}function wK(t,e,n,r,i,s,o,a,l){return t=i3(n,r,!0,t,i,s,o,a,l),t.context=bK(null),n=t.current,r=fs(),i=cd(n),s=Ac(r,i),s.callback=e??null,ad(n,s,i),t.current.lanes=i,ib(t,i,r),Ls(t,r),t}function BA(t,e,n,r){var i=e.current,s=fs(),o=cd(i);return n=bK(n),e.context===null?e.context=n:e.pendingContext=n,e=Ac(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ad(i,e,o),t!==null&&(Ia(t,i,o,s),tE(t,i,o)),o}function JE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function x$(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function s3(t,e){x$(t,e),(t=t.alternate)&&x$(t,e)}function Tge(){return null}var SK=typeof reportError=="function"?reportError:function(t){console.error(t)};function o3(t){this._internalRoot=t}zA.prototype.render=o3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(tt(409));BA(t,e,null,null)};zA.prototype.unmount=o3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;vh(function(){BA(null,t,null,null)}),e[Dc]=null}};function zA(t){this._internalRoot=t}zA.prototype.unstable_scheduleHydration=function(t){if(t){var e=eX();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ju.length&&e!==0&&e<ju[n].priority;n++);ju.splice(n,0,t),n===0&&nX(t)}};function a3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function UA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _$(){}function Pge(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=JE(o);s.call(c)}}var o=wK(e,r,t,0,null,!1,!1,"",_$);return t._reactRootContainer=o,t[Dc]=o.current,wx(t.nodeType===8?t.parentNode:t),vh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=JE(l);a.call(c)}}var l=i3(t,0,!1,null,null,!1,!1,"",_$);return t._reactRootContainer=l,t[Dc]=l.current,wx(t.nodeType===8?t.parentNode:t),vh(function(){BA(e,l,n,r)}),l}function $A(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=JE(o);a.call(l)}}BA(e,o,t,i)}else o=Pge(n,e,t,i,r);return JE(o)}Qq=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=S0(e.pendingLanes);n!==0&&(ML(e,n|1),Ls(e,Fr()),!(Cn&6)&&(Cg=Fr()+500,Ad()))}break;case 13:vh(function(){var r=jc(t,1);if(r!==null){var i=fs();Ia(r,t,1,i)}}),s3(t,1)}};AL=function(t){if(t.tag===13){var e=jc(t,134217728);if(e!==null){var n=fs();Ia(e,t,134217728,n)}s3(t,134217728)}};Jq=function(t){if(t.tag===13){var e=cd(t),n=jc(t,e);if(n!==null){var r=fs();Ia(n,t,e,r)}s3(t,e)}};eX=function(){return $n};tX=function(t,e){var n=$n;try{return $n=t,e()}finally{$n=n}};bk=function(t,e,n){switch(e){case"input":if(pk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=OA(r);if(!i)throw Error(tt(90));Oq(r),pk(r,i)}}}break;case"textarea":Iq(t,n);break;case"select":e=n.value,e!=null&&Bm(t,!!n.multiple,e,!1)}};Uq=e3;$q=vh;var Nge={usingClientEntryPoint:!1,Events:[ob,xm,OA,Bq,zq,e3]},Fy={findFiberByHostInstance:If,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rge={bundleType:Fy.bundleType,version:Fy.version,rendererPackageName:Fy.rendererPackageName,rendererConfig:Fy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Wq(t),t===null?null:t.stateNode},findFiberByHostInstance:Fy.findFiberByHostInstance||Tge,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var w1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!w1.isDisabled&&w1.supportsFiber)try{TA=w1.inject(Rge),wl=w1}catch{}}xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Nge;xo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!a3(e))throw Error(tt(200));return Age(t,e,null,n)};xo.createRoot=function(t,e){if(!a3(t))throw Error(tt(299));var n=!1,r="",i=SK;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=i3(t,1,!1,null,null,n,!1,r,i),t[Dc]=e.current,wx(t.nodeType===8?t.parentNode:t),new o3(e)};xo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(tt(188)):(t=Object.keys(t).join(","),Error(tt(268,t)));return t=Wq(e),t=t===null?null:t.stateNode,t};xo.flushSync=function(t){return vh(t)};xo.hydrate=function(t,e,n){if(!UA(e))throw Error(tt(200));return $A(null,t,e,!0,n)};xo.hydrateRoot=function(t,e,n){if(!a3(t))throw Error(tt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=SK;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=wK(e,null,t,1,n??null,i,!1,s,o),t[Dc]=e.current,wx(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zA(e)};xo.render=function(t,e,n){if(!UA(e))throw Error(tt(200));return $A(null,t,e,!1,n)};xo.unmountComponentAtNode=function(t){if(!UA(t))throw Error(tt(40));return t._reactRootContainer?(vh(function(){$A(null,null,t,!1,function(){t._reactRootContainer=null,t[Dc]=null})}),!0):!1};xo.unstable_batchedUpdates=e3;xo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!UA(n))throw Error(tt(200));if(t==null||t._reactInternals===void 0)throw Error(tt(38));return $A(t,e,n,!1,r)};xo.version="18.3.1-next-f1338f8080-20240426";function EK(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(EK)}catch(t){console.error(t)}}EK(),Eq.exports=xo;var Wh=Eq.exports;const CK=kn(Wh);var l3,b$=Wh;l3=b$.createRoot,b$.hydrateRoot;function Oge(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var MK={exports:{}},AK={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg=A;function kge(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ige=typeof Object.is=="function"?Object.is:kge,Dge=Mg.useState,jge=Mg.useEffect,Lge=Mg.useLayoutEffect,Fge=Mg.useDebugValue;function Bge(t,e){var n=e(),r=Dge({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Lge(function(){i.value=n,i.getSnapshot=e,VN(i)&&s({inst:i})},[t,n,e]),jge(function(){return VN(i)&&s({inst:i}),t(function(){VN(i)&&s({inst:i})})},[t]),Fge(n),n}function VN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ige(t,n)}catch{return!0}}function zge(t,e){return e()}var Uge=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?zge:Bge;AK.useSyncExternalStore=Mg.useSyncExternalStore!==void 0?Mg.useSyncExternalStore:Uge;MK.exports=AK;var TK=MK.exports;const $ge=AA.useInsertionEffect,Hge=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vge=Hge?A.useLayoutEffect:A.useEffect,Wge=$ge||Vge,PK=t=>{const e=A.useRef([t,(...n)=>e[0](...n)]).current;return Wge(()=>{e[0]=t}),e[1]},Gge="popstate",c3="pushState",u3="replaceState",qge="hashchange",w$=[Gge,c3,u3,qge],Xge=t=>{for(const e of w$)addEventListener(e,t);return()=>{for(const e of w$)removeEventListener(e,t)}},NK=(t,e)=>TK.useSyncExternalStore(Xge,t,e),Kge=()=>location.search,Yge=({ssrSearch:t=""}={})=>NK(Kge,()=>t),S$=()=>location.pathname,Zge=({ssrPath:t}={})=>NK(S$,t?()=>t:S$),Qge=(t,{replace:e=!1,state:n=null}={})=>history[e?u3:c3](n,"",t),Jge=(t={})=>[Zge(t),Qge],E$=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[E$]>"u"){for(const t of[c3,u3]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,E$,{value:!0})}const eve=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",RK=(t="")=>t==="/"?"":t,tve=(t,e)=>t[0]==="~"?t.slice(1):RK(e)+t,nve=(t="",e)=>eve(eI(RK(t)),eI(e)),rve=t=>t[0]==="?"?t.slice(1):t,eI=t=>{try{return decodeURI(t)}catch{return t}},ive=t=>eI(rve(t)),OK={hook:Jge,searchHook:Yge,parser:Oge,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},kK=A.createContext(OK),Nv=()=>A.useContext(kK),IK={},DK=A.createContext(IK),sve=()=>A.useContext(DK),HA=t=>{const[e,n]=t.hook(t);return[nve(t.base,e),PK((r,i)=>n(tve(r,t.base),i))]},Ni=()=>HA(Nv()),VA=()=>{const t=Nv();return ive(t.searchHook(t))},jK=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((d,h)=>[d,l[h]])):o.groups;let f={...l};return c&&Object.assign(f,c),f})(),...r?[a]:[]]:[!1,null]},ove=({children:t,...e})=>{var f,d;const n=Nv(),r=e.hook?OK:n;let i=r;const[s,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=A.useRef({}),l=a.current,c=l;for(let h in r){const g=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&g!==c[h]&&(a.current=c={...c}),c[h]=g,g!==r[h]&&(i=c)}return A.createElement(kK.Provider,{value:i,children:t})},C$=({children:t,component:e},n)=>e?A.createElement(e,{params:n}):typeof t=="function"?t(n):t,ave=t=>{let e=A.useRef(IK),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},_s=({path:t,nest:e,match:n,...r})=>{const i=Nv(),[s]=HA(i),[o,a,l]=n??jK(i.parser,t,s,e),c=ave({...sve(),...a});if(!o)return null;const f=l?A.createElement(ove,{base:l},C$(r,c)):C$(r,c);return A.createElement(DK.Provider,{value:c,children:f})},_a=A.forwardRef((t,e)=>{const n=Nv(),[r,i]=HA(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:f,replace:d,state:h,...g}=t,v=PK(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(a==null||a(m),m.defaultPrevented||(m.preventDefault(),i(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&A.isValidElement(c)?A.cloneElement(c,{onClick:v,href:x}):A.createElement("a",{...g,onClick:v,href:x,className:f!=null&&f.call?f(r===o):f,children:c,ref:e})}),LK=t=>Array.isArray(t)?t.flatMap(e=>LK(e&&e.type===A.Fragment?e.props.children:e)):[t],lve=({children:t,location:e})=>{const n=Nv(),[r]=HA(n);for(const i of LK(t)){let s=0;if(A.isValidElement(i)&&(s=jK(n.parser,i.props.path,e||r,i.props.nest))[0])return A.cloneElement(i,{match:s})}return null};var Rv=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yh=typeof window>"u"||"Deno"in globalThis;function Fo(){}function cve(t,e){return typeof t=="function"?t(e):t}function tI(t){return typeof t=="number"&&t>=0&&t!==1/0}function FK(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Wm(t,e){return typeof t=="function"?t(e):t}function Ca(t,e){return typeof t=="function"?t(e):t}function M$(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==d3(o,e.options))return!1}else if(!Rx(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function A$(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(xh(e.options.mutationKey)!==xh(s))return!1}else if(!Rx(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function d3(t,e){return((e==null?void 0:e.queryKeyHashFn)||xh)(t)}function xh(t){return JSON.stringify(t,(e,n)=>nI(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function Rx(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Rx(t[n],e[n])):!1}function BK(t,e){if(t===e)return t;const n=T$(t)&&T$(e);if(n||nI(t)&&nI(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const f=n?c:s[c];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=BK(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function eC(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function T$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function nI(t){if(!P$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!P$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function P$(t){return Object.prototype.toString.call(t)==="[object Object]"}function uve(t){return new Promise(e=>{setTimeout(e,t)})}function rI(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?BK(t,e):e}function dve(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function fve(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var f3=Symbol();function zK(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===f3?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Gf,$u,og,rq,hve=(rq=class extends Rv{constructor(){super();Ht(this,Gf);Ht(this,$u);Ht(this,og);yt(this,og,e=>{if(!yh&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,$u)||this.setEventListener(ge(this,og))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,$u))==null||e.call(this),yt(this,$u,void 0))}setEventListener(e){var n;yt(this,og,e),(n=ge(this,$u))==null||n.call(this),yt(this,$u,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ge(this,Gf)!==e&&(yt(this,Gf,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ge(this,Gf)=="boolean"?ge(this,Gf):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Gf=new WeakMap,$u=new WeakMap,og=new WeakMap,rq),h3=new hve,ag,Hu,lg,iq,pve=(iq=class extends Rv{constructor(){super();Ht(this,ag,!0);Ht(this,Hu);Ht(this,lg);yt(this,lg,e=>{if(!yh&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ge(this,Hu)||this.setEventListener(ge(this,lg))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,Hu))==null||e.call(this),yt(this,Hu,void 0))}setEventListener(e){var n;yt(this,lg,e),(n=ge(this,Hu))==null||n.call(this),yt(this,Hu,e(this.setOnline.bind(this)))}setOnline(e){ge(this,ag)!==e&&(yt(this,ag,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ge(this,ag)}},ag=new WeakMap,Hu=new WeakMap,lg=new WeakMap,iq),tC=new pve;function iI(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function mve(t){return Math.min(1e3*2**t,3e4)}function UK(t){return(t??"online")==="online"?tC.isOnline():!0}var $K=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function WN(t){return t instanceof $K}function HK(t){let e=!1,n=0,r=!1,i;const s=iI(),o=x=>{var m;r||(h(new $K(x)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>h3.isFocused()&&(t.networkMode==="always"||tC.isOnline())&&t.canRun(),f=()=>UK(t.networkMode)&&t.canRun(),d=x=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,x),i==null||i(),s.resolve(x))},h=x=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,x),i==null||i(),s.reject(x))},g=()=>new Promise(x=>{var m;i=p=>{(r||c())&&x(p)},(m=t.onPause)==null||m.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),v=()=>{if(r)return;let x;const m=n===0?t.initialPromise:void 0;try{x=m??t.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(d).catch(p=>{var C;if(r)return;const y=t.retry??(yh?0:3),_=t.retryDelay??mve,b=typeof _=="function"?_(n,p):_,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,p);if(e||!S){h(p);return}n++,(C=t.onFail)==null||C.call(t,n,p),uve(b).then(()=>c()?void 0:g()).then(()=>{e?h(p):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?v():g().then(v),s)}}function gve(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ri=gve(),qf,sq,VK=(sq=class{constructor(){Ht(this,qf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),tI(this.gcTime)&&yt(this,qf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(yh?1/0:5*60*1e3))}clearGcTimeout(){ge(this,qf)&&(clearTimeout(ge(this,qf)),yt(this,qf,void 0))}},qf=new WeakMap,sq),cg,ug,Lo,$i,J_,Xf,ya,fc,oq,vve=(oq=class extends VK{constructor(e){super();Ht(this,ya);Ht(this,cg);Ht(this,ug);Ht(this,Lo);Ht(this,$i);Ht(this,J_);Ht(this,Xf);yt(this,Xf,!1),yt(this,J_,e.defaultOptions),this.setOptions(e.options),this.observers=[],yt(this,Lo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,yt(this,cg,yve(this.options)),this.state=e.state??ge(this,cg),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ge(this,$i))==null?void 0:e.promise}setOptions(e){this.options={...ge(this,J_),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Lo).remove(this)}setData(e,n){const r=rI(this.state.data,e,this.options);return un(this,ya,fc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){un(this,ya,fc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ge(this,$i))==null?void 0:r.promise;return(i=ge(this,$i))==null||i.cancel(e),n?n.then(Fo).catch(Fo):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,cg))}isActive(){return this.observers.some(e=>Ca(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===f3||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!FK(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,$i))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,$i))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ge(this,Lo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ge(this,$i)&&(ge(this,Xf)?ge(this,$i).cancel({revert:!0}):ge(this,$i).cancelRetry()),this.scheduleGc()),ge(this,Lo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||un(this,ya,fc).call(this,{type:"invalidate"})}fetch(e,n){var l,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,$i))return ge(this,$i).continueRetry(),ge(this,$i).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(yt(this,Xf,!0),r.signal)})},s=()=>{const d=zK(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),yt(this,Xf,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),yt(this,ug,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&un(this,ya,fc).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const a=d=>{var h,g,v,x;WN(d)&&d.silent||un(this,ya,fc).call(this,{type:"error",error:d}),WN(d)||((g=(h=ge(this,Lo).config).onError)==null||g.call(h,d,this),(x=(v=ge(this,Lo).config).onSettled)==null||x.call(v,this.state.data,d,this)),this.scheduleGc()};return yt(this,$i,HK({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,g,v,x;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(m){a(m);return}(g=(h=ge(this,Lo).config).onSuccess)==null||g.call(h,d,this),(x=(v=ge(this,Lo).config).onSettled)==null||x.call(v,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{un(this,ya,fc).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{un(this,ya,fc).call(this,{type:"pause"})},onContinue:()=>{un(this,ya,fc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ge(this,$i).start()}},cg=new WeakMap,ug=new WeakMap,Lo=new WeakMap,$i=new WeakMap,J_=new WeakMap,Xf=new WeakMap,ya=new WeakSet,fc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...WK(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return WN(i)&&i.revert&&ge(this,ug)?{...ge(this,ug),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ri.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ge(this,Lo).notify({query:this,type:"updated",action:e})})},oq);function WK(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:UK(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function yve(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var cl,aq,xve=(aq=class extends Rv{constructor(e={}){super();Ht(this,cl);this.config=e,yt(this,cl,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??d3(i,n);let o=this.get(s);return o||(o=new vve({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ge(this,cl).has(e.queryHash)||(ge(this,cl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ge(this,cl).get(e.queryHash);n&&(e.destroy(),n===e&&ge(this,cl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ri.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ge(this,cl).get(e)}getAll(){return[...ge(this,cl).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>M$(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>M$(e,r)):n}notify(e){ri.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ri.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ri.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},cl=new WeakMap,aq),ul,is,Kf,dl,Nu,lq,_ve=(lq=class extends VK{constructor(e){super();Ht(this,dl);Ht(this,ul);Ht(this,is);Ht(this,Kf);this.mutationId=e.mutationId,yt(this,is,e.mutationCache),yt(this,ul,[]),this.state=e.state||GK(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ge(this,ul).includes(e)||(ge(this,ul).push(e),this.clearGcTimeout(),ge(this,is).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){yt(this,ul,ge(this,ul).filter(n=>n!==e)),this.scheduleGc(),ge(this,is).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ge(this,ul).length||(this.state.status==="pending"?this.scheduleGc():ge(this,is).remove(this))}continue(){var e;return((e=ge(this,Kf))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,f,d,h,g,v,x,m,p,y,_,b,S,C,M;yt(this,Kf,HK({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{un(this,dl,Nu).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{un(this,dl,Nu).call(this,{type:"pause"})},onContinue:()=>{un(this,dl,Nu).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,is).canRun(this)}));const n=this.state.status==="pending",r=!ge(this,Kf).canStart();try{if(!n){un(this,dl,Nu).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ge(this,is).config).onMutate)==null?void 0:s.call(i,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&un(this,dl,Nu).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const T=await ge(this,Kf).start();return await((c=(l=ge(this,is).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,T,e,this.state.context)),await((g=(h=ge(this,is).config).onSettled)==null?void 0:g.call(h,T,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,T,null,e,this.state.context)),un(this,dl,Nu).call(this,{type:"success",data:T}),T}catch(T){try{throw await((p=(m=ge(this,is).config).onError)==null?void 0:p.call(m,T,e,this.state.context,this)),await((_=(y=this.options).onError)==null?void 0:_.call(y,T,e,this.state.context)),await((S=(b=ge(this,is).config).onSettled)==null?void 0:S.call(b,void 0,T,this.state.variables,this.state.context,this)),await((M=(C=this.options).onSettled)==null?void 0:M.call(C,void 0,T,e,this.state.context)),T}finally{un(this,dl,Nu).call(this,{type:"error",error:T})}}finally{ge(this,is).runNext(this)}}},ul=new WeakMap,is=new WeakMap,Kf=new WeakMap,dl=new WeakSet,Nu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ri.batch(()=>{ge(this,ul).forEach(r=>{r.onMutationUpdate(e)}),ge(this,is).notify({mutation:this,type:"updated",action:e})})},lq);function GK(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Js,eb,cq,bve=(cq=class extends Rv{constructor(e={}){super();Ht(this,Js);Ht(this,eb);this.config=e,yt(this,Js,new Map),yt(this,eb,Date.now())}build(e,n,r){const i=new _ve({mutationCache:this,mutationId:++i1(this,eb)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=S1(e),r=ge(this,Js).get(n)??[];r.push(e),ge(this,Js).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=S1(e);if(ge(this,Js).has(n)){const i=(r=ge(this,Js).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ge(this,Js).delete(n):ge(this,Js).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ge(this,Js).get(S1(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ge(this,Js).get(S1(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ri.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ge(this,Js).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>A$(n,r))}findAll(e={}){return this.getAll().filter(n=>A$(e,n))}notify(e){ri.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ri.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fo))))}},Js=new WeakMap,eb=new WeakMap,cq);function S1(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function N$(t){return{onFetch:(e,n)=>{var f,d,h,g,v;const r=e.options,i=(h=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const m=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},p=zK(e.options,e.fetchOptions),y=async(_,b,S)=>{if(x)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const C={queryKey:e.queryKey,pageParam:b,direction:S?"backward":"forward",meta:e.options.meta};m(C);const M=await p(C),{maxPages:T}=e.options,P=S?fve:dve;return{pages:P(_.pages,M,T),pageParams:P(_.pageParams,b,T)}};if(i&&s.length){const _=i==="backward",b=_?wve:R$,S={pages:s,pageParams:o},C=b(r,S);a=await y(S,C,_)}else{const _=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:R$(r,a);if(l>0&&b==null)break;a=await y(a,b),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var x,m;return(m=(x=e.options).persister)==null?void 0:m.call(x,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function R$(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function wve(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Rr,Vu,Wu,dg,fg,Gu,hg,pg,uq,qK=(uq=class{constructor(t={}){Ht(this,Rr);Ht(this,Vu);Ht(this,Wu);Ht(this,dg);Ht(this,fg);Ht(this,Gu);Ht(this,hg);Ht(this,pg);yt(this,Rr,t.queryCache||new xve),yt(this,Vu,t.mutationCache||new bve),yt(this,Wu,t.defaultOptions||{}),yt(this,dg,new Map),yt(this,fg,new Map),yt(this,Gu,0)}mount(){i1(this,Gu)._++,ge(this,Gu)===1&&(yt(this,hg,h3.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Rr).onFocus())})),yt(this,pg,tC.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,Rr).onOnline())})))}unmount(){var t,e;i1(this,Gu)._--,ge(this,Gu)===0&&((t=ge(this,hg))==null||t.call(this),yt(this,hg,void 0),(e=ge(this,pg))==null||e.call(this),yt(this,pg,void 0))}isFetching(t){return ge(this,Rr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ge(this,Vu).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,Rr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ge(this,Rr).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Wm(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ge(this,Rr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ge(this,Rr).get(r.queryHash),s=i==null?void 0:i.state.data,o=cve(e,s);if(o!==void 0)return ge(this,Rr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ri.batch(()=>ge(this,Rr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,Rr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ge(this,Rr);ri.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ge(this,Rr),r={type:"active",...t};return ri.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ri.batch(()=>ge(this,Rr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Fo).catch(Fo)}invalidateQueries(t={},e={}){return ri.batch(()=>{if(ge(this,Rr).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ri.batch(()=>ge(this,Rr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Fo)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Fo)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ge(this,Rr).build(this,e);return n.isStaleByTime(Wm(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fo).catch(Fo)}fetchInfiniteQuery(t){return t.behavior=N$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fo).catch(Fo)}ensureInfiniteQueryData(t){return t.behavior=N$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tC.isOnline()?ge(this,Vu).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,Rr)}getMutationCache(){return ge(this,Vu)}getDefaultOptions(){return ge(this,Wu)}setDefaultOptions(t){yt(this,Wu,t)}setQueryDefaults(t,e){ge(this,dg).set(xh(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ge(this,dg).values()];let n={};return e.forEach(r=>{Rx(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ge(this,fg).set(xh(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ge(this,fg).values()];let n={};return e.forEach(r=>{Rx(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ge(this,Wu).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=d3(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===f3&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ge(this,Wu).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ge(this,Rr).clear(),ge(this,Vu).clear()}},Rr=new WeakMap,Vu=new WeakMap,Wu=new WeakMap,dg=new WeakMap,fg=new WeakMap,Gu=new WeakMap,hg=new WeakMap,pg=new WeakMap,uq),Es,xn,tb,ss,Yf,mg,qu,fl,nb,gg,vg,Zf,Qf,Xu,yg,Fn,C0,sI,oI,aI,lI,cI,uI,dI,XK,dq,Sve=(dq=class extends Rv{constructor(e,n){super();Ht(this,Fn);Ht(this,Es);Ht(this,xn);Ht(this,tb);Ht(this,ss);Ht(this,Yf);Ht(this,mg);Ht(this,qu);Ht(this,fl);Ht(this,nb);Ht(this,gg);Ht(this,vg);Ht(this,Zf);Ht(this,Qf);Ht(this,Xu);Ht(this,yg,new Set);this.options=n,yt(this,Es,e),yt(this,fl,null),yt(this,qu,iI()),this.options.experimental_prefetchInRender||ge(this,qu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,xn).addObserver(this),O$(ge(this,xn),this.options)?un(this,Fn,C0).call(this):this.updateResult(),un(this,Fn,lI).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return fI(ge(this,xn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return fI(ge(this,xn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,un(this,Fn,cI).call(this),un(this,Fn,uI).call(this),ge(this,xn).removeObserver(this)}setOptions(e,n){const r=this.options,i=ge(this,xn);if(this.options=ge(this,Es).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ca(this.options.enabled,ge(this,xn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");un(this,Fn,dI).call(this),ge(this,xn).setOptions(this.options),r._defaulted&&!eC(this.options,r)&&ge(this,Es).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,xn),observer:this});const s=this.hasListeners();s&&k$(ge(this,xn),i,this.options,r)&&un(this,Fn,C0).call(this),this.updateResult(n),s&&(ge(this,xn)!==i||Ca(this.options.enabled,ge(this,xn))!==Ca(r.enabled,ge(this,xn))||Wm(this.options.staleTime,ge(this,xn))!==Wm(r.staleTime,ge(this,xn)))&&un(this,Fn,sI).call(this);const o=un(this,Fn,oI).call(this);s&&(ge(this,xn)!==i||Ca(this.options.enabled,ge(this,xn))!==Ca(r.enabled,ge(this,xn))||o!==ge(this,Xu))&&un(this,Fn,aI).call(this,o)}getOptimisticResult(e){const n=ge(this,Es).getQueryCache().build(ge(this,Es),e),r=this.createResult(n,e);return Cve(this,r)&&(yt(this,ss,r),yt(this,mg,this.options),yt(this,Yf,ge(this,xn).state)),r}getCurrentResult(){return ge(this,ss)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){ge(this,yg).add(e)}getCurrentQuery(){return ge(this,xn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ge(this,Es).defaultQueryOptions(e),r=ge(this,Es).getQueryCache().build(ge(this,Es),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return un(this,Fn,C0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,ss)))}createResult(e,n){var T;const r=ge(this,xn),i=this.options,s=ge(this,ss),o=ge(this,Yf),a=ge(this,mg),c=e!==r?e.state:ge(this,tb),{state:f}=e;let d={...f},h=!1,g;if(n._optimisticResults){const P=this.hasListeners(),N=!P&&O$(e,n),k=P&&k$(e,r,n,i);(N||k)&&(d={...d,...WK(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:m}=d;if(n.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&n.select===ge(this,nb))g=ge(this,gg);else try{yt(this,nb,n.select),g=n.select(d.data),g=rI(s==null?void 0:s.data,g,n),yt(this,gg,g),yt(this,fl,null)}catch(P){yt(this,fl,P)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&m==="pending"){let P;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=s.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((T=ge(this,vg))==null?void 0:T.state.data,ge(this,vg)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),yt(this,fl,null)}catch(N){yt(this,fl,N)}P!==void 0&&(m="success",g=rI(s==null?void 0:s.data,P,n),h=!0)}ge(this,fl)&&(v=ge(this,fl),g=ge(this,gg),x=Date.now(),m="error");const p=d.fetchStatus==="fetching",y=m==="pending",_=m==="error",b=y&&p,S=g!==void 0,M={status:m,fetchStatus:d.fetchStatus,isPending:y,isSuccess:m==="success",isError:_,isInitialLoading:b,isLoading:b,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:_&&!S,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&S,isStale:p3(e,n),refetch:this.refetch,promise:ge(this,qu)};if(this.options.experimental_prefetchInRender){const P=D=>{M.status==="error"?D.reject(M.error):M.data!==void 0&&D.resolve(M.data)},N=()=>{const D=yt(this,qu,M.promise=iI());P(D)},k=ge(this,qu);switch(k.status){case"pending":e.queryHash===r.queryHash&&P(k);break;case"fulfilled":(M.status==="error"||M.data!==k.value)&&N();break;case"rejected":(M.status!=="error"||M.error!==k.reason)&&N();break}}return M}updateResult(e){const n=ge(this,ss),r=this.createResult(ge(this,xn),this.options);if(yt(this,Yf,ge(this,xn).state),yt(this,mg,this.options),ge(this,Yf).data!==void 0&&yt(this,vg,ge(this,xn)),eC(r,n))return;yt(this,ss,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!ge(this,yg).size)return!0;const l=new Set(a??ge(this,yg));return this.options.throwOnError&&l.add("error"),Object.keys(ge(this,ss)).some(c=>{const f=c;return ge(this,ss)[f]!==n[f]&&l.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),un(this,Fn,XK).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&un(this,Fn,lI).call(this)}},Es=new WeakMap,xn=new WeakMap,tb=new WeakMap,ss=new WeakMap,Yf=new WeakMap,mg=new WeakMap,qu=new WeakMap,fl=new WeakMap,nb=new WeakMap,gg=new WeakMap,vg=new WeakMap,Zf=new WeakMap,Qf=new WeakMap,Xu=new WeakMap,yg=new WeakMap,Fn=new WeakSet,C0=function(e){un(this,Fn,dI).call(this);let n=ge(this,xn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(Fo)),n},sI=function(){un(this,Fn,cI).call(this);const e=Wm(this.options.staleTime,ge(this,xn));if(yh||ge(this,ss).isStale||!tI(e))return;const r=FK(ge(this,ss).dataUpdatedAt,e)+1;yt(this,Zf,setTimeout(()=>{ge(this,ss).isStale||this.updateResult()},r))},oI=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,xn)):this.options.refetchInterval)??!1},aI=function(e){un(this,Fn,uI).call(this),yt(this,Xu,e),!(yh||Ca(this.options.enabled,ge(this,xn))===!1||!tI(ge(this,Xu))||ge(this,Xu)===0)&&yt(this,Qf,setInterval(()=>{(this.options.refetchIntervalInBackground||h3.isFocused())&&un(this,Fn,C0).call(this)},ge(this,Xu)))},lI=function(){un(this,Fn,sI).call(this),un(this,Fn,aI).call(this,un(this,Fn,oI).call(this))},cI=function(){ge(this,Zf)&&(clearTimeout(ge(this,Zf)),yt(this,Zf,void 0))},uI=function(){ge(this,Qf)&&(clearInterval(ge(this,Qf)),yt(this,Qf,void 0))},dI=function(){const e=ge(this,Es).getQueryCache().build(ge(this,Es),this.options);if(e===ge(this,xn))return;const n=ge(this,xn);yt(this,xn,e),yt(this,tb,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},XK=function(e){ri.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ge(this,ss))}),ge(this,Es).getQueryCache().notify({query:ge(this,xn),type:"observerResultsUpdated"})})},dq);function Eve(t,e){return Ca(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function O$(t,e){return Eve(t,e)||t.state.data!==void 0&&fI(t,e,e.refetchOnMount)}function fI(t,e,n){if(Ca(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&p3(t,e)}return!1}function k$(t,e,n,r){return(t!==e||Ca(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&p3(t,n)}function p3(t,e){return Ca(e.enabled,t)!==!1&&t.isStaleByTime(Wm(e.staleTime,t))}function Cve(t,e){return!eC(t.getCurrentResult(),e)}var Ku,Yu,Cs,vc,kc,lE,hI,fq,Mve=(fq=class extends Rv{constructor(n,r){super();Ht(this,kc);Ht(this,Ku);Ht(this,Yu);Ht(this,Cs);Ht(this,vc);yt(this,Ku,n),this.setOptions(r),this.bindMethods(),un(this,kc,lE).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ge(this,Ku).defaultMutationOptions(n),eC(this.options,r)||ge(this,Ku).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,Cs),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&xh(r.mutationKey)!==xh(this.options.mutationKey)?this.reset():((i=ge(this,Cs))==null?void 0:i.state.status)==="pending"&&ge(this,Cs).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ge(this,Cs))==null||n.removeObserver(this)}onMutationUpdate(n){un(this,kc,lE).call(this),un(this,kc,hI).call(this,n)}getCurrentResult(){return ge(this,Yu)}reset(){var n;(n=ge(this,Cs))==null||n.removeObserver(this),yt(this,Cs,void 0),un(this,kc,lE).call(this),un(this,kc,hI).call(this)}mutate(n,r){var i;return yt(this,vc,r),(i=ge(this,Cs))==null||i.removeObserver(this),yt(this,Cs,ge(this,Ku).getMutationCache().build(ge(this,Ku),this.options)),ge(this,Cs).addObserver(this),ge(this,Cs).execute(n)}},Ku=new WeakMap,Yu=new WeakMap,Cs=new WeakMap,vc=new WeakMap,kc=new WeakSet,lE=function(){var r;const n=((r=ge(this,Cs))==null?void 0:r.state)??GK();yt(this,Yu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},hI=function(n){ri.batch(()=>{var r,i,s,o,a,l,c,f;if(ge(this,vc)&&this.hasListeners()){const d=ge(this,Yu).variables,h=ge(this,Yu).context;(n==null?void 0:n.type)==="success"?((i=(r=ge(this,vc)).onSuccess)==null||i.call(r,n.data,d,h),(o=(s=ge(this,vc)).onSettled)==null||o.call(s,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((l=(a=ge(this,vc)).onError)==null||l.call(a,n.error,d,h),(f=(c=ge(this,vc)).onSettled)==null||f.call(c,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(ge(this,Yu))})})},fq),KK=A.createContext(void 0),bi=t=>{const e=A.useContext(KK);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Ave=({client:t,children:e})=>(A.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(KK.Provider,{value:t,children:e})),YK=A.createContext(!1),Tve=()=>A.useContext(YK);YK.Provider;function Pve(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Nve=A.createContext(Pve()),Rve=()=>A.useContext(Nve);function ZK(t,e){return typeof t=="function"?t(...e):!!t}function pI(){}var Ove=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},kve=t=>{A.useEffect(()=>{t.clearReset()},[t])},Ive=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&ZK(n,[t.error,r]),Dve=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},jve=(t,e)=>t.isLoading&&t.isFetching&&!e,Lve=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,I$=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function Fve(t,e,n){var f,d,h,g,v;const r=bi(),i=Tve(),s=Rve(),o=r.defaultQueryOptions(t);(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,o),o._optimisticResults=i?"isRestoring":"optimistic",Dve(o),Ove(o,s),kve(s);const a=!r.getQueryCache().get(o.queryHash),[l]=A.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(A.useSyncExternalStore(A.useCallback(x=>{const m=i?pI:l.subscribe(ri.batchCalls(x));return l.updateResult(),m},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),A.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),Lve(o,c))throw I$(o,l,s);if(Ive({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((g=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,c),o.experimental_prefetchInRender&&!yh&&jve(c,i)){const x=a?I$(o,l,s):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;x==null||x.catch(pI).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function yn(t,e){return Fve(t,Sve)}function Lt(t,e){const n=bi(),[r]=A.useState(()=>new Mve(n,t));A.useEffect(()=>{r.setOptions(t)},[r,t]);const i=A.useSyncExternalStore(A.useCallback(o=>r.subscribe(ri.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=A.useCallback((o,a)=>{r.mutate(o,a).catch(pI)},[r]);if(i.error&&ZK(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function Bve(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const zve=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await Bve(n),await n.json())},Uve=new qK({defaultOptions:{queries:{queryFn:zve({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function $ve(t,e){const n=A.createContext(e),r=s=>{const{children:o,...a}=s,l=A.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=A.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Xn(t,e=[]){let n=[];function r(s,o){const a=A.createContext(o),l=n.length;n=[...n,o];const c=d=>{var p;const{scope:h,children:g,...v}=d,x=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,m=A.useMemo(()=>v,Object.values(v));return u.jsx(x.Provider,{value:m,children:g})};c.displayName=s+"Provider";function f(d,h){var x;const g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,v=A.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,f]}const i=()=>{const s=n.map(o=>A.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return A.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,Hve(i,...e)]}function Hve(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return A.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function D$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function kl(...t){return e=>{let n=!1;const r=t.map(i=>{const s=D$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():D$(t[i],null)}}}}function Pt(...t){return A.useCallback(kl(...t),t)}function vd(t){const e=Vve(t),n=A.forwardRef((r,i)=>{const{children:s,...o}=r,a=A.Children.toArray(s),l=a.find(Wve);if(l){const c=l.props.children,f=a.map(d=>d===l?A.Children.count(c)>1?A.Children.only(null):A.isValidElement(c)?c.props.children:null:d);return u.jsx(e,{...o,ref:i,children:A.isValidElement(c)?A.cloneElement(c,void 0,f):null})}return u.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var lb=vd("Slot");function Vve(t){const e=A.forwardRef((n,r)=>{const{children:i,...s}=n;if(A.isValidElement(i)){const o=qve(i),a=Gve(s,i.props);return i.type!==A.Fragment&&(a.ref=r?kl(r,o):o),A.cloneElement(i,a)}return A.Children.count(i)>1?A.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var QK=Symbol("radix.slottable");function JK(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=QK,e}function Wve(t){return A.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QK}function Gve(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function qve(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Kc(t){const e=t+"CollectionProvider",[n,r]=Xn(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:m,children:p}=x,y=te.useRef(null),_=te.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:_,collectionRef:y,children:p})};o.displayName=e;const a=t+"CollectionSlot",l=vd(a),c=te.forwardRef((x,m)=>{const{scope:p,children:y}=x,_=s(a,p),b=Pt(m,_.collectionRef);return u.jsx(l,{ref:b,children:y})});c.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",h=vd(f),g=te.forwardRef((x,m)=>{const{scope:p,children:y,..._}=x,b=te.useRef(null),S=Pt(m,b),C=s(f,p);return te.useEffect(()=>(C.itemMap.set(b,{ref:b,..._}),()=>void C.itemMap.delete(b))),u.jsx(h,{[d]:"",ref:S,children:y})});g.displayName=f;function v(x){const m=s(t+"CollectionConsumer",x);return te.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((C,M)=>_.indexOf(C.ref.current)-_.indexOf(M.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},v,r]}function Oe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ln(t){const e=A.useRef(t);return A.useEffect(()=>{e.current=t}),A.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ur({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Xve({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Ln(n),l=A.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function Xve({defaultProp:t,onChange:e}){const n=A.useState(t),[r]=n,i=A.useRef(r),s=Ln(e);return A.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Kve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Xe=Kve.reduce((t,e)=>{const n=vd(`Primitive.${e}`),r=A.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function Ox(t,e){t&&Wh.flushSync(()=>t.dispatchEvent(e))}var gr=globalThis!=null&&globalThis.document?A.useLayoutEffect:()=>{};function Yve(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var ur=t=>{const{present:e,children:n}=t,r=Zve(e),i=typeof n=="function"?n({present:r.isPresent}):A.Children.only(n),s=Pt(r.ref,Qve(i));return typeof n=="function"||r.isPresent?A.cloneElement(i,{ref:s}):null};ur.displayName="Presence";function Zve(t){const[e,n]=A.useState(),r=A.useRef({}),i=A.useRef(t),s=A.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Yve(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return A.useEffect(()=>{const c=E1(r.current);s.current=a==="mounted"?c:"none"},[a]),gr(()=>{const c=r.current,f=i.current;if(f!==t){const h=s.current,g=E1(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),gr(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,d=g=>{const x=E1(r.current).includes(g.animationName);if(g.target===e&&x&&(l("ANIMATION_END"),!i.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},h=g=>{g.target===e&&(s.current=E1(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:A.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function E1(t){return(t==null?void 0:t.animationName)||"none"}function Qve(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Jve=AA[" useId ".trim().toString()]||(()=>{}),eye=0;function Yr(t){const[e,n]=A.useState(Jve());return gr(()=>{n(r=>r??String(eye++))},[t]),e?`radix-${e}`:""}var m3="Collapsible",[tye,eY]=Xn(m3),[nye,g3]=tye(m3),tY=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=Ur({prop:r,defaultProp:i,onChange:o});return u.jsx(nye,{scope:n,disabled:s,contentId:Yr(),open:l,onOpenToggle:A.useCallback(()=>c(f=>!f),[c]),children:u.jsx(Xe.div,{"data-state":_3(l),"data-disabled":s?"":void 0,...a,ref:e})})});tY.displayName=m3;var nY="CollapsibleTrigger",v3=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=g3(nY,n);return u.jsx(Xe.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":_3(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Oe(t.onClick,i.onOpenToggle)})});v3.displayName=nY;var y3="CollapsibleContent",x3=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=g3(y3,t.__scopeCollapsible);return u.jsx(ur,{present:n||i.open,children:({present:s})=>u.jsx(rye,{...r,ref:e,present:s})})});x3.displayName=y3;var rye=A.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=g3(y3,n),[a,l]=A.useState(r),c=A.useRef(null),f=Pt(e,c),d=A.useRef(0),h=d.current,g=A.useRef(0),v=g.current,x=o.open||a,m=A.useRef(x),p=A.useRef(void 0);return A.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),gr(()=>{const y=c.current;if(y){p.current=p.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const _=y.getBoundingClientRect();d.current=_.height,g.current=_.width,m.current||(y.style.transitionDuration=p.current.transitionDuration,y.style.animationName=p.current.animationName),l(r)}},[o.open,r]),u.jsx(Xe.div,{"data-state":_3(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:x&&i})});function _3(t){return t?"open":"closed"}var rY=tY,iye=v3,sye=x3,oye=A.createContext(void 0);function Bl(t){const e=A.useContext(oye);return t||e||"ltr"}var Yc="Accordion",aye=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[b3,lye,cye]=Kc(Yc),[WA,kvt]=Xn(Yc,[cye,eY]),w3=eY(),uye=te.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return u.jsx(b3.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(pye,{...s,ref:e}):u.jsx(hye,{...i,ref:e})})});uye.displayName=Yc;var[iY,dye]=WA(Yc),[sY,fye]=WA(Yc,{collapsible:!1}),hye=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=Ur({prop:n,defaultProp:r,onChange:i});return u.jsx(iY,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:te.useCallback(()=>s&&l(""),[s,l]),children:u.jsx(sY,{scope:t.__scopeAccordion,collapsible:s,children:u.jsx(oY,{...o,ref:e})})})}),pye=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=Ur({prop:n,defaultProp:r,onChange:i}),l=te.useCallback(f=>a((d=[])=>[...d,f]),[a]),c=te.useCallback(f=>a((d=[])=>d.filter(h=>h!==f)),[a]);return u.jsx(iY,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:u.jsx(sY,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(oY,{...s,ref:e})})})}),[mye,GA]=WA(Yc),oY=te.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=te.useRef(null),l=Pt(a,e),c=lye(n),d=Bl(i)==="ltr",h=Oe(t.onKeyDown,g=>{var T;if(!aye.includes(g.key))return;const v=g.target,x=c().filter(P=>{var N;return!((N=P.ref.current)!=null&&N.disabled)}),m=x.findIndex(P=>P.ref.current===v),p=x.length;if(m===-1)return;g.preventDefault();let y=m;const _=0,b=p-1,S=()=>{y=m+1,y>b&&(y=_)},C=()=>{y=m-1,y<_&&(y=b)};switch(g.key){case"Home":y=_;break;case"End":y=b;break;case"ArrowRight":s==="horizontal"&&(d?S():C());break;case"ArrowDown":s==="vertical"&&S();break;case"ArrowLeft":s==="horizontal"&&(d?C():S());break;case"ArrowUp":s==="vertical"&&C();break}const M=y%p;(T=x[M].ref.current)==null||T.focus()});return u.jsx(mye,{scope:n,disabled:r,direction:i,orientation:s,children:u.jsx(b3.Slot,{scope:n,children:u.jsx(Xe.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:h})})})}),nC="AccordionItem",[gye,S3]=WA(nC),aY=te.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=GA(nC,n),o=dye(nC,n),a=w3(n),l=Yr(),c=r&&o.value.includes(r)||!1,f=s.disabled||t.disabled;return u.jsx(gye,{scope:n,open:c,disabled:f,triggerId:l,children:u.jsx(rY,{"data-orientation":s.orientation,"data-state":hY(c),...a,...i,ref:e,disabled:f,open:c,onOpenChange:d=>{d?o.onItemOpen(r):o.onItemClose(r)}})})});aY.displayName=nC;var lY="AccordionHeader",cY=te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=GA(Yc,n),s=S3(lY,n);return u.jsx(Xe.h3,{"data-orientation":i.orientation,"data-state":hY(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});cY.displayName=lY;var mI="AccordionTrigger",uY=te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=GA(Yc,n),s=S3(mI,n),o=fye(mI,n),a=w3(n);return u.jsx(b3.ItemSlot,{scope:n,children:u.jsx(iye,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});uY.displayName=mI;var dY="AccordionContent",fY=te.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=GA(Yc,n),s=S3(dY,n),o=w3(n);return u.jsx(sye,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});fY.displayName=dY;function hY(t){return t?"open":"closed"}var vye=aY,yye=cY,pY=uY,mY=fY;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xye=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gY=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _ye={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bye=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>A.createElement("svg",{ref:l,..._ye,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gY("lucide",i),...a},[...o.map(([c,f])=>A.createElement(c,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=(t,e)=>{const n=A.forwardRef(({className:r,...i},s)=>A.createElement(bye,{ref:s,iconNode:e,className:gY(`lucide-${xye(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=it("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wye=it("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=it("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sye=it("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eye=it("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=it("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=it("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=it("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cye=it("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vY=it("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _h=it("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=it("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=it("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mye=it("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=it("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aye=it("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tye=it("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=it("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=it("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pye=it("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nye=it("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=it("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=it("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yY=it("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rC=it("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=it("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XA=it("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rye=it("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oye=it("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=it("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=it("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=it("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kye=it("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=it("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iye=it("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xY=it("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dye=it("FolderGit",[["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M14 13h3",key:"1dgedf"}],["path",{d:"M7 13h3",key:"1pygq7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=it("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=it("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jye=it("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lye=it("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=it("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fye=it("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bye=it("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zye=it("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=it("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uye=it("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ye=it("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=it("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Y=it("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=it("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hye=it("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vye=it("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wye=it("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=it("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=it("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gye=it("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qye=it("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xye=it("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bY=it("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=it("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qi=it("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kye=it("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=it("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=it("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=it("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=it("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=it("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=it("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yye=it("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YA=it("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wY=it("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zye=it("SquareTerminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=it("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=it("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qye=it("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=it("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jye=it("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0e=it("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0e=it("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=it("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=it("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0e=it("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=it("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r0e=it("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0e=it("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iC=it("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=it("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=it("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function SY(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=SY(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function en(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=SY(t))&&(r&&(r+=" "),r+=e);return r}const P3="-",s0e=t=>{const e=a0e(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(P3);return a[0]===""&&a.length!==1&&a.shift(),EY(a,e)||o0e(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},EY=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?EY(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(P3);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},U$=/^\[(.+)\]$/,o0e=t=>{if(U$.test(t)){const e=U$.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},a0e=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return c0e(Object.entries(t.classGroups),n).forEach(([s,o])=>{bI(o,r,s,e)}),r},bI=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:$$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(l0e(i)){bI(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{bI(o,$$(e,s),n,r)})})},$$=(t,e)=>{let n=t;return e.split(P3).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},l0e=t=>t.isThemeGetter,c0e=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,u0e=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},CY="!",d0e=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,f=0,d;for(let m=0;m<a.length;m++){let p=a[m];if(c===0){if(p===i&&(r||a.slice(m,m+s)===e)){l.push(a.slice(f,m)),f=m+s;continue}if(p==="/"){d=m;continue}}p==="["?c++:p==="]"&&c--}const h=l.length===0?a:a.substring(f),g=h.startsWith(CY),v=g?h.substring(1):h,x=d&&d>f?d-f:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},f0e=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},h0e=t=>({cache:u0e(t.cacheSize),parseClassName:d0e(t),...s0e(t)}),p0e=/\s+/,m0e=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(p0e);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:g}=n(c);let v=!!g,x=r(v?h.substring(0,g):h);if(!x){if(!v){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}v=!1}const m=f0e(f).join(":"),p=d?m+CY:m,y=p+x;if(s.includes(y))continue;s.push(y);const _=i(x,v);for(let b=0;b<_.length;++b){const S=_[b];s.push(p+S)}a=c+(a.length>0?" "+a:a)}return a};function g0e(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=MY(e))&&(r&&(r+=" "),r+=n);return r}const MY=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=MY(t[r]))&&(n&&(n+=" "),n+=e);return n};function v0e(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((f,d)=>d(f),t());return n=h0e(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=m0e(l,n);return i(l,f),f}return function(){return s(g0e.apply(null,arguments))}}const nr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},AY=/^\[(?:([a-z-]+):)?(.+)\]$/i,y0e=/^\d+\/\d+$/,x0e=new Set(["px","full","screen"]),_0e=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,b0e=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,w0e=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,S0e=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,E0e=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,nc=t=>Xm(t)||x0e.has(t)||y0e.test(t),yu=t=>kv(t,"length",O0e),Xm=t=>!!t&&!Number.isNaN(Number(t)),GN=t=>kv(t,"number",Xm),By=t=>!!t&&Number.isInteger(Number(t)),C0e=t=>t.endsWith("%")&&Xm(t.slice(0,-1)),an=t=>AY.test(t),xu=t=>_0e.test(t),M0e=new Set(["length","size","percentage"]),A0e=t=>kv(t,M0e,TY),T0e=t=>kv(t,"position",TY),P0e=new Set(["image","url"]),N0e=t=>kv(t,P0e,I0e),R0e=t=>kv(t,"",k0e),zy=()=>!0,kv=(t,e,n)=>{const r=AY.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},O0e=t=>b0e.test(t)&&!w0e.test(t),TY=()=>!1,k0e=t=>S0e.test(t),I0e=t=>E0e.test(t),D0e=()=>{const t=nr("colors"),e=nr("spacing"),n=nr("blur"),r=nr("brightness"),i=nr("borderColor"),s=nr("borderRadius"),o=nr("borderSpacing"),a=nr("borderWidth"),l=nr("contrast"),c=nr("grayscale"),f=nr("hueRotate"),d=nr("invert"),h=nr("gap"),g=nr("gradientColorStops"),v=nr("gradientColorStopPositions"),x=nr("inset"),m=nr("margin"),p=nr("opacity"),y=nr("padding"),_=nr("saturate"),b=nr("scale"),S=nr("sepia"),C=nr("skew"),M=nr("space"),T=nr("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",an,e],D=()=>[an,e],j=()=>["",nc,yu],F=()=>["auto",Xm,an],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],U=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],I=()=>["","0",an],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Xm,an];return{cacheSize:500,separator:":",theme:{colors:[zy],spacing:[nc,yu],blur:["none","",xu,an],brightness:W(),borderColor:[t],borderRadius:["none","","full",xu,an],borderSpacing:D(),borderWidth:j(),contrast:W(),grayscale:I(),hueRotate:W(),invert:I(),gap:D(),gradientColorStops:[t],gradientColorStopPositions:[C0e,yu],inset:k(),margin:k(),opacity:W(),padding:D(),saturate:W(),scale:W(),sepia:I(),skew:W(),space:D(),translate:D()},classGroups:{aspect:[{aspect:["auto","square","video",an]}],container:["container"],columns:[{columns:[xu]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),an]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",By,an]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",an]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",By,an]}],"grid-cols":[{"grid-cols":[zy]}],"col-start-end":[{col:["auto",{span:["full",By,an]},an]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[zy]}],"row-start-end":[{row:["auto",{span:[By,an]},an]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",an]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",an]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",an,e]}],"min-w":[{"min-w":[an,e,"min","max","fit"]}],"max-w":[{"max-w":[an,e,"none","full","min","max","fit","prose",{screen:[xu]},xu]}],h:[{h:[an,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[an,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[an,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[an,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xu,yu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",GN]}],"font-family":[{font:[zy]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",an]}],"line-clamp":[{"line-clamp":["none",Xm,GN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",nc,an]}],"list-image":[{"list-image":["none",an]}],"list-style-type":[{list:["none","disc","decimal",an]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...U(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",nc,yu]}],"underline-offset":[{"underline-offset":["auto",nc,an]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:D()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",an]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",an]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),T0e]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",A0e]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},N0e]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...U(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:U()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...U()]}],"outline-offset":[{"outline-offset":[nc,an]}],"outline-w":[{outline:[nc,yu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[nc,yu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xu,R0e]}],"shadow-color":[{shadow:[zy]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xu,an]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",an]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",an]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",an]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[By,an]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",an]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",an]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":D()}],"scroll-mx":[{"scroll-mx":D()}],"scroll-my":[{"scroll-my":D()}],"scroll-ms":[{"scroll-ms":D()}],"scroll-me":[{"scroll-me":D()}],"scroll-mt":[{"scroll-mt":D()}],"scroll-mr":[{"scroll-mr":D()}],"scroll-mb":[{"scroll-mb":D()}],"scroll-ml":[{"scroll-ml":D()}],"scroll-p":[{"scroll-p":D()}],"scroll-px":[{"scroll-px":D()}],"scroll-py":[{"scroll-py":D()}],"scroll-ps":[{"scroll-ps":D()}],"scroll-pe":[{"scroll-pe":D()}],"scroll-pt":[{"scroll-pt":D()}],"scroll-pr":[{"scroll-pr":D()}],"scroll-pb":[{"scroll-pb":D()}],"scroll-pl":[{"scroll-pl":D()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",an]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[nc,yu,GN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},j0e=v0e(D0e);function we(...t){return j0e(en(t))}const L0e=A.forwardRef(({className:t,...e},n)=>u.jsx(vye,{ref:n,className:we("border-b",t),...e}));L0e.displayName="AccordionItem";const F0e=A.forwardRef(({className:t,children:e,...n},r)=>u.jsx(yye,{className:"flex",children:u.jsxs(pY,{ref:r,className:we("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(Ov,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));F0e.displayName=pY.displayName;const B0e=A.forwardRef(({className:t,children:e,...n},r)=>u.jsx(mY,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:we("pb-4 pt-0",t),children:e})}));B0e.displayName=mY.displayName;function z0e(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t);A.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var U0e="DismissableLayer",wI="dismissableLayer.update",$0e="dismissableLayer.pointerDownOutside",H0e="dismissableLayer.focusOutside",H$,PY=A.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Zc=A.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=A.useContext(PY),[f,d]=A.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=A.useState({}),v=Pt(e,M=>d(M)),x=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(m),y=f?x.indexOf(f):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=y>=p,S=W0e(M=>{const T=M.target,P=[...c.branches].some(N=>N.contains(T));!b||P||(i==null||i(M),o==null||o(M),M.defaultPrevented||a==null||a())},h),C=G0e(M=>{const T=M.target;[...c.branches].some(N=>N.contains(T))||(s==null||s(M),o==null||o(M),M.defaultPrevented||a==null||a())},h);return z0e(M=>{y===c.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&a&&(M.preventDefault(),a()))},h),A.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(H$=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),V$(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=H$)}},[f,h,n,c]),A.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),V$())},[f,c]),A.useEffect(()=>{const M=()=>g({});return document.addEventListener(wI,M),()=>document.removeEventListener(wI,M)},[]),u.jsx(Xe.div,{...l,ref:v,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:Oe(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Oe(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Oe(t.onPointerDownCapture,S.onPointerDownCapture)})});Zc.displayName=U0e;var V0e="DismissableLayerBranch",NY=A.forwardRef((t,e)=>{const n=A.useContext(PY),r=A.useRef(null),i=Pt(e,r);return A.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(Xe.div,{...t,ref:i})});NY.displayName=V0e;function W0e(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=A.useRef(!1),i=A.useRef(()=>{});return A.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){RY($0e,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function G0e(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=A.useRef(!1);return A.useEffect(()=>{const i=s=>{s.target&&!r.current&&RY(H0e,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function V$(){const t=new CustomEvent(wI);document.dispatchEvent(t)}function RY(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ox(i,s):i.dispatchEvent(s)}var q0e=Zc,X0e=NY,qN="focusScope.autoFocusOnMount",XN="focusScope.autoFocusOnUnmount",W$={bubbles:!1,cancelable:!0},K0e="FocusScope",pb=A.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=A.useState(null),c=Ln(i),f=Ln(s),d=A.useRef(null),h=Pt(e,x=>l(x)),g=A.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;A.useEffect(()=>{if(r){let x=function(_){if(g.paused||!a)return;const b=_.target;a.contains(b)?d.current=b:Ru(d.current,{select:!0})},m=function(_){if(g.paused||!a)return;const b=_.relatedTarget;b!==null&&(a.contains(b)||Ru(d.current,{select:!0}))},p=function(_){if(document.activeElement===document.body)for(const S of _)S.removedNodes.length>0&&Ru(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",m);const y=new MutationObserver(p);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",m),y.disconnect()}}},[r,a,g.paused]),A.useEffect(()=>{if(a){q$.add(g);const x=document.activeElement;if(!a.contains(x)){const p=new CustomEvent(qN,W$);a.addEventListener(qN,c),a.dispatchEvent(p),p.defaultPrevented||(Y0e(txe(OY(a)),{select:!0}),document.activeElement===x&&Ru(a))}return()=>{a.removeEventListener(qN,c),setTimeout(()=>{const p=new CustomEvent(XN,W$);a.addEventListener(XN,f),a.dispatchEvent(p),p.defaultPrevented||Ru(x??document.body,{select:!0}),a.removeEventListener(XN,f),q$.remove(g)},0)}}},[a,c,f,g]);const v=A.useCallback(x=>{if(!n&&!r||g.paused)return;const m=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(m&&p){const y=x.currentTarget,[_,b]=Z0e(y);_&&b?!x.shiftKey&&p===b?(x.preventDefault(),n&&Ru(_,{select:!0})):x.shiftKey&&p===_&&(x.preventDefault(),n&&Ru(b,{select:!0})):p===y&&x.preventDefault()}},[n,r,g.paused]);return u.jsx(Xe.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});pb.displayName=K0e;function Y0e(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ru(r,{select:e}),document.activeElement!==n)return}function Z0e(t){const e=OY(t),n=G$(e,t),r=G$(e.reverse(),t);return[n,r]}function OY(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function G$(t,e){for(const n of t)if(!Q0e(n,{upTo:e}))return n}function Q0e(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function J0e(t){return t instanceof HTMLInputElement&&"select"in t}function Ru(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&J0e(t)&&e&&t.select()}}var q$=exe();function exe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=X$(t,e),t.unshift(e)},remove(e){var n;t=X$(t,e),(n=t[0])==null||n.resume()}}}function X$(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function txe(t){return t.filter(e=>e.tagName!=="A")}var nxe="Portal",Iv=A.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=A.useState(!1);gr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?CK.createPortal(u.jsx(Xe.div,{...r,ref:e}),o):null});Iv.displayName=nxe;var KN=0;function ZA(){A.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??K$()),document.body.insertAdjacentElement("beforeend",t[1]??K$()),KN++,()=>{KN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),KN--}},[])}function K$(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ml=function(){return ml=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ml.apply(this,arguments)};function kY(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function rxe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var cE="right-scroll-bar-position",uE="width-before-scroll-bar",ixe="with-scroll-bars-hidden",sxe="--removed-body-scroll-bar-size";function YN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oxe(t,e){var n=A.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var axe=typeof window<"u"?A.useLayoutEffect:A.useEffect,Y$=new WeakMap;function lxe(t,e){var n=oxe(null,function(r){return t.forEach(function(i){return YN(i,r)})});return axe(function(){var r=Y$.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||YN(a,null)}),s.forEach(function(a){i.has(a)||YN(a,o)})}Y$.set(n,t)},[t]),n}function cxe(t){return t}function uxe(t,e){e===void 0&&(e=cxe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var f=o;o=[],f.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return i}function dxe(t){t===void 0&&(t={});var e=uxe(null);return e.options=ml({async:!0,ssr:!1},t),e}var IY=function(t){var e=t.sideCar,n=kY(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return A.createElement(r,ml({},n))};IY.isSideCarExport=!0;function fxe(t,e){return t.useMedium(e),IY}var DY=dxe(),ZN=function(){},QA=A.forwardRef(function(t,e){var n=A.useRef(null),r=A.useState({onScrollCapture:ZN,onWheelCapture:ZN,onTouchMoveCapture:ZN}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,d=t.shards,h=t.sideCar,g=t.noIsolation,v=t.inert,x=t.allowPinchZoom,m=t.as,p=m===void 0?"div":m,y=t.gapMode,_=kY(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,S=lxe([n,e]),C=ml(ml({},_),i);return A.createElement(A.Fragment,null,f&&A.createElement(b,{sideCar:DY,removeScrollBar:c,shards:d,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:y}),o?A.cloneElement(A.Children.only(a),ml(ml({},C),{ref:S})):A.createElement(p,ml({},C,{className:l,ref:S}),a))});QA.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};QA.classNames={fullWidth:uE,zeroRight:cE};var hxe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function pxe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=hxe();return e&&t.setAttribute("nonce",e),t}function mxe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gxe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var vxe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=pxe())&&(mxe(e,n),gxe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},yxe=function(){var t=vxe();return function(e,n){A.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},jY=function(){var t=yxe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},xxe={left:0,top:0,right:0,gap:0},QN=function(t){return parseInt(t||"",10)||0},_xe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[QN(n),QN(r),QN(i)]},bxe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return xxe;var e=_xe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},wxe=jY(),Km="data-scroll-locked",Sxe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(ixe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Km,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cE,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(uE,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(cE," .").concat(cE,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(uE," .").concat(uE,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Km,`] {
    `).concat(sxe,": ").concat(a,`px;
  }
`)},Z$=function(){var t=parseInt(document.body.getAttribute(Km)||"0",10);return isFinite(t)?t:0},Exe=function(){A.useEffect(function(){return document.body.setAttribute(Km,(Z$()+1).toString()),function(){var t=Z$()-1;t<=0?document.body.removeAttribute(Km):document.body.setAttribute(Km,t.toString())}},[])},Cxe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;Exe();var s=A.useMemo(function(){return bxe(i)},[i]);return A.createElement(wxe,{styles:Sxe(s,!e,i,n?"":"!important")})},SI=!1;if(typeof window<"u")try{var C1=Object.defineProperty({},"passive",{get:function(){return SI=!0,!0}});window.addEventListener("test",C1,C1),window.removeEventListener("test",C1,C1)}catch{SI=!1}var Tp=SI?{passive:!1}:!1,Mxe=function(t){return t.tagName==="TEXTAREA"},LY=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!Mxe(t)&&n[e]==="visible")},Axe=function(t){return LY(t,"overflowY")},Txe=function(t){return LY(t,"overflowX")},Q$=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=FY(t,r);if(i){var s=BY(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Pxe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},Nxe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},FY=function(t,e){return t==="v"?Axe(e):Txe(e)},BY=function(t,e){return t==="v"?Pxe(e):Nxe(e)},Rxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},Oxe=function(t,e,n,r,i){var s=Rxe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,f=o>0,d=0,h=0;do{var g=BY(t,a),v=g[0],x=g[1],m=g[2],p=x-m-s*v;(v||p)&&FY(t,a)&&(d+=p,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(d)<1||!i)||!f&&(Math.abs(h)<1||!i))&&(c=!0),c},M1=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},J$=function(t){return[t.deltaX,t.deltaY]},eH=function(t){return t&&"current"in t?t.current:t},kxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ixe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Dxe=0,Pp=[];function jxe(t){var e=A.useRef([]),n=A.useRef([0,0]),r=A.useRef(),i=A.useState(Dxe++)[0],s=A.useState(jY)[0],o=A.useRef(t);A.useEffect(function(){o.current=t},[t]),A.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=rxe([t.lockRef.current],(t.shards||[]).map(eH),!0).filter(Boolean);return x.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=A.useCallback(function(x,m){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=M1(x),y=n.current,_="deltaX"in x?x.deltaX:y[0]-p[0],b="deltaY"in x?x.deltaY:y[1]-p[1],S,C=x.target,M=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in x&&M==="h"&&C.type==="range")return!1;var T=Q$(M,C);if(!T)return!0;if(T?S=M:(S=M==="v"?"h":"v",T=Q$(M,C)),!T)return!1;if(!r.current&&"changedTouches"in x&&(_||b)&&(r.current=S),!S)return!0;var P=r.current||S;return Oxe(P,m,x,P==="h"?_:b,!0)},[]),l=A.useCallback(function(x){var m=x;if(!(!Pp.length||Pp[Pp.length-1]!==s)){var p="deltaY"in m?J$(m):M1(m),y=e.current.filter(function(S){return S.name===m.type&&(S.target===m.target||m.target===S.shadowParent)&&kxe(S.delta,p)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var _=(o.current.shards||[]).map(eH).filter(Boolean).filter(function(S){return S.contains(m.target)}),b=_.length>0?a(m,_[0]):!o.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),c=A.useCallback(function(x,m,p,y){var _={name:x,delta:m,target:p,should:y,shadowParent:Lxe(p)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(b){return b!==_})},1)},[]),f=A.useCallback(function(x){n.current=M1(x),r.current=void 0},[]),d=A.useCallback(function(x){c(x.type,J$(x),x.target,a(x,t.lockRef.current))},[]),h=A.useCallback(function(x){c(x.type,M1(x),x.target,a(x,t.lockRef.current))},[]);A.useEffect(function(){return Pp.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,Tp),document.addEventListener("touchmove",l,Tp),document.addEventListener("touchstart",f,Tp),function(){Pp=Pp.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,Tp),document.removeEventListener("touchmove",l,Tp),document.removeEventListener("touchstart",f,Tp)}},[]);var g=t.removeScrollBar,v=t.inert;return A.createElement(A.Fragment,null,v?A.createElement(s,{styles:Ixe(i)}):null,g?A.createElement(Cxe,{gapMode:t.gapMode}):null)}function Lxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Fxe=fxe(DY,jxe);var mb=A.forwardRef(function(t,e){return A.createElement(QA,ml({},t,{ref:e,sideCar:Fxe}))});mb.classNames=QA.classNames;var Bxe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Np=new WeakMap,A1=new WeakMap,T1={},JN=0,zY=function(t){return t&&(t.host||zY(t.parentNode))},zxe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=zY(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},Uxe=function(t,e,n,r){var i=zxe(e,Array.isArray(t)?t:[t]);T1[n]||(T1[n]=new WeakMap);var s=T1[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))f(h);else try{var g=h.getAttribute(r),v=g!==null&&g!=="false",x=(Np.get(h)||0)+1,m=(s.get(h)||0)+1;Np.set(h,x),s.set(h,m),o.push(h),x===1&&v&&A1.set(h,!0),m===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return f(e),a.clear(),JN++,function(){o.forEach(function(d){var h=Np.get(d)-1,g=s.get(d)-1;Np.set(d,h),s.set(d,g),h||(A1.has(d)||d.removeAttribute(r),A1.delete(d)),g||d.removeAttribute(n)}),JN--,JN||(Np=new WeakMap,Np=new WeakMap,A1=new WeakMap,T1={})}},JA=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Bxe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Uxe(r,i,n,"aria-hidden")):function(){return null}},N3="Dialog",[UY,$Y]=Xn(N3),[$xe,qa]=UY(N3),HY=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=A.useRef(null),l=A.useRef(null),[c=!1,f]=Ur({prop:r,defaultProp:i,onChange:s});return u.jsx($xe,{scope:e,triggerRef:a,contentRef:l,contentId:Yr(),titleId:Yr(),descriptionId:Yr(),open:c,onOpenChange:f,onOpenToggle:A.useCallback(()=>f(d=>!d),[f]),modal:o,children:n})};HY.displayName=N3;var VY="DialogTrigger",WY=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(VY,n),s=Pt(e,i.triggerRef);return u.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":k3(i.open),...r,ref:s,onClick:Oe(t.onClick,i.onOpenToggle)})});WY.displayName=VY;var R3="DialogPortal",[Hxe,GY]=UY(R3,{forceMount:void 0}),qY=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=qa(R3,e);return u.jsx(Hxe,{scope:e,forceMount:n,children:A.Children.map(r,o=>u.jsx(ur,{present:n||s.open,children:u.jsx(Iv,{asChild:!0,container:i,children:o})}))})};qY.displayName=R3;var sC="DialogOverlay",XY=A.forwardRef((t,e)=>{const n=GY(sC,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=qa(sC,t.__scopeDialog);return s.modal?u.jsx(ur,{present:r||s.open,children:u.jsx(Wxe,{...i,ref:e})}):null});XY.displayName=sC;var Vxe=vd("DialogOverlay.RemoveScroll"),Wxe=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(sC,n);return u.jsx(mb,{as:Vxe,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Xe.div,{"data-state":k3(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),wh="DialogContent",KY=A.forwardRef((t,e)=>{const n=GY(wh,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=qa(wh,t.__scopeDialog);return u.jsx(ur,{present:r||s.open,children:s.modal?u.jsx(Gxe,{...i,ref:e}):u.jsx(qxe,{...i,ref:e})})});KY.displayName=wh;var Gxe=A.forwardRef((t,e)=>{const n=qa(wh,t.__scopeDialog),r=A.useRef(null),i=Pt(e,n.contentRef,r);return A.useEffect(()=>{const s=r.current;if(s)return JA(s)},[]),u.jsx(YY,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault())})}),qxe=A.forwardRef((t,e)=>{const n=qa(wh,t.__scopeDialog),r=A.useRef(!1),i=A.useRef(!1);return u.jsx(YY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),YY=A.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=qa(wh,n),l=A.useRef(null),c=Pt(e,l);return ZA(),u.jsxs(u.Fragment,{children:[u.jsx(pb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Zc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":k3(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(Kxe,{titleId:a.titleId}),u.jsx(Zxe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),O3="DialogTitle",ZY=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(O3,n);return u.jsx(Xe.h2,{id:i.titleId,...r,ref:e})});ZY.displayName=O3;var QY="DialogDescription",JY=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(QY,n);return u.jsx(Xe.p,{id:i.descriptionId,...r,ref:e})});JY.displayName=QY;var eZ="DialogClose",tZ=A.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=qa(eZ,n);return u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});tZ.displayName=eZ;function k3(t){return t?"open":"closed"}var nZ="DialogTitleWarning",[Xxe,rZ]=$ve(nZ,{contentName:wh,titleName:O3,docsSlug:"dialog"}),Kxe=({titleId:t})=>{const e=rZ(nZ),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return A.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Yxe="DialogDescriptionWarning",Zxe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rZ(Yxe).contentName}}.`;return A.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},eT=HY,I3=WY,gb=qY,Gh=XY,qh=KY,Dv=ZY,jv=JY,vb=tZ,Qxe="AlertDialog",[Jxe,Ivt]=Xn(Qxe,[$Y]),Rd=$Y(),e_e="AlertDialogTrigger",t_e=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Rd(n);return u.jsx(I3,{...i,...r,ref:e})});t_e.displayName=e_e;var n_e="AlertDialogPortal",iZ=t=>{const{__scopeAlertDialog:e,...n}=t,r=Rd(e);return u.jsx(gb,{...r,...n})};iZ.displayName=n_e;var r_e="AlertDialogOverlay",sZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Rd(n);return u.jsx(Gh,{...i,...r,ref:e})});sZ.displayName=r_e;var Ym="AlertDialogContent",[i_e,s_e]=Jxe(Ym),o_e=JK("AlertDialogContent"),oZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=Rd(n),o=A.useRef(null),a=Pt(e,o),l=A.useRef(null);return u.jsx(Xxe,{contentName:Ym,titleName:aZ,docsSlug:"alert-dialog",children:u.jsx(i_e,{scope:n,cancelRef:l,children:u.jsxs(qh,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Oe(i.onOpenAutoFocus,c=>{var f;c.preventDefault(),(f=l.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(o_e,{children:r}),u.jsx(l_e,{contentRef:o})]})})})});oZ.displayName=Ym;var aZ="AlertDialogTitle",lZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Rd(n);return u.jsx(Dv,{...i,...r,ref:e})});lZ.displayName=aZ;var cZ="AlertDialogDescription",uZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Rd(n);return u.jsx(jv,{...i,...r,ref:e})});uZ.displayName=cZ;var a_e="AlertDialogAction",dZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=Rd(n);return u.jsx(vb,{...i,...r,ref:e})});dZ.displayName=a_e;var fZ="AlertDialogCancel",hZ=A.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=s_e(fZ,n),s=Rd(n),o=Pt(e,i);return u.jsx(vb,{...s,...r,ref:o})});hZ.displayName=fZ;var l_e=({contentRef:t})=>{const e=`\`${Ym}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Ym}\` by passing a \`${cZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Ym}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return A.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},c_e=iZ,pZ=sZ,mZ=oZ,gZ=dZ,vZ=hZ,yZ=lZ,xZ=uZ;const u_e=c_e,_Z=A.forwardRef(({className:t,...e},n)=>u.jsx(pZ,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));_Z.displayName=pZ.displayName;const d_e=A.forwardRef(({className:t,...e},n)=>u.jsxs(u_e,{children:[u.jsx(_Z,{}),u.jsx(mZ,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));d_e.displayName=mZ.displayName;const f_e=A.forwardRef(({className:t,...e},n)=>u.jsx(yZ,{ref:n,className:we("text-lg font-semibold",t),...e}));f_e.displayName=yZ.displayName;const h_e=A.forwardRef(({className:t,...e},n)=>u.jsx(xZ,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));h_e.displayName=xZ.displayName;const p_e=A.forwardRef(({className:t,...e},n)=>u.jsx(gZ,{ref:n,className:we(jx(),t),...e}));p_e.displayName=gZ.displayName;const m_e=A.forwardRef(({className:t,...e},n)=>u.jsx(vZ,{ref:n,className:we(jx({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));m_e.displayName=vZ.displayName;const tH=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,nH=en,Qc=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return nH(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const f=n==null?void 0:n[c],d=s==null?void 0:s[c];if(f===null)return null;const h=tH(f)||tH(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,f)=>{let[d,h]=f;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:d,className:h,...g}=f;return Object.entries(g).every(v=>{let[x,m]=v;return Array.isArray(m)?m.includes({...s,...a}[x]):{...s,...a}[x]===m})?[...c,d,h]:c},[]);return nH(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},g_e=Qc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),v_e=A.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:we(g_e({variant:e}),t),...n}));v_e.displayName="Alert";const y_e=A.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));y_e.displayName="AlertTitle";const x_e=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("text-sm [&_p]:leading-relaxed",t),...e}));x_e.displayName="AlertDescription";var D3="Avatar",[__e,Dvt]=Xn(D3),[b_e,bZ]=__e(D3),wZ=A.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=A.useState("idle");return u.jsx(b_e,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:u.jsx(Xe.span,{...r,ref:e})})});wZ.displayName=D3;var SZ="AvatarImage",EZ=A.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=bZ(SZ,n),a=w_e(r,s),l=Ln(c=>{i(c),o.onImageLoadingStatusChange(c)});return gr(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Xe.img,{...s,ref:e,src:r}):null});EZ.displayName=SZ;var CZ="AvatarFallback",MZ=A.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=bZ(CZ,n),[o,a]=A.useState(r===void 0);return A.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?u.jsx(Xe.span,{...i,ref:e}):null});MZ.displayName=CZ;function rH(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function w_e(t,{referrerPolicy:e,crossOrigin:n}){const r=E_e(),i=A.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=A.useState(()=>rH(s,t));return gr(()=>{a(rH(s,t))},[s,t]),gr(()=>{const l=d=>()=>{a(d)};if(!s)return;const c=l("loaded"),f=l("error");return s.addEventListener("load",c),s.addEventListener("error",f),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",f)}},[s,n,e]),o}function S_e(){return()=>{}}function E_e(){return A.useSyncExternalStore(S_e,()=>!0,()=>!1)}var AZ=wZ,TZ=EZ,PZ=MZ;const C_e=A.forwardRef(({className:t,...e},n)=>u.jsx(AZ,{ref:n,className:we(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));C_e.displayName=AZ.displayName;const M_e=A.forwardRef(({className:t,...e},n)=>u.jsx(TZ,{ref:n,className:we("aspect-square h-full w-full",t),...e}));M_e.displayName=TZ.displayName;const A_e=A.forwardRef(({className:t,...e},n)=>u.jsx(PZ,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));A_e.displayName=PZ.displayName;const T_e=Qc("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function fn({className:t,variant:e,...n}){return u.jsx("div",{className:we(T_e({variant:e}),t),...n})}const P_e=A.forwardRef(({...t},e)=>u.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));P_e.displayName="Breadcrumb";const N_e=A.forwardRef(({className:t,...e},n)=>u.jsx("ol",{ref:n,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));N_e.displayName="BreadcrumbList";const R_e=A.forwardRef(({className:t,...e},n)=>u.jsx("li",{ref:n,className:we("inline-flex items-center gap-1.5",t),...e}));R_e.displayName="BreadcrumbItem";const O_e=A.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?lb:"a";return u.jsx(i,{ref:r,className:we("transition-colors hover:text-foreground",e),...n})});O_e.displayName="BreadcrumbLink";const k_e=A.forwardRef(({className:t,...e},n)=>u.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:we("font-normal text-foreground",t),...e}));k_e.displayName="BreadcrumbPage";const jx=Qc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ke=A.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?lb:"button";return u.jsx(o,{className:we(jx({variant:e,size:n,className:t})),ref:s,...i})});ke.displayName="Button";function An(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function go(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function as(t,e){const n=An(t);return isNaN(e)?go(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function $a(t,e){const n=An(t);if(isNaN(e))return go(t,NaN);if(!e)return n;const r=n.getDate(),i=go(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const j3=6048e5,I_e=864e5;let D_e={};function yb(){return D_e}function Il(t,e){var a,l,c,f;const n=yb(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=An(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Sh(t){return Il(t,{weekStartsOn:1})}function NZ(t){const e=An(t),n=e.getFullYear(),r=go(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Sh(r),s=go(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=Sh(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Tg(t){const e=An(t);return e.setHours(0,0,0,0),e}function oC(t){const e=An(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function vl(t,e){const n=Tg(t),r=Tg(e),i=+n-oC(n),s=+r-oC(r);return Math.round((i-s)/I_e)}function j_e(t){const e=NZ(t),n=go(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Sh(n)}function EI(t,e){const n=e*7;return as(t,n)}function L_e(t,e){return $a(t,e*12)}function F_e(t){let e;return t.forEach(function(n){const r=An(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function B_e(t){let e;return t.forEach(n=>{const r=An(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Os(t,e){const n=Tg(t),r=Tg(e);return+n==+r}function L3(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function z_e(t){if(!L3(t)&&typeof t!="number")return!1;const e=An(t);return!isNaN(Number(e))}function Lx(t,e){const n=An(t),r=An(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function U_e(t,e,n){const r=Il(t,n),i=Il(e,n),s=+r-oC(r),o=+i-oC(i);return Math.round((s-o)/j3)}function F3(t){const e=An(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Fs(t){const e=An(t);return e.setDate(1),e.setHours(0,0,0,0),e}function RZ(t){const e=An(t),n=go(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function B3(t,e){var a,l,c,f;const n=yb(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=An(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function OZ(t){return B3(t,{weekStartsOn:1})}const $_e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},H_e=(t,e,n)=>{let r;const i=$_e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function eR(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const V_e={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},W_e={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},G_e={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},q_e={date:eR({formats:V_e,defaultWidth:"full"}),time:eR({formats:W_e,defaultWidth:"full"}),dateTime:eR({formats:G_e,defaultWidth:"full"})},X_e={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},K_e=(t,e,n,r)=>X_e[t];function Uy(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Y_e={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Z_e={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Q_e={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},J_e={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ebe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tbe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},nbe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},rbe={ordinalNumber:nbe,era:Uy({values:Y_e,defaultWidth:"wide"}),quarter:Uy({values:Z_e,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Uy({values:Q_e,defaultWidth:"wide"}),day:Uy({values:J_e,defaultWidth:"wide"}),dayPeriod:Uy({values:ebe,defaultWidth:"wide",formattingValues:tbe,defaultFormattingWidth:"wide"})};function $y(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?sbe(a,d=>d.test(o)):ibe(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(o.length);return{value:c,rest:f}}}function ibe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function sbe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function obe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const abe=/^(\d+)(th|st|nd|rd)?/i,lbe=/\d+/i,cbe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ube={any:[/^b/i,/^(a|c)/i]},dbe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},fbe={any:[/1/i,/2/i,/3/i,/4/i]},hbe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},pbe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mbe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},gbe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vbe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ybe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xbe={ordinalNumber:obe({matchPattern:abe,parsePattern:lbe,valueCallback:t=>parseInt(t,10)}),era:$y({matchPatterns:cbe,defaultMatchWidth:"wide",parsePatterns:ube,defaultParseWidth:"any"}),quarter:$y({matchPatterns:dbe,defaultMatchWidth:"wide",parsePatterns:fbe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:$y({matchPatterns:hbe,defaultMatchWidth:"wide",parsePatterns:pbe,defaultParseWidth:"any"}),day:$y({matchPatterns:mbe,defaultMatchWidth:"wide",parsePatterns:gbe,defaultParseWidth:"any"}),dayPeriod:$y({matchPatterns:vbe,defaultMatchWidth:"any",parsePatterns:ybe,defaultParseWidth:"any"})},kZ={code:"en-US",formatDistance:H_e,formatLong:q_e,formatRelative:K_e,localize:rbe,match:xbe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function _be(t){const e=An(t);return vl(e,RZ(e))+1}function IZ(t){const e=An(t),n=+Sh(e)-+j_e(e);return Math.round(n/j3)+1}function DZ(t,e){var f,d,h,g;const n=An(t),r=n.getFullYear(),i=yb(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(h=i.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=go(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=Il(o,e),l=go(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Il(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function bbe(t,e){var a,l,c,f;const n=yb(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,i=DZ(t,e),s=go(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Il(s,e)}function jZ(t,e){const n=An(t),r=+Il(n,e)-+bbe(n,e);return Math.round(r/j3)+1}function Un(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const _u={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Un(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Un(n+1,2)},d(t,e){return Un(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Un(t.getHours()%12||12,e.length)},H(t,e){return Un(t.getHours(),e.length)},m(t,e){return Un(t.getMinutes(),e.length)},s(t,e){return Un(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Un(i,e.length)}},Rp={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},iH={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return _u.y(t,e)},Y:function(t,e,n,r){const i=DZ(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Un(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Un(s,e.length)},R:function(t,e){const n=NZ(t);return Un(n,e.length)},u:function(t,e){const n=t.getFullYear();return Un(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Un(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Un(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return _u.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Un(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=jZ(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Un(i,e.length)},I:function(t,e,n){const r=IZ(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Un(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):_u.d(t,e)},D:function(t,e,n){const r=_be(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Un(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Un(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Un(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Un(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Rp.noon:r===0?i=Rp.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Rp.evening:r>=12?i=Rp.afternoon:r>=4?i=Rp.morning:i=Rp.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return _u.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):_u.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Un(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Un(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):_u.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):_u.s(t,e)},S:function(t,e){return _u.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return oH(r);case"XXXX":case"XX":return Sf(r);case"XXXXX":case"XXX":default:return Sf(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return oH(r);case"xxxx":case"xx":return Sf(r);case"xxxxx":case"xxx":default:return Sf(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+sH(r,":");case"OOOO":default:return"GMT"+Sf(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+sH(r,":");case"zzzz":default:return"GMT"+Sf(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Un(r,e.length)},T:function(t,e,n){const r=t.getTime();return Un(r,e.length)}};function sH(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Un(s,2)}function oH(t,e){return t%60===0?(t>0?"-":"+")+Un(Math.abs(t)/60,2):Sf(t,e)}function Sf(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Un(Math.trunc(r/60),2),s=Un(r%60,2);return n+i+e+s}const aH=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},LZ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},wbe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return aH(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",aH(r,e)).replace("{{time}}",LZ(i,e))},Sbe={p:LZ,P:wbe},Ebe=/^D+$/,Cbe=/^Y+$/,Mbe=["D","DD","YY","YYYY"];function Abe(t){return Ebe.test(t)}function Tbe(t){return Cbe.test(t)}function Pbe(t,e,n){const r=Nbe(t,e,n);if(console.warn(r),Mbe.includes(t))throw new RangeError(r)}function Nbe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Rbe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Obe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kbe=/^'([^]*?)'?$/,Ibe=/''/g,Dbe=/[a-zA-Z]/;function Od(t,e,n){var f,d,h,g,v,x,m,p;const r=yb(),i=(n==null?void 0:n.locale)??r.locale??kZ,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=An(t);if(!z_e(a))throw new RangeError("Invalid time value");let l=e.match(Obe).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=Sbe[_];return b(y,i.formatLong)}return y}).join("").match(Rbe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:jbe(y)};if(iH[_])return{isToken:!0,value:y};if(_.match(Dbe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&Tbe(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Abe(_))&&Pbe(_,e,String(t));const b=iH[_[0]];return b(a,_,i.localize,c)}).join("")}function jbe(t){const e=t.match(kbe);return e?e[1].replace(Ibe,"'"):t}function Lbe(t){const e=An(t),n=e.getFullYear(),r=e.getMonth(),i=go(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Fbe(t){return Math.trunc(+An(t)/1e3)}function Bbe(t){const e=An(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function zbe(t,e){return U_e(Bbe(t),Fs(t),e)+1}function CI(t,e){const n=An(t),r=An(e);return n.getTime()>r.getTime()}function FZ(t,e){const n=An(t),r=An(e);return+n<+r}function z3(t,e){const n=An(t),r=An(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Ube(t,e){const n=An(t),r=An(e);return n.getFullYear()===r.getFullYear()}function tR(t,e){return as(t,-e)}function nR(t,e){const n=An(t),r=n.getFullYear(),i=n.getDate(),s=go(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=Lbe(s);return n.setMonth(e,Math.min(i,o)),n}function lH(t,e){const n=An(t);return isNaN(+n)?go(t,NaN):(n.setFullYear(e),n)}var Kt=function(){return Kt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Kt.apply(this,arguments)};function $be(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BZ(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function xb(t){return t.mode==="multiple"}function _b(t){return t.mode==="range"}function tT(t){return t.mode==="single"}var Hbe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function Vbe(t,e){return Od(t,"LLLL y",e)}function Wbe(t,e){return Od(t,"d",e)}function Gbe(t,e){return Od(t,"LLLL",e)}function qbe(t){return"".concat(t)}function Xbe(t,e){return Od(t,"cccccc",e)}function Kbe(t,e){return Od(t,"yyyy",e)}var Ybe=Object.freeze({__proto__:null,formatCaption:Vbe,formatDay:Wbe,formatMonthCaption:Gbe,formatWeekNumber:qbe,formatWeekdayName:Xbe,formatYearCaption:Kbe}),Zbe=function(t,e,n){return Od(t,"do MMMM (EEEE)",n)},Qbe=function(){return"Month: "},Jbe=function(){return"Go to next month"},ewe=function(){return"Go to previous month"},twe=function(t,e){return Od(t,"cccc",e)},nwe=function(t){return"Week n. ".concat(t)},rwe=function(){return"Year: "},iwe=Object.freeze({__proto__:null,labelDay:Zbe,labelMonthDropdown:Qbe,labelNext:Jbe,labelPrevious:ewe,labelWeekNumber:nwe,labelWeekday:twe,labelYearDropdown:rwe});function swe(){var t="buttons",e=Hbe,n=kZ,r={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:Ybe,labels:iwe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function owe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return r?s=Fs(r):e&&(s=new Date(e,0,1)),i?o=F3(i):n&&(o=new Date(n,11,31)),{fromDate:s?Tg(s):void 0,toDate:o?Tg(o):void 0}}var zZ=A.createContext(void 0);function awe(t){var e,n=t.initialProps,r=swe(),i=owe(n),s=i.fromDate,o=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var l;(tT(n)||xb(n)||_b(n))&&(l=n.onSelect);var c=Kt(Kt(Kt({},r),n),{captionLayout:a,classNames:Kt(Kt({},r.classNames),n.classNames),components:Kt({},n.components),formatters:Kt(Kt({},r.formatters),n.formatters),fromDate:s,labels:Kt(Kt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Kt(Kt({},r.modifiers),n.modifiers),modifiersClassNames:Kt(Kt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Kt(Kt({},r.styles),n.styles),toDate:o});return u.jsx(zZ.Provider,{value:c,children:t.children})}function tr(){var t=A.useContext(zZ);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function UZ(t){var e=tr(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function lwe(t){return u.jsx("svg",Kt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function $Z(t){var e,n,r=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,l=t.style,c=tr(),f=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:lwe;return u.jsxs("div",{className:a,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(f,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function cwe(t){var e,n=tr(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,f=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var d=[];if(Ube(r,i))for(var h=Fs(r),g=r.getMonth();g<=i.getMonth();g++)d.push(nR(h,g));else for(var h=Fs(new Date),g=0;g<=11;g++)d.push(nR(h,g));var v=function(m){var p=Number(m.target.value),y=nR(Fs(t.displayMonth),p);t.onChange(y)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:$Z;return u.jsx(x,{name:"months","aria-label":f(),className:l.dropdown_month,style:s.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:d.map(function(m){return u.jsx("option",{value:m.getMonth(),children:a(m,{locale:o})},m.getMonth())})})}function uwe(t){var e,n=t.displayMonth,r=tr(),i=r.fromDate,s=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,f=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,h=[];if(!i)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});for(var g=i.getFullYear(),v=s.getFullYear(),x=g;x<=v;x++)h.push(lH(RZ(new Date),x));var m=function(y){var _=lH(Fs(n),Number(y.target.value));t.onChange(_)},p=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:$Z;return u.jsx(p,{name:"years","aria-label":d(),className:l.dropdown_year,style:a.dropdown_year,onChange:m,value:n.getFullYear(),caption:f(n,{locale:o}),children:h.map(function(y){return u.jsx("option",{value:y.getFullYear(),children:f(y,{locale:o})},y.getFullYear())})})}function dwe(t,e){var n=A.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function fwe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(s&&Lx(s,i)<0){var c=-1*(l-1);i=$a(s,c)}return o&&Lx(i,o)<0&&(i=o),Fs(i)}function hwe(){var t=tr(),e=fwe(t),n=dwe(e,t.month),r=n[0],i=n[1],s=function(o){var a;if(!t.disableNavigation){var l=Fs(o);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,s]}function pwe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Fs(t),s=Fs($a(i,r)),o=Lx(s,i),a=[],l=0;l<o;l++){var c=$a(i,l);a.push(c)}return n&&(a=a.reverse()),a}function mwe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Fs(t);if(!n)return $a(a,o);var l=Lx(n,t);if(!(l<s))return $a(a,o)}}function gwe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Fs(t);if(!n)return $a(a,-o);var l=Lx(a,n);if(!(l<=0))return $a(a,-o)}}var HZ=A.createContext(void 0);function vwe(t){var e=tr(),n=hwe(),r=n[0],i=n[1],s=pwe(r,e),o=mwe(r,e),a=gwe(r,e),l=function(d){return s.some(function(h){return z3(d,h)})},c=function(d,h){l(d)||(h&&FZ(d,h)?i($a(d,1+e.numberOfMonths*-1)):i(d))},f={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return u.jsx(HZ.Provider,{value:f,children:t.children})}function bb(){var t=A.useContext(HZ);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function cH(t){var e,n=tr(),r=n.classNames,i=n.styles,s=n.components,o=bb().goToMonth,a=function(f){o($a(f,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:UZ,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:c}),u.jsx(cwe,{onChange:a,displayMonth:t.displayMonth}),u.jsx(uwe,{onChange:a,displayMonth:t.displayMonth})]})}function ywe(t){return u.jsx("svg",Kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xwe(t){return u.jsx("svg",Kt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var aC=A.forwardRef(function(t,e){var n=tr(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var o=s.join(" "),a=Kt(Kt({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),u.jsx("button",Kt({},t,{ref:e,type:"button",className:o,style:a}))});function _we(t){var e,n,r=tr(),i=r.dir,s=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,f=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var h=c(t.previousMonth,{locale:s}),g=[o.nav_button,o.nav_button_previous].join(" "),v=f(t.nextMonth,{locale:s}),x=[o.nav_button,o.nav_button_next].join(" "),m=(e=d==null?void 0:d.IconRight)!==null&&e!==void 0?e:xwe,p=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:ywe;return u.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&u.jsx(aC,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?u.jsx(m,{className:o.nav_icon,style:a.nav_icon}):u.jsx(p,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&u.jsx(aC,{name:"next-month","aria-label":v,className:x,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?u.jsx(p,{className:o.nav_icon,style:a.nav_icon}):u.jsx(m,{className:o.nav_icon,style:a.nav_icon})})]})}function uH(t){var e=tr().numberOfMonths,n=bb(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(v){return z3(t.displayMonth,v)}),l=a===0,c=a===o.length-1,f=e>1&&(l||!c),d=e>1&&(c||!l),h=function(){r&&s(r)},g=function(){i&&s(i)};return u.jsx(_we,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function bwe(t){var e,n=tr(),r=n.classNames,i=n.disableNavigation,s=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:UZ,c;return i?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx(cH,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx(cH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(uH,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(uH,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:s.caption,children:c})}function wwe(t){var e=tr(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?u.jsx("tfoot",{className:i,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function Swe(t,e,n){for(var r=n?Sh(new Date):Il(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=as(r,s);i.push(o)}return i}function Ewe(){var t=tr(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=Swe(i,s,o);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(f,d){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(f,{locale:i}),children:a(f,{locale:i})},d)})]})}function Cwe(){var t,e=tr(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:Ewe;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(s,{})})}function Mwe(t){var e=tr(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var U3=A.createContext(void 0);function Awe(t){if(!xb(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(U3.Provider,{value:e,children:t.children})}return u.jsx(Twe,{initialProps:t.initialProps,children:t.children})}function Twe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,o=function(c,f,d){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,f,d);var v=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var x=!!(!f.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var m=r?BZ([],r):[];if(f.selected){var p=m.findIndex(function(y){return Os(c,y)});m.splice(p,1)}else m.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,m,c,f,d)}}},a={disabled:[]};r&&a.disabled.push(function(c){var f=s&&r.length>s-1,d=r.some(function(h){return Os(h,c)});return!!(f&&!d)});var l={selected:r,onDayClick:o,modifiers:a};return u.jsx(U3.Provider,{value:l,children:n})}function $3(){var t=A.useContext(U3);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Pwe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Os(i,t)&&Os(r,t)?void 0:Os(i,t)?{from:i,to:void 0}:Os(r,t)?void 0:CI(r,t)?{from:t,to:i}:{from:r,to:t}:i?CI(t,i)?{from:i,to:t}:{from:t,to:i}:r?FZ(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var H3=A.createContext(void 0);function Nwe(t){if(!_b(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(H3.Provider,{value:e,children:t.children})}return u.jsx(Rwe,{initialProps:t.initialProps,children:t.children})}function Rwe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,o=i.to,a=e.min,l=e.max,c=function(g,v,x){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,g,v,x);var y=Pwe(g,r);(p=e.onSelect)===null||p===void 0||p.call(e,y,g,v,x)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(f.range_start=[s],o?(f.range_end=[o],Os(s,o)||(f.range_middle=[{after:s,before:o}])):f.range_end=[s]):o&&(f.range_start=[o],f.range_end=[o]),a&&(s&&!o&&f.disabled.push({after:tR(s,a-1),before:as(s,a-1)}),s&&o&&f.disabled.push({after:s,before:as(s,a-1)}),!s&&o&&f.disabled.push({after:tR(o,a-1),before:as(o,a-1)})),l){if(s&&!o&&(f.disabled.push({before:as(s,-l+1)}),f.disabled.push({after:as(s,l-1)})),s&&o){var d=vl(o,s)+1,h=l-d;f.disabled.push({before:tR(s,h)}),f.disabled.push({after:as(o,h)})}!s&&o&&(f.disabled.push({before:as(o,-l+1)}),f.disabled.push({after:as(o,l-1)}))}return u.jsx(H3.Provider,{value:{selected:r,onDayClick:c,modifiers:f},children:n})}function V3(){var t=A.useContext(H3);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function dE(t){return Array.isArray(t)?BZ([],t):t!==void 0?[t]:[]}function Owe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=dE(i)}),e}var Ha;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Ha||(Ha={}));var kwe=Ha.Selected,rc=Ha.Disabled,Iwe=Ha.Hidden,Dwe=Ha.Today,rR=Ha.RangeEnd,iR=Ha.RangeMiddle,sR=Ha.RangeStart,jwe=Ha.Outside;function Lwe(t,e,n){var r,i=(r={},r[kwe]=dE(t.selected),r[rc]=dE(t.disabled),r[Iwe]=dE(t.hidden),r[Dwe]=[t.today],r[rR]=[],r[iR]=[],r[sR]=[],r[jwe]=[],r);return t.fromDate&&i[rc].push({before:t.fromDate}),t.toDate&&i[rc].push({after:t.toDate}),xb(t)?i[rc]=i[rc].concat(e.modifiers[rc]):_b(t)&&(i[rc]=i[rc].concat(n.modifiers[rc]),i[sR]=n.modifiers[sR],i[iR]=n.modifiers[iR],i[rR]=n.modifiers[rR]),i}var VZ=A.createContext(void 0);function Fwe(t){var e=tr(),n=$3(),r=V3(),i=Lwe(e,n,r),s=Owe(e.modifiers),o=Kt(Kt({},i),s);return u.jsx(VZ.Provider,{value:o,children:t.children})}function WZ(){var t=A.useContext(VZ);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function Bwe(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function zwe(t){return!!(t&&typeof t=="object"&&"from"in t)}function Uwe(t){return!!(t&&typeof t=="object"&&"after"in t)}function $we(t){return!!(t&&typeof t=="object"&&"before"in t)}function Hwe(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function Vwe(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=vl(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var o=vl(t,r)>=0&&vl(i,t)>=0;return o}return i?Os(i,t):r?Os(r,t):!1}function Wwe(t){return L3(t)}function Gwe(t){return Array.isArray(t)&&t.every(L3)}function qwe(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(Wwe(n))return Os(t,n);if(Gwe(n))return n.includes(t);if(zwe(n))return Vwe(t,n);if(Hwe(n))return n.dayOfWeek.includes(t.getDay());if(Bwe(n)){var r=vl(n.before,t),i=vl(n.after,t),s=r>0,o=i<0,a=CI(n.before,n.after);return a?o&&s:s||o}return Uwe(n)?vl(t,n.after)>0:$we(n)?vl(n.before,t)>0:typeof n=="function"?n(t):!1})}function W3(t,e,n){var r=Object.keys(e).reduce(function(s,o){var a=e[o];return qwe(t,a)&&s.push(o),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!z3(t,n)&&(i.outside=!0),i}function Xwe(t,e){for(var n=Fs(t[0]),r=F3(t[t.length-1]),i,s,o=n;o<=r;){var a=W3(o,e),l=!a.disabled&&!a.hidden;if(!l){o=as(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=as(o,1)}return s||i}var Kwe=365;function GZ(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,c=i.fromDate,f=i.toDate,d=i.locale,h={day:as,week:EI,month:$a,year:L_e,startOfWeek:function(m){return i.ISOWeek?Sh(m):Il(m,{locale:d,weekStartsOn:l})},endOfWeek:function(m){return i.ISOWeek?OZ(m):B3(m,{locale:d,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=F_e([c,g]):r==="after"&&f&&(g=B_e([f,g]));var v=!0;if(s){var x=W3(g,s);v=!x.disabled&&!x.hidden}return v?g:a.count>Kwe?a.lastFocused:GZ(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:Kt(Kt({},a),{count:a.count+1})})}var qZ=A.createContext(void 0);function Ywe(t){var e=bb(),n=WZ(),r=A.useState(),i=r[0],s=r[1],o=A.useState(),a=o[0],l=o[1],c=Xwe(e.displayMonths,n),f=i??(a&&e.isDateDisplayed(a))?a:c,d=function(){l(i),s(void 0)},h=function(m){s(m)},g=tr(),v=function(m,p){if(i){var y=GZ(i,{moveBy:m,direction:p,context:g,modifiers:n});Os(i,y)||(e.goToDate(y,i),h(y))}},x={focusedDay:i,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return u.jsx(qZ.Provider,{value:x,children:t.children})}function G3(){var t=A.useContext(qZ);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Zwe(t,e){var n=WZ(),r=W3(t,n,e);return r}var q3=A.createContext(void 0);function Qwe(t){if(!tT(t.initialProps)){var e={selected:void 0};return u.jsx(q3.Provider,{value:e,children:t.children})}return u.jsx(Jwe,{initialProps:t.initialProps,children:t.children})}function Jwe(t){var e=t.initialProps,n=t.children,r=function(s,o,a){var l,c,f;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,o,a);return}(f=e.onSelect)===null||f===void 0||f.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:r};return u.jsx(q3.Provider,{value:i,children:n})}function XZ(){var t=A.useContext(q3);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function e1e(t,e){var n=tr(),r=XZ(),i=$3(),s=V3(),o=G3(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,f=o.focusWeekBefore,d=o.blur,h=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,x=o.focusYearBefore,m=o.focusYearAfter,p=o.focusStartOfWeek,y=o.focusEndOfWeek,_=function(H){var R,I,B,W;tT(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,t,e,H):xb(n)?(I=i.onDayClick)===null||I===void 0||I.call(i,t,e,H):_b(n)?(B=s.onDayClick)===null||B===void 0||B.call(s,t,e,H):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,H)},b=function(H){var R;h(t),(R=n.onDayFocus)===null||R===void 0||R.call(n,t,e,H)},S=function(H){var R;d(),(R=n.onDayBlur)===null||R===void 0||R.call(n,t,e,H)},C=function(H){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,t,e,H)},M=function(H){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,t,e,H)},T=function(H){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,t,e,H)},P=function(H){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,t,e,H)},N=function(H){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,t,e,H)},k=function(H){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,t,e,H)},D=function(H){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,t,e,H)},j=function(H){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,t,e,H)},F=function(H){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,t,e,H)},z=function(H){var R;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),c();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),f();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?x():g();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?m():v();break;case"Home":H.preventDefault(),H.stopPropagation(),p();break;case"End":H.preventDefault(),H.stopPropagation(),y();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,t,e,H)},U={onClick:_,onFocus:b,onBlur:S,onKeyDown:z,onKeyUp:F,onMouseEnter:C,onMouseLeave:M,onPointerEnter:T,onPointerLeave:P,onTouchCancel:N,onTouchEnd:k,onTouchMove:D,onTouchStart:j};return U}function t1e(){var t=tr(),e=XZ(),n=$3(),r=V3(),i=tT(t)?e.selected:xb(t)?n.selected:_b(t)?r.selected:void 0;return i}function n1e(t){return Object.values(Ha).includes(t)}function r1e(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(n1e(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function i1e(t,e){var n=Kt({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Kt(Kt({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function s1e(t,e,n){var r,i,s,o=tr(),a=G3(),l=Zwe(t,e),c=e1e(t,l),f=t1e(),d=!!(o.onDayClick||o.mode!=="default");A.useEffect(function(){var C;l.outside||a.focusedDay&&d&&Os(a.focusedDay,t)&&((C=n.current)===null||C===void 0||C.focus())},[a.focusedDay,t,n,d,l.outside]);var h=r1e(o,l).join(" "),g=i1e(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),x=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:Mwe,m=u.jsx(x,{date:t,displayMonth:e,activeModifiers:l}),p={style:g,className:h,children:m,role:"gridcell"},y=a.focusTarget&&Os(a.focusTarget,t)&&!l.outside,_=a.focusedDay&&Os(a.focusedDay,t),b=Kt(Kt(Kt({},p),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=_||y?0:-1,r)),c),S={isButton:d,isHidden:v,activeModifiers:l,selectedDays:f,buttonProps:b,divProps:p};return S}function o1e(t){var e=A.useRef(null),n=s1e(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(aC,Kt({name:"day",ref:e},n.buttonProps)):u.jsx("div",Kt({},n.divProps))}function a1e(t){var e=t.number,n=t.dates,r=tr(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,f=c(Number(e),{locale:a});if(!i)return u.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:f});var d=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return u.jsx(aC,{name:"week-number","aria-label":d,className:o.weeknumber,style:s.weeknumber,onClick:h,children:f})}function l1e(t){var e,n,r=tr(),i=r.styles,s=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:o1e,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:a1e,f;return o&&(f=u.jsx("td",{className:s.cell,style:i.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:s.row,style:i.row,children:[f,t.dates.map(function(d){return u.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:d})},Fbe(d))})]})}function dH(t,e,n){for(var r=n!=null&&n.ISOWeek?OZ(e):B3(e,n),i=n!=null&&n.ISOWeek?Sh(t):Il(t,n),s=vl(r,i),o=[],a=0;a<=s;a++)o.push(as(i,a));var l=o.reduce(function(c,f){var d=n!=null&&n.ISOWeek?IZ(f):jZ(f,n),h=c.find(function(g){return g.weekNumber===d});return h?(h.dates.push(f),c):(c.push({weekNumber:d,dates:[f]}),c)},[]);return l}function c1e(t,e){var n=dH(Fs(t),F3(t),e);if(e!=null&&e.useFixedWeeks){var r=zbe(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=EI(s,6-r),a=dH(EI(s,1),o,e);n.push.apply(n,a)}}return n}function u1e(t){var e,n,r,i=tr(),s=i.locale,o=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,f=i.components,d=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,v=c1e(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:s,weekStartsOn:d,firstWeekContainsDate:h}),x=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:Cwe,m=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:l1e,p=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:wwe;return u.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(x,{}),u.jsx("tbody",{className:o.tbody,style:a.tbody,children:v.map(function(y){return u.jsx(m,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),u.jsx(p,{displayMonth:t.displayMonth})]})}function d1e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var f1e=d1e()?A.useLayoutEffect:A.useEffect,oR=!1,h1e=0;function fH(){return"react-day-picker-".concat(++h1e)}function p1e(t){var e,n=t??(oR?fH():null),r=A.useState(n),i=r[0],s=r[1];return f1e(function(){i===null&&s(fH())},[]),A.useEffect(function(){oR===!1&&(oR=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function m1e(t){var e,n,r=tr(),i=r.dir,s=r.classNames,o=r.styles,a=r.components,l=bb().displayMonths,c=p1e(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[s.month],h=o.month,g=t.displayIndex===0,v=t.displayIndex===l.length-1,x=!g&&!v;i==="rtl"&&(e=[g,v],v=e[0],g=e[1]),g&&(d.push(s.caption_start),h=Kt(Kt({},h),o.caption_start)),v&&(d.push(s.caption_end),h=Kt(Kt({},h),o.caption_end)),x&&(d.push(s.caption_between),h=Kt(Kt({},h),o.caption_between));var m=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:bwe;return u.jsxs("div",{className:d.join(" "),style:h,children:[u.jsx(m,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(u1e,{id:f,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function g1e(t){var e=tr(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function v1e(t){var e,n,r=t.initialProps,i=tr(),s=G3(),o=bb(),a=A.useState(!1),l=a[0],c=a[1];A.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var d=Kt(Kt({},i.styles.root),i.style),h=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,x){var m;return Kt(Kt({},v),(m={},m[x]=r[x],m))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:g1e;return u.jsx("div",Kt({className:f.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:u.jsx(g,{children:o.displayMonths.map(function(v,x){return u.jsx(m1e,{displayIndex:x,displayMonth:v},x)})})}))}function y1e(t){var e=t.children,n=$be(t,["children"]);return u.jsx(awe,{initialProps:n,children:u.jsx(vwe,{children:u.jsx(Qwe,{initialProps:n,children:u.jsx(Awe,{initialProps:n,children:u.jsx(Nwe,{initialProps:n,children:u.jsx(Fwe,{children:u.jsx(Ywe,{children:e})})})})})})})}function x1e(t){return u.jsx(y1e,Kt({},t,{children:u.jsx(v1e,{initialProps:t})}))}function MI({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(x1e,{showOutsideDays:n,className:we("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:we(jx({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:we(jx({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>u.jsx(Mye,{className:we("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>u.jsx(db,{className:we("h-4 w-4",i),...s})},...r})}MI.displayName="Calendar";const Ge=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));Ge.displayName="Card";const Ye=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));Ye.displayName="CardHeader";const Ze=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ze.displayName="CardTitle";const Ut=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Ut.displayName="CardDescription";const et=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));et.displayName="CardContent";const X3=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));X3.displayName="CardFooter";function _1e(t){return Object.prototype.toString.call(t)==="[object Object]"}function hH(t){return _1e(t)||Array.isArray(t)}function b1e(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function K3(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!hH(a)||!hH(l)?a===l:K3(a,l)})}function pH(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function w1e(t,e){if(t.length!==e.length)return!1;const n=pH(t),r=pH(e);return n.every((i,s)=>{const o=r[s];return K3(i,o)})}function Y3(t){return typeof t=="number"}function AI(t){return typeof t=="string"}function nT(t){return typeof t=="boolean"}function mH(t){return Object.prototype.toString.call(t)==="[object Object]"}function Er(t){return Math.abs(t)}function Z3(t){return Math.sign(t)}function q0(t,e){return Er(t-e)}function S1e(t,e){if(t===0||e===0||Er(t)<=Er(e))return 0;const n=q0(Er(t),Er(e));return Er(n/t)}function E1e(t){return Math.round(t*100)/100}function Fx(t){return Bx(t).map(Number)}function ja(t){return t[wb(t)]}function wb(t){return Math.max(0,t.length-1)}function Q3(t,e){return e===wb(t)}function gH(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function Bx(t){return Object.keys(t)}function KZ(t,e){return[t,e].reduce((n,r)=>(Bx(r).forEach(i=>{const s=n[i],o=r[i],a=mH(s)&&mH(o);n[i]=a?KZ(s,o):o}),n),{})}function TI(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function C1e(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return AI(t)?n[t](l):t(e,l,c)}return{measure:o}}function zx(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function M1e(t,e,n,r){const i=zx(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function f(){g(),i.clear()}function d(m){if(!l)return;o||(o=m,n(),n());const p=m-o;for(o=m,a+=p;a>=s;)n(),a-=s;const y=a/s;r(y),l&&(l=e.requestAnimationFrame(d))}function h(){l||(l=e.requestAnimationFrame(d))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:f,start:h,stop:g,update:n,render:r}}function A1e(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=f(),l=d();function c(v){const{height:x,width:m}=v;return r?x:m}function f(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function h(v){return v*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function Eh(t=0,e=0){const n=Er(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function YZ(t,e,n){const{constrain:r}=Eh(0,t),i=t+1;let s=o(e);function o(h){return n?Er((i+h)%i):r(h)}function a(){return s}function l(h){return s=o(h),d}function c(h){return f().set(a()+h)}function f(){return YZ(t,a(),n)}const d={get:a,set:l,add:c,clone:f};return d}function T1e(t,e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m,p,y){const{cross:_,direction:b}=t,S=["INPUT","SELECT","TEXTAREA"],C={passive:!1},M=zx(),T=zx(),P=Eh(50,225).constrain(g.measure(20)),N={mouse:300,touch:400},k={mouse:500,touch:600},D=v?43:25;let j=!1,F=0,z=0,U=!1,H=!1,R=!1,I=!1;function B(J){if(!y)return;function K(fe){(nT(y)||y(J,fe))&&se(fe)}const re=e;M.add(re,"dragstart",fe=>fe.preventDefault(),C).add(re,"touchmove",()=>{},C).add(re,"touchend",()=>{}).add(re,"touchstart",K).add(re,"mousedown",K).add(re,"touchcancel",Y).add(re,"contextmenu",Y).add(re,"click",Q,!0)}function W(){M.clear(),T.clear()}function G(){const J=I?n:e;T.add(J,"touchmove",$,C).add(J,"touchend",Y).add(J,"mousemove",$,C).add(J,"mouseup",Y)}function X(J){const K=J.nodeName||"";return S.includes(K)}function ne(){return(v?k:N)[I?"mouse":"touch"]}function ae(J,K){const re=d.add(Z3(J)*-1),fe=f.byDistance(J,!v).distance;return v||Er(J)<P?fe:m&&K?fe*.5:f.byIndex(re.get(),0).distance}function se(J){const K=TI(J,r);I=K,R=v&&K&&!J.buttons&&j,j=q0(i.get(),o.get())>=2,!(K&&J.button!==0)&&(X(J.target)||(U=!0,s.pointerDown(J),c.useFriction(0).useDuration(0),i.set(o),G(),F=s.readPoint(J),z=s.readPoint(J,_),h.emit("pointerDown")))}function $(J){if(!TI(J,r)&&J.touches.length>=2)return Y(J);const re=s.readPoint(J),fe=s.readPoint(J,_),me=q0(re,F),pe=q0(fe,z);if(!H&&!I&&(!J.cancelable||(H=me>pe,!H)))return Y(J);const Ae=s.pointerMove(J);me>x&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(b(Ae)),J.preventDefault()}function Y(J){const re=f.byDistance(0,!1).index!==d.get(),fe=s.pointerUp(J)*ne(),me=ae(b(fe),re),pe=S1e(fe,me),Ae=D-10*pe,Ce=p+pe/50;H=!1,U=!1,T.clear(),c.useDuration(Ae).useFriction(Ce),l.distance(me,!v),I=!1,h.emit("pointerUp")}function Q(J){R&&(J.stopPropagation(),J.preventDefault(),R=!1)}function ee(){return U}return{init:B,destroy:W,pointerDown:ee}}function P1e(t,e){let r,i;function s(d){return d.timeStamp}function o(d,h){const v=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(TI(d,e)?d:d.touches[0])[v]}function a(d){return r=d,i=d,o(d)}function l(d){const h=o(d)-o(i),g=s(d)-s(r)>170;return i=d,g&&(r=d),h}function c(d){if(!r||!i)return 0;const h=o(i)-o(r),g=s(d)-s(r),v=s(d)-s(i)>170,x=h/g;return g&&!v&&Er(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function N1e(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function R1e(t){function e(r){return t*(r/100)}return{measure:e}}function O1e(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,f=[],d=!1;function h(m){return i.measureSize(o.measure(m))}function g(m){if(!s)return;c=h(t),f=r.map(h);function p(y){for(const _ of y){if(d)return;const b=_.target===t,S=r.indexOf(_.target),C=b?c:f[S],M=h(b?t:r[S]);if(Er(M-C)>=.5){m.reInit(),e.emit("resize");break}}}l=new ResizeObserver(y=>{(nT(s)||s(m,y))&&p(y)}),n.requestAnimationFrame(()=>{a.forEach(y=>l.observe(y))})}function v(){d=!0,l&&l.disconnect()}return{init:g,destroy:v}}function k1e(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,f=t.get(),d=0;function h(){const C=r.get()-t.get(),M=!l;let T=0;return M?(o=0,n.set(r),t.set(r),T=C):(n.set(t),o+=C/l,o*=c,f+=o,t.add(o),T=f-d),a=Z3(T),d=f,S}function g(){const C=r.get()-e.get();return Er(C)<.001}function v(){return l}function x(){return a}function m(){return o}function p(){return _(i)}function y(){return b(s)}function _(C){return l=C,S}function b(C){return c=C,S}const S={direction:x,duration:v,velocity:m,seek:h,settled:g,useBaseFriction:y,useBaseDuration:p,useFriction:b,useDuration:_};return S}function I1e(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=Eh(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function f(g){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",x=Er(t[v]-e.get()),m=n.get()-e.get(),p=a.constrain(x/o);n.subtract(m*p),!g&&Er(m)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(g){l=!g}return{shouldConstrain:c,constrain:f,toggleActive:d}}function D1e(t,e,n,r,i){const s=Eh(-e+t,0),o=d(),a=f(),l=h();function c(v,x){return q0(v,x)<=1}function f(){const v=o[0],x=ja(o),m=o.lastIndexOf(v),p=o.indexOf(x)+1;return Eh(m,p)}function d(){return n.map((v,x)=>{const{min:m,max:p}=s,y=s.constrain(v),_=!x,b=Q3(n,x);return _?p:b||c(m,y)?m:c(p,y)?p:y}).map(v=>parseFloat(v.toFixed(3)))}function h(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:v,max:x}=a;return o.slice(v,x)}return{snapsContained:l,scrollContainLimit:a}}function j1e(t,e,n){const r=e[0],i=n?r-t:ja(e);return{limit:Eh(i,r)}}function L1e(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=Eh(s,o);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function f(h){if(!c(h))return;const g=t*(h*-1);r.forEach(v=>v.add(g))}return{loop:f}}function F1e(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function B1e(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=d().map(e.measure),c=h(),f=g();function d(){return a(r).map(x=>ja(x)[o]-x[0][s]).map(Er)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-Er(x))}function g(){return a(c).map(x=>x[0]).map((x,m)=>x+l[m])}return{snaps:c,snapsAligned:f}}function z1e(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=f();function f(){const h=o(s),g=!t||e==="keepSnaps";return n.length===1?[s]:g?h:h.slice(a,l).map((v,x,m)=>{const p=!x,y=Q3(m,x);if(p){const _=ja(m[0])+1;return gH(_)}if(y){const _=wb(s)-ja(m)[0]+1;return gH(_,ja(m)[0])}return v})}return{slideRegistry:c}}function U1e(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((x,m)=>Er(x)-Er(m))[0]}function c(v){const x=t?o(v):a(v),m=e.map((y,_)=>({diff:f(y-x,0),index:_})).sort((y,_)=>Er(y.diff)-Er(_.diff)),{index:p}=m[0];return{index:p,distance:x}}function f(v,x){const m=[v,v+n,v-n];if(!t)return v;if(!x)return l(m);const p=m.filter(y=>Z3(y)===x);return p.length?l(p):ja(m)-n}function d(v,x){const m=e[v]-i.get(),p=f(m,x);return{index:v,distance:p}}function h(v,x){const m=i.get()+v,{index:p,distance:y}=c(m),_=!t&&s(m);if(!x||_)return{index:p,distance:v};const b=e[p]-y,S=v+f(b,0);return{index:p,distance:S}}return{byDistance:h,byIndex:d,shortcut:f}}function $1e(t,e,n,r,i,s,o){function a(d){const h=d.distance,g=d.index!==e.get();s.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(d.index),o.emit("select"))}function l(d,h){const g=i.byDistance(d,h);a(g)}function c(d,h){const g=e.clone().set(d),v=i.byIndex(g.get(),h);a(v)}return{distance:l,index:c}}function H1e(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function f(g){if(!a)return;function v(x){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const y=n.findIndex(_=>_.includes(x));Y3(y)&&(i.useDuration(0),r.index(y,0),o.emit("slideFocus"))}s.add(document,"keydown",d,!1),e.forEach((x,m)=>{s.add(x,"focus",p=>{(nT(a)||a(g,p))&&v(m)},l)})}function d(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:f}}function A0(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return Y3(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function ZZ(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const g=E1e(t.direction(h));g!==i&&(r.transform=n(g),i=g)}function c(h){s=!h}function f(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:f,to:l,toggleActive:c}}function V1e(t,e,n,r,i,s,o,a,l){const f=Fx(i),d=Fx(i).reverse(),h=p().concat(y());function g(M,T){return M.reduce((P,N)=>P-i[N],T)}function v(M,T){return M.reduce((P,N)=>g(P,T)>0?P.concat([N]):P,[])}function x(M){return s.map((T,P)=>({start:T-r[P]+.5+M,end:T+e-.5+M}))}function m(M,T,P){const N=x(T);return M.map(k=>{const D=P?0:-n,j=P?n:0,F=P?"end":"start",z=N[k][F];return{index:k,loopPoint:z,slideLocation:A0(-1),translate:ZZ(t,l[k]),target:()=>a.get()>z?D:j}})}function p(){const M=o[0],T=v(d,M);return m(T,n,!1)}function y(){const M=e-o[0]-1,T=v(f,M);return m(T,-n,!0)}function _(){return h.every(({index:M})=>{const T=f.filter(P=>P!==M);return g(T,e)<=.1})}function b(){h.forEach(M=>{const{target:T,translate:P,slideLocation:N}=M,k=T();k!==N.get()&&(P.to(k),N.set(k))})}function S(){h.forEach(M=>M.translate.clear())}return{canLoop:_,clear:S,loop:b,loopPoints:h}}function W1e(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(f){for(const d of f)if(d.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(f=>{i||(nT(n)||n(l,f))&&c(f)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function G1e(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(x=>{const m=e.indexOf(x.target);i[m]=x}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function f(){a&&a.disconnect(),l=!0}function d(v){return Bx(i).reduce((x,m)=>{const p=parseInt(m),{isIntersecting:y}=i[p];return(v&&y||!v&&!y)&&x.push(p),x},[])}function h(v=!0){if(v&&s)return s;if(!v&&o)return o;const x=d(v);return v&&(s=x),v||(o=x),x}return{init:c,destroy:f,get:h}}function q1e(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,f=v(),d=x(),h=n.map(o),g=m();function v(){if(!c)return 0;const y=n[0];return Er(e[a]-y[a])}function x(){if(!c)return 0;const y=s.getComputedStyle(ja(r));return parseFloat(y.getPropertyValue(`margin-${l}`))}function m(){return n.map((y,_,b)=>{const S=!_,C=Q3(b,_);return S?h[_]+f:C?h[_]+d:b[_+1][a]-y[a]}).map(Er)}return{slideSizes:h,slideSizesWithGaps:g,startGap:f,endGap:d}}function X1e(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:f,direction:d}=t,h=Y3(n);function g(p,y){return Fx(p).filter(_=>_%y===0).map(_=>p.slice(_,_+y))}function v(p){return p.length?Fx(p).reduce((y,_,b)=>{const S=ja(y)||0,C=S===0,M=_===wb(p),T=i[c]-s[S][c],P=i[c]-s[_][f],N=!r&&C?d(o):0,k=!r&&M?d(a):0,D=Er(P-k-(T+N));return b&&D>e+l&&y.push(_),M&&y.push(p.length),y},[]).map((y,_,b)=>{const S=Math.max(b[_-1]||0);return p.slice(S,y)}):[]}function x(p){return h?g(p,n):v(p)}return{groupSlides:x}}function K1e(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:f,loop:d,duration:h,dragFree:g,dragThreshold:v,inViewThreshold:x,slidesToScroll:m,skipSnaps:p,containScroll:y,watchResize:_,watchSlides:b,watchDrag:S,watchFocus:C}=s,M=2,T=N1e(),P=T.measure(e),N=n.map(T.measure),k=A1e(l,c),D=k.measureSize(P),j=R1e(D),F=C1e(a,D),z=!d&&!!y,U=d||!!y,{slideSizes:H,slideSizesWithGaps:R,startGap:I,endGap:B}=q1e(k,P,N,n,U,i),W=X1e(k,D,m,d,P,N,I,B,M),{snaps:G,snapsAligned:X}=B1e(k,F,P,N,W),ne=-ja(G)+ja(R),{snapsContained:ae,scrollContainLimit:se}=D1e(D,ne,X,y,M),$=z?ae:X,{limit:Y}=j1e(ne,$,d),Q=YZ(wb($),f,d),ee=Q.clone(),ue=Fx(n),J=({dragHandler:Ve,scrollBody:lt,scrollBounds:qe,options:{loop:He}})=>{He||qe.constrain(Ve.pointerDown()),lt.seek()},K=({scrollBody:Ve,translate:lt,location:qe,offsetLocation:He,previousLocation:at,scrollLooper:Mt,slideLooper:he,dragHandler:Ee,animation:Qe,eventHandler:ce,scrollBounds:Ne,options:{loop:ze}},We)=>{const Ue=Ve.settled(),Le=!Ne.shouldConstrain(),Je=ze?Ue:Ue&&Le,gt=Je&&!Ee.pointerDown();gt&&Qe.stop();const $t=qe.get()*We+at.get()*(1-We);He.set($t),ze&&(Mt.loop(Ve.direction()),he.loop()),lt.to(He.get()),gt&&ce.emit("settle"),Je||ce.emit("scroll")},re=M1e(r,i,()=>J(ct),Ve=>K(ct,Ve)),fe=.68,me=$[Q.get()],pe=A0(me),Ae=A0(me),Ce=A0(me),De=A0(me),ot=k1e(pe,Ce,Ae,De,h,fe),nt=U1e(d,$,ne,Y,De),ie=$1e(re,Q,ee,ot,nt,De,o),Z=F1e(Y),ve=zx(),Se=G1e(e,n,o,x),{slideRegistry:Ie}=z1e(z,y,$,se,W,ue),Me=H1e(t,n,Ie,ie,ot,ve,o,C),ct={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:P,slideRects:N,animation:re,axis:k,dragHandler:T1e(k,t,r,i,De,P1e(k,i),pe,re,ie,ot,nt,Q,o,j,g,v,p,fe,S),eventStore:ve,percentOfView:j,index:Q,indexPrevious:ee,limit:Y,location:pe,offsetLocation:Ce,previousLocation:Ae,options:s,resizeHandler:O1e(e,o,i,n,k,_,T),scrollBody:ot,scrollBounds:I1e(Y,Ce,De,ot,j),scrollLooper:L1e(ne,Y,Ce,[pe,Ce,Ae,De]),scrollProgress:Z,scrollSnapList:$.map(Z.get),scrollSnaps:$,scrollTarget:nt,scrollTo:ie,slideLooper:V1e(k,D,ne,H,R,G,$,Ce,n),slideFocus:Me,slidesHandler:W1e(e,o,b),slidesInView:Se,slideIndexes:ue,slideRegistry:Ie,slidesToScroll:W,target:De,translate:ZZ(k,e)};return ct}function Y1e(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(f=>f(e,c)),l}function s(c,f){return t[c]=r(c).concat([f]),l}function o(c,f){return t[c]=r(c).filter(d=>d!==f),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const Z1e={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function Q1e(t){function e(s,o){return KZ(s,o||{})}function n(s){const o=s.breakpoints||{},a=Bx(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>Bx(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function J1e(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function lC(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=Q1e(i),o=J1e(s),a=zx(),l=Y1e(),{mergeOptions:c,optionsAtMedia:f,optionsMediaQueries:d}=s,{on:h,off:g,emit:v}=l,x=k;let m=!1,p,y=c(Z1e,lC.globalOptions),_=c(y),b=[],S,C,M;function T(){const{container:ue,slides:J}=_;C=(AI(ue)?t.querySelector(ue):ue)||t.children[0];const re=AI(J)?C.querySelectorAll(J):J;M=[].slice.call(re||C.children)}function P(ue){const J=K1e(t,C,M,r,i,ue,l);if(ue.loop&&!J.slideLooper.canLoop()){const K=Object.assign({},ue,{loop:!1});return P(K)}return J}function N(ue,J){m||(y=c(y,ue),_=f(y),b=J||b,T(),p=P(_),d([y,...b.map(({options:K})=>K)]).forEach(K=>a.add(K,"change",k)),_.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(ee),p.eventHandler.init(ee),p.resizeHandler.init(ee),p.slidesHandler.init(ee),p.options.loop&&p.slideLooper.loop(),C.offsetParent&&M.length&&p.dragHandler.init(ee),S=o.init(ee,b)))}function k(ue,J){const K=W();D(),N(c({startIndex:K},ue),J),l.emit("reInit")}function D(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),a.clear()}function j(){m||(m=!0,a.clear(),D(),l.emit("destroy"),l.clear())}function F(ue,J,K){!_.active||m||(p.scrollBody.useBaseFriction().useDuration(J===!0?0:_.duration),p.scrollTo.index(ue,K||0))}function z(ue){const J=p.index.add(1).get();F(J,ue,-1)}function U(ue){const J=p.index.add(-1).get();F(J,ue,1)}function H(){return p.index.add(1).get()!==W()}function R(){return p.index.add(-1).get()!==W()}function I(){return p.scrollSnapList}function B(){return p.scrollProgress.get(p.offsetLocation.get())}function W(){return p.index.get()}function G(){return p.indexPrevious.get()}function X(){return p.slidesInView.get()}function ne(){return p.slidesInView.get(!1)}function ae(){return S}function se(){return p}function $(){return t}function Y(){return C}function Q(){return M}const ee={canScrollNext:H,canScrollPrev:R,containerNode:Y,internalEngine:se,destroy:j,off:g,on:h,emit:v,plugins:ae,previousScrollSnap:G,reInit:x,rootNode:$,scrollNext:z,scrollPrev:U,scrollProgress:B,scrollSnapList:I,scrollTo:F,selectedScrollSnap:W,slideNodes:Q,slidesInView:X,slidesNotInView:ne};return N(e,n),setTimeout(()=>l.emit("init"),0),ee}lC.globalOptions=void 0;function J3(t={},e=[]){const n=A.useRef(t),r=A.useRef(e),[i,s]=A.useState(),[o,a]=A.useState(),l=A.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return A.useEffect(()=>{K3(n.current,t)||(n.current=t,l())},[t,l]),A.useEffect(()=>{w1e(r.current,e)||(r.current=e,l())},[e,l]),A.useEffect(()=>{if(b1e()&&o){lC.globalOptions=J3.globalOptions;const c=lC(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}J3.globalOptions=void 0;const QZ=A.createContext(null);function rT(){const t=A.useContext(QZ);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const eSe=A.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[l,c]=J3({...e,axis:t==="horizontal"?"x":"y"},r),[f,d]=A.useState(!1),[h,g]=A.useState(!1),v=A.useCallback(y=>{y&&(d(y.canScrollPrev()),g(y.canScrollNext()))},[]),x=A.useCallback(()=>{c==null||c.scrollPrev()},[c]),m=A.useCallback(()=>{c==null||c.scrollNext()},[c]),p=A.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),x()):y.key==="ArrowRight"&&(y.preventDefault(),m())},[x,m]);return A.useEffect(()=>{!c||!n||n(c)},[c,n]),A.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),u.jsx(QZ.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:m,canScrollPrev:f,canScrollNext:h},children:u.jsx("div",{ref:a,onKeyDownCapture:p,className:we("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});eSe.displayName="Carousel";const tSe=A.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=rT();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:we("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});tSe.displayName="CarouselContent";const nSe=A.forwardRef(({className:t,...e},n)=>{const{orientation:r}=rT();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:we("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});nSe.displayName="CarouselItem";const rSe=A.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=rT();return u.jsxs(ke,{ref:i,variant:e,size:n,className:we("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[u.jsx(wye,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})});rSe.displayName="CarouselPrevious";const iSe=A.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=rT();return u.jsxs(ke,{ref:i,variant:e,size:n,className:we("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[u.jsx(cb,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})});iSe.displayName="CarouselNext";var sSe=Array.isArray,Bs=sSe,oSe=typeof s1=="object"&&s1&&s1.Object===Object&&s1,JZ=oSe,aSe=JZ,lSe=typeof self=="object"&&self&&self.Object===Object&&self,cSe=aSe||lSe||Function("return this")(),zl=cSe,uSe=zl,dSe=uSe.Symbol,Sb=dSe,vH=Sb,eQ=Object.prototype,fSe=eQ.hasOwnProperty,hSe=eQ.toString,Hy=vH?vH.toStringTag:void 0;function pSe(t){var e=fSe.call(t,Hy),n=t[Hy];try{t[Hy]=void 0;var r=!0}catch{}var i=hSe.call(t);return r&&(e?t[Hy]=n:delete t[Hy]),i}var mSe=pSe,gSe=Object.prototype,vSe=gSe.toString;function ySe(t){return vSe.call(t)}var xSe=ySe,yH=Sb,_Se=mSe,bSe=xSe,wSe="[object Null]",SSe="[object Undefined]",xH=yH?yH.toStringTag:void 0;function ESe(t){return t==null?t===void 0?SSe:wSe:xH&&xH in Object(t)?_Se(t):bSe(t)}var Jc=ESe;function CSe(t){return t!=null&&typeof t=="object"}var eu=CSe,MSe=Jc,ASe=eu,TSe="[object Symbol]";function PSe(t){return typeof t=="symbol"||ASe(t)&&MSe(t)==TSe}var Lv=PSe,NSe=Bs,RSe=Lv,OSe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kSe=/^\w*$/;function ISe(t,e){if(NSe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||RSe(t)?!0:kSe.test(t)||!OSe.test(t)||e!=null&&t in Object(e)}var eF=ISe;function DSe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kd=DSe;const Fv=kn(kd);var jSe=Jc,LSe=kd,FSe="[object AsyncFunction]",BSe="[object Function]",zSe="[object GeneratorFunction]",USe="[object Proxy]";function $Se(t){if(!LSe(t))return!1;var e=jSe(t);return e==BSe||e==zSe||e==FSe||e==USe}var tF=$Se;const Wt=kn(tF);var HSe=zl,VSe=HSe["__core-js_shared__"],WSe=VSe,aR=WSe,_H=function(){var t=/[^.]+$/.exec(aR&&aR.keys&&aR.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function GSe(t){return!!_H&&_H in t}var qSe=GSe,XSe=Function.prototype,KSe=XSe.toString;function YSe(t){if(t!=null){try{return KSe.call(t)}catch{}try{return t+""}catch{}}return""}var tQ=YSe,ZSe=tF,QSe=qSe,JSe=kd,eEe=tQ,tEe=/[\\^$.*+?()[\]{}|]/g,nEe=/^\[object .+?Constructor\]$/,rEe=Function.prototype,iEe=Object.prototype,sEe=rEe.toString,oEe=iEe.hasOwnProperty,aEe=RegExp("^"+sEe.call(oEe).replace(tEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function lEe(t){if(!JSe(t)||QSe(t))return!1;var e=ZSe(t)?aEe:nEe;return e.test(eEe(t))}var cEe=lEe;function uEe(t,e){return t==null?void 0:t[e]}var dEe=uEe,fEe=cEe,hEe=dEe;function pEe(t,e){var n=hEe(t,e);return fEe(n)?n:void 0}var Xh=pEe,mEe=Xh,gEe=mEe(Object,"create"),iT=gEe,bH=iT;function vEe(){this.__data__=bH?bH(null):{},this.size=0}var yEe=vEe;function xEe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _Ee=xEe,bEe=iT,wEe="__lodash_hash_undefined__",SEe=Object.prototype,EEe=SEe.hasOwnProperty;function CEe(t){var e=this.__data__;if(bEe){var n=e[t];return n===wEe?void 0:n}return EEe.call(e,t)?e[t]:void 0}var MEe=CEe,AEe=iT,TEe=Object.prototype,PEe=TEe.hasOwnProperty;function NEe(t){var e=this.__data__;return AEe?e[t]!==void 0:PEe.call(e,t)}var REe=NEe,OEe=iT,kEe="__lodash_hash_undefined__";function IEe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=OEe&&e===void 0?kEe:e,this}var DEe=IEe,jEe=yEe,LEe=_Ee,FEe=MEe,BEe=REe,zEe=DEe;function Bv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Bv.prototype.clear=jEe;Bv.prototype.delete=LEe;Bv.prototype.get=FEe;Bv.prototype.has=BEe;Bv.prototype.set=zEe;var UEe=Bv;function $Ee(){this.__data__=[],this.size=0}var HEe=$Ee;function VEe(t,e){return t===e||t!==t&&e!==e}var nF=VEe,WEe=nF;function GEe(t,e){for(var n=t.length;n--;)if(WEe(t[n][0],e))return n;return-1}var sT=GEe,qEe=sT,XEe=Array.prototype,KEe=XEe.splice;function YEe(t){var e=this.__data__,n=qEe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():KEe.call(e,n,1),--this.size,!0}var ZEe=YEe,QEe=sT;function JEe(t){var e=this.__data__,n=QEe(e,t);return n<0?void 0:e[n][1]}var eCe=JEe,tCe=sT;function nCe(t){return tCe(this.__data__,t)>-1}var rCe=nCe,iCe=sT;function sCe(t,e){var n=this.__data__,r=iCe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var oCe=sCe,aCe=HEe,lCe=ZEe,cCe=eCe,uCe=rCe,dCe=oCe;function zv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zv.prototype.clear=aCe;zv.prototype.delete=lCe;zv.prototype.get=cCe;zv.prototype.has=uCe;zv.prototype.set=dCe;var oT=zv,fCe=Xh,hCe=zl,pCe=fCe(hCe,"Map"),rF=pCe,wH=UEe,mCe=oT,gCe=rF;function vCe(){this.size=0,this.__data__={hash:new wH,map:new(gCe||mCe),string:new wH}}var yCe=vCe;function xCe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var _Ce=xCe,bCe=_Ce;function wCe(t,e){var n=t.__data__;return bCe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var aT=wCe,SCe=aT;function ECe(t){var e=SCe(this,t).delete(t);return this.size-=e?1:0,e}var CCe=ECe,MCe=aT;function ACe(t){return MCe(this,t).get(t)}var TCe=ACe,PCe=aT;function NCe(t){return PCe(this,t).has(t)}var RCe=NCe,OCe=aT;function kCe(t,e){var n=OCe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var ICe=kCe,DCe=yCe,jCe=CCe,LCe=TCe,FCe=RCe,BCe=ICe;function Uv(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uv.prototype.clear=DCe;Uv.prototype.delete=jCe;Uv.prototype.get=LCe;Uv.prototype.has=FCe;Uv.prototype.set=BCe;var iF=Uv,nQ=iF,zCe="Expected a function";function sF(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(zCe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(sF.Cache||nQ),n}sF.Cache=nQ;var rQ=sF;const UCe=kn(rQ);var $Ce=rQ,HCe=500;function VCe(t){var e=$Ce(t,function(r){return n.size===HCe&&n.clear(),r}),n=e.cache;return e}var WCe=VCe,GCe=WCe,qCe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XCe=/\\(\\)?/g,KCe=GCe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(qCe,function(n,r,i,s){e.push(i?s.replace(XCe,"$1"):r||n)}),e}),YCe=KCe;function ZCe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var oF=ZCe,SH=Sb,QCe=oF,JCe=Bs,eMe=Lv,tMe=1/0,EH=SH?SH.prototype:void 0,CH=EH?EH.toString:void 0;function iQ(t){if(typeof t=="string")return t;if(JCe(t))return QCe(t,iQ)+"";if(eMe(t))return CH?CH.call(t):"";var e=t+"";return e=="0"&&1/t==-tMe?"-0":e}var nMe=iQ,rMe=nMe;function iMe(t){return t==null?"":rMe(t)}var sQ=iMe,sMe=Bs,oMe=eF,aMe=YCe,lMe=sQ;function cMe(t,e){return sMe(t)?t:oMe(t,e)?[t]:aMe(lMe(t))}var oQ=cMe,uMe=Lv,dMe=1/0;function fMe(t){if(typeof t=="string"||uMe(t))return t;var e=t+"";return e=="0"&&1/t==-dMe?"-0":e}var lT=fMe,hMe=oQ,pMe=lT;function mMe(t,e){e=hMe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[pMe(e[n++])];return n&&n==r?t:void 0}var aF=mMe,gMe=aF;function vMe(t,e,n){var r=t==null?void 0:gMe(t,e);return r===void 0?n:r}var aQ=vMe;const uo=kn(aQ);function yMe(t){return t==null}var xMe=yMe;const Zt=kn(xMe);var _Me=Jc,bMe=Bs,wMe=eu,SMe="[object String]";function EMe(t){return typeof t=="string"||!bMe(t)&&wMe(t)&&_Me(t)==SMe}var CMe=EMe;const Eb=kn(CMe);var lQ={exports:{}},Hn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lF=Symbol.for("react.element"),cF=Symbol.for("react.portal"),cT=Symbol.for("react.fragment"),uT=Symbol.for("react.strict_mode"),dT=Symbol.for("react.profiler"),fT=Symbol.for("react.provider"),hT=Symbol.for("react.context"),MMe=Symbol.for("react.server_context"),pT=Symbol.for("react.forward_ref"),mT=Symbol.for("react.suspense"),gT=Symbol.for("react.suspense_list"),vT=Symbol.for("react.memo"),yT=Symbol.for("react.lazy"),AMe=Symbol.for("react.offscreen"),cQ;cQ=Symbol.for("react.module.reference");function ea(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case lF:switch(t=t.type,t){case cT:case dT:case uT:case mT:case gT:return t;default:switch(t=t&&t.$$typeof,t){case MMe:case hT:case pT:case yT:case vT:case fT:return t;default:return e}}case cF:return e}}}Hn.ContextConsumer=hT;Hn.ContextProvider=fT;Hn.Element=lF;Hn.ForwardRef=pT;Hn.Fragment=cT;Hn.Lazy=yT;Hn.Memo=vT;Hn.Portal=cF;Hn.Profiler=dT;Hn.StrictMode=uT;Hn.Suspense=mT;Hn.SuspenseList=gT;Hn.isAsyncMode=function(){return!1};Hn.isConcurrentMode=function(){return!1};Hn.isContextConsumer=function(t){return ea(t)===hT};Hn.isContextProvider=function(t){return ea(t)===fT};Hn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===lF};Hn.isForwardRef=function(t){return ea(t)===pT};Hn.isFragment=function(t){return ea(t)===cT};Hn.isLazy=function(t){return ea(t)===yT};Hn.isMemo=function(t){return ea(t)===vT};Hn.isPortal=function(t){return ea(t)===cF};Hn.isProfiler=function(t){return ea(t)===dT};Hn.isStrictMode=function(t){return ea(t)===uT};Hn.isSuspense=function(t){return ea(t)===mT};Hn.isSuspenseList=function(t){return ea(t)===gT};Hn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===cT||t===dT||t===uT||t===mT||t===gT||t===AMe||typeof t=="object"&&t!==null&&(t.$$typeof===yT||t.$$typeof===vT||t.$$typeof===fT||t.$$typeof===hT||t.$$typeof===pT||t.$$typeof===cQ||t.getModuleId!==void 0)};Hn.typeOf=ea;lQ.exports=Hn;var TMe=lQ.exports,PMe=Jc,NMe=eu,RMe="[object Number]";function OMe(t){return typeof t=="number"||NMe(t)&&PMe(t)==RMe}var uQ=OMe;const kMe=kn(uQ);var IMe=uQ;function DMe(t){return IMe(t)&&t!=+t}var jMe=DMe;const $v=kn(jMe);var cs=function(e){return e===0?0:e>0?1:-1},Lf=function(e){return Eb(e)&&e.indexOf("%")===e.length-1},rt=function(e){return kMe(e)&&!$v(e)},oi=function(e){return rt(e)||Eb(e)},LMe=0,Kh=function(e){var n=++LMe;return"".concat(e||"").concat(n)},us=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!rt(e)&&!Eb(e))return r;var s;if(Lf(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return $v(s)&&(s=r),i&&s>n&&(s=n),s},Fu=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},FMe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ii=function(e,n){return rt(e)&&rt(n)?function(r){return e+r*(n-e)}:function(){return n}};function cC(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):uo(r,e))===n})}function Zm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function PI(t){"@babel/helpers - typeof";return PI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},PI(t)}var BMe=["viewBox","children"],zMe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],MH=["points","pathLength"],lR={svg:BMe,polygon:MH,polyline:MH},uF=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],uC=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(A.isValidElement(e)&&(r=e.props),!Fv(r))return null;var i={};return Object.keys(r).forEach(function(s){uF.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},UMe=function(e,n,r){return function(i){return e(n,r,i),null}},Ch=function(e,n,r){if(!Fv(e)||PI(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];uF.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=UMe(o,n,r))}),i},$Me=["children"],HMe=["children"];function AH(t,e){if(t==null)return{};var n=VMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NI(t){"@babel/helpers - typeof";return NI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NI(t)}var TH={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},PH=null,cR=null,dF=function t(e){if(e===PH&&Array.isArray(cR))return cR;var n=[];return A.Children.forEach(e,function(r){Zt(r)||(TMe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cR=n,PH=e,n};function fo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Tc(i)}):r=[Tc(e)],dF(t).forEach(function(i){var s=uo(i,"type.displayName")||uo(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function to(t,e){var n=fo(t,e);return n&&n[0]}var NH=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!rt(r)||r<=0||!rt(i)||i<=0)},WMe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],GMe=function(e){return e&&e.type&&Eb(e.type)&&WMe.indexOf(e.type)>=0},dQ=function(e){return e&&NI(e)==="object"&&"clipDot"in e},qMe=function(e,n,r,i){var s,o=(s=lR==null?void 0:lR[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Wt(e)&&(i&&o.includes(n)||zMe.includes(n))||r&&uF.includes(n)},Rt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(A.isValidElement(e)&&(i=e.props),!Fv(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;qMe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},RI=function t(e,n){if(e===n)return!0;var r=A.Children.count(e);if(r!==A.Children.count(n))return!1;if(r===0)return!0;if(r===1)return RH(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!RH(s,o))return!1}return!0},RH=function(e,n){if(Zt(e)&&Zt(n))return!0;if(!Zt(e)&&!Zt(n)){var r=e.props||{},i=r.children,s=AH(r,$Me),o=n.props||{},a=o.children,l=AH(o,HMe);return i&&a?Zm(s,l)&&RI(i,a):!i&&!a?Zm(s,l):!1}return!1},OH=function(e,n){var r=[],i={};return dF(e).forEach(function(s,o){if(GMe(s))r.push(s);else if(s){var a=Tc(s.type),l=n[a]||{},c=l.handler,f=l.once;if(c&&(!f||!i[a])){var d=c(s,a,o);r.push(d),i[a]=!0}}}),r},XMe=function(e){var n=e&&e.type;return n&&TH[n]?TH[n]:null},KMe=function(e,n){return dF(n).indexOf(e)},YMe=["children","width","height","viewBox","className","style","title","desc"];function OI(){return OI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OI.apply(this,arguments)}function ZMe(t,e){if(t==null)return{};var n=QMe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QMe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kI(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=ZMe(t,YMe),f=i||{width:n,height:r,x:0,y:0},d=en("recharts-surface",s);return te.createElement("svg",OI({},Rt(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),te.createElement("title",null,a),te.createElement("desc",null,l),e)}var JMe=["children","className"];function II(){return II=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},II.apply(this,arguments)}function eAe(t,e){if(t==null)return{};var n=tAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var mn=te.forwardRef(function(t,e){var n=t.children,r=t.className,i=eAe(t,JMe),s=en("recharts-layer",r);return te.createElement("g",II({className:s},Rt(i,!0),{ref:e}),n)}),La=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function nAe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var rAe=nAe,iAe=rAe;function sAe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:iAe(t,e,n)}var oAe=sAe,aAe="\\ud800-\\udfff",lAe="\\u0300-\\u036f",cAe="\\ufe20-\\ufe2f",uAe="\\u20d0-\\u20ff",dAe=lAe+cAe+uAe,fAe="\\ufe0e\\ufe0f",hAe="\\u200d",pAe=RegExp("["+hAe+aAe+dAe+fAe+"]");function mAe(t){return pAe.test(t)}var fQ=mAe;function gAe(t){return t.split("")}var vAe=gAe,hQ="\\ud800-\\udfff",yAe="\\u0300-\\u036f",xAe="\\ufe20-\\ufe2f",_Ae="\\u20d0-\\u20ff",bAe=yAe+xAe+_Ae,wAe="\\ufe0e\\ufe0f",SAe="["+hQ+"]",DI="["+bAe+"]",jI="\\ud83c[\\udffb-\\udfff]",EAe="(?:"+DI+"|"+jI+")",pQ="[^"+hQ+"]",mQ="(?:\\ud83c[\\udde6-\\uddff]){2}",gQ="[\\ud800-\\udbff][\\udc00-\\udfff]",CAe="\\u200d",vQ=EAe+"?",yQ="["+wAe+"]?",MAe="(?:"+CAe+"(?:"+[pQ,mQ,gQ].join("|")+")"+yQ+vQ+")*",AAe=yQ+vQ+MAe,TAe="(?:"+[pQ+DI+"?",DI,mQ,gQ,SAe].join("|")+")",PAe=RegExp(jI+"(?="+jI+")|"+TAe+AAe,"g");function NAe(t){return t.match(PAe)||[]}var RAe=NAe,OAe=vAe,kAe=fQ,IAe=RAe;function DAe(t){return kAe(t)?IAe(t):OAe(t)}var jAe=DAe,LAe=oAe,FAe=fQ,BAe=jAe,zAe=sQ;function UAe(t){return function(e){e=zAe(e);var n=FAe(e)?BAe(e):void 0,r=n?n[0]:e.charAt(0),i=n?LAe(n,1).join(""):e.slice(1);return r[t]()+i}}var $Ae=UAe,HAe=$Ae,VAe=HAe("toUpperCase"),WAe=VAe;const xT=kn(WAe);function Zn(t){return function(){return t}}const xQ=Math.cos,dC=Math.sin,Xa=Math.sqrt,fC=Math.PI,_T=2*fC,LI=Math.PI,FI=2*LI,Ef=1e-6,GAe=FI-Ef;function _Q(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function qAe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return _Q;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let XAe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?_Q:qAe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,f=o-e,d=a-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Ef)if(!(Math.abs(d*l-c*f)>Ef)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,v=i-a,x=l*l+c*c,m=g*g+v*v,p=Math.sqrt(x),y=Math.sqrt(h),_=s*Math.tan((LI-Math.acos((x+h-m)/(2*p*y)))/2),b=_/y,S=_/p;Math.abs(b-1)>Ef&&this._append`L${e+b*f},${n+b*d}`,this._append`A${s},${s},0,0,${+(d*g>f*v)},${this._x1=e+S*l},${this._y1=n+S*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,f=n+l,d=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>Ef||Math.abs(this._y1-f)>Ef)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%FI+FI),h>GAe?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:h>Ef&&this._append`A${r},${r},0,${+(h>=LI)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function fF(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new XAe(e)}function hF(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function bQ(t){this._context=t}bQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function bT(t){return new bQ(t)}function wQ(t){return t[0]}function SQ(t){return t[1]}function EQ(t,e){var n=Zn(!0),r=null,i=bT,s=null,o=fF(a);t=typeof t=="function"?t:t===void 0?wQ:Zn(t),e=typeof e=="function"?e:e===void 0?SQ:Zn(e);function a(l){var c,f=(l=hF(l)).length,d,h=!1,g;for(r==null&&(s=i(g=o())),c=0;c<=f;++c)!(c<f&&n(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,l),+e(d,c,l));if(g)return s=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:Zn(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:Zn(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Zn(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function P1(t,e,n){var r=null,i=Zn(!0),s=null,o=bT,a=null,l=fF(c);t=typeof t=="function"?t:t===void 0?wQ:Zn(+t),e=typeof e=="function"?e:Zn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?SQ:Zn(+n);function c(d){var h,g,v,x=(d=hF(d)).length,m,p=!1,y,_=new Array(x),b=new Array(x);for(s==null&&(a=o(y=l())),h=0;h<=x;++h){if(!(h<x&&i(m=d[h],h,d))===p)if(p=!p)g=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=g;--v)a.point(_[v],b[v]);a.lineEnd(),a.areaEnd()}p&&(_[h]=+t(m,h,d),b[h]=+e(m,h,d),a.point(r?+r(m,h,d):_[h],n?+n(m,h,d):b[h]))}if(y)return a=null,y+""||null}function f(){return EQ().defined(i).curve(o).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Zn(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Zn(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Zn(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Zn(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Zn(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Zn(+d),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Zn(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),c):o},c.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),c):s},c}class CQ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function KAe(t){return new CQ(t,!0)}function YAe(t){return new CQ(t,!1)}const pF={draw(t,e){const n=Xa(e/fC);t.moveTo(n,0),t.arc(0,0,n,0,_T)}},ZAe={draw(t,e){const n=Xa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},MQ=Xa(1/3),QAe=MQ*2,JAe={draw(t,e){const n=Xa(e/QAe),r=n*MQ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},eTe={draw(t,e){const n=Xa(e),r=-n/2;t.rect(r,r,n,n)}},tTe=.8908130915292852,AQ=dC(fC/10)/dC(7*fC/10),nTe=dC(_T/10)*AQ,rTe=-xQ(_T/10)*AQ,iTe={draw(t,e){const n=Xa(e*tTe),r=nTe*n,i=rTe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=_T*s/5,a=xQ(o),l=dC(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},uR=Xa(3),sTe={draw(t,e){const n=-Xa(e/(uR*3));t.moveTo(0,n*2),t.lineTo(-uR*n,-n),t.lineTo(uR*n,-n),t.closePath()}},ko=-.5,Io=Xa(3)/2,BI=1/Xa(12),oTe=(BI/2+1)*3,aTe={draw(t,e){const n=Xa(e/oTe),r=n/2,i=n*BI,s=r,o=n*BI+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(ko*r-Io*i,Io*r+ko*i),t.lineTo(ko*s-Io*o,Io*s+ko*o),t.lineTo(ko*a-Io*l,Io*a+ko*l),t.lineTo(ko*r+Io*i,ko*i-Io*r),t.lineTo(ko*s+Io*o,ko*o-Io*s),t.lineTo(ko*a+Io*l,ko*l-Io*a),t.closePath()}};function lTe(t,e){let n=null,r=fF(i);t=typeof t=="function"?t:Zn(t||pF),e=typeof e=="function"?e:Zn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Zn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Zn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function hC(){}function pC(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TQ(t){this._context=t}TQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pC(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cTe(t){return new TQ(t)}function PQ(t){this._context=t}PQ.prototype={areaStart:hC,areaEnd:hC,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:pC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uTe(t){return new PQ(t)}function NQ(t){this._context=t}NQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:pC(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dTe(t){return new NQ(t)}function RQ(t){this._context=t}RQ.prototype={areaStart:hC,areaEnd:hC,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fTe(t){return new RQ(t)}function kH(t){return t<0?-1:1}function IH(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(kH(s)+kH(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function DH(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dR(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function mC(t){this._context=t}mC.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dR(this,this._t0,DH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dR(this,DH(this,n=IH(this,t,e)),n);break;default:dR(this,this._t0,n=IH(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function OQ(t){this._context=new kQ(t)}(OQ.prototype=Object.create(mC.prototype)).point=function(t,e){mC.prototype.point.call(this,e,t)};function kQ(t){this._context=t}kQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function hTe(t){return new mC(t)}function pTe(t){return new OQ(t)}function IQ(t){this._context=t}IQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=jH(t),i=jH(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function jH(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function mTe(t){return new IQ(t)}function wT(t,e){this._context=t,this._t=e}wT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function gTe(t){return new wT(t,.5)}function vTe(t){return new wT(t,0)}function yTe(t){return new wT(t,1)}function Pg(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function zI(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function xTe(t,e){return t[e]}function _Te(t){const e=[];return e.key=t,e}function bTe(){var t=Zn([]),e=zI,n=Pg,r=xTe;function i(s){var o=Array.from(t.apply(this,arguments),_Te),a,l=o.length,c=-1,f;for(const d of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(d,o[a].key,c,s)]).data=d;for(a=0,f=hF(e(o));a<l;++a)o[f[a]].index=a;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Zn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Zn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?zI:typeof s=="function"?s:Zn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Pg,i):n},i}function wTe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}Pg(t,e)}}function STe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}Pg(t,e)}}function ETe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var f=t[e[a]],d=f[r][1]||0,h=f[r-1][1]||0,g=(d-h)/2,v=0;v<a;++v){var x=t[e[v]],m=x[r][1]||0,p=x[r-1][1]||0;g+=m-p}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Pg(t,e)}}function Ux(t){"@babel/helpers - typeof";return Ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ux(t)}var CTe=["type","size","sizeType"];function UI(){return UI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UI.apply(this,arguments)}function LH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function FH(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LH(Object(n),!0).forEach(function(r){MTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MTe(t,e,n){return e=ATe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ATe(t){var e=TTe(t,"string");return Ux(e)=="symbol"?e:e+""}function TTe(t,e){if(Ux(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ux(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PTe(t,e){if(t==null)return{};var n=NTe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var DQ={symbolCircle:pF,symbolCross:ZAe,symbolDiamond:JAe,symbolSquare:eTe,symbolStar:iTe,symbolTriangle:sTe,symbolWye:aTe},RTe=Math.PI/180,OTe=function(e){var n="symbol".concat(xT(e));return DQ[n]||pF},kTe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*RTe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},ITe=function(e,n){DQ["symbol".concat(xT(e))]=n},mF=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=PTe(e,CTe),c=FH(FH({},l),{},{type:r,size:s,sizeType:a}),f=function(){var m=OTe(r),p=lTe().type(m).size(kTe(s,a,r));return p()},d=c.className,h=c.cx,g=c.cy,v=Rt(c,!0);return h===+h&&g===+g&&s===+s?te.createElement("path",UI({},v,{className:en("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:f()})):null};mF.registerSymbol=ITe;function Ng(t){"@babel/helpers - typeof";return Ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(t)}function $I(){return $I=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$I.apply(this,arguments)}function BH(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DTe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BH(Object(n),!0).forEach(function(r){$x(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BH(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LQ(r.key),r)}}function FTe(t,e,n){return e&&LTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BTe(t,e,n){return e=gC(e),zTe(t,jQ()?Reflect.construct(e,n||[],gC(t).constructor):e.apply(t,n))}function zTe(t,e){if(e&&(Ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UTe(t)}function UTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jQ=function(){return!!t})()}function gC(t){return gC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gC(t)}function $Te(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HI(t,e)}function HI(t,e){return HI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HI(t,e)}function $x(t,e,n){return e=LQ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LQ(t){var e=HTe(t,"string");return Ng(e)=="symbol"?e:e+""}function HTe(t,e){if(Ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Do=32,gF=function(t){function e(){return jTe(this,e),BTe(this,e,arguments)}return $Te(e,t),FTe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Do/2,o=Do/6,a=Do/3,l=r.inactive?i:r.color;if(r.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Do,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Do,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return te.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Do/8,"h").concat(Do,"v").concat(Do*3/4,"h").concat(-Do,"z"),className:"recharts-legend-icon"});if(te.isValidElement(r.legendIcon)){var c=DTe({},r);return delete c.legendIcon,te.cloneElement(r.legendIcon,c)}return te.createElement(mF,{fill:l,cx:s,cy:s,size:Do,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,f={x:0,y:0,width:Do,height:Do},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var x=g.formatter||l,m=en($x($x({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var p=Wt(g.value)?null:g.value;La(!Wt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=g.inactive?c:g.color;return te.createElement("li",$I({className:m,style:d,key:"legend-item-".concat(v)},Ch(r.props,g,v)),te.createElement(kI,{width:o,height:o,viewBox:f,style:h},r.renderIcon(g)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(p,g,v):p))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(A.PureComponent);$x(gF,"displayName","Legend");$x(gF,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var VTe=oT;function WTe(){this.__data__=new VTe,this.size=0}var GTe=WTe;function qTe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var XTe=qTe;function KTe(t){return this.__data__.get(t)}var YTe=KTe;function ZTe(t){return this.__data__.has(t)}var QTe=ZTe,JTe=oT,ePe=rF,tPe=iF,nPe=200;function rPe(t,e){var n=this.__data__;if(n instanceof JTe){var r=n.__data__;if(!ePe||r.length<nPe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new tPe(r)}return n.set(t,e),this.size=n.size,this}var iPe=rPe,sPe=oT,oPe=GTe,aPe=XTe,lPe=YTe,cPe=QTe,uPe=iPe;function Hv(t){var e=this.__data__=new sPe(t);this.size=e.size}Hv.prototype.clear=oPe;Hv.prototype.delete=aPe;Hv.prototype.get=lPe;Hv.prototype.has=cPe;Hv.prototype.set=uPe;var FQ=Hv,dPe="__lodash_hash_undefined__";function fPe(t){return this.__data__.set(t,dPe),this}var hPe=fPe;function pPe(t){return this.__data__.has(t)}var mPe=pPe,gPe=iF,vPe=hPe,yPe=mPe;function vC(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new gPe;++e<n;)this.add(t[e])}vC.prototype.add=vC.prototype.push=vPe;vC.prototype.has=yPe;var BQ=vC;function xPe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var zQ=xPe;function _Pe(t,e){return t.has(e)}var UQ=_Pe,bPe=BQ,wPe=zQ,SPe=UQ,EPe=1,CPe=2;function MPe(t,e,n,r,i,s){var o=n&EPe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,g=n&CPe?new bPe:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],x=e[d];if(r)var m=o?r(x,v,d,e,t,s):r(v,x,d,t,e,s);if(m!==void 0){if(m)continue;h=!1;break}if(g){if(!wPe(e,function(p,y){if(!SPe(g,y)&&(v===p||i(v,p,n,r,s)))return g.push(y)})){h=!1;break}}else if(!(v===x||i(v,x,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var $Q=MPe,APe=zl,TPe=APe.Uint8Array,PPe=TPe;function NPe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var RPe=NPe;function OPe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var vF=OPe,zH=Sb,UH=PPe,kPe=nF,IPe=$Q,DPe=RPe,jPe=vF,LPe=1,FPe=2,BPe="[object Boolean]",zPe="[object Date]",UPe="[object Error]",$Pe="[object Map]",HPe="[object Number]",VPe="[object RegExp]",WPe="[object Set]",GPe="[object String]",qPe="[object Symbol]",XPe="[object ArrayBuffer]",KPe="[object DataView]",$H=zH?zH.prototype:void 0,fR=$H?$H.valueOf:void 0;function YPe(t,e,n,r,i,s,o){switch(n){case KPe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case XPe:return!(t.byteLength!=e.byteLength||!s(new UH(t),new UH(e)));case BPe:case zPe:case HPe:return kPe(+t,+e);case UPe:return t.name==e.name&&t.message==e.message;case VPe:case GPe:return t==e+"";case $Pe:var a=DPe;case WPe:var l=r&LPe;if(a||(a=jPe),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=FPe,o.set(t,e);var f=IPe(a(t),a(e),r,i,s,o);return o.delete(t),f;case qPe:if(fR)return fR.call(t)==fR.call(e)}return!1}var ZPe=YPe;function QPe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var HQ=QPe,JPe=HQ,e2e=Bs;function t2e(t,e,n){var r=e(t);return e2e(t)?r:JPe(r,n(t))}var n2e=t2e;function r2e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var i2e=r2e;function s2e(){return[]}var o2e=s2e,a2e=i2e,l2e=o2e,c2e=Object.prototype,u2e=c2e.propertyIsEnumerable,HH=Object.getOwnPropertySymbols,d2e=HH?function(t){return t==null?[]:(t=Object(t),a2e(HH(t),function(e){return u2e.call(t,e)}))}:l2e,f2e=d2e;function h2e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var p2e=h2e,m2e=Jc,g2e=eu,v2e="[object Arguments]";function y2e(t){return g2e(t)&&m2e(t)==v2e}var x2e=y2e,VH=x2e,_2e=eu,VQ=Object.prototype,b2e=VQ.hasOwnProperty,w2e=VQ.propertyIsEnumerable,S2e=VH(function(){return arguments}())?VH:function(t){return _2e(t)&&b2e.call(t,"callee")&&!w2e.call(t,"callee")},yF=S2e,yC={exports:{}};function E2e(){return!1}var C2e=E2e;yC.exports;(function(t,e){var n=zl,r=C2e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(yC,yC.exports);var WQ=yC.exports,M2e=9007199254740991,A2e=/^(?:0|[1-9]\d*)$/;function T2e(t,e){var n=typeof t;return e=e??M2e,!!e&&(n=="number"||n!="symbol"&&A2e.test(t))&&t>-1&&t%1==0&&t<e}var xF=T2e,P2e=9007199254740991;function N2e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=P2e}var _F=N2e,R2e=Jc,O2e=_F,k2e=eu,I2e="[object Arguments]",D2e="[object Array]",j2e="[object Boolean]",L2e="[object Date]",F2e="[object Error]",B2e="[object Function]",z2e="[object Map]",U2e="[object Number]",$2e="[object Object]",H2e="[object RegExp]",V2e="[object Set]",W2e="[object String]",G2e="[object WeakMap]",q2e="[object ArrayBuffer]",X2e="[object DataView]",K2e="[object Float32Array]",Y2e="[object Float64Array]",Z2e="[object Int8Array]",Q2e="[object Int16Array]",J2e="[object Int32Array]",eNe="[object Uint8Array]",tNe="[object Uint8ClampedArray]",nNe="[object Uint16Array]",rNe="[object Uint32Array]",ir={};ir[K2e]=ir[Y2e]=ir[Z2e]=ir[Q2e]=ir[J2e]=ir[eNe]=ir[tNe]=ir[nNe]=ir[rNe]=!0;ir[I2e]=ir[D2e]=ir[q2e]=ir[j2e]=ir[X2e]=ir[L2e]=ir[F2e]=ir[B2e]=ir[z2e]=ir[U2e]=ir[$2e]=ir[H2e]=ir[V2e]=ir[W2e]=ir[G2e]=!1;function iNe(t){return k2e(t)&&O2e(t.length)&&!!ir[R2e(t)]}var sNe=iNe;function oNe(t){return function(e){return t(e)}}var GQ=oNe,xC={exports:{}};xC.exports;(function(t,e){var n=JZ,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(xC,xC.exports);var aNe=xC.exports,lNe=sNe,cNe=GQ,WH=aNe,GH=WH&&WH.isTypedArray,uNe=GH?cNe(GH):lNe,qQ=uNe,dNe=p2e,fNe=yF,hNe=Bs,pNe=WQ,mNe=xF,gNe=qQ,vNe=Object.prototype,yNe=vNe.hasOwnProperty;function xNe(t,e){var n=hNe(t),r=!n&&fNe(t),i=!n&&!r&&pNe(t),s=!n&&!r&&!i&&gNe(t),o=n||r||i||s,a=o?dNe(t.length,String):[],l=a.length;for(var c in t)(e||yNe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||mNe(c,l)))&&a.push(c);return a}var _Ne=xNe,bNe=Object.prototype;function wNe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||bNe;return t===n}var SNe=wNe;function ENe(t,e){return function(n){return t(e(n))}}var XQ=ENe,CNe=XQ,MNe=CNe(Object.keys,Object),ANe=MNe,TNe=SNe,PNe=ANe,NNe=Object.prototype,RNe=NNe.hasOwnProperty;function ONe(t){if(!TNe(t))return PNe(t);var e=[];for(var n in Object(t))RNe.call(t,n)&&n!="constructor"&&e.push(n);return e}var kNe=ONe,INe=tF,DNe=_F;function jNe(t){return t!=null&&DNe(t.length)&&!INe(t)}var Cb=jNe,LNe=_Ne,FNe=kNe,BNe=Cb;function zNe(t){return BNe(t)?LNe(t):FNe(t)}var ST=zNe,UNe=n2e,$Ne=f2e,HNe=ST;function VNe(t){return UNe(t,HNe,$Ne)}var WNe=VNe,qH=WNe,GNe=1,qNe=Object.prototype,XNe=qNe.hasOwnProperty;function KNe(t,e,n,r,i,s){var o=n&GNe,a=qH(t),l=a.length,c=qH(e),f=c.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:XNe.call(e,h)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var x=!0;s.set(t,e),s.set(e,t);for(var m=o;++d<l;){h=a[d];var p=t[h],y=e[h];if(r)var _=o?r(y,p,h,e,t,s):r(p,y,h,t,e,s);if(!(_===void 0?p===y||i(p,y,n,r,s):_)){x=!1;break}m||(m=h=="constructor")}if(x&&!m){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(x=!1)}return s.delete(t),s.delete(e),x}var YNe=KNe,ZNe=Xh,QNe=zl,JNe=ZNe(QNe,"DataView"),eRe=JNe,tRe=Xh,nRe=zl,rRe=tRe(nRe,"Promise"),iRe=rRe,sRe=Xh,oRe=zl,aRe=sRe(oRe,"Set"),KQ=aRe,lRe=Xh,cRe=zl,uRe=lRe(cRe,"WeakMap"),dRe=uRe,VI=eRe,WI=rF,GI=iRe,qI=KQ,XI=dRe,YQ=Jc,Vv=tQ,XH="[object Map]",fRe="[object Object]",KH="[object Promise]",YH="[object Set]",ZH="[object WeakMap]",QH="[object DataView]",hRe=Vv(VI),pRe=Vv(WI),mRe=Vv(GI),gRe=Vv(qI),vRe=Vv(XI),Cf=YQ;(VI&&Cf(new VI(new ArrayBuffer(1)))!=QH||WI&&Cf(new WI)!=XH||GI&&Cf(GI.resolve())!=KH||qI&&Cf(new qI)!=YH||XI&&Cf(new XI)!=ZH)&&(Cf=function(t){var e=YQ(t),n=e==fRe?t.constructor:void 0,r=n?Vv(n):"";if(r)switch(r){case hRe:return QH;case pRe:return XH;case mRe:return KH;case gRe:return YH;case vRe:return ZH}return e});var yRe=Cf,hR=FQ,xRe=$Q,_Re=ZPe,bRe=YNe,JH=yRe,e6=Bs,t6=WQ,wRe=qQ,SRe=1,n6="[object Arguments]",r6="[object Array]",N1="[object Object]",ERe=Object.prototype,i6=ERe.hasOwnProperty;function CRe(t,e,n,r,i,s){var o=e6(t),a=e6(e),l=o?r6:JH(t),c=a?r6:JH(e);l=l==n6?N1:l,c=c==n6?N1:c;var f=l==N1,d=c==N1,h=l==c;if(h&&t6(t)){if(!t6(e))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new hR),o||wRe(t)?xRe(t,e,n,r,i,s):_Re(t,e,l,n,r,i,s);if(!(n&SRe)){var g=f&&i6.call(t,"__wrapped__"),v=d&&i6.call(e,"__wrapped__");if(g||v){var x=g?t.value():t,m=v?e.value():e;return s||(s=new hR),i(x,m,n,r,s)}}return h?(s||(s=new hR),bRe(t,e,n,r,i,s)):!1}var MRe=CRe,ARe=MRe,s6=eu;function ZQ(t,e,n,r,i){return t===e?!0:t==null||e==null||!s6(t)&&!s6(e)?t!==t&&e!==e:ARe(t,e,n,r,ZQ,i)}var bF=ZQ,TRe=FQ,PRe=bF,NRe=1,RRe=2;function ORe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],f=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new TRe;if(r)var h=r(c,f,l,t,e,d);if(!(h===void 0?PRe(f,c,NRe|RRe,r,d):h))return!1}}return!0}var kRe=ORe,IRe=kd;function DRe(t){return t===t&&!IRe(t)}var QQ=DRe,jRe=QQ,LRe=ST;function FRe(t){for(var e=LRe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jRe(i)]}return e}var BRe=FRe;function zRe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var JQ=zRe,URe=kRe,$Re=BRe,HRe=JQ;function VRe(t){var e=$Re(t);return e.length==1&&e[0][2]?HRe(e[0][0],e[0][1]):function(n){return n===t||URe(n,t,e)}}var WRe=VRe;function GRe(t,e){return t!=null&&e in Object(t)}var qRe=GRe,XRe=oQ,KRe=yF,YRe=Bs,ZRe=xF,QRe=_F,JRe=lT;function eOe(t,e,n){e=XRe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=JRe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&QRe(i)&&ZRe(o,i)&&(YRe(t)||KRe(t)))}var tOe=eOe,nOe=qRe,rOe=tOe;function iOe(t,e){return t!=null&&rOe(t,e,nOe)}var sOe=iOe,oOe=bF,aOe=aQ,lOe=sOe,cOe=eF,uOe=QQ,dOe=JQ,fOe=lT,hOe=1,pOe=2;function mOe(t,e){return cOe(t)&&uOe(e)?dOe(fOe(t),e):function(n){var r=aOe(n,t);return r===void 0&&r===e?lOe(n,t):oOe(e,r,hOe|pOe)}}var gOe=mOe;function vOe(t){return t}var Wv=vOe;function yOe(t){return function(e){return e==null?void 0:e[t]}}var xOe=yOe,_Oe=aF;function bOe(t){return function(e){return _Oe(e,t)}}var wOe=bOe,SOe=xOe,EOe=wOe,COe=eF,MOe=lT;function AOe(t){return COe(t)?SOe(MOe(t)):EOe(t)}var TOe=AOe,POe=WRe,NOe=gOe,ROe=Wv,OOe=Bs,kOe=TOe;function IOe(t){return typeof t=="function"?t:t==null?ROe:typeof t=="object"?OOe(t)?NOe(t[0],t[1]):POe(t):kOe(t)}var Ul=IOe;function DOe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var eJ=DOe;function jOe(t){return t!==t}var LOe=jOe;function FOe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var BOe=FOe,zOe=eJ,UOe=LOe,$Oe=BOe;function HOe(t,e,n){return e===e?$Oe(t,e,n):zOe(t,UOe,n)}var VOe=HOe,WOe=VOe;function GOe(t,e){var n=t==null?0:t.length;return!!n&&WOe(t,e,0)>-1}var qOe=GOe;function XOe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var KOe=XOe;function YOe(){}var ZOe=YOe,pR=KQ,QOe=ZOe,JOe=vF,eke=1/0,tke=pR&&1/JOe(new pR([,-0]))[1]==eke?function(t){return new pR(t)}:QOe,nke=tke,rke=BQ,ike=qOe,ske=KOe,oke=UQ,ake=nke,lke=vF,cke=200;function uke(t,e,n){var r=-1,i=ike,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=ske;else if(s>=cke){var c=e?null:ake(t);if(c)return lke(c);o=!1,i=oke,l=new rke}else l=e?[]:a;e:for(;++r<s;){var f=t[r],d=e?e(f):f;if(f=n||f!==0?f:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(f)}else i(l,d,n)||(l!==a&&l.push(d),a.push(f))}return a}var dke=uke,fke=Ul,hke=dke;function pke(t,e){return t&&t.length?hke(t,fke(e)):[]}var mke=pke;const o6=kn(mke);function tJ(t,e,n){return e===!0?o6(t,n):Wt(e)?o6(t,e):t}function Rg(t){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rg(t)}var gke=["ref"];function a6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ic(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a6(Object(n),!0).forEach(function(r){ET(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rJ(r.key),r)}}function yke(t,e,n){return e&&l6(t.prototype,e),n&&l6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xke(t,e,n){return e=_C(e),_ke(t,nJ()?Reflect.construct(e,n||[],_C(t).constructor):e.apply(t,n))}function _ke(t,e){if(e&&(Rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bke(t)}function bke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nJ=function(){return!!t})()}function _C(t){return _C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_C(t)}function wke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KI(t,e)}function KI(t,e){return KI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KI(t,e)}function ET(t,e,n){return e=rJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rJ(t){var e=Ske(t,"string");return Rg(e)=="symbol"?e:e+""}function Ske(t,e){if(Rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eke(t,e){if(t==null)return{};var n=Cke(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cke(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mke(t){return t.value}function Ake(t,e){if(te.isValidElement(t))return te.cloneElement(t,e);if(typeof t=="function")return te.createElement(t,e);e.ref;var n=Eke(e,gke);return te.createElement(gF,n)}var c6=1,th=function(t){function e(){var n;vke(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=xke(this,e,[].concat(i)),ET(n,"lastBoundingBox",{width:-1,height:-1}),n}return wke(e,t),yke(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>c6||Math.abs(i.height-this.lastBoundingBox.height)>c6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ic({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,f=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();d={left:((c||0)-g.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((f||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ic(ic({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,f=i.payload,d=ic(ic({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return te.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},Ake(s,ic(ic({},this.props),{},{payload:tJ(f,c,Mke)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ic(ic({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&rt(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(A.PureComponent);ET(th,"displayName","Legend");ET(th,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var u6=Sb,Tke=yF,Pke=Bs,d6=u6?u6.isConcatSpreadable:void 0;function Nke(t){return Pke(t)||Tke(t)||!!(d6&&t&&t[d6])}var Rke=Nke,Oke=HQ,kke=Rke;function iJ(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=kke),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?iJ(a,e-1,n,r,i):Oke(i,a):r||(i[i.length]=a)}return i}var sJ=iJ;function Ike(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Dke=Ike,jke=Dke,Lke=jke(),Fke=Lke,Bke=Fke,zke=ST;function Uke(t,e){return t&&Bke(t,e,zke)}var oJ=Uke,$ke=Cb;function Hke(t,e){return function(n,r){if(n==null)return n;if(!$ke(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var Vke=Hke,Wke=oJ,Gke=Vke,qke=Gke(Wke),wF=qke,Xke=wF,Kke=Cb;function Yke(t,e){var n=-1,r=Kke(t)?Array(t.length):[];return Xke(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var aJ=Yke;function Zke(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Qke=Zke,f6=Lv;function Jke(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=f6(t),o=e!==void 0,a=e===null,l=e===e,c=f6(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var eIe=Jke,tIe=eIe;function nIe(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=tIe(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var rIe=nIe,mR=oF,iIe=aF,sIe=Ul,oIe=aJ,aIe=Qke,lIe=GQ,cIe=rIe,uIe=Wv,dIe=Bs;function fIe(t,e,n){e.length?e=mR(e,function(s){return dIe(s)?function(o){return iIe(o,s.length===1?s[0]:s)}:s}):e=[uIe];var r=-1;e=mR(e,lIe(sIe));var i=oIe(t,function(s,o,a){var l=mR(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return aIe(i,function(s,o){return cIe(s,o,n)})}var hIe=fIe;function pIe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var mIe=pIe,gIe=mIe,h6=Math.max;function vIe(t,e,n){return e=h6(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=h6(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),gIe(t,this,a)}}var yIe=vIe;function xIe(t){return function(){return t}}var _Ie=xIe,bIe=Xh,wIe=function(){try{var t=bIe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),lJ=wIe,SIe=_Ie,p6=lJ,EIe=Wv,CIe=p6?function(t,e){return p6(t,"toString",{configurable:!0,enumerable:!1,value:SIe(e),writable:!0})}:EIe,MIe=CIe,AIe=800,TIe=16,PIe=Date.now;function NIe(t){var e=0,n=0;return function(){var r=PIe(),i=TIe-(r-n);if(n=r,i>0){if(++e>=AIe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var RIe=NIe,OIe=MIe,kIe=RIe,IIe=kIe(OIe),DIe=IIe,jIe=Wv,LIe=yIe,FIe=DIe;function BIe(t,e){return FIe(LIe(t,e,jIe),t+"")}var zIe=BIe,UIe=nF,$Ie=Cb,HIe=xF,VIe=kd;function WIe(t,e,n){if(!VIe(n))return!1;var r=typeof e;return(r=="number"?$Ie(n)&&HIe(e,n.length):r=="string"&&e in n)?UIe(n[e],t):!1}var CT=WIe,GIe=sJ,qIe=hIe,XIe=zIe,m6=CT,KIe=XIe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&m6(t,e[0],e[1])?e=[]:n>2&&m6(e[0],e[1],e[2])&&(e=[e[0]]),qIe(t,GIe(e,1),[])}),YIe=KIe;const SF=kn(YIe);function Hx(t){"@babel/helpers - typeof";return Hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hx(t)}function YI(){return YI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YI.apply(this,arguments)}function ZIe(t,e){return tDe(t)||eDe(t,e)||JIe(t,e)||QIe()}function QIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JIe(t,e){if(t){if(typeof t=="string")return g6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g6(t,e)}}function g6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eDe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function tDe(t){if(Array.isArray(t))return t}function v6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v6(Object(n),!0).forEach(function(r){nDe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nDe(t,e,n){return e=rDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rDe(t){var e=iDe(t,"string");return Hx(e)=="symbol"?e:e+""}function iDe(t,e){if(Hx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sDe(t){return Array.isArray(t)&&oi(t[0])&&oi(t[1])?t.join(" ~ "):t}var oDe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,f=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,x=e.label,m=e.labelFormatter,p=e.accessibilityLayer,y=p===void 0?!1:p,_=function(){if(f&&f.length){var D={padding:0,margin:0},j=(h?SF(f,h):f).map(function(F,z){if(F.type==="none")return null;var U=gR({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),H=F.formatter||d||sDe,R=F.value,I=F.name,B=R,W=I;if(H&&B!=null&&W!=null){var G=H(R,I,F,z,f);if(Array.isArray(G)){var X=ZIe(G,2);B=X[0],W=X[1]}else B=G}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:U},oi(W)?te.createElement("span",{className:"recharts-tooltip-item-name"},W):null,oi(W)?te.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,te.createElement("span",{className:"recharts-tooltip-item-value"},B),te.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:D},j)}return null},b=gR({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),S=gR({margin:0},c),C=!Zt(x),M=C?x:"",T=en("recharts-default-tooltip",g),P=en("recharts-tooltip-label",v);C&&m&&f!==void 0&&f!==null&&(M=m(x,f));var N=y?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",YI({className:T,style:b},N),te.createElement("p",{className:P,style:S},te.isValidElement(M)?M:"".concat(M)),_())};function Vx(t){"@babel/helpers - typeof";return Vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vx(t)}function R1(t,e,n){return e=aDe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aDe(t){var e=lDe(t,"string");return Vx(e)=="symbol"?e:e+""}function lDe(t,e){if(Vx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vy="recharts-tooltip-wrapper",cDe={visibility:"hidden"};function uDe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return en(Vy,R1(R1(R1(R1({},"".concat(Vy,"-right"),rt(n)&&e&&rt(e.x)&&n>=e.x),"".concat(Vy,"-left"),rt(n)&&e&&rt(e.x)&&n<e.x),"".concat(Vy,"-bottom"),rt(r)&&e&&rt(e.y)&&r>=e.y),"".concat(Vy,"-top"),rt(r)&&e&&rt(e.y)&&r<e.y))}function y6(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&rt(s[r]))return s[r];var f=n[r]-a-i,d=n[r]+i;if(e[r])return o[r]?f:d;if(o[r]){var h=f,g=l[r];return h<g?Math.max(d,l[r]):Math.max(f,l[r])}var v=d+a,x=l[r]+c;return v>x?Math.max(f,l[r]):Math.max(d,l[r])}function dDe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function fDe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,f,d;return o.height>0&&o.width>0&&n?(f=y6({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=y6({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=dDe({translateX:f,translateY:d,useTranslate3d:a})):c=cDe,{cssProperties:c,cssClasses:uDe({translateX:f,translateY:d,coordinate:n})}}function Og(t){"@babel/helpers - typeof";return Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Og(t)}function x6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(n),!0).forEach(function(r){QI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uJ(r.key),r)}}function mDe(t,e,n){return e&&pDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gDe(t,e,n){return e=bC(e),vDe(t,cJ()?Reflect.construct(e,n||[],bC(t).constructor):e.apply(t,n))}function vDe(t,e){if(e&&(Og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yDe(t)}function yDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cJ=function(){return!!t})()}function bC(t){return bC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bC(t)}function xDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZI(t,e)}function ZI(t,e){return ZI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZI(t,e)}function QI(t,e,n){return e=uJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uJ(t){var e=_De(t,"string");return Og(e)=="symbol"?e:e+""}function _De(t,e){if(Og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var b6=1,bDe=function(t){function e(){var n;hDe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=gDe(this,e,[].concat(i)),QI(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QI(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),n}return xDe(e,t),mDe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>b6||Math.abs(r.height-this.state.lastBoundingBox.height)>b6)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,f=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,x=i.reverseDirection,m=i.useTranslate3d,p=i.viewBox,y=i.wrapperStyle,_=fDe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),b=_.cssClasses,S=_.cssProperties,C=_6(_6({transition:h&&s?"transform ".concat(a,"ms ").concat(l):void 0},S),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return te.createElement("div",{tabIndex:-1,className:b,style:C,ref:function(T){r.wrapperNode=T}},c)}}])}(A.PureComponent),wDe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Fa={isSsr:wDe(),get:function(e){return Fa[e]},set:function(e,n){if(typeof e=="string")Fa[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Fa[i]=e[i]})}}};function kg(t){"@babel/helpers - typeof";return kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kg(t)}function w6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S6(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w6(Object(n),!0).forEach(function(r){EF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EDe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fJ(r.key),r)}}function CDe(t,e,n){return e&&EDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MDe(t,e,n){return e=wC(e),ADe(t,dJ()?Reflect.construct(e,n||[],wC(t).constructor):e.apply(t,n))}function ADe(t,e){if(e&&(kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TDe(t)}function TDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dJ=function(){return!!t})()}function wC(t){return wC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wC(t)}function PDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JI(t,e)}function JI(t,e){return JI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JI(t,e)}function EF(t,e,n){return e=fJ(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fJ(t){var e=NDe(t,"string");return kg(e)=="symbol"?e:e+""}function NDe(t,e){if(kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RDe(t){return t.dataKey}function ODe(t,e){return te.isValidElement(t)?te.cloneElement(t,e):typeof t=="function"?te.createElement(t,e):te.createElement(oDe,e)}var yi=function(t){function e(){return SDe(this,e),MDe(this,e,arguments)}return PDe(e,t),CDe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,x=i.payloadUniqBy,m=i.position,p=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,S=v??[];d&&S.length&&(S=tJ(v.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),x,RDe));var C=S.length>0;return te.createElement(bDe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:s,coordinate:f,hasPayload:C,offset:g,position:m,reverseDirection:p,useTranslate3d:y,viewBox:_,wrapperStyle:b},ODe(c,S6(S6({},this.props),{},{payload:S})))}}])}(A.PureComponent);EF(yi,"displayName","Tooltip");EF(yi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Fa.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var kDe=zl,IDe=function(){return kDe.Date.now()},DDe=IDe,jDe=/\s/;function LDe(t){for(var e=t.length;e--&&jDe.test(t.charAt(e)););return e}var FDe=LDe,BDe=FDe,zDe=/^\s+/;function UDe(t){return t&&t.slice(0,BDe(t)+1).replace(zDe,"")}var $De=UDe,HDe=$De,E6=kd,VDe=Lv,C6=NaN,WDe=/^[-+]0x[0-9a-f]+$/i,GDe=/^0b[01]+$/i,qDe=/^0o[0-7]+$/i,XDe=parseInt;function KDe(t){if(typeof t=="number")return t;if(VDe(t))return C6;if(E6(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=E6(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=HDe(t);var n=GDe.test(t);return n||qDe.test(t)?XDe(t.slice(2),n?2:8):WDe.test(t)?C6:+t}var hJ=KDe,YDe=kd,vR=DDe,M6=hJ,ZDe="Expected a function",QDe=Math.max,JDe=Math.min;function eje(t,e,n){var r,i,s,o,a,l,c=0,f=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(ZDe);e=M6(e)||0,YDe(n)&&(f=!!n.leading,d="maxWait"in n,s=d?QDe(M6(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function g(C){var M=r,T=i;return r=i=void 0,c=C,o=t.apply(T,M),o}function v(C){return c=C,a=setTimeout(p,e),f?g(C):o}function x(C){var M=C-l,T=C-c,P=e-M;return d?JDe(P,s-T):P}function m(C){var M=C-l,T=C-c;return l===void 0||M>=e||M<0||d&&T>=s}function p(){var C=vR();if(m(C))return y(C);a=setTimeout(p,x(C))}function y(C){return a=void 0,h&&r?g(C):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function b(){return a===void 0?o:y(vR())}function S(){var C=vR(),M=m(C);if(r=arguments,i=this,l=C,M){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(p,e),g(l)}return a===void 0&&(a=setTimeout(p,e)),o}return S.cancel=_,S.flush=b,S}var tje=eje,nje=tje,rje=kd,ije="Expected a function";function sje(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(ije);return rje(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),nje(t,e,{leading:r,maxWait:e,trailing:i})}var oje=sje;const pJ=kn(oje);function Wx(t){"@babel/helpers - typeof";return Wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wx(t)}function A6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A6(Object(n),!0).forEach(function(r){aje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aje(t,e,n){return e=lje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lje(t){var e=cje(t,"string");return Wx(e)=="symbol"?e:e+""}function cje(t,e){if(Wx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uje(t,e){return pje(t)||hje(t,e)||fje(t,e)||dje()}function dje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fje(t,e){if(t){if(typeof t=="string")return T6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T6(t,e)}}function T6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function pje(t){if(Array.isArray(t))return t}var gl=A.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,f=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,x=v===void 0?0:v,m=t.id,p=t.className,y=t.onResize,_=t.style,b=_===void 0?{}:_,S=A.useRef(null),C=A.useRef();C.current=y,A.useImperativeHandle(e,function(){return Object.defineProperty(S.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),S.current},configurable:!0})});var M=A.useState({containerWidth:i.width,containerHeight:i.height}),T=uje(M,2),P=T[0],N=T[1],k=A.useCallback(function(j,F){N(function(z){var U=Math.round(j),H=Math.round(F);return z.containerWidth===U&&z.containerHeight===H?z:{containerWidth:U,containerHeight:H}})},[]);A.useEffect(function(){var j=function(I){var B,W=I[0].contentRect,G=W.width,X=W.height;k(G,X),(B=C.current)===null||B===void 0||B.call(C,G,X)};x>0&&(j=pJ(j,x,{trailing:!0,leading:!1}));var F=new ResizeObserver(j),z=S.current.getBoundingClientRect(),U=z.width,H=z.height;return k(U,H),F.observe(S.current),function(){F.disconnect()}},[k,x]);var D=A.useMemo(function(){var j=P.containerWidth,F=P.containerHeight;if(j<0||F<0)return null;La(Lf(o)||Lf(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),La(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Lf(o)?j:o,U=Lf(l)?F:l;n&&n>0&&(z?U=z/n:U&&(z=U*n),h&&U>h&&(U=h)),La(z>0||U>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,U,o,l,f,d,n);var H=!Array.isArray(g)&&Tc(g.type).endsWith("Chart");return te.Children.map(g,function(R){return te.isValidElement(R)?A.cloneElement(R,O1({width:z,height:U},H?{style:O1({height:"100%",width:"100%",maxHeight:U,maxWidth:z},R.props.style)}:{})):R})},[n,g,l,h,d,f,P,o]);return te.createElement("div",{id:m?"".concat(m):void 0,className:en("recharts-responsive-container",p),style:O1(O1({},b),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:S},D)}),MT=function(e){return null};MT.displayName="Cell";function Gx(t){"@babel/helpers - typeof";return Gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(t)}function P6(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P6(Object(n),!0).forEach(function(r){mje(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P6(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mje(t,e,n){return e=gje(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gje(t){var e=vje(t,"string");return Gx(e)=="symbol"?e:e+""}function vje(t,e){if(Gx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Op={widthCache:{},cacheCount:0},yje=2e3,xje={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},N6="recharts_measurement_span";function _je(t){var e=eD({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var X0=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Fa.isSsr)return{width:0,height:0};var r=_je(n),i=JSON.stringify({text:e,copyStyle:r});if(Op.widthCache[i])return Op.widthCache[i];try{var s=document.getElementById(N6);s||(s=document.createElement("span"),s.setAttribute("id",N6),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=eD(eD({},xje),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Op.widthCache[i]=l,++Op.cacheCount>yje&&(Op.cacheCount=0,Op.widthCache={}),l}catch{return{width:0,height:0}}},bje=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qx(t){"@babel/helpers - typeof";return qx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qx(t)}function SC(t,e){return Cje(t)||Eje(t,e)||Sje(t,e)||wje()}function wje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sje(t,e){if(t){if(typeof t=="string")return R6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R6(t,e)}}function R6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eje(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Cje(t){if(Array.isArray(t))return t}function Mje(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Tje(r.key),r)}}function Aje(t,e,n){return e&&O6(t.prototype,e),n&&O6(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tje(t){var e=Pje(t,"string");return qx(e)=="symbol"?e:e+""}function Pje(t,e){if(qx(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qx(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Nje=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Rje=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,mJ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Oje=Object.keys(mJ),Mm="NaN";function kje(t,e){return t*mJ[e]}var k1=function(){function t(e,n){Mje(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Nje.test(n)&&(this.num=NaN,this.unit=""),Oje.includes(n)&&(this.num=kje(e,n),this.unit="px")}return Aje(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Rje.exec(n))!==null&&r!==void 0?r:[],s=SC(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function gJ(t){if(t.includes(Mm))return Mm;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=k6.exec(e))!==null&&n!==void 0?n:[],i=SC(r,4),s=i[1],o=i[2],a=i[3],l=k1.parse(s??""),c=k1.parse(a??""),f=o==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return Mm;e=e.replace(k6,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=I6.exec(e))!==null&&d!==void 0?d:[],g=SC(h,4),v=g[1],x=g[2],m=g[3],p=k1.parse(v??""),y=k1.parse(m??""),_=x==="+"?p.add(y):p.subtract(y);if(_.isNaN())return Mm;e=e.replace(I6,_.toString())}return e}var D6=/\(([^()]*)\)/;function Ije(t){for(var e=t;e.includes("(");){var n=D6.exec(e),r=SC(n,2),i=r[1];e=e.replace(D6,gJ(i))}return e}function Dje(t){var e=t.replace(/\s+/g,"");return e=Ije(e),e=gJ(e),e}function jje(t){try{return Dje(t)}catch{return Mm}}function yR(t){var e=jje(t.slice(5,-1));return e===Mm?"":e}var Lje=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Fje=["dx","dy","angle","className","breakAll"];function tD(){return tD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tD.apply(this,arguments)}function j6(t,e){if(t==null)return{};var n=Bje(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Bje(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function L6(t,e){return Hje(t)||$je(t,e)||Uje(t,e)||zje()}function zje(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uje(t,e){if(t){if(typeof t=="string")return F6(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F6(t,e)}}function F6(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $je(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Hje(t){if(Array.isArray(t))return t}var vJ=/[ \f\n\r\t\v\u2028\u2029]+/,yJ=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Zt(n)||(r?s=n.toString().split(""):s=n.toString().split(vJ));var o=s.map(function(l){return{word:l,width:X0(l,i).width}}),a=r?0:X0("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},Vje=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,f=rt(o),d=a,h=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function(U,H){var R=H.word,I=H.width,B=U[U.length-1];if(B&&(i==null||s||B.width+I+r<Number(i)))B.words.push(R),B.width+=I+r;else{var W={words:[R],width:I};U.push(W)}return U},[])},g=h(n),v=function(z){return z.reduce(function(U,H){return U.width>H.width?U:H})};if(!f)return g;for(var x="",m=function(z){var U=d.slice(0,z),H=yJ({breakAll:c,style:l,children:U+x}).wordsWithComputedWidth,R=h(H),I=R.length>o||v(R).width>Number(i);return[I,R]},p=0,y=d.length-1,_=0,b;p<=y&&_<=d.length-1;){var S=Math.floor((p+y)/2),C=S-1,M=m(C),T=L6(M,2),P=T[0],N=T[1],k=m(S),D=L6(k,1),j=D[0];if(!P&&!j&&(p=S+1),P&&j&&(y=S-1),!P&&j){b=N;break}_++}return b||g},B6=function(e){var n=Zt(e)?[]:e.toString().split(vJ);return[{words:n}]},Wje=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!Fa.isSsr){var l,c,f=yJ({breakAll:o,children:i,style:s});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return B6(i);return Vje({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return B6(i)},z6="#808080",Mh=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,x=v===void 0?"end":v,m=e.fill,p=m===void 0?z6:m,y=j6(e,Lje),_=A.useMemo(function(){return Wje({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),b=y.dx,S=y.dy,C=y.angle,M=y.className,T=y.breakAll,P=j6(y,Fje);if(!oi(r)||!oi(s))return null;var N=r+(rt(b)?b:0),k=s+(rt(S)?S:0),D;switch(x){case"start":D=yR("calc(".concat(c,")"));break;case"middle":D=yR("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:D=yR("calc(".concat(_.length-1," * -").concat(a,")"));break}var j=[];if(d){var F=_[0].width,z=y.width;j.push("scale(".concat((rt(z)?z/F:1)/F,")"))}return C&&j.push("rotate(".concat(C,", ").concat(N,", ").concat(k,")")),j.length&&(P.transform=j.join(" ")),te.createElement("text",tD({},Rt(P,!0),{x:N,y:k,className:en("recharts-text",M),textAnchor:g,fill:p.includes("url")?z6:p}),_.map(function(U,H){var R=U.words.join(T?"":" ");return te.createElement("tspan",{x:N,dy:H===0?D:a,key:"".concat(R,"-").concat(H)},R)}))};function dd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Gje(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function CF(t){let e,n,r;t.length!==2?(e=dd,n=(a,l)=>dd(t(a),l),r=(a,l)=>t(a)-l):(e=t===dd||t===Gje?t:qje,n=t,r=t);function i(a,l,c=0,f=a.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<0?c=d+1:f=d}while(c<f)}return c}function s(a,l,c=0,f=a.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function o(a,l,c=0,f=a.length){const d=i(a,l,c,f-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function qje(){return 0}function xJ(t){return t===null?NaN:+t}function*Xje(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const Kje=CF(dd),Mb=Kje.right;CF(xJ).center;class U6 extends Map{constructor(e,n=Qje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($6(this,e))}has(e){return super.has($6(this,e))}set(e,n){return super.set(Yje(this,e),n)}delete(e){return super.delete(Zje(this,e))}}function $6({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Yje({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Zje({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Qje(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Jje(t=dd){if(t===dd)return _J;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function _J(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const eLe=Math.sqrt(50),tLe=Math.sqrt(10),nLe=Math.sqrt(2);function EC(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=eLe?10:s>=tLe?5:s>=nLe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?EC(t,e,n*2):[a,l,c]}function nD(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?EC(e,t,n):EC(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function rD(t,e,n){return e=+e,t=+t,n=+n,EC(t,e,n)[2]}function iD(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?rD(e,t,n):rD(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function H6(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function V6(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bJ(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?_J:Jje(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/l+h)),v=Math.min(r,Math.floor(e+(l-c)*d/l+h));bJ(t,e,g,v,i)}const s=t[e];let o=n,a=r;for(Wy(t,n,e),i(t[r],s)>0&&Wy(t,n,r);o<a;){for(Wy(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Wy(t,n,a):(++a,Wy(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Wy(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function rLe(t,e,n){if(t=Float64Array.from(Xje(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return V6(t);if(e>=1)return H6(t);var r,i=(r-1)*e,s=Math.floor(i),o=H6(bJ(t,s).subarray(0,s+1)),a=V6(t.subarray(s+1));return o+(a-o)*(i-s)}}function iLe(t,e,n=xJ){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function sLe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function ta(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function tu(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const sD=Symbol("implicit");function MF(){var t=new U6,e=[],n=[],r=sD;function i(s){let o=t.get(s);if(o===void 0){if(r!==sD)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new U6;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return MF(e,n).unknown(r)},ta.apply(i,arguments),i}function Xx(){var t=MF().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,f=.5;delete t.unknown;function d(){var h=e().length,g=i<r,v=g?i:r,x=g?r:i;s=(x-v)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),v+=(x-v-s*(h-l))*f,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var m=sLe(h).map(function(p){return v+s*p});return n(g?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},t.copy=function(){return Xx(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(f)},ta.apply(d(),arguments)}function wJ(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wJ(e())},t}function K0(){return wJ(Xx.apply(null,arguments).paddingInner(1))}function AF(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function SJ(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Ab(){}var Kx=.7,CC=1/Kx,Qm="\\s*([+-]?\\d+)\\s*",Yx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ml="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oLe=/^#([0-9a-f]{3,8})$/,aLe=new RegExp(`^rgb\\(${Qm},${Qm},${Qm}\\)$`),lLe=new RegExp(`^rgb\\(${Ml},${Ml},${Ml}\\)$`),cLe=new RegExp(`^rgba\\(${Qm},${Qm},${Qm},${Yx}\\)$`),uLe=new RegExp(`^rgba\\(${Ml},${Ml},${Ml},${Yx}\\)$`),dLe=new RegExp(`^hsl\\(${Yx},${Ml},${Ml}\\)$`),fLe=new RegExp(`^hsla\\(${Yx},${Ml},${Ml},${Yx}\\)$`),W6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};AF(Ab,Ah,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:G6,formatHex:G6,formatHex8:hLe,formatHsl:pLe,formatRgb:q6,toString:q6});function G6(){return this.rgb().formatHex()}function hLe(){return this.rgb().formatHex8()}function pLe(){return EJ(this).formatHsl()}function q6(){return this.rgb().formatRgb()}function Ah(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=oLe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?X6(e):n===3?new ks(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?I1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?I1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=aLe.exec(t))?new ks(e[1],e[2],e[3],1):(e=lLe.exec(t))?new ks(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=cLe.exec(t))?I1(e[1],e[2],e[3],e[4]):(e=uLe.exec(t))?I1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=dLe.exec(t))?Z6(e[1],e[2]/100,e[3]/100,1):(e=fLe.exec(t))?Z6(e[1],e[2]/100,e[3]/100,e[4]):W6.hasOwnProperty(t)?X6(W6[t]):t==="transparent"?new ks(NaN,NaN,NaN,0):null}function X6(t){return new ks(t>>16&255,t>>8&255,t&255,1)}function I1(t,e,n,r){return r<=0&&(t=e=n=NaN),new ks(t,e,n,r)}function mLe(t){return t instanceof Ab||(t=Ah(t)),t?(t=t.rgb(),new ks(t.r,t.g,t.b,t.opacity)):new ks}function oD(t,e,n,r){return arguments.length===1?mLe(t):new ks(t,e,n,r??1)}function ks(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}AF(ks,oD,SJ(Ab,{brighter(t){return t=t==null?CC:Math.pow(CC,t),new ks(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kx:Math.pow(Kx,t),new ks(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ks(nh(this.r),nh(this.g),nh(this.b),MC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:K6,formatHex:K6,formatHex8:gLe,formatRgb:Y6,toString:Y6}));function K6(){return`#${Ff(this.r)}${Ff(this.g)}${Ff(this.b)}`}function gLe(){return`#${Ff(this.r)}${Ff(this.g)}${Ff(this.b)}${Ff((isNaN(this.opacity)?1:this.opacity)*255)}`}function Y6(){const t=MC(this.opacity);return`${t===1?"rgb(":"rgba("}${nh(this.r)}, ${nh(this.g)}, ${nh(this.b)}${t===1?")":`, ${t})`}`}function MC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function nh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ff(t){return t=nh(t),(t<16?"0":"")+t.toString(16)}function Z6(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ta(t,e,n,r)}function EJ(t){if(t instanceof Ta)return new Ta(t.h,t.s,t.l,t.opacity);if(t instanceof Ab||(t=Ah(t)),!t)return new Ta;if(t instanceof Ta)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Ta(o,a,l,t.opacity)}function vLe(t,e,n,r){return arguments.length===1?EJ(t):new Ta(t,e,n,r??1)}function Ta(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}AF(Ta,vLe,SJ(Ab,{brighter(t){return t=t==null?CC:Math.pow(CC,t),new Ta(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kx:Math.pow(Kx,t),new Ta(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ks(xR(t>=240?t-240:t+120,i,r),xR(t,i,r),xR(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ta(Q6(this.h),D1(this.s),D1(this.l),MC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=MC(this.opacity);return`${t===1?"hsl(":"hsla("}${Q6(this.h)}, ${D1(this.s)*100}%, ${D1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Q6(t){return t=(t||0)%360,t<0?t+360:t}function D1(t){return Math.max(0,Math.min(1,t||0))}function xR(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const TF=t=>()=>t;function yLe(t,e){return function(n){return t+n*e}}function xLe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _Le(t){return(t=+t)==1?CJ:function(e,n){return n-e?xLe(e,n,t):TF(isNaN(e)?n:e)}}function CJ(t,e){var n=e-t;return n?yLe(t,n):TF(isNaN(t)?e:t)}const AC=function t(e){var n=_Le(e);function r(i,s){var o=n((i=oD(i)).r,(s=oD(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=CJ(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function bLe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function wLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function SLe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Pc(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function ELe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ma(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function CLe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pc(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var aD=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_R=new RegExp(aD.source,"g");function MLe(t){return function(){return t}}function ALe(t){return function(e){return t(e)+""}}function MJ(t,e){var n=aD.lastIndex=_R.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=aD.exec(t))&&(i=_R.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ma(r,i)})),n=_R.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?ALe(l[0].x):MLe(e):(e=l.length,function(c){for(var f=0,d;f<e;++f)a[(d=l[f]).i]=d.x(c);return a.join("")})}function Pc(t,e){var n=typeof e,r;return e==null||n==="boolean"?TF(e):(n==="number"?Ma:n==="string"?(r=Ah(e))?(e=r,AC):MJ:e instanceof Ah?AC:e instanceof Date?ELe:wLe(e)?bLe:Array.isArray(e)?SLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?CLe:Ma)(t,e)}function PF(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var J6=180/Math.PI,lD={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function AJ(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*J6,skewX:Math.atan(l)*J6,scaleX:o,scaleY:a}}var j1;function TLe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?lD:AJ(e.a,e.b,e.c,e.d,e.e,e.f)}function PLe(t){return t==null||(j1||(j1=document.createElementNS("http://www.w3.org/2000/svg","g")),j1.setAttribute("transform",t),!(t=j1.transform.baseVal.consolidate()))?lD:(t=t.matrix,AJ(t.a,t.b,t.c,t.d,t.e,t.f))}function TJ(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,f,d,h,g,v){if(c!==d||f!==h){var x=g.push("translate(",null,e,null,n);v.push({i:x-4,x:Ma(c,d)},{i:x-2,x:Ma(f,h)})}else(d||h)&&g.push("translate("+d+e+h+n)}function o(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ma(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function a(c,f,d,h){c!==f?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ma(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function l(c,f,d,h,g,v){if(c!==d||f!==h){var x=g.push(i(g)+"scale(",null,",",null,")");v.push({i:x-4,x:Ma(c,d)},{i:x-2,x:Ma(f,h)})}else(d!==1||h!==1)&&g.push(i(g)+"scale("+d+","+h+")")}return function(c,f){var d=[],h=[];return c=t(c),f=t(f),s(c.translateX,c.translateY,f.translateX,f.translateY,d,h),o(c.rotate,f.rotate,d,h),a(c.skewX,f.skewX,d,h),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(g){for(var v=-1,x=h.length,m;++v<x;)d[(m=h[v]).i]=m.x(g);return d.join("")}}}var NLe=TJ(TLe,"px, ","px)","deg)"),RLe=TJ(PLe,", ",")",")"),OLe=1e-12;function e8(t){return((t=Math.exp(t))+1/t)/2}function kLe(t){return((t=Math.exp(t))-1/t)/2}function ILe(t){return((t=Math.exp(2*t))-1)/(t+1)}const fE=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],f=o[0],d=o[1],h=o[2],g=f-a,v=d-l,x=g*g+v*v,m,p;if(x<OLe)p=Math.log(h/c)/e,m=function(M){return[a+M*g,l+M*v,c*Math.exp(e*M*p)]};else{var y=Math.sqrt(x),_=(h*h-c*c+r*x)/(2*c*n*y),b=(h*h-c*c-r*x)/(2*h*n*y),S=Math.log(Math.sqrt(_*_+1)-_),C=Math.log(Math.sqrt(b*b+1)-b);p=(C-S)/e,m=function(M){var T=M*p,P=e8(S),N=c/(n*y)*(P*ILe(e*T+S)-kLe(S));return[a+N*g,l+N*v,c*P/e8(e*T+S)]}}return m.duration=p*1e3*e/Math.SQRT2,m}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);function DLe(t,e){e===void 0&&(e=t,t=Pc);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function jLe(t){return function(){return t}}function TC(t){return+t}var t8=[0,1];function ds(t){return t}function cD(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jLe(isNaN(e)?NaN:.5)}function LLe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function FLe(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=cD(i,r),s=n(o,s)):(r=cD(r,i),s=n(s,o)),function(a){return s(r(a))}}function BLe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=cD(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Mb(t,a,1,r)-1;return s[l](i[l](a))}}function Tb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function AT(){var t=t8,e=t8,n=Pc,r,i,s,o=ds,a,l,c;function f(){var h=Math.min(t.length,e.length);return o!==ds&&(o=LLe(t[0],t[h-1])),a=h>2?BLe:FLe,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=a(e,t.map(r),Ma)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,TC),f()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=PF,f()},d.clamp=function(h){return arguments.length?(o=h?!0:ds,f()):o!==ds},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,g){return r=h,i=g,f()}}function NF(){return AT()(ds,ds)}function zLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function PC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ig(t){return t=PC(Math.abs(t)),t?t[1]:NaN}function ULe(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function $Le(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var HLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zx(t){if(!(e=HLe.exec(t)))throw new Error("invalid format: "+t);var e;return new RF({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Zx.prototype=RF.prototype;function RF(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}RF.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function VLe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var PJ;function WLe(t,e){var n=PC(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(PJ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+PC(t,Math.max(0,e+s-1))[0]}function n8(t,e){var n=PC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const r8={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:zLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>n8(t*100,e),r:n8,s:WLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function i8(t){return t}var s8=Array.prototype.map,o8=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GLe(t){var e=t.grouping===void 0||t.thousands===void 0?i8:ULe(s8.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?i8:$Le(s8.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Zx(d);var h=d.fill,g=d.align,v=d.sign,x=d.symbol,m=d.zero,p=d.width,y=d.comma,_=d.precision,b=d.trim,S=d.type;S==="n"?(y=!0,S="g"):r8[S]||(_===void 0&&(_=12),b=!0,S="g"),(m||h==="0"&&g==="=")&&(m=!0,h="0",g="=");var C=x==="$"?n:x==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",M=x==="$"?r:/[%p]/.test(S)?o:"",T=r8[S],P=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(k){var D=C,j=M,F,z,U;if(S==="c")j=T(k)+j,k="";else{k=+k;var H=k<0||1/k<0;if(k=isNaN(k)?l:T(Math.abs(k),_),b&&(k=VLe(k)),H&&+k==0&&v!=="+"&&(H=!1),D=(H?v==="("?v:a:v==="-"||v==="("?"":v)+D,j=(S==="s"?o8[8+PJ/3]:"")+j+(H&&v==="("?")":""),P){for(F=-1,z=k.length;++F<z;)if(U=k.charCodeAt(F),48>U||U>57){j=(U===46?i+k.slice(F+1):k.slice(F))+j,k=k.slice(0,F);break}}}y&&!m&&(k=e(k,1/0));var R=D.length+k.length+j.length,I=R<p?new Array(p-R+1).join(h):"";switch(y&&m&&(k=e(I+k,I.length?p-j.length:1/0),I=""),g){case"<":k=D+k+j+I;break;case"=":k=D+I+k+j;break;case"^":k=I.slice(0,R=I.length>>1)+D+k+j+I.slice(R);break;default:k=I+D+k+j;break}return s(k)}return N.toString=function(){return d+""},N}function f(d,h){var g=c((d=Zx(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Ig(h)/3)))*3,x=Math.pow(10,-v),m=o8[8+v/3];return function(p){return g(x*p)+m}}return{format:c,formatPrefix:f}}var L1,OF,NJ;qLe({thousands:",",grouping:[3],currency:["$",""]});function qLe(t){return L1=GLe(t),OF=L1.format,NJ=L1.formatPrefix,L1}function XLe(t){return Math.max(0,-Ig(Math.abs(t)))}function KLe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ig(e)/3)))*3-Ig(Math.abs(t)))}function YLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ig(e)-Ig(t))+1}function RJ(t,e,n,r){var i=iD(t,e,n),s;switch(r=Zx(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=KLe(i,o))&&(r.precision=s),NJ(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=YLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=XLe(i))&&(r.precision=s-(r.type==="%")*2);break}}return OF(r)}function Id(t){var e=t.domain;return t.ticks=function(n){var r=e();return nD(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return RJ(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,f=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);f-- >0;){if(c=rD(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function NC(){var t=NF();return t.copy=function(){return Tb(t,NC())},ta.apply(t,arguments),Id(t)}function OJ(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,TC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return OJ(t).unknown(e)},t=arguments.length?Array.from(t,TC):[0,1],Id(n)}function kJ(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function a8(t){return Math.log(t)}function l8(t){return Math.exp(t)}function ZLe(t){return-Math.log(-t)}function QLe(t){return-Math.exp(-t)}function JLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function e3e(t){return t===10?JLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function t3e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function c8(t){return(e,n)=>-t(-e,n)}function kF(t){const e=t(a8,l8),n=e.domain;let r=10,i,s;function o(){return i=t3e(r),s=e3e(r),n()[0]<0?(i=c8(i),s=c8(s),t(ZLe,QLe)):t(a8,l8),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=i(c),g=i(f),v,x;const m=a==null?10:+a;let p=[];if(!(r%1)&&g-h<m){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(v=1;v<r;++v)if(x=h<0?v/s(-h):v*s(h),!(x<c)){if(x>f)break;p.push(x)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(x=h>0?v/s(-h):v*s(h),!(x<c)){if(x>f)break;p.push(x)}p.length*2<m&&(p=nD(c,f,m))}else p=nD(h,g,Math.min(g-h,m)).map(s);return d?p.reverse():p},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Zx(l)).precision==null&&(l.trim=!0),l=OF(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return f=>{let d=f/s(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=c?l(f):""}},e.nice=()=>n(kJ(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function IJ(){const t=kF(AT()).domain([1,10]);return t.copy=()=>Tb(t,IJ()).base(t.base()),ta.apply(t,arguments),t}function u8(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function d8(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function IF(t){var e=1,n=t(u8(e),d8(e));return n.constant=function(r){return arguments.length?t(u8(e=+r),d8(e)):e},Id(n)}function DJ(){var t=IF(AT());return t.copy=function(){return Tb(t,DJ()).constant(t.constant())},ta.apply(t,arguments)}function f8(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function n3e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function r3e(t){return t<0?-t*t:t*t}function DF(t){var e=t(ds,ds),n=1;function r(){return n===1?t(ds,ds):n===.5?t(n3e,r3e):t(f8(n),f8(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Id(e)}function jF(){var t=DF(AT());return t.copy=function(){return Tb(t,jF()).exponent(t.exponent())},ta.apply(t,arguments),t}function i3e(){return jF.apply(null,arguments).exponent(.5)}function h8(t){return Math.sign(t)*t*t}function s3e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function jJ(){var t=NF(),e=[0,1],n=!1,r;function i(s){var o=s3e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(h8(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,TC)).map(h8)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return jJ(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ta.apply(i,arguments),Id(i)}function LJ(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=iLe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Mb(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(dd),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return LJ().domain(t).range(e).unknown(r)},ta.apply(s,arguments)}function FJ(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Mb(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return FJ().domain([t,e]).range(i).unknown(s)},ta.apply(Id(o),arguments)}function BJ(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Mb(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return BJ().domain(t).range(e).unknown(n)},ta.apply(i,arguments)}const bR=new Date,wR=new Date;function ui(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>ui(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(bR.setTime(+s),wR.setTime(+o),t(bR),t(wR),Math.floor(n(bR,wR))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const RC=ui(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);RC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ui(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):RC);RC.range;const Sc=1e3,Ho=Sc*60,Ec=Ho*60,Fc=Ec*24,LF=Fc*7,p8=Fc*30,SR=Fc*365,Bf=ui(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Sc)},(t,e)=>(e-t)/Sc,t=>t.getUTCSeconds());Bf.range;const FF=ui(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sc)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getMinutes());FF.range;const BF=ui(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ho)},(t,e)=>(e-t)/Ho,t=>t.getUTCMinutes());BF.range;const zF=ui(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Sc-t.getMinutes()*Ho)},(t,e)=>{t.setTime(+t+e*Ec)},(t,e)=>(e-t)/Ec,t=>t.getHours());zF.range;const UF=ui(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ec)},(t,e)=>(e-t)/Ec,t=>t.getUTCHours());UF.range;const Pb=ui(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ho)/Fc,t=>t.getDate()-1);Pb.range;const TT=ui(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fc,t=>t.getUTCDate()-1);TT.range;const zJ=ui(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Fc,t=>Math.floor(t/Fc));zJ.range;function Yh(t){return ui(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ho)/LF)}const PT=Yh(0),OC=Yh(1),o3e=Yh(2),a3e=Yh(3),Dg=Yh(4),l3e=Yh(5),c3e=Yh(6);PT.range;OC.range;o3e.range;a3e.range;Dg.range;l3e.range;c3e.range;function Zh(t){return ui(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/LF)}const NT=Zh(0),kC=Zh(1),u3e=Zh(2),d3e=Zh(3),jg=Zh(4),f3e=Zh(5),h3e=Zh(6);NT.range;kC.range;u3e.range;d3e.range;jg.range;f3e.range;h3e.range;const $F=ui(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$F.range;const HF=ui(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());HF.range;const Bc=ui(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Bc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ui(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Bc.range;const zc=ui(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());zc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ui(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});zc.range;function UJ(t,e,n,r,i,s){const o=[[Bf,1,Sc],[Bf,5,5*Sc],[Bf,15,15*Sc],[Bf,30,30*Sc],[s,1,Ho],[s,5,5*Ho],[s,15,15*Ho],[s,30,30*Ho],[i,1,Ec],[i,3,3*Ec],[i,6,6*Ec],[i,12,12*Ec],[r,1,Fc],[r,2,2*Fc],[n,1,LF],[e,1,p8],[e,3,3*p8],[t,1,SR]];function a(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const g=d&&typeof d.range=="function"?d:l(c,f,d),v=g?g.range(c,+f+1):[];return h?v.reverse():v}function l(c,f,d){const h=Math.abs(f-c)/d,g=CF(([,,m])=>m).right(o,h);if(g===o.length)return t.every(iD(c/SR,f/SR,d));if(g===0)return RC.every(Math.max(iD(c,f,d),1));const[v,x]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return v.every(x)}return[a,l]}const[p3e,m3e]=UJ(zc,HF,NT,zJ,UF,BF),[g3e,v3e]=UJ(Bc,$F,PT,Pb,zF,FF);function ER(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function CR(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gy(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function y3e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=qy(i),f=Xy(i),d=qy(s),h=Xy(s),g=qy(o),v=Xy(o),x=qy(a),m=Xy(a),p=qy(l),y=Xy(l),_={a:H,A:R,b:I,B,c:null,d:_8,e:_8,f:U3e,g:Z3e,G:J3e,H:F3e,I:B3e,j:z3e,L:$J,m:$3e,M:H3e,p:W,q:G,Q:S8,s:E8,S:V3e,u:W3e,U:G3e,V:q3e,w:X3e,W:K3e,x:null,X:null,y:Y3e,Y:Q3e,Z:eFe,"%":w8},b={a:X,A:ne,b:ae,B:se,c:null,d:b8,e:b8,f:iFe,g:pFe,G:gFe,H:tFe,I:nFe,j:rFe,L:VJ,m:sFe,M:oFe,p:$,q:Y,Q:S8,s:E8,S:aFe,u:lFe,U:cFe,V:uFe,w:dFe,W:fFe,x:null,X:null,y:hFe,Y:mFe,Z:vFe,"%":w8},S={a:N,A:k,b:D,B:j,c:F,d:y8,e:y8,f:I3e,g:v8,G:g8,H:x8,I:x8,j:N3e,L:k3e,m:P3e,M:R3e,p:P,q:T3e,Q:j3e,s:L3e,S:O3e,u:S3e,U:E3e,V:C3e,w:w3e,W:M3e,x:z,X:U,y:v8,Y:g8,Z:A3e,"%":D3e};_.x=C(n,_),_.X=C(r,_),_.c=C(e,_),b.x=C(n,b),b.X=C(r,b),b.c=C(e,b);function C(Q,ee){return function(ue){var J=[],K=-1,re=0,fe=Q.length,me,pe,Ae;for(ue instanceof Date||(ue=new Date(+ue));++K<fe;)Q.charCodeAt(K)===37&&(J.push(Q.slice(re,K)),(pe=m8[me=Q.charAt(++K)])!=null?me=Q.charAt(++K):pe=me==="e"?" ":"0",(Ae=ee[me])&&(me=Ae(ue,pe)),J.push(me),re=K+1);return J.push(Q.slice(re,K)),J.join("")}}function M(Q,ee){return function(ue){var J=Gy(1900,void 0,1),K=T(J,Q,ue+="",0),re,fe;if(K!=ue.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(ee&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(re=CR(Gy(J.y,0,1)),fe=re.getUTCDay(),re=fe>4||fe===0?kC.ceil(re):kC(re),re=TT.offset(re,(J.V-1)*7),J.y=re.getUTCFullYear(),J.m=re.getUTCMonth(),J.d=re.getUTCDate()+(J.w+6)%7):(re=ER(Gy(J.y,0,1)),fe=re.getDay(),re=fe>4||fe===0?OC.ceil(re):OC(re),re=Pb.offset(re,(J.V-1)*7),J.y=re.getFullYear(),J.m=re.getMonth(),J.d=re.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),fe="Z"in J?CR(Gy(J.y,0,1)).getUTCDay():ER(Gy(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(fe+5)%7:J.w+J.U*7-(fe+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,CR(J)):ER(J)}}function T(Q,ee,ue,J){for(var K=0,re=ee.length,fe=ue.length,me,pe;K<re;){if(J>=fe)return-1;if(me=ee.charCodeAt(K++),me===37){if(me=ee.charAt(K++),pe=S[me in m8?ee.charAt(K++):me],!pe||(J=pe(Q,ue,J))<0)return-1}else if(me!=ue.charCodeAt(J++))return-1}return J}function P(Q,ee,ue){var J=c.exec(ee.slice(ue));return J?(Q.p=f.get(J[0].toLowerCase()),ue+J[0].length):-1}function N(Q,ee,ue){var J=g.exec(ee.slice(ue));return J?(Q.w=v.get(J[0].toLowerCase()),ue+J[0].length):-1}function k(Q,ee,ue){var J=d.exec(ee.slice(ue));return J?(Q.w=h.get(J[0].toLowerCase()),ue+J[0].length):-1}function D(Q,ee,ue){var J=p.exec(ee.slice(ue));return J?(Q.m=y.get(J[0].toLowerCase()),ue+J[0].length):-1}function j(Q,ee,ue){var J=x.exec(ee.slice(ue));return J?(Q.m=m.get(J[0].toLowerCase()),ue+J[0].length):-1}function F(Q,ee,ue){return T(Q,e,ee,ue)}function z(Q,ee,ue){return T(Q,n,ee,ue)}function U(Q,ee,ue){return T(Q,r,ee,ue)}function H(Q){return o[Q.getDay()]}function R(Q){return s[Q.getDay()]}function I(Q){return l[Q.getMonth()]}function B(Q){return a[Q.getMonth()]}function W(Q){return i[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function X(Q){return o[Q.getUTCDay()]}function ne(Q){return s[Q.getUTCDay()]}function ae(Q){return l[Q.getUTCMonth()]}function se(Q){return a[Q.getUTCMonth()]}function $(Q){return i[+(Q.getUTCHours()>=12)]}function Y(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var ee=C(Q+="",_);return ee.toString=function(){return Q},ee},parse:function(Q){var ee=M(Q+="",!1);return ee.toString=function(){return Q},ee},utcFormat:function(Q){var ee=C(Q+="",b);return ee.toString=function(){return Q},ee},utcParse:function(Q){var ee=M(Q+="",!0);return ee.toString=function(){return Q},ee}}}var m8={"-":"",_:" ",0:"0"},wi=/^\s*\d+/,x3e=/^%/,_3e=/[\\^$*+?|[\]().{}]/g;function On(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function b3e(t){return t.replace(_3e,"\\$&")}function qy(t){return new RegExp("^(?:"+t.map(b3e).join("|")+")","i")}function Xy(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function w3e(t,e,n){var r=wi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function S3e(t,e,n){var r=wi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function E3e(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function C3e(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function M3e(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function g8(t,e,n){var r=wi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function v8(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function A3e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function T3e(t,e,n){var r=wi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function P3e(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function y8(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function N3e(t,e,n){var r=wi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function x8(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function R3e(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function O3e(t,e,n){var r=wi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function k3e(t,e,n){var r=wi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function I3e(t,e,n){var r=wi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function D3e(t,e,n){var r=x3e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function j3e(t,e,n){var r=wi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function L3e(t,e,n){var r=wi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _8(t,e){return On(t.getDate(),e,2)}function F3e(t,e){return On(t.getHours(),e,2)}function B3e(t,e){return On(t.getHours()%12||12,e,2)}function z3e(t,e){return On(1+Pb.count(Bc(t),t),e,3)}function $J(t,e){return On(t.getMilliseconds(),e,3)}function U3e(t,e){return $J(t,e)+"000"}function $3e(t,e){return On(t.getMonth()+1,e,2)}function H3e(t,e){return On(t.getMinutes(),e,2)}function V3e(t,e){return On(t.getSeconds(),e,2)}function W3e(t){var e=t.getDay();return e===0?7:e}function G3e(t,e){return On(PT.count(Bc(t)-1,t),e,2)}function HJ(t){var e=t.getDay();return e>=4||e===0?Dg(t):Dg.ceil(t)}function q3e(t,e){return t=HJ(t),On(Dg.count(Bc(t),t)+(Bc(t).getDay()===4),e,2)}function X3e(t){return t.getDay()}function K3e(t,e){return On(OC.count(Bc(t)-1,t),e,2)}function Y3e(t,e){return On(t.getFullYear()%100,e,2)}function Z3e(t,e){return t=HJ(t),On(t.getFullYear()%100,e,2)}function Q3e(t,e){return On(t.getFullYear()%1e4,e,4)}function J3e(t,e){var n=t.getDay();return t=n>=4||n===0?Dg(t):Dg.ceil(t),On(t.getFullYear()%1e4,e,4)}function eFe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+On(e/60|0,"0",2)+On(e%60,"0",2)}function b8(t,e){return On(t.getUTCDate(),e,2)}function tFe(t,e){return On(t.getUTCHours(),e,2)}function nFe(t,e){return On(t.getUTCHours()%12||12,e,2)}function rFe(t,e){return On(1+TT.count(zc(t),t),e,3)}function VJ(t,e){return On(t.getUTCMilliseconds(),e,3)}function iFe(t,e){return VJ(t,e)+"000"}function sFe(t,e){return On(t.getUTCMonth()+1,e,2)}function oFe(t,e){return On(t.getUTCMinutes(),e,2)}function aFe(t,e){return On(t.getUTCSeconds(),e,2)}function lFe(t){var e=t.getUTCDay();return e===0?7:e}function cFe(t,e){return On(NT.count(zc(t)-1,t),e,2)}function WJ(t){var e=t.getUTCDay();return e>=4||e===0?jg(t):jg.ceil(t)}function uFe(t,e){return t=WJ(t),On(jg.count(zc(t),t)+(zc(t).getUTCDay()===4),e,2)}function dFe(t){return t.getUTCDay()}function fFe(t,e){return On(kC.count(zc(t)-1,t),e,2)}function hFe(t,e){return On(t.getUTCFullYear()%100,e,2)}function pFe(t,e){return t=WJ(t),On(t.getUTCFullYear()%100,e,2)}function mFe(t,e){return On(t.getUTCFullYear()%1e4,e,4)}function gFe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jg(t):jg.ceil(t),On(t.getUTCFullYear()%1e4,e,4)}function vFe(){return"+0000"}function w8(){return"%"}function S8(t){return+t}function E8(t){return Math.floor(+t/1e3)}var kp,GJ,qJ;yFe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yFe(t){return kp=y3e(t),GJ=kp.format,kp.parse,qJ=kp.utcFormat,kp.utcParse,kp}function xFe(t){return new Date(t)}function _Fe(t){return t instanceof Date?+t:+new Date(+t)}function VF(t,e,n,r,i,s,o,a,l,c){var f=NF(),d=f.invert,h=f.domain,g=c(".%L"),v=c(":%S"),x=c("%I:%M"),m=c("%I %p"),p=c("%a %d"),y=c("%b %d"),_=c("%B"),b=c("%Y");function S(C){return(l(C)<C?g:a(C)<C?v:o(C)<C?x:s(C)<C?m:r(C)<C?i(C)<C?p:y:n(C)<C?_:b)(C)}return f.invert=function(C){return new Date(d(C))},f.domain=function(C){return arguments.length?h(Array.from(C,_Fe)):h().map(xFe)},f.ticks=function(C){var M=h();return t(M[0],M[M.length-1],C??10)},f.tickFormat=function(C,M){return M==null?S:c(M)},f.nice=function(C){var M=h();return(!C||typeof C.range!="function")&&(C=e(M[0],M[M.length-1],C??10)),C?h(kJ(M,C)):f},f.copy=function(){return Tb(f,VF(t,e,n,r,i,s,o,a,l,c))},f}function bFe(){return ta.apply(VF(g3e,v3e,Bc,$F,PT,Pb,zF,FF,Bf,GJ).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function wFe(){return ta.apply(VF(p3e,m3e,zc,HF,NT,TT,UF,BF,Bf,qJ).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function RT(){var t=0,e=1,n,r,i,s,o=ds,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(o=d,c):o};function f(d){return function(h){var g,v;return arguments.length?([g,v]=h,o=d(g,v),c):[o(0),o(1)]}}return c.range=f(Pc),c.rangeRound=f(PF),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function Dd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function XJ(){var t=Id(RT()(ds));return t.copy=function(){return Dd(t,XJ())},tu.apply(t,arguments)}function KJ(){var t=kF(RT()).domain([1,10]);return t.copy=function(){return Dd(t,KJ()).base(t.base())},tu.apply(t,arguments)}function YJ(){var t=IF(RT());return t.copy=function(){return Dd(t,YJ()).constant(t.constant())},tu.apply(t,arguments)}function WF(){var t=DF(RT());return t.copy=function(){return Dd(t,WF()).exponent(t.exponent())},tu.apply(t,arguments)}function SFe(){return WF.apply(null,arguments).exponent(.5)}function ZJ(){var t=[],e=ds;function n(r){if(r!=null&&!isNaN(r=+r))return e((Mb(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(dd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>rLe(t,s/r))},n.copy=function(){return ZJ(e).domain(t)},tu.apply(n,arguments)}function OT(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=ds,f,d=!1,h;function g(x){return isNaN(x=+x)?h:(x=.5+((x=+f(x))-s)*(r*x<r*s?a:l),c(d?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,e,n]=x,i=f(t=+t),s=f(e=+e),o=f(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(x){return arguments.length?(d=!!x,g):d},g.interpolator=function(x){return arguments.length?(c=x,g):c};function v(x){return function(m){var p,y,_;return arguments.length?([p,y,_]=m,c=DLe(x,[p,y,_]),g):[c(0),c(.5),c(1)]}}return g.range=v(Pc),g.rangeRound=v(PF),g.unknown=function(x){return arguments.length?(h=x,g):h},function(x){return f=x,i=x(t),s=x(e),o=x(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function QJ(){var t=Id(OT()(ds));return t.copy=function(){return Dd(t,QJ())},tu.apply(t,arguments)}function JJ(){var t=kF(OT()).domain([.1,1,10]);return t.copy=function(){return Dd(t,JJ()).base(t.base())},tu.apply(t,arguments)}function eee(){var t=IF(OT());return t.copy=function(){return Dd(t,eee()).constant(t.constant())},tu.apply(t,arguments)}function GF(){var t=DF(OT());return t.copy=function(){return Dd(t,GF()).exponent(t.exponent())},tu.apply(t,arguments)}function EFe(){return GF.apply(null,arguments).exponent(.5)}const C8=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Xx,scaleDiverging:QJ,scaleDivergingLog:JJ,scaleDivergingPow:GF,scaleDivergingSqrt:EFe,scaleDivergingSymlog:eee,scaleIdentity:OJ,scaleImplicit:sD,scaleLinear:NC,scaleLog:IJ,scaleOrdinal:MF,scalePoint:K0,scalePow:jF,scaleQuantile:LJ,scaleQuantize:FJ,scaleRadial:jJ,scaleSequential:XJ,scaleSequentialLog:KJ,scaleSequentialPow:WF,scaleSequentialQuantile:ZJ,scaleSequentialSqrt:SFe,scaleSequentialSymlog:YJ,scaleSqrt:i3e,scaleSymlog:DJ,scaleThreshold:BJ,scaleTime:bFe,scaleUtc:wFe,tickFormat:RJ},Symbol.toStringTag,{value:"Module"}));var CFe=Lv;function MFe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!CFe(o):n(o,a)))var a=o,l=s}return l}var kT=MFe;function AFe(t,e){return t>e}var tee=AFe,TFe=kT,PFe=tee,NFe=Wv;function RFe(t){return t&&t.length?TFe(t,NFe,PFe):void 0}var OFe=RFe;const Ju=kn(OFe);function kFe(t,e){return t<e}var nee=kFe,IFe=kT,DFe=nee,jFe=Wv;function LFe(t){return t&&t.length?IFe(t,jFe,DFe):void 0}var FFe=LFe;const IT=kn(FFe);var BFe=oF,zFe=Ul,UFe=aJ,$Fe=Bs;function HFe(t,e){var n=$Fe(t)?BFe:UFe;return n(t,zFe(e))}var VFe=HFe,WFe=sJ,GFe=VFe;function qFe(t,e){return WFe(GFe(t,e),1)}var XFe=qFe;const KFe=kn(XFe);var YFe=bF;function ZFe(t,e){return YFe(t,e)}var QFe=ZFe;const Th=kn(QFe);var Gv=1e9,JFe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XF,hr=!0,Zo="[DecimalError] ",rh=Zo+"Invalid argument: ",qF=Zo+"Exponent out of range: ",qv=Math.floor,Mf=Math.pow,e4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,io,gi=1e7,or=7,ree=9007199254740991,IC=qv(ree/or),bt={};bt.absoluteValue=bt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};bt.comparedTo=bt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};bt.decimalPlaces=bt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*or;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};bt.dividedBy=bt.div=function(t){return Nc(this,new this.constructor(t))};bt.dividedToIntegerBy=bt.idiv=function(t){var e=this,n=e.constructor;return qn(Nc(e,new n(t),0,1),n.precision)};bt.equals=bt.eq=function(t){return!this.cmp(t)};bt.exponent=function(){return Zr(this)};bt.greaterThan=bt.gt=function(t){return this.cmp(t)>0};bt.greaterThanOrEqualTo=bt.gte=function(t){return this.cmp(t)>=0};bt.isInteger=bt.isint=function(){return this.e>this.d.length-2};bt.isNegative=bt.isneg=function(){return this.s<0};bt.isPositive=bt.ispos=function(){return this.s>0};bt.isZero=function(){return this.s===0};bt.lessThan=bt.lt=function(t){return this.cmp(t)<0};bt.lessThanOrEqualTo=bt.lte=function(t){return this.cmp(t)<1};bt.logarithm=bt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(io))throw Error(Zo+"NaN");if(n.s<1)throw Error(Zo+(n.s?"NaN":"-Infinity"));return n.eq(io)?new r(0):(hr=!1,e=Nc(Qx(n,s),Qx(t,s),s),hr=!0,qn(e,i))};bt.minus=bt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?oee(e,t):iee(e,(t.s=-t.s,t))};bt.modulo=bt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zo+"NaN");return n.s?(hr=!1,e=Nc(n,t,0,1).times(t),hr=!0,n.minus(e)):qn(new r(n),i)};bt.naturalExponential=bt.exp=function(){return see(this)};bt.naturalLogarithm=bt.ln=function(){return Qx(this)};bt.negated=bt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};bt.plus=bt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?iee(e,t):oee(e,(t.s=-t.s,t))};bt.precision=bt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(rh+t);if(e=Zr(i)+1,r=i.d.length-1,n=r*or+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};bt.squareRoot=bt.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(Zo+"NaN")}for(t=Zr(a),hr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=yl(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(Nc(a,s,o+2)).times(.5),yl(s.d).slice(0,o)===(e=yl(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(qn(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return hr=!0,qn(r,n)};bt.times=bt.mul=function(t){var e,n,r,i,s,o,a,l,c,f=this,d=f.constructor,h=f.d,g=(t=new d(t)).d;if(!f.s||!t.s)return new d(0);for(t.s*=f.s,n=f.e+t.e,l=h.length,c=g.length,l<c&&(s=h,h=g,g=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+g[r]*h[i-r-1]+e,s[i--]=a%gi|0,e=a/gi|0;s[i]=(s[i]+e)%gi|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,hr?qn(t,d.precision):t};bt.toDecimalPlaces=bt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Dl(t,0,Gv),e===void 0?e=r.rounding:Dl(e,0,8),qn(n,t+Zr(n)+1,e))};bt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ph(r,!0):(Dl(t,0,Gv),e===void 0?e=i.rounding:Dl(e,0,8),r=qn(new i(r),t+1,e),n=Ph(r,!0,t+1)),n};bt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Ph(i):(Dl(t,0,Gv),e===void 0?e=s.rounding:Dl(e,0,8),r=qn(new s(i),t+Zr(i)+1,e),n=Ph(r.abs(),!1,t+Zr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};bt.toInteger=bt.toint=function(){var t=this,e=t.constructor;return qn(new e(t),Zr(t)+1,e.rounding)};bt.toNumber=function(){return+this};bt.toPower=bt.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,f=+(t=new l(t));if(!t.s)return new l(io);if(a=new l(a),!a.s){if(t.s<1)throw Error(Zo+"Infinity");return a}if(a.eq(io))return a;if(r=l.precision,t.eq(io))return qn(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=f<0?-f:f)<=ree){for(i=new l(io),e=Math.ceil(r/or+4),hr=!1;n%2&&(i=i.times(a),A8(i.d,e)),n=qv(n/2),n!==0;)a=a.times(a),A8(a.d,e);return hr=!0,t.s<0?new l(io).div(i):qn(i,r)}}else if(s<0)throw Error(Zo+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,hr=!1,i=t.times(Qx(a,r+c)),hr=!0,i=see(i),i.s=s,i};bt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Zr(i),r=Ph(i,n<=s.toExpNeg||n>=s.toExpPos)):(Dl(t,1,Gv),e===void 0?e=s.rounding:Dl(e,0,8),i=qn(new s(i),t,e),n=Zr(i),r=Ph(i,t<=n||n<=s.toExpNeg,t)),r};bt.toSignificantDigits=bt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Dl(t,1,Gv),e===void 0?e=r.rounding:Dl(e,0,8)),qn(new r(n),t,e)};bt.toString=bt.valueOf=bt.val=bt.toJSON=bt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zr(t),n=t.constructor;return Ph(t,e<=n.toExpNeg||e>=n.toExpPos)};function iee(t,e){var n,r,i,s,o,a,l,c,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),hr?qn(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(d/or),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/gi|0,l[s]%=gi;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,hr?qn(e,d):e}function Dl(t,e,n){if(t!==~~t||t<e||t>n)throw Error(rh+t)}function yl(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=or-r.length,n&&(s+=Du(n)),s+=r;o=t[e],r=o+"",n=or-r.length,n&&(s+=Du(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Nc=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%gi|0,o=s/gi|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*gi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,f,d,h,g,v,x,m,p,y,_,b,S,C,M,T,P=r.constructor,N=r.s==i.s?1:-1,k=r.d,D=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Zo+"Division by zero");for(l=r.e-i.e,M=D.length,S=k.length,g=new P(N),v=g.d=[],c=0;D[c]==(k[c]||0);)++c;if(D[c]>(k[c]||0)&&--l,s==null?y=s=P.precision:o?y=s+(Zr(r)-Zr(i))+1:y=s,y<0)return new P(0);if(y=y/or+2|0,c=0,M==1)for(f=0,D=D[0],y++;(c<S||f)&&y--;c++)_=f*gi+(k[c]||0),v[c]=_/D|0,f=_%D|0;else{for(f=gi/(D[0]+1)|0,f>1&&(D=t(D,f),k=t(k,f),M=D.length,S=k.length),b=M,x=k.slice(0,M),m=x.length;m<M;)x[m++]=0;T=D.slice(),T.unshift(0),C=D[0],D[1]>=gi/2&&++C;do f=0,a=e(D,x,M,m),a<0?(p=x[0],M!=m&&(p=p*gi+(x[1]||0)),f=p/C|0,f>1?(f>=gi&&(f=gi-1),d=t(D,f),h=d.length,m=x.length,a=e(d,x,h,m),a==1&&(f--,n(d,M<h?T:D,h))):(f==0&&(a=f=1),d=D.slice()),h=d.length,h<m&&d.unshift(0),n(x,d,m),a==-1&&(m=x.length,a=e(D,x,M,m),a<1&&(f++,n(x,M<m?T:D,m))),m=x.length):a===0&&(f++,x=[0]),v[c++]=f,a&&x[0]?x[m++]=k[b]||0:(x=[k[b]],m=1);while((b++<S||x[0]!==void 0)&&y--)}return v[0]||v.shift(),g.e=l,qn(g,o?s+Zr(g)+1:s)}}();function see(t,e){var n,r,i,s,o,a,l=0,c=0,f=t.constructor,d=f.precision;if(Zr(t)>16)throw Error(qF+Zr(t));if(!t.s)return new f(io);for(e==null?(hr=!1,a=d):a=e,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(Mf(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new f(io),f.precision=a;;){if(i=qn(i.times(t),a),n=n.times(++l),o=s.plus(Nc(i,n,a)),yl(o.d).slice(0,a)===yl(s.d).slice(0,a)){for(;c--;)s=qn(s.times(s),a);return f.precision=d,e==null?(hr=!0,qn(s,d)):s}s=o}}function Zr(t){for(var e=t.e*or,n=t.d[0];n>=10;n/=10)e++;return e}function MR(t,e,n){if(e>t.LN10.sd())throw hr=!0,n&&(t.precision=n),Error(Zo+"LN10 precision limit exceeded");return qn(new t(t.LN10),e)}function Du(t){for(var e="";t--;)e+="0";return e}function Qx(t,e){var n,r,i,s,o,a,l,c,f,d=1,h=10,g=t,v=g.d,x=g.constructor,m=x.precision;if(g.s<1)throw Error(Zo+(g.s?"NaN":"-Infinity"));if(g.eq(io))return new x(0);if(e==null?(hr=!1,c=m):c=e,g.eq(10))return e==null&&(hr=!0),MR(x,c);if(c+=h,x.precision=c,n=yl(v),r=n.charAt(0),s=Zr(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=yl(g.d),r=n.charAt(0),d++;s=Zr(g),r>1?(g=new x("0."+n),s++):g=new x(r+"."+n.slice(1))}else return l=MR(x,c+2,m).times(s+""),g=Qx(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=m,e==null?(hr=!0,qn(g,m)):g;for(a=o=g=Nc(g.minus(io),g.plus(io),c),f=qn(g.times(g),c),i=3;;){if(o=qn(o.times(f),c),l=a.plus(Nc(o,new x(i),c)),yl(l.d).slice(0,c)===yl(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(MR(x,c+2,m).times(s+""))),a=Nc(a,new x(d),c),x.precision=m,e==null?(hr=!0,qn(a,m)):a;a=l,i+=2}}function M8(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=qv(n/or),t.d=[],r=(n+1)%or,n<0&&(r+=or),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=or;r<i;)t.d.push(+e.slice(r,r+=or));e=e.slice(r),r=or-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),hr&&(t.e>IC||t.e<-IC))throw Error(qF+n)}else t.s=0,t.e=0,t.d=[0];return t}function qn(t,e,n){var r,i,s,o,a,l,c,f,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=or,i=e,c=d[f=0];else{if(f=Math.ceil((r+1)/or),s=d.length,f>=s)return t;for(c=s=d[f],o=1;s>=10;s/=10)o++;r%=or,i=r-or+o}if(n!==void 0&&(s=Mf(10,o-i-1),a=c/s%10|0,l=e<0||d[f+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/Mf(10,o-i):0:d[f-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=Zr(t),d.length=1,e=e-s-1,d[0]=Mf(10,(or-e%or)%or),t.e=qv(-e/or)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=f,s=1,f--):(d.length=f+1,s=Mf(10,or-r),d[f]=i>0?(c/Mf(10,o-i)%Mf(10,i)|0)*s:0),l)for(;;)if(f==0){(d[0]+=s)==gi&&(d[0]=1,++t.e);break}else{if(d[f]+=s,d[f]!=gi)break;d[f--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(hr&&(t.e>IC||t.e<-IC))throw Error(qF+Zr(t));return t}function oee(t,e){var n,r,i,s,o,a,l,c,f,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),hr?qn(e,g):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(f=o<0,f?(n=l,o=-o,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(g/or),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=gi-1;--l[s],l[i]+=gi}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,hr?qn(e,g):e):new h(0)}function Ph(t,e,n){var r,i=Zr(t),s=yl(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Du(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Du(-i-1)+s,n&&(r=n-o)>0&&(s+=Du(r))):i>=o?(s+=Du(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Du(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Du(r))),t.s<0?"-"+s:s}function A8(t,e){if(t.length>e)return t.length=e,!0}function aee(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(rh+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return M8(o,s.toString())}else if(typeof s!="string")throw Error(rh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,e4e.test(s))M8(o,s);else throw Error(rh+s)}if(i.prototype=bt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=aee,i.config=i.set=t4e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function t4e(t){if(!t||typeof t!="object")throw Error(Zo+"Object expected");var e,n,r,i=["precision",1,Gv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(qv(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(rh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(rh+n+": "+r);return this}var XF=aee(JFe);io=new XF(1);const Vn=XF;function n4e(t){return o4e(t)||s4e(t)||i4e(t)||r4e()}function r4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i4e(t,e){if(t){if(typeof t=="string")return uD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return uD(t,e)}}function s4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function o4e(t){if(Array.isArray(t))return uD(t)}function uD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var a4e=function(e){return e},lee={"@@functional/placeholder":!0},cee=function(e){return e===lee},T8=function(e){return function n(){return arguments.length===0||arguments.length===1&&cee(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},l4e=function t(e,n){return e===1?n:T8(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==lee}).length;return o>=e?n.apply(void 0,i):t(e-o,T8(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var f=i.map(function(d){return cee(d)?l.shift():d});return n.apply(void 0,n4e(f).concat(l))}))})},DT=function(e){return l4e(e.length,e)},dD=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},c4e=DT(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),u4e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return a4e;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},fD=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},uee=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function d4e(t){var e;return t===0?e=1:e=Math.floor(new Vn(t).abs().log(10).toNumber())+1,e}function f4e(t,e,n){for(var r=new Vn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var h4e=DT(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),p4e=DT(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),m4e=DT(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const jT={rangeStep:f4e,getDigitCount:d4e,interpolateNumber:h4e,uninterpolateNumber:p4e,uninterpolateTruncation:m4e};function hD(t){return y4e(t)||v4e(t)||dee(t)||g4e()}function g4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function y4e(t){if(Array.isArray(t))return pD(t)}function Jx(t,e){return b4e(t)||_4e(t,e)||dee(t,e)||x4e()}function x4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dee(t,e){if(t){if(typeof t=="string")return pD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pD(t,e)}}function pD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _4e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function b4e(t){if(Array.isArray(t))return t}function fee(t){var e=Jx(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function hee(t,e,n){if(t.lte(0))return new Vn(0);var r=jT.getDigitCount(t.toNumber()),i=new Vn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new Vn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new Vn(Math.ceil(l))}function w4e(t,e,n){var r=1,i=new Vn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Vn(10).pow(jT.getDigitCount(t)-1),i=new Vn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Vn(Math.floor(t)))}else t===0?i=new Vn(Math.floor((e-1)/2)):n||(i=new Vn(Math.floor(t)));var o=Math.floor((e-1)/2),a=u4e(c4e(function(l){return i.add(new Vn(l-o).mul(r)).toNumber()}),dD);return a(0,e)}function pee(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Vn(0),tickMin:new Vn(0),tickMax:new Vn(0)};var s=hee(new Vn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Vn(0):(o=new Vn(t).add(e).div(2),o=o.sub(new Vn(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new Vn(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?pee(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new Vn(a).mul(s)),tickMax:o.add(new Vn(l).mul(s))})}function S4e(t){var e=Jx(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=fee([n,r]),l=Jx(a,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(hD(dD(0,i-1).map(function(){return 1/0}))):[].concat(hD(dD(0,i-1).map(function(){return-1/0})),[f]);return n>r?fD(d):d}if(c===f)return w4e(c,i,s);var h=pee(c,f,o,s),g=h.step,v=h.tickMin,x=h.tickMax,m=jT.rangeStep(v,x.add(new Vn(.1).mul(g)),g);return n>r?fD(m):m}function E4e(t,e){var n=Jx(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=fee([r,i]),a=Jx(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(e,2),d=hee(new Vn(c).sub(l).div(f-1),s,0),h=[].concat(hD(jT.rangeStep(new Vn(l),new Vn(c).sub(new Vn(.99).mul(d)),d)),[c]);return r>i?fD(h):h}var C4e=uee(S4e),M4e=uee(E4e),A4e="Invariant failed";function Nh(t,e){throw new Error(A4e)}var T4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Lg(t){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(t)}function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DC.apply(this,arguments)}function P4e(t,e){return k4e(t)||O4e(t,e)||R4e(t,e)||N4e()}function N4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R4e(t,e){if(t){if(typeof t=="string")return P8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P8(t,e)}}function P8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O4e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function k4e(t){if(Array.isArray(t))return t}function I4e(t,e){if(t==null)return{};var n=D4e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function D4e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function j4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L4e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vee(r.key),r)}}function F4e(t,e,n){return e&&L4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function B4e(t,e,n){return e=jC(e),z4e(t,mee()?Reflect.construct(e,n||[],jC(t).constructor):e.apply(t,n))}function z4e(t,e){if(e&&(Lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U4e(t)}function U4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mee=function(){return!!t})()}function jC(t){return jC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jC(t)}function $4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mD(t,e)}function mD(t,e){return mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},mD(t,e)}function gee(t,e,n){return e=vee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vee(t){var e=H4e(t,"string");return Lg(e)=="symbol"?e:e+""}function H4e(t,e){if(Lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nb=function(t){function e(){return j4e(this,e),B4e(this,e,arguments)}return $4e(e,t),F4e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,f=r.xAxis,d=r.yAxis,h=I4e(r,T4e),g=Rt(h,!1);this.props.direction==="x"&&f.type!=="number"&&Nh();var v=l.map(function(x){var m=c(x,a),p=m.x,y=m.y,_=m.value,b=m.errorVal;if(!b)return null;var S=[],C,M;if(Array.isArray(b)){var T=P4e(b,2);C=T[0],M=T[1]}else C=M=b;if(s==="vertical"){var P=f.scale,N=y+i,k=N+o,D=N-o,j=P(_-C),F=P(_+M);S.push({x1:F,y1:k,x2:F,y2:D}),S.push({x1:j,y1:N,x2:F,y2:N}),S.push({x1:j,y1:k,x2:j,y2:D})}else if(s==="horizontal"){var z=d.scale,U=p+i,H=U-o,R=U+o,I=z(_-C),B=z(_+M);S.push({x1:H,y1:B,x2:R,y2:B}),S.push({x1:U,y1:I,x2:U,y2:B}),S.push({x1:H,y1:I,x2:R,y2:I})}return te.createElement(mn,DC({className:"recharts-errorBar",key:"bar-".concat(S.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),S.map(function(W){return te.createElement("line",DC({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return te.createElement(mn,{className:"recharts-errorBars"},v)}}])}(te.Component);gee(Nb,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});gee(Nb,"displayName","ErrorBar");function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}function N8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N8(Object(n),!0).forEach(function(r){V4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function V4e(t,e,n){return e=W4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W4e(t){var e=G4e(t,"string");return e_(e)=="symbol"?e:e+""}function G4e(t,e){if(e_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(e_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yee=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=to(n,th);if(!o)return null;var a=th.defaultProps,l=a!==void 0?tf(tf({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(f,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return f.concat(v.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(f){var d=f.item,h=d.type.defaultProps,g=h!==void 0?tf(tf({},h),d.props):{},v=g.dataKey,x=g.name,m=g.legendType,p=g.hide;return{inactive:p,dataKey:v,type:l.iconType||m||"square",color:KF(d),value:x||v,payload:g}}),tf(tf(tf({},l),th.getWithHeight(o,i)),{},{payload:c,item:o})};function t_(t){"@babel/helpers - typeof";return t_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(t)}function R8(t){return Y4e(t)||K4e(t)||X4e(t)||q4e()}function q4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X4e(t,e){if(t){if(typeof t=="string")return gD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gD(t,e)}}function K4e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y4e(t){if(Array.isArray(t))return gD(t)}function gD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function O8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O8(Object(n),!0).forEach(function(r){Jm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jm(t,e,n){return e=Z4e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Z4e(t){var e=Q4e(t,"string");return t_(e)=="symbol"?e:e+""}function Q4e(t,e){if(t_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(t_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Br(t,e,n){return Zt(t)||Zt(e)?n:oi(e)?uo(t,e,n):Wt(e)?e(t):n}function Y0(t,e,n,r){var i=KFe(t,function(a){return Br(a,e)});if(n==="number"){var s=i.filter(function(a){return rt(a)||parseFloat(a)});return s.length?[IT(s),Ju(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!Zt(a)}):i;return o.map(function(a){return oi(a)||a instanceof Date?a:""})}var J4e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var f=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(cs(d-f)!==cs(h-d)){var v=[];if(cs(h-d)===cs(l[1]-l[0])){g=h;var x=d+l[1]-l[0];v[0]=Math.min(x,(x+f)/2),v[1]=Math.max(x,(x+f)/2)}else{g=f;var m=h+l[1]-l[0];v[0]=Math.min(d,(m+d)/2),v[1]=Math.max(d,(m+d)/2)}var p=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>p[0]&&e<=p[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var y=Math.min(f,h),_=Math.max(f,h);if(e>(y+d)/2&&e<=(_+d)/2){o=i[c].index;break}}}else for(var b=0;b<a;b++)if(b===0&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o},KF=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?kr(kr({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},eBe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var f=s[a[l]].stackGroups,d=Object.keys(f),h=0,g=d.length;h<g;h++){var v=f[d[h]],x=v.items,m=v.cateAxisId,p=x.filter(function(M){return Tc(M.type).indexOf("Bar")>=0});if(p&&p.length){var y=p[0].type.defaultProps,_=y!==void 0?kr(kr({},y),p[0].props):p[0].props,b=_.barSize,S=_[m];o[S]||(o[S]=[]);var C=Zt(b)?n:b;o[S].push({item:p[0],stackList:p.slice(1),barSize:Zt(C)?void 0:us(C,r,0)})}}return o},tBe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=us(n,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=i/l,v=o.reduce(function(b,S){return b+S.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var x=(i-v)/2>>0,m={offset:x-c,size:0};f=o.reduce(function(b,S){var C={item:S.item,position:{offset:m.offset+m.size+c,size:h?g:S.barSize}},M=[].concat(R8(b),[C]);return m=M[M.length-1].position,S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){M.push({item:T,position:m})}),M},d)}else{var p=us(r,i,0,!0);i-2*p-(l-1)*c<=0&&(c=0);var y=(i-2*p-(l-1)*c)/l;y>1&&(y>>=0);var _=a===+a?Math.min(y,a):y;f=o.reduce(function(b,S,C){var M=[].concat(R8(b),[{item:S.item,position:{offset:p+(y+c)*C+(y-_)/2,size:_}}]);return S.stackList&&S.stackList.length&&S.stackList.forEach(function(T){M.push({item:T,position:M[M.length-1].position})}),M},d)}return f},nBe=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=yee({children:s,legendWidth:l});if(c){var f=i||{},d=f.width,h=f.height,g=c.align,v=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&g!=="center"&&rt(e[g]))return kr(kr({},e),{},Jm({},g,e[g]+(d||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&v!=="middle"&&rt(e[v]))return kr(kr({},e),{},Jm({},v,e[v]+(h||0)))}return e},rBe=function(e,n,r){return Zt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},xee=function(e,n,r,i,s){var o=n.props.children,a=fo(o,Nb).filter(function(c){return rBe(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,f){var d=Br(f,r);if(Zt(d))return c;var h=Array.isArray(d)?[IT(d),Ju(d)]:[d,d],g=l.reduce(function(v,x){var m=Br(f,x,0),p=h[0]-Math.abs(Array.isArray(m)?m[0]:m),y=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(p,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},iBe=function(e,n,r,i,s){var o=n.map(function(a){return xee(e,a,r,s,i)}).filter(function(a){return!Zt(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},_ee=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&xee(e,l,c,i)||Y0(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)a[c[f]]||(a[c[f]]=!0,l.push(c[f]));return l},[])},bee=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},wee=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},Cc=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?cs(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return f.filter(function(d){return!$v(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:s?s[d]:d,index:h,offset:c}})},AR=new WeakMap,F1=function(e,n){if(typeof n!="function")return e;AR.has(e)||AR.set(e,new WeakMap);var r=AR.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},See=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:Xx(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:NC(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:K0(),realScaleType:"point"}:s==="category"?{scale:Xx(),realScaleType:"band"}:{scale:NC(),realScaleType:"linear"};if(Eb(i)){var l="scale".concat(xT(i));return{scale:(C8[l]||K0)(),realScaleType:C8[l]?l:"point"}}return Wt(i)?{scale:i}:{scale:K0(),realScaleType:"point"}},k8=1e-4,Eee=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-k8,o=Math.max(i[0],i[1])+k8,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},sBe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},oBe=function(e,n){if(!n||n.length!==2||!rt(n[0])||!rt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!rt(e[0])||e[0]<r)&&(s[0]=r),(!rt(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},aBe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=$v(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},lBe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=$v(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},cBe={sign:aBe,expand:wTe,none:Pg,silhouette:STe,wiggle:ETe,positive:lBe},uBe=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=cBe[r],o=bTe().keys(i).value(function(a,l){return+Br(a,l,0)}).order(zI).offset(s);return o(e)},dBe=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?kr(kr({},h.type.defaultProps),h.props):h.props,x=v.stackId,m=v.hide;if(m)return d;var p=v[r],y=d[p]||{hasStack:!1,stackGroups:{}};if(oi(x)){var _=y.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),y.hasStack=!0,y.stackGroups[x]=_}else y.stackGroups[Kh("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return kr(kr({},d),{},Jm({},p,y))},l),f={};return Object.keys(c).reduce(function(d,h){var g=c[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,m){var p=g.stackGroups[m];return kr(kr({},x),{},Jm({},m,{numericAxisId:r,cateAxisId:i,items:p.items,stackedData:uBe(e,p.items,s)}))},v)}return kr(kr({},d),{},Jm({},h,g))},f)},Cee=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var f=C4e(c,s,a);return e.domain([IT(f),Ju(f)]),{niceTicks:f}}if(s&&i==="number"){var d=e.domain(),h=M4e(d,s,a);return{niceTicks:h}}return null};function LC(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Zt(i[e.dataKey])){var a=cC(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Br(i,Zt(o)?e.dataKey:o);return Zt(l)?null:e.scale(l)}var I8=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=Br(o,n.dataKey,n.domain[a]);return Zt(l)?null:n.scale(l)-s/2+i},fBe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},hBe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?kr(kr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(oi(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},pBe=function(e){return e.reduce(function(n,r){return[IT(r.concat([n[0]]).filter(rt)),Ju(r.concat([n[1]]).filter(rt))]},[1/0,-1/0])},Mee=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,f){var d=pBe(f.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},D8=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,j8=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vD=function(e,n,r){if(Wt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(rt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(D8.test(e[0])){var s=+D8.exec(e[0])[1];i[0]=n[0]-s}else Wt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(rt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(j8.test(e[1])){var o=+j8.exec(e[1])[1];i[1]=n[1]+o}else Wt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},FC=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=SF(n,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],f=s[a-1];o=Math.min((c.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},L8=function(e,n,r){return!e||!e.length||Th(e,uo(r,"type.defaultProps.domain"))?n:e},Aee=function(e,n){var r=e.type.defaultProps?kr(kr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,f=r.hide;return kr(kr({},Rt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:KF(e),value:Br(n,i),type:l,payload:n,chartType:c,hide:f})};function n_(t){"@babel/helpers - typeof";return n_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n_(t)}function F8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(n),!0).forEach(function(r){Tee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tee(t,e,n){return e=mBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mBe(t){var e=gBe(t,"string");return n_(e)=="symbol"?e:e+""}function gBe(t,e){if(n_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(n_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vBe(t,e){return bBe(t)||_Be(t,e)||xBe(t,e)||yBe()}function yBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xBe(t,e){if(t){if(typeof t=="string")return B8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B8(t,e)}}function B8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _Be(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function bBe(t){if(Array.isArray(t))return t}var BC=Math.PI/180,wBe=function(e){return e*180/Math.PI},Jn=function(e,n,r,i){return{x:e+Math.cos(-BC*i)*r,y:n+Math.sin(-BC*i)*r}},Pee=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},SBe=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,f=us(e.cx,o,o/2),d=us(e.cy,a,a/2),h=Pee(o,a,r),g=us(e.innerRadius,h,0),v=us(e.outerRadius,h,h*.8),x=Object.keys(n);return x.reduce(function(m,p){var y=n[p],_=y.domain,b=y.reversed,S;if(Zt(y.range))i==="angleAxis"?S=[l,c]:i==="radiusAxis"&&(S=[g,v]),b&&(S=[S[1],S[0]]);else{S=y.range;var C=S,M=vBe(C,2);l=M[0],c=M[1]}var T=See(y,s),P=T.realScaleType,N=T.scale;N.domain(_).range(S),Eee(N);var k=Cee(N,mc(mc({},y),{},{realScaleType:P})),D=mc(mc(mc({},y),k),{},{range:S,radius:v,realScaleType:P,scale:N,cx:f,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:c});return mc(mc({},m),{},Tee({},p,D))},{})},EBe=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},CBe=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=EBe({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:wBe(c),angleInRadian:c}},MBe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},ABe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},z8=function(e,n){var r=e.x,i=e.y,s=CBe({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var f=MBe(n),d=f.startAngle,h=f.endAngle,g=a,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?mc(mc({},n),{},{radius:o,angle:ABe(g,n)}):null},Nee=function(e){return!A.isValidElement(e)&&!Wt(e)&&typeof e!="boolean"?e.className:""};function r_(t){"@babel/helpers - typeof";return r_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r_(t)}var TBe=["offset"];function PBe(t){return kBe(t)||OBe(t)||RBe(t)||NBe()}function NBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RBe(t,e){if(t){if(typeof t=="string")return yD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yD(t,e)}}function OBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kBe(t){if(Array.isArray(t))return yD(t)}function yD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IBe(t,e){if(t==null)return{};var n=DBe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DBe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function U8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U8(Object(n),!0).forEach(function(r){jBe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jBe(t,e,n){return e=LBe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LBe(t){var e=FBe(t,"string");return r_(e)=="symbol"?e:e+""}function FBe(t,e){if(r_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(r_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i_(){return i_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i_.apply(this,arguments)}var BBe=function(e){var n=e.value,r=e.formatter,i=Zt(e.children)?n:e.children;return Wt(r)?r(i):i},zBe=function(e,n){var r=cs(n-e),i=Math.min(Math.abs(n-e),360);return r*i},UBe=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,x=l.clockWise,m=(d+h)/2,p=zBe(g,v),y=p>=0?1:-1,_,b;i==="insideStart"?(_=g+y*o,b=x):i==="insideEnd"?(_=v-y*o,b=!x):i==="end"&&(_=v+y*o,b=x),b=p<=0?b:!b;var S=Jn(c,f,m,_),C=Jn(c,f,m,_+(b?1:-1)*359),M="M".concat(S.x,",").concat(S.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(C.x,",").concat(C.y),T=Zt(e.id)?Kh("recharts-radial-line-"):e.id;return te.createElement("text",i_({},r,{dominantBaseline:"central",className:en("recharts-radial-bar-label",a)}),te.createElement("defs",null,te.createElement("path",{id:T,d:M})),te.createElement("textPath",{xlinkHref:"#".concat(T)},n))},$Be=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,f=s.startAngle,d=s.endAngle,h=(f+d)/2;if(i==="outside"){var g=Jn(o,a,c+r,h),v=g.x,x=g.y;return{x:v,y:x,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(l+c)/2,p=Jn(o,a,m,h),y=p.x,_=p.y;return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},HBe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,f=o.height,d=f>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",x=c>=0?1:-1,m=x*i,p=x>0?"end":"start",y=x>0?"start":"end";if(s==="top"){var _={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return ei(ei({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var b={x:a+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:v};return ei(ei({},b),r?{height:Math.max(r.y+r.height-(l+f),0),width:c}:{})}if(s==="left"){var S={x:a-m,y:l+f/2,textAnchor:p,verticalAnchor:"middle"};return ei(ei({},S),r?{width:Math.max(S.x-r.x,0),height:f}:{})}if(s==="right"){var C={x:a+c+m,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return ei(ei({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:f}:{})}var M=r?{width:c,height:f}:{};return s==="insideLeft"?ei({x:a+m,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},M):s==="insideRight"?ei({x:a+c-m,y:l+f/2,textAnchor:p,verticalAnchor:"middle"},M):s==="insideTop"?ei({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},M):s==="insideBottom"?ei({x:a+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:g},M):s==="insideTopLeft"?ei({x:a+m,y:l+h,textAnchor:y,verticalAnchor:v},M):s==="insideTopRight"?ei({x:a+c-m,y:l+h,textAnchor:p,verticalAnchor:v},M):s==="insideBottomLeft"?ei({x:a+m,y:l+f-h,textAnchor:y,verticalAnchor:g},M):s==="insideBottomRight"?ei({x:a+c-m,y:l+f-h,textAnchor:p,verticalAnchor:g},M):Fv(s)&&(rt(s.x)||Lf(s.x))&&(rt(s.y)||Lf(s.y))?ei({x:a+us(s.x,c),y:l+us(s.y,f),textAnchor:"end",verticalAnchor:"end"},M):ei({x:a+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},M)},VBe=function(e){return"cx"in e&&rt(e.cx)};function xi(t){var e=t.offset,n=e===void 0?5:e,r=IBe(t,TBe),i=ei({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!s||Zt(a)&&Zt(l)&&!A.isValidElement(c)&&!Wt(c))return null;if(A.isValidElement(c))return A.cloneElement(c,i);var g;if(Wt(c)){if(g=A.createElement(c,i),A.isValidElement(g))return g}else g=BBe(i);var v=VBe(s),x=Rt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return UBe(i,g,x);var m=v?$Be(i):HBe(i);return te.createElement(Mh,i_({className:en("recharts-label",d)},x,m,{breakAll:h}),g)}xi.displayName="Label";var Ree=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,f=e.outerRadius,d=e.x,h=e.y,g=e.top,v=e.left,x=e.width,m=e.height,p=e.clockWise,y=e.labelViewBox;if(y)return y;if(rt(x)&&rt(m)){if(rt(d)&&rt(h))return{x:d,y:h,width:x,height:m};if(rt(g)&&rt(v))return{x:g,y:v,width:x,height:m}}return rt(d)&&rt(h)?{x:d,y:h,width:0,height:0}:rt(n)&&rt(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:f||l||a||0,clockWise:p}:e.viewBox?e.viewBox:{}},WBe=function(e,n){return e?e===!0?te.createElement(xi,{key:"label-implicit",viewBox:n}):oi(e)?te.createElement(xi,{key:"label-implicit",viewBox:n,value:e}):A.isValidElement(e)?e.type===xi?A.cloneElement(e,{key:"label-implicit",viewBox:n}):te.createElement(xi,{key:"label-implicit",content:e,viewBox:n}):Wt(e)?te.createElement(xi,{key:"label-implicit",content:e,viewBox:n}):Fv(e)?te.createElement(xi,i_({viewBox:n},e,{key:"label-implicit"})):null:null},GBe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=Ree(e),o=fo(i,xi).map(function(l,c){return A.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=WBe(e.label,n||s);return[a].concat(PBe(o))};xi.parseViewBox=Ree;xi.renderCallByParent=GBe;function qBe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var XBe=qBe;const KBe=kn(XBe);function s_(t){"@babel/helpers - typeof";return s_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s_(t)}var YBe=["valueAccessor"],ZBe=["data","dataKey","clockWise","id","textBreakAll"];function QBe(t){return n5e(t)||t5e(t)||e5e(t)||JBe()}function JBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5e(t,e){if(t){if(typeof t=="string")return xD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xD(t,e)}}function t5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function n5e(t){if(Array.isArray(t))return xD(t)}function xD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zC(){return zC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zC.apply(this,arguments)}function $8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$8(Object(n),!0).forEach(function(r){r5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r5e(t,e,n){return e=i5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i5e(t){var e=s5e(t,"string");return s_(e)=="symbol"?e:e+""}function s5e(t,e){if(s_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(s_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V8(t,e){if(t==null)return{};var n=o5e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function o5e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var a5e=function(e){return Array.isArray(e.value)?KBe(e.value):e.value};function Al(t){var e=t.valueAccessor,n=e===void 0?a5e:e,r=V8(t,YBe),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=V8(r,ZBe);return!i||!i.length?null:te.createElement(mn,{className:"recharts-label-list"},i.map(function(f,d){var h=Zt(s)?n(f,d):Br(f&&f.payload,s),g=Zt(a)?{}:{id:"".concat(a,"-").concat(d)};return te.createElement(xi,zC({},Rt(f,!0),c,g,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:xi.parseViewBox(Zt(o)?f:H8(H8({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Al.displayName="LabelList";function l5e(t,e){return t?t===!0?te.createElement(Al,{key:"labelList-implicit",data:e}):te.isValidElement(t)||Wt(t)?te.createElement(Al,{key:"labelList-implicit",data:e,content:t}):Fv(t)?te.createElement(Al,zC({data:e},t,{key:"labelList-implicit"})):null:null}function c5e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=fo(r,Al).map(function(o,a){return A.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=l5e(t.label,e);return[s].concat(QBe(i))}Al.renderCallByParent=c5e;function o_(t){"@babel/helpers - typeof";return o_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o_(t)}function _D(){return _D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_D.apply(this,arguments)}function W8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W8(Object(n),!0).forEach(function(r){u5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function u5e(t,e,n){return e=d5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d5e(t){var e=f5e(t,"string");return o_(e)=="symbol"?e:e+""}function f5e(t,e){if(o_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(o_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h5e=function(e,n){var r=cs(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},B1=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,f=l*(a?1:-1)+i,d=Math.asin(l/f)/BC,h=c?s:s+o*d,g=Jn(n,r,f,h),v=Jn(n,r,i,h),x=c?s-o*d:s,m=Jn(n,r,f*Math.cos(d*BC),x);return{center:g,circleTangency:v,lineTangency:m,theta:d}},Oee=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=h5e(o,a),c=o+l,f=Jn(n,r,s,o),d=Jn(n,r,s,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=Jn(n,r,i,o),v=Jn(n,r,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},p5e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,f=e.endAngle,d=cs(f-c),h=B1({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,x=h.theta,m=B1({cx:n,cy:r,radius:s,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),p=m.circleTangency,y=m.lineTangency,_=m.theta,b=l?Math.abs(c-f):Math.abs(c-f)-x-_;if(b<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Oee({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:f});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var C=B1({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),M=C.circleTangency,T=C.lineTangency,P=C.theta,N=B1({cx:n,cy:r,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),k=N.circleTangency,D=N.lineTangency,j=N.theta,F=l?Math.abs(c-f):Math.abs(c-f)-P-j;if(F<0&&o===0)return"".concat(S,"L").concat(n,",").concat(r,"Z");S+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else S+="L".concat(n,",").concat(r,"Z");return S},m5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kee=function(e){var n=G8(G8({},m5e),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,f=n.startAngle,d=n.endAngle,h=n.className;if(o<s||f===d)return null;var g=en("recharts-sector",h),v=o-s,x=us(a,v,0,!0),m;return x>0&&Math.abs(f-d)<360?m=p5e({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):m=Oee({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:d}),te.createElement("path",_D({},Rt(n,!0),{className:g,d:m,role:"img"}))};function a_(t){"@babel/helpers - typeof";return a_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a_(t)}function bD(){return bD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bD.apply(this,arguments)}function q8(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X8(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(n),!0).forEach(function(r){g5e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q8(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function g5e(t,e,n){return e=v5e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v5e(t){var e=y5e(t,"string");return a_(e)=="symbol"?e:e+""}function y5e(t,e){if(a_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(a_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K8={curveBasisClosed:uTe,curveBasisOpen:dTe,curveBasis:cTe,curveBumpX:KAe,curveBumpY:YAe,curveLinearClosed:fTe,curveLinear:bT,curveMonotoneX:hTe,curveMonotoneY:pTe,curveNatural:mTe,curveStep:gTe,curveStepAfter:yTe,curveStepBefore:vTe},z1=function(e){return e.x===+e.x&&e.y===+e.y},Ky=function(e){return e.x},Yy=function(e){return e.y},x5e=function(e,n){if(Wt(e))return e;var r="curve".concat(xT(e));return(r==="curveMonotone"||r==="curveBump")&&n?K8["".concat(r).concat(n==="vertical"?"Y":"X")]:K8[r]||bT},_5e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,f=x5e(r,a),d=c?s.filter(function(x){return z1(x)}):s,h;if(Array.isArray(o)){var g=c?o.filter(function(x){return z1(x)}):o,v=d.map(function(x,m){return X8(X8({},x),{},{base:g[m]})});return a==="vertical"?h=P1().y(Yy).x1(Ky).x0(function(x){return x.base.x}):h=P1().x(Ky).y1(Yy).y0(function(x){return x.base.y}),h.defined(z1).curve(f),h(v)}return a==="vertical"&&rt(o)?h=P1().y(Yy).x1(Ky).x0(o):rt(o)?h=P1().x(Ky).y1(Yy).y0(o):h=EQ().x(Ky).y(Yy),h.defined(z1).curve(f),h(d)},ih=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?_5e(e):i;return te.createElement("path",bD({},Rt(e,!1),uC(e),{className:en("recharts-curve",n),d:o,ref:s}))},Iee={exports:{}},b5e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",w5e=b5e,S5e=w5e;function Dee(){}function jee(){}jee.resetWarningCache=Dee;var E5e=function(){function t(r,i,s,o,a,l){if(l!==S5e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jee,resetWarningCache:Dee};return n.PropTypes=n,n};Iee.exports=E5e();var C5e=Iee.exports;const jn=kn(C5e);var M5e=Object.getOwnPropertyNames,A5e=Object.getOwnPropertySymbols,T5e=Object.prototype.hasOwnProperty;function Y8(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function U1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function Z8(t){return M5e(t).concat(A5e(t))}var P5e=Object.hasOwn||function(t,e){return T5e.call(t,e)};function Qh(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var N5e="__v",R5e="__o",O5e="_owner",Q8=Object.getOwnPropertyDescriptor,J8=Object.keys;function k5e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function I5e(t,e){return Qh(t.getTime(),e.getTime())}function D5e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function j5e(t,e){return t===e}function eV(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),f=!1,d=0;(a=c.next())&&!a.done;){if(i[d]){d++;continue}var h=o.value,g=a.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}var L5e=Qh;function F5e(t,e,n){var r=J8(t),i=r.length;if(J8(e).length!==i)return!1;for(;i-- >0;)if(!Lee(t,e,n,r[i]))return!1;return!0}function Zy(t,e,n){var r=Z8(t),i=r.length;if(Z8(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!Lee(t,e,n,s)||(o=Q8(t,s),a=Q8(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function B5e(t,e){return Qh(t.valueOf(),e.valueOf())}function z5e(t,e){return t.source===e.source&&t.flags===e.flags}function tV(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,f=0;(a=l.next())&&!a.done;){if(!i[f]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1}return!0}function U5e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function $5e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Lee(t,e,n,r){return(r===O5e||r===R5e||r===N5e)&&(t.$$typeof||e.$$typeof)?!0:P5e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var H5e="[object Arguments]",V5e="[object Boolean]",W5e="[object Date]",G5e="[object Error]",q5e="[object Map]",X5e="[object Number]",K5e="[object Object]",Y5e="[object RegExp]",Z5e="[object Set]",Q5e="[object String]",J5e="[object URL]",eze=Array.isArray,nV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,rV=Object.assign,tze=Object.prototype.toString.call.bind(Object.prototype.toString);function nze(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,f=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,x,m){if(v===x)return!0;if(v==null||x==null)return!1;var p=typeof v;if(p!==typeof x)return!1;if(p!=="object")return p==="number"?o(v,x,m):p==="function"?i(v,x,m):!1;var y=v.constructor;if(y!==x.constructor)return!1;if(y===Object)return a(v,x,m);if(eze(v))return e(v,x,m);if(nV!=null&&nV(v))return d(v,x,m);if(y===Date)return n(v,x,m);if(y===RegExp)return c(v,x,m);if(y===Map)return s(v,x,m);if(y===Set)return f(v,x,m);var _=tze(v);return _===W5e?n(v,x,m):_===Y5e?c(v,x,m):_===q5e?s(v,x,m):_===Z5e?f(v,x,m):_===K5e?typeof v.then!="function"&&typeof x.then!="function"&&a(v,x,m):_===J5e?h(v,x,m):_===G5e?r(v,x,m):_===H5e?a(v,x,m):_===V5e||_===X5e||_===Q5e?l(v,x,m):!1}}function rze(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Zy:k5e,areDatesEqual:I5e,areErrorsEqual:D5e,areFunctionsEqual:j5e,areMapsEqual:r?Y8(eV,Zy):eV,areNumbersEqual:L5e,areObjectsEqual:r?Zy:F5e,arePrimitiveWrappersEqual:B5e,areRegExpsEqual:z5e,areSetsEqual:r?Y8(tV,Zy):tV,areTypedArraysEqual:r?Zy:U5e,areUrlsEqual:$5e};if(n&&(i=rV({},i,n(i))),e){var s=U1(i.areArraysEqual),o=U1(i.areMapsEqual),a=U1(i.areObjectsEqual),l=U1(i.areSetsEqual);i=rV({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function ize(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function sze(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var f=r(),d=f.cache,h=d===void 0?e?new WeakMap:void 0:d,g=f.meta;return n(l,c,{cache:h,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var oze=jd();jd({strict:!0});jd({circular:!0});jd({circular:!0,strict:!0});jd({createInternalComparator:function(){return Qh}});jd({strict:!0,createInternalComparator:function(){return Qh}});jd({circular:!0,createInternalComparator:function(){return Qh}});jd({circular:!0,createInternalComparator:function(){return Qh},strict:!0});function jd(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=rze(t),l=nze(a),c=r?r(l):ize(l);return sze({circular:n,comparator:l,createState:i,equals:c,strict:o})}function aze(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function iV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):aze(i)};requestAnimationFrame(r)}function wD(t){"@babel/helpers - typeof";return wD=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wD(t)}function lze(t){return fze(t)||dze(t)||uze(t)||cze()}function cze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uze(t,e){if(t){if(typeof t=="string")return sV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sV(t,e)}}function sV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fze(t){if(Array.isArray(t))return t}function hze(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=lze(o),l=a[0],c=a.slice(1);if(typeof l=="number"){iV(i.bind(null,c),l);return}i(l),iV(i.bind(null,c));return}wD(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function l_(t){"@babel/helpers - typeof";return l_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l_(t)}function oV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(n),!0).forEach(function(r){Fee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fee(t,e,n){return e=pze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pze(t){var e=mze(t,"string");return l_(e)==="symbol"?e:String(e)}function mze(t,e){if(l_(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(l_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gze=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},vze=function(e){return e},yze=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Z0=function(e,n){return Object.keys(n).reduce(function(r,i){return aV(aV({},r),{},Fee({},i,e(i,n[i])))},{})},lV=function(e,n,r){return e.map(function(i){return"".concat(yze(i)," ").concat(n,"ms ").concat(r)}).join(",")};function xze(t,e){return wze(t)||bze(t,e)||Bee(t,e)||_ze()}function _ze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function wze(t){if(Array.isArray(t))return t}function Sze(t){return Mze(t)||Cze(t)||Bee(t)||Eze()}function Eze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bee(t,e){if(t){if(typeof t=="string")return SD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SD(t,e)}}function Cze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mze(t){if(Array.isArray(t))return SD(t)}function SD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var UC=1e-4,zee=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},Uee=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},cV=function(e,n){return function(r){var i=zee(e,n);return Uee(i,r)}},Aze=function(e,n){return function(r){var i=zee(e,n),s=[].concat(Sze(i.map(function(o,a){return o*a}).slice(1)),[0]);return Uee(s,r)}},uV=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),f=xze(c,4);i=f[0],s=f[1],o=f[2],a=f[3]}}}var d=cV(i,o),h=cV(s,a),g=Aze(i,o),v=function(p){return p>1?1:p<0?0:p},x=function(p){for(var y=p>1?1:p,_=y,b=0;b<8;++b){var S=d(_)-y,C=g(_);if(Math.abs(S-y)<UC||C<UC)return h(_);_=v(_-S/C)}return h(_)};return x.isStepper=!1,x},Tze=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(f,d,h){var g=-(f-d)*r,v=h*s,x=h+(g-v)*a/1e3,m=h*a/1e3+f;return Math.abs(m-d)<UC&&Math.abs(x)<UC?[d,0]:[m,x]};return l.isStepper=!0,l.dt=a,l},Pze=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uV(i);case"spring":return Tze();default:if(i.split("(")[0]==="cubic-bezier")return uV(i)}return typeof i=="function"?i:null};function c_(t){"@babel/helpers - typeof";return c_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c_(t)}function dV(t){return Oze(t)||Rze(t)||$ee(t)||Nze()}function Nze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oze(t){if(Array.isArray(t))return CD(t)}function fV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(n),!0).forEach(function(r){ED(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ED(t,e,n){return e=kze(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kze(t){var e=Ize(t,"string");return c_(e)==="symbol"?e:String(e)}function Ize(t,e){if(c_(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(c_(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dze(t,e){return Fze(t)||Lze(t,e)||$ee(t,e)||jze()}function jze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ee(t,e){if(t){if(typeof t=="string")return CD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CD(t,e)}}function CD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lze(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Fze(t){if(Array.isArray(t))return t}var $C=function(e,n,r){return e+(n-e)*r},MD=function(e){var n=e.from,r=e.to;return n!==r},Bze=function t(e,n,r){var i=Z0(function(s,o){if(MD(o)){var a=e(o.from,o.to,o.velocity),l=Dze(a,2),c=l[0],f=l[1];return Ei(Ei({},o),{},{from:c,velocity:f})}return o},n);return r<1?Z0(function(s,o){return MD(o)?Ei(Ei({},o),{},{velocity:$C(o.velocity,i[s].velocity,r),from:$C(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const zze=function(t,e,n,r,i){var s=gze(t,e),o=s.reduce(function(m,p){return Ei(Ei({},m),{},ED({},p,[t[p],e[p]]))},{}),a=s.reduce(function(m,p){return Ei(Ei({},m),{},ED({},p,{from:t[p],velocity:0,to:e[p]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return Z0(function(p,y){return y.from},a)},g=function(){return!Object.values(a).filter(MD).length},v=function(p){c||(c=p);var y=p-c,_=y/n.dt;a=Bze(n,a,_),i(Ei(Ei(Ei({},t),e),h())),c=p,g()||(l=requestAnimationFrame(d))},x=function(p){f||(f=p);var y=(p-f)/r,_=Z0(function(S,C){return $C.apply(void 0,dV(C).concat([n(y)]))},o);if(i(Ei(Ei(Ei({},t),e),_)),y<1)l=requestAnimationFrame(d);else{var b=Z0(function(S,C){return $C.apply(void 0,dV(C).concat([n(1)]))},o);i(Ei(Ei(Ei({},t),e),b))}};return d=n.isStepper?v:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function Fg(t){"@babel/helpers - typeof";return Fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fg(t)}var Uze=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function $ze(t,e){if(t==null)return{};var n=Hze(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Hze(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function TR(t){return qze(t)||Gze(t)||Wze(t)||Vze()}function Vze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wze(t,e){if(t){if(typeof t=="string")return AD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AD(t,e)}}function Gze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qze(t){if(Array.isArray(t))return AD(t)}function AD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function da(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(r){T0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T0(t,e,n){return e=Hee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kze(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hee(r.key),r)}}function Yze(t,e,n){return e&&Kze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hee(t){var e=Zze(t,"string");return Fg(e)==="symbol"?e:String(e)}function Zze(t,e){if(Fg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TD(t,e)}function TD(t,e){return TD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TD(t,e)}function Jze(t){var e=eUe();return function(){var r=HC(t),i;if(e){var s=HC(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return PD(this,i)}}function PD(t,e){if(e&&(Fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ND(t)}function ND(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function HC(t){return HC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HC(t)}var Va=function(t){Qze(n,t);var e=Jze(n);function n(r,i){var s;Xze(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,f=o.to,d=o.steps,h=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ND(s)),s.changeStyle=s.changeStyle.bind(ND(s)),!a||g<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:f}),PD(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof h=="function")return s.state={style:c},PD(s);s.state={style:l?T0({},l,c):c}}else s.state={style:{}};return s}return Yze(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,f=s.to,d=s.from,h=this.state.style;if(a){if(!o){var g={style:l?T0({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(g);return}if(!(oze(i.to,f)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||c?d:i.to;if(this.state&&h){var m={style:l?T0({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(m)}this.runAnimation(da(da({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=zze(o,a,Pze(c),l,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([h,f,v,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],f=c.style,d=c.duration,h=d===void 0?0:d,g=function(x,m,p){if(p===0)return x;var y=m.duration,_=m.easing,b=_===void 0?"ease":_,S=m.style,C=m.properties,M=m.onAnimationEnd,T=p>0?o[p-1]:m,P=C||Object.keys(S);if(typeof b=="function"||b==="spring")return[].concat(TR(x),[s.runJSAnimation.bind(s,{from:T.style,to:S,duration:y,easing:b}),y]);var N=lV(P,y,b),k=da(da(da({},T.style),S),{},{transition:N});return[].concat(TR(x),[k,y,M]).filter(vze)};return this.manager.start([l].concat(TR(o.reduce(g,[f,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=hze());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=a?T0({},a,l):l,m=lV(Object.keys(x),o,c);v.start([f,s,da(da({},x),{},{transition:m}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=$ze(i,Uze),c=A.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!a||c===0||o<=0)return s;var d=function(g){var v=g.props,x=v.style,m=x===void 0?{}:x,p=v.className,y=A.cloneElement(g,da(da({},l),{},{style:da(da({},m),f),className:p}));return y};return c===1?d(A.Children.only(s)):te.createElement("div",null,A.Children.map(s,function(h){return d(h)}))}}]),n}(A.PureComponent);Va.displayName="Animate";Va.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Va.propTypes={from:jn.oneOfType([jn.object,jn.string]),to:jn.oneOfType([jn.object,jn.string]),attributeName:jn.string,duration:jn.number,begin:jn.number,easing:jn.oneOfType([jn.string,jn.func]),steps:jn.arrayOf(jn.shape({duration:jn.number.isRequired,style:jn.object.isRequired,easing:jn.oneOfType([jn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),jn.func]),properties:jn.arrayOf("string"),onAnimationEnd:jn.func})),children:jn.oneOfType([jn.node,jn.func]),isActive:jn.bool,canBegin:jn.bool,onAnimationEnd:jn.func,shouldReAnimate:jn.bool,onAnimationStart:jn.func,onAnimationReStart:jn.func};function Rh(){return Rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rh.apply(null,arguments)}function u_(t){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(t)}function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}function tUe(t,e){return sUe(t)||iUe(t,e)||rUe(t,e)||nUe()}function nUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rUe(t,e){if(t){if(typeof t=="string")return pV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pV(t,e)}}function pV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function iUe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function sUe(t){if(Array.isArray(t))return t}function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){oUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oUe(t,e,n){return e=aUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aUe(t){var e=lUe(t,"string");return u_(e)=="symbol"?e:e+""}function lUe(t,e){if(u_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(u_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vV=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=s[h]>o?o:s[h];f="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),f+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*d[1])),f+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),f+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*d[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*v," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},cUe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),f=Math.max(s,s+a),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=f&&i>=d&&i<=h}return!1},uUe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},YF=function(e){var n=gV(gV({},uUe),e),r=A.useRef(),i=A.useState(-1),s=tUe(i,2),o=s[0],a=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,c=n.y,f=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,x=n.animationDuration,m=n.animationBegin,p=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var _=en("recharts-rectangle",g);return y?te.createElement(Va,{canBegin:o>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:x,animationEasing:v,isActive:y},function(b){var S=b.width,C=b.height,M=b.x,T=b.y;return te.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,isActive:p,easing:v},te.createElement("path",VC({},Rt(n,!0),{className:_,d:vV(M,T,S,C,h),ref:r})))}):te.createElement("path",VC({},Rt(n,!0),{className:_,d:vV(l,c,f,d,h)}))},dUe=["points","className","baseLinePoints","connectNulls"];function Am(){return Am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Am.apply(this,arguments)}function fUe(t,e){if(t==null)return{};var n=hUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function yV(t){return vUe(t)||gUe(t)||mUe(t)||pUe()}function pUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mUe(t,e){if(t){if(typeof t=="string")return RD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return RD(t,e)}}function gUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vUe(t){if(Array.isArray(t))return RD(t)}function RD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var xV=function(e){return e&&e.x===+e.x&&e.y===+e.y},yUe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){xV(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),xV(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Q0=function(e,n){var r=yUe(e);n&&(r=[r.reduce(function(s,o){return[].concat(yV(s),yV(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},xUe=function(e,n,r){var i=Q0(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Q0(n.reverse(),r).slice(1))},_Ue=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=fUe(e,dUe);if(!n||!n.length)return null;var a=en("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=xUe(n,i,s);return te.createElement("g",{className:a},te.createElement("path",Am({},Rt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?te.createElement("path",Am({},Rt(o,!0),{fill:"none",d:Q0(n,s)})):null,l?te.createElement("path",Am({},Rt(o,!0),{fill:"none",d:Q0(i,s)})):null)}var f=Q0(n,s);return te.createElement("path",Am({},Rt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:a,d:f}))};function OD(){return OD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OD.apply(this,arguments)}var Rb=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=en("recharts-dot",s);return n===+n&&r===+r&&i===+i?te.createElement("circle",OD({},Rt(e,!1),uC(e),{className:o,cx:n,cy:r,r:i})):null};function d_(t){"@babel/helpers - typeof";return d_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d_(t)}var bUe=["x","y","top","left","width","height","className"];function kD(){return kD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kD.apply(this,arguments)}function _V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wUe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_V(Object(n),!0).forEach(function(r){SUe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SUe(t,e,n){return e=EUe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EUe(t){var e=CUe(t,"string");return d_(e)=="symbol"?e:e+""}function CUe(t,e){if(d_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(d_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MUe(t,e){if(t==null)return{};var n=AUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TUe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},PUe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,f=e.width,d=f===void 0?0:f,h=e.height,g=h===void 0?0:h,v=e.className,x=MUe(e,bUe),m=wUe({x:r,y:s,top:a,left:c,width:d,height:g},x);return!rt(r)||!rt(s)||!rt(d)||!rt(g)||!rt(a)||!rt(c)?null:te.createElement("path",kD({},Rt(m,!0),{className:en("recharts-cross",v),d:TUe(r,s,d,g,a,c)}))},NUe=kT,RUe=tee,OUe=Ul;function kUe(t,e){return t&&t.length?NUe(t,OUe(e),RUe):void 0}var IUe=kUe;const DUe=kn(IUe);var jUe=kT,LUe=Ul,FUe=nee;function BUe(t,e){return t&&t.length?jUe(t,LUe(e),FUe):void 0}var zUe=BUe;const UUe=kn(zUe);var $Ue=["cx","cy","angle","ticks","axisLine"],HUe=["ticks","tick","angle","tickFormatter","stroke"];function Bg(t){"@babel/helpers - typeof";return Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bg(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J0.apply(this,arguments)}function bV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bV(Object(n),!0).forEach(function(r){LT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wV(t,e){if(t==null)return{};var n=VUe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VUe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wee(r.key),r)}}function GUe(t,e,n){return e&&SV(t.prototype,e),n&&SV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qUe(t,e,n){return e=WC(e),XUe(t,Vee()?Reflect.construct(e,n||[],WC(t).constructor):e.apply(t,n))}function XUe(t,e){if(e&&(Bg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KUe(t)}function KUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vee=function(){return!!t})()}function WC(t){return WC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WC(t)}function YUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ID(t,e)}function ID(t,e){return ID=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ID(t,e)}function LT(t,e,n){return e=Wee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wee(t){var e=ZUe(t,"string");return Bg(e)=="symbol"?e:e+""}function ZUe(t,e){if(Bg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Bg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FT=function(t){function e(){return WUe(this,e),qUe(this,e,arguments)}return YUe(e,t),GUe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return Jn(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=DUe(a,function(f){return f.coordinate||0}),c=UUe(a,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,c=wV(r,$Ue),f=a.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),d=Jn(i,s,f[0],o),h=Jn(i,s,f[1],o),g=nf(nf(nf({},Rt(c,!1)),{},{fill:"none"},Rt(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return te.createElement("line",J0({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,f=wV(i,HUe),d=this.getTickTextAnchor(),h=Rt(f,!1),g=Rt(o,!1),v=s.map(function(x,m){var p=r.getTickValueCoord(x),y=nf(nf(nf(nf({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(p.x,", ").concat(p.y,")")},h),{},{stroke:"none",fill:c},g),{},{index:m},p),{},{payload:x});return te.createElement(mn,J0({className:en("recharts-polar-radius-axis-tick",Nee(o)),key:"tick-".concat(x.coordinate)},Ch(r.props,x,m)),e.renderTickItem(o,y,l?l(x.value,m):x.value))});return te.createElement(mn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:te.createElement(mn,{className:en("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),xi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return te.isValidElement(r)?o=te.cloneElement(r,i):Wt(r)?o=r(i):o=te.createElement(Mh,J0({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(A.PureComponent);LT(FT,"displayName","PolarRadiusAxis");LT(FT,"axisType","radiusAxis");LT(FT,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function zg(t){"@babel/helpers - typeof";return zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zg(t)}function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function EV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EV(Object(n),!0).forEach(function(r){BT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qee(r.key),r)}}function JUe(t,e,n){return e&&CV(t.prototype,e),n&&CV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e$e(t,e,n){return e=GC(e),t$e(t,Gee()?Reflect.construct(e,n||[],GC(t).constructor):e.apply(t,n))}function t$e(t,e){if(e&&(zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n$e(t)}function n$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gee=function(){return!!t})()}function GC(t){return GC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GC(t)}function r$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DD(t,e)}function DD(t,e){return DD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DD(t,e)}function BT(t,e,n){return e=qee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qee(t){var e=i$e(t,"string");return zg(e)=="symbol"?e:e+""}function i$e(t,e){if(zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s$e=Math.PI/180,MV=1e-5,zT=function(t){function e(){return QUe(this,e),e$e(this,e,arguments)}return r$e(e,t),JUe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,f=c||8,d=Jn(s,o,a,r.coordinate),h=Jn(s,o,a+(l==="inner"?-1:1)*f,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*s$e),o;return s>MV?o=i==="outer"?"start":"end":s<-MV?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,c=rf(rf({},Rt(this.props,!1)),{},{fill:"none"},Rt(a,!1));if(l==="circle")return te.createElement(Rb,Of({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var f=this.props.ticks,d=f.map(function(h){return Jn(i,s,o,h.coordinate)});return te.createElement(_Ue,Of({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,f=Rt(this.props,!1),d=Rt(o,!1),h=rf(rf({},f),{},{fill:"none"},Rt(a,!1)),g=s.map(function(v,x){var m=r.getTickLineCoord(v),p=r.getTickTextAnchor(v),y=rf(rf(rf({textAnchor:p},f),{},{stroke:"none",fill:c},d),{},{index:x,payload:v,x:m.x2,y:m.y2});return te.createElement(mn,Of({className:en("recharts-polar-angle-axis-tick",Nee(o)),key:"tick-".concat(v.coordinate)},Ch(r.props,v,x)),a&&te.createElement("line",Of({className:"recharts-polar-angle-axis-tick-line"},h,m)),o&&e.renderTickItem(o,y,l?l(v.value,x):v.value))});return te.createElement(mn,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:te.createElement(mn,{className:en("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return te.isValidElement(r)?o=te.cloneElement(r,i):Wt(r)?o=r(i):o=te.createElement(Mh,Of({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(A.PureComponent);BT(zT,"displayName","PolarAngleAxis");BT(zT,"axisType","angleAxis");BT(zT,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var o$e=XQ,a$e=o$e(Object.getPrototypeOf,Object),l$e=a$e,c$e=Jc,u$e=l$e,d$e=eu,f$e="[object Object]",h$e=Function.prototype,p$e=Object.prototype,Xee=h$e.toString,m$e=p$e.hasOwnProperty,g$e=Xee.call(Object);function v$e(t){if(!d$e(t)||c$e(t)!=f$e)return!1;var e=u$e(t);if(e===null)return!0;var n=m$e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Xee.call(n)==g$e}var y$e=v$e;const x$e=kn(y$e);var _$e=Jc,b$e=eu,w$e="[object Boolean]";function S$e(t){return t===!0||t===!1||b$e(t)&&_$e(t)==w$e}var E$e=S$e;const C$e=kn(E$e);function f_(t){"@babel/helpers - typeof";return f_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f_(t)}function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qC.apply(this,arguments)}function M$e(t,e){return N$e(t)||P$e(t,e)||T$e(t,e)||A$e()}function A$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T$e(t,e){if(t){if(typeof t=="string")return AV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AV(t,e)}}function AV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P$e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function N$e(t){if(Array.isArray(t))return t}function TV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(n),!0).forEach(function(r){R$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function R$e(t,e,n){return e=O$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O$e(t){var e=k$e(t,"string");return f_(e)=="symbol"?e:e+""}function k$e(t,e){if(f_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(f_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NV=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},I$e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},D$e=function(e){var n=PV(PV({},I$e),e),r=A.useRef(),i=A.useState(-1),s=M$e(i,2),o=s[0],a=s[1];A.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,f=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,x=n.animationDuration,m=n.animationBegin,p=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var y=en("recharts-trapezoid",g);return p?te.createElement(Va,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:x,animationEasing:v,isActive:p},function(_){var b=_.upperWidth,S=_.lowerWidth,C=_.height,M=_.x,T=_.y;return te.createElement(Va,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,easing:v},te.createElement("path",qC({},Rt(n,!0),{className:y,d:NV(M,T,b,S,C),ref:r})))}):te.createElement("g",null,te.createElement("path",qC({},Rt(n,!0),{className:y,d:NV(l,c,f,d,h)})))},j$e=["option","shapeType","propTransformer","activeClassName","isActive"];function h_(t){"@babel/helpers - typeof";return h_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h_(t)}function L$e(t,e){if(t==null)return{};var n=F$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function F$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(n),!0).forEach(function(r){B$e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function B$e(t,e,n){return e=z$e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function z$e(t){var e=U$e(t,"string");return h_(e)=="symbol"?e:e+""}function U$e(t,e){if(h_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(h_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $$e(t,e){return XC(XC({},e),t)}function H$e(t,e){return t==="symbols"}function OV(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return te.createElement(YF,n);case"trapezoid":return te.createElement(D$e,n);case"sector":return te.createElement(kee,n);case"symbols":if(H$e(e))return te.createElement(mF,n);break;default:return null}}function V$e(t){return A.isValidElement(t)?t.props:t}function Kee(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?$$e:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=L$e(t,j$e),c;if(A.isValidElement(e))c=A.cloneElement(e,XC(XC({},l),V$e(e)));else if(Wt(e))c=e(l);else if(x$e(e)&&!C$e(e)){var f=i(e,l);c=te.createElement(OV,{shapeType:n,elementProps:f})}else{var d=l;c=te.createElement(OV,{shapeType:n,elementProps:d})}return a?te.createElement(mn,{className:o},c):c}function UT(t,e){return e!=null&&"trapezoids"in t.props}function $T(t,e){return e!=null&&"sectors"in t.props}function p_(t,e){return e!=null&&"points"in t.props}function W$e(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function G$e(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function q$e(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function X$e(t,e){var n;return UT(t,e)?n=W$e:$T(t,e)?n=G$e:p_(t,e)&&(n=q$e),n}function K$e(t,e){var n;return UT(t,e)?n="trapezoids":$T(t,e)?n="sectors":p_(t,e)&&(n="points"),n}function Y$e(t,e){if(UT(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if($T(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return p_(t,e)?e.payload:{}}function Z$e(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=K$e(n,e),s=Y$e(n,e),o=r.filter(function(l,c){var f=Th(s,l),d=n.props[i].filter(function(v){var x=X$e(n,e);return x(v,e)}),h=n.props[i].indexOf(d[d.length-1]),g=c===h;return f&&g}),a=r.indexOf(o[o.length-1]);return a}var hE;function Ug(t){"@babel/helpers - typeof";return Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ug(t)}function Tm(){return Tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tm.apply(this,arguments)}function kV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kV(Object(n),!0).forEach(function(r){Uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Q$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Zee(r.key),r)}}function J$e(t,e,n){return e&&IV(t.prototype,e),n&&IV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eHe(t,e,n){return e=KC(e),tHe(t,Yee()?Reflect.construct(e,n||[],KC(t).constructor):e.apply(t,n))}function tHe(t,e){if(e&&(Ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nHe(t)}function nHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yee=function(){return!!t})()}function KC(t){return KC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KC(t)}function rHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jD(t,e)}function jD(t,e){return jD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jD(t,e)}function Uo(t,e,n){return e=Zee(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zee(t){var e=iHe(t,"string");return Ug(e)=="symbol"?e:e+""}function iHe(t,e){if(Ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nu=function(t){function e(n){var r;return Q$e(this,e),r=eHe(this,e,[n]),Uo(r,"pieRef",null),Uo(r,"sectorRefs",[]),Uo(r,"id",Kh("recharts-pie-")),Uo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Wt(i)&&i()}),Uo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Wt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return rHe(e,t),J$e(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,f=Rt(this.props,!1),d=Rt(o,!1),h=Rt(a,!1),g=o&&o.offsetRadius||20,v=r.map(function(x,m){var p=(x.startAngle+x.endAngle)/2,y=Jn(x.cx,x.cy,x.outerRadius+g,p),_=Yn(Yn(Yn(Yn({},f),x),{},{stroke:"none"},d),{},{index:m,textAnchor:e.getTextAnchor(y.x,x.cx)},y),b=Yn(Yn(Yn(Yn({},f),x),{},{fill:"none",stroke:x.fill},h),{},{index:m,points:[Jn(x.cx,x.cy,x.outerRadius,p),y]}),S=l;return Zt(l)&&Zt(c)?S="value":Zt(l)&&(S=c),te.createElement(mn,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(m)},a&&e.renderLabelLineItem(a,b,"line"),e.renderLabelItem(o,_,Br(x,S)))});return te.createElement(mn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(f),h=l&&i.hasActiveIndex()?l:null,g=d?o:h,v=Yn(Yn({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return te.createElement(mn,Tm({ref:function(m){m&&!i.sectorRefs.includes(m)&&i.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},Ch(i.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),te.createElement(Kee,Tm({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return te.createElement(Va,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,m=[],p=s&&s[0],y=p.startAngle;return s.forEach(function(_,b){var S=h&&h[b],C=b>0?uo(_,"paddingAngle",0):0;if(S){var M=ii(S.endAngle-S.startAngle,_.endAngle-_.startAngle),T=Yn(Yn({},_),{},{startAngle:y+C,endAngle:y+M(x)+C});m.push(T),y=T.endAngle}else{var P=_.endAngle,N=_.startAngle,k=ii(0,P-N),D=k(x),j=Yn(Yn({},_),{},{startAngle:y+C,endAngle:y+D+C});m.push(j),y=j.endAngle}}),te.createElement(mn,null,r.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Th(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,f=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!rt(c)||!rt(f)||!rt(d)||!rt(h))return null;var x=en("recharts-pie",a);return te.createElement(mn,{tabIndex:this.props.rootTabIndex,className:x,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(o),xi.renderCallByParent(this.props,null,!1),(!g||v)&&Al.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(te.isValidElement(r))return te.cloneElement(r,i);if(Wt(r))return r(i);var o=en("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return te.createElement(ih,Tm({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(te.isValidElement(r))return te.cloneElement(r,i);var o=s;if(Wt(r)&&(o=r(i),te.isValidElement(o)))return o;var a=en("recharts-pie-label-text",typeof r!="boolean"&&!Wt(r)?r.className:"");return te.createElement(Mh,Tm({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(A.PureComponent);hE=nu;Uo(nu,"displayName","Pie");Uo(nu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Fa.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Uo(nu,"parseDeltaAngle",function(t,e){var n=cs(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Uo(nu,"getRealPieData",function(t){var e=t.data,n=t.children,r=Rt(t,!1),i=fo(n,MT);return e&&e.length?e.map(function(s,o){return Yn(Yn(Yn({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Yn(Yn({},r),s.props)}):[]});Uo(nu,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=Pee(i,s),a=r+us(t.cx,i,i/2),l=n+us(t.cy,s,s/2),c=us(t.innerRadius,o,0),f=us(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:f,maxRadius:d}});Uo(nu,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Yn(Yn({},e.type.defaultProps),e.props):e.props,i=hE.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,f=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=hE.parseCoordinateOfPie(r,n),x=hE.parseDeltaAngle(o,a),m=Math.abs(x),p=c;Zt(c)&&Zt(d)?(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):Zt(c)&&(La(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=d);var y=i.filter(function(T){return Br(T,p,0)!==0}).length,_=(m>=360?y:y-1)*l,b=m-y*g-_,S=i.reduce(function(T,P){var N=Br(P,p,0);return T+(rt(N)?N:0)},0),C;if(S>0){var M;C=i.map(function(T,P){var N=Br(T,p,0),k=Br(T,f,P),D=(rt(N)?N:0)/S,j;P?j=M.endAngle+cs(x)*l*(N!==0?1:0):j=o;var F=j+cs(x)*((N!==0?g:0)+D*b),z=(j+F)/2,U=(v.innerRadius+v.outerRadius)/2,H=[{name:k,value:N,payload:T,dataKey:p,type:h}],R=Jn(v.cx,v.cy,U,z);return M=Yn(Yn(Yn({percent:D,cornerRadius:s,name:k,tooltipPayload:H,midAngle:z,middleRadius:U,tooltipPosition:R},T),v),{},{value:Br(T,p),startAngle:j,endAngle:F,payload:T,paddingAngle:cs(x)*l}),M})}return Yn(Yn({},v),{},{sectors:C,data:i})});var sHe=Math.ceil,oHe=Math.max;function aHe(t,e,n,r){for(var i=-1,s=oHe(sHe((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var lHe=aHe,cHe=hJ,DV=1/0,uHe=17976931348623157e292;function dHe(t){if(!t)return t===0?t:0;if(t=cHe(t),t===DV||t===-DV){var e=t<0?-1:1;return e*uHe}return t===t?t:0}var Qee=dHe,fHe=lHe,hHe=CT,PR=Qee;function pHe(t){return function(e,n,r){return r&&typeof r!="number"&&hHe(e,n,r)&&(n=r=void 0),e=PR(e),n===void 0?(n=e,e=0):n=PR(n),r=r===void 0?e<n?1:-1:PR(r),fHe(e,n,r,t)}}var mHe=pHe,gHe=mHe,vHe=gHe(),yHe=vHe;const YC=kn(yHe);function m_(t){"@babel/helpers - typeof";return m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m_(t)}function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function LV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){Jee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jee(t,e,n){return e=xHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xHe(t){var e=_He(t,"string");return m_(e)=="symbol"?e:e+""}function _He(t,e){if(m_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(m_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bHe=["Webkit","Moz","O","ms"],wHe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=bHe.reduce(function(s,o){return LV(LV({},s),{},Jee({},o+r,n))},{});return i[e]=n,i};function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function ZC(){return ZC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZC.apply(this,arguments)}function FV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FV(Object(n),!0).forEach(function(r){Qs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tte(r.key),r)}}function EHe(t,e,n){return e&&BV(t.prototype,e),n&&BV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CHe(t,e,n){return e=QC(e),MHe(t,ete()?Reflect.construct(e,n||[],QC(t).constructor):e.apply(t,n))}function MHe(t,e){if(e&&($g(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AHe(t)}function AHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ete(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ete=function(){return!!t})()}function QC(t){return QC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QC(t)}function THe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LD(t,e)}function LD(t,e){return LD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LD(t,e)}function Qs(t,e,n){return e=tte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tte(t){var e=PHe(t,"string");return $g(e)=="symbol"?e:e+""}function PHe(t,e){if($g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NHe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=K0().domain(YC(0,l)).range([s,s+o-a]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:f}},zV=function(e){return e.changedTouches&&!!e.changedTouches.length},Hg=function(t){function e(n){var r;return SHe(this,e),r=CHe(this,e,[n]),Qs(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Qs(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Qs(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),Qs(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Qs(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Qs(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Qs(r,"handleSlideDragStart",function(i){var s=zV(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return THe(e,t),EHe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,f=c.length-1,d=Math.min(i,s),h=Math.max(i,s),g=e.getIndexInRange(o,d),v=e.getIndexInRange(o,h);return{startIndex:g-g%l,endIndex:v===f?f:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=Br(s[r],a,r);return Wt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,x=r.pageX-s;x>0?x=Math.min(x,c+f-d-a,c+f-d-o):x<0&&(x=Math.max(x,c-o,c-a));var m=this.getIndex({startX:o+x,endX:a+x});(m.startIndex!==h||m.endIndex!==g)&&v&&v(m),this.setState({startX:o+x,endX:a+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=zV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],f=this.props,d=f.x,h=f.width,g=f.travellerWidth,v=f.onChange,x=f.gap,m=f.data,p={startX:this.state.startX,endX:this.state.endX},y=r.pageX-s;y>0?y=Math.min(y,d+h-g-c):y<0&&(y=Math.max(y,d-c)),p[o]=c+y;var _=this.getIndex(p),b=_.startIndex,S=_.endIndex,C=function(){var T=m.length-1;return o==="startX"&&(a>l?b%x===0:S%x===0)||a<l&&S===T||o==="endX"&&(a>l?S%x===0:b%x===0)||a>l&&S===T};this.setState(Qs(Qs({},o,c+y),"brushMoveStartX",r.pageX),function(){v&&C()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,f=this.state[i],d=a.indexOf(f);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var g=a[h];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(Qs({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return te.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,f=r.padding,d=A.Children.only(c);return d?te.cloneElement(d,{x:i,y:s,width:o,height:a,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,x=l.startIndex,m=l.endIndex,p=Math.max(r,this.props.x),y=NR(NR({},Rt(this.props,!1)),{},{x:p,y:c,width:f,height:d}),_=g||"Min value: ".concat((s=v[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[m])===null||o===void 0?void 0:o.name);return te.createElement(mn,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(S){["ArrowLeft","ArrowRight"].includes(S.key)&&(S.preventDefault(),S.stopPropagation(),a.handleTravellerMoveKeyboard(S.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,f=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,f=this.state,d=f.startX,h=f.endX,g=5,v={pointerEvents:"none",fill:c};return te.createElement(mn,{className:"recharts-brush-texts"},te.createElement(Mh,ZC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:o+a/2},v),this.getTextOfTick(i)),te.createElement(Mh,ZC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,f=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,x=h.isTextActive,m=h.isSlideMoving,p=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!rt(a)||!rt(l)||!rt(c)||!rt(f)||c<=0||f<=0)return null;var _=en("recharts-brush",s),b=te.Children.count(o)===1,S=wHe("userSelect","none");return te.createElement(mn,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:S},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(x||m||p||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),te.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return te.isValidElement(r)?s=te.cloneElement(r,i):Wt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,f=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return NR({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?NHe({data:s,width:o,x:a,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(A.PureComponent);Qs(Hg,"displayName","Brush");Qs(Hg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var RHe=wF;function OHe(t,e){var n;return RHe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var kHe=OHe,IHe=zQ,DHe=Ul,jHe=kHe,LHe=Bs,FHe=CT;function BHe(t,e,n){var r=LHe(t)?IHe:jHe;return n&&FHe(t,e,n)&&(e=void 0),r(t,DHe(e))}var zHe=BHe;const UHe=kn(zHe);var Tl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},UV=lJ;function $He(t,e,n){e=="__proto__"&&UV?UV(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var HHe=$He,VHe=HHe,WHe=oJ,GHe=Ul;function qHe(t,e){var n={};return e=GHe(e),WHe(t,function(r,i,s){VHe(n,i,e(r,i,s))}),n}var XHe=qHe;const KHe=kn(XHe);function YHe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ZHe=YHe,QHe=wF;function JHe(t,e){var n=!0;return QHe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var e6e=JHe,t6e=ZHe,n6e=e6e,r6e=Ul,i6e=Bs,s6e=CT;function o6e(t,e,n){var r=i6e(t)?t6e:n6e;return n&&s6e(t,e,n)&&(e=void 0),r(t,r6e(e))}var a6e=o6e;const nte=kn(a6e);var l6e=["x","y"];function g_(t){"@babel/helpers - typeof";return g_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g_(t)}function FD(){return FD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},FD.apply(this,arguments)}function $V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qy(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$V(Object(n),!0).forEach(function(r){c6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$V(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function c6e(t,e,n){return e=u6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u6e(t){var e=d6e(t,"string");return g_(e)=="symbol"?e:e+""}function d6e(t,e){if(g_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(g_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f6e(t,e){if(t==null)return{};var n=h6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function p6e(t,e){var n=t.x,r=t.y,i=f6e(t,l6e),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),f=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return Qy(Qy(Qy(Qy(Qy({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function HV(t){return te.createElement(Kee,FD({shapeType:"rectangle",propTransformer:p6e,activeClassName:"recharts-active-bar"},t))}var m6e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||Nh(),n)}},g6e=["value","background"],rte;function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}function v6e(t,e){if(t==null)return{};var n=y6e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function y6e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JC(){return JC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JC.apply(this,arguments)}function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(r){ed(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ste(r.key),r)}}function _6e(t,e,n){return e&&WV(t.prototype,e),n&&WV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function b6e(t,e,n){return e=eM(e),w6e(t,ite()?Reflect.construct(e,n||[],eM(t).constructor):e.apply(t,n))}function w6e(t,e){if(e&&(Vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S6e(t)}function S6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ite(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ite=function(){return!!t})()}function eM(t){return eM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eM(t)}function E6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BD(t,e)}function BD(t,e){return BD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BD(t,e)}function ed(t,e,n){return e=ste(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ste(t){var e=C6e(t,"string");return Vg(e)=="symbol"?e:e+""}function C6e(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jh=function(t){function e(){var n;x6e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=b6e(this,e,[].concat(i)),ed(n,"state",{isAnimationFinished:!1}),ed(n,"id",Kh("recharts-bar-")),ed(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ed(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return E6e(e,t),_6e(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,f=Rt(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?c:o,x=Gr(Gr(Gr({},f),d),{},{isActive:g,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return te.createElement(mn,JC({className:"recharts-bar-rectangle"},Ch(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),te.createElement(HV,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,d=i.animationId,h=this.state.prevData;return te.createElement(Va,{begin:l,duration:c,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,x=s.map(function(m,p){var y=h&&h[p];if(y){var _=ii(y.x,m.x),b=ii(y.y,m.y),S=ii(y.width,m.width),C=ii(y.height,m.height);return Gr(Gr({},m),{},{x:_(v),y:b(v),width:S(v),height:C(v)})}if(o==="horizontal"){var M=ii(0,m.height),T=M(v);return Gr(Gr({},m),{},{y:m.y+m.height-T,height:T})}var P=ii(0,m.width),N=P(v);return Gr(Gr({},m),{},{width:N})});return te.createElement(mn,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Th(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=Rt(this.props.background,!1);return s.map(function(c,f){c.value;var d=c.background,h=v6e(c,g6e);if(!d)return null;var g=Gr(Gr(Gr(Gr(Gr({},h),{},{fill:"#eee"},d),l),Ch(r.props,c,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return te.createElement(HV,JC({key:"background-bar-".concat(f),option:r.props.background,isActive:f===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,f=s.children,d=fo(f,Nb);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,g=function(m,p){var y=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:y,errorVal:Br(m,p)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(mn,v,d.map(function(x){return te.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,f=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,x=r.id;if(i||!s||!s.length)return null;var m=this.state.isAnimationFinished,p=en("recharts-bar",o),y=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,b=y||_,S=Zt(x)?this.id:x;return te.createElement(mn,{className:p},y||_?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(S)},te.createElement("rect",{x:y?c:c-d/2,y:_?f:f-h/2,width:y?d:d*2,height:_?h:h*2}))):null,te.createElement(mn,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(S,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,S),(!g||m)&&Al.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(A.PureComponent);rte=Jh;ed(Jh,"displayName","Bar");ed(Jh,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Fa.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ed(Jh,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,f=t.dataStartIndex,d=t.displayedData,h=t.offset,g=sBe(r,n);if(!g)return null;var v=e.layout,x=n.type.defaultProps,m=x!==void 0?Gr(Gr({},x),n.props):n.props,p=m.dataKey,y=m.children,_=m.minPointSize,b=v==="horizontal"?o:s,S=c?b.scale.domain():null,C=fBe({numericAxis:b}),M=fo(y,MT),T=d.map(function(P,N){var k,D,j,F,z,U;c?k=oBe(c[f+N],S):(k=Br(P,p),Array.isArray(k)||(k=[C,k]));var H=m6e(_,rte.defaultProps.minPointSize)(k[1],N);if(v==="horizontal"){var R,I=[o.scale(k[0]),o.scale(k[1])],B=I[0],W=I[1];D=I8({axis:s,ticks:a,bandSize:i,offset:g.offset,entry:P,index:N}),j=(R=W??B)!==null&&R!==void 0?R:void 0,F=g.size;var G=B-W;if(z=Number.isNaN(G)?0:G,U={x:D,y:o.y,width:F,height:o.height},Math.abs(H)>0&&Math.abs(z)<Math.abs(H)){var X=cs(z||H)*(Math.abs(H)-Math.abs(z));j-=X,z+=X}}else{var ne=[s.scale(k[0]),s.scale(k[1])],ae=ne[0],se=ne[1];if(D=ae,j=I8({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:P,index:N}),F=se-ae,z=g.size,U={x:s.x,y:j,width:s.width,height:z},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var $=cs(F||H)*(Math.abs(H)-Math.abs(F));F+=$}}return Gr(Gr(Gr({},P),{},{x:D,y:j,width:F,height:z,value:c?k:k[1],payload:P,background:U},M&&M[N]&&M[N].props),{},{tooltipPayload:[Aee(n,P)],tooltipPosition:{x:D+F/2,y:j+z/2}})});return Gr({data:T,layout:v},h)});function v_(t){"@babel/helpers - typeof";return v_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v_(t)}function M6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GV(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ote(r.key),r)}}function A6e(t,e,n){return e&&GV(t.prototype,e),n&&GV(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ba(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(n),!0).forEach(function(r){HT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function HT(t,e,n){return e=ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ote(t){var e=T6e(t,"string");return v_(e)=="symbol"?e:e+""}function T6e(t,e){if(v_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(v_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZF=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,f=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!to(c,Jh);return f.reduce(function(g,v){var x=n[v],m=x.orientation,p=x.domain,y=x.padding,_=y===void 0?{}:y,b=x.mirror,S=x.reversed,C="".concat(m).concat(b?"Mirror":""),M,T,P,N,k;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var D=p[1]-p[0],j=1/0,F=x.categoricalDomain.sort();if(F.forEach(function(ne,ae){ae>0&&(j=Math.min((ne||0)-(F[ae-1]||0),j))}),Number.isFinite(j)){var z=j/D,U=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(M=z*U/2),x.padding==="no-gap"){var H=us(e.barCategoryGap,z*U),R=z*U/2;M=R-H-(R-H)/U*H}}}i==="xAxis"?T=[r.left+(_.left||0)+(M||0),r.left+r.width-(_.right||0)-(M||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(M||0),r.top+r.height-(_.bottom||0)-(M||0)]:T=x.range,S&&(T=[T[1],T[0]]);var I=See(x,s,h),B=I.scale,W=I.realScaleType;B.domain(p).range(T),Eee(B);var G=Cee(B,ba(ba({},x),{},{realScaleType:W}));i==="xAxis"?(k=m==="top"&&!b||m==="bottom"&&b,P=r.left,N=d[C]-k*x.height):i==="yAxis"&&(k=m==="left"&&!b||m==="right"&&b,P=d[C]-k*x.width,N=r.top);var X=ba(ba(ba({},x),G),{},{realScaleType:W,x:P,y:N,scale:B,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return X.bandSize=FC(X,G),!x.hide&&i==="xAxis"?d[C]+=(k?-1:1)*X.height:x.hide||(d[C]+=(k?-1:1)*X.width),ba(ba({},g),{},HT({},v,X))},{})},ate=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},P6e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return ate({x:n,y:r},{x:i,y:s})},lte=function(){function t(e){M6e(this,t),this.scale=e}return A6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();HT(lte,"EPS",1e-4);var QF=function(e){var n=Object.keys(e).reduce(function(r,i){return ba(ba({},r),{},HT({},i,lte.create(e[i])))},{});return ba(ba({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return KHe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return nte(i,function(s,o){return n[o].isInRange(s)})}})};function N6e(t){return(t%180+180)%180}var R6e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=N6e(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},O6e=Ul,k6e=Cb,I6e=ST;function D6e(t){return function(e,n,r){var i=Object(e);if(!k6e(e)){var s=O6e(n);e=I6e(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var j6e=D6e,L6e=Qee;function F6e(t){var e=L6e(t),n=e%1;return e===e?n?e-n:e:0}var B6e=F6e,z6e=eJ,U6e=Ul,$6e=B6e,H6e=Math.max;function V6e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:$6e(n);return i<0&&(i=H6e(r+i,0)),z6e(t,U6e(e),i)}var W6e=V6e,G6e=j6e,q6e=W6e,X6e=G6e(q6e),K6e=X6e;const Y6e=kn(K6e);var Z6e=UCe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),JF=A.createContext(void 0),e4=A.createContext(void 0),cte=A.createContext(void 0),ute=A.createContext({}),dte=A.createContext(void 0),fte=A.createContext(0),hte=A.createContext(0),XV=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,f=Z6e(s);return te.createElement(JF.Provider,{value:r},te.createElement(e4.Provider,{value:i},te.createElement(ute.Provider,{value:s},te.createElement(cte.Provider,{value:f},te.createElement(dte.Provider,{value:o},te.createElement(fte.Provider,{value:c},te.createElement(hte.Provider,{value:l},a)))))))},Q6e=function(){return A.useContext(dte)},pte=function(e){var n=A.useContext(JF);n==null&&Nh();var r=n[e];return r==null&&Nh(),r},J6e=function(){var e=A.useContext(JF);return Fu(e)},e8e=function(){var e=A.useContext(e4),n=Y6e(e,function(r){return nte(r.domain,Number.isFinite)});return n||Fu(e)},mte=function(e){var n=A.useContext(e4);n==null&&Nh();var r=n[e];return r==null&&Nh(),r},t8e=function(){var e=A.useContext(cte);return e},n8e=function(){return A.useContext(ute)},t4=function(){return A.useContext(hte)},n4=function(){return A.useContext(fte)};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function r8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vte(r.key),r)}}function s8e(t,e,n){return e&&i8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function o8e(t,e,n){return e=tM(e),a8e(t,gte()?Reflect.construct(e,n||[],tM(t).constructor):e.apply(t,n))}function a8e(t,e){if(e&&(Wg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l8e(t)}function l8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gte=function(){return!!t})()}function tM(t){return tM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tM(t)}function c8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zD(t,e)}function zD(t,e){return zD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zD(t,e)}function KV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KV(Object(n),!0).forEach(function(r){r4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function r4(t,e,n){return e=vte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vte(t){var e=u8e(t,"string");return Wg(e)=="symbol"?e:e+""}function u8e(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d8e(t,e){return m8e(t)||p8e(t,e)||h8e(t,e)||f8e()}function f8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function h8e(t,e){if(t){if(typeof t=="string")return ZV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZV(t,e)}}function ZV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p8e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function m8e(t){if(Array.isArray(t))return t}function UD(){return UD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UD.apply(this,arguments)}var g8e=function(e,n){var r;return te.isValidElement(e)?r=te.cloneElement(e,n):Wt(e)?r=e(n):r=te.createElement("line",UD({},n,{className:"recharts-reference-line-line"})),r},v8e=function(e,n,r,i,s,o,a,l,c){var f=s.x,d=s.y,h=s.width,g=s.height;if(r){var v=c.y,x=e.y.apply(v,{position:o});if(Tl(c,"discard")&&!e.y.isInRange(x))return null;var m=[{x:f+h,y:x},{x:f,y:x}];return l==="left"?m.reverse():m}if(n){var p=c.x,y=e.x.apply(p,{position:o});if(Tl(c,"discard")&&!e.x.isInRange(y))return null;var _=[{x:y,y:d+g},{x:y,y:d}];return a==="top"?_.reverse():_}if(i){var b=c.segment,S=b.map(function(C){return e.apply(C,{position:o})});return Tl(c,"discard")&&UHe(S,function(C){return!e.isInRange(C)})?null:S}return null};function y8e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=Q6e(),f=pte(i),d=mte(s),h=t8e();if(!c||!h)return null;La(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=QF({x:f.scale,y:d.scale}),v=oi(e),x=oi(n),m=r&&r.length===2,p=v8e(g,v,x,m,h,t.position,f.orientation,d.orientation,t);if(!p)return null;var y=d8e(p,2),_=y[0],b=_.x,S=_.y,C=y[1],M=C.x,T=C.y,P=Tl(t,"hidden")?"url(#".concat(c,")"):void 0,N=YV(YV({clipPath:P},Rt(t,!0)),{},{x1:b,y1:S,x2:M,y2:T});return te.createElement(mn,{className:en("recharts-reference-line",a)},g8e(o,N),xi.renderCallByParent(t,P6e({x1:b,y1:S,x2:M,y2:T})))}var i4=function(t){function e(){return r8e(this,e),o8e(this,e,arguments)}return c8e(e,t),s8e(e,[{key:"render",value:function(){return te.createElement(y8e,this.props)}}])}(te.Component);r4(i4,"displayName","ReferenceLine");r4(i4,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function $D(){return $D=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$D.apply(this,arguments)}function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function QV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(n),!0).forEach(function(r){VT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function x8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xte(r.key),r)}}function b8e(t,e,n){return e&&_8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w8e(t,e,n){return e=nM(e),S8e(t,yte()?Reflect.construct(e,n||[],nM(t).constructor):e.apply(t,n))}function S8e(t,e){if(e&&(Gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return E8e(t)}function E8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yte=function(){return!!t})()}function nM(t){return nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nM(t)}function C8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HD(t,e)}function HD(t,e){return HD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HD(t,e)}function VT(t,e,n){return e=xte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xte(t){var e=M8e(t,"string");return Gg(e)=="symbol"?e:e+""}function M8e(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A8e=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=QF({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Tl(e,"discard")&&!o.isInRange(a)?null:a},WT=function(t){function e(){return x8e(this,e),w8e(this,e,arguments)}return C8e(e,t),b8e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=oi(i),f=oi(s);if(La(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=A8e(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,x=v.shape,m=v.className,p=Tl(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=JV(JV({clipPath:p},Rt(this.props,!0)),{},{cx:h,cy:g});return te.createElement(mn,{className:en("recharts-reference-dot",m)},e.renderDot(x,y),xi.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}(te.Component);VT(WT,"displayName","ReferenceDot");VT(WT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});VT(WT,"renderDot",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):Wt(t)?n=t(e):n=te.createElement(Rb,$D({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function VD(){return VD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VD.apply(this,arguments)}function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function eW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tW(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(n),!0).forEach(function(r){GT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function T8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P8e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,bte(r.key),r)}}function N8e(t,e,n){return e&&P8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R8e(t,e,n){return e=rM(e),O8e(t,_te()?Reflect.construct(e,n||[],rM(t).constructor):e.apply(t,n))}function O8e(t,e){if(e&&(qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8e(t)}function k8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _te(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_te=function(){return!!t})()}function rM(t){return rM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rM(t)}function I8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WD(t,e)}function WD(t,e){return WD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WD(t,e)}function GT(t,e,n){return e=bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bte(t){var e=D8e(t,"string");return qg(e)=="symbol"?e:e+""}function D8e(t,e){if(qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var j8e=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var h=QF({x:f.scale,y:d.scale}),g={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Tl(s,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:ate(g,v)},qT=function(t){function e(){return T8e(this,e),R8e(this,e,arguments)}return I8e(e,t),N8e(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,f=r.clipPathId;La(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=oi(i),h=oi(s),g=oi(o),v=oi(a),x=this.props.shape;if(!d&&!h&&!g&&!v&&!x)return null;var m=j8e(d,h,g,v,this.props);if(!m&&!x)return null;var p=Tl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return te.createElement(mn,{className:en("recharts-reference-area",l)},e.renderRect(x,tW(tW({clipPath:p},Rt(this.props,!0)),m)),xi.renderCallByParent(this.props,m))}}])}(te.Component);GT(qT,"displayName","ReferenceArea");GT(qT,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});GT(qT,"renderRect",function(t,e){var n;return te.isValidElement(t)?n=te.cloneElement(t,e):Wt(t)?n=t(e):n=te.createElement(YF,VD({},e,{className:"recharts-reference-area-rect"})),n});function wte(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function L8e(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return R6e(r,n)}function F8e(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function iM(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function B8e(t,e){return wte(t,e+1)}function z8e(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,f=o,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:wte(r,c)};var x=l,m,p=function(){return m===void 0&&(m=n(v,x)),m},y=v.coordinate,_=l===0||iM(t,y,p,f,a);_||(l=0,f=o,c+=1),_&&(f=y+t*(p()/2+i),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function y_(t){"@babel/helpers - typeof";return y_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y_(t)}function nW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nW(Object(n),!0).forEach(function(r){U8e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function U8e(t,e,n){return e=$8e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $8e(t){var e=H8e(t,"string");return y_(e)=="symbol"?e:e+""}function H8e(t,e){if(y_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(y_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V8e(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(h){var g=s[h],v,x=function(){return v===void 0&&(v=n(g,h)),v};if(h===o-1){var m=t*(g.coordinate+t*x()/2-l);s[h]=g=Hi(Hi({},g),{},{tickCoord:m>0?g.coordinate-m*t:g.coordinate})}else s[h]=g=Hi(Hi({},g),{},{tickCoord:g.coordinate});var p=iM(t,g.tickCoord,x,a,l);p&&(l=g.tickCoord-t*(x()/2+i),s[h]=Hi(Hi({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)c(f);return s}function W8e(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var f=r[a-1],d=n(f,a-1),h=t*(f.coordinate+t*d/2-c);o[a-1]=f=Hi(Hi({},f),{},{tickCoord:h>0?f.coordinate-h*t:f.coordinate});var g=iM(t,f.tickCoord,function(){return d},l,c);g&&(c=f.tickCoord-t*(d/2+i),o[a-1]=Hi(Hi({},f),{},{isShow:!0}))}for(var v=s?a-1:a,x=function(y){var _=o[y],b,S=function(){return b===void 0&&(b=n(_,y)),b};if(y===0){var C=t*(_.coordinate-t*S()/2-l);o[y]=_=Hi(Hi({},_),{},{tickCoord:C<0?_.coordinate-C*t:_.coordinate})}else o[y]=_=Hi(Hi({},_),{},{tickCoord:_.coordinate});var M=iM(t,_.tickCoord,S,l,c);M&&(l=_.tickCoord+t*(S()/2+i),o[y]=Hi(Hi({},_),{},{isShow:!0}))},m=0;m<v;m++)x(m);return o}function s4(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,f=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(rt(l)||Fa.isSsr)return B8e(i,typeof l=="number"&&rt(l)?l:0);var h=[],g=a==="top"||a==="bottom"?"width":"height",v=f&&g==="width"?X0(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(_,b){var S=Wt(c)?c(_.value,b):_.value;return g==="width"?L8e(X0(S,{fontSize:e,letterSpacing:n}),v,d):X0(S,{fontSize:e,letterSpacing:n})[g]},m=i.length>=2?cs(i[1].coordinate-i[0].coordinate):1,p=F8e(s,m,g);return l==="equidistantPreserveStart"?z8e(m,p,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=W8e(m,p,x,i,o,l==="preserveStartEnd"):h=V8e(m,p,x,i,o),h.filter(function(y){return y.isShow}))}var G8e=["viewBox"],q8e=["viewBox"],X8e=["ticks"];function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function Pm(){return Pm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pm.apply(this,arguments)}function rW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(n),!0).forEach(function(r){o4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RR(t,e){if(t==null)return{};var n=K8e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function K8e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ete(r.key),r)}}function Z8e(t,e,n){return e&&iW(t.prototype,e),n&&iW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q8e(t,e,n){return e=sM(e),J8e(t,Ste()?Reflect.construct(e,n||[],sM(t).constructor):e.apply(t,n))}function J8e(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eVe(t)}function eVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ste(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ste=function(){return!!t})()}function sM(t){return sM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sM(t)}function tVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GD(t,e)}function GD(t,e){return GD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GD(t,e)}function o4(t,e,n){return e=Ete(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ete(t){var e=nVe(t,"string");return Xg(e)=="symbol"?e:e+""}function nVe(t,e){if(Xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xv=function(t){function e(n){var r;return Y8e(this,e),r=Q8e(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return tVe(e,t),Z8e(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=RR(r,G8e),a=this.props,l=a.viewBox,c=RR(a,q8e);return!Zm(s,l)||!Zm(o,c)||!Zm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,f=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,x,m,p,y,_=d?-1:1,b=r.tickSize||f,S=rt(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=v=r.coordinate,m=o+ +!d*l,x=m-_*b,y=x-_*h,p=S;break;case"left":x=m=r.coordinate,v=s+ +!d*a,g=v-_*b,p=g-_*h,y=S;break;case"right":x=m=r.coordinate,v=s+ +d*a,g=v+_*b,p=g+_*h,y=S;break;default:g=v=r.coordinate,m=o+ +d*l,x=m+_*b,y=x+_*h,p=S;break}return{line:{x1:g,y1:x,x2:v,y2:m},tick:{x:p,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,f=r.axisLine,d=ts(ts(ts({},Rt(this.props,!1)),Rt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=ts(ts({},d),{},{x1:i,y1:s+h*a,x2:i+o,y2:s+h*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);d=ts(ts({},d),{},{x1:i+g*o,y1:s,x2:i+g*o,y2:s+a})}return te.createElement("line",Pm({},d,{className:en("recharts-cartesian-axis-line",uo(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,f=a.tick,d=a.tickFormatter,h=a.unit,g=s4(ts(ts({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),m=Rt(this.props,!1),p=Rt(f,!1),y=ts(ts({},m),{},{fill:"none"},Rt(l,!1)),_=g.map(function(b,S){var C=o.getTickLineCoord(b),M=C.line,T=C.tick,P=ts(ts(ts(ts({textAnchor:v,verticalAnchor:x},m),{},{stroke:"none",fill:c},p),T),{},{index:S,payload:b,visibleTicksCount:g.length,tickFormatter:d});return te.createElement(mn,Pm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},Ch(o.props,b,S)),l&&te.createElement("line",Pm({},y,M,{className:en("recharts-cartesian-axis-tick-line",uo(l,"className"))})),f&&e.renderTickItem(f,P,"".concat(Wt(d)?d(b.value,S):b.value).concat(h||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,f=i.hide;if(f)return null;var d=this.props,h=d.ticks,g=RR(d,X8e),v=h;return Wt(l)&&(v=h&&h.length>0?l(this.props):l(g)),o<=0||a<=0||!v||!v.length?null:te.createElement(mn,{className:en("recharts-cartesian-axis",c),ref:function(m){r.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),xi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return te.isValidElement(r)?o=te.cloneElement(r,i):Wt(r)?o=r(i):o=te.createElement(Mh,Pm({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(A.Component);o4(Xv,"displayName","CartesianAxis");o4(Xv,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var rVe=["x1","y1","x2","y2","key"],iVe=["offset"];function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function sW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sW(Object(n),!0).forEach(function(r){sVe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sVe(t,e,n){return e=oVe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oVe(t){var e=aVe(t,"string");return Oh(e)=="symbol"?e:e+""}function aVe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zf(){return zf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zf.apply(this,arguments)}function oW(t,e){if(t==null)return{};var n=lVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cVe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return te.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Cte(t,e){var n;if(te.isValidElement(t))n=te.cloneElement(t,e);else if(Wt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=oW(e,rVe),c=Rt(l,!1);c.offset;var f=oW(c,iVe);n=te.createElement("line",zf({},f,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function uVe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Wi(Wi({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Cte(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function dVe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=Wi(Wi({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Cte(i,c)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function fVe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var f=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==f[0]&&f.unshift(0);var d=f.map(function(h,g){var v=!f[g+1],x=v?i+o-h:f[g+1]-h;if(x<=0)return null;var m=g%e.length;return te.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:x,width:s,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function hVe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var f=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,g){return h-g});s!==f[0]&&f.unshift(0);var d=f.map(function(h,g){var v=!f[g+1],x=v?s+a-h:f[g+1]-h;if(x<=0)return null;var m=g%r.length;return te.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:x,height:l,stroke:"none",fill:r[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var pVe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return wee(s4(Wi(Wi(Wi({},Xv.defaultProps),r),{},{ticks:Cc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},mVe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return wee(s4(Wi(Wi(Wi({},Xv.defaultProps),r),{},{ticks:Cc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Ip={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function td(t){var e,n,r,i,s,o,a=t4(),l=n4(),c=n8e(),f=Wi(Wi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ip.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ip.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ip.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ip.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Ip.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Ip.verticalFill,x:rt(t.x)?t.x:c.left,y:rt(t.y)?t.y:c.top,width:rt(t.width)?t.width:c.width,height:rt(t.height)?t.height:c.height}),d=f.x,h=f.y,g=f.width,v=f.height,x=f.syncWithTicks,m=f.horizontalValues,p=f.verticalValues,y=J6e(),_=e8e();if(!rt(g)||g<=0||!rt(v)||v<=0||!rt(d)||d!==+d||!rt(h)||h!==+h)return null;var b=f.verticalCoordinatesGenerator||pVe,S=f.horizontalCoordinatesGenerator||mVe,C=f.horizontalPoints,M=f.verticalPoints;if((!C||!C.length)&&Wt(S)){var T=m&&m.length,P=S({yAxis:_?Wi(Wi({},_),{},{ticks:T?m:_.ticks}):void 0,width:a,height:l,offset:c},T?!0:x);La(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Oh(P),"]")),Array.isArray(P)&&(C=P)}if((!M||!M.length)&&Wt(b)){var N=p&&p.length,k=b({xAxis:y?Wi(Wi({},y),{},{ticks:N?p:y.ticks}):void 0,width:a,height:l,offset:c},N?!0:x);La(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Oh(k),"]")),Array.isArray(k)&&(M=k)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(cVe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),te.createElement(uVe,zf({},f,{offset:c,horizontalPoints:C,xAxis:y,yAxis:_})),te.createElement(dVe,zf({},f,{offset:c,verticalPoints:M,xAxis:y,yAxis:_})),te.createElement(fVe,zf({},f,{horizontalPoints:C})),te.createElement(hVe,zf({},f,{verticalPoints:M})))}td.displayName="CartesianGrid";var gVe=["type","layout","connectNulls","ref"],vVe=["key"];function Kg(t){"@babel/helpers - typeof";return Kg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kg(t)}function aW(t,e){if(t==null)return{};var n=yVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ex(){return ex=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ex.apply(this,arguments)}function lW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(n),!0).forEach(function(r){wa(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dp(t){return wVe(t)||bVe(t)||_Ve(t)||xVe()}function xVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ve(t,e){if(t){if(typeof t=="string")return qD(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qD(t,e)}}function bVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wVe(t){if(Array.isArray(t))return qD(t)}function qD(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function SVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ate(r.key),r)}}function EVe(t,e,n){return e&&cW(t.prototype,e),n&&cW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CVe(t,e,n){return e=oM(e),MVe(t,Mte()?Reflect.construct(e,n||[],oM(t).constructor):e.apply(t,n))}function MVe(t,e){if(e&&(Kg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AVe(t)}function AVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mte=function(){return!!t})()}function oM(t){return oM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oM(t)}function TVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XD(t,e)}function XD(t,e){return XD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XD(t,e)}function wa(t,e,n){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=PVe(t,"string");return Kg(e)=="symbol"?e:e+""}function PVe(t,e){if(Kg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Vo=function(t){function e(){var n;SVe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=CVe(this,e,[].concat(i)),wa(n,"state",{isAnimationFinished:!0,totalLength:0}),wa(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),wa(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(p,y){return p+y});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var f=Math.floor(o/c),d=o%c,h=a-o,g=[],v=0,x=0;v<l.length;x+=l[v],++v)if(x+l[v]>d){g=[].concat(Dp(l.slice(0,v)),[d-x]);break}var m=g.length%2===0?[0,h]:[h];return[].concat(Dp(e.repeat(l,f)),Dp(g),m).map(function(p){return"".concat(p,"px")}).join(", ")}),wa(n,"id",Kh("recharts-line-")),wa(n,"pathRef",function(o){n.mainCurve=o}),wa(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),wa(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return TVe(e,t),EVe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,f=s.children,d=fo(f,Nb);if(!d)return null;var h=function(x,m){return{x:x.x,y:x.y,value:x.value,errorVal:Br(x.payload,m)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(mn,g,d.map(function(v){return te.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,f=a.dataKey,d=Rt(this.props,!1),h=Rt(l,!0),g=c.map(function(x,m){var p=Zs(Zs(Zs({key:"dot-".concat(m),r:3},d),h),{},{index:m,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:c});return e.renderDotItem(l,p)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return te.createElement(mn,ex({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,f=a.connectNulls;a.ref;var d=aW(a,gVe),h=Zs(Zs(Zs({},Rt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:f});return te.createElement(ih,ex({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,g=o.animationId,v=o.animateNewValues,x=o.width,m=o.height,p=this.state,y=p.prevPoints,_=p.totalLength;return te.createElement(Va,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var S=b.t;if(y){var C=y.length/a.length,M=a.map(function(D,j){var F=Math.floor(j*C);if(y[F]){var z=y[F],U=ii(z.x,D.x),H=ii(z.y,D.y);return Zs(Zs({},D),{},{x:U(S),y:H(S)})}if(v){var R=ii(x*2,D.x),I=ii(m/2,D.y);return Zs(Zs({},D),{},{x:R(S),y:I(S)})}return Zs(Zs({},D),{},{x:D.x,y:D.y})});return s.renderCurveStatically(M,r,i)}var T=ii(0,_),P=T(S),N;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});N=s.getStrokeDasharray(P,_,k)}else N=s.generateSimpleStrokeDasharray(_,P);return s.renderCurveStatically(a,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return a&&o&&o.length&&(!c&&f>0||!Th(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,f=i.yAxis,d=i.top,h=i.left,g=i.width,v=i.height,x=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,y=a.length===1,_=en("recharts-line",l),b=c&&c.allowDataOverflow,S=f&&f.allowDataOverflow,C=b||S,M=Zt(m)?this.id:m,T=(r=Rt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,N=P===void 0?3:P,k=T.strokeWidth,D=k===void 0?2:k,j=dQ(o)?o:{},F=j.clipDot,z=F===void 0?!0:F,U=N*2+D;return te.createElement(mn,{className:_},b||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(M)},te.createElement("rect",{x:b?h:h-g/2,y:S?d:d-v/2,width:b?g:g*2,height:S?v:v*2})),!z&&te.createElement("clipPath",{id:"clipPath-dots-".concat(M)},te.createElement("rect",{x:h-U/2,y:d-U/2,width:g+U,height:v+U}))):null,!y&&this.renderCurve(C,M),this.renderErrorBar(C,M),(y||o)&&this.renderDots(C,z,M),(!x||p)&&Al.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Dp(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(Dp(o),Dp(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(te.isValidElement(r))s=te.cloneElement(r,i);else if(Wt(r))s=r(i);else{var o=i.key,a=aW(i,vVe),l=en("recharts-line-dot",typeof r!="boolean"?r.className:"");s=te.createElement(Rb,ex({key:o},a,{className:l}))}return s}}])}(A.PureComponent);wa(Vo,"displayName","Line");wa(Vo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Fa.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});wa(Vo,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,f=e.layout,d=l.map(function(h,g){var v=Br(h,o);return f==="horizontal"?{x:LC({axis:n,ticks:i,bandSize:a,entry:h,index:g}),y:Zt(v)?null:r.scale(v),value:v,payload:h}:{x:Zt(v)?null:n.scale(v),y:LC({axis:r,ticks:s,bandSize:a,entry:h,index:g}),value:v,payload:h}});return Zs({points:d,layout:f},c)});var NVe=["layout","type","stroke","connectNulls","isRange","ref"],RVe=["key"],Tte;function Yg(t){"@babel/helpers - typeof";return Yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yg(t)}function Pte(t,e){if(t==null)return{};var n=OVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function OVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Uf(){return Uf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uf.apply(this,arguments)}function uW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uW(Object(n),!0).forEach(function(r){xl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dW(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rte(r.key),r)}}function IVe(t,e,n){return e&&dW(t.prototype,e),n&&dW(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function DVe(t,e,n){return e=aM(e),jVe(t,Nte()?Reflect.construct(e,n||[],aM(t).constructor):e.apply(t,n))}function jVe(t,e){if(e&&(Yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LVe(t)}function LVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nte=function(){return!!t})()}function aM(t){return aM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aM(t)}function FVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KD(t,e)}function KD(t,e){return KD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KD(t,e)}function xl(t,e,n){return e=Rte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rte(t){var e=BVe(t,"string");return Yg(e)=="symbol"?e:e+""}function BVe(t,e){if(Yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ru=function(t){function e(){var n;kVe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=DVe(this,e,[].concat(i)),xl(n,"state",{isAnimationFinished:!0}),xl(n,"id",Kh("recharts-area-")),xl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Wt(o)&&o()}),xl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Wt(o)&&o()}),n}return FVe(e,t),IVe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=Rt(this.props,!1),g=Rt(c,!0),v=f.map(function(m,p){var y=Ou(Ou(Ou({key:"dot-".concat(p),r:3},h),g),{},{index:p,cx:m.x,cy:m.y,dataKey:d,value:m.value,payload:m.payload,points:f});return e.renderDotItem(c,y)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return te.createElement(mn,Uf({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,f=r*Math.abs(l-c),d=Ju(o.map(function(h){return h.y||0}));return rt(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Ju(s.map(function(h){return h.y||0})),d)),rt(d)?te.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,f=r*Math.abs(l-c),d=Ju(o.map(function(h){return h.x||0}));return rt(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(Ju(s.map(function(h){return h.x||0})),d)),rt(d)?te.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,c=a.type,f=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var g=Pte(a,NVe);return te.createElement(mn,{clipPath:s?"url(#clipPath-".concat(o,")"):null},te.createElement(ih,Uf({},Rt(g,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&te.createElement(ih,Uf({},Rt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),f!=="none"&&h&&te.createElement(ih,Uf({},Rt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,c=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,g=o.animationId,v=this.state,x=v.prevPoints,m=v.prevBaseLine;return te.createElement(Va,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t;if(x){var _=x.length/a.length,b=a.map(function(T,P){var N=Math.floor(P*_);if(x[N]){var k=x[N],D=ii(k.x,T.x),j=ii(k.y,T.y);return Ou(Ou({},T),{},{x:D(y),y:j(y)})}return T}),S;if(rt(l)&&typeof l=="number"){var C=ii(m,l);S=C(y)}else if(Zt(l)||$v(l)){var M=ii(m,0);S=M(y)}else S=l.map(function(T,P){var N=Math.floor(P*_);if(m[N]){var k=m[N],D=ii(k.x,T.x),j=ii(k.y,T.y);return Ou(Ou({},T),{},{x:D(y),y:j(y)})}return T});return s.renderAreaStatically(b,S,r,i)}return te.createElement(mn,null,te.createElement("defs",null,te.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(y))),te.createElement(mn,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!f&&h>0||!Th(f,o)||!Th(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.top,f=i.left,d=i.xAxis,h=i.yAxis,g=i.width,v=i.height,x=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,y=a.length===1,_=en("recharts-area",l),b=d&&d.allowDataOverflow,S=h&&h.allowDataOverflow,C=b||S,M=Zt(m)?this.id:m,T=(r=Rt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,N=P===void 0?3:P,k=T.strokeWidth,D=k===void 0?2:k,j=dQ(o)?o:{},F=j.clipDot,z=F===void 0?!0:F,U=N*2+D;return te.createElement(mn,{className:_},b||S?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(M)},te.createElement("rect",{x:b?f:f-g/2,y:S?c:c-v/2,width:b?g:g*2,height:S?v:v*2})),!z&&te.createElement("clipPath",{id:"clipPath-dots-".concat(M)},te.createElement("rect",{x:f-U/2,y:c-U/2,width:g+U,height:v+U}))):null,y?null:this.renderArea(C,M),(o||y)&&this.renderDots(C,z,M),(!x||p)&&Al.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(A.PureComponent);Tte=ru;xl(ru,"displayName","Area");xl(ru,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!Fa.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});xl(ru,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,a=o??s;if(rt(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return a==="dataMin"?d:a==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});xl(ru,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,a=t.bandSize,l=t.dataKey,c=t.stackedData,f=t.dataStartIndex,d=t.displayedData,h=t.offset,g=e.layout,v=c&&c.length,x=Tte.getBaseValue(e,n,r,i),m=g==="horizontal",p=!1,y=d.map(function(b,S){var C;v?C=c[f+S]:(C=Br(b,l),Array.isArray(C)?p=!0:C=[x,C]);var M=C[1]==null||v&&Br(b,l)==null;return m?{x:LC({axis:r,ticks:s,bandSize:a,entry:b,index:S}),y:M?null:i.scale(C[1]),value:C,payload:b}:{x:M?null:r.scale(C[1]),y:LC({axis:i,ticks:o,bandSize:a,entry:b,index:S}),value:C,payload:b}}),_;return v||p?_=y.map(function(b){var S=Array.isArray(b.value)?b.value[0]:null;return m?{x:b.x,y:S!=null&&b.y!=null?i.scale(S):null}:{x:S!=null?r.scale(S):null,y:b.y}}):_=m?i.scale(x):r.scale(x),Ou({points:y,baseLine:_,layout:g,isRange:p},h)});xl(ru,"renderDotItem",function(t,e){var n;if(te.isValidElement(t))n=te.cloneElement(t,e);else if(Wt(t))n=t(e);else{var r=en("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Pte(e,RVe);n=te.createElement(Rb,Uf({},s,{key:i,className:r}))}return n});function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function zVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ite(r.key),r)}}function $Ve(t,e,n){return e&&UVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HVe(t,e,n){return e=lM(e),VVe(t,Ote()?Reflect.construct(e,n||[],lM(t).constructor):e.apply(t,n))}function VVe(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WVe(t)}function WVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ote(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ote=function(){return!!t})()}function lM(t){return lM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lM(t)}function GVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YD(t,e)}function YD(t,e){return YD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YD(t,e)}function kte(t,e,n){return e=Ite(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ite(t){var e=qVe(t,"string");return Zg(e)=="symbol"?e:e+""}function qVe(t,e){if(Zg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ZD(){return ZD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ZD.apply(this,arguments)}function XVe(t){var e=t.xAxisId,n=t4(),r=n4(),i=pte(e);return i==null?null:te.createElement(Xv,ZD({},i,{className:en("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Cc(o,!0)}}))}var oo=function(t){function e(){return zVe(this,e),HVe(this,e,arguments)}return GVe(e,t),$Ve(e,[{key:"render",value:function(){return te.createElement(XVe,this.props)}}])}(te.Component);kte(oo,"displayName","XAxis");kte(oo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function KVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YVe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Lte(r.key),r)}}function ZVe(t,e,n){return e&&YVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function QVe(t,e,n){return e=cM(e),JVe(t,Dte()?Reflect.construct(e,n||[],cM(t).constructor):e.apply(t,n))}function JVe(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eWe(t)}function eWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dte=function(){return!!t})()}function cM(t){return cM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cM(t)}function tWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QD(t,e)}function QD(t,e){return QD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QD(t,e)}function jte(t,e,n){return e=Lte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=nWe(t,"string");return Qg(e)=="symbol"?e:e+""}function nWe(t,e){if(Qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JD(){return JD=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JD.apply(this,arguments)}var rWe=function(e){var n=e.yAxisId,r=t4(),i=n4(),s=mte(n);return s==null?null:te.createElement(Xv,JD({},s,{className:en("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Cc(a,!0)}}))},ao=function(t){function e(){return KVe(this,e),QVe(this,e,arguments)}return tWe(e,t),ZVe(e,[{key:"render",value:function(){return te.createElement(rWe,this.props)}}])}(te.Component);jte(ao,"displayName","YAxis");jte(ao,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function fW(t){return aWe(t)||oWe(t)||sWe(t)||iWe()}function iWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sWe(t,e){if(t){if(typeof t=="string")return ej(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ej(t,e)}}function oWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aWe(t){if(Array.isArray(t))return ej(t)}function ej(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var tj=function(e,n,r,i,s){var o=fo(e,i4),a=fo(e,WT),l=[].concat(fW(o),fW(a)),c=fo(e,qT),f="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,m){if(m.props[f]===r&&Tl(m.props,"extendDomain")&&rt(m.props[d])){var p=m.props[d];return[Math.min(x[0],p),Math.max(x[1],p)]}return x},h)),c.length){var g="".concat(d,"1"),v="".concat(d,"2");h=c.reduce(function(x,m){if(m.props[f]===r&&Tl(m.props,"extendDomain")&&rt(m.props[g])&&rt(m.props[v])){var p=m.props[g],y=m.props[v];return[Math.min(x[0],p,y),Math.max(x[1],p,y)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,m){return rt(m)?[Math.min(x[0],m),Math.max(x[1],m)]:x},h)),h},Fte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function s(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,d||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},a.prototype.listenerCount=function(c){var f=n?n+c:c,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,f,d,h,g,v){var x=n?n+c:c;if(!this._events[x])return!1;var m=this._events[x],p=arguments.length,y,_;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,d),!0;case 4:return m.fn.call(m.context,f,d,h),!0;case 5:return m.fn.call(m.context,f,d,h,g),!0;case 6:return m.fn.call(m.context,f,d,h,g,v),!0}for(_=1,y=new Array(p-1);_<p;_++)y[_-1]=arguments[_];m.fn.apply(m.context,y)}else{var b=m.length,S;for(_=0;_<b;_++)switch(m[_].once&&this.removeListener(c,m[_].fn,void 0,!0),p){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,f);break;case 3:m[_].fn.call(m[_].context,f,d);break;case 4:m[_].fn.call(m[_].context,f,d,h);break;default:if(!y)for(S=1,y=new Array(p-1);S<p;S++)y[S-1]=arguments[S];m[_].fn.apply(m[_].context,y)}}return!0},a.prototype.on=function(c,f,d){return s(this,c,f,d,!1)},a.prototype.once=function(c,f,d){return s(this,c,f,d,!0)},a.prototype.removeListener=function(c,f,d,h){var g=n?n+c:c;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!h||v.once)&&(!d||v.context===d)&&o(this,g);else{for(var x=0,m=[],p=v.length;x<p;x++)(v[x].fn!==f||h&&!v[x].once||d&&v[x].context!==d)&&m.push(v[x]);m.length?this._events[g]=m.length===1?m[0]:m:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(Fte);var lWe=Fte.exports;const cWe=kn(lWe);var OR=new cWe,kR="recharts.syncMouseEvents";function x_(t){"@babel/helpers - typeof";return x_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x_(t)}function uWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bte(r.key),r)}}function fWe(t,e,n){return e&&dWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function IR(t,e,n){return e=Bte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bte(t){var e=hWe(t,"string");return x_(e)=="symbol"?e:e+""}function hWe(t,e){if(x_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(x_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pWe=function(){function t(){uWe(this,t),IR(this,"activeIndex",0),IR(this,"coordinateList",[]),IR(this,"layout","horizontal")}return fWe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,f=n.offset,d=f===void 0?null:f,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,h=o+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function mWe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&rt(r)&&rt(i))return!0}return!1}function gWe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function zte(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=Jn(e,n,r,i),a=Jn(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function vWe(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,f=e.outerRadius,d=e.angle,h=Jn(a,l,c,d),g=Jn(a,l,f,d);r=h.x,i=h.y,s=g.x,o=g.y}else return zte(e);return[{x:r,y:i},{x:s,y:o}]}function __(t){"@babel/helpers - typeof";return __=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},__(t)}function hW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hW(Object(n),!0).forEach(function(r){yWe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yWe(t,e,n){return e=xWe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xWe(t){var e=_We(t,"string");return __(e)=="symbol"?e:e+""}function _We(t,e){if(__(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(__(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bWe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,f=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,x=ih;if(h==="ScatterChart")v=o,x=PUe;else if(h==="BarChart")v=gWe(d,o,l,f),x=YF;else if(d==="radial"){var m=zte(o),p=m.cx,y=m.cy,_=m.radius,b=m.startAngle,S=m.endAngle;v={cx:p,cy:y,startAngle:b,endAngle:S,innerRadius:_,outerRadius:_},x=kee}else v={points:vWe(d,o,l)},x=ih;var C=$1($1($1($1({stroke:"#ccc",pointerEvents:"none"},l),v),Rt(g,!1)),{},{payload:a,payloadIndex:c,className:en("recharts-tooltip-cursor",g.className)});return A.isValidElement(g)?A.cloneElement(g,C):A.createElement(x,C)}var wWe=["item"],SWe=["children","className","width","height","style","compact","title","desc"];function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function pW(t,e){return MWe(t)||CWe(t,e)||$te(t,e)||EWe()}function EWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CWe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function MWe(t){if(Array.isArray(t))return t}function mW(t,e){if(t==null)return{};var n=AWe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AWe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function TWe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PWe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hte(r.key),r)}}function NWe(t,e,n){return e&&PWe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RWe(t,e,n){return e=uM(e),OWe(t,Ute()?Reflect.construct(e,n||[],uM(t).constructor):e.apply(t,n))}function OWe(t,e){if(e&&(Jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kWe(t)}function kWe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ute(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ute=function(){return!!t})()}function uM(t){return uM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uM(t)}function IWe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nj(t,e)}function nj(t,e){return nj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nj(t,e)}function ev(t){return LWe(t)||jWe(t)||$te(t)||DWe()}function DWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $te(t,e){if(t){if(typeof t=="string")return rj(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rj(t,e)}}function jWe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LWe(t){if(Array.isArray(t))return rj(t)}function rj(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function gW(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(n),!0).forEach(function(r){Vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gW(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vt(t,e,n){return e=Hte(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hte(t){var e=FWe(t,"string");return Jg(e)=="symbol"?e:e+""}function FWe(t,e){if(Jg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BWe={xAxis:["bottom","top"],yAxis:["left","right"]},zWe={width:"100%",height:"100%"},Vte={x:0,y:0};function H1(t){return t}var UWe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},$We=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Be(Be(Be({},i),Jn(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return Be(Be(Be({},i),Jn(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return Vte},XT=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(ev(a),ev(c)):a},[]);return o.length>0?o:e&&e.length&&rt(i)&&rt(s)?e.slice(i,s+1):[]};function Wte(t){return t==="number"?[0,"auto"]:void 0}var ij=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=XT(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=d===void 0?a:d;h=cC(g,o.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(ev(l),[Aee(c,h)]):l},[])},vW=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=UWe(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,f=J4e(o,a,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=ij(e,n,f,d),g=$We(r,a,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},HWe=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,d=e.children,h=e.stackOffset,g=bee(f,s);return r.reduce(function(v,x){var m,p=x.type.defaultProps!==void 0?Be(Be({},x.type.defaultProps),x.props):x.props,y=p.type,_=p.dataKey,b=p.allowDataOverflow,S=p.allowDuplicatedCategory,C=p.scale,M=p.ticks,T=p.includeHidden,P=p[o];if(v[P])return v;var N=XT(e.data,{graphicalItems:i.filter(function(G){var X,ne=o in G.props?G.props[o]:(X=G.type.defaultProps)===null||X===void 0?void 0:X[o];return ne===P}),dataStartIndex:l,dataEndIndex:c}),k=N.length,D,j,F;mWe(p.domain,b,y)&&(D=vD(p.domain,null,b),g&&(y==="number"||C!=="auto")&&(F=Y0(N,_,"category")));var z=Wte(y);if(!D||D.length===0){var U,H=(U=p.domain)!==null&&U!==void 0?U:z;if(_){if(D=Y0(N,_,y),y==="category"&&g){var R=FMe(D);S&&R?(j=D,D=YC(0,k)):S||(D=L8(H,D,x).reduce(function(G,X){return G.indexOf(X)>=0?G:[].concat(ev(G),[X])},[]))}else if(y==="category")S?D=D.filter(function(G){return G!==""&&!Zt(G)}):D=L8(H,D,x).reduce(function(G,X){return G.indexOf(X)>=0||X===""||Zt(X)?G:[].concat(ev(G),[X])},[]);else if(y==="number"){var I=iBe(N,i.filter(function(G){var X,ne,ae=o in G.props?G.props[o]:(X=G.type.defaultProps)===null||X===void 0?void 0:X[o],se="hide"in G.props?G.props.hide:(ne=G.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return ae===P&&(T||!se)}),_,s,f);I&&(D=I)}g&&(y==="number"||C!=="auto")&&(F=Y0(N,_,"category"))}else g?D=YC(0,k):a&&a[P]&&a[P].hasStack&&y==="number"?D=h==="expand"?[0,1]:Mee(a[P].stackGroups,l,c):D=_ee(N,i.filter(function(G){var X=o in G.props?G.props[o]:G.type.defaultProps[o],ne="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return X===P&&(T||!ne)}),y,f,!0);if(y==="number")D=tj(d,D,P,s,M),H&&(D=vD(H,D,b));else if(y==="category"&&H){var B=H,W=D.every(function(G){return B.indexOf(G)>=0});W&&(D=B)}}return Be(Be({},v),{},Vt({},P,Be(Be({},p),{},{axisType:s,domain:D,categoricalDomain:F,duplicateDomain:j,originalDomain:(m=p.domain)!==null&&m!==void 0?m:z,isCategorical:g,layout:f})))},{})},VWe=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,d=e.children,h=XT(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=h.length,v=bee(f,s),x=-1;return r.reduce(function(m,p){var y=p.type.defaultProps!==void 0?Be(Be({},p.type.defaultProps),p.props):p.props,_=y[o],b=Wte("number");if(!m[_]){x++;var S;return v?S=YC(0,g):a&&a[_]&&a[_].hasStack?(S=Mee(a[_].stackGroups,l,c),S=tj(d,S,_,s)):(S=vD(b,_ee(h,r.filter(function(C){var M,T,P=o in C.props?C.props[o]:(M=C.type.defaultProps)===null||M===void 0?void 0:M[o],N="hide"in C.props?C.props.hide:(T=C.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===_&&!N}),"number",f),i.defaultProps.allowDataOverflow),S=tj(d,S,_,s)),Be(Be({},m),{},Vt({},_,Be(Be({axisType:s},i.defaultProps),{},{hide:!0,orientation:uo(BWe,"".concat(s,".").concat(x%2),null),domain:S,originalDomain:b,isCategorical:v,layout:f})))}return m},{})},WWe=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.children,d="".concat(i,"Id"),h=fo(f,s),g={};return h&&h.length?g=HWe(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=VWe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),g},GWe=function(e){var n=Fu(e),r=Cc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:SF(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:FC(n,r)}},yW=function(e){var n=e.children,r=e.defaultShowTooltip,i=to(n,Hg),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},qWe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Tc(n&&n.type);return r&&r.indexOf("Bar")>=0})},xW=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XWe=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,f=r.height,d=r.children,h=r.margin||{},g=to(d,Hg),v=to(d,th),x=Object.keys(l).reduce(function(S,C){var M=l[C],T=M.orientation;return!M.mirror&&!M.hide?Be(Be({},S),{},Vt({},T,S[T]+M.width)):S},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(S,C){var M=o[C],T=M.orientation;return!M.mirror&&!M.hide?Be(Be({},S),{},Vt({},T,uo(S,"".concat(T))+M.height)):S},{top:h.top||0,bottom:h.bottom||0}),p=Be(Be({},m),x),y=p.bottom;g&&(p.bottom+=g.props.height||Hg.defaultProps.height),v&&n&&(p=nBe(p,i,r,n));var _=c-p.left-p.right,b=f-p.top-p.bottom;return Be(Be({brushBottom:y},p),{},{width:Math.max(_,0),height:Math.max(b,0)})},KWe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},KT=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,h=function(p,y){var _=y.graphicalItems,b=y.stackGroups,S=y.offset,C=y.updateId,M=y.dataStartIndex,T=y.dataEndIndex,P=p.barSize,N=p.layout,k=p.barGap,D=p.barCategoryGap,j=p.maxBarSize,F=xW(N),z=F.numericAxisName,U=F.cateAxisName,H=qWe(_),R=[];return _.forEach(function(I,B){var W=XT(p.data,{graphicalItems:[I],dataStartIndex:M,dataEndIndex:T}),G=I.type.defaultProps!==void 0?Be(Be({},I.type.defaultProps),I.props):I.props,X=G.dataKey,ne=G.maxBarSize,ae=G["".concat(z,"Id")],se=G["".concat(U,"Id")],$={},Y=l.reduce(function(ot,nt){var ie=y["".concat(nt.axisType,"Map")],Z=G["".concat(nt.axisType,"Id")];ie&&ie[Z]||nt.axisType==="zAxis"||Nh();var ve=ie[Z];return Be(Be({},ot),{},Vt(Vt({},nt.axisType,ve),"".concat(nt.axisType,"Ticks"),Cc(ve)))},$),Q=Y[U],ee=Y["".concat(U,"Ticks")],ue=b&&b[ae]&&b[ae].hasStack&&hBe(I,b[ae].stackGroups),J=Tc(I.type).indexOf("Bar")>=0,K=FC(Q,ee),re=[],fe=H&&eBe({barSize:P,stackGroups:b,totalSize:KWe(Y,U)});if(J){var me,pe,Ae=Zt(ne)?j:ne,Ce=(me=(pe=FC(Q,ee,!0))!==null&&pe!==void 0?pe:Ae)!==null&&me!==void 0?me:0;re=tBe({barGap:k,barCategoryGap:D,bandSize:Ce!==K?Ce:K,sizeList:fe[se],maxBarSize:Ae}),Ce!==K&&(re=re.map(function(ot){return Be(Be({},ot),{},{position:Be(Be({},ot.position),{},{offset:ot.position.offset-Ce/2})})}))}var De=I&&I.type&&I.type.getComposedData;De&&R.push({props:Be(Be({},De(Be(Be({},Y),{},{displayedData:W,props:p,dataKey:X,item:I,bandSize:K,barPosition:re,offset:S,stackedData:ue,layout:N,dataStartIndex:M,dataEndIndex:T}))),{},Vt(Vt(Vt({key:I.key||"item-".concat(B)},z,Y[z]),U,Y[U]),"animationId",C)),childIndex:KMe(I,p.children),item:I})}),R},g=function(p,y){var _=p.props,b=p.dataStartIndex,S=p.dataEndIndex,C=p.updateId;if(!NH({props:_}))return null;var M=_.children,T=_.layout,P=_.stackOffset,N=_.data,k=_.reverseStackOrder,D=xW(T),j=D.numericAxisName,F=D.cateAxisName,z=fo(M,r),U=dBe(N,z,"".concat(j,"Id"),"".concat(F,"Id"),P,k),H=l.reduce(function(G,X){var ne="".concat(X.axisType,"Map");return Be(Be({},G),{},Vt({},ne,WWe(_,Be(Be({},X),{},{graphicalItems:z,stackGroups:X.axisType===j&&U,dataStartIndex:b,dataEndIndex:S}))))},{}),R=XWe(Be(Be({},H),{},{props:_,graphicalItems:z}),y==null?void 0:y.legendBBox);Object.keys(H).forEach(function(G){H[G]=f(_,H[G],R,G.replace("Map",""),n)});var I=H["".concat(F,"Map")],B=GWe(I),W=h(_,Be(Be({},H),{},{dataStartIndex:b,dataEndIndex:S,updateId:C,graphicalItems:z,stackGroups:U,offset:R}));return Be(Be({formattedGraphicalItems:W,graphicalItems:z,offset:R,stackGroups:U},B),H)},v=function(m){function p(y){var _,b,S;return TWe(this,p),S=RWe(this,p,[y]),Vt(S,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vt(S,"accessibilityManager",new pWe),Vt(S,"handleLegendBBoxUpdate",function(C){if(C){var M=S.state,T=M.dataStartIndex,P=M.dataEndIndex,N=M.updateId;S.setState(Be({legendBBox:C},g({props:S.props,dataStartIndex:T,dataEndIndex:P,updateId:N},Be(Be({},S.state),{},{legendBBox:C}))))}}),Vt(S,"handleReceiveSyncEvent",function(C,M,T){if(S.props.syncId===C){if(T===S.eventEmitterSymbol&&typeof S.props.syncMethod!="function")return;S.applySyncEvent(M)}}),Vt(S,"handleBrushChange",function(C){var M=C.startIndex,T=C.endIndex;if(M!==S.state.dataStartIndex||T!==S.state.dataEndIndex){var P=S.state.updateId;S.setState(function(){return Be({dataStartIndex:M,dataEndIndex:T},g({props:S.props,dataStartIndex:M,dataEndIndex:T,updateId:P},S.state))}),S.triggerSyncEvent({dataStartIndex:M,dataEndIndex:T})}}),Vt(S,"handleMouseEnter",function(C){var M=S.getMouseInfo(C);if(M){var T=Be(Be({},M),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseEnter;Wt(P)&&P(T,C)}}),Vt(S,"triggeredAfterMouseMove",function(C){var M=S.getMouseInfo(C),T=M?Be(Be({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};S.setState(T),S.triggerSyncEvent(T);var P=S.props.onMouseMove;Wt(P)&&P(T,C)}),Vt(S,"handleItemMouseEnter",function(C){S.setState(function(){return{isTooltipActive:!0,activeItem:C,activePayload:C.tooltipPayload,activeCoordinate:C.tooltipPosition||{x:C.cx,y:C.cy}}})}),Vt(S,"handleItemMouseLeave",function(){S.setState(function(){return{isTooltipActive:!1}})}),Vt(S,"handleMouseMove",function(C){C.persist(),S.throttleTriggeredAfterMouseMove(C)}),Vt(S,"handleMouseLeave",function(C){S.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};S.setState(M),S.triggerSyncEvent(M);var T=S.props.onMouseLeave;Wt(T)&&T(M,C)}),Vt(S,"handleOuterEvent",function(C){var M=XMe(C),T=uo(S.props,"".concat(M));if(M&&Wt(T)){var P,N;/.*touch.*/i.test(M)?N=S.getMouseInfo(C.changedTouches[0]):N=S.getMouseInfo(C),T((P=N)!==null&&P!==void 0?P:{},C)}}),Vt(S,"handleClick",function(C){var M=S.getMouseInfo(C);if(M){var T=Be(Be({},M),{},{isTooltipActive:!0});S.setState(T),S.triggerSyncEvent(T);var P=S.props.onClick;Wt(P)&&P(T,C)}}),Vt(S,"handleMouseDown",function(C){var M=S.props.onMouseDown;if(Wt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Vt(S,"handleMouseUp",function(C){var M=S.props.onMouseUp;if(Wt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Vt(S,"handleTouchMove",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.throttleTriggeredAfterMouseMove(C.changedTouches[0])}),Vt(S,"handleTouchStart",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseDown(C.changedTouches[0])}),Vt(S,"handleTouchEnd",function(C){C.changedTouches!=null&&C.changedTouches.length>0&&S.handleMouseUp(C.changedTouches[0])}),Vt(S,"handleDoubleClick",function(C){var M=S.props.onDoubleClick;if(Wt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Vt(S,"handleContextMenu",function(C){var M=S.props.onContextMenu;if(Wt(M)){var T=S.getMouseInfo(C);M(T,C)}}),Vt(S,"triggerSyncEvent",function(C){S.props.syncId!==void 0&&OR.emit(kR,S.props.syncId,C,S.eventEmitterSymbol)}),Vt(S,"applySyncEvent",function(C){var M=S.props,T=M.layout,P=M.syncMethod,N=S.state.updateId,k=C.dataStartIndex,D=C.dataEndIndex;if(C.dataStartIndex!==void 0||C.dataEndIndex!==void 0)S.setState(Be({dataStartIndex:k,dataEndIndex:D},g({props:S.props,dataStartIndex:k,dataEndIndex:D,updateId:N},S.state)));else if(C.activeTooltipIndex!==void 0){var j=C.chartX,F=C.chartY,z=C.activeTooltipIndex,U=S.state,H=U.offset,R=U.tooltipTicks;if(!H)return;if(typeof P=="function")z=P(R,C);else if(P==="value"){z=-1;for(var I=0;I<R.length;I++)if(R[I].value===C.activeLabel){z=I;break}}var B=Be(Be({},H),{},{x:H.left,y:H.top}),W=Math.min(j,B.x+B.width),G=Math.min(F,B.y+B.height),X=R[z]&&R[z].value,ne=ij(S.state,S.props.data,z),ae=R[z]?{x:T==="horizontal"?R[z].coordinate:W,y:T==="horizontal"?G:R[z].coordinate}:Vte;S.setState(Be(Be({},C),{},{activeLabel:X,activeCoordinate:ae,activePayload:ne,activeTooltipIndex:z}))}else S.setState(C)}),Vt(S,"renderCursor",function(C){var M,T=S.state,P=T.isTooltipActive,N=T.activeCoordinate,k=T.activePayload,D=T.offset,j=T.activeTooltipIndex,F=T.tooltipAxisBandSize,z=S.getTooltipEventType(),U=(M=C.props.active)!==null&&M!==void 0?M:P,H=S.props.layout,R=C.key||"_recharts-cursor";return te.createElement(bWe,{key:R,activeCoordinate:N,activePayload:k,activeTooltipIndex:j,chartName:n,element:C,isActive:U,layout:H,offset:D,tooltipAxisBandSize:F,tooltipEventType:z})}),Vt(S,"renderPolarAxis",function(C,M,T){var P=uo(C,"type.axisType"),N=uo(S.state,"".concat(P,"Map")),k=C.type.defaultProps,D=k!==void 0?Be(Be({},k),C.props):C.props,j=N&&N[D["".concat(P,"Id")]];return A.cloneElement(C,Be(Be({},j),{},{className:en(P,j.className),key:C.key||"".concat(M,"-").concat(T),ticks:Cc(j,!0)}))}),Vt(S,"renderPolarGrid",function(C){var M=C.props,T=M.radialLines,P=M.polarAngles,N=M.polarRadius,k=S.state,D=k.radiusAxisMap,j=k.angleAxisMap,F=Fu(D),z=Fu(j),U=z.cx,H=z.cy,R=z.innerRadius,I=z.outerRadius;return A.cloneElement(C,{polarAngles:Array.isArray(P)?P:Cc(z,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(N)?N:Cc(F,!0).map(function(B){return B.coordinate}),cx:U,cy:H,innerRadius:R,outerRadius:I,key:C.key||"polar-grid",radialLines:T})}),Vt(S,"renderLegend",function(){var C=S.state.formattedGraphicalItems,M=S.props,T=M.children,P=M.width,N=M.height,k=S.props.margin||{},D=P-(k.left||0)-(k.right||0),j=yee({children:T,formattedGraphicalItems:C,legendWidth:D,legendContent:c});if(!j)return null;var F=j.item,z=mW(j,wWe);return A.cloneElement(F,Be(Be({},z),{},{chartWidth:P,chartHeight:N,margin:k,onBBoxUpdate:S.handleLegendBBoxUpdate}))}),Vt(S,"renderTooltip",function(){var C,M=S.props,T=M.children,P=M.accessibilityLayer,N=to(T,yi);if(!N)return null;var k=S.state,D=k.isTooltipActive,j=k.activeCoordinate,F=k.activePayload,z=k.activeLabel,U=k.offset,H=(C=N.props.active)!==null&&C!==void 0?C:D;return A.cloneElement(N,{viewBox:Be(Be({},U),{},{x:U.left,y:U.top}),active:H,label:z,payload:H?F:[],coordinate:j,accessibilityLayer:P})}),Vt(S,"renderBrush",function(C){var M=S.props,T=M.margin,P=M.data,N=S.state,k=N.offset,D=N.dataStartIndex,j=N.dataEndIndex,F=N.updateId;return A.cloneElement(C,{key:C.key||"_recharts-brush",onChange:F1(S.handleBrushChange,C.props.onChange),data:P,x:rt(C.props.x)?C.props.x:k.left,y:rt(C.props.y)?C.props.y:k.top+k.height+k.brushBottom-(T.bottom||0),width:rt(C.props.width)?C.props.width:k.width,startIndex:D,endIndex:j,updateId:"brush-".concat(F)})}),Vt(S,"renderReferenceElement",function(C,M,T){if(!C)return null;var P=S,N=P.clipPathId,k=S.state,D=k.xAxisMap,j=k.yAxisMap,F=k.offset,z=C.type.defaultProps||{},U=C.props,H=U.xAxisId,R=H===void 0?z.xAxisId:H,I=U.yAxisId,B=I===void 0?z.yAxisId:I;return A.cloneElement(C,{key:C.key||"".concat(M,"-").concat(T),xAxis:D[R],yAxis:j[B],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),Vt(S,"renderActivePoints",function(C){var M=C.item,T=C.activePoint,P=C.basePoint,N=C.childIndex,k=C.isRange,D=[],j=M.props.key,F=M.item.type.defaultProps!==void 0?Be(Be({},M.item.type.defaultProps),M.item.props):M.item.props,z=F.activeDot,U=F.dataKey,H=Be(Be({index:N,dataKey:U,cx:T.x,cy:T.y,r:4,fill:KF(M.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},Rt(z,!1)),uC(z));return D.push(p.renderActiveDot(z,H,"".concat(j,"-activePoint-").concat(N))),P?D.push(p.renderActiveDot(z,Be(Be({},H),{},{cx:P.x,cy:P.y}),"".concat(j,"-basePoint-").concat(N))):k&&D.push(null),D}),Vt(S,"renderGraphicChild",function(C,M,T){var P=S.filterFormatItem(C,M,T);if(!P)return null;var N=S.getTooltipEventType(),k=S.state,D=k.isTooltipActive,j=k.tooltipAxis,F=k.activeTooltipIndex,z=k.activeLabel,U=S.props.children,H=to(U,yi),R=P.props,I=R.points,B=R.isRange,W=R.baseLine,G=P.item.type.defaultProps!==void 0?Be(Be({},P.item.type.defaultProps),P.item.props):P.item.props,X=G.activeDot,ne=G.hide,ae=G.activeBar,se=G.activeShape,$=!!(!ne&&D&&H&&(X||ae||se)),Y={};N!=="axis"&&H&&H.props.trigger==="click"?Y={onClick:F1(S.handleItemMouseEnter,C.props.onClick)}:N!=="axis"&&(Y={onMouseLeave:F1(S.handleItemMouseLeave,C.props.onMouseLeave),onMouseEnter:F1(S.handleItemMouseEnter,C.props.onMouseEnter)});var Q=A.cloneElement(C,Be(Be({},P.props),Y));function ee(nt){return typeof j.dataKey=="function"?j.dataKey(nt.payload):null}if($)if(F>=0){var ue,J;if(j.dataKey&&!j.allowDuplicatedCategory){var K=typeof j.dataKey=="function"?ee:"payload.".concat(j.dataKey.toString());ue=cC(I,K,z),J=B&&W&&cC(W,K,z)}else ue=I==null?void 0:I[F],J=B&&W&&W[F];if(se||ae){var re=C.props.activeIndex!==void 0?C.props.activeIndex:F;return[A.cloneElement(C,Be(Be(Be({},P.props),Y),{},{activeIndex:re})),null,null]}if(!Zt(ue))return[Q].concat(ev(S.renderActivePoints({item:P,activePoint:ue,basePoint:J,childIndex:F,isRange:B})))}else{var fe,me=(fe=S.getItemByXY(S.state.activeCoordinate))!==null&&fe!==void 0?fe:{graphicalItem:Q},pe=me.graphicalItem,Ae=pe.item,Ce=Ae===void 0?C:Ae,De=pe.childIndex,ot=Be(Be(Be({},P.props),Y),{},{activeIndex:De});return[A.cloneElement(Ce,ot),null,null]}return B?[Q,null,null]:[Q,null]}),Vt(S,"renderCustomized",function(C,M,T){return A.cloneElement(C,Be(Be({key:"recharts-customized-".concat(T)},S.props),S.state))}),Vt(S,"renderMap",{CartesianGrid:{handler:H1,once:!0},ReferenceArea:{handler:S.renderReferenceElement},ReferenceLine:{handler:H1},ReferenceDot:{handler:S.renderReferenceElement},XAxis:{handler:H1},YAxis:{handler:H1},Brush:{handler:S.renderBrush,once:!0},Bar:{handler:S.renderGraphicChild},Line:{handler:S.renderGraphicChild},Area:{handler:S.renderGraphicChild},Radar:{handler:S.renderGraphicChild},RadialBar:{handler:S.renderGraphicChild},Scatter:{handler:S.renderGraphicChild},Pie:{handler:S.renderGraphicChild},Funnel:{handler:S.renderGraphicChild},Tooltip:{handler:S.renderCursor,once:!0},PolarGrid:{handler:S.renderPolarGrid,once:!0},PolarAngleAxis:{handler:S.renderPolarAxis},PolarRadiusAxis:{handler:S.renderPolarAxis},Customized:{handler:S.renderCustomized}}),S.clipPathId="".concat((_=y.id)!==null&&_!==void 0?_:Kh("recharts"),"-clip"),S.throttleTriggeredAfterMouseMove=pJ(S.triggeredAfterMouseMove,(b=y.throttleDelay)!==null&&b!==void 0?b:1e3/60),S.state={},S}return IWe(p,m),NWe(p,[{key:"componentDidMount",value:function(){var _,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,b=_.children,S=_.data,C=_.height,M=_.layout,T=to(b,yi);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=ij(this.state,S,P,N),D=this.state.tooltipTicks[P].coordinate,j=(this.state.offset.top+C)/2,F=M==="horizontal",z=F?{x:D,y:j}:{y:D,x:j},U=this.state.formattedGraphicalItems.find(function(R){var I=R.item;return I.type.name==="Scatter"});U&&(z=Be(Be({},z),U.props.points[P].tooltipPosition),k=U.props.points[P].tooltipPayload);var H={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:k,activeCoordinate:z};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var S,C;this.accessibilityManager.setDetails({offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(C=this.props.margin.top)!==null&&C!==void 0?C:0}})}return null}},{key:"componentDidUpdate",value:function(_){RI([to(_.children,yi)],[to(this.props.children,yi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=to(this.props.children,yi);if(_&&typeof _.props.shared=="boolean"){var b=_.props.shared?"axis":"item";return a.indexOf(b)>=0?b:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var b=this.container,S=b.getBoundingClientRect(),C=bje(S),M={chartX:Math.round(_.pageX-C.left),chartY:Math.round(_.pageY-C.top)},T=S.width/b.offsetWidth||1,P=this.inRange(M.chartX,M.chartY,T);if(!P)return null;var N=this.state,k=N.xAxisMap,D=N.yAxisMap,j=this.getTooltipEventType(),F=vW(this.state,this.props.data,this.props.layout,P);if(j!=="axis"&&k&&D){var z=Fu(k).scale,U=Fu(D).scale,H=z&&z.invert?z.invert(M.chartX):null,R=U&&U.invert?U.invert(M.chartY):null;return Be(Be({},M),{},{xValue:H,yValue:R},F)}return F?Be(Be({},M),F):null}},{key:"inRange",value:function(_,b){var S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,C=this.props.layout,M=_/S,T=b/S;if(C==="horizontal"||C==="vertical"){var P=this.state.offset,N=M>=P.left&&M<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return N?{x:M,y:T}:null}var k=this.state,D=k.angleAxisMap,j=k.radiusAxisMap;if(D&&j){var F=Fu(D);return z8({x:M,y:T},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,b=this.getTooltipEventType(),S=to(_,yi),C={};S&&b==="axis"&&(S.props.trigger==="click"?C={onClick:this.handleClick}:C={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=uC(this.props,this.handleOuterEvent);return Be(Be({},M),C)}},{key:"addListener",value:function(){OR.on(kR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){OR.removeListener(kR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,b,S){for(var C=this.state.formattedGraphicalItems,M=0,T=C.length;M<T;M++){var P=C[M];if(P.item===_||P.props.key===_.key||b===Tc(P.item.type)&&S===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,b=this.state.offset,S=b.left,C=b.top,M=b.height,T=b.width;return te.createElement("defs",null,te.createElement("clipPath",{id:_},te.createElement("rect",{x:S,y:C,height:M,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(b,S){var C=pW(S,2),M=C[0],T=C[1];return Be(Be({},b),{},Vt({},M,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(b,S){var C=pW(S,2),M=C[0],T=C[1];return Be(Be({},b),{},Vt({},M,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(_){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(_){var b=this.state,S=b.formattedGraphicalItems,C=b.activeItem;if(S&&S.length)for(var M=0,T=S.length;M<T;M++){var P=S[M],N=P.props,k=P.item,D=k.type.defaultProps!==void 0?Be(Be({},k.type.defaultProps),k.props):k.props,j=Tc(k.type);if(j==="Bar"){var F=(N.data||[]).find(function(R){return cUe(_,R)});if(F)return{graphicalItem:P,payload:F}}else if(j==="RadialBar"){var z=(N.data||[]).find(function(R){return z8(_,R)});if(z)return{graphicalItem:P,payload:z}}else if(UT(P,C)||$T(P,C)||p_(P,C)){var U=Z$e({graphicalItem:P,activeTooltipItem:C,itemData:D.data}),H=D.activeIndex===void 0?U:D.activeIndex;return{graphicalItem:Be(Be({},P),{},{childIndex:H}),payload:p_(P,C)?D.data[U]:P.props.data[U]}}}return null}},{key:"render",value:function(){var _=this;if(!NH(this))return null;var b=this.props,S=b.children,C=b.className,M=b.width,T=b.height,P=b.style,N=b.compact,k=b.title,D=b.desc,j=mW(b,SWe),F=Rt(j,!1);if(N)return te.createElement(XV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(kI,Nm({},F,{width:M,height:T,title:k,desc:D}),this.renderClipPath(),OH(S,this.renderMap)));if(this.props.accessibilityLayer){var z,U;F.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,F.role=(U=this.props.role)!==null&&U!==void 0?U:"application",F.onKeyDown=function(R){_.accessibilityManager.keyboardEvent(R)},F.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return te.createElement(XV,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",Nm({className:en("recharts-wrapper",C),style:Be({position:"relative",cursor:"default",width:M,height:T},P)},H,{ref:function(I){_.container=I}}),te.createElement(kI,Nm({},F,{width:M,height:T,title:k,desc:D,style:zWe}),this.renderClipPath(),OH(S,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(A.Component);Vt(v,"displayName",n),Vt(v,"defaultProps",Be({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Vt(v,"getDerivedStateFromProps",function(m,p){var y=m.dataKey,_=m.data,b=m.children,S=m.width,C=m.height,M=m.layout,T=m.stackOffset,P=m.margin,N=p.dataStartIndex,k=p.dataEndIndex;if(p.updateId===void 0){var D=yW(m);return Be(Be(Be({},D),{},{updateId:0},g(Be(Be({props:m},D),{},{updateId:0}),p)),{},{prevDataKey:y,prevData:_,prevWidth:S,prevHeight:C,prevLayout:M,prevStackOffset:T,prevMargin:P,prevChildren:b})}if(y!==p.prevDataKey||_!==p.prevData||S!==p.prevWidth||C!==p.prevHeight||M!==p.prevLayout||T!==p.prevStackOffset||!Zm(P,p.prevMargin)){var j=yW(m),F={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},z=Be(Be({},vW(p,_,M)),{},{updateId:p.updateId+1}),U=Be(Be(Be({},j),F),z);return Be(Be(Be({},U),g(Be({props:m},U),p)),{},{prevDataKey:y,prevData:_,prevWidth:S,prevHeight:C,prevLayout:M,prevStackOffset:T,prevMargin:P,prevChildren:b})}if(!RI(b,p.prevChildren)){var H,R,I,B,W=to(b,Hg),G=W&&(H=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&H!==void 0?H:N,X=W&&(I=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&I!==void 0?I:k,ne=G!==N||X!==k,ae=!Zt(_),se=ae&&!ne?p.updateId:p.updateId+1;return Be(Be({updateId:se},g(Be(Be({props:m},p),{},{updateId:se,dataStartIndex:G,dataEndIndex:X}),p)),{},{prevChildren:b,dataStartIndex:G,dataEndIndex:X})}return null}),Vt(v,"renderActiveDot",function(m,p,y){var _;return A.isValidElement(m)?_=A.cloneElement(m,p):Wt(m)?_=m(p):_=te.createElement(Rb,p),te.createElement(mn,{className:"recharts-active-dot",key:y},_)});var x=A.forwardRef(function(p,y){return te.createElement(v,Nm({},p,{ref:y}))});return x.displayName=v.displayName,x},tx=KT({chartName:"LineChart",GraphicalChild:Vo,axisComponents:[{axisType:"xAxis",AxisComp:oo},{axisType:"yAxis",AxisComp:ao}],formatAxisMap:ZF}),YWe=KT({chartName:"BarChart",GraphicalChild:Jh,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:oo},{axisType:"yAxis",AxisComp:ao}],formatAxisMap:ZF}),ZWe=KT({chartName:"PieChart",GraphicalChild:nu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:zT},{axisType:"radiusAxis",AxisComp:FT}],formatAxisMap:SBe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Gte=KT({chartName:"AreaChart",GraphicalChild:ru,axisComponents:[{axisType:"xAxis",AxisComp:oo},{axisType:"yAxis",AxisComp:ao}],formatAxisMap:ZF});const QWe={light:"",dark:".dark"},qte=A.createContext(null);function Xte(){const t=A.useContext(qte);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const JWe=A.forwardRef(({id:t,className:e,children:n,config:r,...i},s)=>{const o=A.useId(),a=`chart-${t||o.replace(/:/g,"")}`;return u.jsx(qte.Provider,{value:{config:r},children:u.jsxs("div",{"data-chart":a,ref:s,className:we("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[u.jsx(eGe,{id:a,config:r}),u.jsx(gl,{children:n})]})})});JWe.displayName="Chart";const eGe=({id:t,config:e})=>{const n=Object.entries(e).filter(([,r])=>r.theme||r.color);return n.length?u.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(QWe).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([s,o])=>{var l;const a=((l=o.theme)==null?void 0:l[r])||o.color;return a?`  --color-${s}: ${a};`:null}).join(`
`)}
}
`).join(`
`)}}):null},tGe=A.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:s=!1,label:o,labelFormatter:a,labelClassName:l,formatter:c,color:f,nameKey:d,labelKey:h},g)=>{const{config:v}=Xte(),x=A.useMemo(()=>{var S;if(i||!(e!=null&&e.length))return null;const[p]=e,y=`${h||(p==null?void 0:p.dataKey)||(p==null?void 0:p.name)||"value"}`,_=sj(v,p,y),b=!h&&typeof o=="string"?((S=v[o])==null?void 0:S.label)||o:_==null?void 0:_.label;return a?u.jsx("div",{className:we("font-medium",l),children:a(b,e)}):b?u.jsx("div",{className:we("font-medium",l),children:b}):null},[o,a,e,i,l,v,h]);if(!t||!(e!=null&&e.length))return null;const m=e.length===1&&r!=="dot";return u.jsxs("div",{ref:g,className:we("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[m?null:x,u.jsx("div",{className:"grid gap-1.5",children:e.map((p,y)=>{const _=`${d||p.name||p.dataKey||"value"}`,b=sj(v,p,_),S=f||p.payload.fill||p.color;return u.jsx("div",{className:we("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&(p==null?void 0:p.value)!==void 0&&p.name?c(p.value,p.name,p,y,p.payload):u.jsxs(u.Fragment,{children:[b!=null&&b.icon?u.jsx(b.icon,{}):!s&&u.jsx("div",{className:we("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":m&&r==="dashed"}),style:{"--color-bg":S,"--color-border":S}}),u.jsxs("div",{className:we("flex flex-1 justify-between leading-none",m?"items-end":"items-center"),children:[u.jsxs("div",{className:"grid gap-1.5",children:[m?x:null,u.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||p.name})]}),p.value&&u.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:p.value.toLocaleString()})]})]})},p.dataKey)})})]})});tGe.displayName="ChartTooltip";const nGe=A.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},s)=>{const{config:o}=Xte();return n!=null&&n.length?u.jsx("div",{ref:s,className:we("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(a=>{const l=`${i||a.dataKey||"value"}`,c=sj(o,a,l);return u.jsxs("div",{className:we("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?u.jsx(c.icon,{}):u.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:a.color}}),c==null?void 0:c.label]},a.value)})}):null});nGe.displayName="ChartLegend";function sj(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}function Kv(t){const e=A.useRef({value:t,previous:t});return A.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Ob(t){const[e,n]=A.useState(void 0);return gr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var a4="Checkbox",[rGe,Lvt]=Xn(a4),[iGe,sGe]=rGe(a4),Kte=A.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:f,...d}=t,[h,g]=A.useState(null),v=Pt(e,b=>g(b)),x=A.useRef(!1),m=h?f||!!h.closest("form"):!0,[p=!1,y]=Ur({prop:i,defaultProp:s,onChange:c}),_=A.useRef(p);return A.useEffect(()=>{const b=h==null?void 0:h.form;if(b){const S=()=>y(_.current);return b.addEventListener("reset",S),()=>b.removeEventListener("reset",S)}},[h,y]),u.jsxs(iGe,{scope:n,state:p,disabled:a,children:[u.jsx(Xe.button,{type:"button",role:"checkbox","aria-checked":fd(p)?"mixed":p,"aria-required":o,"data-state":Qte(p),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onKeyDown:Oe(t.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Oe(t.onClick,b=>{y(S=>fd(S)?!0:!S),m&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),m&&u.jsx(oGe,{control:h,bubbles:!x.current,name:r,value:l,checked:p,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:fd(s)?!1:s})]})});Kte.displayName=a4;var Yte="CheckboxIndicator",Zte=A.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=sGe(Yte,n);return u.jsx(ur,{present:r||fd(s.state)||s.state===!0,children:u.jsx(Xe.span,{"data-state":Qte(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Zte.displayName=Yte;var oGe=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=A.useRef(null),a=Kv(n),l=Ob(e);A.useEffect(()=>{const f=o.current,d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&g){const v=new Event("click",{bubbles:r});f.indeterminate=fd(n),g.call(f,fd(n)?!1:n),f.dispatchEvent(v)}},[a,n,r]);const c=A.useRef(fd(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fd(t){return t==="indeterminate"}function Qte(t){return fd(t)?"indeterminate":t?"checked":"unchecked"}var Jte=Kte,aGe=Zte;const lGe=A.forwardRef(({className:t,...e},n)=>u.jsx(Jte,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(aGe,{className:we("flex items-center justify-center text-current"),children:u.jsx(ub,{className:"h-4 w-4"})})}));lGe.displayName=Jte.displayName;const cGe=rY,uGe=v3,dGe=x3;var _W=1,fGe=.9,hGe=.8,pGe=.17,DR=.1,jR=.999,mGe=.9999,gGe=.99,vGe=/[\\\/_+.#"@\[\(\{&]/,yGe=/[\\\/_+.#"@\[\(\{&]/g,xGe=/[\s-]/,ene=/[\s-]/g;function oj(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?_W:gGe;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=n.indexOf(l,i),f=0,d,h,g,v;c>=0;)d=oj(t,e,n,r,c+1,s+1,o),d>f&&(c===i?d*=_W:vGe.test(t.charAt(c-1))?(d*=hGe,g=t.slice(i,c-1).match(yGe),g&&i>0&&(d*=Math.pow(jR,g.length))):xGe.test(t.charAt(c-1))?(d*=fGe,v=t.slice(i,c-1).match(ene),v&&i>0&&(d*=Math.pow(jR,v.length))):(d*=pGe,i>0&&(d*=Math.pow(jR,c-i))),t.charAt(c)!==e.charAt(s)&&(d*=mGe)),(d<DR&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(h=oj(t,e,n,r,c+1,s+2,o),h*DR>d&&(d=h*DR)),d>f&&(f=d),c=n.indexOf(l,c+1);return o[a]=f,f}function bW(t){return t.toLowerCase().replace(ene," ")}function _Ge(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,oj(t,e,bW(t),bW(e),0,0,{})}var Jy='[cmdk-group=""]',LR='[cmdk-group-items=""]',bGe='[cmdk-group-heading=""]',tne='[cmdk-item=""]',wW=`${tne}:not([aria-disabled="true"])`,aj="cmdk-item-select",lm="data-value",wGe=(t,e,n)=>_Ge(t,e,n),nne=A.createContext(void 0),kb=()=>A.useContext(nne),rne=A.createContext(void 0),l4=()=>A.useContext(rne),ine=A.createContext(void 0),sne=A.forwardRef((t,e)=>{let n=cm(()=>{var G,X;return{search:"",value:(X=(G=t.value)!=null?G:t.defaultValue)!=null?X:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=cm(()=>new Set),i=cm(()=>new Map),s=cm(()=>new Map),o=cm(()=>new Set),a=one(t),{label:l,children:c,value:f,onValueChange:d,filter:h,shouldFilter:g,loop:v,disablePointerSelection:x=!1,vimBindings:m=!0,...p}=t,y=Yr(),_=Yr(),b=Yr(),S=A.useRef(null),C=kGe();kh(()=>{if(f!==void 0){let G=f.trim();n.current.value=G,M.emit()}},[f]),kh(()=>{C(6,j)},[]);let M=A.useMemo(()=>({subscribe:G=>(o.current.add(G),()=>o.current.delete(G)),snapshot:()=>n.current,setState:(G,X,ne)=>{var ae,se,$,Y;if(!Object.is(n.current[G],X)){if(n.current[G]=X,G==="search")D(),N(),C(1,k);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(b);Q?Q.focus():(ae=document.getElementById(y))==null||ae.focus()}if(C(7,()=>{var Q;n.current.selectedItemId=(Q=F())==null?void 0:Q.id,M.emit()}),ne||C(5,j),((se=a.current)==null?void 0:se.value)!==void 0){let Q=X??"";(Y=($=a.current).onValueChange)==null||Y.call($,Q);return}}M.emit()}},emit:()=>{o.current.forEach(G=>G())}}),[]),T=A.useMemo(()=>({value:(G,X,ne)=>{var ae;X!==((ae=s.current.get(G))==null?void 0:ae.value)&&(s.current.set(G,{value:X,keywords:ne}),n.current.filtered.items.set(G,P(X,ne)),C(2,()=>{N(),M.emit()}))},item:(G,X)=>(r.current.add(G),X&&(i.current.has(X)?i.current.get(X).add(G):i.current.set(X,new Set([G]))),C(3,()=>{D(),N(),n.current.value||k(),M.emit()}),()=>{s.current.delete(G),r.current.delete(G),n.current.filtered.items.delete(G);let ne=F();C(4,()=>{D(),(ne==null?void 0:ne.getAttribute("id"))===G&&k(),M.emit()})}),group:G=>(i.current.has(G)||i.current.set(G,new Set),()=>{s.current.delete(G),i.current.delete(G)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:y,inputId:b,labelId:_,listInnerRef:S}),[]);function P(G,X){var ne,ae;let se=(ae=(ne=a.current)==null?void 0:ne.filter)!=null?ae:wGe;return G?se(G,n.current.search,X):0}function N(){if(!n.current.search||a.current.shouldFilter===!1)return;let G=n.current.filtered.items,X=[];n.current.filtered.groups.forEach(ae=>{let se=i.current.get(ae),$=0;se.forEach(Y=>{let Q=G.get(Y);$=Math.max(Q,$)}),X.push([ae,$])});let ne=S.current;z().sort((ae,se)=>{var $,Y;let Q=ae.getAttribute("id"),ee=se.getAttribute("id");return(($=G.get(ee))!=null?$:0)-((Y=G.get(Q))!=null?Y:0)}).forEach(ae=>{let se=ae.closest(LR);se?se.appendChild(ae.parentElement===se?ae:ae.closest(`${LR} > *`)):ne.appendChild(ae.parentElement===ne?ae:ae.closest(`${LR} > *`))}),X.sort((ae,se)=>se[1]-ae[1]).forEach(ae=>{var se;let $=(se=S.current)==null?void 0:se.querySelector(`${Jy}[${lm}="${encodeURIComponent(ae[0])}"]`);$==null||$.parentElement.appendChild($)})}function k(){let G=z().find(ne=>ne.getAttribute("aria-disabled")!=="true"),X=G==null?void 0:G.getAttribute(lm);M.setState("value",X||void 0)}function D(){var G,X,ne,ae;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let se=0;for(let $ of r.current){let Y=(X=(G=s.current.get($))==null?void 0:G.value)!=null?X:"",Q=(ae=(ne=s.current.get($))==null?void 0:ne.keywords)!=null?ae:[],ee=P(Y,Q);n.current.filtered.items.set($,ee),ee>0&&se++}for(let[$,Y]of i.current)for(let Q of Y)if(n.current.filtered.items.get(Q)>0){n.current.filtered.groups.add($);break}n.current.filtered.count=se}function j(){var G,X,ne;let ae=F();ae&&(((G=ae.parentElement)==null?void 0:G.firstChild)===ae&&((ne=(X=ae.closest(Jy))==null?void 0:X.querySelector(bGe))==null||ne.scrollIntoView({block:"nearest"})),ae.scrollIntoView({block:"nearest"}))}function F(){var G;return(G=S.current)==null?void 0:G.querySelector(`${tne}[aria-selected="true"]`)}function z(){var G;return Array.from(((G=S.current)==null?void 0:G.querySelectorAll(wW))||[])}function U(G){let X=z()[G];X&&M.setState("value",X.getAttribute(lm))}function H(G){var X;let ne=F(),ae=z(),se=ae.findIndex(Y=>Y===ne),$=ae[se+G];(X=a.current)!=null&&X.loop&&($=se+G<0?ae[ae.length-1]:se+G===ae.length?ae[0]:ae[se+G]),$&&M.setState("value",$.getAttribute(lm))}function R(G){let X=F(),ne=X==null?void 0:X.closest(Jy),ae;for(;ne&&!ae;)ne=G>0?RGe(ne,Jy):OGe(ne,Jy),ae=ne==null?void 0:ne.querySelector(wW);ae?M.setState("value",ae.getAttribute(lm)):H(G)}let I=()=>U(z().length-1),B=G=>{G.preventDefault(),G.metaKey?I():G.altKey?R(1):H(1)},W=G=>{G.preventDefault(),G.metaKey?U(0):G.altKey?R(-1):H(-1)};return A.createElement(Xe.div,{ref:e,tabIndex:-1,...p,"cmdk-root":"",onKeyDown:G=>{var X;(X=p.onKeyDown)==null||X.call(p,G);let ne=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||ne))switch(G.key){case"n":case"j":{m&&G.ctrlKey&&B(G);break}case"ArrowDown":{B(G);break}case"p":case"k":{m&&G.ctrlKey&&W(G);break}case"ArrowUp":{W(G);break}case"Home":{G.preventDefault(),U(0);break}case"End":{G.preventDefault(),I();break}case"Enter":{G.preventDefault();let ae=F();if(ae){let se=new Event(aj);ae.dispatchEvent(se)}}}}},A.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:DGe},l),YT(t,G=>A.createElement(rne.Provider,{value:M},A.createElement(nne.Provider,{value:T},G))))}),SGe=A.forwardRef((t,e)=>{var n,r;let i=Yr(),s=A.useRef(null),o=A.useContext(ine),a=kb(),l=one(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;kh(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let f=ane(i,s,[t.value,t.children,s],t.keywords),d=l4(),h=yd(C=>C.value&&C.value===f.current),g=yd(C=>c||a.filter()===!1?!0:C.search?C.filtered.items.get(i)>0:!0);A.useEffect(()=>{let C=s.current;if(!(!C||t.disabled))return C.addEventListener(aj,v),()=>C.removeEventListener(aj,v)},[g,t.onSelect,t.disabled]);function v(){var C,M;x(),(M=(C=l.current).onSelect)==null||M.call(C,f.current)}function x(){d.setState("value",f.current,!0)}if(!g)return null;let{disabled:m,value:p,onSelect:y,forceMount:_,keywords:b,...S}=t;return A.createElement(Xe.div,{ref:kl(s,e),...S,id:i,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!h,"data-disabled":!!m,"data-selected":!!h,onPointerMove:m||a.getDisablePointerSelection()?void 0:x,onClick:m?void 0:v},t.children)}),EGe=A.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=Yr(),a=A.useRef(null),l=A.useRef(null),c=Yr(),f=kb(),d=yd(g=>i||f.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);kh(()=>f.group(o),[]),ane(o,a,[t.value,t.heading,l]);let h=A.useMemo(()=>({id:o,forceMount:i}),[i]);return A.createElement(Xe.div,{ref:kl(a,e),...s,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&A.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),YT(t,g=>A.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},A.createElement(ine.Provider,{value:h},g))))}),CGe=A.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=A.useRef(null),s=yd(o=>!o.search);return!n&&!s?null:A.createElement(Xe.div,{ref:kl(i,e),...r,"cmdk-separator":"",role:"separator"})}),MGe=A.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=l4(),o=yd(c=>c.search),a=yd(c=>c.selectedItemId),l=kb();return A.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),A.createElement(Xe.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?t.value:o,onChange:c=>{i||s.setState("search",c.target.value),n==null||n(c.target.value)}})}),AGe=A.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=A.useRef(null),o=A.useRef(null),a=yd(c=>c.selectedItemId),l=kb();return A.useEffect(()=>{if(o.current&&s.current){let c=o.current,f=s.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let g=c.offsetHeight;f.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),A.createElement(Xe.div,{ref:kl(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},YT(t,c=>A.createElement("div",{ref:kl(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),TGe=A.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return A.createElement(eT,{open:n,onOpenChange:r},A.createElement(gb,{container:o},A.createElement(Gh,{"cmdk-overlay":"",className:i}),A.createElement(qh,{"aria-label":t.label,"cmdk-dialog":"",className:s},A.createElement(sne,{ref:e,...a}))))}),PGe=A.forwardRef((t,e)=>yd(n=>n.filtered.count===0)?A.createElement(Xe.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),NGe=A.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return A.createElement(Xe.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},YT(t,o=>A.createElement("div",{"aria-hidden":!0},o)))}),zs=Object.assign(sne,{List:AGe,Item:SGe,Input:MGe,Group:EGe,Separator:CGe,Dialog:TGe,Empty:PGe,Loading:NGe});function RGe(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function OGe(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function one(t){let e=A.useRef(t);return kh(()=>{e.current=t}),e}var kh=typeof window>"u"?A.useEffect:A.useLayoutEffect;function cm(t){let e=A.useRef();return e.current===void 0&&(e.current=t()),e}function yd(t){let e=l4(),n=()=>t(e.snapshot());return A.useSyncExternalStore(e.subscribe,n,n)}function ane(t,e,n,r=[]){let i=A.useRef(),s=kb();return kh(()=>{var o;let a=(()=>{var c;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(c=f.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());s.value(t,a,l),(o=e.current)==null||o.setAttribute(lm,a),i.current=a}),i}var kGe=()=>{let[t,e]=A.useState(),n=cm(()=>new Map);return kh(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function IGe(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function YT({asChild:t,children:e},n){return t&&A.isValidElement(e)?A.cloneElement(IGe(e),{ref:e.ref},n(e.props.children)):n(e)}var DGe={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const lne=A.forwardRef(({className:t,...e},n)=>u.jsx(zs,{ref:n,className:we("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));lne.displayName=zs.displayName;const jGe=({children:t,...e})=>u.jsx(Ub,{...e,children:u.jsx(Jv,{className:"overflow-hidden p-0 shadow-lg",children:u.jsx(lne,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),cne=A.forwardRef(({className:t,...e},n)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(Cl,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(zs.Input,{ref:n,className:we("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));cne.displayName=zs.Input.displayName;const une=A.forwardRef(({className:t,...e},n)=>u.jsx(zs.List,{ref:n,className:we("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));une.displayName=zs.List.displayName;const dne=A.forwardRef((t,e)=>u.jsx(zs.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));dne.displayName=zs.Empty.displayName;const fne=A.forwardRef(({className:t,...e},n)=>u.jsx(zs.Group,{ref:n,className:we("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));fne.displayName=zs.Group.displayName;const LGe=A.forwardRef(({className:t,...e},n)=>u.jsx(zs.Separator,{ref:n,className:we("-mx-1 h-px bg-border",t),...e}));LGe.displayName=zs.Separator.displayName;const hne=A.forwardRef(({className:t,...e},n)=>u.jsx(zs.Item,{ref:n,className:we("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));hne.displayName=zs.Item.displayName;const FGe=["top","right","bottom","left"],xd=Math.min,ro=Math.max,dM=Math.round,V1=Math.floor,Pl=t=>({x:t,y:t}),BGe={left:"right",right:"left",bottom:"top",top:"bottom"},zGe={start:"end",end:"start"};function lj(t,e,n){return ro(t,xd(e,n))}function Uc(t,e){return typeof t=="function"?t(e):t}function $c(t){return t.split("-")[0]}function Yv(t){return t.split("-")[1]}function c4(t){return t==="x"?"y":"x"}function u4(t){return t==="y"?"height":"width"}function _d(t){return["top","bottom"].includes($c(t))?"y":"x"}function d4(t){return c4(_d(t))}function UGe(t,e,n){n===void 0&&(n=!1);const r=Yv(t),i=d4(t),s=u4(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=fM(o)),[o,fM(o)]}function $Ge(t){const e=fM(t);return[cj(t),e,cj(e)]}function cj(t){return t.replace(/start|end/g,e=>zGe[e])}function HGe(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function VGe(t,e,n,r){const i=Yv(t);let s=HGe($c(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(cj)))),s}function fM(t){return t.replace(/left|right|bottom|top/g,e=>BGe[e])}function WGe(t){return{top:0,right:0,bottom:0,left:0,...t}}function pne(t){return typeof t!="number"?WGe(t):{top:t,right:t,bottom:t,left:t}}function hM(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function SW(t,e,n){let{reference:r,floating:i}=t;const s=_d(e),o=d4(e),a=u4(o),l=$c(e),c=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(Yv(e)){case"start":g[o]-=h*(n&&c?-1:1);break;case"end":g[o]+=h*(n&&c?-1:1);break}return g}const GGe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:d}=SW(c,r,l),h=r,g={},v=0;for(let x=0;x<a.length;x++){const{name:m,fn:p}=a[x],{x:y,y:_,data:b,reset:S}=await p({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});f=y??f,d=_??d,g={...g,[m]:{...g[m],...b}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:f,y:d}=SW(c,h,l)),x=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:g}};async function b_(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=Uc(e,t),v=pne(g),m=a[h?d==="floating"?"reference":"floating":d],p=hM(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),y=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},S=hM(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(p.top-S.top+v.top)/b.y,bottom:(S.bottom-p.bottom+v.bottom)/b.y,left:(p.left-S.left+v.left)/b.x,right:(S.right-p.right+v.right)/b.x}}const qGe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=Uc(t,e)||{};if(c==null)return{};const d=pne(f),h={x:n,y:r},g=d4(i),v=u4(g),x=await o.getDimensions(c),m=g==="y",p=m?"top":"left",y=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[g]-h[g]-s.floating[v],S=h[g]-s.reference[g],C=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let M=C?C[_]:0;(!M||!await(o.isElement==null?void 0:o.isElement(C)))&&(M=a.floating[_]||s.floating[v]);const T=b/2-S/2,P=M/2-x[v]/2-1,N=xd(d[p],P),k=xd(d[y],P),D=N,j=M-x[v]-k,F=M/2-x[v]/2+T,z=lj(D,F,j),U=!l.arrow&&Yv(i)!=null&&F!==z&&s.reference[v]/2-(F<D?N:k)-x[v]/2<0,H=U?F<D?F-D:F-j:0;return{[g]:h[g]+H,data:{[g]:z,centerOffset:F-z-H,...U&&{alignmentOffset:H}},reset:U}}}),XGe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...m}=Uc(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=$c(i),y=_d(a),_=$c(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(_||!x?[fM(a)]:$Ge(a)),C=v!=="none";!h&&C&&S.push(...VGe(a,x,v,b));const M=[a,...S],T=await b_(e,m),P=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&P.push(T[p]),d){const F=UGe(i,o,b);P.push(T[F[0]],T[F[1]])}if(N=[...N,{placement:i,overflows:P}],!P.every(F=>F<=0)){var k,D;const F=(((k=s.flip)==null?void 0:k.index)||0)+1,z=M[F];if(z)return{data:{index:F,overflows:N},reset:{placement:z}};let U=(D=N.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:D.placement;if(!U)switch(g){case"bestFit":{var j;const H=(j=N.filter(R=>{if(C){const I=_d(R.placement);return I===y||I==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(I=>I>0).reduce((I,B)=>I+B,0)]).sort((R,I)=>R[1]-I[1])[0])==null?void 0:j[0];H&&(U=H);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};function EW(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CW(t){return FGe.some(e=>t[e]>=0)}const KGe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Uc(t,e);switch(r){case"referenceHidden":{const s=await b_(e,{...i,elementContext:"reference"}),o=EW(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CW(o)}}}case"escaped":{const s=await b_(e,{...i,altBoundary:!0}),o=EW(s,n.floating);return{data:{escapedOffsets:o,escaped:CW(o)}}}default:return{}}}}};async function YGe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=$c(n),a=Yv(n),l=_d(n)==="y",c=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,d=Uc(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*f,y:h*c}:{x:h*c,y:g*f}}const ZGe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await YGe(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},QGe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x:p,y}=m;return{x:p,y}}},...l}=Uc(t,e),c={x:n,y:r},f=await b_(e,l),d=_d($c(i)),h=c4(d);let g=c[h],v=c[d];if(s){const m=h==="y"?"top":"left",p=h==="y"?"bottom":"right",y=g+f[m],_=g-f[p];g=lj(y,g,_)}if(o){const m=d==="y"?"top":"left",p=d==="y"?"bottom":"right",y=v+f[m],_=v-f[p];v=lj(y,v,_)}const x=a.fn({...e,[h]:g,[d]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[d]:o}}}}}},JGe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Uc(t,e),f={x:n,y:r},d=_d(i),h=c4(d);let g=f[h],v=f[d];const x=Uc(a,e),m=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const _=h==="y"?"height":"width",b=s.reference[h]-s.floating[_]+m.mainAxis,S=s.reference[h]+s.reference[_]-m.mainAxis;g<b?g=b:g>S&&(g=S)}if(c){var p,y;const _=h==="y"?"width":"height",b=["top","left"].includes($c(i)),S=s.reference[d]-s.floating[_]+(b&&((p=o.offset)==null?void 0:p[d])||0)+(b?0:m.crossAxis),C=s.reference[d]+s.reference[_]+(b?0:((y=o.offset)==null?void 0:y[d])||0)-(b?m.crossAxis:0);v<S?v=S:v>C&&(v=C)}return{[h]:g,[d]:v}}}},e7e=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Uc(t,e),f=await b_(e,c),d=$c(i),h=Yv(i),g=_d(i)==="y",{width:v,height:x}=s.floating;let m,p;d==="top"||d==="bottom"?(m=d,p=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,m=h==="end"?"top":"bottom");const y=x-f.top-f.bottom,_=v-f.left-f.right,b=xd(x-f[m],y),S=xd(v-f[p],_),C=!e.middlewareData.shift;let M=b,T=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=y),C&&!h){const N=ro(f.left,0),k=ro(f.right,0),D=ro(f.top,0),j=ro(f.bottom,0);g?T=v-2*(N!==0||k!==0?N+k:ro(f.left,f.right)):M=x-2*(D!==0||j!==0?D+j:ro(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:M});const P=await o.getDimensions(a.floating);return v!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function ZT(){return typeof window<"u"}function Zv(t){return mne(t)?(t.nodeName||"").toLowerCase():"#document"}function ho(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $l(t){var e;return(e=(mne(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mne(t){return ZT()?t instanceof Node||t instanceof ho(t).Node:!1}function Wa(t){return ZT()?t instanceof Element||t instanceof ho(t).Element:!1}function jl(t){return ZT()?t instanceof HTMLElement||t instanceof ho(t).HTMLElement:!1}function MW(t){return!ZT()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ho(t).ShadowRoot}function Ib(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Ga(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function t7e(t){return["table","td","th"].includes(Zv(t))}function QT(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function f4(t){const e=h4(),n=Wa(t)?Ga(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function n7e(t){let e=bd(t);for(;jl(e)&&!tv(e);){if(f4(e))return e;if(QT(e))return null;e=bd(e)}return null}function h4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function tv(t){return["html","body","#document"].includes(Zv(t))}function Ga(t){return ho(t).getComputedStyle(t)}function JT(t){return Wa(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bd(t){if(Zv(t)==="html")return t;const e=t.assignedSlot||t.parentNode||MW(t)&&t.host||$l(t);return MW(e)?e.host:e}function gne(t){const e=bd(t);return tv(e)?t.ownerDocument?t.ownerDocument.body:t.body:jl(e)&&Ib(e)?e:gne(e)}function w_(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=gne(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=ho(i);if(s){const a=uj(o);return e.concat(o,o.visualViewport||[],Ib(i)?i:[],a&&n?w_(a):[])}return e.concat(i,w_(i,[],n))}function uj(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vne(t){const e=Ga(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=jl(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=dM(n)!==s||dM(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function p4(t){return Wa(t)?t:t.contextElement}function eg(t){const e=p4(t);if(!jl(e))return Pl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=vne(e);let o=(s?dM(n.width):n.width)/r,a=(s?dM(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const r7e=Pl(0);function yne(t){const e=ho(t);return!h4()||!e.visualViewport?r7e:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function i7e(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ho(t)?!1:e}function Ih(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=p4(t);let o=Pl(1);e&&(r?Wa(r)&&(o=eg(r)):o=eg(t));const a=i7e(s,n,r)?yne(s):Pl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(s){const h=ho(s),g=r&&Wa(r)?ho(r):r;let v=h,x=uj(v);for(;x&&r&&g!==v;){const m=eg(x),p=x.getBoundingClientRect(),y=Ga(x),_=p.left+(x.clientLeft+parseFloat(y.paddingLeft))*m.x,b=p.top+(x.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,c*=m.y,f*=m.x,d*=m.y,l+=_,c+=b,v=ho(x),x=uj(v)}}return hM({width:f,height:d,x:l,y:c})}function m4(t,e){const n=JT(t).scrollLeft;return e?e.left+n:Ih($l(t)).left+n}function xne(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:m4(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function s7e(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=$l(r),a=e?QT(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Pl(1);const f=Pl(0),d=jl(r);if((d||!d&&!s)&&((Zv(r)!=="body"||Ib(o))&&(l=JT(r)),jl(r))){const g=Ih(r);c=eg(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const h=o&&!d&&!s?xne(o,l,!0):Pl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+h.x,y:n.y*c.y-l.scrollTop*c.y+f.y+h.y}}function o7e(t){return Array.from(t.getClientRects())}function a7e(t){const e=$l(t),n=JT(t),r=t.ownerDocument.body,i=ro(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ro(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+m4(t);const a=-n.scrollTop;return Ga(r).direction==="rtl"&&(o+=ro(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function l7e(t,e){const n=ho(t),r=$l(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=h4();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function c7e(t,e){const n=Ih(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=jl(t)?eg(t):Pl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function AW(t,e,n){let r;if(e==="viewport")r=l7e(t,n);else if(e==="document")r=a7e($l(t));else if(Wa(e))r=c7e(e,n);else{const i=yne(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return hM(r)}function _ne(t,e){const n=bd(t);return n===e||!Wa(n)||tv(n)?!1:Ga(n).position==="fixed"||_ne(n,e)}function u7e(t,e){const n=e.get(t);if(n)return n;let r=w_(t,[],!1).filter(a=>Wa(a)&&Zv(a)!=="body"),i=null;const s=Ga(t).position==="fixed";let o=s?bd(t):t;for(;Wa(o)&&!tv(o);){const a=Ga(o),l=f4(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ib(o)&&!l&&_ne(t,o))?r=r.filter(f=>f!==o):i=a,o=bd(o)}return e.set(t,r),r}function d7e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?QT(e)?[]:u7e(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const d=AW(e,f,i);return c.top=ro(d.top,c.top),c.right=xd(d.right,c.right),c.bottom=xd(d.bottom,c.bottom),c.left=ro(d.left,c.left),c},AW(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function f7e(t){const{width:e,height:n}=vne(t);return{width:e,height:n}}function h7e(t,e,n){const r=jl(e),i=$l(e),s=n==="fixed",o=Ih(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Pl(0);if(r||!r&&!s)if((Zv(e)!=="body"||Ib(i))&&(a=JT(e)),r){const h=Ih(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=m4(i));const c=i&&!r&&!s?xne(i,a):Pl(0),f=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:f,y:d,width:o.width,height:o.height}}function FR(t){return Ga(t).position==="static"}function TW(t,e){if(!jl(t)||Ga(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $l(t)===n&&(n=n.ownerDocument.body),n}function bne(t,e){const n=ho(t);if(QT(t))return n;if(!jl(t)){let i=bd(t);for(;i&&!tv(i);){if(Wa(i)&&!FR(i))return i;i=bd(i)}return n}let r=TW(t,e);for(;r&&t7e(r)&&FR(r);)r=TW(r,e);return r&&tv(r)&&FR(r)&&!f4(r)?n:r||n7e(t)||n}const p7e=async function(t){const e=this.getOffsetParent||bne,n=this.getDimensions,r=await n(t.floating);return{reference:h7e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function m7e(t){return Ga(t).direction==="rtl"}const g7e={convertOffsetParentRelativeRectToViewportRelativeRect:s7e,getDocumentElement:$l,getClippingRect:d7e,getOffsetParent:bne,getElementRects:p7e,getClientRects:o7e,getDimensions:f7e,getScale:eg,isElement:Wa,isRTL:m7e};function wne(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function v7e(t,e){let n=null,r;const i=$l(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:f,top:d,width:h,height:g}=c;if(a||e(),!h||!g)return;const v=V1(d),x=V1(i.clientWidth-(f+h)),m=V1(i.clientHeight-(d+g)),p=V1(f),_={rootMargin:-v+"px "+-x+"px "+-m+"px "+-p+"px",threshold:ro(0,xd(1,l))||1};let b=!0;function S(C){const M=C[0].intersectionRatio;if(M!==l){if(!b)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}M===1&&!wne(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(S,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(S,_)}n.observe(t)}return o(!0),s}function y7e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=p4(t),f=i||s?[...c?w_(c):[],...w_(e)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=c&&a?v7e(c,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(p=>{let[y]=p;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,x=l?Ih(t):null;l&&m();function m(){const p=Ih(t);x&&!wne(x,p)&&n(),x=p,v=requestAnimationFrame(m)}return n(),()=>{var p;f.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(p=g)==null||p.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const x7e=ZGe,_7e=QGe,b7e=XGe,w7e=e7e,S7e=KGe,PW=qGe,E7e=JGe,C7e=(t,e,n)=>{const r=new Map,i={platform:g7e,...n},s={...i.platform,_c:r};return GGe(t,e,{...i,platform:s})};var pE=typeof document<"u"?A.useLayoutEffect:A.useEffect;function pM(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!pM(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!pM(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function Sne(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function NW(t,e){const n=Sne(t);return Math.round(e*n)/n}function BR(t){const e=A.useRef(t);return pE(()=>{e.current=t}),e}function M7e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,d]=A.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=A.useState(r);pM(h,r)||g(r);const[v,x]=A.useState(null),[m,p]=A.useState(null),y=A.useCallback(R=>{R!==C.current&&(C.current=R,x(R))},[]),_=A.useCallback(R=>{R!==M.current&&(M.current=R,p(R))},[]),b=s||v,S=o||m,C=A.useRef(null),M=A.useRef(null),T=A.useRef(f),P=l!=null,N=BR(l),k=BR(i),D=BR(c),j=A.useCallback(()=>{if(!C.current||!M.current)return;const R={placement:e,strategy:n,middleware:h};k.current&&(R.platform=k.current),C7e(C.current,M.current,R).then(I=>{const B={...I,isPositioned:D.current!==!1};F.current&&!pM(T.current,B)&&(T.current=B,Wh.flushSync(()=>{d(B)}))})},[h,e,n,k,D]);pE(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[c]);const F=A.useRef(!1);pE(()=>(F.current=!0,()=>{F.current=!1}),[]),pE(()=>{if(b&&(C.current=b),S&&(M.current=S),b&&S){if(N.current)return N.current(b,S,j);j()}},[b,S,j,N,P]);const z=A.useMemo(()=>({reference:C,floating:M,setReference:y,setFloating:_}),[y,_]),U=A.useMemo(()=>({reference:b,floating:S}),[b,S]),H=A.useMemo(()=>{const R={position:n,left:0,top:0};if(!U.floating)return R;const I=NW(U.floating,f.x),B=NW(U.floating,f.y);return a?{...R,transform:"translate("+I+"px, "+B+"px)",...Sne(U.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:I,top:B}},[n,a,U.floating,f.x,f.y]);return A.useMemo(()=>({...f,update:j,refs:z,elements:U,floatingStyles:H}),[f,j,z,U,H])}const A7e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?PW({element:r.current,padding:i}).fn(n):{}:r?PW({element:r,padding:i}).fn(n):{}}}},T7e=(t,e)=>({...x7e(t),options:[t,e]}),P7e=(t,e)=>({..._7e(t),options:[t,e]}),N7e=(t,e)=>({...E7e(t),options:[t,e]}),R7e=(t,e)=>({...b7e(t),options:[t,e]}),O7e=(t,e)=>({...w7e(t),options:[t,e]}),k7e=(t,e)=>({...S7e(t),options:[t,e]}),I7e=(t,e)=>({...A7e(t),options:[t,e]});var D7e="Arrow",Ene=A.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return u.jsx(Xe.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ene.displayName=D7e;var j7e=Ene,g4="Popper",[Cne,Hl]=Xn(g4),[L7e,Mne]=Cne(g4),Ane=t=>{const{__scopePopper:e,children:n}=t,[r,i]=A.useState(null);return u.jsx(L7e,{scope:e,anchor:r,onAnchorChange:i,children:n})};Ane.displayName=g4;var Tne="PopperAnchor",Pne=A.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Mne(Tne,n),o=A.useRef(null),a=Pt(e,o);return A.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Xe.div,{...i,ref:a})});Pne.displayName=Tne;var v4="PopperContent",[F7e,B7e]=Cne(v4),Nne=A.forwardRef((t,e)=>{var $,Y,Q,ee,ue,J;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=t,m=Mne(v4,n),[p,y]=A.useState(null),_=Pt(e,K=>y(K)),[b,S]=A.useState(null),C=Ob(b),M=(C==null?void 0:C.width)??0,T=(C==null?void 0:C.height)??0,P=r+(s!=="center"?"-"+s:""),N=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},k=Array.isArray(c)?c:[c],D=k.length>0,j={padding:N,boundary:k.filter(U7e),altBoundary:D},{refs:F,floatingStyles:z,placement:U,isPositioned:H,middlewareData:R}=M7e({strategy:"fixed",placement:P,whileElementsMounted:(...K)=>y7e(...K,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[T7e({mainAxis:i+T,alignmentAxis:o}),l&&P7e({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?N7e():void 0,...j}),l&&R7e({...j}),O7e({...j,apply:({elements:K,rects:re,availableWidth:fe,availableHeight:me})=>{const{width:pe,height:Ae}=re.reference,Ce=K.floating.style;Ce.setProperty("--radix-popper-available-width",`${fe}px`),Ce.setProperty("--radix-popper-available-height",`${me}px`),Ce.setProperty("--radix-popper-anchor-width",`${pe}px`),Ce.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),b&&I7e({element:b,padding:a}),$7e({arrowWidth:M,arrowHeight:T}),h&&k7e({strategy:"referenceHidden",...j})]}),[I,B]=kne(U),W=Ln(v);gr(()=>{H&&(W==null||W())},[H,W]);const G=($=R.arrow)==null?void 0:$.x,X=(Y=R.arrow)==null?void 0:Y.y,ne=((Q=R.arrow)==null?void 0:Q.centerOffset)!==0,[ae,se]=A.useState();return gr(()=>{p&&se(window.getComputedStyle(p).zIndex)},[p]),u.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:H?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ae,"--radix-popper-transform-origin":[(ee=R.transformOrigin)==null?void 0:ee.x,(ue=R.transformOrigin)==null?void 0:ue.y].join(" "),...((J=R.hide)==null?void 0:J.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(F7e,{scope:n,placedSide:I,onArrowChange:S,arrowX:G,arrowY:X,shouldHideArrow:ne,children:u.jsx(Xe.div,{"data-side":I,"data-align":B,...x,ref:_,style:{...x.style,animation:H?void 0:"none"}})})})});Nne.displayName=v4;var Rne="PopperArrow",z7e={top:"bottom",right:"left",bottom:"top",left:"right"},One=A.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=B7e(Rne,r),o=z7e[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(j7e,{...i,ref:n,style:{...i.style,display:"block"}})})});One.displayName=Rne;function U7e(t){return t!==null}var $7e=t=>({name:"transformOrigin",options:t,fn(e){var m,p,y;const{placement:n,rects:r,middlewareData:i}=e,o=((m=i.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=kne(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((p=i.arrow)==null?void 0:p.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let v="",x="";return c==="bottom"?(v=o?d:`${h}px`,x=`${-l}px`):c==="top"?(v=o?d:`${h}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=o?d:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=o?d:`${g}px`),{data:{x:v,y:x}}}});function kne(t){const[e,n="center"]=t.split("-");return[e,n]}var y4=Ane,Qv=Pne,Db=Nne,jb=One,zR="rovingFocusGroup.onEntryFocus",H7e={bubbles:!1,cancelable:!0},eP="RovingFocusGroup",[dj,Ine,V7e]=Kc(eP),[W7e,Vl]=Xn(eP,[V7e]),[G7e,q7e]=W7e(eP),Dne=A.forwardRef((t,e)=>u.jsx(dj.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(dj.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(X7e,{...t,ref:e})})}));Dne.displayName=eP;var X7e=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...d}=t,h=A.useRef(null),g=Pt(e,h),v=Bl(s),[x=null,m]=Ur({prop:o,defaultProp:a,onChange:l}),[p,y]=A.useState(!1),_=Ln(c),b=Ine(n),S=A.useRef(!1),[C,M]=A.useState(0);return A.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(zR,_),()=>T.removeEventListener(zR,_)},[_]),u.jsx(G7e,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:A.useCallback(T=>m(T),[m]),onItemShiftTab:A.useCallback(()=>y(!0),[]),onFocusableItemAdd:A.useCallback(()=>M(T=>T+1),[]),onFocusableItemRemove:A.useCallback(()=>M(T=>T-1),[]),children:u.jsx(Xe.div,{tabIndex:p||C===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:Oe(t.onMouseDown,()=>{S.current=!0}),onFocus:Oe(t.onFocus,T=>{const P=!S.current;if(T.target===T.currentTarget&&P&&!p){const N=new CustomEvent(zR,H7e);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const k=b().filter(U=>U.focusable),D=k.find(U=>U.active),j=k.find(U=>U.id===x),z=[D,j,...k].filter(Boolean).map(U=>U.ref.current);Fne(z,f)}}S.current=!1}),onBlur:Oe(t.onBlur,()=>y(!1))})})}),jne="RovingFocusGroupItem",Lne=A.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Yr(),l=s||a,c=q7e(jne,n),f=c.currentTabStopId===l,d=Ine(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=c;return A.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),u.jsx(dj.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Xe.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Oe(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Oe(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Oe(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=Z7e(v,c.orientation,c.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let p=d().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")p.reverse();else if(x==="prev"||x==="next"){x==="prev"&&p.reverse();const y=p.indexOf(v.currentTarget);p=c.loop?Q7e(p,y+1):p.slice(y+1)}setTimeout(()=>Fne(p))}})})})});Lne.displayName=jne;var K7e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Y7e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Z7e(t,e,n){const r=Y7e(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return K7e[r]}function Fne(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Q7e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Lb=Dne,Fb=Lne,fj=["Enter"," "],J7e=["ArrowDown","PageUp","Home"],Bne=["ArrowUp","PageDown","End"],e9e=[...J7e,...Bne],t9e={ltr:[...fj,"ArrowRight"],rtl:[...fj,"ArrowLeft"]},n9e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tP="Menu",[S_,r9e,i9e]=Kc(tP),[ep,Bb]=Xn(tP,[i9e,Hl,Vl]),x4=Hl(),zne=Vl(),[Fvt,tp]=ep(tP),[Bvt,zb]=ep(tP),s9e="MenuAnchor",_4=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=x4(n);return u.jsx(Qv,{...i,...r,ref:e})});_4.displayName=s9e;var b4="MenuPortal",[o9e,Une]=ep(b4,{forceMount:void 0}),$ne=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=tp(b4,e);return u.jsx(o9e,{scope:e,forceMount:n,children:u.jsx(ur,{present:n||s.open,children:u.jsx(Iv,{asChild:!0,container:i,children:r})})})};$ne.displayName=b4;var Xo="MenuContent",[a9e,w4]=ep(Xo),Hne=A.forwardRef((t,e)=>{const n=Une(Xo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=tp(Xo,t.__scopeMenu),o=zb(Xo,t.__scopeMenu);return u.jsx(S_.Provider,{scope:t.__scopeMenu,children:u.jsx(ur,{present:r||s.open,children:u.jsx(S_.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(l9e,{...i,ref:e}):u.jsx(c9e,{...i,ref:e})})})})}),l9e=A.forwardRef((t,e)=>{const n=tp(Xo,t.__scopeMenu),r=A.useRef(null),i=Pt(e,r);return A.useEffect(()=>{const s=r.current;if(s)return JA(s)},[]),u.jsx(S4,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Oe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),c9e=A.forwardRef((t,e)=>{const n=tp(Xo,t.__scopeMenu);return u.jsx(S4,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),u9e=vd("MenuContent.ScrollLock"),S4=A.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...x}=t,m=tp(Xo,n),p=zb(Xo,n),y=x4(n),_=zne(n),b=r9e(n),[S,C]=A.useState(null),M=A.useRef(null),T=Pt(e,M,m.onContentChange),P=A.useRef(0),N=A.useRef(""),k=A.useRef(0),D=A.useRef(null),j=A.useRef("right"),F=A.useRef(0),z=v?mb:A.Fragment,U=v?{as:u9e,allowPinchZoom:!0}:void 0,H=I=>{var $,Y;const B=N.current+I,W=b().filter(Q=>!Q.disabled),G=document.activeElement,X=($=W.find(Q=>Q.ref.current===G))==null?void 0:$.textValue,ne=W.map(Q=>Q.textValue),ae=w9e(ne,B,X),se=(Y=W.find(Q=>Q.textValue===ae))==null?void 0:Y.ref.current;(function Q(ee){N.current=ee,window.clearTimeout(P.current),ee!==""&&(P.current=window.setTimeout(()=>Q(""),1e3))})(B),se&&setTimeout(()=>se.focus())};A.useEffect(()=>()=>window.clearTimeout(P.current),[]),ZA();const R=A.useCallback(I=>{var W,G;return j.current===((W=D.current)==null?void 0:W.side)&&E9e(I,(G=D.current)==null?void 0:G.area)},[]);return u.jsx(a9e,{scope:n,searchRef:N,onItemEnter:A.useCallback(I=>{R(I)&&I.preventDefault()},[R]),onItemLeave:A.useCallback(I=>{var B;R(I)||((B=M.current)==null||B.focus(),C(null))},[R]),onTriggerLeave:A.useCallback(I=>{R(I)&&I.preventDefault()},[R]),pointerGraceTimerRef:k,onPointerGraceIntentChange:A.useCallback(I=>{D.current=I},[]),children:u.jsx(z,{...U,children:u.jsx(pb,{asChild:!0,trapped:i,onMountAutoFocus:Oe(s,I=>{var B;I.preventDefault(),(B=M.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Zc,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,children:u.jsx(Lb,{asChild:!0,..._,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:S,onCurrentTabStopIdChange:C,onEntryFocus:Oe(l,I=>{p.isUsingKeyboardRef.current||I.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(Db,{role:"menu","aria-orientation":"vertical","data-state":sre(m.open),"data-radix-menu-content":"",dir:p.dir,...y,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:Oe(x.onKeyDown,I=>{const W=I.target.closest("[data-radix-menu-content]")===I.currentTarget,G=I.ctrlKey||I.altKey||I.metaKey,X=I.key.length===1;W&&(I.key==="Tab"&&I.preventDefault(),!G&&X&&H(I.key));const ne=M.current;if(I.target!==ne||!e9e.includes(I.key))return;I.preventDefault();const se=b().filter($=>!$.disabled).map($=>$.ref.current);Bne.includes(I.key)&&se.reverse(),_9e(se)}),onBlur:Oe(t.onBlur,I=>{I.currentTarget.contains(I.target)||(window.clearTimeout(P.current),N.current="")}),onPointerMove:Oe(t.onPointerMove,E_(I=>{const B=I.target,W=F.current!==I.clientX;if(I.currentTarget.contains(B)&&W){const G=I.clientX>F.current?"right":"left";j.current=G,F.current=I.clientX}}))})})})})})})});Hne.displayName=Xo;var d9e="MenuGroup",E4=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Xe.div,{role:"group",...r,ref:e})});E4.displayName=d9e;var f9e="MenuLabel",Vne=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});Vne.displayName=f9e;var mM="MenuItem",RW="menu.itemSelect",nP=A.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=A.useRef(null),o=zb(mM,t.__scopeMenu),a=w4(mM,t.__scopeMenu),l=Pt(e,s),c=A.useRef(!1),f=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(RW,{bubbles:!0,cancelable:!0});d.addEventListener(RW,g=>r==null?void 0:r(g),{once:!0}),Ox(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(Wne,{...i,ref:l,disabled:n,onClick:Oe(t.onClick,f),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:Oe(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Oe(t.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||fj.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});nP.displayName=mM;var Wne=A.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=w4(mM,n),a=zne(n),l=A.useRef(null),c=Pt(e,l),[f,d]=A.useState(!1),[h,g]=A.useState("");return A.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[s.children]),u.jsx(S_.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:u.jsx(Fb,{asChild:!0,...a,focusable:!r,children:u.jsx(Xe.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Oe(t.onPointerMove,E_(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Oe(t.onPointerLeave,E_(v=>o.onItemLeave(v))),onFocus:Oe(t.onFocus,()=>d(!0)),onBlur:Oe(t.onBlur,()=>d(!1))})})})}),h9e="MenuCheckboxItem",Gne=A.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(Zne,{scope:t.__scopeMenu,checked:n,children:u.jsx(nP,{role:"menuitemcheckbox","aria-checked":gM(n)?"mixed":n,...i,ref:e,"data-state":M4(n),onSelect:Oe(i.onSelect,()=>r==null?void 0:r(gM(n)?!0:!n),{checkForDefaultPrevented:!1})})})});Gne.displayName=h9e;var qne="MenuRadioGroup",[p9e,m9e]=ep(qne,{value:void 0,onValueChange:()=>{}}),Xne=A.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Ln(r);return u.jsx(p9e,{scope:t.__scopeMenu,value:n,onValueChange:s,children:u.jsx(E4,{...i,ref:e})})});Xne.displayName=qne;var Kne="MenuRadioItem",Yne=A.forwardRef((t,e)=>{const{value:n,...r}=t,i=m9e(Kne,t.__scopeMenu),s=n===i.value;return u.jsx(Zne,{scope:t.__scopeMenu,checked:s,children:u.jsx(nP,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":M4(s),onSelect:Oe(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});Yne.displayName=Kne;var C4="MenuItemIndicator",[Zne,g9e]=ep(C4,{checked:!1}),Qne=A.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=g9e(C4,n);return u.jsx(ur,{present:r||gM(s.checked)||s.checked===!0,children:u.jsx(Xe.span,{...i,ref:e,"data-state":M4(s.checked)})})});Qne.displayName=C4;var v9e="MenuSeparator",Jne=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Xe.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Jne.displayName=v9e;var y9e="MenuArrow",ere=A.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=x4(n);return u.jsx(jb,{...i,...r,ref:e})});ere.displayName=y9e;var x9e="MenuSub",[zvt,tre]=ep(x9e),P0="MenuSubTrigger",nre=A.forwardRef((t,e)=>{const n=tp(P0,t.__scopeMenu),r=zb(P0,t.__scopeMenu),i=tre(P0,t.__scopeMenu),s=w4(P0,t.__scopeMenu),o=A.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},f=A.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return A.useEffect(()=>f,[f]),A.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),u.jsx(_4,{asChild:!0,...c,children:u.jsx(Wne,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":sre(n.open),...t,ref:kl(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Oe(t.onPointerMove,E_(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Oe(t.onPointerLeave,E_(d=>{var g,v;f();const h=(g=n.content)==null?void 0:g.getBoundingClientRect();if(h){const x=(v=n.content)==null?void 0:v.dataset.side,m=x==="right",p=m?-5:5,y=h[m?"left":"right"],_=h[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:y,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:y,y:h.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Oe(t.onKeyDown,d=>{var g;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||t9e[r.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});nre.displayName=P0;var rre="MenuSubContent",ire=A.forwardRef((t,e)=>{const n=Une(Xo,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=tp(Xo,t.__scopeMenu),o=zb(Xo,t.__scopeMenu),a=tre(rre,t.__scopeMenu),l=A.useRef(null),c=Pt(e,l);return u.jsx(S_.Provider,{scope:t.__scopeMenu,children:u.jsx(ur,{present:r||s.open,children:u.jsx(S_.Slot,{scope:t.__scopeMenu,children:u.jsx(S4,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Oe(t.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Oe(t.onKeyDown,f=>{var g;const d=f.currentTarget.contains(f.target),h=n9e[o.dir].includes(f.key);d&&h&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),f.preventDefault())})})})})})});ire.displayName=rre;function sre(t){return t?"open":"closed"}function gM(t){return t==="indeterminate"}function M4(t){return gM(t)?"indeterminate":t?"checked":"unchecked"}function _9e(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function b9e(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function w9e(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=b9e(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function S9e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function E9e(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return S9e(n,e)}function E_(t){return e=>e.pointerType==="mouse"?t(e):void 0}var A4=_4,T4=$ne,P4=Hne,N4=E4,R4=Vne,O4=nP,k4=Gne,I4=Xne,D4=Yne,j4=Qne,L4=Jne,F4=ere,B4=nre,z4=ire,ore="ContextMenu",[C9e,Uvt]=Xn(ore,[Bb]),Us=Bb(),[$vt,are]=C9e(ore),lre="ContextMenuTrigger",M9e=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,s=are(lre,n),o=Us(n),a=A.useRef({x:0,y:0}),l=A.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=A.useRef(0),f=A.useCallback(()=>window.clearTimeout(c.current),[]),d=h=>{a.current={x:h.clientX,y:h.clientY},s.onOpenChange(!0)};return A.useEffect(()=>f,[f]),A.useEffect(()=>void(r&&f()),[r,f]),u.jsxs(u.Fragment,{children:[u.jsx(A4,{...o,virtualRef:l}),u.jsx(Xe.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Oe(t.onContextMenu,h=>{f(),d(h),h.preventDefault()}),onPointerDown:r?t.onPointerDown:Oe(t.onPointerDown,W1(h=>{f(),c.current=window.setTimeout(()=>d(h),700)})),onPointerMove:r?t.onPointerMove:Oe(t.onPointerMove,W1(f)),onPointerCancel:r?t.onPointerCancel:Oe(t.onPointerCancel,W1(f)),onPointerUp:r?t.onPointerUp:Oe(t.onPointerUp,W1(f))})]})});M9e.displayName=lre;var A9e="ContextMenuPortal",cre=t=>{const{__scopeContextMenu:e,...n}=t,r=Us(e);return u.jsx(T4,{...r,...n})};cre.displayName=A9e;var ure="ContextMenuContent",dre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=are(ure,n),s=Us(n),o=A.useRef(!1);return u.jsx(P4,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var l;(l=t.onCloseAutoFocus)==null||l.call(t,a),!a.defaultPrevented&&o.current&&a.preventDefault(),o.current=!1},onInteractOutside:a=>{var l;(l=t.onInteractOutside)==null||l.call(t,a),!a.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dre.displayName=ure;var T9e="ContextMenuGroup",P9e=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(N4,{...i,...r,ref:e})});P9e.displayName=T9e;var N9e="ContextMenuLabel",fre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(R4,{...i,...r,ref:e})});fre.displayName=N9e;var R9e="ContextMenuItem",hre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(O4,{...i,...r,ref:e})});hre.displayName=R9e;var O9e="ContextMenuCheckboxItem",pre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(k4,{...i,...r,ref:e})});pre.displayName=O9e;var k9e="ContextMenuRadioGroup",I9e=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(I4,{...i,...r,ref:e})});I9e.displayName=k9e;var D9e="ContextMenuRadioItem",mre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(D4,{...i,...r,ref:e})});mre.displayName=D9e;var j9e="ContextMenuItemIndicator",gre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(j4,{...i,...r,ref:e})});gre.displayName=j9e;var L9e="ContextMenuSeparator",vre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(L4,{...i,...r,ref:e})});vre.displayName=L9e;var F9e="ContextMenuArrow",B9e=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(F4,{...i,...r,ref:e})});B9e.displayName=F9e;var z9e="ContextMenuSubTrigger",yre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(B4,{...i,...r,ref:e})});yre.displayName=z9e;var U9e="ContextMenuSubContent",xre=A.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Us(n);return u.jsx(z4,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});xre.displayName=U9e;function W1(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var $9e=cre,_re=dre,bre=fre,wre=hre,Sre=pre,Ere=mre,Cre=gre,Mre=vre,Are=yre,Tre=xre;const H9e=A.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(Are,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,u.jsx(db,{className:"ml-auto h-4 w-4"})]}));H9e.displayName=Are.displayName;const V9e=A.forwardRef(({className:t,...e},n)=>u.jsx(Tre,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e}));V9e.displayName=Tre.displayName;const W9e=A.forwardRef(({className:t,...e},n)=>u.jsx($9e,{children:u.jsx(_re,{ref:n,className:we("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e})}));W9e.displayName=_re.displayName;const G9e=A.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(wre,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));G9e.displayName=wre.displayName;const q9e=A.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(Sre,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Cre,{children:u.jsx(ub,{className:"h-4 w-4"})})}),e]}));q9e.displayName=Sre.displayName;const X9e=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Ere,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Cre,{children:u.jsx(qA,{className:"h-2 w-2 fill-current"})})}),e]}));X9e.displayName=Ere.displayName;const K9e=A.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(bre,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",t),...n}));K9e.displayName=bre.displayName;const Y9e=A.forwardRef(({className:t,...e},n)=>u.jsx(Mre,{ref:n,className:we("-mx-1 my-1 h-px bg-border",t),...e}));Y9e.displayName=Mre.displayName;const Ub=eT,U4=I3,Z9e=gb,Pre=A.forwardRef(({className:t,...e},n)=>u.jsx(Gh,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Pre.displayName=Gh.displayName;const Jv=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Z9e,{children:[u.jsx(Pre,{}),u.jsxs(qh,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(vb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(hb,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Jv.displayName=qh.displayName;const $b=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});$b.displayName="DialogHeader";const $4=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});$4.displayName="DialogFooter";const Hb=A.forwardRef(({className:t,...e},n)=>u.jsx(Dv,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));Hb.displayName=Dv.displayName;const Vb=A.forwardRef(({className:t,...e},n)=>u.jsx(jv,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Vb.displayName=jv.displayName;function Q9e(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Nre=te.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),ey=()=>{const t=te.useContext(Nre);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};Q9e(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function J9e(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function eqe(){return H4(/^Mac/)}function tqe(){return H4(/^iPhone/)}function OW(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function nqe(){return H4(/^iPad/)||eqe()&&navigator.maxTouchPoints>1}function Rre(){return tqe()||nqe()}function H4(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const rqe=24,iqe=typeof window<"u"?A.useLayoutEffect:A.useEffect;function kW(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const UR=typeof document<"u"&&window.visualViewport;function IW(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Ore(t){for(IW(t)&&(t=t.parentElement);t&&!IW(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const sqe=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let G1=0,$R;function oqe(t={}){let{isDisabled:e}=t;iqe(()=>{if(!e)return G1++,G1===1&&Rre()&&($R=aqe()),()=>{G1--,G1===0&&($R==null||$R())}},[e])}function aqe(){let t,e=0,n=d=>{t=Ore(d.target),!(t===document.documentElement&&t===document.body)&&(e=d.changedTouches[0].pageY)},r=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,g=t.scrollTop,v=t.scrollHeight-t.clientHeight;v!==0&&((g<=0&&h>e||g>=v&&h<e)&&d.preventDefault(),e=h)},i=d=>{let h=d.target;hj(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},s=d=>{let h=d.target;hj(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",UR&&(UR.height<window.innerHeight?requestAnimationFrame(()=>{DW(h)}):UR.addEventListener("resize",()=>DW(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=kW(lqe(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=kW(e0(document,"touchstart",n,{passive:!1,capture:!0}),e0(document,"touchmove",r,{passive:!1,capture:!0}),e0(document,"touchend",i,{passive:!1,capture:!0}),e0(document,"focus",s,!0),e0(window,"scroll",o));return()=>{c(),f(),window.scrollTo(a,l)}}function lqe(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function e0(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function DW(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=Ore(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,i=t.getBoundingClientRect().top,s=t.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+rqe;s>o&&(n.scrollTop+=i-r)}t=n.parentElement}}function hj(t){return t instanceof HTMLInputElement&&!sqe.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function cqe(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function uqe(...t){return e=>t.forEach(n=>cqe(n,e))}function kre(...t){return A.useCallback(uqe(...t),t)}const Ire=new WeakMap;function ti(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([i,s])=>{if(i.startsWith("--")){t.style.setProperty(i,s);return}r[i]=t.style[i],t.style[i]=s}),!n&&Ire.set(t,r)}function dqe(t,e){if(!t||!(t instanceof HTMLElement))return;let n=Ire.get(t);n&&(t.style[e]=n[e])}const qr=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function q1(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[qr(e)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[qr(e)?5:4]):null)}function fqe(t){return 8*(Math.log(t+1)-2)}function HR(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function hqe(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const _r={DURATION:.5,EASE:[.32,.72,0,1]},Dre=.4,pqe=.25,mqe=100,jre=8,sf=16,pj=26,VR="vaul-dragging";function Lre(t){const e=te.useRef(t);return te.useEffect(()=>{e.current=t}),te.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function gqe({defaultProp:t,onChange:e}){const n=te.useState(t),[r]=n,i=te.useRef(r),s=Lre(e);return te.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function Fre({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=gqe({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Lre(n),l=te.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function vqe({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:s,onSnapPointChange:o,direction:a="bottom",container:l,snapToSequentialPoint:c}){const[f,d]=Fre({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[h,g]=te.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);te.useEffect(()=>{function M(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]);const v=te.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),x=te.useMemo(()=>{var M;return(M=n==null?void 0:n.findIndex(T=>T===f))!=null?M:null},[n,f]),m=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===f||!n,p=te.useMemo(()=>{const M=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=n==null?void 0:n.map(P=>{const N=typeof P=="string";let k=0;if(N&&(k=parseInt(P,10)),qr(a)){const j=N?k:h?P*M.height:0;return h?a==="bottom"?M.height-j:-M.height+j:j}const D=N?k:h?P*M.width:0;return h?a==="right"?M.width-D:-M.width+D:D}))!=null?T:[]},[n,h,l]),y=te.useMemo(()=>x!==null?p==null?void 0:p[x]:null,[p,x]),_=te.useCallback(M=>{var T;const P=(T=p==null?void 0:p.findIndex(N=>N===M))!=null?T:null;o(P),ti(r.current,{transition:`transform ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`,transform:qr(a)?`translate3d(0, ${M}px, 0)`:`translate3d(${M}px, 0, 0)`}),p&&P!==p.length-1&&s!==void 0&&P!==s&&P<s?ti(i.current,{transition:`opacity ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`,opacity:"0"}):ti(i.current,{transition:`opacity ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`,opacity:"1"}),d(n==null?void 0:n[Math.max(P,0)])},[r.current,n,p,s,i,d]);te.useEffect(()=>{if(f||t){var M;const T=(M=n==null?void 0:n.findIndex(P=>P===t||P===f))!=null?M:-1;p&&T!==-1&&typeof p[T]=="number"&&_(p[T])}},[f,t,n,p,_]);function b({draggedDistance:M,closeDrawer:T,velocity:P,dismissible:N}){if(s===void 0)return;const k=a==="bottom"||a==="right"?(y??0)-M:(y??0)+M,D=x===s-1,j=x===0,F=M>0;if(D&&ti(i.current,{transition:`opacity ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`}),!c&&P>2&&!F){N?T():_(p[0]);return}if(!c&&P>2&&F&&p&&n){_(p[n.length-1]);return}const z=p==null?void 0:p.reduce((H,R)=>typeof H!="number"||typeof R!="number"?H:Math.abs(R-k)<Math.abs(H-k)?R:H),U=qr(a)?window.innerHeight:window.innerWidth;if(P>Dre&&Math.abs(M)<U*.4){const H=F?1:-1;if(H>0&&v&&n){_(p[n.length-1]);return}if(j&&H<0&&N&&T(),x===null)return;_(p[x+H]);return}_(z)}function S({draggedDistance:M}){if(y===null)return;const T=a==="bottom"||a==="right"?y-M:y+M;(a==="bottom"||a==="right")&&T<p[p.length-1]||(a==="top"||a==="left")&&T>p[p.length-1]||ti(r.current,{transform:qr(a)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function C(M,T){if(!n||typeof x!="number"||!p||s===void 0)return null;const P=x===s-1;if(x>=s&&T)return 0;if(P&&!T)return 1;if(!m&&!P)return null;const k=P?x+1:x-1,D=P?p[k]-p[k-1]:p[k+1]-p[k],j=M/Math.abs(D);return P?1-j:j}return{isLastSnapPoint:v,activeSnapPoint:f,shouldFade:m,getPercentageDragged:C,setActiveSnapPoint:d,activeSnapPointIndex:x,onRelease:b,onDrag:S,snapPointsOffset:p}}const yqe=()=>()=>{};function xqe(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=ey(),s=te.useRef(null),o=A.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-pj)/window.innerWidth}te.useEffect(()=>{if(e&&n){s.current&&clearTimeout(s.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;hqe(r&&!i?HR(document.body,{background:"black"}):yqe,HR(l,{transformOrigin:qr(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${_r.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_r.EASE.join(",")})`}));const c=HR(l,{borderRadius:`${jre}px`,overflow:"hidden",...qr(t)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),s.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},_r.DURATION*1e3)}}},[e,n,o])}let t0=null;function _qe({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:s}){const[o,a]=te.useState(()=>typeof window<"u"?window.location.href:""),l=te.useRef(0),c=te.useCallback(()=>{if(OW()&&t0===null&&t&&!s){t0={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&l.current>=h&&(document.body.style.top=`${-(l.current+g)}px`)}),300)}},[t]),f=te.useCallback(()=>{if(OW()&&t0!==null&&!s){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,t0),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){a(window.location.href);return}window.scrollTo(h,d)}),t0=null}},[o]);return te.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),te.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[e,f]),te.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&c(),e||window.setTimeout(()=>{f()},500)):f())},[t,r,o,e,n,c,f]),{restorePositionSetting:f}}function Bre({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:i,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:a=!0,closeThreshold:l=pqe,scrollLockTimeout:c=mqe,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:h=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:x,modal:m=!0,onClose:p,nested:y,noBodyStyles:_=!1,direction:b="bottom",defaultOpen:S=!1,disablePreventScroll:C=!0,snapToSequentialPoint:M=!1,preventScrollRestoration:T=!1,repositionInputs:P=!0,onAnimationEnd:N,container:k,autoFocus:D=!1}){var j,F;const[z=!1,U]=Fre({defaultProp:S,prop:t,onChange:ce=>{e==null||e(ce),!ce&&!y&&Ie(),setTimeout(()=>{N==null||N(ce)},_r.DURATION*1e3),ce&&!m&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),ce||(document.body.style.pointerEvents="auto")}}),[H,R]=te.useState(!1),[I,B]=te.useState(!1),[W,G]=te.useState(!1),X=te.useRef(null),ne=te.useRef(null),ae=te.useRef(null),se=te.useRef(null),$=te.useRef(null),Y=te.useRef(!1),Q=te.useRef(null),ee=te.useRef(0),ue=te.useRef(!1),J=te.useRef(!S),K=te.useRef(0),re=te.useRef(null),fe=te.useRef(((j=re.current)==null?void 0:j.getBoundingClientRect().height)||0),me=te.useRef(((F=re.current)==null?void 0:F.getBoundingClientRect().width)||0),pe=te.useRef(0),Ae=te.useCallback(ce=>{s&&ce===ie.length-1&&(ne.current=new Date)},[]),{activeSnapPoint:Ce,activeSnapPointIndex:De,setActiveSnapPoint:ot,onRelease:nt,snapPointsOffset:ie,onDrag:Z,shouldFade:ve,getPercentageDragged:Se}=vqe({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:re,fadeFromIndex:h,overlayRef:X,onSnapPointChange:Ae,direction:b,container:k,snapToSequentialPoint:M});oqe({isDisabled:!z||I||!m||W||!H||!P||!C});const{restorePositionSetting:Ie}=_qe({isOpen:z,modal:m,nested:y??!1,hasBeenOpened:H,preventScrollRestoration:T,noBodyStyles:_});function Me(){return(window.innerWidth-pj)/window.innerWidth}function ct(ce){var Ne,ze;!f&&!s||re.current&&!re.current.contains(ce.target)||(fe.current=((Ne=re.current)==null?void 0:Ne.getBoundingClientRect().height)||0,me.current=((ze=re.current)==null?void 0:ze.getBoundingClientRect().width)||0,B(!0),ae.current=new Date,Rre()&&window.addEventListener("touchend",()=>Y.current=!1,{once:!0}),ce.target.setPointerCapture(ce.pointerId),ee.current=qr(b)?ce.pageY:ce.pageX)}function Ve(ce,Ne){var ze;let We=ce;const Ue=(ze=window.getSelection())==null?void 0:ze.toString(),Le=re.current?q1(re.current,b):null,Je=new Date;if(We.tagName==="SELECT"||We.hasAttribute("data-vaul-no-drag")||We.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(ne.current&&Je.getTime()-ne.current.getTime()<500)return!1;if(Le!==null&&(b==="bottom"?Le>0:Le<0))return!0;if(Ue&&Ue.length>0)return!1;if($.current&&Je.getTime()-$.current.getTime()<c&&Le===0||Ne)return $.current=Je,!1;for(;We;){if(We.scrollHeight>We.clientHeight){if(We.scrollTop!==0)return $.current=new Date,!1;if(We.getAttribute("role")==="dialog")return!0}We=We.parentNode}return!0}function lt(ce){if(re.current&&I){const Ne=b==="bottom"||b==="right"?1:-1,ze=(ee.current-(qr(b)?ce.pageY:ce.pageX))*Ne,We=ze>0,Ue=s&&!f&&!We;if(Ue&&De===0)return;const Le=Math.abs(ze),Je=document.querySelector("[data-vaul-drawer-wrapper]"),gt=b==="bottom"||b==="top"?fe.current:me.current;let $t=Le/gt;const Gt=Se(Le,We);if(Gt!==null&&($t=Gt),Ue&&$t>=1||!Y.current&&!Ve(ce.target,We))return;if(re.current.classList.add(VR),Y.current=!0,ti(re.current,{transition:"none"}),ti(X.current,{transition:"none"}),s&&Z({draggedDistance:ze}),We&&!s){const In=fqe(ze),oa=Math.min(In*-1,0)*Ne;ti(re.current,{transform:qr(b)?`translate3d(0, ${oa}px, 0)`:`translate3d(${oa}px, 0, 0)`});return}const Bn=1-$t;if((ve||h&&De===h-1)&&(r==null||r(ce,$t),ti(X.current,{opacity:`${Bn}`,transition:"none"},!0)),Je&&X.current&&o){const In=Math.min(Me()+$t*(1-Me()),1),oa=8-$t*8,gs=Math.max(0,14-$t*14);ti(Je,{borderRadius:`${oa}px`,transform:qr(b)?`scale(${In}) translate3d(0, ${gs}px, 0)`:`scale(${In}) translate3d(${gs}px, 0, 0)`,transition:"none"},!0)}if(!s){const In=Le*Ne;ti(re.current,{transform:qr(b)?`translate3d(0, ${In}px, 0)`:`translate3d(${In}px, 0, 0)`})}}}te.useEffect(()=>{window.requestAnimationFrame(()=>{J.current=!0})},[]),te.useEffect(()=>{var ce;function Ne(){if(!re.current||!P)return;const ze=document.activeElement;if(hj(ze)||ue.current){var We;const Ue=((We=window.visualViewport)==null?void 0:We.height)||0,Le=window.innerHeight;let Je=Le-Ue;const gt=re.current.getBoundingClientRect().height||0,$t=gt>Le*.8;pe.current||(pe.current=gt);const Gt=re.current.getBoundingClientRect().top;if(Math.abs(K.current-Je)>60&&(ue.current=!ue.current),s&&s.length>0&&ie&&De){const Bn=ie[De]||0;Je+=Bn}if(K.current=Je,gt>Ue||ue.current){const Bn=re.current.getBoundingClientRect().height;let In=Bn;Bn>Ue&&(In=Ue-($t?Gt:pj)),x?re.current.style.height=`${Bn-Math.max(Je,0)}px`:re.current.style.height=`${Math.max(In,Ue-Gt)}px`}else J9e()||(re.current.style.height=`${pe.current}px`);s&&s.length>0&&!ue.current?re.current.style.bottom="0px":re.current.style.bottom=`${Math.max(Je,0)}px`}}return(ce=window.visualViewport)==null||ce.addEventListener("resize",Ne),()=>{var ze;return(ze=window.visualViewport)==null?void 0:ze.removeEventListener("resize",Ne)}},[De,s,ie]);function qe(ce){at(),p==null||p(),ce||U(!1),setTimeout(()=>{s&&ot(s[0])},_r.DURATION*1e3)}function He(){if(!re.current)return;const ce=document.querySelector("[data-vaul-drawer-wrapper]"),Ne=q1(re.current,b);ti(re.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`}),ti(X.current,{transition:`opacity ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`,opacity:"1"}),o&&Ne&&Ne>0&&z&&ti(ce,{borderRadius:`${jre}px`,overflow:"hidden",...qr(b)?{transform:`scale(${Me()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Me()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${_r.DURATION}s`,transitionTimingFunction:`cubic-bezier(${_r.EASE.join(",")})`},!0)}function at(){!I||!re.current||(re.current.classList.remove(VR),Y.current=!1,B(!1),se.current=new Date)}function Mt(ce){if(!I||!re.current)return;re.current.classList.remove(VR),Y.current=!1,B(!1),se.current=new Date;const Ne=q1(re.current,b);if(!ce||!Ve(ce.target,!1)||!Ne||Number.isNaN(Ne)||ae.current===null)return;const ze=se.current.getTime()-ae.current.getTime(),We=ee.current-(qr(b)?ce.pageY:ce.pageX),Ue=Math.abs(We)/ze;if(Ue>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),s){nt({draggedDistance:We*(b==="bottom"||b==="right"?1:-1),closeDrawer:qe,velocity:Ue,dismissible:f}),i==null||i(ce,!0);return}if(b==="bottom"||b==="right"?We>0:We<0){He(),i==null||i(ce,!0);return}if(Ue>Dre){qe(),i==null||i(ce,!1);return}var Le;const Je=Math.min((Le=re.current.getBoundingClientRect().height)!=null?Le:0,window.innerHeight);var gt;const $t=Math.min((gt=re.current.getBoundingClientRect().width)!=null?gt:0,window.innerWidth),Gt=b==="left"||b==="right";if(Math.abs(Ne)>=(Gt?$t:Je)*l){qe(),i==null||i(ce,!1);return}i==null||i(ce,!0),He()}te.useEffect(()=>(z&&(ti(document.documentElement,{scrollBehavior:"auto"}),ne.current=new Date),()=>{dqe(document.documentElement,"scrollBehavior")}),[z]);function he(ce){const Ne=ce?(window.innerWidth-sf)/window.innerWidth:1,ze=ce?-sf:0;Q.current&&window.clearTimeout(Q.current),ti(re.current,{transition:`transform ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`,transform:qr(b)?`scale(${Ne}) translate3d(0, ${ze}px, 0)`:`scale(${Ne}) translate3d(${ze}px, 0, 0)`}),!ce&&re.current&&(Q.current=setTimeout(()=>{const We=q1(re.current,b);ti(re.current,{transition:"none",transform:qr(b)?`translate3d(0, ${We}px, 0)`:`translate3d(${We}px, 0, 0)`})},500))}function Ee(ce,Ne){if(Ne<0)return;const ze=(window.innerWidth-sf)/window.innerWidth,We=ze+Ne*(1-ze),Ue=-sf+Ne*sf;ti(re.current,{transform:qr(b)?`scale(${We}) translate3d(0, ${Ue}px, 0)`:`scale(${We}) translate3d(${Ue}px, 0, 0)`,transition:"none"})}function Qe(ce,Ne){const ze=qr(b)?window.innerHeight:window.innerWidth,We=Ne?(ze-sf)/ze:1,Ue=Ne?-sf:0;Ne&&ti(re.current,{transition:`transform ${_r.DURATION}s cubic-bezier(${_r.EASE.join(",")})`,transform:qr(b)?`scale(${We}) translate3d(0, ${Ue}px, 0)`:`scale(${We}) translate3d(${Ue}px, 0, 0)`})}return te.useEffect(()=>{m||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[m]),te.createElement(eT,{defaultOpen:S,onOpenChange:ce=>{!f&&!ce||(ce?R(!0):qe(!0),U(ce))},open:z},te.createElement(Nre.Provider,{value:{activeSnapPoint:Ce,snapPoints:s,setActiveSnapPoint:ot,drawerRef:re,overlayRef:X,onOpenChange:e,onPress:ct,onRelease:Mt,onDrag:lt,dismissible:f,shouldAnimate:J,handleOnly:d,isOpen:z,isDragging:I,shouldFade:ve,closeDrawer:qe,onNestedDrag:Ee,onNestedOpenChange:he,onNestedRelease:Qe,keyboardIsOpen:ue,modal:m,snapPointsOffset:ie,activeSnapPointIndex:De,direction:b,shouldScaleBackground:o,setBackgroundColorOnScale:a,noBodyStyles:_,container:k,autoFocus:D}},n))}const zre=te.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:s,isOpen:o,modal:a,shouldAnimate:l}=ey(),c=kre(e,n),f=r&&r.length>0;if(!a)return null;const d=te.useCallback(h=>i(h),[i]);return te.createElement(Gh,{onMouseUp:d,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&f?"true":"false","data-vaul-snap-points-overlay":o&&s?"true":"false","data-vaul-animate":l!=null&&l.current?"true":"false",...t})});zre.displayName="Drawer.Overlay";const Ure=te.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},i){const{drawerRef:s,onPress:o,onRelease:a,onDrag:l,keyboardIsOpen:c,snapPointsOffset:f,activeSnapPointIndex:d,modal:h,isOpen:g,direction:v,snapPoints:x,container:m,handleOnly:p,shouldAnimate:y,autoFocus:_}=ey(),[b,S]=te.useState(!1),C=kre(i,s),M=te.useRef(null),T=te.useRef(null),P=te.useRef(!1),N=x&&x.length>0;xqe();const k=(j,F,z=0)=>{if(P.current)return!0;const U=Math.abs(j.y),H=Math.abs(j.x),R=H>U,I=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(j.x*I<0)&&H>=0&&H<=z)return R}else if(!(j.y*I<0)&&U>=0&&U<=z)return!R;return P.current=!0,!0};te.useEffect(()=>{N&&window.requestAnimationFrame(()=>{S(!0)})},[]);function D(j){M.current=null,P.current=!1,a(j)}return te.createElement(qh,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":g&&N?"true":"false","data-vaul-custom-container":m?"true":"false","data-vaul-animate":y!=null&&y.current?"true":"false",...r,ref:C,style:f&&f.length>0?{"--snap-point-height":`${f[d??0]}px`,...e}:e,onPointerDown:j=>{p||(r.onPointerDown==null||r.onPointerDown.call(r,j),M.current={x:j.pageX,y:j.pageY},o(j))},onOpenAutoFocus:j=>{n==null||n(j),_||j.preventDefault()},onPointerDownOutside:j=>{if(t==null||t(j),!h||j.defaultPrevented){j.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:j=>{if(!h){j.preventDefault();return}},onPointerMove:j=>{if(T.current=j,p||(r.onPointerMove==null||r.onPointerMove.call(r,j),!M.current))return;const F=j.pageY-M.current.y,z=j.pageX-M.current.x,U=j.pointerType==="touch"?10:2;k({x:z,y:F},v,U)?l(j):(Math.abs(z)>U||Math.abs(F)>U)&&(M.current=null)},onPointerUp:j=>{r.onPointerUp==null||r.onPointerUp.call(r,j),M.current=null,P.current=!1,a(j)},onPointerOut:j=>{r.onPointerOut==null||r.onPointerOut.call(r,j),D(T.current)},onContextMenu:j=>{r.onContextMenu==null||r.onContextMenu.call(r,j),T.current&&D(T.current)}})});Ure.displayName="Drawer.Content";const bqe=250,wqe=120,$re=te.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:i,isDragging:s,snapPoints:o,activeSnapPoint:a,setActiveSnapPoint:l,dismissible:c,handleOnly:f,isOpen:d,onPress:h,onDrag:g}=ey(),v=te.useRef(null),x=te.useRef(!1);function m(){if(x.current){_();return}window.setTimeout(()=>{p()},wqe)}function p(){if(s||t||x.current){_();return}if(_(),!o||o.length===0){c||i();return}if(a===o[o.length-1]&&c){i();return}const S=o.findIndex(M=>M===a);if(S===-1)return;const C=o[S+1];l(C)}function y(){v.current=window.setTimeout(()=>{x.current=!0},bqe)}function _(){v.current&&window.clearTimeout(v.current),x.current=!1}return te.createElement("div",{onClick:m,onPointerCancel:_,onPointerDown:b=>{f&&h(b),y()},onPointerMove:b=>{f&&g(b)},ref:r,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},te.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});$re.displayName="Drawer.Handle";function Sqe({onDrag:t,onOpenChange:e,open:n,...r}){const{onNestedDrag:i,onNestedOpenChange:s,onNestedRelease:o}=ey();if(!i)throw new Error("Drawer.NestedRoot must be placed in another drawer");return te.createElement(Bre,{nested:!0,open:n,onClose:()=>{s(!1)},onDrag:(a,l)=>{i(a,l),t==null||t(a,l)},onOpenChange:a=>{a&&s(a),e==null||e(a)},onRelease:o,...r})}function Eqe(t){const e=ey(),{container:n=e.container,...r}=t;return te.createElement(gb,{container:n,...r})}const Ld={Root:Bre,NestedRoot:Sqe,Content:Ure,Overlay:zre,Trigger:I3,Portal:Eqe,Handle:$re,Close:vb,Title:Dv,Description:jv},Cqe=Ld.Portal,Hre=A.forwardRef(({className:t,...e},n)=>u.jsx(Ld.Overlay,{ref:n,className:we("fixed inset-0 z-50 bg-black/80",t),...e}));Hre.displayName=Ld.Overlay.displayName;const Mqe=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Cqe,{children:[u.jsx(Hre,{}),u.jsxs(Ld.Content,{ref:r,className:we("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));Mqe.displayName="DrawerContent";const Aqe=A.forwardRef(({className:t,...e},n)=>u.jsx(Ld.Title,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));Aqe.displayName=Ld.Title.displayName;const Tqe=A.forwardRef(({className:t,...e},n)=>u.jsx(Ld.Description,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Tqe.displayName=Ld.Description.displayName;var Vre="DropdownMenu",[Pqe,Hvt]=Xn(Vre,[Bb]),$s=Bb(),[Vvt,Wre]=Pqe(Vre),Gre="DropdownMenuTrigger",Nqe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Wre(Gre,n),o=$s(n);return u.jsx(A4,{asChild:!0,...o,children:u.jsx(Xe.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:kl(e,s.triggerRef),onPointerDown:Oe(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Oe(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Nqe.displayName=Gre;var Rqe="DropdownMenuPortal",qre=t=>{const{__scopeDropdownMenu:e,...n}=t,r=$s(e);return u.jsx(T4,{...r,...n})};qre.displayName=Rqe;var Xre="DropdownMenuContent",Kre=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Wre(Xre,n),s=$s(n),o=A.useRef(!1);return u.jsx(P4,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Oe(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Oe(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Kre.displayName=Xre;var Oqe="DropdownMenuGroup",kqe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(N4,{...i,...r,ref:e})});kqe.displayName=Oqe;var Iqe="DropdownMenuLabel",Yre=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(R4,{...i,...r,ref:e})});Yre.displayName=Iqe;var Dqe="DropdownMenuItem",Zre=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(O4,{...i,...r,ref:e})});Zre.displayName=Dqe;var jqe="DropdownMenuCheckboxItem",Qre=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(k4,{...i,...r,ref:e})});Qre.displayName=jqe;var Lqe="DropdownMenuRadioGroup",Fqe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(I4,{...i,...r,ref:e})});Fqe.displayName=Lqe;var Bqe="DropdownMenuRadioItem",Jre=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(D4,{...i,...r,ref:e})});Jre.displayName=Bqe;var zqe="DropdownMenuItemIndicator",eie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(j4,{...i,...r,ref:e})});eie.displayName=zqe;var Uqe="DropdownMenuSeparator",tie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(L4,{...i,...r,ref:e})});tie.displayName=Uqe;var $qe="DropdownMenuArrow",Hqe=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(F4,{...i,...r,ref:e})});Hqe.displayName=$qe;var Vqe="DropdownMenuSubTrigger",nie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(B4,{...i,...r,ref:e})});nie.displayName=Vqe;var Wqe="DropdownMenuSubContent",rie=A.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=$s(n);return u.jsx(z4,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rie.displayName=Wqe;var Gqe=qre,iie=Kre,sie=Yre,oie=Zre,aie=Qre,lie=Jre,cie=eie,uie=tie,die=nie,fie=rie;const qqe=A.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(die,{ref:i,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,u.jsx(db,{className:"ml-auto"})]}));qqe.displayName=die.displayName;const Xqe=A.forwardRef(({className:t,...e},n)=>u.jsx(fie,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Xqe.displayName=fie.displayName;const Kqe=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Gqe,{children:u.jsx(iie,{ref:r,sideOffset:e,className:we("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Kqe.displayName=iie.displayName;const Yqe=A.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(oie,{ref:r,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));Yqe.displayName=oie.displayName;const Zqe=A.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(aie,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(cie,{children:u.jsx(ub,{className:"h-4 w-4"})})}),e]}));Zqe.displayName=aie.displayName;const Qqe=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(lie,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(cie,{children:u.jsx(qA,{className:"h-2 w-2 fill-current"})})}),e]}));Qqe.displayName=lie.displayName;const Jqe=A.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(sie,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Jqe.displayName=sie.displayName;const eXe=A.forwardRef(({className:t,...e},n)=>u.jsx(uie,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));eXe.displayName=uie.displayName;const tXe=te.createContext(null),nXe=()=>te.useContext(tXe),rXe=A.createContext({}),rP=()=>{const t=A.useContext(rXe),e=A.useContext(hie),{getFieldState:n,formState:r}=nXe(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},hie=A.createContext({}),iXe=A.forwardRef(({className:t,...e},n)=>{const r=A.useId();return u.jsx(hie.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:we("space-y-2",t),...e})})});iXe.displayName="FormItem";const sXe=A.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=rP();return u.jsx(mt,{ref:n,className:we(r&&"text-destructive",t),htmlFor:i,...e})});sXe.displayName="FormLabel";const oXe=A.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=rP();return u.jsx(lb,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});oXe.displayName="FormControl";const aXe=A.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=rP();return u.jsx("p",{ref:n,id:r,className:we("text-sm text-muted-foreground",t),...e})});aXe.displayName="FormDescription";const lXe=A.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=rP(),o=i?String((i==null?void 0:i.message)??""):e;return o?u.jsx("p",{ref:r,id:s,className:we("text-sm font-medium text-destructive",t),...n,children:o}):null});lXe.displayName="FormMessage";var WR,pie="HoverCard",[mie,Wvt]=Xn(pie,[Hl]),V4=Hl(),[Gvt,W4]=mie(pie),gie="HoverCardTrigger",cXe=A.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=W4(gie,n),s=V4(n);return u.jsx(Qv,{asChild:!0,...s,children:u.jsx(Xe.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Oe(t.onPointerEnter,yM(i.onOpen)),onPointerLeave:Oe(t.onPointerLeave,yM(i.onClose)),onFocus:Oe(t.onFocus,i.onOpen),onBlur:Oe(t.onBlur,i.onClose),onTouchStart:Oe(t.onTouchStart,o=>o.preventDefault())})})});cXe.displayName=gie;var uXe="HoverCardPortal",[qvt,dXe]=mie(uXe,{forceMount:void 0}),vM="HoverCardContent",vie=A.forwardRef((t,e)=>{const n=dXe(vM,t.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=t,s=W4(vM,t.__scopeHoverCard);return u.jsx(ur,{present:r||s.open,children:u.jsx(fXe,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Oe(t.onPointerEnter,yM(s.onOpen)),onPointerLeave:Oe(t.onPointerLeave,yM(s.onClose)),ref:e})})});vie.displayName=vM;var fXe=A.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=t,l=W4(vM,n),c=V4(n),f=A.useRef(null),d=Pt(e,f),[h,g]=A.useState(!1);return A.useEffect(()=>{if(h){const v=document.body;return WR=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=WR,v.style.webkitUserSelect=WR}}},[h]),A.useEffect(()=>{if(f.current){const v=()=>{g(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var m;((m=document.getSelection())==null?void 0:m.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),A.useEffect(()=>{f.current&&mXe(f.current).forEach(x=>x.setAttribute("tabindex","-1"))}),u.jsx(Zc,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Oe(s,v=>{v.preventDefault()}),onDismiss:l.onDismiss,children:u.jsx(Db,{...c,...a,onPointerDown:Oe(a.onPointerDown,v=>{v.currentTarget.contains(v.target)&&g(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...a.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),hXe="HoverCardArrow",pXe=A.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=V4(n);return u.jsx(jb,{...i,...r,ref:e})});pXe.displayName=hXe;function yM(t){return e=>e.pointerType==="touch"?void 0:t()}function mXe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var yie=vie;const gXe=A.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>u.jsx(yie,{ref:i,align:e,sideOffset:n,className:we("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",t),...r}));gXe.displayName=yie.displayName;var vXe=Object.defineProperty,yXe=Object.defineProperties,xXe=Object.getOwnPropertyDescriptors,xM=Object.getOwnPropertySymbols,xie=Object.prototype.hasOwnProperty,_ie=Object.prototype.propertyIsEnumerable,jW=(t,e,n)=>e in t?vXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_Xe=(t,e)=>{for(var n in e||(e={}))xie.call(e,n)&&jW(t,n,e[n]);if(xM)for(var n of xM(e))_ie.call(e,n)&&jW(t,n,e[n]);return t},bXe=(t,e)=>yXe(t,xXe(e)),wXe=(t,e)=>{var n={};for(var r in t)xie.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&xM)for(var r of xM(t))e.indexOf(r)<0&&_ie.call(t,r)&&(n[r]=t[r]);return n};function SXe(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function EXe(t){let e=A.useRef();return A.useEffect(()=>{e.current=t}),e.current}var CXe=18,bie=40,MXe=`${bie}px`,AXe=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function TXe({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[i,s]=A.useState(!1),[o,a]=A.useState(!1),[l,c]=A.useState(!1),f=A.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&o,[i,o,n]),d=A.useCallback(()=>{let h=t.current,g=e.current;if(!h||!g||l||n==="none")return;let v=h,x=v.getBoundingClientRect().left+v.offsetWidth,m=v.getBoundingClientRect().top+v.offsetHeight/2,p=x-CXe,y=m;document.querySelectorAll(AXe).length===0&&document.elementFromPoint(p,y)===h||(s(!0),c(!0))},[t,e,l,n]);return A.useEffect(()=>{let h=t.current;if(!h||n==="none")return;function g(){let x=window.innerWidth-h.getBoundingClientRect().right;a(x>=bie)}g();let v=setInterval(g,1e3);return()=>{clearInterval(v)}},[t,n]),A.useEffect(()=>{let h=r||document.activeElement===e.current;if(n==="none"||!h)return;let g=setTimeout(d,0),v=setTimeout(d,2e3),x=setTimeout(d,5e3),m=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(v),clearTimeout(x),clearTimeout(m)}},[e,r,n,d]),{hasPWMBadge:i,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:MXe}}var wie=A.createContext({}),Sie=A.forwardRef((t,e)=>{var n=t,{value:r,onChange:i,maxLength:s,textAlign:o="left",pattern:a,placeholder:l,inputMode:c="numeric",onComplete:f,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:h,containerClassName:g,noScriptCSSFallback:v=PXe,render:x,children:m}=n,p=wXe(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,_,b,S,C;let[M,T]=A.useState(typeof p.defaultValue=="string"?p.defaultValue:""),P=r??M,N=EXe(P),k=A.useCallback(re=>{i==null||i(re),T(re)},[i]),D=A.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),j=A.useRef(null),F=A.useRef(null),z=A.useRef({value:P,onChange:k,isIOS:typeof window<"u"&&((_=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:_.call(y,"-webkit-touch-callout","none"))}),U=A.useRef({prev:[(b=j.current)==null?void 0:b.selectionStart,(S=j.current)==null?void 0:S.selectionEnd,(C=j.current)==null?void 0:C.selectionDirection]});A.useImperativeHandle(e,()=>j.current,[]),A.useEffect(()=>{let re=j.current,fe=F.current;if(!re||!fe)return;z.current.value!==re.value&&z.current.onChange(re.value),U.current.prev=[re.selectionStart,re.selectionEnd,re.selectionDirection];function me(){if(document.activeElement!==re){G(null),ne(null);return}let Ce=re.selectionStart,De=re.selectionEnd,ot=re.selectionDirection,nt=re.maxLength,ie=re.value,Z=U.current.prev,ve=-1,Se=-1,Ie;if(ie.length!==0&&Ce!==null&&De!==null){let lt=Ce===De,qe=Ce===ie.length&&ie.length<nt;if(lt&&!qe){let He=Ce;if(He===0)ve=0,Se=1,Ie="forward";else if(He===nt)ve=He-1,Se=He,Ie="backward";else if(nt>1&&ie.length>1){let at=0;if(Z[0]!==null&&Z[1]!==null){Ie=He<Z[1]?"backward":"forward";let Mt=Z[0]===Z[1]&&Z[0]<nt;Ie==="backward"&&!Mt&&(at=-1)}ve=at+He,Se=at+He+1}}ve!==-1&&Se!==-1&&ve!==Se&&j.current.setSelectionRange(ve,Se,Ie)}let Me=ve!==-1?ve:Ce,ct=Se!==-1?Se:De,Ve=Ie??ot;G(Me),ne(ct),U.current.prev=[Me,ct,Ve]}if(document.addEventListener("selectionchange",me,{capture:!0}),me(),document.activeElement===re&&B(!0),!document.getElementById("input-otp-style")){let Ce=document.createElement("style");if(Ce.id="input-otp-style",document.head.appendChild(Ce),Ce.sheet){let De="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";n0(Ce.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),n0(Ce.sheet,`[data-input-otp]:autofill { ${De} }`),n0(Ce.sheet,`[data-input-otp]:-webkit-autofill { ${De} }`),n0(Ce.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),n0(Ce.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let pe=()=>{fe&&fe.style.setProperty("--root-height",`${re.clientHeight}px`)};pe();let Ae=new ResizeObserver(pe);return Ae.observe(re),()=>{document.removeEventListener("selectionchange",me,{capture:!0}),Ae.disconnect()}},[]);let[H,R]=A.useState(!1),[I,B]=A.useState(!1),[W,G]=A.useState(null),[X,ne]=A.useState(null);A.useEffect(()=>{SXe(()=>{var re,fe,me,pe;(re=j.current)==null||re.dispatchEvent(new Event("input"));let Ae=(fe=j.current)==null?void 0:fe.selectionStart,Ce=(me=j.current)==null?void 0:me.selectionEnd,De=(pe=j.current)==null?void 0:pe.selectionDirection;Ae!==null&&Ce!==null&&(G(Ae),ne(Ce),U.current.prev=[Ae,Ce,De])})},[P,I]),A.useEffect(()=>{N!==void 0&&P!==N&&N.length<s&&P.length===s&&(f==null||f(P))},[s,f,N,P]);let ae=TXe({containerRef:F,inputRef:j,pushPasswordManagerStrategy:d,isFocused:I}),se=A.useCallback(re=>{let fe=re.currentTarget.value.slice(0,s);if(fe.length>0&&D&&!D.test(fe)){re.preventDefault();return}typeof N=="string"&&fe.length<N.length&&document.dispatchEvent(new Event("selectionchange")),k(fe)},[s,k,N,D]),$=A.useCallback(()=>{var re;if(j.current){let fe=Math.min(j.current.value.length,s-1),me=j.current.value.length;(re=j.current)==null||re.setSelectionRange(fe,me),G(fe),ne(me)}B(!0)},[s]),Y=A.useCallback(re=>{var fe,me;let pe=j.current;if(!h&&(!z.current.isIOS||!re.clipboardData||!pe))return;let Ae=re.clipboardData.getData("text/plain"),Ce=h?h(Ae):Ae;re.preventDefault();let De=(fe=j.current)==null?void 0:fe.selectionStart,ot=(me=j.current)==null?void 0:me.selectionEnd,nt=(De!==ot?P.slice(0,De)+Ce+P.slice(ot):P.slice(0,De)+Ce+P.slice(De)).slice(0,s);if(nt.length>0&&D&&!D.test(nt))return;pe.value=nt,k(nt);let ie=Math.min(nt.length,s-1),Z=nt.length;pe.setSelectionRange(ie,Z),G(ie),ne(Z)},[s,k,D,P]),Q=A.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),ee=A.useMemo(()=>({position:"absolute",inset:0,width:ae.willPushPWMBadge?`calc(100% + ${ae.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:ae.willPushPWMBadge?`inset(0 ${ae.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[ae.PWM_BADGE_SPACE_WIDTH,ae.willPushPWMBadge,o]),ue=A.useMemo(()=>A.createElement("input",bXe(_Xe({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":P.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":X,inputMode:c,pattern:D==null?void 0:D.source,"aria-placeholder":l,style:ee,maxLength:s,value:P,ref:j,onPaste:re=>{var fe;Y(re),(fe=p.onPaste)==null||fe.call(p,re)},onChange:se,onMouseOver:re=>{var fe;R(!0),(fe=p.onMouseOver)==null||fe.call(p,re)},onMouseLeave:re=>{var fe;R(!1),(fe=p.onMouseLeave)==null||fe.call(p,re)},onFocus:re=>{var fe;$(),(fe=p.onFocus)==null||fe.call(p,re)},onBlur:re=>{var fe;B(!1),(fe=p.onBlur)==null||fe.call(p,re)}})),[se,$,Y,c,ee,s,X,W,p,D==null?void 0:D.source,P]),J=A.useMemo(()=>({slots:Array.from({length:s}).map((re,fe)=>{var me;let pe=I&&W!==null&&X!==null&&(W===X&&fe===W||fe>=W&&fe<X),Ae=P[fe]!==void 0?P[fe]:null,Ce=P[0]!==void 0?null:(me=l==null?void 0:l[fe])!=null?me:null;return{char:Ae,placeholderChar:Ce,isActive:pe,hasFakeCaret:pe&&Ae===null}}),isFocused:I,isHovering:!p.disabled&&H}),[I,H,s,X,W,p.disabled,P]),K=A.useMemo(()=>x?x(J):A.createElement(wie.Provider,{value:J},m),[m,J,x]);return A.createElement(A.Fragment,null,v!==null&&A.createElement("noscript",null,A.createElement("style",null,v)),A.createElement("div",{ref:F,"data-input-otp-container":!0,style:Q,className:g},K,A.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ue)))});Sie.displayName="Input";function n0(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var PXe=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const NXe=A.forwardRef(({className:t,containerClassName:e,...n},r)=>u.jsx(Sie,{ref:r,containerClassName:we("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:we("disabled:cursor-not-allowed",t),...n}));NXe.displayName="InputOTP";const RXe=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex items-center",t),...e}));RXe.displayName="InputOTPGroup";const OXe=A.forwardRef(({index:t,className:e,...n},r)=>{const i=A.useContext(wie),{char:s,hasFakeCaret:o,isActive:a}=i.slots[t];return u.jsxs("div",{ref:r,className:we("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",a&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[s,o&&u.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});OXe.displayName="InputOTPSlot";const kXe=A.forwardRef(({...t},e)=>u.jsx("div",{ref:e,role:"separator",...t,children:u.jsx(Rye,{})}));kXe.displayName="InputOTPSeparator";const jt=A.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:we("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));jt.displayName="Input";var IXe="Label",Eie=A.forwardRef((t,e)=>u.jsx(Xe.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Eie.displayName=IXe;var Cie=Eie;const DXe=Qc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mt=A.forwardRef(({className:t,...e},n)=>u.jsx(Cie,{ref:n,className:we(DXe(),t),...e}));mt.displayName=Cie.displayName;var iP="Menubar",[mj,jXe,LXe]=Kc(iP),[Mie,Xvt]=Xn(iP,[LXe,Vl]),Hs=Bb(),Aie=Vl(),[FXe,Tie]=Mie(iP),Pie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:i,defaultValue:s,loop:o=!0,dir:a,...l}=t,c=Bl(a),f=Aie(n),[d="",h]=Ur({prop:r,onChange:i,defaultProp:s}),[g,v]=A.useState(null);return u.jsx(FXe,{scope:n,value:d,onMenuOpen:A.useCallback(x=>{h(x),v(x)},[h]),onMenuClose:A.useCallback(()=>h(""),[h]),onMenuToggle:A.useCallback(x=>{h(m=>m?"":x),v(x)},[h]),dir:c,loop:o,children:u.jsx(mj.Provider,{scope:n,children:u.jsx(mj.Slot,{scope:n,children:u.jsx(Lb,{asChild:!0,...f,orientation:"horizontal",loop:o,dir:c,currentTabStopId:g,onCurrentTabStopIdChange:v,children:u.jsx(Xe.div,{role:"menubar",...l,ref:e})})})})})});Pie.displayName=iP;var BXe="MenubarMenu",[Kvt,Nie]=Mie(BXe),gj="MenubarTrigger",Rie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...i}=t,s=Aie(n),o=Hs(n),a=Tie(gj,n),l=Nie(gj,n),c=A.useRef(null),f=Pt(e,c,l.triggerRef),[d,h]=A.useState(!1),g=a.value===l.value;return u.jsx(mj.ItemSlot,{scope:n,value:l.value,disabled:r,children:u.jsx(Fb,{asChild:!0,...s,focusable:!r,tabStopId:l.value,children:u.jsx(A4,{asChild:!0,...o,children:u.jsx(Xe.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?l.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":g?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:f,onPointerDown:Oe(t.onPointerDown,v=>{!r&&v.button===0&&v.ctrlKey===!1&&(a.onMenuOpen(l.value),g||v.preventDefault())}),onPointerEnter:Oe(t.onPointerEnter,()=>{var x;!!a.value&&!g&&(a.onMenuOpen(l.value),(x=c.current)==null||x.focus())}),onKeyDown:Oe(t.onKeyDown,v=>{r||(["Enter"," "].includes(v.key)&&a.onMenuToggle(l.value),v.key==="ArrowDown"&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(v.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,v.preventDefault()))}),onFocus:Oe(t.onFocus,()=>h(!0)),onBlur:Oe(t.onBlur,()=>h(!1))})})})})});Rie.displayName=gj;var zXe="MenubarPortal",Oie=t=>{const{__scopeMenubar:e,...n}=t,r=Hs(e);return u.jsx(T4,{...r,...n})};Oie.displayName=zXe;var vj="MenubarContent",kie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...i}=t,s=Hs(n),o=Tie(vj,n),a=Nie(vj,n),l=jXe(n),c=A.useRef(!1);return u.jsx(P4,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...s,...i,ref:e,align:r,onCloseAutoFocus:Oe(t.onCloseAutoFocus,f=>{var h;!!!o.value&&!c.current&&((h=a.triggerRef.current)==null||h.focus()),c.current=!1,f.preventDefault()}),onFocusOutside:Oe(t.onFocusOutside,f=>{const d=f.target;l().some(g=>{var v;return(v=g.ref.current)==null?void 0:v.contains(d)})&&f.preventDefault()}),onInteractOutside:Oe(t.onInteractOutside,()=>{c.current=!0}),onEntryFocus:f=>{a.wasKeyboardTriggerOpenRef.current||f.preventDefault()},onKeyDown:Oe(t.onKeyDown,f=>{if(["ArrowRight","ArrowLeft"].includes(f.key)){const d=f.target,h=d.hasAttribute("data-radix-menubar-subtrigger"),g=d.closest("[data-radix-menubar-content]")!==f.currentTarget,x=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===f.key;if(!x&&h||g&&x)return;let y=l().filter(S=>!S.disabled).map(S=>S.value);x&&y.reverse();const _=y.indexOf(a.value);y=o.loop?tKe(y,_+1):y.slice(_+1);const[b]=y;b&&o.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});kie.displayName=vj;var UXe="MenubarGroup",$Xe=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(N4,{...i,...r,ref:e})});$Xe.displayName=UXe;var HXe="MenubarLabel",Iie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(R4,{...i,...r,ref:e})});Iie.displayName=HXe;var VXe="MenubarItem",Die=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(O4,{...i,...r,ref:e})});Die.displayName=VXe;var WXe="MenubarCheckboxItem",jie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(k4,{...i,...r,ref:e})});jie.displayName=WXe;var GXe="MenubarRadioGroup",qXe=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(I4,{...i,...r,ref:e})});qXe.displayName=GXe;var XXe="MenubarRadioItem",Lie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(D4,{...i,...r,ref:e})});Lie.displayName=XXe;var KXe="MenubarItemIndicator",Fie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(j4,{...i,...r,ref:e})});Fie.displayName=KXe;var YXe="MenubarSeparator",Bie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(L4,{...i,...r,ref:e})});Bie.displayName=YXe;var ZXe="MenubarArrow",QXe=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(F4,{...i,...r,ref:e})});QXe.displayName=ZXe;var JXe="MenubarSubTrigger",zie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(B4,{"data-radix-menubar-subtrigger":"",...i,...r,ref:e})});zie.displayName=JXe;var eKe="MenubarSubContent",Uie=A.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=Hs(n);return u.jsx(z4,{...i,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});Uie.displayName=eKe;function tKe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var $ie=Pie,Hie=Rie,nKe=Oie,Vie=kie,Wie=Iie,Gie=Die,qie=jie,Xie=Lie,Kie=Fie,Yie=Bie,Zie=zie,Qie=Uie;const rKe=A.forwardRef(({className:t,...e},n)=>u.jsx($ie,{ref:n,className:we("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));rKe.displayName=$ie.displayName;const iKe=A.forwardRef(({className:t,...e},n)=>u.jsx(Hie,{ref:n,className:we("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));iKe.displayName=Hie.displayName;const sKe=A.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(Zie,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,u.jsx(db,{className:"ml-auto h-4 w-4"})]}));sKe.displayName=Zie.displayName;const oKe=A.forwardRef(({className:t,...e},n)=>u.jsx(Qie,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...e}));oKe.displayName=Qie.displayName;const aKe=A.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...i},s)=>u.jsx(nKe,{children:u.jsx(Vie,{ref:s,align:e,alignOffset:n,sideOffset:r,className:we("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...i})}));aKe.displayName=Vie.displayName;const lKe=A.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(Gie,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));lKe.displayName=Gie.displayName;const cKe=A.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(qie,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Kie,{children:u.jsx(ub,{className:"h-4 w-4"})})}),e]}));cKe.displayName=qie.displayName;const uKe=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Xie,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Kie,{children:u.jsx(qA,{className:"h-2 w-2 fill-current"})})}),e]}));uKe.displayName=Xie.displayName;const dKe=A.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(Wie,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));dKe.displayName=Wie.displayName;const fKe=A.forwardRef(({className:t,...e},n)=>u.jsx(Yie,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));fKe.displayName=Yie.displayName;var hKe="VisuallyHidden",Wb=A.forwardRef((t,e)=>u.jsx(Xe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Wb.displayName=hKe;var Jie=Wb,ty="NavigationMenu",[G4,ese,pKe]=Kc(ty),[yj,mKe,gKe]=Kc(ty),[q4,Yvt]=Xn(ty,[pKe,gKe]),[vKe,na]=q4(ty),[yKe,xKe]=q4(ty),tse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,delayDuration:o=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...f}=t,[d,h]=A.useState(null),g=Pt(e,P=>h(P)),v=Bl(c),x=A.useRef(0),m=A.useRef(0),p=A.useRef(0),[y,_]=A.useState(!0),[b="",S]=Ur({prop:r,onChange:P=>{const N=P!=="",k=a>0;N?(window.clearTimeout(p.current),k&&_(!1)):(window.clearTimeout(p.current),p.current=window.setTimeout(()=>_(!0),a)),i==null||i(P)},defaultProp:s}),C=A.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>S(""),150)},[S]),M=A.useCallback(P=>{window.clearTimeout(m.current),S(P)},[S]),T=A.useCallback(P=>{b===P?window.clearTimeout(m.current):x.current=window.setTimeout(()=>{window.clearTimeout(m.current),S(P)},o)},[b,S,o]);return A.useEffect(()=>()=>{window.clearTimeout(x.current),window.clearTimeout(m.current),window.clearTimeout(p.current)},[]),u.jsx(rse,{scope:n,isRootMenu:!0,value:b,dir:v,orientation:l,rootNavigationMenu:d,onTriggerEnter:P=>{window.clearTimeout(x.current),y?T(P):M(P)},onTriggerLeave:()=>{window.clearTimeout(x.current),C()},onContentEnter:()=>window.clearTimeout(m.current),onContentLeave:C,onItemSelect:P=>{S(N=>N===P?"":P)},onItemDismiss:()=>S(""),children:u.jsx(Xe.nav,{"aria-label":"Main","data-orientation":l,dir:v,...f,ref:g})})});tse.displayName=ty;var nse="NavigationMenuSub",_Ke=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",...a}=t,l=na(nse,n),[c="",f]=Ur({prop:r,onChange:i,defaultProp:s});return u.jsx(rse,{scope:n,isRootMenu:!1,value:c,dir:l.dir,orientation:o,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:d=>f(d),onItemSelect:d=>f(d),onItemDismiss:()=>f(""),children:u.jsx(Xe.div,{"data-orientation":o,...a,ref:e})})});_Ke.displayName=nse;var rse=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:i,orientation:s,children:o,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:f,onTriggerLeave:d,onContentEnter:h,onContentLeave:g}=t,[v,x]=A.useState(null),[m,p]=A.useState(new Map),[y,_]=A.useState(null);return u.jsx(vKe,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:Kv(a),baseId:Yr(),dir:i,orientation:s,viewport:v,onViewportChange:x,indicatorTrack:y,onIndicatorTrackChange:_,onTriggerEnter:Ln(f),onTriggerLeave:Ln(d),onContentEnter:Ln(h),onContentLeave:Ln(g),onItemSelect:Ln(l),onItemDismiss:Ln(c),onViewportContentChange:A.useCallback((b,S)=>{p(C=>(C.set(b,S),new Map(C)))},[]),onViewportContentRemove:A.useCallback(b=>{p(S=>S.has(b)?(S.delete(b),new Map(S)):S)},[]),children:u.jsx(G4.Provider,{scope:e,children:u.jsx(yKe,{scope:e,items:m,children:o})})})},ise="NavigationMenuList",sse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=na(ise,n),s=u.jsx(Xe.ul,{"data-orientation":i.orientation,...r,ref:e});return u.jsx(Xe.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange,children:u.jsx(G4.Slot,{scope:n,children:i.isRootMenu?u.jsx(hse,{asChild:!0,children:s}):s})})});sse.displayName=ise;var ose="NavigationMenuItem",[bKe,ase]=q4(ose),wKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...i}=t,s=Yr(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=A.useRef(null),l=A.useRef(null),c=A.useRef(null),f=A.useRef(()=>{}),d=A.useRef(!1),h=A.useCallback((v="start")=>{if(a.current){f.current();const x=_j(a.current);x.length&&Y4(v==="start"?x:x.reverse())}},[]),g=A.useCallback(()=>{if(a.current){const v=_j(a.current);v.length&&(f.current=NKe(v))}},[]);return u.jsx(bKe,{scope:n,value:o,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:d,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:g,onContentFocusOutside:g,children:u.jsx(Xe.li,{...i,ref:e})})});wKe.displayName=ose;var xj="NavigationMenuTrigger",lse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...i}=t,s=na(xj,t.__scopeNavigationMenu),o=ase(xj,t.__scopeNavigationMenu),a=A.useRef(null),l=Pt(a,o.triggerRef,e),c=mse(s.baseId,o.value),f=gse(s.baseId,o.value),d=A.useRef(!1),h=A.useRef(!1),g=o.value===s.value;return u.jsxs(u.Fragment,{children:[u.jsx(G4.ItemSlot,{scope:n,value:o.value,children:u.jsx(pse,{asChild:!0,children:u.jsx(Xe.button,{id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":Z4(g),"aria-expanded":g,"aria-controls":f,...i,ref:l,onPointerEnter:Oe(t.onPointerEnter,()=>{h.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:Oe(t.onPointerMove,_M(()=>{r||h.current||o.wasEscapeCloseRef.current||d.current||(s.onTriggerEnter(o.value),d.current=!0)})),onPointerLeave:Oe(t.onPointerLeave,_M(()=>{r||(s.onTriggerLeave(),d.current=!1)})),onClick:Oe(t.onClick,()=>{s.onItemSelect(o.value),h.current=g}),onKeyDown:Oe(t.onKeyDown,v=>{const m={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];g&&v.key===m&&(o.onEntryKeyDown(),v.preventDefault())})})})}),g&&u.jsxs(u.Fragment,{children:[u.jsx(Jie,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:v=>{const x=o.contentRef.current,m=v.relatedTarget,p=m===a.current,y=x==null?void 0:x.contains(m);(p||!y)&&o.onFocusProxyEnter(p?"start":"end")}}),s.viewport&&u.jsx("span",{"aria-owns":f})]})]})});lse.displayName=xj;var SKe="NavigationMenuLink",LW="navigationMenu.linkSelect",EKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:i,...s}=t;return u.jsx(pse,{asChild:!0,children:u.jsx(Xe.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...s,ref:e,onClick:Oe(t.onClick,o=>{const a=o.target,l=new CustomEvent(LW,{bubbles:!0,cancelable:!0});if(a.addEventListener(LW,c=>i==null?void 0:i(c),{once:!0}),Ox(a,l),!l.defaultPrevented&&!o.metaKey){const c=new CustomEvent(mE,{bubbles:!0,cancelable:!0});Ox(a,c)}},{checkForDefaultPrevented:!1})})})});EKe.displayName=SKe;var X4="NavigationMenuIndicator",cse=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=na(X4,t.__scopeNavigationMenu),s=!!i.value;return i.indicatorTrack?CK.createPortal(u.jsx(ur,{present:n||s,children:u.jsx(CKe,{...r,ref:e})}),i.indicatorTrack):null});cse.displayName=X4;var CKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=na(X4,n),s=ese(n),[o,a]=A.useState(null),[l,c]=A.useState(null),f=i.orientation==="horizontal",d=!!i.value;A.useEffect(()=>{var x;const v=(x=s().find(m=>m.value===i.value))==null?void 0:x.ref.current;v&&a(v)},[s,i.value]);const h=()=>{o&&c({size:f?o.offsetWidth:o.offsetHeight,offset:f?o.offsetLeft:o.offsetTop})};return bj(o,h),bj(i.indicatorTrack,h),l?u.jsx(Xe.div,{"aria-hidden":!0,"data-state":d?"visible":"hidden","data-orientation":i.orientation,...r,ref:e,style:{position:"absolute",...f?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}}):null}),nv="NavigationMenuContent",use=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=na(nv,t.__scopeNavigationMenu),s=ase(nv,t.__scopeNavigationMenu),o=Pt(s.contentRef,e),a=s.value===i.value,l={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...r};return i.viewport?u.jsx(MKe,{forceMount:n,...l,ref:o}):u.jsx(ur,{present:n||a,children:u.jsx(dse,{"data-state":Z4(a),...l,ref:o,onPointerEnter:Oe(t.onPointerEnter,i.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,_M(i.onContentLeave)),style:{pointerEvents:!a&&i.isRootMenu?"none":void 0,...l.style}})})});use.displayName=nv;var MKe=A.forwardRef((t,e)=>{const n=na(nv,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:i}=n;return gr(()=>{r(t.value,{ref:e,...t})},[t,e,r]),gr(()=>()=>i(t.value),[t.value,i]),null}),mE="navigationMenu.rootContentDismiss",dse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:i,focusProxyRef:s,wasEscapeCloseRef:o,onRootContentClose:a,onContentFocusOutside:l,...c}=t,f=na(nv,n),d=A.useRef(null),h=Pt(d,e),g=mse(f.baseId,r),v=gse(f.baseId,r),x=ese(n),m=A.useRef(null),{onItemDismiss:p}=f;A.useEffect(()=>{const _=d.current;if(f.isRootMenu&&_){const b=()=>{var S;p(),a(),_.contains(document.activeElement)&&((S=i.current)==null||S.focus())};return _.addEventListener(mE,b),()=>_.removeEventListener(mE,b)}},[f.isRootMenu,t.value,i,p,a]);const y=A.useMemo(()=>{const b=x().map(N=>N.value);f.dir==="rtl"&&b.reverse();const S=b.indexOf(f.value),C=b.indexOf(f.previousValue),M=r===f.value,T=C===b.indexOf(r);if(!M&&!T)return m.current;const P=(()=>{if(S!==C){if(M&&C!==-1)return S>C?"from-end":"from-start";if(T&&S!==-1)return S>C?"to-start":"to-end"}return null})();return m.current=P,P},[f.previousValue,f.value,f.dir,x,r]);return u.jsx(hse,{asChild:!0,children:u.jsx(Zc,{id:v,"aria-labelledby":g,"data-motion":y,"data-orientation":f.orientation,...c,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var b;const _=new Event(mE,{bubbles:!0,cancelable:!0});(b=d.current)==null||b.dispatchEvent(_)},onFocusOutside:Oe(t.onFocusOutside,_=>{var S;l();const b=_.target;(S=f.rootNavigationMenu)!=null&&S.contains(b)&&_.preventDefault()}),onPointerDownOutside:Oe(t.onPointerDownOutside,_=>{var M;const b=_.target,S=x().some(T=>{var P;return(P=T.ref.current)==null?void 0:P.contains(b)}),C=f.isRootMenu&&((M=f.viewport)==null?void 0:M.contains(b));(S||C||!f.isRootMenu)&&_.preventDefault()}),onKeyDown:Oe(t.onKeyDown,_=>{var C;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const M=_j(_.currentTarget),T=document.activeElement,P=M.findIndex(D=>D===T),k=_.shiftKey?M.slice(0,P).reverse():M.slice(P+1,M.length);Y4(k)?_.preventDefault():(C=s.current)==null||C.focus()}}),onEscapeKeyDown:Oe(t.onEscapeKeyDown,_=>{o.current=!0})})})}),K4="NavigationMenuViewport",fse=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=!!na(K4,t.__scopeNavigationMenu).value;return u.jsx(ur,{present:n||s,children:u.jsx(AKe,{...r,ref:e})})});fse.displayName=K4;var AKe=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...i}=t,s=na(K4,n),o=Pt(e,s.onViewportChange),a=xKe(nv,t.__scopeNavigationMenu),[l,c]=A.useState(null),[f,d]=A.useState(null),h=l?(l==null?void 0:l.width)+"px":void 0,g=l?(l==null?void 0:l.height)+"px":void 0,v=!!s.value,x=v?s.value:s.previousValue;return bj(f,()=>{f&&c({width:f.offsetWidth,height:f.offsetHeight})}),u.jsx(Xe.div,{"data-state":Z4(v),"data-orientation":s.orientation,...i,ref:o,style:{pointerEvents:!v&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":g,...i.style},onPointerEnter:Oe(t.onPointerEnter,s.onContentEnter),onPointerLeave:Oe(t.onPointerLeave,_M(s.onContentLeave)),children:Array.from(a.items).map(([p,{ref:y,forceMount:_,...b}])=>{const S=x===p;return u.jsx(ur,{present:_||S,children:u.jsx(dse,{...b,ref:kl(y,C=>{S&&C&&d(C)})})},p)})})}),TKe="FocusGroup",hse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=na(TKe,n);return u.jsx(yj.Provider,{scope:n,children:u.jsx(yj.Slot,{scope:n,children:u.jsx(Xe.div,{dir:i.dir,...r,ref:e})})})}),FW=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],PKe="FocusGroupItem",pse=A.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=mKe(n),s=na(PKe,n);return u.jsx(yj.ItemSlot,{scope:n,children:u.jsx(Xe.button,{...r,ref:e,onKeyDown:Oe(t.onKeyDown,o=>{if(["Home","End",...FW].includes(o.key)){let l=i().map(d=>d.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),FW.includes(o.key)){const d=l.indexOf(o.currentTarget);l=l.slice(d+1)}setTimeout(()=>Y4(l)),o.preventDefault()}})})})});function _j(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Y4(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function NKe(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function bj(t,e){const n=Ln(e);gr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function Z4(t){return t?"open":"closed"}function mse(t,e){return`${t}-trigger-${e}`}function gse(t,e){return`${t}-content-${e}`}function _M(t){return e=>e.pointerType==="mouse"?t(e):void 0}var vse=tse,yse=sse,xse=lse,_se=cse,bse=use,wse=fse;const RKe=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(vse,{ref:r,className:we("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...n,children:[e,u.jsx(Sse,{})]}));RKe.displayName=vse.displayName;const OKe=A.forwardRef(({className:t,...e},n)=>u.jsx(yse,{ref:n,className:we("group flex flex-1 list-none items-center justify-center space-x-1",t),...e}));OKe.displayName=yse.displayName;const kKe=Qc("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),IKe=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(xse,{ref:r,className:we(kKe(),"group",t),...n,children:[e," ",u.jsx(Ov,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));IKe.displayName=xse.displayName;const DKe=A.forwardRef(({className:t,...e},n)=>u.jsx(bse,{ref:n,className:we("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",t),...e}));DKe.displayName=bse.displayName;const Sse=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:we("absolute left-0 top-full flex justify-center"),children:u.jsx(wse,{className:we("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",t),ref:n,...e})}));Sse.displayName=wse.displayName;const jKe=A.forwardRef(({className:t,...e},n)=>u.jsx(_se,{ref:n,className:we("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",t),...e,children:u.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));jKe.displayName=_se.displayName;const LKe=A.forwardRef(({className:t,...e},n)=>u.jsx("ul",{ref:n,className:we("flex flex-row items-center gap-1",t),...e}));LKe.displayName="PaginationContent";const FKe=A.forwardRef(({className:t,...e},n)=>u.jsx("li",{ref:n,className:we("",t),...e}));FKe.displayName="PaginationItem";var Q4="Popover",[Ese,Zvt]=Xn(Q4,[Hl]),Gb=Hl(),[BKe,Fd]=Ese(Q4),Cse=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=Gb(e),l=A.useRef(null),[c,f]=A.useState(!1),[d=!1,h]=Ur({prop:r,defaultProp:i,onChange:s});return u.jsx(y4,{...a,children:u.jsx(BKe,{scope:e,contentId:Yr(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:A.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:A.useCallback(()=>f(!0),[]),onCustomAnchorRemove:A.useCallback(()=>f(!1),[]),modal:o,children:n})})};Cse.displayName=Q4;var Mse="PopoverAnchor",zKe=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fd(Mse,n),s=Gb(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return A.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(Qv,{...s,...r,ref:e})});zKe.displayName=Mse;var Ase="PopoverTrigger",Tse=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fd(Ase,n),s=Gb(n),o=Pt(e,i.triggerRef),a=u.jsx(Xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":kse(i.open),...r,ref:o,onClick:Oe(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:u.jsx(Qv,{asChild:!0,...s,children:a})});Tse.displayName=Ase;var J4="PopoverPortal",[UKe,$Ke]=Ese(J4,{forceMount:void 0}),Pse=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=Fd(J4,e);return u.jsx(UKe,{scope:e,forceMount:n,children:u.jsx(ur,{present:n||s.open,children:u.jsx(Iv,{asChild:!0,container:i,children:r})})})};Pse.displayName=J4;var rv="PopoverContent",Nse=A.forwardRef((t,e)=>{const n=$Ke(rv,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=Fd(rv,t.__scopePopover);return u.jsx(ur,{present:r||s.open,children:s.modal?u.jsx(VKe,{...i,ref:e}):u.jsx(WKe,{...i,ref:e})})});Nse.displayName=rv;var HKe=vd("PopoverContent.RemoveScroll"),VKe=A.forwardRef((t,e)=>{const n=Fd(rv,t.__scopePopover),r=A.useRef(null),i=Pt(e,r),s=A.useRef(!1);return A.useEffect(()=>{const o=r.current;if(o)return JA(o)},[]),u.jsx(mb,{as:HKe,allowPinchZoom:!0,children:u.jsx(Rse,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Oe(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Oe(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Oe(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),WKe=A.forwardRef((t,e)=>{const n=Fd(rv,t.__scopePopover),r=A.useRef(!1),i=A.useRef(!1);return u.jsx(Rse,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Rse=A.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,...d}=t,h=Fd(rv,n),g=Gb(n);return ZA(),u.jsx(pb,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Zc,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:u.jsx(Db,{"data-state":kse(h.open),role:"dialog",id:h.contentId,...g,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ose="PopoverClose",GKe=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Fd(Ose,n);return u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,()=>i.onOpenChange(!1))})});GKe.displayName=Ose;var qKe="PopoverArrow",XKe=A.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=Gb(n);return u.jsx(jb,{...i,...r,ref:e})});XKe.displayName=qKe;function kse(t){return t?"open":"closed"}var KKe=Cse,YKe=Tse,ZKe=Pse,Ise=Nse;const QKe=KKe,JKe=YKe,Dse=A.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>u.jsx(ZKe,{children:u.jsx(Ise,{ref:i,align:e,sideOffset:n,className:we("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));Dse.displayName=Ise.displayName;var eB="Progress",tB=100,[eYe,Qvt]=Xn(eB),[tYe,nYe]=eYe(eB),jse=A.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=rYe,...o}=t;(i||i===0)&&!BW(i)&&console.error(iYe(`${i}`,"Progress"));const a=BW(i)?i:tB;r!==null&&!zW(r,a)&&console.error(sYe(`${r}`,"Progress"));const l=zW(r,a)?r:null,c=bM(l)?s(l,a):void 0;return u.jsx(tYe,{scope:n,value:l,max:a,children:u.jsx(Xe.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":bM(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Bse(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});jse.displayName=eB;var Lse="ProgressIndicator",Fse=A.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=nYe(Lse,n);return u.jsx(Xe.div,{"data-state":Bse(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Fse.displayName=Lse;function rYe(t,e){return`${Math.round(t/e*100)}%`}function Bse(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function bM(t){return typeof t=="number"}function BW(t){return bM(t)&&!isNaN(t)&&t>0}function zW(t,e){return bM(t)&&!isNaN(t)&&t<=e&&t>=0}function iYe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${tB}\`.`}function sYe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${tB} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var zse=jse,oYe=Fse;const nB=A.forwardRef(({className:t,value:e,...n},r)=>u.jsx(zse,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(oYe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));nB.displayName=zse.displayName;var rB="Radio",[aYe,Use]=Xn(rB),[lYe,cYe]=aYe(rB),$se=A.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...f}=t,[d,h]=A.useState(null),g=Pt(e,m=>h(m)),v=A.useRef(!1),x=d?c||!!d.closest("form"):!0;return u.jsxs(lYe,{scope:n,checked:i,disabled:o,children:[u.jsx(Xe.button,{type:"button",role:"radio","aria-checked":i,"data-state":Wse(i),"data-disabled":o?"":void 0,disabled:o,value:a,...f,ref:g,onClick:Oe(t.onClick,m=>{i||l==null||l(),x&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),x&&u.jsx(uYe,{control:d,bubbles:!v.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});$se.displayName=rB;var Hse="RadioIndicator",Vse=A.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=cYe(Hse,n);return u.jsx(ur,{present:r||s.checked,children:u.jsx(Xe.span,{"data-state":Wse(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});Vse.displayName=Hse;var uYe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=A.useRef(null),o=Kv(n),a=Ob(e);return A.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[o,n,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Wse(t){return t?"checked":"unchecked"}var dYe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],iB="RadioGroup",[fYe,Jvt]=Xn(iB,[Vl,Use]),Gse=Vl(),qse=Use(),[hYe,pYe]=fYe(iB),Xse=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:f=!0,onValueChange:d,...h}=t,g=Gse(n),v=Bl(c),[x,m]=Ur({prop:s,defaultProp:i,onChange:d});return u.jsx(hYe,{scope:n,name:r,required:o,disabled:a,value:x,onValueChange:m,children:u.jsx(Lb,{asChild:!0,...g,orientation:l,dir:v,loop:f,children:u.jsx(Xe.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:v,...h,ref:e})})})});Xse.displayName=iB;var Kse="RadioGroupItem",Yse=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=pYe(Kse,n),o=s.disabled||r,a=Gse(n),l=qse(n),c=A.useRef(null),f=Pt(e,c),d=s.value===i.value,h=A.useRef(!1);return A.useEffect(()=>{const g=x=>{dYe.includes(x.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),u.jsx(Fb,{asChild:!0,...a,focusable:!o,active:d,children:u.jsx($se,{disabled:o,required:s.required,checked:d,...l,...i,name:s.name,ref:f,onCheck:()=>s.onValueChange(i.value),onKeyDown:Oe(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Oe(i.onFocus,()=>{var g;h.current&&((g=c.current)==null||g.click())})})})});Yse.displayName=Kse;var mYe="RadioGroupIndicator",Zse=A.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=qse(n);return u.jsx(Vse,{...i,...r,ref:e})});Zse.displayName=mYe;var Qse=Xse,Jse=Yse,gYe=Zse;const vYe=A.forwardRef(({className:t,...e},n)=>u.jsx(Qse,{className:we("grid gap-2",t),...e,ref:n}));vYe.displayName=Qse.displayName;const yYe=A.forwardRef(({className:t,...e},n)=>u.jsx(Jse,{ref:n,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(gYe,{className:"flex items-center justify-center",children:u.jsx(qA,{className:"h-2.5 w-2.5 fill-current text-current"})})}));yYe.displayName=Jse.displayName;const{createElement:iv,createContext:xYe,createRef:eyt,forwardRef:eoe,useCallback:ws,useContext:toe,useEffect:sh,useImperativeHandle:noe,useLayoutEffect:_Ye,useMemo:bYe,useRef:Ms,useState:tg}=AA,UW=AA[`useId${Math.random()}`.slice(0,5)],wYe=_Ye,sP=xYe(null);sP.displayName="PanelGroupContext";const oh=wYe,SYe=typeof UW=="function"?UW:()=>null;let EYe=0;function sB(t=null){const e=SYe(),n=Ms(t||e||null);return n.current===null&&(n.current=""+EYe++),t??n.current}function roe({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:f,onResize:d,order:h,style:g,tagName:v="div",...x}){const m=toe(sP);if(m===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:p,expandPanel:y,getPanelSize:_,getPanelStyle:b,groupId:S,isPanelCollapsed:C,reevaluatePanelConstraints:M,registerPanel:T,resizePanel:P,unregisterPanel:N}=m,k=sB(o),D=Ms({callbacks:{onCollapse:c,onExpand:f,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:k,idIsFromProps:o!==void 0,order:h});Ms({didLogMissingDefaultSizeWarning:!1}),oh(()=>{const{callbacks:F,constraints:z}=D.current,U={...z};D.current.id=k,D.current.idIsFromProps=o!==void 0,D.current.order=h,F.onCollapse=c,F.onExpand=f,F.onResize=d,z.collapsedSize=n,z.collapsible=r,z.defaultSize=i,z.maxSize=a,z.minSize=l,(U.collapsedSize!==z.collapsedSize||U.collapsible!==z.collapsible||U.maxSize!==z.maxSize||U.minSize!==z.minSize)&&M(D.current,U)}),oh(()=>{const F=D.current;return T(F),()=>{N(F)}},[h,k,T,N]),noe(s,()=>({collapse:()=>{p(D.current)},expand:F=>{y(D.current,F)},getId(){return k},getSize(){return _(D.current)},isCollapsed(){return C(D.current)},isExpanded(){return!C(D.current)},resize:F=>{P(D.current,F)}}),[p,y,_,C,k,P]);const j=b(D.current,i);return iv(v,{...x,children:t,className:e,id:o,style:{...j,...g},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":S,"data-panel-id":k,"data-panel-size":parseFloat(""+j.flexGrow).toFixed(1)})}const um=eoe((t,e)=>iv(roe,{...t,forwardedRef:e}));roe.displayName="Panel";um.displayName="forwardRef(Panel)";let wj=null,$f=null;function CYe(t,e){if(e){const n=(e&loe)!==0,r=(e&coe)!==0,i=(e&uoe)!==0,s=(e&doe)!==0;if(n)return i?"se-resize":s?"ne-resize":"e-resize";if(r)return i?"sw-resize":s?"nw-resize":"w-resize";if(i)return"s-resize";if(s)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function MYe(){$f!==null&&(document.head.removeChild($f),wj=null,$f=null)}function GR(t,e){const n=CYe(t,e);wj!==n&&(wj=n,$f===null&&($f=document.createElement("style"),document.head.appendChild($f)),$f.innerHTML=`*{cursor: ${n}!important;}`)}function ioe(t){return t.type==="keydown"}function soe(t){return t.type.startsWith("pointer")}function ooe(t){return t.type.startsWith("mouse")}function oP(t){if(soe(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(ooe(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function AYe(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function TYe(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function PYe(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:VW(t),b:VW(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;dn(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:HW($W(n.a)),b:HW($W(n.b))};if(i.a===i.b){const s=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(i.a-i.b)}const NYe=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function RYe(t){var e;const n=getComputedStyle((e=aoe(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function OYe(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||RYe(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||NYe.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function $W(t){let e=t.length;for(;e--;){const n=t[e];if(dn(n,"Missing node"),OYe(n))return n}return null}function HW(t){return t&&Number(getComputedStyle(t).zIndex)||0}function VW(t){const e=[];for(;t;)e.push(t),t=aoe(t);return e}function aoe(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const loe=1,coe=2,uoe=4,doe=8,kYe=AYe()==="coarse";let Ba=[],ng=!1,Bu=new Map,aP=new Map;const C_=new Set;function IYe(t,e,n,r,i){var s;const{ownerDocument:o}=e,a={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(s=Bu.get(o))!==null&&s!==void 0?s:0;return Bu.set(o,l+1),C_.add(a),wM(),function(){var f;aP.delete(t),C_.delete(a);const d=(f=Bu.get(o))!==null&&f!==void 0?f:1;if(Bu.set(o,d-1),wM(),d===1&&Bu.delete(o),Ba.includes(a)){const h=Ba.indexOf(a);h>=0&&Ba.splice(h,1),aB(),i("up",!0,null)}}}function WW(t){const{target:e}=t,{x:n,y:r}=oP(t);ng=!0,oB({target:e,x:n,y:r}),wM(),Ba.length>0&&(SM("down",t),t.preventDefault(),t.stopPropagation())}function r0(t){const{x:e,y:n}=oP(t);if(ng&&t.buttons===0&&(ng=!1,SM("up",t)),!ng){const{target:r}=t;oB({target:r,x:e,y:n})}SM("move",t),aB(),Ba.length>0&&t.preventDefault()}function jp(t){const{target:e}=t,{x:n,y:r}=oP(t);aP.clear(),ng=!1,Ba.length>0&&t.preventDefault(),SM("up",t),oB({target:e,x:n,y:r}),aB(),wM()}function oB({target:t,x:e,y:n}){Ba.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),C_.forEach(i=>{const{element:s,hitAreaMargins:o}=i,a=s.getBoundingClientRect(),{bottom:l,left:c,right:f,top:d}=a,h=kYe?o.coarse:o.fine;if(e>=c-h&&e<=f+h&&n>=d-h&&n<=l+h){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&PYe(r,s)>0){let v=r,x=!1;for(;v&&!v.contains(s);){if(TYe(v.getBoundingClientRect(),a)){x=!0;break}v=v.parentElement}if(x)return}Ba.push(i)}})}function qR(t,e){aP.set(t,e)}function aB(){let t=!1,e=!1;Ba.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;aP.forEach(r=>{n|=r}),t&&e?GR("intersection",n):t?GR("horizontal",n):e?GR("vertical",n):MYe()}function wM(){Bu.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",jp),n.removeEventListener("pointerdown",WW),n.removeEventListener("pointerleave",r0),n.removeEventListener("pointermove",r0)}),window.removeEventListener("pointerup",jp),window.removeEventListener("pointercancel",jp),C_.size>0&&(ng?(Ba.length>0&&Bu.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",jp),n.addEventListener("pointerleave",r0),n.addEventListener("pointermove",r0))}),window.addEventListener("pointerup",jp),window.addEventListener("pointercancel",jp)):Bu.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("pointerdown",WW,{capture:!0}),n.addEventListener("pointermove",r0))}))}function SM(t,e){C_.forEach(n=>{const{setResizeHandlerState:r}=n,i=Ba.includes(n);r(t,i,e)})}function DYe(){const[t,e]=tg(0);return ws(()=>e(n=>n+1),[])}function dn(t,e){if(!t)throw console.error(e),Error(e)}const lB=10;function Dh(t,e,n=lB){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function yc(t,e,n=lB){return Dh(t,e,n)===0}function no(t,e,n){return Dh(t,e,n)===0}function jYe(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],s=e[r];if(!no(i,s,n))return!1}return!0}function Rm({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];dn(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(Dh(n,a)<0)if(s){const l=(i+a)/2;Dh(n,l)<0?n=i:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(lB)),n}function N0({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:s}){if(no(t,0))return e;const o=[...e],[a,l]=r;dn(a!=null,"Invalid first pivot index"),dn(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const d=t<0?l:a,h=n[d];dn(h,`Panel constraints not found for index ${d}`);const{collapsedSize:g=0,collapsible:v,minSize:x=0}=h;if(v){const m=e[d];if(dn(m!=null,`Previous layout not found for panel index ${d}`),no(m,g)){const p=x-m;Dh(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}{const d=t<0?a:l,h=n[d];dn(h,`No panel constraints found for index ${d}`);const{collapsedSize:g=0,collapsible:v,minSize:x=0}=h;if(v){const m=e[d];if(dn(m!=null,`Previous layout not found for panel index ${d}`),no(m,x)){const p=m-g;Dh(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}}{const d=t<0?1:-1;let h=t<0?l:a,g=0;for(;;){const x=e[h];dn(x!=null,`Previous layout not found for panel index ${h}`);const p=Rm({panelConstraints:n,panelIndex:h,size:100})-x;if(g+=p,h+=d,h<0||h>=n.length)break}const v=Math.min(Math.abs(t),Math.abs(g));t=t<0?0-v:v}{let h=t<0?a:l;for(;h>=0&&h<n.length;){const g=Math.abs(t)-Math.abs(c),v=e[h];dn(v!=null,`Previous layout not found for panel index ${h}`);const x=v-g,m=Rm({panelConstraints:n,panelIndex:h,size:x});if(!no(v,m)&&(c+=v-m,o[h]=m,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?h--:h++}}if(jYe(i,o))return i;{const d=t<0?l:a,h=e[d];dn(h!=null,`Previous layout not found for panel index ${d}`);const g=h+c,v=Rm({panelConstraints:n,panelIndex:d,size:g});if(o[d]=v,!no(v,g)){let x=g-v,p=t<0?l:a;for(;p>=0&&p<n.length;){const y=o[p];dn(y!=null,`Previous layout not found for panel index ${p}`);const _=y+x,b=Rm({panelConstraints:n,panelIndex:p,size:_});if(no(y,b)||(x-=b-y,o[p]=b),no(x,0))break;t>0?p--:p++}}}const f=o.reduce((d,h)=>h+d,0);return no(f,100)?o:i}function LYe({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,s=0,o=0;const a=n[0];dn(a!=null,"No pivot index found"),e.forEach((d,h)=>{const{constraints:g}=d,{maxSize:v=100,minSize:x=0}=g;h===a?(r=x,i=v):(s+=x,o+=v)});const l=Math.min(i,100-s),c=Math.max(r,100-o),f=t[a];return{valueMax:l,valueMin:c,valueNow:f}}function M_(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function foe(t,e,n=document){const i=M_(t,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===e);return i??null}function hoe(t,e,n){const r=foe(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function poe(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function lP(t,e=document){const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function FYe(t,e,n,r=document){var i,s,o,a;const l=lP(e,r),c=M_(t,r),f=l?c.indexOf(l):-1,d=(i=(s=n[f])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,h=(o=(a=n[f+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[d,h]}function BYe({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){Ms({didWarnAboutMissingResizeHandle:!1}),oh(()=>{if(!s)return;const a=M_(n,s);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:f,valueNow:d}=LYe({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),h=a[l];if(h!=null){const g=i[l];dn(g,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",g.id),h.setAttribute("aria-valuemax",""+Math.round(c)),h.setAttribute("aria-valuemin",""+Math.round(f)),h.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,s]),sh(()=>{if(!s)return;const a=e.current;dn(a,"Eager values not found");const{panelDataArray:l}=a,c=poe(n,s);dn(c!=null,`No group found for id "${n}"`);const f=M_(n,s);dn(f,`No resize handles found for group id "${n}"`);const d=f.map(h=>{const g=h.getAttribute("data-panel-resize-handle-id");dn(g,"Resize handle element has no handle id attribute");const[v,x]=FYe(n,g,l,s);if(v==null||x==null)return()=>{};const m=p=>{if(!p.defaultPrevented)switch(p.key){case"Enter":{p.preventDefault();const y=l.findIndex(_=>_.id===v);if(y>=0){const _=l[y];dn(_,`No panel data found for index ${y}`);const b=r[y],{collapsedSize:S=0,collapsible:C,minSize:M=0}=_.constraints;if(b!=null&&C){const T=N0({delta:no(b,S)?M-S:S-b,initialLayout:r,panelConstraints:l.map(P=>P.constraints),pivotIndices:hoe(n,g,s),prevLayout:r,trigger:"keyboard"});r!==T&&o(T)}}break}}};return h.addEventListener("keydown",m),()=>{h.removeEventListener("keydown",m)}});return()=>{d.forEach(h=>h())}},[s,t,e,n,r,i,o])}function GW(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function moe(t,e){const n=t==="horizontal",{x:r,y:i}=oP(e);return n?r:i}function zYe(t,e,n,r,i){const s=n==="horizontal",o=lP(e,i);dn(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute("data-panel-group-id");dn(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=moe(n,t),f=poe(a,i);dn(f,`No group element found for id "${a}"`);const d=f.getBoundingClientRect(),h=s?d.width:d.height;return(c-l)/h*100}function UYe(t,e,n,r,i,s){if(ioe(t)){const o=n==="horizontal";let a=0;t.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(t.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:zYe(t,e,n,r,s)}function $Ye({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<t.length;s++){const o=n[s];dn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,i-=a)}for(let s=0;s<t.length;s++){const o=n[s];dn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-r,c=i/l;r++,e[s]=c,i-=c}return e}function Lp(t,e,n){e.forEach((r,i)=>{const s=t[i];dn(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:f}=a,d=n[l];if(d==null||r!==d){n[l]=r;const{onCollapse:h,onExpand:g,onResize:v}=o;v&&v(r,d),f&&(h||g)&&(g&&(d==null||yc(d,c))&&!yc(r,c)&&g(),h&&(d==null||!yc(d,c))&&yc(r,c)&&h())}})}function X1(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function HYe({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:s=3}){const o=n[i];let a;return o==null?a=t!=null?t.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function VYe(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function qW(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function goe(t){return`react-resizable-panels:${t}`}function voe(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function yoe(t,e){try{const n=goe(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function WYe(t,e,n){var r,i;const s=(r=yoe(t,n))!==null&&r!==void 0?r:{},o=voe(e);return(i=s[o])!==null&&i!==void 0?i:null}function GYe(t,e,n,r,i){var s;const o=goe(t),a=voe(e),l=(s=yoe(t,i))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function XW({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!no(r,100)&&n.length>0)for(let s=0;s<e.length;s++){const o=n[s];dn(o!=null,`No layout data found for index ${s}`);const a=100/r*o;n[s]=a}let i=0;for(let s=0;s<e.length;s++){const o=n[s];dn(o!=null,`No layout data found for index ${s}`);const a=Rm({panelConstraints:e,panelIndex:s,size:o});o!=a&&(i+=o-a,n[s]=a)}if(!no(i,0))for(let s=0;s<e.length;s++){const o=n[s];dn(o!=null,`No layout data found for index ${s}`);const a=o+i,l=Rm({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(i-=l-o,n[s]=l,no(i,0)))break}return n}const qYe=100,R0={getItem:t=>(qW(R0),R0.getItem(t)),setItem:(t,e)=>{qW(R0),R0.setItem(t,e)}},KW={};function xoe({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=R0,style:c,tagName:f="div",...d}){const h=sB(s),g=Ms(null),[v,x]=tg(null),[m,p]=tg([]),y=DYe(),_=Ms({}),b=Ms(new Map),S=Ms(0),C=Ms({autoSaveId:t,direction:r,dragState:v,id:h,keyboardResizeBy:a,onLayout:o,storage:l}),M=Ms({layout:m,panelDataArray:[],panelDataArrayChanged:!1});Ms({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),noe(i,()=>({getId:()=>C.current.id,getLayout:()=>{const{layout:X}=M.current;return X},setLayout:X=>{const{onLayout:ne}=C.current,{layout:ae,panelDataArray:se}=M.current,$=XW({layout:X,panelConstraints:se.map(Y=>Y.constraints)});GW(ae,$)||(p($),M.current.layout=$,ne&&ne($),Lp(se,$,_.current))}}),[]),oh(()=>{C.current.autoSaveId=t,C.current.direction=r,C.current.dragState=v,C.current.id=h,C.current.onLayout=o,C.current.storage=l}),BYe({committedValuesRef:C,eagerValuesRef:M,groupId:h,layout:m,panelDataArray:M.current.panelDataArray,setLayout:p,panelGroupElement:g.current}),sh(()=>{const{panelDataArray:X}=M.current;if(t){if(m.length===0||m.length!==X.length)return;let ne=KW[t];ne==null&&(ne=VYe(GYe,qYe),KW[t]=ne);const ae=[...X],se=new Map(b.current);ne(t,ae,se,m,l)}},[t,m,l]),sh(()=>{});const T=ws(X=>{const{onLayout:ne}=C.current,{layout:ae,panelDataArray:se}=M.current;if(X.constraints.collapsible){const $=se.map(ue=>ue.constraints),{collapsedSize:Y=0,panelSize:Q,pivotIndices:ee}=of(se,X,ae);if(dn(Q!=null,`Panel size not found for panel "${X.id}"`),!yc(Q,Y)){b.current.set(X.id,Q);const J=dm(se,X)===se.length-1?Q-Y:Y-Q,K=N0({delta:J,initialLayout:ae,panelConstraints:$,pivotIndices:ee,prevLayout:ae,trigger:"imperative-api"});X1(ae,K)||(p(K),M.current.layout=K,ne&&ne(K),Lp(se,K,_.current))}}},[]),P=ws((X,ne)=>{const{onLayout:ae}=C.current,{layout:se,panelDataArray:$}=M.current;if(X.constraints.collapsible){const Y=$.map(re=>re.constraints),{collapsedSize:Q=0,panelSize:ee=0,minSize:ue=0,pivotIndices:J}=of($,X,se),K=ne??ue;if(yc(ee,Q)){const re=b.current.get(X.id),fe=re!=null&&re>=K?re:K,pe=dm($,X)===$.length-1?ee-fe:fe-ee,Ae=N0({delta:pe,initialLayout:se,panelConstraints:Y,pivotIndices:J,prevLayout:se,trigger:"imperative-api"});X1(se,Ae)||(p(Ae),M.current.layout=Ae,ae&&ae(Ae),Lp($,Ae,_.current))}}},[]),N=ws(X=>{const{layout:ne,panelDataArray:ae}=M.current,{panelSize:se}=of(ae,X,ne);return dn(se!=null,`Panel size not found for panel "${X.id}"`),se},[]),k=ws((X,ne)=>{const{panelDataArray:ae}=M.current,se=dm(ae,X);return HYe({defaultSize:ne,dragState:v,layout:m,panelData:ae,panelIndex:se})},[v,m]),D=ws(X=>{const{layout:ne,panelDataArray:ae}=M.current,{collapsedSize:se=0,collapsible:$,panelSize:Y}=of(ae,X,ne);return dn(Y!=null,`Panel size not found for panel "${X.id}"`),$===!0&&yc(Y,se)},[]),j=ws(X=>{const{layout:ne,panelDataArray:ae}=M.current,{collapsedSize:se=0,collapsible:$,panelSize:Y}=of(ae,X,ne);return dn(Y!=null,`Panel size not found for panel "${X.id}"`),!$||Dh(Y,se)>0},[]),F=ws(X=>{const{panelDataArray:ne}=M.current;ne.push(X),ne.sort((ae,se)=>{const $=ae.order,Y=se.order;return $==null&&Y==null?0:$==null?-1:Y==null?1:$-Y}),M.current.panelDataArrayChanged=!0,y()},[y]);oh(()=>{if(M.current.panelDataArrayChanged){M.current.panelDataArrayChanged=!1;const{autoSaveId:X,onLayout:ne,storage:ae}=C.current,{layout:se,panelDataArray:$}=M.current;let Y=null;if(X){const ee=WYe(X,$,ae);ee&&(b.current=new Map(Object.entries(ee.expandToSizes)),Y=ee.layout)}Y==null&&(Y=$Ye({panelDataArray:$}));const Q=XW({layout:Y,panelConstraints:$.map(ee=>ee.constraints)});GW(se,Q)||(p(Q),M.current.layout=Q,ne&&ne(Q),Lp($,Q,_.current))}}),oh(()=>{const X=M.current;return()=>{X.layout=[]}},[]);const z=ws(X=>{let ne=!1;const ae=g.current;return ae&&window.getComputedStyle(ae,null).getPropertyValue("direction")==="rtl"&&(ne=!0),function($){$.preventDefault();const Y=g.current;if(!Y)return()=>null;const{direction:Q,dragState:ee,id:ue,keyboardResizeBy:J,onLayout:K}=C.current,{layout:re,panelDataArray:fe}=M.current,{initialLayout:me}=ee??{},pe=hoe(ue,X,Y);let Ae=UYe($,X,Q,ee,J,Y);const Ce=Q==="horizontal";Ce&&ne&&(Ae=-Ae);const De=fe.map(ie=>ie.constraints),ot=N0({delta:Ae,initialLayout:me??re,panelConstraints:De,pivotIndices:pe,prevLayout:re,trigger:ioe($)?"keyboard":"mouse-or-touch"}),nt=!X1(re,ot);(soe($)||ooe($))&&S.current!=Ae&&(S.current=Ae,!nt&&Ae!==0?Ce?qR(X,Ae<0?loe:coe):qR(X,Ae<0?uoe:doe):qR(X,0)),nt&&(p(ot),M.current.layout=ot,K&&K(ot),Lp(fe,ot,_.current))}},[]),U=ws((X,ne)=>{const{onLayout:ae}=C.current,{layout:se,panelDataArray:$}=M.current,Y=$.map(re=>re.constraints),{panelSize:Q,pivotIndices:ee}=of($,X,se);dn(Q!=null,`Panel size not found for panel "${X.id}"`);const J=dm($,X)===$.length-1?Q-ne:ne-Q,K=N0({delta:J,initialLayout:se,panelConstraints:Y,pivotIndices:ee,prevLayout:se,trigger:"imperative-api"});X1(se,K)||(p(K),M.current.layout=K,ae&&ae(K),Lp($,K,_.current))},[]),H=ws((X,ne)=>{const{layout:ae,panelDataArray:se}=M.current,{collapsedSize:$=0,collapsible:Y}=ne,{collapsedSize:Q=0,collapsible:ee,maxSize:ue=100,minSize:J=0}=X.constraints,{panelSize:K}=of(se,X,ae);K!=null&&(Y&&ee&&yc(K,$)?yc($,Q)||U(X,Q):K<J?U(X,J):K>ue&&U(X,ue))},[U]),R=ws((X,ne)=>{const{direction:ae}=C.current,{layout:se}=M.current;if(!g.current)return;const $=lP(X,g.current);dn($,`Drag handle element not found for id "${X}"`);const Y=moe(ae,ne);x({dragHandleId:X,dragHandleRect:$.getBoundingClientRect(),initialCursorPosition:Y,initialLayout:se})},[]),I=ws(()=>{x(null)},[]),B=ws(X=>{const{panelDataArray:ne}=M.current,ae=dm(ne,X);ae>=0&&(ne.splice(ae,1),delete _.current[X.id],M.current.panelDataArrayChanged=!0,y())},[y]),W=bYe(()=>({collapsePanel:T,direction:r,dragState:v,expandPanel:P,getPanelSize:N,getPanelStyle:k,groupId:h,isPanelCollapsed:D,isPanelExpanded:j,reevaluatePanelConstraints:H,registerPanel:F,registerResizeHandle:z,resizePanel:U,startDragging:R,stopDragging:I,unregisterPanel:B,panelGroupElement:g.current}),[T,v,r,P,N,k,h,D,j,H,F,z,U,R,I,B]),G={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return iv(sP.Provider,{value:W},iv(f,{...d,children:e,className:n,id:s,ref:g,style:{...G,...c},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":h}))}const gE=eoe((t,e)=>iv(xoe,{...t,forwardedRef:e}));xoe.displayName="PanelGroup";gE.displayName="forwardRef(PanelGroup)";function dm(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function of(t,e,n){const r=dm(t,e),s=r===t.length-1?[r-1,r]:[r,r+1],o=n[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function XYe({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){sh(()=>{if(t||n==null||r==null)return;const i=lP(e,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const a=i.getAttribute("data-panel-group-id");dn(a,`No group element found for id "${a}"`);const l=M_(a,r),c=foe(a,e,r);dn(c!==null,`No resize element found for id "${e}"`);const f=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[f].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,t,e,n])}function Sj({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:s,onDragging:o,onFocus:a,style:l={},tabIndex:c=0,tagName:f="div",...d}){var h,g;const v=Ms(null),x=Ms({onDragging:o});sh(()=>{x.current.onDragging=o});const m=toe(sP);if(m===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:p,groupId:y,registerResizeHandle:_,startDragging:b,stopDragging:S,panelGroupElement:C}=m,M=sB(i),[T,P]=tg("inactive"),[N,k]=tg(!1),[D,j]=tg(null),F=Ms({state:T});oh(()=>{F.current.state=T}),sh(()=>{if(n)j(null);else{const R=_(M);j(()=>R)}},[n,M,_]);const z=(h=r==null?void 0:r.coarse)!==null&&h!==void 0?h:15,U=(g=r==null?void 0:r.fine)!==null&&g!==void 0?g:5;return sh(()=>{if(n||D==null)return;const R=v.current;return dn(R,"Element ref not attached"),IYe(M,R,p,{coarse:z,fine:U},(B,W,G)=>{if(W)switch(B){case"down":{P("drag"),dn(G,'Expected event to be defined for "down" action'),b(M,G);const{onDragging:X}=x.current;X&&X(!0);break}case"move":{const{state:X}=F.current;X!=="drag"&&P("hover"),dn(G,'Expected event to be defined for "move" action'),D(G);break}case"up":{P("hover"),S();const{onDragging:X}=x.current;X&&X(!1);break}}else P("inactive")})},[z,p,n,U,_,M,D,b,S]),XYe({disabled:n,handleId:M,resizeHandler:D,panelGroupElement:C}),iv(f,{...d,children:t,className:e,id:i,onBlur:()=>{k(!1),s==null||s()},onFocus:()=>{k(!0),a==null||a()},ref:v,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:c,"data-panel-group-direction":p,"data-panel-group-id":y,"data-resize-handle":"","data-resize-handle-active":T==="drag"?"pointer":N?"keyboard":void 0,"data-resize-handle-state":T,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":M})}Sj.displayName="PanelResizeHandle";function A_(t,[e,n]){return Math.min(n,Math.max(e,t))}function KYe(t,e){return A.useReducer((n,r)=>e[n][r]??n,t)}var cB="ScrollArea",[_oe,tyt]=Xn(cB),[YYe,ra]=_oe(cB),boe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=A.useState(null),[c,f]=A.useState(null),[d,h]=A.useState(null),[g,v]=A.useState(null),[x,m]=A.useState(null),[p,y]=A.useState(0),[_,b]=A.useState(0),[S,C]=A.useState(!1),[M,T]=A.useState(!1),P=Pt(e,k=>l(k)),N=Bl(i);return u.jsx(YYe,{scope:n,type:r,dir:N,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:f,content:d,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:x,onScrollbarYChange:m,scrollbarYEnabled:M,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:b,children:u.jsx(Xe.div,{dir:N,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});boe.displayName=cB;var woe="ScrollAreaViewport",Soe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=ra(woe,n),a=A.useRef(null),l=Pt(e,a,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Xe.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Soe.displayName=woe;var Wl="ScrollAreaScrollbar",uB=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ra(Wl,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return A.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?u.jsx(ZYe,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(QYe,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(Eoe,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(dB,{...r,ref:e}):null});uB.displayName=Wl;var ZYe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ra(Wl,t.__scopeScrollArea),[s,o]=A.useState(!1);return A.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},f=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(ur,{present:n||s,children:u.jsx(Eoe,{"data-state":s?"visible":"hidden",...r,ref:e})})}),QYe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ra(Wl,t.__scopeScrollArea),s=t.orientation==="horizontal",o=uP(()=>l("SCROLL_END"),100),[a,l]=KYe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return A.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),A.useEffect(()=>{const c=i.viewport,f=s?"scrollLeft":"scrollTop";if(c){let d=c[f];const h=()=>{const g=c[f];d!==g&&(l("SCROLL"),o()),d=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),u.jsx(ur,{present:n||a!=="hidden",children:u.jsx(dB,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Oe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Oe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),Eoe=A.forwardRef((t,e)=>{const n=ra(Wl,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=A.useState(!1),a=t.orientation==="horizontal",l=uP(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:f)}},10);return sv(n.viewport,l),sv(n.content,l),u.jsx(ur,{present:r||s,children:u.jsx(dB,{"data-state":s?"visible":"hidden",...i,ref:e})})}),dB=A.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=ra(Wl,t.__scopeScrollArea),s=A.useRef(null),o=A.useRef(0),[a,l]=A.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Poe(a.viewport,a.content),f={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,g){return iZe(h,o.current,a,g)}return n==="horizontal"?u.jsx(JYe,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,g=YW(h,a,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):n==="vertical"?u.jsx(eZe,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,g=YW(h,a);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),JYe=A.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ra(Wl,t.__scopeScrollArea),[o,a]=A.useState(),l=A.useRef(null),c=Pt(e,l,s.onScrollbarXChange);return A.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(Moe,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":cP(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(h),Roe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:CM(o.paddingLeft),paddingEnd:CM(o.paddingRight)}})}})}),eZe=A.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=ra(Wl,t.__scopeScrollArea),[o,a]=A.useState(),l=A.useRef(null),c=Pt(e,l,s.onScrollbarYChange);return A.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(Moe,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":cP(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(s.viewport){const h=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(h),Roe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:CM(o.paddingTop),paddingEnd:CM(o.paddingBottom)}})}})}),[tZe,Coe]=_oe(Wl),Moe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:f,onResize:d,...h}=t,g=ra(Wl,n),[v,x]=A.useState(null),m=Pt(e,P=>x(P)),p=A.useRef(null),y=A.useRef(""),_=g.viewport,b=r.content-r.viewport,S=Ln(f),C=Ln(l),M=uP(d,10);function T(P){if(p.current){const N=P.clientX-p.current.left,k=P.clientY-p.current.top;c({x:N,y:k})}}return A.useEffect(()=>{const P=N=>{const k=N.target;(v==null?void 0:v.contains(k))&&S(N,b)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[_,v,b,S]),A.useEffect(C,[r,C]),sv(v,M),sv(g.content,M),u.jsx(tZe,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Ln(s),onThumbPointerUp:Ln(o),onThumbPositionChange:C,onThumbPointerDown:Ln(a),children:u.jsx(Xe.div,{...h,ref:m,style:{position:"absolute",...h.style},onPointerDown:Oe(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),p.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Oe(t.onPointerMove,T),onPointerUp:Oe(t.onPointerUp,P=>{const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),p.current=null})})})}),EM="ScrollAreaThumb",Aoe=A.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Coe(EM,t.__scopeScrollArea);return u.jsx(ur,{present:n||i.hasThumb,children:u.jsx(nZe,{ref:e,...r})})}),nZe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=ra(EM,n),o=Coe(EM,n),{onThumbPositionChange:a}=o,l=Pt(e,d=>o.onThumbChange(d)),c=A.useRef(void 0),f=uP(()=>{c.current&&(c.current(),c.current=void 0)},100);return A.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(f(),!c.current){const g=sZe(d,a);c.current=g,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,f,a]),u.jsx(Xe.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Oe(t.onPointerDownCapture,d=>{const g=d.target.getBoundingClientRect(),v=d.clientX-g.left,x=d.clientY-g.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:Oe(t.onPointerUp,o.onThumbPointerUp)})});Aoe.displayName=EM;var fB="ScrollAreaCorner",Toe=A.forwardRef((t,e)=>{const n=ra(fB,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(rZe,{...t,ref:e}):null});Toe.displayName=fB;var rZe=A.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=ra(fB,n),[s,o]=A.useState(0),[a,l]=A.useState(0),c=!!(s&&a);return sv(i.scrollbarX,()=>{var d;const f=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(f),l(f)}),sv(i.scrollbarY,()=>{var d;const f=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),c?u.jsx(Xe.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function CM(t){return t?parseInt(t,10):0}function Poe(t,e){const n=t/e;return isNaN(n)?0:n}function cP(t){const e=Poe(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function iZe(t,e,n,r="ltr"){const i=cP(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return Noe([l,c],d)(t)}function YW(t,e,n="ltr"){const r=cP(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=A_(t,l);return Noe([0,o],[0,a])(c)}function Noe(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Roe(t,e){return t>0&&t<e}var sZe=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function uP(t,e){const n=Ln(t),r=A.useRef(0);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),A.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function sv(t,e){const n=Ln(e);gr(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var Ooe=boe,oZe=Soe,aZe=Toe;const ah=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Ooe,{ref:r,className:we("relative overflow-hidden",t),...n,children:[u.jsx(oZe,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(koe,{}),u.jsx(aZe,{})]}));ah.displayName=Ooe.displayName;const koe=A.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(uB,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(Aoe,{className:"relative flex-1 rounded-full bg-border"})}));koe.displayName=uB.displayName;var lZe=[" ","Enter","ArrowUp","ArrowDown"],cZe=[" ","Enter"],qb="Select",[dP,fP,uZe]=Kc(qb),[ny,nyt]=Xn(qb,[uZe,Hl]),hP=Hl(),[dZe,Bd]=ny(qb),[fZe,hZe]=ny(qb),Ioe=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:d,disabled:h,required:g,form:v}=t,x=hP(e),[m,p]=A.useState(null),[y,_]=A.useState(null),[b,S]=A.useState(!1),C=Bl(c),[M=!1,T]=Ur({prop:r,defaultProp:i,onChange:s}),[P,N]=Ur({prop:o,defaultProp:a,onChange:l}),k=A.useRef(null),D=m?v||!!m.closest("form"):!0,[j,F]=A.useState(new Set),z=Array.from(j).map(U=>U.props.value).join(";");return u.jsx(y4,{...x,children:u.jsxs(dZe,{required:g,scope:e,trigger:m,onTriggerChange:p,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:S,contentId:Yr(),value:P,onValueChange:N,open:M,onOpenChange:T,dir:C,triggerPointerDownPosRef:k,disabled:h,children:[u.jsx(dP.Provider,{scope:e,children:u.jsx(fZe,{scope:t.__scopeSelect,onNativeOptionAdd:A.useCallback(U=>{F(H=>new Set(H).add(U))},[]),onNativeOptionRemove:A.useCallback(U=>{F(H=>{const R=new Set(H);return R.delete(U),R})},[]),children:n})}),D?u.jsxs(sae,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:d,value:P,onChange:U=>N(U.target.value),disabled:h,form:v,children:[P===void 0?u.jsx("option",{value:""}):null,Array.from(j)]},z):null]})})};Ioe.displayName=qb;var Doe="SelectTrigger",joe=A.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=hP(n),o=Bd(Doe,n),a=o.disabled||r,l=Pt(e,o.onTriggerChange),c=fP(n),f=A.useRef("touch"),[d,h,g]=oae(x=>{const m=c().filter(_=>!_.disabled),p=m.find(_=>_.value===o.value),y=aae(m,x,p);y!==void 0&&o.onValueChange(y.value)}),v=x=>{a||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return u.jsx(Qv,{asChild:!0,...s,children:u.jsx(Xe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":iae(o.value)?"":void 0,...i,ref:l,onClick:Oe(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&v(x)}),onPointerDown:Oe(i.onPointerDown,x=>{f.current=x.pointerType;const m=x.target;m.hasPointerCapture(x.pointerId)&&m.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Oe(i.onKeyDown,x=>{const m=d.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(m&&x.key===" ")&&lZe.includes(x.key)&&(v(),x.preventDefault())})})})});joe.displayName=Doe;var Loe="SelectValue",Foe=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Bd(Loe,n),{onValueNodeHasChildrenChange:c}=l,f=s!==void 0,d=Pt(e,l.onValueNodeChange);return gr(()=>{c(f)},[c,f]),u.jsx(Xe.span,{...a,ref:d,style:{pointerEvents:"none"},children:iae(l.value)?u.jsx(u.Fragment,{children:o}):s})});Foe.displayName=Loe;var pZe="SelectIcon",Boe=A.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Xe.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Boe.displayName=pZe;var mZe="SelectPortal",zoe=t=>u.jsx(Iv,{asChild:!0,...t});zoe.displayName=mZe;var jh="SelectContent",Uoe=A.forwardRef((t,e)=>{const n=Bd(jh,t.__scopeSelect),[r,i]=A.useState();if(gr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Wh.createPortal(u.jsx($oe,{scope:t.__scopeSelect,children:u.jsx(dP.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(Hoe,{...t,ref:e})});Uoe.displayName=jh;var ma=10,[$oe,zd]=ny(jh),gZe="SelectContentImpl",vZe=vd("SelectContent.RemoveScroll"),Hoe=A.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:m,...p}=t,y=Bd(jh,n),[_,b]=A.useState(null),[S,C]=A.useState(null),M=Pt(e,$=>b($)),[T,P]=A.useState(null),[N,k]=A.useState(null),D=fP(n),[j,F]=A.useState(!1),z=A.useRef(!1);A.useEffect(()=>{if(_)return JA(_)},[_]),ZA();const U=A.useCallback($=>{const[Y,...Q]=D().map(J=>J.ref.current),[ee]=Q.slice(-1),ue=document.activeElement;for(const J of $)if(J===ue||(J==null||J.scrollIntoView({block:"nearest"}),J===Y&&S&&(S.scrollTop=0),J===ee&&S&&(S.scrollTop=S.scrollHeight),J==null||J.focus(),document.activeElement!==ue))return},[D,S]),H=A.useCallback(()=>U([T,_]),[U,T,_]);A.useEffect(()=>{j&&H()},[j,H]);const{onOpenChange:R,triggerPointerDownPosRef:I}=y;A.useEffect(()=>{if(_){let $={x:0,y:0};const Y=ee=>{var ue,J;$={x:Math.abs(Math.round(ee.pageX)-(((ue=I.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(ee.pageY)-(((J=I.current)==null?void 0:J.y)??0))}},Q=ee=>{$.x<=10&&$.y<=10?ee.preventDefault():_.contains(ee.target)||R(!1),document.removeEventListener("pointermove",Y),I.current=null};return I.current!==null&&(document.addEventListener("pointermove",Y),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",Q,{capture:!0})}}},[_,R,I]),A.useEffect(()=>{const $=()=>R(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[R]);const[B,W]=oae($=>{const Y=D().filter(ue=>!ue.disabled),Q=Y.find(ue=>ue.ref.current===document.activeElement),ee=aae(Y,$,Q);ee&&setTimeout(()=>ee.ref.current.focus())}),G=A.useCallback(($,Y,Q)=>{const ee=!z.current&&!Q;(y.value!==void 0&&y.value===Y||ee)&&(P($),ee&&(z.current=!0))},[y.value]),X=A.useCallback(()=>_==null?void 0:_.focus(),[_]),ne=A.useCallback(($,Y,Q)=>{const ee=!z.current&&!Q;(y.value!==void 0&&y.value===Y||ee)&&k($)},[y.value]),ae=r==="popper"?Ej:Voe,se=ae===Ej?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:m}:{};return u.jsx($oe,{scope:n,content:_,viewport:S,onViewportChange:C,itemRefCallback:G,selectedItem:T,onItemLeave:X,itemTextRefCallback:ne,focusSelectedItem:H,selectedItemText:N,position:r,isPositioned:j,searchRef:B,children:u.jsx(mb,{as:vZe,allowPinchZoom:!0,children:u.jsx(pb,{asChild:!0,trapped:y.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:Oe(i,$=>{var Y;(Y=y.trigger)==null||Y.focus({preventScroll:!0}),$.preventDefault()}),children:u.jsx(Zc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:u.jsx(ae,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:$=>$.preventDefault(),...p,...se,onPlaced:()=>F(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Oe(p.onKeyDown,$=>{const Y=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!Y&&$.key.length===1&&W($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let ee=D().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes($.key)&&(ee=ee.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ue=$.target,J=ee.indexOf(ue);ee=ee.slice(J+1)}setTimeout(()=>U(ee)),$.preventDefault()}})})})})})})});Hoe.displayName=gZe;var yZe="SelectItemAlignedPosition",Voe=A.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Bd(jh,n),o=zd(jh,n),[a,l]=A.useState(null),[c,f]=A.useState(null),d=Pt(e,M=>f(M)),h=fP(n),g=A.useRef(!1),v=A.useRef(!0),{viewport:x,selectedItem:m,selectedItemText:p,focusSelectedItem:y}=o,_=A.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&x&&m&&p){const M=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),N=p.getBoundingClientRect();if(s.dir!=="rtl"){const ue=N.left-T.left,J=P.left-ue,K=M.left-J,re=M.width+K,fe=Math.max(re,T.width),me=window.innerWidth-ma,pe=A_(J,[ma,Math.max(ma,me-fe)]);a.style.minWidth=re+"px",a.style.left=pe+"px"}else{const ue=T.right-N.right,J=window.innerWidth-P.right-ue,K=window.innerWidth-M.right-J,re=M.width+K,fe=Math.max(re,T.width),me=window.innerWidth-ma,pe=A_(J,[ma,Math.max(ma,me-fe)]);a.style.minWidth=re+"px",a.style.right=pe+"px"}const k=h(),D=window.innerHeight-ma*2,j=x.scrollHeight,F=window.getComputedStyle(c),z=parseInt(F.borderTopWidth,10),U=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),R=parseInt(F.paddingBottom,10),I=z+U+j+R+H,B=Math.min(m.offsetHeight*5,I),W=window.getComputedStyle(x),G=parseInt(W.paddingTop,10),X=parseInt(W.paddingBottom,10),ne=M.top+M.height/2-ma,ae=D-ne,se=m.offsetHeight/2,$=m.offsetTop+se,Y=z+U+$,Q=I-Y;if(Y<=ne){const ue=k.length>0&&m===k[k.length-1].ref.current;a.style.bottom="0px";const J=c.clientHeight-x.offsetTop-x.offsetHeight,K=Math.max(ae,se+(ue?X:0)+J+H),re=Y+K;a.style.height=re+"px"}else{const ue=k.length>0&&m===k[0].ref.current;a.style.top="0px";const K=Math.max(ne,z+x.offsetTop+(ue?G:0)+se)+Q;a.style.height=K+"px",x.scrollTop=Y-ne+x.offsetTop}a.style.margin=`${ma}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=D+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,s.trigger,s.valueNode,a,c,x,m,p,s.dir,r]);gr(()=>_(),[_]);const[b,S]=A.useState();gr(()=>{c&&S(window.getComputedStyle(c).zIndex)},[c]);const C=A.useCallback(M=>{M&&v.current===!0&&(_(),y==null||y(),v.current=!1)},[_,y]);return u.jsx(_Ze,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:C,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:u.jsx(Xe.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Voe.displayName=yZe;var xZe="SelectPopperPosition",Ej=A.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ma,...s}=t,o=hP(n);return u.jsx(Db,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Ej.displayName=xZe;var[_Ze,hB]=ny(jh,{}),Cj="SelectViewport",Woe=A.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=zd(Cj,n),o=hB(Cj,n),a=Pt(e,s.onViewportChange),l=A.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(dP.Slot,{scope:n,children:u.jsx(Xe.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Oe(i.onScroll,c=>{const f=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const g=Math.abs(l.current-f.scrollTop);if(g>0){const v=window.innerHeight-ma*2,x=parseFloat(d.style.minHeight),m=parseFloat(d.style.height),p=Math.max(x,m);if(p<v){const y=p+g,_=Math.min(v,y),b=y-_;d.style.height=_+"px",d.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,d.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});Woe.displayName=Cj;var Goe="SelectGroup",[bZe,wZe]=ny(Goe),SZe=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Yr();return u.jsx(bZe,{scope:n,id:i,children:u.jsx(Xe.div,{role:"group","aria-labelledby":i,...r,ref:e})})});SZe.displayName=Goe;var qoe="SelectLabel",Xoe=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wZe(qoe,n);return u.jsx(Xe.div,{id:i.id,...r,ref:e})});Xoe.displayName=qoe;var MM="SelectItem",[EZe,Koe]=ny(MM),Yoe=A.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Bd(MM,n),l=zd(MM,n),c=a.value===r,[f,d]=A.useState(s??""),[h,g]=A.useState(!1),v=Pt(e,y=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,y,r,i)}),x=Yr(),m=A.useRef("touch"),p=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(EZe,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:A.useCallback(y=>{d(_=>_||((y==null?void 0:y.textContent)??"").trim())},[]),children:u.jsx(dP.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:u.jsx(Xe.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Oe(o.onFocus,()=>g(!0)),onBlur:Oe(o.onBlur,()=>g(!1)),onClick:Oe(o.onClick,()=>{m.current!=="mouse"&&p()}),onPointerUp:Oe(o.onPointerUp,()=>{m.current==="mouse"&&p()}),onPointerDown:Oe(o.onPointerDown,y=>{m.current=y.pointerType}),onPointerMove:Oe(o.onPointerMove,y=>{var _;m.current=y.pointerType,i?(_=l.onItemLeave)==null||_.call(l):m.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Oe(o.onPointerLeave,y=>{var _;y.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Oe(o.onKeyDown,y=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(cZe.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});Yoe.displayName=MM;var O0="SelectItemText",Zoe=A.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Bd(O0,n),a=zd(O0,n),l=Koe(O0,n),c=hZe(O0,n),[f,d]=A.useState(null),h=Pt(e,p=>d(p),l.onItemTextChange,p=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,p,l.value,l.disabled)}),g=f==null?void 0:f.textContent,v=A.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:m}=c;return gr(()=>(x(v),()=>m(v)),[x,m,v]),u.jsxs(u.Fragment,{children:[u.jsx(Xe.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wh.createPortal(s.children,o.valueNode):null]})});Zoe.displayName=O0;var Qoe="SelectItemIndicator",Joe=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return Koe(Qoe,n).isSelected?u.jsx(Xe.span,{"aria-hidden":!0,...r,ref:e}):null});Joe.displayName=Qoe;var Mj="SelectScrollUpButton",eae=A.forwardRef((t,e)=>{const n=zd(Mj,t.__scopeSelect),r=hB(Mj,t.__scopeSelect),[i,s]=A.useState(!1),o=Pt(e,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(nae,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});eae.displayName=Mj;var Aj="SelectScrollDownButton",tae=A.forwardRef((t,e)=>{const n=zd(Aj,t.__scopeSelect),r=hB(Aj,t.__scopeSelect),[i,s]=A.useState(!1),o=Pt(e,r.onScrollButtonChange);return gr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;s(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(nae,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});tae.displayName=Aj;var nae=A.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=zd("SelectScrollButton",n),o=A.useRef(null),a=fP(n),l=A.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return A.useEffect(()=>()=>l(),[l]),gr(()=>{var f;const c=a().find(d=>d.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),u.jsx(Xe.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Oe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Oe(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Oe(i.onPointerLeave,()=>{l()})})}),CZe="SelectSeparator",rae=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Xe.div,{"aria-hidden":!0,...r,ref:e})});rae.displayName=CZe;var Tj="SelectArrow",MZe=A.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=hP(n),s=Bd(Tj,n),o=zd(Tj,n);return s.open&&o.position==="popper"?u.jsx(jb,{...i,...r,ref:e}):null});MZe.displayName=Tj;function iae(t){return t===""||t===void 0}var sae=A.forwardRef((t,e)=>{const{value:n,...r}=t,i=A.useRef(null),s=Pt(e,i),o=Kv(n);return A.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&f){const d=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(d)}},[o,n]),u.jsx(Wb,{asChild:!0,children:u.jsx("select",{...r,ref:s,defaultValue:n})})});sae.displayName="BubbleSelect";function oae(t){const e=Ln(t),n=A.useRef(""),r=A.useRef(0),i=A.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=A.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return A.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function aae(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=AZe(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function AZe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var TZe=Ioe,lae=joe,PZe=Foe,NZe=Boe,RZe=zoe,cae=Uoe,OZe=Woe,uae=Xoe,dae=Yoe,kZe=Zoe,IZe=Joe,fae=eae,hae=tae,pae=rae;const pr=TZe,mr=PZe,lr=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(lae,{ref:r,className:we("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(NZe,{asChild:!0,children:u.jsx(Ov,{className:"h-4 w-4 opacity-50"})})]}));lr.displayName=lae.displayName;const mae=A.forwardRef(({className:t,...e},n)=>u.jsx(fae,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Aye,{className:"h-4 w-4"})}));mae.displayName=fae.displayName;const gae=A.forwardRef(({className:t,...e},n)=>u.jsx(hae,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(Ov,{className:"h-4 w-4"})}));gae.displayName=hae.displayName;const cr=A.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(RZe,{children:u.jsxs(cae,{ref:i,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(mae,{}),u.jsx(OZe,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(gae,{})]})}));cr.displayName=cae.displayName;const DZe=A.forwardRef(({className:t,...e},n)=>u.jsx(uae,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));DZe.displayName=uae.displayName;const At=A.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(dae,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(IZe,{children:u.jsx(ub,{className:"h-4 w-4"})})}),u.jsx(kZe,{children:e})]}));At.displayName=dae.displayName;const jZe=A.forwardRef(({className:t,...e},n)=>u.jsx(pae,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));jZe.displayName=pae.displayName;var LZe="Separator",ZW="horizontal",FZe=["horizontal","vertical"],vae=A.forwardRef((t,e)=>{const{decorative:n,orientation:r=ZW,...i}=t,s=BZe(r)?r:ZW,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return u.jsx(Xe.div,{"data-orientation":s,...a,...i,ref:e})});vae.displayName=LZe;function BZe(t){return FZe.includes(t)}var yae=vae;const vE=A.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx(yae,{ref:i,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));vE.displayName=yae.displayName;const zZe=eT,UZe=gb,xae=A.forwardRef(({className:t,...e},n)=>u.jsx(Gh,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));xae.displayName=Gh.displayName;const $Ze=Qc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_ae=A.forwardRef(({side:t="right",className:e,children:n,...r},i)=>u.jsxs(UZe,{children:[u.jsx(xae,{}),u.jsxs(qh,{ref:i,className:we($Ze({side:t}),e),...r,children:[n,u.jsxs(vb,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(hb,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));_ae.displayName=qh.displayName;const bae=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});bae.displayName="SheetHeader";const wae=A.forwardRef(({className:t,...e},n)=>u.jsx(Dv,{ref:n,className:we("text-lg font-semibold text-foreground",t),...e}));wae.displayName=Dv.displayName;const Sae=A.forwardRef(({className:t,...e},n)=>u.jsx(jv,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Sae.displayName=jv.displayName;const XR=768;function HZe(){const[t,e]=A.useState(void 0);return A.useEffect(()=>{const n=window.matchMedia(`(max-width: ${XR-1}px)`),r=()=>{e(window.innerWidth<XR)};return n.addEventListener("change",r),e(window.innerWidth<XR),()=>n.removeEventListener("change",r)},[]),!!t}const VZe="sidebar_state",WZe=60*60*24*7,GZe="16rem",qZe="18rem",XZe="3rem",KZe="b",Eae=A.createContext(null);function pB(){const t=A.useContext(Eae);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function YZe({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...o}){const a=HZe(),[l,c]=A.useState(!1),[f,d]=A.useState(t),h=e??f,g=A.useCallback(p=>{const y=typeof p=="function"?p(h):p;n?n(y):d(y),document.cookie=`${VZe}=${y}; path=/; max-age=${WZe}`},[n,h]),v=A.useCallback(()=>a?c(p=>!p):g(p=>!p),[a,g,c]);A.useEffect(()=>{const p=y=>{y.key===KZe&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),v())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[v]);const x=h?"expanded":"collapsed",m=A.useMemo(()=>({state:x,open:h,setOpen:g,isMobile:a,openMobile:l,setOpenMobile:c,toggleSidebar:v}),[x,h,g,a,l,c,v]);return u.jsx(Eae.Provider,{value:m,children:u.jsx(qle,{delayDuration:0,children:u.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":GZe,"--sidebar-width-icon":XZe,...i},className:we("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:s})})})}function ZZe({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:o,state:a,openMobile:l,setOpenMobile:c}=pB();return n==="none"?u.jsx("div",{"data-slot":"sidebar",className:we("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):o?u.jsx(zZe,{open:l,onOpenChange:c,...s,children:u.jsxs(_ae,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":qZe},side:t,children:[u.jsxs(bae,{className:"sr-only",children:[u.jsx(wae,{children:"Sidebar"}),u.jsx(Sae,{children:"Displays the mobile sidebar."})]}),u.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):u.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[u.jsx("div",{"data-slot":"sidebar-gap",className:we("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),u.jsx("div",{"data-slot":"sidebar-container",className:we("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:u.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function QZe({className:t,onClick:e,...n}){const{toggleSidebar:r}=pB();return u.jsxs(ke,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",t),onClick:i=>{e==null||e(i),r()},...n,children:[u.jsx(Gye,{}),u.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function JZe({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",t),...e})}function eQe({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function tQe({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",t),...e})}function nQe({className:t,asChild:e=!1,...n}){const r=e?lb:"div";return u.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:we("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function rQe({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:we("w-full text-sm",t),...e})}function QW({className:t,...e}){return u.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",t),...e})}function JW({className:t,...e}){return u.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:we("group/menu-item relative",t),...e})}const iQe=Qc("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function eG({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...o}){const a=t?lb:"button",{isMobile:l,state:c}=pB(),f=u.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:we(iQe({variant:n,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),u.jsxs(kJe,{children:[u.jsx(IJe,{asChild:!0,children:f}),u.jsx(Xle,{side:"right",align:"center",hidden:c!=="collapsed"||l,...i})]})):f}var Cae=["PageUp","PageDown"],Mae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Aae={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},ry="Slider",[Pj,sQe,oQe]=Kc(ry),[Tae,ryt]=Xn(ry,[oQe]),[aQe,pP]=Tae(ry),Pae=A.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:v,...x}=t,m=A.useRef(new Set),p=A.useRef(0),_=o==="horizontal"?lQe:cQe,[b=[],S]=Ur({prop:f,defaultProp:c,onChange:k=>{var j;(j=[...m.current][p.current])==null||j.focus(),d(k)}}),C=A.useRef(b);function M(k){const D=pQe(b,k);N(k,D)}function T(k){N(k,p.current)}function P(){const k=C.current[p.current];b[p.current]!==k&&h(b)}function N(k,D,{commit:j}={commit:!1}){const F=yQe(s),z=xQe(Math.round((k-r)/s)*s+r,F),U=A_(z,[r,i]);S((H=[])=>{const R=fQe(H,U,D);if(vQe(R,l*s)){p.current=R.indexOf(U);const I=String(R)!==String(H);return I&&j&&h(R),I?R:H}else return H})}return u.jsx(aQe,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:p,thumbs:m.current,values:b,orientation:o,form:v,children:u.jsx(Pj.Provider,{scope:t.__scopeSlider,children:u.jsx(Pj.Slot,{scope:t.__scopeSlider,children:u.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:Oe(x.onPointerDown,()=>{a||(C.current=b)}),min:r,max:i,inverted:g,onSlideStart:a?void 0:M,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&N(r,0,{commit:!0}),onEndKeyDown:()=>!a&&N(i,b.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:D})=>{if(!a){const z=Cae.includes(k.key)||k.shiftKey&&Mae.includes(k.key)?10:1,U=p.current,H=b[U],R=s*z*D;N(H+R,U,{commit:!0})}}})})})})});Pae.displayName=ry;var[Nae,Rae]=Tae(ry,{startEdge:"left",endEdge:"right",size:"width",direction:1}),lQe=A.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...f}=t,[d,h]=A.useState(null),g=Pt(e,_=>h(_)),v=A.useRef(void 0),x=Bl(i),m=x==="ltr",p=m&&!s||!m&&s;function y(_){const b=v.current||d.getBoundingClientRect(),S=[0,b.width],M=mB(S,p?[n,r]:[r,n]);return v.current=b,M(_-b.left)}return u.jsx(Nae,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:u.jsx(Oae,{dir:x,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const b=y(_.clientX);o==null||o(b)},onSlideMove:_=>{const b=y(_.clientX);a==null||a(b)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:_=>{const S=Aae[p?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:S?-1:1})}})})}),cQe=A.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,f=A.useRef(null),d=Pt(e,f),h=A.useRef(void 0),g=!i;function v(x){const m=h.current||f.current.getBoundingClientRect(),p=[0,m.height],_=mB(p,g?[r,n]:[n,r]);return h.current=m,_(x-m.top)}return u.jsx(Nae,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:u.jsx(Oae,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const m=v(x.clientY);s==null||s(m)},onSlideMove:x=>{const m=v(x.clientY);o==null||o(m)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:x=>{const p=Aae[g?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:p?-1:1})}})})}),Oae=A.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,f=pP(ry,n);return u.jsx(Xe.span,{...c,ref:e,onKeyDown:Oe(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):Cae.concat(Mae).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Oe(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():r(d)}),onPointerMove:Oe(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:Oe(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),kae="SliderTrack",Iae=A.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=pP(kae,n);return u.jsx(Xe.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});Iae.displayName=kae;var Nj="SliderRange",Dae=A.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=pP(Nj,n),s=Rae(Nj,n),o=A.useRef(null),a=Pt(e,o),l=i.values.length,c=i.values.map(h=>Lae(h,i.min,i.max)),f=l>1?Math.min(...c):0,d=100-Math.max(...c);return u.jsx(Xe.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:d+"%"}})});Dae.displayName=Nj;var Rj="SliderThumb",jae=A.forwardRef((t,e)=>{const n=sQe(t.__scopeSlider),[r,i]=A.useState(null),s=Pt(e,a=>i(a)),o=A.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return u.jsx(uQe,{...t,ref:s,index:o})}),uQe=A.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=pP(Rj,n),a=Rae(Rj,n),[l,c]=A.useState(null),f=Pt(e,y=>c(y)),d=l?o.form||!!l.closest("form"):!0,h=Ob(l),g=o.values[r],v=g===void 0?0:Lae(g,o.min,o.max),x=hQe(r,o.values.length),m=h==null?void 0:h[a.size],p=m?mQe(m,v,a.direction):0;return A.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${p}px)`},children:[u.jsx(Pj.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Xe.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:Oe(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&u.jsx(dQe,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});jae.displayName=Rj;var dQe=t=>{const{value:e,...n}=t,r=A.useRef(null),i=Kv(e);return A.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),u.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function fQe(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function Lae(t,e,n){const s=100/(n-e)*(t-e);return A_(s,[0,100])}function hQe(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function pQe(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function mQe(t,e,n){const r=t/2,s=mB([0,50],[0,r]);return(r-s(e)*n)*n}function gQe(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function vQe(t,e){if(e>0){const n=gQe(t);return Math.min(...n)>=e}return!0}function mB(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function yQe(t){return(String(t).split(".")[1]||"").length}function xQe(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var Fae=Pae,_Qe=Iae,bQe=Dae,wQe=jae;const Bae=A.forwardRef(({className:t,...e},n)=>u.jsxs(Fae,{ref:n,className:we("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(_Qe,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(bQe,{className:"absolute h-full bg-primary"})}),u.jsx(wQe,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Bae.displayName=Fae.displayName;var gB="Switch",[SQe,iyt]=Xn(gB),[EQe,CQe]=SQe(gB),zae=A.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:f,...d}=t,[h,g]=A.useState(null),v=Pt(e,_=>g(_)),x=A.useRef(!1),m=h?f||!!h.closest("form"):!0,[p=!1,y]=Ur({prop:i,defaultProp:s,onChange:c});return u.jsxs(EQe,{scope:n,checked:p,disabled:a,children:[u.jsx(Xe.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":Hae(p),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onClick:Oe(t.onClick,_=>{y(b=>!b),m&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),m&&u.jsx(MQe,{control:h,bubbles:!x.current,name:r,value:l,checked:p,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});zae.displayName=gB;var Uae="SwitchThumb",$ae=A.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=CQe(Uae,n);return u.jsx(Xe.span,{"data-state":Hae(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});$ae.displayName=Uae;var MQe=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=A.useRef(null),o=Kv(n),a=Ob(e);return A.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[o,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Hae(t){return t?"checked":"unchecked"}var Vae=zae,AQe=$ae;const hd=A.forwardRef(({className:t,...e},n)=>u.jsx(Vae,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(AQe,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));hd.displayName=Vae.displayName;const ov=A.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));ov.displayName="Table";const av=A.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));av.displayName="TableHeader";const lv=A.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));lv.displayName="TableBody";const TQe=A.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));TQe.displayName="TableFooter";const Wo=A.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Wo.displayName="TableRow";const Ir=A.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ir.displayName="TableHead";const wr=A.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));wr.displayName="TableCell";const PQe=A.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));PQe.displayName="TableCaption";var vB="Tabs",[NQe,syt]=Xn(vB,[Vl]),Wae=Vl(),[RQe,yB]=NQe(vB),Gae=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,f=Bl(a),[d,h]=Ur({prop:r,onChange:i,defaultProp:s});return u.jsx(RQe,{scope:n,baseId:Yr(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:l,children:u.jsx(Xe.div,{dir:f,"data-orientation":o,...c,ref:e})})});Gae.displayName=vB;var qae="TabsList",Xae=A.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=yB(qae,n),o=Wae(n);return u.jsx(Lb,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:u.jsx(Xe.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Xae.displayName=qae;var Kae="TabsTrigger",Yae=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=yB(Kae,n),a=Wae(n),l=Jae(o.baseId,r),c=ele(o.baseId,r),f=r===o.value;return u.jsx(Fb,{asChild:!0,...a,focusable:!i,active:f,children:u.jsx(Xe.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Oe(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Oe(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Oe(t.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!i&&d&&o.onValueChange(r)})})})});Yae.displayName=Kae;var Zae="TabsContent",Qae=A.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=yB(Zae,n),l=Jae(a.baseId,r),c=ele(a.baseId,r),f=r===a.value,d=A.useRef(f);return A.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(ur,{present:i||f,children:({present:h})=>u.jsx(Xe.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});Qae.displayName=Zae;function Jae(t,e){return`${t}-trigger-${e}`}function ele(t,e){return`${t}-content-${e}`}var OQe=Gae,tle=Xae,nle=Yae,rle=Qae;const Gl=OQe,Ka=A.forwardRef(({className:t,...e},n)=>u.jsx(tle,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ka.displayName=tle.displayName;const er=A.forwardRef(({className:t,...e},n)=>u.jsx(nle,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));er.displayName=nle.displayName;const pn=A.forwardRef(({className:t,...e},n)=>u.jsx(rle,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));pn.displayName=rle.displayName;const wd=A.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));wd.displayName="Textarea";var xB="ToastProvider",[_B,kQe,IQe]=Kc("Toast"),[ile,oyt]=Xn("Toast",[IQe]),[DQe,mP]=ile(xB),sle=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=A.useState(null),[c,f]=A.useState(0),d=A.useRef(!1),h=A.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xB}\`. Expected non-empty \`string\`.`),u.jsx(_B.Provider,{scope:e,children:u.jsx(DQe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:A.useCallback(()=>f(g=>g+1),[]),onToastRemove:A.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};sle.displayName=xB;var ole="ToastViewport",jQe=["F8"],Oj="toast.viewportPause",kj="toast.viewportResume",ale=A.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=jQe,label:i="Notifications ({hotkey})",...s}=t,o=mP(ole,n),a=kQe(n),l=A.useRef(null),c=A.useRef(null),f=A.useRef(null),d=A.useRef(null),h=Pt(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;A.useEffect(()=>{const m=p=>{var _;r.length!==0&&r.every(b=>p[b]||p.code===b)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),A.useEffect(()=>{const m=l.current,p=d.current;if(v&&m&&p){const y=()=>{if(!o.isClosePausedRef.current){const C=new CustomEvent(Oj);p.dispatchEvent(C),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const C=new CustomEvent(kj);p.dispatchEvent(C),o.isClosePausedRef.current=!1}},b=C=>{!m.contains(C.relatedTarget)&&_()},S=()=>{m.contains(document.activeElement)||_()};return m.addEventListener("focusin",y),m.addEventListener("focusout",b),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",b),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const x=A.useCallback(({tabbingDirection:m})=>{const y=a().map(_=>{const b=_.ref.current,S=[b,...KQe(b)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?y.reverse():y).flat()},[a]);return A.useEffect(()=>{const m=d.current;if(m){const p=y=>{var S,C,M;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const T=document.activeElement,P=y.shiftKey;if(y.target===m&&P){(S=c.current)==null||S.focus();return}const D=x({tabbingDirection:P?"backwards":"forwards"}),j=D.findIndex(F=>F===T);KR(D.slice(j+1))?y.preventDefault():P?(C=c.current)==null||C.focus():(M=f.current)==null||M.focus()}};return m.addEventListener("keydown",p),()=>m.removeEventListener("keydown",p)}},[a,x]),u.jsxs(X0e,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(Ij,{ref:c,onFocusFromOutsideViewport:()=>{const m=x({tabbingDirection:"forwards"});KR(m)}}),u.jsx(_B.Slot,{scope:n,children:u.jsx(Xe.ol,{tabIndex:-1,...s,ref:h})}),v&&u.jsx(Ij,{ref:f,onFocusFromOutsideViewport:()=>{const m=x({tabbingDirection:"backwards"});KR(m)}})]})});ale.displayName=ole;var lle="ToastFocusProxy",Ij=A.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=mP(lle,n);return u.jsx(Wb,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});Ij.displayName=lle;var gP="Toast",LQe="toast.swipeStart",FQe="toast.swipeMove",BQe="toast.swipeCancel",zQe="toast.swipeEnd",cle=A.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=Ur({prop:r,defaultProp:i,onChange:s});return u.jsx(ur,{present:n||a,children:u.jsx(HQe,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ln(t.onPause),onResume:Ln(t.onResume),onSwipeStart:Oe(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Oe(t.onSwipeMove,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Oe(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Oe(t.onSwipeEnd,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});cle.displayName=gP;var[UQe,$Qe]=ile(gP,{onClose(){}}),HQe=A.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:g,...v}=t,x=mP(gP,n),[m,p]=A.useState(null),y=Pt(e,F=>p(F)),_=A.useRef(null),b=A.useRef(null),S=i||x.duration,C=A.useRef(0),M=A.useRef(S),T=A.useRef(0),{onToastAdd:P,onToastRemove:N}=x,k=Ln(()=>{var z;(m==null?void 0:m.contains(document.activeElement))&&((z=x.viewport)==null||z.focus()),o()}),D=A.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),C.current=new Date().getTime(),T.current=window.setTimeout(k,F))},[k]);A.useEffect(()=>{const F=x.viewport;if(F){const z=()=>{D(M.current),c==null||c()},U=()=>{const H=new Date().getTime()-C.current;M.current=M.current-H,window.clearTimeout(T.current),l==null||l()};return F.addEventListener(Oj,U),F.addEventListener(kj,z),()=>{F.removeEventListener(Oj,U),F.removeEventListener(kj,z)}}},[x.viewport,S,l,c,D]),A.useEffect(()=>{s&&!x.isClosePausedRef.current&&D(S)},[s,S,x.isClosePausedRef,D]),A.useEffect(()=>(P(),()=>N()),[P,N]);const j=A.useMemo(()=>m?gle(m):null,[m]);return x.viewport?u.jsxs(u.Fragment,{children:[j&&u.jsx(VQe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),u.jsx(UQe,{scope:n,onClose:k,children:Wh.createPortal(u.jsx(_B.ItemSlot,{scope:n,children:u.jsx(q0e,{asChild:!0,onEscapeKeyDown:Oe(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||k(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Oe(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:Oe(t.onPointerDown,F=>{F.button===0&&(_.current={x:F.clientX,y:F.clientY})}),onPointerMove:Oe(t.onPointerMove,F=>{if(!_.current)return;const z=F.clientX-_.current.x,U=F.clientY-_.current.y,H=!!b.current,R=["left","right"].includes(x.swipeDirection),I=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,B=R?I(0,z):0,W=R?0:I(0,U),G=F.pointerType==="touch"?10:2,X={x:B,y:W},ne={originalEvent:F,delta:X};H?(b.current=X,K1(FQe,d,ne,{discrete:!1})):tG(X,x.swipeDirection,G)?(b.current=X,K1(LQe,f,ne,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(z)>G||Math.abs(U)>G)&&(_.current=null)}),onPointerUp:Oe(t.onPointerUp,F=>{const z=b.current,U=F.target;if(U.hasPointerCapture(F.pointerId)&&U.releasePointerCapture(F.pointerId),b.current=null,_.current=null,z){const H=F.currentTarget,R={originalEvent:F,delta:z};tG(z,x.swipeDirection,x.swipeThreshold)?K1(zQe,g,R,{discrete:!0}):K1(BQe,h,R,{discrete:!0}),H.addEventListener("click",I=>I.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),VQe=t=>{const{__scopeToast:e,children:n,...r}=t,i=mP(gP,e),[s,o]=A.useState(!1),[a,l]=A.useState(!1);return qQe(()=>o(!0)),A.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(Iv,{asChild:!0,children:u.jsx(Wb,{...r,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},WQe="ToastTitle",ule=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});ule.displayName=WQe;var GQe="ToastDescription",dle=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Xe.div,{...r,ref:e})});dle.displayName=GQe;var fle="ToastAction",hle=A.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(mle,{altText:n,asChild:!0,children:u.jsx(bB,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${fle}\`. Expected non-empty \`string\`.`),null)});hle.displayName=fle;var ple="ToastClose",bB=A.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=$Qe(ple,n);return u.jsx(mle,{asChild:!0,children:u.jsx(Xe.button,{type:"button",...r,ref:e,onClick:Oe(t.onClick,i.onClose)})})});bB.displayName=ple;var mle=A.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function gle(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),XQe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...gle(r))}}),e}function K1(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?Ox(i,s):i.dispatchEvent(s)}var tG=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function qQe(t=()=>{}){const e=Ln(t);gr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function XQe(t){return t.nodeType===t.ELEMENT_NODE}function KQe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function KR(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var YQe=sle,vle=ale,yle=cle,xle=ule,_le=dle,ble=hle,wle=bB;const ZQe=YQe,Sle=A.forwardRef(({className:t,...e},n)=>u.jsx(vle,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Sle.displayName=vle.displayName;const QQe=Qc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-500 bg-green-500 text-white",warning:"warning group border-orange-500 bg-orange-500 text-white"}},defaultVariants:{variant:"default"}}),Ele=A.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(yle,{ref:r,className:we(QQe({variant:e}),t),...n}));Ele.displayName=yle.displayName;const JQe=A.forwardRef(({className:t,...e},n)=>u.jsx(ble,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));JQe.displayName=ble.displayName;const Cle=A.forwardRef(({className:t,...e},n)=>u.jsx(wle,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(hb,{className:"h-4 w-4"})}));Cle.displayName=wle.displayName;const Mle=A.forwardRef(({className:t,...e},n)=>u.jsx(xle,{ref:n,className:we("text-sm font-semibold",t),...e}));Mle.displayName=xle.displayName;const Ale=A.forwardRef(({className:t,...e},n)=>u.jsx(_le,{ref:n,className:we("text-sm opacity-90",t),...e}));Ale.displayName=_le.displayName;const eJe=1,tJe=5e3;let YR=0;function nJe(){return YR=(YR+1)%Number.MAX_SAFE_INTEGER,YR.toString()}const ZR=new Map,nG=t=>{if(ZR.has(t))return;const e=setTimeout(()=>{ZR.delete(t),nx({type:"REMOVE_TOAST",toastId:t})},tJe);ZR.set(t,e)},rJe=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eJe)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?nG(n):t.toasts.forEach(r=>{nG(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},yE=[];let xE={toasts:[]};function nx(t){xE=rJe(xE,t),yE.forEach(e=>{e(xE)})}function iJe({...t}){const e=nJe(),n=i=>nx({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>nx({type:"DISMISS_TOAST",toastId:e});return nx({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function bo(){const[t,e]=A.useState(xE);return A.useEffect(()=>(yE.push(e),()=>{const n=yE.indexOf(e);n>-1&&yE.splice(n,1)}),[t]),{...t,toast:iJe,dismiss:n=>nx({type:"DISMISS_TOAST",toastId:n})}}function sJe(){const{toasts:t}=bo();return u.jsxs(ZQe,{children:[t.map(function({id:e,title:n,description:r,action:i,variant:s,...o}){return u.jsxs(Ele,{...o,children:[u.jsxs("div",{className:"flex items-center",children:[s==="success"&&u.jsx(Pye,{className:"h-5 w-5 text-green-400 mr-3"}),s==="destructive"&&u.jsx(Ix,{className:"h-5 w-5 text-red-400 mr-3"}),s==="warning"&&u.jsx(e0e,{className:"h-5 w-5 text-orange-400 mr-3"}),s==="default"&&u.jsx(zye,{className:"h-5 w-5 text-blue-400 mr-3"}),u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Mle,{children:n}),r&&u.jsx(Ale,{children:r})]})]}),i,u.jsx(Cle,{})]},e)}),u.jsx(Sle,{})]})}var oJe="Toggle",wB=A.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=t,[o=!1,a]=Ur({prop:n,onChange:i,defaultProp:r});return u.jsx(Xe.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:Oe(t.onClick,()=>{t.disabled||a(!o)})})});wB.displayName=oJe;var Tle=wB,iy="ToggleGroup",[Ple,ayt]=Xn(iy,[Vl]),Nle=Vl(),SB=te.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return u.jsx(aJe,{...i,ref:e})}if(n==="multiple"){const i=r;return u.jsx(lJe,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${iy}\``)});SB.displayName=iy;var[Rle,Ole]=Ple(iy),aJe=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,a]=Ur({prop:n,defaultProp:r,onChange:i});return u.jsx(Rle,{scope:t.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:a,onItemDeactivate:te.useCallback(()=>a(""),[a]),children:u.jsx(kle,{...s,ref:e})})}),lJe=te.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=Ur({prop:n,defaultProp:r,onChange:i}),l=te.useCallback(f=>a((d=[])=>[...d,f]),[a]),c=te.useCallback(f=>a((d=[])=>d.filter(h=>h!==f)),[a]);return u.jsx(Rle,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:u.jsx(kle,{...s,ref:e})})});SB.displayName=iy;var[cJe,uJe]=Ple(iy),kle=te.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:o,loop:a=!0,...l}=t,c=Nle(n),f=Bl(o),d={role:"group",dir:f,...l};return u.jsx(cJe,{scope:n,rovingFocus:i,disabled:r,children:i?u.jsx(Lb,{asChild:!0,...c,orientation:s,dir:f,loop:a,children:u.jsx(Xe.div,{...d,ref:e})}):u.jsx(Xe.div,{...d,ref:e})})}),AM="ToggleGroupItem",Ile=te.forwardRef((t,e)=>{const n=Ole(AM,t.__scopeToggleGroup),r=uJe(AM,t.__scopeToggleGroup),i=Nle(t.__scopeToggleGroup),s=n.value.includes(t.value),o=r.disabled||t.disabled,a={...t,pressed:s,disabled:o},l=te.useRef(null);return r.rovingFocus?u.jsx(Fb,{asChild:!0,...i,focusable:!o,active:s,ref:l,children:u.jsx(rG,{...a,ref:e})}):u.jsx(rG,{...a,ref:e})});Ile.displayName=AM;var rG=te.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,s=Ole(AM,n),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return u.jsx(wB,{...a,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),Dle=SB,jle=Ile;const Lle=A.createContext({size:"default",variant:"default"}),dJe=A.forwardRef(({className:t,variant:e,size:n,children:r,...i},s)=>u.jsx(Dle,{ref:s,className:we("flex items-center justify-center gap-1",t),...i,children:u.jsx(Lle.Provider,{value:{variant:e,size:n},children:r})}));dJe.displayName=Dle.displayName;const fJe=A.forwardRef(({className:t,children:e,variant:n,size:r,...i},s)=>{const o=A.useContext(Lle);return u.jsx(jle,{ref:s,className:we(Fle({variant:o.variant||n,size:o.size||r}),t),...i,children:e})});fJe.displayName=jle.displayName;const Fle=Qc("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),hJe=A.forwardRef(({className:t,variant:e,size:n,...r},i)=>u.jsx(Tle,{ref:i,className:we(Fle({variant:e,size:n,className:t})),...r}));hJe.displayName=Tle.displayName;var[vP,lyt]=Xn("Tooltip",[Hl]),yP=Hl(),Ble="TooltipProvider",pJe=700,Dj="tooltip.open",[mJe,EB]=vP(Ble),zle=t=>{const{__scopeTooltip:e,delayDuration:n=pJe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=A.useRef(!0),a=A.useRef(!1),l=A.useRef(0);return A.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(mJe,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:A.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:A.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:A.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};zle.displayName=Ble;var xP="Tooltip",[gJe,_P]=vP(xP),Ule=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=EB(xP,t.__scopeTooltip),c=yP(e),[f,d]=A.useState(null),h=Yr(),g=A.useRef(0),v=o??l.disableHoverableContent,x=a??l.delayDuration,m=A.useRef(!1),[p=!1,y]=Ur({prop:r,defaultProp:i,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(Dj))):l.onClose(),s==null||s(M)}}),_=A.useMemo(()=>p?m.current?"delayed-open":"instant-open":"closed",[p]),b=A.useCallback(()=>{window.clearTimeout(g.current),g.current=0,m.current=!1,y(!0)},[y]),S=A.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),C=A.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{m.current=!0,y(!0),g.current=0},x)},[x,y]);return A.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),u.jsx(y4,{...c,children:u.jsx(gJe,{scope:e,contentId:h,open:p,stateAttribute:_,trigger:f,onTriggerChange:d,onTriggerEnter:A.useCallback(()=>{l.isOpenDelayedRef.current?C():b()},[l.isOpenDelayedRef,C,b]),onTriggerLeave:A.useCallback(()=>{v?S():(window.clearTimeout(g.current),g.current=0)},[S,v]),onOpen:b,onClose:S,disableHoverableContent:v,children:n})})};Ule.displayName=xP;var jj="TooltipTrigger",$le=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=_P(jj,n),s=EB(jj,n),o=yP(n),a=A.useRef(null),l=Pt(e,a,i.onTriggerChange),c=A.useRef(!1),f=A.useRef(!1),d=A.useCallback(()=>c.current=!1,[]);return A.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),u.jsx(Qv,{asChild:!0,...o,children:u.jsx(Xe.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Oe(t.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Oe(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Oe(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Oe(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Oe(t.onBlur,i.onClose),onClick:Oe(t.onClick,i.onClose)})})});$le.displayName=jj;var vJe="TooltipPortal",[cyt,yJe]=vP(vJe,{forceMount:void 0}),cv="TooltipContent",Hle=A.forwardRef((t,e)=>{const n=yJe(cv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=_P(cv,t.__scopeTooltip);return u.jsx(ur,{present:r||o.open,children:o.disableHoverableContent?u.jsx(Vle,{side:i,...s,ref:e}):u.jsx(xJe,{side:i,...s,ref:e})})}),xJe=A.forwardRef((t,e)=>{const n=_P(cv,t.__scopeTooltip),r=EB(cv,t.__scopeTooltip),i=A.useRef(null),s=Pt(e,i),[o,a]=A.useState(null),{trigger:l,onClose:c}=n,f=i.current,{onPointerInTransitChange:d}=r,h=A.useCallback(()=>{a(null),d(!1)},[d]),g=A.useCallback((v,x)=>{const m=v.currentTarget,p={x:v.clientX,y:v.clientY},y=EJe(p,m.getBoundingClientRect()),_=CJe(p,y),b=MJe(x.getBoundingClientRect()),S=TJe([..._,...b]);a(S),d(!0)},[d]);return A.useEffect(()=>()=>h(),[h]),A.useEffect(()=>{if(l&&f){const v=m=>g(m,f),x=m=>g(m,l);return l.addEventListener("pointerleave",v),f.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",x)}}},[l,f,g,h]),A.useEffect(()=>{if(o){const v=x=>{const m=x.target,p={x:x.clientX,y:x.clientY},y=(l==null?void 0:l.contains(m))||(f==null?void 0:f.contains(m)),_=!AJe(p,o);y?h():_&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,f,o,c,h]),u.jsx(Vle,{...t,ref:s})}),[_Je,bJe]=vP(xP,{isInside:!1}),wJe=JK("TooltipContent"),Vle=A.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=_P(cv,n),c=yP(n),{onClose:f}=l;return A.useEffect(()=>(document.addEventListener(Dj,f),()=>document.removeEventListener(Dj,f)),[f]),A.useEffect(()=>{if(l.trigger){const d=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,f]),u.jsx(Zc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:u.jsxs(Db,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(wJe,{children:r}),u.jsx(_Je,{scope:n,isInside:!0,children:u.jsx(Jie,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Hle.displayName=cv;var Wle="TooltipArrow",SJe=A.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=yP(n);return bJe(Wle,n).isInside?null:u.jsx(jb,{...i,...r,ref:e})});SJe.displayName=Wle;function EJe(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function CJe(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function MJe(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function AJe(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function TJe(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),PJe(e)}function PJe(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var NJe=zle,RJe=Ule,OJe=$le,Gle=Hle;const qle=NJe,kJe=RJe,IJe=OJe,Xle=A.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(Gle,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));Xle.displayName=Gle.displayName;const iG=t=>{let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(g=>g(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},DJe=t=>t?iG(t):iG,jJe=t=>t;function LJe(t,e=jJe){const n=te.useSyncExternalStore(t.subscribe,te.useCallback(()=>e(t.getState()),[t,e]),te.useCallback(()=>e(t.getInitialState()),[t,e]));return te.useDebugValue(n),n}const sG=t=>{const e=DJe(t),n=r=>LJe(e,r);return Object.assign(n,e),n},FJe=t=>t?sG(t):sG,CB=FJe(t=>({currentModule:"vareon",theme:typeof window<"u"&&window.localStorage.getItem("theme")==="light"?"light":"dark",performanceMode:!1,systemStatus:{arcana:"online",myntrix:"online",neosyntis:"online",cognisys:"online"},commandPaletteOpen:!1,sidebarCollapsed:!1,notifications:[],setCurrentModule:e=>t({currentModule:e}),toggleTheme:()=>t(e=>{const n=e.theme==="dark"?"light":"dark";return typeof window<"u"&&(window.localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark")),{theme:n}}),togglePerformanceMode:()=>t(e=>({performanceMode:!e.performanceMode})),setSystemStatus:(e,n)=>t(r=>({systemStatus:{...r.systemStatus,[e]:n}})),toggleCommandPalette:()=>t(e=>({commandPaletteOpen:!e.commandPaletteOpen})),toggleSidebar:()=>t(e=>({sidebarCollapsed:!e.sidebarCollapsed})),addNotification:(e,n)=>t(r=>({notifications:[...r.notifications,{id:Date.now().toString(),message:e,type:n}]})),removeNotification:e=>t(n=>({notifications:n.notifications.filter(r=>r.id!==e)}))}));if(typeof window<"u"){const t=CB.getState().theme;document.documentElement.classList.toggle("dark",t==="dark")}function BJe({children:t}){const e=CB(n=>n.theme);return A.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e)},[e]),u.jsx(u.Fragment,{children:t})}function zJe(){const[,t]=Ni(),{commandPaletteOpen:e,toggleCommandPalette:n}=CB();A.useEffect(()=>{const s=o=>{o.key==="k"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),n())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[n]);const r=A.useMemo(()=>[{group:"Modules",items:[{icon:C3,label:"VAREON Dashboard",path:"/dashboard",keywords:"home dashboard portal"},{icon:Cl,label:"NEOSYNTIS Lab",path:"/dashboard/neosyntis",keywords:"research workflow dataset search"},{icon:Da,label:"MYNTRIX Core",path:"/dashboard/myntrix",keywords:"agents hardware cnc device"},{icon:Pd,label:"COGNISYS",path:"/dashboard/cognisys",keywords:"models routing orchestration"},{icon:Ua,label:"ARCANA System",path:"/dashboard/arcana",keywords:"chat ai terminal shell"}]},{group:"NEOSYNTIS",items:[{icon:Cl,label:"Search Engine",path:"/dashboard/neosyntis?tab=search",keywords:"research workflow dataset search"},{icon:XA,label:"Datasets",path:"/dashboard/neosyntis?tab=datasets",keywords:"data dataset huggingface"},{icon:iC,label:"Workflow Builder",path:"/dashboard/neosyntis?tab=workflow",keywords:"workflow nodes automation"},{icon:_h,label:"Telemetry",path:"/dashboard/neosyntis?tab=telemetry",keywords:"metrics stats logs"},{icon:bh,label:"Device Settings",path:"/dashboard/neosyntis?tab=devices",keywords:"cnc esp32 arduino"}]},{group:"MYNTRIX",items:[{icon:El,label:"Agent Manager",path:"/dashboard/myntrix?tab=agents",keywords:"agents ai bots"},{icon:iC,label:"Task Scheduler",path:"/dashboard/myntrix?tab=scheduler",keywords:"tasks schedule cron"},{icon:Da,label:"Device Control",path:"/dashboard/myntrix?tab=devices",keywords:"device cnc 3d hardware"},{icon:_h,label:"Resource Monitor",path:"/dashboard/myntrix?tab=monitor",keywords:"cpu memory resources"}]},{group:"Actions",items:[{icon:El,label:"Start New Chat",path:"/dashboard/arcana?action=new-chat",keywords:"chat conversation"},{icon:Ua,label:"Open Terminal",path:"/dashboard/arcana?tab=terminal",keywords:"shell command line"},{icon:M0,label:"Create Workflow",path:"/dashboard/neosyntis?tab=workflow&action=new",keywords:"workflow create new"},{icon:bh,label:"Settings",path:"/dashboard/settings",keywords:"settings preferences config"}]}],[]),i=s=>{t(s),n()};return u.jsxs(jGe,{open:e,onOpenChange:n,children:[u.jsx(cne,{placeholder:"Type a command or search..."}),u.jsxs(une,{children:[u.jsx(dne,{children:"No results found."}),r.map(s=>u.jsx(fne,{heading:s.group,children:s.items.map(o=>u.jsxs(hne,{value:`${o.label} ${o.keywords}`,onSelect:()=>i(o.path),"data-testid":`command-${o.label.toLowerCase().replace(/\s+/g,"-")}`,children:[u.jsx(o.icon,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:o.label})]},o.path))},s.group))]})]})}const UJe=[{icon:C3,label:"VAREON",path:"/",module:"vareon"},{icon:Cl,label:"NEOSYNTIS",path:"/dashboard/neosyntis",module:"neosyntis"},{icon:Da,label:"MYNTRIX",path:"/dashboard/myntrix",module:"myntrix"},{icon:Pd,label:"COGNISYS",path:"/dashboard/cognisys",module:"cognisys"},{icon:Ua,label:"ARCANA",path:"/dashboard/arcana",module:"arcana"}];function $Je(){const[t,e]=Ni();return u.jsxs(u.Fragment,{children:[u.jsx(eQe,{children:u.jsxs(tQe,{children:[u.jsx(nQe,{children:"Modules"}),u.jsx(rQe,{children:u.jsx(QW,{children:UJe.map(n=>{const r=t===n.path,i=n.icon;return u.jsx(JW,{children:u.jsxs(eG,{isActive:r,onClick:()=>e(n.path),"data-testid":`link-${n.module}`,children:[u.jsx(i,{className:"h-4 w-4"}),u.jsx("span",{children:n.label})]})},n.path)})})})]})}),u.jsxs(JZe,{children:[u.jsx(QW,{children:u.jsx(JW,{children:u.jsxs(eG,{isActive:t==="/dashboard/profile",onClick:()=>e("/dashboard/profile"),"data-testid":"link-user-profile",children:[u.jsx(fb,{className:"h-4 w-4"}),u.jsx("span",{children:"User Profile"})]})})}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500","data-testid":"status-indicator-online"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"All Systems Online"})]})]})]})}const HJe=[{icon:Td,title:"Intent Detection",description:"Automatically classifies user requests into shell commands, code generation, or conversation using specialized LLM models.",model:"mistralai/mistral-small-3.2-24b"},{icon:rC,title:"Code Generation",description:"Generates complete, runnable code in multiple languages with context-aware suggestions and error fixing capabilities.",model:"moonshotai/kimi-dev-72b"},{icon:Ua,title:"Shell Command Translation",description:"Converts natural language instructions into safe, executable shell commands with whitelist-based security.",model:"nvidia/llama-3.3-nemotron-super-49b"},{icon:T3,title:"Reasoning System",description:"Generates detailed reasoning traces explaining the AI's thought process and planned actions before execution.",enabled:"Configurable"},{icon:M3,title:"Conversational AI",description:"Maintains context-aware conversations with chat history, providing helpful assistance for general queries.",model:"mistralai/mistral-small-3.2-24b"},{icon:kye,title:"File Operations",description:"Manages generated code files, uploaded documents, and system artifacts with security-restricted access controls.",storage:"In-memory / File system"}];function VJe(){return u.jsx("div",{className:"bg-background py-24",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Arcana AI Capabilities"}),u.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Multi-model LLM orchestration powering the entire VAREON ecosystem"})]}),u.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:HJe.map(t=>u.jsxs(Ge,{className:"group border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx(t.icon,{className:"h-10 w-10 text-primary transition-transform duration-300 group-hover:scale-110"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),u.jsx("h3",{className:"mb-3 text-lg font-semibold text-foreground",children:t.title}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:t.description}),(t.model||t.enabled||t.storage)&&u.jsx("div",{className:"rounded-lg bg-muted/50 px-3 py-2",children:u.jsxs("div",{className:"text-xs font-medium text-muted-foreground",children:[t.model&&`Model: ${t.model.split("/")[1]}`,t.enabled&&`Status: ${t.enabled}`,t.storage&&`Storage: ${t.storage}`]})})]},t.title))}),u.jsx("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Legacy Integration Architecture"}),u.jsx("p",{className:"mx-auto max-w-3xl text-muted-foreground",children:"The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All legacy modules (ai_core.py, ai_services.py, llm_utils.py) are preserved in myntrix_core/lib/legacy/ and accessed via safe wrapper functions, enabling the entire ecosystem to leverage proven AI capabilities while maintaining modern architecture standards."})]})})]})})}function WJe(){const t=[{id:"arcana",label:"Arcana AI",subtitle:"Intelligence Core"},{id:"neosyntis",label:"NEOSYNTIS",subtitle:"Development Lab"},{id:"myntrix",label:"MYNTRIX",subtitle:"Execution Core"},{id:"edge",label:"Edge Devices",subtitle:"Production"}];return u.jsx("div",{className:"bg-card py-24",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"How It Works"}),u.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Seamless integration from AI reasoning to production execution"})]}),u.jsx("div",{className:"flex flex-col items-center space-y-8 md:flex-row md:space-x-4 md:space-y-0",children:t.map((e,n)=>u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"group relative transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[u.jsx("div",{className:"absolute -inset-1 rounded-xl bg-gradient-to-r from-primary to-chart-2 opacity-25 blur transition group-hover:opacity-50"}),u.jsxs("div",{className:"relative flex h-32 w-40 flex-col items-center justify-center rounded-xl border border-border bg-background p-4",children:[u.jsx("div",{className:"mb-2 text-lg font-bold text-foreground",children:e.label}),u.jsx("div",{className:"text-xs text-muted-foreground",children:e.subtitle})]})]}),n<t.length-1&&u.jsx(cb,{className:"mx-4 hidden h-8 w-8 text-primary md:block animate-pulse-horizontal"})]},e.id))}),u.jsxs("div",{className:"mt-16 grid gap-6 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[u.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"1. AI Processing"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Arcana AI analyzes tasks using multi-model orchestration, intent detection, and reasoning capabilities"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[u.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"2. Validation"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"MYNTRIX validates execution plans, performs safety checks, and requires human approval for critical operations"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[u.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"3. Execution"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Commands are executed on edge devices with real-time telemetry monitoring and status updates"})]})]})]})})}function GJe(){const[t,e]=A.useState(!0),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),{toast:l}=bo(),[c,f]=Ni();A.useEffect(()=>{const p=new URLSearchParams(c.split("?")[1]),y=p.get("oauth_success"),_=p.get("token"),b=p.get("error");y==="true"&&_?(localStorage.setItem("access_token",_),l({title:"Login Successful",description:"You have been logged in via OAuth.",variant:"success"}),f("/dashboard",{replace:!0})):y==="false"&&b&&(l({title:"OAuth Login Failed",description:`Error: ${b}`,variant:"destructive"}),f("/auth",{replace:!0}))},[c,f,l]);const d=Lt({mutationFn:async p=>{const y=await fetch("/api/token",{method:"POST",body:p});if(!y.ok){const _=await y.json();throw new Error(_.detail||"Login failed")}return y.json()},onSuccess:p=>{localStorage.setItem("access_token",p.access_token),l({title:"Login Successful",description:"You have been logged in.",variant:"success"}),f("/dashboard")},onError:p=>{l({title:"Login Failed",description:p.message||"An unexpected error occurred.",variant:"destructive"})}}),h=Lt({mutationFn:async p=>{const y=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok){const _=await y.json();throw new Error(_.detail||"Registration failed")}return y.json()},onSuccess:p=>{l({title:"Registration Successful",description:"Please check your email to verify your account.",variant:"success"}),f("/waiting-for-verification")},onError:p=>{l({title:"Registration Failed",description:p.message||"An unexpected error occurred.",variant:"destructive"})}}),g=p=>{if(p.preventDefault(),t){const y=new FormData;y.append("username",n),y.append("password",o),d.mutate(y)}else h.mutate({email:n,username:i,password:o})},v=()=>{window.location.href="/api/auth/google/authorize"},x=()=>{window.location.href="/api/auth/github/login/authorize"},m=d.isPending||h.isPending;return u.jsxs(Ge,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[u.jsxs(Ye,{className:"text-center",children:[u.jsx(Ze,{className:"text-3xl font-bold",children:t?"Welcome Back":"Create Account"}),u.jsx(Ut,{children:t?"Sign in to access your dashboard":"Get started with VAREON"})]}),u.jsx(et,{children:u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Hye,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(jt,{id:"email",type:"email",placeholder:"Email",value:n,onChange:p=>r(p.target.value),required:!0,className:"pl-10"})]}),u.jsx("div",{className:`transition-all duration-300 ease-in-out ${t?"max-h-0 opacity-0 overflow-hidden":"max-h-20 opacity-100"}`,children:u.jsxs("div",{className:"relative",children:[u.jsx(fb,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(jt,{id:"username",type:"text",placeholder:"Username",value:i,onChange:p=>s(p.target.value),required:!t,className:"pl-10"})]})}),u.jsxs("div",{className:"relative",children:[u.jsx(_Y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(jt,{id:"password",type:"password",placeholder:"Password",value:o,onChange:p=>a(p.target.value),required:!0,className:"pl-10"})]}),u.jsx(ke,{type:"submit",className:"w-full",disabled:m,children:m?u.jsx(vn,{className:"animate-spin"}):t?"Login":"Sign Up"}),u.jsxs("div",{className:"relative flex items-center py-5",children:[u.jsx("div",{className:"flex-grow border-t border-gray-400"}),u.jsx("span",{className:"flex-shrink mx-4 text-gray-400 text-sm",children:"OR"}),u.jsx("div",{className:"flex-grow border-t border-gray-400"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(ke,{type:"button",variant:"outline",className:"w-full gap-2",onClick:v,children:[u.jsx(Tye,{className:"h-5 w-5"})," Login with Google"]}),u.jsxs(ke,{type:"button",variant:"outline",className:"w-full gap-2",onClick:x,children:[u.jsx(Dx,{className:"h-5 w-5"})," Login with GitHub"]})]}),u.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t?"Don't have an account?":"Already have an account?",u.jsx(ke,{variant:"link",className:"pl-1",onClick:()=>e(!t),type:"button",children:t?"Sign Up":"Login"})]})]})})]})}function qJe(){const[t,e]=A.useState([{role:"assistant",content:"Hello! I'm Arcana AI. I can help you with code generation, shell commands, or general conversation. What would you like to work on?",type:"text"}]),[n,r]=A.useState(""),[i,s]=A.useState(!1),o=async()=>{if(!n.trim())return;const a={role:"user",content:n,type:"text"};e(c=>[...c,a]);const l=n;r(""),s(!0);try{const c=await fetch("/api/chat/demo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l})});if(!c.ok)throw new Error(`API request failed with status ${c.status}`);const d={role:"assistant",content:(await c.json()).response||"Sorry, I couldn't get a response.",type:"text"};e(h=>[...h,d])}catch(c){console.error("Failed to send message:",c);const f={role:"assistant",content:"Sorry, something went wrong. Please try again later.",type:"text"};e(d=>[...d,f])}finally{s(!1)}};return u.jsxs("div",{className:"flex h-[600px] flex-col rounded-xl border border-border bg-card",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(El,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"font-semibold text-foreground",children:"Arcana AI"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Online"})]})]}),u.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto p-4",children:[t.map((a,l)=>u.jsx("div",{className:`flex animate-fade-in-up ${a.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`flex max-w-[80%] space-x-2 ${a.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${a.role==="user"?"bg-primary":"bg-muted"}`,children:a.role==="user"?u.jsx(fb,{className:"h-4 w-4 text-primary-foreground"}):u.jsx(El,{className:"h-4 w-4 text-foreground"})}),u.jsxs("div",{className:`rounded-xl p-3 ${a.role==="user"?"bg-primary/20 text-foreground":a.type==="code"||a.type==="command"?"bg-muted font-mono text-sm border border-border":"bg-muted text-foreground"}`,children:[a.type==="code"&&u.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[u.jsx(rC,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:a.language||"code"})]}),a.type==="command"&&u.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[u.jsx(Ua,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"shell"})]}),u.jsx("div",{className:"whitespace-pre-wrap",children:a.content})]})]})},l)),i&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"flex max-w-[80%] space-x-2",children:[u.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:u.jsx(El,{className:"h-4 w-4 text-foreground"})}),u.jsx("div",{className:"rounded-xl p-3 bg-muted text-foreground",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{className:"animate-pulse-dot",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]})})]})})]}),u.jsx("div",{className:"border-t border-border p-4",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(wd,{value:n,onChange:a=>r(a.target.value),placeholder:"Ask Arcana AI anything...",className:"min-h-[60px] resize-none",onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),o())},"data-testid":"input-chat-message"}),u.jsx(ke,{onClick:o,size:"icon",className:"shrink-0","data-testid":"button-send-message",children:u.jsx(A3,{className:"h-4 w-4"})})]})})]})}const XJe=[{icon:Td,title:"Arcana AI",description:"Multi-model LLM orchestration with intent detection, code generation, and reasoning capabilities. The intelligent core powering the entire ecosystem.",features:["Intent Detection","Code Generation","Shell Commands","Reasoning System"],href:"/arcana-demo",color:"text-primary"},{icon:xY,title:"NEOSYNTIS Lab",description:"Interactive research dashboard for AI-powered development. Real-time collaboration, telemetry visualization, and intelligent task execution.",features:["AI Chat Interface","File Management","WebSocket Terminal","Analytics"],href:"/neosyntis-demo",color:"text-chart-2"},{icon:Da,title:"MYNTRIX Core",description:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety.",features:["Job Planning","Safety Validation","Dry-run Mode","MQTT Integration"],href:"/myntrix-demo",color:"text-chart-3"}];function KJe(){return u.jsx("div",{className:"bg-background py-24",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Integrated Ecosystem"}),u.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Three powerful platforms working in harmony to deliver adaptive intelligence from development to deployment."})]}),u.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:XJe.map(t=>u.jsxs(Ge,{className:"group relative overflow-hidden border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[u.jsx("div",{className:"mb-4",children:u.jsx(t.icon,{className:`h-12 w-12 ${t.color} transition-transform duration-300 group-hover:scale-110`})}),u.jsx("h3",{className:"mb-3 text-2xl font-semibold text-foreground",children:t.title}),u.jsx("p",{className:"mb-6 text-muted-foreground",children:t.description}),u.jsx("div",{className:"mb-6 space-y-2",children:t.features.map(e=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),u.jsx("span",{className:"text-sm text-foreground",children:e})]},e))}),u.jsx(_a,{href:t.href,children:u.jsxs(ke,{variant:"ghost",className:"group/btn w-full justify-between","data-testid":`button-explore-${t.title.toLowerCase().replace(" ","-")}`,children:["Explore ",t.title,u.jsx(cb,{className:"h-4 w-4 transition-transform group-hover/btn:translate-x-1"})]})})]},t.title))})]})})}function Xb(){const t=[{title:"Product",links:[{label:"Arcana AI",href:"/arcana"},{label:"NEOSYNTIS",href:"/neosyntis"},{label:"MYNTRIX",href:"/myntrix"}]},{title:"Resources",links:[{label:"Documentation",href:"#"},{label:"API Reference",href:"#"},{label:"GitHub",href:"#"}]},{title:"Company",links:[{label:"About",href:"#"},{label:"Blog",href:"#"},{label:"Contact",href:"#"}]}];return u.jsx("footer",{className:"border-t border-border bg-card",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid gap-8 md:grid-cols-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"mb-4 flex items-center space-x-2",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary",children:u.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"V"})}),u.jsx("span",{className:"text-xl font-bold text-foreground",children:"VAREON"})]}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:"Engineering Adaptive Intelligence for the modern enterprise."}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:u.jsx(Dx,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:u.jsx(t0e,{className:"h-5 w-5"})}),u.jsx("a",{href:"#",className:"text-muted-foreground hover:text-foreground",children:u.jsx($ye,{className:"h-5 w-5"})})]})]}),t.map(e=>u.jsxs("div",{children:[u.jsx("h3",{className:"mb-4 text-sm font-semibold text-foreground",children:e.title}),u.jsx("ul",{className:"space-y-2",children:e.links.map(n=>u.jsx("li",{children:u.jsx(_a,{href:n.href,children:u.jsx("a",{className:"text-sm text-muted-foreground hover:text-foreground",children:n.label})})},n.label))})]},e.title))]}),u.jsx("div",{className:"mt-12 border-t border-border pt-8",children:u.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[" ",new Date().getFullYear()," VAREON. All rights reserved."]})})]})})}function YJe(){return u.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-background",children:[u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-background to-background"}),u.jsx("div",{className:"absolute inset-0 z-0 opacity-20",style:{backgroundImage:"radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),u.jsx("div",{className:"absolute inset-0 z-0 animate-pulse-slow bg-gradient-to-br from-primary/5 via-transparent to-transparent"}),u.jsx("div",{className:"relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex min-h-[80vh] flex-col items-center justify-center text-center",children:[u.jsxs("div",{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2 animate-fade-in","data-testid":"hero-sparkles-badge",children:[u.jsx(YA,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"Powered by Arcana AI"})]}),u.jsxs("h1",{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl md:text-7xl animate-fade-in-up",children:["Engineering",u.jsx("br",{}),u.jsx("span",{className:"bg-gradient-to-r from-primary to-chart-2 bg-clip-text text-transparent",children:"Adaptive Intelligence"})]}),u.jsx("p",{className:"mb-12 max-w-2xl text-lg text-muted-foreground sm:text-xl animate-fade-in-up animation-delay-200",children:"The VAREON ecosystem integrates cutting-edge AI with manufacturing execution systems. From research to production, powered by Arcana's multi-model orchestration."}),u.jsxs("div",{className:"flex flex-col items-center space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0 animate-fade-in-up animation-delay-400",children:[u.jsx(_a,{href:"/neosyntis-demo",children:u.jsxs(ke,{size:"lg",className:"group","data-testid":"button-try-neosyntis",children:["Try NEOSYNTIS Lab",u.jsx(cb,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})}),u.jsx(_a,{href:"/arcana-demo",children:u.jsx(ke,{size:"lg",variant:"outline","data-testid":"button-explore-arcana",children:"Explore Arcana AI"})})]}),u.jsxs("div",{className:"mt-20 grid gap-6 sm:grid-cols-3 animate-fade-in animation-delay-600",children:[u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[u.jsx("div",{className:"mb-2 text-3xl font-bold text-primary",children:"150K+"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Inferences Daily"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[u.jsx("div",{className:"mb-2 text-3xl font-bold text-chart-2",children:"99.9%"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"System Uptime"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6 hover-elevate",children:[u.jsx("div",{className:"mb-2 text-3xl font-bold text-chart-3",children:"24/7"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time Monitoring"})]})]})]})})]})}function ZJe(){const[t,e]=A.useState(`G1 X10 Y10 F500
G1 X20 Y20
G1 X0 Y0`),[n,r]=A.useState("cnc-node-1"),[i,s]=A.useState("dry-run"),[o,a]=A.useState("idle"),[l,c]=A.useState(""),f=()=>{a("validating"),c(""),setTimeout(()=>{i==="dry-run"?(a("success"),c(` Validation passed
 No forbidden commands detected
 Coordinates within safe bounds
 Feedrate acceptable (500 mm/min)

Simulated execution complete. Ready for approval.`)):(a("success"),c(`Job submitted for approval.
Job ID: job_`+Math.random().toString(36).substr(2,9)))},1500)};return u.jsxs(Ge,{className:"border border-card-border p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:"Submit Job"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and validate manufacturing jobs with AI-powered safety checks"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"G-code / Task Content"}),u.jsx(wd,{value:t,onChange:d=>e(d.target.value),className:"min-h-[120px] font-mono text-sm",placeholder:"Enter G-code or task description...","data-testid":"input-job-content"})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Target Node"}),u.jsxs(pr,{value:n,onValueChange:r,children:[u.jsx(lr,{"data-testid":"select-node",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"cnc-node-1",children:"CNC Node 1"}),u.jsx(At,{value:"cnc-node-2",children:"CNC Node 2"}),u.jsx(At,{value:"cnc-node-3",children:"CNC Node 3"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Execution Mode"}),u.jsxs(pr,{value:i,onValueChange:s,children:[u.jsx(lr,{"data-testid":"select-mode",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"dry-run",children:"Dry Run (Simulate)"}),u.jsx(At,{value:"validate",children:"Validate Only"}),u.jsx(At,{value:"execute",children:"Execute (Requires Approval)"})]})]})]})]}),u.jsx(ke,{onClick:f,className:"w-full",disabled:o==="validating","data-testid":"button-submit-job",children:o==="validating"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}),"Validating..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Ag,{className:"mr-2 h-4 w-4"}),"Run ",i==="dry-run"?"Dry Run":"Job"]})}),l&&u.jsxs("div",{className:`rounded-lg border p-4 ${o==="success"?"border-chart-3 bg-chart-3/10":"border-destructive bg-destructive/10"}`,children:[u.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[o==="success"?u.jsx(E3,{className:"h-5 w-5 text-chart-3"}):u.jsx(Ix,{className:"h-5 w-5 text-destructive"}),u.jsx("span",{className:"font-semibold text-foreground",children:o==="success"?"Validation Result":"Error"})]}),u.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-foreground",children:l})]})]})]})}function ia(){const[t,e]=A.useState({isLoggedIn:!1,token:null}),[,n]=Ni();return A.useEffect(()=>{const s=localStorage.getItem("access_token");e(s?{isLoggedIn:!0,token:s}:{isLoggedIn:!1,token:null})},[n]),{...t,login:s=>{localStorage.setItem("access_token",s),e({isLoggedIn:!0,token:s}),n("/dashboard")},logout:()=>{localStorage.removeItem("access_token"),e({isLoggedIn:!1,token:null}),n("/")}}}function Kb(){const[t,e]=Ni(),[n,r]=A.useState(!1),{isLoggedIn:i,logout:s}=ia(),o=[{path:"/",label:"Home"},{path:"/arcana-demo",label:"Arcana AI"},{path:"/neosyntis-demo",label:"NEOSYNTIS"},{path:"/myntrix-demo",label:"MYNTRIX"}],a=()=>{e(i?"/dashboard":"/auth"),r(!1)},l=()=>{s(),r(!1)};return u.jsx("nav",{className:"sticky top-0 z-50 border-b border-border bg-background/80 backdrop-blur-md",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsx(_a,{href:"/",children:u.jsxs("a",{className:"flex items-center space-x-2 rounded-lg px-3 py-2 group",children:[u.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded bg-primary group-hover:animate-pulse-sm",children:u.jsx("span",{className:"text-sm font-bold text-primary-foreground",children:"V"})}),u.jsx("span",{className:"text-xl font-bold text-foreground",children:"VAREON"})]})}),u.jsx("div",{className:"hidden items-center space-x-1 md:flex",children:o.map(c=>u.jsx(_a,{href:c.path,children:u.jsxs("a",{className:`relative rounded-lg px-4 py-2 text-sm font-medium transition-colors duration-200 ${t===c.path?"text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted/50"}`,children:[c.label,t===c.path&&u.jsx("span",{className:"absolute inset-x-0 bottom-0 h-0.5 bg-primary animate-grow-x"})]})},c.path))}),u.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:i?u.jsxs(u.Fragment,{children:[u.jsx(_a,{href:"/dashboard",children:u.jsx(ke,{variant:"ghost",size:"sm",children:"Dashboard"})}),u.jsx(ke,{size:"sm",onClick:l,children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(_a,{href:"/auth",children:u.jsx(ke,{variant:"ghost",size:"sm",children:"Sign In"})}),u.jsx(ke,{size:"sm",onClick:a,"data-testid":"button-get-started",children:"Get Started"})]})}),u.jsx(ke,{variant:"ghost",size:"icon",className:"md:hidden",onClick:()=>r(!n),"data-testid":"button-mobile-menu",children:n?u.jsx(hb,{className:"h-5 w-5"}):u.jsx(Wye,{className:"h-5 w-5"})})]}),n&&u.jsx("div",{className:"border-t border-border py-4 md:hidden",children:u.jsxs("div",{className:"flex flex-col space-y-2",children:[o.map(c=>u.jsx(_a,{href:c.path,children:u.jsx("a",{className:`rounded-lg px-4 py-2 text-sm font-medium hover-elevate active-elevate-2 ${t===c.path?"text-primary":"text-muted-foreground"}`,onClick:()=>r(!1),children:c.label})},c.path)),u.jsx("div",{className:"flex flex-col space-y-2 pt-4",children:i?u.jsxs(u.Fragment,{children:[u.jsx(_a,{href:"/dashboard",children:u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:"Dashboard"})}),u.jsx(ke,{size:"sm",onClick:l,children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(_a,{href:"/auth",children:u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>r(!1),children:"Sign In"})}),u.jsx(ke,{size:"sm",onClick:a,children:"Get Started"})]})})]})})]})})}function QJe({children:t}){const[,e]=Ni();return A.useEffect(()=>{localStorage.getItem("access_token")||e("/auth")},[e]),localStorage.getItem("access_token")?u.jsx(u.Fragment,{children:t}):null}function JJe(){const[t,e]=A.useState(Array.from({length:20},(a,l)=>({x:l,y:30+Math.random()*40})));A.useEffect(()=>{const a=setInterval(()=>{e(l=>[...l.slice(1),{x:l[l.length-1].x+1,y:30+Math.random()*40}])},1e3);return()=>clearInterval(a)},[]);const n=100,r=200,i=t[t.length-1].y,s=t.reduce((a,l)=>a+l.y,0)/t.length,o=Math.max(...t.map(a=>a.y));return u.jsxs(Ge,{className:"border border-card-border p-6",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(zr,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"font-semibold text-foreground",children:"Real-time Telemetry"})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-1"}),u.jsx("span",{className:"text-muted-foreground",children:"CPU Load"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-muted-foreground",children:"Status: Running"})]})]})]}),u.jsxs("div",{className:"relative h-[200px] rounded-lg bg-muted/30 p-4",children:[u.jsxs("svg",{width:"100%",height:r,className:"overflow-visible",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.3"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.05"})]})}),u.jsx("path",{d:`M 0 ${r} ${t.map((a,l)=>{const c=l/(t.length-1)*100,f=r-a.y/n*r;return`L ${c}% ${f}`}).join(" ")} L 100% ${r} Z`,fill:"url(#chartGradient)"}),u.jsx("polyline",{points:t.map((a,l)=>{const c=l/(t.length-1)*100,f=r-a.y/n*r;return`${c}%,${f}`}).join(" "),fill:"none",stroke:"hsl(var(--chart-1))",strokeWidth:"2",className:"transition-all duration-500 ease-linear"})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"0s"}),u.jsx("span",{children:"10s"}),u.jsx("span",{children:"20s"})]})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[i.toFixed(1),"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Current Load"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[s.toFixed(1),"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[o.toFixed(1),"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Peak"})]})]})]})}function eet(){const[t,e]=A.useState(["$ NeuroNet Shell v2.0","$ Connected to NEOSYNTIS Lab","$ Type 'help' for available commands",""]),[n,r]=A.useState(""),[i,s]=A.useState(!1),o=a=>{const l=`$ ${a}`;e(c=>[...c,l]),r(""),s(!0),setTimeout(()=>{let c=[];if(a==="help")c=["Available commands:","  ls     - List files","  pwd    - Print working directory","  clear  - Clear terminal",""];else if(a==="ls")c=["ai_core.py  ai_services.py  config.py  main.py",""];else if(a==="pwd")c=["/workspace/neuronet",""];else if(a==="clear"){e(["$ NeuroNet Shell v2.0",""]),r(""),s(!1);return}else a&&(c=[`Command '${a}' not found. Type 'help' for available commands.`,""]);let f=0,d=0;const h=setInterval(()=>{if(f<c.length){const g=c[f];d<=g.length?(e(v=>{const x=v[v.length-1];if(x===l||x==="")return[...v,g.substring(0,d)];{const m=[...v];return m[v.length-1]=g.substring(0,d),m}}),d++):(f++,d=0,f===c.length&&(clearInterval(h),s(!1)))}},20)},0)};return u.jsxs("div",{className:"flex h-[400px] flex-col rounded-xl border border-border bg-black/50 font-mono text-sm",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border bg-muted/30 px-4 py-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ua,{className:"h-4 w-4 text-chart-3"}),u.jsx("span",{className:"text-xs font-semibold text-foreground",children:"WebSocket Shell"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-5"}),u.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-2"}),u.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-3"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.jsxs("div",{className:"space-y-1",children:[t.map((a,l)=>u.jsx("div",{className:a.startsWith("$")?"text-chart-3":"text-foreground/80",children:a},l)),i&&u.jsxs("div",{className:"text-foreground/80",children:[u.jsx("span",{className:"animate-pulse-dot",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-chart-3",children:"$"}),u.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value),onKeyDown:a=>{a.key==="Enter"&&o(n)},className:"flex-1 bg-transparent text-foreground outline-none",placeholder:"Enter command...","data-testid":"input-terminal-command"})]})]})}),u.jsx("div",{className:"border-t border-border bg-muted/30 px-4 py-2",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Press Enter to execute"}),u.jsx(ke,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>o(n),"data-testid":"button-execute-command",children:"Execute"})]})})]})}function tet(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Kb,{}),u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/20 via-background to-background py-24",children:[u.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),u.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2",children:[u.jsx(Td,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"AI Core Engine"})]}),u.jsx("h1",{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl",children:"Arcana AI"}),u.jsx("p",{className:"mx-auto mb-12 max-w-3xl text-xl text-muted-foreground",children:"Multi-model LLM orchestration platform powering intelligent code generation, shell command conversion, and contextual reasoning across the VAREON ecosystem."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:"6"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Core Capabilities"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[u.jsx("div",{className:"text-2xl font-bold text-chart-2",children:"5+"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"LLM Models"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[u.jsx("div",{className:"text-2xl font-bold text-chart-3",children:"Real-time"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Streaming"})]})]})]})})]}),u.jsx(VJe,{}),u.jsx("div",{className:"bg-card py-24",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"rounded-2xl border border-border bg-background p-8 md:p-12",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx(YA,{className:"h-8 w-8 shrink-0 text-primary"}),u.jsxs("div",{children:[u.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Seamless Integration with MYNTRIX"}),u.jsxs("p",{className:"mb-6 text-muted-foreground",children:["The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All original modules (ai_core.py, ai_services.py, llm_utils.py, file_utils.py, shell_utils.py) are preserved in ",u.jsx("code",{className:"rounded bg-muted px-2 py-1 font-mono text-sm",children:"myntrix_core/lib/legacy/"})," and accessed through safe wrapper functions. This architecture enables:"]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Code Preservation"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Original Arcana files remain untouched, ensuring backward compatibility and easy updates"})]}),u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Modern API Integration"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"New MYNTRIX endpoints leverage legacy AI capabilities through clean adapter interfaces"})]}),u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Safety Wrappers"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Timeout protection, error handling, and validation layers around legacy functions"})]}),u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Gradual Migration Path"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Ability to refactor legacy code incrementally while maintaining full system functionality"})]})]})]})]})})})}),u.jsx(Xb,{})]})}function net(){return u.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[u.jsx(Kb,{}),u.jsx("main",{className:"flex-grow flex items-center justify-center py-12",children:u.jsx(GJe,{})}),u.jsx(Xb,{})]})}function ret(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Kb,{}),u.jsx(YJe,{}),u.jsx(KJe,{}),u.jsx(WJe,{}),u.jsx(Xb,{})]})}const iet=[{icon:Yye,title:"Safety Validation",description:"Multi-layer safety checks including forbidden command detection, coordinate bounds validation, and feedrate limits."},{icon:T3,title:"Dry-run Simulation",description:"Execute jobs in simulation mode to validate behavior before committing to production hardware."},{icon:XA,title:"Telemetry & Logging",description:"Real-time telemetry ingestion with journal entries and comprehensive execution history."}];function set(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Kb,{}),u.jsx("div",{className:"bg-gradient-to-br from-chart-3/20 via-background to-background py-16",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[u.jsx(Da,{className:"h-8 w-8 text-chart-3"}),u.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"MYNTRIX Core"})]}),u.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety protocols."})]})}),u.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(ZJe,{})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ge,{className:"border border-card-border p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"System Status"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Validator"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-sm text-foreground",children:"Online"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Executor"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-sm text-foreground",children:"Ready"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"MQTT Bridge"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-5"}),u.jsx("span",{className:"text-sm text-foreground",children:"Mock Mode"})]})]})]})]}),u.jsxs(Ge,{className:"border border-card-border p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Recent Jobs"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[u.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_x7k2m"}),u.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),u.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 1 - Dry Run"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[u.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_p9n4q"}),u.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),u.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 2 - Validate"})]})]})]})]})]}),u.jsxs("div",{className:"mt-16",children:[u.jsx("h2",{className:"mb-8 text-center text-3xl font-bold text-foreground",children:"Core Modules"}),u.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:iet.map(t=>u.jsxs(Ge,{className:"border border-card-border p-6 hover-elevate",children:[u.jsx(t.icon,{className:"mb-4 h-10 w-10 text-primary"}),u.jsx("h3",{className:"mb-3 text-xl font-semibold text-foreground",children:t.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]}),u.jsxs("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:[u.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"NeuroNet Integration"}),u.jsx("p",{className:"text-muted-foreground",children:"MYNTRIX Core is built on the foundation of the legacy NeuroNet system. The planner module uses the NeuroNet AI adapter to leverage reasoning capabilities, while the validator integrates legacy safety checks. This hybrid architecture combines proven AI intelligence with modern manufacturing execution standards."}),u.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"rounded-lg bg-background p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Adapter Layer"}),u.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/legacy_adapter.py"})]}),u.jsxs("div",{className:"rounded-lg bg-background p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"MQTT Bridge"}),u.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/mqtt_bridge.py"})]})]})]})]}),u.jsx(Xb,{})]})}function oet(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(Kb,{}),u.jsx("div",{className:"bg-gradient-to-br from-chart-2/20 via-background to-background py-16",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[u.jsx(xY,{className:"h-8 w-8 text-chart-2"}),u.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"NEOSYNTIS Lab"})]}),u.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Interactive AI research dashboard powered by NeuroNet. Real-time chat, code generation, shell terminal, and telemetry visualization in a unified development environment."})]})}),u.jsx("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:u.jsxs(Gl,{defaultValue:"chat",className:"space-y-6",children:[u.jsxs(Ka,{className:"grid w-full grid-cols-3 lg:w-auto",children:[u.jsx(er,{value:"chat","data-testid":"tab-chat",children:"AI Chat"}),u.jsx(er,{value:"terminal","data-testid":"tab-terminal",children:"Terminal"}),u.jsx(er,{value:"telemetry","data-testid":"tab-telemetry",children:"Telemetry"})]}),u.jsx(pn,{value:"chat",className:"space-y-6",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(qJe,{})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Active Models"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Intent Detection"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Code Generation"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Conversation"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]})]})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Token Usage"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Session"}),u.jsx("span",{className:"font-medium text-foreground",children:"2,450"})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total"}),u.jsx("span",{className:"font-medium text-foreground",children:"15,230"})]}),u.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-muted",children:u.jsx("div",{className:"h-full w-[45%] bg-primary"})})]})]})]})]})}),u.jsx(pn,{value:"terminal",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(eet,{})}),u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Command History"}),u.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[u.jsx("div",{className:"text-muted-foreground",children:"$ ls -la"}),u.jsx("div",{className:"text-muted-foreground",children:"$ pwd"}),u.jsx("div",{className:"text-muted-foreground",children:"$ cat ai_core.py"}),u.jsx("div",{className:"text-muted-foreground",children:"$ python main.py"})]})]})]})}),u.jsx(pn,{value:"telemetry",children:u.jsx(JJe,{})})]})}),u.jsx(Xb,{})]})}function aet(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Ge,{className:"w-full max-w-md mx-4",children:u.jsxs(et,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(gI,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const cet="";function uet(){const[t,e]=Ni(),[n,r]=A.useState(null),[i,s]=A.useState(null),{toast:o}=bo(),a=Lt({mutationFn:async({email:d,token:h})=>{const g=await fetch(`${cet}/api/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,token:h})});if(!g.ok){const v=await g.json();throw new Error(v.detail||"Verification failed.")}return g.json()},onSuccess:d=>{o({title:"Success!",description:d.message||"Email verified successfully.",variant:"default"})},onError:d=>{o({title:"Verification Failed",description:d.message||"An error occurred during verification.",variant:"destructive"})}});A.useEffect(()=>{const d=window.location.search.substring(1),h=new URLSearchParams(d||""),g=h.get("email"),v=h.get("token");r(g),s(v),(!g||!v)&&o({title:"Invalid Link",description:"The verification link is missing required parameters.",variant:"destructive"})},[t,o]);const l=()=>{e("/auth")},c=()=>{n&&i?a.mutate({email:n,token:i}):o({title:"Error",description:"Cannot verify: email or token is missing.",variant:"destructive"})},f=()=>a.isPending?u.jsxs(ke,{className:"w-full",disabled:!0,children:[u.jsx(vn,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):a.isSuccess?u.jsx(ke,{onClick:l,className:"w-full",children:"Back to Login"}):n&&i?u.jsx(ke,{onClick:c,className:"w-full",children:"Verify Email"}):u.jsx(ke,{onClick:l,className:"w-full",children:"Back to Login"});return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:u.jsxs(Ge,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[u.jsxs(Ye,{className:"text-center",children:[u.jsx(Ze,{className:"text-3xl font-bold",children:"Email Verification"}),u.jsx(Ut,{children:a.isPending?"Verifying your email address...":a.isSuccess?"Your email has been successfully verified!":a.isError?"There was an issue verifying your email. Please try again or request a new link.":"Click the button below to verify your email address."})]}),u.jsx(et,{className:"flex flex-col items-center space-y-4",children:f()})]})})}function det(){const[,t]=Ni(),e=()=>{t("/auth")};return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:u.jsxs(Ge,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[u.jsxs(Ye,{className:"text-center",children:[u.jsx(Ze,{className:"text-3xl font-bold",children:"Check Your Email"}),u.jsx(Ut,{children:"A verification link has been sent to your email address. Please click the link in the email to verify your account and complete your registration."})]}),u.jsx(et,{className:"flex flex-col items-center space-y-4",children:u.jsx(ke,{onClick:e,className:"w-full",children:"Back to Login"})})]})})}const fet=async()=>{const t=localStorage.getItem("access_token"),e=await fetch("/api/context_memory/",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Network response was not ok");return e.json()},het=async t=>{const e=localStorage.getItem("access_token"),n=await fetch(`/api/context_memory/item/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to delete item")}},QR=({title:t,children:e,onEdit:n,onDelete:r})=>u.jsxs(Ge,{children:[u.jsx(Ye,{className:"pb-4",children:u.jsx(Ze,{className:"text-base",children:t})}),u.jsx(et,{className:"text-sm",children:e}),u.jsxs(X3,{className:"gap-2",children:[u.jsxs(ke,{variant:"ghost",size:"sm",onClick:n,children:[u.jsx(wY,{className:"h-4 w-4 mr-2"})," Edit"]}),u.jsxs(ke,{variant:"ghost",size:"sm",className:"text-red-500",onClick:r,children:[u.jsx(Nd,{className:"h-4 w-4 mr-2"})," Forget"]})]})]});function Kle(){const t=bi(),{toast:e}=bo(),{data:n,isLoading:r,error:i}=yn({queryKey:["arcanaContextMemory"],queryFn:fet}),s=Lt({mutationFn:het,onSuccess:()=>{e({title:"Success",description:"Context item forgotten."}),t.invalidateQueries({queryKey:["arcanaContextMemory"]})},onError:a=>{e({title:"Error",description:a.message,variant:"destructive"})}}),o=a=>{s.mutate(a)};return r?u.jsx("div",{className:"p-4",children:"Loading context memory..."}):i?u.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",i.message]}):u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(Td,{className:"h-6 w-6"})," Arcana Context Memory"]}),u.jsx("p",{className:"text-muted-foreground",children:"Configure Arcana's learning and view the contextual data it has recognized."})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 p-6",children:[u.jsx("div",{className:"md:col-span-1",children:u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{children:"Configuration"}),u.jsx(Ut,{children:"Adjust how Arcana learns from and uses your context."})]}),u.jsxs(et,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"awareness-level",children:"Context Awareness Level"}),u.jsx(Bae,{id:"awareness-level",defaultValue:[60],max:100,step:10}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher levels use more context, improving relevance but may increase latency."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(mt,{children:"Context Sources"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(mt,{htmlFor:"learn-conversations",className:"font-normal",children:"Learn from conversations"}),u.jsx(hd,{id:"learn-conversations",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(mt,{htmlFor:"learn-code",className:"font-normal",children:"Learn from code & repositories"}),u.jsx(hd,{id:"learn-code",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(mt,{htmlFor:"learn-shell",className:"font-normal",children:"Learn from shell commands"}),u.jsx(hd,{id:"learn-shell"})]})]})]}),u.jsx(X3,{children:u.jsx(ke,{className:"w-full",children:"Save Configuration"})})]})}),u.jsx("div",{className:"md:col-span-2",children:u.jsxs(Gl,{defaultValue:"preferences",children:[u.jsxs(Ka,{className:"grid w-full grid-cols-3",children:[u.jsxs(er,{value:"preferences",children:[u.jsx(fb,{className:"h-4 w-4 mr-2"}),"Preferences"]}),u.jsxs(er,{value:"projects",children:[u.jsx(Dye,{className:"h-4 w-4 mr-2"}),"Projects"]}),u.jsxs(er,{value:"conversations",children:[u.jsx(M3,{className:"h-4 w-4 mr-2"}),"Conversations"]})]}),u.jsxs(ah,{className:"h-[calc(100vh-200px)] mt-4",children:[u.jsx(pn,{value:"preferences",children:u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n==null?void 0:n.userPreferences.map(a=>u.jsxs(QR,{title:a.key,onEdit:()=>{},onDelete:()=>o(a.id),children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Value:"})," ",a.value]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Source: ",a.source]})]},a.id))})}),u.jsx(pn,{value:"projects",children:u.jsx("div",{className:"grid grid-cols-1 gap-4",children:n==null?void 0:n.projectKnowledge.map(a=>u.jsxs(QR,{title:a.repo,onEdit:()=>{},onDelete:()=>o(a.id),children:[u.jsx("p",{children:a.summary}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:a.techStack.map(l=>u.jsx(fn,{variant:"secondary",children:l},l))})]},a.id))})}),u.jsx(pn,{value:"conversations",children:u.jsx("div",{className:"grid grid-cols-1 gap-4",children:n==null?void 0:n.conversationSnippets.map(a=>u.jsxs(QR,{title:a.topic,onEdit:()=>{},onDelete:()=>o(a.id),children:[u.jsxs("p",{children:['"',a.summary,'"']}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Recognized ",a.timestamp]})]},a.id))})})]})]})})]})]})}function pet(){const[t,e]=A.useState(""),[n,r]=A.useState([]),[i,s]=A.useState(!0),[o,a]=A.useState(!0),[l,c]=A.useState(!1),f=A.useRef(null),d=A.useRef(null),h=()=>{var v;(v=d.current)==null||v.scrollIntoView({behavior:"smooth"})};A.useEffect(()=>{h()},[n]),A.useEffect(()=>{const v=crypto.randomUUID(),x=window.location.protocol==="https:"?"wss:":"ws:",m=localStorage.getItem("access_token"),p=`${x}//${window.location.host}/ws-api/ws/arcana/${v}?token=${m}`,y=new WebSocket(p);return f.current=y,y.onopen=()=>{console.log("WebSocket connected"),a(!1),c(!0)},y.onclose=()=>{console.log("WebSocket disconnected"),a(!1),c(!1)},y.onerror=_=>{console.error("WebSocket error:",_),a(!1),c(!1)},y.onmessage=_=>{const b=JSON.parse(_.data);b.type==="chat_response"&&r(S=>{const C=S[S.length-1];return C&&C.role==="assistant"?S.map((M,T)=>T===S.length-1?{...M,content:M.content+b.payload.response}:M):[...S,{id:b.payload.message_id||crypto.randomUUID(),role:"assistant",content:b.payload.response,createdAt:new Date}]})},()=>{f.current&&f.current.close()}},[]);const g=()=>{if(!t.trim()||!f.current||f.current.readyState!==WebSocket.OPEN)return;const v={id:crypto.randomUUID(),role:"user",content:t,createdAt:new Date};r(m=>[...m,v]);const x={type:"chat_message",payload:{prompt:t}};f.current.send(JSON.stringify(x)),r(m=>[...m,{id:crypto.randomUUID(),role:"assistant",content:"",createdAt:new Date}]),e("")};return u.jsxs("div",{className:"h-full flex",children:[u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"border-b px-6 py-3 bg-card/50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:"Chat with ARCANA"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Cognitive AI Assistant"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[o?u.jsxs(fn,{variant:"outline",children:[u.jsx(zr,{className:"h-3 w-3 mr-1 animate-spin"}),"Connecting..."]}):l?u.jsx(fn,{variant:"secondary",className:"bg-green-500 text-white",children:"Connected"}):u.jsxs(fn,{variant:"destructive",children:[u.jsx(i0e,{className:"h-3 w-3 mr-1"}),"Disconnected"]}),u.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>s(!i),children:u.jsx(qye,{className:"h-5 w-5"})})]})]})}),u.jsx(ah,{className:"flex-1 px-6 py-4",children:u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[n.map(v=>u.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${v.role==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:[v.reasoning&&u.jsxs(cGe,{className:"mb-3",children:[u.jsxs(uGe,{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors w-full",children:[u.jsx(YA,{className:"h-4 w-4"}),u.jsx("span",{children:"Reasoning Process"}),u.jsx(Ov,{className:"h-4 w-4 ml-auto"})]}),u.jsx(dGe,{className:"mt-2 p-3 bg-muted/50 rounded-md text-sm text-muted-foreground",children:v.reasoning})]}),u.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:v.content||u.jsx(zr,{className:"h-4 w-4 animate-spin"})}),u.jsx("div",{className:"text-xs text-muted-foreground mt-2 opacity-70",children:new Date(v.createdAt).toLocaleTimeString()})]})},v.id)),u.jsx("div",{ref:d})]})}),u.jsx("div",{className:"border-t p-4 bg-card/50",children:u.jsx("div",{className:"max-w-4xl mx-auto space-y-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ke,{variant:"outline",size:"icon","data-testid":"button-attach-file",children:u.jsx(Xye,{className:"h-4 w-4"})}),u.jsx(jt,{placeholder:"Type your message...",value:t,onChange:v=>e(v.target.value),onKeyDown:v=>v.key==="Enter"&&!v.shiftKey&&g(),className:"flex-1","data-testid":"input-chat-message",disabled:!l}),u.jsx(ke,{onClick:g,disabled:!l||o,"data-testid":"button-send-message",children:o?u.jsx(zr,{className:"h-4 w-4 animate-spin"}):u.jsx(A3,{className:"h-4 w-4"})})]})})})]}),i&&u.jsx(Kle,{})]})}var Yle={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={4567:function(o,a,l){var c=this&&this.__decorate||function(_,b,S,C){var M,T=arguments.length,P=T<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(_,b,S,C);else for(var N=_.length-1;N>=0;N--)(M=_[N])&&(P=(T<3?M(P):T>3?M(b,S,P):M(b,S))||P);return T>3&&P&&Object.defineProperty(b,S,P),P},f=this&&this.__param||function(_,b){return function(S,C){b(S,C,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;const d=l(9042),h=l(6114),g=l(9924),v=l(844),x=l(5596),m=l(4725),p=l(3656);let y=a.AccessibilityManager=class extends v.Disposable{constructor(_,b){super(),this._terminal=_,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let S=0;S<this._terminal.rows;S++)this._rowElements[S]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[S]);if(this._topBoundaryFocusListener=S=>this._handleBoundaryFocus(S,0),this._bottomBoundaryFocusListener=S=>this._handleBoundaryFocus(S,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(S=>this._handleResize(S.rows))),this.register(this._terminal.onRender(S=>this._refreshRows(S.start,S.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(S=>this._handleChar(S))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(S=>this._handleTab(S))),this.register(this._terminal.onKey(S=>this._handleKey(S.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,v.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let b=0;b<_;b++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)),h.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,h.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,b){this._liveRegionDebouncer.refresh(_,b,this._terminal.rows)}_renderRows(_,b){const S=this._terminal.buffer,C=S.lines.length.toString();for(let M=_;M<=b;M++){const T=S.translateBufferLineToString(S.ydisp+M,!0),P=(S.ydisp+M+1).toString(),N=this._rowElements[M];N&&(T.length===0?N.innerText="":N.textContent=T,N.setAttribute("aria-posinset",P),N.setAttribute("aria-setsize",C))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,b){const S=_.target,C=this._rowElements[b===0?1:this._rowElements.length-2];if(S.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==C)return;let M,T;if(b===0?(M=S,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(M=this._rowElements.shift(),T=S,this._rowContainer.removeChild(M)),M.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const P=this._createAccessibilityTreeNode();this._rowElements.unshift(P),this._rowContainer.insertAdjacentElement("afterbegin",P)}else{const P=this._createAccessibilityTreeNode();this._rowElements.push(P),this._rowContainer.appendChild(P)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};a.AccessibilityManager=y=c([f(1,m.IRenderService)],y)},3614:(o,a)=>{function l(h){return h.replace(/\r?\n/g,"\r")}function c(h,g){return g?"\x1B[200~"+h+"\x1B[201~":h}function f(h,g,v,x){h=c(h=l(h),v.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),v.triggerDataEvent(h,!0),g.value=""}function d(h,g,v){const x=v.getBoundingClientRect(),m=h.clientX-x.left-10,p=h.clientY-x.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${m}px`,g.style.top=`${p}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=l,a.bracketTextForPaste=c,a.copyHandler=function(h,g){h.clipboardData&&h.clipboardData.setData("text/plain",g.selectionText),h.preventDefault()},a.handlePasteEvent=function(h,g,v,x){h.stopPropagation(),h.clipboardData&&f(h.clipboardData.getData("text/plain"),g,v,x)},a.paste=f,a.moveTextAreaUnderMouseCursor=d,a.rightClickHandler=function(h,g,v,x,m){d(h,g,v),m&&x.rightClickSelect(h),g.value=x.selectionText,g.select()}},7239:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const c=l(1505);a.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(f,d,h){this._css.set(f,d,h)}getCss(f,d){return this._css.get(f,d)}setColor(f,d,h){this._color.set(f,d,h)}getColor(f,d){return this._color.get(f,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(l,c,f,d){l.addEventListener(c,f,d);let h=!1;return{dispose:()=>{h||(h=!0,l.removeEventListener(c,f,d))}}}},6465:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,y,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,y,C):b(p,y))||C);return S>3&&C&&Object.defineProperty(p,y,C),C},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier2=void 0;const d=l(3656),h=l(8460),g=l(844),v=l(2585);let x=a.Linkifier2=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new h.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new h.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const p=this._linkProviders.indexOf(m);p!==-1&&this._linkProviders.splice(p,1)}}}attachToDom(m,p,y){this._element=m,this._mouseService=p,this._renderService=y,this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const y=m.composedPath();for(let _=0;_<y.length;_++){const b=y[_];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,p){var y,_;this._activeProviderReplies&&p||((y=this._activeProviderReplies)===null||y===void 0||y.forEach(S=>{S==null||S.forEach(C=>{C.link.dispose&&C.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let b=!1;for(const[S,C]of this._linkProviders.entries())p?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(S)&&(b=this._checkLinkProviderResult(S,m,b)):C.provideLinks(m.y,M=>{var T,P;if(this._isMouseOut)return;const N=M==null?void 0:M.map(k=>({link:k}));(T=this._activeProviderReplies)===null||T===void 0||T.set(S,N),b=this._checkLinkProviderResult(S,m,b),((P=this._activeProviderReplies)===null||P===void 0?void 0:P.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,p){const y=new Set;for(let _=0;_<p.size;_++){const b=p.get(_);if(b)for(let S=0;S<b.length;S++){const C=b[S],M=C.link.range.start.y<m?0:C.link.range.start.x,T=C.link.range.end.y>m?this._bufferService.cols:C.link.range.end.x;for(let P=M;P<=T;P++){if(y.has(P)){b.splice(S--,1);break}y.add(P)}}}}_checkLinkProviderResult(m,p,y){var _;if(!this._activeProviderReplies)return y;const b=this._activeProviderReplies.get(m);let S=!1;for(let C=0;C<m;C++)this._activeProviderReplies.has(C)&&!this._activeProviderReplies.get(C)||(S=!0);if(!S&&b){const C=b.find(M=>this._linkAtPosition(M.link,p));C&&(y=!0,this._handleNewLink(C))}if(this._activeProviderReplies.size===this._linkProviders.length&&!y)for(let C=0;C<this._activeProviderReplies.size;C++){const M=(_=this._activeProviderReplies.get(C))===null||_===void 0?void 0:_.find(T=>this._linkAtPosition(T.link,p));if(M){y=!0,this._handleNewLink(M);break}}return y}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,p){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!p||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(m.link,p)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var y,_;return(_=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:y=>{var _,b;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==y&&(this._currentLink.state.decorations.pointerCursor=y,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",y)))}},underline:{get:()=>{var y,_;return(_=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||_===void 0?void 0:_.decorations.underline},set:y=>{var _,b,S;!((_=this._currentLink)===null||_===void 0)&&_.state&&((S=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||S===void 0?void 0:S.decorations.underline)!==y&&(this._currentLink.state.decorations.underline=y,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,y))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(y=>{if(!this._currentLink)return;const _=y.start===0?0:y.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+y.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(_,b),this._lastMouseEvent&&this._element)){const S=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);S&&this._askForLink(S,!1)}})))}_linkHover(m,p,y){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(y,p.text)}_fireUnderlineEvent(m,p){const y=m.range,_=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(y.start.x-1,y.start.y-_-1,y.end.x,y.end.y-_-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(m,p,y){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(y,p.text)}_linkAtPosition(m,p){const y=m.range.start.y*this._bufferService.cols+m.range.start.x,_=m.range.end.y*this._bufferService.cols+m.range.end.x,b=p.y*this._bufferService.cols+p.x;return y<=b&&b<=_}_positionFromMouseEvent(m,p,y){const _=y.getCoords(m,p,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,p,y,_,b){return{x1:m,y1:p,x2:y,y2:_,cols:this._bufferService.cols,fg:b}}};a.Linkifier2=x=c([f(0,v.IBufferService)],x)},9042:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(o,a,l){var c=this&&this.__decorate||function(x,m,p,y){var _,b=arguments.length,S=b<3?m:y===null?y=Object.getOwnPropertyDescriptor(m,p):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(x,m,p,y);else for(var C=x.length-1;C>=0;C--)(_=x[C])&&(S=(b<3?_(S):b>3?_(m,p,S):_(m,p))||S);return b>3&&S&&Object.defineProperty(m,p,S),S},f=this&&this.__param||function(x,m){return function(p,y){m(p,y,x)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkProvider=void 0;const d=l(511),h=l(2585);let g=a.OscLinkProvider=class{constructor(x,m,p){this._bufferService=x,this._optionsService=m,this._oscLinkService=p}provideLinks(x,m){var p;const y=this._bufferService.buffer.lines.get(x-1);if(!y)return void m(void 0);const _=[],b=this._optionsService.rawOptions.linkHandler,S=new d.CellData,C=y.getTrimmedLength();let M=-1,T=-1,P=!1;for(let N=0;N<C;N++)if(T!==-1||y.hasContent(N)){if(y.loadCell(N,S),S.hasExtendedAttrs()&&S.extended.urlId){if(T===-1){T=N,M=S.extended.urlId;continue}P=S.extended.urlId!==M}else T!==-1&&(P=!0);if(P||T!==-1&&N===C-1){const k=(p=this._oscLinkService.getLinkData(M))===null||p===void 0?void 0:p.uri;if(k){const D={start:{x:T+1,y:x},end:{x:N+(P||N!==C-1?0:1),y:x}};let j=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const F=new URL(k);["http:","https:"].includes(F.protocol)||(j=!0)}catch{j=!0}j||_.push({text:k,range:D,activate:(F,z)=>b?b.activate(F,z,D):v(0,z),hover:(F,z)=>{var U;return(U=b==null?void 0:b.hover)===null||U===void 0?void 0:U.call(b,F,z,D)},leave:(F,z)=>{var U;return(U=b==null?void 0:b.leave)===null||U===void 0?void 0:U.call(b,F,z,D)}})}P=!1,S.hasExtendedAttrs()&&S.extended.urlId?(T=N,M=S.extended.urlId):(T=-1,M=-1)}}m(_)}};function v(x,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}a.OscLinkProvider=g=c([f(0,h.IBufferService),f(1,h.IOptionsService),f(2,h.IOscLinkService)],g)},6193:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0,a.RenderDebouncer=class{constructor(l,c){this._parentWindow=l,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,f){this._rowCount=f,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ScreenDprMonitor=void 0;const c=l(844);class f extends c.Disposable{constructor(h){super(),this._parentWindow=h,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(h){this._listener&&this.clearListener(),this._listener=h,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var h;this._outerListener&&((h=this._resolutionMediaMatchList)===null||h===void 0||h.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}a.ScreenDprMonitor=f},3236:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const c=l(3614),f=l(3656),d=l(6465),h=l(9042),g=l(3730),v=l(1680),x=l(3107),m=l(5744),p=l(2950),y=l(1296),_=l(428),b=l(4269),S=l(5114),C=l(8934),M=l(3230),T=l(9312),P=l(4725),N=l(6731),k=l(8055),D=l(8969),j=l(8460),F=l(844),z=l(6114),U=l(8437),H=l(2584),R=l(7399),I=l(5941),B=l(9074),W=l(2585),G=l(5435),X=l(4567),ne=typeof window<"u"?window.document:null;class ae extends D.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor($={}){super($),this.browser=z,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new F.MutableDisposable),this._onCursorMove=this.register(new j.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new j.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new j.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new j.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new j.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new j.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new j.EventEmitter),this._onBlur=this.register(new j.EventEmitter),this._onA11yCharEmitter=this.register(new j.EventEmitter),this._onA11yTabEmitter=this.register(new j.EventEmitter),this._onWillOpen=this.register(new j.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(d.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(W.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((Y,Q)=>this.refresh(Y,Q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(Y=>this._reportWindowsOptions(Y))),this.register(this._inputHandler.onColor(Y=>this._handleColorEvent(Y))),this.register((0,j.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,j.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,j.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(Y=>this._afterResize(Y.cols,Y.rows))),this.register((0,F.toDisposable)(()=>{var Y,Q;this._customKeyEventHandler=void 0,(Q=(Y=this.element)===null||Y===void 0?void 0:Y.parentNode)===null||Q===void 0||Q.removeChild(this.element)}))}_handleColorEvent($){if(this._themeService)for(const Y of $){let Q,ee="";switch(Y.index){case 256:Q="foreground",ee="10";break;case 257:Q="background",ee="11";break;case 258:Q="cursor",ee="12";break;default:Q="ansi",ee="4;"+Y.index}switch(Y.type){case 0:const ue=k.color.toColorRGB(Q==="ansi"?this._themeService.colors.ansi[Y.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${H.C0.ESC}]${ee};${(0,I.toRgbString)(ue)}${H.C1_ESCAPED.ST}`);break;case 1:if(Q==="ansi")this._themeService.modifyColors(J=>J.ansi[Y.index]=k.rgba.toColor(...Y.color));else{const J=Q;this._themeService.modifyColors(K=>K[J]=k.rgba.toColor(...Y.color))}break;case 2:this._themeService.restoreColor(Y.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange($){$?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus($){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[I"),this.updateCursorStyle($),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var $;return($=this.textarea)===null||$===void 0?void 0:$.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const $=this.buffer.ybase+this.buffer.y,Y=this.buffer.lines.get($);if(!Y)return;const Q=Math.min(this.buffer.x,this.cols-1),ee=this._renderService.dimensions.css.cell.height,ue=Y.getWidth(Q),J=this._renderService.dimensions.css.cell.width*ue,K=this.buffer.y*this._renderService.dimensions.css.cell.height,re=Q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=re+"px",this.textarea.style.top=K+"px",this.textarea.style.width=J+"px",this.textarea.style.height=ee+"px",this.textarea.style.lineHeight=ee+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,f.addDisposableDomListener)(this.element,"copy",Y=>{this.hasSelection()&&(0,c.copyHandler)(Y,this._selectionService)}));const $=Y=>(0,c.handlePasteEvent)(Y,this.textarea,this.coreService,this.optionsService);this.register((0,f.addDisposableDomListener)(this.textarea,"paste",$)),this.register((0,f.addDisposableDomListener)(this.element,"paste",$)),z.isFirefox?this.register((0,f.addDisposableDomListener)(this.element,"mousedown",Y=>{Y.button===2&&(0,c.rightClickHandler)(Y,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,f.addDisposableDomListener)(this.element,"contextmenu",Y=>{(0,c.rightClickHandler)(Y,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),z.isLinux&&this.register((0,f.addDisposableDomListener)(this.element,"auxclick",Y=>{Y.button===1&&(0,c.moveTextAreaUnderMouseCursor)(Y,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,f.addDisposableDomListener)(this.textarea,"keyup",$=>this._keyUp($),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keydown",$=>this._keyDown($),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keypress",$=>this._keyPress($),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionupdate",$=>this._compositionHelper.compositionupdate($))),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,f.addDisposableDomListener)(this.textarea,"input",$=>this._inputEvent($),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open($){var Y;if(!$)throw new Error("Terminal requires a parent element.");$.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=$.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),$.appendChild(this.element);const Q=ne.createDocumentFragment();this._viewportElement=ne.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=ne.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ne.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ne.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=ne.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",h.promptLabel),z.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(S.CoreBrowserService,this.textarea,(Y=this._document.defaultView)!==null&&Y!==void 0?Y:window),this._instantiationService.setService(P.ICoreBrowserService,this._coreBrowserService),this.register((0,f.addDisposableDomListener)(this.textarea,"focus",ee=>this._handleTextAreaFocus(ee))),this.register((0,f.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(P.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(N.ThemeService),this._instantiationService.setService(P.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(P.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(M.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(P.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(ee=>this._onRender.fire(ee))),this.onResize(ee=>this._renderService.resize(ee.cols,ee.rows)),this._compositionView=ne.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(C.MouseService),this._instantiationService.setService(P.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(v.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(T.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(P.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(ee=>this.scrollLines(ee.amount,ee.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(ee=>this._renderService.handleSelectionChanged(ee.start,ee.end,ee.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(ee=>{this.textarea.value=ee,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(ee=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register((0,f.addDisposableDomListener)(this.element,"mousedown",ee=>this._selectionService.handleMouseDown(ee))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(X.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",ee=>this._handleScreenReaderModeOptionChange(ee))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",ee=>{!this._overviewRulerRenderer&&ee&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(y.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const $=this,Y=this.element;function Q(J){const K=$._mouseService.getMouseReportCoords(J,$.screenElement);if(!K)return!1;let re,fe;switch(J.overrideType||J.type){case"mousemove":fe=32,J.buttons===void 0?(re=3,J.button!==void 0&&(re=J.button<3?J.button:3)):re=1&J.buttons?0:4&J.buttons?1:2&J.buttons?2:3;break;case"mouseup":fe=0,re=J.button<3?J.button:3;break;case"mousedown":fe=1,re=J.button<3?J.button:3;break;case"wheel":if($.viewport.getLinesScrolled(J)===0)return!1;fe=J.deltaY<0?0:1,re=4;break;default:return!1}return!(fe===void 0||re===void 0||re>4)&&$.coreMouseService.triggerMouseEvent({col:K.col,row:K.row,x:K.x,y:K.y,button:re,action:fe,ctrl:J.ctrlKey,alt:J.altKey,shift:J.shiftKey})}const ee={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ue={mouseup:J=>(Q(J),J.buttons||(this._document.removeEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.removeEventListener("mousemove",ee.mousedrag)),this.cancel(J)),wheel:J=>(Q(J),this.cancel(J,!0)),mousedrag:J=>{J.buttons&&Q(J)},mousemove:J=>{J.buttons||Q(J)}};this.register(this.coreMouseService.onProtocolChange(J=>{J?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(J)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&J?ee.mousemove||(Y.addEventListener("mousemove",ue.mousemove),ee.mousemove=ue.mousemove):(Y.removeEventListener("mousemove",ee.mousemove),ee.mousemove=null),16&J?ee.wheel||(Y.addEventListener("wheel",ue.wheel,{passive:!1}),ee.wheel=ue.wheel):(Y.removeEventListener("wheel",ee.wheel),ee.wheel=null),2&J?ee.mouseup||(Y.addEventListener("mouseup",ue.mouseup),ee.mouseup=ue.mouseup):(this._document.removeEventListener("mouseup",ee.mouseup),Y.removeEventListener("mouseup",ee.mouseup),ee.mouseup=null),4&J?ee.mousedrag||(ee.mousedrag=ue.mousedrag):(this._document.removeEventListener("mousemove",ee.mousedrag),ee.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,f.addDisposableDomListener)(Y,"mousedown",J=>{if(J.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(J))return Q(J),ee.mouseup&&this._document.addEventListener("mouseup",ee.mouseup),ee.mousedrag&&this._document.addEventListener("mousemove",ee.mousedrag),this.cancel(J)})),this.register((0,f.addDisposableDomListener)(Y,"wheel",J=>{if(!ee.wheel){if(!this.buffer.hasScrollback){const K=this.viewport.getLinesScrolled(J);if(K===0)return;const re=H.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(J.deltaY<0?"A":"B");let fe="";for(let me=0;me<Math.abs(K);me++)fe+=re;return this.coreService.triggerDataEvent(fe,!0),this.cancel(J,!0)}return this.viewport.handleWheel(J)?this.cancel(J):void 0}},{passive:!1})),this.register((0,f.addDisposableDomListener)(Y,"touchstart",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(J),this.cancel(J)},{passive:!0})),this.register((0,f.addDisposableDomListener)(Y,"touchmove",J=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(J)?void 0:this.cancel(J)},{passive:!1}))}refresh($,Y){var Q;(Q=this._renderService)===null||Q===void 0||Q.refreshRows($,Y)}updateCursorStyle($){var Y;!((Y=this._selectionService)===null||Y===void 0)&&Y.shouldColumnSelect($)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines($,Y,Q=0){var ee;Q===1?(super.scrollLines($,Y,Q),this.refresh(0,this.rows-1)):(ee=this.viewport)===null||ee===void 0||ee.scrollLines($)}paste($){(0,c.paste)($,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler($){this._customKeyEventHandler=$}registerLinkProvider($){return this.linkifier2.registerLinkProvider($)}registerCharacterJoiner($){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const Y=this._characterJoinerService.register($);return this.refresh(0,this.rows-1),Y}deregisterCharacterJoiner($){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister($)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker($){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+$)}registerDecoration($){return this._decorationService.registerDecoration($)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select($,Y,Q){this._selectionService.setSelection($,Y,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var $;($=this._selectionService)===null||$===void 0||$.clearSelection()}selectAll(){var $;($=this._selectionService)===null||$===void 0||$.selectAll()}selectLines($,Y){var Q;(Q=this._selectionService)===null||Q===void 0||Q.selectLines($,Y)}_keyDown($){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler($)===!1)return!1;const Y=this.browser.isMac&&this.options.macOptionIsMeta&&$.altKey;if(!Y&&!this._compositionHelper.keydown($))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;Y||$.key!=="Dead"&&$.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Q=(0,R.evaluateKeyboardEvent)($,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle($),Q.type===3||Q.type===2){const ee=this.rows-1;return this.scrollLines(Q.type===2?-ee:ee),this.cancel($,!0)}return Q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,$)||(Q.cancel&&this.cancel($,!0),!Q.key||!!($.key&&!$.ctrlKey&&!$.altKey&&!$.metaKey&&$.key.length===1&&$.key.charCodeAt(0)>=65&&$.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==H.C0.ETX&&Q.key!==H.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:$}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||$.altKey||$.ctrlKey?this.cancel($,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift($,Y){const Q=$.isMac&&!this.options.macOptionIsMeta&&Y.altKey&&!Y.ctrlKey&&!Y.metaKey||$.isWindows&&Y.altKey&&Y.ctrlKey&&!Y.metaKey||$.isWindows&&Y.getModifierState("AltGraph");return Y.type==="keypress"?Q:Q&&(!Y.keyCode||Y.keyCode>47)}_keyUp($){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler($)===!1||(function(Y){return Y.keyCode===16||Y.keyCode===17||Y.keyCode===18}($)||this.focus(),this.updateCursorStyle($),this._keyPressHandled=!1)}_keyPress($){let Y;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler($)===!1)return!1;if(this.cancel($),$.charCode)Y=$.charCode;else if($.which===null||$.which===void 0)Y=$.keyCode;else{if($.which===0||$.charCode===0)return!1;Y=$.which}return!(!Y||($.altKey||$.ctrlKey||$.metaKey)&&!this._isThirdLevelShift(this.browser,$)||(Y=String.fromCharCode(Y),this._onKey.fire({key:Y,domEvent:$}),this._showCursor(),this.coreService.triggerDataEvent(Y,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent($){if($.data&&$.inputType==="insertText"&&(!$.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const Y=$.data;return this.coreService.triggerDataEvent(Y,!0),this.cancel($),!0}return!1}resize($,Y){$!==this.cols||Y!==this.rows?super.resize($,Y):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize($,Y){var Q,ee;(Q=this._charSizeService)===null||Q===void 0||Q.measure(),(ee=this.viewport)===null||ee===void 0||ee.syncScrollArea(!0)}clear(){var $;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let Y=1;Y<this.rows;Y++)this.buffer.lines.push(this.buffer.getBlankLine(U.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),($=this.viewport)===null||$===void 0||$.reset(),this.refresh(0,this.rows-1)}}reset(){var $,Y;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),($=this._selectionService)===null||$===void 0||$.reset(),this._decorationService.reset(),(Y=this.viewport)===null||Y===void 0||Y.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var $;($=this._renderService)===null||$===void 0||$.clearTextureAtlas()}_reportFocus(){var $;!(($=this.element)===null||$===void 0)&&$.classList.contains("focus")?this.coreService.triggerDataEvent(H.C0.ESC+"[I"):this.coreService.triggerDataEvent(H.C0.ESC+"[O")}_reportWindowsOptions($){if(this._renderService)switch($){case G.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const Y=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[4;${Q};${Y}t`);break;case G.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const ee=this._renderService.dimensions.css.cell.width.toFixed(0),ue=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[6;${ue};${ee}t`)}}cancel($,Y){if(this.options.cancelEvents||Y)return $.preventDefault(),$.stopPropagation(),!1}}a.Terminal=ae},9924:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0,a.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,f){this._rowCount=f,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const h=d-this._lastRefreshMs,g=this._debounceThresholdMS-h;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(o,a,l){var c=this&&this.__decorate||function(p,y,_,b){var S,C=arguments.length,M=C<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(p,y,_,b);else for(var T=p.length-1;T>=0;T--)(S=p[T])&&(M=(C<3?S(M):C>3?S(y,_,M):S(y,_))||M);return C>3&&M&&Object.defineProperty(y,_,M),M},f=this&&this.__param||function(p,y){return function(_,b){y(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;const d=l(3656),h=l(4725),g=l(8460),v=l(844),x=l(2585);let m=a.Viewport=class extends v.Disposable{constructor(p,y,_,b,S,C,M,T){super(),this._viewportElement=p,this._scrollArea=y,this._bufferService=_,this._optionsService=b,this._charSizeService=S,this._renderService=C,this._coreBrowserService=M,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(P=>this._activeBuffer=P.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(P=>this._renderDimensions=P)),this._handleThemeChange(T.colors),this.register(T.onChangeColors(P=>this._handleThemeChange(P))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(p){this._viewportElement.style.backgroundColor=p.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(p){if(p)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const y=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==y&&(this._lastRecordedBufferHeight=y,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const p=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==p&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=p),this._refreshAnimationFrame=null}syncScrollArea(p=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(p)}_handleScroll(p){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const y=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const p=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(p*(this._smoothScrollState.target-this._smoothScrollState.origin)),p<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(p,y){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(y<0&&this._viewportElement.scrollTop!==0||y>0&&_<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)}handleWheel(p){const y=this._getPixelsScrolled(p);return y!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+y:this._smoothScrollState.target+=y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=y,this._bubbleScroll(p,y))}scrollLines(p){if(p!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const y=p*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!1})}_getPixelsScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let y=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?y*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._currentRowHeight*this._bufferService.rows),y}getBufferElements(p,y){var _;let b,S="";const C=[],M=y??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let P=p;P<M;P++){const N=T.get(P);if(!N)continue;const k=(_=T.get(P+1))===null||_===void 0?void 0:_.isWrapped;if(S+=N.translateToString(!k),!k||P===T.length-1){const D=document.createElement("div");D.textContent=S,C.push(D),S.length>0&&(b=D),S=""}}return{bufferElements:C,cursorElement:b}}getLinesScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let y=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(y/=this._currentRowHeight+0,this._wheelPartialScroll+=y,y=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._bufferService.rows),y}_applyScrollModifier(p,y){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&y.altKey||_==="ctrl"&&y.ctrlKey||_==="shift"&&y.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(p){this._lastTouchY=p.touches[0].pageY}handleTouchMove(p){const y=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,y!==0&&(this._viewportElement.scrollTop+=y,this._bubbleScroll(p,y))}};a.Viewport=m=c([f(2,x.IBufferService),f(3,x.IOptionsService),f(4,h.ICharSizeService),f(5,h.IRenderService),f(6,h.ICoreBrowserService),f(7,h.IThemeService)],m)},3107:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,y,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,y,C):b(p,y))||C);return S>3&&C&&Object.defineProperty(p,y,C),C},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferDecorationRenderer=void 0;const d=l(3656),h=l(4725),g=l(844),v=l(2585);let x=a.BufferDecorationRenderer=class extends g.Disposable{constructor(m,p,y,_){super(),this._screenElement=m,this._bufferService=p,this._decorationService=y,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(b=>this._removeDecoration(b))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var p,y;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((p=m==null?void 0:m.options)===null||p===void 0?void 0:p.layer)==="top"),_.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(y=m.options.x)!==null&&y!==void 0?y:0;return b&&b>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(m,_),_}_refreshStyle(m){const p=m.marker.line-this._bufferService.buffers.active.ydisp;if(p<0||p>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let y=this._decorationElements.get(m);y||(y=this._createElement(m),m.element=y,this._decorationElements.set(m,y),this._container.appendChild(y),m.onDispose(()=>{this._decorationElements.delete(m),y.remove()})),y.style.top=p*this._renderService.dimensions.css.cell.height+"px",y.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(y)}}_refreshXPosition(m,p=m.element){var y;if(!p)return;const _=(y=m.options.x)!==null&&y!==void 0?y:0;(m.options.anchor||"left")==="right"?p.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":p.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var p;(p=this._decorationElements.get(m))===null||p===void 0||p.remove(),this._decorationElements.delete(m),m.dispose()}};a.BufferDecorationRenderer=x=c([f(1,v.IBufferService),f(2,v.IDecorationService),f(3,h.IRenderService)],x)},5871:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorZoneStore=void 0,a.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,f){return c>=l.startBufferLine-this._linePadding[f||"full"]&&c<=l.endBufferLine+this._linePadding[f||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(o,a,l){var c=this&&this.__decorate||function(b,S,C,M){var T,P=arguments.length,N=P<3?S:M===null?M=Object.getOwnPropertyDescriptor(S,C):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,S,C,M);else for(var k=b.length-1;k>=0;k--)(T=b[k])&&(N=(P<3?T(N):P>3?T(S,C,N):T(S,C))||N);return P>3&&N&&Object.defineProperty(S,C,N),N},f=this&&this.__param||function(b,S){return function(C,M){S(C,M,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OverviewRulerRenderer=void 0;const d=l(5871),h=l(3656),g=l(4725),v=l(844),x=l(2585),m={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0};let _=a.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,S,C,M,T,P,N){var k;super(),this._viewportElement=b,this._screenElement=S,this._bufferService=C,this._decorationService=M,this._renderService=T,this._optionsService=P,this._coreBrowseService=N,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(k=this._viewportElement.parentElement)===null||k===void 0||k.insertBefore(this._canvas,this._viewportElement);const D=this._canvas.getContext("2d");if(!D)throw new Error("Ctx cannot be null");this._ctx=D,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)(()=>{var j;(j=this._canvas)===null||j===void 0||j.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,h.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),S=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=b,p.center=S,p.right=b,this._refreshDrawHeightConstants(),y.full=0,y.left=0,y.center=p.left,y.right=p.left+p.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,S=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);m.left=S,m.center=S,m.right=S}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const S of this._decorationService.decorations)this._colorZoneStore.addDecoration(S);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const S of b)S.position!=="full"&&this._renderColorZone(S);for(const S of b)S.position==="full"&&this._renderColorZone(S);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(y[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-m[b.position||"full"]/2),p[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[b.position||"full"]))}_queueRefresh(b,S){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=S||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a.OverviewRulerRenderer=_=c([f(2,x.IBufferService),f(3,x.IDecorationService),f(4,g.IRenderService),f(5,x.IOptionsService),f(6,g.ICoreBrowserService)],_)},2950:function(o,a,l){var c=this&&this.__decorate||function(x,m,p,y){var _,b=arguments.length,S=b<3?m:y===null?y=Object.getOwnPropertyDescriptor(m,p):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")S=Reflect.decorate(x,m,p,y);else for(var C=x.length-1;C>=0;C--)(_=x[C])&&(S=(b<3?_(S):b>3?_(m,p,S):_(m,p))||S);return b>3&&S&&Object.defineProperty(m,p,S),S},f=this&&this.__param||function(x,m){return function(p,y){m(p,y,x)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;const d=l(4725),h=l(2585),g=l(2584);let v=a.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,m,p,y,_,b){this._textarea=x,this._compositionView=m,this._bufferService=p,this._optionsService=y,this._coreService=_,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229||x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,p=m.replace(x,"");this._dataAlreadySent=p,m.length>x.length?this._coreService.triggerDataEvent(p,!0):m.length<x.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):m.length===x.length&&m!==x&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,y=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=y+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=y+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};a.CompositionHelper=v=c([f(2,h.IBufferService),f(3,h.IOptionsService),f(4,h.ICoreService),f(5,d.IRenderService)],v)},9806:(o,a)=>{function l(c,f,d){const h=d.getBoundingClientRect(),g=c.getComputedStyle(d),v=parseInt(g.getPropertyValue("padding-left")),x=parseInt(g.getPropertyValue("padding-top"));return[f.clientX-h.left-v,f.clientY-h.top-x]}Object.defineProperty(a,"__esModule",{value:!0}),a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=l,a.getCoords=function(c,f,d,h,g,v,x,m,p){if(!v)return;const y=l(c,f,d);return y?(y[0]=Math.ceil((y[0]+(p?x/2:0))/x),y[1]=Math.ceil(y[1]/m),y[0]=Math.min(Math.max(y[0],1),h+(p?1:0)),y[1]=Math.min(Math.max(y[1],1),g),y):void 0}},9504:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;const c=l(2584);function f(m,p,y,_){const b=m-d(m,y),S=p-d(p,y),C=Math.abs(b-S)-function(M,T,P){let N=0;const k=M-d(M,P),D=T-d(T,P);for(let j=0;j<Math.abs(k-D);j++){const F=h(M,T)==="A"?-1:1,z=P.buffer.lines.get(k+F*j);z!=null&&z.isWrapped&&N++}return N}(m,p,y);return x(C,v(h(m,p),_))}function d(m,p){let y=0,_=p.buffer.lines.get(m),b=_==null?void 0:_.isWrapped;for(;b&&m>=0&&m<p.rows;)y++,_=p.buffer.lines.get(--m),b=_==null?void 0:_.isWrapped;return y}function h(m,p){return m>p?"A":"B"}function g(m,p,y,_,b,S){let C=m,M=p,T="";for(;C!==y||M!==_;)C+=b?1:-1,b&&C>S.cols-1?(T+=S.buffer.translateBufferLineToString(M,!1,m,C),C=0,m=0,M++):!b&&C<0&&(T+=S.buffer.translateBufferLineToString(M,!1,0,m+1),C=S.cols-1,m=C,M--);return T+S.buffer.translateBufferLineToString(M,!1,m,C)}function v(m,p){const y=p?"O":"[";return c.C0.ESC+y+m}function x(m,p){m=Math.floor(m);let y="";for(let _=0;_<m;_++)y+=p;return y}a.moveToCellSequence=function(m,p,y,_){const b=y.buffer.x,S=y.buffer.y;if(!y.buffer.hasScrollback)return function(T,P,N,k,D,j){return f(P,k,D,j).length===0?"":x(g(T,P,T,P-d(P,D),!1,D).length,v("D",j))}(b,S,0,p,y,_)+f(S,p,y,_)+function(T,P,N,k,D,j){let F;F=f(P,k,D,j).length>0?k-d(k,D):P;const z=k,U=function(H,R,I,B,W,G){let X;return X=f(I,B,W,G).length>0?B-d(B,W):R,H<I&&X<=B||H>=I&&X<B?"C":"D"}(T,P,N,k,D,j);return x(g(T,F,N,z,U==="C",D).length,v(U,j))}(b,S,m,p,y,_);let C;if(S===p)return C=b>m?"D":"C",x(Math.abs(b-m),v(C,_));C=S>p?"D":"C";const M=Math.abs(S-p);return x(function(T,P){return P.cols-T}(S>p?m:b,y)+(M-1)*y.cols+1+((S>p?b:m)-1),v(C,_))}},1296:function(o,a,l){var c=this&&this.__decorate||function(D,j,F,z){var U,H=arguments.length,R=H<3?j:z===null?z=Object.getOwnPropertyDescriptor(j,F):z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(D,j,F,z);else for(var I=D.length-1;I>=0;I--)(U=D[I])&&(R=(H<3?U(R):H>3?U(j,F,R):U(j,F))||R);return H>3&&R&&Object.defineProperty(j,F,R),R},f=this&&this.__param||function(D,j){return function(F,z){j(F,z,D)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;const d=l(3787),h=l(2550),g=l(2223),v=l(6171),x=l(4725),m=l(8055),p=l(8460),y=l(844),_=l(2585),b="xterm-dom-renderer-owner-",S="xterm-rows",C="xterm-fg-",M="xterm-bg-",T="xterm-focus",P="xterm-selection";let N=1,k=a.DomRenderer=class extends y.Disposable{constructor(D,j,F,z,U,H,R,I,B,W){super(),this._element=D,this._screenElement=j,this._viewportElement=F,this._linkifier2=z,this._charSizeService=H,this._optionsService=R,this._bufferService=I,this._coreBrowserService=B,this._themeService=W,this._terminalClass=N++,this._rowElements=[],this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(S),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(P),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,v.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(G=>this._injectCss(G))),this._injectCss(this._themeService.colors),this._rowFactory=U.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(G=>this._handleLinkHover(G))),this.register(this._linkifier2.onHideLinkUnderline(G=>this._handleLinkLeave(G))),this.register((0,y.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new h.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const D=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*D,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*D),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/D),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/D),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const F of this._rowElements)F.style.width=`${this.dimensions.css.canvas.width}px`,F.style.height=`${this.dimensions.css.cell.height}px`,F.style.lineHeight=`${this.dimensions.css.cell.height}px`,F.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const j=`${this._terminalSelector} .${S} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=j,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(D){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let j=`${this._terminalSelector} .${S} { color: ${D.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;j+=`${this._terminalSelector} .${S} .xterm-dim { color: ${m.color.multiplyOpacity(D.foreground,.5).css};}`,j+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,j+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",j+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${D.cursor.css};  color: ${D.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${D.cursor.css}; }}`,j+=`${this._terminalSelector} .${S}.${T} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S}.${T} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-block { background-color: ${D.cursor.css}; color: ${D.cursorAccent.css};}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${D.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${D.cursor.css} inset;}${this._terminalSelector} .${S} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${D.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,j+=`${this._terminalSelector} .${P} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${P} div { position: absolute; background-color: ${D.selectionBackgroundOpaque.css};}${this._terminalSelector} .${P} div { position: absolute; background-color: ${D.selectionInactiveBackgroundOpaque.css};}`;for(const[F,z]of D.ansi.entries())j+=`${this._terminalSelector} .${C}${F} { color: ${z.css}; }${this._terminalSelector} .${C}${F}.xterm-dim { color: ${m.color.multiplyOpacity(z,.5).css}; }${this._terminalSelector} .${M}${F} { background-color: ${z.css}; }`;j+=`${this._terminalSelector} .${C}${g.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(D.background).css}; }${this._terminalSelector} .${C}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(D.background),.5).css}; }${this._terminalSelector} .${M}${g.INVERTED_DEFAULT_COLOR} { background-color: ${D.foreground.css}; }`,this._themeStyleElement.textContent=j}_setDefaultSpacing(){const D=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${D}px`,this._rowFactory.defaultSpacing=D}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(D,j){for(let F=this._rowElements.length;F<=j;F++){const z=document.createElement("div");this._rowContainer.appendChild(z),this._rowElements.push(z)}for(;this._rowElements.length>j;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(D,j){this._refreshRowElements(D,j),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(T)}handleFocus(){this._rowContainer.classList.add(T),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(D,j,F){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(D,j,F),this.renderRows(0,this._bufferService.rows-1),!D||!j)return;const z=D[1]-this._bufferService.buffer.ydisp,U=j[1]-this._bufferService.buffer.ydisp,H=Math.max(z,0),R=Math.min(U,this._bufferService.rows-1);if(H>=this._bufferService.rows||R<0)return;const I=document.createDocumentFragment();if(F){const B=D[0]>j[0];I.appendChild(this._createSelectionElement(H,B?j[0]:D[0],B?D[0]:j[0],R-H+1))}else{const B=z===H?D[0]:0,W=H===U?j[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(H,B,W));const G=R-H-1;if(I.appendChild(this._createSelectionElement(H+1,0,this._bufferService.cols,G)),H!==R){const X=U===R?j[0]:this._bufferService.cols;I.appendChild(this._createSelectionElement(R,0,X))}}this._selectionContainer.appendChild(I)}_createSelectionElement(D,j,F,z=1){const U=document.createElement("div");return U.style.height=z*this.dimensions.css.cell.height+"px",U.style.top=D*this.dimensions.css.cell.height+"px",U.style.left=j*this.dimensions.css.cell.width+"px",U.style.width=this.dimensions.css.cell.width*(F-j)+"px",U}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const D of this._rowElements)D.replaceChildren()}renderRows(D,j){const F=this._bufferService.buffer,z=F.ybase+F.y,U=Math.min(F.x,this._bufferService.cols-1),H=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,I=this._optionsService.rawOptions.cursorInactiveStyle;for(let B=D;B<=j;B++){const W=B+F.ydisp,G=this._rowElements[B],X=F.lines.get(W);if(!G||!X)break;G.replaceChildren(...this._rowFactory.createRow(X,W,W===z,R,I,U,H,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!0)}_handleLinkLeave(D){this._setCellUnderline(D.x1,D.x2,D.y1,D.y2,D.cols,!1)}_setCellUnderline(D,j,F,z,U,H){F<0&&(D=0),z<0&&(j=0);const R=this._bufferService.rows-1;F=Math.max(Math.min(F,R),0),z=Math.max(Math.min(z,R),0),U=Math.min(U,this._bufferService.cols);const I=this._bufferService.buffer,B=I.ybase+I.y,W=Math.min(I.x,U-1),G=this._optionsService.rawOptions.cursorBlink,X=this._optionsService.rawOptions.cursorStyle,ne=this._optionsService.rawOptions.cursorInactiveStyle;for(let ae=F;ae<=z;++ae){const se=ae+I.ydisp,$=this._rowElements[ae],Y=I.lines.get(se);if(!$||!Y)break;$.replaceChildren(...this._rowFactory.createRow(Y,se,se===B,X,ne,W,G,this.dimensions.css.cell.width,this._widthCache,H?ae===F?D:0:-1,H?(ae===z?j:U)-1:-1))}}};a.DomRenderer=k=c([f(4,_.IInstantiationService),f(5,x.ICharSizeService),f(6,_.IOptionsService),f(7,_.IBufferService),f(8,x.ICoreBrowserService),f(9,x.IThemeService)],k)},3787:function(o,a,l){var c=this&&this.__decorate||function(C,M,T,P){var N,k=arguments.length,D=k<3?M:P===null?P=Object.getOwnPropertyDescriptor(M,T):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(C,M,T,P);else for(var j=C.length-1;j>=0;j--)(N=C[j])&&(D=(k<3?N(D):k>3?N(M,T,D):N(M,T))||D);return k>3&&D&&Object.defineProperty(M,T,D),D},f=this&&this.__param||function(C,M){return function(T,P){M(T,P,C)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=void 0;const d=l(2223),h=l(643),g=l(511),v=l(2585),x=l(8055),m=l(4725),p=l(4269),y=l(6171),_=l(3734);let b=a.DomRendererRowFactory=class{constructor(C,M,T,P,N,k,D){this._document=C,this._characterJoinerService=M,this._optionsService=T,this._coreBrowserService=P,this._coreService=N,this._decorationService=k,this._themeService=D,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(C,M,T){this._selectionStart=C,this._selectionEnd=M,this._columnSelectMode=T}createRow(C,M,T,P,N,k,D,j,F,z,U){const H=[],R=this._characterJoinerService.getJoinedCharacters(M),I=this._themeService.colors;let B,W=C.getNoBgTrimmedLength();T&&W<k+1&&(W=k+1);let G=0,X="",ne=0,ae=0,se=0,$=!1,Y=0,Q=!1,ee=0;const ue=[],J=z!==-1&&U!==-1;for(let K=0;K<W;K++){C.loadCell(K,this._workCell);let re=this._workCell.getWidth();if(re===0)continue;let fe=!1,me=K,pe=this._workCell;if(R.length>0&&K===R[0][0]){fe=!0;const qe=R.shift();pe=new p.JoinedCellData(this._workCell,C.translateToString(!0,qe[0],qe[1]),qe[1]-qe[0]),me=qe[1]-1,re=pe.getWidth()}const Ae=this._isCellInSelection(K,M),Ce=T&&K===k,De=J&&K>=z&&K<=U;let ot=!1;this._decorationService.forEachDecorationAtCell(K,M,void 0,qe=>{ot=!0});let nt=pe.getChars()||h.WHITESPACE_CELL_CHAR;if(nt===" "&&(pe.isUnderline()||pe.isOverline())&&(nt=""),ee=re*j-F.get(nt,pe.isBold(),pe.isItalic()),B){if(G&&(Ae&&Q||!Ae&&!Q&&pe.bg===ne)&&(Ae&&Q&&I.selectionForeground||pe.fg===ae)&&pe.extended.ext===se&&De===$&&ee===Y&&!Ce&&!fe&&!ot){X+=nt,G++;continue}G&&(B.textContent=X),B=this._document.createElement("span"),G=0,X=""}else B=this._document.createElement("span");if(ne=pe.bg,ae=pe.fg,se=pe.extended.ext,$=De,Y=ee,Q=Ae,fe&&k>=K&&k<=me&&(k=K),!this._coreService.isCursorHidden&&Ce){if(ue.push("xterm-cursor"),this._coreBrowserService.isFocused)D&&ue.push("xterm-cursor-blink"),ue.push(P==="bar"?"xterm-cursor-bar":P==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(N)switch(N){case"outline":ue.push("xterm-cursor-outline");break;case"block":ue.push("xterm-cursor-block");break;case"bar":ue.push("xterm-cursor-bar");break;case"underline":ue.push("xterm-cursor-underline")}}if(pe.isBold()&&ue.push("xterm-bold"),pe.isItalic()&&ue.push("xterm-italic"),pe.isDim()&&ue.push("xterm-dim"),X=pe.isInvisible()?h.WHITESPACE_CELL_CHAR:pe.getChars()||h.WHITESPACE_CELL_CHAR,pe.isUnderline()&&(ue.push(`xterm-underline-${pe.extended.underlineStyle}`),X===" "&&(X=""),!pe.isUnderlineColorDefault()))if(pe.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(pe.getUnderlineColor()).join(",")})`;else{let qe=pe.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&pe.isBold()&&qe<8&&(qe+=8),B.style.textDecorationColor=I.ansi[qe].css}pe.isOverline()&&(ue.push("xterm-overline"),X===" "&&(X="")),pe.isStrikethrough()&&ue.push("xterm-strikethrough"),De&&(B.style.textDecoration="underline");let ie=pe.getFgColor(),Z=pe.getFgColorMode(),ve=pe.getBgColor(),Se=pe.getBgColorMode();const Ie=!!pe.isInverse();if(Ie){const qe=ie;ie=ve,ve=qe;const He=Z;Z=Se,Se=He}let Me,ct,Ve,lt=!1;switch(this._decorationService.forEachDecorationAtCell(K,M,void 0,qe=>{qe.options.layer!=="top"&&lt||(qe.backgroundColorRGB&&(Se=50331648,ve=qe.backgroundColorRGB.rgba>>8&16777215,Me=qe.backgroundColorRGB),qe.foregroundColorRGB&&(Z=50331648,ie=qe.foregroundColorRGB.rgba>>8&16777215,ct=qe.foregroundColorRGB),lt=qe.options.layer==="top")}),!lt&&Ae&&(Me=this._coreBrowserService.isFocused?I.selectionBackgroundOpaque:I.selectionInactiveBackgroundOpaque,ve=Me.rgba>>8&16777215,Se=50331648,lt=!0,I.selectionForeground&&(Z=50331648,ie=I.selectionForeground.rgba>>8&16777215,ct=I.selectionForeground)),lt&&ue.push("xterm-decoration-top"),Se){case 16777216:case 33554432:Ve=I.ansi[ve],ue.push(`xterm-bg-${ve}`);break;case 50331648:Ve=x.rgba.toColor(ve>>16,ve>>8&255,255&ve),this._addStyle(B,`background-color:#${S((ve>>>0).toString(16),"0",6)}`);break;default:Ie?(Ve=I.foreground,ue.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):Ve=I.background}switch(Me||pe.isDim()&&(Me=x.color.multiplyOpacity(Ve,.5)),Z){case 16777216:case 33554432:pe.isBold()&&ie<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(ie+=8),this._applyMinimumContrast(B,Ve,I.ansi[ie],pe,Me,void 0)||ue.push(`xterm-fg-${ie}`);break;case 50331648:const qe=x.rgba.toColor(ie>>16&255,ie>>8&255,255&ie);this._applyMinimumContrast(B,Ve,qe,pe,Me,ct)||this._addStyle(B,`color:#${S(ie.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,Ve,I.foreground,pe,Me,void 0)||Ie&&ue.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}ue.length&&(B.className=ue.join(" "),ue.length=0),Ce||fe||ot?B.textContent=X:G++,ee!==this.defaultSpacing&&(B.style.letterSpacing=`${ee}px`),H.push(B),K=me}return B&&G&&(B.textContent=X),H}_applyMinimumContrast(C,M,T,P,N,k){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,y.excludeFromContrastRatioDemands)(P.getCode()))return!1;const D=this._getContrastCache(P);let j;if(N||k||(j=D.getColor(M.rgba,T.rgba)),j===void 0){const F=this._optionsService.rawOptions.minimumContrastRatio/(P.isDim()?2:1);j=x.color.ensureContrastRatio(N||M,k||T,F),D.setColor((N||M).rgba,(k||T).rgba,j??null)}return!!j&&(this._addStyle(C,`color:${j.css}`),!0)}_getContrastCache(C){return C.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(C,M){C.setAttribute("style",`${C.getAttribute("style")||""}${M};`)}_isCellInSelection(C,M){const T=this._selectionStart,P=this._selectionEnd;return!(!T||!P)&&(this._columnSelectMode?T[0]<=P[0]?C>=T[0]&&M>=T[1]&&C<P[0]&&M<=P[1]:C<T[0]&&M>=T[1]&&C>=P[0]&&M<=P[1]:M>T[1]&&M<P[1]||T[1]===P[1]&&M===T[1]&&C>=T[0]&&C<P[0]||T[1]<P[1]&&M===P[1]&&C<P[0]||T[1]<P[1]&&M===T[1]&&C>=T[0])}};function S(C,M,T){for(;C.length<T;)C=M+C;return C}a.DomRendererRowFactory=b=c([f(1,m.ICharacterJoinerService),f(2,v.IOptionsService),f(3,m.ICoreBrowserService),f(4,v.ICoreService),f(5,v.IDecorationService),f(6,m.IThemeService)],b)},2550:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WidthCache=void 0,a.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=l.createElement("span"),f=l.createElement("span");f.style.fontWeight="bold";const d=l.createElement("span");d.style.fontStyle="italic";const h=l.createElement("span");h.style.fontWeight="bold",h.style.fontStyle="italic",this._measureElements=[c,f,d,h],this._container.appendChild(c),this._container.appendChild(f),this._container.appendChild(d),this._container.appendChild(h),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,f,d){l===this._font&&c===this._fontSize&&f===this._weight&&d===this._weightBold||(this._font=l,this._fontSize=c,this._weight=f,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${f}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${f}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(l,c,f){let d=0;if(!c&&!f&&l.length===1&&(d=l.charCodeAt(0))<256)return this._flat[d]!==-9999?this._flat[d]:this._flat[d]=this._measure(l,0);let h=l;c&&(h+="B"),f&&(h+="I");let g=this._holey.get(h);if(g===void 0){let v=0;c&&(v|=1),f&&(v|=2),g=this._measure(l,v),this._holey.set(h,g)}return g}_measure(l,c){const f=this._measureElements[c];return f.textContent=l.repeat(32),f.offsetWidth/32}}},2223:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(o,a)=>{function l(c){return 57508<=c&&c<=57558}Object.defineProperty(a,"__esModule",{value:!0}),a.createRenderDimensions=a.excludeFromContrastRatioDemands=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},a.isPowerlineGlyph=l,a.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},a.excludeFromContrastRatioDemands=function(c){return l(c)||function(f){return 9472<=f&&f<=9631}(c)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0,a.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,y,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,y,C):b(p,y))||C);return S>3&&C&&Object.defineProperty(p,y,C),C},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;const d=l(2585),h=l(8460),g=l(844);let v=a.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,p,y){super(),this._optionsService=y,this.width=0,this.height=0,this._onCharSizeChange=this.register(new h.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(m,p,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};a.CharSizeService=v=c([f(2,d.IOptionsService)],v);class x{constructor(p,y,_){this._document=p,this._parentElement=y,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const p={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return p.width!==0&&p.height!==0&&(this._result.width=p.width/32,this._result.height=Math.ceil(p.height)),this._result}}},4269:function(o,a,l){var c=this&&this.__decorate||function(p,y,_,b){var S,C=arguments.length,M=C<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(p,y,_,b);else for(var T=p.length-1;T>=0;T--)(S=p[T])&&(M=(C<3?S(M):C>3?S(y,_,M):S(y,_))||M);return C>3&&M&&Object.defineProperty(y,_,M),M},f=this&&this.__param||function(p,y){return function(_,b){y(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const d=l(3734),h=l(643),g=l(511),v=l(2585);class x extends d.AttributeData{constructor(y,_,b){super(),this.content=0,this.combinedData="",this.fg=y.fg,this.bg=y.bg,this.combinedData=_,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(y){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=x;let m=a.CharacterJoinerService=class Zle{constructor(y){this._bufferService=y,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(y){const _={id:this._nextCharacterJoinerId++,handler:y};return this._characterJoiners.push(_),_.id}deregister(y){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===y)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(y){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(y);if(!_||_.length===0)return[];const b=[],S=_.translateToString(!0);let C=0,M=0,T=0,P=_.getFg(0),N=_.getBg(0);for(let k=0;k<_.getTrimmedLength();k++)if(_.loadCell(k,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==P||this._workCell.bg!==N){if(k-C>1){const D=this._getJoinedRanges(S,T,M,_,C);for(let j=0;j<D.length;j++)b.push(D[j])}C=k,T=M,P=this._workCell.fg,N=this._workCell.bg}M+=this._workCell.getChars().length||h.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-C>1){const k=this._getJoinedRanges(S,T,M,_,C);for(let D=0;D<k.length;D++)b.push(k[D])}return b}_getJoinedRanges(y,_,b,S,C){const M=y.substring(_,b);let T=[];try{T=this._characterJoiners[0].handler(M)}catch(P){console.error(P)}for(let P=1;P<this._characterJoiners.length;P++)try{const N=this._characterJoiners[P].handler(M);for(let k=0;k<N.length;k++)Zle._mergeRanges(T,N[k])}catch(N){console.error(N)}return this._stringRangesToCellRanges(T,S,C),T}_stringRangesToCellRanges(y,_,b){let S=0,C=!1,M=0,T=y[S];if(T){for(let P=b;P<this._bufferService.cols;P++){const N=_.getWidth(P),k=_.getString(P).length||h.WHITESPACE_CELL_CHAR.length;if(N!==0){if(!C&&T[0]<=M&&(T[0]=P,C=!0),T[1]<=M){if(T[1]=P,T=y[++S],!T)break;T[0]<=M?(T[0]=P,C=!0):C=!1}M+=k}}T&&(T[1]=this._bufferService.cols)}}static _mergeRanges(y,_){let b=!1;for(let S=0;S<y.length;S++){const C=y[S];if(b){if(_[1]<=C[0])return y[S-1][1]=_[1],y;if(_[1]<=C[1])return y[S-1][1]=Math.max(_[1],C[1]),y.splice(S,1),y;y.splice(S,1),S--}else{if(_[1]<=C[0])return y.splice(S,0,_),y;if(_[1]<=C[1])return C[0]=Math.min(_[0],C[0]),y;_[0]<C[1]&&(C[0]=Math.min(_[0],C[0]),b=!0)}}return b?y[y.length-1][1]=_[1]:y.push(_),y}};a.CharacterJoinerService=m=c([f(0,v.IBufferService)],m)},5114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0,a.CoreBrowserService=class{constructor(l,c){this._textarea=l,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(o,a,l){var c=this&&this.__decorate||function(v,x,m,p){var y,_=arguments.length,b=_<3?x:p===null?p=Object.getOwnPropertyDescriptor(x,m):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,x,m,p);else for(var S=v.length-1;S>=0;S--)(y=v[S])&&(b=(_<3?y(b):_>3?y(x,m,b):y(x,m))||b);return _>3&&b&&Object.defineProperty(x,m,b),b},f=this&&this.__param||function(v,x){return function(m,p){x(m,p,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;const d=l(4725),h=l(9806);let g=a.MouseService=class{constructor(v,x){this._renderService=v,this._charSizeService=x}getCoords(v,x,m,p,y){return(0,h.getCoords)(window,v,x,m,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,y)}getMouseReportCoords(v,x){const m=(0,h.getCoordsRelativeToElement)(window,v,x);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};a.MouseService=g=c([f(0,d.IRenderService),f(1,d.ICharSizeService)],g)},3230:function(o,a,l){var c=this&&this.__decorate||function(b,S,C,M){var T,P=arguments.length,N=P<3?S:M===null?M=Object.getOwnPropertyDescriptor(S,C):M;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,S,C,M);else for(var k=b.length-1;k>=0;k--)(T=b[k])&&(N=(P<3?T(N):P>3?T(S,C,N):T(S,C))||N);return P>3&&N&&Object.defineProperty(S,C,N),N},f=this&&this.__param||function(b,S){return function(C,M){S(C,M,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;const d=l(3656),h=l(6193),g=l(5596),v=l(4725),x=l(8460),m=l(844),p=l(7226),y=l(2585);let _=a.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,S,C,M,T,P,N,k){if(super(),this._rowCount=b,this._charSizeService=M,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new p.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer(N.window,(D,j)=>this._renderRows(D,j)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(P.onResize(()=>this._fullRefresh())),this.register(P.buffers.onBufferActivate(()=>{var D;return(D=this._renderer.value)===null||D===void 0?void 0:D.clear()})),this.register(C.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(T.onDecorationRegistered(()=>this._fullRefresh())),this.register(T.onDecorationRemoved(()=>this._fullRefresh())),this.register(C.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(P.cols,P.rows),this._fullRefresh()})),this.register(C.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(P.buffer.y,P.buffer.y,!0))),this.register((0,d.addDisposableDomListener)(N.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(k.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in N.window){const D=new N.window.IntersectionObserver(j=>this._handleIntersectionChange(j[j.length-1]),{threshold:0});D.observe(S),this.register({dispose:()=>D.disconnect()})}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,S,C=!1){this._isPaused?this._needsFullRefresh=!0:(C||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,S,this._rowCount))}_renderRows(b,S){this._renderer.value&&(b=Math.min(b,this._rowCount-1),S=Math.min(S,this._rowCount-1),this._renderer.value.renderRows(b,S),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:S}),this._onRender.fire({start:b,end:S}),this._isNextRenderRedrawOnly=!0)}resize(b,S){this._rowCount=S,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value.onRequestRedraw(S=>this.refreshRows(S.start,S.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,S;this._renderer.value&&((S=(b=this._renderer.value).clearTextureAtlas)===null||S===void 0||S.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,S){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(b,S)):this._renderer.value.handleResize(b,S),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,S,C){var M;this._selectionState.start=b,this._selectionState.end=S,this._selectionState.columnSelectMode=C,(M=this._renderer.value)===null||M===void 0||M.handleSelectionChanged(b,S,C)}handleCursorMove(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)===null||b===void 0||b.clear()}};a.RenderService=_=c([f(2,y.IOptionsService),f(3,v.ICharSizeService),f(4,y.IDecorationService),f(5,y.IBufferService),f(6,v.ICoreBrowserService),f(7,v.IThemeService)],_)},9312:function(o,a,l){var c=this&&this.__decorate||function(T,P,N,k){var D,j=arguments.length,F=j<3?P:k===null?k=Object.getOwnPropertyDescriptor(P,N):k;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(T,P,N,k);else for(var z=T.length-1;z>=0;z--)(D=T[z])&&(F=(j<3?D(F):j>3?D(P,N,F):D(P,N))||F);return j>3&&F&&Object.defineProperty(P,N,F),F},f=this&&this.__param||function(T,P){return function(N,k){P(N,k,T)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;const d=l(9806),h=l(9504),g=l(456),v=l(4725),x=l(8460),m=l(844),p=l(6114),y=l(4841),_=l(511),b=l(2585),S="",C=new RegExp(S,"g");let M=a.SelectionService=class extends m.Disposable{constructor(T,P,N,k,D,j,F,z,U){super(),this._element=T,this._screenElement=P,this._linkifier=N,this._bufferService=k,this._coreService=D,this._mouseService=j,this._optionsService=F,this._renderService=z,this._coreBrowserService=U,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=H=>this._handleMouseMove(H),this._mouseUpListener=H=>this._handleMouseUp(H),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(H=>this._handleTrim(H)),this.register(this._bufferService.buffers.onBufferActivate(H=>this._handleBufferActivate(H))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!(!T||!P||T[0]===P[0]&&T[1]===P[1])}get selectionText(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;if(!T||!P)return"";const N=this._bufferService.buffer,k=[];if(this._activeSelectionMode===3){if(T[0]===P[0])return"";const D=T[0]<P[0]?T[0]:P[0],j=T[0]<P[0]?P[0]:T[0];for(let F=T[1];F<=P[1];F++){const z=N.translateBufferLineToString(F,!0,D,j);k.push(z)}}else{const D=T[1]===P[1]?P[0]:void 0;k.push(N.translateBufferLineToString(T[1],!0,T[0],D));for(let j=T[1]+1;j<=P[1]-1;j++){const F=N.lines.get(j),z=N.translateBufferLineToString(j,!0);F!=null&&F.isWrapped?k[k.length-1]+=z:k.push(z)}if(T[1]!==P[1]){const j=N.lines.get(P[1]),F=N.translateBufferLineToString(P[1],!0,0,P[0]);j&&j.isWrapped?k[k.length-1]+=F:k.push(F)}}return k.map(D=>D.replace(C," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(T){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&T&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(T){const P=this._getMouseBufferCoords(T),N=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!!(N&&k&&P)&&this._areCoordsInSelection(P,N,k)}isCellInSelection(T,P){const N=this._model.finalSelectionStart,k=this._model.finalSelectionEnd;return!(!N||!k)&&this._areCoordsInSelection([T,P],N,k)}_areCoordsInSelection(T,P,N){return T[1]>P[1]&&T[1]<N[1]||P[1]===N[1]&&T[1]===P[1]&&T[0]>=P[0]&&T[0]<N[0]||P[1]<N[1]&&T[1]===N[1]&&T[0]<N[0]||P[1]<N[1]&&T[1]===P[1]&&T[0]>=P[0]}_selectWordAtCursor(T,P){var N,k;const D=(k=(N=this._linkifier.currentLink)===null||N===void 0?void 0:N.link)===null||k===void 0?void 0:k.range;if(D)return this._model.selectionStart=[D.start.x-1,D.start.y-1],this._model.selectionStartLength=(0,y.getRangeLength)(D,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const j=this._getMouseBufferCoords(T);return!!j&&(this._selectWordAt(j,P),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(T,P){this._model.clearSelection(),T=Math.max(T,0),P=Math.min(P,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,T],this._model.selectionEnd=[this._bufferService.cols,P],this.refresh(),this._onSelectionChange.fire()}_handleTrim(T){this._model.handleTrim(T)&&this.refresh()}_getMouseBufferCoords(T){const P=this._mouseService.getCoords(T,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(P)return P[0]--,P[1]--,P[1]+=this._bufferService.buffer.ydisp,P}_getMouseEventScrollAmount(T){let P=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,T,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return P>=0&&P<=N?0:(P>N&&(P-=N),P=Math.min(Math.max(P,-50),50),P/=50,P/Math.abs(P)+Math.round(14*P))}shouldForceSelection(T){return p.isMac?T.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:T.shiftKey}handleMouseDown(T){if(this._mouseDownTimeStamp=T.timeStamp,(T.button!==2||!this.hasSelection)&&T.button===0){if(!this._enabled){if(!this.shouldForceSelection(T))return;T.stopPropagation()}T.preventDefault(),this._dragScrollAmount=0,this._enabled&&T.shiftKey?this._handleIncrementalClick(T):T.detail===1?this._handleSingleClick(T):T.detail===2?this._handleDoubleClick(T):T.detail===3&&this._handleTripleClick(T),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(T){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(T))}_handleSingleClick(T){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(T)?3:0,this._model.selectionStart=this._getMouseBufferCoords(T),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const P=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);P&&P.length!==this._model.selectionStart[0]&&P.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(T){this._selectWordAtCursor(T,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(T){const P=this._getMouseBufferCoords(T);P&&(this._activeSelectionMode=2,this._selectLineAt(P[1]))}shouldColumnSelect(T){return T.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(T){if(T.stopImmediatePropagation(),!this._model.selectionStart)return;const P=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(T),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(T),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const k=N.lines.get(this._model.selectionEnd[1]);k&&k.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}P&&P[0]===this._model.selectionEnd[0]&&P[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const T=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(T.ydisp+this._bufferService.rows,T.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=T.ydisp),this.refresh()}}_handleMouseUp(T){const P=T.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&P<500&&T.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(T,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&N[0]!==void 0&&N[1]!==void 0){const k=(0,h.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(k,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd,N=!(!T||!P||T[0]===P[0]&&T[1]===P[1]);N?T&&P&&(this._oldSelectionStart&&this._oldSelectionEnd&&T[0]===this._oldSelectionStart[0]&&T[1]===this._oldSelectionStart[1]&&P[0]===this._oldSelectionEnd[0]&&P[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(T,P,N)):this._oldHasSelection&&this._fireOnSelectionChange(T,P,N)}_fireOnSelectionChange(T,P,N){this._oldSelectionStart=T,this._oldSelectionEnd=P,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(T){this.clearSelection(),this._trimListener.dispose(),this._trimListener=T.activeBuffer.lines.onTrim(P=>this._handleTrim(P))}_convertViewportColToCharacterIndex(T,P){let N=P;for(let k=0;P>=k;k++){const D=T.loadCell(k,this._workCell).getChars().length;this._workCell.getWidth()===0?N--:D>1&&P!==k&&(N+=D-1)}return N}setSelection(T,P,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[T,P],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(T){this._isClickInSelection(T)||(this._selectWordAtCursor(T,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(T,P,N=!0,k=!0){if(T[0]>=this._bufferService.cols)return;const D=this._bufferService.buffer,j=D.lines.get(T[1]);if(!j)return;const F=D.translateBufferLineToString(T[1],!1);let z=this._convertViewportColToCharacterIndex(j,T[0]),U=z;const H=T[0]-z;let R=0,I=0,B=0,W=0;if(F.charAt(z)===" "){for(;z>0&&F.charAt(z-1)===" ";)z--;for(;U<F.length&&F.charAt(U+1)===" ";)U++}else{let ne=T[0],ae=T[0];j.getWidth(ne)===0&&(R++,ne--),j.getWidth(ae)===2&&(I++,ae++);const se=j.getString(ae).length;for(se>1&&(W+=se-1,U+=se-1);ne>0&&z>0&&!this._isCharWordSeparator(j.loadCell(ne-1,this._workCell));){j.loadCell(ne-1,this._workCell);const $=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,ne--):$>1&&(B+=$-1,z-=$-1),z--,ne--}for(;ae<j.length&&U+1<F.length&&!this._isCharWordSeparator(j.loadCell(ae+1,this._workCell));){j.loadCell(ae+1,this._workCell);const $=this._workCell.getChars().length;this._workCell.getWidth()===2?(I++,ae++):$>1&&(W+=$-1,U+=$-1),U++,ae++}}U++;let G=z+H-R+B,X=Math.min(this._bufferService.cols,U-z+R+I-B-W);if(P||F.slice(z,U).trim()!==""){if(N&&G===0&&j.getCodePoint(0)!==32){const ne=D.lines.get(T[1]-1);if(ne&&j.isWrapped&&ne.getCodePoint(this._bufferService.cols-1)!==32){const ae=this._getWordAt([this._bufferService.cols-1,T[1]-1],!1,!0,!1);if(ae){const se=this._bufferService.cols-ae.start;G-=se,X+=se}}}if(k&&G+X===this._bufferService.cols&&j.getCodePoint(this._bufferService.cols-1)!==32){const ne=D.lines.get(T[1]+1);if(ne!=null&&ne.isWrapped&&ne.getCodePoint(0)!==32){const ae=this._getWordAt([0,T[1]+1],!1,!1,!0);ae&&(X+=ae.length)}}return{start:G,length:X}}}_selectWordAt(T,P){const N=this._getWordAt(T,P);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,T[1]--;this._model.selectionStart=[N.start,T[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(T){const P=this._getWordAt(T,!0);if(P){let N=T[1];for(;P.start<0;)P.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;P.start+P.length>this._bufferService.cols;)P.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?P.start:P.start+P.length,N]}}_isCharWordSeparator(T){return T.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(T.getChars())>=0}_selectLineAt(T){const P=this._bufferService.buffer.getWrappedRangeForLine(T),N={start:{x:0,y:P.first},end:{x:this._bufferService.cols-1,y:P.last}};this._model.selectionStart=[0,P.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,y.getRangeLength)(N,this._bufferService.cols)}};a.SelectionService=M=c([f(3,b.IBufferService),f(4,b.ICoreService),f(5,v.IMouseService),f(6,b.IOptionsService),f(7,v.IRenderService),f(8,v.ICoreBrowserService)],M)},4725:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IThemeService=a.ICharacterJoinerService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;const c=l(8343);a.ICharSizeService=(0,c.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),a.IMouseService=(0,c.createDecorator)("MouseService"),a.IRenderService=(0,c.createDecorator)("RenderService"),a.ISelectionService=(0,c.createDecorator)("SelectionService"),a.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),a.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(o,a,l){var c=this&&this.__decorate||function(M,T,P,N){var k,D=arguments.length,j=D<3?T:N===null?N=Object.getOwnPropertyDescriptor(T,P):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(M,T,P,N);else for(var F=M.length-1;F>=0;F--)(k=M[F])&&(j=(D<3?k(j):D>3?k(T,P,j):k(T,P))||j);return D>3&&j&&Object.defineProperty(T,P,j),j},f=this&&this.__param||function(M,T){return function(P,N){T(P,N,M)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const d=l(7239),h=l(8055),g=l(8460),v=l(844),x=l(2585),m=h.css.toColor("#ffffff"),p=h.css.toColor("#000000"),y=h.css.toColor("#ffffff"),_=h.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const M=[h.css.toColor("#2e3436"),h.css.toColor("#cc0000"),h.css.toColor("#4e9a06"),h.css.toColor("#c4a000"),h.css.toColor("#3465a4"),h.css.toColor("#75507b"),h.css.toColor("#06989a"),h.css.toColor("#d3d7cf"),h.css.toColor("#555753"),h.css.toColor("#ef2929"),h.css.toColor("#8ae234"),h.css.toColor("#fce94f"),h.css.toColor("#729fcf"),h.css.toColor("#ad7fa8"),h.css.toColor("#34e2e2"),h.css.toColor("#eeeeec")],T=[0,95,135,175,215,255];for(let P=0;P<216;P++){const N=T[P/36%6|0],k=T[P/6%6|0],D=T[P%6];M.push({css:h.channels.toCss(N,k,D),rgba:h.channels.toRgba(N,k,D)})}for(let P=0;P<24;P++){const N=8+10*P;M.push({css:h.channels.toCss(N,N,N),rgba:h.channels.toRgba(N,N,N)})}return M})());let S=a.ThemeService=class extends v.Disposable{get colors(){return this._colors}constructor(M){super(),this._optionsService=M,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:p,cursor:y,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:h.color.blend(p,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:h.color.blend(p,b),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(M={}){const T=this._colors;if(T.foreground=C(M.foreground,m),T.background=C(M.background,p),T.cursor=C(M.cursor,y),T.cursorAccent=C(M.cursorAccent,_),T.selectionBackgroundTransparent=C(M.selectionBackground,b),T.selectionBackgroundOpaque=h.color.blend(T.background,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundTransparent=C(M.selectionInactiveBackground,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundOpaque=h.color.blend(T.background,T.selectionInactiveBackgroundTransparent),T.selectionForeground=M.selectionForeground?C(M.selectionForeground,h.NULL_COLOR):void 0,T.selectionForeground===h.NULL_COLOR&&(T.selectionForeground=void 0),h.color.isOpaque(T.selectionBackgroundTransparent)&&(T.selectionBackgroundTransparent=h.color.opacity(T.selectionBackgroundTransparent,.3)),h.color.isOpaque(T.selectionInactiveBackgroundTransparent)&&(T.selectionInactiveBackgroundTransparent=h.color.opacity(T.selectionInactiveBackgroundTransparent,.3)),T.ansi=a.DEFAULT_ANSI_COLORS.slice(),T.ansi[0]=C(M.black,a.DEFAULT_ANSI_COLORS[0]),T.ansi[1]=C(M.red,a.DEFAULT_ANSI_COLORS[1]),T.ansi[2]=C(M.green,a.DEFAULT_ANSI_COLORS[2]),T.ansi[3]=C(M.yellow,a.DEFAULT_ANSI_COLORS[3]),T.ansi[4]=C(M.blue,a.DEFAULT_ANSI_COLORS[4]),T.ansi[5]=C(M.magenta,a.DEFAULT_ANSI_COLORS[5]),T.ansi[6]=C(M.cyan,a.DEFAULT_ANSI_COLORS[6]),T.ansi[7]=C(M.white,a.DEFAULT_ANSI_COLORS[7]),T.ansi[8]=C(M.brightBlack,a.DEFAULT_ANSI_COLORS[8]),T.ansi[9]=C(M.brightRed,a.DEFAULT_ANSI_COLORS[9]),T.ansi[10]=C(M.brightGreen,a.DEFAULT_ANSI_COLORS[10]),T.ansi[11]=C(M.brightYellow,a.DEFAULT_ANSI_COLORS[11]),T.ansi[12]=C(M.brightBlue,a.DEFAULT_ANSI_COLORS[12]),T.ansi[13]=C(M.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),T.ansi[14]=C(M.brightCyan,a.DEFAULT_ANSI_COLORS[14]),T.ansi[15]=C(M.brightWhite,a.DEFAULT_ANSI_COLORS[15]),M.extendedAnsi){const P=Math.min(T.ansi.length-16,M.extendedAnsi.length);for(let N=0;N<P;N++)T.ansi[N+16]=C(M.extendedAnsi[N],a.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(M){this._restoreColor(M),this._onChangeColors.fire(this.colors)}_restoreColor(M){if(M!==void 0)switch(M){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[M]=this._restoreColors.ansi[M]}else for(let T=0;T<this._restoreColors.ansi.length;++T)this._colors.ansi[T]=this._restoreColors.ansi[T]}modifyColors(M){M(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function C(M,T){if(M!==void 0)try{return h.css.toColor(M)}catch{}return T}a.ThemeService=S=c([f(0,x.IOptionsService)],S)},6349:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;const c=l(8460),f=l(844);class d extends f.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const v=new Array(g);for(let x=0;x<Math.min(g,this.length);x++)v[x]=this._array[this._getCyclicIndex(x)];this._array=v,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let v=this._length;v<g;v++)this._array[v]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,v){this._array[this._getCyclicIndex(g)]=v}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,v,...x){if(v){for(let m=g;m<this._length-v;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+v)];this._length-=v,this.onDeleteEmitter.fire({index:g,amount:v})}for(let m=this._length-1;m>=g;m--)this._array[this._getCyclicIndex(m+x.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<x.length;m++)this._array[this._getCyclicIndex(g+m)]=x[m];if(x.length&&this.onInsertEmitter.fire({index:g,amount:x.length}),this._length+x.length>this._maxLength){const m=this._length+x.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=x.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,v,x){if(!(v<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let p=v-1;p>=0;p--)this.set(g+p+x,this.get(g+p));const m=g+v+x-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<v;m++)this.set(g+m+x,this.get(g+m))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}a.CircularList=d},1439:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function l(c,f=5){if(typeof c!="object")return c;const d=Array.isArray(c)?[]:{};for(const h in c)d[h]=f<=1?c[h]:c[h]&&l(c[h],f-1);return d}},8055:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;const c=l(6114);let f=0,d=0,h=0,g=0;var v,x,m,p,y;function _(S){const C=S.toString(16);return C.length<2?"0"+C:C}function b(S,C){return S<C?(C+.05)/(S+.05):(S+.05)/(C+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},function(S){S.toCss=function(C,M,T,P){return P!==void 0?`#${_(C)}${_(M)}${_(T)}${_(P)}`:`#${_(C)}${_(M)}${_(T)}`},S.toRgba=function(C,M,T,P=255){return(C<<24|M<<16|T<<8|P)>>>0}}(v||(a.channels=v={})),function(S){function C(M,T){return g=Math.round(255*T),[f,d,h]=y.toChannels(M.rgba),{css:v.toCss(f,d,h,g),rgba:v.toRgba(f,d,h,g)}}S.blend=function(M,T){if(g=(255&T.rgba)/255,g===1)return{css:T.css,rgba:T.rgba};const P=T.rgba>>24&255,N=T.rgba>>16&255,k=T.rgba>>8&255,D=M.rgba>>24&255,j=M.rgba>>16&255,F=M.rgba>>8&255;return f=D+Math.round((P-D)*g),d=j+Math.round((N-j)*g),h=F+Math.round((k-F)*g),{css:v.toCss(f,d,h),rgba:v.toRgba(f,d,h)}},S.isOpaque=function(M){return(255&M.rgba)==255},S.ensureContrastRatio=function(M,T,P){const N=y.ensureContrastRatio(M.rgba,T.rgba,P);if(N)return y.toColor(N>>24&255,N>>16&255,N>>8&255)},S.opaque=function(M){const T=(255|M.rgba)>>>0;return[f,d,h]=y.toChannels(T),{css:v.toCss(f,d,h),rgba:T}},S.opacity=C,S.multiplyOpacity=function(M,T){return g=255&M.rgba,C(M,g*T/255)},S.toColorRGB=function(M){return[M.rgba>>24&255,M.rgba>>16&255,M.rgba>>8&255]}}(x||(a.color=x={})),function(S){let C,M;if(!c.isNode){const T=document.createElement("canvas");T.width=1,T.height=1;const P=T.getContext("2d",{willReadFrequently:!0});P&&(C=P,C.globalCompositeOperation="copy",M=C.createLinearGradient(0,0,1,1))}S.toColor=function(T){if(T.match(/#[\da-f]{3,8}/i))switch(T.length){case 4:return f=parseInt(T.slice(1,2).repeat(2),16),d=parseInt(T.slice(2,3).repeat(2),16),h=parseInt(T.slice(3,4).repeat(2),16),y.toColor(f,d,h);case 5:return f=parseInt(T.slice(1,2).repeat(2),16),d=parseInt(T.slice(2,3).repeat(2),16),h=parseInt(T.slice(3,4).repeat(2),16),g=parseInt(T.slice(4,5).repeat(2),16),y.toColor(f,d,h,g);case 7:return{css:T,rgba:(parseInt(T.slice(1),16)<<8|255)>>>0};case 9:return{css:T,rgba:parseInt(T.slice(1),16)>>>0}}const P=T.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(P)return f=parseInt(P[1]),d=parseInt(P[2]),h=parseInt(P[3]),g=Math.round(255*(P[5]===void 0?1:parseFloat(P[5]))),y.toColor(f,d,h,g);if(!C||!M)throw new Error("css.toColor: Unsupported css format");if(C.fillStyle=M,C.fillStyle=T,typeof C.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(C.fillRect(0,0,1,1),[f,d,h,g]=C.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:v.toRgba(f,d,h,g),css:T}}}(m||(a.css=m={})),function(S){function C(M,T,P){const N=M/255,k=T/255,D=P/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(k<=.03928?k/12.92:Math.pow((k+.055)/1.055,2.4))+.0722*(D<=.03928?D/12.92:Math.pow((D+.055)/1.055,2.4))}S.relativeLuminance=function(M){return C(M>>16&255,M>>8&255,255&M)},S.relativeLuminance2=C}(p||(a.rgb=p={})),function(S){function C(T,P,N){const k=T>>24&255,D=T>>16&255,j=T>>8&255;let F=P>>24&255,z=P>>16&255,U=P>>8&255,H=b(p.relativeLuminance2(F,z,U),p.relativeLuminance2(k,D,j));for(;H<N&&(F>0||z>0||U>0);)F-=Math.max(0,Math.ceil(.1*F)),z-=Math.max(0,Math.ceil(.1*z)),U-=Math.max(0,Math.ceil(.1*U)),H=b(p.relativeLuminance2(F,z,U),p.relativeLuminance2(k,D,j));return(F<<24|z<<16|U<<8|255)>>>0}function M(T,P,N){const k=T>>24&255,D=T>>16&255,j=T>>8&255;let F=P>>24&255,z=P>>16&255,U=P>>8&255,H=b(p.relativeLuminance2(F,z,U),p.relativeLuminance2(k,D,j));for(;H<N&&(F<255||z<255||U<255);)F=Math.min(255,F+Math.ceil(.1*(255-F))),z=Math.min(255,z+Math.ceil(.1*(255-z))),U=Math.min(255,U+Math.ceil(.1*(255-U))),H=b(p.relativeLuminance2(F,z,U),p.relativeLuminance2(k,D,j));return(F<<24|z<<16|U<<8|255)>>>0}S.ensureContrastRatio=function(T,P,N){const k=p.relativeLuminance(T>>8),D=p.relativeLuminance(P>>8);if(b(k,D)<N){if(D<k){const z=C(T,P,N),U=b(k,p.relativeLuminance(z>>8));if(U<N){const H=M(T,P,N);return U>b(k,p.relativeLuminance(H>>8))?z:H}return z}const j=M(T,P,N),F=b(k,p.relativeLuminance(j>>8));if(F<N){const z=C(T,P,N);return F>b(k,p.relativeLuminance(z>>8))?j:z}return j}},S.reduceLuminance=C,S.increaseLuminance=M,S.toChannels=function(T){return[T>>24&255,T>>16&255,T>>8&255,255&T]},S.toColor=function(T,P,N,k){return{css:v.toCss(T,P,N,k),rgba:v.toRgba(T,P,N,k)}}}(y||(a.rgba=y={})),a.toPaddedHex=_,a.contrastRatio=b},8969:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;const c=l(844),f=l(2585),d=l(4348),h=l(7866),g=l(744),v=l(7302),x=l(6975),m=l(8460),p=l(1753),y=l(1480),_=l(7994),b=l(9282),S=l(5435),C=l(5981),M=l(2660);let T=!1;class P extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(k=>{var D;(D=this._onScrollApi)===null||D===void 0||D.fire(k.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(k){for(const D in k)this.optionsService.options[D]=k[D]}constructor(k){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new v.OptionsService(k)),this._instantiationService.setService(f.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(f.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(h.LogService)),this._instantiationService.setService(f.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(f.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(f.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(y.UnicodeService)),this._instantiationService.setService(f.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(f.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(M.OscLinkService),this._instantiationService.setService(f.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new S.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(D=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new C.WriteBuffer((D,j)=>this._inputHandler.parse(D,j))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(k,D){this._writeBuffer.write(k,D)}writeSync(k,D){this._logService.logLevel<=f.LogLevelEnum.WARN&&!T&&(this._logService.warn("writeSync is unreliable and will be removed soon."),T=!0),this._writeBuffer.writeSync(k,D)}resize(k,D){isNaN(k)||isNaN(D)||(k=Math.max(k,g.MINIMUM_COLS),D=Math.max(D,g.MINIMUM_ROWS),this._bufferService.resize(k,D))}scroll(k,D=!1){this._bufferService.scroll(k,D)}scrollLines(k,D,j){this._bufferService.scrollLines(k,D,j)}scrollPages(k){this.scrollLines(k*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(k){const D=k-this._bufferService.buffer.ydisp;D!==0&&this.scrollLines(D)}registerEscHandler(k,D){return this._inputHandler.registerEscHandler(k,D)}registerDcsHandler(k,D){return this._inputHandler.registerDcsHandler(k,D)}registerCsiHandler(k,D){return this._inputHandler.registerCsiHandler(k,D)}registerOscHandler(k,D){return this._inputHandler.registerOscHandler(k,D)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let k=!1;const D=this.optionsService.rawOptions.windowsPty;D&&D.buildNumber!==void 0&&D.buildNumber!==void 0?k=D.backend==="conpty"&&D.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(k=!0),k?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const k=[];k.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),k.push(this.registerCsiHandler({final:"H"},()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const D of k)D.dispose()})}}}a.CoreTerminal=P},8460:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const f=[];for(let d=0;d<this._listeners.length;d++)f.push(this._listeners[d]);for(let d=0;d<f.length;d++)f[d].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(f=>c.fire(f))}},5435:function(o,a,l){var c=this&&this.__decorate||function(H,R,I,B){var W,G=arguments.length,X=G<3?R:B===null?B=Object.getOwnPropertyDescriptor(R,I):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(H,R,I,B);else for(var ne=H.length-1;ne>=0;ne--)(W=H[ne])&&(X=(G<3?W(X):G>3?W(R,I,X):W(R,I))||X);return G>3&&X&&Object.defineProperty(R,I,X),X},f=this&&this.__param||function(H,R){return function(I,B){R(I,B,H)}};Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;const d=l(2584),h=l(7116),g=l(2015),v=l(844),x=l(482),m=l(8437),p=l(8460),y=l(643),_=l(511),b=l(3734),S=l(2585),C=l(6242),M=l(6351),T=l(5941),P={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function k(H,R){if(H>24)return R.setWinLines||!1;switch(H){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var D;(function(H){H[H.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",H[H.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(D||(a.WindowsOptionsReportType=D={}));let j=0;class F extends v.Disposable{getAttrData(){return this._curAttrData}constructor(R,I,B,W,G,X,ne,ae,se=new g.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=I,this._coreService=B,this._logService=W,this._optionsService=G,this._oscLinkService=X,this._coreMouseService=ne,this._unicodeService=ae,this._parser=se,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new z(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate($=>this._activeBuffer=$.activeBuffer)),this._parser.setCsiHandlerFallback(($,Y)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString($),params:Y.toArray()})}),this._parser.setEscHandlerFallback($=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString($)})}),this._parser.setExecuteHandlerFallback($=>{this._logService.debug("Unknown EXECUTE code: ",{code:$})}),this._parser.setOscHandlerFallback(($,Y,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:$,action:Y,data:Q})}),this._parser.setDcsHandlerFallback(($,Y,Q)=>{Y==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString($),action:Y,payload:Q})}),this._parser.setPrintHandler(($,Y,Q)=>this.print($,Y,Q)),this._parser.registerCsiHandler({final:"@"},$=>this.insertChars($)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},$=>this.scrollLeft($)),this._parser.registerCsiHandler({final:"A"},$=>this.cursorUp($)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},$=>this.scrollRight($)),this._parser.registerCsiHandler({final:"B"},$=>this.cursorDown($)),this._parser.registerCsiHandler({final:"C"},$=>this.cursorForward($)),this._parser.registerCsiHandler({final:"D"},$=>this.cursorBackward($)),this._parser.registerCsiHandler({final:"E"},$=>this.cursorNextLine($)),this._parser.registerCsiHandler({final:"F"},$=>this.cursorPrecedingLine($)),this._parser.registerCsiHandler({final:"G"},$=>this.cursorCharAbsolute($)),this._parser.registerCsiHandler({final:"H"},$=>this.cursorPosition($)),this._parser.registerCsiHandler({final:"I"},$=>this.cursorForwardTab($)),this._parser.registerCsiHandler({final:"J"},$=>this.eraseInDisplay($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},$=>this.eraseInDisplay($,!0)),this._parser.registerCsiHandler({final:"K"},$=>this.eraseInLine($,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},$=>this.eraseInLine($,!0)),this._parser.registerCsiHandler({final:"L"},$=>this.insertLines($)),this._parser.registerCsiHandler({final:"M"},$=>this.deleteLines($)),this._parser.registerCsiHandler({final:"P"},$=>this.deleteChars($)),this._parser.registerCsiHandler({final:"S"},$=>this.scrollUp($)),this._parser.registerCsiHandler({final:"T"},$=>this.scrollDown($)),this._parser.registerCsiHandler({final:"X"},$=>this.eraseChars($)),this._parser.registerCsiHandler({final:"Z"},$=>this.cursorBackwardTab($)),this._parser.registerCsiHandler({final:"`"},$=>this.charPosAbsolute($)),this._parser.registerCsiHandler({final:"a"},$=>this.hPositionRelative($)),this._parser.registerCsiHandler({final:"b"},$=>this.repeatPrecedingCharacter($)),this._parser.registerCsiHandler({final:"c"},$=>this.sendDeviceAttributesPrimary($)),this._parser.registerCsiHandler({prefix:">",final:"c"},$=>this.sendDeviceAttributesSecondary($)),this._parser.registerCsiHandler({final:"d"},$=>this.linePosAbsolute($)),this._parser.registerCsiHandler({final:"e"},$=>this.vPositionRelative($)),this._parser.registerCsiHandler({final:"f"},$=>this.hVPosition($)),this._parser.registerCsiHandler({final:"g"},$=>this.tabClear($)),this._parser.registerCsiHandler({final:"h"},$=>this.setMode($)),this._parser.registerCsiHandler({prefix:"?",final:"h"},$=>this.setModePrivate($)),this._parser.registerCsiHandler({final:"l"},$=>this.resetMode($)),this._parser.registerCsiHandler({prefix:"?",final:"l"},$=>this.resetModePrivate($)),this._parser.registerCsiHandler({final:"m"},$=>this.charAttributes($)),this._parser.registerCsiHandler({final:"n"},$=>this.deviceStatus($)),this._parser.registerCsiHandler({prefix:"?",final:"n"},$=>this.deviceStatusPrivate($)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},$=>this.softReset($)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},$=>this.setCursorStyle($)),this._parser.registerCsiHandler({final:"r"},$=>this.setScrollRegion($)),this._parser.registerCsiHandler({final:"s"},$=>this.saveCursor($)),this._parser.registerCsiHandler({final:"t"},$=>this.windowOptions($)),this._parser.registerCsiHandler({final:"u"},$=>this.restoreCursor($)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},$=>this.insertColumns($)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},$=>this.deleteColumns($)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},$=>this.selectProtected($)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},$=>this.requestMode($,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},$=>this.requestMode($,!1)),this._parser.setExecuteHandler(d.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(d.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(d.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(d.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(d.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(d.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(d.C1.IND,()=>this.index()),this._parser.setExecuteHandler(d.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(d.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new C.OscHandler($=>(this.setTitle($),this.setIconName($),!0))),this._parser.registerOscHandler(1,new C.OscHandler($=>this.setIconName($))),this._parser.registerOscHandler(2,new C.OscHandler($=>this.setTitle($))),this._parser.registerOscHandler(4,new C.OscHandler($=>this.setOrReportIndexedColor($))),this._parser.registerOscHandler(8,new C.OscHandler($=>this.setHyperlink($))),this._parser.registerOscHandler(10,new C.OscHandler($=>this.setOrReportFgColor($))),this._parser.registerOscHandler(11,new C.OscHandler($=>this.setOrReportBgColor($))),this._parser.registerOscHandler(12,new C.OscHandler($=>this.setOrReportCursorColor($))),this._parser.registerOscHandler(104,new C.OscHandler($=>this.restoreIndexedColor($))),this._parser.registerOscHandler(110,new C.OscHandler($=>this.restoreFgColor($))),this._parser.registerOscHandler(111,new C.OscHandler($=>this.restoreBgColor($))),this._parser.registerOscHandler(112,new C.OscHandler($=>this.restoreCursorColor($))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const $ in h.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:$},()=>this.selectCharset("("+$)),this._parser.registerEscHandler({intermediates:")",final:$},()=>this.selectCharset(")"+$)),this._parser.registerEscHandler({intermediates:"*",final:$},()=>this.selectCharset("*"+$)),this._parser.registerEscHandler({intermediates:"+",final:$},()=>this.selectCharset("+"+$)),this._parser.registerEscHandler({intermediates:"-",final:$},()=>this.selectCharset("-"+$)),this._parser.registerEscHandler({intermediates:".",final:$},()=>this.selectCharset("."+$)),this._parser.registerEscHandler({intermediates:"/",final:$},()=>this.selectCharset("/"+$));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler($=>(this._logService.error("Parsing error: ",$),$)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new M.DcsHandler(($,Y)=>this.requestStatusString($,Y)))}_preserveStack(R,I,B,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=I,this._parseStack.decodedLength=B,this._parseStack.position=W}_logSlowResolvingAsync(R){this._logService.logLevel<=S.LogLevelEnum.WARN&&Promise.race([R,new Promise((I,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(I=>{if(I!=="#SLOW_TIMEOUT")throw I;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,I){let B,W=this._activeBuffer.x,G=this._activeBuffer.y,X=0;const ne=this._parseStack.paused;if(ne){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,I))return this._logSlowResolvingAsync(B),B;W=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>N&&(X=this._parseStack.position+N)}if(this._logService.logLevel<=S.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,ae=>String.fromCharCode(ae)).join("")}"`),typeof R=="string"?R.split("").map(ae=>ae.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(R.length,N))),ne||this._dirtyRowTracker.clearRange(),R.length>N)for(let ae=X;ae<R.length;ae+=N){const se=ae+N<R.length?ae+N:R.length,$=typeof R=="string"?this._stringDecoder.decode(R.substring(ae,se),this._parseBuffer):this._utf8Decoder.decode(R.subarray(ae,se),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,$))return this._preserveStack(W,G,$,ae),this._logSlowResolvingAsync(B),B}else if(!ne){const ae=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,ae))return this._preserveStack(W,G,ae,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===W&&this._activeBuffer.y===G||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,I,B){let W,G;const X=this._charsetService.charset,ne=this._optionsService.rawOptions.screenReaderMode,ae=this._bufferService.cols,se=this._coreService.decPrivateModes.wraparound,$=this._coreService.modes.insertMode,Y=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-I>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,Y.fg,Y.bg,Y.extended);for(let ee=I;ee<B;++ee){if(W=R[ee],G=this._unicodeService.wcwidth(W),W<127&&X){const ue=X[String.fromCharCode(W)];ue&&(W=ue.charCodeAt(0))}if(ne&&this._onA11yChar.fire((0,x.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),G||!this._activeBuffer.x){if(this._activeBuffer.x+G-1>=ae){if(se){for(;this._activeBuffer.x<ae;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,Y.fg,Y.bg,Y.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=ae-1,G===2)continue}if($&&(Q.insertCells(this._activeBuffer.x,G,this._activeBuffer.getNullCell(Y),Y),Q.getWidth(ae-1)===2&&Q.setCellFromCodePoint(ae-1,y.NULL_CELL_CODE,y.NULL_CELL_WIDTH,Y.fg,Y.bg,Y.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,W,G,Y.fg,Y.bg,Y.extended),G>0)for(;--G;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,Y.fg,Y.bg,Y.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,W):Q.addCodepointToCell(this._activeBuffer.x-2,W)}B-I>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<ae&&B-I>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,Y.fg,Y.bg,Y.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,I){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,I):this._parser.registerCsiHandler(R,B=>!k(B.params[0],this._optionsService.rawOptions.windowOptions)||I(B))}registerDcsHandler(R,I){return this._parser.registerDcsHandler(R,new M.DcsHandler(I))}registerEscHandler(R,I){return this._parser.registerEscHandler(R,I)}registerOscHandler(R,I){return this._parser.registerOscHandler(R,new C.OscHandler(I))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);I.hasWidth(this._activeBuffer.x)&&!I.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,I){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+I):(this._activeBuffer.x=R,this._activeBuffer.y=I),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,I){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+I)}cursorUp(R){const I=this._activeBuffer.y-this._activeBuffer.scrollTop;return I>=0?this._moveCursor(0,-Math.min(I,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const I=this._activeBuffer.scrollBottom-this._activeBuffer.y;return I>=0?this._moveCursor(0,Math.min(I,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const I=R.params[0];return I===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:I===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=R.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let I=R.params[0]||1;for(;I--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const I=R.params[0];return I===1&&(this._curAttrData.bg|=536870912),I!==2&&I!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,I,B,W=!1,G=!1){const X=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);X.replaceCells(I,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),G),W&&(X.isWrapped=!1)}_resetBufferLine(R,I=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),I),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),B.isWrapped=!1)}eraseInDisplay(R,I=!1){let B;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);B<this._bufferService.rows;B++)this._resetBufferLine(B,I);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,I),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,I);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,I);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(R,I=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,I);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,I);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,I)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let I=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;I--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let I=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;I--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let I=R.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let I=R.params[0]||1;for(;I--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.deleteCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.insertCells(0,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.insertCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const I=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.deleteCells(this._activeBuffer.x,I,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const I=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return I&&(I.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const I=R.params[0]||1,B=new Uint32Array(I);for(let W=0;W<I;++W)B[W]=this._parser.precedingCodepoint;return this.print(B,0,B.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let I=0;I<R.length;I++)switch(R.params[I]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let I=0;I<R.length;I++)switch(R.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),this._charsetService.setgCharset(1,h.DEFAULT_CHARSET),this._charsetService.setgCharset(2,h.DEFAULT_CHARSET),this._charsetService.setgCharset(3,h.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let I=0;I<R.length;I++)switch(R.params[I]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let I=0;I<R.length;I++)switch(R.params[I]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[I]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,I){const B=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:G}=this._coreMouseService,X=this._coreService,{buffers:ne,cols:ae}=this._bufferService,{active:se,alt:$}=ne,Y=this._optionsService.rawOptions,Q=K=>K?1:2,ee=R.params[0];return ue=ee,J=I?ee===2?4:ee===4?Q(X.modes.insertMode):ee===12?3:ee===20?Q(Y.convertEol):0:ee===1?Q(B.applicationCursorKeys):ee===3?Y.windowOptions.setWinLines?ae===80?2:ae===132?1:0:0:ee===6?Q(B.origin):ee===7?Q(B.wraparound):ee===8?3:ee===9?Q(W==="X10"):ee===12?Q(Y.cursorBlink):ee===25?Q(!X.isCursorHidden):ee===45?Q(B.reverseWraparound):ee===66?Q(B.applicationKeypad):ee===67?4:ee===1e3?Q(W==="VT200"):ee===1002?Q(W==="DRAG"):ee===1003?Q(W==="ANY"):ee===1004?Q(B.sendFocus):ee===1005?4:ee===1006?Q(G==="SGR"):ee===1015?4:ee===1016?Q(G==="SGR_PIXELS"):ee===1048?1:ee===47||ee===1047||ee===1049?Q(se===$):ee===2004?Q(B.bracketedPasteMode):0,X.triggerDataEvent(`${d.C0.ESC}[${I?"":"?"}${ue};${J}$y`),!0;var ue,J}_updateAttrColor(R,I,B,W,G){return I===2?(R|=50331648,R&=-16777216,R|=b.AttributeData.fromColorRGB([B,W,G])):I===5&&(R&=-50331904,R|=33554432|255&B),R}_extractColor(R,I,B){const W=[0,0,-1,0,0,0];let G=0,X=0;do{if(W[X+G]=R.params[I+X],R.hasSubParams(I+X)){const ne=R.getSubParams(I+X);let ae=0;do W[1]===5&&(G=1),W[X+ae+1+G]=ne[ae];while(++ae<ne.length&&ae+X+1+G<W.length);break}if(W[1]===5&&X+G>=2||W[1]===2&&X+G>=5)break;W[1]&&(G=1)}while(++X+I<R.length&&X+G<W.length);for(let ne=2;ne<W.length;++ne)W[ne]===-1&&(W[ne]=0);switch(W[0]){case 38:B.fg=this._updateAttrColor(B.fg,W[1],W[3],W[4],W[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,W[1],W[3],W[4],W[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,W[1],W[3],W[4],W[5])}return X}_processUnderline(R,I){I.extended=I.extended.clone(),(!~R||R>5)&&(R=1),I.extended.underlineStyle=R,I.fg|=268435456,R===0&&(I.fg&=-268435457),I.updateExtended()}_processSGR0(R){R.fg=m.DEFAULT_ATTR_DATA.fg,R.bg=m.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const I=R.length;let B;const W=this._curAttrData;for(let G=0;G<I;G++)B=R.params[G],B>=30&&B<=37?(W.fg&=-50331904,W.fg|=16777216|B-30):B>=40&&B<=47?(W.bg&=-50331904,W.bg|=16777216|B-40):B>=90&&B<=97?(W.fg&=-50331904,W.fg|=16777224|B-90):B>=100&&B<=107?(W.bg&=-50331904,W.bg|=16777224|B-100):B===0?this._processSGR0(W):B===1?W.fg|=134217728:B===3?W.bg|=67108864:B===4?(W.fg|=268435456,this._processUnderline(R.hasSubParams(G)?R.getSubParams(G)[0]:1,W)):B===5?W.fg|=536870912:B===7?W.fg|=67108864:B===8?W.fg|=1073741824:B===9?W.fg|=2147483648:B===2?W.bg|=134217728:B===21?this._processUnderline(2,W):B===22?(W.fg&=-134217729,W.bg&=-134217729):B===23?W.bg&=-67108865:B===24?(W.fg&=-268435457,this._processUnderline(0,W)):B===25?W.fg&=-536870913:B===27?W.fg&=-67108865:B===28?W.fg&=-1073741825:B===29?W.fg&=2147483647:B===39?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):B===49?(W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?G+=this._extractColor(R,G,W):B===53?W.bg|=1073741824:B===55?W.bg&=-1073741825:B===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):B===100?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const I=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${I};${B}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const I=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${I};${B}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const I=R.params[0]||1;switch(I){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=I%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(R){const I=R.params[0]||1;let B;return(R.length<2||(B=R.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>I&&(this._activeBuffer.scrollTop=I-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(R){if(!k(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const I=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:I!==2&&this._onRequestWindowsOptionsReport.fire(D.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(D.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:I!==0&&I!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),I!==0&&I!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:I!==0&&I!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),I!==0&&I!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const I=[],B=R.split(";");for(;B.length>1;){const W=B.shift(),G=B.shift();if(/^\d+$/.exec(W)){const X=parseInt(W);if(U(X))if(G==="?")I.push({type:0,index:X});else{const ne=(0,T.parseColor)(G);ne&&I.push({type:1,index:X,color:ne})}}}return I.length&&this._onColor.fire(I),!0}setHyperlink(R){const I=R.split(";");return!(I.length<2)&&(I[1]?this._createHyperlink(I[0],I[1]):!I[0]&&this._finishHyperlink())}_createHyperlink(R,I){this._getCurrentLinkId()&&this._finishHyperlink();const B=R.split(":");let W;const G=B.findIndex(X=>X.startsWith("id="));return G!==-1&&(W=B[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:I}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,I){const B=R.split(";");for(let W=0;W<B.length&&!(I>=this._specialColors.length);++W,++I)if(B[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[I]}]);else{const G=(0,T.parseColor)(B[W]);G&&this._onColor.fire([{type:1,index:this._specialColors[I],color:G}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const I=[],B=R.split(";");for(let W=0;W<B.length;++W)if(/^\d+$/.exec(B[W])){const G=parseInt(B[W]);U(G)&&I.push({type:2,index:G})}return I.length&&this._onColor.fire(I),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(P[R[0]],h.CHARSETS[R[1]]||h.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new _.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let I=0;I<this._bufferService.rows;++I){const B=this._activeBuffer.ybase+this._activeBuffer.y+I,W=this._activeBuffer.lines.get(B);W&&(W.fill(R),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,I){const B=this._bufferService.buffer,W=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${G}${d.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,I){this._dirtyRowTracker.markRangeDirty(R,I)}}a.InputHandler=F;let z=class{constructor(H){this._bufferService=H,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(H){H<this.start?this.start=H:H>this.end&&(this.end=H)}markRangeDirty(H,R){H>R&&(j=H,H=R,R=j),H<this.start&&(this.start=H),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function U(H){return 0<=H&&H<256}z=c([f(0,S.IBufferService)],z)},844:(o,a)=>{function l(c){for(const f of c)f.dispose();c.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const f=this._disposables.indexOf(c);f!==-1&&this._disposables.splice(f,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var f;this._isDisposed||c===this._value||((f=this._value)===null||f===void 0||f.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},a.toDisposable=function(c){return{dispose:c}},a.disposeArray=l,a.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(f,d,h){this._data[f]||(this._data[f]={}),this._data[f][d]=h}get(f,d){return this._data[f]?this._data[f][d]:void 0}clear(){this._data={}}}a.TwoKeyMap=l,a.FourKeyMap=class{constructor(){this._data=new l}set(c,f,d,h,g){this._data.get(c,f)||this._data.set(c,f,new l),this._data.get(c,f).set(d,h,g)}get(c,f,d,h){var g;return(g=this._data.get(c,f))===null||g===void 0?void 0:g.get(d,h)}clear(){this._data.clear()}}},6114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof navigator>"u";const l=a.isNode?"node":navigator.userAgent,c=a.isNode?"node":navigator.platform;a.isFirefox=l.includes("Firefox"),a.isLegacyEdge=l.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(l),a.getSafariVersion=function(){if(!a.isSafari)return 0;const f=l.match(/Version\/(\d+)/);return f===null||f.length<2?0:parseInt(f[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),a.isIpad=c==="iPad",a.isIphone=c==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),a.isLinux=c.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(l)},6106:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SortedList=void 0;let l=0;a.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const f=this._getKey(c);if(f===void 0||(l=this._search(f),l===-1)||this._getKey(this._array[l])!==f)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===f);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,f){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do f(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let f=0,d=this._array.length-1;for(;d>=f;){let h=f+d>>1;const g=this._getKey(this._array[h]);if(g>c)d=h-1;else{if(!(g<c)){for(;h>0&&this._getKey(this._array[h-1])===c;)h--;return h}f=h+1}}return f}}},7226:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const c=l(6114);class f{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let v=0,x=0,m=g.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),x=Math.max(v,x),p=g.timeRemaining(),1.5*x>p)return m-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-v))}ms`),void this._start();m=p}this.clear()}}class d extends f{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const v=Date.now()+g;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}a.PriorityTaskQueue=d,a.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends f{_requestCallback(h){return requestIdleCallback(h)}_cancelCallback(h){cancelIdleCallback(h)}}:d,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(h){this._queue.clear(),this._queue.enqueue(h)}flush(){this._queue.flush()}}},9282:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;const c=l(643);a.updateWindowsModeWrappedState=function(f){const d=f.buffer.lines.get(f.buffer.ybase+f.buffer.y-1),h=d==null?void 0:d.get(f.cols-1),g=f.buffer.lines.get(f.buffer.ybase+f.buffer.y);g&&h&&(g.isWrapped=h[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&h[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new l;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}a.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}constructor(d=0,h=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=h}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=c},9092:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buffer=a.MAX_BUFFER_SIZE=void 0;const c=l(6349),f=l(7226),d=l(3734),h=l(8437),g=l(4634),v=l(511),x=l(643),m=l(4863),p=l(7116);a.MAX_BUFFER_SIZE=4294967295,a.Buffer=class{constructor(y,_,b){this._hasScrollback=y,this._optionsService=_,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=h.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=v.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=v.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new f.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(y){return y?(this._nullCell.fg=y.fg,this._nullCell.bg=y.bg,this._nullCell.extended=y.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(y){return y?(this._whitespaceCell.fg=y.fg,this._whitespaceCell.bg=y.bg,this._whitespaceCell.extended=y.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(y,_){return new h.BufferLine(this._bufferService.cols,this.getNullCell(y),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const y=this.ybase+this.y-this.ydisp;return y>=0&&y<this._rows}_getCorrectBufferLength(y){if(!this._hasScrollback)return y;const _=y+this._optionsService.rawOptions.scrollback;return _>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:_}fillViewportRows(y){if(this.lines.length===0){y===void 0&&(y=h.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(y))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(y,_){const b=this.getNullCell(h.DEFAULT_ATTR_DATA);let S=0;const C=this._getCorrectBufferLength(_);if(C>this.lines.maxLength&&(this.lines.maxLength=C),this.lines.length>0){if(this._cols<y)for(let T=0;T<this.lines.length;T++)S+=+this.lines.get(T).resize(y,b);let M=0;if(this._rows<_)for(let T=this._rows;T<_;T++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new h.BufferLine(y,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+M+1?(this.ybase--,M++,this.ydisp>0&&this.ydisp--):this.lines.push(new h.BufferLine(y,b)));else for(let T=this._rows;T>_;T--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(C<this.lines.maxLength){const T=this.lines.length-C;T>0&&(this.lines.trimStart(T),this.ybase=Math.max(this.ybase-T,0),this.ydisp=Math.max(this.ydisp-T,0),this.savedY=Math.max(this.savedY-T,0)),this.lines.maxLength=C}this.x=Math.min(this.x,y-1),this.y=Math.min(this.y,_-1),M&&(this.y+=M),this.savedX=Math.min(this.savedX,y-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(y,_),this._cols>y))for(let M=0;M<this.lines.length;M++)S+=+this.lines.get(M).resize(y,b);this._cols=y,this._rows=_,this._memoryCleanupQueue.clear(),S>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let y=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,y=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return y}get _isReflowEnabled(){const y=this._optionsService.rawOptions.windowsPty;return y&&y.buildNumber?this._hasScrollback&&y.backend==="conpty"&&y.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(y,_){this._cols!==y&&(y>this._cols?this._reflowLarger(y,_):this._reflowSmaller(y,_))}_reflowLarger(y,_){const b=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,y,this.ybase+this.y,this.getNullCell(h.DEFAULT_ATTR_DATA));if(b.length>0){const S=(0,g.reflowLargerCreateNewLayout)(this.lines,b);(0,g.reflowLargerApplyNewLayout)(this.lines,S.layout),this._reflowLargerAdjustViewport(y,_,S.countRemoved)}}_reflowLargerAdjustViewport(y,_,b){const S=this.getNullCell(h.DEFAULT_ATTR_DATA);let C=b;for(;C-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new h.BufferLine(y,S))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(y,_){const b=this.getNullCell(h.DEFAULT_ATTR_DATA),S=[];let C=0;for(let M=this.lines.length-1;M>=0;M--){let T=this.lines.get(M);if(!T||!T.isWrapped&&T.getTrimmedLength()<=y)continue;const P=[T];for(;T.isWrapped&&M>0;)T=this.lines.get(--M),P.unshift(T);const N=this.ybase+this.y;if(N>=M&&N<M+P.length)continue;const k=P[P.length-1].getTrimmedLength(),D=(0,g.reflowSmallerGetNewLineLengths)(P,this._cols,y),j=D.length-P.length;let F;F=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+j):Math.max(0,this.lines.length-this.lines.maxLength+j);const z=[];for(let W=0;W<j;W++){const G=this.getBlankLine(h.DEFAULT_ATTR_DATA,!0);z.push(G)}z.length>0&&(S.push({start:M+P.length+C,newLines:z}),C+=z.length),P.push(...z);let U=D.length-1,H=D[U];H===0&&(U--,H=D[U]);let R=P.length-j-1,I=k;for(;R>=0;){const W=Math.min(I,H);if(P[U]===void 0)break;if(P[U].copyCellsFrom(P[R],I-W,H-W,W,!0),H-=W,H===0&&(U--,H=D[U]),I-=W,I===0){R--;const G=Math.max(R,0);I=(0,g.getWrappedLineTrimmedLength)(P,G,this._cols)}}for(let W=0;W<P.length;W++)D[W]<y&&P[W].setCell(D[W],b);let B=j-F;for(;B-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+C)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+j,this.ybase+_-1)}if(S.length>0){const M=[],T=[];for(let U=0;U<this.lines.length;U++)T.push(this.lines.get(U));const P=this.lines.length;let N=P-1,k=0,D=S[k];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+C);let j=0;for(let U=Math.min(this.lines.maxLength-1,P+C-1);U>=0;U--)if(D&&D.start>N+j){for(let H=D.newLines.length-1;H>=0;H--)this.lines.set(U--,D.newLines[H]);U++,M.push({index:N+1,amount:D.newLines.length}),j+=D.newLines.length,D=S[++k]}else this.lines.set(U,T[N--]);let F=0;for(let U=M.length-1;U>=0;U--)M[U].index+=F,this.lines.onInsertEmitter.fire(M[U]),F+=M[U].amount;const z=Math.max(0,P+C-this.lines.maxLength);z>0&&this.lines.onTrimEmitter.fire(z)}}translateBufferLineToString(y,_,b=0,S){const C=this.lines.get(y);return C?C.translateToString(_,b,S):""}getWrappedRangeForLine(y){let _=y,b=y;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:_,last:b}}setupTabStops(y){for(y!=null?this.tabs[y]||(y=this.prevStop(y)):(this.tabs={},y=0);y<this._cols;y+=this._optionsService.rawOptions.tabStopWidth)this.tabs[y]=!0}prevStop(y){for(y==null&&(y=this.x);!this.tabs[--y]&&y>0;);return y>=this._cols?this._cols-1:y<0?0:y}nextStop(y){for(y==null&&(y=this.x);!this.tabs[++y]&&y<this._cols;);return y>=this._cols?this._cols-1:y<0?0:y}clearMarkers(y){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===y&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let y=0;y<this.markers.length;y++)this.markers[y].dispose(),this.markers.splice(y--,1);this._isClearing=!1}addMarker(y){const _=new m.Marker(y);return this.markers.push(_),_.register(this.lines.onTrim(b=>{_.line-=b,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(b=>{_.line>=b.index&&(_.line+=b.amount)})),_.register(this.lines.onDelete(b=>{_.line>=b.index&&_.line<b.index+b.amount&&_.dispose(),_.line>b.index&&(_.line-=b.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(y){this._isClearing||this.markers.splice(this.markers.indexOf(y),1)}}},8437:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;const c=l(3734),f=l(511),d=l(643),h=l(482);a.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let g=0;class v{constructor(m,p,y=!1){this.isWrapped=y,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const _=p||f.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let b=0;b<m;++b)this.setCell(b,_);this.length=m}get(m){const p=this._data[3*m+0],y=2097151&p;return[this._data[3*m+1],2097152&p?this._combined[m]:y?(0,h.stringFromCodePoint)(y):"",p>>22,2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):y]}set(m,p){this._data[3*m+1]=p[d.CHAR_DATA_ATTR_INDEX],p[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=p[1],this._data[3*m+0]=2097152|m|p[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=p[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&p}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m]:2097151&p?(0,h.stringFromCodePoint)(2097151&p):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,p){return g=3*m,p.content=this._data[g+0],p.fg=this._data[g+1],p.bg=this._data[g+2],2097152&p.content&&(p.combinedData=this._combined[m]),268435456&p.bg&&(p.extended=this._extendedAttrs[m]),p}setCell(m,p){2097152&p.content&&(this._combined[m]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[m]=p.extended),this._data[3*m+0]=p.content,this._data[3*m+1]=p.fg,this._data[3*m+2]=p.bg}setCellFromCodePoint(m,p,y,_,b,S){268435456&b&&(this._extendedAttrs[m]=S),this._data[3*m+0]=p|y<<22,this._data[3*m+1]=_,this._data[3*m+2]=b}addCodepointToCell(m,p){let y=this._data[3*m+0];2097152&y?this._combined[m]+=(0,h.stringFromCodePoint)(p):(2097151&y?(this._combined[m]=(0,h.stringFromCodePoint)(2097151&y)+(0,h.stringFromCodePoint)(p),y&=-2097152,y|=2097152):y=p|4194304,this._data[3*m+0]=y)}insertCells(m,p,y,_){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length-m){const b=new f.CellData;for(let S=this.length-m-p-1;S>=0;--S)this.setCell(m+p+S,this.loadCell(m+S,b));for(let S=0;S<p;++S)this.setCell(m+S,y)}else for(let b=m;b<this.length;++b)this.setCell(b,y);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}deleteCells(m,p,y,_){if(m%=this.length,p<this.length-m){const b=new f.CellData;for(let S=0;S<this.length-m-p;++S)this.setCell(m+S,this.loadCell(m+p+S,b));for(let S=this.length-p;S<this.length;++S)this.setCell(S,y)}else for(let b=m;b<this.length;++b)this.setCell(b,y);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}replaceCells(m,p,y,_,b=!1){if(b)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&!this.isProtected(p)&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.isProtected(m)||this.setCell(m,y),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.setCell(m++,y)}resize(m,p){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const y=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*y)this._data=new Uint32Array(this._data.buffer,0,y);else{const _=new Uint32Array(y);_.set(this._data),this._data=_}for(let _=this.length;_<m;++_)this.setCell(_,p)}else{this._data=this._data.subarray(0,y);const _=Object.keys(this._combined);for(let S=0;S<_.length;S++){const C=parseInt(_[S],10);C>=m&&delete this._combined[C]}const b=Object.keys(this._extendedAttrs);for(let S=0;S<b.length;S++){const C=parseInt(b[S],10);C>=m&&delete this._extendedAttrs[C]}}return this.length=m,4*y*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,p=!1){if(p)for(let y=0;y<this.length;++y)this.isProtected(y)||this.setCell(y,m);else{this._combined={},this._extendedAttrs={};for(let y=0;y<this.length;++y)this.setCell(y,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const p in m._combined)this._combined[p]=m._combined[p];this._extendedAttrs={};for(const p in m._extendedAttrs)this._extendedAttrs[p]=m._extendedAttrs[p];this.isWrapped=m.isWrapped}clone(){const m=new v(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const p in this._combined)m._combined[p]=this._combined[p];for(const p in this._extendedAttrs)m._extendedAttrs[p]=this._extendedAttrs[p];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,p,y,_,b){const S=m._data;if(b)for(let M=_-1;M>=0;M--){for(let T=0;T<3;T++)this._data[3*(y+M)+T]=S[3*(p+M)+T];268435456&S[3*(p+M)+2]&&(this._extendedAttrs[y+M]=m._extendedAttrs[p+M])}else for(let M=0;M<_;M++){for(let T=0;T<3;T++)this._data[3*(y+M)+T]=S[3*(p+M)+T];268435456&S[3*(p+M)+2]&&(this._extendedAttrs[y+M]=m._extendedAttrs[p+M])}const C=Object.keys(m._combined);for(let M=0;M<C.length;M++){const T=parseInt(C[M],10);T>=p&&(this._combined[T-p+y]=m._combined[T])}}translateToString(m=!1,p=0,y=this.length){m&&(y=Math.min(y,this.getTrimmedLength()));let _="";for(;p<y;){const b=this._data[3*p+0],S=2097151&b;_+=2097152&b?this._combined[p]:S?(0,h.stringFromCodePoint)(S):d.WHITESPACE_CELL_CHAR,p+=b>>22||1}return _}}a.BufferLine=v},4841:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(o,a)=>{function l(c,f,d){if(f===c.length-1)return c[f].getTrimmedLength();const h=!c[f].hasContent(d-1)&&c[f].getWidth(d-1)===1,g=c[f+1].getWidth(0)===2;return h&&g?d-1:d}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(c,f,d,h,g){const v=[];for(let x=0;x<c.length-1;x++){let m=x,p=c.get(++m);if(!p.isWrapped)continue;const y=[c.get(x)];for(;m<c.length&&p.isWrapped;)y.push(p),p=c.get(++m);if(h>=x&&h<m){x+=y.length-1;continue}let _=0,b=l(y,_,f),S=1,C=0;for(;S<y.length;){const T=l(y,S,f),P=T-C,N=d-b,k=Math.min(P,N);y[_].copyCellsFrom(y[S],C,b,k,!1),b+=k,b===d&&(_++,b=0),C+=k,C===T&&(S++,C=0),b===0&&_!==0&&y[_-1].getWidth(d-1)===2&&(y[_].copyCellsFrom(y[_-1],d-1,b++,1,!1),y[_-1].setCell(d-1,g))}y[_].replaceCells(b,d,g);let M=0;for(let T=y.length-1;T>0&&(T>_||y[T].getTrimmedLength()===0);T--)M++;M>0&&(v.push(x+y.length-M),v.push(M)),x+=y.length-1}return v},a.reflowLargerCreateNewLayout=function(c,f){const d=[];let h=0,g=f[h],v=0;for(let x=0;x<c.length;x++)if(g===x){const m=f[++h];c.onDeleteEmitter.fire({index:x-v,amount:m}),x+=m-1,v+=m,g=f[++h]}else d.push(x);return{layout:d,countRemoved:v}},a.reflowLargerApplyNewLayout=function(c,f){const d=[];for(let h=0;h<f.length;h++)d.push(c.get(f[h]));for(let h=0;h<d.length;h++)c.set(h,d[h]);c.length=f.length},a.reflowSmallerGetNewLineLengths=function(c,f,d){const h=[],g=c.map((p,y)=>l(c,y,f)).reduce((p,y)=>p+y);let v=0,x=0,m=0;for(;m<g;){if(g-m<d){h.push(g-m);break}v+=d;const p=l(c,x,f);v>p&&(v-=p,x++);const y=c[x].getWidth(v-1)===2;y&&v--;const _=y?d-1:d;h.push(_),m+=_}return h},a.getWrappedLineTrimmedLength=l},5295:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;const c=l(8460),f=l(844),d=l(9092);class h extends f.Disposable{constructor(v,x){super(),this._optionsService=v,this._bufferService=x,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(v,x){this._normal.resize(v,x),this._alt.resize(v,x),this.setupTabStops(v)}setupTabStops(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)}}a.BufferSet=h},511:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const c=l(482),f=l(643),d=l(3734);class h extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(v){const x=new h;return x.setFromCharData(v),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[f.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(v[f.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(v[f.CHAR_DATA_CHAR_INDEX].length===2){const m=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const p=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(m-55296)+p-56320+65536|v[f.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[f.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=v[f.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[f.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=h},643:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;const c=l(8460),f=l(844);class d{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,f.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}a.Marker=d,d._nextId=1},7116:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},a.CHARSETS.A={"#":""},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},a.CHARSETS.C=a.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.E=a.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},a.CHARSETS.H=a.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(o,a)=>{var l,c,f;Object.defineProperty(a,"__esModule",{value:!0}),a.C1_ESCAPED=a.C1=a.C0=void 0,function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""}(l||(a.C0=l={})),function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""}(c||(a.C1=c={})),function(d){d.ST=`${l.ESC}\\`}(f||(a.C1_ESCAPED=f={}))},7399:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;const c=l(2584),f={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(d,h,g,v){const x={type:0,cancel:!1,key:void 0},m=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?x.key=h?c.C0.ESC+"OA":c.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?x.key=h?c.C0.ESC+"OD":c.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?x.key=h?c.C0.ESC+"OC":c.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(x.key=h?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(d.altKey){x.key=c.C0.ESC+c.C0.DEL;break}x.key=c.C0.DEL;break;case 9:if(d.shiftKey){x.key=c.C0.ESC+"[Z";break}x.key=c.C0.HT,x.cancel=!0;break;case 13:x.key=d.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,x.cancel=!0;break;case 27:x.key=c.C0.ESC,d.altKey&&(x.key=c.C0.ESC+c.C0.ESC),x.cancel=!0;break;case 37:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"D",x.key===c.C0.ESC+"[1;3D"&&(x.key=c.C0.ESC+(g?"b":"[1;5D"))):x.key=h?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"C",x.key===c.C0.ESC+"[1;3C"&&(x.key=c.C0.ESC+(g?"f":"[1;5C"))):x.key=h?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"A",g||x.key!==c.C0.ESC+"[1;3A"||(x.key=c.C0.ESC+"[1;5A")):x.key=h?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"B",g||x.key!==c.C0.ESC+"[1;3B"||(x.key=c.C0.ESC+"[1;5B")):x.key=h?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(x.key=c.C0.ESC+"[2~");break;case 46:x.key=m?c.C0.ESC+"[3;"+(m+1)+"~":c.C0.ESC+"[3~";break;case 36:x.key=m?c.C0.ESC+"[1;"+(m+1)+"H":h?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:x.key=m?c.C0.ESC+"[1;"+(m+1)+"F":h?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:d.shiftKey?x.type=2:d.ctrlKey?x.key=c.C0.ESC+"[5;"+(m+1)+"~":x.key=c.C0.ESC+"[5~";break;case 34:d.shiftKey?x.type=3:d.ctrlKey?x.key=c.C0.ESC+"[6;"+(m+1)+"~":x.key=c.C0.ESC+"[6~";break;case 112:x.key=m?c.C0.ESC+"[1;"+(m+1)+"P":c.C0.ESC+"OP";break;case 113:x.key=m?c.C0.ESC+"[1;"+(m+1)+"Q":c.C0.ESC+"OQ";break;case 114:x.key=m?c.C0.ESC+"[1;"+(m+1)+"R":c.C0.ESC+"OR";break;case 115:x.key=m?c.C0.ESC+"[1;"+(m+1)+"S":c.C0.ESC+"OS";break;case 116:x.key=m?c.C0.ESC+"[15;"+(m+1)+"~":c.C0.ESC+"[15~";break;case 117:x.key=m?c.C0.ESC+"[17;"+(m+1)+"~":c.C0.ESC+"[17~";break;case 118:x.key=m?c.C0.ESC+"[18;"+(m+1)+"~":c.C0.ESC+"[18~";break;case 119:x.key=m?c.C0.ESC+"[19;"+(m+1)+"~":c.C0.ESC+"[19~";break;case 120:x.key=m?c.C0.ESC+"[20;"+(m+1)+"~":c.C0.ESC+"[20~";break;case 121:x.key=m?c.C0.ESC+"[21;"+(m+1)+"~":c.C0.ESC+"[21~";break;case 122:x.key=m?c.C0.ESC+"[23;"+(m+1)+"~":c.C0.ESC+"[23~";break;case 123:x.key=m?c.C0.ESC+"[24;"+(m+1)+"~":c.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(g&&!v||!d.altKey||d.metaKey)!g||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?x.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(x.key=c.C0.US),d.key==="@"&&(x.key=c.C0.NUL)):d.keyCode===65&&(x.type=1);else{const p=f[d.keyCode],y=p==null?void 0:p[d.shiftKey?1:0];if(y)x.key=c.C0.ESC+y;else if(d.keyCode>=65&&d.keyCode<=90){const _=d.ctrlKey?d.keyCode-64:d.keyCode+32;let b=String.fromCharCode(_);d.shiftKey&&(b=b.toUpperCase()),x.key=c.C0.ESC+b}else if(d.keyCode===32)x.key=c.C0.ESC+(d.ctrlKey?c.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let _=d.code.slice(3,4);d.shiftKey||(_=_.toLowerCase()),x.key=c.C0.ESC+_,x.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?x.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?x.key=c.C0.NUL:d.keyCode>=51&&d.keyCode<=55?x.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?x.key=c.C0.DEL:d.keyCode===219?x.key=c.C0.ESC:d.keyCode===220?x.key=c.C0.FS:d.keyCode===221&&(x.key=c.C0.GS)}return x}},482:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},a.utf32ToString=function(l,c=0,f=l.length){let d="";for(let h=c;h<f;++h){let g=l[h];g>65535?(g-=65536,d+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):d+=String.fromCharCode(g)}return d},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const f=l.length;if(!f)return 0;let d=0,h=0;if(this._interim){const g=l.charCodeAt(h++);56320<=g&&g<=57343?c[d++]=1024*(this._interim-55296)+g-56320+65536:(c[d++]=this._interim,c[d++]=g),this._interim=0}for(let g=h;g<f;++g){const v=l.charCodeAt(g);if(55296<=v&&v<=56319){if(++g>=f)return this._interim=v,d;const x=l.charCodeAt(g);56320<=x&&x<=57343?c[d++]=1024*(v-55296)+x-56320+65536:(c[d++]=v,c[d++]=x)}else v!==65279&&(c[d++]=v)}return d}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const f=l.length;if(!f)return 0;let d,h,g,v,x=0,m=0,p=0;if(this.interim[0]){let b=!1,S=this.interim[0];S&=(224&S)==192?31:(240&S)==224?15:7;let C,M=0;for(;(C=63&this.interim[++M])&&M<4;)S<<=6,S|=C;const T=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,P=T-M;for(;p<P;){if(p>=f)return 0;if(C=l[p++],(192&C)!=128){p--,b=!0;break}this.interim[M++]=C,S<<=6,S|=63&C}b||(T===2?S<128?p--:c[x++]=S:T===3?S<2048||S>=55296&&S<=57343||S===65279||(c[x++]=S):S<65536||S>1114111||(c[x++]=S)),this.interim.fill(0)}const y=f-4;let _=p;for(;_<f;){for(;!(!(_<y)||128&(d=l[_])||128&(h=l[_+1])||128&(g=l[_+2])||128&(v=l[_+3]));)c[x++]=d,c[x++]=h,c[x++]=g,c[x++]=v,_+=4;if(d=l[_++],d<128)c[x++]=d;else if((224&d)==192){if(_>=f)return this.interim[0]=d,x;if(h=l[_++],(192&h)!=128){_--;continue}if(m=(31&d)<<6|63&h,m<128){_--;continue}c[x++]=m}else if((240&d)==224){if(_>=f)return this.interim[0]=d,x;if(h=l[_++],(192&h)!=128){_--;continue}if(_>=f)return this.interim[0]=d,this.interim[1]=h,x;if(g=l[_++],(192&g)!=128){_--;continue}if(m=(15&d)<<12|(63&h)<<6|63&g,m<2048||m>=55296&&m<=57343||m===65279)continue;c[x++]=m}else if((248&d)==240){if(_>=f)return this.interim[0]=d,x;if(h=l[_++],(192&h)!=128){_--;continue}if(_>=f)return this.interim[0]=d,this.interim[1]=h,x;if(g=l[_++],(192&g)!=128){_--;continue}if(_>=f)return this.interim[0]=d,this.interim[1]=h,this.interim[2]=g,x;if(v=l[_++],(192&v)!=128){_--;continue}if(m=(7&d)<<18|(63&h)<<12|(63&g)<<6|63&v,m<65536||m>1114111)continue;c[x++]=m}}return x}}},225:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let f;a.UnicodeV6=class{constructor(){if(this.version="6",!f){f=new Uint8Array(65536),f.fill(1),f[0]=0,f.fill(0,1,32),f.fill(0,127,160),f.fill(2,4352,4448),f[9001]=2,f[9002]=2,f.fill(2,11904,42192),f[12351]=1,f.fill(2,44032,55204),f.fill(2,63744,64256),f.fill(2,65040,65050),f.fill(2,65072,65136),f.fill(2,65280,65377),f.fill(2,65504,65511);for(let d=0;d<l.length;++d)f.fill(0,l[d][0],l[d][1]+1)}}wcwidth(d){return d<32?0:d<127?1:d<65536?f[d]:function(h,g){let v,x=0,m=g.length-1;if(h<g[0][0]||h>g[m][1])return!1;for(;m>=x;)if(v=x+m>>1,h>g[v][1])x=v+1;else{if(!(h<g[v][0]))return!0;m=v-1}return!1}(d,c)?0:d>=131072&&d<=196605||d>=196608&&d<=262141?2:1}}},5981:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;const c=l(8460),f=l(844);class d extends f.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,v){if(v!==void 0&&this._syncCalls>v)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,v){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v)}_innerWrite(g=0,v=!0){const x=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],p=this._action(m,v);if(p){const _=b=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,b)):this._innerWrite(x,b);return void p.catch(b=>(queueMicrotask(()=>{throw b}),Promise.resolve(!1))).then(_)}const y=this._callbacks[this._bufferOffset];if(y&&y(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}a.WriteBuffer=d},5941:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function f(d,h){const g=d.toString(16),v=g.length<2?"0"+g:g;switch(h){case 4:return g[0];case 8:return v;case 12:return(v+v).slice(0,3);default:return v+v}}a.parseColor=function(d){if(!d)return;let h=d.toLowerCase();if(h.indexOf("rgb:")===0){h=h.slice(4);const g=l.exec(h);if(g){const v=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/v*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/v*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/v*255)]}}else if(h.indexOf("#")===0&&(h=h.slice(1),c.exec(h)&&[3,6,9,12].includes(h.length))){const g=h.length/3,v=[0,0,0];for(let x=0;x<3;++x){const m=parseInt(h.slice(g*x,g*x+g),16);v[x]=g===1?m<<4:g===2?m:g===3?m>>4:m>>8}return v}},a.toRgbString=function(d,h=16){const[g,v,x]=d;return`rgb:${f(g,h)}/${f(v,h)}/${f(x,h)}`}},5770:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;const c=l(482),f=l(8742),d=l(5770),h=[];a.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=h,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}registerHandler(v,x){this._handlers[v]===void 0&&(this._handlers[v]=[]);const m=this._handlers[v];return m.push(x),{dispose:()=>{const p=m.indexOf(x);p!==-1&&m.splice(p,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}reset(){if(this._active.length)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].unhook(!1);this._stack.paused=!1,this._active=h,this._ident=0}hook(v,x){if(this.reset(),this._ident=v,this._active=this._handlers[v]||h,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(v,x,m){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(v,x,m);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(v,x,m))}unhook(v,x=!0){if(this._active.length){let m=!1,p=this._active.length-1,y=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,m=x,y=this._stack.fallThrough,this._stack.paused=!1),!y&&m===!1){for(;p>=0&&(m=this._active[p].unhook(v),m!==!0);p--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,m;p--}for(;p>=0;p--)if(m=this._active[p].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",v);this._active=h,this._ident=0}};const g=new f.Params;g.addParam(0),a.DcsHandler=class{constructor(v){this._handler=v,this._data="",this._params=g,this._hitLimit=!1}hook(v){this._params=v.length>1||v.params[0]?v.clone():g,this._data="",this._hitLimit=!1}put(v,x,m){this._hitLimit||(this._data+=(0,c.utf32ToString)(v,x,m),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(v){let x=!1;if(this._hitLimit)x=!1;else if(v&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(m=>(this._params=g,this._data="",this._hitLimit=!1,m));return this._params=g,this._data="",this._hitLimit=!1,x}}},2015:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;const c=l(844),f=l(8742),d=l(6242),h=l(6351);class g{constructor(p){this.table=new Uint8Array(p)}setDefault(p,y){this.table.fill(p<<4|y)}add(p,y,_,b){this.table[y<<8|p]=_<<4|b}addMany(p,y,_,b){for(let S=0;S<p.length;S++)this.table[y<<8|p[S]]=_<<4|b}}a.TransitionTable=g;const v=160;a.VT500_TRANSITION_TABLE=function(){const m=new g(4095),p=Array.apply(null,Array(256)).map((M,T)=>T),y=(M,T)=>p.slice(M,T),_=y(32,127),b=y(0,24);b.push(25),b.push.apply(b,y(28,32));const S=y(0,14);let C;for(C in m.setDefault(1,0),m.addMany(_,0,2,0),S)m.addMany([24,26,153,154],C,3,0),m.addMany(y(128,144),C,3,0),m.addMany(y(144,152),C,3,0),m.add(156,C,0,0),m.add(27,C,11,1),m.add(157,C,4,8),m.addMany([152,158,159],C,0,7),m.add(155,C,11,3),m.add(144,C,11,9);return m.addMany(b,0,3,0),m.addMany(b,1,3,1),m.add(127,1,0,1),m.addMany(b,8,0,8),m.addMany(b,3,3,3),m.add(127,3,0,3),m.addMany(b,4,3,4),m.add(127,4,0,4),m.addMany(b,6,3,6),m.addMany(b,5,3,5),m.add(127,5,0,5),m.addMany(b,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(_,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(y(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(_,7,0,7),m.addMany(b,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(y(64,127),3,7,0),m.addMany(y(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(y(48,60),4,8,4),m.addMany(y(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(y(32,64),6,0,6),m.add(127,6,0,6),m.addMany(y(64,127),6,0,0),m.addMany(y(32,48),3,9,5),m.addMany(y(32,48),5,9,5),m.addMany(y(48,64),5,0,6),m.addMany(y(64,127),5,7,0),m.addMany(y(32,48),4,9,5),m.addMany(y(32,48),1,9,2),m.addMany(y(32,48),2,9,2),m.addMany(y(48,127),2,10,0),m.addMany(y(48,80),1,10,0),m.addMany(y(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(y(96,127),1,10,0),m.add(80,1,11,9),m.addMany(b,9,0,9),m.add(127,9,0,9),m.addMany(y(28,32),9,0,9),m.addMany(y(32,48),9,9,12),m.addMany(y(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(b,11,0,11),m.addMany(y(32,128),11,0,11),m.addMany(y(28,32),11,0,11),m.addMany(b,10,0,10),m.add(127,10,0,10),m.addMany(y(28,32),10,0,10),m.addMany(y(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(y(32,48),10,9,12),m.addMany(b,12,0,12),m.add(127,12,0,12),m.addMany(y(28,32),12,0,12),m.addMany(y(32,48),12,9,12),m.addMany(y(48,64),12,0,11),m.addMany(y(64,127),12,12,13),m.addMany(y(64,127),10,12,13),m.addMany(y(64,127),9,12,13),m.addMany(b,13,13,13),m.addMany(_,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(v,0,2,0),m.add(v,8,5,8),m.add(v,6,0,6),m.add(v,11,0,11),m.add(v,13,13,13),m}();class x extends c.Disposable{constructor(p=a.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new f.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(y,_,b)=>{},this._executeHandlerFb=y=>{},this._csiHandlerFb=(y,_)=>{},this._escHandlerFb=y=>{},this._errorHandlerFb=y=>y,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new h.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,y=[64,126]){let _=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=p.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let S=0;S<p.intermediates.length;++S){const C=p.intermediates.charCodeAt(S);if(32>C||C>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=C}}if(p.final.length!==1)throw new Error("final must be a single byte");const b=p.final.charCodeAt(0);if(y[0]>b||b>y[1])throw new Error(`final must be in range ${y[0]} .. ${y[1]}`);return _<<=8,_|=b,_}identToString(p){const y=[];for(;p;)y.push(String.fromCharCode(255&p)),p>>=8;return y.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,y){const _=this._identifier(p,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const b=this._escHandlers[_];return b.push(y),{dispose:()=>{const S=b.indexOf(y);S!==-1&&b.splice(S,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,y){this._executeHandlers[p.charCodeAt(0)]=y}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,y){const _=this._identifier(p);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const b=this._csiHandlers[_];return b.push(y),{dispose:()=>{const S=b.indexOf(y);S!==-1&&b.splice(S,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,y){return this._dcsParser.registerHandler(this._identifier(p),y)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,y){return this._oscParser.registerHandler(p,y)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,y,_,b,S){this._parseStack.state=p,this._parseStack.handlers=y,this._parseStack.handlerPos=_,this._parseStack.transition=b,this._parseStack.chunkPos=S}parse(p,y,_){let b,S=0,C=0,M=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,M=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const T=this._parseStack.handlers;let P=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&P>-1){for(;P>=0&&(b=T[P](this._params),b!==!0);P--)if(b instanceof Promise)return this._parseStack.handlerPos=P,b}this._parseStack.handlers=[];break;case 4:if(_===!1&&P>-1){for(;P>=0&&(b=T[P](),b!==!0);P--)if(b instanceof Promise)return this._parseStack.handlerPos=P,b}this._parseStack.handlers=[];break;case 6:if(S=p[this._parseStack.chunkPos],b=this._dcsParser.unhook(S!==24&&S!==26,_),b)return b;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(S=p[this._parseStack.chunkPos],b=this._oscParser.end(S!==24&&S!==26,_),b)return b;S===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,M=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let T=M;T<y;++T){switch(S=p[T],C=this._transitions.table[this.currentState<<8|(S<160?S:v)],C>>4){case 2:for(let j=T+1;;++j){if(j>=y||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}if(++j>=y||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}if(++j>=y||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}if(++j>=y||(S=p[j])<32||S>126&&S<v){this._printHandler(p,T,j),T=j-1;break}}break;case 3:this._executeHandlers[S]?this._executeHandlers[S]():this._executeHandlerFb(S),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:T,code:S,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const P=this._csiHandlers[this._collect<<8|S];let N=P?P.length-1:-1;for(;N>=0&&(b=P[N](this._params),b!==!0);N--)if(b instanceof Promise)return this._preserveStack(3,P,N,C,T),b;N<0&&this._csiHandlerFb(this._collect<<8|S,this._params),this.precedingCodepoint=0;break;case 8:do switch(S){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(S-48)}while(++T<y&&(S=p[T])>47&&S<60);T--;break;case 9:this._collect<<=8,this._collect|=S;break;case 10:const k=this._escHandlers[this._collect<<8|S];let D=k?k.length-1:-1;for(;D>=0&&(b=k[D](),b!==!0);D--)if(b instanceof Promise)return this._preserveStack(4,k,D,C,T),b;D<0&&this._escHandlerFb(this._collect<<8|S),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|S,this._params);break;case 13:for(let j=T+1;;++j)if(j>=y||(S=p[j])===24||S===26||S===27||S>127&&S<v){this._dcsParser.put(p,T,j),T=j-1;break}break;case 14:if(b=this._dcsParser.unhook(S!==24&&S!==26),b)return this._preserveStack(6,[],0,C,T),b;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let j=T+1;;j++)if(j>=y||(S=p[j])<32||S>127&&S<v){this._oscParser.put(p,T,j),T=j-1;break}break;case 6:if(b=this._oscParser.end(S!==24&&S!==26),b)return this._preserveStack(5,[],0,C,T),b;S===27&&(C|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&C}}}a.EscapeSequenceParser=x},6242:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;const c=l(5770),f=l(482),d=[];a.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(h,g){this._handlers[h]===void 0&&(this._handlers[h]=[]);const v=this._handlers[h];return v.push(g),{dispose:()=>{const x=v.indexOf(g);x!==-1&&v.splice(x,1)}}}clearHandler(h){this._handlers[h]&&delete this._handlers[h]}setHandlerFallback(h){this._handlerFb=h}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let h=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;h>=0;--h)this._active[h].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].start();else this._handlerFb(this._id,"START")}_put(h,g,v){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(h,g,v);else this._handlerFb(this._id,"PUT",(0,f.utf32ToString)(h,g,v))}start(){this.reset(),this._state=1}put(h,g,v){if(this._state!==3){if(this._state===1)for(;g<v;){const x=h[g++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&v-g>0&&this._put(h,g,v)}}end(h,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let v=!1,x=this._active.length-1,m=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,v=g,m=this._stack.fallThrough,this._stack.paused=!1),!m&&v===!1){for(;x>=0&&(v=this._active[x].end(h),v!==!0);x--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,v;x--}for(;x>=0;x--)if(v=this._active[x].end(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,v}else this._handlerFb(this._id,"END",h);this._active=d,this._id=-1,this._state=0}}},a.OscHandler=class{constructor(h){this._handler=h,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(h,g,v){this._hitLimit||(this._data+=(0,f.utf32ToString)(h,g,v),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(h){let g=!1;if(this._hitLimit)g=!1;else if(h&&(g=this._handler(this._data),g instanceof Promise))return g.then(v=>(this._data="",this._hitLimit=!1,v));return this._data="",this._hitLimit=!1,g}}},8742:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;const l=2147483647;class c{static fromArray(d){const h=new c;if(!d.length)return h;for(let g=Array.isArray(d[0])?1:0;g<d.length;++g){const v=d[g];if(Array.isArray(v))for(let x=0;x<v.length;++x)h.addSubParam(v[x]);else h.addParam(v)}return h}constructor(d=32,h=32){if(this.maxLength=d,this.maxSubParamsLength=h,h>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(h),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new c(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let h=0;h<this.length;++h){d.push(this.params[h]);const g=this._subParamsIdx[h]>>8,v=255&this._subParamsIdx[h];v-g>0&&d.push(Array.prototype.slice.call(this._subParams,g,v))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>l?l:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>l?l:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const h=this._subParamsIdx[d]>>8,g=255&this._subParamsIdx[d];return g-h>0?this._subParams.subarray(h,g):null}getSubParamsAll(){const d={};for(let h=0;h<this.length;++h){const g=this._subParamsIdx[h]>>8,v=255&this._subParamsIdx[h];v-g>0&&(d[h]=this._subParams.slice(g,v))}return d}addDigit(d){let h;if(this._rejectDigits||!(h=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,v=g[h-1];g[h-1]=~v?Math.min(10*v+d,l):d}}a.Params=c},5741:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0,a.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const f={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(f),c.dispose=()=>this._wrappedAddonDispose(f),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let f=0;f<this._addons.length;f++)if(this._addons[f]===l){c=f;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;const c=l(3785),f=l(511);a.BufferApiView=class{constructor(d,h){this._buffer=d,this.type=h}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const h=this._buffer.lines.get(d);if(h)return new c.BufferLineApiView(h)}getNullCell(){return new f.CellData}}},3785:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;const c=l(511);a.BufferLineApiView=class{constructor(f){this._line=f}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(f,d){if(!(f<0||f>=this._line.length))return d?(this._line.loadCell(f,d),d):this._line.loadCell(f,new c.CellData)}translateToString(f,d,h){return this._line.translateToString(f,d,h)}}},8285:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;const c=l(8771),f=l(8460),d=l(844);class h extends d.Disposable{constructor(v){super(),this._core=v,this._onBufferChange=this.register(new f.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}a.BufferNamespaceApi=h},7975:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0,a.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,f=>c(f.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(f,d)=>c(f,d.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0,a.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,y,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,y,C):b(p,y))||C);return S>3&&C&&Object.defineProperty(p,y,C),C},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;const d=l(8460),h=l(844),g=l(5295),v=l(2585);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;let x=a.BufferService=class extends h.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,a.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,a.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(m,this))}resize(m,p){this.cols=m,this.rows=p,this.buffers.resize(m,p),this._onResize.fire({cols:m,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,p=!1){const y=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===m.fg&&_.getBg(0)===m.bg||(_=y.getBlankLine(m,p),this._cachedBlankLine=_),_.isWrapped=p;const b=y.ybase+y.scrollTop,S=y.ybase+y.scrollBottom;if(y.scrollTop===0){const C=y.lines.isFull;S===y.lines.length-1?C?y.lines.recycle().copyFrom(_):y.lines.push(_.clone()):y.lines.splice(S+1,0,_.clone()),C?this.isUserScrolling&&(y.ydisp=Math.max(y.ydisp-1,0)):(y.ybase++,this.isUserScrolling||y.ydisp++)}else{const C=S-b+1;y.lines.shiftElements(b+1,C-1,-1),y.lines.set(S,_.clone())}this.isUserScrolling||(y.ydisp=y.ybase),this._onScroll.fire(y.ydisp)}scrollLines(m,p,y){const _=this.buffer;if(m<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else m+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const b=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+m,_.ybase),0),b!==_.ydisp&&(p||this._onScroll.fire(_.ydisp))}};a.BufferService=x=c([f(0,v.IOptionsService)],x)},7994:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0,a.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(o,a,l){var c=this&&this.__decorate||function(_,b,S,C){var M,T=arguments.length,P=T<3?b:C===null?C=Object.getOwnPropertyDescriptor(b,S):C;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(_,b,S,C);else for(var N=_.length-1;N>=0;N--)(M=_[N])&&(P=(T<3?M(P):T>3?M(b,S,P):M(b,S))||P);return T>3&&P&&Object.defineProperty(b,S,P),P},f=this&&this.__param||function(_,b){return function(S,C){b(S,C,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;const d=l(2585),h=l(8460),g=l(844),v={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function x(_,b){let S=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(S|=64,S|=_.action):(S|=3&_.button,4&_.button&&(S|=64),8&_.button&&(S|=128),_.action===32?S|=32:_.action!==0||b||(S|=3)),S}const m=String.fromCharCode,p={DEFAULT:_=>{const b=[x(_,!1)+32,_.col+32,_.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${m(b[0])}${m(b[1])}${m(b[2])}`},SGR:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${x(_,!0)};${_.col};${_.row}${b}`},SGR_PIXELS:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${x(_,!0)};${_.x};${_.y}${b}`}};let y=a.CoreMouseService=class extends g.Disposable{constructor(_,b){super(),this._bufferService=_,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new h.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const S of Object.keys(v))this.addProtocol(S,v[S]);for(const S of Object.keys(p))this.addEncoding(S,p[S]);this.reset()}addProtocol(_,b){this._protocols[_]=b}addEncoding(_,b){this._encodings[_]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const b=this._encodings[this._activeEncoding](_);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,b,S){if(S){if(_.x!==b.x||_.y!==b.y)return!1}else if(_.col!==b.col||_.row!==b.row)return!1;return _.button===b.button&&_.action===b.action&&_.ctrl===b.ctrl&&_.alt===b.alt&&_.shift===b.shift}};a.CoreMouseService=y=c([f(0,d.IBufferService),f(1,d.ICoreService)],y)},6975:function(o,a,l){var c=this&&this.__decorate||function(y,_,b,S){var C,M=arguments.length,T=M<3?_:S===null?S=Object.getOwnPropertyDescriptor(_,b):S;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,_,b,S);else for(var P=y.length-1;P>=0;P--)(C=y[P])&&(T=(M<3?C(T):M>3?C(_,b,T):C(_,b))||T);return M>3&&T&&Object.defineProperty(_,b,T),T},f=this&&this.__param||function(y,_){return function(b,S){_(b,S,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;const d=l(1439),h=l(8460),g=l(844),v=l(2585),x=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=a.CoreService=class extends g.Disposable{constructor(y,_,b){super(),this._bufferService=y,this._logService=_,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new h.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new h.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(x),this.decPrivateModes=(0,d.clone)(m)}reset(){this.modes=(0,d.clone)(x),this.decPrivateModes=(0,d.clone)(m)}triggerDataEvent(y,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${y}"`,()=>y.split("").map(S=>S.charCodeAt(0))),this._onData.fire(y)}triggerBinaryEvent(y){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${y}"`,()=>y.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(y))}};a.CoreService=p=c([f(0,v.IBufferService),f(1,v.ILogService),f(2,v.IOptionsService)],p)},9074:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DecorationService=void 0;const c=l(8055),f=l(8460),d=l(844),h=l(6106);let g=0,v=0;class x extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new h.SortedList(y=>y==null?void 0:y.marker.line),this._onDecorationRegistered=this.register(new f.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new f.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)(()=>this.reset()))}registerDecoration(y){if(y.marker.isDisposed)return;const _=new m(y);if(_){const b=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),b.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const y of this._decorations.values())y.dispose();this._decorations.clear()}*getDecorationsAtCell(y,_,b){var S,C,M;let T=0,P=0;for(const N of this._decorations.getKeyIterator(_))T=(S=N.options.x)!==null&&S!==void 0?S:0,P=T+((C=N.options.width)!==null&&C!==void 0?C:1),y>=T&&y<P&&(!b||((M=N.options.layer)!==null&&M!==void 0?M:"bottom")===b)&&(yield N)}forEachDecorationAtCell(y,_,b,S){this._decorations.forEachByKey(_,C=>{var M,T,P;g=(M=C.options.x)!==null&&M!==void 0?M:0,v=g+((T=C.options.width)!==null&&T!==void 0?T:1),y>=g&&y<v&&(!b||((P=C.options.layer)!==null&&P!==void 0?P:"bottom")===b)&&S(C)})}}a.DecorationService=x;class m extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(y){super(),this.options=y,this.onRenderEmitter=this.register(new f.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=y.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;const c=l(2585),f=l(8343);class d{constructor(...g){this._entries=new Map;for(const[v,x]of g)this.set(v,x)}set(g,v){const x=this._entries.get(g);return this._entries.set(g,v),x}forEach(g){for(const[v,x]of this._entries.entries())g(v,x)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}a.ServiceCollection=d,a.InstantiationService=class{constructor(){this._services=new d,this._services.set(c.IInstantiationService,this)}setService(h,g){this._services.set(h,g)}getService(h){return this._services.get(h)}createInstance(h,...g){const v=(0,f.getServiceDependencies)(h).sort((p,y)=>p.index-y.index),x=[];for(const p of v){const y=this._services.get(p.id);if(!y)throw new Error(`[createInstance] ${h.name} depends on UNKNOWN service ${p.id}.`);x.push(y)}const m=v.length>0?v[0].index:g.length;if(g.length!==m)throw new Error(`[createInstance] First service dependency of ${h.name} at position ${m+1} conflicts with ${g.length} static arguments`);return new h(...g,...x)}}},7866:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,S=arguments.length,C=S<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")C=Reflect.decorate(m,p,y,_);else for(var M=m.length-1;M>=0;M--)(b=m[M])&&(C=(S<3?b(C):S>3?b(p,y,C):b(p,y))||C);return S>3&&C&&Object.defineProperty(p,y,C),C},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const d=l(844),h=l(2585),g={trace:h.LogLevelEnum.TRACE,debug:h.LogLevelEnum.DEBUG,info:h.LogLevelEnum.INFO,warn:h.LogLevelEnum.WARN,error:h.LogLevelEnum.ERROR,off:h.LogLevelEnum.OFF};let v,x=a.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=h.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),v=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let p=0;p<m.length;p++)typeof m[p]=="function"&&(m[p]=m[p]())}_log(m,p,y){this._evalLazyOptionalParams(y),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+p,...y)}trace(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.TRACE&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}debug(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.DEBUG&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}info(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.INFO&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,m,p)}warn(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.WARN&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,m,p)}error(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.ERROR&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,m,p)}};a.LogService=x=c([f(0,h.IOptionsService)],x),a.setTraceLogger=function(m){v=m},a.traceCall=function(m,p,y){if(typeof y.value!="function")throw new Error("not supported");const _=y.value;y.value=function(...b){if(v.logLevel!==h.LogLevelEnum.TRACE)return _.apply(this,b);v.trace(`GlyphRenderer#${_.name}(${b.map(C=>JSON.stringify(C)).join(", ")})`);const S=_.apply(this,b);return v.trace(`GlyphRenderer#${_.name} return`,S),S}}},7302:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=void 0;const c=l(8460),f=l(844),d=l(6114);a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const h=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends f.Disposable{constructor(x){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},a.DEFAULT_OPTIONS);for(const p in x)if(p in m)try{const y=x[p];m[p]=this._sanitizeAndValidateOption(p,y)}catch(y){console.error(y)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(x,m){return this.onOptionChange(p=>{p===x&&m(this.rawOptions[x])})}onMultipleOptionChange(x,m){return this.onOptionChange(p=>{x.indexOf(p)!==-1&&m()})}_setupOptions(){const x=p=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},m=(p,y)=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);y=this._sanitizeAndValidateOption(p,y),this.rawOptions[p]!==y&&(this.rawOptions[p]=y,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const y={get:x.bind(this,p),set:m.bind(this,p)};Object.defineProperty(this.options,p,y)}}_sanitizeAndValidateOption(x,m){switch(x){case"cursorStyle":if(m||(m=a.DEFAULT_OPTIONS[x]),!function(p){return p==="block"||p==="underline"||p==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${x}`);break;case"wordSeparator":m||(m=a.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=h.includes(m)?m:a.DEFAULT_OPTIONS[x];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${x} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${x} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}a.OptionsService=g},2660:function(o,a,l){var c=this&&this.__decorate||function(g,v,x,m){var p,y=arguments.length,_=y<3?v:m===null?m=Object.getOwnPropertyDescriptor(v,x):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(g,v,x,m);else for(var b=g.length-1;b>=0;b--)(p=g[b])&&(_=(y<3?p(_):y>3?p(v,x,_):p(v,x))||_);return y>3&&_&&Object.defineProperty(v,x,_),_},f=this&&this.__param||function(g,v){return function(x,m){v(x,m,g)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkService=void 0;const d=l(2585);let h=a.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const v=this._bufferService.buffer;if(g.id===void 0){const b=v.addMarker(v.ybase+v.y),S={data:g,id:this._nextId++,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(S,b)),this._dataByLinkId.set(S.id,S),S.id}const x=g,m=this._getEntryIdKey(x),p=this._entriesWithId.get(m);if(p)return this.addLineToLink(p.id,v.ybase+v.y),p.id;const y=v.addMarker(v.ybase+v.y),_={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(_,y)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(g,v){const x=this._dataByLinkId.get(g);if(x&&x.lines.every(m=>m.line!==v)){const m=this._bufferService.buffer.addMarker(v);x.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(x,m))}}getLinkData(g){var v;return(v=this._dataByLinkId.get(g))===null||v===void 0?void 0:v.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,v){const x=g.lines.indexOf(v);x!==-1&&(g.lines.splice(x,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};a.OscLinkService=h=c([f(0,d.IBufferService)],h)},8343:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const l="di$target",c="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(f){return f[c]||[]},a.createDecorator=function(f){if(a.serviceRegistry.has(f))return a.serviceRegistry.get(f);const d=function(h,g,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,m,p){m[l]===m?m[c].push({id:x,index:p}):(m[c]=[{id:x,index:p}],m[l]=m)})(d,h,v)};return d.toString=()=>f,a.serviceRegistry.set(f,d),d}},2585:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const c=l(8343);var f;a.IBufferService=(0,c.createDecorator)("BufferService"),a.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),a.ICoreService=(0,c.createDecorator)("CoreService"),a.ICharsetService=(0,c.createDecorator)("CharsetService"),a.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"}(f||(a.LogLevelEnum=f={})),a.ILogService=(0,c.createDecorator)("LogService"),a.IOptionsService=(0,c.createDecorator)("OptionsService"),a.IOscLinkService=(0,c.createDecorator)("OscLinkService"),a.IUnicodeService=(0,c.createDecorator)("UnicodeService"),a.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const c=l(8460),f=l(225);a.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const d=new f.UnicodeV6;this.register(d),this._active=d.version,this._activeProvider=d}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(d){if(!this._providers[d])throw new Error(`unknown Unicode version "${d}"`);this._active=d,this._activeProvider=this._providers[d],this._onChange.fire(d)}register(d){this._providers[d.version]=d}wcwidth(d){return this._activeProvider.wcwidth(d)}getStringCellWidth(d){let h=0;const g=d.length;for(let v=0;v<g;++v){let x=d.charCodeAt(v);if(55296<=x&&x<=56319){if(++v>=g)return h+this.wcwidth(x);const m=d.charCodeAt(v);56320<=m&&m<=57343?x=1024*(x-55296)+m-56320+65536:h+=this.wcwidth(m)}h+=this.wcwidth(x)}return h}}}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o].call(l.exports,l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const a=i(9042),l=i(3236),c=i(844),f=i(5741),d=i(8285),h=i(7975),g=i(7090),v=["cols","rows"];class x extends c.Disposable{constructor(p){super(),this._core=this.register(new l.Terminal(p)),this._addonManager=this.register(new f.AddonManager),this._publicOptions=Object.assign({},this._core.options);const y=b=>this._core.options[b],_=(b,S)=>{this._checkReadonlyOptions(b),this._core.options[b]=S};for(const b in this._core.options){const S={get:y.bind(this,b),set:_.bind(this,b)};Object.defineProperty(this._publicOptions,b,S)}}_checkReadonlyOptions(p){if(v.includes(p))throw new Error(`Option "${p}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new h.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const p=this._core.coreService.decPrivateModes;let y="none";switch(this._core.coreMouseService.activeProtocol){case"X10":y="x10";break;case"VT200":y="vt200";break;case"DRAG":y="drag";break;case"ANY":y="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:y,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}}get options(){return this._publicOptions}set options(p){for(const y in p)this._publicOptions[y]=p[y]}blur(){this._core.blur()}focus(){this._core.focus()}resize(p,y){this._verifyIntegers(p,y),this._core.resize(p,y)}open(p){this._core.open(p)}attachCustomKeyEventHandler(p){this._core.attachCustomKeyEventHandler(p)}registerLinkProvider(p){return this._core.registerLinkProvider(p)}registerCharacterJoiner(p){return this._checkProposedApi(),this._core.registerCharacterJoiner(p)}deregisterCharacterJoiner(p){this._checkProposedApi(),this._core.deregisterCharacterJoiner(p)}registerMarker(p=0){return this._verifyIntegers(p),this._core.registerMarker(p)}registerDecoration(p){var y,_,b;return this._checkProposedApi(),this._verifyPositiveIntegers((y=p.x)!==null&&y!==void 0?y:0,(_=p.width)!==null&&_!==void 0?_:0,(b=p.height)!==null&&b!==void 0?b:0),this._core.registerDecoration(p)}hasSelection(){return this._core.hasSelection()}select(p,y,_){this._verifyIntegers(p,y,_),this._core.select(p,y,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(p,y){this._verifyIntegers(p,y),this._core.selectLines(p,y)}dispose(){super.dispose()}scrollLines(p){this._verifyIntegers(p),this._core.scrollLines(p)}scrollPages(p){this._verifyIntegers(p),this._core.scrollPages(p)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(p){this._verifyIntegers(p),this._core.scrollToLine(p)}clear(){this._core.clear()}write(p,y){this._core.write(p,y)}writeln(p,y){this._core.write(p),this._core.write(`\r
`,y)}paste(p){this._core.paste(p)}refresh(p,y){this._verifyIntegers(p,y),this._core.refresh(p,y)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(p){this._addonManager.loadAddon(this,p)}static get strings(){return a}_verifyIntegers(...p){for(const y of p)if(y===1/0||isNaN(y)||y%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...p){for(const y of p)if(y&&(y===1/0||isNaN(y)||y%1!=0||y<0))throw new Error("This API only accepts positive integers")}}o.Terminal=x})(),s})())})(Yle);var met=Yle.exports,Qle={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const o=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(a.getPropertyValue("height")),c=Math.max(0,parseInt(a.getPropertyValue("width"))),f=window.getComputedStyle(this._terminal.element),d=l-(parseInt(f.getPropertyValue("padding-top"))+parseInt(f.getPropertyValue("padding-bottom"))),h=c-(parseInt(f.getPropertyValue("padding-right"))+parseInt(f.getPropertyValue("padding-left")))-o;return{cols:Math.max(2,Math.floor(h/s.css.cell.width)),rows:Math.max(1,Math.floor(d/s.css.cell.height))}}}})(),n})())})(Qle);var get=Qle.exports,Jle={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={6:(o,a)=>{function l(f){try{const d=new URL(f),h=d.password&&d.username?`${d.protocol}//${d.username}:${d.password}@${d.host}`:d.username?`${d.protocol}//${d.username}@${d.host}`:`${d.protocol}//${d.host}`;return f.toLocaleLowerCase().startsWith(h.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.LinkComputer=a.WebLinkProvider=void 0,a.WebLinkProvider=class{constructor(f,d,h,g={}){this._terminal=f,this._regex=d,this._handler=h,this._options=g}provideLinks(f,d){const h=c.computeLink(f,this._regex,this._terminal,this._handler);d(this._addCallbacks(h))}_addCallbacks(f){return f.map(d=>(d.leave=this._options.leave,d.hover=(h,g)=>{if(this._options.hover){const{range:v}=d;this._options.hover(h,g,v)}},d))}};class c{static computeLink(d,h,g,v){const x=new RegExp(h.source,(h.flags||"")+"g"),[m,p]=c._getWindowedLineStrings(d-1,g),y=m.join("");let _;const b=[];for(;_=x.exec(y);){const S=_[0];if(!l(S))continue;const[C,M]=c._mapStrIdx(g,p,0,_.index),[T,P]=c._mapStrIdx(g,C,M,S.length);if(C===-1||M===-1||T===-1||P===-1)continue;const N={start:{x:M+1,y:C+1},end:{x:P,y:T+1}};b.push({range:N,text:S,activate:v})}return b}static _getWindowedLineStrings(d,h){let g,v=d,x=d,m=0,p="";const y=[];if(g=h.buffer.active.getLine(d)){const _=g.translateToString(!0);if(g.isWrapped&&_[0]!==" "){for(m=0;(g=h.buffer.active.getLine(--v))&&m<2048&&(p=g.translateToString(!0),m+=p.length,y.push(p),g.isWrapped&&p.indexOf(" ")===-1););y.reverse()}for(y.push(_),m=0;(g=h.buffer.active.getLine(++x))&&g.isWrapped&&m<2048&&(p=g.translateToString(!0),m+=p.length,y.push(p),p.indexOf(" ")===-1););}return[y,v]}static _mapStrIdx(d,h,g,v){const x=d.buffer.active,m=x.getNullCell();let p=g;for(;v;){const y=x.getLine(h);if(!y)return[-1,-1];for(let _=p;_<y.length;++_){y.getCell(_,m);const b=m.getChars();if(m.getWidth()&&(v-=b.length||1,_===y.length-1&&b==="")){const S=x.getLine(h+1);S&&S.isWrapped&&(S.getCell(0,m),m.getWidth()===2&&(v+=1))}if(v<0)return[h,_]}h++,p=0}return[h,p]}}a.LinkComputer=c}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o](l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.WebLinksAddon=void 0;const a=i(6),l=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(f,d){const h=window.open();if(h){try{h.opener=null}catch{}h.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}o.WebLinksAddon=class{constructor(f=c,d={}){this._handler=f,this._options=d}activate(f){this._terminal=f;const d=this._options,h=d.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new a.WebLinkProvider(this._terminal,h,this._handler,d))}dispose(){var f;(f=this._linkProvider)==null||f.dispose()}}})(),s})())})(Jle);var vet=Jle.exports;function yet(){console.log("TerminalTab component rendered");const t=A.useRef(null),[e,n]=A.useState([]),[r,i]=A.useState(""),[s,o]=A.useState(10),a=()=>{console.log("createTerminal called");const f=crypto.randomUUID(),d=`Terminal ${e.length+1}`,h=new met.Terminal({cursorBlink:!0,fontSize:s,fontFamily:"JetBrains Mono, monospace",theme:{background:"hsl(var(--background))",foreground:"hsl(var(--foreground))",cursor:"hsl(var(--primary))",black:"hsl(var(--muted))",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"hsl(var(--foreground))"}}),g=new get.FitAddon;h.loadAddon(g);const v=new vet.WebLinksAddon;h.loadAddon(v);const x=window.location.protocol==="https:"?"wss:":"ws:",m=localStorage.getItem("access_token"),p=new WebSocket(`${x}//${window.location.host}/ws/shell/${f}?token=${m}`);p.onopen=()=>{console.log(`Orchestrator WebSocket connected for terminal ${f}`),h.writeln("Welcome to ARCANA Terminal (via Orchestrator)"),h.writeln("Cognitive Shell Interface v2.2.0"),h.writeln(""),g.fit();const _={type:"shell_resize",payload:{cols:h.cols,rows:h.rows}};p.send(JSON.stringify(_))},p.onmessage=_=>{try{const b=JSON.parse(_.data);b.type==="shell_output"&&b.payload.data?h.write(b.payload.data):console.log("Received unhandled message type:",b.type)}catch(b){console.error("Failed to parse WebSocket message:",b),h.write(_.data)}},p.onclose=()=>{console.log(`Terminal ${f} WebSocket disconnected`),h.writeln(`
\rConnection to terminal backend lost.`)},p.onerror=_=>{console.error(`Terminal ${f} WebSocket error:`,_),h.writeln(`
\rTerminal connection error.`)},h.onData(_=>{if(console.log(`terminal.onData for ${f}. Data: ${_}`),p.readyState===WebSocket.OPEN){const b={type:"shell_input",payload:{data:_}};p.send(JSON.stringify(b))}}),h.onResize(_=>{if(p.readyState===WebSocket.OPEN){const b={type:"shell_resize",payload:{cols:_.cols,rows:_.rows}};p.send(JSON.stringify(b))}});const y={id:f,name:d,terminal:h,fitAddon:g,ws:p};n(_=>[..._,y]),i(f)},l=f=>{console.log(`closeTerminal called for ${f}`);const d=e.find(g=>g.id===f);d&&(d.terminal.dispose(),d.ws.close());const h=e.filter(g=>g.id!==f);n(h),r===f&&h.length>0?i(h[0].id):r===f&&h.length===0&&i("")},c=f=>{o(d=>{const h=Math.max(5,Math.min(20,d+f));return e.forEach(g=>{g.terminal.options.fontSize=h,g.fitAddon.fit()}),h})};return A.useEffect(()=>{console.log("useEffect [terminals] triggered. terminals.length:",e.length),e.length===0&&a();const f=new ResizeObserver(()=>{console.log("ResizeObserver triggered."),e.forEach(d=>d.fitAddon.fit())});return t.current?(console.log("Observing terminalContainerRef.current for resize."),f.observe(t.current)):console.warn("terminalContainerRef.current is null in useEffect [terminals]. Cannot observe for resize."),()=>{console.log("useEffect [terminals] cleanup function executed."),e.forEach(d=>{console.log(`Disposing terminal ${d.id}.`),d.terminal.dispose()}),f.disconnect()}},[e]),A.useEffect(()=>{console.log("useEffect [activeTerminal] triggered. activeTerminal:",r);const f=e.find(d=>d.id===r);e.forEach(d=>{d.id!==r&&d.terminal.element&&d.terminal.element.parentNode&&(d.terminal.element.parentNode.removeChild(d.terminal.element),console.log(`Detached terminal ${d.id}`))}),f&&t.current?(console.log(`Attempting to display terminal ${f.id} in container.`),(!f.terminal.element||f.terminal.element.parentNode!==t.current)&&(t.current.innerHTML!==""&&(t.current.innerHTML=""),f.terminal.open(t.current),console.log(`Terminal ${f.id} opened/reattached.`)),f.terminal.focus(),f.fitAddon.fit(),console.log(`FitAddon.fit() called for terminal ${f.id}.`)):console.warn("No active terminal or terminalContainerRef.current is null in useEffect [activeTerminal].")},[r,e]),u.jsxs("div",{className:"h-full flex flex-col p-6",children:[u.jsxs(Ge,{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"border-b bg-card/50 px-4 py-2 flex items-center justify-between",children:[u.jsx(Gl,{value:r,onValueChange:i,className:"flex-1",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ka,{className:"bg-transparent h-9",children:e.map(f=>u.jsxs(er,{value:f.id,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-terminal-${f.id}`,children:[f.name,e.length>1&&u.jsx("button",{onClick:d=>{d.stopPropagation(),l(f.id)},className:"ml-1 hover:bg-muted rounded-sm p-0.5","data-testid":`button-close-terminal-${f.id}`,children:u.jsx(hb,{className:"h-4 w-4"})})]},f.id))}),u.jsx(ke,{variant:"ghost",size:"sm",onClick:a,"data-testid":"button-new-terminal",children:u.jsx(qi,{className:"h-4 w-4"})})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>c(-1),children:"-"}),u.jsxs("span",{children:[s,"px"]}),u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>c(1),children:"+"})]})]}),u.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:u.jsx("div",{ref:t,className:"h-full w-full rounded-md overflow-hidden bg-background"})})]}),u.jsxs("div",{className:"mt-4 text-xs text-muted-foreground flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{children:"CWD: ~/projects/vareon"}),u.jsx("span",{children:"Shell: bash"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs",children:"Ctrl+C"}),u.jsx("span",{children:"Interrupt"}),u.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs ml-4",children:"Ctrl+L"}),u.jsx("span",{children:"Clear"})]})]})]})}const xet=async(t,e)=>{if(!e)return[];const n=await fetch(`/api/arcana/file-tree/?local_path=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const r=await n.json().catch(()=>({detail:"Failed to fetch file tree"}));throw new Error(r.detail)}return n.json()},_et=async t=>{const e=await fetch("/api/git/config",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok){if(e.status===404)return null;const n=await e.json();throw new Error(n.detail||"Failed to fetch user Git config")}return e.json()},bet=async(t,e)=>{if(!e)return[];const n=await fetch(`/api/git/branches?local_path=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to fetch branches")}return n.json()},ece=({node:t,level:e=0,onFileSelect:n,selectedFile:r})=>{var c;const[i,s]=A.useState(!1),o=t.children&&t.children.length>0,a=()=>{t.is_dir?s(!i):n(t.path)},l=r===t.path;return u.jsxs("div",{children:[u.jsxs("div",{className:`flex items-center p-1 rounded-md hover:bg-accent/50 cursor-pointer ${l?"bg-accent":""}`,style:{paddingLeft:`${e*1.5}rem`},onClick:a,children:[t.is_dir?u.jsxs(u.Fragment,{children:[o?i?u.jsx(Ov,{className:"h-4 w-4 mr-1"}):u.jsx(db,{className:"h-4 w-4 mr-1"}):u.jsx("span",{className:"w-5"}),u.jsx(_I,{className:"h-4 w-4 mr-2 text-blue-500"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-5"}),u.jsx(Iye,{className:"h-4 w-4 mr-2 text-gray-500"})," "]}),u.jsx("span",{className:"text-sm",children:t.name})]}),i&&o&&u.jsx("div",{children:(c=t.children)==null?void 0:c.map(f=>u.jsx(ece,{node:f,level:e+1,onFileSelect:n,selectedFile:r},f.path))})]})},oG=({onFileSelect:t,selectedFile:e,selectedRepoPath:n,setSelectedRepoPath:r,selectedBranch:i,setSelectedBranch:s})=>{const{token:o}=ia(),{toast:a}=bo(),{data:l,isLoading:c,error:f}=yn({queryKey:["userGitConfig"],queryFn:()=>_et(o),enabled:!!o});A.useEffect(()=>{l&&l.default_local_path&&!n&&(r(l.default_local_path),l.default_branch&&!i&&s(l.default_branch))},[l,n,i,r,s]);const{data:d,isLoading:h,error:g}=yn({queryKey:["gitBranches",n],queryFn:()=>bet(o,n),enabled:!!o&&!!n}),{data:v,isLoading:x,error:m}=yn({queryKey:["fileTree",n,i],queryFn:()=>xet(o,n),enabled:!!o&&!!n});return c||x||h?u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(_I,{className:"h-5 w-5"})," Project Context"]})}),u.jsxs(et,{className:"flex-1 flex items-center justify-center",children:[u.jsx(vn,{className:"h-6 w-6 animate-spin"}),u.jsx("p",{className:"ml-2 text-white",children:"Loading project context..."})]})]}):(f&&a({title:"Error",description:`Failed to load Git config: ${f.message}. Please configure in User Profile.`,variant:"destructive"}),m&&a({title:"Error",description:`Failed to load file tree: ${m.message}`,variant:"destructive"}),g&&a({title:"Error",description:`Failed to load branches: ${g.message}`,variant:"destructive"}),u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(_I,{className:"h-5 w-5"})," Project Context"]}),u.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[u.jsx(mt,{htmlFor:"repo-select",className:"sr-only",children:"Select Repository"}),u.jsxs(pr,{value:n,onValueChange:r,children:[u.jsx(lr,{id:"repo-select",className:"w-full",children:u.jsx(mr,{placeholder:"Select Repository"})}),u.jsx(cr,{children:(l==null?void 0:l.default_local_path)&&u.jsxs(At,{value:l.default_local_path,children:[l.default_local_path," (",l.default_repo_url,")"]})})]}),u.jsx(mt,{htmlFor:"branch-select",className:"sr-only",children:"Select Branch"}),u.jsxs(pr,{value:i,onValueChange:s,disabled:!n||h,children:[u.jsx(lr,{id:"branch-select",className:"w-full",children:u.jsx(mr,{placeholder:"Select Branch"})}),u.jsx(cr,{children:d==null?void 0:d.map(p=>u.jsx(At,{value:p.name,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gm,{className:"h-4 w-4"})," ",p.name," ",p.is_current&&"(current)"," ",p.is_remote&&"(remote)"]})},p.name))})]})]})]}),u.jsx(et,{className:"flex-1 overflow-hidden",children:u.jsxs(ah,{className:"h-full p-2 border rounded-md bg-black font-mono text-sm",children:[m&&u.jsxs("p",{className:"text-red-500",children:["Error loading file tree: ",m.message]}),v==null?void 0:v.map(p=>u.jsx(ece,{node:p,onFileSelect:t,selectedFile:e},p.path)),!(v!=null&&v.length)&&!x&&u.jsx("p",{className:"text-muted-foreground",children:"No files found or repository not selected/cloned."})]})})]}))},aG=({localPath:t,currentBranch:e,onBranchChange:n})=>{const{toast:r}=bo(),i=bi(),{token:s}=ia(),[o,a]=Ni(),[l,c]=A.useState(""),[f,d]=A.useState(""),[h,g]=A.useState(""),[v,x]=A.useState("");A.useEffect(()=>{const I=new URLSearchParams(o.split("?")[1]);if(I.get("github_auth_success")==="true")r({title:"GitHub Connected",description:"Your GitHub account has been successfully connected."}),a(o.split("?")[0],{replace:!0});else if(I.get("github_auth_success")==="false"){const B=I.get("error_description")||"Unknown error";r({title:"GitHub Connection Failed",description:`Error: ${B}`,variant:"destructive"}),a(o.split("?")[0],{replace:!0})}},[o,a,r]);const{data:m,isLoading:p,error:y}=yn({queryKey:["gitStatus",t],queryFn:async()=>{const I=await fetch(`/api/git/status?local_path=${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${s}`}});if(!I.ok){const B=await I.json();throw new Error(B.detail||"Failed to fetch Git status")}return I.json()},enabled:!!s&&!!t,refetchInterval:5e3}),{data:_,isLoading:b,error:S}=yn({queryKey:["gitBranches",t],queryFn:async()=>{const I=await fetch(`/api/git/branches?local_path=${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${s}`}});if(!I.ok){const B=await I.json();throw new Error(B.detail||"Failed to fetch branches")}return I.json()},enabled:!!s&&!!t}),C=Lt({mutationFn:async I=>{const B=await fetch(`/api/git/add?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({files:I})});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to add files")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Files added to staging."}),i.invalidateQueries({queryKey:["gitStatus",t]})},onError:I=>{r({title:"Error",description:`Failed to add files: ${I.message}`,variant:"destructive"})}}),M=Lt({mutationFn:async I=>{const B=await fetch(`/api/git/commit?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(I)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to commit changes")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Changes committed."}),i.invalidateQueries({queryKey:["gitStatus",t]}),c("")},onError:I=>{r({title:"Error",description:`Failed to commit changes: ${I.message}`,variant:"destructive"})}}),T=Lt({mutationFn:async I=>{const B=await fetch(`/api/git/push?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(I)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to push changes")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Changes pushed to remote."}),i.invalidateQueries({queryKey:["gitStatus",t]})},onError:I=>{r({title:"Error",description:`Failed to push changes: ${I.message}`,variant:"destructive"})}}),P=Lt({mutationFn:async I=>{const B=await fetch(`/api/git/pull?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(I)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to pull changes")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Changes pulled from remote."}),i.invalidateQueries({queryKey:["gitStatus",t]})},onError:I=>{r({title:"Error",description:`Failed to pull changes: ${I.message}`,variant:"destructive"})}}),N=Lt({mutationFn:async I=>{const B=await fetch(`/api/git/checkout?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(I)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to checkout branch")}return B.json()},onSuccess:(I,B)=>{r({title:"Success",description:I}),i.invalidateQueries({queryKey:["gitStatus",t]}),i.invalidateQueries({queryKey:["gitBranches",t]}),n(B.branch_name)},onError:I=>{r({title:"Error",description:`Failed to checkout branch: ${I.message}`,variant:"destructive"})}}),k=Lt({mutationFn:async I=>{const B=await fetch(`/api/git/branch?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(I)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to create branch")}return B.json()},onSuccess:I=>{r({title:"Success",description:I}),i.invalidateQueries({queryKey:["gitBranches",t]}),x("")},onError:I=>{r({title:"Error",description:`Failed to create branch: ${I.message}`,variant:"destructive"})}}),D=()=>{C.mutate(["."])},j=()=>{if(!l.trim()){r({title:"Warning",description:"Commit message cannot be empty.",variant:"warning"});return}M.mutate({message:l,author_name:f||void 0,author_email:h||void 0})},F=()=>{T.mutate({})},z=()=>{P.mutate({})},U=I=>{N.mutate({branch_name:I})},H=()=>{if(!v.trim()){r({title:"Warning",description:"Branch name cannot be empty.",variant:"warning"});return}k.mutate({branch_name:v})},R=()=>{window.location.href="/api/git/github/authorize"};return t?p||b?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(vn,{className:"h-6 w-6 animate-spin mx-auto"})," Loading Git data..."]}):y?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading Git status: ",y.message]}):S?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading branches: ",S.message]}):u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Gm,{className:"h-5 w-5"})," Git Operations",m&&u.jsxs(fn,{variant:"secondary",className:"ml-2",children:[m.current_branch,m.ahead_by>0&&u.jsxs("span",{className:"ml-1 text-green-500",children:["",m.ahead_by]}),m.behind_by>0&&u.jsxs("span",{className:"ml-1 text-red-500",children:["",m.behind_by]})]})]})}),u.jsxs(et,{className:"flex-1 overflow-y-auto space-y-4",children:[u.jsx("div",{className:"flex justify-end mb-4",children:u.jsxs(ke,{onClick:R,className:"gap-2",children:[u.jsx(Dx,{className:"h-4 w-4"})," Connect to GitHub"]})}),m&&u.jsxs(u.Fragment,{children:[m.is_dirty&&u.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[u.jsx(gI,{className:"h-4 w-4"}),u.jsx("span",{children:"Uncommitted changes detected."})]}),m.staged_files.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Staged Changes (",m.staged_files.length,")"]}),u.jsx("div",{className:"border rounded-md p-2 text-xs bg-black font-mono",children:m.staged_files.map((I,B)=>u.jsxs("p",{className:"text-green-400",children:[u.jsx(E3,{className:"inline-block h-3 w-3 mr-1"})," ",I.path]},B))})]}),m.unstaged_files.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Unstaged Changes (",m.unstaged_files.length,")"]}),u.jsx("div",{className:"border rounded-md p-2 text-xs bg-black font-mono",children:m.unstaged_files.map((I,B)=>u.jsxs("p",{className:"text-yellow-400",children:[u.jsx(gI,{className:"inline-block h-3 w-3 mr-1"})," ",I.path]},B))})]}),m.untracked_files.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Untracked Files (",m.untracked_files.length,")"]}),u.jsx("div",{className:"border rounded-md p-2 text-xs bg-black font-mono",children:m.untracked_files.map((I,B)=>u.jsxs("p",{className:"text-gray-400",children:[u.jsx(Ix,{className:"inline-block h-3 w-3 mr-1"})," ",I]},B))})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(ke,{onClick:D,disabled:C.isPending||!m.unstaged_files.length&&!m.untracked_files.length,className:"flex-1",children:[C.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Add All Changes"]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"commit-message",children:"Commit Message"}),u.jsx(wd,{id:"commit-message",placeholder:"Enter commit message",value:l,onChange:I=>c(I.target.value),rows:3,disabled:M.isPending})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"author-name",children:"Author Name (optional)"}),u.jsx(jt,{id:"author-name",placeholder:"Your Name",value:f,onChange:I=>d(I.target.value),disabled:M.isPending})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"author-email",children:"Author Email (optional)"}),u.jsx(jt,{id:"author-email",placeholder:"your@email.com",value:h,onChange:I=>g(I.target.value),disabled:M.isPending})]})]}),u.jsxs(ke,{onClick:j,disabled:M.isPending||!l.trim()||!m.staged_files.length,className:"w-full",children:[M.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(jye,{className:"h-4 w-4 mr-2"}),"Commit Staged"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{onClick:z,disabled:P.isPending,className:"flex-1",children:[P.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Lye,{className:"h-4 w-4 mr-2"}),"Pull"]}),u.jsxs(ke,{onClick:F,disabled:T.isPending||!m.ahead_by&&!m.is_dirty,className:"flex-1",children:[T.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Sye,{className:"h-4 w-4 mr-2"}),"Push"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"new-branch-name",children:"Create New Branch"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(jt,{id:"new-branch-name",placeholder:"feature/my-new-feature",value:v,onChange:I=>x(I.target.value),disabled:k.isPending}),u.jsx(ke,{onClick:H,disabled:k.isPending||!v.trim(),children:k.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):u.jsx(qi,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"checkout-branch",children:"Checkout Branch"}),u.jsxs(pr,{value:e,onValueChange:U,disabled:N.isPending||b,children:[u.jsx(lr,{id:"checkout-branch",className:"w-full",children:u.jsx(mr,{placeholder:"Select branch to checkout"})}),u.jsx(cr,{children:_==null?void 0:_.map(I=>u.jsx(At,{value:I.name,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gm,{className:"h-4 w-4"})," ",I.name," ",I.is_current&&"(current)"," ",I.is_remote&&"(remote)"]})},I.name))})]})]})]})]})]}):u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Gm,{className:"h-5 w-5"})," Git Operations"]})}),u.jsx(et,{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a repository to view Git operations."})]})},lG=({isOpen:t,onClose:e,agent:n})=>{var N,k,D;const{token:r}=ia(),i=bi(),{toast:s}=bo(),[o,a]=A.useState((n==null?void 0:n.name)||""),[l,c]=A.useState((n==null?void 0:n.persona)||"default"),[f,d]=A.useState((n==null?void 0:n.mode)||"tool_user"),[h,g]=A.useState((n==null?void 0:n.objective)||""),[v,x]=A.useState(((N=n==null?void 0:n.configuration)==null?void 0:N.target_repo_path)||""),[m,p]=A.useState(((k=n==null?void 0:n.configuration)==null?void 0:k.target_branch)||""),[y,_]=A.useState(((D=n==null?void 0:n.configuration)==null?void 0:D.default_model_id)||"");A.useEffect(()=>{var j,F,z;n?(a(n.name),c(n.persona),d(n.mode),g(n.objective||""),x(((j=n.configuration)==null?void 0:j.target_repo_path)||""),p(((F=n.configuration)==null?void 0:F.target_branch)||""),_(((z=n.configuration)==null?void 0:z.default_model_id)||"")):(a(""),c("default"),d("tool_user"),g(""),x(""),p(""),_(""))},[n,t]);const{data:b,isLoading:S}=yn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const j=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${r}`}});if(!j.ok)throw new Error("Failed to fetch LLM models");return j.json()},enabled:t&&!!r}),C=Lt({mutationFn:j=>fetch("/api/arcana/agents/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(j)}).then(F=>{if(!F.ok)throw new Error("Failed to create agent");return F.json()}),onSuccess:()=>{i.invalidateQueries({queryKey:["arcanaAgents"]}),s({title:"Agent Created",description:"New Arcana agent has been successfully created."}),e()},onError:j=>{s({title:"Error",description:`Failed to create agent: ${j.message}`,variant:"destructive"})}}),M=Lt({mutationFn:j=>{if(!n)throw new Error("Agent ID not available for update");return fetch(`/api/arcana/agents/${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(j)}).then(F=>{if(!F.ok)throw new Error("Failed to update agent");return F.json()})},onSuccess:()=>{i.invalidateQueries({queryKey:["arcanaAgents"]}),s({title:"Agent Updated",description:"Arcana agent has been successfully updated."}),e()},onError:j=>{s({title:"Error",description:`Failed to update agent: ${j.message}`,variant:"destructive"})}}),T=()=>{const j={name:o,persona:l,mode:f,objective:h,configuration:{target_repo_path:v,target_branch:m,default_model_id:y}};n?M.mutate(j):C.mutate(j)},P=C.isPending||M.isPending;return u.jsx(Ub,{open:t,onOpenChange:e,children:u.jsxs(Jv,{className:"sm:max-w-[600px]",children:[u.jsxs($b,{children:[u.jsx(Hb,{children:n?"Edit Arcana Agent":"Create New Arcana Agent"}),u.jsx(Vb,{children:n?"Modify the details of your agent.":"Configure a new autonomous AI agent."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"name",className:"text-right",children:"Name"}),u.jsx(jt,{id:"name",value:o,onChange:j=>a(j.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"persona",className:"text-right",children:"Persona"}),u.jsx(jt,{id:"persona",value:l,onChange:j=>c(j.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"mode",className:"text-right",children:"Mode"}),u.jsxs(pr,{value:f,onValueChange:d,children:[u.jsx(lr,{className:"col-span-3",children:u.jsx(mr,{placeholder:"Select agent mode"})}),u.jsxs(cr,{children:[u.jsx(At,{value:"chat",children:"Chat"}),u.jsx(At,{value:"tool_user",children:"Tool User"}),u.jsx(At,{value:"autonomous",children:"Autonomous"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"objective",className:"text-right",children:"Objective"}),u.jsx(wd,{id:"objective",value:h,onChange:j=>g(j.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"targetRepoPath",className:"text-right",children:"Target Repo Path"}),u.jsx(jt,{id:"targetRepoPath",value:v,onChange:j=>x(j.target.value),className:"col-span-3",placeholder:"e.g., /app/my-project"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"targetBranch",className:"text-right",children:"Target Branch"}),u.jsx(jt,{id:"targetBranch",value:m,onChange:j=>p(j.target.value),className:"col-span-3",placeholder:"e.g., main"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"defaultModelId",className:"text-right",children:"Default LLM"}),u.jsxs(pr,{value:y,onValueChange:_,disabled:S,children:[u.jsx(lr,{className:"col-span-3",children:u.jsx(mr,{placeholder:"Select default LLM model"})}),u.jsx(cr,{children:S?u.jsxs(At,{value:"loading",disabled:!0,children:[u.jsx(vn,{className:"h-4 w-4 animate-spin mr-2"})," Loading models..."]}):b==null?void 0:b.map(j=>u.jsxs(At,{value:j.id,children:[j.model_name," (",j.provider_id,")"]},j.id))})]})]})]}),u.jsxs($4,{children:[u.jsx(ke,{variant:"outline",onClick:e,children:"Cancel"}),u.jsxs(ke,{onClick:T,disabled:P,children:[P?u.jsx(vn,{className:"h-4 w-4 animate-spin mr-2"}):null,n?"Save Changes":"Create Agent"]})]})]})})},wet=({filePath:t,localPath:e,onClose:n})=>{const{token:r}=ia(),{toast:i}=bo(),s=bi(),[o,a]=A.useState(null),[l,c]=A.useState(!1),{data:f,isLoading:d,error:h,refetch:g}=yn({queryKey:["fileContent",t,e],queryFn:async()=>{if(!t||!e)return"";const m=await fetch("/api/arcana/file-operations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({action:"read",path:`${e}/${t}`})});if(!m.ok){const y=await m.json();throw new Error(y.detail||"Failed to read file content")}return(await m.json()).content},enabled:!!t&&!!e&&!!r});A.useEffect(()=>{f!==void 0&&a(f)},[f]);const v=Lt({mutationFn:async m=>{if(!t||!e)throw new Error("File path or local path not provided.");const p=await fetch("/api/arcana/file-operations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({action:"write",path:`${e}/${t}`,content:m})});if(!p.ok){const y=await p.json();throw new Error(y.detail||"Failed to save file content")}return p.json()},onSuccess:()=>{i({title:"Success",description:"File saved successfully."}),c(!1),s.invalidateQueries({queryKey:["fileContent",t,e]})},onError:m=>{i({title:"Error",description:`Failed to save file: ${m.message}`,variant:"destructive"})}}),x=()=>{o!==null&&v.mutate(o)};return t?d?u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(M0,{className:"h-5 w-5"})," ",t.split("/").pop()]})}),u.jsxs(et,{className:"flex-1 flex items-center justify-center",children:[u.jsx(vn,{className:"h-6 w-6 animate-spin"}),u.jsx("p",{className:"ml-2",children:"Loading file content..."})]})]}):h?u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(M0,{className:"h-5 w-5"})," ",t.split("/").pop()]}),u.jsx(ke,{variant:"ghost",size:"icon",onClick:n,className:"absolute top-3 right-3",children:u.jsx(Ix,{className:"h-5 w-5"})})]}),u.jsxs(et,{className:"flex-1 flex flex-col items-center justify-center text-red-500",children:[u.jsxs("p",{children:["Error loading file: ",h.message]}),u.jsx(ke,{onClick:()=>g(),className:"mt-4",children:"Retry"})]})]}):u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsxs(Ye,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsxs(Ze,{className:"flex items-center gap-2 text-lg font-semibold",children:[u.jsx(M0,{className:"h-5 w-5"})," ",t.split("/").pop()]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ke,{variant:"ghost",size:"icon",onClick:n,children:u.jsx(Ix,{className:"h-5 w-5"})}),u.jsxs(ke,{onClick:x,disabled:v.isPending||!l,children:[v.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx(KA,{className:"h-4 w-4 mr-2"}),"Save"]})]})]}),u.jsx(et,{className:"flex-1 flex flex-col p-0",children:u.jsx(wd,{value:o||"",onChange:m=>{a(m.target.value),c(!0)},className:"flex-1 font-mono text-sm resize-none border-0 focus-visible:ring-0 focus-visible:ring-offset-0 rounded-none",placeholder:"File content..."})})]}):u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(M0,{className:"h-5 w-5"})," File Editor"]})}),u.jsx(et,{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a file from the tree to view and edit its content."})]})},Eet=()=>{const{token:t}=ia(),e=bi(),[n,r]=A.useState(null),[i,s]=A.useState(null),[o,a]=A.useState(""),[l,c]=A.useState(null),[f,d]=A.useState(""),[h,g]=A.useState(""),[v,x]=A.useState(!1),[m,p]=A.useState(!1),[y,_]=A.useState(null),[b,S]=A.useState(""),{data:C,isLoading:M}=yn({queryKey:["arcanaAgents"],queryFn:async()=>{const I=await fetch("/api/arcana/agents",{headers:{Authorization:`Bearer ${t}`}});if(!I.ok)throw new Error("Failed to fetch agents");return I.json()},enabled:!!t}),{data:T,isLoading:P}=yn({queryKey:["arcanaJobs",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const I=await fetch(`/api/arcana/agents/${n.id}/jobs`,{headers:{Authorization:`Bearer ${t}`}});if(!I.ok)throw new Error("Failed to fetch jobs");return I.json()},enabled:!!n&&!!t}),{data:N,isLoading:k}=yn({queryKey:["arcanaJobLogs",i],queryFn:async()=>{if(!i)return[];const I=await fetch(`/api/arcana/jobs/${i}/logs`,{headers:{Authorization:`Bearer ${t}`}});if(!I.ok)throw new Error("Failed to fetch logs");return I.json()},enabled:!!i&&!!t}),{data:D,isLoading:j}=yn({queryKey:["arcanaJob",i],queryFn:async()=>{if(!i)return null;const I=await fetch(`/api/arcana/jobs/${i}`,{headers:{Authorization:`Bearer ${t}`}});if(!I.ok)throw new Error("Failed to fetch job details");return I.json()},enabled:!!i&&!!t,refetchInterval:1e3}),F=Lt({mutationFn:I=>{if(!n)throw new Error("No agent selected");return fetch(`/api/arcana/agents/${n.id}/execute`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({task_prompt:I})}).then(B=>B.json())},onSuccess:I=>{e.invalidateQueries({queryKey:["arcanaJobs",n==null?void 0:n.id]}),s(I.id),a("")}}),z=Lt({mutationFn:async I=>{if(!i)throw new Error("No job selected");const B=await fetch(`/api/arcana/jobs/${i}/submit_human_input`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({human_input:I})});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to submit human input")}return B.json()},onSuccess:()=>{S(""),e.invalidateQueries({queryKey:["arcanaJob",i]}),e.invalidateQueries({queryKey:["arcanaJobLogs",i]})},onError:I=>{}}),U=()=>{o&&F.mutate(o)},H=()=>{n&&(_(n),p(!0))},R=()=>{b.trim()&&i&&z.mutate(b)};return u.jsxs(u.Fragment,{children:[u.jsxs(gE,{direction:"horizontal",className:"h-full w-full",children:[u.jsx(um,{defaultSize:25,children:u.jsxs(Ge,{className:"h-full flex flex-col",children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Zye,{className:"h-5 w-5"})," Autonomous Agents"]}),u.jsx(Ut,{children:"Define, manage, and monitor your AI agents."})]}),u.jsxs(et,{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs(ke,{className:"w-full mb-4",onClick:()=>x(!0),children:[u.jsx(Nye,{className:"mr-2 h-4 w-4"})," Create Agent"]}),u.jsx(vE,{className:"my-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Available Agents"}),u.jsx(ah,{className:"flex-1 pr-4",children:M?u.jsx("p",{children:"Loading agents..."}):u.jsxs(ov,{children:[u.jsx(av,{children:u.jsxs(Wo,{children:[u.jsx(Ir,{children:"Name"}),u.jsx(Ir,{children:"Status"})]})}),u.jsx(lv,{children:C==null?void 0:C.map(I=>u.jsxs(Wo,{onClick:()=>r(I),className:(n==null?void 0:n.id)===I.id?"bg-accent/50 cursor-pointer":"cursor-pointer",children:[u.jsx(wr,{className:"font-medium",children:I.name}),u.jsx(wr,{children:u.jsx(fn,{children:I.status})})]},I.id))})]})})]})]})}),u.jsx(Sj,{className:"w-2 bg-gray-200 hover:bg-gray-300"}),u.jsx(um,{defaultSize:35,children:u.jsx("div",{className:"h-full p-4",children:n?u.jsxs("div",{className:"flex flex-col h-full gap-4",children:[u.jsxs(Ge,{className:"flex-1",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Eye,{className:"h-5 w-5"})," Agent Details & Tasks"]})}),u.jsxs(et,{children:[u.jsxs("p",{children:[u.jsx("strong",{children:"ID:"})," ",u.jsx("span",{className:"font-mono text-xs",children:n.id})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",n.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Persona:"})," ",n.persona]}),u.jsx(vE,{className:"my-4"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Status:"})," ",u.jsx(fn,{children:n.status})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Mode:"})," ",u.jsx(fn,{children:n.mode})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Objective:"})," ",n.objective]})]}),u.jsx(vE,{className:"my-4"}),u.jsx(mt,{htmlFor:"newTaskGoal",children:"Submit New Task"}),u.jsx(wd,{id:"newTaskGoal",placeholder:"e.g., Refactor the Button component to use Tailwind CSS.",className:"my-2",value:o,onChange:I=>a(I.target.value)}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ke,{className:"flex-1",onClick:U,disabled:F.isPending,children:F.isPending?"Starting...":u.jsxs(u.Fragment,{children:[u.jsx(Ag,{className:"mr-2 h-4 w-4"})," Run Agent"]})}),u.jsxs(ke,{variant:"outline",onClick:H,children:[u.jsx(wY,{className:"mr-2 h-4 w-4"})," Edit Agent"]})]})]})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{children:"Jobs"})}),u.jsx(et,{children:u.jsx(ah,{className:"h-48",children:P?u.jsx("p",{children:"Loading jobs..."}):u.jsxs(ov,{children:[u.jsx(av,{children:u.jsxs(Wo,{children:[u.jsx(Ir,{children:"Job ID"}),u.jsx(Ir,{children:"Goal"}),u.jsx(Ir,{children:"Status"})]})}),u.jsx(lv,{children:T==null?void 0:T.map(I=>u.jsxs(Wo,{onClick:()=>s(I.id),className:i===I.id?"bg-accent/50 cursor-pointer":"cursor-pointer",children:[u.jsxs(wr,{className:"font-mono text-xs",children:[I.id.substring(0,8),"..."]}),u.jsxs(wr,{children:[I.goal.substring(0,30),"..."]}),u.jsx(wr,{children:u.jsx(fn,{children:I.status})})]},I.id))})]})})})]})]}):u.jsx(Ge,{className:"h-full flex items-center justify-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Select an agent to begin."})})})}),u.jsx(Sj,{className:"w-2 bg-gray-200 hover:bg-gray-300"}),u.jsx(um,{defaultSize:40,children:l&&f?u.jsx(wet,{filePath:l,localPath:f,onClose:()=>c(null)}):i?u.jsxs("div",{className:"flex flex-col h-full p-4 gap-4",children:[u.jsxs(Ge,{className:"flex-1 flex flex-col",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(L$,{className:"h-5 w-5"})," Agent Log & Thoughts"]})}),u.jsx(et,{className:"flex-1 overflow-hidden",children:u.jsx(ah,{className:"h-full p-2 border rounded-md bg-black font-mono text-sm",children:k?u.jsx("p",{className:"text-white",children:"Loading logs..."}):N==null?void 0:N.map((I,B)=>u.jsxs("div",{className:"whitespace-pre-wrap text-white",children:[u.jsxs("span",{className:"text-green-400",children:["[",new Date(I.timestamp).toLocaleTimeString(),"]"]}),u.jsxs("span",{className:`ml-2 font-bold ${I.type==="thought"?"text-purple-400":I.type==="action"?"text-blue-400":I.type==="error"?"text-red-500":"text-gray-300"}`,children:["[",I.type.toUpperCase(),"]"]}),u.jsx("span",{className:"ml-2",children:I.content})]},B))})})]}),(D==null?void 0:D.status)==="awaiting_human_input"&&u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-lg",children:"Agent Awaiting Input"}),u.jsx(Ut,{children:"The agent needs your clarification or approval to proceed."})]}),u.jsxs(et,{className:"space-y-2",children:[N&&N.length>0&&N[N.length-1].log_type==="human_input_needed"&&u.jsx("p",{className:"text-sm text-muted-foreground",children:N[N.length-1].content}),u.jsx(wd,{placeholder:"Type your input or clarification here...",value:b,onChange:I=>S(I.target.value),rows:3,disabled:z.isPending}),u.jsxs(ke,{className:"w-full",onClick:R,disabled:z.isPending||!b.trim(),children:[z.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin mr-2"}):null,"Submit Input & Resume"]})]})]}),u.jsx(gE,{direction:"vertical",children:u.jsx(um,{children:u.jsxs("div",{className:"h-full",children:[u.jsx(oG,{onFileSelect:c,selectedFile:l,selectedRepoPath:f,setSelectedRepoPath:d,selectedBranch:h,setSelectedBranch:g}),u.jsx(aG,{localPath:f,currentBranch:h,onBranchChange:g})]})})})]}):u.jsxs("div",{className:"flex flex-col h-full p-4 gap-4",children:[u.jsxs(Ge,{className:"flex-1 flex flex-col",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(L$,{className:"h-5 w-5"})," Agent Log & Thoughts"]})}),u.jsx(et,{className:"flex-1 flex items-center justify-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Select a job to view logs."})})]}),u.jsx(gE,{direction:"vertical",children:u.jsx(um,{children:u.jsxs("div",{className:"h-full",children:[u.jsx(oG,{onFileSelect:c,selectedFile:l,selectedRepoPath:f,setSelectedRepoPath:d,selectedBranch:h,setSelectedBranch:g}),u.jsx(aG,{localPath:f,currentBranch:h,onBranchChange:g})]})})})]})})]}),u.jsx(lG,{isOpen:v,onClose:()=>x(!1),agent:null}),u.jsx(lG,{isOpen:m,onClose:()=>p(!1),agent:y})]})};function Cet(){const t=VA(),[,e]=Ni(),r=new URLSearchParams(t).get("tab")||"chat",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/arcana?tab=${a}`)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"border-b bg-card px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"ARCANA Cognitive System"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Conversational AI & Shell Interface"})]}),u.jsx(fn,{variant:"outline",children:"GPT-4 Active"})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsxs(Gl,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[u.jsx("div",{className:"border-b bg-card/50 px-6",children:u.jsxs(Ka,{className:"bg-transparent h-12",children:[u.jsxs(er,{value:"chat",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-chat",children:[u.jsx(M3,{className:"h-4 w-4"}),"Chat Interface"]}),u.jsxs(er,{value:"terminal",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-terminal",children:[u.jsx(Ua,{className:"h-4 w-4"}),"Terminal"]}),u.jsxs(er,{value:"memory",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-memory",children:[u.jsx(Td,{className:"h-4 w-4"})," ","Context Memory"]}),u.jsxs(er,{value:"agent",className:"gap-2 data-[state=active]:bg-background","data-testid":"tab-agent",children:[u.jsx(El,{className:"h-4 w-4"})," ","Arcana Mode Agent"]})]})}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[u.jsx(pn,{value:"chat",className:"h-full m-0",children:u.jsx(pet,{})}),u.jsx(pn,{value:"terminal",className:"h-full m-0",children:u.jsx(yet,{})}),u.jsxs(pn,{value:"memory",className:"h-full m-0",children:[u.jsx(Kle,{})," "]}),u.jsxs(pn,{value:"agent",className:"h-full m-0",children:[u.jsx(Eet,{})," "]})]})]})})]})}var Met={value:()=>{}};function bP(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new _E(n)}function _E(t){this._=t}function Aet(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}_E.prototype=bP.prototype={constructor:_E,on:function(t,e){var n=this._,r=Aet(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Tet(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=cG(n[i],t.name,e);else if(e==null)for(i in n)n[i]=cG(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new _E(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Tet(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function cG(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Met,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Lj="http://www.w3.org/1999/xhtml";const uG={svg:"http://www.w3.org/2000/svg",xhtml:Lj,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wP(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),uG.hasOwnProperty(e)?{space:uG[e],local:t}:t}function Pet(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Lj&&e.documentElement.namespaceURI===Lj?e.createElement(t):e.createElementNS(n,t)}}function Net(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function tce(t){var e=wP(t);return(e.local?Net:Pet)(e)}function Ret(){}function MB(t){return t==null?Ret:function(){return this.querySelector(t)}}function Oet(t){typeof t!="function"&&(t=MB(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,f=0;f<o;++f)(l=s[f])&&(c=t.call(l,l.__data__,f,s))&&("__data__"in l&&(c.__data__=l.__data__),a[f]=c);return new vo(r,this._parents)}function ket(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Iet(){return[]}function nce(t){return t==null?Iet:function(){return this.querySelectorAll(t)}}function Det(t){return function(){return ket(t.apply(this,arguments))}}function jet(t){typeof t=="function"?t=Det(t):t=nce(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new vo(r,i)}function rce(t){return function(){return this.matches(t)}}function ice(t){return function(e){return e.matches(t)}}var Let=Array.prototype.find;function Fet(t){return function(){return Let.call(this.children,t)}}function Bet(){return this.firstElementChild}function zet(t){return this.select(t==null?Bet:Fet(typeof t=="function"?t:ice(t)))}var Uet=Array.prototype.filter;function $et(){return Array.from(this.children)}function Het(t){return function(){return Uet.call(this.children,t)}}function Vet(t){return this.selectAll(t==null?$et:Het(typeof t=="function"?t:ice(t)))}function Wet(t){typeof t!="function"&&(t=rce(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new vo(r,this._parents)}function sce(t){return new Array(t.length)}function Get(){return new vo(this._enter||this._groups.map(sce),this._parents)}function TM(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}TM.prototype={constructor:TM,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function qet(t){return function(){return t}}function Xet(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new TM(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function Ket(t,e,n,r,i,s,o){var a,l,c=new Map,f=e.length,d=s.length,h=new Array(f),g;for(a=0;a<f;++a)(l=e[a])&&(h[a]=g=o.call(l,l.__data__,a,e)+"",c.has(g)?i[a]=l:c.set(g,l));for(a=0;a<d;++a)g=o.call(t,s[a],a,s)+"",(l=c.get(g))?(r[a]=l,l.__data__=s[a],c.delete(g)):n[a]=new TM(t,s[a]);for(a=0;a<f;++a)(l=e[a])&&c.get(h[a])===l&&(i[a]=l)}function Yet(t){return t.__data__}function Zet(t,e){if(!arguments.length)return Array.from(this,Yet);var n=e?Ket:Xet,r=this._parents,i=this._groups;typeof t!="function"&&(t=qet(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var f=r[c],d=i[c],h=d.length,g=Qet(t.call(f,f&&f.__data__,c,r)),v=g.length,x=a[c]=new Array(v),m=o[c]=new Array(v),p=l[c]=new Array(h);n(f,d,x,m,p,g,e);for(var y=0,_=0,b,S;y<v;++y)if(b=x[y]){for(y>=_&&(_=y+1);!(S=m[_])&&++_<v;);b._next=S||null}}return o=new vo(o,r),o._enter=a,o._exit=l,o}function Qet(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Jet(){return new vo(this._exit||this._groups.map(sce),this._parents)}function ett(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function ttt(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],f=r[l],d=c.length,h=a[l]=new Array(d),g,v=0;v<d;++v)(g=c[v]||f[v])&&(h[v]=g);for(;l<i;++l)a[l]=n[l];return new vo(a,this._parents)}function ntt(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function rtt(t){t||(t=itt);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,f=0;f<a;++f)(c=o[f])&&(l[f]=c);l.sort(e)}return new vo(i,this._parents).order()}function itt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function stt(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ott(){return Array.from(this)}function att(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function ltt(){let t=0;for(const e of this)++t;return t}function ctt(){return!this.node()}function utt(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function dtt(t){return function(){this.removeAttribute(t)}}function ftt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function htt(t,e){return function(){this.setAttribute(t,e)}}function ptt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function mtt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function gtt(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function vtt(t,e){var n=wP(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?ftt:dtt:typeof e=="function"?n.local?gtt:mtt:n.local?ptt:htt)(n,e))}function oce(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ytt(t){return function(){this.style.removeProperty(t)}}function xtt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _tt(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function btt(t,e,n){return arguments.length>1?this.each((e==null?ytt:typeof e=="function"?_tt:xtt)(t,e,n??"")):uv(this.node(),t)}function uv(t,e){return t.style.getPropertyValue(e)||oce(t).getComputedStyle(t,null).getPropertyValue(e)}function wtt(t){return function(){delete this[t]}}function Stt(t,e){return function(){this[t]=e}}function Ett(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function Ctt(t,e){return arguments.length>1?this.each((e==null?wtt:typeof e=="function"?Ett:Stt)(t,e)):this.node()[t]}function ace(t){return t.trim().split(/^|\s+/)}function AB(t){return t.classList||new lce(t)}function lce(t){this._node=t,this._names=ace(t.getAttribute("class")||"")}lce.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function cce(t,e){for(var n=AB(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function uce(t,e){for(var n=AB(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Mtt(t){return function(){cce(this,t)}}function Att(t){return function(){uce(this,t)}}function Ttt(t,e){return function(){(e.apply(this,arguments)?cce:uce)(this,t)}}function Ptt(t,e){var n=ace(t+"");if(arguments.length<2){for(var r=AB(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Ttt:e?Mtt:Att)(n,e))}function Ntt(){this.textContent=""}function Rtt(t){return function(){this.textContent=t}}function Ott(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function ktt(t){return arguments.length?this.each(t==null?Ntt:(typeof t=="function"?Ott:Rtt)(t)):this.node().textContent}function Itt(){this.innerHTML=""}function Dtt(t){return function(){this.innerHTML=t}}function jtt(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function Ltt(t){return arguments.length?this.each(t==null?Itt:(typeof t=="function"?jtt:Dtt)(t)):this.node().innerHTML}function Ftt(){this.nextSibling&&this.parentNode.appendChild(this)}function Btt(){return this.each(Ftt)}function ztt(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Utt(){return this.each(ztt)}function $tt(t){var e=typeof t=="function"?t:tce(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Htt(){return null}function Vtt(t,e){var n=typeof t=="function"?t:tce(t),r=e==null?Htt:typeof e=="function"?e:MB(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Wtt(){var t=this.parentNode;t&&t.removeChild(this)}function Gtt(){return this.each(Wtt)}function qtt(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Xtt(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ktt(t){return this.select(t?Xtt:qtt)}function Ytt(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Ztt(t){return function(e){t.call(this,e,this.__data__)}}function Qtt(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Jtt(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function ent(t,e,n){return function(){var r=this.__on,i,s=Ztt(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function tnt(t,e,n){var r=Qtt(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,f;l<c;++l)for(i=0,f=a[l];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(a=e?ent:Jtt,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function dce(t,e,n){var r=oce(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nnt(t,e){return function(){return dce(this,t,e)}}function rnt(t,e){return function(){return dce(this,t,e.apply(this,arguments))}}function int(t,e){return this.each((typeof e=="function"?rnt:nnt)(t,e))}function*snt(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var fce=[null];function vo(t,e){this._groups=t,this._parents=e}function Yb(){return new vo([[document.documentElement]],fce)}function ont(){return this}vo.prototype=Yb.prototype={constructor:vo,select:Oet,selectAll:jet,selectChild:zet,selectChildren:Vet,filter:Wet,data:Zet,enter:Get,exit:Jet,join:ett,merge:ttt,selection:ont,order:ntt,sort:rtt,call:stt,nodes:ott,node:att,size:ltt,empty:ctt,each:utt,attr:vtt,style:btt,property:Ctt,classed:Ptt,text:ktt,html:Ltt,raise:Btt,lower:Utt,append:$tt,insert:Vtt,remove:Gtt,clone:Ktt,datum:Ytt,on:tnt,dispatch:int,[Symbol.iterator]:snt};function Ps(t){return typeof t=="string"?new vo([[document.querySelector(t)]],[document.documentElement]):new vo([[t]],fce)}function ant(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Sa(t,e){if(t=ant(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const lnt={passive:!1},T_={capture:!0,passive:!1};function JR(t){t.stopImmediatePropagation()}function rg(t){t.preventDefault(),t.stopImmediatePropagation()}function hce(t){var e=t.document.documentElement,n=Ps(t).on("dragstart.drag",rg,T_);"onselectstart"in e?n.on("selectstart.drag",rg,T_):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function pce(t,e){var n=t.document.documentElement,r=Ps(t).on("dragstart.drag",null);e&&(r.on("click.drag",rg,T_),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Y1=t=>()=>t;function Fj(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}Fj.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function cnt(t){return!t.ctrlKey&&!t.button}function unt(){return this.parentNode}function dnt(t,e){return e??{x:t.x,y:t.y}}function fnt(){return navigator.maxTouchPoints||"ontouchstart"in this}function mce(){var t=cnt,e=unt,n=dnt,r=fnt,i={},s=bP("start","drag","end"),o=0,a,l,c,f,d=0;function h(b){b.on("mousedown.drag",g).filter(r).on("touchstart.drag",m).on("touchmove.drag",p,lnt).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(b,S){if(!(f||!t.call(this,b,S))){var C=_(this,e.call(this,b,S),b,S,"mouse");C&&(Ps(b.view).on("mousemove.drag",v,T_).on("mouseup.drag",x,T_),hce(b.view),JR(b),c=!1,a=b.clientX,l=b.clientY,C("start",b))}}function v(b){if(rg(b),!c){var S=b.clientX-a,C=b.clientY-l;c=S*S+C*C>d}i.mouse("drag",b)}function x(b){Ps(b.view).on("mousemove.drag mouseup.drag",null),pce(b.view,c),rg(b),i.mouse("end",b)}function m(b,S){if(t.call(this,b,S)){var C=b.changedTouches,M=e.call(this,b,S),T=C.length,P,N;for(P=0;P<T;++P)(N=_(this,M,b,S,C[P].identifier,C[P]))&&(JR(b),N("start",b,C[P]))}}function p(b){var S=b.changedTouches,C=S.length,M,T;for(M=0;M<C;++M)(T=i[S[M].identifier])&&(rg(b),T("drag",b,S[M]))}function y(b){var S=b.changedTouches,C=S.length,M,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),M=0;M<C;++M)(T=i[S[M].identifier])&&(JR(b),T("end",b,S[M]))}function _(b,S,C,M,T,P){var N=s.copy(),k=Sa(P||C,S),D,j,F;if((F=n.call(b,new Fj("beforestart",{sourceEvent:C,target:h,identifier:T,active:o,x:k[0],y:k[1],dx:0,dy:0,dispatch:N}),M))!=null)return D=F.x-k[0]||0,j=F.y-k[1]||0,function z(U,H,R){var I=k,B;switch(U){case"start":i[T]=z,B=o++;break;case"end":delete i[T],--o;case"drag":k=Sa(R||H,S),B=o;break}N.call(U,b,new Fj(U,{sourceEvent:H,subject:F,target:h,identifier:T,active:B,x:k[0]+D,y:k[1]+j,dx:k[0]-I[0],dy:k[1]-I[1],dispatch:N}),M)}}return h.filter=function(b){return arguments.length?(t=typeof b=="function"?b:Y1(!!b),h):t},h.container=function(b){return arguments.length?(e=typeof b=="function"?b:Y1(b),h):e},h.subject=function(b){return arguments.length?(n=typeof b=="function"?b:Y1(b),h):n},h.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:Y1(!!b),h):r},h.on=function(){var b=s.on.apply(s,arguments);return b===s?h:b},h.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,h):Math.sqrt(d)},h}var dv=0,k0=0,i0=0,gce=1e3,PM,I0,NM=0,Lh=0,SP=0,P_=typeof performance=="object"&&performance.now?performance:Date,vce=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function TB(){return Lh||(vce(hnt),Lh=P_.now()+SP)}function hnt(){Lh=0}function RM(){this._call=this._time=this._next=null}RM.prototype=yce.prototype={constructor:RM,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?TB():+n)+(e==null?0:+e),!this._next&&I0!==this&&(I0?I0._next=this:PM=this,I0=this),this._call=t,this._time=n,Bj()},stop:function(){this._call&&(this._call=null,this._time=1/0,Bj())}};function yce(t,e,n){var r=new RM;return r.restart(t,e,n),r}function pnt(){TB(),++dv;for(var t=PM,e;t;)(e=Lh-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dv}function dG(){Lh=(NM=P_.now())+SP,dv=k0=0;try{pnt()}finally{dv=0,gnt(),Lh=0}}function mnt(){var t=P_.now(),e=t-NM;e>gce&&(SP-=e,NM=t)}function gnt(){for(var t,e=PM,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:PM=n);I0=t,Bj(r)}function Bj(t){if(!dv){k0&&(k0=clearTimeout(k0));var e=t-Lh;e>24?(t<1/0&&(k0=setTimeout(dG,t-P_.now()-SP)),i0&&(i0=clearInterval(i0))):(i0||(NM=P_.now(),i0=setInterval(mnt,gce)),dv=1,vce(dG))}}function fG(t,e,n){var r=new RM;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var vnt=bP("start","end","cancel","interrupt"),ynt=[],xce=0,hG=1,zj=2,bE=3,pG=4,Uj=5,wE=6;function EP(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;xnt(t,n,{name:e,index:r,group:i,on:vnt,tween:ynt,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:xce})}function PB(t,e){var n=Ya(t,e);if(n.state>xce)throw new Error("too late; already scheduled");return n}function ql(t,e){var n=Ya(t,e);if(n.state>bE)throw new Error("too late; already running");return n}function Ya(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function xnt(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=yce(s,0,n.time);function s(c){n.state=hG,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,d,h,g;if(n.state!==hG)return l();for(f in r)if(g=r[f],g.name===n.name){if(g.state===bE)return fG(o);g.state===pG?(g.state=wE,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[f]):+f<e&&(g.state=wE,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[f])}if(fG(function(){n.state===bE&&(n.state=pG,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=zj,n.on.call("start",t,t.__data__,n.index,n.group),n.state===zj){for(n.state=bE,i=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(g=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=g);i.length=d+1}}function a(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Uj,1),d=-1,h=i.length;++d<h;)i[d].call(t,f);n.state===Uj&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=wE,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function SE(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>zj&&r.state<Uj,r.state=wE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function _nt(t){return this.each(function(){SE(this,t)})}function bnt(t,e){var n,r;return function(){var i=ql(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function wnt(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=ql(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Snt(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=Ya(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?bnt:wnt)(n,t,e))}function NB(t,e,n){var r=t._id;return t.each(function(){var i=ql(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return Ya(i,r).value[e]}}function _ce(t,e){var n;return(typeof e=="number"?Ma:e instanceof Ah?AC:(n=Ah(e))?(e=n,AC):MJ)(t,e)}function Ent(t){return function(){this.removeAttribute(t)}}function Cnt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Mnt(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Ant(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Tnt(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Pnt(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Nnt(t,e){var n=wP(t),r=n==="transform"?RLe:_ce;return this.attrTween(t,typeof e=="function"?(n.local?Pnt:Tnt)(n,r,NB(this,"attr."+t,e)):e==null?(n.local?Cnt:Ent)(n):(n.local?Ant:Mnt)(n,r,e))}function Rnt(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ont(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function knt(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ont(t,s)),n}return i._value=e,i}function Int(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Rnt(t,s)),n}return i._value=e,i}function Dnt(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=wP(t);return this.tween(n,(r.local?knt:Int)(r,e))}function jnt(t,e){return function(){PB(this,t).delay=+e.apply(this,arguments)}}function Lnt(t,e){return e=+e,function(){PB(this,t).delay=e}}function Fnt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?jnt:Lnt)(e,t)):Ya(this.node(),e).delay}function Bnt(t,e){return function(){ql(this,t).duration=+e.apply(this,arguments)}}function znt(t,e){return e=+e,function(){ql(this,t).duration=e}}function Unt(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Bnt:znt)(e,t)):Ya(this.node(),e).duration}function $nt(t,e){if(typeof e!="function")throw new Error;return function(){ql(this,t).ease=e}}function Hnt(t){var e=this._id;return arguments.length?this.each($nt(e,t)):Ya(this.node(),e).ease}function Vnt(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;ql(this,t).ease=n}}function Wnt(t){if(typeof t!="function")throw new Error;return this.each(Vnt(this._id,t))}function Gnt(t){typeof t!="function"&&(t=rce(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Hc(r,this._parents,this._name,this._id)}function qnt(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],f=l.length,d=o[a]=new Array(f),h,g=0;g<f;++g)(h=l[g]||c[g])&&(d[g]=h);for(;a<r;++a)o[a]=e[a];return new Hc(o,this._parents,this._name,this._id)}function Xnt(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function Knt(t,e,n){var r,i,s=Xnt(e)?PB:ql;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Ynt(t,e){var n=this._id;return arguments.length<2?Ya(this.node(),n).on.on(t):this.each(Knt(n,t,e))}function Znt(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Qnt(){return this.on("end.remove",Znt(this._id))}function Jnt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=MB(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),f,d,h=0;h<l;++h)(f=a[h])&&(d=t.call(f,f.__data__,h,a))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d,EP(c[h],e,n,h,c,Ya(f,n)));return new Hc(s,this._parents,e,n)}function ert(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nce(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,f,d=0;d<c;++d)if(f=l[d]){for(var h=t.call(f,f.__data__,d,l),g,v=Ya(f,n),x=0,m=h.length;x<m;++x)(g=h[x])&&EP(g,e,n,x,h,v);s.push(h),o.push(f)}return new Hc(s,o,e,n)}var trt=Yb.prototype.constructor;function nrt(){return new trt(this._groups,this._parents)}function rrt(t,e){var n,r,i;return function(){var s=uv(this,t),o=(this.style.removeProperty(t),uv(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function bce(t){return function(){this.style.removeProperty(t)}}function irt(t,e,n){var r,i=n+"",s;return function(){var o=uv(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function srt(t,e,n){var r,i,s;return function(){var o=uv(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),uv(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function ort(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=ql(this,t),c=l.on,f=l.value[s]==null?a||(a=bce(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(o,i=f),l.on=r}}function art(t,e,n){var r=(t+="")=="transform"?NLe:_ce;return e==null?this.styleTween(t,rrt(t,r)).on("end.style."+t,bce(t)):typeof e=="function"?this.styleTween(t,srt(t,r,NB(this,"style."+t,e))).each(ort(this._id,t)):this.styleTween(t,irt(t,r,e),n).on("end.style."+t,null)}function lrt(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function crt(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&lrt(t,o,n)),r}return s._value=e,s}function urt(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,crt(t,e,n??""))}function drt(t){return function(){this.textContent=t}}function frt(t){return function(){var e=t(this);this.textContent=e??""}}function hrt(t){return this.tween("text",typeof t=="function"?frt(NB(this,"text",t)):drt(t==null?"":t+""))}function prt(t){return function(e){this.textContent=t.call(this,e)}}function mrt(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&prt(i)),e}return r._value=t,r}function grt(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,mrt(t))}function vrt(){for(var t=this._name,e=this._id,n=wce(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var f=Ya(l,e);EP(l,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Hc(r,this._parents,t,n)}function yrt(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=ql(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var xrt=0;function Hc(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function wce(){return++xrt}var sc=Yb.prototype;Hc.prototype={constructor:Hc,select:Jnt,selectAll:ert,selectChild:sc.selectChild,selectChildren:sc.selectChildren,filter:Gnt,merge:qnt,selection:nrt,transition:vrt,call:sc.call,nodes:sc.nodes,node:sc.node,size:sc.size,empty:sc.empty,each:sc.each,on:Ynt,attr:Nnt,attrTween:Dnt,style:art,styleTween:urt,text:hrt,textTween:grt,remove:Qnt,tween:Snt,delay:Fnt,duration:Unt,ease:Hnt,easeVarying:Wnt,end:yrt,[Symbol.iterator]:sc[Symbol.iterator]};function _rt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var brt={time:null,delay:0,duration:250,ease:_rt};function wrt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Srt(t){var e,n;t instanceof Hc?(e=t._id,t=t._name):(e=wce(),(n=brt).time=TB(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&EP(l,t,e,c,o,n||wrt(l,e));return new Hc(r,this._parents,t,e)}Yb.prototype.interrupt=_nt;Yb.prototype.transition=Srt;const Z1=t=>()=>t;function Ert(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Mc(t,e,n){this.k=t,this.x=e,this.y=n}Mc.prototype={constructor:Mc,scale:function(t){return t===1?this:new Mc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Mc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var CP=new Mc(1,0,0);Sce.prototype=Mc.prototype;function Sce(t){for(;!t.__zoom;)if(!(t=t.parentNode))return CP;return t.__zoom}function eO(t){t.stopImmediatePropagation()}function s0(t){t.preventDefault(),t.stopImmediatePropagation()}function Crt(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Mrt(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function mG(){return this.__zoom||CP}function Art(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Trt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Prt(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Ece(){var t=Crt,e=Mrt,n=Prt,r=Art,i=Trt,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=fE,c=bP("start","zoom","end"),f,d,h,g=500,v=150,x=0,m=10;function p(F){F.property("__zoom",mG).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",k).on("touchmove.zoom",D).on("touchend.zoom touchcancel.zoom",j).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(F,z,U,H){var R=F.selection?F.selection():F;R.property("__zoom",mG),F!==R?S(F,z,U,H):R.interrupt().each(function(){C(this,arguments).event(H).start().zoom(null,typeof z=="function"?z.apply(this,arguments):z).end()})},p.scaleBy=function(F,z,U,H){p.scaleTo(F,function(){var R=this.__zoom.k,I=typeof z=="function"?z.apply(this,arguments):z;return R*I},U,H)},p.scaleTo=function(F,z,U,H){p.transform(F,function(){var R=e.apply(this,arguments),I=this.__zoom,B=U==null?b(R):typeof U=="function"?U.apply(this,arguments):U,W=I.invert(B),G=typeof z=="function"?z.apply(this,arguments):z;return n(_(y(I,G),B,W),R,o)},U,H)},p.translateBy=function(F,z,U,H){p.transform(F,function(){return n(this.__zoom.translate(typeof z=="function"?z.apply(this,arguments):z,typeof U=="function"?U.apply(this,arguments):U),e.apply(this,arguments),o)},null,H)},p.translateTo=function(F,z,U,H,R){p.transform(F,function(){var I=e.apply(this,arguments),B=this.__zoom,W=H==null?b(I):typeof H=="function"?H.apply(this,arguments):H;return n(CP.translate(W[0],W[1]).scale(B.k).translate(typeof z=="function"?-z.apply(this,arguments):-z,typeof U=="function"?-U.apply(this,arguments):-U),I,o)},H,R)};function y(F,z){return z=Math.max(s[0],Math.min(s[1],z)),z===F.k?F:new Mc(z,F.x,F.y)}function _(F,z,U){var H=z[0]-U[0]*F.k,R=z[1]-U[1]*F.k;return H===F.x&&R===F.y?F:new Mc(F.k,H,R)}function b(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function S(F,z,U,H){F.on("start.zoom",function(){C(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){C(this,arguments).event(H).end()}).tween("zoom",function(){var R=this,I=arguments,B=C(R,I).event(H),W=e.apply(R,I),G=U==null?b(W):typeof U=="function"?U.apply(R,I):U,X=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),ne=R.__zoom,ae=typeof z=="function"?z.apply(R,I):z,se=l(ne.invert(G).concat(X/ne.k),ae.invert(G).concat(X/ae.k));return function($){if($===1)$=ae;else{var Y=se($),Q=X/Y[2];$=new Mc(Q,G[0]-Y[0]*Q,G[1]-Y[1]*Q)}B.zoom(null,$)}})}function C(F,z,U){return!U&&F.__zooming||new M(F,z)}function M(F,z){this.that=F,this.args=z,this.active=0,this.sourceEvent=null,this.extent=e.apply(F,z),this.taps=0}M.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,z){return this.mouse&&F!=="mouse"&&(this.mouse[1]=z.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=z.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=z.invert(this.touch1[0])),this.that.__zoom=z,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var z=Ps(this.that).datum();c.call(F,this.that,new Ert(F,{sourceEvent:this.sourceEvent,target:p,type:F,transform:this.that.__zoom,dispatch:c}),z)}};function T(F,...z){if(!t.apply(this,arguments))return;var U=C(this,z).event(F),H=this.__zoom,R=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,r.apply(this,arguments)))),I=Sa(F);if(U.wheel)(U.mouse[0][0]!==I[0]||U.mouse[0][1]!==I[1])&&(U.mouse[1]=H.invert(U.mouse[0]=I)),clearTimeout(U.wheel);else{if(H.k===R)return;U.mouse=[I,H.invert(I)],SE(this),U.start()}s0(F),U.wheel=setTimeout(B,v),U.zoom("mouse",n(_(y(H,R),U.mouse[0],U.mouse[1]),U.extent,o));function B(){U.wheel=null,U.end()}}function P(F,...z){if(h||!t.apply(this,arguments))return;var U=F.currentTarget,H=C(this,z,!0).event(F),R=Ps(F.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",X,!0),I=Sa(F,U),B=F.clientX,W=F.clientY;hce(F.view),eO(F),H.mouse=[I,this.__zoom.invert(I)],SE(this),H.start();function G(ne){if(s0(ne),!H.moved){var ae=ne.clientX-B,se=ne.clientY-W;H.moved=ae*ae+se*se>x}H.event(ne).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=Sa(ne,U),H.mouse[1]),H.extent,o))}function X(ne){R.on("mousemove.zoom mouseup.zoom",null),pce(ne.view,H.moved),s0(ne),H.event(ne).end()}}function N(F,...z){if(t.apply(this,arguments)){var U=this.__zoom,H=Sa(F.changedTouches?F.changedTouches[0]:F,this),R=U.invert(H),I=U.k*(F.shiftKey?.5:2),B=n(_(y(U,I),H,R),e.apply(this,z),o);s0(F),a>0?Ps(this).transition().duration(a).call(S,B,H,F):Ps(this).call(p.transform,B,H,F)}}function k(F,...z){if(t.apply(this,arguments)){var U=F.touches,H=U.length,R=C(this,z,F.changedTouches.length===H).event(F),I,B,W,G;for(eO(F),B=0;B<H;++B)W=U[B],G=Sa(W,this),G=[G,this.__zoom.invert(G),W.identifier],R.touch0?!R.touch1&&R.touch0[2]!==G[2]&&(R.touch1=G,R.taps=0):(R.touch0=G,I=!0,R.taps=1+!!f);f&&(f=clearTimeout(f)),I&&(R.taps<2&&(d=G[0],f=setTimeout(function(){f=null},g)),SE(this),R.start())}}function D(F,...z){if(this.__zooming){var U=C(this,z).event(F),H=F.changedTouches,R=H.length,I,B,W,G;for(s0(F),I=0;I<R;++I)B=H[I],W=Sa(B,this),U.touch0&&U.touch0[2]===B.identifier?U.touch0[0]=W:U.touch1&&U.touch1[2]===B.identifier&&(U.touch1[0]=W);if(B=U.that.__zoom,U.touch1){var X=U.touch0[0],ne=U.touch0[1],ae=U.touch1[0],se=U.touch1[1],$=($=ae[0]-X[0])*$+($=ae[1]-X[1])*$,Y=(Y=se[0]-ne[0])*Y+(Y=se[1]-ne[1])*Y;B=y(B,Math.sqrt($/Y)),W=[(X[0]+ae[0])/2,(X[1]+ae[1])/2],G=[(ne[0]+se[0])/2,(ne[1]+se[1])/2]}else if(U.touch0)W=U.touch0[0],G=U.touch0[1];else return;U.zoom("touch",n(_(B,W,G),U.extent,o))}}function j(F,...z){if(this.__zooming){var U=C(this,z).event(F),H=F.changedTouches,R=H.length,I,B;for(eO(F),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),I=0;I<R;++I)B=H[I],U.touch0&&U.touch0[2]===B.identifier?delete U.touch0:U.touch1&&U.touch1[2]===B.identifier&&delete U.touch1;if(U.touch1&&!U.touch0&&(U.touch0=U.touch1,delete U.touch1),U.touch0)U.touch0[1]=this.__zoom.invert(U.touch0[0]);else if(U.end(),U.taps===2&&(B=Sa(B,this),Math.hypot(d[0]-B[0],d[1]-B[1])<m)){var W=Ps(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return p.wheelDelta=function(F){return arguments.length?(r=typeof F=="function"?F:Z1(+F),p):r},p.filter=function(F){return arguments.length?(t=typeof F=="function"?F:Z1(!!F),p):t},p.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:Z1(!!F),p):i},p.extent=function(F){return arguments.length?(e=typeof F=="function"?F:Z1([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),p):e},p.scaleExtent=function(F){return arguments.length?(s[0]=+F[0],s[1]=+F[1],p):[s[0],s[1]]},p.translateExtent=function(F){return arguments.length?(o[0][0]=+F[0][0],o[1][0]=+F[1][0],o[0][1]=+F[0][1],o[1][1]=+F[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(F){return arguments.length?(n=F,p):n},p.duration=function(F){return arguments.length?(a=+F,p):a},p.interpolate=function(F){return arguments.length?(l=F,p):l},p.on=function(){var F=c.on.apply(c,arguments);return F===c?p:F},p.clickDistance=function(F){return arguments.length?(x=(F=+F)*F,p):Math.sqrt(x)},p.tapDistance=function(F){return arguments.length?(m=+F,p):m},p}const Nrt=1,Rrt=1e6;let tO=0;function Ort(){return tO=(tO+1)%Number.MAX_SAFE_INTEGER,tO.toString()}const nO=new Map,gG=t=>{if(nO.has(t))return;const e=setTimeout(()=>{nO.delete(t),rx({type:"REMOVE_TOAST",toastId:t})},Rrt);nO.set(t,e)},krt=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Nrt)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?gG(n):t.toasts.forEach(r=>{gG(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},EE=[];let CE={toasts:[]};function rx(t){CE=krt(CE,t),EE.forEach(e=>{e(CE)})}function Irt({...t}){const e=Ort(),n=i=>rx({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>rx({type:"DISMISS_TOAST",toastId:e});return rx({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Ud(){const[t,e]=A.useState(CE);return A.useEffect(()=>(EE.push(e),()=>{const n=EE.indexOf(e);n>-1&&EE.splice(n,1)}),[t]),{...t,toast:Irt,dismiss:n=>rx({type:"DISMISS_TOAST",toastId:n})}}function Drt(){const t=A.useRef(null),{token:e}=ia(),n=bi(),{toast:r}=Ud(),{data:i,isLoading:s,error:o}=yn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const m=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${e}`}});if(!m.ok)throw new Error("Failed to fetch LLM models");return m.json()},enabled:!!e}),{data:a,isLoading:l,error:c}=yn({queryKey:["cognisysLLMProvidersMinimal"],queryFn:async()=>{const m=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${e}`}});if(!m.ok)throw new Error("Failed to fetch LLM providers");return m.json()},enabled:!!e,staleTime:5*60*1e3}),{data:f,isLoading:d,error:h}=yn({queryKey:["userLLMPreferences"],queryFn:async()=>{const m=await fetch("/api/arcana/llm/preferences",{headers:{Authorization:`Bearer ${e}`}});if(!m.ok)throw new Error("Failed to fetch user LLM preferences");return m.json()},enabled:!!e}),g=Lt({mutationFn:async m=>{const p=await fetch(`/api/cognisys/models/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!p.ok){const y=await p.text();throw console.error("API Error Response (Delete Model):",y),new Error(`Failed to delete model: ${p.status} ${p.statusText} - ${y}`)}return{message:"Model deleted successfully"}},onSuccess:()=>{r({title:"Model Deleted",description:"LLM model has been successfully deleted."}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:m=>{r({title:"Error",description:`Failed to delete model: ${m.message}`,variant:"destructive"})}}),v=Lt({mutationFn:async m=>{const p=await fetch("/api/arcana/llm/preferences",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({default_model_id:m})});if(!p.ok){const y=await p.text();throw console.error("API Error Response (Set Default Model):",y),new Error(`Failed to set default model: ${p.status} ${p.statusText} - ${y}`)}return p.json()},onSuccess:()=>{r({title:"Default Model Set",description:"Default LLM model has been successfully updated."}),n.invalidateQueries({queryKey:["userLLMPreferences"]}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:m=>{r({title:"Error",description:`Failed to set default model: ${m.message}`,variant:"destructive"})}}),x=m=>{var p;return((p=a==null?void 0:a.find(y=>y.id===m))==null?void 0:p.name)||"Unknown Provider"};return A.useEffect(()=>{if(!t.current||!i||!a)return;const m=Ps(t.current);m.selectAll("*").remove();const p=t.current.clientWidth,y=400,_=p/2,b=y/2,S=150,C=i.filter(T=>T.is_active),M=2*Math.PI/C.length;m.append("circle").attr("cx",_).attr("cy",b).attr("r",60).attr("fill","hsl(var(--card))").attr("stroke","hsl(var(--primary))").attr("stroke-width",3),m.append("text").attr("x",_).attr("y",b-10).attr("text-anchor","middle").attr("class","fill-current font-bold text-sm").text("COGNISYS"),m.append("text").attr("x",_).attr("y",b+10).attr("text-anchor","middle").attr("class","fill-current text-xs text-muted-foreground").text("Orchestrator"),C.forEach((T,P)=>{const N=P*M-Math.PI/2,k=_+S*Math.cos(N),D=b+S*Math.sin(N);m.append("line").attr("x1",_).attr("y1",b).attr("x2",k).attr("y2",D).attr("stroke",T.is_active?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",1.5).attr("opacity",.3),m.append("circle").attr("cx",k).attr("cy",D).attr("r",35).attr("fill","hsl(var(--card))").attr("stroke",T.is_active?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",2);const j=m.append("text").attr("x",k).attr("y",D).attr("text-anchor","middle").attr("class","fill-current text-xs");T.model_name.split("-").forEach((z,U)=>{j.append("tspan").attr("x",k).attr("dy",U===0?-5:12).text(z.length>8?z.substring(0,8):z)})})},[i,a]),s||l||d?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(vn,{className:"h-6 w-6 animate-spin mx-auto"})," Loading models..."]}):o?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading models: ",o.message]}):c?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading providers: ",c.message]}):h?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading user preferences: ",h.message]}):u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Pd,{className:"h-5 w-5 text-primary"}),"Model Relationship Map"]}),u.jsx(Ut,{children:"Visual representation of all connected AI models"})]}),u.jsx(et,{children:u.jsx("svg",{ref:t,className:"w-full",height:"400"})})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Active Models"}),u.jsx(Ut,{children:"Models currently available for routing"})]}),u.jsx(et,{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i==null?void 0:i.filter(m=>m.is_active).map(m=>u.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"font-medium text-sm flex items-center gap-2",children:[m.model_name,(f==null?void 0:f.default_model_id)===m.id&&u.jsxs(fn,{variant:"secondary",className:"text-xs gap-1",children:[u.jsx(B$,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),"Default"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(fn,{variant:"outline",className:"text-xs",children:x(m.provider_id)}),u.jsx(fn,{variant:"outline",className:"text-xs",children:m.type}),m.reasoning&&u.jsxs(fn,{variant:"secondary",className:"text-xs gap-1",children:[u.jsx(T3,{className:"h-3 w-3"}),"Reasoning"]})]}),m.role&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Role: ",m.role.replace(/_/g," ")]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>v.mutate(m.id),disabled:v.isPending||(f==null?void 0:f.default_model_id)===m.id,children:[v.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):u.jsx(B$,{className:"h-4 w-4"}),"Set as Default"]}),u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>g.mutate(m.id),disabled:g.isPending,children:u.jsx(Nd,{className:"h-4 w-4"})})]})]},m.id))})})]})]})}const vG=({root:t,setRoot:e})=>{const n=o=>{const a={id:Date.now().toString(),fact:"intent",operator:"equals",value:""},l=c=>c.id===o?{...c,rules:[...c.rules,a]}:{...c,rules:c.rules.map(f=>"combinator"in f?l(f):f)};e(c=>l(c))},r=o=>{const a=l=>({...l,rules:l.rules.filter(c=>c.id!==o).map(c=>"combinator"in c?a(c):c)});e(l=>a(l))},i=(o,a)=>{const l=c=>({...c,rules:c.rules.map(f=>f.id===o?{...f,...a}:"combinator"in f?l(f):f)});e(c=>l(c))},s=o=>"combinator"in o?u.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(pr,{value:o.combinator,children:[u.jsx(lr,{className:"w-[80px]",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"and",children:"AND"}),u.jsx(At,{value:"or",children:"OR"})]})]}),u.jsxs(ke,{size:"sm",onClick:()=>n(o.id),children:[u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Add Rule"]})]}),u.jsx("div",{className:"pl-6 space-y-4",children:o.rules.map(s)})]},o.id):u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(pr,{value:o.fact,onValueChange:a=>i(o.id,{fact:a}),children:[u.jsx(lr,{className:"w-[150px]",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"intent",children:"Intent"}),u.jsx(At,{value:"prompt",children:"Prompt"})]})]}),u.jsxs(pr,{value:o.operator,onValueChange:a=>i(o.id,{operator:a}),children:[u.jsx(lr,{className:"w-[150px]",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"equals",children:"equals"}),u.jsx(At,{value:"contains",children:"contains"}),u.jsx(At,{value:"startsWith",children:"starts with"}),u.jsx(At,{value:"endsWith",children:"ends with"})]})]}),u.jsx(jt,{placeholder:"Value",value:o.value,onChange:a=>i(o.id,{value:a.target.value}),className:"flex-1"}),u.jsx(ke,{variant:"ghost",size:"icon",onClick:()=>r(o.id),children:u.jsx(Nd,{className:"h-4 w-4"})})]},o.id);return u.jsx("div",{children:s(t)})},jrt=({onAddModel:t,providers:e})=>{const[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState(""),[l,c]=A.useState(""),[f,d]=A.useState(""),h=g=>{if(g.preventDefault(),!n||!i||!o){alert("Please fill in all required fields.");return}t({modelName:n,providerId:i,modelType:o,maxTokens:l,costPerToken:f}),r(""),s(""),a(""),c(""),d("")};return u.jsxs("form",{onSubmit:h,className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"modelName",className:"text-right",children:"Model Name"}),u.jsx(jt,{id:"modelName",value:n,onChange:g=>r(g.target.value),className:"col-span-3",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"provider",className:"text-right",children:"Provider"}),u.jsxs(pr,{value:i,onValueChange:s,required:!0,children:[u.jsx(lr,{className:"col-span-3",children:u.jsx(mr,{placeholder:"Select a provider"})}),u.jsx(cr,{children:e.map(g=>u.jsx(At,{value:g.id,children:g.name},g.id))})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"modelType",className:"text-right",children:"Model Type"}),u.jsxs(pr,{value:o,onValueChange:a,required:!0,children:[u.jsx(lr,{className:"col-span-3",children:u.jsx(mr,{placeholder:"Select model type"})}),u.jsxs(cr,{children:[u.jsx(At,{value:"chat",children:"Chat"}),u.jsx(At,{value:"completion",children:"Completion"}),u.jsx(At,{value:"embedding",children:"Embedding"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"maxTokens",className:"text-right",children:"Max Tokens"}),u.jsx(jt,{id:"maxTokens",type:"number",value:l,onChange:g=>c(g.target.value===""?"":Number(g.target.value)),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(mt,{htmlFor:"costPerToken",className:"text-right",children:"Cost/Token"}),u.jsx(jt,{id:"costPerToken",type:"number",step:"0.0000001",value:f,onChange:g=>d(g.target.value===""?"":Number(g.target.value)),className:"col-span-3"})]}),u.jsx($4,{children:u.jsx(ke,{type:"submit",children:"Add Model"})})]})};function Lrt(){const{token:t}=ia(),{toast:e}=Ud(),n=bi(),[r,i]=A.useState(""),[s,o]=A.useState({id:"root",combinator:"and",rules:[]}),[a,l]=A.useState(""),[c,f]=A.useState(1),[d,h]=A.useState(null),[g,v]=A.useState(!1),x=j=>{P.mutate({model_name:j.modelName,provider_id:j.providerId,type:j.modelType,is_active:!0,role:"general",max_tokens:j.maxTokens,cost_per_token:j.costPerToken}),v(!1)},{data:m,isLoading:p,error:y}=yn({queryKey:["cognisysRoutingRules"],queryFn:async()=>{const j=await fetch("/api/cognisys/routing-rules/",{headers:{Authorization:`Bearer ${t}`}});if(!j.ok){const F=await j.text();throw console.error("API Error Response:",F),new Error(`Network response was not ok: ${j.status} ${j.statusText} - ${F}`)}return j.json()},enabled:!!t}),{data:_,isLoading:b,error:S}=yn({queryKey:["cognisysProviders"],queryFn:async()=>{const j=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${t}`}});if(!j.ok)throw new Error("Failed to fetch providers");return j.json()},enabled:!!t}),{data:C,isLoading:M,error:T}=yn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const j=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${t}`}});if(!j.ok)throw new Error("Failed to fetch LLM models");return j.json()},enabled:!!t}),P=Lt({mutationFn:async j=>{const F=await fetch("/api/cognisys/models/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(j)});if(!F.ok)throw new Error("Failed to create model");return F.json()},onSuccess:()=>{e({title:"Model Created",description:"New model has been successfully created."}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:j=>{e({title:"Error",description:`Failed to create model: ${j.message}`,variant:"destructive"})}}),N=Lt({mutationFn:async j=>{const F=await fetch("/api/cognisys/routing-rules/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({name:j.intent,condition:JSON.stringify(j.condition),target_model:j.targetModel,priority:j.priority})});if(!F.ok){const z=await F.text();throw console.error("API Error Response (Create Rule):",z),new Error(`Failed to create routing rule: ${F.status} ${F.statusText} - ${z}`)}return F.json()},onSuccess:()=>{e({title:"Rule Created",description:"New routing rule has been successfully created."}),i(""),o({id:"root",combinator:"and",rules:[]}),l(""),f(1)},onError:j=>{e({title:"Error",description:`Failed to create rule: ${j.message}`,variant:"destructive"})}}),k=Lt({mutationFn:async({ruleId:j,ruleData:F})=>{const z=await fetch(`/api/cognisys/routing-rules/${j}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({name:F.intent,condition:JSON.stringify(F.condition),target_model:F.targetModel,priority:F.priority})});if(!z.ok){const U=await z.text();throw console.error("API Error Response (Update Rule):",U),new Error(`Failed to update routing rule: ${z.status} ${z.statusText} - ${U}`)}return z.json()},onSuccess:()=>{e({title:"Rule Updated",description:"Routing rule has been successfully updated."}),n.invalidateQueries({queryKey:["cognisysRoutingRules"]}),h(null),i(""),o({id:"root",combinator:"and",rules:[]}),l(""),f(1)},onError:j=>{e({title:"Error",description:`Failed to update rule: ${j.message}`,variant:"destructive"})}}),D=Lt({mutationFn:async j=>{const F=await fetch(`/api/cognisys/routing-rules/${j}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!F.ok){const z=await F.text();throw console.error("API Error Response (Delete Rule):",z),new Error(`Failed to delete routing rule: ${F.status} ${F.statusText} - ${z}`)}return F.json()},onSuccess:()=>{e({title:"Rule Deleted",description:"Routing rule has been successfully deleted."}),n.invalidateQueries({queryKey:["cognisysRoutingRules"]})},onError:j=>{e({title:"Error",description:`Failed to delete rule: ${j.message}`,variant:"destructive"})}});return p?u.jsx("div",{className:"p-6 text-center",children:"Loading routing rules..."}):y?(console.error("Error loading routing rules:",y),u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading routing rules: ",y.message]})):(console.log("Routing Rules:",m),u.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Gm,{className:"h-5 w-5 text-primary"}),"Routing Rules"]}),u.jsx(Ut,{className:"mt-1",children:"Define intent-based routing to appropriate models"})]}),u.jsxs(ke,{"data-testid":"button-add-rule",onClick:()=>N.mutate({intent:r,condition:s,targetModel:a,priority:c}),disabled:N.isPending||!r||!s||!a,children:[N.isPending?u.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Add Rule"]})]})}),u.jsx(et,{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Intent Type"}),u.jsxs(pr,{value:r,onValueChange:i,children:[u.jsx(lr,{"data-testid":"select-intent-type",children:u.jsx(mr,{placeholder:"Select intent..."})}),u.jsxs(cr,{children:[u.jsx(At,{value:"code_generation",children:"Code Generation"}),u.jsx(At,{value:"reasoning",children:"Reasoning"}),u.jsx(At,{value:"conversation",children:"Conversation"}),u.jsx(At,{value:"summarization",children:"Summarization"}),u.jsx(At,{value:"shell_command",children:"Shell Command"}),u.jsx(At,{value:"custom",children:"Custom"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Condition"}),u.jsx(vG,{root:s,setRoot:o})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Target Model"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(pr,{value:a,onValueChange:l,children:[u.jsx(lr,{"data-testid":"select-target-model",children:u.jsx(mr,{placeholder:"Select model..."})}),u.jsx(cr,{children:C==null?void 0:C.map(j=>u.jsx(At,{value:j.model_name,children:j.model_name},j.id))})]}),u.jsxs(Ub,{open:g,onOpenChange:v,children:[u.jsx(U4,{asChild:!0,children:u.jsx(ke,{variant:"outline",size:"icon",children:u.jsx(qi,{className:"h-4 w-4"})})}),u.jsxs(Jv,{className:"sm:max-w-[425px]",children:[u.jsxs($b,{children:[u.jsx(Hb,{children:"Add New Model"}),u.jsx(Vb,{children:"Add a new LLM model to your system."})]}),u.jsx(jrt,{onAddModel:x,providers:_||[]})]})]})]})]})]})})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Active Rules"}),u.jsx(Ut,{children:"Rules are evaluated in order of priority"})]}),u.jsx(et,{className:"space-y-3",children:p?u.jsx("p",{className:"text-muted-foreground",children:"Loading rules..."}):y?u.jsxs("p",{className:"text-red-500",children:["Error loading rules: ",y.message]}):u.jsx(u.Fragment,{children:Array.isArray(m)&&m.length>0?m.map(j=>{try{return u.jsx(Ge,{className:"bg-card/50",children:u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(fn,{variant:"default",className:"text-xs",children:j.name.replace(/_/g," ")}),u.jsxs(fn,{variant:"outline",className:"text-xs",children:["Priority ",j.priority]})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Condition:"}),u.jsx("div",{className:"text-sm font-mono bg-muted/30 px-2 py-1 rounded",children:j.condition})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Target:"}),u.jsx(fn,{variant:"secondary",className:"text-xs",children:j.targetModel})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>{h(j.id),i(j.intent);try{o(JSON.parse(j.condition))}catch(F){console.error("Failed to parse rule condition:",F),o({id:"root",combinator:"and",rules:[]})}l(j.targetModel),f(j.priority)},children:"Edit"}),u.jsx(ke,{variant:"ghost",size:"sm","data-testid":`button-delete-rule-${j.id}`,onClick:()=>D.mutate(j.id),disabled:D.isPending,children:D.isPending?u.jsx(zr,{className:"h-4 w-4 animate-spin"}):u.jsx(Nd,{className:"h-4 w-4"})})]})]})})},j.id)}catch(F){return console.error(`Error rendering rule with ID ${j.id||"unknown"}:`,F),u.jsxs(Ge,{className:"bg-red-100 border-red-400 text-red-700 p-4 mb-2",children:[u.jsx("p",{children:"Error rendering rule. Please check console for details."}),j.id&&u.jsxs("p",{children:["Rule ID: ",j.id]}),u.jsxs("p",{children:["Error: ",F.message]})]},`error-${j.id||Math.random()}`)}}):u.jsx("p",{className:"text-muted-foreground",children:"No routing rules found."})})})]}),d&&u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{children:"Edit Rule"})}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Intent Type"}),u.jsxs(pr,{value:r,onValueChange:i,children:[u.jsx(lr,{children:u.jsx(mr,{placeholder:"Select intent..."})}),u.jsxs(cr,{children:[u.jsx(At,{value:"code_generation",children:"Code Generation"}),u.jsx(At,{value:"reasoning",children:"Reasoning"}),u.jsx(At,{value:"conversation",children:"Conversation"}),u.jsx(At,{value:"summarization",children:"Summarization"}),u.jsx(At,{value:"shell_command",children:"Shell Command"}),u.jsx(At,{value:"custom",children:"Custom"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Condition"}),u.jsx(vG,{root:s,setRoot:o})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Target Model"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(pr,{value:a,onValueChange:l,children:[u.jsx(lr,{children:u.jsx(mr,{placeholder:"Select model..."})}),u.jsx(cr,{children:C==null?void 0:C.map(j=>u.jsx(At,{value:j.model_name,children:j.model_name},j.id))})]}),u.jsx(ke,{variant:"outline",size:"icon",children:u.jsx(qi,{className:"h-4 w-4"})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(ke,{variant:"ghost",onClick:()=>h(null),children:"Cancel"}),u.jsxs(ke,{onClick:()=>{k.mutate({ruleId:d,ruleData:{intent:r,condition:s,targetModel:a,priority:c}})},disabled:k.isPending,children:[k.isPending?u.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Routing Logic"})}),u.jsxs(et,{className:"text-sm text-muted-foreground space-y-2",children:[u.jsx("p",{children:"COGNISYS evaluates each request against routing rules in priority order:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Intent detection identifies the request type"}),u.jsx("li",{children:"Matching rules are found based on conditions"}),u.jsx("li",{children:"Highest priority matching rule determines the target model"}),u.jsx("li",{children:"Request is routed to the selected model"}),u.jsx("li",{children:"Optional reasoning step is applied if configured"})]})]})]})]}))}function Frt(){const{toast:t}=bo(),e=bi(),{token:n}=ia(),[r,i]=A.useState({}),[s,o]=A.useState(!1),[a,l]=A.useState(null),[c,f]=A.useState({name:"",base_url:"",api_key:"",enabled:!0,organization_id:""}),{data:d,isLoading:h,error:g}=yn({queryKey:["cognisysLLMProviders"],queryFn:async()=>{const S=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${n}`}});if(!S.ok)throw new Error("Failed to fetch LLM providers");return S.json()},enabled:!!n}),v=Lt({mutationFn:async S=>{const C=await fetch("/api/cognisys/providers/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(S)});if(!C.ok){const M=await C.json();throw new Error(M.detail||"Failed to create LLM provider")}return C.json()},onSuccess:()=>{t({title:"Success",description:"LLM Provider created."}),e.invalidateQueries({queryKey:["cognisysLLMProviders"]}),f({name:"",base_url:"",api_key:"",enabled:!0,organization_id:""})},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}}),x=Lt({mutationFn:async({id:S,updatedProvider:C})=>{const M=await fetch(`/api/cognisys/providers/${S}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(C)});if(!M.ok){const T=await M.json();throw new Error(T.detail||"Failed to update LLM provider")}return M.json()},onSuccess:()=>{t({title:"Success",description:"LLM Provider updated."}),e.invalidateQueries({queryKey:["cognisysLLMProviders"]}),l(null)},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}}),m=Lt({mutationFn:async S=>{const C=await fetch(`/api/cognisys/providers/${S}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!C.ok){const M=await C.json();throw new Error(M.detail||"Failed to delete LLM provider")}return C.json()},onSuccess:()=>{t({title:"Success",description:"LLM Provider deleted."}),e.invalidateQueries({queryKey:["cognisysLLMProviders"]})},onError:S=>{t({title:"Error",description:S.message,variant:"destructive"})}}),p=Lt({mutationFn:async S=>{const C=await fetch(`/api/cognisys/providers/${S}/test-connection`,{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!C.ok){const M=await C.json();throw new Error(M.detail||"Failed to test connection")}return C.json()},onSuccess:S=>{t({title:"Connection Test",description:S.message,variant:S.status==="success"?"default":"destructive"})},onError:S=>{t({title:"Error",description:`Connection test failed: ${S.message}`,variant:"destructive"})}}),y=S=>{l(S.id),o(!1),f({name:S.name,base_url:S.base_url,api_key:S.masked_api_key||"",enabled:S.enabled,organization_id:S.organization_id||""})},_=S=>{const C={name:c.name,base_url:c.base_url,enabled:c.enabled,organization_id:c.organization_id,...s&&{api_key:c.api_key}};x.mutate({id:S,updatedProvider:C})},b=()=>{v.mutate(c)};return h?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(vn,{className:"h-6 w-6 animate-spin mx-auto"})," Loading providers..."]}):g?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error: ",g.message]}):u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[u.jsx(Ge,{children:u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(bh,{className:"h-5 w-5 text-primary"}),"Provider Configuration"]}),u.jsx(Ut,{children:"Manage API keys and settings for LLM providers"})]})}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"text-lg flex items-center gap-2",children:[u.jsx(qi,{className:"h-5 w-5"})," Add New Provider"]})}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"new-provider-name",children:"Name"}),u.jsx(jt,{id:"new-provider-name",placeholder:"e.g., OpenAI, Google Gemini",value:c.name,onChange:S=>f({...c,name:S.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"new-provider-base-url",children:"Base URL"}),u.jsx(jt,{id:"new-provider-base-url",placeholder:"e.g., https://api.openai.com/v1",value:c.base_url,onChange:S=>f({...c,base_url:S.target.value})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"new-provider-api-key",children:"API Key"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(jt,{id:"new-provider-api-key",type:r.new?"text":"password",placeholder:"sk-...",value:c.api_key,onChange:S=>f({...c,api_key:S.target.value})}),u.jsx(ke,{variant:"outline",size:"icon",onClick:()=>i({...r,new:!r.new}),children:r.new?u.jsx(yI,{className:"h-4 w-4"}):u.jsx(xI,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"new-provider-org-id",children:"Organization ID (optional)"}),u.jsx(jt,{id:"new-provider-org-id",placeholder:"org-...",value:c.organization_id,onChange:S=>f({...c,organization_id:S.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hd,{id:"new-provider-enabled",checked:c.enabled,onCheckedChange:S=>f({...c,enabled:S})}),u.jsx(mt,{htmlFor:"new-provider-enabled",children:"Enabled"})]}),u.jsxs(ke,{className:"w-full",onClick:b,disabled:v.isPending||!c.name||!c.base_url||!c.api_key,children:[v.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Create Provider"]})]})]}),d==null?void 0:d.map(S=>u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ze,{className:"text-base",children:S.name}),u.jsx(Ut,{className:"text-xs mt-1",children:S.base_url})]}),u.jsx(hd,{checked:S.enabled,onCheckedChange:C=>x.mutate({id:S.id,updatedProvider:{...S,enabled:C,api_key:""}}),disabled:x.isPending})]})}),u.jsx(et,{className:"space-y-4",children:a===S.id?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:`edit-name-${S.id}`,children:"Name"}),u.jsx(jt,{id:`edit-name-${S.id}`,value:c.name,onChange:C=>f({...c,name:C.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:`edit-base-url-${S.id}`,children:"Base URL"}),u.jsx(jt,{id:`edit-base-url-${S.id}`,value:c.base_url,onChange:C=>f({...c,base_url:C.target.value})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:`edit-api-key-${S.id}`,children:"API Key"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hd,{id:`change-api-key-switch-${S.id}`,checked:s,onCheckedChange:o}),u.jsx(mt,{htmlFor:`change-api-key-switch-${S.id}`,children:"Change API Key"})]}),s?u.jsxs("div",{className:"flex gap-2",children:[u.jsx(jt,{id:`edit-api-key-${S.id}`,type:r[S.id]?"text":"password",placeholder:"sk-...",value:c.api_key,onChange:C=>f({...c,api_key:C.target.value})}),u.jsx(ke,{variant:"outline",size:"icon",onClick:()=>i({...r,[S.id]:!r[S.id]}),children:r[S.id]?u.jsx(yI,{className:"h-4 w-4"}):u.jsx(xI,{className:"h-4 w-4"})})]}):u.jsx(jt,{id:`edit-api-key-${S.id}`,type:"text",value:S.masked_api_key||"",readOnly:!0,className:"font-mono"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:`edit-org-id-${S.id}`,children:"Organization ID (optional)"}),u.jsx(jt,{id:`edit-org-id-${S.id}`,value:c.organization_id,onChange:C=>f({...c,organization_id:C.target.value})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{size:"sm",onClick:()=>_(S.id),disabled:x.isPending,children:[x.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(KA,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),u.jsx(ke,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Cancel"})]})]}):u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>y(S),children:[u.jsx(bh,{className:"h-4 w-4 mr-2"})," Edit"]}),u.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>p.mutate(S.id),disabled:p.isPending,children:[p.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Qye,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),u.jsxs(ke,{variant:"destructive",size:"sm",onClick:()=>m.mutate(S.id),disabled:m.isPending,children:[m.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]},S.id)),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Multi-Provider Benefits"})}),u.jsx(et,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Automatic failover if one provider is down"}),u.jsx("li",{children:"Cost optimization by routing to cheaper models"}),u.jsx("li",{children:"Access to specialized models from different providers"}),u.jsx("li",{children:"No vendor lock-in, freedom to switch providers"}),u.jsx("li",{children:"Load balancing across multiple providers"})]})})]})]})}function Qr(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=Qr(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const Ll={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},N_=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Cce=["Enter"," ","Escape"],Mce={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var fv;(function(t){t.Strict="strict",t.Loose="loose"})(fv||(fv={}));var lh;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(lh||(lh={}));var R_;(function(t){t.Partial="partial",t.Full="full"})(R_||(R_={}));const Ace={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var zu;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(zu||(zu={}));var OM;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(OM||(OM={}));var zt;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})(zt||(zt={}));const yG={[zt.Left]:zt.Right,[zt.Right]:zt.Left,[zt.Top]:zt.Bottom,[zt.Bottom]:zt.Top};function Tce(t){return t===null?null:t?"valid":"invalid"}const Pce=t=>"id"in t&&"source"in t&&"target"in t,Brt=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),RB=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),Zb=(t,e=[0,0])=>{const{width:n,height:r}=iu(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},zrt=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):RB(i)?i:e.nodeLookup.get(i.id));const a=o?kM(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return MP(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return AP(n)},Qb=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=MP(n,kM(i)),r=!0)}),r?AP(n):{x:0,y:0,width:0,height:0}},OB=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...ew(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:f,selectable:d=!0,hidden:h=!1}=c;if(o&&!d||h)continue;const g=f.width??c.width??c.initialWidth??null,v=f.height??c.height??c.initialHeight??null,x=O_(a,pv(c)),m=(g??0)*(v??0),p=s&&x>0;(!c.internals.handleBounds||p||x>=m||c.dragging)&&l.push(c)}return l},Urt=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function $rt(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Hrt({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const a=$rt(t,o),l=Qb(a),c=kB(l,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Nce({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let d=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",Ll.error005());else{const g=a.measured.width,v=a.measured.height;g&&v&&(d=[[l,c],[l+g,c+v]])}else a&&mv(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const h=mv(d)?Fh(e,d,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",Ll.error015())),{position:{x:h.x-l+(o.measured.width??0)*f[0],y:h.y-c+(o.measured.height??0)*f[1]},positionAbsolute:h}}async function Vrt({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const g=s.has(h.id),v=!g&&h.parentId&&o.find(x=>x.id===h.parentId);(g||v)&&o.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),f=Urt(o,l);for(const h of l)a.has(h.id)&&!f.find(v=>v.id===h.id)&&f.push(h);if(!i)return{edges:f,nodes:o};const d=await i({nodes:o,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:o}:{edges:[],nodes:[]}:d}const hv=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Fh=(t={x:0,y:0},e,n)=>({x:hv(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:hv(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function Rce(t,e,n){const{width:r,height:i}=iu(n),{x:s,y:o}=n.internals.positionAbsolute;return Fh(t,[[s,o],[s+r,o+i]],e)}const xG=(t,e,n)=>t<e?hv(Math.abs(t-e),1,e)/e:t>n?-hv(Math.abs(t-n),1,e)/e:0,Oce=(t,e,n=15,r=40)=>{const i=xG(t.x,r,e.width-r)*n,s=xG(t.y,r,e.height-r)*n;return[i,s]},MP=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),$j=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),AP=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),pv=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=RB(t)?t.internals.positionAbsolute:Zb(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},kM=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=RB(t)?t.internals.positionAbsolute:Zb(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},kce=(t,e)=>AP(MP($j(t),$j(e))),O_=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},_G=t=>Na(t.width)&&Na(t.height)&&Na(t.x)&&Na(t.y),Na=t=>!isNaN(t)&&isFinite(t),Wrt=(t,e)=>{},Jb=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),ew=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?Jb(a,o):a},IM=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Fp(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function Grt(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Fp(t,n),i=Fp(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Fp(t.top??t.y??0,n),i=Fp(t.bottom??t.y??0,n),s=Fp(t.left??t.x??0,e),o=Fp(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function qrt(t,e,n,r,i,s){const{x:o,y:a}=IM(t,[e,n,r]),{x:l,y:c}=IM({x:t.x+t.width,y:t.y+t.height},[e,n,r]),f=i-l,d=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(d)}}const kB=(t,e,n,r,i,s)=>{const o=Grt(s,e,n),a=(e-o.x)/t.width,l=(n-o.y)/t.height,c=Math.min(a,l),f=hv(c,r,i),d=t.x+t.width/2,h=t.y+t.height/2,g=e/2-d*f,v=n/2-h*f,x=qrt(t,g,v,f,e,n),m={left:Math.min(x.left-o.left,0),top:Math.min(x.top-o.top,0),right:Math.min(x.right-o.right,0),bottom:Math.min(x.bottom-o.bottom,0)};return{x:g-m.left+m.right,y:v-m.top+m.bottom,zoom:f}},k_=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function mv(t){return t!=null&&t!=="parent"}function iu(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function Ice(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function Dce(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function bG(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function Xrt(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function Krt(t){return{...Mce,...t||{}}}function ix(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Ra(t),a=ew({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?Jb(a,e):a;return{xSnapped:l,ySnapped:c,...a}}const IB=t=>({width:t.offsetWidth,height:t.offsetHeight}),jce=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},Yrt=["INPUT","SELECT","TEXTAREA"];function Lce(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:Yrt.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const Fce=t=>"clientX"in t,Ra=(t,e)=>{var s,o;const n=Fce(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},wG=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...IB(o)}})};function Bce({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,f=Math.abs(l-t),d=Math.abs(c-e);return[l,c,f,d]}function Q1(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function SG({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case zt.Left:return[e-Q1(e-r,s),n];case zt.Right:return[e+Q1(r-e,s),n];case zt.Top:return[e,n-Q1(n-i,s)];case zt.Bottom:return[e,n+Q1(i-n,s)]}}function zce({sourceX:t,sourceY:e,sourcePosition:n=zt.Bottom,targetX:r,targetY:i,targetPosition:s=zt.Top,curvature:o=.25}){const[a,l]=SG({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,f]=SG({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,h,g,v]=Bce({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:f});return[`M${t},${e} C${a},${l} ${c},${f} ${r},${i}`,d,h,g,v]}function Uce({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function Zrt({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(r!==void 0)return r;const s=i&&n?1e3:0,o=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return s+o}function Qrt({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=MP(kM(t),kM(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return O_(o,AP(s))>0}const Jrt=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,eit=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),DB=(t,e)=>{if(!t.source||!t.target)return e;let n;return Pce(t)?n={...t}:n={...t,id:Jrt(t)},eit(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function $ce({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=Uce({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const EG={[zt.Left]:{x:-1,y:0},[zt.Right]:{x:1,y:0},[zt.Top]:{x:0,y:-1},[zt.Bottom]:{x:0,y:1}},tit=({source:t,sourcePosition:e=zt.Bottom,target:n})=>e===zt.Left||e===zt.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},CG=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function nit({source:t,sourcePosition:e=zt.Bottom,target:n,targetPosition:r=zt.Top,center:i,offset:s,stepPosition:o}){const a=EG[e],l=EG[r],c={x:t.x+a.x*s,y:t.y+a.y*s},f={x:n.x+l.x*s,y:n.y+l.y*s},d=tit({source:c,sourcePosition:e,target:f}),h=d.x!==0?"x":"y",g=d[h];let v=[],x,m;const p={x:0,y:0},y={x:0,y:0},[,,_,b]=Uce({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[h]*l[h]===-1){h==="x"?(x=i.x??c.x+(f.x-c.x)*o,m=i.y??(c.y+f.y)/2):(x=i.x??(c.x+f.x)/2,m=i.y??c.y+(f.y-c.y)*o);const C=[{x,y:c.y},{x,y:f.y}],M=[{x:c.x,y:m},{x:f.x,y:m}];a[h]===g?v=h==="x"?C:M:v=h==="x"?M:C}else{const C=[{x:c.x,y:f.y}],M=[{x:f.x,y:c.y}];if(h==="x"?v=a.x===g?M:C:v=a.y===g?C:M,e===r){const D=Math.abs(t[h]-n[h]);if(D<=s){const j=Math.min(s-1,s-D);a[h]===g?p[h]=(c[h]>t[h]?-1:1)*j:y[h]=(f[h]>n[h]?-1:1)*j}}if(e!==r){const D=h==="x"?"y":"x",j=a[h]===l[D],F=c[D]>f[D],z=c[D]<f[D];(a[h]===1&&(!j&&F||j&&z)||a[h]!==1&&(!j&&z||j&&F))&&(v=h==="x"?C:M)}const T={x:c.x+p.x,y:c.y+p.y},P={x:f.x+y.x,y:f.y+y.y},N=Math.max(Math.abs(T.x-v[0].x),Math.abs(P.x-v[0].x)),k=Math.max(Math.abs(T.y-v[0].y),Math.abs(P.y-v[0].y));N>=k?(x=(T.x+P.x)/2,m=v[0].y):(x=v[0].x,m=(T.y+P.y)/2)}return[[t,{x:c.x+p.x,y:c.y+p.y},...v,{x:f.x+y.x,y:f.y+y.y},n],x,m,_,b]}function rit(t,e,n,r){const i=Math.min(CG(t,e)/2,CG(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*f}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function Hj({sourceX:t,sourceY:e,sourcePosition:n=zt.Bottom,targetX:r,targetY:i,targetPosition:s=zt.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20,stepPosition:f=.5}){const[d,h,g,v,x]=nit({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:f});return[d.reduce((p,y,_)=>{let b="";return _>0&&_<d.length-1?b=rit(d[_-1],y,d[_+1],o):b=`${_===0?"M":"L"}${y.x} ${y.y}`,p+=b,p},""),h,g,v,x]}function MG(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function iit(t){var d;const{sourceNode:e,targetNode:n}=t;if(!MG(e)||!MG(n))return null;const r=e.internals.handleBounds||AG(e.handles),i=n.internals.handleBounds||AG(n.handles),s=TG((r==null?void 0:r.source)??[],t.sourceHandle),o=TG(t.connectionMode===fv.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(d=t.onError)==null||d.call(t,"008",Ll.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||zt.Bottom,l=(o==null?void 0:o.position)||zt.Top,c=I_(e,s,a),f=I_(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:l}}function AG(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function I_(t,e,n=zt.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??iu(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case zt.Top:return{x:i+o/2,y:s};case zt.Right:return{x:i+o,y:s+a/2};case zt.Bottom:return{x:i+o/2,y:s+a};case zt.Left:return{x:i,y:s+a/2}}}function TG(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function Vj(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function sit(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=Vj(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const Hce=1e3,oit=10,jB={nodeOrigin:[0,0],nodeExtent:N_,elevateNodesOnSelect:!0,defaults:{}},ait={...jB,checkEquality:!0};function LB(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function lit(t,e,n){const r=LB(jB,n);for(const i of t.values())if(i.parentId)FB(i,t,e,r);else{const s=Zb(i,r.nodeOrigin),o=mv(i.extent)?i.extent:r.nodeExtent,a=Fh(s,o,iu(i));i.internals.positionAbsolute=a}}function cit(t,e){if(!t.handles)return t.measured?e==null?void 0:e.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function Wj(t,e,n,r){var c,f;const i=LB(ait,r);let s={i:-1},o=t.length>0;const a=new Map(e),l=i!=null&&i.elevateNodesOnSelect?Hce:0;e.clear(),n.clear();for(const d of t){let h=a.get(d.id);if(i.checkEquality&&d===(h==null?void 0:h.internals.userNode))e.set(d.id,h);else{const g=Zb(d,i.nodeOrigin),v=mv(d.extent)?d.extent:i.nodeExtent,x=Fh(g,v,iu(d));h={...i.defaults,...d,measured:{width:(c=d.measured)==null?void 0:c.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:x,handleBounds:cit(d,h),z:Vce(d,l),userNode:d}},e.set(d.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(o=!1),d.parentId&&FB(h,e,n,r,s)}return o}function uit(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function FB(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a}=LB(jB,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}uit(t,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*oit),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const f=s?Hce:0,{x:d,y:h,z:g}=dit(t,c,o,a,f),{positionAbsolute:v}=t.internals,x=d!==v.x||h!==v.y;(x||g!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:x?{x:d,y:h}:v,z:g}})}function Vce(t,e){return(Na(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function dit(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=iu(t),l=Zb(t,n),c=mv(t.extent)?Fh(l,t.extent,a):l;let f=Fh({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(f=Rce(f,a,e));const d=Vce(t,i),h=e.internals.z??0;return{x:f.x,y:f.y,z:h>=d?h+1:d}}function BB(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??pv(l),f=kce(c,a.rect);s.set(a.parentId,{expandedRect:f,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var _;const f=l.internals.positionAbsolute,d=iu(l),h=l.origin??r,g=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,v=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,x=Math.max(d.width,Math.round(a.width)),m=Math.max(d.height,Math.round(a.height)),p=(x-d.width)*h[0],y=(m-d.height)*h[1];(g>0||v>0||p||y)&&(i.push({id:c,type:"position",position:{x:l.position.x-g+p,y:l.position.y-v+y}}),(_=n.get(c))==null||_.forEach(b=>{t.some(S=>S.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+g,y:b.position.y+v}})})),(d.width<a.width||d.height<a.height||g||v)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:x+(g?h[0]*g-p:0),height:m+(v?h[1]*v-y:0)}})}),i}function fit(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const h of t.values()){const g=e.get(h.id);if(!g)continue;if(g.hidden){e.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const v=IB(h.nodeElement),x=g.measured.width!==v.width||g.measured.height!==v.height;if(!!(v.width&&v.height&&(x||!g.internals.handleBounds||h.force))){const p=h.nodeElement.getBoundingClientRect(),y=mv(g.extent)?g.extent:s;let{positionAbsolute:_}=g.internals;g.parentId&&g.extent==="parent"?_=Rce(_,v,e.get(g.parentId)):y&&(_=Fh(_,y,v));const b={...g,measured:v,internals:{...g.internals,positionAbsolute:_,handleBounds:{source:wG("source",h.nodeElement,p,f,g.id),target:wG("target",h.nodeElement,p,f,g.id)}}};e.set(g.id,b),g.parentId&&FB(b,e,n,{nodeOrigin:i}),a=!0,x&&(l.push({id:g.id,type:"dimensions",dimensions:v}),g.expandParent&&g.parentId&&d.push({id:g.id,parentId:g.parentId,rect:pv(b,i)}))}}if(d.length>0){const h=BB(d,e,n,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function hit({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function PG(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,e))}}function Wce(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,f=`${s}-${a}--${i}-${o}`;PG("source",l,f,t,i,o),PG("target",l,c,t,s,a),e.set(r.id,r)}}function Gce(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:Gce(n,e):!1}function NG(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function pit(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!Gce(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function rO({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,f]of e){const d=(o=n.get(c))==null?void 0:o.internals.userNode;d&&i.push({...d,position:f.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function mit({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=Jb(s,e);return{x:o.x-s.x,y:o.y-s.y}}function git({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},f=null,d=!1,h=null,g=!1,v=!1,x=null;function m({noDragClassName:y,handleSelector:_,domNode:b,isSelectable:S,nodeId:C,nodeClickDistance:M=0}){h=Ps(b);function T({x:D,y:j}){const{nodeLookup:F,nodeExtent:z,snapGrid:U,snapToGrid:H,nodeOrigin:R,onNodeDrag:I,onSelectionDrag:B,onError:W,updateNodePositions:G}=e();s={x:D,y:j};let X=!1;const ne=a.size>1,ae=ne&&z?$j(Qb(a)):null,se=ne&&H?mit({dragItems:a,snapGrid:U,x:D,y:j}):null;for(const[$,Y]of a){if(!F.has($))continue;let Q={x:D-Y.distance.x,y:j-Y.distance.y};H&&(Q=se?{x:Math.round(Q.x+se.x),y:Math.round(Q.y+se.y)}:Jb(Q,U));let ee=null;if(ne&&z&&!Y.extent&&ae){const{positionAbsolute:K}=Y.internals,re=K.x-ae.x+z[0][0],fe=K.x+Y.measured.width-ae.x2+z[1][0],me=K.y-ae.y+z[0][1],pe=K.y+Y.measured.height-ae.y2+z[1][1];ee=[[re,me],[fe,pe]]}const{position:ue,positionAbsolute:J}=Nce({nodeId:$,nextPosition:Q,nodeLookup:F,nodeExtent:ee||z,nodeOrigin:R,onError:W});X=X||Y.position.x!==ue.x||Y.position.y!==ue.y,Y.position=ue,Y.internals.positionAbsolute=J}if(v=v||X,!!X&&(G(a,!0),x&&(r||I||!C&&B))){const[$,Y]=rO({nodeId:C,dragItems:a,nodeLookup:F});r==null||r(x,a,$,Y),I==null||I(x,$,Y),C||B==null||B(x,Y)}}async function P(){if(!f)return;const{transform:D,panBy:j,autoPanSpeed:F,autoPanOnNodeDrag:z}=e();if(!z){l=!1,cancelAnimationFrame(o);return}const[U,H]=Oce(c,f,F);(U!==0||H!==0)&&(s.x=(s.x??0)-U/D[2],s.y=(s.y??0)-H/D[2],await j({x:U,y:H})&&T(s)),o=requestAnimationFrame(P)}function N(D){var ne;const{nodeLookup:j,multiSelectionActive:F,nodesDraggable:z,transform:U,snapGrid:H,snapToGrid:R,selectNodesOnDrag:I,onNodeDragStart:B,onSelectionDragStart:W,unselectNodesAndEdges:G}=e();d=!0,(!I||!S)&&!F&&C&&((ne=j.get(C))!=null&&ne.selected||G()),S&&I&&C&&(t==null||t(C));const X=ix(D.sourceEvent,{transform:U,snapGrid:H,snapToGrid:R,containerBounds:f});if(s=X,a=pit(j,z,X,C),a.size>0&&(n||B||!C&&W)){const[ae,se]=rO({nodeId:C,dragItems:a,nodeLookup:j});n==null||n(D.sourceEvent,a,ae,se),B==null||B(D.sourceEvent,ae,se),C||W==null||W(D.sourceEvent,se)}}const k=mce().clickDistance(M).on("start",D=>{const{domNode:j,nodeDragThreshold:F,transform:z,snapGrid:U,snapToGrid:H}=e();f=(j==null?void 0:j.getBoundingClientRect())||null,g=!1,v=!1,x=D.sourceEvent,F===0&&N(D),s=ix(D.sourceEvent,{transform:z,snapGrid:U,snapToGrid:H,containerBounds:f}),c=Ra(D.sourceEvent,f)}).on("drag",D=>{const{autoPanOnNodeDrag:j,transform:F,snapGrid:z,snapToGrid:U,nodeDragThreshold:H,nodeLookup:R}=e(),I=ix(D.sourceEvent,{transform:F,snapGrid:z,snapToGrid:U,containerBounds:f});if(x=D.sourceEvent,(D.sourceEvent.type==="touchmove"&&D.sourceEvent.touches.length>1||C&&!R.has(C))&&(g=!0),!g){if(!l&&j&&d&&(l=!0,P()),!d){const B=Ra(D.sourceEvent,f),W=B.x-c.x,G=B.y-c.y;Math.sqrt(W*W+G*G)>H&&N(D)}(s.x!==I.xSnapped||s.y!==I.ySnapped)&&a&&d&&(c=Ra(D.sourceEvent,f),T(I))}}).on("end",D=>{if(!(!d||g)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:j,updateNodePositions:F,onNodeDragStop:z,onSelectionDragStop:U}=e();if(v&&(F(a,!1),v=!1),i||z||!C&&U){const[H,R]=rO({nodeId:C,dragItems:a,nodeLookup:j,dragging:!1});i==null||i(D.sourceEvent,a,H,R),z==null||z(D.sourceEvent,H,R),C||U==null||U(D.sourceEvent,R)}}}).filter(D=>{const j=D.target;return!D.button&&(!y||!NG(j,`.${y}`,b))&&(!_||NG(j,_,b))});h.call(k)}function p(){h==null||h.on(".drag",null)}return{update:m,destroy:p}}function vit(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())O_(i,pv(s))>0&&r.push(s);return r}const yit=250;function xit(t,e,n,r){var a,l;let i=[],s=1/0;const o=vit(t,n,e+yit);for(const c of o){const f=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:g}=I_(c,d,d.position,!0),v=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(g-t.y,2));v>e||(v<s?(i=[{...d,x:h,y:g}],s=v):v===s&&i.push({...d,x:h,y:g}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(f=>f.type===c)??i[0]}return i[0]}function qce(t,e,n,r,i,s=!1){var c,f,d;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...I_(o,l,l.position,!0)}:l}function Xce(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function _it(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const Kce=()=>!0;function bit(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:f,flowId:d,panBy:h,cancelConnection:g,onConnectStart:v,onConnect:x,onConnectEnd:m,isValidConnection:p=Kce,onReconnectEnd:y,updateConnection:_,getTransform:b,getFromHandle:S,autoPanSpeed:C,dragThreshold:M=1,handleDomNode:T}){const P=jce(t.target);let N=0,k;const{x:D,y:j}=Ra(t),F=Xce(s,T),z=a==null?void 0:a.getBoundingClientRect();let U=!1;if(!z||!F)return;const H=qce(i,F,r,l,e);if(!H)return;let R=Ra(t,z),I=!1,B=null,W=!1,G=null;function X(){if(!f||!z)return;const[ue,J]=Oce(R,z,C);h({x:ue,y:J}),N=requestAnimationFrame(X)}const ne={...H,nodeId:i,type:F,position:H.position},ae=l.get(i);let $={inProgress:!0,isValid:null,from:I_(ae,ne,zt.Left,!0),fromHandle:ne,fromPosition:ne.position,fromNode:ae,to:R,toHandle:null,toPosition:yG[ne.position],toNode:null};function Y(){U=!0,_($),v==null||v(t,{nodeId:i,handleId:r,handleType:F})}M===0&&Y();function Q(ue){if(!U){const{x:fe,y:me}=Ra(ue),pe=fe-D,Ae=me-j;if(!(pe*pe+Ae*Ae>M*M))return;Y()}if(!S()||!ne){ee(ue);return}const J=b();R=Ra(ue,z),k=xit(ew(R,J,!1,[1,1]),n,l,ne),I||(X(),I=!0);const K=Yce(ue,{handle:k,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:p,doc:P,lib:c,flowId:d,nodeLookup:l});G=K.handleDomNode,B=K.connection,W=_it(!!k,K.isValid);const re={...$,isValid:W,to:K.toHandle&&W?IM({x:K.toHandle.x,y:K.toHandle.y},J):R,toHandle:K.toHandle,toPosition:W&&K.toHandle?K.toHandle.position:yG[ne.position],toNode:K.toHandle?l.get(K.toHandle.nodeId):null};W&&k&&$.toHandle&&re.toHandle&&$.toHandle.type===re.toHandle.type&&$.toHandle.nodeId===re.toHandle.nodeId&&$.toHandle.id===re.toHandle.id&&$.to.x===re.to.x&&$.to.y===re.to.y||(_(re),$=re)}function ee(ue){if(!("touches"in ue&&ue.touches.length>0)){if(U){(k||G)&&B&&W&&(x==null||x(B));const{inProgress:J,...K}=$,re={...K,toPosition:$.toHandle?$.toPosition:null};m==null||m(ue,re),s&&(y==null||y(ue,re))}g(),cancelAnimationFrame(N),I=!1,W=!1,B=null,G=null,P.removeEventListener("mousemove",Q),P.removeEventListener("mouseup",ee),P.removeEventListener("touchmove",Q),P.removeEventListener("touchend",ee)}}P.addEventListener("mousemove",Q),P.addEventListener("mouseup",ee),P.addEventListener("touchmove",Q),P.addEventListener("touchend",ee)}function Yce(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=Kce,nodeLookup:f}){const d=s==="target",h=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:g,y:v}=Ra(t),x=o.elementFromPoint(g,v),m=x!=null&&x.classList.contains(`${a}-flow__handle`)?x:h,p={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){const y=Xce(void 0,m),_=m.getAttribute("data-nodeid"),b=m.getAttribute("data-handleid"),S=m.classList.contains("connectable"),C=m.classList.contains("connectableend");if(!_||!y)return p;const M={source:d?_:r,sourceHandle:d?b:i,target:d?r:_,targetHandle:d?i:b};p.connection=M;const P=S&&C&&(n===fv.Strict?d&&y==="source"||!d&&y==="target":_!==r||b!==i);p.isValid=P&&c(M),p.toHandle=qce(_,y,b,f,n,!0)}return p}const Gj={onPointerDown:bit,isValid:Yce};function wit({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=Ps(t);function s({translateExtent:a,width:l,height:c,zoomStep:f=1,pannable:d=!0,zoomable:h=!0,inversePan:g=!1}){const v=_=>{if(_.sourceEvent.type!=="wheel"||!e)return;const b=n(),S=_.sourceEvent.ctrlKey&&k_()?10:1,C=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*f,M=b[2]*Math.pow(2,C*S);e.scaleTo(M)};let x=[0,0];const m=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(x=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},p=_=>{const b=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const S=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],C=[S[0]-x[0],S[1]-x[1]];x=S;const M=r()*Math.max(b[2],Math.log(b[2]))*(g?-1:1),T={x:b[0]-C[0]*M,y:b[1]-C[1]*M},P=[[0,0],[l,c]];e.setViewportConstrained({x:T.x,y:T.y,zoom:b[2]},P,a)},y=Ece().on("start",m).on("zoom",d?p:null).on("zoom.wheel",h?v:null);i.call(y,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Sa}}const TP=t=>({x:t.x,y:t.y,zoom:t.k}),iO=({x:t,y:e,zoom:n})=>CP.translate(t,e).scale(n),Om=(t,e)=>t.target.closest(`.${e}`),Zce=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Sit=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,sO=(t,e=0,n=Sit,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},Qce=t=>{const e=t.ctrlKey&&k_()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Eit({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return f=>{if(Om(f,e))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&o){const m=Sa(f),p=Qce(f),y=d*Math.pow(2,p);r.scaleTo(n,y,m,f);return}const h=f.deltaMode===1?20:1;let g=i===lh.Vertical?0:f.deltaX*h,v=i===lh.Horizontal?0:f.deltaY*h;!k_()&&f.shiftKey&&i!==lh.Vertical&&(g=f.deltaY*h,v=0),r.translateBy(n,-(g/d)*s,-(v/d)*s,{internal:!0});const x=TP(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(l==null||l(f,x),t.panScrollTimeout=setTimeout(()=>{c==null||c(f,x),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,a==null||a(f,x))}}function Cit({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,a=Om(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function Mit({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=TP(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function Ait({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&Zce(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,TP(s.transform)))}}function Tit({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&Zce(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const l=TP(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function Pit({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:f}){return d=>{var m;const h=t||e,g=n&&d.ctrlKey,v=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(Om(d,`${c}-flow__node`)||Om(d,`${c}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||f&&!v||Om(d,a)&&v||Om(d,l)&&(!v||i&&v&&!t)||!n&&d.ctrlKey&&v)return!1;if(!n&&d.type==="touchstart"&&((m=d.touches)==null?void 0:m.length)>1)return d.preventDefault(),!1;if(!h&&!i&&!g&&v||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||v)&&x}}function Nit({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),h=Ece().clickDistance(!Na(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),g=Ps(t).call(h);_({x:s.x,y:s.y,zoom:hv(s.zoom,e,n)},[[0,0],[d.width,d.height]],i);const v=g.on("wheel.zoom"),x=g.on("dblclick.zoom");h.wheelDelta(Qce);function m(D,j){return g?new Promise(F=>{h==null||h.interpolate((j==null?void 0:j.interpolate)==="linear"?Pc:fE).transform(sO(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),D)}):Promise.resolve(!1)}function p({noWheelClassName:D,noPanClassName:j,onPaneContextMenu:F,userSelectionActive:z,panOnScroll:U,panOnDrag:H,panOnScrollMode:R,panOnScrollSpeed:I,preventScrolling:B,zoomOnPinch:W,zoomOnScroll:G,zoomOnDoubleClick:X,zoomActivationKeyPressed:ne,lib:ae,onTransformChange:se,connectionInProgress:$}){z&&!f.isZoomingOrPanning&&y();const Q=U&&!ne&&!z?Eit({zoomPanValues:f,noWheelClassName:D,d3Selection:g,d3Zoom:h,panOnScrollMode:R,panOnScrollSpeed:I,zoomOnPinch:W,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):Cit({noWheelClassName:D,preventScrolling:B,d3ZoomHandler:v});if(g.on("wheel.zoom",Q,{passive:!1}),!z){const ue=Mit({zoomPanValues:f,onDraggingChange:c,onPanZoomStart:a});h.on("start",ue);const J=Ait({zoomPanValues:f,panOnDrag:H,onPaneContextMenu:!!F,onPanZoom:o,onTransformChange:se});h.on("zoom",J);const K=Tit({zoomPanValues:f,panOnDrag:H,panOnScroll:U,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:c});h.on("end",K)}const ee=Pit({zoomActivationKeyPressed:ne,panOnDrag:H,zoomOnScroll:G,panOnScroll:U,zoomOnDoubleClick:X,zoomOnPinch:W,userSelectionActive:z,noPanClassName:j,noWheelClassName:D,lib:ae,connectionInProgress:$});h.filter(ee),X?g.on("dblclick.zoom",x):g.on("dblclick.zoom",null)}function y(){h.on("zoom",null)}async function _(D,j,F){const z=iO(D),U=h==null?void 0:h.constrain()(z,j,F);return U&&await m(U),new Promise(H=>H(U))}async function b(D,j){const F=iO(D);return await m(F,j),new Promise(z=>z(F))}function S(D){if(g){const j=iO(D),F=g.property("__zoom");(F.k!==D.zoom||F.x!==D.x||F.y!==D.y)&&(h==null||h.transform(g,j,null,{sync:!0}))}}function C(){const D=g?Sce(g.node()):{x:0,y:0,k:1};return{x:D.x,y:D.y,zoom:D.k}}function M(D,j){return g?new Promise(F=>{h==null||h.interpolate((j==null?void 0:j.interpolate)==="linear"?Pc:fE).scaleTo(sO(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),D)}):Promise.resolve(!1)}function T(D,j){return g?new Promise(F=>{h==null||h.interpolate((j==null?void 0:j.interpolate)==="linear"?Pc:fE).scaleBy(sO(g,j==null?void 0:j.duration,j==null?void 0:j.ease,()=>F(!0)),D)}):Promise.resolve(!1)}function P(D){h==null||h.scaleExtent(D)}function N(D){h==null||h.translateExtent(D)}function k(D){const j=!Na(D)||D<0?0:D;h==null||h.clickDistance(j)}return{update:p,destroy:y,setViewport:b,setViewportConstrained:_,getViewport:C,scaleTo:M,scaleBy:T,setScaleExtent:P,setTranslateExtent:N,syncViewport:S,setClickDistance:k}}var gv;(function(t){t.Line="line",t.Handle="handle"})(gv||(gv={}));function Rit({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function RG(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function bu(t,e){return Math.max(0,e-t)}function wu(t,e){return Math.max(0,t-e)}function J1(t,e,n){return Math.max(0,e-t,t-n)}function OG(t,e){return t?!e:e}function Oit(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:f,isVertical:d}=e,h=f&&d,{xSnapped:g,ySnapped:v}=n,{minWidth:x,maxWidth:m,minHeight:p,maxHeight:y}=r,{x:_,y:b,width:S,height:C,aspectRatio:M}=t;let T=Math.floor(f?g-t.pointerX:0),P=Math.floor(d?v-t.pointerY:0);const N=S+(l?-T:T),k=C+(c?-P:P),D=-s[0]*S,j=-s[1]*C;let F=J1(N,x,m),z=J1(k,p,y);if(o){let R=0,I=0;l&&T<0?R=bu(_+T+D,o[0][0]):!l&&T>0&&(R=wu(_+N+D,o[1][0])),c&&P<0?I=bu(b+P+j,o[0][1]):!c&&P>0&&(I=wu(b+k+j,o[1][1])),F=Math.max(F,R),z=Math.max(z,I)}if(a){let R=0,I=0;l&&T>0?R=wu(_+T,a[0][0]):!l&&T<0&&(R=bu(_+N,a[1][0])),c&&P>0?I=wu(b+P,a[0][1]):!c&&P<0&&(I=bu(b+k,a[1][1])),F=Math.max(F,R),z=Math.max(z,I)}if(i){if(f){const R=J1(N/M,p,y)*M;if(F=Math.max(F,R),o){let I=0;!l&&!c||l&&!c&&h?I=wu(b+j+N/M,o[1][1])*M:I=bu(b+j+(l?T:-T)/M,o[0][1])*M,F=Math.max(F,I)}if(a){let I=0;!l&&!c||l&&!c&&h?I=bu(b+N/M,a[1][1])*M:I=wu(b+(l?T:-T)/M,a[0][1])*M,F=Math.max(F,I)}}if(d){const R=J1(k*M,x,m)/M;if(z=Math.max(z,R),o){let I=0;!l&&!c||c&&!l&&h?I=wu(_+k*M+D,o[1][0])/M:I=bu(_+(c?P:-P)*M+D,o[0][0])/M,z=Math.max(z,I)}if(a){let I=0;!l&&!c||c&&!l&&h?I=bu(_+k*M,a[1][0])/M:I=wu(_+(c?P:-P)*M,a[0][0])/M,z=Math.max(z,I)}}}P=P+(P<0?z:-z),T=T+(T<0?F:-F),i&&(h?N>k*M?P=(OG(l,c)?-T:T)/M:T=(OG(l,c)?-P:P)*M:f?(P=T/M,c=l):(T=P*M,l=c));const U=l?_+T:_,H=c?b+P:b;return{width:S+(l?-T:T),height:C+(c?-P:P),x:s[0]*T*(l?-1:1)+U,y:s[1]*P*(c?-1:1)+H}}const Jce={width:0,height:0,x:0,y:0},kit={...Jce,pointerX:0,pointerY:0,aspectRatio:1};function Iit(t){return[[0,0],[t.measured.width,t.measured.height]]}function Dit(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function jit({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=Ps(t);let o={controlDirection:RG("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:f,keepAspectRatio:d,resizeDirection:h,onResizeStart:g,onResize:v,onResizeEnd:x,shouldResize:m}){let p={...Jce},y={...kit};o={boundaries:f,resizeDirection:h,keepAspectRatio:d,controlDirection:RG(c)};let _,b=null,S=[],C,M,T,P=!1;const N=mce().on("start",k=>{const{nodeLookup:D,transform:j,snapGrid:F,snapToGrid:z,nodeOrigin:U,paneDomNode:H}=n();if(_=D.get(e),!_)return;b=(H==null?void 0:H.getBoundingClientRect())??null;const{xSnapped:R,ySnapped:I}=ix(k.sourceEvent,{transform:j,snapGrid:F,snapToGrid:z,containerBounds:b});p={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},y={...p,pointerX:R,pointerY:I,aspectRatio:p.width/p.height},C=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(C=D.get(_.parentId),M=C&&_.extent==="parent"?Iit(C):void 0),S=[],T=void 0;for(const[B,W]of D)if(W.parentId===e&&(S.push({id:B,position:{...W.position},extent:W.extent}),W.extent==="parent"||W.expandParent)){const G=Dit(W,_,W.origin??U);T?T=[[Math.min(G[0][0],T[0][0]),Math.min(G[0][1],T[0][1])],[Math.max(G[1][0],T[1][0]),Math.max(G[1][1],T[1][1])]]:T=G}g==null||g(k,{...p})}).on("drag",k=>{const{transform:D,snapGrid:j,snapToGrid:F,nodeOrigin:z}=n(),U=ix(k.sourceEvent,{transform:D,snapGrid:j,snapToGrid:F,containerBounds:b}),H=[];if(!_)return;const{x:R,y:I,width:B,height:W}=p,G={},X=_.origin??z,{width:ne,height:ae,x:se,y:$}=Oit(y,o.controlDirection,U,o.boundaries,o.keepAspectRatio,X,M,T),Y=ne!==B,Q=ae!==W,ee=se!==R&&Y,ue=$!==I&&Q;if(!ee&&!ue&&!Y&&!Q)return;if((ee||ue||X[0]===1||X[1]===1)&&(G.x=ee?se:p.x,G.y=ue?$:p.y,p.x=G.x,p.y=G.y,S.length>0)){const fe=se-R,me=$-I;for(const pe of S)pe.position={x:pe.position.x-fe+X[0]*(ne-B),y:pe.position.y-me+X[1]*(ae-W)},H.push(pe)}if((Y||Q)&&(G.width=Y&&(!o.resizeDirection||o.resizeDirection==="horizontal")?ne:p.width,G.height=Q&&(!o.resizeDirection||o.resizeDirection==="vertical")?ae:p.height,p.width=G.width,p.height=G.height),C&&_.expandParent){const fe=X[0]*(G.width??0);G.x&&G.x<fe&&(p.x=fe,y.x=y.x-(G.x-fe));const me=X[1]*(G.height??0);G.y&&G.y<me&&(p.y=me,y.y=y.y-(G.y-me))}const J=Rit({width:p.width,prevWidth:B,height:p.height,prevHeight:W,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),K={...p,direction:J};(m==null?void 0:m(k,K))!==!1&&(P=!0,v==null||v(k,K),r(G,H))}).on("end",k=>{P&&(x==null||x(k,{...p}),i==null||i({...p}),P=!1)});s.call(N)}function l(){s.on(".drag",null)}return{update:a,destroy:l}}var eue={exports:{}},tue={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PP=A,Lit=TK;function Fit(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Bit=typeof Object.is=="function"?Object.is:Fit,zit=Lit.useSyncExternalStore,Uit=PP.useRef,$it=PP.useEffect,Hit=PP.useMemo,Vit=PP.useDebugValue;tue.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Uit(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Hit(function(){function l(g){if(!c){if(c=!0,f=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return d=v}return d=g}if(v=d,Bit(f,g))return v;var x=r(g);return i!==void 0&&i(v,x)?v:(f=g,d=x)}var c=!1,f,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=zit(t,s[0],s[1]);return $it(function(){o.hasValue=!0,o.value=a},[a]),Vit(a),a};eue.exports=tue;var Wit=eue.exports;const Git=kn(Wit),qit={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},kG=t=>{let e;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const g=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(v=>v(e,g))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(qit?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},Xit=t=>t?kG(t):kG,{useDebugValue:Kit}=te,{useSyncExternalStoreWithSelector:Yit}=Git,Zit=t=>t;function nue(t,e=Zit,n){const r=Yit(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Kit(r),r}const IG=(t,e)=>{const n=Xit(t),r=(i,s=e)=>nue(n,i,s);return Object.assign(r,n),r},Qit=(t,e)=>t?IG(t,e):IG;function Tr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const NP=A.createContext(null),Jit=NP.Provider,rue=Ll.error001();function bn(t,e){const n=A.useContext(NP);if(n===null)throw new Error(rue);return nue(n,t,e)}function vr(){const t=A.useContext(NP);if(t===null)throw new Error(rue);return A.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const DG={display:"none"},est={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},iue="react-flow__node-desc",sue="react-flow__edge-desc",tst="react-flow__aria-live",nst=t=>t.ariaLiveMessage,rst=t=>t.ariaLabelConfig;function ist({rfId:t}){const e=bn(nst);return u.jsx("div",{id:`${tst}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:est,children:e})}function sst({rfId:t,disableKeyboardA11y:e}){const n=bn(rst);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${iue}-${t}`,style:DG,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${sue}-${t}`,style:DG,children:n["edge.a11yDescription.default"]}),!e&&u.jsx(ist,{rfId:t})]})}const RP=A.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return u.jsx("div",{className:Qr(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});RP.displayName="Panel";function ost({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:u.jsx(RP,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const ast=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},eS=t=>t.id;function lst(t,e){return Tr(t.selectedNodes.map(eS),e.selectedNodes.map(eS))&&Tr(t.selectedEdges.map(eS),e.selectedEdges.map(eS))}function cst({onSelectionChange:t}){const e=vr(),{selectedNodes:n,selectedEdges:r}=bn(ast,lst);return A.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const ust=t=>!!t.onSelectionChangeHandlers;function dst({onSelectionChange:t}){const e=bn(ust);return t||e?u.jsx(cst,{onSelectionChange:t}):null}const oue=[0,0],fst={x:0,y:0,zoom:1},hst=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],jG=[...hst,"rfId"],pst=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),LG={translateExtent:N_,nodeOrigin:oue,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function mst(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=bn(pst,Tr),f=vr();A.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=LG,a()}),[]);const d=A.useRef(LG);return A.useEffect(()=>{for(const h of jG){const g=t[h],v=d.current[h];g!==v&&(typeof t[h]>"u"||(h==="nodes"?e(g):h==="edges"?n(g):h==="minZoom"?r(g):h==="maxZoom"?i(g):h==="translateExtent"?s(g):h==="nodeExtent"?o(g):h==="paneClickDistance"?c(g):h==="ariaLabelConfig"?f.setState({ariaLabelConfig:Krt(g)}):h==="fitView"?f.setState({fitViewQueued:g}):h==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[h]:g})))}d.current=t},jG.map(h=>t[h])),null}function FG(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function gst(t){var r;const[e,n]=A.useState(t==="system"?null:t);return A.useEffect(()=>{if(t!=="system"){n(t);return}const i=FG(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=FG())!=null&&r.matches?"dark":"light"}const BG=typeof document<"u"?document:null;function D_(t=null,e={target:BG,actInsideInputWithModifier:!0}){const[n,r]=A.useState(!1),i=A.useRef(!1),s=A.useRef(new Set([])),[o,a]=A.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=c.reduce((d,h)=>d.concat(...h),[]);return[c,f]}return[[],[]]},[t]);return A.useEffect(()=>{const l=(e==null?void 0:e.target)??BG,c=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const f=g=>{var m,p;if(i.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!i.current||i.current&&!c)&&Lce(g))return!1;const x=UG(g.code,a);if(s.current.add(g[x]),zG(o,s.current,!1)){const y=((p=(m=g.composedPath)==null?void 0:m.call(g))==null?void 0:p[0])||g.target,_=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";e.preventDefault!==!1&&(i.current||!_)&&g.preventDefault(),r(!0)}},d=g=>{const v=UG(g.code,a);zG(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[v]),g.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",f),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",f),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function zG(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function UG(t,e){return e.includes(t)?"code":"key"}const vst=()=>{const t=vr();return A.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=kB(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),c={x:e.x-a,y:e.y-l},f=n.snapGrid??i,d=n.snapToGrid??s;return ew(c,r,d,f)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=IM(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function aue(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)yst(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function yst(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function lue(t,e){return aue(t,e)}function cue(t,e){return aue(t,e)}function Af(t,e){return{id:t,type:"select",selected:e}}function km(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(Af(s.id,o)))}return r}function $G({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function HG(t){return{id:t.id,type:"remove"}}const VG=t=>Brt(t),xst=t=>Pce(t);function uue(t){return A.forwardRef(t)}const _st=typeof window<"u"?A.useLayoutEffect:A.useEffect;function WG(t){const[e,n]=A.useState(BigInt(0)),[r]=A.useState(()=>bst(()=>n(i=>i+BigInt(1))));return _st(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function bst(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const due=A.createContext(null);function wst({children:t}){const e=vr(),n=A.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:f,onNodesChange:d,nodeLookup:h,fitViewQueued:g}=e.getState();let v=l;for(const m of a)v=typeof m=="function"?m(v):m;const x=$G({items:v,lookup:h});f&&c(v),x.length>0?d==null||d(x):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:p,setNodes:y}=e.getState();m&&y(p)})},[]),r=WG(n),i=A.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:h}=e.getState();let g=l;for(const v of a)g=typeof v=="function"?v(g):v;f?c(g):d&&d($G({items:g,lookup:h}))},[]),s=WG(i),o=A.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return u.jsx(due.Provider,{value:o,children:t})}function Sst(){const t=A.useContext(due);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Est=t=>!!t.panZoom;function zB(){const t=vst(),e=vr(),n=Sst(),r=bn(Est),i=A.useMemo(()=>{const s=d=>e.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var p,y;const{nodeLookup:h,nodeOrigin:g}=e.getState(),v=VG(d)?d:h.get(d.id),x=v.parentId?Dce(v.position,v.measured,v.parentId,h,g):v.position,m={...v,position:x,width:((p=v.measured)==null?void 0:p.width)??v.width,height:((y=v.measured)==null?void 0:y.height)??v.height};return pv(m)},c=(d,h,g={replace:!1})=>{o(v=>v.map(x=>{if(x.id===d){const m=typeof h=="function"?h(x):h;return g.replace&&VG(m)?m:{...x,...m}}return x}))},f=(d,h,g={replace:!1})=>{a(v=>v.map(x=>{if(x.id===d){const m=typeof h=="function"?h(x):h;return g.replace&&xst(m)?m:{...x,...m}}return x}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var h;return(h=s(d))==null?void 0:h.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(h=>({...h}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const h=Array.isArray(d)?d:[d];n.nodeQueue.push(g=>[...g,...h])},addEdges:d=>{const h=Array.isArray(d)?d:[d];n.edgeQueue.push(g=>[...g,...h])},toObject:()=>{const{nodes:d=[],edges:h=[],transform:g}=e.getState(),[v,x,m]=g;return{nodes:d.map(p=>({...p})),edges:h.map(p=>({...p})),viewport:{x:v,y:x,zoom:m}}},deleteElements:async({nodes:d=[],edges:h=[]})=>{const{nodes:g,edges:v,onNodesDelete:x,onEdgesDelete:m,triggerNodeChanges:p,triggerEdgeChanges:y,onDelete:_,onBeforeDelete:b}=e.getState(),{nodes:S,edges:C}=await Vrt({nodesToRemove:d,edgesToRemove:h,nodes:g,edges:v,onBeforeDelete:b}),M=C.length>0,T=S.length>0;if(M){const P=C.map(HG);m==null||m(C),y(P)}if(T){const P=S.map(HG);x==null||x(S),p(P)}return(T||M)&&(_==null||_({nodes:S,edges:C})),{deletedNodes:S,deletedEdges:C}},getIntersectingNodes:(d,h=!0,g)=>{const v=_G(d),x=v?d:l(d),m=g!==void 0;return x?(g||e.getState().nodes).filter(p=>{const y=e.getState().nodeLookup.get(p.id);if(y&&!v&&(p.id===d.id||!y.internals.positionAbsolute))return!1;const _=pv(m?p:y),b=O_(_,x);return h&&b>0||b>=_.width*_.height||b>=x.width*x.height}):[]},isNodeIntersecting:(d,h,g=!0)=>{const x=_G(d)?d:l(d);if(!x)return!1;const m=O_(x,h);return g&&m>0||m>=h.width*h.height||m>=x.width*x.height},updateNode:c,updateNodeData:(d,h,g={replace:!1})=>{c(d,v=>{const x=typeof h=="function"?h(v):h;return g.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},g)},updateEdge:f,updateEdgeData:(d,h,g={replace:!1})=>{f(d,v=>{const x=typeof h=="function"?h(v):h;return g.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},g)},getNodesBounds:d=>{const{nodeLookup:h,nodeOrigin:g}=e.getState();return zrt(d,{nodeLookup:h,nodeOrigin:g})},getHandleConnections:({type:d,id:h,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}-${d}${h?`-${h}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:d,handleId:h,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}${d?h?`-${d}-${h}`:`-${d}`:""}`))==null?void 0:v.values())??[])},fitView:async d=>{const h=e.getState().fitViewResolver??Xrt();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:h}),n.nodeQueue.push(g=>[...g]),h.promise}}},[]);return A.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const GG=t=>t.selected,Cst=typeof window<"u"?window:void 0;function Mst({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=vr(),{deleteElements:r}=zB(),i=D_(t,{actInsideInputWithModifier:!1}),s=D_(e,{target:Cst});A.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(GG),edges:o.filter(GG)}),n.setState({nodesSelectionActive:!1})}},[i]),A.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function Ast(t){const e=vr();A.useEffect(()=>{const n=()=>{var i,s,o,a;if(!t.current||!(((s=(i=t.current).checkVisibility)==null?void 0:s.call(i))??!0))return!1;const r=IB(t.current);(r.height===0||r.width===0)&&((a=(o=e.getState()).onError)==null||a.call(o,"004",Ll.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const OP={position:"absolute",width:"100%",height:"100%",top:0,left:0},Tst=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function Pst({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=lh.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:f,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:g=!0,children:v,noWheelClassName:x,noPanClassName:m,onViewportChange:p,isControlledViewport:y,paneClickDistance:_}){const b=vr(),S=A.useRef(null),{userSelectionActive:C,lib:M,connectionInProgress:T}=bn(Tst,Tr),P=D_(h),N=A.useRef();Ast(S);const k=A.useCallback(D=>{p==null||p({x:D[0],y:D[1],zoom:D[2]}),y||b.setState({transform:D})},[p,y]);return A.useEffect(()=>{if(S.current){N.current=Nit({domNode:S.current,minZoom:f,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:_,onDraggingChange:z=>b.setState({paneDragging:z}),onPanZoomStart:(z,U)=>{const{onViewportChangeStart:H,onMoveStart:R}=b.getState();R==null||R(z,U),H==null||H(U)},onPanZoom:(z,U)=>{const{onViewportChange:H,onMove:R}=b.getState();R==null||R(z,U),H==null||H(U)},onPanZoomEnd:(z,U)=>{const{onViewportChangeEnd:H,onMoveEnd:R}=b.getState();R==null||R(z,U),H==null||H(U)}});const{x:D,y:j,zoom:F}=N.current.getViewport();return b.setState({panZoom:N.current,transform:[D,j,F],domNode:S.current.closest(".react-flow")}),()=>{var z;(z=N.current)==null||z.destroy()}}},[]),A.useEffect(()=>{var D;(D=N.current)==null||D.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:P,preventScrolling:g,noPanClassName:m,userSelectionActive:C,noWheelClassName:x,lib:M,onTransformChange:k,connectionInProgress:T})},[t,e,n,r,i,s,o,a,P,g,m,C,x,M,k,T]),u.jsx("div",{className:"react-flow__renderer",ref:S,style:OP,children:v})}const Nst=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function Rst(){const{userSelectionActive:t,userSelectionRect:e}=bn(Nst,Tr);return t&&e?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const oO=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},Ost=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function kst({isSelecting:t,selectionKeyPressed:e,selectionMode:n=R_.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:h,children:g}){const v=vr(),{userSelectionActive:x,elementsSelectable:m,dragging:p,connectionInProgress:y}=bn(Ost,Tr),_=m&&(t||x),b=A.useRef(null),S=A.useRef(),C=A.useRef(new Set),M=A.useRef(new Set),T=A.useRef(!1),P=A.useRef(!1),N=R=>{if(T.current||y){T.current=!1;return}a==null||a(R),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},k=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}l==null||l(R)},D=c?R=>c(R):void 0,j=R=>{(i&&b.current===R.target||!i||e)&&R.stopPropagation()},F=R=>{var ae,se;const{resetSelectedElements:I,domNode:B}=v.getState();S.current=B==null?void 0:B.getBoundingClientRect();const W=R.target!==b.current&&!!R.target.closest(".nokey"),G=i&&b.current===R.target||!i||e;if(!m||!t||R.button!==0||!S.current||W||!G||!R.isPrimary)return;R.stopPropagation(),R.preventDefault(),(se=(ae=R.target)==null?void 0:ae.setPointerCapture)==null||se.call(ae,R.pointerId),P.current=!0,T.current=!1;const{x:X,y:ne}=Ra(R.nativeEvent,S.current);I(),v.setState({userSelectionRect:{width:0,height:0,startX:X,startY:ne,x:X,y:ne}}),s==null||s(R)},z=R=>{const{userSelectionRect:I,transform:B,nodeLookup:W,edgeLookup:G,connectionLookup:X,triggerNodeChanges:ne,triggerEdgeChanges:ae,defaultEdgeOptions:se}=v.getState();if(!S.current||!I)return;T.current=!0;const{x:$,y:Y}=Ra(R.nativeEvent,S.current),{startX:Q,startY:ee}=I,ue={startX:Q,startY:ee,x:$<Q?$:Q,y:Y<ee?Y:ee,width:Math.abs($-Q),height:Math.abs(Y-ee)},J=C.current,K=M.current;C.current=new Set(OB(W,ue,B,n===R_.Partial,!0).map(fe=>fe.id)),M.current=new Set;const re=(se==null?void 0:se.selectable)??!0;for(const fe of C.current){const me=X.get(fe);if(me)for(const{edgeId:pe}of me.values()){const Ae=G.get(pe);Ae&&(Ae.selectable??re)&&M.current.add(pe)}}if(!bG(J,C.current)){const fe=km(W,C.current,!0);ne(fe)}if(!bG(K,M.current)){const fe=km(G,M.current);ae(fe)}v.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},U=R=>{var B,W;if(R.button!==0||!P.current)return;(W=(B=R.target)==null?void 0:B.releasePointerCapture)==null||W.call(B,R.pointerId);const{userSelectionRect:I}=v.getState();!x&&I&&R.target===b.current&&(N==null||N(R)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:C.current.size>0}),o==null||o(R),(e||i)&&(T.current=!1),P.current=!1},H=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:Qr(["react-flow__pane",{draggable:H,dragging:p,selection:t}]),onClick:_?void 0:oO(N,b),onContextMenu:oO(k,b),onWheel:oO(D,b),onPointerEnter:_?void 0:f,onPointerMove:_?z:d,onPointerUp:_?U:void 0,onPointerDownCapture:_?F:void 0,onClickCapture:_?j:void 0,onPointerLeave:h,ref:b,style:OP,children:[g,u.jsx(Rst,{})]})}function qj({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",Ll.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([t])}function fue({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=vr(),[l,c]=A.useState(!1),f=A.useRef();return A.useEffect(()=>{f.current=git({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{qj({id:d,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),A.useEffect(()=>{var d,h;if(e)(d=f.current)==null||d.destroy();else if(t.current)return(h=f.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var g;(g=f.current)==null||g.destroy()}},[n,r,e,s,t,i]),l}const Ist=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function hue(){const t=vr();return A.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:f}=t.getState(),d=new Map,h=Ist(o),g=i?s[0]:5,v=i?s[1]:5,x=n.direction.x*g*n.factor,m=n.direction.y*v*n.factor;for(const[,p]of c){if(!h(p))continue;let y={x:p.internals.positionAbsolute.x+x,y:p.internals.positionAbsolute.y+m};i&&(y=Jb(y,s));const{position:_,positionAbsolute:b}=Nce({nodeId:p.id,nextPosition:y,nodeLookup:c,nodeExtent:r,nodeOrigin:f,onError:a});p.position=_,p.internals.positionAbsolute=b,d.set(p.id,p)}l(d)},[])}const UB=A.createContext(null),Dst=UB.Provider;UB.Consumer;const pue=()=>A.useContext(UB),jst=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),Lst=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,f=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===fv.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:f&&c}};function Fst({type:t="source",position:e=zt.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:f,onTouchStart:d,...h},g){var z,U;const v=o||null,x=t==="target",m=vr(),p=pue(),{connectOnClick:y,noPanClassName:_,rfId:b}=bn(jst,Tr),{connectingFrom:S,connectingTo:C,clickConnecting:M,isPossibleEndHandle:T,connectionInProcess:P,clickConnectionInProcess:N,valid:k}=bn(Lst(p,v,t),Tr);p||(U=(z=m.getState()).onError)==null||U.call(z,"010",Ll.error010());const D=H=>{const{defaultEdgeOptions:R,onConnect:I,hasDefaultEdges:B}=m.getState(),W={...R,...H};if(B){const{edges:G,setEdges:X}=m.getState();X(DB(W,G))}I==null||I(W),a==null||a(W)},j=H=>{if(!p)return;const R=Fce(H.nativeEvent);if(i&&(R&&H.button===0||!R)){const I=m.getState();Gj.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:x,handleId:v,nodeId:p,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:D,isValidConnection:n||I.isValidConnection,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}R?f==null||f(H):d==null||d(H)},F=H=>{const{onClickConnectStart:R,onClickConnectEnd:I,connectionClickStartHandle:B,connectionMode:W,isValidConnection:G,lib:X,rfId:ne,nodeLookup:ae,connection:se}=m.getState();if(!p||!B&&!i)return;if(!B){R==null||R(H.nativeEvent,{nodeId:p,handleId:v,handleType:t}),m.setState({connectionClickStartHandle:{nodeId:p,type:t,id:v}});return}const $=jce(H.target),Y=n||G,{connection:Q,isValid:ee}=Gj.isValid(H.nativeEvent,{handle:{nodeId:p,id:v,type:t},connectionMode:W,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:Y,flowId:ne,doc:$,lib:X,nodeLookup:ae});ee&&Q&&D(Q);const ue=structuredClone(se);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,I==null||I(H,ue),m.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":e,"data-id":`${b}-${p}-${v}-${t}`,className:Qr(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:s,clickconnecting:M,connectingfrom:S,connectingto:C,valid:k,connectionindicator:r&&(!P||T)&&(P||N?s:i)}]),onMouseDown:j,onTouchStart:j,onClick:y?F:void 0,ref:g,...h,children:l})}const DM=A.memo(uue(Fst));function Bst({data:t,isConnectable:e,sourcePosition:n=zt.Bottom}){return u.jsxs(u.Fragment,{children:[t==null?void 0:t.label,u.jsx(DM,{type:"source",position:n,isConnectable:e})]})}function zst({data:t,isConnectable:e,targetPosition:n=zt.Top,sourcePosition:r=zt.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(DM,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,u.jsx(DM,{type:"source",position:r,isConnectable:e})]})}function Ust(){return null}function $st({data:t,isConnectable:e,targetPosition:n=zt.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(DM,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const jM={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},qG={input:Bst,default:zst,output:$st,group:Ust};function Hst(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const Vst=t=>{const{width:e,height:n,x:r,y:i}=Qb(t.nodeLookup,{filter:s=>!!s.selected});return{width:Na(e)?e:null,height:Na(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function Wst({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=vr(),{width:i,height:s,transformString:o,userSelectionActive:a}=bn(Vst,Tr),l=hue(),c=A.useRef(null);if(A.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),fue({nodeRef:c}),a||!i||!s)return null;const f=t?h=>{const g=r.getState().nodes.filter(v=>v.selected);t(h,g)}:void 0,d=h=>{Object.prototype.hasOwnProperty.call(jM,h.key)&&(h.preventDefault(),l({direction:jM[h.key],factor:h.shiftKey?4:1}))};return u.jsx("div",{className:Qr(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:u.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:s}})})}const XG=typeof window<"u"?window:void 0,Gst=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function mue({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:f,selectionMode:d,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:m,elementsSelectable:p,zoomOnScroll:y,zoomOnPinch:_,panOnScroll:b,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:M,panOnDrag:T,defaultViewport:P,translateExtent:N,minZoom:k,maxZoom:D,preventScrolling:j,onSelectionContextMenu:F,noWheelClassName:z,noPanClassName:U,disableKeyboardA11y:H,onViewportChange:R,isControlledViewport:I}){const{nodesSelectionActive:B,userSelectionActive:W}=bn(Gst),G=D_(c,{target:XG}),X=D_(x,{target:XG}),ne=X||T,ae=X||b,se=f&&ne!==!0,$=G||W||se;return Mst({deleteKeyCode:l,multiSelectionKeyCode:v}),u.jsx(Pst,{onPaneContextMenu:s,elementsSelectable:p,zoomOnScroll:y,zoomOnPinch:_,panOnScroll:ae,panOnScrollSpeed:S,panOnScrollMode:C,zoomOnDoubleClick:M,panOnDrag:!G&&ne,defaultViewport:P,translateExtent:N,minZoom:k,maxZoom:D,zoomActivationKeyCode:m,preventScrolling:j,noWheelClassName:z,noPanClassName:U,onViewportChange:R,isControlledViewport:I,paneClickDistance:a,children:u.jsxs(kst,{onSelectionStart:h,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ne,isSelecting:!!$,selectionMode:d,selectionKeyPressed:G,selectionOnDrag:se,children:[t,B&&u.jsx(Wst,{onSelectionContextMenu:F,noPanClassName:U,disableKeyboardA11y:H})]})})}mue.displayName="FlowRenderer";const qst=A.memo(mue),Xst=t=>e=>t?OB(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function Kst(t){return bn(A.useCallback(Xst(t),[t]),Tr)}const Yst=t=>t.updateNodeInternals;function Zst(){const t=bn(Yst),[e]=A.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return A.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function Qst({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=vr(),s=A.useRef(null),o=A.useRef(null),a=A.useRef(t.sourcePosition),l=A.useRef(t.targetPosition),c=A.useRef(e),f=n&&!!t.internals.handleBounds;return A.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[f,t.hidden]),A.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),A.useEffect(()=>{if(s.current){const d=c.current!==e,h=a.current!==t.sourcePosition,g=l.current!==t.targetPosition;(d||h||g)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function Jst({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:f,resizeObserver:d,noDragClassName:h,noPanClassName:g,disableKeyboardA11y:v,rfId:x,nodeTypes:m,nodeClickDistance:p,onError:y}){const{node:_,internals:b,isParent:S}=bn(Y=>{const Q=Y.nodeLookup.get(t),ee=Y.parentLookup.has(t);return{node:Q,internals:Q.internals,isParent:ee}},Tr);let C=_.type||"default",M=(m==null?void 0:m[C])||qG[C];M===void 0&&(y==null||y("003",Ll.error003(C)),C="default",M=(m==null?void 0:m.default)||qG.default);const T=!!(_.draggable||a&&typeof _.draggable>"u"),P=!!(_.selectable||l&&typeof _.selectable>"u"),N=!!(_.connectable||c&&typeof _.connectable>"u"),k=!!(_.focusable||f&&typeof _.focusable>"u"),D=vr(),j=Ice(_),F=Qst({node:_,nodeType:C,hasDimensions:j,resizeObserver:d}),z=fue({nodeRef:F,disabled:_.hidden||!T,noDragClassName:h,handleSelector:_.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:p}),U=hue();if(_.hidden)return null;const H=iu(_),R=Hst(_),I=P||T||e||n||r||i,B=n?Y=>n(Y,{...b.userNode}):void 0,W=r?Y=>r(Y,{...b.userNode}):void 0,G=i?Y=>i(Y,{...b.userNode}):void 0,X=s?Y=>s(Y,{...b.userNode}):void 0,ne=o?Y=>o(Y,{...b.userNode}):void 0,ae=Y=>{const{selectNodesOnDrag:Q,nodeDragThreshold:ee}=D.getState();P&&(!Q||!T||ee>0)&&qj({id:t,store:D,nodeRef:F}),e&&e(Y,{...b.userNode})},se=Y=>{if(!(Lce(Y.nativeEvent)||v)){if(Cce.includes(Y.key)&&P){const Q=Y.key==="Escape";qj({id:t,store:D,unselect:Q,nodeRef:F})}else if(T&&_.selected&&Object.prototype.hasOwnProperty.call(jM,Y.key)){Y.preventDefault();const{ariaLabelConfig:Q}=D.getState();D.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:Y.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),U({direction:jM[Y.key],factor:Y.shiftKey?4:1})}}},$=()=>{var re;if(v||!((re=F.current)!=null&&re.matches(":focus-visible")))return;const{transform:Y,width:Q,height:ee,autoPanOnNodeFocus:ue,setCenter:J}=D.getState();if(!ue)return;OB(new Map([[t,_]]),{x:0,y:0,width:Q,height:ee},Y,!0).length>0||J(_.position.x+H.width/2,_.position.y+H.height/2,{zoom:Y[2]})};return u.jsx("div",{className:Qr(["react-flow__node",`react-flow__node-${C}`,{[g]:T},_.className,{selected:_.selected,selectable:P,parent:S,draggable:T,dragging:z}]),ref:F,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:I?"all":"none",visibility:j?"visible":"hidden",..._.style,...R},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:B,onMouseMove:W,onMouseLeave:G,onContextMenu:X,onClick:ae,onDoubleClick:ne,onKeyDown:k?se:void 0,tabIndex:k?0:void 0,onFocus:k?$:void 0,role:_.ariaRole??(k?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${iue}-${x}`,"aria-label":_.ariaLabel,..._.domAttributes,children:u.jsx(Dst,{value:t,children:u.jsx(M,{id:t,data:_.data,type:C,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:_.selected??!1,selectable:P,draggable:T,deletable:_.deletable??!0,isConnectable:N,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:z,dragHandle:_.dragHandle,zIndex:b.z,parentId:_.parentId,...H})})})}var eot=A.memo(Jst);const tot=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function gue(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=bn(tot,Tr),o=Kst(t.onlyRenderVisibleElements),a=Zst();return u.jsx("div",{className:"react-flow__nodes",style:OP,children:o.map(l=>u.jsx(eot,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}gue.displayName="NodeRenderer";const not=A.memo(gue);function rot(t){return bn(A.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&Qrt({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),Tr)}const iot=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},sot=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},KG={[OM.Arrow]:iot,[OM.ArrowClosed]:sot};function oot(t){const e=vr();return A.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(KG,t)?KG[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",Ll.error009(t)),null)},[t])}const aot=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=oot(e);return l?u.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:u.jsx(l,{color:n,strokeWidth:o})}):null},vue=({defaultColor:t,rfId:e})=>{const n=bn(s=>s.edges),r=bn(s=>s.defaultEdgeOptions),i=A.useMemo(()=>sit(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:i.map(s=>u.jsx(aot,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};vue.displayName="MarkerDefinitions";var lot=A.memo(vue);function yue({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...f}){const[d,h]=A.useState({x:1,y:0,width:0,height:0}),g=Qr(["react-flow__edge-textwrapper",c]),v=A.useRef(null);return A.useEffect(()=>{if(v.current){const x=v.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?u.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:g,visibility:d.width?"visible":"hidden",...f,children:[i&&u.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),u.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}yue.displayName="EdgeText";const cot=A.memo(yue);function kP({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...f}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...f,d:t,fill:"none",className:Qr(["react-flow__edge-path",f.className])}),c?u.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&Na(e)&&Na(n)?u.jsx(cot,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function YG({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===zt.Left||t===zt.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function xue({sourceX:t,sourceY:e,sourcePosition:n=zt.Bottom,targetX:r,targetY:i,targetPosition:s=zt.Top}){const[o,a]=YG({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=YG({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,d,h,g]=Bce({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,f,d,h,g]}function _ue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,interactionWidth:p})=>{const[y,_,b]=xue({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),S=t.isInternal?void 0:e;return u.jsx(kP,{id:S,path:y,labelX:_,labelY:b,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,interactionWidth:p})})}const uot=_ue({isInternal:!1}),bue=_ue({isInternal:!0});uot.displayName="SimpleBezierEdge";bue.displayName="SimpleBezierEdgeInternal";function wue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,sourcePosition:g=zt.Bottom,targetPosition:v=zt.Top,markerEnd:x,markerStart:m,pathOptions:p,interactionWidth:y})=>{const[_,b,S]=Hj({sourceX:n,sourceY:r,sourcePosition:g,targetX:i,targetY:s,targetPosition:v,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),C=t.isInternal?void 0:e;return u.jsx(kP,{id:C,path:_,labelX:b,labelY:S,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:x,markerStart:m,interactionWidth:y})})}const Sue=wue({isInternal:!1}),Eue=wue({isInternal:!0});Sue.displayName="SmoothStepEdge";Eue.displayName="SmoothStepEdgeInternal";function Cue(t){return A.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return u.jsx(Sue,{...n,id:r,pathOptions:A.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const dot=Cue({isInternal:!1}),Mue=Cue({isInternal:!0});dot.displayName="StepEdge";Mue.displayName="StepEdgeInternal";function Aue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:g,markerStart:v,interactionWidth:x})=>{const[m,p,y]=$ce({sourceX:n,sourceY:r,targetX:i,targetY:s}),_=t.isInternal?void 0:e;return u.jsx(kP,{id:_,path:m,labelX:p,labelY:y,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:g,markerStart:v,interactionWidth:x})})}const fot=Aue({isInternal:!1}),Tue=Aue({isInternal:!0});fot.displayName="StraightEdge";Tue.displayName="StraightEdgeInternal";function Pue(t){return A.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=zt.Bottom,targetPosition:a=zt.Top,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,pathOptions:p,interactionWidth:y})=>{const[_,b,S]=zce({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:p==null?void 0:p.curvature}),C=t.isInternal?void 0:e;return u.jsx(kP,{id:C,path:_,labelX:b,labelY:S,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,interactionWidth:y})})}const hot=Pue({isInternal:!1}),Nue=Pue({isInternal:!0});hot.displayName="BezierEdge";Nue.displayName="BezierEdgeInternal";const ZG={default:Nue,straight:Tue,step:Mue,smoothstep:Eue,simplebezier:bue},QG={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},pot=(t,e,n)=>n===zt.Left?t-e:n===zt.Right?t+e:t,mot=(t,e,n)=>n===zt.Top?t-e:n===zt.Bottom?t+e:t,JG="react-flow__edgeupdater";function e7({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return u.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:Qr([JG,`${JG}-${a}`]),cx:pot(e,r,t),cy:mot(n,r,t),r,stroke:"transparent",fill:"transparent"})}function got({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:f,onReconnectEnd:d,setReconnecting:h,setUpdateHover:g}){const v=vr(),x=(b,S)=>{if(b.button!==0)return;const{autoPanOnConnect:C,domNode:M,isValidConnection:T,connectionMode:P,connectionRadius:N,lib:k,onConnectStart:D,onConnectEnd:j,cancelConnection:F,nodeLookup:z,rfId:U,panBy:H,updateConnection:R}=v.getState(),I=S.type==="target",B=(X,ne)=>{h(!1),d==null||d(X,n,S.type,ne)},W=X=>c==null?void 0:c(n,X),G=(X,ne)=>{h(!0),f==null||f(b,n,S.type),D==null||D(X,ne)};Gj.onPointerDown(b.nativeEvent,{autoPanOnConnect:C,connectionMode:P,connectionRadius:N,domNode:M,handleId:S.id,nodeId:S.nodeId,nodeLookup:z,isTarget:I,edgeUpdaterType:S.type,lib:k,flowId:U,cancelConnection:F,panBy:H,isValidConnection:T,onConnect:W,onConnectStart:G,onConnectEnd:j,onReconnectEnd:B,updateConnection:R,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},m=b=>x(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=b=>x(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>g(!0),_=()=>g(!1);return u.jsxs(u.Fragment,{children:[(t===!0||t==="source")&&u.jsx(e7,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:m,onMouseEnter:y,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&u.jsx(e7,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:p,onMouseEnter:y,onMouseOut:_,type:"target"})]})}function vot({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,rfId:v,edgeTypes:x,noPanClassName:m,onError:p,disableKeyboardA11y:y}){let _=bn(J=>J.edgeLookup.get(t));const b=bn(J=>J.defaultEdgeOptions);_=b?{...b,..._}:_;let S=_.type||"default",C=(x==null?void 0:x[S])||ZG[S];C===void 0&&(p==null||p("011",Ll.error011(S)),S="default",C=(x==null?void 0:x.default)||ZG.default);const M=!!(_.focusable||e&&typeof _.focusable>"u"),T=typeof d<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),P=!!(_.selectable||r&&typeof _.selectable>"u"),N=A.useRef(null),[k,D]=A.useState(!1),[j,F]=A.useState(!1),z=vr(),{zIndex:U,sourceX:H,sourceY:R,targetX:I,targetY:B,sourcePosition:W,targetPosition:G}=bn(A.useCallback(J=>{const K=J.nodeLookup.get(_.source),re=J.nodeLookup.get(_.target);if(!K||!re)return{zIndex:_.zIndex,...QG};const fe=iit({id:t,sourceNode:K,targetNode:re,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:J.connectionMode,onError:p});return{zIndex:Zrt({selected:_.selected,zIndex:_.zIndex,sourceNode:K,targetNode:re,elevateOnSelect:J.elevateEdgesOnSelect}),...fe||QG}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),Tr),X=A.useMemo(()=>_.markerStart?`url('#${Vj(_.markerStart,v)}')`:void 0,[_.markerStart,v]),ne=A.useMemo(()=>_.markerEnd?`url('#${Vj(_.markerEnd,v)}')`:void 0,[_.markerEnd,v]);if(_.hidden||H===null||R===null||I===null||B===null)return null;const ae=J=>{var me;const{addSelectedEdges:K,unselectNodesAndEdges:re,multiSelectionActive:fe}=z.getState();P&&(z.setState({nodesSelectionActive:!1}),_.selected&&fe?(re({nodes:[],edges:[_]}),(me=N.current)==null||me.blur()):K([t])),i&&i(J,_)},se=s?J=>{s(J,{..._})}:void 0,$=o?J=>{o(J,{..._})}:void 0,Y=a?J=>{a(J,{..._})}:void 0,Q=l?J=>{l(J,{..._})}:void 0,ee=c?J=>{c(J,{..._})}:void 0,ue=J=>{var K;if(!y&&Cce.includes(J.key)&&P){const{unselectNodesAndEdges:re,addSelectedEdges:fe}=z.getState();J.key==="Escape"?((K=N.current)==null||K.blur(),re({edges:[_]})):fe([t])}};return u.jsx("svg",{style:{zIndex:U},children:u.jsxs("g",{className:Qr(["react-flow__edge",`react-flow__edge-${S}`,_.className,m,{selected:_.selected,animated:_.animated,inactive:!P&&!i,updating:k,selectable:P}]),onClick:ae,onDoubleClick:se,onContextMenu:$,onMouseEnter:Y,onMouseMove:Q,onMouseLeave:ee,onKeyDown:M?ue:void 0,tabIndex:M?0:void 0,role:_.ariaRole??(M?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":M?`${sue}-${v}`:void 0,ref:N,..._.domAttributes,children:[!j&&u.jsx(C,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:P,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:H,sourceY:R,targetX:I,targetY:B,sourcePosition:W,targetPosition:G,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:X,markerEnd:ne,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),T&&u.jsx(got,{edge:_,isReconnectable:T,reconnectRadius:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,sourceX:H,sourceY:R,targetX:I,targetY:B,sourcePosition:W,targetPosition:G,setUpdateHover:D,setReconnecting:F})]})})}var yot=A.memo(vot);const xot=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function Rue({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:g,onReconnectEnd:v,disableKeyboardA11y:x}){const{edgesFocusable:m,edgesReconnectable:p,elementsSelectable:y,onError:_}=bn(xot,Tr),b=rot(e);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(lot,{defaultColor:t,rfId:n}),b.map(S=>u.jsx(yot,{id:S,edgesFocusable:m,edgesReconnectable:p,elementsSelectable:y,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:f,reconnectRadius:d,onDoubleClick:h,onReconnectStart:g,onReconnectEnd:v,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:x},S))]})}Rue.displayName="EdgeRenderer";const _ot=A.memo(Rue),bot=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function wot({children:t}){const e=bn(bot);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Sot(t){const e=zB(),n=A.useRef(!1);A.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Eot=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function Cot(t){const e=bn(Eot),n=vr();return A.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Mot(t){return t.connection.inProgress?{...t.connection,to:ew(t.connection.to,t.transform)}:{...t.connection}}function Aot(t){return Mot}function Tot(t){const e=Aot();return bn(e,Tr)}const Pot=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Not({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=bn(Pot,Tr);return!(s&&i&&l)?null:u.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:Qr(["react-flow__connection",Tce(a)]),children:u.jsx(Oue,{style:e,type:n,CustomComponent:r,isValid:a})})})}const Oue=({style:t,type:e=zu.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:f,toHandle:d,toPosition:h}=Tot();if(!i)return;if(n)return u.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:h,connectionStatus:Tce(r),toNode:f,toHandle:d});let g="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:h};switch(e){case zu.Bezier:[g]=zce(v);break;case zu.SimpleBezier:[g]=xue(v);break;case zu.Step:[g]=Hj({...v,borderRadius:0});break;case zu.SmoothStep:[g]=Hj(v);break;default:[g]=$ce(v)}return u.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:t})};Oue.displayName="ConnectionLine";const Rot={};function t7(t=Rot){A.useRef(t),vr(),A.useEffect(()=>{},[t])}function Oot(){vr(),A.useRef(!1),A.useEffect(()=>{},[])}function kue({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:g,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:m,connectionLineContainerStyle:p,selectionKeyCode:y,selectionOnDrag:_,selectionMode:b,multiSelectionKeyCode:S,panActivationKeyCode:C,zoomActivationKeyCode:M,deleteKeyCode:T,onlyRenderVisibleElements:P,elementsSelectable:N,defaultViewport:k,translateExtent:D,minZoom:j,maxZoom:F,preventScrolling:z,defaultMarkerColor:U,zoomOnScroll:H,zoomOnPinch:R,panOnScroll:I,panOnScrollSpeed:B,panOnScrollMode:W,zoomOnDoubleClick:G,panOnDrag:X,onPaneClick:ne,onPaneMouseEnter:ae,onPaneMouseMove:se,onPaneMouseLeave:$,onPaneScroll:Y,onPaneContextMenu:Q,paneClickDistance:ee,nodeClickDistance:ue,onEdgeContextMenu:J,onEdgeMouseEnter:K,onEdgeMouseMove:re,onEdgeMouseLeave:fe,reconnectRadius:me,onReconnect:pe,onReconnectStart:Ae,onReconnectEnd:Ce,noDragClassName:De,noWheelClassName:ot,noPanClassName:nt,disableKeyboardA11y:ie,nodeExtent:Z,rfId:ve,viewport:Se,onViewportChange:Ie}){return t7(t),t7(e),Oot(),Sot(n),Cot(Se),u.jsx(qst,{onPaneClick:ne,onPaneMouseEnter:ae,onPaneMouseMove:se,onPaneMouseLeave:$,onPaneContextMenu:Q,onPaneScroll:Y,paneClickDistance:ee,deleteKeyCode:T,selectionKeyCode:y,selectionOnDrag:_,selectionMode:b,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:S,panActivationKeyCode:C,zoomActivationKeyCode:M,elementsSelectable:N,zoomOnScroll:H,zoomOnPinch:R,zoomOnDoubleClick:G,panOnScroll:I,panOnScrollSpeed:B,panOnScrollMode:W,panOnDrag:X,defaultViewport:k,translateExtent:D,minZoom:j,maxZoom:F,onSelectionContextMenu:d,preventScrolling:z,noDragClassName:De,noWheelClassName:ot,noPanClassName:nt,disableKeyboardA11y:ie,onViewportChange:Ie,isControlledViewport:!!Se,children:u.jsxs(wot,{children:[u.jsx(_ot,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:pe,onReconnectStart:Ae,onReconnectEnd:Ce,onlyRenderVisibleElements:P,onEdgeContextMenu:J,onEdgeMouseEnter:K,onEdgeMouseMove:re,onEdgeMouseLeave:fe,reconnectRadius:me,defaultMarkerColor:U,noPanClassName:nt,disableKeyboardA11y:ie,rfId:ve}),u.jsx(Not,{style:x,type:v,component:m,containerStyle:p}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(not,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:f,nodeClickDistance:ue,onlyRenderVisibleElements:P,noPanClassName:nt,noDragClassName:De,disableKeyboardA11y:ie,nodeExtent:Z,rfId:ve}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}kue.displayName="GraphView";const kot=A.memo(kue),n7=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:f,nodeExtent:d}={})=>{const h=new Map,g=new Map,v=new Map,x=new Map,m=r??e??[],p=n??t??[],y=f??[0,0],_=d??N_;Wce(v,x,m);const b=Wj(p,h,g,{nodeOrigin:y,nodeExtent:_,elevateNodesOnSelect:!1});let S=[0,0,1];if(o&&i&&s){const C=Qb(h,{filter:N=>!!((N.width||N.initialWidth)&&(N.height||N.initialHeight))}),{x:M,y:T,zoom:P}=kB(C,i,s,l,c,(a==null?void 0:a.padding)??.1);S=[M,T,P]}return{rfId:"1",width:i??0,height:s??0,transform:S,nodes:p,nodesInitialized:b,nodeLookup:h,parentLookup:g,edges:m,edgeLookup:x,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:N_,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:fv.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Ace},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:Wrt,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Mce}},Iot=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:f,nodeExtent:d})=>Qit((h,g)=>{async function v(){const{nodeLookup:x,panZoom:m,fitViewOptions:p,fitViewResolver:y,width:_,height:b,minZoom:S,maxZoom:C}=g();m&&(await Hrt({nodes:x,width:_,height:b,panZoom:m,minZoom:S,maxZoom:C},p),y==null||y.resolve(!0),h({fitViewResolver:null}))}return{...n7({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:x=>{const{nodeLookup:m,parentLookup:p,nodeOrigin:y,elevateNodesOnSelect:_,fitViewQueued:b}=g(),S=Wj(x,m,p,{nodeOrigin:y,nodeExtent:d,elevateNodesOnSelect:_,checkEquality:!0});b&&S?(v(),h({nodes:x,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:x,nodesInitialized:S})},setEdges:x=>{const{connectionLookup:m,edgeLookup:p}=g();Wce(m,p,x),h({edges:x})},setDefaultNodesAndEdges:(x,m)=>{if(x){const{setNodes:p}=g();p(x),h({hasDefaultNodes:!0})}if(m){const{setEdges:p}=g();p(m),h({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:m,nodeLookup:p,parentLookup:y,domNode:_,nodeOrigin:b,nodeExtent:S,debug:C,fitViewQueued:M}=g(),{changes:T,updatedInternals:P}=fit(x,p,y,_,b,S);P&&(lit(p,y,{nodeOrigin:b,nodeExtent:S}),M?(v(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(T==null?void 0:T.length)>0&&(C&&console.log("React Flow: trigger node changes",T),m==null||m(T)))},updateNodePositions:(x,m=!1)=>{const p=[],y=[],{nodeLookup:_,triggerNodeChanges:b}=g();for(const[S,C]of x){const M=_.get(S),T=!!(M!=null&&M.expandParent&&(M!=null&&M.parentId)&&(C!=null&&C.position)),P={id:S,type:"position",position:T?{x:Math.max(0,C.position.x),y:Math.max(0,C.position.y)}:C.position,dragging:m};T&&M.parentId&&p.push({id:S,parentId:M.parentId,rect:{...C.internals.positionAbsolute,width:C.measured.width??0,height:C.measured.height??0}}),y.push(P)}if(p.length>0){const{parentLookup:S,nodeOrigin:C}=g(),M=BB(p,_,S,C);y.push(...M)}b(y)},triggerNodeChanges:x=>{const{onNodesChange:m,setNodes:p,nodes:y,hasDefaultNodes:_,debug:b}=g();if(x!=null&&x.length){if(_){const S=lue(x,y);p(S)}b&&console.log("React Flow: trigger node changes",x),m==null||m(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:m,setEdges:p,edges:y,hasDefaultEdges:_,debug:b}=g();if(x!=null&&x.length){if(_){const S=cue(x,y);p(S)}b&&console.log("React Flow: trigger edge changes",x),m==null||m(x)}},addSelectedNodes:x=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:y,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const S=x.map(C=>Af(C,!0));_(S);return}_(km(y,new Set([...x]),!0)),b(km(p))},addSelectedEdges:x=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:y,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const S=x.map(C=>Af(C,!0));b(S);return}b(km(p,new Set([...x]))),_(km(y,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:m}={})=>{const{edges:p,nodes:y,nodeLookup:_,triggerNodeChanges:b,triggerEdgeChanges:S}=g(),C=x||y,M=m||p,T=C.map(N=>{const k=_.get(N.id);return k&&(k.selected=!1),Af(N.id,!1)}),P=M.map(N=>Af(N.id,!1));b(T),S(P)},setMinZoom:x=>{const{panZoom:m,maxZoom:p}=g();m==null||m.setScaleExtent([x,p]),h({minZoom:x})},setMaxZoom:x=>{const{panZoom:m,minZoom:p}=g();m==null||m.setScaleExtent([p,x]),h({maxZoom:x})},setTranslateExtent:x=>{var m;(m=g().panZoom)==null||m.setTranslateExtent(x),h({translateExtent:x})},setPaneClickDistance:x=>{var m;(m=g().panZoom)==null||m.setClickDistance(x)},resetSelectedElements:()=>{const{edges:x,nodes:m,triggerNodeChanges:p,triggerEdgeChanges:y,elementsSelectable:_}=g();if(!_)return;const b=m.reduce((C,M)=>M.selected?[...C,Af(M.id,!1)]:C,[]),S=x.reduce((C,M)=>M.selected?[...C,Af(M.id,!1)]:C,[]);p(b),y(S)},setNodeExtent:x=>{const{nodes:m,nodeLookup:p,parentLookup:y,nodeOrigin:_,elevateNodesOnSelect:b,nodeExtent:S}=g();x[0][0]===S[0][0]&&x[0][1]===S[0][1]&&x[1][0]===S[1][0]&&x[1][1]===S[1][1]||(Wj(m,p,y,{nodeOrigin:_,nodeExtent:x,elevateNodesOnSelect:b,checkEquality:!1}),h({nodeExtent:x}))},panBy:x=>{const{transform:m,width:p,height:y,panZoom:_,translateExtent:b}=g();return hit({delta:x,panZoom:_,transform:m,translateExtent:b,width:p,height:y})},setCenter:async(x,m,p)=>{const{width:y,height:_,maxZoom:b,panZoom:S}=g();if(!S)return Promise.resolve(!1);const C=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:b;return await S.setViewport({x:y/2-x*C,y:_/2-m*C,zoom:C},{duration:p==null?void 0:p.duration,ease:p==null?void 0:p.ease,interpolate:p==null?void 0:p.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...Ace}})},updateConnection:x=>{h({connection:x})},reset:()=>h({...n7()})}},Object.is);function Dot({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:f,nodeExtent:d,children:h}){const[g]=A.useState(()=>Iot({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:c,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:f,nodeExtent:d}));return u.jsx(Jit,{value:g,children:u.jsx(wst,{children:h})})}function jot({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:f,nodeOrigin:d,nodeExtent:h}){return A.useContext(NP)?u.jsx(u.Fragment,{children:t}):u.jsx(Dot,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:f,nodeOrigin:d,nodeExtent:h,children:t})}const Lot={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Fot({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:f,onMoveStart:d,onMoveEnd:h,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:m,onClickConnectEnd:p,onNodeMouseEnter:y,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:C,onNodeDragStart:M,onNodeDrag:T,onNodeDragStop:P,onNodesDelete:N,onEdgesDelete:k,onDelete:D,onSelectionChange:j,onSelectionDragStart:F,onSelectionDrag:z,onSelectionDragStop:U,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:I,onBeforeDelete:B,connectionMode:W,connectionLineType:G=zu.Bezier,connectionLineStyle:X,connectionLineComponent:ne,connectionLineContainerStyle:ae,deleteKeyCode:se="Backspace",selectionKeyCode:$="Shift",selectionOnDrag:Y=!1,selectionMode:Q=R_.Full,panActivationKeyCode:ee="Space",multiSelectionKeyCode:ue=k_()?"Meta":"Control",zoomActivationKeyCode:J=k_()?"Meta":"Control",snapToGrid:K,snapGrid:re,onlyRenderVisibleElements:fe=!1,selectNodesOnDrag:me,nodesDraggable:pe,autoPanOnNodeFocus:Ae,nodesConnectable:Ce,nodesFocusable:De,nodeOrigin:ot=oue,edgesFocusable:nt,edgesReconnectable:ie,elementsSelectable:Z=!0,defaultViewport:ve=fst,minZoom:Se=.5,maxZoom:Ie=2,translateExtent:Me=N_,preventScrolling:ct=!0,nodeExtent:Ve,defaultMarkerColor:lt="#b1b1b7",zoomOnScroll:qe=!0,zoomOnPinch:He=!0,panOnScroll:at=!1,panOnScrollSpeed:Mt=.5,panOnScrollMode:he=lh.Free,zoomOnDoubleClick:Ee=!0,panOnDrag:Qe=!0,onPaneClick:ce,onPaneMouseEnter:Ne,onPaneMouseMove:ze,onPaneMouseLeave:We,onPaneScroll:Ue,onPaneContextMenu:Le,paneClickDistance:Je=0,nodeClickDistance:gt=0,children:$t,onReconnect:Gt,onReconnectStart:Bn,onReconnectEnd:In,onEdgeContextMenu:oa,onEdgeDoubleClick:gs,onEdgeMouseEnter:su,onEdgeMouseMove:ou,onEdgeMouseLeave:ap,reconnectRadius:wo=10,onNodesChange:lp,onEdgesChange:au,noDragClassName:cp="nodrag",noWheelClassName:up="nowheel",noPanClassName:dp="nopan",fitView:fp,fitViewOptions:hp,connectOnClick:pp,attributionPosition:uy,proOptions:dy,defaultEdgeOptions:oe,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Pe,disableKeyboardA11y:Re=!1,autoPanOnConnect:be,autoPanOnNodeDrag:Ke,autoPanSpeed:ut,connectionRadius:xt,isValidConnection:vt,onError:Dt,style:It,id:wt,nodeDragThreshold:Et,connectionDragThreshold:Ot,viewport:wn,onViewportChange:Qt,width:Jt,height:Tt,colorMode:Tn="light",debug:qt,onScroll:yr,ariaLabelConfig:aa,...di},So){const Dn=wt||"1",Kn=gst(Tn),Ri=A.useCallback($r=>{$r.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),yr==null||yr($r)},[yr]);return u.jsx("div",{"data-testid":"rf__wrapper",...di,onScroll:Ri,style:{...It,...Lot},ref:So,className:Qr(["react-flow",i,Kn]),id:wt,role:"application",children:u.jsxs(jot,{nodes:t,edges:e,width:Jt,height:Tt,fitView:fp,fitViewOptions:hp,minZoom:Se,maxZoom:Ie,nodeOrigin:ot,nodeExtent:Ve,children:[u.jsx(kot,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:S,onNodeDoubleClick:C,nodeTypes:s,edgeTypes:o,connectionLineType:G,connectionLineStyle:X,connectionLineComponent:ne,connectionLineContainerStyle:ae,selectionKeyCode:$,selectionOnDrag:Y,selectionMode:Q,deleteKeyCode:se,multiSelectionKeyCode:ue,panActivationKeyCode:ee,zoomActivationKeyCode:J,onlyRenderVisibleElements:fe,defaultViewport:ve,translateExtent:Me,minZoom:Se,maxZoom:Ie,preventScrolling:ct,zoomOnScroll:qe,zoomOnPinch:He,zoomOnDoubleClick:Ee,panOnScroll:at,panOnScrollSpeed:Mt,panOnScrollMode:he,panOnDrag:Qe,onPaneClick:ce,onPaneMouseEnter:Ne,onPaneMouseMove:ze,onPaneMouseLeave:We,onPaneScroll:Ue,onPaneContextMenu:Le,paneClickDistance:Je,nodeClickDistance:gt,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:I,onReconnect:Gt,onReconnectStart:Bn,onReconnectEnd:In,onEdgeContextMenu:oa,onEdgeDoubleClick:gs,onEdgeMouseEnter:su,onEdgeMouseMove:ou,onEdgeMouseLeave:ap,reconnectRadius:wo,defaultMarkerColor:lt,noDragClassName:cp,noWheelClassName:up,noPanClassName:dp,rfId:Dn,disableKeyboardA11y:Re,nodeExtent:Ve,viewport:wn,onViewportChange:Qt}),u.jsx(mst,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:m,onClickConnectEnd:p,nodesDraggable:pe,autoPanOnNodeFocus:Ae,nodesConnectable:Ce,nodesFocusable:De,edgesFocusable:nt,edgesReconnectable:ie,elementsSelectable:Z,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Pe,minZoom:Se,maxZoom:Ie,nodeExtent:Ve,onNodesChange:lp,onEdgesChange:au,snapToGrid:K,snapGrid:re,connectionMode:W,translateExtent:Me,connectOnClick:pp,defaultEdgeOptions:oe,fitView:fp,fitViewOptions:hp,onNodesDelete:N,onEdgesDelete:k,onDelete:D,onNodeDragStart:M,onNodeDrag:T,onNodeDragStop:P,onSelectionDrag:z,onSelectionDragStart:F,onSelectionDragStop:U,onMove:f,onMoveStart:d,onMoveEnd:h,noPanClassName:dp,nodeOrigin:ot,rfId:Dn,autoPanOnConnect:be,autoPanOnNodeDrag:Ke,autoPanSpeed:ut,onError:Dt,connectionRadius:xt,isValidConnection:vt,selectNodesOnDrag:me,nodeDragThreshold:Et,connectionDragThreshold:Ot,onBeforeDelete:B,paneClickDistance:Je,debug:qt,ariaLabelConfig:aa}),u.jsx(dst,{onSelectionChange:j}),$t,u.jsx(ost,{proOptions:dy,position:uy}),u.jsx(sst,{rfId:Dn,disableKeyboardA11y:Re})]})})}var Iue=uue(Fot);function Due(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>lue(i,s)),[]);return[e,n,r]}function jue(t){const[e,n]=A.useState(t),r=A.useCallback(i=>n(s=>cue(i,s)),[]);return[e,n,r]}function Bot({dimensions:t,lineWidth:e,variant:n,className:r}){return u.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:Qr(["react-flow__background-pattern",n,r])})}function zot({radius:t,className:e}){return u.jsx("circle",{cx:t,cy:t,r:t,className:Qr(["react-flow__background-pattern","dots",e])})}var pd;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(pd||(pd={}));const Uot={[pd.Dots]:1,[pd.Lines]:1,[pd.Cross]:6},$ot=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function Lue({id:t,variant:e=pd.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:f}){const d=A.useRef(null),{transform:h,patternId:g}=bn($ot,Tr),v=r||Uot[e],x=e===pd.Dots,m=e===pd.Cross,p=Array.isArray(n)?n:[n,n],y=[p[0]*h[2]||1,p[1]*h[2]||1],_=v*h[2],b=Array.isArray(s)?s:[s,s],S=m?[_,_]:y,C=[b[0]*h[2]||1+S[0]/2,b[1]*h[2]||1+S[1]/2],M=`${g}${t||""}`;return u.jsxs("svg",{className:Qr(["react-flow__background",c]),style:{...l,...OP,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[u.jsx("pattern",{id:M,x:h[0]%y[0],y:h[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${C[0]},-${C[1]})`,children:x?u.jsx(zot,{radius:_/2,className:f}):u.jsx(Bot,{dimensions:S,lineWidth:i,variant:e,className:f})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${M})`})]})}Lue.displayName="Background";const Fue=A.memo(Lue);function Hot(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function Vot(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function Wot(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function Got(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function qot(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function tS({children:t,className:e,...n}){return u.jsx("button",{type:"button",className:Qr(["react-flow__controls-button",e]),...n,children:t})}const Xot=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function Bue({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:f,position:d="bottom-left",orientation:h="vertical","aria-label":g}){const v=vr(),{isInteractive:x,minZoomReached:m,maxZoomReached:p,ariaLabelConfig:y}=bn(Xot,Tr),{zoomIn:_,zoomOut:b,fitView:S}=zB(),C=()=>{_(),s==null||s()},M=()=>{b(),o==null||o()},T=()=>{S(i),a==null||a()},P=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),l==null||l(!x)},N=h==="horizontal"?"horizontal":"vertical";return u.jsxs(RP,{className:Qr(["react-flow__controls",N,c]),position:d,style:t,"data-testid":"rf__controls","aria-label":g??y["controls.ariaLabel"],children:[e&&u.jsxs(u.Fragment,{children:[u.jsx(tS,{onClick:C,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:p,children:u.jsx(Hot,{})}),u.jsx(tS,{onClick:M,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:m,children:u.jsx(Vot,{})})]}),n&&u.jsx(tS,{className:"react-flow__controls-fitview",onClick:T,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:u.jsx(Wot,{})}),r&&u.jsx(tS,{className:"react-flow__controls-interactive",onClick:P,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:x?u.jsx(qot,{}):u.jsx(Got,{})}),f]})}Bue.displayName="Controls";const zue=A.memo(Bue);function Kot({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:f,shapeRendering:d,selected:h,onClick:g}){const{background:v,backgroundColor:x}=s||{},m=o||v||x;return u.jsx("rect",{className:Qr(["react-flow__minimap-node",{selected:h},c]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:m,stroke:a,strokeWidth:l},shapeRendering:d,onClick:g?p=>g(p,t):void 0})}const Yot=A.memo(Kot),Zot=t=>t.nodes.map(e=>e.id),aO=t=>t instanceof Function?t:()=>t;function Qot({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=Yot,onClick:o}){const a=bn(Zot,Tr),l=aO(e),c=aO(t),f=aO(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:a.map(h=>u.jsx(eat,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},h))})}function Jot({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:f,y:d,width:h,height:g}=bn(v=>{const{internals:x}=v.nodeLookup.get(t),m=x.userNode,{x:p,y}=x.positionAbsolute,{width:_,height:b}=iu(m);return{node:m,x:p,y,width:_,height:b}},Tr);return!c||c.hidden||!Ice(c)?null:u.jsx(a,{x:f,y:d,width:h,height:g,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const eat=A.memo(Jot);var tat=A.memo(Qot);const nat=200,rat=150,iat=t=>!t.hidden,sat=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?kce(Qb(t.nodeLookup,{filter:iat}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},oat="react-flow__minimap-desc";function Uue({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:f,maskStrokeWidth:d,position:h="bottom-right",onClick:g,onNodeClick:v,pannable:x=!1,zoomable:m=!1,ariaLabel:p,inversePan:y,zoomStep:_=1,offsetScale:b=5}){const S=vr(),C=A.useRef(null),{boundingRect:M,viewBB:T,rfId:P,panZoom:N,translateExtent:k,flowWidth:D,flowHeight:j,ariaLabelConfig:F}=bn(sat,Tr),z=(t==null?void 0:t.width)??nat,U=(t==null?void 0:t.height)??rat,H=M.width/z,R=M.height/U,I=Math.max(H,R),B=I*z,W=I*U,G=b*I,X=M.x-(B-M.width)/2-G,ne=M.y-(W-M.height)/2-G,ae=B+G*2,se=W+G*2,$=`${oat}-${P}`,Y=A.useRef(0),Q=A.useRef();Y.current=I,A.useEffect(()=>{if(C.current&&N)return Q.current=wit({domNode:C.current,panZoom:N,getTransform:()=>S.getState().transform,getViewScale:()=>Y.current}),()=>{var K;(K=Q.current)==null||K.destroy()}},[N]),A.useEffect(()=>{var K;(K=Q.current)==null||K.update({translateExtent:k,width:D,height:j,inversePan:y,pannable:x,zoomStep:_,zoomable:m})},[x,m,y,_,k,D,j]);const ee=g?K=>{var me;const[re,fe]=((me=Q.current)==null?void 0:me.pointer(K))||[0,0];g(K,{x:re,y:fe})}:void 0,ue=v?A.useCallback((K,re)=>{const fe=S.getState().nodeLookup.get(re).internals.userNode;v(K,fe)},[]):void 0,J=p??F["minimap.ariaLabel"];return u.jsx(RP,{position:h,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*I:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:Qr(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:z,height:U,viewBox:`${X} ${ne} ${ae} ${se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":$,ref:C,onClick:ee,children:[J&&u.jsx("title",{id:$,children:J}),u.jsx(tat,{onClick:ue,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${X-G},${ne-G}h${ae+G*2}v${se+G*2}h${-ae-G*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}Uue.displayName="MiniMap";const $ue=A.memo(Uue),aat=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,lat={[gv.Line]:"right",[gv.Handle]:"bottom-right"};function cat({nodeId:t,position:e,variant:n=gv.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:h,autoScale:g=!0,shouldResize:v,onResizeStart:x,onResize:m,onResizeEnd:p}){const y=pue(),_=typeof t=="string"?t:y,b=vr(),S=A.useRef(null),C=n===gv.Handle,M=bn(A.useCallback(aat(C&&g),[C,g]),Tr),T=A.useRef(null),P=e??lat[n];A.useEffect(()=>{if(!(!S.current||!_))return T.current||(T.current=jit({domNode:S.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:k,transform:D,snapGrid:j,snapToGrid:F,nodeOrigin:z,domNode:U}=b.getState();return{nodeLookup:k,transform:D,snapGrid:j,snapToGrid:F,nodeOrigin:z,paneDomNode:U}},onChange:(k,D)=>{const{triggerNodeChanges:j,nodeLookup:F,parentLookup:z,nodeOrigin:U}=b.getState(),H=[],R={x:k.x,y:k.y},I=F.get(_);if(I&&I.expandParent&&I.parentId){const B=I.origin??U,W=k.width??I.measured.width??0,G=k.height??I.measured.height??0,X={id:I.id,parentId:I.parentId,rect:{width:W,height:G,...Dce({x:k.x??I.position.x,y:k.y??I.position.y},{width:W,height:G},I.parentId,F,B)}},ne=BB([X],F,z,U);H.push(...ne),R.x=k.x?Math.max(B[0]*W,k.x):void 0,R.y=k.y?Math.max(B[1]*G,k.y):void 0}if(R.x!==void 0&&R.y!==void 0){const B={id:_,type:"position",position:{...R}};H.push(B)}if(k.width!==void 0&&k.height!==void 0){const W={id:_,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:k.width,height:k.height}};H.push(W)}for(const B of D){const W={...B,type:"position"};H.push(W)}j(H)},onEnd:({width:k,height:D})=>{const j={id:_,type:"dimensions",resizing:!1,dimensions:{width:k,height:D}};b.getState().triggerNodeChanges([j])}})),T.current.update({controlPosition:P,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:f},keepAspectRatio:d,resizeDirection:h,onResizeStart:x,onResize:m,onResizeEnd:p,shouldResize:v}),()=>{var k;(k=T.current)==null||k.destroy()}},[P,a,l,c,f,d,x,m,p,v]);const N=P.split("-");return u.jsx("div",{className:Qr(["react-flow__resize-control","nodrag",...N,n,r]),ref:S,style:{...i,scale:M,...o&&{[C?"backgroundColor":"borderColor"]:o}},children:s})}A.memo(cat);const uat=[],dat=[];function fat(){const{toast:t}=bo(),{token:e}=ia(),n=bi(),[r,i]=A.useState(""),[s,o]=A.useState("auto"),[a,l]=A.useState([]),[c,f]=A.useState(null),[d,h]=A.useState([]),[g,v,x]=Due(uat),[m,p,y]=jue(dat),_=A.useCallback(G=>p(X=>DB(G,X)),[p]),{data:b,isLoading:S,error:C}=yn({queryKey:["cognisysConversations"],queryFn:async()=>{const G=await fetch("/api/chat/conversations",{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch conversations");return G.json()},enabled:!!e});A.useEffect(()=>{b&&(h(b),!c&&b.length>0&&f(b[0].id))},[b,c]);const{data:M,isLoading:T,error:P}=yn({queryKey:["cognisysChatHistory",c],queryFn:async()=>{if(!c)return[];const G=await fetch(`/api/chat/history/${c}`,{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch chat history");return G.json()},enabled:!!c&&!!e});A.useEffect(()=>{M&&l(M)},[M]);const{data:N,isLoading:k,error:D}=yn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const G=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch LLM models");return G.json()},enabled:!!e}),{data:j,isLoading:F,error:z}=yn({queryKey:["cognisysProviders"],queryFn:async()=>{const G=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch providers");return G.json()},enabled:!!e}),U=Lt({mutationFn:async G=>{const X=await fetch("/api/cognisys/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(G)});if(!X.ok){const ne=await X.json();throw new Error(ne.detail||"Failed to get chat response")}return X.json()},onSuccess:G=>{G.conversation_id&&G.conversation_id!==c&&(f(G.conversation_id),n.invalidateQueries({queryKey:["cognisysConversations"]})),n.invalidateQueries({queryKey:["cognisysChatHistory",c]})},onError:G=>{t({title:"Error",description:`Chat failed: ${G.message}`,variant:"destructive"})}}),H=Lt({mutationFn:async G=>{const X=await fetch("/api/cognisys/models/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(G)});if(!X.ok)throw new Error("Failed to create model");return X.json()},onSuccess:()=>{t({title:"Model Created",description:"New model has been successfully created."}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:G=>{t({title:"Error",description:`Failed to create model: ${G.message}`,variant:"destructive"})}}),R=G=>{H.mutate(G);const X=document.querySelector("[data-radix-toast-close-button]");X&&X.click()},I=()=>{t({title:"Add New Model",description:u.jsx(hat,{onAddModel:R,providers:j||[]})})},B=()=>{if(!r.trim())return;l(X=>[...X,{id:Date.now().toString(),conversation_id:c||"temp",user_id:"current_user",sender:"user",message_content:r,timestamp:new Date().toISOString()}]),i("");const G={prompt:r};s!=="auto"&&(G.model_name=s),c&&(G.conversation_id=c),U.mutate(G)};if(k)return u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(vn,{className:"h-6 w-6 animate-spin mx-auto"})," Loading models..."]});if(D)return u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading models: ",D.message]});const W=Lt({mutationFn:async G=>{const X=await fetch(`/api/chat/conversations/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!X.ok)throw new Error("Failed to delete conversation");return X.json()},onSuccess:()=>{t({title:"Success",description:"Conversation deleted."}),n.invalidateQueries({queryKey:["cognisysConversations"]}),f(null),l([]),v([]),p([])},onError:G=>{t({title:"Error",description:`Failed to delete conversation: ${G.message}`,variant:"destructive"})}});return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Ua,{className:"h-5 w-5 text-primary"}),"Test Console"]}),u.jsx(Ut,{children:"Test prompts and verify routing behavior. The visualization will appear on the right when using auto-routing."})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(mt,{htmlFor:"conversation-select",className:"sr-only",children:"Select Conversation"}),u.jsxs(pr,{value:c||"",onValueChange:G=>f(G),disabled:S,children:[u.jsx(lr,{className:"w-[200px]",children:u.jsx(mr,{placeholder:"Select conversation..."})}),u.jsx(cr,{children:d.map(G=>u.jsx(At,{value:G.id,children:G.title},G.id))})]}),u.jsxs(ke,{variant:"outline",size:"sm",onClick:()=>{f(null)},children:[u.jsx(qi,{className:"h-4 w-4 mr-2"})," New Chat"]}),c&&u.jsxs(ke,{variant:"destructive",size:"sm",onClick:()=>W.mutate(c),disabled:W.isPending,children:[W.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Nd,{className:"h-4 w-4 mr-2"}),"Clear Chat"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsxs(pr,{value:s,onValueChange:o,disabled:U.isPending,children:[u.jsx(lr,{className:"w-full",children:u.jsx(mr,{placeholder:"Select model..."})}),u.jsxs(cr,{children:[u.jsx(At,{value:"auto",children:"Auto-route"}),N==null?void 0:N.filter(G=>G.is_active).map(G=>u.jsx(At,{value:G.model_name,children:G.model_name},G.id))]})]}),u.jsx(ke,{variant:"outline",size:"icon",onClick:I,disabled:F,children:u.jsx(qi,{className:"h-4 w-4"})})]}),u.jsx(jt,{placeholder:"Enter test prompt...",value:r,onChange:G=>i(G.target.value),onKeyDown:G=>G.key==="Enter"&&B(),className:"flex-1",disabled:U.isPending}),u.jsx(ke,{onClick:B,disabled:U.isPending||!r.trim(),children:U.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):u.jsx(A3,{className:"h-4 w-4"})})]})]})]}),a.length>0&&u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Conversation"})}),u.jsx(et,{className:"space-y-4",children:a.map((G,X)=>u.jsx("div",{className:`flex ${G.sender==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[80%] rounded-lg p-4 ${G.sender==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:u.jsx("div",{className:"text-sm whitespace-pre-wrap",children:G.message_content})})},X))})]})]}),u.jsxs(Ge,{className:"h-[600px]",children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Td,{className:"h-5 w-5 text-primary"}),"Reasoning & Routing Visualization"]})}),u.jsx(et,{className:"h-[calc(100%-4rem)]",children:g.length>0?u.jsxs(Iue,{nodes:g,edges:m,onNodesChange:x,onEdgesChange:y,onConnect:_,fitView:!0,children:[u.jsx(zue,{}),u.jsx($ue,{}),u.jsx(Fue,{gap:12,size:1})]}):u.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:u.jsx("p",{children:"Run a query with auto-routing to see the visualization."})})})]})]})}function hat({onAddModel:t,providers:e}){const[n,r]=A.useState(""),[i,s]=A.useState(""),o=a=>{a.preventDefault(),t({model_name:n,provider_id:i,type:"chat",is_active:!0,role:"general"})};return u.jsxs("form",{onSubmit:o,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(mt,{children:"Model Name"}),u.jsx(jt,{value:n,onChange:a=>r(a.target.value),placeholder:"e.g., gpt-4-turbo"})]}),u.jsxs("div",{children:[u.jsx(mt,{children:"Provider"}),u.jsxs(pr,{value:i,onValueChange:s,children:[u.jsx(lr,{children:u.jsx(mr,{placeholder:"Select provider..."})}),u.jsx(cr,{children:e.map(a=>u.jsx(At,{value:a.id,children:a.name},a.id))})]})]}),u.jsx(ke,{type:"submit",children:"Add Model"})]})}function pat(){const t=VA(),[,e]=Ni(),r=new URLSearchParams(t).get("tab")||"map",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/cognisys?tab=${a}`)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"border-b bg-card px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"COGNISYS"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Multimodel Orchestration & Routing System"})]}),u.jsxs(fn,{variant:"outline",className:"gap-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"12 Models Active"]})]})}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:u.jsxs(Gl,{value:i,onValueChange:o,children:[u.jsxs(Ka,{className:"grid w-full grid-cols-4 mb-6",children:[u.jsxs(er,{value:"map",className:"gap-2","data-testid":"tab-model-map",children:[u.jsx(Pd,{className:"h-4 w-4"}),"Model Map"]}),u.jsxs(er,{value:"routing",className:"gap-2","data-testid":"tab-routing",children:[u.jsx(Gm,{className:"h-4 w-4"}),"Routing Rules"]}),u.jsxs(er,{value:"settings",className:"gap-2","data-testid":"tab-provider-settings",children:[u.jsx(bh,{className:"h-4 w-4"}),"Providers"]}),u.jsxs(er,{value:"test",className:"gap-2","data-testid":"tab-test-console",children:[u.jsx(Ua,{className:"h-4 w-4"}),"Test Console"]})]}),u.jsx(pn,{value:"map",children:u.jsx(Drt,{})}),u.jsx(pn,{value:"routing",children:u.jsx(Lrt,{})}),u.jsx(pn,{value:"settings",children:u.jsx(Frt,{})}),u.jsx(pn,{value:"test",children:u.jsx(fat,{})})]})})]})}const mat={online:"bg-green-500",running:"bg-green-500",connected:"bg-green-500",completed:"bg-green-500",idle:"bg-yellow-500",pending:"bg-yellow-500",degraded:"bg-orange-500",offline:"bg-gray-500",stopped:"bg-gray-500",disconnected:"bg-gray-500",error:"bg-red-500"},gat={sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4"};function ig({status:t,label:e,showLabel:n=!1,size:r="md"}){return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:we("rounded-full",mat[t],gat[r])}),n&&u.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:e||t})]})}function vat(){const[,t]=Ni(),{toast:e}=Ud(),n=Lt({mutationFn:async()=>{const g=await fetch("/api/neosyntis/open-lab",{method:"POST"});if(!g.ok)throw new Error("Failed to open Neosyntis Lab");return g.json()},onSuccess:()=>{e({title:"Neosyntis Lab Opened",description:"The Neosyntis Lab has been successfully opened."})},onError:g=>{e({title:"Error",description:`Failed to open Neosyntis Lab: ${g.message}`,variant:"destructive"})}}),r=Lt({mutationFn:async()=>{const g=await fetch("/api/arcana/start-chat",{method:"POST"});if(!g.ok)throw new Error("Failed to start Arcana Chat");return g.json()},onSuccess:()=>{e({title:"Arcana Chat Started",description:"A new Arcana chat session has been initiated."})},onError:g=>{e({title:"Error",description:`Failed to start Arcana Chat: ${g.message}`,variant:"destructive"})}}),i=Lt({mutationFn:async()=>{const g=await fetch("/api/myntrix/deploy-model",{method:"POST"});if(!g.ok)throw new Error("Failed to deploy Myntrix Model");return g.json()},onSuccess:()=>{e({title:"Myntrix Model Deployed",description:"The Myntrix model has been successfully deployed."})},onError:g=>{e({title:"Error",description:`Failed to deploy Myntrix Model: ${g.message}`,variant:"destructive"})}}),s=Lt({mutationFn:async()=>{const g=await fetch("/api/myntrix/manage-agents",{method:"POST"});if(!g.ok)throw new Error("Failed to manage Myntrix Agents");return g.json()},onSuccess:()=>{e({title:"Myntrix Agents Managed",description:"Myntrix agents management initiated."})},onError:g=>{e({title:"Error",description:`Failed to manage Myntrix Agents: ${g.message}`,variant:"destructive"})}});bi();const{data:o,isLoading:a,error:l}=yn({queryKey:["/api/system/status"],queryFn:async()=>{const g=await fetch("/api/system/status");if(!g.ok)throw new Error("Network response was not ok");return g.json()}}),c=[{label:"Open Neosyntis Lab",icon:Cl,action:()=>n.mutate(),loading:n.isPending},{label:"Start Arcana Chat",icon:Ua,action:()=>r.mutate(),loading:r.isPending},{label:"Deploy Myntrix Model",icon:El,action:()=>i.mutate(),loading:i.isPending},{label:"Manage Myntrix Agents",icon:zr,action:()=>s.mutate(),loading:s.isPending}],f=a||n.isPending||r.isPending||i.isPending||s.isPending,d=l||n.isError||r.isError||i.isError||s.isError;if(f)return u.jsx("div",{className:"p-6 text-center",children:"Loading dashboard data..."});if(d)return u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading dashboard data: ",d instanceof Error?d.message:"An unknown error occurred"]});if(!o)return u.jsx("div",{className:"p-6 text-center text-red-500",children:"Missing system status data."});const h=[{id:"arcana",name:"ARCANA",icon:Ua,description:"Cognitive Chat & Shell System",status:o.arcana.status,metrics:[{label:"Active Chats",value:o.arcana.activeChats},{label:"Messages",value:o.arcana.messagesProcessed},{label:"Avg Response",value:o.arcana.avgResponseTime}],path:"/dashboard/arcana"},{id:"myntrix",name:"MYNTRIX",icon:El,description:"AI Core & Device Control",status:o.myntrix.status,metrics:[{label:"Active Agents",value:o.myntrix.activeAgents},{label:"Jobs Completed",value:o.myntrix.jobsCompleted},{label:"Devices",value:o.myntrix.devicesConnected}],path:"/dashboard/myntrix"},{id:"neosyntis",name:"NEOSYNTIS",icon:Cl,description:"Research & Workflow Lab",status:o.neosyntis.status,metrics:[{label:"Active Workflows",value:o.neosyntis.activeWorkflows},{label:"Datasets",value:o.neosyntis.datasetsManaged},{label:"Search Queries",value:o.neosyntis.searchQueriesProcessed}],path:"/dashboard/neosyntis"},{id:"cognisys",name:"COGNISYS",icon:Pd,description:"Multimodel Orchestration",status:o.cognisys.status,metrics:[{label:"Active Models",value:o.cognisys.modelsActive},{label:"Routing Rules",value:o.cognisys.routingRules},{label:"Requests Routed",value:o.cognisys.requestsRouted}],path:"/dashboard/cognisys"}];return o.arcana.status==="online"&&o.myntrix.status==="online"&&o.neosyntis.status==="online"&&o.cognisys.status,o.arcana.uptime,u.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"VAREON Dashboard"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Central hub for your cognitive AI ecosystem"})]}),u.jsxs(fn,{variant:"outline",className:"gap-2",children:[u.jsx(ig,{status:"online",size:"sm"}),"All Systems Operational"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:h.map(g=>u.jsxs(Ge,{className:"hover-elevate cursor-pointer transition-all",onClick:()=>t(g.path),"data-testid":`card-module-${g.id}`,children:[u.jsxs(Ye,{className:"pb-3",children:[u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:u.jsx(g.icon,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx(Ze,{className:"text-base",children:g.name}),u.jsx(ig,{status:g.status,showLabel:!0,size:"sm",label:g.status})]})]})}),u.jsx(Ut,{className:"text-xs mt-2",children:g.description})]}),u.jsx(et,{className:"space-y-2",children:g.metrics.map((v,x)=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:v.label}),u.jsx("span",{className:"font-medium font-mono",children:v.value})]},x))})]},g.id))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Jye,{className:"h-5 w-5 text-primary"}),"Quick Actions"]}),u.jsx(Ut,{children:"Frequently used operations"})]}),u.jsx(et,{className:"space-y-2",children:c.map((g,v)=>u.jsxs(ke,{variant:"ghost",className:"w-full justify-between group",onClick:g.action,disabled:g.loading,"data-testid":`button-quick-${g.label.toLowerCase().replace(/\s+/g,"-")}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[g.loading?u.jsx(zr,{className:"h-4 w-4 animate-spin"}):u.jsx(g.icon,{className:"h-4 w-4"}),g.label]}),u.jsx(cb,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity"})]},v))})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(zr,{className:"h-5 w-5 text-primary"}),"System Health"]}),u.jsx(Ut,{children:"Overall system performance"})]}),u.jsx(et,{className:"space-y-3",children:Object.entries(o).map(([g,v])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ig,{status:v.status,size:"sm"}),u.jsx("span",{className:"text-sm font-medium capitalize",children:g})]}),u.jsxs(fn,{variant:"outline",className:"text-xs",children:[v.uptime," uptime"]})]},g))})]})]}),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsxs(Ye,{children:[u.jsx(Ze,{children:"Welcome to VAREON Ecosystem"}),u.jsx(Ut,{children:"An enterprise-grade cognitive AI platform integrating research, orchestration, and deployment"})]}),u.jsxs(et,{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"NEOSYNTIS"})," - Advanced research laboratory with workflow automation, dataset management, and intelligent search capabilities."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"MYNTRIX"})," - Core AI engine managing agents, hardware integration, and task orchestration with 3D visualization."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"COGNISYS"})," - Multimodel routing system with intelligent intent detection and reasoning capabilities."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"ARCANA"})," - Conversational AI interface with embedded terminal and context-aware memory management."]})]})]})]})}async function yat(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const xat=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await yat(n),await n.json())},o0=new qK({defaultOptions:{queries:{queryFn:xat({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function _at(){const{toast:t}=Ud(),{data:e}=yn({queryKey:["/api/agents"],queryFn:async()=>{const a=await fetch("/api/agents");if(!a.ok)throw new Error("Network response was not ok");return a.json()}}),n=Lt({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/start`,{method:"POST"});if(!l.ok)throw new Error("Failed to start agent");return l.json()},onSuccess:()=>{t({title:"Agent started",description:"Agent is now running"}),o0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to start agent: ${a.message}`,variant:"destructive"})}}),r=Lt({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/stop`,{method:"POST"});if(!l.ok)throw new Error("Failed to stop agent");return l.json()},onSuccess:()=>{t({title:"Agent stopped"}),o0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to stop agent: ${a.message}`,variant:"destructive"})}}),i=Lt({mutationFn:async a=>{const l=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok)throw new Error("Failed to create agent");return l.json()},onSuccess:()=>{t({title:"Agent created",description:"New agent has been successfully created."}),o0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to create agent: ${a.message}`,variant:"destructive"})}}),s=Lt({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/restart`,{method:"POST"});if(!l.ok)throw new Error("Failed to restart agent");return l.json()},onSuccess:()=>{t({title:"Agent restarted",description:"Agent has been successfully restarted."}),o0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to restart agent: ${a.message}`,variant:"destructive"})}}),o=Lt({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}`,{method:"DELETE"});if(!l.ok)throw new Error("Failed to delete agent");return l.json()},onSuccess:()=>{t({title:"Agent deleted",description:"Agent has been successfully deleted."}),o0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to delete agent: ${a.message}`,variant:"destructive"})}});return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsx(Ge,{children:u.jsx(Ye,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(El,{className:"h-5 w-5 text-primary"}),"Agent Manager"]}),u.jsx(Ut,{className:"mt-1",children:"Manage and monitor AI agents for task execution"})]}),u.jsxs(ke,{onClick:()=>i.mutate({name:"New Agent",type:"Generic"}),"data-testid":"button-create-agent",disabled:i.isPending,children:[i.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Create Agent"]})]})})}),u.jsx(Ge,{children:u.jsx(et,{className:"p-0",children:u.jsxs(ov,{children:[u.jsx(av,{children:u.jsxs(Wo,{children:[u.jsx(Ir,{children:"Name"}),u.jsx(Ir,{children:"Type"}),u.jsx(Ir,{children:"Status"}),u.jsx(Ir,{children:"Health"}),u.jsx(Ir,{children:"Last Run"}),u.jsx(Ir,{className:"text-right",children:"Actions"})]})}),u.jsx(lv,{children:e==null?void 0:e.map(a=>u.jsxs(Wo,{"data-testid":`row-agent-${a.id}`,children:[u.jsx(wr,{className:"font-medium",children:a.name}),u.jsx(wr,{children:u.jsx(fn,{variant:"outline",children:a.type})}),u.jsx(wr,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ig,{status:a.status,size:"sm"}),u.jsx("span",{className:"text-sm capitalize",children:a.status})]})}),u.jsx(wr,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 max-w-[100px]",children:u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all ${a.health>=90?"bg-green-500":a.health>=70?"bg-yellow-500":a.health>0?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.health}%`}})})}),u.jsxs("span",{className:"text-sm font-mono",children:[a.health,"%"]})]})}),u.jsx(wr,{className:"text-sm text-muted-foreground",children:a.lastRun?new Date(a.lastRun).toLocaleString():"Never"}),u.jsx(wr,{className:"text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.status==="running"?u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>r.mutate(a.id),"data-testid":`button-stop-${a.id}`,children:u.jsx(bY,{className:"h-4 w-4"})}):u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>n.mutate(a.id),"data-testid":`button-start-${a.id}`,children:u.jsx(Ag,{className:"h-4 w-4"})}),u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>s.mutate(a.id),"data-testid":`button-restart-${a.id}`,disabled:s.isPending,children:s.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):u.jsx(Kye,{className:"h-4 w-4"})}),u.jsx(ke,{variant:"ghost",size:"sm",onClick:()=>o.mutate(a.id),"data-testid":`button-delete-${a.id}`,disabled:o.isPending,children:o.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):u.jsx(Nd,{className:"h-4 w-4"})})]})})]},a.id))})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(Ge,{children:[u.jsx(Ye,{className:"pb-3",children:u.jsx(Ze,{className:"text-sm text-muted-foreground",children:"Total Agents"})}),u.jsx(et,{children:u.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.length})})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{className:"pb-3",children:u.jsx(Ze,{className:"text-sm text-muted-foreground",children:"Running"})}),u.jsx(et,{children:u.jsx("div",{className:"text-3xl font-bold text-green-600",children:e==null?void 0:e.filter(a=>a.status==="running").length})})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{className:"pb-3",children:u.jsx(Ze,{className:"text-sm text-muted-foreground",children:"Avg Health"})}),u.jsx(et,{children:u.jsxs("div",{className:"text-3xl font-bold",children:[Math.round((e==null?void 0:e.reduce((a,l)=>a+l.health,0))/(e==null?void 0:e.length)),"%"]})})]})]})]})}const bat=[{id:"task-1",name:"Daily Data Sync",schedule:"0 1 * * *",action:"workflow",enabled:!0,nextRun:new Date(Date.now()+24*60*60*1e3).toISOString()},{id:"task-2",name:"Hourly Health Check",schedule:"0 * * * *",action:"script",enabled:!0,nextRun:new Date(Date.now()+60*60*1e3).toISOString()},{id:"task-3",name:"Agent Deployment",schedule:"0 9 * * 1",action:"agent",enabled:!1,nextRun:null}],wat=[{id:"run-1",taskId:"task-1",taskName:"Daily Data Sync",startTime:new Date(Date.now()-24*60*60*1e3).toISOString(),endTime:new Date(Date.now()-23*60*60*1e3).toISOString(),status:"Success",logs:"INFO: Sync complete. 10,234 records updated."},{id:"run-2",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-60*60*1e3).toISOString(),endTime:new Date(Date.now()-59*60*1e3).toISOString(),status:"Success",logs:"INFO: All systems nominal."},{id:"run-3",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-2*60*60*1e3).toISOString(),endTime:new Date(Date.now()-2*60*60*1e3+5e3).toISOString(),status:"Failed",logs:"ERROR: Timeout connecting to node-B. Check network connectivity."}];function Sat(){const{toast:t}=bo(),e=bi(),[n,r]=A.useState(""),[i,s]=A.useState(""),[o,a]=A.useState("workflow"),[l,c]=A.useState(),[f,d]=A.useState(!1),{data:h,isLoading:g,error:v}=yn({queryKey:["/api/tasks"],queryFn:async()=>Promise.resolve(bat)}),{data:x}=yn({queryKey:["/api/tasks/history"],queryFn:async()=>Promise.resolve(wat)}),m=Lt({mutationFn:async b=>(console.log("Creating task:",b),Promise.resolve({...b,id:`task-${Math.random()}`})),onSuccess:()=>{t({title:"Task Created",description:"New task has been scheduled."}),e.invalidateQueries({queryKey:["/api/tasks"]}),r(""),s(""),a("workflow")},onError:b=>{t({title:"Error",description:`Failed to create task: ${b.message}`,variant:"destructive"})}}),p=Lt({mutationFn:async b=>(console.log("Running task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Started",description:"Task initiated successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to run task: ${b.message}`,variant:"destructive"})}}),y=Lt({mutationFn:async({taskId:b,enabled:S})=>(console.log(`${S?"Enabling":"Disabling"} task:`,b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Updated",description:"Task status changed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to change task status: ${b.message}`,variant:"destructive"})}}),_=Lt({mutationFn:async b=>(console.log("Deleting task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Deleted",description:"Task removed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to delete task: ${b.message}`,variant:"destructive"})}});return g?u.jsx("div",{className:"p-6 text-center",children:"Loading scheduled tasks..."}):v?u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading tasks: ",v.message]}):u.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(MI,{className:"h-5 w-5 text-primary"}),"Task Scheduler"]}),u.jsx(Ut,{children:"Schedule automated tasks with cron expressions"})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Task Name"}),u.jsx(jt,{placeholder:"My Scheduled Task","data-testid":"input-task-name",value:n,onChange:b=>r(b.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Cron Expression"}),u.jsxs(QKe,{open:f,onOpenChange:d,children:[u.jsx(JKe,{asChild:!0,children:u.jsxs(ke,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[u.jsx(vY,{className:"mr-2 h-4 w-4"}),l?Od(l,"PPP"):u.jsx("span",{children:"Pick a date"})]})}),u.jsx(Dse,{className:"w-auto p-0 z-50",children:u.jsx(MI,{mode:"single",selected:l,onSelect:b=>{c(b),s(b?`0 0 ${b.getDate()} ${b.getMonth()+1} *`:""),d(!1)},initialFocus:!0})})]}),u.jsx(jt,{placeholder:"0 */6 * * *",value:i,onChange:b=>s(b.target.value),"data-testid":"input-cron-expression"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Task Action"}),u.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-task-action",value:o,onChange:b=>a(b.target.value),children:[u.jsx("option",{value:"workflow",children:"Run Workflow"}),u.jsx("option",{value:"agent",children:"Execute Agent"}),u.jsx("option",{value:"script",children:"Run Script"}),u.jsx("option",{value:"api",children:"Call API"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{"data-testid":"button-create-schedule",onClick:()=>m.mutate({name:n,schedule:i,action:o}),disabled:m.isPending||!n||!i,children:[m.isPending?u.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Create Schedule"]}),u.jsx(ke,{variant:"outline",children:"Test Run"})]}),i&&u.jsxs("div",{className:"p-3 bg-primary/5 border border-primary/10 rounded-lg",children:[u.jsx("div",{className:"text-sm font-medium mb-1",children:"Schedule Preview"}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["This task will run: ",u.jsx("span",{className:"font-mono",children:i})]})]})]})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Scheduled Tasks"}),u.jsx(Ut,{children:"Manage existing scheduled tasks"})]}),u.jsx(et,{className:"space-y-3",children:h&&h.length>0?h.map(b=>u.jsxs(Ge,{className:"bg-card/50",children:[u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Ze,{className:"text-sm",children:b.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(fn,{variant:b.enabled?"default":"outline",className:"text-xs",children:b.enabled?"Enabled":"Disabled"}),u.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:b.schedule})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[u.jsx(yY,{className:"h-3 w-3"}),"Next run"]}),u.jsx("div",{className:"text-xs font-mono mt-1",children:b.nextRun?new Date(b.nextRun).toLocaleString():"N/A"})]})]})}),u.jsx(et,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ke,{variant:"outline",size:"sm",onClick:()=>p.mutate(b.id),disabled:p.isPending,children:p.isPending?u.jsx(zr,{className:"h-4 w-4 animate-spin"}):"Run Now"}),u.jsx(ke,{variant:"outline",size:"sm",onClick:()=>y.mutate({taskId:b.id,enabled:!b.enabled}),disabled:y.isPending,children:y.isPending?u.jsx(zr,{className:"h-4 w-4 animate-spin"}):b.enabled?"Disable":"Enable"}),u.jsx(ke,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>_.mutate(b.id),disabled:_.isPending,children:_.isPending?u.jsx(zr,{className:"h-4 w-4 animate-spin"}):"Delete"})]})})]},b.id)):u.jsx("p",{className:"text-muted-foreground",children:"No scheduled tasks found."})})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Bye,{className:"h-5 w-5 text-primary"}),"Task Execution History"]}),u.jsx(Ut,{children:"Review the status and logs of past task runs."})]}),u.jsx(et,{children:u.jsxs(ov,{children:[u.jsx(av,{children:u.jsxs(Wo,{children:[u.jsx(Ir,{children:"Task"}),u.jsx(Ir,{children:"Status"}),u.jsx(Ir,{className:"hidden md:table-cell",children:"Start Time"}),u.jsx(Ir,{className:"hidden md:table-cell",children:"Duration"}),u.jsx(Ir,{className:"text-right",children:"Actions"})]})}),u.jsx(lv,{children:x==null?void 0:x.map(b=>u.jsxs(Wo,{children:[u.jsx(wr,{className:"font-medium",children:b.taskName}),u.jsx(wr,{children:u.jsx(fn,{variant:b.status==="Success"?"default":b.status==="Failed"?"destructive":"outline",children:b.status})}),u.jsx(wr,{className:"hidden md:table-cell text-sm text-muted-foreground",children:new Date(b.startTime).toLocaleString()}),u.jsx(wr,{className:"hidden md:table-cell text-sm text-muted-foreground",children:`${(new Date(b.endTime).getTime()-new Date(b.startTime).getTime())/1e3}s`}),u.jsx(wr,{className:"text-right",children:u.jsxs(Ub,{children:[u.jsx(U4,{asChild:!0,children:u.jsx(ke,{variant:"outline",size:"sm",children:"View Logs"})}),u.jsxs(Jv,{children:[u.jsxs($b,{children:[u.jsxs(Hb,{children:["Logs for ",b.taskName]}),u.jsxs(Vb,{children:["Execution started at ",new Date(b.startTime).toLocaleString()]})]}),u.jsx("div",{className:"mt-4 bg-muted/50 p-4 rounded-md max-h-96 overflow-y-auto",children:u.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:b.logs})})]})]})})]},b.id))})]})})]}),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Cron Expression Guide"})}),u.jsx(et,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("div",{className:"font-mono text-xs space-y-1",children:[u.jsx("div",{children:"* * * * *  Minute Hour Day Month Weekday"}),u.jsx("div",{children:"0 */6 * * *  Every 6 hours"}),u.jsx("div",{children:"0 9 * * 1  Every Monday at 9 AM"}),u.jsx("div",{children:"0 0 1 * *  First day of every month"})]})})]})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const tw="180",Tf={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Pf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Hue=0,Xj=1,Vue=2,Eat=3,Wue=0,IP=1,sx=2,va=3,Vc=0,Xi=1,Pa=2,Rc=0,ch=1,Kj=2,Yj=3,Zj=4,Gue=5,Uu=100,que=101,Xue=102,Kue=103,Yue=104,Zue=200,Que=201,Jue=202,ede=203,LM=204,FM=205,tde=206,nde=207,rde=208,ide=209,sde=210,ode=211,ade=212,lde=213,cde=214,BM=0,zM=1,UM=2,Bh=3,$M=4,HM=5,VM=6,WM=7,nw=0,ude=1,dde=2,Nl=0,fde=1,hde=2,pde=3,$B=4,mde=5,gde=6,vde=7,Qj="attached",yde="detached",DP=300,Wc=301,Sd=302,j_=303,L_=304,sy=306,F_=1e3,Go=1001,B_=1002,Ai=1003,HB=1004,Cat=1004,Im=1005,Mat=1005,ai=1006,ox=1007,Aat=1007,_l=1008,Tat=1008,Qo=1009,VB=1010,WB=1011,vv=1012,jP=1013,Gc=1014,Is=1015,oy=1016,LP=1017,FP=1018,yv=1020,GB=35902,qB=35899,XB=1021,KB=1022,Gi=1023,xv=1026,_v=1027,BP=1028,rw=1029,YB=1030,zP=1031,Pat=1032,UP=1033,ax=33776,lx=33777,cx=33778,ux=33779,GM=35840,qM=35841,XM=35842,KM=35843,YM=36196,ZM=37492,QM=37496,JM=37808,eA=37809,tA=37810,nA=37811,rA=37812,iA=37813,sA=37814,oA=37815,aA=37816,lA=37817,cA=37818,uA=37819,dA=37820,fA=37821,hA=36492,pA=36494,mA=36495,gA=36283,vA=36284,yA=36285,xA=36286,xde=2200,_de=2201,bde=2202,z_=2300,_A=2301,ME=2302,Hf=2400,Vf=2401,U_=2402,$P=2500,ZB=2501,Nat=0,Rat=1,Oat=2,wde=3200,Sde=3201,kat=3202,Iat=3203,$d=0,Ede=1,xc="",As="srgb",zh="srgb-linear",$_="linear",zn="srgb",Dat=0,Nf=7680,jat=7681,Lat=7682,Fat=7683,Bat=34055,zat=34056,Uat=5386,$at=512,Hat=513,Vat=514,Wat=515,Gat=516,qat=517,Xat=518,Jj=519,Cde=512,Mde=513,Ade=514,QB=515,Tde=516,Pde=517,Nde=518,Rde=519,H_=35044,Kat=35048,Yat=35040,Zat=35045,Qat=35049,Jat=35041,elt=35046,tlt=35050,nlt=35042,rlt="100",eL="300 es",lo=2e3,bv=2001,ilt={COMPUTE:"compute",RENDER:"render"},slt={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},olt={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let Xl=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Bi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let r7=1234567;const uh=Math.PI/180,wv=180/Math.PI;function po(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Bi[t&255]+Bi[t>>8&255]+Bi[t>>16&255]+Bi[t>>24&255]+"-"+Bi[e&255]+Bi[e>>8&255]+"-"+Bi[e>>16&15|64]+Bi[e>>24&255]+"-"+Bi[n&63|128]+Bi[n>>8&255]+"-"+Bi[n>>16&255]+Bi[n>>24&255]+Bi[r&255]+Bi[r>>8&255]+Bi[r>>16&255]+Bi[r>>24&255]).toLowerCase()}function Xt(t,e,n){return Math.max(e,Math.min(n,t))}function JB(t,e){return(t%e+e)%e}function alt(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function llt(t,e,n){return t!==e?(n-t)/(e-t):0}function dx(t,e,n){return(1-n)*t+n*e}function clt(t,e,n,r){return dx(t,e,1-Math.exp(-n*r))}function ult(t,e=1){return e-Math.abs(JB(t,e*2)-e)}function dlt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function flt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function hlt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function plt(t,e){return t+Math.random()*(e-t)}function mlt(t){return t*(.5-Math.random())}function glt(t){t!==void 0&&(r7=t);let e=r7+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function vlt(t){return t*uh}function ylt(t){return t*wv}function xlt(t){return(t&t-1)===0&&t!==0}function _lt(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function blt(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function wlt(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),f=o((e+r)/2),d=s((e-r)/2),h=o((e-r)/2),g=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*d,l*h,a*c);break;case"YZY":t.set(l*h,a*f,l*d,a*c);break;case"ZXZ":t.set(l*d,l*h,a*f,a*c);break;case"XZX":t.set(a*f,l*v,l*g,a*c);break;case"YXY":t.set(l*g,a*f,l*v,a*c);break;case"ZYZ":t.set(l*v,l*g,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ls(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function sn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Ode={DEG2RAD:uh,RAD2DEG:wv,generateUUID:po,clamp:Xt,euclideanModulo:JB,mapLinear:alt,inverseLerp:llt,lerp:dx,damp:clt,pingpong:ult,smoothstep:dlt,smootherstep:flt,randInt:hlt,randFloat:plt,randFloatSpread:mlt,seededRandom:glt,degToRad:vlt,radToDeg:ylt,isPowerOfTwo:xlt,ceilPowerOfTwo:_lt,floorPowerOfTwo:blt,setQuaternionFromProperEuler:wlt,normalize:sn,denormalize:ls};class $e{constructor(e=0,n=0){$e.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Xt(this.x,e.x,n.x),this.y=Xt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Xt(this.x,e,n),this.y=Xt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Xt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Xt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ki{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],f=r[i+2],d=r[i+3];const h=s[o+0],g=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=f,e[n+3]=d;return}if(a===1){e[n+0]=h,e[n+1]=g,e[n+2]=v,e[n+3]=x;return}if(d!==x||l!==h||c!==g||f!==v){let m=1-a;const p=l*h+c*g+f*v+d*x,y=p>=0?1:-1,_=1-p*p;if(_>Number.EPSILON){const S=Math.sqrt(_),C=Math.atan2(S,p*y);m=Math.sin(m*C)/S,a=Math.sin(a*C)/S}const b=a*y;if(l=l*m+h*b,c=c*m+g*b,f=f*m+v*b,d=d*m+x*b,m===1-a){const S=1/Math.sqrt(l*l+c*c+f*f+d*d);l*=S,c*=S,f*=S,d*=S}}e[n]=l,e[n+1]=c,e[n+2]=f,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],f=r[i+3],d=s[o],h=s[o+1],g=s[o+2],v=s[o+3];return e[n]=a*v+f*d+l*g-c*h,e[n+1]=l*v+f*h+c*d-a*g,e[n+2]=c*v+f*g+a*h-l*d,e[n+3]=f*v-a*d-l*h-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),f=a(i/2),d=a(s/2),h=l(r/2),g=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=h*f*d+c*g*v,this._y=c*g*d-h*f*v,this._z=c*f*v+h*g*d,this._w=c*f*d-h*g*v;break;case"YXZ":this._x=h*f*d+c*g*v,this._y=c*g*d-h*f*v,this._z=c*f*v-h*g*d,this._w=c*f*d+h*g*v;break;case"ZXY":this._x=h*f*d-c*g*v,this._y=c*g*d+h*f*v,this._z=c*f*v+h*g*d,this._w=c*f*d-h*g*v;break;case"ZYX":this._x=h*f*d-c*g*v,this._y=c*g*d+h*f*v,this._z=c*f*v-h*g*d,this._w=c*f*d+h*g*v;break;case"YZX":this._x=h*f*d+c*g*v,this._y=c*g*d+h*f*v,this._z=c*f*v-h*g*d,this._w=c*f*d-h*g*v;break;case"XZY":this._x=h*f*d-c*g*v,this._y=c*g*d-h*f*v,this._z=c*f*v+h*g*d,this._w=c*f*d+h*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],f=n[6],d=n[10],h=r+a+d;if(h>0){const g=.5/Math.sqrt(h+1);this._w=.25/g,this._x=(f-l)*g,this._y=(s-c)*g,this._z=(o-i)*g}else if(r>a&&r>d){const g=2*Math.sqrt(1+r-a-d);this._w=(f-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+c)/g}else if(a>d){const g=2*Math.sqrt(1+a-r-d);this._w=(s-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+f)/g}else{const g=2*Math.sqrt(1+d-r-a);this._w=(o-i)/g,this._x=(s+c)/g,this._y=(l+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,f=n._w;return this._x=r*f+o*a+i*c-s*l,this._y=i*f+o*l+s*a-r*c,this._z=s*f+o*c+r*l-i*a,this._w=o*f-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),d=Math.sin((1-n)*f)/c,h=Math.sin(n*f)/c;return this._w=o*d+this._w*h,this._x=r*d+this._x*h,this._y=i*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class le{constructor(e=0,n=0,r=0){le.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(i7.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(i7.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),f=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*c+o*d-a*f,this.y=r+l*f+a*c-s*d,this.z=i+l*d+s*f-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Xt(this.x,e.x,n.x),this.y=Xt(this.y,e.y,n.y),this.z=Xt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Xt(this.x,e,n),this.y=Xt(this.y,e,n),this.z=Xt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Xt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return lO.copy(this).projectOnVector(e),this.sub(lO)}reflect(e){return this.sub(lO.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Xt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const lO=new le,i7=new Ki;class rn{constructor(e,n,r,i,s,o,a,l,c){rn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],f=r[4],d=r[7],h=r[2],g=r[5],v=r[8],x=i[0],m=i[3],p=i[6],y=i[1],_=i[4],b=i[7],S=i[2],C=i[5],M=i[8];return s[0]=o*x+a*y+l*S,s[3]=o*m+a*_+l*C,s[6]=o*p+a*b+l*M,s[1]=c*x+f*y+d*S,s[4]=c*m+f*_+d*C,s[7]=c*p+f*b+d*M,s[2]=h*x+g*y+v*S,s[5]=h*m+g*_+v*C,s[8]=h*p+g*b+v*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return n*o*f-n*a*c-r*s*f+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],d=f*o-a*c,h=a*l-f*s,g=c*s-o*l,v=n*d+r*h+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(i*c-f*r)*x,e[2]=(a*r-i*o)*x,e[3]=h*x,e[4]=(f*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=g*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(cO.makeScale(e,n)),this}rotate(e){return this.premultiply(cO.makeRotation(-e)),this}translate(e,n){return this.premultiply(cO.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const cO=new rn;function kde(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Slt={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Dm(t,e){return new Slt[t](e)}function V_(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Ide(){const t=V_("canvas");return t.style.display="block",t}const s7={};function W_(t){t in s7||(s7[t]=!0,console.warn(t))}function Elt(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}const o7=new rn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),a7=new rn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function Clt(){const t={enabled:!0,workingColorSpace:zh,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===zn&&(i.r=Oc(i.r),i.g=Oc(i.g),i.b=Oc(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===zn&&(i.r=sg(i.r),i.g=sg(i.g),i.b=sg(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===xc?$_:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return W_("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return W_("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[zh]:{primaries:e,whitePoint:r,transfer:$_,toXYZ:o7,fromXYZ:a7,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:As},outputColorSpaceConfig:{drawingBufferColorSpace:As}},[As]:{primaries:e,whitePoint:r,transfer:zn,toXYZ:o7,fromXYZ:a7,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:As}}}),t}const _n=Clt();function Oc(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function sg(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Bp;class Dde{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Bp===void 0&&(Bp=V_("canvas")),Bp.width=e.width,Bp.height=e.height;const i=Bp.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Bp}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=V_("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=Oc(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Oc(n[r]/255)*255):n[r]=Oc(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Mlt=0;class nd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Mlt++}),this.uuid=po(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(uO(i[o].image)):s.push(uO(i[o]))}else s=uO(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function uO(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Dde.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Alt=0;const dO=new le;class Dr extends Xl{constructor(e=Dr.DEFAULT_IMAGE,n=Dr.DEFAULT_MAPPING,r=Go,i=Go,s=ai,o=_l,a=Gi,l=Qo,c=Dr.DEFAULT_ANISOTROPY,f=xc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Alt++}),this.uuid=po(),this.name="",this.source=new nd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new $e(0,0),this.repeat=new $e(1,1),this.center=new $e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new rn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(dO).x}get height(){return this.source.getSize(dO).y}get depth(){return this.source.getSize(dO).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==DP)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case F_:e.x=e.x-Math.floor(e.x);break;case Go:e.x=e.x<0?0:1;break;case B_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case F_:e.y=e.y-Math.floor(e.y);break;case Go:e.y=e.y<0?0:1;break;case B_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Dr.DEFAULT_IMAGE=null;Dr.DEFAULT_MAPPING=DP;Dr.DEFAULT_ANISOTROPY=1;class En{constructor(e=0,n=0,r=0,i=1){En.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],f=l[4],d=l[8],h=l[1],g=l[5],v=l[9],x=l[2],m=l[6],p=l[10];if(Math.abs(f-h)<.01&&Math.abs(d-x)<.01&&Math.abs(v-m)<.01){if(Math.abs(f+h)<.1&&Math.abs(d+x)<.1&&Math.abs(v+m)<.1&&Math.abs(c+g+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,b=(g+1)/2,S=(p+1)/2,C=(f+h)/4,M=(d+x)/4,T=(v+m)/4;return _>b&&_>S?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=C/r,s=M/r):b>S?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=C/i,s=T/i):S<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(S),r=M/s,i=T/s),this.set(r,i,s,n),this}let y=Math.sqrt((m-v)*(m-v)+(d-x)*(d-x)+(h-f)*(h-f));return Math.abs(y)<.001&&(y=1),this.x=(m-v)/y,this.y=(d-x)/y,this.z=(h-f)/y,this.w=Math.acos((c+g+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Xt(this.x,e.x,n.x),this.y=Xt(this.y,e.y,n.y),this.z=Xt(this.z,e.z,n.z),this.w=Xt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Xt(this.x,e,n),this.y=Xt(this.y,e,n),this.z=Xt(this.z,e,n),this.w=Xt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Xt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class e5 extends Xl{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ai,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new En(0,0,e,n),this.scissorTest=!1,this.viewport=new En(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Dr(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:ai,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new nd(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Fl extends e5{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class HP extends Dr{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ai,this.minFilter=Ai,this.wrapR=Go,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Tlt extends Fl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new HP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class VP extends Dr{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ai,this.minFilter=Ai,this.wrapR=Go,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Plt extends Fl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new VP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Yi{constructor(e=new le(1/0,1/0,1/0),n=new le(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(fa.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(fa.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=fa.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,fa):fa.fromBufferAttribute(s,o),fa.applyMatrix4(e.matrixWorld),this.expandByPoint(fa);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),nS.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),nS.copy(r.boundingBox)),nS.applyMatrix4(e.matrixWorld),this.union(nS)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,fa),fa.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(a0),rS.subVectors(this.max,a0),zp.subVectors(e.a,a0),Up.subVectors(e.b,a0),$p.subVectors(e.c,a0),Su.subVectors(Up,zp),Eu.subVectors($p,Up),af.subVectors(zp,$p);let n=[0,-Su.z,Su.y,0,-Eu.z,Eu.y,0,-af.z,af.y,Su.z,0,-Su.x,Eu.z,0,-Eu.x,af.z,0,-af.x,-Su.y,Su.x,0,-Eu.y,Eu.x,0,-af.y,af.x,0];return!fO(n,zp,Up,$p,rS)||(n=[1,0,0,0,1,0,0,0,1],!fO(n,zp,Up,$p,rS))?!1:(iS.crossVectors(Su,Eu),n=[iS.x,iS.y,iS.z],fO(n,zp,Up,$p,rS))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fa).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(fa).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(oc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),oc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),oc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),oc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),oc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),oc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),oc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),oc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(oc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const oc=[new le,new le,new le,new le,new le,new le,new le,new le],fa=new le,nS=new Yi,zp=new le,Up=new le,$p=new le,Su=new le,Eu=new le,af=new le,a0=new le,rS=new le,iS=new le,lf=new le;function fO(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){lf.fromArray(t,s);const a=i.x*Math.abs(lf.x)+i.y*Math.abs(lf.y)+i.z*Math.abs(lf.z),l=e.dot(lf),c=n.dot(lf),f=r.dot(lf);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const Nlt=new Yi,l0=new le,hO=new le;let Ti=class{constructor(e=new le,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Nlt.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;l0.subVectors(e,this.center);const n=l0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(l0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(hO.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(l0.copy(e.center).add(hO)),this.expandByPoint(l0.copy(e.center).sub(hO))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const ac=new le,pO=new le,sS=new le,Cu=new le,mO=new le,oS=new le,gO=new le;class np{constructor(e=new le,n=new le(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ac)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ac.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ac.copy(this.origin).addScaledVector(this.direction,n),ac.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){pO.copy(e).add(n).multiplyScalar(.5),sS.copy(n).sub(e).normalize(),Cu.copy(this.origin).sub(pO);const s=e.distanceTo(n)*.5,o=-this.direction.dot(sS),a=Cu.dot(this.direction),l=-Cu.dot(sS),c=Cu.lengthSq(),f=Math.abs(1-o*o);let d,h,g,v;if(f>0)if(d=o*l-a,h=o*a-l,v=s*f,d>=0)if(h>=-v)if(h<=v){const x=1/f;d*=x,h*=x,g=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),g=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),g=-d*d+h*(h+2*l)+c;else h<=-v?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),g=-d*d+h*(h+2*l)+c):h<=v?(d=0,h=Math.min(Math.max(-s,-l),s),g=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),g=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),g=-d*d+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(pO).addScaledVector(sS,h),g}intersectSphere(e,n){ac.subVectors(e.center,this.origin);const r=ac.dot(this.direction),i=ac.dot(ac)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),f>=0?(s=(e.min.y-h.y)*f,o=(e.max.y-h.y)*f):(s=(e.max.y-h.y)*f,o=(e.min.y-h.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ac)!==null}intersectTriangle(e,n,r,i,s){mO.subVectors(n,e),oS.subVectors(r,e),gO.crossVectors(mO,oS);let o=this.direction.dot(gO),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Cu.subVectors(this.origin,e);const l=a*this.direction.dot(oS.crossVectors(Cu,oS));if(l<0)return null;const c=a*this.direction.dot(mO.cross(Cu));if(c<0||l+c>o)return null;const f=-a*Cu.dot(gO);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yt{constructor(e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m){Yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m)}set(e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=f,p[10]=d,p[14]=h,p[3]=g,p[7]=v,p[11]=x,p[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Hp.setFromMatrixColumn(e,0).length(),s=1/Hp.setFromMatrixColumn(e,1).length(),o=1/Hp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=o*f,g=o*d,v=a*f,x=a*d;n[0]=l*f,n[4]=-l*d,n[8]=c,n[1]=g+v*c,n[5]=h-x*c,n[9]=-a*l,n[2]=x-h*c,n[6]=v+g*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*f,g=l*d,v=c*f,x=c*d;n[0]=h+x*a,n[4]=v*a-g,n[8]=o*c,n[1]=o*d,n[5]=o*f,n[9]=-a,n[2]=g*a-v,n[6]=x+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*f,g=l*d,v=c*f,x=c*d;n[0]=h-x*a,n[4]=-o*d,n[8]=v+g*a,n[1]=g+v*a,n[5]=o*f,n[9]=x-h*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*f,g=o*d,v=a*f,x=a*d;n[0]=l*f,n[4]=v*c-g,n[8]=h*c+x,n[1]=l*d,n[5]=x*c+h,n[9]=g*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,g=o*c,v=a*l,x=a*c;n[0]=l*f,n[4]=x-h*d,n[8]=v*d+g,n[1]=d,n[5]=o*f,n[9]=-a*f,n[2]=-c*f,n[6]=g*d+v,n[10]=h-x*d}else if(e.order==="XZY"){const h=o*l,g=o*c,v=a*l,x=a*c;n[0]=l*f,n[4]=-d,n[8]=c*f,n[1]=h*d+x,n[5]=o*f,n[9]=g*d-v,n[2]=v*d-g,n[6]=a*f,n[10]=x*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Rlt,e,Olt)}lookAt(e,n,r){const i=this.elements;return Ks.subVectors(e,n),Ks.lengthSq()===0&&(Ks.z=1),Ks.normalize(),Mu.crossVectors(r,Ks),Mu.lengthSq()===0&&(Math.abs(r.z)===1?Ks.x+=1e-4:Ks.z+=1e-4,Ks.normalize(),Mu.crossVectors(r,Ks)),Mu.normalize(),aS.crossVectors(Ks,Mu),i[0]=Mu.x,i[4]=aS.x,i[8]=Ks.x,i[1]=Mu.y,i[5]=aS.y,i[9]=Ks.y,i[2]=Mu.z,i[6]=aS.z,i[10]=Ks.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],f=r[1],d=r[5],h=r[9],g=r[13],v=r[2],x=r[6],m=r[10],p=r[14],y=r[3],_=r[7],b=r[11],S=r[15],C=i[0],M=i[4],T=i[8],P=i[12],N=i[1],k=i[5],D=i[9],j=i[13],F=i[2],z=i[6],U=i[10],H=i[14],R=i[3],I=i[7],B=i[11],W=i[15];return s[0]=o*C+a*N+l*F+c*R,s[4]=o*M+a*k+l*z+c*I,s[8]=o*T+a*D+l*U+c*B,s[12]=o*P+a*j+l*H+c*W,s[1]=f*C+d*N+h*F+g*R,s[5]=f*M+d*k+h*z+g*I,s[9]=f*T+d*D+h*U+g*B,s[13]=f*P+d*j+h*H+g*W,s[2]=v*C+x*N+m*F+p*R,s[6]=v*M+x*k+m*z+p*I,s[10]=v*T+x*D+m*U+p*B,s[14]=v*P+x*j+m*H+p*W,s[3]=y*C+_*N+b*F+S*R,s[7]=y*M+_*k+b*z+S*I,s[11]=y*T+_*D+b*U+S*B,s[15]=y*P+_*j+b*H+S*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],f=e[2],d=e[6],h=e[10],g=e[14],v=e[3],x=e[7],m=e[11],p=e[15];return v*(+s*l*d-i*c*d-s*a*h+r*c*h+i*a*g-r*l*g)+x*(+n*l*g-n*c*h+s*o*h-i*o*g+i*c*f-s*l*f)+m*(+n*c*d-n*a*g-s*o*d+r*o*g+s*a*f-r*c*f)+p*(-i*a*f-n*l*d+n*a*h+i*o*d-r*o*h+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],d=e[9],h=e[10],g=e[11],v=e[12],x=e[13],m=e[14],p=e[15],y=d*m*c-x*h*c+x*l*g-a*m*g-d*l*p+a*h*p,_=v*h*c-f*m*c-v*l*g+o*m*g+f*l*p-o*h*p,b=f*x*c-v*d*c+v*a*g-o*x*g-f*a*p+o*d*p,S=v*d*l-f*x*l-v*a*h+o*x*h+f*a*m-o*d*m,C=n*y+r*_+i*b+s*S;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/C;return e[0]=y*M,e[1]=(x*h*s-d*m*s-x*i*g+r*m*g+d*i*p-r*h*p)*M,e[2]=(a*m*s-x*l*s+x*i*c-r*m*c-a*i*p+r*l*p)*M,e[3]=(d*l*s-a*h*s-d*i*c+r*h*c+a*i*g-r*l*g)*M,e[4]=_*M,e[5]=(f*m*s-v*h*s+v*i*g-n*m*g-f*i*p+n*h*p)*M,e[6]=(v*l*s-o*m*s-v*i*c+n*m*c+o*i*p-n*l*p)*M,e[7]=(o*h*s-f*l*s+f*i*c-n*h*c-o*i*g+n*l*g)*M,e[8]=b*M,e[9]=(v*d*s-f*x*s-v*r*g+n*x*g+f*r*p-n*d*p)*M,e[10]=(o*x*s-v*a*s+v*r*c-n*x*c-o*r*p+n*a*p)*M,e[11]=(f*a*s-o*d*s-f*r*c+n*d*c+o*r*g-n*a*g)*M,e[12]=S*M,e[13]=(f*x*i-v*d*i+v*r*h-n*x*h-f*r*m+n*d*m)*M,e[14]=(v*a*i-o*x*i-v*r*l+n*x*l+o*r*m-n*a*m)*M,e[15]=(o*d*i-f*a*i+f*r*l-n*d*l-o*r*h+n*a*h)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,f=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,f*a+r,f*l-i*o,0,c*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,f=o+o,d=a+a,h=s*c,g=s*f,v=s*d,x=o*f,m=o*d,p=a*d,y=l*c,_=l*f,b=l*d,S=r.x,C=r.y,M=r.z;return i[0]=(1-(x+p))*S,i[1]=(g+b)*S,i[2]=(v-_)*S,i[3]=0,i[4]=(g-b)*C,i[5]=(1-(h+p))*C,i[6]=(m+y)*C,i[7]=0,i[8]=(v+_)*M,i[9]=(m-y)*M,i[10]=(1-(h+x))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Hp.set(i[0],i[1],i[2]).length();const o=Hp.set(i[4],i[5],i[6]).length(),a=Hp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],ha.copy(this);const c=1/s,f=1/o,d=1/a;return ha.elements[0]*=c,ha.elements[1]*=c,ha.elements[2]*=c,ha.elements[4]*=f,ha.elements[5]*=f,ha.elements[6]*=f,ha.elements[8]*=d,ha.elements[9]*=d,ha.elements[10]*=d,n.setFromRotationMatrix(ha),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=lo,l=!1){const c=this.elements,f=2*s/(n-e),d=2*s/(r-i),h=(n+e)/(n-e),g=(r+i)/(r-i);let v,x;if(l)v=s/(o-s),x=o*s/(o-s);else if(a===lo)v=-(o+s)/(o-s),x=-2*o*s/(o-s);else if(a===bv)v=-o/(o-s),x=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=f,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=d,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=lo,l=!1){const c=this.elements,f=2/(n-e),d=2/(r-i),h=-(n+e)/(n-e),g=-(r+i)/(r-i);let v,x;if(l)v=1/(o-s),x=o/(o-s);else if(a===lo)v=-2/(o-s),x=-(o+s)/(o-s);else if(a===bv)v=-1/(o-s),x=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=f,c[4]=0,c[8]=0,c[12]=h,c[1]=0,c[5]=d,c[9]=0,c[13]=g,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Hp=new le,ha=new Yt,Rlt=new le(0,0,0),Olt=new le(1,1,1),Mu=new le,aS=new le,Ks=new le,l7=new Yt,c7=new Ki;class yo{constructor(e=0,n=0,r=0,i=yo.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],f=i[9],d=i[2],h=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Xt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Xt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Xt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Xt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Xt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Xt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return l7.makeRotationFromQuaternion(e),this.setFromRotationMatrix(l7,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return c7.setFromEuler(this),this.setFromQuaternion(c7,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}yo.DEFAULT_ORDER="XYZ";class dh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let klt=0;const u7=new le,Vp=new Ki,lc=new Yt,lS=new le,c0=new le,Ilt=new le,Dlt=new Ki,d7=new le(1,0,0),f7=new le(0,1,0),h7=new le(0,0,1),p7={type:"added"},jlt={type:"removed"},Wp={type:"childadded",child:null},vO={type:"childremoved",child:null};class Mn extends Xl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:klt++}),this.uuid=po(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Mn.DEFAULT_UP.clone();const e=new le,n=new yo,r=new Ki,i=new le(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Yt},normalMatrix:{value:new rn}}),this.matrix=new Yt,this.matrixWorld=new Yt,this.matrixAutoUpdate=Mn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new dh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Vp.setFromAxisAngle(e,n),this.quaternion.multiply(Vp),this}rotateOnWorldAxis(e,n){return Vp.setFromAxisAngle(e,n),this.quaternion.premultiply(Vp),this}rotateX(e){return this.rotateOnAxis(d7,e)}rotateY(e){return this.rotateOnAxis(f7,e)}rotateZ(e){return this.rotateOnAxis(h7,e)}translateOnAxis(e,n){return u7.copy(e).applyQuaternion(this.quaternion),this.position.add(u7.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(d7,e)}translateY(e){return this.translateOnAxis(f7,e)}translateZ(e){return this.translateOnAxis(h7,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(lc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?lS.copy(e):lS.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),c0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?lc.lookAt(c0,lS,this.up):lc.lookAt(lS,c0,this.up),this.quaternion.setFromRotationMatrix(lc),i&&(lc.extractRotation(i.matrixWorld),Vp.setFromRotationMatrix(lc),this.quaternion.premultiply(Vp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(p7),Wp.child=e,this.dispatchEvent(Wp),Wp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(jlt),vO.child=e,this.dispatchEvent(vO),vO.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),lc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),lc.multiply(e.parent.matrixWorld)),e.applyMatrix4(lc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(p7),Wp.child=e,this.dispatchEvent(Wp),Wp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,e,Ilt),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(c0,Dlt,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),d=o(e.shapes),h=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),h.length>0&&(r.skeletons=h),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Mn.DEFAULT_UP=new le(0,1,0);Mn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Mn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const pa=new le,cc=new le,yO=new le,uc=new le,Gp=new le,qp=new le,m7=new le,xO=new le,_O=new le,bO=new le,wO=new En,SO=new En,EO=new En;class Ns{constructor(e=new le,n=new le,r=new le){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),pa.subVectors(e,n),i.cross(pa);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){pa.subVectors(i,n),cc.subVectors(r,n),yO.subVectors(e,n);const o=pa.dot(pa),a=pa.dot(cc),l=pa.dot(yO),c=cc.dot(cc),f=cc.dot(yO),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const h=1/d,g=(c*l-a*f)*h,v=(o*f-a*l)*h;return s.set(1-g-v,v,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,uc)===null?!1:uc.x>=0&&uc.y>=0&&uc.x+uc.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,uc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,uc.x),l.addScaledVector(o,uc.y),l.addScaledVector(a,uc.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return wO.setScalar(0),SO.setScalar(0),EO.setScalar(0),wO.fromBufferAttribute(e,n),SO.fromBufferAttribute(e,r),EO.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(wO,s.x),o.addScaledVector(SO,s.y),o.addScaledVector(EO,s.z),o}static isFrontFacing(e,n,r,i){return pa.subVectors(r,n),cc.subVectors(e,n),pa.cross(cc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return pa.subVectors(this.c,this.b),cc.subVectors(this.a,this.b),pa.cross(cc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ns.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ns.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Ns.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ns.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ns.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Gp.subVectors(i,r),qp.subVectors(s,r),xO.subVectors(e,r);const l=Gp.dot(xO),c=qp.dot(xO);if(l<=0&&c<=0)return n.copy(r);_O.subVectors(e,i);const f=Gp.dot(_O),d=qp.dot(_O);if(f>=0&&d<=f)return n.copy(i);const h=l*d-f*c;if(h<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(Gp,o);bO.subVectors(e,s);const g=Gp.dot(bO),v=qp.dot(bO);if(v>=0&&g<=v)return n.copy(s);const x=g*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(qp,a);const m=f*v-g*d;if(m<=0&&d-f>=0&&g-v>=0)return m7.subVectors(s,i),a=(d-f)/(d-f+(g-v)),n.copy(i).addScaledVector(m7,a);const p=1/(m+x+h);return o=x*p,a=h*p,n.copy(r).addScaledVector(Gp,o).addScaledVector(qp,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const jde={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Au={h:0,s:0,l:0},cS={h:0,s:0,l:0};function CO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class pt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=As){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,_n.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=_n.workingColorSpace){return this.r=e,this.g=n,this.b=r,_n.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=_n.workingColorSpace){if(e=JB(e,1),n=Xt(n,0,1),r=Xt(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=CO(o,s,e+1/3),this.g=CO(o,s,e),this.b=CO(o,s,e-1/3)}return _n.colorSpaceToWorking(this,i),this}setStyle(e,n=As){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=As){const r=jde[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Oc(e.r),this.g=Oc(e.g),this.b=Oc(e.b),this}copyLinearToSRGB(e){return this.r=sg(e.r),this.g=sg(e.g),this.b=sg(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=As){return _n.workingToColorSpace(zi.copy(this),e),Math.round(Xt(zi.r*255,0,255))*65536+Math.round(Xt(zi.g*255,0,255))*256+Math.round(Xt(zi.b*255,0,255))}getHexString(e=As){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=_n.workingColorSpace){_n.workingToColorSpace(zi.copy(this),n);const r=zi.r,i=zi.g,s=zi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const f=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=f<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,n=_n.workingColorSpace){return _n.workingToColorSpace(zi.copy(this),n),e.r=zi.r,e.g=zi.g,e.b=zi.b,e}getStyle(e=As){_n.workingToColorSpace(zi.copy(this),e);const n=zi.r,r=zi.g,i=zi.b;return e!==As?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Au),this.setHSL(Au.h+e,Au.s+n,Au.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Au),e.getHSL(cS);const r=dx(Au.h,cS.h,n),i=dx(Au.s,cS.s,n),s=dx(Au.l,cS.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const zi=new pt;pt.NAMES=jde;let Llt=0;class Qi extends Xl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Llt++}),this.uuid=po(),this.name="",this.type="Material",this.blending=ch,this.side=Vc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=LM,this.blendDst=FM,this.blendEquation=Uu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new pt(0,0,0),this.blendAlpha=0,this.depthFunc=Bh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Jj,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Nf,this.stencilZFail=Nf,this.stencilZPass=Nf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==ch&&(r.blending=this.blending),this.side!==Vc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==LM&&(r.blendSrc=this.blendSrc),this.blendDst!==FM&&(r.blendDst=this.blendDst),this.blendEquation!==Uu&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Bh&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==Jj&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Nf&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Nf&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Nf&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Hd extends Qi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yo,this.combine=nw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const _c=Flt();function Flt(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Ss(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Xt(t,-65504,65504),_c.floatView[0]=t;const e=_c.uint32View[0],n=e>>23&511;return _c.baseTable[n]+((e&8388607)>>_c.shiftTable[n])}function D0(t){const e=t>>10;return _c.uint32View[0]=_c.mantissaTable[_c.offsetTable[e]+(t&1023)]+_c.exponentTable[e],_c.floatView[0]}class Blt{static toHalfFloat(e){return Ss(e)}static fromHalfFloat(e){return D0(e)}}const Wr=new le,uS=new $e;let zlt=0;class Wn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:zlt++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=H_,this.updateRanges=[],this.gpuType=Is,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)uS.fromBufferAttribute(this,n),uS.applyMatrix3(e),this.setXY(n,uS.x,uS.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Wr.fromBufferAttribute(this,n),Wr.applyMatrix3(e),this.setXYZ(n,Wr.x,Wr.y,Wr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Wr.fromBufferAttribute(this,n),Wr.applyMatrix4(e),this.setXYZ(n,Wr.x,Wr.y,Wr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Wr.fromBufferAttribute(this,n),Wr.applyNormalMatrix(e),this.setXYZ(n,Wr.x,Wr.y,Wr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Wr.fromBufferAttribute(this,n),Wr.transformDirection(e),this.setXYZ(n,Wr.x,Wr.y,Wr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ls(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=sn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ls(n,this.array)),n}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ls(n,this.array)),n}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ls(n,this.array)),n}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ls(n,this.array)),n}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==H_&&(e.usage=this.usage),e}}class Ult extends Wn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class $lt extends Wn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Hlt extends Wn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Vlt extends Wn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class t5 extends Wn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Wlt extends Wn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class n5 extends Wn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Glt extends Wn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=D0(this.array[e*this.itemSize]);return this.normalized&&(n=ls(n,this.array)),n}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize]=Ss(n),this}getY(e){let n=D0(this.array[e*this.itemSize+1]);return this.normalized&&(n=ls(n,this.array)),n}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+1]=Ss(n),this}getZ(e){let n=D0(this.array[e*this.itemSize+2]);return this.normalized&&(n=ls(n,this.array)),n}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+2]=Ss(n),this}getW(e){let n=D0(this.array[e*this.itemSize+3]);return this.normalized&&(n=ls(n,this.array)),n}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.array[e*this.itemSize+3]=Ss(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array)),this.array[e+0]=Ss(n),this.array[e+1]=Ss(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array)),this.array[e+0]=Ss(n),this.array[e+1]=Ss(r),this.array[e+2]=Ss(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.array[e+0]=Ss(n),this.array[e+1]=Ss(r),this.array[e+2]=Ss(i),this.array[e+3]=Ss(s),this}}class Ct extends Wn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let qlt=0;const jo=new Yt,MO=new Mn,Xp=new le,Ys=new Yi,u0=new Yi,mi=new le;class on extends Xl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:qlt++}),this.uuid=po(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(kde(e)?n5:t5)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new rn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jo.makeRotationFromQuaternion(e),this.applyMatrix4(jo),this}rotateX(e){return jo.makeRotationX(e),this.applyMatrix4(jo),this}rotateY(e){return jo.makeRotationY(e),this.applyMatrix4(jo),this}rotateZ(e){return jo.makeRotationZ(e),this.applyMatrix4(jo),this}translate(e,n,r){return jo.makeTranslation(e,n,r),this.applyMatrix4(jo),this}scale(e,n,r){return jo.makeScale(e,n,r),this.applyMatrix4(jo),this}lookAt(e){return MO.lookAt(e),MO.updateMatrix(),this.applyMatrix4(MO.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Xp).negate(),this.translate(Xp.x,Xp.y,Xp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new Ct(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new le(-1/0,-1/0,-1/0),new le(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Ys.setFromBufferAttribute(s),this.morphTargetsRelative?(mi.addVectors(this.boundingBox.min,Ys.min),this.boundingBox.expandByPoint(mi),mi.addVectors(this.boundingBox.max,Ys.max),this.boundingBox.expandByPoint(mi)):(this.boundingBox.expandByPoint(Ys.min),this.boundingBox.expandByPoint(Ys.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ti);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new le,1/0);return}if(e){const r=this.boundingSphere.center;if(Ys.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];u0.setFromBufferAttribute(a),this.morphTargetsRelative?(mi.addVectors(Ys.min,u0.min),Ys.expandByPoint(mi),mi.addVectors(Ys.max,u0.max),Ys.expandByPoint(mi)):(Ys.expandByPoint(u0.min),Ys.expandByPoint(u0.max))}Ys.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)mi.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(mi));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)mi.fromBufferAttribute(a,c),l&&(Xp.fromBufferAttribute(e,c),mi.add(Xp)),i=Math.max(i,r.distanceToSquared(mi))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Wn(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let T=0;T<r.count;T++)a[T]=new le,l[T]=new le;const c=new le,f=new le,d=new le,h=new $e,g=new $e,v=new $e,x=new le,m=new le;function p(T,P,N){c.fromBufferAttribute(r,T),f.fromBufferAttribute(r,P),d.fromBufferAttribute(r,N),h.fromBufferAttribute(s,T),g.fromBufferAttribute(s,P),v.fromBufferAttribute(s,N),f.sub(c),d.sub(c),g.sub(h),v.sub(h);const k=1/(g.x*v.y-v.x*g.y);isFinite(k)&&(x.copy(f).multiplyScalar(v.y).addScaledVector(d,-g.y).multiplyScalar(k),m.copy(d).multiplyScalar(g.x).addScaledVector(f,-v.x).multiplyScalar(k),a[T].add(x),a[P].add(x),a[N].add(x),l[T].add(m),l[P].add(m),l[N].add(m))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let T=0,P=y.length;T<P;++T){const N=y[T],k=N.start,D=N.count;for(let j=k,F=k+D;j<F;j+=3)p(e.getX(j+0),e.getX(j+1),e.getX(j+2))}const _=new le,b=new le,S=new le,C=new le;function M(T){S.fromBufferAttribute(i,T),C.copy(S);const P=a[T];_.copy(P),_.sub(S.multiplyScalar(S.dot(P))).normalize(),b.crossVectors(C,P);const k=b.dot(l[T])<0?-1:1;o.setXYZW(T,_.x,_.y,_.z,k)}for(let T=0,P=y.length;T<P;++T){const N=y[T],k=N.start,D=N.count;for(let j=k,F=k+D;j<F;j+=3)M(e.getX(j+0)),M(e.getX(j+1)),M(e.getX(j+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Wn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,g=r.count;h<g;h++)r.setXYZ(h,0,0,0);const i=new le,s=new le,o=new le,a=new le,l=new le,c=new le,f=new le,d=new le;if(e)for(let h=0,g=e.count;h<g;h+=3){const v=e.getX(h+0),x=e.getX(h+1),m=e.getX(h+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,m),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,m),a.add(f),l.add(f),c.add(f),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,g=n.count;h<g;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),r.setXYZ(h+0,f.x,f.y,f.z),r.setXYZ(h+1,f.x,f.y,f.z),r.setXYZ(h+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)mi.fromBufferAttribute(e,n),mi.normalize(),e.setXYZ(n,mi.x,mi.y,mi.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,d=a.normalized,h=new c.constructor(l.length*f);let g=0,v=0;for(let x=0,m=l.length;x<m;x++){a.isInterleavedBufferAttribute?g=l[x]*a.data.stride+a.offset:g=l[x]*f;for(let p=0;p<f;p++)h[v++]=c[g++]}return new Wn(h,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new on,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let f=0,d=c.length;f<d;f++){const h=c[f],g=e(h,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let d=0,h=c.length;d<h;d++){const g=c[d];f.push(g.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(n))}const s=e.morphAttributes;for(const c in s){const f=[],d=s[c];for(let h=0,g=d.length;h<g;h++)f.push(d[h].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const g7=new Yt,cf=new np,dS=new Ti,v7=new le,fS=new le,hS=new le,pS=new le,AO=new le,mS=new le,y7=new le,gS=new le;class Kr extends Mn{constructor(e=new on,n=new Hd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){mS.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=a[l],d=s[l];f!==0&&(AO.fromBufferAttribute(d,e),o?mS.addScaledVector(AO,f):mS.addScaledVector(AO.sub(n),f))}n.add(mS)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),dS.copy(r.boundingSphere),dS.applyMatrix4(s),cf.copy(e.ray).recast(e.near),!(dS.containsPoint(cf.origin)===!1&&(cf.intersectSphere(dS,v7)===null||cf.origin.distanceToSquared(v7)>(e.far-e.near)**2))&&(g7.copy(s).invert(),cf.copy(e.ray).applyMatrix4(g7),!(r.boundingBox!==null&&cf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,cf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,h=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=h.length;v<x;v++){const m=h[v],p=o[m.materialIndex],y=Math.max(m.start,g.start),_=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));for(let b=y,S=_;b<S;b+=3){const C=a.getX(b),M=a.getX(b+1),T=a.getX(b+2);i=vS(this,p,e,r,c,f,d,C,M,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(a.count,g.start+g.count);for(let m=v,p=x;m<p;m+=3){const y=a.getX(m),_=a.getX(m+1),b=a.getX(m+2);i=vS(this,o,e,r,c,f,d,y,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=h.length;v<x;v++){const m=h[v],p=o[m.materialIndex],y=Math.max(m.start,g.start),_=Math.min(l.count,Math.min(m.start+m.count,g.start+g.count));for(let b=y,S=_;b<S;b+=3){const C=b,M=b+1,T=b+2;i=vS(this,p,e,r,c,f,d,C,M,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let m=v,p=x;m<p;m+=3){const y=m,_=m+1,b=m+2;i=vS(this,o,e,r,c,f,d,y,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}}}function Xlt(t,e,n,r,i,s,o,a){let l;if(e.side===Xi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Vc,a),l===null)return null;gS.copy(a),gS.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(gS);return c<n.near||c>n.far?null:{distance:c,point:gS.clone(),object:t}}function vS(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,fS),t.getVertexPosition(l,hS),t.getVertexPosition(c,pS);const f=Xlt(t,e,n,r,fS,hS,pS,y7);if(f){const d=new le;Ns.getBarycoord(y7,fS,hS,pS,d),i&&(f.uv=Ns.getInterpolatedAttribute(i,a,l,c,d,new $e)),s&&(f.uv1=Ns.getInterpolatedAttribute(s,a,l,c,d,new $e)),o&&(f.normal=Ns.getInterpolatedAttribute(o,a,l,c,d,new le),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new le,materialIndex:0};Ns.getNormal(fS,hS,pS,h.normal),f.face=h,f.barycoord=d}return f}class rp extends on{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],f=[],d=[];let h=0,g=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Ct(c,3)),this.setAttribute("normal",new Ct(f,3)),this.setAttribute("uv",new Ct(d,2));function v(x,m,p,y,_,b,S,C,M,T,P){const N=b/M,k=S/T,D=b/2,j=S/2,F=C/2,z=M+1,U=T+1;let H=0,R=0;const I=new le;for(let B=0;B<U;B++){const W=B*k-j;for(let G=0;G<z;G++){const X=G*N-D;I[x]=X*y,I[m]=W*_,I[p]=F,c.push(I.x,I.y,I.z),I[x]=0,I[m]=0,I[p]=C>0?1:-1,f.push(I.x,I.y,I.z),d.push(G/M),d.push(1-B/T),H+=1}}for(let B=0;B<T;B++)for(let W=0;W<M;W++){const G=h+W+z*B,X=h+W+z*(B+1),ne=h+(W+1)+z*(B+1),ae=h+(W+1)+z*B;l.push(G,X,ae),l.push(X,ne,ae),R+=6}a.addGroup(g,R,P),g+=R,h+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new rp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Sv(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function rs(t){const e={};for(let n=0;n<t.length;n++){const r=Sv(t[n]);for(const i in r)e[i]=r[i]}return e}function Klt(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Lde(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:_n.workingColorSpace}const r5={clone:Sv,merge:rs};var Ylt=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Zlt=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Jo extends Qi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Ylt,this.fragmentShader=Zlt,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sv(e.uniforms),this.uniformsGroups=Klt(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class iw extends Mn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yt,this.projectionMatrix=new Yt,this.projectionMatrixInverse=new Yt,this.coordinateSystem=lo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Tu=new le,x7=new $e,_7=new $e;class Sr extends iw{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=wv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(uh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wv*2*Math.atan(Math.tan(uh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){Tu.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(Tu.x,Tu.y).multiplyScalar(-e/Tu.z),Tu.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(Tu.x,Tu.y).multiplyScalar(-e/Tu.z)}getViewSize(e,n){return this.getViewBounds(e,x7,_7),n.subVectors(_7,x7)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(uh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Kp=-90,Yp=1;class Fde extends Mn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Sr(Kp,Yp,e,n);i.layers=this.layers,this.add(i);const s=new Sr(Kp,Yp,e,n);s.layers=this.layers,this.add(s);const o=new Sr(Kp,Yp,e,n);o.layers=this.layers,this.add(o);const a=new Sr(Kp,Yp,e,n);a.layers=this.layers,this.add(a);const l=new Sr(Kp,Yp,e,n);l.layers=this.layers,this.add(l);const c=new Sr(Kp,Yp,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===lo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===bv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,f]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(d,h,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class sw extends Dr{constructor(e=[],n=Wc,r,i,s,o,a,l,c,f){super(e,n,r,i,s,o,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Bde extends Fl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new sw(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new rp(5,5,5),s=new Jo({name:"CubemapFromEquirect",uniforms:Sv(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Xi,blending:Rc});s.uniforms.tEquirect.value=n;const o=new Kr(i,s),a=n.minFilter;return n.minFilter===_l&&(n.minFilter=ai),new Fde(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class jm extends Mn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Qlt={type:"move"};class AE{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new jm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new jm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new le,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new le),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new jm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new le,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new le),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const m=n.getJointPose(x,r),p=this._getHandJoint(c,x);m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=m.radius),p.visible=m!==null}const f=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=f.position.distanceTo(d.position),g=.02,v=.005;c.inputState.pinching&&h>g+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=g-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Qlt)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new jm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class WP{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new pt(e),this.density=n}clone(){return new WP(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class GP{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new pt(e),this.near=n,this.far=r}clone(){return new GP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let i5=class extends Mn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new yo,this.environmentIntensity=1,this.environmentRotation=new yo,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};class qP{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=H_,this.updateRanges=[],this.version=0,this.uuid=po()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=po()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=po()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ns=new le;class Uh{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ns.fromBufferAttribute(this,n),ns.applyMatrix4(e),this.setXYZ(n,ns.x,ns.y,ns.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ns.fromBufferAttribute(this,n),ns.applyNormalMatrix(e),this.setXYZ(n,ns.x,ns.y,ns.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ns.fromBufferAttribute(this,n),ns.transformDirection(e),this.setXYZ(n,ns.x,ns.y,ns.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ls(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=sn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=sn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ls(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ls(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ls(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ls(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=sn(n,this.array),r=sn(r,this.array),i=sn(i,this.array),s=sn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Wn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Uh(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class s5 extends Qi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Zp;const d0=new le,Qp=new le,Jp=new le,em=new $e,f0=new $e,zde=new Yt,yS=new le,h0=new le,xS=new le,b7=new $e,TO=new $e,w7=new $e;class Ude extends Mn{constructor(e=new s5){if(super(),this.isSprite=!0,this.type="Sprite",Zp===void 0){Zp=new on;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new qP(n,5);Zp.setIndex([0,1,2,0,2,3]),Zp.setAttribute("position",new Uh(r,3,0,!1)),Zp.setAttribute("uv",new Uh(r,2,3,!1))}this.geometry=Zp,this.material=e,this.center=new $e(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Qp.setFromMatrixScale(this.matrixWorld),zde.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Jp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Qp.multiplyScalar(-Jp.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;_S(yS.set(-.5,-.5,0),Jp,o,Qp,i,s),_S(h0.set(.5,-.5,0),Jp,o,Qp,i,s),_S(xS.set(.5,.5,0),Jp,o,Qp,i,s),b7.set(0,0),TO.set(1,0),w7.set(1,1);let a=e.ray.intersectTriangle(yS,h0,xS,!1,d0);if(a===null&&(_S(h0.set(-.5,.5,0),Jp,o,Qp,i,s),TO.set(0,1),a=e.ray.intersectTriangle(yS,xS,h0,!1,d0),a===null))return;const l=e.ray.origin.distanceTo(d0);l<e.near||l>e.far||n.push({distance:l,point:d0.clone(),uv:Ns.getInterpolation(d0,yS,h0,xS,b7,TO,w7,new $e),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _S(t,e,n,r,i,s){em.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(f0.x=s*em.x-i*em.y,f0.y=i*em.x+s*em.y):f0.copy(em),t.copy(e),t.x+=f0.x,t.y+=f0.y,t.applyMatrix4(zde)}const bS=new le,S7=new le;class $de extends Mn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){bS.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(bS);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){bS.setFromMatrixPosition(e.matrixWorld),S7.setFromMatrixPosition(this.matrixWorld);const r=bS.distanceTo(S7)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const E7=new le,C7=new En,M7=new En,Jlt=new le,A7=new Yt,wS=new le,PO=new Ti,T7=new Yt,NO=new np;class Hde extends Kr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Qj,this.bindMatrix=new Yt,this.bindMatrixInverse=new Yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Yi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,wS),this.boundingBox.expandByPoint(wS)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ti),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,wS),this.boundingSphere.expandByPoint(wS)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),PO.copy(this.boundingSphere),PO.applyMatrix4(i),e.ray.intersectsSphere(PO)!==!1&&(T7.copy(i).invert(),NO.copy(e.ray).applyMatrix4(T7),!(this.boundingBox!==null&&NO.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,NO)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new En,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Qj?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===yde?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;C7.fromBufferAttribute(i.attributes.skinIndex,e),M7.fromBufferAttribute(i.attributes.skinWeight,e),E7.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=M7.getComponent(s);if(o!==0){const a=C7.getComponent(s);A7.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Jlt.copy(E7).applyMatrix4(A7),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class o5 extends Mn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Rl extends Dr{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Ai,f=Ai,d,h){super(null,o,a,l,c,f,i,s,d,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const P7=new Yt,ect=new Yt;class XP{constructor(e=[],n=[]){this.uuid=po(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Yt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:ect;P7.multiplyMatrices(a,n[s]),P7.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new XP(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Rl(n,e,e,Gi,Is);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new o5),this.bones.push(o),this.boneInverses.push(new Yt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Ev extends Wn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const tm=new Yt,N7=new Yt,SS=[],R7=new Yi,tct=new Yt,p0=new Kr,m0=new Ti;class Vde extends Kr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Ev(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,tct)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Yi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,tm),R7.copy(e.boundingBox).applyMatrix4(tm),this.boundingBox.union(R7)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ti),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,tm),m0.copy(e.boundingSphere).applyMatrix4(tm),this.boundingSphere.union(m0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(p0.geometry=this.geometry,p0.material=this.material,p0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),m0.copy(this.boundingSphere),m0.applyMatrix4(r),e.ray.intersectsSphere(m0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,tm),N7.multiplyMatrices(r,tm),p0.matrixWorld=N7,p0.raycast(e,SS);for(let o=0,a=SS.length;o<a;o++){const l=SS[o];l.instanceId=s,l.object=this,n.push(l)}SS.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Ev(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Rl(new Float32Array(i*this.count),i,this.count,BP,Is));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const RO=new le,nct=new le,rct=new rn;class hl{constructor(e=new le(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=RO.subVectors(r,n).cross(nct.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(RO),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||rct.getNormalMatrix(e),i=this.coplanarPoint(RO).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const uf=new Ti,ict=new $e(.5,.5),ES=new le;class ay{constructor(e=new hl,n=new hl,r=new hl,i=new hl,s=new hl,o=new hl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=lo,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],c=s[3],f=s[4],d=s[5],h=s[6],g=s[7],v=s[8],x=s[9],m=s[10],p=s[11],y=s[12],_=s[13],b=s[14],S=s[15];if(i[0].setComponents(c-o,g-f,p-v,S-y).normalize(),i[1].setComponents(c+o,g+f,p+v,S+y).normalize(),i[2].setComponents(c+a,g+d,p+x,S+_).normalize(),i[3].setComponents(c-a,g-d,p-x,S-_).normalize(),r)i[4].setComponents(l,h,m,b).normalize(),i[5].setComponents(c-l,g-h,p-m,S-b).normalize();else if(i[4].setComponents(c-l,g-h,p-m,S-b).normalize(),n===lo)i[5].setComponents(c+l,g+h,p+m,S+b).normalize();else if(n===bv)i[5].setComponents(l,h,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),uf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),uf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(uf)}intersectsSprite(e){uf.center.set(0,0,0);const n=ict.distanceTo(e.center);return uf.radius=.7071067811865476+n,uf.applyMatrix4(e.matrixWorld),this.intersectsSphere(uf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(ES.x=i.normal.x>0?e.max.x:e.min.x,ES.y=i.normal.y>0?e.max.y:e.min.y,ES.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(ES)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const ol=new Yt,al=new ay;class KP{constructor(){this.coordinateSystem=lo}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(ol.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),al.setFromProjectionMatrix(ol,i.coordinateSystem,i.reversedDepth),al.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(ol.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),al.setFromProjectionMatrix(ol,i.coordinateSystem,i.reversedDepth),al.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(ol.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),al.setFromProjectionMatrix(ol,i.coordinateSystem,i.reversedDepth),al.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(ol.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),al.setFromProjectionMatrix(ol,i.coordinateSystem,i.reversedDepth),al.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(ol.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),al.setFromProjectionMatrix(ol,i.coordinateSystem,i.reversedDepth),al.containsPoint(e))return!0}return!1}clone(){return new KP}}function OO(t,e){return t-e}function sct(t,e){return t.z-e.z}function oct(t,e){return e.z-t.z}class act{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const bs=new Yt,lct=new pt(1,1,1),O7=new ay,cct=new KP,CS=new Yi,df=new Ti,g0=new le,k7=new le,uct=new le,kO=new act,Ui=new Kr,MS=[];function dct(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function ff(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class Wde extends Kr{constructor(e,n,r=n*2,i){super(new on,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Rl(n,e,e,Gi,Is);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Rl(n,e,e,rw,Gc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Rl(n,e,e,Gi,Is);r.colorSpace=_n.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,f=new a.constructor(r*l),d=new Wn(f,l,c);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Wn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yi);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,bs),this.getBoundingBoxAt(s,CS).applyMatrix4(bs),e.union(CS)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ti);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,bs),this.getBoundingSphereAt(s,df).applyMatrix4(bs),e.union(df)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(OO),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;bs.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(lct.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(OO),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const f in r.attributes){const d=n.getAttribute(f),h=r.getAttribute(f);dct(d,h,l);const g=d.itemSize;for(let v=d.count,x=c;v<x;v++){const m=l+v;for(let p=0;p<g;p++)h.setComponent(m,p,0)}h.needsUpdate=!0,h.addUpdateRange(l*g,c*g)}if(i){const f=a.indexStart,d=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let h=0;h<o.count;h++)s.setX(f+h,l+o.getX(h));for(let h=o.count,g=d;h<g;h++)s.setX(f+h,l);s.needsUpdate=!0,s.addUpdateRange(f,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:f,vertexStart:d,reservedIndexCount:h}=c,g=s.index,v=g.array,x=e-d;for(let m=f;m<f+h;m++)v[m]=v[m]+x;g.array.copyWithin(n,f,f+h),g.addUpdateRange(n,h),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:f,reservedVertexCount:d}=c,h=s.attributes;for(const g in h){const v=h[g],{array:x,itemSize:m}=v;x.copyWithin(e*m,f*m,(f+d)*m),v.addUpdateRange(e*m,d*m)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Yi,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let f=l;o&&(f=o.getX(f)),s.expandByPoint(g0.fromBufferAttribute(a,f))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Ti;this.getBoundingBoxAt(e,CS),CS.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,f=i.start+i.count;c<f;c++){let d=c;o&&(d=o.getX(d)),g0.fromBufferAttribute(a,d),l=Math.max(l,s.center.distanceToSquared(g0))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(OO);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);ff(this._multiDrawCounts,i),ff(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),ff(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),ff(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),ff(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new on,this._initializeGeometry(s));const o=this.geometry;s.index&&ff(s.index.array,o.index.array);for(const a in s.attributes)ff(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Ui.material=this.material,Ui.geometry.index=o.index,Ui.geometry.attributes=o.attributes,Ui.geometry.boundingBox===null&&(Ui.geometry.boundingBox=new Yi),Ui.geometry.boundingSphere===null&&(Ui.geometry.boundingSphere=new Ti);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,f=i[c];Ui.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(a,Ui.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Ui.geometry.boundingBox),this.getBoundingSphereAt(c,Ui.geometry.boundingSphere),Ui.raycast(e,MS);for(let d=0,h=MS.length;d<h;d++){const g=MS[d];g.object=this,g.batchId=a,n.push(g)}MS.length=0}Ui.material=null,Ui.geometry.index=null,Ui.geometry.attributes={},Ui.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,f=this._multiDrawCounts,d=this._geometryInfo,h=this.perObjectFrustumCulled,g=this._indirectTexture,v=g.image.data,x=r.isArrayCamera?cct:O7;h&&!r.isArrayCamera&&(bs.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),O7.setFromProjectionMatrix(bs,r.coordinateSystem,r.reversedDepth));let m=0;if(this.sortObjects){bs.copy(this.matrixWorld).invert(),g0.setFromMatrixPosition(r.matrixWorld).applyMatrix4(bs),k7.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(bs);for(let _=0,b=l.length;_<b;_++)if(l[_].visible&&l[_].active){const S=l[_].geometryIndex;this.getMatrixAt(_,bs),this.getBoundingSphereAt(S,df).applyMatrix4(bs);let C=!1;if(h&&(C=!x.intersectsSphere(df,r)),!C){const M=d[S],T=uct.subVectors(df.center,g0).dot(k7);kO.push(M.start,M.count,T,_)}}const p=kO.list,y=this.customSort;y===null?p.sort(s.transparent?oct:sct):y.call(this,p,r);for(let _=0,b=p.length;_<b;_++){const S=p[_];c[m]=S.start*a,f[m]=S.count,v[m]=S.index,m++}kO.reset()}else for(let p=0,y=l.length;p<y;p++)if(l[p].visible&&l[p].active){const _=l[p].geometryIndex;let b=!1;if(h&&(this.getMatrixAt(p,bs),this.getBoundingSphereAt(_,df).applyMatrix4(bs),b=!x.intersectsSphere(df,r)),!b){const S=d[_];c[m]=S.start*a,f[m]=S.count,v[m]=p,m++}}g.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class ms extends Qi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new pt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const bA=new le,wA=new le,I7=new Yt,v0=new np,AS=new Ti,IO=new le,D7=new le;class Ed extends Mn{constructor(e=new on,n=new ms){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)bA.fromBufferAttribute(n,i-1),wA.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=bA.distanceTo(wA);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),AS.copy(r.boundingSphere),AS.applyMatrix4(i),AS.radius+=s,e.ray.intersectsSphere(AS)===!1)return;I7.copy(i).invert(),v0.copy(e.ray).applyMatrix4(I7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,f=r.index,h=r.attributes.position;if(f!==null){const g=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let x=g,m=v-1;x<m;x+=c){const p=f.getX(x),y=f.getX(x+1),_=TS(this,e,v0,l,p,y,x);_&&n.push(_)}if(this.isLineLoop){const x=f.getX(v-1),m=f.getX(g),p=TS(this,e,v0,l,x,m,v-1);p&&n.push(p)}}else{const g=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let x=g,m=v-1;x<m;x+=c){const p=TS(this,e,v0,l,x,x+1,x);p&&n.push(p)}if(this.isLineLoop){const x=TS(this,e,v0,l,v-1,g,v-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function TS(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(bA.fromBufferAttribute(a,i),wA.fromBufferAttribute(a,s),n.distanceSqToSegment(bA,wA,IO,D7)>r)return;IO.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(IO);if(!(c<e.near||c>e.far))return{distance:c,point:D7.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const j7=new le,L7=new le;class Kl extends Ed{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)j7.fromBufferAttribute(n,i),L7.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+j7.distanceTo(L7);e.setAttribute("lineDistance",new Ct(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class Gde extends Ed{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class a5 extends Qi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new pt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const F7=new Yt,tL=new np,PS=new Ti,NS=new le;class qde extends Mn{constructor(e=new on,n=new a5){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),PS.copy(r.boundingSphere),PS.applyMatrix4(i),PS.radius+=s,e.ray.intersectsSphere(PS)===!1)return;F7.copy(i).invert(),tL.copy(e.ray).applyMatrix4(F7);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let v=h,x=g;v<x;v++){const m=c.getX(v);NS.fromBufferAttribute(d,m),B7(NS,m,l,i,e,n,this)}}else{const h=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let v=h,x=g;v<x;v++)NS.fromBufferAttribute(d,v),B7(NS,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function B7(t,e,n,r,i,s,o){const a=tL.distanceSqToPoint(t);if(a<n){const l=new le;tL.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class Xde extends Dr{constructor(e,n,r,i,s=ai,o=ai,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const f=this;function d(){f.needsUpdate=!0,f._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class fct extends Xde{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class hct extends Dr{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ai,this.minFilter=Ai,this.generateMipmaps=!1,this.needsUpdate=!0}}class YP extends Dr{constructor(e,n,r,i,s,o,a,l,c,f,d,h){super(null,o,a,l,c,f,i,s,d,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class pct extends YP{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Go,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class mct extends YP{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Wc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class gct extends Dr{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class l5 extends Dr{constructor(e,n,r=Gc,i,s,o,a=Ai,l=Ai,c,f=xv,d=1){if(f!==xv&&f!==_v)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:d};super(h,i,s,o,a,l,f,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new nd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class c5 extends Dr{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class ZP extends on{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],c=[],f=n/2,d=Math.PI/2*e,h=n,g=2*d+h,v=r*2+s,x=i+1,m=new le,p=new le;for(let y=0;y<=v;y++){let _=0,b=0,S=0,C=0;if(y<=r){const P=y/r,N=P*Math.PI/2;b=-f-e*Math.cos(N),S=e*Math.sin(N),C=-e*Math.cos(N),_=P*d}else if(y<=r+s){const P=(y-r)/s;b=-f+P*n,S=e,C=0,_=d+P*h}else{const P=(y-r-s)/r,N=P*Math.PI/2;b=f+e*Math.sin(N),S=e*Math.cos(N),C=e*Math.sin(N),_=d+h+P*d}const M=Math.max(0,Math.min(1,_/g));let T=0;y===0?T=.5/i:y===v&&(T=-.5/i);for(let P=0;P<=i;P++){const N=P/i,k=N*Math.PI*2,D=Math.sin(k),j=Math.cos(k);p.x=-S*j,p.y=b,p.z=S*D,a.push(p.x,p.y,p.z),m.set(-S*j,C,S*D),m.normalize(),l.push(m.x,m.y,m.z),c.push(N+T,M)}if(y>0){const P=(y-1)*x;for(let N=0;N<i;N++){const k=P+N,D=P+N+1,j=y*x+N,F=y*x+N+1;o.push(k,D,j),o.push(D,F,j)}}}this.setIndex(o),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZP(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class QP extends on{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new le,f=new $e;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=n;d++,h+=3){const g=r+d/n*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[h]/e+1)/2,f.y=(o[h+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Ct(o,3)),this.setAttribute("normal",new Ct(a,3)),this.setAttribute("uv",new Ct(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QP(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class ow extends on{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],h=[],g=[];let v=0;const x=[],m=r/2;let p=0;y(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(f),this.setAttribute("position",new Ct(d,3)),this.setAttribute("normal",new Ct(h,3)),this.setAttribute("uv",new Ct(g,2));function y(){const b=new le,S=new le;let C=0;const M=(n-e)/r;for(let T=0;T<=s;T++){const P=[],N=T/s,k=N*(n-e)+e;for(let D=0;D<=i;D++){const j=D/i,F=j*l+a,z=Math.sin(F),U=Math.cos(F);S.x=k*z,S.y=-N*r+m,S.z=k*U,d.push(S.x,S.y,S.z),b.set(z,M,U).normalize(),h.push(b.x,b.y,b.z),g.push(j,1-N),P.push(v++)}x.push(P)}for(let T=0;T<i;T++)for(let P=0;P<s;P++){const N=x[P][T],k=x[P+1][T],D=x[P+1][T+1],j=x[P][T+1];(e>0||P!==0)&&(f.push(N,k,j),C+=3),(n>0||P!==s-1)&&(f.push(k,D,j),C+=3)}c.addGroup(p,C,0),p+=C}function _(b){const S=v,C=new $e,M=new le;let T=0;const P=b===!0?e:n,N=b===!0?1:-1;for(let D=1;D<=i;D++)d.push(0,m*N,0),h.push(0,N,0),g.push(.5,.5),v++;const k=v;for(let D=0;D<=i;D++){const F=D/i*l+a,z=Math.cos(F),U=Math.sin(F);M.x=P*U,M.y=m*N,M.z=P*z,d.push(M.x,M.y,M.z),h.push(0,N,0),C.x=z*.5+.5,C.y=U*.5*N+.5,g.push(C.x,C.y),v++}for(let D=0;D<i;D++){const j=S+D,F=k+D;b===!0?f.push(F,F+1,j):f.push(F+1,F,j),T+=3}c.addGroup(p,T,b===!0?1:2),p+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ow(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class aw extends ow{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new aw(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vd extends on{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),f(),this.setAttribute("position",new Ct(s,3)),this.setAttribute("normal",new Ct(s.slice(),3)),this.setAttribute("uv",new Ct(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const _=new le,b=new le,S=new le;for(let C=0;C<n.length;C+=3)g(n[C+0],_),g(n[C+1],b),g(n[C+2],S),l(_,b,S,y)}function l(y,_,b,S){const C=S+1,M=[];for(let T=0;T<=C;T++){M[T]=[];const P=y.clone().lerp(b,T/C),N=_.clone().lerp(b,T/C),k=C-T;for(let D=0;D<=k;D++)D===0&&T===C?M[T][D]=P:M[T][D]=P.clone().lerp(N,D/k)}for(let T=0;T<C;T++)for(let P=0;P<2*(C-T)-1;P++){const N=Math.floor(P/2);P%2===0?(h(M[T][N+1]),h(M[T+1][N]),h(M[T][N])):(h(M[T][N+1]),h(M[T+1][N+1]),h(M[T+1][N]))}}function c(y){const _=new le;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(y),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function f(){const y=new le;for(let _=0;_<s.length;_+=3){y.x=s[_+0],y.y=s[_+1],y.z=s[_+2];const b=m(y)/2/Math.PI+.5,S=p(y)/Math.PI+.5;o.push(b,1-S)}v(),d()}function d(){for(let y=0;y<o.length;y+=6){const _=o[y+0],b=o[y+2],S=o[y+4],C=Math.max(_,b,S),M=Math.min(_,b,S);C>.9&&M<.1&&(_<.2&&(o[y+0]+=1),b<.2&&(o[y+2]+=1),S<.2&&(o[y+4]+=1))}}function h(y){s.push(y.x,y.y,y.z)}function g(y,_){const b=y*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function v(){const y=new le,_=new le,b=new le,S=new le,C=new $e,M=new $e,T=new $e;for(let P=0,N=0;P<s.length;P+=9,N+=6){y.set(s[P+0],s[P+1],s[P+2]),_.set(s[P+3],s[P+4],s[P+5]),b.set(s[P+6],s[P+7],s[P+8]),C.set(o[N+0],o[N+1]),M.set(o[N+2],o[N+3]),T.set(o[N+4],o[N+5]),S.copy(y).add(_).add(b).divideScalar(3);const k=m(S);x(C,N+0,y,k),x(M,N+2,_,k),x(T,N+4,b,k)}}function x(y,_,b,S){S<0&&y.x===1&&(o[_]=y.x-1),b.x===0&&b.z===0&&(o[_]=S/2/Math.PI+.5)}function m(y){return Math.atan2(y.z,-y.x)}function p(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vd(e.vertices,e.indices,e.radius,e.details)}}class JP extends Vd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new JP(e.radius,e.detail)}}const RS=new le,OS=new le,DO=new le,kS=new Ns;class Kde extends on{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(uh*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],f=["a","b","c"],d=new Array(3),h={},g=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:m,c:p}=kS;if(x.fromBufferAttribute(a,c[0]),m.fromBufferAttribute(a,c[1]),p.fromBufferAttribute(a,c[2]),kS.getNormal(DO),d[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[1]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,d[2]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const _=(y+1)%3,b=d[y],S=d[_],C=kS[f[y]],M=kS[f[_]],T=`${b}_${S}`,P=`${S}_${b}`;P in h&&h[P]?(DO.dot(h[P].normal)<=s&&(g.push(C.x,C.y,C.z),g.push(M.x,M.y,M.z)),h[P]=null):T in h||(h[T]={index0:c[y],index1:c[_],normal:DO.clone()})}}for(const v in h)if(h[v]){const{index0:x,index1:m}=h[v];RS.fromBufferAttribute(a,x),OS.fromBufferAttribute(a,m),g.push(RS.x,RS.y,RS.z),g.push(OS.x,OS.y,OS.z)}this.setAttribute("position",new Ct(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Za{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],h=r[i+1]-f,g=(o-f)/h;return(i+g)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new $e:new le);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new le,i=[],s=[],o=[],a=new le,l=new Yt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new le)}s[0]=new le,o[0]=new le;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Xt(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,v))}o[g].crossVectors(i[g],s[g])}if(n===!0){let g=Math.acos(Xt(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class e2 extends Za{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new $e){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,g=c-this.aY;l=h*f-g*d+this.aX,c=h*d+g*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Yde extends e2{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function u5(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,f,d){let h=(o-s)/c-(a-s)/(c+f)+(a-o)/f,g=(a-o)/f-(l-o)/(f+d)+(l-a)/d;h*=f,g*=f,i(o,a,h,g)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const IS=new le,jO=new u5,LO=new u5,FO=new u5;class Zde extends Za{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new le){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,f;this.closed||a>0?c=i[(a-1)%s]:(IS.subVectors(i[0],i[1]).add(i[0]),c=IS);const d=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(IS.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=IS),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),g),x=Math.pow(d.distanceToSquared(h),g),m=Math.pow(h.distanceToSquared(f),g);x<1e-4&&(x=1),v<1e-4&&(v=x),m<1e-4&&(m=x),jO.initNonuniformCatmullRom(c.x,d.x,h.x,f.x,v,x,m),LO.initNonuniformCatmullRom(c.y,d.y,h.y,f.y,v,x,m),FO.initNonuniformCatmullRom(c.z,d.z,h.z,f.z,v,x,m)}else this.curveType==="catmullrom"&&(jO.initCatmullRom(c.x,d.x,h.x,f.x,this.tension),LO.initCatmullRom(c.y,d.y,h.y,f.y,this.tension),FO.initCatmullRom(c.z,d.z,h.z,f.z,this.tension));return r.set(jO.calc(l),LO.calc(l),FO.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new le().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function z7(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function vct(t,e){const n=1-t;return n*n*e}function yct(t,e){return 2*(1-t)*t*e}function xct(t,e){return t*t*e}function fx(t,e,n,r){return vct(t,e)+yct(t,n)+xct(t,r)}function _ct(t,e){const n=1-t;return n*n*n*e}function bct(t,e){const n=1-t;return 3*n*n*t*e}function wct(t,e){return 3*(1-t)*t*t*e}function Sct(t,e){return t*t*t*e}function hx(t,e,n,r,i){return _ct(t,e)+bct(t,n)+wct(t,r)+Sct(t,i)}class d5 extends Za{constructor(e=new $e,n=new $e,r=new $e,i=new $e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new $e){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(hx(e,i.x,s.x,o.x,a.x),hx(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Qde extends Za{constructor(e=new le,n=new le,r=new le,i=new le){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(hx(e,i.x,s.x,o.x,a.x),hx(e,i.y,s.y,o.y,a.y),hx(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class f5 extends Za{constructor(e=new $e,n=new $e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new $e){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new $e){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Jde extends Za{constructor(e=new le,n=new le){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new le){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new le){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class h5 extends Za{constructor(e=new $e,n=new $e,r=new $e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new $e){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(fx(e,i.x,s.x,o.x),fx(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p5 extends Za{constructor(e=new le,n=new le,r=new le){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new le){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(fx(e,i.x,s.x,o.x),fx(e,i.y,s.y,o.y),fx(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m5 extends Za{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new $e){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],f=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(z7(a,l.x,c.x,f.x,d.x),z7(a,l.y,c.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new $e().fromArray(i))}return this}}var SA=Object.freeze({__proto__:null,ArcCurve:Yde,CatmullRomCurve3:Zde,CubicBezierCurve:d5,CubicBezierCurve3:Qde,EllipseCurve:e2,LineCurve:f5,LineCurve3:Jde,QuadraticBezierCurve:h5,QuadraticBezierCurve3:p5,SplineCurve:m5});class efe extends Za{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new SA[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new SA[i.type]().fromJSON(i))}return this}}class EA extends efe{constructor(e){super(),this.type="Path",this.currentPoint=new $e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new f5(this.currentPoint.clone(),new $e(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new h5(this.currentPoint.clone(),new $e(e,n),new $e(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new d5(this.currentPoint.clone(),new $e(e,n),new $e(r,i),new $e(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new m5(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new e2(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class fh extends EA{constructor(e){super(e),this.uuid=po(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new EA().fromJSON(i))}return this}}function Ect(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=tfe(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(r&&(s=Pct(t,e,s,n)),t.length>80*n){a=1/0,l=1/0;let f=-1/0,d=-1/0;for(let h=n;h<i;h+=n){const g=t[h],v=t[h+1];g<a&&(a=g),v<l&&(l=v),g>f&&(f=g),v>d&&(d=v)}c=Math.max(f-a,d-l),c=c!==0?32767/c:0}return G_(s,o,n,a,l,c,0),o}function tfe(t,e,n,r,i){let s;if(i===zct(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=U7(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=U7(o/r|0,t[o],t[o+1],s);return s&&Cv(s,s.next)&&(X_(s),s=s.next),s}function $h(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Cv(n,n.next)||Cr(n.prev,n,n.next)===0)){if(X_(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function G_(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Ict(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?Mct(t,r,i,s):Cct(t)){e.push(l.i,t.i,c.i),X_(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=Act($h(t),e),G_(t,e,n,r,i,s,2)):o===2&&Tct(t,e,n,r,i,s):G_($h(t),e,n,r,i,s,1);break}}}function Cct(t){const e=t.prev,n=t,r=t.next;if(Cr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,f=Math.min(i,s,o),d=Math.min(a,l,c),h=Math.max(i,s,o),g=Math.max(a,l,c);let v=r.next;for(;v!==e;){if(v.x>=f&&v.x<=h&&v.y>=d&&v.y<=g&&j0(i,a,s,l,o,c,v.x,v.y)&&Cr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Mct(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Cr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,f=i.y,d=s.y,h=o.y,g=Math.min(a,l,c),v=Math.min(f,d,h),x=Math.max(a,l,c),m=Math.max(f,d,h),p=nL(g,v,e,n,r),y=nL(x,m,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=p&&b&&b.z<=y;){if(_.x>=g&&_.x<=x&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&j0(a,f,l,d,c,h,_.x,_.y)&&Cr(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=g&&b.x<=x&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&j0(a,f,l,d,c,h,b.x,b.y)&&Cr(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=p;){if(_.x>=g&&_.x<=x&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&j0(a,f,l,d,c,h,_.x,_.y)&&Cr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=g&&b.x<=x&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&j0(a,f,l,d,c,h,b.x,b.y)&&Cr(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Act(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Cv(r,i)&&rfe(r,n,n.next,i)&&q_(r,i)&&q_(i,r)&&(e.push(r.i,n.i,i.i),X_(n),X_(n.next),n=t=i),n=n.next}while(n!==t);return $h(n)}function Tct(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Lct(o,a)){let l=ife(o,a);o=$h(o,o.next),l=$h(l,l.next),G_(o,e,n,r,i,s,0),G_(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Pct(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=tfe(t,a,l,r,!1);c===c.next&&(c.steiner=!0),i.push(jct(c))}i.sort(Nct);for(let s=0;s<i.length;s++)n=Rct(i[s],n);return n}function Nct(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function Rct(t,e){const n=Oct(t,e);if(!n)return e;const r=ife(n,t);return $h(r,r.next),$h(n,n.next)}function Oct(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(Cv(t,n))return n;do{if(Cv(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>s&&(s=d,o=n.x<n.next.x?n:n.next,d===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&nfe(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);q_(n,t)&&(d<f||d===f&&(n.x>o.x||n.x===o.x&&kct(o,n)))&&(o=n,f=d)}n=n.next}while(n!==a);return o}function kct(t,e){return Cr(t.prev,t,e.prev)<0&&Cr(e.next,t,t.next)<0}function Ict(t,e,n,r){let i=t;do i.z===0&&(i.z=nL(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Dct(i)}function Dct(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let c=0;c<n&&(a++,o=o.nextZ,!!o);c++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function nL(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function jct(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function nfe(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function j0(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&nfe(t,e,n,r,i,s,o,a)}function Lct(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Fct(t,e)&&(q_(t,e)&&q_(e,t)&&Bct(t,e)&&(Cr(t.prev,t,e.prev)||Cr(t,e.prev,e))||Cv(t,e)&&Cr(t.prev,t,t.next)>0&&Cr(e.prev,e,e.next)>0)}function Cr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Cv(t,e){return t.x===e.x&&t.y===e.y}function rfe(t,e,n,r){const i=jS(Cr(t,e,n)),s=jS(Cr(t,e,r)),o=jS(Cr(n,r,t)),a=jS(Cr(n,r,e));return!!(i!==s&&o!==a||i===0&&DS(t,n,e)||s===0&&DS(t,r,e)||o===0&&DS(n,t,r)||a===0&&DS(n,e,r))}function DS(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function jS(t){return t>0?1:t<0?-1:0}function Fct(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&rfe(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function q_(t,e){return Cr(t.prev,t,t.next)<0?Cr(t,e,t.next)>=0&&Cr(t,t.prev,e)>=0:Cr(t,e,t.prev)<0||Cr(t,t.next,e)<0}function Bct(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ife(t,e){const n=rL(t.i,t.x,t.y),r=rL(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function U7(t,e,n,r){const i=rL(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function X_(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rL(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function zct(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Uct{static triangulate(e,n,r=2){return Ect(e,n,r)}}class Oa{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Oa.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];$7(e),H7(r,e);let o=e.length;n.forEach($7);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,H7(r,n[l]);const a=Uct.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function $7(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function H7(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class t2 extends on{constructor(e=new fh([new $e(.5,.5),new $e(-.5,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new Ct(i,3)),this.setAttribute("uv",new Ct(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:g-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,m=n.bevelSegments!==void 0?n.bevelSegments:3;const p=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:$ct;let _,b=!1,S,C,M,T;p&&(_=p.getSpacedPoints(f),b=!0,h=!1,S=p.computeFrenetFrames(f,!1),C=new le,M=new le,T=new le),h||(m=0,g=0,v=0,x=0);const P=a.extractPoints(c);let N=P.shape;const k=P.holes;if(!Oa.isClockWise(N)){N=N.reverse();for(let re=0,fe=k.length;re<fe;re++){const me=k[re];Oa.isClockWise(me)&&(k[re]=me.reverse())}}function j(re){const me=10000000000000001e-36;let pe=re[0];for(let Ae=1;Ae<=re.length;Ae++){const Ce=Ae%re.length,De=re[Ce],ot=De.x-pe.x,nt=De.y-pe.y,ie=ot*ot+nt*nt,Z=Math.max(Math.abs(De.x),Math.abs(De.y),Math.abs(pe.x),Math.abs(pe.y)),ve=me*Z*Z;if(ie<=ve){re.splice(Ce,1),Ae--;continue}pe=De}}j(N),k.forEach(j);const F=k.length,z=N;for(let re=0;re<F;re++){const fe=k[re];N=N.concat(fe)}function U(re,fe,me){return fe||console.error("THREE.ExtrudeGeometry: vec does not exist"),re.clone().addScaledVector(fe,me)}const H=N.length;function R(re,fe,me){let pe,Ae,Ce;const De=re.x-fe.x,ot=re.y-fe.y,nt=me.x-re.x,ie=me.y-re.y,Z=De*De+ot*ot,ve=De*ie-ot*nt;if(Math.abs(ve)>Number.EPSILON){const Se=Math.sqrt(Z),Ie=Math.sqrt(nt*nt+ie*ie),Me=fe.x-ot/Se,ct=fe.y+De/Se,Ve=me.x-ie/Ie,lt=me.y+nt/Ie,qe=((Ve-Me)*ie-(lt-ct)*nt)/(De*ie-ot*nt);pe=Me+De*qe-re.x,Ae=ct+ot*qe-re.y;const He=pe*pe+Ae*Ae;if(He<=2)return new $e(pe,Ae);Ce=Math.sqrt(He/2)}else{let Se=!1;De>Number.EPSILON?nt>Number.EPSILON&&(Se=!0):De<-Number.EPSILON?nt<-Number.EPSILON&&(Se=!0):Math.sign(ot)===Math.sign(ie)&&(Se=!0),Se?(pe=-ot,Ae=De,Ce=Math.sqrt(Z)):(pe=De,Ae=ot,Ce=Math.sqrt(Z/2))}return new $e(pe/Ce,Ae/Ce)}const I=[];for(let re=0,fe=z.length,me=fe-1,pe=re+1;re<fe;re++,me++,pe++)me===fe&&(me=0),pe===fe&&(pe=0),I[re]=R(z[re],z[me],z[pe]);const B=[];let W,G=I.concat();for(let re=0,fe=F;re<fe;re++){const me=k[re];W=[];for(let pe=0,Ae=me.length,Ce=Ae-1,De=pe+1;pe<Ae;pe++,Ce++,De++)Ce===Ae&&(Ce=0),De===Ae&&(De=0),W[pe]=R(me[pe],me[Ce],me[De]);B.push(W),G=G.concat(W)}let X;if(m===0)X=Oa.triangulateShape(z,k);else{const re=[],fe=[];for(let me=0;me<m;me++){const pe=me/m,Ae=g*Math.cos(pe*Math.PI/2),Ce=v*Math.sin(pe*Math.PI/2)+x;for(let De=0,ot=z.length;De<ot;De++){const nt=U(z[De],I[De],Ce);Q(nt.x,nt.y,-Ae),pe===0&&re.push(nt)}for(let De=0,ot=F;De<ot;De++){const nt=k[De];W=B[De];const ie=[];for(let Z=0,ve=nt.length;Z<ve;Z++){const Se=U(nt[Z],W[Z],Ce);Q(Se.x,Se.y,-Ae),pe===0&&ie.push(Se)}pe===0&&fe.push(ie)}}X=Oa.triangulateShape(re,fe)}const ne=X.length,ae=v+x;for(let re=0;re<H;re++){const fe=h?U(N[re],G[re],ae):N[re];b?(M.copy(S.normals[0]).multiplyScalar(fe.x),C.copy(S.binormals[0]).multiplyScalar(fe.y),T.copy(_[0]).add(M).add(C),Q(T.x,T.y,T.z)):Q(fe.x,fe.y,0)}for(let re=1;re<=f;re++)for(let fe=0;fe<H;fe++){const me=h?U(N[fe],G[fe],ae):N[fe];b?(M.copy(S.normals[re]).multiplyScalar(me.x),C.copy(S.binormals[re]).multiplyScalar(me.y),T.copy(_[re]).add(M).add(C),Q(T.x,T.y,T.z)):Q(me.x,me.y,d/f*re)}for(let re=m-1;re>=0;re--){const fe=re/m,me=g*Math.cos(fe*Math.PI/2),pe=v*Math.sin(fe*Math.PI/2)+x;for(let Ae=0,Ce=z.length;Ae<Ce;Ae++){const De=U(z[Ae],I[Ae],pe);Q(De.x,De.y,d+me)}for(let Ae=0,Ce=k.length;Ae<Ce;Ae++){const De=k[Ae];W=B[Ae];for(let ot=0,nt=De.length;ot<nt;ot++){const ie=U(De[ot],W[ot],pe);b?Q(ie.x,ie.y+_[f-1].y,_[f-1].x+me):Q(ie.x,ie.y,d+me)}}}se(),$();function se(){const re=i.length/3;if(h){let fe=0,me=H*fe;for(let pe=0;pe<ne;pe++){const Ae=X[pe];ee(Ae[2]+me,Ae[1]+me,Ae[0]+me)}fe=f+m*2,me=H*fe;for(let pe=0;pe<ne;pe++){const Ae=X[pe];ee(Ae[0]+me,Ae[1]+me,Ae[2]+me)}}else{for(let fe=0;fe<ne;fe++){const me=X[fe];ee(me[2],me[1],me[0])}for(let fe=0;fe<ne;fe++){const me=X[fe];ee(me[0]+H*f,me[1]+H*f,me[2]+H*f)}}r.addGroup(re,i.length/3-re,0)}function $(){const re=i.length/3;let fe=0;Y(z,fe),fe+=z.length;for(let me=0,pe=k.length;me<pe;me++){const Ae=k[me];Y(Ae,fe),fe+=Ae.length}r.addGroup(re,i.length/3-re,1)}function Y(re,fe){let me=re.length;for(;--me>=0;){const pe=me;let Ae=me-1;Ae<0&&(Ae=re.length-1);for(let Ce=0,De=f+m*2;Ce<De;Ce++){const ot=H*Ce,nt=H*(Ce+1),ie=fe+pe+ot,Z=fe+Ae+ot,ve=fe+Ae+nt,Se=fe+pe+nt;ue(ie,Z,ve,Se)}}}function Q(re,fe,me){l.push(re),l.push(fe),l.push(me)}function ee(re,fe,me){J(re),J(fe),J(me);const pe=i.length/3,Ae=y.generateTopUV(r,i,pe-3,pe-2,pe-1);K(Ae[0]),K(Ae[1]),K(Ae[2])}function ue(re,fe,me,pe){J(re),J(fe),J(pe),J(fe),J(me),J(pe);const Ae=i.length/3,Ce=y.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);K(Ce[0]),K(Ce[1]),K(Ce[3]),K(Ce[1]),K(Ce[2]),K(Ce[3])}function J(re){i.push(l[re*3+0]),i.push(l[re*3+1]),i.push(l[re*3+2])}function K(re){s.push(re.x),s.push(re.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Hct(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new SA[i.type]().fromJSON(i)),new t2(r,e.options)}}const $ct={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new $e(s,o),new $e(a,l),new $e(c,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],f=e[r*3+1],d=e[r*3+2],h=e[i*3],g=e[i*3+1],v=e[i*3+2],x=e[s*3],m=e[s*3+1],p=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new $e(o,1-l),new $e(c,1-d),new $e(h,1-v),new $e(x,1-p)]:[new $e(a,1-l),new $e(f,1-d),new $e(g,1-v),new $e(m,1-p)]}};function Hct(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class n2 extends Vd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new n2(e.radius,e.detail)}}class r2 extends on{constructor(e=[new $e(0,-.5),new $e(.5,0),new $e(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Xt(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],f=1/n,d=new le,h=new $e,g=new le,v=new le,x=new le;let m=0,p=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:m=e[y+1].x-e[y].x,p=e[y+1].y-e[y].y,g.x=p*1,g.y=-m,g.z=p*0,x.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:m=e[y+1].x-e[y].x,p=e[y+1].y-e[y].y,g.x=p*1,g.y=-m,g.z=p*0,v.copy(g),g.x+=x.x,g.y+=x.y,g.z+=x.z,g.normalize(),l.push(g.x,g.y,g.z),x.copy(v)}for(let y=0;y<=n;y++){const _=r+y*f*i,b=Math.sin(_),S=Math.cos(_);for(let C=0;C<=e.length-1;C++){d.x=e[C].x*b,d.y=e[C].y,d.z=e[C].x*S,o.push(d.x,d.y,d.z),h.x=y/n,h.y=C/(e.length-1),a.push(h.x,h.y);const M=l[3*C+0]*b,T=l[3*C+1],P=l[3*C+0]*S;c.push(M,T,P)}}for(let y=0;y<n;y++)for(let _=0;_<e.length-1;_++){const b=_+y*e.length,S=b,C=b+e.length,M=b+e.length+1,T=b+1;s.push(S,C,T),s.push(M,T,C)}this.setIndex(s),this.setAttribute("position",new Ct(o,3)),this.setAttribute("uv",new Ct(a,2)),this.setAttribute("normal",new Ct(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new r2(e.points,e.segments,e.phiStart,e.phiLength)}}class lw extends Vd{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new lw(e.radius,e.detail)}}class ly extends on{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,f=l+1,d=e/a,h=n/l,g=[],v=[],x=[],m=[];for(let p=0;p<f;p++){const y=p*h-o;for(let _=0;_<c;_++){const b=_*d-s;v.push(b,-y,0),x.push(0,0,1),m.push(_/a),m.push(1-p/l)}}for(let p=0;p<l;p++)for(let y=0;y<a;y++){const _=y+c*p,b=y+c*(p+1),S=y+1+c*(p+1),C=y+1+c*p;g.push(_,b,C),g.push(b,S,C)}this.setIndex(g),this.setAttribute("position",new Ct(v,3)),this.setAttribute("normal",new Ct(x,3)),this.setAttribute("uv",new Ct(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ly(e.width,e.height,e.widthSegments,e.heightSegments)}}class i2 extends on{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],f=[];let d=e;const h=(n-e)/i,g=new le,v=new $e;for(let x=0;x<=i;x++){for(let m=0;m<=r;m++){const p=s+m/r*o;g.x=d*Math.cos(p),g.y=d*Math.sin(p),l.push(g.x,g.y,g.z),c.push(0,0,1),v.x=(g.x/n+1)/2,v.y=(g.y/n+1)/2,f.push(v.x,v.y)}d+=h}for(let x=0;x<i;x++){const m=x*(r+1);for(let p=0;p<r;p++){const y=p+m,_=y,b=y+r+1,S=y+r+2,C=y+1;a.push(_,b,C),a.push(b,S,C)}}this.setIndex(a),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(c,3)),this.setAttribute("uv",new Ct(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i2(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class s2 extends on{constructor(e=new fh([new $e(0,.5),new $e(-.5,-.5),new $e(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new Ct(i,3)),this.setAttribute("normal",new Ct(s,3)),this.setAttribute("uv",new Ct(o,2));function c(f){const d=i.length/3,h=f.extractPoints(n);let g=h.shape;const v=h.holes;Oa.isClockWise(g)===!1&&(g=g.reverse());for(let m=0,p=v.length;m<p;m++){const y=v[m];Oa.isClockWise(y)===!0&&(v[m]=y.reverse())}const x=Oa.triangulateShape(g,v);for(let m=0,p=v.length;m<p;m++){const y=v[m];g=g.concat(y)}for(let m=0,p=g.length;m<p;m++){const y=g[m];i.push(y.x,y.y,0),s.push(0,0,1),o.push(y.x,y.y)}for(let m=0,p=x.length;m<p;m++){const y=x[m],_=y[0]+d,b=y[1]+d,S=y[2]+d;r.push(_,b,S),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Vct(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new s2(r,e.curveSegments)}}function Vct(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class cw extends on{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const f=[],d=new le,h=new le,g=[],v=[],x=[],m=[];for(let p=0;p<=r;p++){const y=[],_=p/r;let b=0;p===0&&o===0?b=.5/n:p===r&&l===Math.PI&&(b=-.5/n);for(let S=0;S<=n;S++){const C=S/n;d.x=-e*Math.cos(i+C*s)*Math.sin(o+_*a),d.y=e*Math.cos(o+_*a),d.z=e*Math.sin(i+C*s)*Math.sin(o+_*a),v.push(d.x,d.y,d.z),h.copy(d).normalize(),x.push(h.x,h.y,h.z),m.push(C+b,1-_),y.push(c++)}f.push(y)}for(let p=0;p<r;p++)for(let y=0;y<n;y++){const _=f[p][y+1],b=f[p][y],S=f[p+1][y],C=f[p+1][y+1];(p!==0||o>0)&&g.push(_,b,C),(p!==r-1||l<Math.PI)&&g.push(b,S,C)}this.setIndex(g),this.setAttribute("position",new Ct(v,3)),this.setAttribute("normal",new Ct(x,3)),this.setAttribute("uv",new Ct(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new cw(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class o2 extends Vd{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new o2(e.radius,e.detail)}}class a2 extends on{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],f=new le,d=new le,h=new le;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const x=v/i*s,m=g/r*Math.PI*2;d.x=(e+n*Math.cos(m))*Math.cos(x),d.y=(e+n*Math.cos(m))*Math.sin(x),d.z=n*Math.sin(m),a.push(d.x,d.y,d.z),f.x=e*Math.cos(x),f.y=e*Math.sin(x),h.subVectors(d,f).normalize(),l.push(h.x,h.y,h.z),c.push(v/i),c.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const x=(i+1)*g+v-1,m=(i+1)*(g-1)+v-1,p=(i+1)*(g-1)+v,y=(i+1)*g+v;o.push(x,m,y),o.push(m,p,y)}this.setIndex(o),this.setAttribute("position",new Ct(a,3)),this.setAttribute("normal",new Ct(l,3)),this.setAttribute("uv",new Ct(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new a2(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class l2 extends on{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],f=[],d=new le,h=new le,g=new le,v=new le,x=new le,m=new le,p=new le;for(let _=0;_<=r;++_){const b=_/r*s*Math.PI*2;y(b,s,o,e,g),y(b+.01,s,o,e,v),m.subVectors(v,g),p.addVectors(v,g),x.crossVectors(m,p),p.crossVectors(x,m),x.normalize(),p.normalize();for(let S=0;S<=i;++S){const C=S/i*Math.PI*2,M=-n*Math.cos(C),T=n*Math.sin(C);d.x=g.x+(M*p.x+T*x.x),d.y=g.y+(M*p.y+T*x.y),d.z=g.z+(M*p.z+T*x.z),l.push(d.x,d.y,d.z),h.subVectors(d,g).normalize(),c.push(h.x,h.y,h.z),f.push(_/r),f.push(S/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const S=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),M=(i+1)*_+b,T=(i+1)*(_-1)+b;a.push(S,C,T),a.push(C,M,T)}this.setIndex(a),this.setAttribute("position",new Ct(l,3)),this.setAttribute("normal",new Ct(c,3)),this.setAttribute("uv",new Ct(f,2));function y(_,b,S,C,M){const T=Math.cos(_),P=Math.sin(_),N=S/b*_,k=Math.cos(N);M.x=C*(2+k)*.5*T,M.y=C*(2+k)*P*.5,M.z=C*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new l2(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class c2 extends on{constructor(e=new p5(new le(-1,-1,0),new le(-1,1,0),new le(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new le,l=new le,c=new $e;let f=new le;const d=[],h=[],g=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new Ct(d,3)),this.setAttribute("normal",new Ct(h,3)),this.setAttribute("uv",new Ct(g,2));function x(){for(let _=0;_<n;_++)m(_);m(s===!1?n:0),y(),p()}function m(_){f=e.getPointAt(_/n,f);const b=o.normals[_],S=o.binormals[_];for(let C=0;C<=i;C++){const M=C/i*Math.PI*2,T=Math.sin(M),P=-Math.cos(M);l.x=P*b.x+T*S.x,l.y=P*b.y+T*S.y,l.z=P*b.z+T*S.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,d.push(a.x,a.y,a.z)}}function p(){for(let _=1;_<=n;_++)for(let b=1;b<=i;b++){const S=(i+1)*(_-1)+(b-1),C=(i+1)*_+(b-1),M=(i+1)*_+b,T=(i+1)*(_-1)+b;v.push(S,C,T),v.push(C,M,T)}}function y(){for(let _=0;_<=n;_++)for(let b=0;b<=i;b++)c.x=_/n,c.y=b/i,g.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new c2(new SA[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class sfe extends on{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new le,s=new le;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const d=l[c],h=d.start,g=d.count;for(let v=h,x=h+g;v<x;v+=3)for(let m=0;m<3;m++){const p=a.getX(v+m),y=a.getX(v+(m+1)%3);i.fromBufferAttribute(o,p),s.fromBufferAttribute(o,y),V7(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),V7(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Ct(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function V7(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var W7=Object.freeze({__proto__:null,BoxGeometry:rp,CapsuleGeometry:ZP,CircleGeometry:QP,ConeGeometry:aw,CylinderGeometry:ow,DodecahedronGeometry:JP,EdgesGeometry:Kde,ExtrudeGeometry:t2,IcosahedronGeometry:n2,LatheGeometry:r2,OctahedronGeometry:lw,PlaneGeometry:ly,PolyhedronGeometry:Vd,RingGeometry:i2,ShapeGeometry:s2,SphereGeometry:cw,TetrahedronGeometry:o2,TorusGeometry:a2,TorusKnotGeometry:l2,TubeGeometry:c2,WireframeGeometry:sfe});class ofe extends Qi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new pt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class afe extends Jo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class g5 extends Qi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new pt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$d,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yo,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lfe extends g5{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new $e(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new pt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new pt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new pt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class cfe extends Qi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new pt(16777215),this.specular=new pt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$d,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yo,this.combine=nw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ufe extends Qi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new pt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$d,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class dfe extends Qi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$d,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class ffe extends Qi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new pt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new pt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$d,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new yo,this.combine=nw,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class v5 extends Qi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=wde,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class y5 extends Qi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class hfe extends Qi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new pt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$d,this.normalScale=new $e(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class pfe extends ms{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Wf(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function mfe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gfe(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function iL(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function x5(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function Wct(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),d=[],h=[];for(let g=0;g<c.times.length;++g){const v=c.times[g]*i;if(!(v<n||v>=r)){d.push(c.times[g]);for(let x=0;x<f;++x)h.push(c.values[g*f+x])}}d.length!==0&&(c.times=Wf(d,c.times.constructor),c.values=Wf(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Gct(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(p){return p.name===a.name&&p.ValueTypeName===l});if(c===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let h=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=g/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const p=f,y=d-f;x=a.values.slice(p,y)}else if(s>=a.times[v]){const p=v*d+f,y=p+d-f;x=a.values.slice(p,y)}else{const p=a.createInterpolant(),y=f,_=d-f;p.evaluate(s),x=p.resultBuffer.slice(y,_)}l==="quaternion"&&new Ki().fromArray(x).normalize().conjugate().toArray(x);const m=c.times.length;for(let p=0;p<m;++p){const y=p*g+h;if(l==="quaternion")Ki.multiplyQuaternionsFlat(c.values,y,x,0,c.values,y);else{const _=g-h*2;for(let b=0;b<_;++b)c.values[y+b]-=x[b]}}}return t.blendMode=ZB,t}class qct{static convertArray(e,n){return Wf(e,n)}static isTypedArray(e){return mfe(e)}static getKeyframeOrder(e){return gfe(e)}static sortedArray(e,n,r){return iL(e,n,r)}static flattenJSON(e,n,r,i){x5(e,n,r,i)}static subclip(e,n,r,i,s=30){return Wct(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return Gct(e,n,r,i)}}class uw{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class vfe extends uw{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Hf,endingEnd:Hf}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Vf:s=e,a=2*n-r;break;case U_:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Vf:o=e,l=2*r-n;break;case U_:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,f=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,g=this._weightNext,v=(r-n)/(i-n),x=v*v,m=x*v,p=-h*m+2*h*x-h*v,y=(1+h)*m+(-1.5-2*h)*x+(-.5+h)*v+1,_=(-1-g)*m+(1.5+g)*x+.5*v,b=g*m-g*x;for(let S=0;S!==a;++S)s[S]=p*o[f+S]+y*o[c+S]+_*o[l+S]+b*o[d+S];return s}}class _5 extends uw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(r-n)/(i-n),d=1-f;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*f;return s}}class yfe extends uw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class sa{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Wf(n,this.TimeBufferType),this.values=Wf(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Wf(e.times,Array),values:Wf(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new yfe(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new _5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new vfe(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case z_:n=this.InterpolantFactoryMethodDiscrete;break;case _A:n=this.InterpolantFactoryMethodLinear;break;case ME:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return z_;case this.InterpolantFactoryMethodLinear:return _A;case this.InterpolantFactoryMethodSmooth:return ME}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&mfe(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===ME,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,h=d-r,g=d+r;for(let v=0;v!==r;++v){const x=n[d+v];if(x!==n[h+v]||x!==n[g+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,h=o*r;for(let g=0;g!==r;++g)n[h+g]=n[d+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}sa.prototype.ValueTypeName="";sa.prototype.TimeBufferType=Float32Array;sa.prototype.ValueBufferType=Float32Array;sa.prototype.DefaultInterpolation=_A;class ip extends sa{constructor(e,n,r){super(e,n,r)}}ip.prototype.ValueTypeName="bool";ip.prototype.ValueBufferType=Array;ip.prototype.DefaultInterpolation=z_;ip.prototype.InterpolantFactoryMethodLinear=void 0;ip.prototype.InterpolantFactoryMethodSmooth=void 0;class b5 extends sa{constructor(e,n,r,i){super(e,n,r,i)}}b5.prototype.ValueTypeName="color";class K_ extends sa{constructor(e,n,r,i){super(e,n,r,i)}}K_.prototype.ValueTypeName="number";class xfe extends uw{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let f=c+a;c!==f;c+=4)Ki.slerpFlat(s,0,o,c-a,o,c,l);return s}}class dw extends sa{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new xfe(this.times,this.values,this.getValueSize(),e)}}dw.prototype.ValueTypeName="quaternion";dw.prototype.InterpolantFactoryMethodSmooth=void 0;class sp extends sa{constructor(e,n,r){super(e,n,r)}}sp.prototype.ValueTypeName="string";sp.prototype.ValueBufferType=Array;sp.prototype.DefaultInterpolation=z_;sp.prototype.InterpolantFactoryMethodLinear=void 0;sp.prototype.InterpolantFactoryMethodSmooth=void 0;class Y_ extends sa{constructor(e,n,r,i){super(e,n,r,i)}}Y_.prototype.ValueTypeName="vector";class Z_{constructor(e="",n=-1,r=[],i=$P){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=po(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(Kct(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)n.push(sa.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=gfe(l);l=iL(l,1,f),c=iL(c,1,f),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new K_(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const d=f[1];let h=i[d];h||(i[d]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,h,g,v,x){if(g.length!==0){const m=[],p=[];x5(g,m,p,v),m.length!==0&&x.push(new d(h,m,p))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const g={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let x=0;x<h[v].morphTargets.length;x++)g[h[v].morphTargets[x]]=-1;for(const x in g){const m=[],p=[];for(let y=0;y!==h[v].morphTargets.length;++y){const _=h[v];m.push(_.time),p.push(_.morphTarget===x?1:0)}i.push(new K_(".morphTargetInfluence["+x+"]",m,p))}l=g.length*o}else{const g=".bones["+n[d].name+"]";r(Y_,g+".position",h,"pos",i),r(dw,g+".quaternion",h,"rot",i),r(Y_,g+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function Xct(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return K_;case"vector":case"vector2":case"vector3":case"vector4":return Y_;case"color":return b5;case"quaternion":return dw;case"bool":case"boolean":return ip;case"string":return sp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Kct(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=Xct(t.type);if(t.times===void 0){const n=[],r=[];x5(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const bl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class w5{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.abortController=new AbortController,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return c.push(f,d),this},this.removeHandler=function(f){const d=c.indexOf(f);return d!==-1&&c.splice(d,2),this},this.getHandler=function(f){for(let d=0,h=c.length;d<h;d+=2){const g=c[d],v=c[d+1];if(g.global&&(g.lastIndex=0),g.test(f))return v}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const _fe=new w5;class Vs{constructor(e){this.manager=e!==void 0?e:_fe,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Vs.DEFAULT_MATERIAL_NAME="__DEFAULT";const dc={};class Yct extends Error{constructor(e,n){super(e),this.response=n}}class qc extends Vs{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=bl.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(dc[e]!==void 0){dc[e].push({onLoad:n,onProgress:r,onError:i});return}dc[e]=[],dc[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=dc[e],d=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),g=h?parseInt(h):0,v=g!==0;let x=0;const m=new ReadableStream({start(p){y();function y(){d.read().then(({done:_,value:b})=>{if(_)p.close();else{x+=b.byteLength;const S=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:g});for(let C=0,M=f.length;C<M;C++){const T=f[C];T.onProgress&&T.onProgress(S)}p.enqueue(b),y()}},_=>{p.error(_)})}}});return new Response(m)}else throw new Yct(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a==="")return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,g=new TextDecoder(h);return c.arrayBuffer().then(v=>g.decode(v))}}}).then(c=>{bl.add(`file:${e}`,c);const f=dc[e];delete dc[e];for(let d=0,h=f.length;d<h;d++){const g=f[d];g.onLoad&&g.onLoad(c)}}).catch(c=>{const f=dc[e];if(f===void 0)throw this.manager.itemError(e),c;delete dc[e];for(let d=0,h=f.length;d<h;d++){const g=f[d];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class Zct extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new qc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Z_.parse(e[r]);n.push(i)}return n}}class Qct extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new YP,l=new qc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(d){l.load(e[d],function(h){const g=s.parse(h,!0);o[d]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=ai),a.image=o,a.format=g.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)f(d);else l.load(e,function(d){const h=s.parse(d,!0);if(h.isCubemap){const g=h.mipmaps.length/h.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)o[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+x]),o[v].format=h.format,o[v].width=h.width,o[v].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=ai),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}const nm=new WeakMap;class Q_ extends Vs{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=bl.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let d=nm.get(o);d===void 0&&(d=[],nm.set(o,d)),d.push({onLoad:n,onError:i})}return o}const a=V_("img");function l(){f(),n&&n(this);const d=nm.get(this)||[];for(let h=0;h<d.length;h++){const g=d[h];g.onLoad&&g.onLoad(this)}nm.delete(this),s.manager.itemEnd(e)}function c(d){f(),i&&i(d),bl.remove(`image:${e}`);const h=nm.get(this)||[];for(let g=0;g<h.length;g++){const v=h[g];v.onError&&v.onError(d)}nm.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),bl.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class Jct extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=new sw;s.colorSpace=As;const o=new Q_(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class eut extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Rl,a=new qc(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Go,o.wrapT=c.wrapT!==void 0?c.wrapT:Go,o.magFilter=c.magFilter!==void 0?c.magFilter:ai,o.minFilter=c.minFilter!==void 0?c.minFilter:ai,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=_l),c.mipmapCount===1&&(o.minFilter=ai),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class tut extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=new Dr,o=new Q_(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Wd extends Mn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new pt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class bfe extends Wd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new pt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const BO=new Yt,G7=new le,q7=new le;class S5{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new $e(512,512),this.mapType=Qo,this.map=null,this.mapPass=null,this.matrix=new Yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ay,this._frameExtents=new $e(1,1),this._viewportCount=1,this._viewports=[new En(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;G7.setFromMatrixPosition(e.matrixWorld),n.position.copy(G7),q7.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(q7),n.updateMatrixWorld(),BO.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(BO,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(BO)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class nut extends S5{constructor(){super(new Sr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=wv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class wfe extends Wd{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new nut}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const X7=new Yt,y0=new le,zO=new le;class rut extends S5{constructor(){super(new Sr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new $e(4,2),this._viewportCount=6,this._viewports=[new En(2,1,1,1),new En(0,1,1,1),new En(3,1,1,1),new En(1,1,1,1),new En(3,0,1,1),new En(1,0,1,1)],this._cubeDirections=[new le(1,0,0),new le(-1,0,0),new le(0,0,1),new le(0,0,-1),new le(0,1,0),new le(0,-1,0)],this._cubeUps=[new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,1,0),new le(0,0,1),new le(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),y0.setFromMatrixPosition(e.matrixWorld),r.position.copy(y0),zO.copy(r.position),zO.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(zO),r.updateMatrixWorld(),i.makeTranslation(-y0.x,-y0.y,-y0.z),X7.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(X7,r.coordinateSystem,r.reversedDepth)}}class Sfe extends Wd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new rut}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ol extends iw{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class iut extends S5{constructor(){super(new Ol(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Efe extends Wd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Mn.DEFAULT_UP),this.updateMatrix(),this.target=new Mn,this.shadow=new iut}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Cfe extends Wd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Mfe extends Wd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Afe{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new le)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Tfe extends Wd{constructor(e=new Afe,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class u2 extends Vs{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new qc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new pt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new pt().setHex(o.value);break;case"v2":i.uniforms[s].value=new $e().fromArray(o.value);break;case"v3":i.uniforms[s].value=new le().fromArray(o.value);break;case"v4":i.uniforms[s].value=new En().fromArray(o.value);break;case"m3":i.uniforms[s].value=new rn().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Yt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new $e().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new $e().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return u2.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:ofe,SpriteMaterial:s5,RawShaderMaterial:afe,ShaderMaterial:Jo,PointsMaterial:a5,MeshPhysicalMaterial:lfe,MeshStandardMaterial:g5,MeshPhongMaterial:cfe,MeshToonMaterial:ufe,MeshNormalMaterial:dfe,MeshLambertMaterial:ffe,MeshDepthMaterial:v5,MeshDistanceMaterial:y5,MeshBasicMaterial:Hd,MeshMatcapMaterial:hfe,LineDashedMaterial:pfe,LineBasicMaterial:ms,Material:Qi};return new n[e]}}class sL{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Pfe extends on{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Nfe extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new qc(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,v){if(n[v]!==void 0)return n[v];const m=g.interleavedBuffers[v],p=s(g,m.buffer),y=Dm(m.type,p),_=new qP(y,m.stride);return _.uuid=m.uuid,n[v]=_,_}function s(g,v){if(r[v]!==void 0)return r[v];const m=g.arrayBuffers[v],p=new Uint32Array(m).buffer;return r[v]=p,p}const o=e.isInstancedBufferGeometry?new Pfe:new on,a=e.data.index;if(a!==void 0){const g=Dm(a.type,a.array);o.setIndex(new Wn(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let x;if(v.isInterleavedBufferAttribute){const m=i(e.data,v.data);x=new Uh(m,v.itemSize,v.offset,v.normalized)}else{const m=Dm(v.type,v.array),p=v.isInstancedBufferAttribute?Ev:Wn;x=new p(m,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(g,x)}const c=e.data.morphAttributes;if(c)for(const g in c){const v=c[g],x=[];for(let m=0,p=v.length;m<p;m++){const y=v[m];let _;if(y.isInterleavedBufferAttribute){const b=i(e.data,y.data);_=new Uh(b,y.itemSize,y.offset,y.normalized)}else{const b=Dm(y.type,y.array);_=new Wn(b,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),x.push(_)}o.morphAttributes[g]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let g=0,v=d.length;g!==v;++g){const x=d[g];o.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(o.boundingSphere=new Ti().fromJSON(h)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class sut extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?sL.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new qc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?sL.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new qc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),this.bindLightTargets(c),n!==void 0){let d=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new fh().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new XP().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Nfe;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in W7?a=W7[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new u2;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Z_.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(f)}else return l.data?{data:Dm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new w5(n);s=new Q_(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const g=[];for(let v=0,x=h.length;v<x;v++){const m=h[v],p=a(m);p!==null&&(p instanceof HTMLImageElement?g.push(p):g.push(new Rl(p.data,p.width,p.height)))}i[d.uuid]=new nd(g)}else{const g=a(d.url);i[d.uuid]=new nd(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Dm(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Q_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let d=0,h=c.length;d<h;d++){const g=c[d],v=await s(g);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Rl(v.data,v.width,v.height)))}r[l.uuid]=new nd(f)}else{const f=await s(l.url);r[l.uuid]=new nd(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let f;Array.isArray(c)?(f=new sw,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Rl:f=new Dr,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,out)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],K7),f.wrapT=r(a.wrap[1],K7)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,Y7)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,Y7)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const g=[];for(let v=0,x=h.length;v<x;v++){const m=h[v];r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),g.push(r[m])}return g}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let f,d;switch(e.type){case"Scene":o=new i5,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new pt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new GP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new WP(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Sr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ol(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Cfe(e.color,e.intensity);break;case"DirectionalLight":o=new Efe(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Sfe(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Mfe(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new wfe(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new bfe(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Tfe().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new Hde(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new Kr(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const h=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new Vde(f,d,h),o.instanceMatrix=new Ev(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new Ev(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":f=a(e.geometry),d=l(e.material),o=new Wde(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(x=>{let m=null,p=null;return x.boundingBox!==void 0&&(m=new Yi().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(p=new Ti().fromJSON(x.boundingSphere)),{...x,boundingBox:m,boundingSphere:p}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Ti().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new Yi().fromJSON(e.boundingBox));break;case"LOD":o=new $de;break;case"Line":o=new Ed(a(e.geometry),l(e.material));break;case"LineLoop":o=new Gde(a(e.geometry),l(e.material));break;case"LineSegments":o=new Kl(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new qde(a(e.geometry),l(e.material));break;case"Sprite":o=new Ude(l(e.material));break;case"Group":o=new jm;break;case"Bone":o=new o5;break;default:o=new Mn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let g=0;g<h.length;g++)o.add(this.parseObject(h[g],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let g=0;g<h.length;g++){const v=h[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let g=0;g<h.length;g++){const v=h[g],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Mn}})}}const out={UVMapping:DP,CubeReflectionMapping:Wc,CubeRefractionMapping:Sd,EquirectangularReflectionMapping:j_,EquirectangularRefractionMapping:L_,CubeUVReflectionMapping:sy},K7={RepeatWrapping:F_,ClampToEdgeWrapping:Go,MirroredRepeatWrapping:B_},Y7={NearestFilter:Ai,NearestMipmapNearestFilter:HB,NearestMipmapLinearFilter:Im,LinearFilter:ai,LinearMipmapNearestFilter:ox,LinearMipmapLinearFilter:_l},UO=new WeakMap;class aut extends Vs{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=bl.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{if(UO.has(o)===!0)i&&i(UO.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return bl.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),UO.set(l,c),bl.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});bl.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let LS;class E5{static getContext(){return LS===void 0&&(LS=new(window.AudioContext||window.webkitAudioContext)),LS}static setContext(e){LS=e}}class lut extends Vs{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new qc(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);E5.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const Z7=new Yt,Q7=new Yt,hf=new Yt;class cut{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,hf.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(uh*n.fov*.5)/n.zoom;let a,l;Q7.elements[12]=-i,Z7.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,hf.elements[0]=2*n.near/(l-a),hf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(hf),a=-o*n.aspect-s,l=o*n.aspect-s,hf.elements[0]=2*n.near/(l-a),hf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(hf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(Q7),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(Z7)}}class Rfe extends Sr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class C5{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const pf=new le,$O=new Ki,uut=new le,mf=new le,gf=new le;class dut extends Mn{constructor(){super(),this.type="AudioListener",this.context=E5.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new C5}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pf,$O,uut),mf.set(0,0,-1).applyQuaternion($O),gf.set(0,1,0).applyQuaternion($O),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(pf.x,r),n.positionY.linearRampToValueAtTime(pf.y,r),n.positionZ.linearRampToValueAtTime(pf.z,r),n.forwardX.linearRampToValueAtTime(mf.x,r),n.forwardY.linearRampToValueAtTime(mf.y,r),n.forwardZ.linearRampToValueAtTime(mf.z,r),n.upX.linearRampToValueAtTime(gf.x,r),n.upY.linearRampToValueAtTime(gf.y,r),n.upZ.linearRampToValueAtTime(gf.z,r)}else n.setPosition(pf.x,pf.y,pf.z),n.setOrientation(mf.x,mf.y,mf.z,gf.x,gf.y,gf.z)}}class Ofe extends Mn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const vf=new le,J7=new Ki,fut=new le,yf=new le;class hut extends Ofe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(vf,J7,fut),yf.set(0,0,1).applyQuaternion(J7);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(vf.x,r),n.positionY.linearRampToValueAtTime(vf.y,r),n.positionZ.linearRampToValueAtTime(vf.z,r),n.orientationX.linearRampToValueAtTime(yf.x,r),n.orientationY.linearRampToValueAtTime(yf.y,r),n.orientationZ.linearRampToValueAtTime(yf.z,r)}else n.setPosition(vf.x,vf.y,vf.z),n.setOrientation(yf.x,yf.y,yf.z)}}class put{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class kfe{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Ki.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Ki.multiplyQuaternionsFlat(e,o,e,n,e,r),Ki.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const M5="\\[\\]\\.:\\/",mut=new RegExp("["+M5+"]","g"),A5="[^"+M5+"]",gut="[^"+M5.replace("\\.","")+"]",vut=/((?:WC+[\/:])*)/.source.replace("WC",A5),yut=/(WCOD+)?/.source.replace("WCOD",gut),xut=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",A5),_ut=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",A5),but=new RegExp("^"+vut+yut+xut+_ut+"$"),wut=["material","materials","bones","map"];class Sut{constructor(e,n,r){const i=r||Sn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Sn{constructor(e,n,r){this.path=n,this.parsedPath=r||Sn.parseTrackName(n),this.node=Sn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Sn.Composite(e,n,r):new Sn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(mut,"")}static parseTrackName(e){const n=but.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);wut.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Sn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Sn.Composite=Sut;Sn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Sn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Sn.prototype.GetterByBindingType=[Sn.prototype._getValue_direct,Sn.prototype._getValue_array,Sn.prototype._getValue_arrayElement,Sn.prototype._getValue_toArray];Sn.prototype.SetterByBindingTypeAndVersioning=[[Sn.prototype._setValue_direct,Sn.prototype._setValue_direct_setNeedsUpdate,Sn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_array,Sn.prototype._setValue_array_setNeedsUpdate,Sn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_arrayElement,Sn.prototype._setValue_arrayElement_setNeedsUpdate,Sn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Sn.prototype._setValue_fromArray,Sn.prototype._setValue_fromArray_setNeedsUpdate,Sn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Eut{constructor(){this.isAnimationObjectGroup=!0,this.uuid=po(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const h=arguments[f],g=h.uuid;let v=n[g];if(v===void 0){v=l++,n[g]=v,e.push(h);for(let x=0,m=o;x!==m;++x)s[x].push(new Sn(h,r[x],i[x]))}else if(v<c){a=e[v];const x=--c,m=e[x];n[m.uuid]=v,e[v]=m,n[g]=x,e[x]=h;for(let p=0,y=o;p!==y;++p){const _=s[p],b=_[x];let S=_[v];_[v]=b,S===void 0&&(S=new Sn(h,r[p],i[p])),_[x]=S}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,f=n[c];if(f!==void 0&&f>=s){const d=s++,h=e[d];n[h.uuid]=f,e[f]=h,n[c]=d,e[d]=l;for(let g=0,v=i;g!==v;++g){const x=r[g],m=x[d],p=x[f];x[f]=m,x[d]=p}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,d=n[f];if(d!==void 0)if(delete n[f],d<s){const h=--s,g=e[h],v=--o,x=e[v];n[g.uuid]=d,e[d]=g,n[x.uuid]=h,e[h]=x,e.pop();for(let m=0,p=i;m!==p;++m){const y=r[m],_=y[h],b=y[v];y[d]=_,y[h]=b,y.pop()}}else{const h=--o,g=e[h];h>0&&(n[g.uuid]=d),e[d]=g,e.pop();for(let v=0,x=i;v!==x;++v){const m=r[v];m[d]=m[h],m.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let h=f,g=l.length;h!==g;++h){const v=l[h];d[h]=new Sn(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class Ife{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Hf,endingEnd:Hf};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=_de,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case ZB:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),c[f].accumulateAdditive(a);break;case $P:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),c[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===bde;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===xde){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Vf,i.endingEnd=Vf):(e?i.endingStart=this.zeroSlopeAtStart?Vf:Hf:i.endingStart=U_,n?i.endingEnd=this.zeroSlopeAtEnd?Vf:Hf:i.endingEnd=U_)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const Cut=new Float32Array(1);class Mut extends Xl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let d=0;d!==s;++d){const h=i[d],g=h.name;let v=f[g];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const x=n&&n._propertyBindings[d].binding.parsedPath;v=new kfe(Sn.create(r,g,x),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new _5(new Float32Array(2),new Float32Array(2),1,Cut),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Z_.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=$P),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new Ife(this,o,n,r);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Z_.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=f,n[f]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class Aut extends e5{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new VP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class T5{constructor(e){this.value=e}clone(){return new T5(this.value.clone===void 0?this.value:this.value.clone())}}let Tut=0;class Put extends Xl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Tut++}),this.name="",this.usage=H_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class Nut extends qP{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Rut{constructor(e,n,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const e9=new Yt;class Dfe{constructor(e,n,r=0,i=1/0){this.ray=new np(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new dh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return e9.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(e9),this}intersectObject(e,n=!0,r=[]){return oL(e,this,r,n),r.sort(t9),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)oL(e[i],this,r,n);return r.sort(t9),r}}function t9(t,e){return t.distance-e.distance}function oL(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)oL(s[o],e,n,!0)}}class Out{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=kut.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function kut(){this._document.hidden===!1&&this.reset()}class aL{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Xt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Xt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Iut{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class P5{constructor(e,n,r,i){P5.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const n9=new $e;class Dut{constructor(e=new $e(1/0,1/0),n=new $e(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=n9.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,n9).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const r9=new le,FS=new le,rm=new le,im=new le,HO=new le,jut=new le,Lut=new le;class Fut{constructor(e=new le,n=new le){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){r9.subVectors(e,this.start),FS.subVectors(this.end,this.start);const r=FS.dot(FS);let s=FS.dot(r9)/r;return n&&(s=Xt(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=jut,r=Lut){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,c=this.end,f=e.end;rm.subVectors(c,a),im.subVectors(f,l),HO.subVectors(a,l);const d=rm.dot(rm),h=im.dot(im),g=im.dot(HO);if(d<=i&&h<=i)return n.copy(a),r.copy(l),n.sub(r),n.dot(n);if(d<=i)s=0,o=g/h,o=Xt(o,0,1);else{const v=rm.dot(HO);if(h<=i)o=0,s=Xt(-v/d,0,1);else{const x=rm.dot(im),m=d*h-x*x;m!==0?s=Xt((x*g-v*h)/m,0,1):s=0,o=(x*s+g)/h,o<0?(o=0,s=Xt(-v/d,0,1)):o>1&&(o=1,s=Xt((x-v)/d,0,1))}}return n.copy(a).add(rm.multiplyScalar(s)),r.copy(l).add(im.multiplyScalar(o)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const i9=new le;class But extends Mn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new on,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new Ct(i,3));const s=new ms({fog:!1,toneMapped:!1});this.cone=new Kl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),i9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(i9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Pu=new le,BS=new Yt,VO=new Yt;class zut extends Kl{constructor(e){const n=jfe(e),r=new on,i=[],s=[];for(let c=0;c<n.length;c++){const f=n[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Ct(i,3)),r.setAttribute("color",new Ct(s,3));const o=new ms({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new pt(255),l=new pt(65280);this.setColors(a,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");VO.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(BS.multiplyMatrices(VO,a.matrixWorld),Pu.setFromMatrixPosition(BS),i.setXYZ(o,Pu.x,Pu.y,Pu.z),BS.multiplyMatrices(VO,a.parent.matrixWorld),Pu.setFromMatrixPosition(BS),i.setXYZ(o+1,Pu.x,Pu.y,Pu.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function jfe(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...jfe(t.children[n]));return e}class Uut extends Kr{constructor(e,n,r){const i=new cw(n,4,2),s=new Hd({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const $ut=new le,s9=new pt,o9=new pt;class Hut extends Mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new lw(n);i.rotateY(Math.PI*.5),this.material=new Hd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Wn(o,3)),this.add(new Kr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");s9.copy(this.light.color),o9.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?s9:o9;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt($ut.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Vut extends Kl{constructor(e=10,n=10,r=4473924,i=8947848){r=new pt(r),i=new pt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let h=0,g=0,v=-a;h<=n;h++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=h===s?r:i;x.toArray(c,g),g+=3,x.toArray(c,g),g+=3,x.toArray(c,g),g+=3,x.toArray(c,g),g+=3}const f=new on;f.setAttribute("position",new Ct(l,3)),f.setAttribute("color",new Ct(c,3));const d=new ms({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Wut extends Kl{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new pt(s),o=new pt(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const h=d/n*(Math.PI*2),g=Math.sin(h)*e,v=Math.cos(h)*e;a.push(0,0,0),a.push(g,0,v);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<r;d++){const h=d&1?s:o,g=e-e/r*d;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),m=Math.sin(x)*g,p=Math.cos(x)*g;a.push(m,0,p),l.push(h.r,h.g,h.b),x=(v+1)/i*(Math.PI*2),m=Math.sin(x)*g,p=Math.cos(x)*g,a.push(m,0,p),l.push(h.r,h.g,h.b)}}const c=new on;c.setAttribute("position",new Ct(a,3)),c.setAttribute("color",new Ct(l,3));const f=new ms({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const a9=new le,zS=new le,l9=new le;class Gut extends Mn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new on;i.setAttribute("position",new Ct([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new ms({fog:!1,toneMapped:!1});this.lightPlane=new Ed(i,s),this.add(this.lightPlane),i=new on,i.setAttribute("position",new Ct([0,0,0,0,0,1],3)),this.targetLine=new Ed(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),a9.setFromMatrixPosition(this.light.matrixWorld),zS.setFromMatrixPosition(this.light.target.matrixWorld),l9.subVectors(zS,a9),this.lightPlane.lookAt(zS),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(zS),this.targetLine.scale.z=l9.length()}}const US=new le,Nr=new iw;class qut extends Kl{constructor(e){const n=new on,r=new ms({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new Ct(i,3)),n.setAttribute("color",new Ct(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new pt(16755200),f=new pt(16711680),d=new pt(43775),h=new pt(16777215),g=new pt(3355443);this.setColors(c,f,d,h,g)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,o;if(Nr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===lo)s=-1,o=1;else if(this.camera.coordinateSystem===bv)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Lr("c",n,e,Nr,0,0,s),Lr("t",n,e,Nr,0,0,o),Lr("n1",n,e,Nr,-r,-i,s),Lr("n2",n,e,Nr,r,-i,s),Lr("n3",n,e,Nr,-r,i,s),Lr("n4",n,e,Nr,r,i,s),Lr("f1",n,e,Nr,-r,-i,o),Lr("f2",n,e,Nr,r,-i,o),Lr("f3",n,e,Nr,-r,i,o),Lr("f4",n,e,Nr,r,i,o),Lr("u1",n,e,Nr,r*.7,i*1.1,s),Lr("u2",n,e,Nr,-r*.7,i*1.1,s),Lr("u3",n,e,Nr,0,i*2,s),Lr("cf1",n,e,Nr,-r,0,o),Lr("cf2",n,e,Nr,r,0,o),Lr("cf3",n,e,Nr,0,-i,o),Lr("cf4",n,e,Nr,0,i,o),Lr("cn1",n,e,Nr,-r,0,s),Lr("cn2",n,e,Nr,r,0,s),Lr("cn3",n,e,Nr,0,-i,s),Lr("cn4",n,e,Nr,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lr(t,e,n,r,i,s,o){US.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],US.x,US.y,US.z)}}const $S=new Yi;class Xut extends Kl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new on;s.setIndex(new Wn(r,1)),s.setAttribute("position",new Wn(i,3)),super(s,new ms({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&$S.setFromObject(this.object),$S.isEmpty())return;const e=$S.min,n=$S.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Kut extends Kl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new on;s.setIndex(new Wn(r,1)),s.setAttribute("position",new Ct(i,3)),super(s,new ms({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Yut extends Ed{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new on;o.setAttribute("position",new Ct(s,3)),o.computeBoundingSphere(),super(o,new ms({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new on;l.setAttribute("position",new Ct(a,3)),l.computeBoundingSphere(),this.add(new Kr(l,new Hd({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const c9=new le;let HS,WO;class Zut extends Mn{constructor(e=new le(0,0,1),n=new le(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",HS===void 0&&(HS=new on,HS.setAttribute("position",new Ct([0,0,0,0,1,0],3)),WO=new aw(.5,1,5,1),WO.translate(0,-.5,0)),this.position.copy(n),this.line=new Ed(HS,new ms({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Kr(WO,new Hd({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{c9.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(c9,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Qut extends Kl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new on;i.setAttribute("position",new Ct(n,3)),i.setAttribute("color",new Ct(r,3));const s=new ms({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new pt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Jut{constructor(){this.type="ShapePath",this.color=new pt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new EA,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(p){const y=[];for(let _=0,b=p.length;_<b;_++){const S=p[_],C=new fh;C.curves=S.curves,y.push(C)}return y}function r(p,y){const _=y.length;let b=!1;for(let S=_-1,C=0;C<_;S=C++){let M=y[S],T=y[C],P=T.x-M.x,N=T.y-M.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(M=y[C],P=-P,T=y[S],N=-N),p.y<M.y||p.y>T.y)continue;if(p.y===M.y){if(p.x===M.x)return!0}else{const k=N*(p.x-M.x)-P*(p.y-M.y);if(k===0)return!0;if(k<0)continue;b=!b}}else{if(p.y!==M.y)continue;if(T.x<=p.x&&p.x<=M.x||M.x<=p.x&&p.x<=T.x)return!0}}return b}const i=Oa.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new fh,l.curves=a.curves,c.push(l),c;let f=!i(s[0].getPoints());f=e?!f:f;const d=[],h=[];let g=[],v=0,x;h[v]=void 0,g[v]=[];for(let p=0,y=s.length;p<y;p++)a=s[p],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!f&&h[v]&&v++,h[v]={s:new fh,p:x},h[v].s.curves=a.curves,f&&v++,g[v]=[]):g[v].push({h:a,p:x[0]});if(!h[0])return n(s);if(h.length>1){let p=!1,y=0;for(let _=0,b=h.length;_<b;_++)d[_]=[];for(let _=0,b=h.length;_<b;_++){const S=g[_];for(let C=0;C<S.length;C++){const M=S[C];let T=!0;for(let P=0;P<h.length;P++)r(M.p,h[P].p)&&(_!==P&&y++,T?(T=!1,d[P].push(M)):p=!0);T&&d[_].push(M)}}y>0&&p===!1&&(g=d)}let m;for(let p=0,y=h.length;p<y;p++){l=h[p].s,c.push(l),m=g[p];for(let _=0,b=m.length;_<b;_++)l.holes.push(m[_].h)}return c}}class edt extends Xl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function tdt(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function ndt(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function rdt(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function lL(t,e,n,r){const i=idt(r);switch(n){case XB:return t*e;case BP:return t*e/i.components*i.byteLength;case rw:return t*e/i.components*i.byteLength;case YB:return t*e*2/i.components*i.byteLength;case zP:return t*e*2/i.components*i.byteLength;case KB:return t*e*3/i.components*i.byteLength;case Gi:return t*e*4/i.components*i.byteLength;case UP:return t*e*4/i.components*i.byteLength;case ax:case lx:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case cx:case ux:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case qM:case KM:return Math.max(t,16)*Math.max(e,8)/4;case GM:case XM:return Math.max(t,8)*Math.max(e,8)/2;case YM:case ZM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case QM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case JM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case eA:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case tA:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case nA:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case rA:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case iA:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case sA:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case oA:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case aA:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case lA:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case cA:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case uA:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case dA:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case fA:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case hA:case pA:case mA:return Math.ceil(t/4)*Math.ceil(e/4)*16;case gA:case vA:return Math.ceil(t/4)*Math.ceil(e/4)*8;case yA:case xA:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function idt(t){switch(t){case Qo:case VB:return{byteLength:1,components:1};case vv:case WB:case oy:return{byteLength:2,components:1};case LP:case FP:return{byteLength:2,components:4};case Gc:case jP:case Is:return{byteLength:4,components:1};case GB:case qB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class sdt{static contain(e,n){return tdt(e,n)}static cover(e,n){return ndt(e,n)}static fill(e){return rdt(e)}static getByteLength(e,n,r,i){return lL(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:tw}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=tw);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function Lfe(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function odt(t){const e=new WeakMap;function n(a,l){const c=a.array,f=a.usage,d=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,f),a.onUploadCallback();let g;if(c instanceof Float32Array)g=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)g=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)g=t.SHORT;else if(c instanceof Uint32Array)g=t.UNSIGNED_INT;else if(c instanceof Int32Array)g=t.INT;else if(c instanceof Int8Array)g=t.BYTE;else if(c instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:g,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const f=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,f);else{d.sort((g,v)=>g.start-v.start);let h=0;for(let g=1;g<d.length;g++){const v=d[h],x=d[g];x.start<=v.start+v.count+1?v.count=Math.max(v.count,x.start+x.count-v.start):(++h,d[h]=x)}d.length=h+1;for(let g=0,v=d.length;g<v;g++){const x=d[g];t.bufferSubData(c,x.start*f.BYTES_PER_ELEMENT,f,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var adt=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ldt=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,cdt=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,udt=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,ddt=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,fdt=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,hdt=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,pdt=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,mdt=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,gdt=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,vdt=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,ydt=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,xdt=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,_dt=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bdt=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,wdt=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Sdt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Edt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,Cdt=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Mdt=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Adt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Tdt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Pdt=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Ndt=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Rdt=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Odt=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,kdt=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Idt=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Ddt=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,jdt=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ldt="gl_FragColor = linearToOutputTexel( gl_FragColor );",Fdt=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Bdt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,zdt=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Udt=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,$dt=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Hdt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Vdt=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Wdt=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Gdt=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,qdt=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Xdt=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Kdt=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Ydt=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Zdt=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Qdt=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Jdt=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,eft=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,tft=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,nft=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rft=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ift=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,sft=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,oft=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,aft=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lft=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,cft=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,uft=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dft=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,fft=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,hft=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,pft=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,mft=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,gft=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vft=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,yft=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,xft=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,_ft=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,bft=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wft=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Sft=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Eft=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Cft=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Mft=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Aft=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Tft=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Pft=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Nft=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Rft=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Oft=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,kft=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Ift=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Dft=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,jft=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Lft=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Fft=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Bft=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,zft=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Uft=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,$ft=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Hft=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Vft=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Wft=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Gft=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,qft=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Xft=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Kft=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Yft=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Zft=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Qft=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Jft=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,eht=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,tht=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,nht=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,rht=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,iht=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,sht=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const oht=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,aht=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,lht=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,cht=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,uht=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dht=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fht=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,hht=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,pht=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,mht=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,ght=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vht=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yht=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,xht=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,_ht=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,bht=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wht=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Sht=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eht=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Cht=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Mht=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Aht=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Tht=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pht=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Nht=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Rht=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Oht=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,kht=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Iht=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Dht=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,jht=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lht=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Fht=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Bht=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ln={alphahash_fragment:adt,alphahash_pars_fragment:ldt,alphamap_fragment:cdt,alphamap_pars_fragment:udt,alphatest_fragment:ddt,alphatest_pars_fragment:fdt,aomap_fragment:hdt,aomap_pars_fragment:pdt,batching_pars_vertex:mdt,batching_vertex:gdt,begin_vertex:vdt,beginnormal_vertex:ydt,bsdfs:xdt,iridescence_fragment:_dt,bumpmap_pars_fragment:bdt,clipping_planes_fragment:wdt,clipping_planes_pars_fragment:Sdt,clipping_planes_pars_vertex:Edt,clipping_planes_vertex:Cdt,color_fragment:Mdt,color_pars_fragment:Adt,color_pars_vertex:Tdt,color_vertex:Pdt,common:Ndt,cube_uv_reflection_fragment:Rdt,defaultnormal_vertex:Odt,displacementmap_pars_vertex:kdt,displacementmap_vertex:Idt,emissivemap_fragment:Ddt,emissivemap_pars_fragment:jdt,colorspace_fragment:Ldt,colorspace_pars_fragment:Fdt,envmap_fragment:Bdt,envmap_common_pars_fragment:zdt,envmap_pars_fragment:Udt,envmap_pars_vertex:$dt,envmap_physical_pars_fragment:Jdt,envmap_vertex:Hdt,fog_vertex:Vdt,fog_pars_vertex:Wdt,fog_fragment:Gdt,fog_pars_fragment:qdt,gradientmap_pars_fragment:Xdt,lightmap_pars_fragment:Kdt,lights_lambert_fragment:Ydt,lights_lambert_pars_fragment:Zdt,lights_pars_begin:Qdt,lights_toon_fragment:eft,lights_toon_pars_fragment:tft,lights_phong_fragment:nft,lights_phong_pars_fragment:rft,lights_physical_fragment:ift,lights_physical_pars_fragment:sft,lights_fragment_begin:oft,lights_fragment_maps:aft,lights_fragment_end:lft,logdepthbuf_fragment:cft,logdepthbuf_pars_fragment:uft,logdepthbuf_pars_vertex:dft,logdepthbuf_vertex:fft,map_fragment:hft,map_pars_fragment:pft,map_particle_fragment:mft,map_particle_pars_fragment:gft,metalnessmap_fragment:vft,metalnessmap_pars_fragment:yft,morphinstance_vertex:xft,morphcolor_vertex:_ft,morphnormal_vertex:bft,morphtarget_pars_vertex:wft,morphtarget_vertex:Sft,normal_fragment_begin:Eft,normal_fragment_maps:Cft,normal_pars_fragment:Mft,normal_pars_vertex:Aft,normal_vertex:Tft,normalmap_pars_fragment:Pft,clearcoat_normal_fragment_begin:Nft,clearcoat_normal_fragment_maps:Rft,clearcoat_pars_fragment:Oft,iridescence_pars_fragment:kft,opaque_fragment:Ift,packing:Dft,premultiplied_alpha_fragment:jft,project_vertex:Lft,dithering_fragment:Fft,dithering_pars_fragment:Bft,roughnessmap_fragment:zft,roughnessmap_pars_fragment:Uft,shadowmap_pars_fragment:$ft,shadowmap_pars_vertex:Hft,shadowmap_vertex:Vft,shadowmask_pars_fragment:Wft,skinbase_vertex:Gft,skinning_pars_vertex:qft,skinning_vertex:Xft,skinnormal_vertex:Kft,specularmap_fragment:Yft,specularmap_pars_fragment:Zft,tonemapping_fragment:Qft,tonemapping_pars_fragment:Jft,transmission_fragment:eht,transmission_pars_fragment:tht,uv_pars_fragment:nht,uv_pars_vertex:rht,uv_vertex:iht,worldpos_vertex:sht,background_vert:oht,background_frag:aht,backgroundCube_vert:lht,backgroundCube_frag:cht,cube_vert:uht,cube_frag:dht,depth_vert:fht,depth_frag:hht,distanceRGBA_vert:pht,distanceRGBA_frag:mht,equirect_vert:ght,equirect_frag:vht,linedashed_vert:yht,linedashed_frag:xht,meshbasic_vert:_ht,meshbasic_frag:bht,meshlambert_vert:wht,meshlambert_frag:Sht,meshmatcap_vert:Eht,meshmatcap_frag:Cht,meshnormal_vert:Mht,meshnormal_frag:Aht,meshphong_vert:Tht,meshphong_frag:Pht,meshphysical_vert:Nht,meshphysical_frag:Rht,meshtoon_vert:Oht,meshtoon_frag:kht,points_vert:Iht,points_frag:Dht,shadow_vert:jht,shadow_frag:Lht,sprite_vert:Fht,sprite_frag:Bht},dt={common:{diffuse:{value:new pt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new rn},alphaMap:{value:null},alphaMapTransform:{value:new rn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new rn}},envmap:{envMap:{value:null},envMapRotation:{value:new rn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new rn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new rn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new rn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new rn},normalScale:{value:new $e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new rn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new rn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new rn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new rn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new pt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new pt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new rn},alphaTest:{value:0},uvTransform:{value:new rn}},sprite:{diffuse:{value:new pt(16777215)},opacity:{value:1},center:{value:new $e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new rn},alphaMap:{value:null},alphaMapTransform:{value:new rn},alphaTest:{value:0}}},Aa={basic:{uniforms:rs([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.fog]),vertexShader:ln.meshbasic_vert,fragmentShader:ln.meshbasic_frag},lambert:{uniforms:rs([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new pt(0)}}]),vertexShader:ln.meshlambert_vert,fragmentShader:ln.meshlambert_frag},phong:{uniforms:rs([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new pt(0)},specular:{value:new pt(1118481)},shininess:{value:30}}]),vertexShader:ln.meshphong_vert,fragmentShader:ln.meshphong_frag},standard:{uniforms:rs([dt.common,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.roughnessmap,dt.metalnessmap,dt.fog,dt.lights,{emissive:{value:new pt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag},toon:{uniforms:rs([dt.common,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.gradientmap,dt.fog,dt.lights,{emissive:{value:new pt(0)}}]),vertexShader:ln.meshtoon_vert,fragmentShader:ln.meshtoon_frag},matcap:{uniforms:rs([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,{matcap:{value:null}}]),vertexShader:ln.meshmatcap_vert,fragmentShader:ln.meshmatcap_frag},points:{uniforms:rs([dt.points,dt.fog]),vertexShader:ln.points_vert,fragmentShader:ln.points_frag},dashed:{uniforms:rs([dt.common,dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ln.linedashed_vert,fragmentShader:ln.linedashed_frag},depth:{uniforms:rs([dt.common,dt.displacementmap]),vertexShader:ln.depth_vert,fragmentShader:ln.depth_frag},normal:{uniforms:rs([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,{opacity:{value:1}}]),vertexShader:ln.meshnormal_vert,fragmentShader:ln.meshnormal_frag},sprite:{uniforms:rs([dt.sprite,dt.fog]),vertexShader:ln.sprite_vert,fragmentShader:ln.sprite_frag},background:{uniforms:{uvTransform:{value:new rn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ln.background_vert,fragmentShader:ln.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new rn}},vertexShader:ln.backgroundCube_vert,fragmentShader:ln.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ln.cube_vert,fragmentShader:ln.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ln.equirect_vert,fragmentShader:ln.equirect_frag},distanceRGBA:{uniforms:rs([dt.common,dt.displacementmap,{referencePosition:{value:new le},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ln.distanceRGBA_vert,fragmentShader:ln.distanceRGBA_frag},shadow:{uniforms:rs([dt.lights,dt.fog,{color:{value:new pt(0)},opacity:{value:1}}]),vertexShader:ln.shadow_vert,fragmentShader:ln.shadow_frag}};Aa.physical={uniforms:rs([Aa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new rn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new rn},clearcoatNormalScale:{value:new $e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new rn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new rn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new rn},sheen:{value:0},sheenColor:{value:new pt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new rn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new rn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new rn},transmissionSamplerSize:{value:new $e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new rn},attenuationDistance:{value:0},attenuationColor:{value:new pt(0)},specularColor:{value:new pt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new rn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new rn},anisotropyVector:{value:new $e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new rn}}]),vertexShader:ln.meshphysical_vert,fragmentShader:ln.meshphysical_frag};const VS={r:0,b:0,g:0},xf=new yo,zht=new Yt;function Uht(t,e,n,r,i,s,o){const a=new pt(0);let l=s===!0?0:1,c,f,d=null,h=0,g=null;function v(_){let b=_.isScene===!0?_.background:null;return b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b)),b}function x(_){let b=!1;const S=v(_);S===null?p(a,l):S&&S.isColor&&(p(S,1),b=!0);const C=t.xr.getEnvironmentBlendMode();C==="additive"?r.buffers.color.setClear(0,0,0,1,o):C==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function m(_,b){const S=v(b);S&&(S.isCubeTexture||S.mapping===sy)?(f===void 0&&(f=new Kr(new rp(1,1,1),new Jo({name:"BackgroundCubeMaterial",uniforms:Sv(Aa.backgroundCube.uniforms),vertexShader:Aa.backgroundCube.vertexShader,fragmentShader:Aa.backgroundCube.fragmentShader,side:Xi,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(C,M,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),xf.copy(b.backgroundRotation),xf.x*=-1,xf.y*=-1,xf.z*=-1,S.isCubeTexture&&S.isRenderTargetTexture===!1&&(xf.y*=-1,xf.z*=-1),f.material.uniforms.envMap.value=S,f.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(zht.makeRotationFromEuler(xf)),f.material.toneMapped=_n.getTransfer(S.colorSpace)!==zn,(d!==S||h!==S.version||g!==t.toneMapping)&&(f.material.needsUpdate=!0,d=S,h=S.version,g=t.toneMapping),f.layers.enableAll(),_.unshift(f,f.geometry,f.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new Kr(new ly(2,2),new Jo({name:"BackgroundMaterial",uniforms:Sv(Aa.background.uniforms),vertexShader:Aa.background.vertexShader,fragmentShader:Aa.background.fragmentShader,side:Vc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=_n.getTransfer(S.colorSpace)!==zn,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(d!==S||h!==S.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,d=S,h=S.version,g=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function p(_,b){_.getRGB(VS,Lde(t)),r.buffers.color.setClear(VS.r,VS.g,VS.b,b,o)}function y(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(_,b=1){a.set(_),l=b,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,p(a,l)},render:x,addToRenderList:m,dispose:y}}function $ht(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let s=i,o=!1;function a(N,k,D,j,F){let z=!1;const U=d(j,D,k);s!==U&&(s=U,c(s.object)),z=g(N,j,D,F),z&&v(N,j,D,F),F!==null&&e.update(F,t.ELEMENT_ARRAY_BUFFER),(z||o)&&(o=!1,b(N,k,D,j),F!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return t.createVertexArray()}function c(N){return t.bindVertexArray(N)}function f(N){return t.deleteVertexArray(N)}function d(N,k,D){const j=D.wireframe===!0;let F=r[N.id];F===void 0&&(F={},r[N.id]=F);let z=F[k.id];z===void 0&&(z={},F[k.id]=z);let U=z[j];return U===void 0&&(U=h(l()),z[j]=U),U}function h(N){const k=[],D=[],j=[];for(let F=0;F<n;F++)k[F]=0,D[F]=0,j[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:D,attributeDivisors:j,object:N,attributes:{},index:null}}function g(N,k,D,j){const F=s.attributes,z=k.attributes;let U=0;const H=D.getAttributes();for(const R in H)if(H[R].location>=0){const B=F[R];let W=z[R];if(W===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(W=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(W=N.instanceColor)),B===void 0||B.attribute!==W||W&&B.data!==W.data)return!0;U++}return s.attributesNum!==U||s.index!==j}function v(N,k,D,j){const F={},z=k.attributes;let U=0;const H=D.getAttributes();for(const R in H)if(H[R].location>=0){let B=z[R];B===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(B=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(B=N.instanceColor));const W={};W.attribute=B,B&&B.data&&(W.data=B.data),F[R]=W,U++}s.attributes=F,s.attributesNum=U,s.index=j}function x(){const N=s.newAttributes;for(let k=0,D=N.length;k<D;k++)N[k]=0}function m(N){p(N,0)}function p(N,k){const D=s.newAttributes,j=s.enabledAttributes,F=s.attributeDivisors;D[N]=1,j[N]===0&&(t.enableVertexAttribArray(N),j[N]=1),F[N]!==k&&(t.vertexAttribDivisor(N,k),F[N]=k)}function y(){const N=s.newAttributes,k=s.enabledAttributes;for(let D=0,j=k.length;D<j;D++)k[D]!==N[D]&&(t.disableVertexAttribArray(D),k[D]=0)}function _(N,k,D,j,F,z,U){U===!0?t.vertexAttribIPointer(N,k,D,F,z):t.vertexAttribPointer(N,k,D,j,F,z)}function b(N,k,D,j){x();const F=j.attributes,z=D.getAttributes(),U=k.defaultAttributeValues;for(const H in z){const R=z[H];if(R.location>=0){let I=F[H];if(I===void 0&&(H==="instanceMatrix"&&N.instanceMatrix&&(I=N.instanceMatrix),H==="instanceColor"&&N.instanceColor&&(I=N.instanceColor)),I!==void 0){const B=I.normalized,W=I.itemSize,G=e.get(I);if(G===void 0)continue;const X=G.buffer,ne=G.type,ae=G.bytesPerElement,se=ne===t.INT||ne===t.UNSIGNED_INT||I.gpuType===jP;if(I.isInterleavedBufferAttribute){const $=I.data,Y=$.stride,Q=I.offset;if($.isInstancedInterleavedBuffer){for(let ee=0;ee<R.locationSize;ee++)p(R.location+ee,$.meshPerAttribute);N.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let ee=0;ee<R.locationSize;ee++)m(R.location+ee);t.bindBuffer(t.ARRAY_BUFFER,X);for(let ee=0;ee<R.locationSize;ee++)_(R.location+ee,W/R.locationSize,ne,B,Y*ae,(Q+W/R.locationSize*ee)*ae,se)}else{if(I.isInstancedBufferAttribute){for(let $=0;$<R.locationSize;$++)p(R.location+$,I.meshPerAttribute);N.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=I.meshPerAttribute*I.count)}else for(let $=0;$<R.locationSize;$++)m(R.location+$);t.bindBuffer(t.ARRAY_BUFFER,X);for(let $=0;$<R.locationSize;$++)_(R.location+$,W/R.locationSize,ne,B,W*ae,W/R.locationSize*$*ae,se)}}else if(U!==void 0){const B=U[H];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv(R.location,B);break;case 3:t.vertexAttrib3fv(R.location,B);break;case 4:t.vertexAttrib4fv(R.location,B);break;default:t.vertexAttrib1fv(R.location,B)}}}}y()}function S(){T();for(const N in r){const k=r[N];for(const D in k){const j=k[D];for(const F in j)f(j[F].object),delete j[F];delete k[D]}delete r[N]}}function C(N){if(r[N.id]===void 0)return;const k=r[N.id];for(const D in k){const j=k[D];for(const F in j)f(j[F].object),delete j[F];delete k[D]}delete r[N.id]}function M(N){for(const k in r){const D=r[k];if(D[N.id]===void 0)continue;const j=D[N.id];for(const F in j)f(j[F].object),delete j[F];delete D[N.id]}}function T(){P(),o=!0,s!==i&&(s=i,c(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:T,resetDefaultState:P,dispose:S,releaseStatesOfGeometry:C,releaseStatesOfProgram:M,initAttributes:x,enableAttribute:m,disableUnusedAttributes:y}}function Hht(t,e,n){let r;function i(c){r=c}function s(c,f){t.drawArrays(r,c,f),n.update(f,r,1)}function o(c,f,d){d!==0&&(t.drawArraysInstanced(r,c,f,d),n.update(f,r,d))}function a(c,f,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,f,0,d);let g=0;for(let v=0;v<d;v++)g+=f[v];n.update(g,r,1)}function l(c,f,d,h){if(d===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<c.length;v++)o(c[v],f[v],h[v]);else{g.multiDrawArraysInstancedWEBGL(r,c,0,f,0,h,0,d);let v=0;for(let x=0;x<d;x++)v+=f[x]*h[x];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function Vht(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(M){return!(M!==Gi&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(M){const T=M===oy&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==Qo&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==Is&&!T)}function l(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const d=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=v>0,C=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:h,maxTextures:g,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:b,vertexTextures:S,maxSamples:C}}function Wht(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new hl,a=new rn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const g=d.length!==0||h||r!==0||i;return i=h,r=d.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){n=f(d,h,0)},this.setState=function(d,h,g){const v=d.clippingPlanes,x=d.clipIntersection,m=d.clipShadows,p=t.get(d);if(!i||v===null||v.length===0||s&&!m)s?f(null):c();else{const y=s?0:r,_=y*4;let b=p.clippingState||null;l.value=b,b=f(v,h,_,g);for(let S=0;S!==_;++S)b[S]=n[S];p.clippingState=b,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,h,g,v){const x=d!==null?d.length:0;let m=null;if(x!==0){if(m=l.value,v!==!0||m===null){const p=g+x*4,y=h.matrixWorldInverse;a.getNormalMatrix(y),(m===null||m.length<p)&&(m=new Float32Array(p));for(let _=0,b=g;_!==x;++_,b+=4)o.copy(d[_]).applyMatrix4(y,a),o.normal.toArray(m,b),m[b+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,m}}function Ght(t){let e=new WeakMap;function n(o,a){return a===j_?o.mapping=Wc:a===L_&&(o.mapping=Sd),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===j_||a===L_)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Bde(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Lm=4,u9=[.125,.215,.35,.446,.526,.582],kf=20,GO=new Ol,d9=new pt;let qO=null,XO=0,KO=0,YO=!1;const Rf=(1+Math.sqrt(5))/2,sm=1/Rf,f9=[new le(-Rf,sm,0),new le(Rf,sm,0),new le(-sm,0,Rf),new le(sm,0,Rf),new le(0,Rf,-sm),new le(0,Rf,sm),new le(-1,1,-1),new le(1,1,-1),new le(-1,1,1),new le(1,1,1)],qht=new le;class cL{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=qht}=s;qO=this._renderer.getRenderTarget(),XO=this._renderer.getActiveCubeFace(),KO=this._renderer.getActiveMipmapLevel(),YO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=m9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=p9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(qO,XO,KO),this._renderer.xr.enabled=YO,e.scissorTest=!1,WS(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Wc||e.mapping===Sd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),qO=this._renderer.getRenderTarget(),XO=this._renderer.getActiveCubeFace(),KO=this._renderer.getActiveMipmapLevel(),YO=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ai,minFilter:ai,generateMipmaps:!1,type:oy,format:Gi,colorSpace:zh,depthBuffer:!1},i=h9(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=h9(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Xht(s)),this._blurMaterial=Kht(s,e,n)}return i}_compileMaterial(e){const n=new Kr(this._lodPlanes[0],e);this._renderer.compile(n,GO)}_sceneToCubeUV(e,n,r,i,s){const l=new Sr(90,1,n,r),c=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,g=d.toneMapping;d.getClearColor(d9),d.toneMapping=Nl,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null));const x=new Hd({name:"PMREM.Background",side:Xi,depthWrite:!1,depthTest:!1}),m=new Kr(new rp,x);let p=!1;const y=e.background;y?y.isColor&&(x.color.copy(y),e.background=null,p=!0):(x.color.copy(d9),p=!0);for(let _=0;_<6;_++){const b=_%3;b===0?(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[_],s.y,s.z)):b===1?(l.up.set(0,0,c[_]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[_],s.z)):(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[_]));const S=this._cubeSize;WS(i,b*S,_>2?S:0,S,S),d.setRenderTarget(i),p&&d.render(m,l),d.render(e,l)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=g,d.autoClear=h,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Wc||e.mapping===Sd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=m9()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=p9());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Kr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;WS(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,GO)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=f9[(i-s-1)%f9.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new Kr(this._lodPlanes[i],c),h=c.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*kf-1),x=s/v,m=isFinite(s)?1+Math.floor(f*x):kf;m>kf&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${kf}`);const p=[];let y=0;for(let M=0;M<kf;++M){const T=M/x,P=Math.exp(-T*T/2);p.push(P),M===0?y+=P:M<m&&(y+=2*P)}for(let M=0;M<p.length;M++)p[M]=p[M]/y;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=p,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:_}=this;h.dTheta.value=v,h.mipInt.value=_-r;const b=this._sizeLods[i],S=3*b*(i>_-Lm?i-_+Lm:0),C=4*(this._cubeSize-b);WS(n,S,C,3*b,2*b),l.setRenderTarget(n),l.render(d,GO)}}function Xht(t){const e=[],n=[],r=[];let i=t;const s=t-Lm+1+u9.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Lm?l=u9[o-t+Lm-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),f=-c,d=1+c,h=[f,f,d,f,d,d,f,f,d,d,f,d],g=6,v=6,x=3,m=2,p=1,y=new Float32Array(x*v*g),_=new Float32Array(m*v*g),b=new Float32Array(p*v*g);for(let C=0;C<g;C++){const M=C%3*2/3-1,T=C>2?0:-1,P=[M,T,0,M+2/3,T,0,M+2/3,T+1,0,M,T,0,M+2/3,T+1,0,M,T+1,0];y.set(P,x*v*C),_.set(h,m*v*C);const N=[C,C,C,C,C,C];b.set(N,p*v*C)}const S=new on;S.setAttribute("position",new Wn(y,x)),S.setAttribute("uv",new Wn(_,m)),S.setAttribute("faceIndex",new Wn(b,p)),e.push(S),i>Lm&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function h9(t,e,n){const r=new Fl(t,e,n);return r.texture.mapping=sy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function WS(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Kht(t,e,n){const r=new Float32Array(kf),i=new le(0,1,0);return new Jo({name:"SphericalGaussianBlur",defines:{n:kf,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:N5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Rc,depthTest:!1,depthWrite:!1})}function p9(){return new Jo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:N5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Rc,depthTest:!1,depthWrite:!1})}function m9(){return new Jo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:N5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Rc,depthTest:!1,depthWrite:!1})}function N5(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Yht(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===j_||l===L_,f=l===Wc||l===Sd;if(c||f){let d=e.get(a);const h=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return n===null&&(n=new cL(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const g=a.image;return c&&g&&g.height>0||f&&g&&i(g)?(n===null&&(n=new cL(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function Zht(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&W_("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Qht(t,e,n,r){const i={},s=new WeakMap;function o(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",o),delete i[h.id];const g=s.get(h);g&&(e.remove(g),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(d,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER)}function c(d){const h=[],g=d.index,v=d.attributes.position;let x=0;if(g!==null){const y=g.array;x=g.version;for(let _=0,b=y.length;_<b;_+=3){const S=y[_+0],C=y[_+1],M=y[_+2];h.push(S,C,C,M,M,S)}}else if(v!==void 0){const y=v.array;x=v.version;for(let _=0,b=y.length/3-1;_<b;_+=3){const S=_+0,C=_+1,M=_+2;h.push(S,C,C,M,M,S)}}else return;const m=new(kde(h)?n5:t5)(h,1);m.version=x;const p=s.get(d);p&&e.remove(p),s.set(d,m)}function f(d){const h=s.get(d);if(h){const g=d.index;g!==null&&h.version<g.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function Jht(t,e,n){let r;function i(h){r=h}let s,o;function a(h){s=h.type,o=h.bytesPerElement}function l(h,g){t.drawElements(r,g,s,h*o),n.update(g,r,1)}function c(h,g,v){v!==0&&(t.drawElementsInstanced(r,g,s,h*o,v),n.update(g,r,v))}function f(h,g,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,h,0,v);let m=0;for(let p=0;p<v;p++)m+=g[p];n.update(m,r,1)}function d(h,g,v,x){if(v===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<h.length;p++)c(h[p]/o,g[p],x[p]);else{m.multiDrawElementsInstancedWEBGL(r,g,0,s,h,0,x,0,v);let p=0;for(let y=0;y<v;y++)p+=g[y]*x[y];n.update(p,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function ept(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function tpt(t,e,n){const r=new WeakMap,i=new En;function s(o,a,l){const c=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=f!==void 0?f.length:0;let h=r.get(a);if(h===void 0||h.count!==d){let N=function(){T.dispose(),r.delete(a),a.removeEventListener("dispose",N)};var g=N;h!==void 0&&h.texture.dispose();const v=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,m=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],y=a.morphAttributes.normal||[],_=a.morphAttributes.color||[];let b=0;v===!0&&(b=1),x===!0&&(b=2),m===!0&&(b=3);let S=a.attributes.position.count*b,C=1;S>e.maxTextureSize&&(C=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const M=new Float32Array(S*C*4*d),T=new HP(M,S,C,d);T.type=Is,T.needsUpdate=!0;const P=b*4;for(let k=0;k<d;k++){const D=p[k],j=y[k],F=_[k],z=S*C*4*k;for(let U=0;U<D.count;U++){const H=U*P;v===!0&&(i.fromBufferAttribute(D,U),M[z+H+0]=i.x,M[z+H+1]=i.y,M[z+H+2]=i.z,M[z+H+3]=0),x===!0&&(i.fromBufferAttribute(j,U),M[z+H+4]=i.x,M[z+H+5]=i.y,M[z+H+6]=i.z,M[z+H+7]=0),m===!0&&(i.fromBufferAttribute(F,U),M[z+H+8]=i.x,M[z+H+9]=i.y,M[z+H+10]=i.z,M[z+H+11]=F.itemSize===4?i.w:1)}}h={count:d,texture:T,size:new $e(S,C)},r.set(a,h),a.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let v=0;for(let m=0;m<c.length;m++)v+=c[m];const x=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function npt(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,f=l.geometry,d=e.get(l,f);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const Ffe=new Dr,g9=new l5(1,1),Bfe=new HP,zfe=new VP,Ufe=new sw,v9=[],y9=[],x9=new Float32Array(16),_9=new Float32Array(9),b9=new Float32Array(4);function cy(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=v9[i];if(s===void 0&&(s=new Float32Array(i),v9[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function li(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ci(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function d2(t,e){let n=y9[e];n===void 0&&(n=new Int32Array(e),y9[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function rpt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ipt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(li(n,e))return;t.uniform2fv(this.addr,e),ci(n,e)}}function spt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(li(n,e))return;t.uniform3fv(this.addr,e),ci(n,e)}}function opt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(li(n,e))return;t.uniform4fv(this.addr,e),ci(n,e)}}function apt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(li(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ci(n,e)}else{if(li(n,r))return;b9.set(r),t.uniformMatrix2fv(this.addr,!1,b9),ci(n,r)}}function lpt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(li(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ci(n,e)}else{if(li(n,r))return;_9.set(r),t.uniformMatrix3fv(this.addr,!1,_9),ci(n,r)}}function cpt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(li(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ci(n,e)}else{if(li(n,r))return;x9.set(r),t.uniformMatrix4fv(this.addr,!1,x9),ci(n,r)}}function upt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function dpt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(li(n,e))return;t.uniform2iv(this.addr,e),ci(n,e)}}function fpt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(li(n,e))return;t.uniform3iv(this.addr,e),ci(n,e)}}function hpt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(li(n,e))return;t.uniform4iv(this.addr,e),ci(n,e)}}function ppt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function mpt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(li(n,e))return;t.uniform2uiv(this.addr,e),ci(n,e)}}function gpt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(li(n,e))return;t.uniform3uiv(this.addr,e),ci(n,e)}}function vpt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(li(n,e))return;t.uniform4uiv(this.addr,e),ci(n,e)}}function ypt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(g9.compareFunction=QB,s=g9):s=Ffe,n.setTexture2D(e||s,i)}function xpt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||zfe,i)}function _pt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||Ufe,i)}function bpt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Bfe,i)}function wpt(t){switch(t){case 5126:return rpt;case 35664:return ipt;case 35665:return spt;case 35666:return opt;case 35674:return apt;case 35675:return lpt;case 35676:return cpt;case 5124:case 35670:return upt;case 35667:case 35671:return dpt;case 35668:case 35672:return fpt;case 35669:case 35673:return hpt;case 5125:return ppt;case 36294:return mpt;case 36295:return gpt;case 36296:return vpt;case 35678:case 36198:case 36298:case 36306:case 35682:return ypt;case 35679:case 36299:case 36307:return xpt;case 35680:case 36300:case 36308:case 36293:return _pt;case 36289:case 36303:case 36311:case 36292:return bpt}}function Spt(t,e){t.uniform1fv(this.addr,e)}function Ept(t,e){const n=cy(e,this.size,2);t.uniform2fv(this.addr,n)}function Cpt(t,e){const n=cy(e,this.size,3);t.uniform3fv(this.addr,n)}function Mpt(t,e){const n=cy(e,this.size,4);t.uniform4fv(this.addr,n)}function Apt(t,e){const n=cy(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Tpt(t,e){const n=cy(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Ppt(t,e){const n=cy(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Npt(t,e){t.uniform1iv(this.addr,e)}function Rpt(t,e){t.uniform2iv(this.addr,e)}function Opt(t,e){t.uniform3iv(this.addr,e)}function kpt(t,e){t.uniform4iv(this.addr,e)}function Ipt(t,e){t.uniform1uiv(this.addr,e)}function Dpt(t,e){t.uniform2uiv(this.addr,e)}function jpt(t,e){t.uniform3uiv(this.addr,e)}function Lpt(t,e){t.uniform4uiv(this.addr,e)}function Fpt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);li(r,s)||(t.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||Ffe,s[o])}function Bpt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);li(r,s)||(t.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||zfe,s[o])}function zpt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);li(r,s)||(t.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||Ufe,s[o])}function Upt(t,e,n){const r=this.cache,i=e.length,s=d2(n,i);li(r,s)||(t.uniform1iv(this.addr,s),ci(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||Bfe,s[o])}function $pt(t){switch(t){case 5126:return Spt;case 35664:return Ept;case 35665:return Cpt;case 35666:return Mpt;case 35674:return Apt;case 35675:return Tpt;case 35676:return Ppt;case 5124:case 35670:return Npt;case 35667:case 35671:return Rpt;case 35668:case 35672:return Opt;case 35669:case 35673:return kpt;case 5125:return Ipt;case 36294:return Dpt;case 36295:return jpt;case 36296:return Lpt;case 35678:case 36198:case 36298:case 36306:case 35682:return Fpt;case 35679:case 36299:case 36307:return Bpt;case 35680:case 36300:case 36308:case 36293:return zpt;case 36289:case 36303:case 36311:case 36292:return Upt}}class Hpt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=wpt(n.type)}}class Vpt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=$pt(n.type)}}class Wpt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const ZO=/(\w+)(\])?(\[|\.)?/g;function w9(t,e){t.seq.push(e),t.map[e.id]=e}function Gpt(t,e,n){const r=t.name,i=r.length;for(ZO.lastIndex=0;;){const s=ZO.exec(r),o=ZO.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){w9(n,c===void 0?new Hpt(a,t,e):new Vpt(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new Wpt(a),w9(n,d)),n=d}}}class TE{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);Gpt(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function S9(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const qpt=37297;let Xpt=0;function Kpt(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const E9=new rn;function Ypt(t){_n._getMatrix(E9,_n.workingColorSpace,t);const e=`mat3( ${E9.elements.map(n=>n.toFixed(4))} )`;switch(_n.getTransfer(t)){case $_:return[e,"LinearTransferOETF"];case zn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function C9(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+Kpt(t.getShaderSource(e),a)}else return s}function Zpt(t,e){const n=Ypt(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function Qpt(t,e){let n;switch(e){case fde:n="Linear";break;case hde:n="Reinhard";break;case pde:n="Cineon";break;case $B:n="ACESFilmic";break;case gde:n="AgX";break;case vde:n="Neutral";break;case mde:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const GS=new le;function Jpt(){_n.getLuminanceCoefficients(GS);const t=GS.x.toFixed(4),e=GS.y.toFixed(4),n=GS.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function emt(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(L0).join(`
`)}function tmt(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function nmt(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function L0(t){return t!==""}function M9(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function A9(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const rmt=/^[ \t]*#include +<([\w\d./]+)>/gm;function uL(t){return t.replace(rmt,smt)}const imt=new Map;function smt(t,e){let n=ln[e];if(n===void 0){const r=imt.get(e);if(r!==void 0)n=ln[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return uL(n)}const omt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function T9(t){return t.replace(omt,amt)}function amt(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function P9(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lmt(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===IP?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===sx?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===va&&(e="SHADOWMAP_TYPE_VSM"),e}function cmt(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Wc:case Sd:e="ENVMAP_TYPE_CUBE";break;case sy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function umt(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Sd:e="ENVMAP_MODE_REFRACTION";break}return e}function dmt(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case nw:e="ENVMAP_BLENDING_MULTIPLY";break;case ude:e="ENVMAP_BLENDING_MIX";break;case dde:e="ENVMAP_BLENDING_ADD";break}return e}function fmt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function hmt(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=lmt(n),c=cmt(n),f=umt(n),d=dmt(n),h=fmt(n),g=emt(n),v=tmt(s),x=i.createProgram();let m,p,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(L0).join(`
`),m.length>0&&(m+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(L0).join(`
`),p.length>0&&(p+=`
`)):(m=[P9(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(L0).join(`
`),p=[P9(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Nl?"#define TONE_MAPPING":"",n.toneMapping!==Nl?ln.tonemapping_pars_fragment:"",n.toneMapping!==Nl?Qpt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",ln.colorspace_pars_fragment,Zpt("linearToOutputTexel",n.outputColorSpace),Jpt(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(L0).join(`
`)),o=uL(o),o=M9(o,n),o=A9(o,n),a=uL(a),a=M9(a,n),a=A9(a,n),o=T9(o),a=T9(a),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,m=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,p=["#define varying in",n.glslVersion===eL?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===eL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const _=y+m+o,b=y+p+a,S=S9(i,i.VERTEX_SHADER,_),C=S9(i,i.FRAGMENT_SHADER,b);i.attachShader(x,S),i.attachShader(x,C),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function M(k){if(t.debug.checkShaderErrors){const D=i.getProgramInfoLog(x)||"",j=i.getShaderInfoLog(S)||"",F=i.getShaderInfoLog(C)||"",z=D.trim(),U=j.trim(),H=F.trim();let R=!0,I=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(R=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,S,C);else{const B=C9(i,S,"vertex"),W=C9(i,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+z+`
`+B+`
`+W)}else z!==""?console.warn("THREE.WebGLProgram: Program Info Log:",z):(U===""||H==="")&&(I=!1);I&&(k.diagnostics={runnable:R,programLog:z,vertexShader:{log:U,prefix:m},fragmentShader:{log:H,prefix:p}})}i.deleteShader(S),i.deleteShader(C),T=new TE(i,x),P=nmt(i,x)}let T;this.getUniforms=function(){return T===void 0&&M(this),T};let P;this.getAttributes=function(){return P===void 0&&M(this),P};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(x,qpt)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Xpt++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=S,this.fragmentShader=C,this}let pmt=0;class mmt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new gmt(e),n.set(e,r)),r}}class gmt{constructor(e){this.id=pmt++,this.code=e,this.usedTimes=0}}function vmt(t,e,n,r,i,s,o){const a=new dh,l=new mmt,c=new Set,f=[],d=i.logarithmicDepthBuffer,h=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P){return c.add(P),P===0?"uv":`uv${P}`}function m(P,N,k,D,j){const F=D.fog,z=j.geometry,U=P.isMeshStandardMaterial?D.environment:null,H=(P.isMeshStandardMaterial?n:e).get(P.envMap||U),R=H&&H.mapping===sy?H.image.height:null,I=v[P.type];P.precision!==null&&(g=i.getMaxPrecision(P.precision),g!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",g,"instead."));const B=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,W=B!==void 0?B.length:0;let G=0;z.morphAttributes.position!==void 0&&(G=1),z.morphAttributes.normal!==void 0&&(G=2),z.morphAttributes.color!==void 0&&(G=3);let X,ne,ae,se;if(I){const Gt=Aa[I];X=Gt.vertexShader,ne=Gt.fragmentShader}else X=P.vertexShader,ne=P.fragmentShader,l.update(P),ae=l.getVertexShaderID(P),se=l.getFragmentShaderID(P);const $=t.getRenderTarget(),Y=t.state.buffers.depth.getReversed(),Q=j.isInstancedMesh===!0,ee=j.isBatchedMesh===!0,ue=!!P.map,J=!!P.matcap,K=!!H,re=!!P.aoMap,fe=!!P.lightMap,me=!!P.bumpMap,pe=!!P.normalMap,Ae=!!P.displacementMap,Ce=!!P.emissiveMap,De=!!P.metalnessMap,ot=!!P.roughnessMap,nt=P.anisotropy>0,ie=P.clearcoat>0,Z=P.dispersion>0,ve=P.iridescence>0,Se=P.sheen>0,Ie=P.transmission>0,Me=nt&&!!P.anisotropyMap,ct=ie&&!!P.clearcoatMap,Ve=ie&&!!P.clearcoatNormalMap,lt=ie&&!!P.clearcoatRoughnessMap,qe=ve&&!!P.iridescenceMap,He=ve&&!!P.iridescenceThicknessMap,at=Se&&!!P.sheenColorMap,Mt=Se&&!!P.sheenRoughnessMap,he=!!P.specularMap,Ee=!!P.specularColorMap,Qe=!!P.specularIntensityMap,ce=Ie&&!!P.transmissionMap,Ne=Ie&&!!P.thicknessMap,ze=!!P.gradientMap,We=!!P.alphaMap,Ue=P.alphaTest>0,Le=!!P.alphaHash,Je=!!P.extensions;let gt=Nl;P.toneMapped&&($===null||$.isXRRenderTarget===!0)&&(gt=t.toneMapping);const $t={shaderID:I,shaderType:P.type,shaderName:P.name,vertexShader:X,fragmentShader:ne,defines:P.defines,customVertexShaderID:ae,customFragmentShaderID:se,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:g,batching:ee,batchingColor:ee&&j._colorsTexture!==null,instancing:Q,instancingColor:Q&&j.instanceColor!==null,instancingMorph:Q&&j.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:$===null?t.outputColorSpace:$.isXRRenderTarget===!0?$.texture.colorSpace:zh,alphaToCoverage:!!P.alphaToCoverage,map:ue,matcap:J,envMap:K,envMapMode:K&&H.mapping,envMapCubeUVHeight:R,aoMap:re,lightMap:fe,bumpMap:me,normalMap:pe,displacementMap:h&&Ae,emissiveMap:Ce,normalMapObjectSpace:pe&&P.normalMapType===Ede,normalMapTangentSpace:pe&&P.normalMapType===$d,metalnessMap:De,roughnessMap:ot,anisotropy:nt,anisotropyMap:Me,clearcoat:ie,clearcoatMap:ct,clearcoatNormalMap:Ve,clearcoatRoughnessMap:lt,dispersion:Z,iridescence:ve,iridescenceMap:qe,iridescenceThicknessMap:He,sheen:Se,sheenColorMap:at,sheenRoughnessMap:Mt,specularMap:he,specularColorMap:Ee,specularIntensityMap:Qe,transmission:Ie,transmissionMap:ce,thicknessMap:Ne,gradientMap:ze,opaque:P.transparent===!1&&P.blending===ch&&P.alphaToCoverage===!1,alphaMap:We,alphaTest:Ue,alphaHash:Le,combine:P.combine,mapUv:ue&&x(P.map.channel),aoMapUv:re&&x(P.aoMap.channel),lightMapUv:fe&&x(P.lightMap.channel),bumpMapUv:me&&x(P.bumpMap.channel),normalMapUv:pe&&x(P.normalMap.channel),displacementMapUv:Ae&&x(P.displacementMap.channel),emissiveMapUv:Ce&&x(P.emissiveMap.channel),metalnessMapUv:De&&x(P.metalnessMap.channel),roughnessMapUv:ot&&x(P.roughnessMap.channel),anisotropyMapUv:Me&&x(P.anisotropyMap.channel),clearcoatMapUv:ct&&x(P.clearcoatMap.channel),clearcoatNormalMapUv:Ve&&x(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:lt&&x(P.clearcoatRoughnessMap.channel),iridescenceMapUv:qe&&x(P.iridescenceMap.channel),iridescenceThicknessMapUv:He&&x(P.iridescenceThicknessMap.channel),sheenColorMapUv:at&&x(P.sheenColorMap.channel),sheenRoughnessMapUv:Mt&&x(P.sheenRoughnessMap.channel),specularMapUv:he&&x(P.specularMap.channel),specularColorMapUv:Ee&&x(P.specularColorMap.channel),specularIntensityMapUv:Qe&&x(P.specularIntensityMap.channel),transmissionMapUv:ce&&x(P.transmissionMap.channel),thicknessMapUv:Ne&&x(P.thicknessMap.channel),alphaMapUv:We&&x(P.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(pe||nt),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,pointsUvs:j.isPoints===!0&&!!z.attributes.uv&&(ue||We),fog:!!F,useFog:P.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:Y,skinning:j.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:G,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:gt,decodeVideoTexture:ue&&P.map.isVideoTexture===!0&&_n.getTransfer(P.map.colorSpace)===zn,decodeVideoTextureEmissive:Ce&&P.emissiveMap.isVideoTexture===!0&&_n.getTransfer(P.emissiveMap.colorSpace)===zn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Pa,flipSided:P.side===Xi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:Je&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Je&&P.extensions.multiDraw===!0||ee)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return $t.vertexUv1s=c.has(1),$t.vertexUv2s=c.has(2),$t.vertexUv3s=c.has(3),c.clear(),$t}function p(P){const N=[];if(P.shaderID?N.push(P.shaderID):(N.push(P.customVertexShaderID),N.push(P.customFragmentShaderID)),P.defines!==void 0)for(const k in P.defines)N.push(k),N.push(P.defines[k]);return P.isRawShaderMaterial===!1&&(y(N,P),_(N,P),N.push(t.outputColorSpace)),N.push(P.customProgramCacheKey),N.join()}function y(P,N){P.push(N.precision),P.push(N.outputColorSpace),P.push(N.envMapMode),P.push(N.envMapCubeUVHeight),P.push(N.mapUv),P.push(N.alphaMapUv),P.push(N.lightMapUv),P.push(N.aoMapUv),P.push(N.bumpMapUv),P.push(N.normalMapUv),P.push(N.displacementMapUv),P.push(N.emissiveMapUv),P.push(N.metalnessMapUv),P.push(N.roughnessMapUv),P.push(N.anisotropyMapUv),P.push(N.clearcoatMapUv),P.push(N.clearcoatNormalMapUv),P.push(N.clearcoatRoughnessMapUv),P.push(N.iridescenceMapUv),P.push(N.iridescenceThicknessMapUv),P.push(N.sheenColorMapUv),P.push(N.sheenRoughnessMapUv),P.push(N.specularMapUv),P.push(N.specularColorMapUv),P.push(N.specularIntensityMapUv),P.push(N.transmissionMapUv),P.push(N.thicknessMapUv),P.push(N.combine),P.push(N.fogExp2),P.push(N.sizeAttenuation),P.push(N.morphTargetsCount),P.push(N.morphAttributeCount),P.push(N.numDirLights),P.push(N.numPointLights),P.push(N.numSpotLights),P.push(N.numSpotLightMaps),P.push(N.numHemiLights),P.push(N.numRectAreaLights),P.push(N.numDirLightShadows),P.push(N.numPointLightShadows),P.push(N.numSpotLightShadows),P.push(N.numSpotLightShadowsWithMaps),P.push(N.numLightProbes),P.push(N.shadowMapType),P.push(N.toneMapping),P.push(N.numClippingPlanes),P.push(N.numClipIntersection),P.push(N.depthPacking)}function _(P,N){a.disableAll(),N.supportsVertexTextures&&a.enable(0),N.instancing&&a.enable(1),N.instancingColor&&a.enable(2),N.instancingMorph&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),N.dispersion&&a.enable(20),N.batchingColor&&a.enable(21),N.gradientMap&&a.enable(22),P.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.reversedDepthBuffer&&a.enable(4),N.skinning&&a.enable(5),N.morphTargets&&a.enable(6),N.morphNormals&&a.enable(7),N.morphColors&&a.enable(8),N.premultipliedAlpha&&a.enable(9),N.shadowMapEnabled&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),N.decodeVideoTexture&&a.enable(19),N.decodeVideoTextureEmissive&&a.enable(20),N.alphaToCoverage&&a.enable(21),P.push(a.mask)}function b(P){const N=v[P.type];let k;if(N){const D=Aa[N];k=r5.clone(D.uniforms)}else k=P.uniforms;return k}function S(P,N){let k;for(let D=0,j=f.length;D<j;D++){const F=f[D];if(F.cacheKey===N){k=F,++k.usedTimes;break}}return k===void 0&&(k=new hmt(t,N,P,s),f.push(k)),k}function C(P){if(--P.usedTimes===0){const N=f.indexOf(P);f[N]=f[f.length-1],f.pop(),P.destroy()}}function M(P){l.remove(P)}function T(){l.dispose()}return{getParameters:m,getProgramCacheKey:p,getUniforms:b,acquireProgram:S,releaseProgram:C,releaseShaderCache:M,programs:f,dispose:T}}function ymt(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function xmt(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function N9(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function R9(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,h,g,v,x,m){let p=t[e];return p===void 0?(p={id:d.id,object:d,geometry:h,material:g,groupOrder:v,renderOrder:d.renderOrder,z:x,group:m},t[e]=p):(p.id=d.id,p.object=d,p.geometry=h,p.material=g,p.groupOrder=v,p.renderOrder=d.renderOrder,p.z=x,p.group=m),e++,p}function a(d,h,g,v,x,m){const p=o(d,h,g,v,x,m);g.transmission>0?r.push(p):g.transparent===!0?i.push(p):n.push(p)}function l(d,h,g,v,x,m){const p=o(d,h,g,v,x,m);g.transmission>0?r.unshift(p):g.transparent===!0?i.unshift(p):n.unshift(p)}function c(d,h){n.length>1&&n.sort(d||xmt),r.length>1&&r.sort(h||N9),i.length>1&&i.sort(h||N9)}function f(){for(let d=e,h=t.length;d<h;d++){const g=t[d];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:c}}function _mt(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new R9,t.set(r,[o])):i>=s.length?(o=new R9,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function bmt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new le,color:new pt};break;case"SpotLight":n={position:new le,direction:new le,color:new pt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new le,color:new pt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new le,skyColor:new pt,groundColor:new pt};break;case"RectAreaLight":n={color:new pt,position:new le,halfWidth:new le,halfHeight:new le};break}return t[e.id]=n,n}}}function wmt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new $e,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Smt=0;function Emt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Cmt(t){const e=new bmt,n=wmt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new le);const i=new le,s=new Yt,o=new Yt;function a(c){let f=0,d=0,h=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let g=0,v=0,x=0,m=0,p=0,y=0,_=0,b=0,S=0,C=0,M=0;c.sort(Emt);for(let P=0,N=c.length;P<N;P++){const k=c[P],D=k.color,j=k.intensity,F=k.distance,z=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)f+=D.r*j,d+=D.g*j,h+=D.b*j;else if(k.isLightProbe){for(let U=0;U<9;U++)r.probe[U].addScaledVector(k.sh.coefficients[U],j);M++}else if(k.isDirectionalLight){const U=e.get(k);if(U.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const H=k.shadow,R=n.get(k);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,r.directionalShadow[g]=R,r.directionalShadowMap[g]=z,r.directionalShadowMatrix[g]=k.shadow.matrix,y++}r.directional[g]=U,g++}else if(k.isSpotLight){const U=e.get(k);U.position.setFromMatrixPosition(k.matrixWorld),U.color.copy(D).multiplyScalar(j),U.distance=F,U.coneCos=Math.cos(k.angle),U.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),U.decay=k.decay,r.spot[x]=U;const H=k.shadow;if(k.map&&(r.spotLightMap[S]=k.map,S++,H.updateMatrices(k),k.castShadow&&C++),r.spotLightMatrix[x]=H.matrix,k.castShadow){const R=n.get(k);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,r.spotShadow[x]=R,r.spotShadowMap[x]=z,b++}x++}else if(k.isRectAreaLight){const U=e.get(k);U.color.copy(D).multiplyScalar(j),U.halfWidth.set(k.width*.5,0,0),U.halfHeight.set(0,k.height*.5,0),r.rectArea[m]=U,m++}else if(k.isPointLight){const U=e.get(k);if(U.color.copy(k.color).multiplyScalar(k.intensity),U.distance=k.distance,U.decay=k.decay,k.castShadow){const H=k.shadow,R=n.get(k);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,R.shadowCameraNear=H.camera.near,R.shadowCameraFar=H.camera.far,r.pointShadow[v]=R,r.pointShadowMap[v]=z,r.pointShadowMatrix[v]=k.shadow.matrix,_++}r.point[v]=U,v++}else if(k.isHemisphereLight){const U=e.get(k);U.skyColor.copy(k.color).multiplyScalar(j),U.groundColor.copy(k.groundColor).multiplyScalar(j),r.hemi[p]=U,p++}}m>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=dt.LTC_FLOAT_1,r.rectAreaLTC2=dt.LTC_FLOAT_2):(r.rectAreaLTC1=dt.LTC_HALF_1,r.rectAreaLTC2=dt.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=d,r.ambient[2]=h;const T=r.hash;(T.directionalLength!==g||T.pointLength!==v||T.spotLength!==x||T.rectAreaLength!==m||T.hemiLength!==p||T.numDirectionalShadows!==y||T.numPointShadows!==_||T.numSpotShadows!==b||T.numSpotMaps!==S||T.numLightProbes!==M)&&(r.directional.length=g,r.spot.length=x,r.rectArea.length=m,r.point.length=v,r.hemi.length=p,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=b+S-C,r.spotLightMap.length=S,r.numSpotLightShadowsWithMaps=C,r.numLightProbes=M,T.directionalLength=g,T.pointLength=v,T.spotLength=x,T.rectAreaLength=m,T.hemiLength=p,T.numDirectionalShadows=y,T.numPointShadows=_,T.numSpotShadows=b,T.numSpotMaps=S,T.numLightProbes=M,r.version=Smt++)}function l(c,f){let d=0,h=0,g=0,v=0,x=0;const m=f.matrixWorldInverse;for(let p=0,y=c.length;p<y;p++){const _=c[p];if(_.isDirectionalLight){const b=r.directional[d];b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),d++}else if(_.isSpotLight){const b=r.spot[g];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),g++}else if(_.isRectAreaLight){const b=r.rectArea[v];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),o.identity(),s.copy(_.matrixWorld),s.premultiply(m),o.extractRotation(s),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(_.isPointLight){const b=r.point[h];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),h++}else if(_.isHemisphereLight){const b=r.hemi[x];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(m),x++}}}return{setup:a,setupView:l,state:r}}function O9(t){const e=new Cmt(t),n=[],r=[];function i(f){c.camera=f,n.length=0,r.length=0}function s(f){n.push(f)}function o(f){r.push(f)}function a(){e.setup(n)}function l(f){e.setupView(n,f)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Mmt(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new O9(t),e.set(i,[a])):s>=o.length?(a=new O9(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const Amt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Tmt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Pmt(t,e,n){let r=new ay;const i=new $e,s=new $e,o=new En,a=new v5({depthPacking:Sde}),l=new y5,c={},f=n.maxTextureSize,d={[Vc]:Xi,[Xi]:Vc,[Pa]:Pa},h=new Jo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new $e},radius:{value:4}},vertexShader:Amt,fragmentShader:Tmt}),g=h.clone();g.defines.HORIZONTAL_PASS=1;const v=new on;v.setAttribute("position",new Wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new Kr(v,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=IP;let p=this.type;this.render=function(C,M,T){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||C.length===0)return;const P=t.getRenderTarget(),N=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),D=t.state;D.setBlending(Rc),D.buffers.depth.getReversed()===!0?D.buffers.color.setClear(0,0,0,0):D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const j=p!==va&&this.type===va,F=p===va&&this.type!==va;for(let z=0,U=C.length;z<U;z++){const H=C[z],R=H.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;i.copy(R.mapSize);const I=R.getFrameExtents();if(i.multiply(I),s.copy(R.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/I.x),i.x=s.x*I.x,R.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/I.y),i.y=s.y*I.y,R.mapSize.y=s.y)),R.map===null||j===!0||F===!0){const W=this.type!==va?{minFilter:Ai,magFilter:Ai}:{};R.map!==null&&R.map.dispose(),R.map=new Fl(i.x,i.y,W),R.map.texture.name=H.name+".shadowMap",R.camera.updateProjectionMatrix()}t.setRenderTarget(R.map),t.clear();const B=R.getViewportCount();for(let W=0;W<B;W++){const G=R.getViewport(W);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),D.viewport(o),R.updateMatrices(H,W),r=R.getFrustum(),b(M,T,R.camera,H,this.type)}R.isPointLightShadow!==!0&&this.type===va&&y(R,T),R.needsUpdate=!1}p=this.type,m.needsUpdate=!1,t.setRenderTarget(P,N,k)};function y(C,M){const T=e.update(x);h.defines.VSM_SAMPLES!==C.blurSamples&&(h.defines.VSM_SAMPLES=C.blurSamples,g.defines.VSM_SAMPLES=C.blurSamples,h.needsUpdate=!0,g.needsUpdate=!0),C.mapPass===null&&(C.mapPass=new Fl(i.x,i.y)),h.uniforms.shadow_pass.value=C.map.texture,h.uniforms.resolution.value=C.mapSize,h.uniforms.radius.value=C.radius,t.setRenderTarget(C.mapPass),t.clear(),t.renderBufferDirect(M,null,T,h,x,null),g.uniforms.shadow_pass.value=C.mapPass.texture,g.uniforms.resolution.value=C.mapSize,g.uniforms.radius.value=C.radius,t.setRenderTarget(C.map),t.clear(),t.renderBufferDirect(M,null,T,g,x,null)}function _(C,M,T,P){let N=null;const k=T.isPointLight===!0?C.customDistanceMaterial:C.customDepthMaterial;if(k!==void 0)N=k;else if(N=T.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0||M.alphaToCoverage===!0){const D=N.uuid,j=M.uuid;let F=c[D];F===void 0&&(F={},c[D]=F);let z=F[j];z===void 0&&(z=N.clone(),F[j]=z,M.addEventListener("dispose",S)),N=z}if(N.visible=M.visible,N.wireframe=M.wireframe,P===va?N.side=M.shadowSide!==null?M.shadowSide:M.side:N.side=M.shadowSide!==null?M.shadowSide:d[M.side],N.alphaMap=M.alphaMap,N.alphaTest=M.alphaToCoverage===!0?.5:M.alphaTest,N.map=M.map,N.clipShadows=M.clipShadows,N.clippingPlanes=M.clippingPlanes,N.clipIntersection=M.clipIntersection,N.displacementMap=M.displacementMap,N.displacementScale=M.displacementScale,N.displacementBias=M.displacementBias,N.wireframeLinewidth=M.wireframeLinewidth,N.linewidth=M.linewidth,T.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const D=t.properties.get(N);D.light=T}return N}function b(C,M,T,P,N){if(C.visible===!1)return;if(C.layers.test(M.layers)&&(C.isMesh||C.isLine||C.isPoints)&&(C.castShadow||C.receiveShadow&&N===va)&&(!C.frustumCulled||r.intersectsObject(C))){C.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,C.matrixWorld);const j=e.update(C),F=C.material;if(Array.isArray(F)){const z=j.groups;for(let U=0,H=z.length;U<H;U++){const R=z[U],I=F[R.materialIndex];if(I&&I.visible){const B=_(C,I,P,N);C.onBeforeShadow(t,C,M,T,j,B,R),t.renderBufferDirect(T,null,j,B,C,R),C.onAfterShadow(t,C,M,T,j,B,R)}}}else if(F.visible){const z=_(C,F,P,N);C.onBeforeShadow(t,C,M,T,j,z,null),t.renderBufferDirect(T,null,j,z,C,null),C.onAfterShadow(t,C,M,T,j,z,null)}}const D=C.children;for(let j=0,F=D.length;j<F;j++)b(D[j],M,T,P,N)}function S(C){C.target.removeEventListener("dispose",S);for(const T in c){const P=c[T],N=C.target.uuid;N in P&&(P[N].dispose(),delete P[N])}}}const Nmt={[BM]:zM,[UM]:VM,[$M]:WM,[Bh]:HM,[zM]:BM,[VM]:UM,[WM]:$M,[HM]:Bh};function Rmt(t,e){function n(){let ce=!1;const Ne=new En;let ze=null;const We=new En(0,0,0,0);return{setMask:function(Ue){ze!==Ue&&!ce&&(t.colorMask(Ue,Ue,Ue,Ue),ze=Ue)},setLocked:function(Ue){ce=Ue},setClear:function(Ue,Le,Je,gt,$t){$t===!0&&(Ue*=gt,Le*=gt,Je*=gt),Ne.set(Ue,Le,Je,gt),We.equals(Ne)===!1&&(t.clearColor(Ue,Le,Je,gt),We.copy(Ne))},reset:function(){ce=!1,ze=null,We.set(-1,0,0,0)}}}function r(){let ce=!1,Ne=!1,ze=null,We=null,Ue=null;return{setReversed:function(Le){if(Ne!==Le){const Je=e.get("EXT_clip_control");Le?Je.clipControlEXT(Je.LOWER_LEFT_EXT,Je.ZERO_TO_ONE_EXT):Je.clipControlEXT(Je.LOWER_LEFT_EXT,Je.NEGATIVE_ONE_TO_ONE_EXT),Ne=Le;const gt=Ue;Ue=null,this.setClear(gt)}},getReversed:function(){return Ne},setTest:function(Le){Le?$(t.DEPTH_TEST):Y(t.DEPTH_TEST)},setMask:function(Le){ze!==Le&&!ce&&(t.depthMask(Le),ze=Le)},setFunc:function(Le){if(Ne&&(Le=Nmt[Le]),We!==Le){switch(Le){case BM:t.depthFunc(t.NEVER);break;case zM:t.depthFunc(t.ALWAYS);break;case UM:t.depthFunc(t.LESS);break;case Bh:t.depthFunc(t.LEQUAL);break;case $M:t.depthFunc(t.EQUAL);break;case HM:t.depthFunc(t.GEQUAL);break;case VM:t.depthFunc(t.GREATER);break;case WM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}We=Le}},setLocked:function(Le){ce=Le},setClear:function(Le){Ue!==Le&&(Ne&&(Le=1-Le),t.clearDepth(Le),Ue=Le)},reset:function(){ce=!1,ze=null,We=null,Ue=null,Ne=!1}}}function i(){let ce=!1,Ne=null,ze=null,We=null,Ue=null,Le=null,Je=null,gt=null,$t=null;return{setTest:function(Gt){ce||(Gt?$(t.STENCIL_TEST):Y(t.STENCIL_TEST))},setMask:function(Gt){Ne!==Gt&&!ce&&(t.stencilMask(Gt),Ne=Gt)},setFunc:function(Gt,Bn,In){(ze!==Gt||We!==Bn||Ue!==In)&&(t.stencilFunc(Gt,Bn,In),ze=Gt,We=Bn,Ue=In)},setOp:function(Gt,Bn,In){(Le!==Gt||Je!==Bn||gt!==In)&&(t.stencilOp(Gt,Bn,In),Le=Gt,Je=Bn,gt=In)},setLocked:function(Gt){ce=Gt},setClear:function(Gt){$t!==Gt&&(t.clearStencil(Gt),$t=Gt)},reset:function(){ce=!1,Ne=null,ze=null,We=null,Ue=null,Le=null,Je=null,gt=null,$t=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let f={},d={},h=new WeakMap,g=[],v=null,x=!1,m=null,p=null,y=null,_=null,b=null,S=null,C=null,M=new pt(0,0,0),T=0,P=!1,N=null,k=null,D=null,j=null,F=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,H=0;const R=t.getParameter(t.VERSION);R.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(R)[1]),U=H>=1):R.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),U=H>=2);let I=null,B={};const W=t.getParameter(t.SCISSOR_BOX),G=t.getParameter(t.VIEWPORT),X=new En().fromArray(W),ne=new En().fromArray(G);function ae(ce,Ne,ze,We){const Ue=new Uint8Array(4),Le=t.createTexture();t.bindTexture(ce,Le),t.texParameteri(ce,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ce,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Je=0;Je<ze;Je++)ce===t.TEXTURE_3D||ce===t.TEXTURE_2D_ARRAY?t.texImage3D(Ne,0,t.RGBA,1,1,We,0,t.RGBA,t.UNSIGNED_BYTE,Ue):t.texImage2D(Ne+Je,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ue);return Le}const se={};se[t.TEXTURE_2D]=ae(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=ae(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),se[t.TEXTURE_2D_ARRAY]=ae(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=ae(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),$(t.DEPTH_TEST),o.setFunc(Bh),me(!1),pe(Xj),$(t.CULL_FACE),re(Rc);function $(ce){f[ce]!==!0&&(t.enable(ce),f[ce]=!0)}function Y(ce){f[ce]!==!1&&(t.disable(ce),f[ce]=!1)}function Q(ce,Ne){return d[ce]!==Ne?(t.bindFramebuffer(ce,Ne),d[ce]=Ne,ce===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Ne),ce===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Ne),!0):!1}function ee(ce,Ne){let ze=g,We=!1;if(ce){ze=h.get(Ne),ze===void 0&&(ze=[],h.set(Ne,ze));const Ue=ce.textures;if(ze.length!==Ue.length||ze[0]!==t.COLOR_ATTACHMENT0){for(let Le=0,Je=Ue.length;Le<Je;Le++)ze[Le]=t.COLOR_ATTACHMENT0+Le;ze.length=Ue.length,We=!0}}else ze[0]!==t.BACK&&(ze[0]=t.BACK,We=!0);We&&t.drawBuffers(ze)}function ue(ce){return v!==ce?(t.useProgram(ce),v=ce,!0):!1}const J={[Uu]:t.FUNC_ADD,[que]:t.FUNC_SUBTRACT,[Xue]:t.FUNC_REVERSE_SUBTRACT};J[Kue]=t.MIN,J[Yue]=t.MAX;const K={[Zue]:t.ZERO,[Que]:t.ONE,[Jue]:t.SRC_COLOR,[LM]:t.SRC_ALPHA,[sde]:t.SRC_ALPHA_SATURATE,[rde]:t.DST_COLOR,[tde]:t.DST_ALPHA,[ede]:t.ONE_MINUS_SRC_COLOR,[FM]:t.ONE_MINUS_SRC_ALPHA,[ide]:t.ONE_MINUS_DST_COLOR,[nde]:t.ONE_MINUS_DST_ALPHA,[ode]:t.CONSTANT_COLOR,[ade]:t.ONE_MINUS_CONSTANT_COLOR,[lde]:t.CONSTANT_ALPHA,[cde]:t.ONE_MINUS_CONSTANT_ALPHA};function re(ce,Ne,ze,We,Ue,Le,Je,gt,$t,Gt){if(ce===Rc){x===!0&&(Y(t.BLEND),x=!1);return}if(x===!1&&($(t.BLEND),x=!0),ce!==Gue){if(ce!==m||Gt!==P){if((p!==Uu||b!==Uu)&&(t.blendEquation(t.FUNC_ADD),p=Uu,b=Uu),Gt)switch(ce){case ch:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Kj:t.blendFunc(t.ONE,t.ONE);break;case Yj:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case Zj:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}else switch(ce){case ch:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Kj:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case Yj:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case Zj:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",ce);break}y=null,_=null,S=null,C=null,M.set(0,0,0),T=0,m=ce,P=Gt}return}Ue=Ue||Ne,Le=Le||ze,Je=Je||We,(Ne!==p||Ue!==b)&&(t.blendEquationSeparate(J[Ne],J[Ue]),p=Ne,b=Ue),(ze!==y||We!==_||Le!==S||Je!==C)&&(t.blendFuncSeparate(K[ze],K[We],K[Le],K[Je]),y=ze,_=We,S=Le,C=Je),(gt.equals(M)===!1||$t!==T)&&(t.blendColor(gt.r,gt.g,gt.b,$t),M.copy(gt),T=$t),m=ce,P=!1}function fe(ce,Ne){ce.side===Pa?Y(t.CULL_FACE):$(t.CULL_FACE);let ze=ce.side===Xi;Ne&&(ze=!ze),me(ze),ce.blending===ch&&ce.transparent===!1?re(Rc):re(ce.blending,ce.blendEquation,ce.blendSrc,ce.blendDst,ce.blendEquationAlpha,ce.blendSrcAlpha,ce.blendDstAlpha,ce.blendColor,ce.blendAlpha,ce.premultipliedAlpha),o.setFunc(ce.depthFunc),o.setTest(ce.depthTest),o.setMask(ce.depthWrite),s.setMask(ce.colorWrite);const We=ce.stencilWrite;a.setTest(We),We&&(a.setMask(ce.stencilWriteMask),a.setFunc(ce.stencilFunc,ce.stencilRef,ce.stencilFuncMask),a.setOp(ce.stencilFail,ce.stencilZFail,ce.stencilZPass)),Ce(ce.polygonOffset,ce.polygonOffsetFactor,ce.polygonOffsetUnits),ce.alphaToCoverage===!0?$(t.SAMPLE_ALPHA_TO_COVERAGE):Y(t.SAMPLE_ALPHA_TO_COVERAGE)}function me(ce){N!==ce&&(ce?t.frontFace(t.CW):t.frontFace(t.CCW),N=ce)}function pe(ce){ce!==Hue?($(t.CULL_FACE),ce!==k&&(ce===Xj?t.cullFace(t.BACK):ce===Vue?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Y(t.CULL_FACE),k=ce}function Ae(ce){ce!==D&&(U&&t.lineWidth(ce),D=ce)}function Ce(ce,Ne,ze){ce?($(t.POLYGON_OFFSET_FILL),(j!==Ne||F!==ze)&&(t.polygonOffset(Ne,ze),j=Ne,F=ze)):Y(t.POLYGON_OFFSET_FILL)}function De(ce){ce?$(t.SCISSOR_TEST):Y(t.SCISSOR_TEST)}function ot(ce){ce===void 0&&(ce=t.TEXTURE0+z-1),I!==ce&&(t.activeTexture(ce),I=ce)}function nt(ce,Ne,ze){ze===void 0&&(I===null?ze=t.TEXTURE0+z-1:ze=I);let We=B[ze];We===void 0&&(We={type:void 0,texture:void 0},B[ze]=We),(We.type!==ce||We.texture!==Ne)&&(I!==ze&&(t.activeTexture(ze),I=ze),t.bindTexture(ce,Ne||se[ce]),We.type=ce,We.texture=Ne)}function ie(){const ce=B[I];ce!==void 0&&ce.type!==void 0&&(t.bindTexture(ce.type,null),ce.type=void 0,ce.texture=void 0)}function Z(){try{t.compressedTexImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ve(){try{t.compressedTexImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Se(){try{t.texSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ie(){try{t.texSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Me(){try{t.compressedTexSubImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function ct(){try{t.compressedTexSubImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function Ve(){try{t.texStorage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function lt(){try{t.texStorage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function qe(){try{t.texImage2D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function He(){try{t.texImage3D(...arguments)}catch(ce){console.error("THREE.WebGLState:",ce)}}function at(ce){X.equals(ce)===!1&&(t.scissor(ce.x,ce.y,ce.z,ce.w),X.copy(ce))}function Mt(ce){ne.equals(ce)===!1&&(t.viewport(ce.x,ce.y,ce.z,ce.w),ne.copy(ce))}function he(ce,Ne){let ze=c.get(Ne);ze===void 0&&(ze=new WeakMap,c.set(Ne,ze));let We=ze.get(ce);We===void 0&&(We=t.getUniformBlockIndex(Ne,ce.name),ze.set(ce,We))}function Ee(ce,Ne){const We=c.get(Ne).get(ce);l.get(Ne)!==We&&(t.uniformBlockBinding(Ne,We,ce.__bindingPointIndex),l.set(Ne,We))}function Qe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},I=null,B={},d={},h=new WeakMap,g=[],v=null,x=!1,m=null,p=null,y=null,_=null,b=null,S=null,C=null,M=new pt(0,0,0),T=0,P=!1,N=null,k=null,D=null,j=null,F=null,X.set(0,0,t.canvas.width,t.canvas.height),ne.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:$,disable:Y,bindFramebuffer:Q,drawBuffers:ee,useProgram:ue,setBlending:re,setMaterial:fe,setFlipSided:me,setCullFace:pe,setLineWidth:Ae,setPolygonOffset:Ce,setScissorTest:De,activeTexture:ot,bindTexture:nt,unbindTexture:ie,compressedTexImage2D:Z,compressedTexImage3D:ve,texImage2D:qe,texImage3D:He,updateUBOMapping:he,uniformBlockBinding:Ee,texStorage2D:Ve,texStorage3D:lt,texSubImage2D:Se,texSubImage3D:Ie,compressedTexSubImage2D:Me,compressedTexSubImage3D:ct,scissor:at,viewport:Mt,reset:Qe}}function Omt(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new $e,f=new WeakMap;let d;const h=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(ie,Z){return g?new OffscreenCanvas(ie,Z):V_("canvas")}function x(ie,Z,ve){let Se=1;const Ie=nt(ie);if((Ie.width>ve||Ie.height>ve)&&(Se=ve/Math.max(Ie.width,Ie.height)),Se<1)if(typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&ie instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&ie instanceof ImageBitmap||typeof VideoFrame<"u"&&ie instanceof VideoFrame){const Me=Math.floor(Se*Ie.width),ct=Math.floor(Se*Ie.height);d===void 0&&(d=v(Me,ct));const Ve=Z?v(Me,ct):d;return Ve.width=Me,Ve.height=ct,Ve.getContext("2d").drawImage(ie,0,0,Me,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Ie.width+"x"+Ie.height+") to ("+Me+"x"+ct+")."),Ve}else return"data"in ie&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Ie.width+"x"+Ie.height+")."),ie;return ie}function m(ie){return ie.generateMipmaps}function p(ie){t.generateMipmap(ie)}function y(ie){return ie.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:ie.isWebGL3DRenderTarget?t.TEXTURE_3D:ie.isWebGLArrayRenderTarget||ie.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(ie,Z,ve,Se,Ie=!1){if(ie!==null){if(t[ie]!==void 0)return t[ie];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+ie+"'")}let Me=Z;if(Z===t.RED&&(ve===t.FLOAT&&(Me=t.R32F),ve===t.HALF_FLOAT&&(Me=t.R16F),ve===t.UNSIGNED_BYTE&&(Me=t.R8)),Z===t.RED_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.R8UI),ve===t.UNSIGNED_SHORT&&(Me=t.R16UI),ve===t.UNSIGNED_INT&&(Me=t.R32UI),ve===t.BYTE&&(Me=t.R8I),ve===t.SHORT&&(Me=t.R16I),ve===t.INT&&(Me=t.R32I)),Z===t.RG&&(ve===t.FLOAT&&(Me=t.RG32F),ve===t.HALF_FLOAT&&(Me=t.RG16F),ve===t.UNSIGNED_BYTE&&(Me=t.RG8)),Z===t.RG_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RG8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RG16UI),ve===t.UNSIGNED_INT&&(Me=t.RG32UI),ve===t.BYTE&&(Me=t.RG8I),ve===t.SHORT&&(Me=t.RG16I),ve===t.INT&&(Me=t.RG32I)),Z===t.RGB_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RGB8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RGB16UI),ve===t.UNSIGNED_INT&&(Me=t.RGB32UI),ve===t.BYTE&&(Me=t.RGB8I),ve===t.SHORT&&(Me=t.RGB16I),ve===t.INT&&(Me=t.RGB32I)),Z===t.RGBA_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Me=t.RGBA8UI),ve===t.UNSIGNED_SHORT&&(Me=t.RGBA16UI),ve===t.UNSIGNED_INT&&(Me=t.RGBA32UI),ve===t.BYTE&&(Me=t.RGBA8I),ve===t.SHORT&&(Me=t.RGBA16I),ve===t.INT&&(Me=t.RGBA32I)),Z===t.RGB&&(ve===t.UNSIGNED_INT_5_9_9_9_REV&&(Me=t.RGB9_E5),ve===t.UNSIGNED_INT_10F_11F_11F_REV&&(Me=t.R11F_G11F_B10F)),Z===t.RGBA){const ct=Ie?$_:_n.getTransfer(Se);ve===t.FLOAT&&(Me=t.RGBA32F),ve===t.HALF_FLOAT&&(Me=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Me=ct===zn?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Me=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Me=t.RGB5_A1)}return(Me===t.R16F||Me===t.R32F||Me===t.RG16F||Me===t.RG32F||Me===t.RGBA16F||Me===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Me}function b(ie,Z){let ve;return ie?Z===null||Z===Gc||Z===yv?ve=t.DEPTH24_STENCIL8:Z===Is?ve=t.DEPTH32F_STENCIL8:Z===vv&&(ve=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Gc||Z===yv?ve=t.DEPTH_COMPONENT24:Z===Is?ve=t.DEPTH_COMPONENT32F:Z===vv&&(ve=t.DEPTH_COMPONENT16),ve}function S(ie,Z){return m(ie)===!0||ie.isFramebufferTexture&&ie.minFilter!==Ai&&ie.minFilter!==ai?Math.log2(Math.max(Z.width,Z.height))+1:ie.mipmaps!==void 0&&ie.mipmaps.length>0?ie.mipmaps.length:ie.isCompressedTexture&&Array.isArray(ie.image)?Z.mipmaps.length:1}function C(ie){const Z=ie.target;Z.removeEventListener("dispose",C),T(Z),Z.isVideoTexture&&f.delete(Z)}function M(ie){const Z=ie.target;Z.removeEventListener("dispose",M),N(Z)}function T(ie){const Z=r.get(ie);if(Z.__webglInit===void 0)return;const ve=ie.source,Se=h.get(ve);if(Se){const Ie=Se[Z.__cacheKey];Ie.usedTimes--,Ie.usedTimes===0&&P(ie),Object.keys(Se).length===0&&h.delete(ve)}r.remove(ie)}function P(ie){const Z=r.get(ie);t.deleteTexture(Z.__webglTexture);const ve=ie.source,Se=h.get(ve);delete Se[Z.__cacheKey],o.memory.textures--}function N(ie){const Z=r.get(ie);if(ie.depthTexture&&(ie.depthTexture.dispose(),r.remove(ie.depthTexture)),ie.isWebGLCubeRenderTarget)for(let Se=0;Se<6;Se++){if(Array.isArray(Z.__webglFramebuffer[Se]))for(let Ie=0;Ie<Z.__webglFramebuffer[Se].length;Ie++)t.deleteFramebuffer(Z.__webglFramebuffer[Se][Ie]);else t.deleteFramebuffer(Z.__webglFramebuffer[Se]);Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer[Se])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Se=0;Se<Z.__webglFramebuffer.length;Se++)t.deleteFramebuffer(Z.__webglFramebuffer[Se]);else t.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Se=0;Se<Z.__webglColorRenderbuffer.length;Se++)Z.__webglColorRenderbuffer[Se]&&t.deleteRenderbuffer(Z.__webglColorRenderbuffer[Se]);Z.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const ve=ie.textures;for(let Se=0,Ie=ve.length;Se<Ie;Se++){const Me=r.get(ve[Se]);Me.__webglTexture&&(t.deleteTexture(Me.__webglTexture),o.memory.textures--),r.remove(ve[Se])}r.remove(ie)}let k=0;function D(){k=0}function j(){const ie=k;return ie>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+ie+" texture units while this GPU supports only "+i.maxTextures),k+=1,ie}function F(ie){const Z=[];return Z.push(ie.wrapS),Z.push(ie.wrapT),Z.push(ie.wrapR||0),Z.push(ie.magFilter),Z.push(ie.minFilter),Z.push(ie.anisotropy),Z.push(ie.internalFormat),Z.push(ie.format),Z.push(ie.type),Z.push(ie.generateMipmaps),Z.push(ie.premultiplyAlpha),Z.push(ie.flipY),Z.push(ie.unpackAlignment),Z.push(ie.colorSpace),Z.join()}function z(ie,Z){const ve=r.get(ie);if(ie.isVideoTexture&&De(ie),ie.isRenderTargetTexture===!1&&ie.isExternalTexture!==!0&&ie.version>0&&ve.__version!==ie.version){const Se=ie.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{se(ve,ie,Z);return}}else ie.isExternalTexture&&(ve.__webglTexture=ie.sourceTexture?ie.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+Z)}function U(ie,Z){const ve=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&ve.__version!==ie.version){se(ve,ie,Z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+Z)}function H(ie,Z){const ve=r.get(ie);if(ie.isRenderTargetTexture===!1&&ie.version>0&&ve.__version!==ie.version){se(ve,ie,Z);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+Z)}function R(ie,Z){const ve=r.get(ie);if(ie.version>0&&ve.__version!==ie.version){$(ve,ie,Z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+Z)}const I={[F_]:t.REPEAT,[Go]:t.CLAMP_TO_EDGE,[B_]:t.MIRRORED_REPEAT},B={[Ai]:t.NEAREST,[HB]:t.NEAREST_MIPMAP_NEAREST,[Im]:t.NEAREST_MIPMAP_LINEAR,[ai]:t.LINEAR,[ox]:t.LINEAR_MIPMAP_NEAREST,[_l]:t.LINEAR_MIPMAP_LINEAR},W={[Cde]:t.NEVER,[Rde]:t.ALWAYS,[Mde]:t.LESS,[QB]:t.LEQUAL,[Ade]:t.EQUAL,[Nde]:t.GEQUAL,[Tde]:t.GREATER,[Pde]:t.NOTEQUAL};function G(ie,Z){if(Z.type===Is&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===ai||Z.magFilter===ox||Z.magFilter===Im||Z.magFilter===_l||Z.minFilter===ai||Z.minFilter===ox||Z.minFilter===Im||Z.minFilter===_l)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(ie,t.TEXTURE_WRAP_S,I[Z.wrapS]),t.texParameteri(ie,t.TEXTURE_WRAP_T,I[Z.wrapT]),(ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY)&&t.texParameteri(ie,t.TEXTURE_WRAP_R,I[Z.wrapR]),t.texParameteri(ie,t.TEXTURE_MAG_FILTER,B[Z.magFilter]),t.texParameteri(ie,t.TEXTURE_MIN_FILTER,B[Z.minFilter]),Z.compareFunction&&(t.texParameteri(ie,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(ie,t.TEXTURE_COMPARE_FUNC,W[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===Ai||Z.minFilter!==Im&&Z.minFilter!==_l||Z.type===Is&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||r.get(Z).__currentAnisotropy){const ve=e.get("EXT_texture_filter_anisotropic");t.texParameterf(ie,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,i.getMaxAnisotropy())),r.get(Z).__currentAnisotropy=Z.anisotropy}}}function X(ie,Z){let ve=!1;ie.__webglInit===void 0&&(ie.__webglInit=!0,Z.addEventListener("dispose",C));const Se=Z.source;let Ie=h.get(Se);Ie===void 0&&(Ie={},h.set(Se,Ie));const Me=F(Z);if(Me!==ie.__cacheKey){Ie[Me]===void 0&&(Ie[Me]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ve=!0),Ie[Me].usedTimes++;const ct=Ie[ie.__cacheKey];ct!==void 0&&(Ie[ie.__cacheKey].usedTimes--,ct.usedTimes===0&&P(Z)),ie.__cacheKey=Me,ie.__webglTexture=Ie[Me].texture}return ve}function ne(ie,Z,ve){return Math.floor(Math.floor(ie/ve)/Z)}function ae(ie,Z,ve,Se){const Me=ie.updateRanges;if(Me.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,Z.width,Z.height,ve,Se,Z.data);else{Me.sort((He,at)=>He.start-at.start);let ct=0;for(let He=1;He<Me.length;He++){const at=Me[ct],Mt=Me[He],he=at.start+at.count,Ee=ne(Mt.start,Z.width,4),Qe=ne(at.start,Z.width,4);Mt.start<=he+1&&Ee===Qe&&ne(Mt.start+Mt.count-1,Z.width,4)===Ee?at.count=Math.max(at.count,Mt.start+Mt.count-at.start):(++ct,Me[ct]=Mt)}Me.length=ct+1;const Ve=t.getParameter(t.UNPACK_ROW_LENGTH),lt=t.getParameter(t.UNPACK_SKIP_PIXELS),qe=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,Z.width);for(let He=0,at=Me.length;He<at;He++){const Mt=Me[He],he=Math.floor(Mt.start/4),Ee=Math.ceil(Mt.count/4),Qe=he%Z.width,ce=Math.floor(he/Z.width),Ne=Ee,ze=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Qe),t.pixelStorei(t.UNPACK_SKIP_ROWS,ce),n.texSubImage2D(t.TEXTURE_2D,0,Qe,ce,Ne,ze,ve,Se,Z.data)}ie.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Ve),t.pixelStorei(t.UNPACK_SKIP_PIXELS,lt),t.pixelStorei(t.UNPACK_SKIP_ROWS,qe)}}function se(ie,Z,ve){let Se=t.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Se=t.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Se=t.TEXTURE_3D);const Ie=X(ie,Z),Me=Z.source;n.bindTexture(Se,ie.__webglTexture,t.TEXTURE0+ve);const ct=r.get(Me);if(Me.version!==ct.__version||Ie===!0){n.activeTexture(t.TEXTURE0+ve);const Ve=_n.getPrimaries(_n.workingColorSpace),lt=Z.colorSpace===xc?null:_n.getPrimaries(Z.colorSpace),qe=Z.colorSpace===xc||Ve===lt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,qe);let He=x(Z.image,!1,i.maxTextureSize);He=ot(Z,He);const at=s.convert(Z.format,Z.colorSpace),Mt=s.convert(Z.type);let he=_(Z.internalFormat,at,Mt,Z.colorSpace,Z.isVideoTexture);G(Se,Z);let Ee;const Qe=Z.mipmaps,ce=Z.isVideoTexture!==!0,Ne=ct.__version===void 0||Ie===!0,ze=Me.dataReady,We=S(Z,He);if(Z.isDepthTexture)he=b(Z.format===_v,Z.type),Ne&&(ce?n.texStorage2D(t.TEXTURE_2D,1,he,He.width,He.height):n.texImage2D(t.TEXTURE_2D,0,he,He.width,He.height,0,at,Mt,null));else if(Z.isDataTexture)if(Qe.length>0){ce&&Ne&&n.texStorage2D(t.TEXTURE_2D,We,he,Qe[0].width,Qe[0].height);for(let Ue=0,Le=Qe.length;Ue<Le;Ue++)Ee=Qe[Ue],ce?ze&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,at,Mt,Ee.data):n.texImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,at,Mt,Ee.data);Z.generateMipmaps=!1}else ce?(Ne&&n.texStorage2D(t.TEXTURE_2D,We,he,He.width,He.height),ze&&ae(Z,He,at,Mt)):n.texImage2D(t.TEXTURE_2D,0,he,He.width,He.height,0,at,Mt,He.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){ce&&Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,We,he,Qe[0].width,Qe[0].height,He.depth);for(let Ue=0,Le=Qe.length;Ue<Le;Ue++)if(Ee=Qe[Ue],Z.format!==Gi)if(at!==null)if(ce){if(ze)if(Z.layerUpdates.size>0){const Je=lL(Ee.width,Ee.height,Z.format,Z.type);for(const gt of Z.layerUpdates){const $t=Ee.data.subarray(gt*Je/Ee.data.BYTES_PER_ELEMENT,(gt+1)*Je/Ee.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,gt,Ee.width,Ee.height,1,at,$t)}Z.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,0,Ee.width,Ee.height,He.depth,at,Ee.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Ue,he,Ee.width,Ee.height,He.depth,0,Ee.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ce?ze&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Ue,0,0,0,Ee.width,Ee.height,He.depth,at,Mt,Ee.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Ue,he,Ee.width,Ee.height,He.depth,0,at,Mt,Ee.data)}else{ce&&Ne&&n.texStorage2D(t.TEXTURE_2D,We,he,Qe[0].width,Qe[0].height);for(let Ue=0,Le=Qe.length;Ue<Le;Ue++)Ee=Qe[Ue],Z.format!==Gi?at!==null?ce?ze&&n.compressedTexSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,at,Ee.data):n.compressedTexImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,Ee.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ce?ze&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,Ee.width,Ee.height,at,Mt,Ee.data):n.texImage2D(t.TEXTURE_2D,Ue,he,Ee.width,Ee.height,0,at,Mt,Ee.data)}else if(Z.isDataArrayTexture)if(ce){if(Ne&&n.texStorage3D(t.TEXTURE_2D_ARRAY,We,he,He.width,He.height,He.depth),ze)if(Z.layerUpdates.size>0){const Ue=lL(He.width,He.height,Z.format,Z.type);for(const Le of Z.layerUpdates){const Je=He.data.subarray(Le*Ue/He.data.BYTES_PER_ELEMENT,(Le+1)*Ue/He.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Le,He.width,He.height,1,at,Mt,Je)}Z.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,He.width,He.height,He.depth,at,Mt,He.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,he,He.width,He.height,He.depth,0,at,Mt,He.data);else if(Z.isData3DTexture)ce?(Ne&&n.texStorage3D(t.TEXTURE_3D,We,he,He.width,He.height,He.depth),ze&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,He.width,He.height,He.depth,at,Mt,He.data)):n.texImage3D(t.TEXTURE_3D,0,he,He.width,He.height,He.depth,0,at,Mt,He.data);else if(Z.isFramebufferTexture){if(Ne)if(ce)n.texStorage2D(t.TEXTURE_2D,We,he,He.width,He.height);else{let Ue=He.width,Le=He.height;for(let Je=0;Je<We;Je++)n.texImage2D(t.TEXTURE_2D,Je,he,Ue,Le,0,at,Mt,null),Ue>>=1,Le>>=1}}else if(Qe.length>0){if(ce&&Ne){const Ue=nt(Qe[0]);n.texStorage2D(t.TEXTURE_2D,We,he,Ue.width,Ue.height)}for(let Ue=0,Le=Qe.length;Ue<Le;Ue++)Ee=Qe[Ue],ce?ze&&n.texSubImage2D(t.TEXTURE_2D,Ue,0,0,at,Mt,Ee):n.texImage2D(t.TEXTURE_2D,Ue,he,at,Mt,Ee);Z.generateMipmaps=!1}else if(ce){if(Ne){const Ue=nt(He);n.texStorage2D(t.TEXTURE_2D,We,he,Ue.width,Ue.height)}ze&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,at,Mt,He)}else n.texImage2D(t.TEXTURE_2D,0,he,at,Mt,He);m(Z)&&p(Se),ct.__version=Me.version,Z.onUpdate&&Z.onUpdate(Z)}ie.__version=Z.version}function $(ie,Z,ve){if(Z.image.length!==6)return;const Se=X(ie,Z),Ie=Z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+ve);const Me=r.get(Ie);if(Ie.version!==Me.__version||Se===!0){n.activeTexture(t.TEXTURE0+ve);const ct=_n.getPrimaries(_n.workingColorSpace),Ve=Z.colorSpace===xc?null:_n.getPrimaries(Z.colorSpace),lt=Z.colorSpace===xc||ct===Ve?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const qe=Z.isCompressedTexture||Z.image[0].isCompressedTexture,He=Z.image[0]&&Z.image[0].isDataTexture,at=[];for(let Le=0;Le<6;Le++)!qe&&!He?at[Le]=x(Z.image[Le],!0,i.maxCubemapSize):at[Le]=He?Z.image[Le].image:Z.image[Le],at[Le]=ot(Z,at[Le]);const Mt=at[0],he=s.convert(Z.format,Z.colorSpace),Ee=s.convert(Z.type),Qe=_(Z.internalFormat,he,Ee,Z.colorSpace),ce=Z.isVideoTexture!==!0,Ne=Me.__version===void 0||Se===!0,ze=Ie.dataReady;let We=S(Z,Mt);G(t.TEXTURE_CUBE_MAP,Z);let Ue;if(qe){ce&&Ne&&n.texStorage2D(t.TEXTURE_CUBE_MAP,We,Qe,Mt.width,Mt.height);for(let Le=0;Le<6;Le++){Ue=at[Le].mipmaps;for(let Je=0;Je<Ue.length;Je++){const gt=Ue[Je];Z.format!==Gi?he!==null?ce?ze&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,0,0,gt.width,gt.height,he,gt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,Qe,gt.width,gt.height,0,gt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ce?ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,0,0,gt.width,gt.height,he,Ee,gt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je,Qe,gt.width,gt.height,0,he,Ee,gt.data)}}}else{if(Ue=Z.mipmaps,ce&&Ne){Ue.length>0&&We++;const Le=nt(at[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,We,Qe,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if(He){ce?ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,at[Le].width,at[Le].height,he,Ee,at[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Qe,at[Le].width,at[Le].height,0,he,Ee,at[Le].data);for(let Je=0;Je<Ue.length;Je++){const $t=Ue[Je].image[Le].image;ce?ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,0,0,$t.width,$t.height,he,Ee,$t.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,Qe,$t.width,$t.height,0,he,Ee,$t.data)}}else{ce?ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,he,Ee,at[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Qe,he,Ee,at[Le]);for(let Je=0;Je<Ue.length;Je++){const gt=Ue[Je];ce?ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,0,0,he,Ee,gt.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Je+1,Qe,he,Ee,gt.image[Le])}}}m(Z)&&p(t.TEXTURE_CUBE_MAP),Me.__version=Ie.version,Z.onUpdate&&Z.onUpdate(Z)}ie.__version=Z.version}function Y(ie,Z,ve,Se,Ie,Me){const ct=s.convert(ve.format,ve.colorSpace),Ve=s.convert(ve.type),lt=_(ve.internalFormat,ct,Ve,ve.colorSpace),qe=r.get(Z),He=r.get(ve);if(He.__renderTarget=Z,!qe.__hasExternalTextures){const at=Math.max(1,Z.width>>Me),Mt=Math.max(1,Z.height>>Me);Ie===t.TEXTURE_3D||Ie===t.TEXTURE_2D_ARRAY?n.texImage3D(Ie,Me,lt,at,Mt,Z.depth,0,ct,Ve,null):n.texImage2D(Ie,Me,lt,at,Mt,0,ct,Ve,null)}n.bindFramebuffer(t.FRAMEBUFFER,ie),Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Se,Ie,He.__webglTexture,0,Ae(Z)):(Ie===t.TEXTURE_2D||Ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Se,Ie,He.__webglTexture,Me),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Q(ie,Z,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,ie),Z.depthBuffer){const Se=Z.depthTexture,Ie=Se&&Se.isDepthTexture?Se.type:null,Me=b(Z.stencilBuffer,Ie),ct=Z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ve=Ae(Z);Ce(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ve,Me,Z.width,Z.height):ve?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ve,Me,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,Me,Z.width,Z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ct,t.RENDERBUFFER,ie)}else{const Se=Z.textures;for(let Ie=0;Ie<Se.length;Ie++){const Me=Se[Ie],ct=s.convert(Me.format,Me.colorSpace),Ve=s.convert(Me.type),lt=_(Me.internalFormat,ct,Ve,Me.colorSpace),qe=Ae(Z);ve&&Ce(Z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,qe,lt,Z.width,Z.height):Ce(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,qe,lt,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,lt,Z.width,Z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function ee(ie,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,ie),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Se=r.get(Z.depthTexture);Se.__renderTarget=Z,(!Se.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),z(Z.depthTexture,0);const Ie=Se.__webglTexture,Me=Ae(Z);if(Z.depthTexture.format===xv)Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Ie,0);else if(Z.depthTexture.format===_v)Ce(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0,Me):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Ie,0);else throw new Error("Unknown depthTexture format")}function ue(ie){const Z=r.get(ie),ve=ie.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==ie.depthTexture){const Se=ie.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Se){const Ie=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Se.removeEventListener("dispose",Ie)};Se.addEventListener("dispose",Ie),Z.__depthDisposeCallback=Ie}Z.__boundDepthTexture=Se}if(ie.depthTexture&&!Z.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");const Se=ie.texture.mipmaps;Se&&Se.length>0?ee(Z.__webglFramebuffer[0],ie):ee(Z.__webglFramebuffer,ie)}else if(ve){Z.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)if(n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[Se]),Z.__webglDepthbuffer[Se]===void 0)Z.__webglDepthbuffer[Se]=t.createRenderbuffer(),Q(Z.__webglDepthbuffer[Se],ie,!1);else{const Ie=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=Z.__webglDepthbuffer[Se];t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,Me)}}else{const Se=ie.texture.mipmaps;if(Se&&Se.length>0?n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=t.createRenderbuffer(),Q(Z.__webglDepthbuffer,ie,!1);else{const Ie=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Me=Z.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Me),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ie,t.RENDERBUFFER,Me)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function J(ie,Z,ve){const Se=r.get(ie);Z!==void 0&&Y(Se.__webglFramebuffer,ie,ie.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ve!==void 0&&ue(ie)}function K(ie){const Z=ie.texture,ve=r.get(ie),Se=r.get(Z);ie.addEventListener("dispose",M);const Ie=ie.textures,Me=ie.isWebGLCubeRenderTarget===!0,ct=Ie.length>1;if(ct||(Se.__webglTexture===void 0&&(Se.__webglTexture=t.createTexture()),Se.__version=Z.version,o.memory.textures++),Me){ve.__webglFramebuffer=[];for(let Ve=0;Ve<6;Ve++)if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer[Ve]=[];for(let lt=0;lt<Z.mipmaps.length;lt++)ve.__webglFramebuffer[Ve][lt]=t.createFramebuffer()}else ve.__webglFramebuffer[Ve]=t.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer=[];for(let Ve=0;Ve<Z.mipmaps.length;Ve++)ve.__webglFramebuffer[Ve]=t.createFramebuffer()}else ve.__webglFramebuffer=t.createFramebuffer();if(ct)for(let Ve=0,lt=Ie.length;Ve<lt;Ve++){const qe=r.get(Ie[Ve]);qe.__webglTexture===void 0&&(qe.__webglTexture=t.createTexture(),o.memory.textures++)}if(ie.samples>0&&Ce(ie)===!1){ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let Ve=0;Ve<Ie.length;Ve++){const lt=Ie[Ve];ve.__webglColorRenderbuffer[Ve]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[Ve]);const qe=s.convert(lt.format,lt.colorSpace),He=s.convert(lt.type),at=_(lt.internalFormat,qe,He,lt.colorSpace,ie.isXRRenderTarget===!0),Mt=Ae(ie);t.renderbufferStorageMultisample(t.RENDERBUFFER,Mt,at,ie.width,ie.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ve,t.RENDERBUFFER,ve.__webglColorRenderbuffer[Ve])}t.bindRenderbuffer(t.RENDERBUFFER,null),ie.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(ve.__webglDepthRenderbuffer,ie,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Me){n.bindTexture(t.TEXTURE_CUBE_MAP,Se.__webglTexture),G(t.TEXTURE_CUBE_MAP,Z);for(let Ve=0;Ve<6;Ve++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let lt=0;lt<Z.mipmaps.length;lt++)Y(ve.__webglFramebuffer[Ve][lt],ie,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,lt);else Y(ve.__webglFramebuffer[Ve],ie,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ve,0);m(Z)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ct){for(let Ve=0,lt=Ie.length;Ve<lt;Ve++){const qe=Ie[Ve],He=r.get(qe);let at=t.TEXTURE_2D;(ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(at=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(at,He.__webglTexture),G(at,qe),Y(ve.__webglFramebuffer,ie,qe,t.COLOR_ATTACHMENT0+Ve,at,0),m(qe)&&p(at)}n.unbindTexture()}else{let Ve=t.TEXTURE_2D;if((ie.isWebGL3DRenderTarget||ie.isWebGLArrayRenderTarget)&&(Ve=ie.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Ve,Se.__webglTexture),G(Ve,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let lt=0;lt<Z.mipmaps.length;lt++)Y(ve.__webglFramebuffer[lt],ie,Z,t.COLOR_ATTACHMENT0,Ve,lt);else Y(ve.__webglFramebuffer,ie,Z,t.COLOR_ATTACHMENT0,Ve,0);m(Z)&&p(Ve),n.unbindTexture()}ie.depthBuffer&&ue(ie)}function re(ie){const Z=ie.textures;for(let ve=0,Se=Z.length;ve<Se;ve++){const Ie=Z[ve];if(m(Ie)){const Me=y(ie),ct=r.get(Ie).__webglTexture;n.bindTexture(Me,ct),p(Me),n.unbindTexture()}}}const fe=[],me=[];function pe(ie){if(ie.samples>0){if(Ce(ie)===!1){const Z=ie.textures,ve=ie.width,Se=ie.height;let Ie=t.COLOR_BUFFER_BIT;const Me=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ct=r.get(ie),Ve=Z.length>1;if(Ve)for(let qe=0;qe<Z.length;qe++)n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const lt=ie.texture.mipmaps;lt&&lt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let qe=0;qe<Z.length;qe++){if(ie.resolveDepthBuffer&&(ie.depthBuffer&&(Ie|=t.DEPTH_BUFFER_BIT),ie.stencilBuffer&&ie.resolveStencilBuffer&&(Ie|=t.STENCIL_BUFFER_BIT)),Ve){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ct.__webglColorRenderbuffer[qe]);const He=r.get(Z[qe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,He,0)}t.blitFramebuffer(0,0,ve,Se,0,0,ve,Se,Ie,t.NEAREST),l===!0&&(fe.length=0,me.length=0,fe.push(t.COLOR_ATTACHMENT0+qe),ie.depthBuffer&&ie.resolveDepthBuffer===!1&&(fe.push(Me),me.push(Me),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,fe))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ve)for(let qe=0;qe<Z.length;qe++){n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.RENDERBUFFER,ct.__webglColorRenderbuffer[qe]);const He=r.get(Z[qe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+qe,t.TEXTURE_2D,He,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(ie.depthBuffer&&ie.resolveDepthBuffer===!1&&l){const Z=ie.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Z])}}}function Ae(ie){return Math.min(i.maxSamples,ie.samples)}function Ce(ie){const Z=r.get(ie);return ie.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function De(ie){const Z=o.render.frame;f.get(ie)!==Z&&(f.set(ie,Z),ie.update())}function ot(ie,Z){const ve=ie.colorSpace,Se=ie.format,Ie=ie.type;return ie.isCompressedTexture===!0||ie.isVideoTexture===!0||ve!==zh&&ve!==xc&&(_n.getTransfer(ve)===zn?(Se!==Gi||Ie!==Qo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ve)),Z}function nt(ie){return typeof HTMLImageElement<"u"&&ie instanceof HTMLImageElement?(c.width=ie.naturalWidth||ie.width,c.height=ie.naturalHeight||ie.height):typeof VideoFrame<"u"&&ie instanceof VideoFrame?(c.width=ie.displayWidth,c.height=ie.displayHeight):(c.width=ie.width,c.height=ie.height),c}this.allocateTextureUnit=j,this.resetTextureUnits=D,this.setTexture2D=z,this.setTexture2DArray=U,this.setTexture3D=H,this.setTextureCube=R,this.rebindTextures=J,this.setupRenderTarget=K,this.updateRenderTargetMipmap=re,this.updateMultisampleRenderTarget=pe,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=Y,this.useMultisampledRTT=Ce}function $fe(t,e){function n(r,i=xc){let s;const o=_n.getTransfer(i);if(r===Qo)return t.UNSIGNED_BYTE;if(r===LP)return t.UNSIGNED_SHORT_4_4_4_4;if(r===FP)return t.UNSIGNED_SHORT_5_5_5_1;if(r===GB)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===qB)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===VB)return t.BYTE;if(r===WB)return t.SHORT;if(r===vv)return t.UNSIGNED_SHORT;if(r===jP)return t.INT;if(r===Gc)return t.UNSIGNED_INT;if(r===Is)return t.FLOAT;if(r===oy)return t.HALF_FLOAT;if(r===XB)return t.ALPHA;if(r===KB)return t.RGB;if(r===Gi)return t.RGBA;if(r===xv)return t.DEPTH_COMPONENT;if(r===_v)return t.DEPTH_STENCIL;if(r===BP)return t.RED;if(r===rw)return t.RED_INTEGER;if(r===YB)return t.RG;if(r===zP)return t.RG_INTEGER;if(r===UP)return t.RGBA_INTEGER;if(r===ax||r===lx||r===cx||r===ux)if(o===zn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===ax)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===lx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===cx)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===ux)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===ax)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===lx)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===cx)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===ux)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===GM||r===qM||r===XM||r===KM)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===GM)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===qM)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===XM)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===KM)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===YM||r===ZM||r===QM)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===YM||r===ZM)return o===zn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===QM)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===JM||r===eA||r===tA||r===nA||r===rA||r===iA||r===sA||r===oA||r===aA||r===lA||r===cA||r===uA||r===dA||r===fA)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===JM)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===eA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===tA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===nA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===rA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===iA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===sA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===oA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===aA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===lA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===cA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===uA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===dA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===fA)return o===zn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===hA||r===pA||r===mA)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===hA)return o===zn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===pA)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===mA)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===gA||r===vA||r===yA||r===xA)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===gA)return s.COMPRESSED_RED_RGTC1_EXT;if(r===vA)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===yA)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===xA)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===yv?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const kmt=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Imt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Dmt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new c5(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Jo({vertexShader:kmt,fragmentShader:Imt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Kr(new ly(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class jmt extends Xl{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,f=null,d=null,h=null,g=null,v=null;const x=typeof XRWebGLBinding<"u",m=new Dmt,p={},y=n.getContextAttributes();let _=null,b=null;const S=[],C=[],M=new $e;let T=null;const P=new Sr;P.viewport=new En;const N=new Sr;N.viewport=new En;const k=[P,N],D=new Rfe;let j=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(se){let $=S[se];return $===void 0&&($=new AE,S[se]=$),$.getTargetRaySpace()},this.getControllerGrip=function(se){let $=S[se];return $===void 0&&($=new AE,S[se]=$),$.getGripSpace()},this.getHand=function(se){let $=S[se];return $===void 0&&($=new AE,S[se]=$),$.getHandSpace()};function z(se){const $=C.indexOf(se.inputSource);if($===-1)return;const Y=S[$];Y!==void 0&&(Y.update(se.inputSource,se.frame,c||o),Y.dispatchEvent({type:se.type,data:se.inputSource}))}function U(){i.removeEventListener("select",z),i.removeEventListener("selectstart",z),i.removeEventListener("selectend",z),i.removeEventListener("squeeze",z),i.removeEventListener("squeezestart",z),i.removeEventListener("squeezeend",z),i.removeEventListener("end",U),i.removeEventListener("inputsourceschange",H);for(let se=0;se<S.length;se++){const $=C[se];$!==null&&(C[se]=null,S[se].disconnect($))}j=null,F=null,m.reset();for(const se in p)delete p[se];e.setRenderTarget(_),g=null,h=null,d=null,i=null,b=null,ae.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(se){s=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(se){a=se,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(se){c=se},this.getBaseLayer=function(){return h!==null?h:g},this.getBinding=function(){return d===null&&x&&(d=new XRWebGLBinding(i,n)),d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(se){if(i=se,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",z),i.addEventListener("selectstart",z),i.addEventListener("selectend",z),i.addEventListener("squeeze",z),i.addEventListener("squeezestart",z),i.addEventListener("squeezeend",z),i.addEventListener("end",U),i.addEventListener("inputsourceschange",H),y.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(M),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let Y=null,Q=null,ee=null;y.depth&&(ee=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,Y=y.stencil?_v:xv,Q=y.stencil?yv:Gc);const ue={colorFormat:n.RGBA8,depthFormat:ee,scaleFactor:s};d=this.getBinding(),h=d.createProjectionLayer(ue),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),b=new Fl(h.textureWidth,h.textureHeight,{format:Gi,type:Qo,depthTexture:new l5(h.textureWidth,h.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,Y),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const Y={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,Y),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),b=new Fl(g.framebufferWidth,g.framebufferHeight,{format:Gi,type:Qo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ae.setContext(i),ae.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function H(se){for(let $=0;$<se.removed.length;$++){const Y=se.removed[$],Q=C.indexOf(Y);Q>=0&&(C[Q]=null,S[Q].disconnect(Y))}for(let $=0;$<se.added.length;$++){const Y=se.added[$];let Q=C.indexOf(Y);if(Q===-1){for(let ue=0;ue<S.length;ue++)if(ue>=C.length){C.push(Y),Q=ue;break}else if(C[ue]===null){C[ue]=Y,Q=ue;break}if(Q===-1)break}const ee=S[Q];ee&&ee.connect(Y)}}const R=new le,I=new le;function B(se,$,Y){R.setFromMatrixPosition($.matrixWorld),I.setFromMatrixPosition(Y.matrixWorld);const Q=R.distanceTo(I),ee=$.projectionMatrix.elements,ue=Y.projectionMatrix.elements,J=ee[14]/(ee[10]-1),K=ee[14]/(ee[10]+1),re=(ee[9]+1)/ee[5],fe=(ee[9]-1)/ee[5],me=(ee[8]-1)/ee[0],pe=(ue[8]+1)/ue[0],Ae=J*me,Ce=J*pe,De=Q/(-me+pe),ot=De*-me;if($.matrixWorld.decompose(se.position,se.quaternion,se.scale),se.translateX(ot),se.translateZ(De),se.matrixWorld.compose(se.position,se.quaternion,se.scale),se.matrixWorldInverse.copy(se.matrixWorld).invert(),ee[10]===-1)se.projectionMatrix.copy($.projectionMatrix),se.projectionMatrixInverse.copy($.projectionMatrixInverse);else{const nt=J+De,ie=K+De,Z=Ae-ot,ve=Ce+(Q-ot),Se=re*K/ie*nt,Ie=fe*K/ie*nt;se.projectionMatrix.makePerspective(Z,ve,Se,Ie,nt,ie),se.projectionMatrixInverse.copy(se.projectionMatrix).invert()}}function W(se,$){$===null?se.matrixWorld.copy(se.matrix):se.matrixWorld.multiplyMatrices($.matrixWorld,se.matrix),se.matrixWorldInverse.copy(se.matrixWorld).invert()}this.updateCamera=function(se){if(i===null)return;let $=se.near,Y=se.far;m.texture!==null&&(m.depthNear>0&&($=m.depthNear),m.depthFar>0&&(Y=m.depthFar)),D.near=N.near=P.near=$,D.far=N.far=P.far=Y,(j!==D.near||F!==D.far)&&(i.updateRenderState({depthNear:D.near,depthFar:D.far}),j=D.near,F=D.far),D.layers.mask=se.layers.mask|6,P.layers.mask=D.layers.mask&3,N.layers.mask=D.layers.mask&5;const Q=se.parent,ee=D.cameras;W(D,Q);for(let ue=0;ue<ee.length;ue++)W(ee[ue],Q);ee.length===2?B(D,P,N):D.projectionMatrix.copy(P.projectionMatrix),G(se,D,Q)};function G(se,$,Y){Y===null?se.matrix.copy($.matrixWorld):(se.matrix.copy(Y.matrixWorld),se.matrix.invert(),se.matrix.multiply($.matrixWorld)),se.matrix.decompose(se.position,se.quaternion,se.scale),se.updateMatrixWorld(!0),se.projectionMatrix.copy($.projectionMatrix),se.projectionMatrixInverse.copy($.projectionMatrixInverse),se.isPerspectiveCamera&&(se.fov=wv*2*Math.atan(1/se.projectionMatrix.elements[5]),se.zoom=1)}this.getCamera=function(){return D},this.getFoveation=function(){if(!(h===null&&g===null))return l},this.setFoveation=function(se){l=se,h!==null&&(h.fixedFoveation=se),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=se)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(D)},this.getCameraTexture=function(se){return p[se]};let X=null;function ne(se,$){if(f=$.getViewerPose(c||o),v=$,f!==null){const Y=f.views;g!==null&&(e.setRenderTargetFramebuffer(b,g.framebuffer),e.setRenderTarget(b));let Q=!1;Y.length!==D.cameras.length&&(D.cameras.length=0,Q=!0);for(let K=0;K<Y.length;K++){const re=Y[K];let fe=null;if(g!==null)fe=g.getViewport(re);else{const pe=d.getViewSubImage(h,re);fe=pe.viewport,K===0&&(e.setRenderTargetTextures(b,pe.colorTexture,pe.depthStencilTexture),e.setRenderTarget(b))}let me=k[K];me===void 0&&(me=new Sr,me.layers.enable(K),me.viewport=new En,k[K]=me),me.matrix.fromArray(re.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(re.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(fe.x,fe.y,fe.width,fe.height),K===0&&(D.matrix.copy(me.matrix),D.matrix.decompose(D.position,D.quaternion,D.scale)),Q===!0&&D.cameras.push(me)}const ee=i.enabledFeatures;if(ee&&ee.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){d=r.getBinding();const K=d.getDepthInformation(Y[0]);K&&K.isValid&&K.texture&&m.init(K,i.renderState)}if(ee&&ee.includes("camera-access")&&x){e.state.unbindTexture(),d=r.getBinding();for(let K=0;K<Y.length;K++){const re=Y[K].camera;if(re){let fe=p[re];fe||(fe=new c5,p[re]=fe);const me=d.getCameraImage(re);fe.sourceTexture=me}}}}for(let Y=0;Y<S.length;Y++){const Q=C[Y],ee=S[Y];Q!==null&&ee!==void 0&&ee.update(Q,$,c||o)}X&&X(se,$),$.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:$}),v=null}const ae=new Lfe;ae.setAnimationLoop(ne),this.setAnimationLoop=function(se){X=se},this.dispose=function(){}}}const _f=new yo,Lmt=new Yt;function Fmt(t,e){function n(m,p){m.matrixAutoUpdate===!0&&m.updateMatrix(),p.value.copy(m.matrix)}function r(m,p){p.color.getRGB(m.fogColor.value,Lde(t)),p.isFog?(m.fogNear.value=p.near,m.fogFar.value=p.far):p.isFogExp2&&(m.fogDensity.value=p.density)}function i(m,p,y,_,b){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(m,p):p.isMeshToonMaterial?(s(m,p),d(m,p)):p.isMeshPhongMaterial?(s(m,p),f(m,p)):p.isMeshStandardMaterial?(s(m,p),h(m,p),p.isMeshPhysicalMaterial&&g(m,p,b)):p.isMeshMatcapMaterial?(s(m,p),v(m,p)):p.isMeshDepthMaterial?s(m,p):p.isMeshDistanceMaterial?(s(m,p),x(m,p)):p.isMeshNormalMaterial?s(m,p):p.isLineBasicMaterial?(o(m,p),p.isLineDashedMaterial&&a(m,p)):p.isPointsMaterial?l(m,p,y,_):p.isSpriteMaterial?c(m,p):p.isShadowMaterial?(m.color.value.copy(p.color),m.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(m,p){m.opacity.value=p.opacity,p.color&&m.diffuse.value.copy(p.color),p.emissive&&m.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.bumpMap&&(m.bumpMap.value=p.bumpMap,n(p.bumpMap,m.bumpMapTransform),m.bumpScale.value=p.bumpScale,p.side===Xi&&(m.bumpScale.value*=-1)),p.normalMap&&(m.normalMap.value=p.normalMap,n(p.normalMap,m.normalMapTransform),m.normalScale.value.copy(p.normalScale),p.side===Xi&&m.normalScale.value.negate()),p.displacementMap&&(m.displacementMap.value=p.displacementMap,n(p.displacementMap,m.displacementMapTransform),m.displacementScale.value=p.displacementScale,m.displacementBias.value=p.displacementBias),p.emissiveMap&&(m.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,m.emissiveMapTransform)),p.specularMap&&(m.specularMap.value=p.specularMap,n(p.specularMap,m.specularMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest);const y=e.get(p),_=y.envMap,b=y.envMapRotation;_&&(m.envMap.value=_,_f.copy(b),_f.x*=-1,_f.y*=-1,_f.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(_f.y*=-1,_f.z*=-1),m.envMapRotation.value.setFromMatrix4(Lmt.makeRotationFromEuler(_f)),m.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=p.reflectivity,m.ior.value=p.ior,m.refractionRatio.value=p.refractionRatio),p.lightMap&&(m.lightMap.value=p.lightMap,m.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,m.lightMapTransform)),p.aoMap&&(m.aoMap.value=p.aoMap,m.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,m.aoMapTransform))}function o(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform))}function a(m,p){m.dashSize.value=p.dashSize,m.totalSize.value=p.dashSize+p.gapSize,m.scale.value=p.scale}function l(m,p,y,_){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.size.value=p.size*y,m.scale.value=_*.5,p.map&&(m.map.value=p.map,n(p.map,m.uvTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function c(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.rotation.value=p.rotation,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function f(m,p){m.specular.value.copy(p.specular),m.shininess.value=Math.max(p.shininess,1e-4)}function d(m,p){p.gradientMap&&(m.gradientMap.value=p.gradientMap)}function h(m,p){m.metalness.value=p.metalness,p.metalnessMap&&(m.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,m.metalnessMapTransform)),m.roughness.value=p.roughness,p.roughnessMap&&(m.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,m.roughnessMapTransform)),p.envMap&&(m.envMapIntensity.value=p.envMapIntensity)}function g(m,p,y){m.ior.value=p.ior,p.sheen>0&&(m.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),m.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(m.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,m.sheenColorMapTransform)),p.sheenRoughnessMap&&(m.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,m.sheenRoughnessMapTransform))),p.clearcoat>0&&(m.clearcoat.value=p.clearcoat,m.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(m.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,m.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(m.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===Xi&&m.clearcoatNormalScale.value.negate())),p.dispersion>0&&(m.dispersion.value=p.dispersion),p.iridescence>0&&(m.iridescence.value=p.iridescence,m.iridescenceIOR.value=p.iridescenceIOR,m.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(m.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,m.iridescenceMapTransform)),p.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),p.transmission>0&&(m.transmission.value=p.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),p.transmissionMap&&(m.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,m.transmissionMapTransform)),m.thickness.value=p.thickness,p.thicknessMap&&(m.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=p.attenuationDistance,m.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(m.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(m.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=p.specularIntensity,m.specularColor.value.copy(p.specularColor),p.specularColorMap&&(m.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,m.specularColorMapTransform)),p.specularIntensityMap&&(m.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,m.specularIntensityMapTransform))}function v(m,p){p.matcap&&(m.matcap.value=p.matcap)}function x(m,p){const y=e.get(p).light;m.referencePosition.value.setFromMatrixPosition(y.matrixWorld),m.nearDistance.value=y.shadow.camera.near,m.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Bmt(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,_){const b=_.program;r.uniformBlockBinding(y,b)}function c(y,_){let b=i[y.id];b===void 0&&(v(y),b=f(y),i[y.id]=b,y.addEventListener("dispose",m));const S=_.program;r.updateUBOMapping(y,S);const C=e.render.frame;s[y.id]!==C&&(h(y),s[y.id]=C)}function f(y){const _=d();y.__bindingPointIndex=_;const b=t.createBuffer(),S=y.__size,C=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,S,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,b),b}function d(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(y){const _=i[y.id],b=y.uniforms,S=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let C=0,M=b.length;C<M;C++){const T=Array.isArray(b[C])?b[C]:[b[C]];for(let P=0,N=T.length;P<N;P++){const k=T[P];if(g(k,C,P,S)===!0){const D=k.__offset,j=Array.isArray(k.value)?k.value:[k.value];let F=0;for(let z=0;z<j.length;z++){const U=j[z],H=x(U);typeof U=="number"||typeof U=="boolean"?(k.__data[0]=U,t.bufferSubData(t.UNIFORM_BUFFER,D+F,k.__data)):U.isMatrix3?(k.__data[0]=U.elements[0],k.__data[1]=U.elements[1],k.__data[2]=U.elements[2],k.__data[3]=0,k.__data[4]=U.elements[3],k.__data[5]=U.elements[4],k.__data[6]=U.elements[5],k.__data[7]=0,k.__data[8]=U.elements[6],k.__data[9]=U.elements[7],k.__data[10]=U.elements[8],k.__data[11]=0):(U.toArray(k.__data,F),F+=H.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(y,_,b,S){const C=y.value,M=_+"_"+b;if(S[M]===void 0)return typeof C=="number"||typeof C=="boolean"?S[M]=C:S[M]=C.clone(),!0;{const T=S[M];if(typeof C=="number"||typeof C=="boolean"){if(T!==C)return S[M]=C,!0}else if(T.equals(C)===!1)return T.copy(C),!0}return!1}function v(y){const _=y.uniforms;let b=0;const S=16;for(let M=0,T=_.length;M<T;M++){const P=Array.isArray(_[M])?_[M]:[_[M]];for(let N=0,k=P.length;N<k;N++){const D=P[N],j=Array.isArray(D.value)?D.value:[D.value];for(let F=0,z=j.length;F<z;F++){const U=j[F],H=x(U),R=b%S,I=R%H.boundary,B=R+I;b+=I,B!==0&&S-B<H.storage&&(b+=S-B),D.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=b,b+=H.storage}}}const C=b%S;return C>0&&(b+=S-C),y.__size=b,y.__cache={},this}function x(y){const _={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function m(y){const _=y.target;_.removeEventListener("dispose",m);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function p(){for(const y in i)t.deleteBuffer(i[y]);o=[],i={},s={}}return{bind:l,update:c,dispose:p}}class Hfe{constructor(e={}){const{canvas:n=Ide(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const v=new Uint32Array(4),x=new Int32Array(4);let m=null,p=null;const y=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Nl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const b=this;let S=!1;this._outputColorSpace=As;let C=0,M=0,T=null,P=-1,N=null;const k=new En,D=new En;let j=null;const F=new pt(0);let z=0,U=n.width,H=n.height,R=1,I=null,B=null;const W=new En(0,0,U,H),G=new En(0,0,U,H);let X=!1;const ne=new ay;let ae=!1,se=!1;const $=new Yt,Y=new le,Q=new En,ee={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ue=!1;function J(){return T===null?R:1}let K=r;function re(oe,_e){return n.getContext(oe,_e)}try{const oe={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${tw}`),n.addEventListener("webglcontextlost",ze,!1),n.addEventListener("webglcontextrestored",We,!1),n.addEventListener("webglcontextcreationerror",Ue,!1),K===null){const _e="webgl2";if(K=re(_e,oe),K===null)throw re(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(oe){throw console.error("THREE.WebGLRenderer: "+oe.message),oe}let fe,me,pe,Ae,Ce,De,ot,nt,ie,Z,ve,Se,Ie,Me,ct,Ve,lt,qe,He,at,Mt,he,Ee,Qe;function ce(){fe=new Zht(K),fe.init(),he=new $fe(K,fe),me=new Vht(K,fe,e,he),pe=new Rmt(K,fe),me.reversedDepthBuffer&&h&&pe.buffers.depth.setReversed(!0),Ae=new ept(K),Ce=new ymt,De=new Omt(K,fe,pe,Ce,me,he,Ae),ot=new Ght(b),nt=new Yht(b),ie=new odt(K),Ee=new $ht(K,ie),Z=new Qht(K,ie,Ae,Ee),ve=new npt(K,Z,ie,Ae),He=new tpt(K,me,De),Ve=new Wht(Ce),Se=new vmt(b,ot,nt,fe,me,Ee,Ve),Ie=new Fmt(b,Ce),Me=new _mt,ct=new Mmt(fe),qe=new Uht(b,ot,nt,pe,ve,g,l),lt=new Pmt(b,ve,me),Qe=new Bmt(K,Ae,me,pe),at=new Hht(K,fe,Ae),Mt=new Jht(K,fe,Ae),Ae.programs=Se.programs,b.capabilities=me,b.extensions=fe,b.properties=Ce,b.renderLists=Me,b.shadowMap=lt,b.state=pe,b.info=Ae}ce();const Ne=new jmt(b,K);this.xr=Ne,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const oe=fe.get("WEBGL_lose_context");oe&&oe.loseContext()},this.forceContextRestore=function(){const oe=fe.get("WEBGL_lose_context");oe&&oe.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(oe){oe!==void 0&&(R=oe,this.setSize(U,H,!1))},this.getSize=function(oe){return oe.set(U,H)},this.setSize=function(oe,_e,Pe=!0){if(Ne.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=oe,H=_e,n.width=Math.floor(oe*R),n.height=Math.floor(_e*R),Pe===!0&&(n.style.width=oe+"px",n.style.height=_e+"px"),this.setViewport(0,0,oe,_e)},this.getDrawingBufferSize=function(oe){return oe.set(U*R,H*R).floor()},this.setDrawingBufferSize=function(oe,_e,Pe){U=oe,H=_e,R=Pe,n.width=Math.floor(oe*Pe),n.height=Math.floor(_e*Pe),this.setViewport(0,0,oe,_e)},this.getCurrentViewport=function(oe){return oe.copy(k)},this.getViewport=function(oe){return oe.copy(W)},this.setViewport=function(oe,_e,Pe,Re){oe.isVector4?W.set(oe.x,oe.y,oe.z,oe.w):W.set(oe,_e,Pe,Re),pe.viewport(k.copy(W).multiplyScalar(R).round())},this.getScissor=function(oe){return oe.copy(G)},this.setScissor=function(oe,_e,Pe,Re){oe.isVector4?G.set(oe.x,oe.y,oe.z,oe.w):G.set(oe,_e,Pe,Re),pe.scissor(D.copy(G).multiplyScalar(R).round())},this.getScissorTest=function(){return X},this.setScissorTest=function(oe){pe.setScissorTest(X=oe)},this.setOpaqueSort=function(oe){I=oe},this.setTransparentSort=function(oe){B=oe},this.getClearColor=function(oe){return oe.copy(qe.getClearColor())},this.setClearColor=function(){qe.setClearColor(...arguments)},this.getClearAlpha=function(){return qe.getClearAlpha()},this.setClearAlpha=function(){qe.setClearAlpha(...arguments)},this.clear=function(oe=!0,_e=!0,Pe=!0){let Re=0;if(oe){let be=!1;if(T!==null){const Ke=T.texture.format;be=Ke===UP||Ke===zP||Ke===rw}if(be){const Ke=T.texture.type,ut=Ke===Qo||Ke===Gc||Ke===vv||Ke===yv||Ke===LP||Ke===FP,xt=qe.getClearColor(),vt=qe.getClearAlpha(),Dt=xt.r,It=xt.g,wt=xt.b;ut?(v[0]=Dt,v[1]=It,v[2]=wt,v[3]=vt,K.clearBufferuiv(K.COLOR,0,v)):(x[0]=Dt,x[1]=It,x[2]=wt,x[3]=vt,K.clearBufferiv(K.COLOR,0,x))}else Re|=K.COLOR_BUFFER_BIT}_e&&(Re|=K.DEPTH_BUFFER_BIT),Pe&&(Re|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(Re)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ze,!1),n.removeEventListener("webglcontextrestored",We,!1),n.removeEventListener("webglcontextcreationerror",Ue,!1),qe.dispose(),Me.dispose(),ct.dispose(),Ce.dispose(),ot.dispose(),nt.dispose(),ve.dispose(),Ee.dispose(),Qe.dispose(),Se.dispose(),Ne.dispose(),Ne.removeEventListener("sessionstart",In),Ne.removeEventListener("sessionend",oa),gs.stop()};function ze(oe){oe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function We(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const oe=Ae.autoReset,_e=lt.enabled,Pe=lt.autoUpdate,Re=lt.needsUpdate,be=lt.type;ce(),Ae.autoReset=oe,lt.enabled=_e,lt.autoUpdate=Pe,lt.needsUpdate=Re,lt.type=be}function Ue(oe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",oe.statusMessage)}function Le(oe){const _e=oe.target;_e.removeEventListener("dispose",Le),Je(_e)}function Je(oe){gt(oe),Ce.remove(oe)}function gt(oe){const _e=Ce.get(oe).programs;_e!==void 0&&(_e.forEach(function(Pe){Se.releaseProgram(Pe)}),oe.isShaderMaterial&&Se.releaseShaderCache(oe))}this.renderBufferDirect=function(oe,_e,Pe,Re,be,Ke){_e===null&&(_e=ee);const ut=be.isMesh&&be.matrixWorld.determinant()<0,xt=dp(oe,_e,Pe,Re,be);pe.setMaterial(Re,ut);let vt=Pe.index,Dt=1;if(Re.wireframe===!0){if(vt=Z.getWireframeAttribute(Pe),vt===void 0)return;Dt=2}const It=Pe.drawRange,wt=Pe.attributes.position;let Et=It.start*Dt,Ot=(It.start+It.count)*Dt;Ke!==null&&(Et=Math.max(Et,Ke.start*Dt),Ot=Math.min(Ot,(Ke.start+Ke.count)*Dt)),vt!==null?(Et=Math.max(Et,0),Ot=Math.min(Ot,vt.count)):wt!=null&&(Et=Math.max(Et,0),Ot=Math.min(Ot,wt.count));const wn=Ot-Et;if(wn<0||wn===1/0)return;Ee.setup(be,Re,xt,Pe,vt);let Qt,Jt=at;if(vt!==null&&(Qt=ie.get(vt),Jt=Mt,Jt.setIndex(Qt)),be.isMesh)Re.wireframe===!0?(pe.setLineWidth(Re.wireframeLinewidth*J()),Jt.setMode(K.LINES)):Jt.setMode(K.TRIANGLES);else if(be.isLine){let Tt=Re.linewidth;Tt===void 0&&(Tt=1),pe.setLineWidth(Tt*J()),be.isLineSegments?Jt.setMode(K.LINES):be.isLineLoop?Jt.setMode(K.LINE_LOOP):Jt.setMode(K.LINE_STRIP)}else be.isPoints?Jt.setMode(K.POINTS):be.isSprite&&Jt.setMode(K.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)W_("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),Jt.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(fe.get("WEBGL_multi_draw"))Jt.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const Tt=be._multiDrawStarts,Tn=be._multiDrawCounts,qt=be._multiDrawCount,yr=vt?ie.get(vt).bytesPerElement:1,aa=Ce.get(Re).currentProgram.getUniforms();for(let di=0;di<qt;di++)aa.setValue(K,"_gl_DrawID",di),Jt.render(Tt[di]/yr,Tn[di])}else if(be.isInstancedMesh)Jt.renderInstances(Et,wn,be.count);else if(Pe.isInstancedBufferGeometry){const Tt=Pe._maxInstanceCount!==void 0?Pe._maxInstanceCount:1/0,Tn=Math.min(Pe.instanceCount,Tt);Jt.renderInstances(Et,wn,Tn)}else Jt.render(Et,wn)};function $t(oe,_e,Pe){oe.transparent===!0&&oe.side===Pa&&oe.forceSinglePass===!1?(oe.side=Xi,oe.needsUpdate=!0,au(oe,_e,Pe),oe.side=Vc,oe.needsUpdate=!0,au(oe,_e,Pe),oe.side=Pa):au(oe,_e,Pe)}this.compile=function(oe,_e,Pe=null){Pe===null&&(Pe=oe),p=ct.get(Pe),p.init(_e),_.push(p),Pe.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),oe!==Pe&&oe.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),p.setupLights();const Re=new Set;return oe.traverse(function(be){if(!(be.isMesh||be.isPoints||be.isLine||be.isSprite))return;const Ke=be.material;if(Ke)if(Array.isArray(Ke))for(let ut=0;ut<Ke.length;ut++){const xt=Ke[ut];$t(xt,Pe,be),Re.add(xt)}else $t(Ke,Pe,be),Re.add(Ke)}),p=_.pop(),Re},this.compileAsync=function(oe,_e,Pe=null){const Re=this.compile(oe,_e,Pe);return new Promise(be=>{function Ke(){if(Re.forEach(function(ut){Ce.get(ut).currentProgram.isReady()&&Re.delete(ut)}),Re.size===0){be(oe);return}setTimeout(Ke,10)}fe.get("KHR_parallel_shader_compile")!==null?Ke():setTimeout(Ke,10)})};let Gt=null;function Bn(oe){Gt&&Gt(oe)}function In(){gs.stop()}function oa(){gs.start()}const gs=new Lfe;gs.setAnimationLoop(Bn),typeof self<"u"&&gs.setContext(self),this.setAnimationLoop=function(oe){Gt=oe,Ne.setAnimationLoop(oe),oe===null?gs.stop():gs.start()},Ne.addEventListener("sessionstart",In),Ne.addEventListener("sessionend",oa),this.render=function(oe,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;if(oe.matrixWorldAutoUpdate===!0&&oe.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),Ne.enabled===!0&&Ne.isPresenting===!0&&(Ne.cameraAutoUpdate===!0&&Ne.updateCamera(_e),_e=Ne.getCamera()),oe.isScene===!0&&oe.onBeforeRender(b,oe,_e,T),p=ct.get(oe,_.length),p.init(_e),_.push(p),$.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ne.setFromProjectionMatrix($,lo,_e.reversedDepth),se=this.localClippingEnabled,ae=Ve.init(this.clippingPlanes,se),m=Me.get(oe,y.length),m.init(),y.push(m),Ne.enabled===!0&&Ne.isPresenting===!0){const Ke=b.xr.getDepthSensingMesh();Ke!==null&&su(Ke,_e,-1/0,b.sortObjects)}su(oe,_e,0,b.sortObjects),m.finish(),b.sortObjects===!0&&m.sort(I,B),ue=Ne.enabled===!1||Ne.isPresenting===!1||Ne.hasDepthSensing()===!1,ue&&qe.addToRenderList(m,oe),this.info.render.frame++,ae===!0&&Ve.beginShadows();const Pe=p.state.shadowsArray;lt.render(Pe,oe,_e),ae===!0&&Ve.endShadows(),this.info.autoReset===!0&&this.info.reset();const Re=m.opaque,be=m.transmissive;if(p.setupLights(),_e.isArrayCamera){const Ke=_e.cameras;if(be.length>0)for(let ut=0,xt=Ke.length;ut<xt;ut++){const vt=Ke[ut];ap(Re,be,oe,vt)}ue&&qe.render(oe);for(let ut=0,xt=Ke.length;ut<xt;ut++){const vt=Ke[ut];ou(m,oe,vt,vt.viewport)}}else be.length>0&&ap(Re,be,oe,_e),ue&&qe.render(oe),ou(m,oe,_e);T!==null&&M===0&&(De.updateMultisampleRenderTarget(T),De.updateRenderTargetMipmap(T)),oe.isScene===!0&&oe.onAfterRender(b,oe,_e),Ee.resetDefaultState(),P=-1,N=null,_.pop(),_.length>0?(p=_[_.length-1],ae===!0&&Ve.setGlobalState(b.clippingPlanes,p.state.camera)):p=null,y.pop(),y.length>0?m=y[y.length-1]:m=null};function su(oe,_e,Pe,Re){if(oe.visible===!1)return;if(oe.layers.test(_e.layers)){if(oe.isGroup)Pe=oe.renderOrder;else if(oe.isLOD)oe.autoUpdate===!0&&oe.update(_e);else if(oe.isLight)p.pushLight(oe),oe.castShadow&&p.pushShadow(oe);else if(oe.isSprite){if(!oe.frustumCulled||ne.intersectsSprite(oe)){Re&&Q.setFromMatrixPosition(oe.matrixWorld).applyMatrix4($);const ut=ve.update(oe),xt=oe.material;xt.visible&&m.push(oe,ut,xt,Pe,Q.z,null)}}else if((oe.isMesh||oe.isLine||oe.isPoints)&&(!oe.frustumCulled||ne.intersectsObject(oe))){const ut=ve.update(oe),xt=oe.material;if(Re&&(oe.boundingSphere!==void 0?(oe.boundingSphere===null&&oe.computeBoundingSphere(),Q.copy(oe.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),Q.copy(ut.boundingSphere.center)),Q.applyMatrix4(oe.matrixWorld).applyMatrix4($)),Array.isArray(xt)){const vt=ut.groups;for(let Dt=0,It=vt.length;Dt<It;Dt++){const wt=vt[Dt],Et=xt[wt.materialIndex];Et&&Et.visible&&m.push(oe,ut,Et,Pe,Q.z,wt)}}else xt.visible&&m.push(oe,ut,xt,Pe,Q.z,null)}}const Ke=oe.children;for(let ut=0,xt=Ke.length;ut<xt;ut++)su(Ke[ut],_e,Pe,Re)}function ou(oe,_e,Pe,Re){const be=oe.opaque,Ke=oe.transmissive,ut=oe.transparent;p.setupLightsView(Pe),ae===!0&&Ve.setGlobalState(b.clippingPlanes,Pe),Re&&pe.viewport(k.copy(Re)),be.length>0&&wo(be,_e,Pe),Ke.length>0&&wo(Ke,_e,Pe),ut.length>0&&wo(ut,_e,Pe),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function ap(oe,_e,Pe,Re){if((Pe.isScene===!0?Pe.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[Re.id]===void 0&&(p.state.transmissionRenderTarget[Re.id]=new Fl(1,1,{generateMipmaps:!0,type:fe.has("EXT_color_buffer_half_float")||fe.has("EXT_color_buffer_float")?oy:Qo,minFilter:_l,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_n.workingColorSpace}));const Ke=p.state.transmissionRenderTarget[Re.id],ut=Re.viewport||k;Ke.setSize(ut.z*b.transmissionResolutionScale,ut.w*b.transmissionResolutionScale);const xt=b.getRenderTarget(),vt=b.getActiveCubeFace(),Dt=b.getActiveMipmapLevel();b.setRenderTarget(Ke),b.getClearColor(F),z=b.getClearAlpha(),z<1&&b.setClearColor(16777215,.5),b.clear(),ue&&qe.render(Pe);const It=b.toneMapping;b.toneMapping=Nl;const wt=Re.viewport;if(Re.viewport!==void 0&&(Re.viewport=void 0),p.setupLightsView(Re),ae===!0&&Ve.setGlobalState(b.clippingPlanes,Re),wo(oe,Pe,Re),De.updateMultisampleRenderTarget(Ke),De.updateRenderTargetMipmap(Ke),fe.has("WEBGL_multisampled_render_to_texture")===!1){let Et=!1;for(let Ot=0,wn=_e.length;Ot<wn;Ot++){const Qt=_e[Ot],Jt=Qt.object,Tt=Qt.geometry,Tn=Qt.material,qt=Qt.group;if(Tn.side===Pa&&Jt.layers.test(Re.layers)){const yr=Tn.side;Tn.side=Xi,Tn.needsUpdate=!0,lp(Jt,Pe,Re,Tt,Tn,qt),Tn.side=yr,Tn.needsUpdate=!0,Et=!0}}Et===!0&&(De.updateMultisampleRenderTarget(Ke),De.updateRenderTargetMipmap(Ke))}b.setRenderTarget(xt,vt,Dt),b.setClearColor(F,z),wt!==void 0&&(Re.viewport=wt),b.toneMapping=It}function wo(oe,_e,Pe){const Re=_e.isScene===!0?_e.overrideMaterial:null;for(let be=0,Ke=oe.length;be<Ke;be++){const ut=oe[be],xt=ut.object,vt=ut.geometry,Dt=ut.group;let It=ut.material;It.allowOverride===!0&&Re!==null&&(It=Re),xt.layers.test(Pe.layers)&&lp(xt,_e,Pe,vt,It,Dt)}}function lp(oe,_e,Pe,Re,be,Ke){oe.onBeforeRender(b,_e,Pe,Re,be,Ke),oe.modelViewMatrix.multiplyMatrices(Pe.matrixWorldInverse,oe.matrixWorld),oe.normalMatrix.getNormalMatrix(oe.modelViewMatrix),be.onBeforeRender(b,_e,Pe,Re,oe,Ke),be.transparent===!0&&be.side===Pa&&be.forceSinglePass===!1?(be.side=Xi,be.needsUpdate=!0,b.renderBufferDirect(Pe,_e,Re,be,oe,Ke),be.side=Vc,be.needsUpdate=!0,b.renderBufferDirect(Pe,_e,Re,be,oe,Ke),be.side=Pa):b.renderBufferDirect(Pe,_e,Re,be,oe,Ke),oe.onAfterRender(b,_e,Pe,Re,be,Ke)}function au(oe,_e,Pe){_e.isScene!==!0&&(_e=ee);const Re=Ce.get(oe),be=p.state.lights,Ke=p.state.shadowsArray,ut=be.state.version,xt=Se.getParameters(oe,be.state,Ke,_e,Pe),vt=Se.getProgramCacheKey(xt);let Dt=Re.programs;Re.environment=oe.isMeshStandardMaterial?_e.environment:null,Re.fog=_e.fog,Re.envMap=(oe.isMeshStandardMaterial?nt:ot).get(oe.envMap||Re.environment),Re.envMapRotation=Re.environment!==null&&oe.envMap===null?_e.environmentRotation:oe.envMapRotation,Dt===void 0&&(oe.addEventListener("dispose",Le),Dt=new Map,Re.programs=Dt);let It=Dt.get(vt);if(It!==void 0){if(Re.currentProgram===It&&Re.lightsStateVersion===ut)return up(oe,xt),It}else xt.uniforms=Se.getUniforms(oe),oe.onBeforeCompile(xt,b),It=Se.acquireProgram(xt,vt),Dt.set(vt,It),Re.uniforms=xt.uniforms;const wt=Re.uniforms;return(!oe.isShaderMaterial&&!oe.isRawShaderMaterial||oe.clipping===!0)&&(wt.clippingPlanes=Ve.uniform),up(oe,xt),Re.needsLights=hp(oe),Re.lightsStateVersion=ut,Re.needsLights&&(wt.ambientLightColor.value=be.state.ambient,wt.lightProbe.value=be.state.probe,wt.directionalLights.value=be.state.directional,wt.directionalLightShadows.value=be.state.directionalShadow,wt.spotLights.value=be.state.spot,wt.spotLightShadows.value=be.state.spotShadow,wt.rectAreaLights.value=be.state.rectArea,wt.ltc_1.value=be.state.rectAreaLTC1,wt.ltc_2.value=be.state.rectAreaLTC2,wt.pointLights.value=be.state.point,wt.pointLightShadows.value=be.state.pointShadow,wt.hemisphereLights.value=be.state.hemi,wt.directionalShadowMap.value=be.state.directionalShadowMap,wt.directionalShadowMatrix.value=be.state.directionalShadowMatrix,wt.spotShadowMap.value=be.state.spotShadowMap,wt.spotLightMatrix.value=be.state.spotLightMatrix,wt.spotLightMap.value=be.state.spotLightMap,wt.pointShadowMap.value=be.state.pointShadowMap,wt.pointShadowMatrix.value=be.state.pointShadowMatrix),Re.currentProgram=It,Re.uniformsList=null,It}function cp(oe){if(oe.uniformsList===null){const _e=oe.currentProgram.getUniforms();oe.uniformsList=TE.seqWithValue(_e.seq,oe.uniforms)}return oe.uniformsList}function up(oe,_e){const Pe=Ce.get(oe);Pe.outputColorSpace=_e.outputColorSpace,Pe.batching=_e.batching,Pe.batchingColor=_e.batchingColor,Pe.instancing=_e.instancing,Pe.instancingColor=_e.instancingColor,Pe.instancingMorph=_e.instancingMorph,Pe.skinning=_e.skinning,Pe.morphTargets=_e.morphTargets,Pe.morphNormals=_e.morphNormals,Pe.morphColors=_e.morphColors,Pe.morphTargetsCount=_e.morphTargetsCount,Pe.numClippingPlanes=_e.numClippingPlanes,Pe.numIntersection=_e.numClipIntersection,Pe.vertexAlphas=_e.vertexAlphas,Pe.vertexTangents=_e.vertexTangents,Pe.toneMapping=_e.toneMapping}function dp(oe,_e,Pe,Re,be){_e.isScene!==!0&&(_e=ee),De.resetTextureUnits();const Ke=_e.fog,ut=Re.isMeshStandardMaterial?_e.environment:null,xt=T===null?b.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:zh,vt=(Re.isMeshStandardMaterial?nt:ot).get(Re.envMap||ut),Dt=Re.vertexColors===!0&&!!Pe.attributes.color&&Pe.attributes.color.itemSize===4,It=!!Pe.attributes.tangent&&(!!Re.normalMap||Re.anisotropy>0),wt=!!Pe.morphAttributes.position,Et=!!Pe.morphAttributes.normal,Ot=!!Pe.morphAttributes.color;let wn=Nl;Re.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(wn=b.toneMapping);const Qt=Pe.morphAttributes.position||Pe.morphAttributes.normal||Pe.morphAttributes.color,Jt=Qt!==void 0?Qt.length:0,Tt=Ce.get(Re),Tn=p.state.lights;if(ae===!0&&(se===!0||oe!==N)){const $r=oe===N&&Re.id===P;Ve.setState(Re,oe,$r)}let qt=!1;Re.version===Tt.__version?(Tt.needsLights&&Tt.lightsStateVersion!==Tn.state.version||Tt.outputColorSpace!==xt||be.isBatchedMesh&&Tt.batching===!1||!be.isBatchedMesh&&Tt.batching===!0||be.isBatchedMesh&&Tt.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&Tt.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&Tt.instancing===!1||!be.isInstancedMesh&&Tt.instancing===!0||be.isSkinnedMesh&&Tt.skinning===!1||!be.isSkinnedMesh&&Tt.skinning===!0||be.isInstancedMesh&&Tt.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&Tt.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&Tt.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&Tt.instancingMorph===!1&&be.morphTexture!==null||Tt.envMap!==vt||Re.fog===!0&&Tt.fog!==Ke||Tt.numClippingPlanes!==void 0&&(Tt.numClippingPlanes!==Ve.numPlanes||Tt.numIntersection!==Ve.numIntersection)||Tt.vertexAlphas!==Dt||Tt.vertexTangents!==It||Tt.morphTargets!==wt||Tt.morphNormals!==Et||Tt.morphColors!==Ot||Tt.toneMapping!==wn||Tt.morphTargetsCount!==Jt)&&(qt=!0):(qt=!0,Tt.__version=Re.version);let yr=Tt.currentProgram;qt===!0&&(yr=au(Re,_e,be));let aa=!1,di=!1,So=!1;const Dn=yr.getUniforms(),Kn=Tt.uniforms;if(pe.useProgram(yr.program)&&(aa=!0,di=!0,So=!0),Re.id!==P&&(P=Re.id,di=!0),aa||N!==oe){pe.buffers.depth.getReversed()&&oe.reversedDepth!==!0&&(oe._reversedDepth=!0,oe.updateProjectionMatrix()),Dn.setValue(K,"projectionMatrix",oe.projectionMatrix),Dn.setValue(K,"viewMatrix",oe.matrixWorldInverse);const Oi=Dn.map.cameraPosition;Oi!==void 0&&Oi.setValue(K,Y.setFromMatrixPosition(oe.matrixWorld)),me.logarithmicDepthBuffer&&Dn.setValue(K,"logDepthBufFC",2/(Math.log(oe.far+1)/Math.LN2)),(Re.isMeshPhongMaterial||Re.isMeshToonMaterial||Re.isMeshLambertMaterial||Re.isMeshBasicMaterial||Re.isMeshStandardMaterial||Re.isShaderMaterial)&&Dn.setValue(K,"isOrthographic",oe.isOrthographicCamera===!0),N!==oe&&(N=oe,di=!0,So=!0)}if(be.isSkinnedMesh){Dn.setOptional(K,be,"bindMatrix"),Dn.setOptional(K,be,"bindMatrixInverse");const $r=be.skeleton;$r&&($r.boneTexture===null&&$r.computeBoneTexture(),Dn.setValue(K,"boneTexture",$r.boneTexture,De))}be.isBatchedMesh&&(Dn.setOptional(K,be,"batchingTexture"),Dn.setValue(K,"batchingTexture",be._matricesTexture,De),Dn.setOptional(K,be,"batchingIdTexture"),Dn.setValue(K,"batchingIdTexture",be._indirectTexture,De),Dn.setOptional(K,be,"batchingColorTexture"),be._colorsTexture!==null&&Dn.setValue(K,"batchingColorTexture",be._colorsTexture,De));const Ri=Pe.morphAttributes;if((Ri.position!==void 0||Ri.normal!==void 0||Ri.color!==void 0)&&He.update(be,Pe,yr),(di||Tt.receiveShadow!==be.receiveShadow)&&(Tt.receiveShadow=be.receiveShadow,Dn.setValue(K,"receiveShadow",be.receiveShadow)),Re.isMeshGouraudMaterial&&Re.envMap!==null&&(Kn.envMap.value=vt,Kn.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1),Re.isMeshStandardMaterial&&Re.envMap===null&&_e.environment!==null&&(Kn.envMapIntensity.value=_e.environmentIntensity),di&&(Dn.setValue(K,"toneMappingExposure",b.toneMappingExposure),Tt.needsLights&&fp(Kn,So),Ke&&Re.fog===!0&&Ie.refreshFogUniforms(Kn,Ke),Ie.refreshMaterialUniforms(Kn,Re,R,H,p.state.transmissionRenderTarget[oe.id]),TE.upload(K,cp(Tt),Kn,De)),Re.isShaderMaterial&&Re.uniformsNeedUpdate===!0&&(TE.upload(K,cp(Tt),Kn,De),Re.uniformsNeedUpdate=!1),Re.isSpriteMaterial&&Dn.setValue(K,"center",be.center),Dn.setValue(K,"modelViewMatrix",be.modelViewMatrix),Dn.setValue(K,"normalMatrix",be.normalMatrix),Dn.setValue(K,"modelMatrix",be.matrixWorld),Re.isShaderMaterial||Re.isRawShaderMaterial){const $r=Re.uniformsGroups;for(let Oi=0,lu=$r.length;Oi<lu;Oi++){const Eo=$r[Oi];Qe.update(Eo,yr),Qe.bind(Eo,yr)}}return yr}function fp(oe,_e){oe.ambientLightColor.needsUpdate=_e,oe.lightProbe.needsUpdate=_e,oe.directionalLights.needsUpdate=_e,oe.directionalLightShadows.needsUpdate=_e,oe.pointLights.needsUpdate=_e,oe.pointLightShadows.needsUpdate=_e,oe.spotLights.needsUpdate=_e,oe.spotLightShadows.needsUpdate=_e,oe.rectAreaLights.needsUpdate=_e,oe.hemisphereLights.needsUpdate=_e}function hp(oe){return oe.isMeshLambertMaterial||oe.isMeshToonMaterial||oe.isMeshPhongMaterial||oe.isMeshStandardMaterial||oe.isShadowMaterial||oe.isShaderMaterial&&oe.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(oe,_e,Pe){const Re=Ce.get(oe);Re.__autoAllocateDepthBuffer=oe.resolveDepthBuffer===!1,Re.__autoAllocateDepthBuffer===!1&&(Re.__useRenderToTexture=!1),Ce.get(oe.texture).__webglTexture=_e,Ce.get(oe.depthTexture).__webglTexture=Re.__autoAllocateDepthBuffer?void 0:Pe,Re.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(oe,_e){const Pe=Ce.get(oe);Pe.__webglFramebuffer=_e,Pe.__useDefaultFramebuffer=_e===void 0};const pp=K.createFramebuffer();this.setRenderTarget=function(oe,_e=0,Pe=0){T=oe,C=_e,M=Pe;let Re=!0,be=null,Ke=!1,ut=!1;if(oe){const vt=Ce.get(oe);if(vt.__useDefaultFramebuffer!==void 0)pe.bindFramebuffer(K.FRAMEBUFFER,null),Re=!1;else if(vt.__webglFramebuffer===void 0)De.setupRenderTarget(oe);else if(vt.__hasExternalTextures)De.rebindTextures(oe,Ce.get(oe.texture).__webglTexture,Ce.get(oe.depthTexture).__webglTexture);else if(oe.depthBuffer){const wt=oe.depthTexture;if(vt.__boundDepthTexture!==wt){if(wt!==null&&Ce.has(wt)&&(oe.width!==wt.image.width||oe.height!==wt.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");De.setupDepthRenderbuffer(oe)}}const Dt=oe.texture;(Dt.isData3DTexture||Dt.isDataArrayTexture||Dt.isCompressedArrayTexture)&&(ut=!0);const It=Ce.get(oe).__webglFramebuffer;oe.isWebGLCubeRenderTarget?(Array.isArray(It[_e])?be=It[_e][Pe]:be=It[_e],Ke=!0):oe.samples>0&&De.useMultisampledRTT(oe)===!1?be=Ce.get(oe).__webglMultisampledFramebuffer:Array.isArray(It)?be=It[Pe]:be=It,k.copy(oe.viewport),D.copy(oe.scissor),j=oe.scissorTest}else k.copy(W).multiplyScalar(R).floor(),D.copy(G).multiplyScalar(R).floor(),j=X;if(Pe!==0&&(be=pp),pe.bindFramebuffer(K.FRAMEBUFFER,be)&&Re&&pe.drawBuffers(oe,be),pe.viewport(k),pe.scissor(D),pe.setScissorTest(j),Ke){const vt=Ce.get(oe.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+_e,vt.__webglTexture,Pe)}else if(ut){const vt=_e;for(let Dt=0;Dt<oe.textures.length;Dt++){const It=Ce.get(oe.textures[Dt]);K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0+Dt,It.__webglTexture,Pe,vt)}}else if(oe!==null&&Pe!==0){const vt=Ce.get(oe.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,vt.__webglTexture,Pe)}P=-1},this.readRenderTargetPixels=function(oe,_e,Pe,Re,be,Ke,ut,xt=0){if(!(oe&&oe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=Ce.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&ut!==void 0&&(vt=vt[ut]),vt){pe.bindFramebuffer(K.FRAMEBUFFER,vt);try{const Dt=oe.textures[xt],It=Dt.format,wt=Dt.type;if(!me.textureFormatReadable(It)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!me.textureTypeReadable(wt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=oe.width-Re&&Pe>=0&&Pe<=oe.height-be&&(oe.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+xt),K.readPixels(_e,Pe,Re,be,he.convert(It),he.convert(wt),Ke))}finally{const Dt=T!==null?Ce.get(T).__webglFramebuffer:null;pe.bindFramebuffer(K.FRAMEBUFFER,Dt)}}},this.readRenderTargetPixelsAsync=async function(oe,_e,Pe,Re,be,Ke,ut,xt=0){if(!(oe&&oe.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let vt=Ce.get(oe).__webglFramebuffer;if(oe.isWebGLCubeRenderTarget&&ut!==void 0&&(vt=vt[ut]),vt)if(_e>=0&&_e<=oe.width-Re&&Pe>=0&&Pe<=oe.height-be){pe.bindFramebuffer(K.FRAMEBUFFER,vt);const Dt=oe.textures[xt],It=Dt.format,wt=Dt.type;if(!me.textureFormatReadable(It))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!me.textureTypeReadable(wt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Et=K.createBuffer();K.bindBuffer(K.PIXEL_PACK_BUFFER,Et),K.bufferData(K.PIXEL_PACK_BUFFER,Ke.byteLength,K.STREAM_READ),oe.textures.length>1&&K.readBuffer(K.COLOR_ATTACHMENT0+xt),K.readPixels(_e,Pe,Re,be,he.convert(It),he.convert(wt),0);const Ot=T!==null?Ce.get(T).__webglFramebuffer:null;pe.bindFramebuffer(K.FRAMEBUFFER,Ot);const wn=K.fenceSync(K.SYNC_GPU_COMMANDS_COMPLETE,0);return K.flush(),await Elt(K,wn,4),K.bindBuffer(K.PIXEL_PACK_BUFFER,Et),K.getBufferSubData(K.PIXEL_PACK_BUFFER,0,Ke),K.deleteBuffer(Et),K.deleteSync(wn),Ke}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(oe,_e=null,Pe=0){const Re=Math.pow(2,-Pe),be=Math.floor(oe.image.width*Re),Ke=Math.floor(oe.image.height*Re),ut=_e!==null?_e.x:0,xt=_e!==null?_e.y:0;De.setTexture2D(oe,0),K.copyTexSubImage2D(K.TEXTURE_2D,Pe,0,0,ut,xt,be,Ke),pe.unbindTexture()};const uy=K.createFramebuffer(),dy=K.createFramebuffer();this.copyTextureToTexture=function(oe,_e,Pe=null,Re=null,be=0,Ke=null){Ke===null&&(be!==0?(W_("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ke=be,be=0):Ke=0);let ut,xt,vt,Dt,It,wt,Et,Ot,wn;const Qt=oe.isCompressedTexture?oe.mipmaps[Ke]:oe.image;if(Pe!==null)ut=Pe.max.x-Pe.min.x,xt=Pe.max.y-Pe.min.y,vt=Pe.isBox3?Pe.max.z-Pe.min.z:1,Dt=Pe.min.x,It=Pe.min.y,wt=Pe.isBox3?Pe.min.z:0;else{const Ri=Math.pow(2,-be);ut=Math.floor(Qt.width*Ri),xt=Math.floor(Qt.height*Ri),oe.isDataArrayTexture?vt=Qt.depth:oe.isData3DTexture?vt=Math.floor(Qt.depth*Ri):vt=1,Dt=0,It=0,wt=0}Re!==null?(Et=Re.x,Ot=Re.y,wn=Re.z):(Et=0,Ot=0,wn=0);const Jt=he.convert(_e.format),Tt=he.convert(_e.type);let Tn;_e.isData3DTexture?(De.setTexture3D(_e,0),Tn=K.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(De.setTexture2DArray(_e,0),Tn=K.TEXTURE_2D_ARRAY):(De.setTexture2D(_e,0),Tn=K.TEXTURE_2D),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,_e.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,_e.unpackAlignment);const qt=K.getParameter(K.UNPACK_ROW_LENGTH),yr=K.getParameter(K.UNPACK_IMAGE_HEIGHT),aa=K.getParameter(K.UNPACK_SKIP_PIXELS),di=K.getParameter(K.UNPACK_SKIP_ROWS),So=K.getParameter(K.UNPACK_SKIP_IMAGES);K.pixelStorei(K.UNPACK_ROW_LENGTH,Qt.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Qt.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Dt),K.pixelStorei(K.UNPACK_SKIP_ROWS,It),K.pixelStorei(K.UNPACK_SKIP_IMAGES,wt);const Dn=oe.isDataArrayTexture||oe.isData3DTexture,Kn=_e.isDataArrayTexture||_e.isData3DTexture;if(oe.isDepthTexture){const Ri=Ce.get(oe),$r=Ce.get(_e),Oi=Ce.get(Ri.__renderTarget),lu=Ce.get($r.__renderTarget);pe.bindFramebuffer(K.READ_FRAMEBUFFER,Oi.__webglFramebuffer),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,lu.__webglFramebuffer);for(let Eo=0;Eo<vt;Eo++)Dn&&(K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ce.get(oe).__webglTexture,be,wt+Eo),K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ce.get(_e).__webglTexture,Ke,wn+Eo)),K.blitFramebuffer(Dt,It,ut,xt,Et,Ot,ut,xt,K.DEPTH_BUFFER_BIT,K.NEAREST);pe.bindFramebuffer(K.READ_FRAMEBUFFER,null),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else if(be!==0||oe.isRenderTargetTexture||Ce.has(oe)){const Ri=Ce.get(oe),$r=Ce.get(_e);pe.bindFramebuffer(K.READ_FRAMEBUFFER,uy),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,dy);for(let Oi=0;Oi<vt;Oi++)Dn?K.framebufferTextureLayer(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,Ri.__webglTexture,be,wt+Oi):K.framebufferTexture2D(K.READ_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,Ri.__webglTexture,be),Kn?K.framebufferTextureLayer(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,$r.__webglTexture,Ke,wn+Oi):K.framebufferTexture2D(K.DRAW_FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_2D,$r.__webglTexture,Ke),be!==0?K.blitFramebuffer(Dt,It,ut,xt,Et,Ot,ut,xt,K.COLOR_BUFFER_BIT,K.NEAREST):Kn?K.copyTexSubImage3D(Tn,Ke,Et,Ot,wn+Oi,Dt,It,ut,xt):K.copyTexSubImage2D(Tn,Ke,Et,Ot,Dt,It,ut,xt);pe.bindFramebuffer(K.READ_FRAMEBUFFER,null),pe.bindFramebuffer(K.DRAW_FRAMEBUFFER,null)}else Kn?oe.isDataTexture||oe.isData3DTexture?K.texSubImage3D(Tn,Ke,Et,Ot,wn,ut,xt,vt,Jt,Tt,Qt.data):_e.isCompressedArrayTexture?K.compressedTexSubImage3D(Tn,Ke,Et,Ot,wn,ut,xt,vt,Jt,Qt.data):K.texSubImage3D(Tn,Ke,Et,Ot,wn,ut,xt,vt,Jt,Tt,Qt):oe.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,Ke,Et,Ot,ut,xt,Jt,Tt,Qt.data):oe.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,Ke,Et,Ot,Qt.width,Qt.height,Jt,Qt.data):K.texSubImage2D(K.TEXTURE_2D,Ke,Et,Ot,ut,xt,Jt,Tt,Qt);K.pixelStorei(K.UNPACK_ROW_LENGTH,qt),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,yr),K.pixelStorei(K.UNPACK_SKIP_PIXELS,aa),K.pixelStorei(K.UNPACK_SKIP_ROWS,di),K.pixelStorei(K.UNPACK_SKIP_IMAGES,So),Ke===0&&_e.generateMipmaps&&K.generateMipmap(Tn),pe.unbindTexture()},this.initRenderTarget=function(oe){Ce.get(oe).__webglFramebuffer===void 0&&De.setupRenderTarget(oe)},this.initTexture=function(oe){oe.isCubeTexture?De.setTextureCube(oe,0):oe.isData3DTexture?De.setTexture3D(oe,0):oe.isDataArrayTexture||oe.isCompressedArrayTexture?De.setTexture2DArray(oe,0):De.setTexture2D(oe,0),pe.unbindTexture()},this.resetState=function(){C=0,M=0,T=null,pe.reset(),Ee.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return lo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=_n._getDrawingBufferColorSpace(e),n.unpackColorSpace=_n._getUnpackColorSpace()}}const zmt=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:$B,AddEquation:Uu,AddOperation:dde,AdditiveAnimationBlendMode:ZB,AdditiveBlending:Kj,AgXToneMapping:gde,AlphaFormat:XB,AlwaysCompare:Rde,AlwaysDepth:zM,AlwaysStencilFunc:Jj,AmbientLight:Cfe,AnimationAction:Ife,AnimationClip:Z_,AnimationLoader:Zct,AnimationMixer:Mut,AnimationObjectGroup:Eut,AnimationUtils:qct,ArcCurve:Yde,ArrayCamera:Rfe,ArrowHelper:Zut,AttachedBindMode:Qj,Audio:Ofe,AudioAnalyser:put,AudioContext:E5,AudioListener:dut,AudioLoader:lut,AxesHelper:Qut,BackSide:Xi,BasicDepthPacking:wde,BasicShadowMap:Wue,BatchedMesh:Wde,Bone:o5,BooleanKeyframeTrack:ip,Box2:Dut,Box3:Yi,Box3Helper:Kut,BoxGeometry:rp,BoxHelper:Xut,BufferAttribute:Wn,BufferGeometry:on,BufferGeometryLoader:Nfe,ByteType:VB,Cache:bl,Camera:iw,CameraHelper:qut,CanvasTexture:gct,CapsuleGeometry:ZP,CatmullRomCurve3:Zde,CineonToneMapping:pde,CircleGeometry:QP,ClampToEdgeWrapping:Go,Clock:C5,Color:pt,ColorKeyframeTrack:b5,ColorManagement:_n,CompressedArrayTexture:pct,CompressedCubeTexture:mct,CompressedTexture:YP,CompressedTextureLoader:Qct,ConeGeometry:aw,ConstantAlphaFactor:lde,ConstantColorFactor:ode,Controls:edt,CubeCamera:Fde,CubeReflectionMapping:Wc,CubeRefractionMapping:Sd,CubeTexture:sw,CubeTextureLoader:Jct,CubeUVReflectionMapping:sy,CubicBezierCurve:d5,CubicBezierCurve3:Qde,CubicInterpolant:vfe,CullFaceBack:Xj,CullFaceFront:Vue,CullFaceFrontBack:Eat,CullFaceNone:Hue,Curve:Za,CurvePath:efe,CustomBlending:Gue,CustomToneMapping:mde,CylinderGeometry:ow,Cylindrical:Iut,Data3DTexture:VP,DataArrayTexture:HP,DataTexture:Rl,DataTextureLoader:eut,DataUtils:Blt,DecrementStencilOp:Fat,DecrementWrapStencilOp:zat,DefaultLoadingManager:_fe,DepthFormat:xv,DepthStencilFormat:_v,DepthTexture:l5,DetachedBindMode:yde,DirectionalLight:Efe,DirectionalLightHelper:Gut,DiscreteInterpolant:yfe,DodecahedronGeometry:JP,DoubleSide:Pa,DstAlphaFactor:tde,DstColorFactor:rde,DynamicCopyUsage:tlt,DynamicDrawUsage:Kat,DynamicReadUsage:Qat,EdgesGeometry:Kde,EllipseCurve:e2,EqualCompare:Ade,EqualDepth:$M,EqualStencilFunc:Vat,EquirectangularReflectionMapping:j_,EquirectangularRefractionMapping:L_,Euler:yo,EventDispatcher:Xl,ExternalTexture:c5,ExtrudeGeometry:t2,FileLoader:qc,Float16BufferAttribute:Glt,Float32BufferAttribute:Ct,FloatType:Is,Fog:GP,FogExp2:WP,FramebufferTexture:hct,FrontSide:Vc,Frustum:ay,FrustumArray:KP,GLBufferAttribute:Rut,GLSL1:rlt,GLSL3:eL,GreaterCompare:Tde,GreaterDepth:VM,GreaterEqualCompare:Nde,GreaterEqualDepth:HM,GreaterEqualStencilFunc:Xat,GreaterStencilFunc:Gat,GridHelper:Vut,Group:jm,HalfFloatType:oy,HemisphereLight:bfe,HemisphereLightHelper:Hut,IcosahedronGeometry:n2,ImageBitmapLoader:aut,ImageLoader:Q_,ImageUtils:Dde,IncrementStencilOp:Lat,IncrementWrapStencilOp:Bat,InstancedBufferAttribute:Ev,InstancedBufferGeometry:Pfe,InstancedInterleavedBuffer:Nut,InstancedMesh:Vde,Int16BufferAttribute:Vlt,Int32BufferAttribute:Wlt,Int8BufferAttribute:Ult,IntType:jP,InterleavedBuffer:qP,InterleavedBufferAttribute:Uh,Interpolant:uw,InterpolateDiscrete:z_,InterpolateLinear:_A,InterpolateSmooth:ME,InterpolationSamplingMode:olt,InterpolationSamplingType:slt,InvertStencilOp:Uat,KeepStencilOp:Nf,KeyframeTrack:sa,LOD:$de,LatheGeometry:r2,Layers:dh,LessCompare:Mde,LessDepth:UM,LessEqualCompare:QB,LessEqualDepth:Bh,LessEqualStencilFunc:Wat,LessStencilFunc:Hat,Light:Wd,LightProbe:Tfe,Line:Ed,Line3:Fut,LineBasicMaterial:ms,LineCurve:f5,LineCurve3:Jde,LineDashedMaterial:pfe,LineLoop:Gde,LineSegments:Kl,LinearFilter:ai,LinearInterpolant:_5,LinearMipMapLinearFilter:Tat,LinearMipMapNearestFilter:Aat,LinearMipmapLinearFilter:_l,LinearMipmapNearestFilter:ox,LinearSRGBColorSpace:zh,LinearToneMapping:fde,LinearTransfer:$_,Loader:Vs,LoaderUtils:sL,LoadingManager:w5,LoopOnce:xde,LoopPingPong:bde,LoopRepeat:_de,MOUSE:Tf,Material:Qi,MaterialLoader:u2,MathUtils:Ode,Matrix2:P5,Matrix3:rn,Matrix4:Yt,MaxEquation:Yue,Mesh:Kr,MeshBasicMaterial:Hd,MeshDepthMaterial:v5,MeshDistanceMaterial:y5,MeshLambertMaterial:ffe,MeshMatcapMaterial:hfe,MeshNormalMaterial:dfe,MeshPhongMaterial:cfe,MeshPhysicalMaterial:lfe,MeshStandardMaterial:g5,MeshToonMaterial:ufe,MinEquation:Kue,MirroredRepeatWrapping:B_,MixOperation:ude,MultiplyBlending:Zj,MultiplyOperation:nw,NearestFilter:Ai,NearestMipMapLinearFilter:Mat,NearestMipMapNearestFilter:Cat,NearestMipmapLinearFilter:Im,NearestMipmapNearestFilter:HB,NeutralToneMapping:vde,NeverCompare:Cde,NeverDepth:BM,NeverStencilFunc:$at,NoBlending:Rc,NoColorSpace:xc,NoToneMapping:Nl,NormalAnimationBlendMode:$P,NormalBlending:ch,NotEqualCompare:Pde,NotEqualDepth:WM,NotEqualStencilFunc:qat,NumberKeyframeTrack:K_,Object3D:Mn,ObjectLoader:sut,ObjectSpaceNormalMap:Ede,OctahedronGeometry:lw,OneFactor:Que,OneMinusConstantAlphaFactor:cde,OneMinusConstantColorFactor:ade,OneMinusDstAlphaFactor:nde,OneMinusDstColorFactor:ide,OneMinusSrcAlphaFactor:FM,OneMinusSrcColorFactor:ede,OrthographicCamera:Ol,PCFShadowMap:IP,PCFSoftShadowMap:sx,PMREMGenerator:cL,Path:EA,PerspectiveCamera:Sr,Plane:hl,PlaneGeometry:ly,PlaneHelper:Yut,PointLight:Sfe,PointLightHelper:Uut,Points:qde,PointsMaterial:a5,PolarGridHelper:Wut,PolyhedronGeometry:Vd,PositionalAudio:hut,PropertyBinding:Sn,PropertyMixer:kfe,QuadraticBezierCurve:h5,QuadraticBezierCurve3:p5,Quaternion:Ki,QuaternionKeyframeTrack:dw,QuaternionLinearInterpolant:xfe,RED_GREEN_RGTC2_Format:yA,RED_RGTC1_Format:gA,REVISION:tw,RGBADepthPacking:Sde,RGBAFormat:Gi,RGBAIntegerFormat:UP,RGBA_ASTC_10x10_Format:uA,RGBA_ASTC_10x5_Format:aA,RGBA_ASTC_10x6_Format:lA,RGBA_ASTC_10x8_Format:cA,RGBA_ASTC_12x10_Format:dA,RGBA_ASTC_12x12_Format:fA,RGBA_ASTC_4x4_Format:JM,RGBA_ASTC_5x4_Format:eA,RGBA_ASTC_5x5_Format:tA,RGBA_ASTC_6x5_Format:nA,RGBA_ASTC_6x6_Format:rA,RGBA_ASTC_8x5_Format:iA,RGBA_ASTC_8x6_Format:sA,RGBA_ASTC_8x8_Format:oA,RGBA_BPTC_Format:hA,RGBA_ETC2_EAC_Format:QM,RGBA_PVRTC_2BPPV1_Format:KM,RGBA_PVRTC_4BPPV1_Format:XM,RGBA_S3TC_DXT1_Format:lx,RGBA_S3TC_DXT3_Format:cx,RGBA_S3TC_DXT5_Format:ux,RGBDepthPacking:kat,RGBFormat:KB,RGBIntegerFormat:Pat,RGB_BPTC_SIGNED_Format:pA,RGB_BPTC_UNSIGNED_Format:mA,RGB_ETC1_Format:YM,RGB_ETC2_Format:ZM,RGB_PVRTC_2BPPV1_Format:qM,RGB_PVRTC_4BPPV1_Format:GM,RGB_S3TC_DXT1_Format:ax,RGDepthPacking:Iat,RGFormat:YB,RGIntegerFormat:zP,RawShaderMaterial:afe,Ray:np,Raycaster:Dfe,RectAreaLight:Mfe,RedFormat:BP,RedIntegerFormat:rw,ReinhardToneMapping:hde,RenderTarget:e5,RenderTarget3D:Aut,RepeatWrapping:F_,ReplaceStencilOp:jat,ReverseSubtractEquation:Xue,RingGeometry:i2,SIGNED_RED_GREEN_RGTC2_Format:xA,SIGNED_RED_RGTC1_Format:vA,SRGBColorSpace:As,SRGBTransfer:zn,Scene:i5,ShaderChunk:ln,ShaderLib:Aa,ShaderMaterial:Jo,ShadowMaterial:ofe,Shape:fh,ShapeGeometry:s2,ShapePath:Jut,ShapeUtils:Oa,ShortType:WB,Skeleton:XP,SkeletonHelper:zut,SkinnedMesh:Hde,Source:nd,Sphere:Ti,SphereGeometry:cw,Spherical:aL,SphericalHarmonics3:Afe,SplineCurve:m5,SpotLight:wfe,SpotLightHelper:But,Sprite:Ude,SpriteMaterial:s5,SrcAlphaFactor:LM,SrcAlphaSaturateFactor:sde,SrcColorFactor:Jue,StaticCopyUsage:elt,StaticDrawUsage:H_,StaticReadUsage:Zat,StereoCamera:cut,StreamCopyUsage:nlt,StreamDrawUsage:Yat,StreamReadUsage:Jat,StringKeyframeTrack:sp,SubtractEquation:que,SubtractiveBlending:Yj,TOUCH:Pf,TangentSpaceNormalMap:$d,TetrahedronGeometry:o2,Texture:Dr,TextureLoader:tut,TextureUtils:sdt,Timer:Out,TimestampQuery:ilt,TorusGeometry:a2,TorusKnotGeometry:l2,Triangle:Ns,TriangleFanDrawMode:Oat,TriangleStripDrawMode:Rat,TrianglesDrawMode:Nat,TubeGeometry:c2,UVMapping:DP,Uint16BufferAttribute:t5,Uint32BufferAttribute:n5,Uint8BufferAttribute:$lt,Uint8ClampedBufferAttribute:Hlt,Uniform:T5,UniformsGroup:Put,UniformsLib:dt,UniformsUtils:r5,UnsignedByteType:Qo,UnsignedInt101111Type:qB,UnsignedInt248Type:yv,UnsignedInt5999Type:GB,UnsignedIntType:Gc,UnsignedShort4444Type:LP,UnsignedShort5551Type:FP,UnsignedShortType:vv,VSMShadowMap:va,Vector2:$e,Vector3:le,Vector4:En,VectorKeyframeTrack:Y_,VideoFrameTexture:fct,VideoTexture:Xde,WebGL3DRenderTarget:Plt,WebGLArrayRenderTarget:Tlt,WebGLCoordinateSystem:lo,WebGLCubeRenderTarget:Bde,WebGLRenderTarget:Fl,WebGLRenderer:Hfe,WebGLUtils:$fe,WebGPUCoordinateSystem:bv,WebXRController:AE,WireframeGeometry:sfe,WrapAroundEnding:U_,ZeroCurvatureEnding:Hf,ZeroFactor:Zue,ZeroSlopeEnding:Vf,ZeroStencilOp:Dat,createCanvasElement:Ide},Symbol.toStringTag,{value:"Module"}));var Vfe={exports:{}},op={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */op.ConcurrentRoot=1;op.ContinuousEventPriority=4;op.DefaultEventPriority=16;op.DiscreteEventPriority=1;op.IdleEventPriority=536870912;op.LegacyRoot=0;Vfe.exports=op;var Fm=Vfe.exports;function Umt(t){let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const h=e;e=f?d:Object.assign({},e,d),n.forEach(g=>g(e,h))}},i=()=>e,s=(c,f=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=f(e);function g(){const v=f(e);if(!d(h,v)){const x=h;c(h=v,x)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(c,f,d)=>f||d?s(c,f,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const $mt=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),k9=$mt?A.useEffect:A.useLayoutEffect;function Hmt(t){const e=typeof t=="function"?Umt(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=A.useReducer(m=>m+1,0),o=e.getState(),a=A.useRef(o),l=A.useRef(r),c=A.useRef(i),f=A.useRef(!1),d=A.useRef();d.current===void 0&&(d.current=r(o));let h,g=!1;(a.current!==o||l.current!==r||c.current!==i||f.current)&&(h=r(o),g=!i(d.current,h)),k9(()=>{g&&(d.current=h),a.current=o,l.current=r,c.current=i,f.current=!1});const v=A.useRef(o);k9(()=>{const m=()=>{try{const y=e.getState(),_=l.current(y);c.current(d.current,_)||(a.current=y,d.current=_,s())}catch{f.current=!0,s()}},p=e.subscribe(m);return e.getState()!==v.current&&m(),p},[]);const x=g?h:d.current;return A.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var Wfe={exports:{}},QO={exports:{}},JO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I9;function Vmt(){return I9||(I9=1,function(t){function e(R,I){var B=R.length;R.push(I);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,I))R[W]=I,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],B=R.pop();if(B!==I){R[0]=B;e:for(var W=0,G=R.length,X=G>>>1;W<X;){var ne=2*(W+1)-1,ae=R[ne],se=ne+1,$=R[se];if(0>i(ae,B))se<G&&0>i($,ae)?(R[W]=$,R[se]=B,W=se):(R[W]=ae,R[ne]=B,W=ne);else if(se<G&&0>i($,B))R[W]=$,R[se]=B,W=se;else break e}}return I}function i(R,I){var B=R.sortIndex-I.sortIndex;return B!==0?B:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,g=!1,v=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=R)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function b(R){if(x=!1,_(R),!v)if(n(l)!==null)v=!0,U(S);else{var I=n(c);I!==null&&H(b,I.startTime-R)}}function S(R,I){v=!1,x&&(x=!1,p(T),T=-1),g=!0;var B=h;try{for(_(I),d=n(l);d!==null&&(!(d.expirationTime>I)||R&&!k());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var G=W(d.expirationTime<=I);I=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(I)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var ne=n(c);ne!==null&&H(b,ne.startTime-I),X=!1}return X}finally{d=null,h=B,g=!1}}var C=!1,M=null,T=-1,P=5,N=-1;function k(){return!(t.unstable_now()-N<P)}function D(){if(M!==null){var R=t.unstable_now();N=R;var I=!0;try{I=M(!0,R)}finally{I?j():(C=!1,M=null)}}else C=!1}var j;if(typeof y=="function")j=function(){y(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=D,j=function(){z.postMessage(null)}}else j=function(){m(D,0)};function U(R){M=R,C||(C=!0,j())}function H(R,I){T=m(function(){R(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var B=h;h=I;try{return R()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return I()}finally{h=B}},t.unstable_scheduleCallback=function(R,I,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:f++,callback:I,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(x?(p(T),T=-1):x=!0,H(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,U(S))),R},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(R){var I=h;return function(){var B=h;h=I;try{return R.apply(this,arguments)}finally{h=B}}}}(JO)),JO}var D9;function Wmt(){return D9||(D9=1,QO.exports=Vmt()),QO.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gmt=function(e){var n={},r=A,i=Wmt(),s=Object.assign;function o(w){for(var E="https://reactjs.org/docs/error-decoder.html?invariant="+w,O=1;O<arguments.length;O++)E+="&args[]="+encodeURIComponent(arguments[O]);return"Minified React error #"+w+"; visit "+E+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),S=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=S&&w[S]||w["@@iterator"],typeof w=="function"?w:null)}function M(w){if(w==null)return null;if(typeof w=="function")return w.displayName||w.name||null;if(typeof w=="string")return w;switch(w){case f:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case m:return"Suspense";case p:return"SuspenseList"}if(typeof w=="object")switch(w.$$typeof){case v:return(w.displayName||"Context")+".Consumer";case g:return(w._context.displayName||"Context")+".Provider";case x:var E=w.render;return w=w.displayName,w||(w=E.displayName||E.name||"",w=w!==""?"ForwardRef("+w+")":"ForwardRef"),w;case y:return E=w.displayName||null,E!==null?E:M(w.type)||"Memo";case _:E=w._payload,w=w._init;try{return M(w(E))}catch{}}return null}function T(w){var E=w.type;switch(w.tag){case 24:return"Cache";case 9:return(E.displayName||"Context")+".Consumer";case 10:return(E._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return w=E.render,w=w.displayName||w.name||"",E.displayName||(w!==""?"ForwardRef("+w+")":"ForwardRef");case 7:return"Fragment";case 5:return E;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(E);case 8:return E===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof E=="function")return E.displayName||E.name||null;if(typeof E=="string")return E}return null}function P(w){var E=w,O=w;if(w.alternate)for(;E.return;)E=E.return;else{w=E;do E=w,E.flags&4098&&(O=E.return),w=E.return;while(w)}return E.tag===3?O:null}function N(w){if(P(w)!==w)throw Error(o(188))}function k(w){var E=w.alternate;if(!E){if(E=P(w),E===null)throw Error(o(188));return E!==w?null:w}for(var O=w,L=E;;){var V=O.return;if(V===null)break;var q=V.alternate;if(q===null){if(L=V.return,L!==null){O=L;continue}break}if(V.child===q.child){for(q=V.child;q;){if(q===O)return N(V),w;if(q===L)return N(V),E;q=q.sibling}throw Error(o(188))}if(O.return!==L.return)O=V,L=q;else{for(var de=!1,ye=V.child;ye;){if(ye===O){de=!0,O=V,L=q;break}if(ye===L){de=!0,L=V,O=q;break}ye=ye.sibling}if(!de){for(ye=q.child;ye;){if(ye===O){de=!0,O=q,L=V;break}if(ye===L){de=!0,L=q,O=V;break}ye=ye.sibling}if(!de)throw Error(o(189))}}if(O.alternate!==L)throw Error(o(190))}if(O.tag!==3)throw Error(o(188));return O.stateNode.current===O?w:E}function D(w){return w=k(w),w!==null?j(w):null}function j(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){var E=j(w);if(E!==null)return E;w=w.sibling}return null}function F(w){if(w.tag===5||w.tag===6)return w;for(w=w.child;w!==null;){if(w.tag!==4){var E=F(w);if(E!==null)return E}w=w.sibling}return null}var z=Array.isArray,U=e.getPublicInstance,H=e.getRootHostContext,R=e.getChildHostContext,I=e.prepareForCommit,B=e.resetAfterCommit,W=e.createInstance,G=e.appendInitialChild,X=e.finalizeInitialChildren,ne=e.prepareUpdate,ae=e.shouldSetTextContent,se=e.createTextInstance,$=e.scheduleTimeout,Y=e.cancelTimeout,Q=e.noTimeout,ee=e.isPrimaryRenderer,ue=e.supportsMutation,J=e.supportsPersistence,K=e.supportsHydration,re=e.getInstanceFromNode,fe=e.preparePortalMount,me=e.getCurrentEventPriority,pe=e.detachDeletedInstance,Ae=e.supportsMicrotasks,Ce=e.scheduleMicrotask,De=e.supportsTestSelectors,ot=e.findFiberRoot,nt=e.getBoundingRect,ie=e.getTextContent,Z=e.isHiddenSubtree,ve=e.matchAccessibilityRole,Se=e.setFocusIfFocusable,Ie=e.setupIntersectionObserver,Me=e.appendChild,ct=e.appendChildToContainer,Ve=e.commitTextUpdate,lt=e.commitMount,qe=e.commitUpdate,He=e.insertBefore,at=e.insertInContainerBefore,Mt=e.removeChild,he=e.removeChildFromContainer,Ee=e.resetTextContent,Qe=e.hideInstance,ce=e.hideTextInstance,Ne=e.unhideInstance,ze=e.unhideTextInstance,We=e.clearContainer,Ue=e.cloneInstance,Le=e.createContainerChildSet,Je=e.appendChildToContainerChildSet,gt=e.finalizeContainerChildren,$t=e.replaceContainerChildren,Gt=e.cloneHiddenInstance,Bn=e.cloneHiddenTextInstance,In=e.canHydrateInstance,oa=e.canHydrateTextInstance,gs=e.canHydrateSuspenseInstance,su=e.isSuspenseInstancePending,ou=e.isSuspenseInstanceFallback,ap=e.registerSuspenseInstanceRetry,wo=e.getNextHydratableSibling,lp=e.getFirstHydratableChild,au=e.getFirstHydratableChildWithinContainer,cp=e.getFirstHydratableChildWithinSuspenseInstance,up=e.hydrateInstance,dp=e.hydrateTextInstance,fp=e.hydrateSuspenseInstance,hp=e.getNextHydratableInstanceAfterSuspenseInstance,pp=e.commitHydratedContainer,uy=e.commitHydratedSuspenseInstance,dy=e.clearSuspenseBoundary,oe=e.clearSuspenseBoundaryFromContainer,_e=e.shouldDeleteUnhydratedTailInstances,Pe=e.didNotMatchHydratedContainerTextInstance,Re=e.didNotMatchHydratedTextInstance,be;function Ke(w){if(be===void 0)try{throw Error()}catch(O){var E=O.stack.trim().match(/\n( *(at )?)/);be=E&&E[1]||""}return`
`+be+w}var ut=!1;function xt(w,E){if(!w||ut)return"";ut=!0;var O=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(E)if(E=function(){throw Error()},Object.defineProperty(E.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(E,[])}catch(st){var L=st}Reflect.construct(w,[],E)}else{try{E.call()}catch(st){L=st}w.call(E.prototype)}else{try{throw Error()}catch(st){L=st}w()}}catch(st){if(st&&L&&typeof st.stack=="string"){for(var V=st.stack.split(`
`),q=L.stack.split(`
`),de=V.length-1,ye=q.length-1;1<=de&&0<=ye&&V[de]!==q[ye];)ye--;for(;1<=de&&0<=ye;de--,ye--)if(V[de]!==q[ye]){if(de!==1||ye!==1)do if(de--,ye--,0>ye||V[de]!==q[ye]){var Fe=`
`+V[de].replace(" at new "," at ");return w.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",w.displayName)),Fe}while(1<=de&&0<=ye);break}}}finally{ut=!1,Error.prepareStackTrace=O}return(w=w?w.displayName||w.name:"")?Ke(w):""}var vt=Object.prototype.hasOwnProperty,Dt=[],It=-1;function wt(w){return{current:w}}function Et(w){0>It||(w.current=Dt[It],Dt[It]=null,It--)}function Ot(w,E){It++,Dt[It]=w.current,w.current=E}var wn={},Qt=wt(wn),Jt=wt(!1),Tt=wn;function Tn(w,E){var O=w.type.contextTypes;if(!O)return wn;var L=w.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===E)return L.__reactInternalMemoizedMaskedChildContext;var V={},q;for(q in O)V[q]=E[q];return L&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=E,w.__reactInternalMemoizedMaskedChildContext=V),V}function qt(w){return w=w.childContextTypes,w!=null}function yr(){Et(Jt),Et(Qt)}function aa(w,E,O){if(Qt.current!==wn)throw Error(o(168));Ot(Qt,E),Ot(Jt,O)}function di(w,E,O){var L=w.stateNode;if(E=E.childContextTypes,typeof L.getChildContext!="function")return O;L=L.getChildContext();for(var V in L)if(!(V in E))throw Error(o(108,T(w)||"Unknown",V));return s({},O,L)}function So(w){return w=(w=w.stateNode)&&w.__reactInternalMemoizedMergedChildContext||wn,Tt=Qt.current,Ot(Qt,w),Ot(Jt,Jt.current),!0}function Dn(w,E,O){var L=w.stateNode;if(!L)throw Error(o(169));O?(w=di(w,E,Tt),L.__reactInternalMemoizedMergedChildContext=w,Et(Jt),Et(Qt),Ot(Qt,w)):Et(Jt),Ot(Jt,O)}var Kn=Math.clz32?Math.clz32:Oi,Ri=Math.log,$r=Math.LN2;function Oi(w){return w>>>=0,w===0?32:31-(Ri(w)/$r|0)|0}var lu=64,Eo=4194304;function fy(w){switch(w&-w){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return w&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return w&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return w}}function pw(w,E){var O=w.pendingLanes;if(O===0)return 0;var L=0,V=w.suspendedLanes,q=w.pingedLanes,de=O&268435455;if(de!==0){var ye=de&~V;ye!==0?L=fy(ye):(q&=de,q!==0&&(L=fy(q)))}else de=O&~V,de!==0?L=fy(de):q!==0&&(L=fy(q));if(L===0)return 0;if(E!==0&&E!==L&&!(E&V)&&(V=L&-L,q=E&-E,V>=q||V===16&&(q&4194240)!==0))return E;if(L&4&&(L|=O&16),E=w.entangledLanes,E!==0)for(w=w.entanglements,E&=L;0<E;)O=31-Kn(E),V=1<<O,L|=w[O],E&=~V;return L}function yhe(w,E){switch(w){case 1:case 2:case 4:return E+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return E+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xhe(w,E){for(var O=w.suspendedLanes,L=w.pingedLanes,V=w.expirationTimes,q=w.pendingLanes;0<q;){var de=31-Kn(q),ye=1<<de,Fe=V[de];Fe===-1?(!(ye&O)||ye&L)&&(V[de]=yhe(ye,E)):Fe<=E&&(w.expiredLanes|=ye),q&=~ye}}function h2(w){return w=w.pendingLanes&-1073741825,w!==0?w:w&1073741824?1073741824:0}function p2(w){for(var E=[],O=0;31>O;O++)E.push(w);return E}function hy(w,E,O){w.pendingLanes|=E,E!==536870912&&(w.suspendedLanes=0,w.pingedLanes=0),w=w.eventTimes,E=31-Kn(E),w[E]=O}function _he(w,E){var O=w.pendingLanes&~E;w.pendingLanes=E,w.suspendedLanes=0,w.pingedLanes=0,w.expiredLanes&=E,w.mutableReadLanes&=E,w.entangledLanes&=E,E=w.entanglements;var L=w.eventTimes;for(w=w.expirationTimes;0<O;){var V=31-Kn(O),q=1<<V;E[V]=0,L[V]=-1,w[V]=-1,O&=~q}}function m2(w,E){var O=w.entangledLanes|=E;for(w=w.entanglements;O;){var L=31-Kn(O),V=1<<L;V&E|w[L]&E&&(w[L]|=E),O&=~V}}var Pn=0;function D5(w){return w&=-w,1<w?4<w?w&268435455?16:536870912:4:1}var g2=i.unstable_scheduleCallback,j5=i.unstable_cancelCallback,bhe=i.unstable_shouldYield,whe=i.unstable_requestPaint,fi=i.unstable_now,v2=i.unstable_ImmediatePriority,She=i.unstable_UserBlockingPriority,y2=i.unstable_NormalPriority,Ehe=i.unstable_IdlePriority,mw=null,Qa=null;function Che(w){if(Qa&&typeof Qa.onCommitFiberRoot=="function")try{Qa.onCommitFiberRoot(mw,w,void 0,(w.current.flags&128)===128)}catch{}}function Mhe(w,E){return w===E&&(w!==0||1/w===1/E)||w!==w&&E!==E}var Ja=typeof Object.is=="function"?Object.is:Mhe,Yl=null,gw=!1,x2=!1;function L5(w){Yl===null?Yl=[w]:Yl.push(w)}function Ahe(w){gw=!0,L5(w)}function el(){if(!x2&&Yl!==null){x2=!0;var w=0,E=Pn;try{var O=Yl;for(Pn=1;w<O.length;w++){var L=O[w];do L=L(!0);while(L!==null)}Yl=null,gw=!1}catch(V){throw Yl!==null&&(Yl=Yl.slice(w+1)),g2(v2,el),V}finally{Pn=E,x2=!1}}return null}var The=a.ReactCurrentBatchConfig;function vw(w,E){if(Ja(w,E))return!0;if(typeof w!="object"||w===null||typeof E!="object"||E===null)return!1;var O=Object.keys(w),L=Object.keys(E);if(O.length!==L.length)return!1;for(L=0;L<O.length;L++){var V=O[L];if(!vt.call(E,V)||!Ja(w[V],E[V]))return!1}return!0}function Phe(w){switch(w.tag){case 5:return Ke(w.type);case 16:return Ke("Lazy");case 13:return Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 2:case 15:return w=xt(w.type,!1),w;case 11:return w=xt(w.type.render,!1),w;case 1:return w=xt(w.type,!0),w;default:return""}}function la(w,E){if(w&&w.defaultProps){E=s({},E),w=w.defaultProps;for(var O in w)E[O]===void 0&&(E[O]=w[O]);return E}return E}var yw=wt(null),xw=null,mp=null,_2=null;function b2(){_2=mp=xw=null}function F5(w,E,O){ee?(Ot(yw,E._currentValue),E._currentValue=O):(Ot(yw,E._currentValue2),E._currentValue2=O)}function w2(w){var E=yw.current;Et(yw),ee?w._currentValue=E:w._currentValue2=E}function S2(w,E,O){for(;w!==null;){var L=w.alternate;if((w.childLanes&E)!==E?(w.childLanes|=E,L!==null&&(L.childLanes|=E)):L!==null&&(L.childLanes&E)!==E&&(L.childLanes|=E),w===O)break;w=w.return}}function gp(w,E){xw=w,_2=mp=null,w=w.dependencies,w!==null&&w.firstContext!==null&&(w.lanes&E&&(qs=!0),w.firstContext=null)}function Co(w){var E=ee?w._currentValue:w._currentValue2;if(_2!==w)if(w={context:w,memoizedValue:E,next:null},mp===null){if(xw===null)throw Error(o(308));mp=w,xw.dependencies={lanes:0,firstContext:w}}else mp=mp.next=w;return E}var tl=null,cu=!1;function E2(w){w.updateQueue={baseState:w.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function B5(w,E){w=w.updateQueue,E.updateQueue===w&&(E.updateQueue={baseState:w.baseState,firstBaseUpdate:w.firstBaseUpdate,lastBaseUpdate:w.lastBaseUpdate,shared:w.shared,effects:w.effects})}function Zl(w,E){return{eventTime:w,lane:E,tag:0,payload:null,callback:null,next:null}}function uu(w,E){var O=w.updateQueue;O!==null&&(O=O.shared,Hr!==null&&w.mode&1&&!(hn&2)?(w=O.interleaved,w===null?(E.next=E,tl===null?tl=[O]:tl.push(O)):(E.next=w.next,w.next=E),O.interleaved=E):(w=O.pending,w===null?E.next=E:(E.next=w.next,w.next=E),O.pending=E))}function _w(w,E,O){if(E=E.updateQueue,E!==null&&(E=E.shared,(O&4194240)!==0)){var L=E.lanes;L&=w.pendingLanes,O|=L,E.lanes=O,m2(w,O)}}function z5(w,E){var O=w.updateQueue,L=w.alternate;if(L!==null&&(L=L.updateQueue,O===L)){var V=null,q=null;if(O=O.firstBaseUpdate,O!==null){do{var de={eventTime:O.eventTime,lane:O.lane,tag:O.tag,payload:O.payload,callback:O.callback,next:null};q===null?V=q=de:q=q.next=de,O=O.next}while(O!==null);q===null?V=q=E:q=q.next=E}else V=q=E;O={baseState:L.baseState,firstBaseUpdate:V,lastBaseUpdate:q,shared:L.shared,effects:L.effects},w.updateQueue=O;return}w=O.lastBaseUpdate,w===null?O.firstBaseUpdate=E:w.next=E,O.lastBaseUpdate=E}function bw(w,E,O,L){var V=w.updateQueue;cu=!1;var q=V.firstBaseUpdate,de=V.lastBaseUpdate,ye=V.shared.pending;if(ye!==null){V.shared.pending=null;var Fe=ye,st=Fe.next;Fe.next=null,de===null?q=st:de.next=st,de=Fe;var St=w.alternate;St!==null&&(St=St.updateQueue,ye=St.lastBaseUpdate,ye!==de&&(ye===null?St.firstBaseUpdate=st:ye.next=st,St.lastBaseUpdate=Fe))}if(q!==null){var tn=V.baseState;de=0,St=st=Fe=null,ye=q;do{var Ft=ye.lane,Gn=ye.eventTime;if((L&Ft)===Ft){St!==null&&(St=St.next={eventTime:Gn,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var kt=w,ji=ye;switch(Ft=E,Gn=O,ji.tag){case 1:if(kt=ji.payload,typeof kt=="function"){tn=kt.call(Gn,tn,Ft);break e}tn=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=ji.payload,Ft=typeof kt=="function"?kt.call(Gn,tn,Ft):kt,Ft==null)break e;tn=s({},tn,Ft);break e;case 2:cu=!0}}ye.callback!==null&&ye.lane!==0&&(w.flags|=64,Ft=V.effects,Ft===null?V.effects=[ye]:Ft.push(ye))}else Gn={eventTime:Gn,lane:Ft,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},St===null?(st=St=Gn,Fe=tn):St=St.next=Gn,de|=Ft;if(ye=ye.next,ye===null){if(ye=V.shared.pending,ye===null)break;Ft=ye,ye=Ft.next,Ft.next=null,V.lastBaseUpdate=Ft,V.shared.pending=null}}while(!0);if(St===null&&(Fe=tn),V.baseState=Fe,V.firstBaseUpdate=st,V.lastBaseUpdate=St,E=V.shared.interleaved,E!==null){V=E;do de|=V.lane,V=V.next;while(V!==E)}else q===null&&(V.shared.lanes=0);Cp|=de,w.lanes=de,w.memoizedState=tn}}function U5(w,E,O){if(w=E.effects,E.effects=null,w!==null)for(E=0;E<w.length;E++){var L=w[E],V=L.callback;if(V!==null){if(L.callback=null,L=O,typeof V!="function")throw Error(o(191,V));V.call(L)}}}var $5=new r.Component().refs;function C2(w,E,O,L){E=w.memoizedState,O=O(L,E),O=O==null?E:s({},E,O),w.memoizedState=O,w.lanes===0&&(w.updateQueue.baseState=O)}var ww={isMounted:function(w){return(w=w._reactInternals)?P(w)===w:!1},enqueueSetState:function(w,E,O){w=w._reactInternals;var L=es(),V=hu(w),q=Zl(L,V);q.payload=E,O!=null&&(q.callback=O),uu(w,q),E=No(w,V,L),E!==null&&_w(E,w,V)},enqueueReplaceState:function(w,E,O){w=w._reactInternals;var L=es(),V=hu(w),q=Zl(L,V);q.tag=1,q.payload=E,O!=null&&(q.callback=O),uu(w,q),E=No(w,V,L),E!==null&&_w(E,w,V)},enqueueForceUpdate:function(w,E){w=w._reactInternals;var O=es(),L=hu(w),V=Zl(O,L);V.tag=2,E!=null&&(V.callback=E),uu(w,V),E=No(w,L,O),E!==null&&_w(E,w,L)}};function H5(w,E,O,L,V,q,de){return w=w.stateNode,typeof w.shouldComponentUpdate=="function"?w.shouldComponentUpdate(L,q,de):E.prototype&&E.prototype.isPureReactComponent?!vw(O,L)||!vw(V,q):!0}function V5(w,E,O){var L=!1,V=wn,q=E.contextType;return typeof q=="object"&&q!==null?q=Co(q):(V=qt(E)?Tt:Qt.current,L=E.contextTypes,q=(L=L!=null)?Tn(w,V):wn),E=new E(O,q),w.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=ww,w.stateNode=E,E._reactInternals=w,L&&(w=w.stateNode,w.__reactInternalMemoizedUnmaskedChildContext=V,w.__reactInternalMemoizedMaskedChildContext=q),E}function W5(w,E,O,L){w=E.state,typeof E.componentWillReceiveProps=="function"&&E.componentWillReceiveProps(O,L),typeof E.UNSAFE_componentWillReceiveProps=="function"&&E.UNSAFE_componentWillReceiveProps(O,L),E.state!==w&&ww.enqueueReplaceState(E,E.state,null)}function M2(w,E,O,L){var V=w.stateNode;V.props=O,V.state=w.memoizedState,V.refs=$5,E2(w);var q=E.contextType;typeof q=="object"&&q!==null?V.context=Co(q):(q=qt(E)?Tt:Qt.current,V.context=Tn(w,q)),V.state=w.memoizedState,q=E.getDerivedStateFromProps,typeof q=="function"&&(C2(w,E,q,O),V.state=w.memoizedState),typeof E.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(E=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),E!==V.state&&ww.enqueueReplaceState(V,V.state,null),bw(w,O,V,L),V.state=w.memoizedState),typeof V.componentDidMount=="function"&&(w.flags|=4194308)}var vp=[],yp=0,Sw=null,Ew=0,Mo=[],Ao=0,Gd=null,Ql=1,Jl="";function qd(w,E){vp[yp++]=Ew,vp[yp++]=Sw,Sw=w,Ew=E}function G5(w,E,O){Mo[Ao++]=Ql,Mo[Ao++]=Jl,Mo[Ao++]=Gd,Gd=w;var L=Ql;w=Jl;var V=32-Kn(L)-1;L&=~(1<<V),O+=1;var q=32-Kn(E)+V;if(30<q){var de=V-V%5;q=(L&(1<<de)-1).toString(32),L>>=de,V-=de,Ql=1<<32-Kn(E)+V|O<<V|L,Jl=q+w}else Ql=1<<q|O<<V|L,Jl=w}function A2(w){w.return!==null&&(qd(w,1),G5(w,1,0))}function T2(w){for(;w===Sw;)Sw=vp[--yp],vp[yp]=null,Ew=vp[--yp],vp[yp]=null;for(;w===Gd;)Gd=Mo[--Ao],Mo[Ao]=null,Jl=Mo[--Ao],Mo[Ao]=null,Ql=Mo[--Ao],Mo[Ao]=null}var Ws=null,Gs=null,dr=!1,py=!1,ca=null;function q5(w,E){var O=Ro(5,null,null,0);O.elementType="DELETED",O.stateNode=E,O.return=w,E=w.deletions,E===null?(w.deletions=[O],w.flags|=16):E.push(O)}function X5(w,E){switch(w.tag){case 5:return E=In(E,w.type,w.pendingProps),E!==null?(w.stateNode=E,Ws=w,Gs=lp(E),!0):!1;case 6:return E=oa(E,w.pendingProps),E!==null?(w.stateNode=E,Ws=w,Gs=null,!0):!1;case 13:if(E=gs(E),E!==null){var O=Gd!==null?{id:Ql,overflow:Jl}:null;return w.memoizedState={dehydrated:E,treeContext:O,retryLane:1073741824},O=Ro(18,null,null,0),O.stateNode=E,O.return=w,w.child=O,Ws=w,Gs=null,!0}return!1;default:return!1}}function P2(w){return(w.mode&1)!==0&&(w.flags&128)===0}function N2(w){if(dr){var E=Gs;if(E){var O=E;if(!X5(w,E)){if(P2(w))throw Error(o(418));E=wo(O);var L=Ws;E&&X5(w,E)?q5(L,O):(w.flags=w.flags&-4097|2,dr=!1,Ws=w)}}else{if(P2(w))throw Error(o(418));w.flags=w.flags&-4097|2,dr=!1,Ws=w}}}function K5(w){for(w=w.return;w!==null&&w.tag!==5&&w.tag!==3&&w.tag!==13;)w=w.return;Ws=w}function my(w){if(!K||w!==Ws)return!1;if(!dr)return K5(w),dr=!0,!1;if(w.tag!==3&&(w.tag!==5||_e(w.type)&&!ae(w.type,w.memoizedProps))){var E=Gs;if(E){if(P2(w)){for(w=Gs;w;)w=wo(w);throw Error(o(418))}for(;E;)q5(w,E),E=wo(E)}}if(K5(w),w.tag===13){if(!K)throw Error(o(316));if(w=w.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(o(317));Gs=hp(w)}else Gs=Ws?wo(w.stateNode):null;return!0}function xp(){K&&(Gs=Ws=null,py=dr=!1)}function R2(w){ca===null?ca=[w]:ca.push(w)}function gy(w,E,O){if(w=O.ref,w!==null&&typeof w!="function"&&typeof w!="object"){if(O._owner){if(O=O._owner,O){if(O.tag!==1)throw Error(o(309));var L=O.stateNode}if(!L)throw Error(o(147,w));var V=L,q=""+w;return E!==null&&E.ref!==null&&typeof E.ref=="function"&&E.ref._stringRef===q?E.ref:(E=function(de){var ye=V.refs;ye===$5&&(ye=V.refs={}),de===null?delete ye[q]:ye[q]=de},E._stringRef=q,E)}if(typeof w!="string")throw Error(o(284));if(!O._owner)throw Error(o(290,w))}return w}function Cw(w,E){throw w=Object.prototype.toString.call(E),Error(o(31,w==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":w))}function Y5(w){var E=w._init;return E(w._payload)}function Z5(w){function E(Te,xe){if(w){var je=Te.deletions;je===null?(Te.deletions=[xe],Te.flags|=16):je.push(xe)}}function O(Te,xe){if(!w)return null;for(;xe!==null;)E(Te,xe),xe=xe.sibling;return null}function L(Te,xe){for(Te=new Map;xe!==null;)xe.key!==null?Te.set(xe.key,xe):Te.set(xe.index,xe),xe=xe.sibling;return Te}function V(Te,xe){return Te=mu(Te,xe),Te.index=0,Te.sibling=null,Te}function q(Te,xe,je){return Te.index=je,w?(je=Te.alternate,je!==null?(je=je.index,je<xe?(Te.flags|=2,xe):je):(Te.flags|=2,xe)):(Te.flags|=1048576,xe)}function de(Te){return w&&Te.alternate===null&&(Te.flags|=2),Te}function ye(Te,xe,je,ht){return xe===null||xe.tag!==6?(xe=pN(je,Te.mode,ht),xe.return=Te,xe):(xe=V(xe,je),xe.return=Te,xe)}function Fe(Te,xe,je,ht){var Nt=je.type;return Nt===f?St(Te,xe,je.props.children,ht,je.key):xe!==null&&(xe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===_&&Y5(Nt)===xe.type)?(ht=V(xe,je.props),ht.ref=gy(Te,xe,je),ht.return=Te,ht):(ht=n1(je.type,je.key,je.props,null,Te.mode,ht),ht.ref=gy(Te,xe,je),ht.return=Te,ht)}function st(Te,xe,je,ht){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==je.containerInfo||xe.stateNode.implementation!==je.implementation?(xe=mN(je,Te.mode,ht),xe.return=Te,xe):(xe=V(xe,je.children||[]),xe.return=Te,xe)}function St(Te,xe,je,ht,Nt){return xe===null||xe.tag!==7?(xe=ef(je,Te.mode,ht,Nt),xe.return=Te,xe):(xe=V(xe,je),xe.return=Te,xe)}function tn(Te,xe,je){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=pN(""+xe,Te.mode,je),xe.return=Te,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return je=n1(xe.type,xe.key,xe.props,null,Te.mode,je),je.ref=gy(Te,null,xe),je.return=Te,je;case c:return xe=mN(xe,Te.mode,je),xe.return=Te,xe;case _:var ht=xe._init;return tn(Te,ht(xe._payload),je)}if(z(xe)||C(xe))return xe=ef(xe,Te.mode,je,null),xe.return=Te,xe;Cw(Te,xe)}return null}function Ft(Te,xe,je,ht){var Nt=xe!==null?xe.key:null;if(typeof je=="string"&&je!==""||typeof je=="number")return Nt!==null?null:ye(Te,xe,""+je,ht);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case l:return je.key===Nt?Fe(Te,xe,je,ht):null;case c:return je.key===Nt?st(Te,xe,je,ht):null;case _:return Nt=je._init,Ft(Te,xe,Nt(je._payload),ht)}if(z(je)||C(je))return Nt!==null?null:St(Te,xe,je,ht,null);Cw(Te,je)}return null}function Gn(Te,xe,je,ht,Nt){if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Te=Te.get(je)||null,ye(xe,Te,""+ht,Nt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case l:return Te=Te.get(ht.key===null?je:ht.key)||null,Fe(xe,Te,ht,Nt);case c:return Te=Te.get(ht.key===null?je:ht.key)||null,st(xe,Te,ht,Nt);case _:var cn=ht._init;return Gn(Te,xe,je,cn(ht._payload),Nt)}if(z(ht)||C(ht))return Te=Te.get(je)||null,St(xe,Te,ht,Nt,null);Cw(xe,ht)}return null}function kt(Te,xe,je,ht){for(var Nt=null,cn=null,nn=xe,Nn=xe=0,pi=null;nn!==null&&Nn<je.length;Nn++){nn.index>Nn?(pi=nn,nn=null):pi=nn.sibling;var Rn=Ft(Te,nn,je[Nn],ht);if(Rn===null){nn===null&&(nn=pi);break}w&&nn&&Rn.alternate===null&&E(Te,nn),xe=q(Rn,xe,Nn),cn===null?Nt=Rn:cn.sibling=Rn,cn=Rn,nn=pi}if(Nn===je.length)return O(Te,nn),dr&&qd(Te,Nn),Nt;if(nn===null){for(;Nn<je.length;Nn++)nn=tn(Te,je[Nn],ht),nn!==null&&(xe=q(nn,xe,Nn),cn===null?Nt=nn:cn.sibling=nn,cn=nn);return dr&&qd(Te,Nn),Nt}for(nn=L(Te,nn);Nn<je.length;Nn++)pi=Gn(nn,Te,Nn,je[Nn],ht),pi!==null&&(w&&pi.alternate!==null&&nn.delete(pi.key===null?Nn:pi.key),xe=q(pi,xe,Nn),cn===null?Nt=pi:cn.sibling=pi,cn=pi);return w&&nn.forEach(function(gu){return E(Te,gu)}),dr&&qd(Te,Nn),Nt}function ji(Te,xe,je,ht){var Nt=C(je);if(typeof Nt!="function")throw Error(o(150));if(je=Nt.call(je),je==null)throw Error(o(151));for(var cn=Nt=null,nn=xe,Nn=xe=0,pi=null,Rn=je.next();nn!==null&&!Rn.done;Nn++,Rn=je.next()){nn.index>Nn?(pi=nn,nn=null):pi=nn.sibling;var gu=Ft(Te,nn,Rn.value,ht);if(gu===null){nn===null&&(nn=pi);break}w&&nn&&gu.alternate===null&&E(Te,nn),xe=q(gu,xe,Nn),cn===null?Nt=gu:cn.sibling=gu,cn=gu,nn=pi}if(Rn.done)return O(Te,nn),dr&&qd(Te,Nn),Nt;if(nn===null){for(;!Rn.done;Nn++,Rn=je.next())Rn=tn(Te,Rn.value,ht),Rn!==null&&(xe=q(Rn,xe,Nn),cn===null?Nt=Rn:cn.sibling=Rn,cn=Rn);return dr&&qd(Te,Nn),Nt}for(nn=L(Te,nn);!Rn.done;Nn++,Rn=je.next())Rn=Gn(nn,Te,Nn,Rn.value,ht),Rn!==null&&(w&&Rn.alternate!==null&&nn.delete(Rn.key===null?Nn:Rn.key),xe=q(Rn,xe,Nn),cn===null?Nt=Rn:cn.sibling=Rn,cn=Rn);return w&&nn.forEach(function(spe){return E(Te,spe)}),dr&&qd(Te,Nn),Nt}function Oo(Te,xe,je,ht){if(typeof je=="object"&&je!==null&&je.type===f&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case l:e:{for(var Nt=je.key,cn=xe;cn!==null;){if(cn.key===Nt){if(Nt=je.type,Nt===f){if(cn.tag===7){O(Te,cn.sibling),xe=V(cn,je.props.children),xe.return=Te,Te=xe;break e}}else if(cn.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===_&&Y5(Nt)===cn.type){O(Te,cn.sibling),xe=V(cn,je.props),xe.ref=gy(Te,cn,je),xe.return=Te,Te=xe;break e}O(Te,cn);break}else E(Te,cn);cn=cn.sibling}je.type===f?(xe=ef(je.props.children,Te.mode,ht,je.key),xe.return=Te,Te=xe):(ht=n1(je.type,je.key,je.props,null,Te.mode,ht),ht.ref=gy(Te,xe,je),ht.return=Te,Te=ht)}return de(Te);case c:e:{for(cn=je.key;xe!==null;){if(xe.key===cn)if(xe.tag===4&&xe.stateNode.containerInfo===je.containerInfo&&xe.stateNode.implementation===je.implementation){O(Te,xe.sibling),xe=V(xe,je.children||[]),xe.return=Te,Te=xe;break e}else{O(Te,xe);break}else E(Te,xe);xe=xe.sibling}xe=mN(je,Te.mode,ht),xe.return=Te,Te=xe}return de(Te);case _:return cn=je._init,Oo(Te,xe,cn(je._payload),ht)}if(z(je))return kt(Te,xe,je,ht);if(C(je))return ji(Te,xe,je,ht);Cw(Te,je)}return typeof je=="string"&&je!==""||typeof je=="number"?(je=""+je,xe!==null&&xe.tag===6?(O(Te,xe.sibling),xe=V(xe,je),xe.return=Te,Te=xe):(O(Te,xe),xe=pN(je,Te.mode,ht),xe.return=Te,Te=xe),de(Te)):O(Te,xe)}return Oo}var _p=Z5(!0),Q5=Z5(!1),vy={},To=wt(vy),yy=wt(vy),bp=wt(vy);function nl(w){if(w===vy)throw Error(o(174));return w}function O2(w,E){Ot(bp,E),Ot(yy,w),Ot(To,vy),w=H(E),Et(To),Ot(To,w)}function wp(){Et(To),Et(yy),Et(bp)}function J5(w){var E=nl(bp.current),O=nl(To.current);E=R(O,w.type,E),O!==E&&(Ot(yy,w),Ot(To,E))}function k2(w){yy.current===w&&(Et(To),Et(yy))}var xr=wt(0);function Mw(w){for(var E=w;E!==null;){if(E.tag===13){var O=E.memoizedState;if(O!==null&&(O=O.dehydrated,O===null||su(O)||ou(O)))return E}else if(E.tag===19&&E.memoizedProps.revealOrder!==void 0){if(E.flags&128)return E}else if(E.child!==null){E.child.return=E,E=E.child;continue}if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return null;E=E.return}E.sibling.return=E.return,E=E.sibling}return null}var I2=[];function D2(){for(var w=0;w<I2.length;w++){var E=I2[w];ee?E._workInProgressVersionPrimary=null:E._workInProgressVersionSecondary=null}I2.length=0}var Aw=a.ReactCurrentDispatcher,Po=a.ReactCurrentBatchConfig,Sp=0,Pr=null,ki=null,hi=null,Tw=!1,xy=!1,_y=0,Nhe=0;function Ii(){throw Error(o(321))}function j2(w,E){if(E===null)return!1;for(var O=0;O<E.length&&O<w.length;O++)if(!Ja(w[O],E[O]))return!1;return!0}function L2(w,E,O,L,V,q){if(Sp=q,Pr=E,E.memoizedState=null,E.updateQueue=null,E.lanes=0,Aw.current=w===null||w.memoizedState===null?Ihe:Dhe,w=O(L,V),xy){q=0;do{if(xy=!1,_y=0,25<=q)throw Error(o(301));q+=1,hi=ki=null,E.updateQueue=null,Aw.current=jhe,w=O(L,V)}while(xy)}if(Aw.current=kw,E=ki!==null&&ki.next!==null,Sp=0,hi=ki=Pr=null,Tw=!1,E)throw Error(o(300));return w}function F2(){var w=_y!==0;return _y=0,w}function ec(){var w={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?Pr.memoizedState=hi=w:hi=hi.next=w,hi}function rl(){if(ki===null){var w=Pr.alternate;w=w!==null?w.memoizedState:null}else w=ki.next;var E=hi===null?Pr.memoizedState:hi.next;if(E!==null)hi=E,ki=w;else{if(w===null)throw Error(o(310));ki=w,w={memoizedState:ki.memoizedState,baseState:ki.baseState,baseQueue:ki.baseQueue,queue:ki.queue,next:null},hi===null?Pr.memoizedState=hi=w:hi=hi.next=w}return hi}function Xd(w,E){return typeof E=="function"?E(w):E}function Pw(w){var E=rl(),O=E.queue;if(O===null)throw Error(o(311));O.lastRenderedReducer=w;var L=ki,V=L.baseQueue,q=O.pending;if(q!==null){if(V!==null){var de=V.next;V.next=q.next,q.next=de}L.baseQueue=V=q,O.pending=null}if(V!==null){q=V.next,L=L.baseState;var ye=de=null,Fe=null,st=q;do{var St=st.lane;if((Sp&St)===St)Fe!==null&&(Fe=Fe.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),L=st.hasEagerState?st.eagerState:w(L,st.action);else{var tn={lane:St,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};Fe===null?(ye=Fe=tn,de=L):Fe=Fe.next=tn,Pr.lanes|=St,Cp|=St}st=st.next}while(st!==null&&st!==q);Fe===null?de=L:Fe.next=ye,Ja(L,E.memoizedState)||(qs=!0),E.memoizedState=L,E.baseState=de,E.baseQueue=Fe,O.lastRenderedState=L}if(w=O.interleaved,w!==null){V=w;do q=V.lane,Pr.lanes|=q,Cp|=q,V=V.next;while(V!==w)}else V===null&&(O.lanes=0);return[E.memoizedState,O.dispatch]}function Nw(w){var E=rl(),O=E.queue;if(O===null)throw Error(o(311));O.lastRenderedReducer=w;var L=O.dispatch,V=O.pending,q=E.memoizedState;if(V!==null){O.pending=null;var de=V=V.next;do q=w(q,de.action),de=de.next;while(de!==V);Ja(q,E.memoizedState)||(qs=!0),E.memoizedState=q,E.baseQueue===null&&(E.baseState=q),O.lastRenderedState=q}return[q,L]}function ez(){}function tz(w,E){var O=Pr,L=rl(),V=E(),q=!Ja(L.memoizedState,V);if(q&&(L.memoizedState=V,qs=!0),L=L.queue,wy(iz.bind(null,O,L,w),[w]),L.getSnapshot!==E||q||hi!==null&&hi.memoizedState.tag&1){if(O.flags|=2048,by(9,rz.bind(null,O,L,V,E),void 0,null),Hr===null)throw Error(o(349));Sp&30||nz(O,E,V)}return V}function nz(w,E,O){w.flags|=16384,w={getSnapshot:E,value:O},E=Pr.updateQueue,E===null?(E={lastEffect:null,stores:null},Pr.updateQueue=E,E.stores=[w]):(O=E.stores,O===null?E.stores=[w]:O.push(w))}function rz(w,E,O,L){E.value=O,E.getSnapshot=L,sz(E)&&No(w,1,-1)}function iz(w,E,O){return O(function(){sz(E)&&No(w,1,-1)})}function sz(w){var E=w.getSnapshot;w=w.value;try{var O=E();return!Ja(w,O)}catch{return!0}}function B2(w){var E=ec();return typeof w=="function"&&(w=w()),E.memoizedState=E.baseState=w,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xd,lastRenderedState:w},E.queue=w,w=w.dispatch=khe.bind(null,Pr,w),[E.memoizedState,w]}function by(w,E,O,L){return w={tag:w,create:E,destroy:O,deps:L,next:null},E=Pr.updateQueue,E===null?(E={lastEffect:null,stores:null},Pr.updateQueue=E,E.lastEffect=w.next=w):(O=E.lastEffect,O===null?E.lastEffect=w.next=w:(L=O.next,O.next=w,w.next=L,E.lastEffect=w)),w}function oz(){return rl().memoizedState}function Rw(w,E,O,L){var V=ec();Pr.flags|=w,V.memoizedState=by(1|E,O,void 0,L===void 0?null:L)}function Ow(w,E,O,L){var V=rl();L=L===void 0?null:L;var q=void 0;if(ki!==null){var de=ki.memoizedState;if(q=de.destroy,L!==null&&j2(L,de.deps)){V.memoizedState=by(E,O,q,L);return}}Pr.flags|=w,V.memoizedState=by(1|E,O,q,L)}function z2(w,E){return Rw(8390656,8,w,E)}function wy(w,E){return Ow(2048,8,w,E)}function az(w,E){return Ow(4,2,w,E)}function lz(w,E){return Ow(4,4,w,E)}function cz(w,E){if(typeof E=="function")return w=w(),E(w),function(){E(null)};if(E!=null)return w=w(),E.current=w,function(){E.current=null}}function uz(w,E,O){return O=O!=null?O.concat([w]):null,Ow(4,4,cz.bind(null,E,w),O)}function U2(){}function dz(w,E){var O=rl();E=E===void 0?null:E;var L=O.memoizedState;return L!==null&&E!==null&&j2(E,L[1])?L[0]:(O.memoizedState=[w,E],w)}function fz(w,E){var O=rl();E=E===void 0?null:E;var L=O.memoizedState;return L!==null&&E!==null&&j2(E,L[1])?L[0]:(w=w(),O.memoizedState=[w,E],w)}function Rhe(w,E){var O=Pn;Pn=O!==0&&4>O?O:4,w(!0);var L=Po.transition;Po.transition={};try{w(!1),E()}finally{Pn=O,Po.transition=L}}function hz(){return rl().memoizedState}function Ohe(w,E,O){var L=hu(w);O={lane:L,action:O,hasEagerState:!1,eagerState:null,next:null},pz(w)?mz(E,O):(gz(w,E,O),O=es(),w=No(w,L,O),w!==null&&vz(w,E,L))}function khe(w,E,O){var L=hu(w),V={lane:L,action:O,hasEagerState:!1,eagerState:null,next:null};if(pz(w))mz(E,V);else{gz(w,E,V);var q=w.alternate;if(w.lanes===0&&(q===null||q.lanes===0)&&(q=E.lastRenderedReducer,q!==null))try{var de=E.lastRenderedState,ye=q(de,O);if(V.hasEagerState=!0,V.eagerState=ye,Ja(ye,de))return}catch{}finally{}O=es(),w=No(w,L,O),w!==null&&vz(w,E,L)}}function pz(w){var E=w.alternate;return w===Pr||E!==null&&E===Pr}function mz(w,E){xy=Tw=!0;var O=w.pending;O===null?E.next=E:(E.next=O.next,O.next=E),w.pending=E}function gz(w,E,O){Hr!==null&&w.mode&1&&!(hn&2)?(w=E.interleaved,w===null?(O.next=O,tl===null?tl=[E]:tl.push(E)):(O.next=w.next,w.next=O),E.interleaved=O):(w=E.pending,w===null?O.next=O:(O.next=w.next,w.next=O),E.pending=O)}function vz(w,E,O){if(O&4194240){var L=E.lanes;L&=w.pendingLanes,O|=L,E.lanes=O,m2(w,O)}}var kw={readContext:Co,useCallback:Ii,useContext:Ii,useEffect:Ii,useImperativeHandle:Ii,useInsertionEffect:Ii,useLayoutEffect:Ii,useMemo:Ii,useReducer:Ii,useRef:Ii,useState:Ii,useDebugValue:Ii,useDeferredValue:Ii,useTransition:Ii,useMutableSource:Ii,useSyncExternalStore:Ii,useId:Ii,unstable_isNewReconciler:!1},Ihe={readContext:Co,useCallback:function(w,E){return ec().memoizedState=[w,E===void 0?null:E],w},useContext:Co,useEffect:z2,useImperativeHandle:function(w,E,O){return O=O!=null?O.concat([w]):null,Rw(4194308,4,cz.bind(null,E,w),O)},useLayoutEffect:function(w,E){return Rw(4194308,4,w,E)},useInsertionEffect:function(w,E){return Rw(4,2,w,E)},useMemo:function(w,E){var O=ec();return E=E===void 0?null:E,w=w(),O.memoizedState=[w,E],w},useReducer:function(w,E,O){var L=ec();return E=O!==void 0?O(E):E,L.memoizedState=L.baseState=E,w={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:w,lastRenderedState:E},L.queue=w,w=w.dispatch=Ohe.bind(null,Pr,w),[L.memoizedState,w]},useRef:function(w){var E=ec();return w={current:w},E.memoizedState=w},useState:B2,useDebugValue:U2,useDeferredValue:function(w){var E=B2(w),O=E[0],L=E[1];return z2(function(){var V=Po.transition;Po.transition={};try{L(w)}finally{Po.transition=V}},[w]),O},useTransition:function(){var w=B2(!1),E=w[0];return w=Rhe.bind(null,w[1]),ec().memoizedState=w,[E,w]},useMutableSource:function(){},useSyncExternalStore:function(w,E,O){var L=Pr,V=ec();if(dr){if(O===void 0)throw Error(o(407));O=O()}else{if(O=E(),Hr===null)throw Error(o(349));Sp&30||nz(L,E,O)}V.memoizedState=O;var q={value:O,getSnapshot:E};return V.queue=q,z2(iz.bind(null,L,q,w),[w]),L.flags|=2048,by(9,rz.bind(null,L,q,O,E),void 0,null),O},useId:function(){var w=ec(),E=Hr.identifierPrefix;if(dr){var O=Jl,L=Ql;O=(L&~(1<<32-Kn(L)-1)).toString(32)+O,E=":"+E+"R"+O,O=_y++,0<O&&(E+="H"+O.toString(32)),E+=":"}else O=Nhe++,E=":"+E+"r"+O.toString(32)+":";return w.memoizedState=E},unstable_isNewReconciler:!1},Dhe={readContext:Co,useCallback:dz,useContext:Co,useEffect:wy,useImperativeHandle:uz,useInsertionEffect:az,useLayoutEffect:lz,useMemo:fz,useReducer:Pw,useRef:oz,useState:function(){return Pw(Xd)},useDebugValue:U2,useDeferredValue:function(w){var E=Pw(Xd),O=E[0],L=E[1];return wy(function(){var V=Po.transition;Po.transition={};try{L(w)}finally{Po.transition=V}},[w]),O},useTransition:function(){var w=Pw(Xd)[0],E=rl().memoizedState;return[w,E]},useMutableSource:ez,useSyncExternalStore:tz,useId:hz,unstable_isNewReconciler:!1},jhe={readContext:Co,useCallback:dz,useContext:Co,useEffect:wy,useImperativeHandle:uz,useInsertionEffect:az,useLayoutEffect:lz,useMemo:fz,useReducer:Nw,useRef:oz,useState:function(){return Nw(Xd)},useDebugValue:U2,useDeferredValue:function(w){var E=Nw(Xd),O=E[0],L=E[1];return wy(function(){var V=Po.transition;Po.transition={};try{L(w)}finally{Po.transition=V}},[w]),O},useTransition:function(){var w=Nw(Xd)[0],E=rl().memoizedState;return[w,E]},useMutableSource:ez,useSyncExternalStore:tz,useId:hz,unstable_isNewReconciler:!1};function $2(w,E){try{var O="",L=E;do O+=Phe(L),L=L.return;while(L);var V=O}catch(q){V=`
Error generating stack: `+q.message+`
`+q.stack}return{value:w,source:E,stack:V}}function H2(w,E){try{console.error(E.value)}catch(O){setTimeout(function(){throw O})}}var Lhe=typeof WeakMap=="function"?WeakMap:Map;function yz(w,E,O){O=Zl(-1,O),O.tag=3,O.payload={element:null};var L=E.value;return O.callback=function(){Kw||(Kw=!0,aN=L),H2(w,E)},O}function xz(w,E,O){O=Zl(-1,O),O.tag=3;var L=w.type.getDerivedStateFromError;if(typeof L=="function"){var V=E.value;O.payload=function(){return L(V)},O.callback=function(){H2(w,E)}}var q=w.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(O.callback=function(){H2(w,E),typeof L!="function"&&(du===null?du=new Set([this]):du.add(this));var de=E.stack;this.componentDidCatch(E.value,{componentStack:de!==null?de:""})}),O}function _z(w,E,O){var L=w.pingCache;if(L===null){L=w.pingCache=new Lhe;var V=new Set;L.set(E,V)}else V=L.get(E),V===void 0&&(V=new Set,L.set(E,V));V.has(O)||(V.add(O),w=Zhe.bind(null,w,E,O),E.then(w,w))}function bz(w){do{var E;if((E=w.tag===13)&&(E=w.memoizedState,E=E!==null?E.dehydrated!==null:!0),E)return w;w=w.return}while(w!==null);return null}function wz(w,E,O,L,V){return w.mode&1?(w.flags|=65536,w.lanes=V,w):(w===E?w.flags|=65536:(w.flags|=128,O.flags|=131072,O.flags&=-52805,O.tag===1&&(O.alternate===null?O.tag=17:(E=Zl(-1,1),E.tag=2,uu(O,E))),O.lanes|=1),w)}function il(w){w.flags|=4}function Sz(w,E){if(w!==null&&w.child===E.child)return!0;if(E.flags&16)return!1;for(w=E.child;w!==null;){if(w.flags&12854||w.subtreeFlags&12854)return!1;w=w.sibling}return!0}var Sy,Ey,Iw,Dw;if(ue)Sy=function(w,E){for(var O=E.child;O!==null;){if(O.tag===5||O.tag===6)G(w,O.stateNode);else if(O.tag!==4&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===E)break;for(;O.sibling===null;){if(O.return===null||O.return===E)return;O=O.return}O.sibling.return=O.return,O=O.sibling}},Ey=function(){},Iw=function(w,E,O,L,V){if(w=w.memoizedProps,w!==L){var q=E.stateNode,de=nl(To.current);O=ne(q,O,w,L,V,de),(E.updateQueue=O)&&il(E)}},Dw=function(w,E,O,L){O!==L&&il(E)};else if(J){Sy=function(w,E,O,L){for(var V=E.child;V!==null;){if(V.tag===5){var q=V.stateNode;O&&L&&(q=Gt(q,V.type,V.memoizedProps,V)),G(w,q)}else if(V.tag===6)q=V.stateNode,O&&L&&(q=Bn(q,V.memoizedProps,V)),G(w,q);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)q=V.child,q!==null&&(q.return=V),Sy(w,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===E)break;for(;V.sibling===null;){if(V.return===null||V.return===E)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};var Ez=function(w,E,O,L){for(var V=E.child;V!==null;){if(V.tag===5){var q=V.stateNode;O&&L&&(q=Gt(q,V.type,V.memoizedProps,V)),Je(w,q)}else if(V.tag===6)q=V.stateNode,O&&L&&(q=Bn(q,V.memoizedProps,V)),Je(w,q);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)q=V.child,q!==null&&(q.return=V),Ez(w,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===E)break;for(;V.sibling===null;){if(V.return===null||V.return===E)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};Ey=function(w,E){var O=E.stateNode;if(!Sz(w,E)){w=O.containerInfo;var L=Le(w);Ez(L,E,!1,!1),O.pendingChildren=L,il(E),gt(w,L)}},Iw=function(w,E,O,L,V){var q=w.stateNode,de=w.memoizedProps;if((w=Sz(w,E))&&de===L)E.stateNode=q;else{var ye=E.stateNode,Fe=nl(To.current),st=null;de!==L&&(st=ne(ye,O,de,L,V,Fe)),w&&st===null?E.stateNode=q:(q=Ue(q,st,O,de,L,E,w,ye),X(q,O,L,V,Fe)&&il(E),E.stateNode=q,w?il(E):Sy(q,E,!1,!1))}},Dw=function(w,E,O,L){O!==L?(w=nl(bp.current),O=nl(To.current),E.stateNode=se(L,w,O,E),il(E)):E.stateNode=w.stateNode}}else Ey=function(){},Iw=function(){},Dw=function(){};function Cy(w,E){if(!dr)switch(w.tailMode){case"hidden":E=w.tail;for(var O=null;E!==null;)E.alternate!==null&&(O=E),E=E.sibling;O===null?w.tail=null:O.sibling=null;break;case"collapsed":O=w.tail;for(var L=null;O!==null;)O.alternate!==null&&(L=O),O=O.sibling;L===null?E||w.tail===null?w.tail=null:w.tail.sibling=null:L.sibling=null}}function Di(w){var E=w.alternate!==null&&w.alternate.child===w.child,O=0,L=0;if(E)for(var V=w.child;V!==null;)O|=V.lanes|V.childLanes,L|=V.subtreeFlags&14680064,L|=V.flags&14680064,V.return=w,V=V.sibling;else for(V=w.child;V!==null;)O|=V.lanes|V.childLanes,L|=V.subtreeFlags,L|=V.flags,V.return=w,V=V.sibling;return w.subtreeFlags|=L,w.childLanes=O,E}function Fhe(w,E,O){var L=E.pendingProps;switch(T2(E),E.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Di(E),null;case 1:return qt(E.type)&&yr(),Di(E),null;case 3:return L=E.stateNode,wp(),Et(Jt),Et(Qt),D2(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(w===null||w.child===null)&&(my(E)?il(E):w===null||w.memoizedState.isDehydrated&&!(E.flags&256)||(E.flags|=1024,ca!==null&&(uN(ca),ca=null))),Ey(w,E),Di(E),null;case 5:k2(E),O=nl(bp.current);var V=E.type;if(w!==null&&E.stateNode!=null)Iw(w,E,V,L,O),w.ref!==E.ref&&(E.flags|=512,E.flags|=2097152);else{if(!L){if(E.stateNode===null)throw Error(o(166));return Di(E),null}if(w=nl(To.current),my(E)){if(!K)throw Error(o(175));w=up(E.stateNode,E.type,E.memoizedProps,O,w,E,!py),E.updateQueue=w,w!==null&&il(E)}else{var q=W(V,L,O,w,E);Sy(q,E,!1,!1),E.stateNode=q,X(q,V,L,O,w)&&il(E)}E.ref!==null&&(E.flags|=512,E.flags|=2097152)}return Di(E),null;case 6:if(w&&E.stateNode!=null)Dw(w,E,w.memoizedProps,L);else{if(typeof L!="string"&&E.stateNode===null)throw Error(o(166));if(w=nl(bp.current),O=nl(To.current),my(E)){if(!K)throw Error(o(176));if(w=E.stateNode,L=E.memoizedProps,(O=dp(w,L,E,!py))&&(V=Ws,V!==null))switch(q=(V.mode&1)!==0,V.tag){case 3:Pe(V.stateNode.containerInfo,w,L,q);break;case 5:Re(V.type,V.memoizedProps,V.stateNode,w,L,q)}O&&il(E)}else E.stateNode=se(L,w,O,E)}return Di(E),null;case 13:if(Et(xr),L=E.memoizedState,dr&&Gs!==null&&E.mode&1&&!(E.flags&128)){for(w=Gs;w;)w=wo(w);return xp(),E.flags|=98560,E}if(L!==null&&L.dehydrated!==null){if(L=my(E),w===null){if(!L)throw Error(o(318));if(!K)throw Error(o(344));if(w=E.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(o(317));fp(w,E)}else xp(),!(E.flags&128)&&(E.memoizedState=null),E.flags|=4;return Di(E),null}return ca!==null&&(uN(ca),ca=null),E.flags&128?(E.lanes=O,E):(L=L!==null,O=!1,w===null?my(E):O=w.memoizedState!==null,L&&!O&&(E.child.flags|=8192,E.mode&1&&(w===null||xr.current&1?Jr===0&&(Jr=3):fN())),E.updateQueue!==null&&(E.flags|=4),Di(E),null);case 4:return wp(),Ey(w,E),w===null&&fe(E.stateNode.containerInfo),Di(E),null;case 10:return w2(E.type._context),Di(E),null;case 17:return qt(E.type)&&yr(),Di(E),null;case 19:if(Et(xr),V=E.memoizedState,V===null)return Di(E),null;if(L=(E.flags&128)!==0,q=V.rendering,q===null)if(L)Cy(V,!1);else{if(Jr!==0||w!==null&&w.flags&128)for(w=E.child;w!==null;){if(q=Mw(w),q!==null){for(E.flags|=128,Cy(V,!1),w=q.updateQueue,w!==null&&(E.updateQueue=w,E.flags|=4),E.subtreeFlags=0,w=O,L=E.child;L!==null;)O=L,V=w,O.flags&=14680066,q=O.alternate,q===null?(O.childLanes=0,O.lanes=V,O.child=null,O.subtreeFlags=0,O.memoizedProps=null,O.memoizedState=null,O.updateQueue=null,O.dependencies=null,O.stateNode=null):(O.childLanes=q.childLanes,O.lanes=q.lanes,O.child=q.child,O.subtreeFlags=0,O.deletions=null,O.memoizedProps=q.memoizedProps,O.memoizedState=q.memoizedState,O.updateQueue=q.updateQueue,O.type=q.type,V=q.dependencies,O.dependencies=V===null?null:{lanes:V.lanes,firstContext:V.firstContext}),L=L.sibling;return Ot(xr,xr.current&1|2),E.child}w=w.sibling}V.tail!==null&&fi()>oN&&(E.flags|=128,L=!0,Cy(V,!1),E.lanes=4194304)}else{if(!L)if(w=Mw(q),w!==null){if(E.flags|=128,L=!0,w=w.updateQueue,w!==null&&(E.updateQueue=w,E.flags|=4),Cy(V,!0),V.tail===null&&V.tailMode==="hidden"&&!q.alternate&&!dr)return Di(E),null}else 2*fi()-V.renderingStartTime>oN&&O!==1073741824&&(E.flags|=128,L=!0,Cy(V,!1),E.lanes=4194304);V.isBackwards?(q.sibling=E.child,E.child=q):(w=V.last,w!==null?w.sibling=q:E.child=q,V.last=q)}return V.tail!==null?(E=V.tail,V.rendering=E,V.tail=E.sibling,V.renderingStartTime=fi(),E.sibling=null,w=xr.current,Ot(xr,L?w&1|2:w&1),E):(Di(E),null);case 22:case 23:return dN(),L=E.memoizedState!==null,w!==null&&w.memoizedState!==null!==L&&(E.flags|=8192),L&&E.mode&1?Xs&1073741824&&(Di(E),ue&&E.subtreeFlags&6&&(E.flags|=8192)):Di(E),null;case 24:return null;case 25:return null}throw Error(o(156,E.tag))}var Bhe=a.ReactCurrentOwner,qs=!1;function Ji(w,E,O,L){E.child=w===null?Q5(E,null,O,L):_p(E,w.child,O,L)}function Cz(w,E,O,L,V){O=O.render;var q=E.ref;return gp(E,V),L=L2(w,E,O,L,q,V),O=F2(),w!==null&&!qs?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~V,tc(w,E,V)):(dr&&O&&A2(E),E.flags|=1,Ji(w,E,L,V),E.child)}function Mz(w,E,O,L,V){if(w===null){var q=O.type;return typeof q=="function"&&!hN(q)&&q.defaultProps===void 0&&O.compare===null&&O.defaultProps===void 0?(E.tag=15,E.type=q,Az(w,E,q,L,V)):(w=n1(O.type,null,L,E,E.mode,V),w.ref=E.ref,w.return=E,E.child=w)}if(q=w.child,!(w.lanes&V)){var de=q.memoizedProps;if(O=O.compare,O=O!==null?O:vw,O(de,L)&&w.ref===E.ref)return tc(w,E,V)}return E.flags|=1,w=mu(q,L),w.ref=E.ref,w.return=E,E.child=w}function Az(w,E,O,L,V){if(w!==null&&vw(w.memoizedProps,L)&&w.ref===E.ref)if(qs=!1,(w.lanes&V)!==0)w.flags&131072&&(qs=!0);else return E.lanes=w.lanes,tc(w,E,V);return V2(w,E,O,L,V)}function Tz(w,E,O){var L=E.pendingProps,V=L.children,q=w!==null?w.memoizedState:null;if(L.mode==="hidden")if(!(E.mode&1))E.memoizedState={baseLanes:0,cachePool:null},Ot(Ep,Xs),Xs|=O;else if(O&1073741824)E.memoizedState={baseLanes:0,cachePool:null},L=q!==null?q.baseLanes:O,Ot(Ep,Xs),Xs|=L;else return w=q!==null?q.baseLanes|O:O,E.lanes=E.childLanes=1073741824,E.memoizedState={baseLanes:w,cachePool:null},E.updateQueue=null,Ot(Ep,Xs),Xs|=w,null;else q!==null?(L=q.baseLanes|O,E.memoizedState=null):L=O,Ot(Ep,Xs),Xs|=L;return Ji(w,E,V,O),E.child}function Pz(w,E){var O=E.ref;(w===null&&O!==null||w!==null&&w.ref!==O)&&(E.flags|=512,E.flags|=2097152)}function V2(w,E,O,L,V){var q=qt(O)?Tt:Qt.current;return q=Tn(E,q),gp(E,V),O=L2(w,E,O,L,q,V),L=F2(),w!==null&&!qs?(E.updateQueue=w.updateQueue,E.flags&=-2053,w.lanes&=~V,tc(w,E,V)):(dr&&L&&A2(E),E.flags|=1,Ji(w,E,O,V),E.child)}function Nz(w,E,O,L,V){if(qt(O)){var q=!0;So(E)}else q=!1;if(gp(E,V),E.stateNode===null)w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),V5(E,O,L),M2(E,O,L,V),L=!0;else if(w===null){var de=E.stateNode,ye=E.memoizedProps;de.props=ye;var Fe=de.context,st=O.contextType;typeof st=="object"&&st!==null?st=Co(st):(st=qt(O)?Tt:Qt.current,st=Tn(E,st));var St=O.getDerivedStateFromProps,tn=typeof St=="function"||typeof de.getSnapshotBeforeUpdate=="function";tn||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(ye!==L||Fe!==st)&&W5(E,de,L,st),cu=!1;var Ft=E.memoizedState;de.state=Ft,bw(E,L,de,V),Fe=E.memoizedState,ye!==L||Ft!==Fe||Jt.current||cu?(typeof St=="function"&&(C2(E,O,St,L),Fe=E.memoizedState),(ye=cu||H5(E,O,ye,L,Ft,Fe,st))?(tn||typeof de.UNSAFE_componentWillMount!="function"&&typeof de.componentWillMount!="function"||(typeof de.componentWillMount=="function"&&de.componentWillMount(),typeof de.UNSAFE_componentWillMount=="function"&&de.UNSAFE_componentWillMount()),typeof de.componentDidMount=="function"&&(E.flags|=4194308)):(typeof de.componentDidMount=="function"&&(E.flags|=4194308),E.memoizedProps=L,E.memoizedState=Fe),de.props=L,de.state=Fe,de.context=st,L=ye):(typeof de.componentDidMount=="function"&&(E.flags|=4194308),L=!1)}else{de=E.stateNode,B5(w,E),ye=E.memoizedProps,st=E.type===E.elementType?ye:la(E.type,ye),de.props=st,tn=E.pendingProps,Ft=de.context,Fe=O.contextType,typeof Fe=="object"&&Fe!==null?Fe=Co(Fe):(Fe=qt(O)?Tt:Qt.current,Fe=Tn(E,Fe));var Gn=O.getDerivedStateFromProps;(St=typeof Gn=="function"||typeof de.getSnapshotBeforeUpdate=="function")||typeof de.UNSAFE_componentWillReceiveProps!="function"&&typeof de.componentWillReceiveProps!="function"||(ye!==tn||Ft!==Fe)&&W5(E,de,L,Fe),cu=!1,Ft=E.memoizedState,de.state=Ft,bw(E,L,de,V);var kt=E.memoizedState;ye!==tn||Ft!==kt||Jt.current||cu?(typeof Gn=="function"&&(C2(E,O,Gn,L),kt=E.memoizedState),(st=cu||H5(E,O,st,L,Ft,kt,Fe)||!1)?(St||typeof de.UNSAFE_componentWillUpdate!="function"&&typeof de.componentWillUpdate!="function"||(typeof de.componentWillUpdate=="function"&&de.componentWillUpdate(L,kt,Fe),typeof de.UNSAFE_componentWillUpdate=="function"&&de.UNSAFE_componentWillUpdate(L,kt,Fe)),typeof de.componentDidUpdate=="function"&&(E.flags|=4),typeof de.getSnapshotBeforeUpdate=="function"&&(E.flags|=1024)):(typeof de.componentDidUpdate!="function"||ye===w.memoizedProps&&Ft===w.memoizedState||(E.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||ye===w.memoizedProps&&Ft===w.memoizedState||(E.flags|=1024),E.memoizedProps=L,E.memoizedState=kt),de.props=L,de.state=kt,de.context=Fe,L=st):(typeof de.componentDidUpdate!="function"||ye===w.memoizedProps&&Ft===w.memoizedState||(E.flags|=4),typeof de.getSnapshotBeforeUpdate!="function"||ye===w.memoizedProps&&Ft===w.memoizedState||(E.flags|=1024),L=!1)}return W2(w,E,O,L,q,V)}function W2(w,E,O,L,V,q){Pz(w,E);var de=(E.flags&128)!==0;if(!L&&!de)return V&&Dn(E,O,!1),tc(w,E,q);L=E.stateNode,Bhe.current=E;var ye=de&&typeof O.getDerivedStateFromError!="function"?null:L.render();return E.flags|=1,w!==null&&de?(E.child=_p(E,w.child,null,q),E.child=_p(E,null,ye,q)):Ji(w,E,ye,q),E.memoizedState=L.state,V&&Dn(E,O,!0),E.child}function Rz(w){var E=w.stateNode;E.pendingContext?aa(w,E.pendingContext,E.pendingContext!==E.context):E.context&&aa(w,E.context,!1),O2(w,E.containerInfo)}function Oz(w,E,O,L,V){return xp(),R2(V),E.flags|=256,Ji(w,E,O,L),E.child}var jw={dehydrated:null,treeContext:null,retryLane:0};function Lw(w){return{baseLanes:w,cachePool:null}}function kz(w,E,O){var L=E.pendingProps,V=xr.current,q=!1,de=(E.flags&128)!==0,ye;if((ye=de)||(ye=w!==null&&w.memoizedState===null?!1:(V&2)!==0),ye?(q=!0,E.flags&=-129):(w===null||w.memoizedState!==null)&&(V|=1),Ot(xr,V&1),w===null)return N2(E),w=E.memoizedState,w!==null&&(w=w.dehydrated,w!==null)?(E.mode&1?ou(w)?E.lanes=8:E.lanes=1073741824:E.lanes=1,null):(V=L.children,w=L.fallback,q?(L=E.mode,q=E.child,V={mode:"hidden",children:V},!(L&1)&&q!==null?(q.childLanes=0,q.pendingProps=V):q=r1(V,L,0,null),w=ef(w,L,O,null),q.return=E,w.return=E,q.sibling=w,E.child=q,E.child.memoizedState=Lw(O),E.memoizedState=jw,w):G2(E,V));if(V=w.memoizedState,V!==null){if(ye=V.dehydrated,ye!==null){if(de)return E.flags&256?(E.flags&=-257,Fw(w,E,O,Error(o(422)))):E.memoizedState!==null?(E.child=w.child,E.flags|=128,null):(q=L.fallback,V=E.mode,L=r1({mode:"visible",children:L.children},V,0,null),q=ef(q,V,O,null),q.flags|=2,L.return=E,q.return=E,L.sibling=q,E.child=L,E.mode&1&&_p(E,w.child,null,O),E.child.memoizedState=Lw(O),E.memoizedState=jw,q);if(!(E.mode&1))E=Fw(w,E,O,null);else if(ou(ye))E=Fw(w,E,O,Error(o(419)));else if(L=(O&w.childLanes)!==0,qs||L){if(L=Hr,L!==null){switch(O&-O){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}L=q&(L.suspendedLanes|O)?0:q,L!==0&&L!==V.retryLane&&(V.retryLane=L,No(w,L,-1))}fN(),E=Fw(w,E,O,Error(o(421)))}else su(ye)?(E.flags|=128,E.child=w.child,E=Qhe.bind(null,w),ap(ye,E),E=null):(O=V.treeContext,K&&(Gs=cp(ye),Ws=E,dr=!0,ca=null,py=!1,O!==null&&(Mo[Ao++]=Ql,Mo[Ao++]=Jl,Mo[Ao++]=Gd,Ql=O.id,Jl=O.overflow,Gd=E)),E=G2(E,E.pendingProps.children),E.flags|=4096);return E}return q?(L=Dz(w,E,L.children,L.fallback,O),q=E.child,V=w.child.memoizedState,q.memoizedState=V===null?Lw(O):{baseLanes:V.baseLanes|O,cachePool:null},q.childLanes=w.childLanes&~O,E.memoizedState=jw,L):(O=Iz(w,E,L.children,O),E.memoizedState=null,O)}return q?(L=Dz(w,E,L.children,L.fallback,O),q=E.child,V=w.child.memoizedState,q.memoizedState=V===null?Lw(O):{baseLanes:V.baseLanes|O,cachePool:null},q.childLanes=w.childLanes&~O,E.memoizedState=jw,L):(O=Iz(w,E,L.children,O),E.memoizedState=null,O)}function G2(w,E){return E=r1({mode:"visible",children:E},w.mode,0,null),E.return=w,w.child=E}function Iz(w,E,O,L){var V=w.child;return w=V.sibling,O=mu(V,{mode:"visible",children:O}),!(E.mode&1)&&(O.lanes=L),O.return=E,O.sibling=null,w!==null&&(L=E.deletions,L===null?(E.deletions=[w],E.flags|=16):L.push(w)),E.child=O}function Dz(w,E,O,L,V){var q=E.mode;w=w.child;var de=w.sibling,ye={mode:"hidden",children:O};return!(q&1)&&E.child!==w?(O=E.child,O.childLanes=0,O.pendingProps=ye,E.deletions=null):(O=mu(w,ye),O.subtreeFlags=w.subtreeFlags&14680064),de!==null?L=mu(de,L):(L=ef(L,q,V,null),L.flags|=2),L.return=E,O.return=E,O.sibling=L,E.child=O,L}function Fw(w,E,O,L){return L!==null&&R2(L),_p(E,w.child,null,O),w=G2(E,E.pendingProps.children),w.flags|=2,E.memoizedState=null,w}function jz(w,E,O){w.lanes|=E;var L=w.alternate;L!==null&&(L.lanes|=E),S2(w.return,E,O)}function q2(w,E,O,L,V){var q=w.memoizedState;q===null?w.memoizedState={isBackwards:E,rendering:null,renderingStartTime:0,last:L,tail:O,tailMode:V}:(q.isBackwards=E,q.rendering=null,q.renderingStartTime=0,q.last=L,q.tail=O,q.tailMode=V)}function Lz(w,E,O){var L=E.pendingProps,V=L.revealOrder,q=L.tail;if(Ji(w,E,L.children,O),L=xr.current,L&2)L=L&1|2,E.flags|=128;else{if(w!==null&&w.flags&128)e:for(w=E.child;w!==null;){if(w.tag===13)w.memoizedState!==null&&jz(w,O,E);else if(w.tag===19)jz(w,O,E);else if(w.child!==null){w.child.return=w,w=w.child;continue}if(w===E)break e;for(;w.sibling===null;){if(w.return===null||w.return===E)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}L&=1}if(Ot(xr,L),!(E.mode&1))E.memoizedState=null;else switch(V){case"forwards":for(O=E.child,V=null;O!==null;)w=O.alternate,w!==null&&Mw(w)===null&&(V=O),O=O.sibling;O=V,O===null?(V=E.child,E.child=null):(V=O.sibling,O.sibling=null),q2(E,!1,V,O,q);break;case"backwards":for(O=null,V=E.child,E.child=null;V!==null;){if(w=V.alternate,w!==null&&Mw(w)===null){E.child=V;break}w=V.sibling,V.sibling=O,O=V,V=w}q2(E,!0,O,null,q);break;case"together":q2(E,!1,null,null,void 0);break;default:E.memoizedState=null}return E.child}function tc(w,E,O){if(w!==null&&(E.dependencies=w.dependencies),Cp|=E.lanes,!(O&E.childLanes))return null;if(w!==null&&E.child!==w.child)throw Error(o(153));if(E.child!==null){for(w=E.child,O=mu(w,w.pendingProps),E.child=O,O.return=E;w.sibling!==null;)w=w.sibling,O=O.sibling=mu(w,w.pendingProps),O.return=E;O.sibling=null}return E.child}function zhe(w,E,O){switch(E.tag){case 3:Rz(E),xp();break;case 5:J5(E);break;case 1:qt(E.type)&&So(E);break;case 4:O2(E,E.stateNode.containerInfo);break;case 10:F5(E,E.type._context,E.memoizedProps.value);break;case 13:var L=E.memoizedState;if(L!==null)return L.dehydrated!==null?(Ot(xr,xr.current&1),E.flags|=128,null):O&E.child.childLanes?kz(w,E,O):(Ot(xr,xr.current&1),w=tc(w,E,O),w!==null?w.sibling:null);Ot(xr,xr.current&1);break;case 19:if(L=(O&E.childLanes)!==0,w.flags&128){if(L)return Lz(w,E,O);E.flags|=128}var V=E.memoizedState;if(V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),Ot(xr,xr.current),L)break;return null;case 22:case 23:return E.lanes=0,Tz(w,E,O)}return tc(w,E,O)}function Uhe(w,E){switch(T2(E),E.tag){case 1:return qt(E.type)&&yr(),w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 3:return wp(),Et(Jt),Et(Qt),D2(),w=E.flags,w&65536&&!(w&128)?(E.flags=w&-65537|128,E):null;case 5:return k2(E),null;case 13:if(Et(xr),w=E.memoizedState,w!==null&&w.dehydrated!==null){if(E.alternate===null)throw Error(o(340));xp()}return w=E.flags,w&65536?(E.flags=w&-65537|128,E):null;case 19:return Et(xr),null;case 4:return wp(),null;case 10:return w2(E.type._context),null;case 22:case 23:return dN(),null;case 24:return null;default:return null}}var Bw=!1,Kd=!1,$he=typeof WeakSet=="function"?WeakSet:Set,ft=null;function zw(w,E){var O=w.ref;if(O!==null)if(typeof O=="function")try{O(null)}catch(L){xs(w,E,L)}else O.current=null}function X2(w,E,O){try{O()}catch(L){xs(w,E,L)}}var Fz=!1;function Hhe(w,E){for(I(w.containerInfo),ft=E;ft!==null;)if(w=ft,E=w.child,(w.subtreeFlags&1028)!==0&&E!==null)E.return=w,ft=E;else for(;ft!==null;){w=ft;try{var O=w.alternate;if(w.flags&1024)switch(w.tag){case 0:case 11:case 15:break;case 1:if(O!==null){var L=O.memoizedProps,V=O.memoizedState,q=w.stateNode,de=q.getSnapshotBeforeUpdate(w.elementType===w.type?L:la(w.type,L),V);q.__reactInternalSnapshotBeforeUpdate=de}break;case 3:ue&&We(w.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){xs(w,w.return,ye)}if(E=w.sibling,E!==null){E.return=w.return,ft=E;break}ft=w.return}return O=Fz,Fz=!1,O}function Yd(w,E,O){var L=E.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var V=L=L.next;do{if((V.tag&w)===w){var q=V.destroy;V.destroy=void 0,q!==void 0&&X2(E,O,q)}V=V.next}while(V!==L)}}function My(w,E){if(E=E.updateQueue,E=E!==null?E.lastEffect:null,E!==null){var O=E=E.next;do{if((O.tag&w)===w){var L=O.create;O.destroy=L()}O=O.next}while(O!==E)}}function K2(w){var E=w.ref;if(E!==null){var O=w.stateNode;switch(w.tag){case 5:w=U(O);break;default:w=O}typeof E=="function"?E(w):E.current=w}}function Bz(w,E,O){if(Qa&&typeof Qa.onCommitFiberUnmount=="function")try{Qa.onCommitFiberUnmount(mw,E)}catch{}switch(E.tag){case 0:case 11:case 14:case 15:if(w=E.updateQueue,w!==null&&(w=w.lastEffect,w!==null)){var L=w=w.next;do{var V=L,q=V.destroy;V=V.tag,q!==void 0&&(V&2||V&4)&&X2(E,O,q),L=L.next}while(L!==w)}break;case 1:if(zw(E,O),w=E.stateNode,typeof w.componentWillUnmount=="function")try{w.props=E.memoizedProps,w.state=E.memoizedState,w.componentWillUnmount()}catch(de){xs(E,O,de)}break;case 5:zw(E,O);break;case 4:ue?Wz(w,E,O):J&&J&&(E=E.stateNode.containerInfo,O=Le(E),$t(E,O))}}function zz(w,E,O){for(var L=E;;)if(Bz(w,L,O),L.child===null||ue&&L.tag===4){if(L===E)break;for(;L.sibling===null;){if(L.return===null||L.return===E)return;L=L.return}L.sibling.return=L.return,L=L.sibling}else L.child.return=L,L=L.child}function Uz(w){var E=w.alternate;E!==null&&(w.alternate=null,Uz(E)),w.child=null,w.deletions=null,w.sibling=null,w.tag===5&&(E=w.stateNode,E!==null&&pe(E)),w.stateNode=null,w.return=null,w.dependencies=null,w.memoizedProps=null,w.memoizedState=null,w.pendingProps=null,w.stateNode=null,w.updateQueue=null}function $z(w){return w.tag===5||w.tag===3||w.tag===4}function Hz(w){e:for(;;){for(;w.sibling===null;){if(w.return===null||$z(w.return))return null;w=w.return}for(w.sibling.return=w.return,w=w.sibling;w.tag!==5&&w.tag!==6&&w.tag!==18;){if(w.flags&2||w.child===null||w.tag===4)continue e;w.child.return=w,w=w.child}if(!(w.flags&2))return w.stateNode}}function Vz(w){if(ue){e:{for(var E=w.return;E!==null;){if($z(E))break e;E=E.return}throw Error(o(160))}var O=E;switch(O.tag){case 5:E=O.stateNode,O.flags&32&&(Ee(E),O.flags&=-33),O=Hz(w),Z2(w,O,E);break;case 3:case 4:E=O.stateNode.containerInfo,O=Hz(w),Y2(w,O,E);break;default:throw Error(o(161))}}}function Y2(w,E,O){var L=w.tag;if(L===5||L===6)w=w.stateNode,E?at(O,w,E):ct(O,w);else if(L!==4&&(w=w.child,w!==null))for(Y2(w,E,O),w=w.sibling;w!==null;)Y2(w,E,O),w=w.sibling}function Z2(w,E,O){var L=w.tag;if(L===5||L===6)w=w.stateNode,E?He(O,w,E):Me(O,w);else if(L!==4&&(w=w.child,w!==null))for(Z2(w,E,O),w=w.sibling;w!==null;)Z2(w,E,O),w=w.sibling}function Wz(w,E,O){for(var L=E,V=!1,q,de;;){if(!V){V=L.return;e:for(;;){if(V===null)throw Error(o(160));switch(q=V.stateNode,V.tag){case 5:de=!1;break e;case 3:q=q.containerInfo,de=!0;break e;case 4:q=q.containerInfo,de=!0;break e}V=V.return}V=!0}if(L.tag===5||L.tag===6)zz(w,L,O),de?he(q,L.stateNode):Mt(q,L.stateNode);else if(L.tag===18)de?oe(q,L.stateNode):dy(q,L.stateNode);else if(L.tag===4){if(L.child!==null){q=L.stateNode.containerInfo,de=!0,L.child.return=L,L=L.child;continue}}else if(Bz(w,L,O),L.child!==null){L.child.return=L,L=L.child;continue}if(L===E)break;for(;L.sibling===null;){if(L.return===null||L.return===E)return;L=L.return,L.tag===4&&(V=!1)}L.sibling.return=L.return,L=L.sibling}}function Q2(w,E){if(ue){switch(E.tag){case 0:case 11:case 14:case 15:Yd(3,E,E.return),My(3,E),Yd(5,E,E.return);return;case 1:return;case 5:var O=E.stateNode;if(O!=null){var L=E.memoizedProps;w=w!==null?w.memoizedProps:L;var V=E.type,q=E.updateQueue;E.updateQueue=null,q!==null&&qe(O,q,V,w,L,E)}return;case 6:if(E.stateNode===null)throw Error(o(162));O=E.memoizedProps,Ve(E.stateNode,w!==null?w.memoizedProps:O,O);return;case 3:K&&w!==null&&w.memoizedState.isDehydrated&&pp(E.stateNode.containerInfo);return;case 12:return;case 13:Uw(E);return;case 19:Uw(E);return;case 17:return}throw Error(o(163))}switch(E.tag){case 0:case 11:case 14:case 15:Yd(3,E,E.return),My(3,E),Yd(5,E,E.return);return;case 12:return;case 13:Uw(E);return;case 19:Uw(E);return;case 3:K&&w!==null&&w.memoizedState.isDehydrated&&pp(E.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(E.tag){case 1:case 5:case 6:break e;case 3:case 4:E=E.stateNode,$t(E.containerInfo,E.pendingChildren);break e}throw Error(o(163))}}function Uw(w){var E=w.updateQueue;if(E!==null){w.updateQueue=null;var O=w.stateNode;O===null&&(O=w.stateNode=new $he),E.forEach(function(L){var V=Jhe.bind(null,w,L);O.has(L)||(O.add(L),L.then(V,V))})}}function Vhe(w,E){for(ft=E;ft!==null;){E=ft;var O=E.deletions;if(O!==null)for(var L=0;L<O.length;L++){var V=O[L];try{var q=w;ue?Wz(q,V,E):zz(q,V,E);var de=V.alternate;de!==null&&(de.return=null),V.return=null}catch(Nt){xs(V,E,Nt)}}if(O=E.child,E.subtreeFlags&12854&&O!==null)O.return=E,ft=O;else for(;ft!==null;){E=ft;try{var ye=E.flags;if(ye&32&&ue&&Ee(E.stateNode),ye&512){var Fe=E.alternate;if(Fe!==null){var st=Fe.ref;st!==null&&(typeof st=="function"?st(null):st.current=null)}}if(ye&8192)switch(E.tag){case 13:if(E.memoizedState!==null){var St=E.alternate;(St===null||St.memoizedState===null)&&(sN=fi())}break;case 22:var tn=E.memoizedState!==null,Ft=E.alternate,Gn=Ft!==null&&Ft.memoizedState!==null;if(O=E,ue){e:if(L=O,V=tn,q=null,ue)for(var kt=L;;){if(kt.tag===5){if(q===null){q=kt;var ji=kt.stateNode;V?Qe(ji):Ne(kt.stateNode,kt.memoizedProps)}}else if(kt.tag===6){if(q===null){var Oo=kt.stateNode;V?ce(Oo):ze(Oo,kt.memoizedProps)}}else if((kt.tag!==22&&kt.tag!==23||kt.memoizedState===null||kt===L)&&kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===L)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===L)break e;q===kt&&(q=null),kt=kt.return}q===kt&&(q=null),kt.sibling.return=kt.return,kt=kt.sibling}}if(tn&&!Gn&&O.mode&1){ft=O;for(var Te=O.child;Te!==null;){for(O=ft=Te;ft!==null;){L=ft;var xe=L.child;switch(L.tag){case 0:case 11:case 14:case 15:Yd(4,L,L.return);break;case 1:zw(L,L.return);var je=L.stateNode;if(typeof je.componentWillUnmount=="function"){var ht=L.return;try{je.props=L.memoizedProps,je.state=L.memoizedState,je.componentWillUnmount()}catch(Nt){xs(L,ht,Nt)}}break;case 5:zw(L,L.return);break;case 22:if(L.memoizedState!==null){Xz(O);continue}}xe!==null?(xe.return=L,ft=xe):Xz(O)}Te=Te.sibling}}}switch(ye&4102){case 2:Vz(E),E.flags&=-3;break;case 6:Vz(E),E.flags&=-3,Q2(E.alternate,E);break;case 4096:E.flags&=-4097;break;case 4100:E.flags&=-4097,Q2(E.alternate,E);break;case 4:Q2(E.alternate,E)}}catch(Nt){xs(E,E.return,Nt)}if(O=E.sibling,O!==null){O.return=E.return,ft=O;break}ft=E.return}}}function Whe(w,E,O){ft=w,Gz(w)}function Gz(w,E,O){for(var L=(w.mode&1)!==0;ft!==null;){var V=ft,q=V.child;if(V.tag===22&&L){var de=V.memoizedState!==null||Bw;if(!de){var ye=V.alternate,Fe=ye!==null&&ye.memoizedState!==null||Kd;ye=Bw;var st=Kd;if(Bw=de,(Kd=Fe)&&!st)for(ft=V;ft!==null;)de=ft,Fe=de.child,de.tag===22&&de.memoizedState!==null?Kz(V):Fe!==null?(Fe.return=de,ft=Fe):Kz(V);for(;q!==null;)ft=q,Gz(q),q=q.sibling;ft=V,Bw=ye,Kd=st}qz(w)}else V.subtreeFlags&8772&&q!==null?(q.return=V,ft=q):qz(w)}}function qz(w){for(;ft!==null;){var E=ft;if(E.flags&8772){var O=E.alternate;try{if(E.flags&8772)switch(E.tag){case 0:case 11:case 15:Kd||My(5,E);break;case 1:var L=E.stateNode;if(E.flags&4&&!Kd)if(O===null)L.componentDidMount();else{var V=E.elementType===E.type?O.memoizedProps:la(E.type,O.memoizedProps);L.componentDidUpdate(V,O.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var q=E.updateQueue;q!==null&&U5(E,q,L);break;case 3:var de=E.updateQueue;if(de!==null){if(O=null,E.child!==null)switch(E.child.tag){case 5:O=U(E.child.stateNode);break;case 1:O=E.child.stateNode}U5(E,de,O)}break;case 5:var ye=E.stateNode;O===null&&E.flags&4&&lt(ye,E.type,E.memoizedProps,E);break;case 6:break;case 4:break;case 12:break;case 13:if(K&&E.memoizedState===null){var Fe=E.alternate;if(Fe!==null){var st=Fe.memoizedState;if(st!==null){var St=st.dehydrated;St!==null&&uy(St)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Kd||E.flags&512&&K2(E)}catch(tn){xs(E,E.return,tn)}}if(E===w){ft=null;break}if(O=E.sibling,O!==null){O.return=E.return,ft=O;break}ft=E.return}}function Xz(w){for(;ft!==null;){var E=ft;if(E===w){ft=null;break}var O=E.sibling;if(O!==null){O.return=E.return,ft=O;break}ft=E.return}}function Kz(w){for(;ft!==null;){var E=ft;try{switch(E.tag){case 0:case 11:case 15:var O=E.return;try{My(4,E)}catch(Fe){xs(E,O,Fe)}break;case 1:var L=E.stateNode;if(typeof L.componentDidMount=="function"){var V=E.return;try{L.componentDidMount()}catch(Fe){xs(E,V,Fe)}}var q=E.return;try{K2(E)}catch(Fe){xs(E,q,Fe)}break;case 5:var de=E.return;try{K2(E)}catch(Fe){xs(E,de,Fe)}}}catch(Fe){xs(E,E.return,Fe)}if(E===w){ft=null;break}var ye=E.sibling;if(ye!==null){ye.return=E.return,ft=ye;break}ft=E.return}}var $w=0,Hw=1,Vw=2,Ww=3,Gw=4;if(typeof Symbol=="function"&&Symbol.for){var Ay=Symbol.for;$w=Ay("selector.component"),Hw=Ay("selector.has_pseudo_class"),Vw=Ay("selector.role"),Ww=Ay("selector.test_id"),Gw=Ay("selector.text")}function J2(w){var E=re(w);if(E!=null){if(typeof E.memoizedProps["data-testname"]!="string")throw Error(o(364));return E}if(w=ot(w),w===null)throw Error(o(362));return w.stateNode.current}function eN(w,E){switch(E.$$typeof){case $w:if(w.type===E.value)return!0;break;case Hw:e:{E=E.value,w=[w,0];for(var O=0;O<w.length;){var L=w[O++],V=w[O++],q=E[V];if(L.tag!==5||!Z(L)){for(;q!=null&&eN(L,q);)V++,q=E[V];if(V===E.length){E=!0;break e}else for(L=L.child;L!==null;)w.push(L,V),L=L.sibling}}E=!1}return E;case Vw:if(w.tag===5&&ve(w.stateNode,E.value))return!0;break;case Gw:if((w.tag===5||w.tag===6)&&(w=ie(w),w!==null&&0<=w.indexOf(E.value)))return!0;break;case Ww:if(w.tag===5&&(w=w.memoizedProps["data-testname"],typeof w=="string"&&w.toLowerCase()===E.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function tN(w){switch(w.$$typeof){case $w:return"<"+(M(w.value)||"Unknown")+">";case Hw:return":has("+(tN(w)||"")+")";case Vw:return'[role="'+w.value+'"]';case Gw:return'"'+w.value+'"';case Ww:return'[data-testname="'+w.value+'"]';default:throw Error(o(365))}}function Yz(w,E){var O=[];w=[w,0];for(var L=0;L<w.length;){var V=w[L++],q=w[L++],de=E[q];if(V.tag!==5||!Z(V)){for(;de!=null&&eN(V,de);)q++,de=E[q];if(q===E.length)O.push(V);else for(V=V.child;V!==null;)w.push(V,q),V=V.sibling}}return O}function nN(w,E){if(!De)throw Error(o(363));w=J2(w),w=Yz(w,E),E=[],w=Array.from(w);for(var O=0;O<w.length;){var L=w[O++];if(L.tag===5)Z(L)||E.push(L.stateNode);else for(L=L.child;L!==null;)w.push(L),L=L.sibling}return E}var Ghe=Math.ceil,qw=a.ReactCurrentDispatcher,rN=a.ReactCurrentOwner,jr=a.ReactCurrentBatchConfig,hn=0,Hr=null,Vr=null,Si=0,Xs=0,Ep=wt(0),Jr=0,Ty=null,Cp=0,Xw=0,iN=0,Py=null,vs=null,sN=0,oN=1/0;function Mp(){oN=fi()+500}var Kw=!1,aN=null,du=null,Yw=!1,fu=null,Zw=0,Ny=0,lN=null,Qw=-1,Jw=0;function es(){return hn&6?fi():Qw!==-1?Qw:Qw=fi()}function hu(w){return w.mode&1?hn&2&&Si!==0?Si&-Si:The.transition!==null?(Jw===0&&(w=lu,lu<<=1,!(lu&4194240)&&(lu=64),Jw=w),Jw):(w=Pn,w!==0?w:me()):1}function No(w,E,O){if(50<Ny)throw Ny=0,lN=null,Error(o(185));var L=e1(w,E);return L===null?null:(hy(L,E,O),(!(hn&2)||L!==Hr)&&(L===Hr&&(!(hn&2)&&(Xw|=E),Jr===4&&pu(L,Si)),ys(L,O),E===1&&hn===0&&!(w.mode&1)&&(Mp(),gw&&el())),L)}function e1(w,E){w.lanes|=E;var O=w.alternate;for(O!==null&&(O.lanes|=E),O=w,w=w.return;w!==null;)w.childLanes|=E,O=w.alternate,O!==null&&(O.childLanes|=E),O=w,w=w.return;return O.tag===3?O.stateNode:null}function ys(w,E){var O=w.callbackNode;xhe(w,E);var L=pw(w,w===Hr?Si:0);if(L===0)O!==null&&j5(O),w.callbackNode=null,w.callbackPriority=0;else if(E=L&-L,w.callbackPriority!==E){if(O!=null&&j5(O),E===1)w.tag===0?Ahe(Qz.bind(null,w)):L5(Qz.bind(null,w)),Ae?Ce(function(){hn===0&&el()}):g2(v2,el),O=null;else{switch(D5(L)){case 1:O=v2;break;case 4:O=She;break;case 16:O=y2;break;case 536870912:O=Ehe;break;default:O=y2}O=aU(O,Zz.bind(null,w))}w.callbackPriority=E,w.callbackNode=O}}function Zz(w,E){if(Qw=-1,Jw=0,hn&6)throw Error(o(327));var O=w.callbackNode;if(Jd()&&w.callbackNode!==O)return null;var L=pw(w,w===Hr?Si:0);if(L===0)return null;if(L&30||L&w.expiredLanes||E)E=t1(w,L);else{E=L;var V=hn;hn|=2;var q=tU();(Hr!==w||Si!==E)&&(Mp(),Zd(w,E));do try{Khe();break}catch(ye){eU(w,ye)}while(!0);b2(),qw.current=q,hn=V,Vr!==null?E=0:(Hr=null,Si=0,E=Jr)}if(E!==0){if(E===2&&(V=h2(w),V!==0&&(L=V,E=cN(w,V))),E===1)throw O=Ty,Zd(w,0),pu(w,L),ys(w,fi()),O;if(E===6)pu(w,L);else{if(V=w.current.alternate,!(L&30)&&!qhe(V)&&(E=t1(w,L),E===2&&(q=h2(w),q!==0&&(L=q,E=cN(w,q))),E===1))throw O=Ty,Zd(w,0),pu(w,L),ys(w,fi()),O;switch(w.finishedWork=V,w.finishedLanes=L,E){case 0:case 1:throw Error(o(345));case 2:Qd(w,vs);break;case 3:if(pu(w,L),(L&130023424)===L&&(E=sN+500-fi(),10<E)){if(pw(w,0)!==0)break;if(V=w.suspendedLanes,(V&L)!==L){es(),w.pingedLanes|=w.suspendedLanes&V;break}w.timeoutHandle=$(Qd.bind(null,w,vs),E);break}Qd(w,vs);break;case 4:if(pu(w,L),(L&4194240)===L)break;for(E=w.eventTimes,V=-1;0<L;){var de=31-Kn(L);q=1<<de,de=E[de],de>V&&(V=de),L&=~q}if(L=V,L=fi()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*Ghe(L/1960))-L,10<L){w.timeoutHandle=$(Qd.bind(null,w,vs),L);break}Qd(w,vs);break;case 5:Qd(w,vs);break;default:throw Error(o(329))}}}return ys(w,fi()),w.callbackNode===O?Zz.bind(null,w):null}function cN(w,E){var O=Py;return w.current.memoizedState.isDehydrated&&(Zd(w,E).flags|=256),w=t1(w,E),w!==2&&(E=vs,vs=O,E!==null&&uN(E)),w}function uN(w){vs===null?vs=w:vs.push.apply(vs,w)}function qhe(w){for(var E=w;;){if(E.flags&16384){var O=E.updateQueue;if(O!==null&&(O=O.stores,O!==null))for(var L=0;L<O.length;L++){var V=O[L],q=V.getSnapshot;V=V.value;try{if(!Ja(q(),V))return!1}catch{return!1}}}if(O=E.child,E.subtreeFlags&16384&&O!==null)O.return=E,E=O;else{if(E===w)break;for(;E.sibling===null;){if(E.return===null||E.return===w)return!0;E=E.return}E.sibling.return=E.return,E=E.sibling}}return!0}function pu(w,E){for(E&=~iN,E&=~Xw,w.suspendedLanes|=E,w.pingedLanes&=~E,w=w.expirationTimes;0<E;){var O=31-Kn(E),L=1<<O;w[O]=-1,E&=~L}}function Qz(w){if(hn&6)throw Error(o(327));Jd();var E=pw(w,0);if(!(E&1))return ys(w,fi()),null;var O=t1(w,E);if(w.tag!==0&&O===2){var L=h2(w);L!==0&&(E=L,O=cN(w,L))}if(O===1)throw O=Ty,Zd(w,0),pu(w,E),ys(w,fi()),O;if(O===6)throw Error(o(345));return w.finishedWork=w.current.alternate,w.finishedLanes=E,Qd(w,vs),ys(w,fi()),null}function Jz(w){fu!==null&&fu.tag===0&&!(hn&6)&&Jd();var E=hn;hn|=1;var O=jr.transition,L=Pn;try{if(jr.transition=null,Pn=1,w)return w()}finally{Pn=L,jr.transition=O,hn=E,!(hn&6)&&el()}}function dN(){Xs=Ep.current,Et(Ep)}function Zd(w,E){w.finishedWork=null,w.finishedLanes=0;var O=w.timeoutHandle;if(O!==Q&&(w.timeoutHandle=Q,Y(O)),Vr!==null)for(O=Vr.return;O!==null;){var L=O;switch(T2(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&yr();break;case 3:wp(),Et(Jt),Et(Qt),D2();break;case 5:k2(L);break;case 4:wp();break;case 13:Et(xr);break;case 19:Et(xr);break;case 10:w2(L.type._context);break;case 22:case 23:dN()}O=O.return}if(Hr=w,Vr=w=mu(w.current,null),Si=Xs=E,Jr=0,Ty=null,iN=Xw=Cp=0,vs=Py=null,tl!==null){for(E=0;E<tl.length;E++)if(O=tl[E],L=O.interleaved,L!==null){O.interleaved=null;var V=L.next,q=O.pending;if(q!==null){var de=q.next;q.next=V,L.next=de}O.pending=L}tl=null}return w}function eU(w,E){do{var O=Vr;try{if(b2(),Aw.current=kw,Tw){for(var L=Pr.memoizedState;L!==null;){var V=L.queue;V!==null&&(V.pending=null),L=L.next}Tw=!1}if(Sp=0,hi=ki=Pr=null,xy=!1,_y=0,rN.current=null,O===null||O.return===null){Jr=1,Ty=E,Vr=null;break}e:{var q=w,de=O.return,ye=O,Fe=E;if(E=Si,ye.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var st=Fe,St=ye,tn=St.tag;if(!(St.mode&1)&&(tn===0||tn===11||tn===15)){var Ft=St.alternate;Ft?(St.updateQueue=Ft.updateQueue,St.memoizedState=Ft.memoizedState,St.lanes=Ft.lanes):(St.updateQueue=null,St.memoizedState=null)}var Gn=bz(de);if(Gn!==null){Gn.flags&=-257,wz(Gn,de,ye,q,E),Gn.mode&1&&_z(q,st,E),E=Gn,Fe=st;var kt=E.updateQueue;if(kt===null){var ji=new Set;ji.add(Fe),E.updateQueue=ji}else kt.add(Fe);break e}else{if(!(E&1)){_z(q,st,E),fN();break e}Fe=Error(o(426))}}else if(dr&&ye.mode&1){var Oo=bz(de);if(Oo!==null){!(Oo.flags&65536)&&(Oo.flags|=256),wz(Oo,de,ye,q,E),R2(Fe);break e}}q=Fe,Jr!==4&&(Jr=2),Py===null?Py=[q]:Py.push(q),Fe=$2(Fe,ye),ye=de;do{switch(ye.tag){case 3:ye.flags|=65536,E&=-E,ye.lanes|=E;var Te=yz(ye,Fe,E);z5(ye,Te);break e;case 1:q=Fe;var xe=ye.type,je=ye.stateNode;if(!(ye.flags&128)&&(typeof xe.getDerivedStateFromError=="function"||je!==null&&typeof je.componentDidCatch=="function"&&(du===null||!du.has(je)))){ye.flags|=65536,E&=-E,ye.lanes|=E;var ht=xz(ye,q,E);z5(ye,ht);break e}}ye=ye.return}while(ye!==null)}rU(O)}catch(Nt){E=Nt,Vr===O&&O!==null&&(Vr=O=O.return);continue}break}while(!0)}function tU(){var w=qw.current;return qw.current=kw,w===null?kw:w}function fN(){(Jr===0||Jr===3||Jr===2)&&(Jr=4),Hr===null||!(Cp&268435455)&&!(Xw&268435455)||pu(Hr,Si)}function t1(w,E){var O=hn;hn|=2;var L=tU();Hr===w&&Si===E||Zd(w,E);do try{Xhe();break}catch(V){eU(w,V)}while(!0);if(b2(),hn=O,qw.current=L,Vr!==null)throw Error(o(261));return Hr=null,Si=0,Jr}function Xhe(){for(;Vr!==null;)nU(Vr)}function Khe(){for(;Vr!==null&&!bhe();)nU(Vr)}function nU(w){var E=oU(w.alternate,w,Xs);w.memoizedProps=w.pendingProps,E===null?rU(w):Vr=E,rN.current=null}function rU(w){var E=w;do{var O=E.alternate;if(w=E.return,E.flags&32768){if(O=Uhe(O,E),O!==null){O.flags&=32767,Vr=O;return}if(w!==null)w.flags|=32768,w.subtreeFlags=0,w.deletions=null;else{Jr=6,Vr=null;return}}else if(O=Fhe(O,E,Xs),O!==null){Vr=O;return}if(E=E.sibling,E!==null){Vr=E;return}Vr=E=w}while(E!==null);Jr===0&&(Jr=5)}function Qd(w,E){var O=Pn,L=jr.transition;try{jr.transition=null,Pn=1,Yhe(w,E,O)}finally{jr.transition=L,Pn=O}return null}function Yhe(w,E,O){do Jd();while(fu!==null);if(hn&6)throw Error(o(327));var L=w.finishedWork,V=w.finishedLanes;if(L===null)return null;if(w.finishedWork=null,w.finishedLanes=0,L===w.current)throw Error(o(177));w.callbackNode=null,w.callbackPriority=0;var q=L.lanes|L.childLanes;if(_he(w,q),w===Hr&&(Vr=Hr=null,Si=0),!(L.subtreeFlags&2064)&&!(L.flags&2064)||Yw||(Yw=!0,aU(y2,function(){return Jd(),null})),q=(L.flags&15990)!==0,L.subtreeFlags&15990||q){q=jr.transition,jr.transition=null;var de=Pn;Pn=1;var ye=hn;hn|=4,rN.current=null,Hhe(w,L),Vhe(w,L),B(w.containerInfo),w.current=L,Whe(L),whe(),hn=ye,Pn=de,jr.transition=q}else w.current=L;if(Yw&&(Yw=!1,fu=w,Zw=V),q=w.pendingLanes,q===0&&(du=null),Che(L.stateNode),ys(w,fi()),E!==null)for(O=w.onRecoverableError,L=0;L<E.length;L++)O(E[L]);if(Kw)throw Kw=!1,w=aN,aN=null,w;return Zw&1&&w.tag!==0&&Jd(),q=w.pendingLanes,q&1?w===lN?Ny++:(Ny=0,lN=w):Ny=0,el(),null}function Jd(){if(fu!==null){var w=D5(Zw),E=jr.transition,O=Pn;try{if(jr.transition=null,Pn=16>w?16:w,fu===null)var L=!1;else{if(w=fu,fu=null,Zw=0,hn&6)throw Error(o(331));var V=hn;for(hn|=4,ft=w.current;ft!==null;){var q=ft,de=q.child;if(ft.flags&16){var ye=q.deletions;if(ye!==null){for(var Fe=0;Fe<ye.length;Fe++){var st=ye[Fe];for(ft=st;ft!==null;){var St=ft;switch(St.tag){case 0:case 11:case 15:Yd(8,St,q)}var tn=St.child;if(tn!==null)tn.return=St,ft=tn;else for(;ft!==null;){St=ft;var Ft=St.sibling,Gn=St.return;if(Uz(St),St===st){ft=null;break}if(Ft!==null){Ft.return=Gn,ft=Ft;break}ft=Gn}}}var kt=q.alternate;if(kt!==null){var ji=kt.child;if(ji!==null){kt.child=null;do{var Oo=ji.sibling;ji.sibling=null,ji=Oo}while(ji!==null)}}ft=q}}if(q.subtreeFlags&2064&&de!==null)de.return=q,ft=de;else e:for(;ft!==null;){if(q=ft,q.flags&2048)switch(q.tag){case 0:case 11:case 15:Yd(9,q,q.return)}var Te=q.sibling;if(Te!==null){Te.return=q.return,ft=Te;break e}ft=q.return}}var xe=w.current;for(ft=xe;ft!==null;){de=ft;var je=de.child;if(de.subtreeFlags&2064&&je!==null)je.return=de,ft=je;else e:for(de=xe;ft!==null;){if(ye=ft,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:My(9,ye)}}catch(Nt){xs(ye,ye.return,Nt)}if(ye===de){ft=null;break e}var ht=ye.sibling;if(ht!==null){ht.return=ye.return,ft=ht;break e}ft=ye.return}}if(hn=V,el(),Qa&&typeof Qa.onPostCommitFiberRoot=="function")try{Qa.onPostCommitFiberRoot(mw,w)}catch{}L=!0}return L}finally{Pn=O,jr.transition=E}}return!1}function iU(w,E,O){E=$2(O,E),E=yz(w,E,1),uu(w,E),E=es(),w=e1(w,1),w!==null&&(hy(w,1,E),ys(w,E))}function xs(w,E,O){if(w.tag===3)iU(w,w,O);else for(;E!==null;){if(E.tag===3){iU(E,w,O);break}else if(E.tag===1){var L=E.stateNode;if(typeof E.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(du===null||!du.has(L))){w=$2(O,w),w=xz(E,w,1),uu(E,w),w=es(),E=e1(E,1),E!==null&&(hy(E,1,w),ys(E,w));break}}E=E.return}}function Zhe(w,E,O){var L=w.pingCache;L!==null&&L.delete(E),E=es(),w.pingedLanes|=w.suspendedLanes&O,Hr===w&&(Si&O)===O&&(Jr===4||Jr===3&&(Si&130023424)===Si&&500>fi()-sN?Zd(w,0):iN|=O),ys(w,E)}function sU(w,E){E===0&&(w.mode&1?(E=Eo,Eo<<=1,!(Eo&130023424)&&(Eo=4194304)):E=1);var O=es();w=e1(w,E),w!==null&&(hy(w,E,O),ys(w,O))}function Qhe(w){var E=w.memoizedState,O=0;E!==null&&(O=E.retryLane),sU(w,O)}function Jhe(w,E){var O=0;switch(w.tag){case 13:var L=w.stateNode,V=w.memoizedState;V!==null&&(O=V.retryLane);break;case 19:L=w.stateNode;break;default:throw Error(o(314))}L!==null&&L.delete(E),sU(w,O)}var oU;oU=function(w,E,O){if(w!==null)if(w.memoizedProps!==E.pendingProps||Jt.current)qs=!0;else{if(!(w.lanes&O)&&!(E.flags&128))return qs=!1,zhe(w,E,O);qs=!!(w.flags&131072)}else qs=!1,dr&&E.flags&1048576&&G5(E,Ew,E.index);switch(E.lanes=0,E.tag){case 2:var L=E.type;w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),w=E.pendingProps;var V=Tn(E,Qt.current);gp(E,O),V=L2(null,E,L,w,V,O);var q=F2();return E.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(E.tag=1,E.memoizedState=null,E.updateQueue=null,qt(L)?(q=!0,So(E)):q=!1,E.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,E2(E),V.updater=ww,E.stateNode=V,V._reactInternals=E,M2(E,L,w,O),E=W2(null,E,L,!0,q,O)):(E.tag=0,dr&&q&&A2(E),Ji(null,E,V,O),E=E.child),E;case 16:L=E.elementType;e:{switch(w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),w=E.pendingProps,V=L._init,L=V(L._payload),E.type=L,V=E.tag=tpe(L),w=la(L,w),V){case 0:E=V2(null,E,L,w,O);break e;case 1:E=Nz(null,E,L,w,O);break e;case 11:E=Cz(null,E,L,w,O);break e;case 14:E=Mz(null,E,L,la(L.type,w),O);break e}throw Error(o(306,L,""))}return E;case 0:return L=E.type,V=E.pendingProps,V=E.elementType===L?V:la(L,V),V2(w,E,L,V,O);case 1:return L=E.type,V=E.pendingProps,V=E.elementType===L?V:la(L,V),Nz(w,E,L,V,O);case 3:e:{if(Rz(E),w===null)throw Error(o(387));L=E.pendingProps,q=E.memoizedState,V=q.element,B5(w,E),bw(E,L,null,O);var de=E.memoizedState;if(L=de.element,K&&q.isDehydrated)if(q={element:L,isDehydrated:!1,cache:de.cache,transitions:de.transitions},E.updateQueue.baseState=q,E.memoizedState=q,E.flags&256){V=Error(o(423)),E=Oz(w,E,L,O,V);break e}else if(L!==V){V=Error(o(424)),E=Oz(w,E,L,O,V);break e}else for(K&&(Gs=au(E.stateNode.containerInfo),Ws=E,dr=!0,ca=null,py=!1),O=Q5(E,null,L,O),E.child=O;O;)O.flags=O.flags&-3|4096,O=O.sibling;else{if(xp(),L===V){E=tc(w,E,O);break e}Ji(w,E,L,O)}E=E.child}return E;case 5:return J5(E),w===null&&N2(E),L=E.type,V=E.pendingProps,q=w!==null?w.memoizedProps:null,de=V.children,ae(L,V)?de=null:q!==null&&ae(L,q)&&(E.flags|=32),Pz(w,E),Ji(w,E,de,O),E.child;case 6:return w===null&&N2(E),null;case 13:return kz(w,E,O);case 4:return O2(E,E.stateNode.containerInfo),L=E.pendingProps,w===null?E.child=_p(E,null,L,O):Ji(w,E,L,O),E.child;case 11:return L=E.type,V=E.pendingProps,V=E.elementType===L?V:la(L,V),Cz(w,E,L,V,O);case 7:return Ji(w,E,E.pendingProps,O),E.child;case 8:return Ji(w,E,E.pendingProps.children,O),E.child;case 12:return Ji(w,E,E.pendingProps.children,O),E.child;case 10:e:{if(L=E.type._context,V=E.pendingProps,q=E.memoizedProps,de=V.value,F5(E,L,de),q!==null)if(Ja(q.value,de)){if(q.children===V.children&&!Jt.current){E=tc(w,E,O);break e}}else for(q=E.child,q!==null&&(q.return=E);q!==null;){var ye=q.dependencies;if(ye!==null){de=q.child;for(var Fe=ye.firstContext;Fe!==null;){if(Fe.context===L){if(q.tag===1){Fe=Zl(-1,O&-O),Fe.tag=2;var st=q.updateQueue;if(st!==null){st=st.shared;var St=st.pending;St===null?Fe.next=Fe:(Fe.next=St.next,St.next=Fe),st.pending=Fe}}q.lanes|=O,Fe=q.alternate,Fe!==null&&(Fe.lanes|=O),S2(q.return,O,E),ye.lanes|=O;break}Fe=Fe.next}}else if(q.tag===10)de=q.type===E.type?null:q.child;else if(q.tag===18){if(de=q.return,de===null)throw Error(o(341));de.lanes|=O,ye=de.alternate,ye!==null&&(ye.lanes|=O),S2(de,O,E),de=q.sibling}else de=q.child;if(de!==null)de.return=q;else for(de=q;de!==null;){if(de===E){de=null;break}if(q=de.sibling,q!==null){q.return=de.return,de=q;break}de=de.return}q=de}Ji(w,E,V.children,O),E=E.child}return E;case 9:return V=E.type,L=E.pendingProps.children,gp(E,O),V=Co(V),L=L(V),E.flags|=1,Ji(w,E,L,O),E.child;case 14:return L=E.type,V=la(L,E.pendingProps),V=la(L.type,V),Mz(w,E,L,V,O);case 15:return Az(w,E,E.type,E.pendingProps,O);case 17:return L=E.type,V=E.pendingProps,V=E.elementType===L?V:la(L,V),w!==null&&(w.alternate=null,E.alternate=null,E.flags|=2),E.tag=1,qt(L)?(w=!0,So(E)):w=!1,gp(E,O),V5(E,L,V),M2(E,L,V,O),W2(null,E,L,!0,w,O);case 19:return Lz(w,E,O);case 22:return Tz(w,E,O)}throw Error(o(156,E.tag))};function aU(w,E){return g2(w,E)}function epe(w,E,O,L){this.tag=w,this.key=O,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=E,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ro(w,E,O,L){return new epe(w,E,O,L)}function hN(w){return w=w.prototype,!(!w||!w.isReactComponent)}function tpe(w){if(typeof w=="function")return hN(w)?1:0;if(w!=null){if(w=w.$$typeof,w===x)return 11;if(w===y)return 14}return 2}function mu(w,E){var O=w.alternate;return O===null?(O=Ro(w.tag,E,w.key,w.mode),O.elementType=w.elementType,O.type=w.type,O.stateNode=w.stateNode,O.alternate=w,w.alternate=O):(O.pendingProps=E,O.type=w.type,O.flags=0,O.subtreeFlags=0,O.deletions=null),O.flags=w.flags&14680064,O.childLanes=w.childLanes,O.lanes=w.lanes,O.child=w.child,O.memoizedProps=w.memoizedProps,O.memoizedState=w.memoizedState,O.updateQueue=w.updateQueue,E=w.dependencies,O.dependencies=E===null?null:{lanes:E.lanes,firstContext:E.firstContext},O.sibling=w.sibling,O.index=w.index,O.ref=w.ref,O}function n1(w,E,O,L,V,q){var de=2;if(L=w,typeof w=="function")hN(w)&&(de=1);else if(typeof w=="string")de=5;else e:switch(w){case f:return ef(O.children,V,q,E);case d:de=8,V|=8;break;case h:return w=Ro(12,O,E,V|2),w.elementType=h,w.lanes=q,w;case m:return w=Ro(13,O,E,V),w.elementType=m,w.lanes=q,w;case p:return w=Ro(19,O,E,V),w.elementType=p,w.lanes=q,w;case b:return r1(O,V,q,E);default:if(typeof w=="object"&&w!==null)switch(w.$$typeof){case g:de=10;break e;case v:de=9;break e;case x:de=11;break e;case y:de=14;break e;case _:de=16,L=null;break e}throw Error(o(130,w==null?w:typeof w,""))}return E=Ro(de,O,E,V),E.elementType=w,E.type=L,E.lanes=q,E}function ef(w,E,O,L){return w=Ro(7,w,L,E),w.lanes=O,w}function r1(w,E,O,L){return w=Ro(22,w,L,E),w.elementType=b,w.lanes=O,w.stateNode={},w}function pN(w,E,O){return w=Ro(6,w,null,E),w.lanes=O,w}function mN(w,E,O){return E=Ro(4,w.children!==null?w.children:[],w.key,E),E.lanes=O,E.stateNode={containerInfo:w.containerInfo,pendingChildren:null,implementation:w.implementation},E}function npe(w,E,O,L,V){this.tag=E,this.containerInfo=w,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p2(0),this.expirationTimes=p2(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p2(0),this.identifierPrefix=L,this.onRecoverableError=V,K&&(this.mutableSourceEagerHydrationData=null)}function lU(w,E,O,L,V,q,de,ye,Fe){return w=new npe(w,E,O,ye,Fe),E===1?(E=1,q===!0&&(E|=8)):E=0,q=Ro(3,null,null,E),w.current=q,q.stateNode=w,q.memoizedState={element:L,isDehydrated:O,cache:null,transitions:null},E2(q),w}function cU(w){if(!w)return wn;w=w._reactInternals;e:{if(P(w)!==w||w.tag!==1)throw Error(o(170));var E=w;do{switch(E.tag){case 3:E=E.stateNode.context;break e;case 1:if(qt(E.type)){E=E.stateNode.__reactInternalMemoizedMergedChildContext;break e}}E=E.return}while(E!==null);throw Error(o(171))}if(w.tag===1){var O=w.type;if(qt(O))return di(w,O,E)}return E}function uU(w){var E=w._reactInternals;if(E===void 0)throw typeof w.render=="function"?Error(o(188)):(w=Object.keys(w).join(","),Error(o(268,w)));return w=D(E),w===null?null:w.stateNode}function dU(w,E){if(w=w.memoizedState,w!==null&&w.dehydrated!==null){var O=w.retryLane;w.retryLane=O!==0&&O<E?O:E}}function gN(w,E){dU(w,E),(w=w.alternate)&&dU(w,E)}function rpe(w){return w=D(w),w===null?null:w.stateNode}function ipe(){return null}return n.attemptContinuousHydration=function(w){if(w.tag===13){var E=es();No(w,134217728,E),gN(w,134217728)}},n.attemptHydrationAtCurrentPriority=function(w){if(w.tag===13){var E=es(),O=hu(w);No(w,O,E),gN(w,O)}},n.attemptSynchronousHydration=function(w){switch(w.tag){case 3:var E=w.stateNode;if(E.current.memoizedState.isDehydrated){var O=fy(E.pendingLanes);O!==0&&(m2(E,O|1),ys(E,fi()),!(hn&6)&&(Mp(),el()))}break;case 13:var L=es();Jz(function(){return No(w,1,L)}),gN(w,1)}},n.batchedUpdates=function(w,E){var O=hn;hn|=1;try{return w(E)}finally{hn=O,hn===0&&(Mp(),gw&&el())}},n.createComponentSelector=function(w){return{$$typeof:$w,value:w}},n.createContainer=function(w,E,O,L,V,q,de){return lU(w,E,!1,null,O,L,V,q,de)},n.createHasPseudoClassSelector=function(w){return{$$typeof:Hw,value:w}},n.createHydrationContainer=function(w,E,O,L,V,q,de,ye,Fe){return w=lU(O,L,!0,w,V,q,de,ye,Fe),w.context=cU(null),O=w.current,L=es(),V=hu(O),q=Zl(L,V),q.callback=E??null,uu(O,q),w.current.lanes=V,hy(w,V,L),ys(w,L),w},n.createPortal=function(w,E,O){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:L==null?null:""+L,children:w,containerInfo:E,implementation:O}},n.createRoleSelector=function(w){return{$$typeof:Vw,value:w}},n.createTestNameSelector=function(w){return{$$typeof:Ww,value:w}},n.createTextSelector=function(w){return{$$typeof:Gw,value:w}},n.deferredUpdates=function(w){var E=Pn,O=jr.transition;try{return jr.transition=null,Pn=16,w()}finally{Pn=E,jr.transition=O}},n.discreteUpdates=function(w,E,O,L,V){var q=Pn,de=jr.transition;try{return jr.transition=null,Pn=1,w(E,O,L,V)}finally{Pn=q,jr.transition=de,hn===0&&Mp()}},n.findAllNodes=nN,n.findBoundingRects=function(w,E){if(!De)throw Error(o(363));E=nN(w,E),w=[];for(var O=0;O<E.length;O++)w.push(nt(E[O]));for(E=w.length-1;0<E;E--){O=w[E];for(var L=O.x,V=L+O.width,q=O.y,de=q+O.height,ye=E-1;0<=ye;ye--)if(E!==ye){var Fe=w[ye],st=Fe.x,St=st+Fe.width,tn=Fe.y,Ft=tn+Fe.height;if(L>=st&&q>=tn&&V<=St&&de<=Ft){w.splice(E,1);break}else if(L!==st||O.width!==Fe.width||Ft<q||tn>de){if(!(q!==tn||O.height!==Fe.height||St<L||st>V)){st>L&&(Fe.width+=st-L,Fe.x=L),St<V&&(Fe.width=V-st),w.splice(E,1);break}}else{tn>q&&(Fe.height+=tn-q,Fe.y=q),Ft<de&&(Fe.height=de-tn),w.splice(E,1);break}}}return w},n.findHostInstance=uU,n.findHostInstanceWithNoPortals=function(w){return w=k(w),w=w!==null?F(w):null,w===null?null:w.stateNode},n.findHostInstanceWithWarning=function(w){return uU(w)},n.flushControlled=function(w){var E=hn;hn|=1;var O=jr.transition,L=Pn;try{jr.transition=null,Pn=1,w()}finally{Pn=L,jr.transition=O,hn=E,hn===0&&(Mp(),el())}},n.flushPassiveEffects=Jd,n.flushSync=Jz,n.focusWithin=function(w,E){if(!De)throw Error(o(363));for(w=J2(w),E=Yz(w,E),E=Array.from(E),w=0;w<E.length;){var O=E[w++];if(!Z(O)){if(O.tag===5&&Se(O.stateNode))return!0;for(O=O.child;O!==null;)E.push(O),O=O.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Pn},n.getFindAllNodesFailureDescription=function(w,E){if(!De)throw Error(o(363));var O=0,L=[];w=[J2(w),0];for(var V=0;V<w.length;){var q=w[V++],de=w[V++],ye=E[de];if((q.tag!==5||!Z(q))&&(eN(q,ye)&&(L.push(tN(ye)),de++,de>O&&(O=de)),de<E.length))for(q=q.child;q!==null;)w.push(q,de),q=q.sibling}if(O<E.length){for(w=[];O<E.length;O++)w.push(tN(E[O]));return`findAllNodes was able to match part of the selector:
  `+(L.join(" > ")+`

No matching component was found for:
  `)+w.join(" > ")}return null},n.getPublicRootInstance=function(w){if(w=w.current,!w.child)return null;switch(w.child.tag){case 5:return U(w.child.stateNode);default:return w.child.stateNode}},n.injectIntoDevTools=function(w){if(w={bundleType:w.bundleType,version:w.version,rendererPackageName:w.rendererPackageName,rendererConfig:w.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:rpe,findFiberByHostInstance:w.findFiberByHostInstance||ipe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")w=!1;else{var E=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(E.isDisabled||!E.supportsFiber)w=!0;else{try{mw=E.inject(w),Qa=E}catch{}w=!!E.checkDCE}}return w},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(w,E,O,L){if(!De)throw Error(o(363));w=nN(w,E);var V=Ie(w,O,L).disconnect;return{disconnect:function(){V()}}},n.registerMutableSourceForHydration=function(w,E){var O=E._getVersion;O=O(E._source),w.mutableSourceEagerHydrationData==null?w.mutableSourceEagerHydrationData=[E,O]:w.mutableSourceEagerHydrationData.push(E,O)},n.runWithPriority=function(w,E){var O=Pn;try{return Pn=w,E()}finally{Pn=O}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(w,E,O,L){var V=E.current,q=es(),de=hu(V);return O=cU(O),E.context===null?E.context=O:E.pendingContext=O,E=Zl(q,de),E.payload={element:w},L=L===void 0?null:L,L!==null&&(E.callback=L),uu(V,E),w=No(V,de,q),w!==null&&_w(w,V,de),de},n};Wfe.exports=Gmt;var qmt=Wfe.exports;const Xmt=kn(qmt);var Gfe={exports:{}},qfe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,I){var B=R.length;R.push(I);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,I))R[W]=I,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var I=R[0],B=R.pop();if(B!==I){R[0]=B;e:for(var W=0,G=R.length,X=G>>>1;W<X;){var ne=2*(W+1)-1,ae=R[ne],se=ne+1,$=R[se];if(0>i(ae,B))se<G&&0>i($,ae)?(R[W]=$,R[se]=B,W=se):(R[W]=ae,R[ne]=B,W=ne);else if(se<G&&0>i($,B))R[W]=$,R[se]=B,W=se;else break e}}return I}function i(R,I){var B=R.sortIndex-I.sortIndex;return B!==0?B:R.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,g=!1,v=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=R)r(c),I.sortIndex=I.expirationTime,e(l,I);else break;I=n(c)}}function b(R){if(x=!1,_(R),!v)if(n(l)!==null)v=!0,U(S);else{var I=n(c);I!==null&&H(b,I.startTime-R)}}function S(R,I){v=!1,x&&(x=!1,p(T),T=-1),g=!0;var B=h;try{for(_(I),d=n(l);d!==null&&(!(d.expirationTime>I)||R&&!k());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var G=W(d.expirationTime<=I);I=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(I)}else r(l);d=n(l)}if(d!==null)var X=!0;else{var ne=n(c);ne!==null&&H(b,ne.startTime-I),X=!1}return X}finally{d=null,h=B,g=!1}}var C=!1,M=null,T=-1,P=5,N=-1;function k(){return!(t.unstable_now()-N<P)}function D(){if(M!==null){var R=t.unstable_now();N=R;var I=!0;try{I=M(!0,R)}finally{I?j():(C=!1,M=null)}}else C=!1}var j;if(typeof y=="function")j=function(){y(D)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,z=F.port2;F.port1.onmessage=D,j=function(){z.postMessage(null)}}else j=function(){m(D,0)};function U(R){M=R,C||(C=!0,j())}function H(R,I){T=m(function(){R(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,U(S))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var I=3;break;default:I=h}var B=h;h=I;try{return R()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,I){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return I()}finally{h=B}},t.unstable_scheduleCallback=function(R,I,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:f++,callback:I,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(x?(p(T),T=-1):x=!0,H(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,U(S))),R},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(R){var I=h;return function(){var B=h;h=I;try{return R.apply(this,arguments)}finally{h=B}}}})(qfe);Gfe.exports=qfe;var j9=Gfe.exports;const R5={},Xfe=t=>void Object.assign(R5,t);function Kmt(t,e){function n(f,{args:d=[],attach:h,...g},v){let x=`${f[0].toUpperCase()}${f.slice(1)}`,m;if(f==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const p=g.object;m=fm(p,{type:f,root:v,attach:h,primitive:!0})}else{const p=R5[x];if(!p)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");m=fm(new p(...d),{type:f,root:v,attach:h,memoizedProps:{args:d}})}return m.__r3f.attach===void 0&&(m.isBufferGeometry?m.__r3f.attach="geometry":m.isMaterial&&(m.__r3f.attach="material")),x!=="inject"&&nk(m,g),m}function r(f,d){let h=!1;if(d){var g,v;(g=d.__r3f)!=null&&g.attach?tk(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),h=!0),h||(v=f.__r3f)==null||v.objects.push(d),d.__r3f||fm(d,{}),d.__r3f.parent=f,fL(d),hm(d)}}function i(f,d,h){let g=!1;if(d){var v,x;if((v=d.__r3f)!=null&&v.attach)tk(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const m=f.children.filter(y=>y!==d),p=m.indexOf(h);f.children=[...m.slice(0,p),d,...m.slice(p)],g=!0}g||(x=f.__r3f)==null||x.objects.push(d),d.__r3f||fm(d,{}),d.__r3f.parent=f,fL(d),hm(d)}}function s(f,d,h=!1){f&&[...f].forEach(g=>o(d,g,h))}function o(f,d,h){if(d){var g,v,x;if(d.__r3f&&(d.__r3f.parent=null),(g=f.__r3f)!=null&&g.objects&&(f.__r3f.objects=f.__r3f.objects.filter(b=>b!==d)),(v=d.__r3f)!=null&&v.attach)U9(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var m;f.remove(d),(m=d.__r3f)!=null&&m.root&&rgt(PE(d),d)}const y=(x=d.__r3f)==null?void 0:x.primitive,_=!y&&(h===void 0?d.dispose!==null:h);if(!y){var p;s((p=d.__r3f)==null?void 0:p.objects,d,_),s(d.children,d,_)}if(delete d.__r3f,_&&d.dispose&&d.type!=="Scene"){const b=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?j9.unstable_scheduleCallback(j9.unstable_IdlePriority,b):b()}hm(f)}}function a(f,d,h,g){var v;const x=(v=f.__r3f)==null?void 0:v.parent;if(!x)return;const m=n(d,h,f.__r3f.root);if(f.children){for(const p of f.children)p.__r3f&&r(m,p);f.children=f.children.filter(p=>!p.__r3f)}f.__r3f.objects.forEach(p=>r(m,p)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(x,f),m.parent&&(m.__r3f.autoRemovedBeforeAppend=!0),r(x,m),m.raycast&&m.__r3f.eventCount&&PE(m).getState().internal.interaction.push(m),[g,g.alternate].forEach(p=>{p!==null&&(p.stateNode=m,p.ref&&(typeof p.ref=="function"?p.ref(m):p.ref.current=m))})}const l=()=>{};return{reconciler:Xmt({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const h=f.getState().scene;h.__r3f&&(h.__r3f.root=f,r(h,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,h)=>{if(!d||!h)return;const g=f.getState().scene;g.__r3f&&i(g,d,h)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f==null?void 0:f.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,h,g){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==f)return[!0];{const{args:m=[],children:p,...y}=g,{args:_=[],children:b,...S}=h;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((M,T)=>M!==_[T]))return[!0];const C=the(f,y,S,!0);return C.changes.length?[!1,C]:null}},commitUpdate(f,[d,h],g,v,x,m){d?a(f,g,x,m):nk(f,h)},commitMount(f,d,h,g){var v;const x=(v=f.__r3f)!=null?v:{};f.raycast&&x.handlers&&x.eventCount&&PE(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>fm(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:h,parent:g}=(d=f.__r3f)!=null?d:{};h&&g&&U9(g,f,h),f.isObject3D&&(f.visible=!1),hm(f)},unhideInstance(f,d){var h;const{attach:g,parent:v}=(h=f.__r3f)!=null?h:{};g&&v&&tk(v,f,g),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),hm(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Fm.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&sr.fun(performance.now)?performance.now:sr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:sr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:sr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:nk}}var L9,F9;const ek=t=>"colorSpace"in t||"outputColorSpace"in t,Kfe=()=>{var t;return(t=R5.ColorManagement)!=null?t:null},Yfe=t=>t&&t.isOrthographicCamera,Ymt=t=>t&&t.hasOwnProperty("current"),fw=typeof window<"u"&&((L9=window.document)!=null&&L9.createElement||((F9=window.navigator)==null?void 0:F9.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function Zfe(t){const e=A.useRef(t);return fw(()=>void(e.current=t),[t]),e}function Zmt({set:t}){return fw(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Qfe extends A.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Qfe.getDerivedStateFromError=()=>({error:!0});const Jfe="__default",B9=new Map,Qmt=t=>t&&!!t.memoized&&!!t.changes;function ehe(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const x0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function PE(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const sr={obj:t=>t===Object(t)&&!sr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(sr.str(t)||sr.num(t)||sr.boo(t))return t===e;const s=sr.obj(t);if(s&&r==="reference")return t===e;const o=sr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!sr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(sr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Jmt(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function fm(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function dL(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const z9=/-\d+$/;function tk(t,e,n){if(sr.str(n)){if(z9.test(n)){const s=n.replace(z9,""),{target:o,key:a}=dL(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=dL(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function U9(t,e,n){var r,i;if(sr.str(n)){const{target:s,key:o}=dL(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function the(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const f=t.__r3f,d=Object.entries(i),h=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||d.unshift([v[x],Jfe+"remove"])}d.forEach(([v,x])=>{var m;if((m=t.__r3f)!=null&&m.primitive&&v==="object"||sr.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return h.push([v,x,!0,[]]);let p=[];v.includes("-")&&(p=v.split("-")),h.push([v,x,!1,p]);for(const y in i){const _=i[y];y.startsWith(`${v}-`)&&h.push([y,_,!1,y.split("-")])}});const g={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:h}}const egt=typeof process<"u"&&!1;function nk(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=Qmt(e)?e:the(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[g,v,x,m]=a[h];if(ek(t)){const b="srgb",S="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?b:S):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?b:S)}let p=t,y=p[g];if(m.length&&(y=m.reduce((_,b)=>_[b],t),!(y&&y.set))){const[_,...b]=m.reverse();p=b.reverse().reduce((S,C)=>S[C],t),g=_}if(v===Jfe+"remove")if(p.constructor){let _=B9.get(p.constructor);_||(_=new p.constructor,B9.set(p.constructor,_)),v=_[g]}else v=0;if(x&&r)v?r.handlers[g]=v:delete r.handlers[g],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof dh)){if(Array.isArray(v))y.fromArray?y.fromArray(v):y.set(...v);else if(y.copy&&v&&v.constructor&&(egt?y.constructor.name===v.constructor.name:y.constructor===v.constructor))y.copy(v);else if(v!==void 0){var c;const _=(c=y)==null?void 0:c.isColor;!_&&y.setScalar?y.setScalar(v):y instanceof dh&&v instanceof dh?y.mask=v.mask:y.set(v),!Kfe()&&s&&!s.linear&&_&&y.convertSRGBToLinear()}}else{var f;if(p[g]=v,(f=p[g])!=null&&f.isTexture&&p[g].format===Gi&&p[g].type===Qo&&s){const _=p[g];ek(_)&&ek(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}hm(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=PE(t).getState().internal,g=h.interaction.indexOf(t);g>-1&&h.interaction.splice(g,1),r.eventCount&&h.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&fL(t),t}function hm(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function fL(t){t.onUpdate==null||t.onUpdate(t)}function tgt(t,e){t.manual||(Yfe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function qS(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function ngt(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Fm.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Fm.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Fm.ContinuousEventPriority;default:return Fm.DefaultEventPriority}}function nhe(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function rgt(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{nhe(n.capturedMap,e,r,i)})}function igt(t){function e(l){const{internal:c}=t.getState(),f=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,c){const f=t.getState(),d=new Set,h=[],g=c?c(f.internal.interaction):f.internal.interaction;for(let p=0;p<g.length;p++){const y=x0(g[p]);y&&(y.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(p){const y=x0(p);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var _;y.events.compute==null||y.events.compute(l,y,(_=y.previousRoot)==null?void 0:_.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(p,!0):[]}let x=g.flatMap(v).sort((p,y)=>{const _=x0(p.object),b=x0(y.object);return!_||!b?p.distance-y.distance:b.events.priority-_.events.priority||p.distance-y.distance}).filter(p=>{const y=qS(p);return d.has(y)?!1:(d.add(y),!0)});f.events.filter&&(x=f.events.filter(x,f));for(const p of x){let y=p.object;for(;y;){var m;(m=y.__r3f)!=null&&m.eventCount&&h.push({...p,eventObject:y}),y=y.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let p of f.internal.capturedMap.get(l.pointerId).values())d.has(qS(p.intersection))||h.push(p.intersection);return h}function i(l,c,f,d){const h=t.getState();if(l.length){const g={stopped:!1};for(const v of l){const x=x0(v.object)||h,{raycaster:m,pointer:p,camera:y,internal:_}=x,b=new le(p.x,p.y,0).unproject(y),S=N=>{var k,D;return(k=(D=_.capturedMap.get(N))==null?void 0:D.has(v.eventObject))!=null?k:!1},C=N=>{const k={intersection:v,target:c.target};_.capturedMap.has(N)?_.capturedMap.get(N).set(v.eventObject,k):_.capturedMap.set(N,new Map([[v.eventObject,k]])),c.target.setPointerCapture(N)},M=N=>{const k=_.capturedMap.get(N);k&&nhe(_.capturedMap,v.eventObject,k,N)};let T={};for(let N in c){let k=c[N];typeof k!="function"&&(T[N]=k)}let P={...v,...T,pointer:p,intersections:l,stopped:g.stopped,delta:f,unprojectedPoint:b,ray:m.ray,camera:y,stopPropagation(){const N="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!N||N.has(v.eventObject))&&(P.stopped=g.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(k=>k.eventObject===v.eventObject))){const k=l.slice(0,l.indexOf(v));s([...k,v])}},target:{hasPointerCapture:S,setPointerCapture:C,releasePointerCapture:M},currentTarget:{hasPointerCapture:S,setPointerCapture:C,releasePointerCapture:M},nativeEvent:c};if(d(P),g.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const f of c.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const h=f.eventObject.__r3f,g=h==null?void 0:h.handlers;if(c.hovered.delete(qS(f)),h!=null&&h.eventCount){const v={...f,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(l,c){for(let f=0;f<c.length;f++){const d=c[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=t.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:h}=t.getState();h.lastEvent.current=f;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",m=r(f,g?n:void 0),p=v?e(f):0;l==="onPointerDown"&&(h.initialClick=[f.offsetX,f.offsetY],h.initialHits=m.map(_=>_.eventObject)),v&&!m.length&&p<=2&&(o(f,h.interaction),d&&d(f)),g&&s(m);function y(_){const b=_.eventObject,S=b.__r3f,C=S==null?void 0:S.handlers;if(S!=null&&S.eventCount)if(g){if(C.onPointerOver||C.onPointerEnter||C.onPointerOut||C.onPointerLeave){const M=qS(_),T=h.hovered.get(M);T?T.stopped&&_.stopPropagation():(h.hovered.set(M,_),C.onPointerOver==null||C.onPointerOver(_),C.onPointerEnter==null||C.onPointerEnter(_))}C.onPointerMove==null||C.onPointerMove(_)}else{const M=C[l];M?(!v||h.initialHits.includes(b))&&(o(f,h.interaction.filter(T=>!h.initialHits.includes(T))),M(_)):v&&h.initialHits.includes(b)&&o(f,h.interaction.filter(T=>!h.initialHits.includes(T)))}}i(m,f,p,y)}}return{handlePointer:a}}const rhe=t=>!!(t!=null&&t.render),ihe=A.createContext(null),sgt=(t,e)=>{const n=Hmt((a,l)=>{const c=new le,f=new le,d=new le;function h(p=l().camera,y=f,_=l().size){const{width:b,height:S,top:C,left:M}=_,T=b/S;y.isVector3?d.copy(y):d.set(...y);const P=p.getWorldPosition(c).distanceTo(d);if(Yfe(p))return{width:b/p.zoom,height:S/p.zoom,top:C,left:M,factor:1,distance:P,aspect:T};{const N=p.fov*Math.PI/180,k=2*Math.tan(N/2)*P,D=k*(b/S);return{width:D,height:k,top:C,left:M,factor:b/D,distance:P,aspect:T}}}let g;const v=p=>a(y=>({performance:{...y.performance,current:p}})),x=new $e;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(p=1)=>t(l(),p),advance:(p,y)=>e(p,y,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new C5,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const p=l();g&&clearTimeout(g),p.performance.current!==p.performance.min&&v(p.performance.min),g=setTimeout(()=>v(l().performance.max),p.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:p=>a(y=>({...y,events:{...y.events,...p}})),setSize:(p,y,_,b,S)=>{const C=l().camera,M={width:p,height:y,top:b||0,left:S||0,updateStyle:_};a(T=>({size:M,viewport:{...T.viewport,...h(C,f,M)}}))},setDpr:p=>a(y=>{const _=ehe(p);return{viewport:{...y.viewport,dpr:_,initialDpr:y.viewport.initialDpr||_}}}),setFrameloop:(p="always")=>{const y=l().clock;y.stop(),y.elapsedTime=0,p!=="never"&&(y.start(),y.elapsedTime=0),a(()=>({frameloop:p}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:A.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(p,y,_)=>{const b=l().internal;return b.priority=b.priority+(y>0?1:0),b.subscribers.push({ref:p,priority:y,store:_}),b.subscribers=b.subscribers.sort((S,C)=>S.priority-C.priority),()=>{const S=l().internal;S!=null&&S.subscribers&&(S.priority=S.priority-(y>0?1:0),S.subscribers=S.subscribers.filter(C=>C.ref!==p))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var h;i=l,s=c.dpr,tgt(a,l),f.setPixelRatio(c.dpr);const g=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,g)}a!==o&&(o=a,d(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let XS,ogt=new Set,agt=new Set,lgt=new Set;function rk(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function _0(t,e){switch(t){case"before":return rk(ogt,e);case"after":return rk(agt,e);case"tail":return rk(lgt,e)}}let ik,sk;function ok(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),ik=e.internal.subscribers,XS=0;XS<ik.length;XS++)sk=ik[XS],sk.ref.current(sk.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function cgt(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,_0("before",c),n=!0;for(const d of t.values()){var f;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(r+=ok(c,s))}if(n=!1,_0("after",c),r===0)return _0("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,f=1){var d;if(!c)return t.forEach(h=>a(h.store.getState(),f));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,f=!0,d,h){if(f&&_0("before",c),d)ok(c,d,h);else for(const g of t.values())ok(c,g.store.getState());f&&_0("after",c)}return{loop:o,invalidate:a,advance:l}}function she(){const t=A.useContext(ihe);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function hc(t=n=>n,e){return she()(t,e)}function f2(t,e=0){const n=she(),r=n.getState().internal.subscribe,i=Zfe(t);return fw(()=>r(i,e,n),[e,r,n]),null}const Mv=new Map,{invalidate:$9,advance:H9}=cgt(Mv),{reconciler:CA,applyProps:om}=Kmt(Mv,ngt),am={objects:"shallow",strict:!1},ugt=(t,e)=>{const n=typeof t=="function"?t(e):t;return rhe(n)?n:new Hfe({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function dgt(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function fgt(t){const e=Mv.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||sgt($9,H9),o=n||CA.createContainer(s,Fm.ConcurrentRoot,null,!1,null,"",i,null);e||Mv.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(f={}){let{gl:d,size:h,scene:g,events:v,onCreated:x,shadows:m=!1,linear:p=!1,flat:y=!1,legacy:_=!1,orthographic:b=!1,frameloop:S="always",dpr:C=[1,2],performance:M,raycaster:T,camera:P,onPointerMissed:N}=f,k=s.getState(),D=k.gl;k.gl||k.set({gl:D=ugt(d,t)});let j=k.raycaster;j||k.set({raycaster:j=new Dfe});const{params:F,...z}=T||{};if(sr.equ(z,j,am)||om(j,{...z}),sr.equ(F,j.params,am)||om(j,{params:{...j.params,...F}}),!k.camera||k.camera===c&&!sr.equ(c,P,am)){c=P;const B=P instanceof iw,W=B?P:b?new Ol(0,0,0,0,.1,1e3):new Sr(75,0,.1,1e3);B||(W.position.z=5,P&&(om(W,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(W.manual=!0,W.updateProjectionMatrix())),!k.camera&&!(P!=null&&P.rotation)&&W.lookAt(0,0,0)),k.set({camera:W}),j.camera=W}if(!k.scene){let B;g!=null&&g.isScene?B=g:(B=new i5,g&&om(B,g)),k.set({scene:fm(B)})}if(!k.xr){var U;const B=(X,ne)=>{const ae=s.getState();ae.frameloop!=="never"&&H9(X,!0,ae,ne)},W=()=>{const X=s.getState();X.gl.xr.enabled=X.gl.xr.isPresenting,X.gl.xr.setAnimationLoop(X.gl.xr.isPresenting?B:null),X.gl.xr.isPresenting||$9(X)},G={connect(){const X=s.getState().gl;X.xr.addEventListener("sessionstart",W),X.xr.addEventListener("sessionend",W)},disconnect(){const X=s.getState().gl;X.xr.removeEventListener("sessionstart",W),X.xr.removeEventListener("sessionend",W)}};typeof((U=D.xr)==null?void 0:U.addEventListener)=="function"&&G.connect(),k.set({xr:G})}if(D.shadowMap){const B=D.shadowMap.enabled,W=D.shadowMap.type;if(D.shadowMap.enabled=!!m,sr.boo(m))D.shadowMap.type=sx;else if(sr.str(m)){var H;const G={basic:Wue,percentage:IP,soft:sx,variance:va};D.shadowMap.type=(H=G[m])!=null?H:sx}else sr.obj(m)&&Object.assign(D.shadowMap,m);(B!==D.shadowMap.enabled||W!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const R=Kfe();R&&("enabled"in R?R.enabled=!_:"legacyMode"in R&&(R.legacyMode=_)),l||om(D,{outputEncoding:p?3e3:3001,toneMapping:y?Nl:$B}),k.legacy!==_&&k.set(()=>({legacy:_})),k.linear!==p&&k.set(()=>({linear:p})),k.flat!==y&&k.set(()=>({flat:y})),d&&!sr.fun(d)&&!rhe(d)&&!sr.equ(d,D,am)&&om(D,d),v&&!k.events.handlers&&k.set({events:v(s)});const I=dgt(t,h);return sr.equ(I,k.size,am)||k.setSize(I.width,I.height,I.updateStyle,I.top,I.left),C&&k.viewport.dpr!==ehe(C)&&k.setDpr(C),k.frameloop!==S&&k.setFrameloop(S),k.onPointerMissed||k.set({onPointerMissed:N}),M&&!sr.equ(M,k.performance,am)&&k.set(B=>({performance:{...B.performance,...M}})),a=x,l=!0,this},render(f){return l||this.configure(),CA.updateContainer(u.jsx(hgt,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){ohe(t)}}}function hgt({store:t,children:e,onCreated:n,rootElement:r}){return fw(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),u.jsx(ihe.Provider,{value:t,children:e})}function ohe(t,e){const n=Mv.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),CA.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Jmt(i),Mv.delete(t)}catch{}},500)})}}CA.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:A.version});const ak={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function pgt(t){const{handlePointer:e}=igt(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(ak).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=ak[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=ak[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function V9(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function mgt({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=A.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=A.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,f=A.useRef(!1);A.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,h,g]=A.useMemo(()=>{const p=()=>{if(!a.current.element)return;const{left:y,top:_,width:b,height:S,bottom:C,right:M,x:T,y:P}=a.current.element.getBoundingClientRect(),N={left:y,top:_,width:b,height:S,bottom:C,right:M,x:T,y:P};a.current.element instanceof HTMLElement&&r&&(N.height=a.current.element.offsetHeight,N.width=a.current.element.offsetWidth),Object.freeze(N),f.current&&!xgt(a.current.lastBounds,N)&&o(a.current.lastBounds=N)};return[p,c?V9(p,c):p,l?V9(p,l):p]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(p=>p.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(p=>p.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const m=p=>{!p||p===a.current.element||(v(),a.current.element=p,a.current.scrollContainers=ahe(p),x())};return vgt(g,!!e),ggt(h),A.useEffect(()=>{v(),x()},[e,g,h]),A.useEffect(()=>v,[]),[m,s,d]}function ggt(t){A.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function vgt(t,e){A.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function ahe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...ahe(t.parentElement)]}const ygt=["x","y","top","bottom","left","right","width","height"],xgt=(t,e)=>ygt.every(n=>t[n]===e[n]);var _gt=Object.defineProperty,bgt=Object.defineProperties,wgt=Object.getOwnPropertyDescriptors,W9=Object.getOwnPropertySymbols,Sgt=Object.prototype.hasOwnProperty,Egt=Object.prototype.propertyIsEnumerable,G9=(t,e,n)=>e in t?_gt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,q9=(t,e)=>{for(var n in e||(e={}))Sgt.call(e,n)&&G9(t,n,e[n]);if(W9)for(var n of W9(e))Egt.call(e,n)&&G9(t,n,e[n]);return t},Cgt=(t,e)=>bgt(t,wgt(e)),X9,K9;typeof window<"u"&&((X9=window.document)!=null&&X9.createElement||((K9=window.navigator)==null?void 0:K9.product)==="ReactNative")?A.useLayoutEffect:A.useEffect;function lhe(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=lhe(r,e,n);if(i)return i;r=r.sibling}}function che(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Y9=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=Y9;return}return Y9.apply(this,arguments)};const O5=che(A.createContext(null));class uhe extends A.Component{render(){return A.createElement(O5.Provider,{value:this._reactInternals},this.props.children)}}function Mgt(){const t=A.useContext(O5);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=A.useId();return A.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=lhe(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Agt(){const t=Mgt(),[e]=A.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==O5&&!e.has(i)&&e.set(i,A.useContext(che(i)))}n=n.return}return e}function Tgt(){const t=Agt();return A.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>A.createElement(e,null,A.createElement(n.Provider,Cgt(q9({},r),{value:t.get(n)}))),e=>A.createElement(uhe,q9({},e))),[t])}const Pgt=A.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=pgt,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:d,legacy:h,orthographic:g,frameloop:v,dpr:x,performance:m,raycaster:p,camera:y,scene:_,onPointerMissed:b,onCreated:S,...C},M){A.useMemo(()=>Xfe(zmt),[]);const T=Tgt(),[P,N]=mgt({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=A.useRef(null),D=A.useRef(null);A.useImperativeHandle(M,()=>k.current);const j=Zfe(b),[F,z]=A.useState(!1),[U,H]=A.useState(!1);if(F)throw F;if(U)throw U;const R=A.useRef(null);fw(()=>{const B=k.current;N.width>0&&N.height>0&&B&&(R.current||(R.current=fgt(B)),R.current.configure({gl:s,events:o,shadows:c,linear:f,flat:d,legacy:h,orthographic:g,frameloop:v,dpr:x,performance:m,raycaster:p,camera:y,scene:_,size:N,onPointerMissed:(...W)=>j.current==null?void 0:j.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?Ymt(a)?a.current:a:D.current),l&&W.setEvents({compute:(G,X)=>{const ne=G[l+"X"],ae=G[l+"Y"];X.pointer.set(ne/X.size.width*2-1,-(ae/X.size.height)*2+1),X.raycaster.setFromCamera(X.pointer,X.camera)}}),S==null||S(W)}}),R.current.render(u.jsx(T,{children:u.jsx(Qfe,{set:H,children:u.jsx(A.Suspense,{fallback:u.jsx(Zmt,{set:z}),children:e??null})})})))}),A.useEffect(()=>{const B=k.current;if(B)return()=>ohe(B)},[]);const I=a?"none":"auto";return u.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:I,...i},...C,children:u.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:u.jsx("canvas",{ref:k,style:{display:"block"},children:n})})})}),dhe=A.forwardRef(function(e,n){return u.jsx(uhe,{children:u.jsx(Pgt,{...e,ref:n})})}),hw=new le,k5=new le,Ngt=new le,Z9=new $e;function Rgt(t,e,n){const r=hw.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function Ogt(t,e){const n=hw.setFromMatrixPosition(t.matrixWorld),r=k5.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(Ngt);return i.angleTo(s)>Math.PI/2}function kgt(t,e,n,r){const i=hw.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),Z9.set(s.x,s.y),n.setFromCamera(Z9,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function Igt(t,e){if(e instanceof Ol)return e.zoom;if(e instanceof Sr){const n=hw.setFromMatrixPosition(t.matrixWorld),r=k5.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Dgt(t,e,n){if(e instanceof Sr||e instanceof Ol){const r=hw.setFromMatrixPosition(t.matrixWorld),i=k5.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const hL=t=>Math.abs(t)<1e-10?0:t;function fhe(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=hL(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const jgt=(t=>e=>fhe(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Lgt=(t=>(e,n)=>fhe(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function Fgt(t){return t&&typeof t=="object"&&"current"in t}const I5=A.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:f=!1,occlude:d,onOcclude:h,castShadow:g,receiveShadow:v,material:x,geometry:m,zIndexRange:p=[16777271,0],calculatePosition:y=Rgt,as:_="div",wrapperClass:b,pointerEvents:S="auto",...C},M)=>{const{gl:T,camera:P,scene:N,size:k,raycaster:D,events:j,viewport:F}=hc(),[z]=A.useState(()=>document.createElement(_)),U=A.useRef(),H=A.useRef(null),R=A.useRef(0),I=A.useRef([0,0]),B=A.useRef(null),W=A.useRef(null),G=(a==null?void 0:a.current)||j.connected||T.domElement.parentNode,X=A.useRef(null),ne=A.useRef(!1),ae=A.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&Fgt(d[0]),[d]);A.useLayoutEffect(()=>{const ee=T.domElement;d&&d==="blending"?(ee.style.zIndex=`${Math.floor(p[0]/2)}`,ee.style.position="absolute",ee.style.pointerEvents="none"):(ee.style.zIndex=null,ee.style.position=null,ee.style.pointerEvents=null)},[d]),A.useLayoutEffect(()=>{if(H.current){const ee=U.current=l3(z);if(N.updateMatrixWorld(),f)z.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ue=y(H.current,P,k);z.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ue[0]}px,${ue[1]}px,0);transform-origin:0 0;`}return G&&(i?G.prepend(z):G.appendChild(z)),()=>{G&&G.removeChild(z),ee.unmount()}}},[G,f]),A.useLayoutEffect(()=>{b&&(z.className=b)},[b]);const se=A.useMemo(()=>f?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...n},[n,s,o,k,f]),$=A.useMemo(()=>({position:"absolute",pointerEvents:S}),[S]);A.useLayoutEffect(()=>{if(ne.current=!1,f){var ee;(ee=U.current)==null||ee.render(A.createElement("div",{ref:B,style:se},A.createElement("div",{ref:W,style:$},A.createElement("div",{ref:M,className:r,style:n,children:t}))))}else{var ue;(ue=U.current)==null||ue.render(A.createElement("div",{ref:M,style:se,className:r,children:t}))}});const Y=A.useRef(!0);f2(ee=>{if(H.current){P.updateMatrixWorld(),H.current.updateWorldMatrix(!0,!1);const ue=f?I.current:y(H.current,P,k);if(f||Math.abs(R.current-P.zoom)>e||Math.abs(I.current[0]-ue[0])>e||Math.abs(I.current[1]-ue[1])>e){const J=Ogt(H.current,P);let K=!1;ae&&(Array.isArray(d)?K=d.map(pe=>pe.current):d!=="blending"&&(K=[N]));const re=Y.current;if(K){const pe=kgt(H.current,P,D,K);Y.current=pe&&!J}else Y.current=!J;re!==Y.current&&(h?h(!Y.current):z.style.display=Y.current?"block":"none");const fe=Math.floor(p[0]/2),me=d?ae?[p[0],fe]:[fe-1,0]:p;if(z.style.zIndex=`${Dgt(H.current,P,me)}`,f){const[pe,Ae]=[k.width/2,k.height/2],Ce=P.projectionMatrix.elements[5]*Ae,{isOrthographicCamera:De,top:ot,left:nt,bottom:ie,right:Z}=P,ve=jgt(P.matrixWorldInverse),Se=De?`scale(${Ce})translate(${hL(-(Z+nt)/2)}px,${hL((ot+ie)/2)}px)`:`translateZ(${Ce}px)`;let Ie=H.current.matrixWorld;c&&(Ie=P.matrixWorldInverse.clone().transpose().copyPosition(Ie).scale(H.current.scale),Ie.elements[3]=Ie.elements[7]=Ie.elements[11]=0,Ie.elements[15]=1),z.style.width=k.width+"px",z.style.height=k.height+"px",z.style.perspective=De?"":`${Ce}px`,B.current&&W.current&&(B.current.style.transform=`${Se}${ve}translate(${pe}px,${Ae}px)`,W.current.style.transform=Lgt(Ie,1/((l||10)/400)))}else{const pe=l===void 0?1:Igt(H.current,P)*l;z.style.transform=`translate3d(${ue[0]}px,${ue[1]}px,0) scale(${pe})`}I.current=ue,R.current=P.zoom}}if(!ae&&X.current&&!ne.current)if(f){if(B.current){const ue=B.current.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const{isOrthographicCamera:J}=P;if(J||m)C.scale&&(Array.isArray(C.scale)?C.scale instanceof le?X.current.scale.copy(C.scale.clone().divideScalar(1)):X.current.scale.set(1/C.scale[0],1/C.scale[1],1/C.scale[2]):X.current.scale.setScalar(1/C.scale));else{const K=(l||10)/400,re=ue.clientWidth*K,fe=ue.clientHeight*K;X.current.scale.set(re,fe,1)}ne.current=!0}}}else{const ue=z.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const J=1/F.factor,K=ue.clientWidth*J,re=ue.clientHeight*J;X.current.scale.set(K,re,1),ne.current=!0}X.current.lookAt(ee.camera.position)}});const Q=A.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return A.createElement("group",Rh({},C,{ref:H}),d&&!ae&&A.createElement("mesh",{castShadow:g,receiveShadow:v,ref:X},m||A.createElement("planeGeometry",null),x||A.createElement("shaderMaterial",{side:Pa,vertexShader:Q.vertexShader,fragmentShader:Q.fragmentShader})))});var Bgt=Object.defineProperty,zgt=(t,e,n)=>e in t?Bgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ugt=(t,e,n)=>(zgt(t,e+"",n),n);class $gt{constructor(){Ugt(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var Hgt=Object.defineProperty,Vgt=(t,e,n)=>e in t?Hgt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bt=(t,e,n)=>(Vgt(t,typeof e!="symbol"?e+"":e,n),n);const KS=new np,Q9=new hl,Wgt=Math.cos(70*(Math.PI/180)),J9=(t,e)=>(t%e+e)%e;let Ggt=class extends $gt{constructor(e,n){super(),Bt(this,"object"),Bt(this,"domElement"),Bt(this,"enabled",!0),Bt(this,"target",new le),Bt(this,"minDistance",0),Bt(this,"maxDistance",1/0),Bt(this,"minZoom",0),Bt(this,"maxZoom",1/0),Bt(this,"minPolarAngle",0),Bt(this,"maxPolarAngle",Math.PI),Bt(this,"minAzimuthAngle",-1/0),Bt(this,"maxAzimuthAngle",1/0),Bt(this,"enableDamping",!1),Bt(this,"dampingFactor",.05),Bt(this,"enableZoom",!0),Bt(this,"zoomSpeed",1),Bt(this,"enableRotate",!0),Bt(this,"rotateSpeed",1),Bt(this,"enablePan",!0),Bt(this,"panSpeed",1),Bt(this,"screenSpacePanning",!0),Bt(this,"keyPanSpeed",7),Bt(this,"zoomToCursor",!1),Bt(this,"autoRotate",!1),Bt(this,"autoRotateSpeed",2),Bt(this,"reverseOrbit",!1),Bt(this,"reverseHorizontalOrbit",!1),Bt(this,"reverseVerticalOrbit",!1),Bt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Bt(this,"mouseButtons",{LEFT:Tf.ROTATE,MIDDLE:Tf.DOLLY,RIGHT:Tf.PAN}),Bt(this,"touches",{ONE:Pf.ROTATE,TWO:Pf.DOLLY_PAN}),Bt(this,"target0"),Bt(this,"position0"),Bt(this,"zoom0"),Bt(this,"_domElementKeyEvents",null),Bt(this,"getPolarAngle"),Bt(this,"getAzimuthalAngle"),Bt(this,"setPolarAngle"),Bt(this,"setAzimuthalAngle"),Bt(this,"getDistance"),Bt(this,"getZoomScale"),Bt(this,"listenToKeyEvents"),Bt(this,"stopListenToKeyEvents"),Bt(this,"saveState"),Bt(this,"reset"),Bt(this,"update"),Bt(this,"connect"),Bt(this,"dispose"),Bt(this,"dollyIn"),Bt(this,"dollyOut"),Bt(this,"getScale"),Bt(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=he=>{let Ee=J9(he,2*Math.PI),Qe=f.phi;Qe<0&&(Qe+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ce=Math.abs(Ee-Qe);2*Math.PI-ce<ce&&(Ee<Qe?Ee+=2*Math.PI:Qe+=2*Math.PI),d.phi=Ee-Qe,r.update()},this.setAzimuthalAngle=he=>{let Ee=J9(he,2*Math.PI),Qe=f.theta;Qe<0&&(Qe+=2*Math.PI),Ee<0&&(Ee+=2*Math.PI);let ce=Math.abs(Ee-Qe);2*Math.PI-ce<ce&&(Ee<Qe?Ee+=2*Math.PI:Qe+=2*Math.PI),d.theta=Ee-Qe,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",Me),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Me),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const he=new le,Ee=new le(0,1,0),Qe=new Ki().setFromUnitVectors(e.up,Ee),ce=Qe.clone().invert(),Ne=new le,ze=new Ki,We=2*Math.PI;return function(){const Le=r.object.position;Qe.setFromUnitVectors(e.up,Ee),ce.copy(Qe).invert(),he.copy(Le).sub(r.target),he.applyQuaternion(Qe),f.setFromVector3(he),r.autoRotate&&l===a.NONE&&F(D()),r.enableDamping?(f.theta+=d.theta*r.dampingFactor,f.phi+=d.phi*r.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let Je=r.minAzimuthAngle,gt=r.maxAzimuthAngle;isFinite(Je)&&isFinite(gt)&&(Je<-Math.PI?Je+=We:Je>Math.PI&&(Je-=We),gt<-Math.PI?gt+=We:gt>Math.PI&&(gt-=We),Je<=gt?f.theta=Math.max(Je,Math.min(gt,f.theta)):f.theta=f.theta>(Je+gt)/2?Math.max(Je,f.theta):Math.min(gt,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&P||r.object.isOrthographicCamera?f.radius=X(f.radius):f.radius=X(f.radius*h),he.setFromSpherical(f),he.applyQuaternion(ce),Le.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),g.set(0,0,0));let $t=!1;if(r.zoomToCursor&&P){let Gt=null;if(r.object instanceof Sr&&r.object.isPerspectiveCamera){const Bn=he.length();Gt=X(Bn*h);const In=Bn-Gt;r.object.position.addScaledVector(M,In),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Bn=new le(T.x,T.y,0);Bn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),$t=!0;const In=new le(T.x,T.y,0);In.unproject(r.object),r.object.position.sub(In).add(Bn),r.object.updateMatrixWorld(),Gt=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Gt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Gt).add(r.object.position):(KS.origin.copy(r.object.position),KS.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(KS.direction))<Wgt?e.lookAt(r.target):(Q9.setFromNormalAndCoplanarPoint(r.object.up,r.target),KS.intersectPlane(Q9,r.target))))}else r.object instanceof Ol&&r.object.isOrthographicCamera&&($t=h!==1,$t&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,P=!1,$t||Ne.distanceToSquared(r.object.position)>c||8*(1-ze.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ne.copy(r.object.position),ze.copy(r.object.quaternion),$t=!1,!0):!1}})(),this.connect=he=>{r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",lt),r.domElement.addEventListener("pointerdown",nt),r.domElement.addEventListener("pointercancel",Z),r.domElement.addEventListener("wheel",Ie)},this.dispose=()=>{var he,Ee,Qe,ce,Ne,ze;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",lt),(Ee=r.domElement)==null||Ee.removeEventListener("pointerdown",nt),(Qe=r.domElement)==null||Qe.removeEventListener("pointercancel",Z),(ce=r.domElement)==null||ce.removeEventListener("wheel",Ie),(Ne=r.domElement)==null||Ne.ownerDocument.removeEventListener("pointermove",ie),(ze=r.domElement)==null||ze.ownerDocument.removeEventListener("pointerup",Z),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Me)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,f=new aL,d=new aL;let h=1;const g=new le,v=new $e,x=new $e,m=new $e,p=new $e,y=new $e,_=new $e,b=new $e,S=new $e,C=new $e,M=new le,T=new $e;let P=!1;const N=[],k={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function F(he){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=he:d.theta-=he}function z(he){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=he:d.phi-=he}const U=(()=>{const he=new le;return function(Qe,ce){he.setFromMatrixColumn(ce,0),he.multiplyScalar(-Qe),g.add(he)}})(),H=(()=>{const he=new le;return function(Qe,ce){r.screenSpacePanning===!0?he.setFromMatrixColumn(ce,1):(he.setFromMatrixColumn(ce,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(Qe),g.add(he)}})(),R=(()=>{const he=new le;return function(Qe,ce){const Ne=r.domElement;if(Ne&&r.object instanceof Sr&&r.object.isPerspectiveCamera){const ze=r.object.position;he.copy(ze).sub(r.target);let We=he.length();We*=Math.tan(r.object.fov/2*Math.PI/180),U(2*Qe*We/Ne.clientHeight,r.object.matrix),H(2*ce*We/Ne.clientHeight,r.object.matrix)}else Ne&&r.object instanceof Ol&&r.object.isOrthographicCamera?(U(Qe*(r.object.right-r.object.left)/r.object.zoom/Ne.clientWidth,r.object.matrix),H(ce*(r.object.top-r.object.bottom)/r.object.zoom/Ne.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function I(he){r.object instanceof Sr&&r.object.isPerspectiveCamera||r.object instanceof Ol&&r.object.isOrthographicCamera?h=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function B(he){I(h/he)}function W(he){I(h*he)}function G(he){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Ee=r.domElement.getBoundingClientRect(),Qe=he.clientX-Ee.left,ce=he.clientY-Ee.top,Ne=Ee.width,ze=Ee.height;T.x=Qe/Ne*2-1,T.y=-(ce/ze)*2+1,M.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function X(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function ne(he){v.set(he.clientX,he.clientY)}function ae(he){G(he),b.set(he.clientX,he.clientY)}function se(he){p.set(he.clientX,he.clientY)}function $(he){x.set(he.clientX,he.clientY),m.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(F(2*Math.PI*m.x/Ee.clientHeight),z(2*Math.PI*m.y/Ee.clientHeight)),v.copy(x),r.update()}function Y(he){S.set(he.clientX,he.clientY),C.subVectors(S,b),C.y>0?B(j()):C.y<0&&W(j()),b.copy(S),r.update()}function Q(he){y.set(he.clientX,he.clientY),_.subVectors(y,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(y),r.update()}function ee(he){G(he),he.deltaY<0?W(j()):he.deltaY>0&&B(j()),r.update()}function ue(he){let Ee=!1;switch(he.code){case r.keys.UP:R(0,r.keyPanSpeed),Ee=!0;break;case r.keys.BOTTOM:R(0,-r.keyPanSpeed),Ee=!0;break;case r.keys.LEFT:R(r.keyPanSpeed,0),Ee=!0;break;case r.keys.RIGHT:R(-r.keyPanSpeed,0),Ee=!0;break}Ee&&(he.preventDefault(),r.update())}function J(){if(N.length==1)v.set(N[0].pageX,N[0].pageY);else{const he=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);v.set(he,Ee)}}function K(){if(N.length==1)p.set(N[0].pageX,N[0].pageY);else{const he=.5*(N[0].pageX+N[1].pageX),Ee=.5*(N[0].pageY+N[1].pageY);p.set(he,Ee)}}function re(){const he=N[0].pageX-N[1].pageX,Ee=N[0].pageY-N[1].pageY,Qe=Math.sqrt(he*he+Ee*Ee);b.set(0,Qe)}function fe(){r.enableZoom&&re(),r.enablePan&&K()}function me(){r.enableZoom&&re(),r.enableRotate&&J()}function pe(he){if(N.length==1)x.set(he.pageX,he.pageY);else{const Qe=Mt(he),ce=.5*(he.pageX+Qe.x),Ne=.5*(he.pageY+Qe.y);x.set(ce,Ne)}m.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Ee=r.domElement;Ee&&(F(2*Math.PI*m.x/Ee.clientHeight),z(2*Math.PI*m.y/Ee.clientHeight)),v.copy(x)}function Ae(he){if(N.length==1)y.set(he.pageX,he.pageY);else{const Ee=Mt(he),Qe=.5*(he.pageX+Ee.x),ce=.5*(he.pageY+Ee.y);y.set(Qe,ce)}_.subVectors(y,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(y)}function Ce(he){const Ee=Mt(he),Qe=he.pageX-Ee.x,ce=he.pageY-Ee.y,Ne=Math.sqrt(Qe*Qe+ce*ce);S.set(0,Ne),C.set(0,Math.pow(S.y/b.y,r.zoomSpeed)),B(C.y),b.copy(S)}function De(he){r.enableZoom&&Ce(he),r.enablePan&&Ae(he)}function ot(he){r.enableZoom&&Ce(he),r.enableRotate&&pe(he)}function nt(he){var Ee,Qe;r.enabled!==!1&&(N.length===0&&((Ee=r.domElement)==null||Ee.ownerDocument.addEventListener("pointermove",ie),(Qe=r.domElement)==null||Qe.ownerDocument.addEventListener("pointerup",Z)),qe(he),he.pointerType==="touch"?ct(he):ve(he))}function ie(he){r.enabled!==!1&&(he.pointerType==="touch"?Ve(he):Se(he))}function Z(he){var Ee,Qe,ce;He(he),N.length===0&&((Ee=r.domElement)==null||Ee.releasePointerCapture(he.pointerId),(Qe=r.domElement)==null||Qe.ownerDocument.removeEventListener("pointermove",ie),(ce=r.domElement)==null||ce.ownerDocument.removeEventListener("pointerup",Z)),r.dispatchEvent(o),l=a.NONE}function ve(he){let Ee;switch(he.button){case 0:Ee=r.mouseButtons.LEFT;break;case 1:Ee=r.mouseButtons.MIDDLE;break;case 2:Ee=r.mouseButtons.RIGHT;break;default:Ee=-1}switch(Ee){case Tf.DOLLY:if(r.enableZoom===!1)return;ae(he),l=a.DOLLY;break;case Tf.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;se(he),l=a.PAN}else{if(r.enableRotate===!1)return;ne(he),l=a.ROTATE}break;case Tf.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;ne(he),l=a.ROTATE}else{if(r.enablePan===!1)return;se(he),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Se(he){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;$(he);break;case a.DOLLY:if(r.enableZoom===!1)return;Y(he);break;case a.PAN:if(r.enablePan===!1)return;Q(he);break}}function Ie(he){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(he.preventDefault(),r.dispatchEvent(s),ee(he),r.dispatchEvent(o))}function Me(he){r.enabled===!1||r.enablePan===!1||ue(he)}function ct(he){switch(at(he),N.length){case 1:switch(r.touches.ONE){case Pf.ROTATE:if(r.enableRotate===!1)return;J(),l=a.TOUCH_ROTATE;break;case Pf.PAN:if(r.enablePan===!1)return;K(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Pf.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;fe(),l=a.TOUCH_DOLLY_PAN;break;case Pf.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;me(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ve(he){switch(at(he),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;pe(he),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(he),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;De(he),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ot(he),r.update();break;default:l=a.NONE}}function lt(he){r.enabled!==!1&&he.preventDefault()}function qe(he){N.push(he)}function He(he){delete k[he.pointerId];for(let Ee=0;Ee<N.length;Ee++)if(N[Ee].pointerId==he.pointerId){N.splice(Ee,1);return}}function at(he){let Ee=k[he.pointerId];Ee===void 0&&(Ee=new $e,k[he.pointerId]=Ee),Ee.set(he.pageX,he.pageY)}function Mt(he){const Ee=he.pointerId===N[0].pointerId?N[1]:N[0];return k[Ee.pointerId]}this.dollyIn=(he=j())=>{W(he),r.update()},this.dollyOut=(he=j())=>{B(he),r.update()},this.getScale=()=>h,this.setScale=he=>{I(he),r.update()},this.getZoomScale=()=>j(),n!==void 0&&this.connect(n),this.update()}};function qgt(t,e,n,r){const i=class extends Jo{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,f])=>{const d=r5.clone({[c]:{value:f}});return{...l,...d}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return i.key=Ode.generateUUID(),i}const Xgt=()=>parseInt(tw.replace(/\D+/g,"")),Kgt=Xgt(),hhe=A.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},f)=>{const d=hc(C=>C.invalidate),h=hc(C=>C.camera),g=hc(C=>C.gl),v=hc(C=>C.events),x=hc(C=>C.setEvents),m=hc(C=>C.set),p=hc(C=>C.get),y=hc(C=>C.performance),_=e||h,b=r||v.connected||g.domElement,S=A.useMemo(()=>new Ggt(_),[_]);return f2(()=>{S.enabled&&S.update()},-1),A.useEffect(()=>(s&&S.connect(s===!0?b:s),S.connect(b),()=>void S.dispose()),[s,b,n,S,d]),A.useEffect(()=>{const C=P=>{d(),n&&y.regress(),o&&o(P)},M=P=>{a&&a(P)},T=P=>{l&&l(P)};return S.addEventListener("change",C),S.addEventListener("start",M),S.addEventListener("end",T),()=>{S.removeEventListener("start",M),S.removeEventListener("end",T),S.removeEventListener("change",C)}},[o,a,l,S,d,x]),A.useEffect(()=>{if(t){const C=p().controls;return m({controls:S}),()=>m({controls:C})}},[t,S]),A.createElement("primitive",Rh({ref:f,object:S,enableDamping:i},c))}),Ygt=qgt({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new pt,sectionColor:new pt,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new le,worldPlanePosition:new le},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${Kgt>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),Zgt=A.forwardRef(({args:t,cellColor:e="#000000",sectionColor:n="#2080ff",cellSize:r=.5,sectionSize:i=1,followCamera:s=!1,infiniteGrid:o=!1,fadeDistance:a=100,fadeStrength:l=1,fadeFrom:c=1,cellThickness:f=.5,sectionThickness:d=1,side:h=Xi,...g},v)=>{Xfe({GridMaterial:Ygt});const x=A.useRef(null);A.useImperativeHandle(v,()=>x.current,[]);const m=new hl,p=new le(0,1,0),y=new le(0,0,0);f2(S=>{m.setFromNormalAndCoplanarPoint(p,y).applyMatrix4(x.current.matrixWorld);const C=x.current.material,M=C.uniforms.worldCamProjPosition,T=C.uniforms.worldPlanePosition;m.projectPoint(S.camera.position,M.value),T.value.set(0,0,0).applyMatrix4(x.current.matrixWorld)});const _={cellSize:r,sectionSize:i,cellColor:e,sectionColor:n,cellThickness:f,sectionThickness:d},b={fadeDistance:a,fadeStrength:l,fadeFrom:c,infiniteGrid:o,followCamera:s};return A.createElement("mesh",Rh({ref:x,frustumCulled:!1},g),A.createElement("gridMaterial",Rh({transparent:!0,"extensions-derivatives":!0,side:h},_,b)),A.createElement("planeGeometry",{args:t}))});function phe(t,e){const n=t+"Geometry";return A.forwardRef(({args:r,children:i,...s},o)=>{const a=A.useRef(null);return A.useImperativeHandle(o,()=>a.current),A.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),A.createElement("mesh",Rh({ref:a},s),A.createElement(n,{attach:"geometry",args:r}),i)})}const Qgt=phe("box"),mhe=phe("sphere");function Jgt(){return u.jsxs("mesh",{children:[u.jsx("boxGeometry",{args:[2,2,2]}),u.jsx("meshStandardMaterial",{color:"hsl(var(--primary))"})]})}function evt(){const[t,e]=A.useState("1"),{data:n}=yn({queryKey:["/api/devices"],queryFn:async()=>{const h=await fetch("/api/devices");if(!h.ok)throw new Error("Network response was not ok");return h.json()}}),{toast:r}=Ud(),i=bi(),s=Lt({mutationFn:async h=>{const g=await fetch(`/api/devices/${h}/connect`,{method:"POST"});if(!g.ok)throw new Error("Failed to connect to device");return g.json()},onSuccess:()=>{r({title:"Device Connected",description:"Successfully connected to device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:h=>{r({title:"Error",description:`Failed to connect: ${h.message}`,variant:"destructive"})}}),o=Lt({mutationFn:async h=>{const g=await fetch(`/api/devices/${h}/disconnect`,{method:"POST"});if(!g.ok)throw new Error("Failed to disconnect from device");return g.json()},onSuccess:()=>{r({title:"Device Disconnected",description:"Successfully disconnected from device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:h=>{r({title:"Error",description:`Failed to disconnect: ${h.message}`,variant:"destructive"})}});Lt({mutationFn:async({deviceId:h,command:g})=>{const v=await fetch(`/api/devices/${h}/command`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:g})});if(!v.ok)throw new Error("Failed to send command");return v.json()},onSuccess:()=>{r({title:"Command Sent",description:"Command successfully sent to device."})},onError:h=>{r({title:"Error",description:`Failed to send command: ${h.message}`,variant:"destructive"})}});const a=Lt({mutationFn:async({deviceId:h,file:g})=>{const v=new FormData;v.append("file",g);const x=await fetch(`/api/devices/${h}/upload`,{method:"POST",body:v});if(!x.ok)throw new Error("Failed to upload file");return x.json()},onSuccess:()=>{r({title:"File Uploaded",description:"File successfully uploaded to device."})},onError:h=>{r({title:"Error",description:`Failed to upload file: ${h.message}`,variant:"destructive"})}}),[l,c]=A.useState({}),[f,d]=A.useState([]);return A.useEffect(()=>{if(!t)return;const h=window.location.protocol==="https:"?"wss:":"ws:",g=localStorage.getItem("access_token"),v=new WebSocket(`${h}//${window.location.host}/ws/telemetry/${t}?token=${g}`);return v.onopen=()=>{console.log(`Telemetry WebSocket connected for device ${t}`),d(x=>[...x,`[${new Date().toLocaleTimeString()}] Connected to telemetry stream.`])},v.onmessage=x=>{const m=JSON.parse(x.data);m.type==="telemetry"?c(m.payload):m.type==="log"&&d(p=>[...p,`[${new Date().toLocaleTimeString()}] ${m.payload}`])},v.onclose=()=>{console.log(`Telemetry WebSocket disconnected for device ${t}`),d(x=>[...x,`[${new Date().toLocaleTimeString()}] Disconnected from telemetry stream.`])},v.onerror=x=>{console.error(`Telemetry WebSocket error for device ${t}:`,x),d(m=>[...m,`[${new Date().toLocaleTimeString()}] Telemetry stream error.`])},()=>{v.close(),c({}),d([])}},[t]),u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Da,{className:"h-5 w-5 text-primary"}),"Device Control Center"]}),u.jsx(Ut,{children:"Monitor and control connected hardware devices"})]}),u.jsx(et,{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n==null?void 0:n.map(h=>u.jsxs(Ge,{className:`cursor-pointer hover-elevate ${t===h.id?"border-primary":""}`,onClick:()=>e(h.id),"data-testid":`card-device-${h.id}`,children:[u.jsxs(Ye,{className:"pb-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Ze,{className:"text-sm",children:h.name}),u.jsx(ig,{status:h.status,size:"sm"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(fn,{variant:"outline",className:"text-xs",children:h.type.toUpperCase()}),h.port&&u.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:h.port})]})]}),u.jsx(et,{className:"flex justify-end gap-2",children:h.status==="connected"?u.jsx(ke,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),o.mutate(h.id)},disabled:o.isPending,children:o.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):"Disconnect"}):u.jsx(ke,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),s.mutate(h.id)},disabled:s.isPending,children:s.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):"Connect"})}),h.lastSeen&&u.jsx(et,{children:u.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last seen: ",new Date(h.lastSeen).toLocaleString()]})})]},h.id))})})]}),u.jsxs(Gl,{defaultValue:"3d",children:[u.jsxs(Ka,{className:"grid w-full grid-cols-3",children:[u.jsxs(er,{value:"3d","data-testid":"tab-3d-viewer",children:[u.jsx(kx,{className:"h-4 w-4 mr-2"}),"3D Viewer"]}),u.jsxs(er,{value:"telemetry","data-testid":"tab-telemetry",children:[u.jsx(zr,{className:"h-4 w-4 mr-2"}),"Telemetry"]}),u.jsxs(er,{value:"upload","data-testid":"tab-upload",children:[u.jsx(qm,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),u.jsx(pn,{value:"3d",className:"mt-4",children:u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"3D Model Viewer"}),u.jsx(Ut,{children:"Preview CAD/CAM designs and G-code toolpaths"})]}),u.jsxs(et,{children:[u.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border overflow-hidden",children:u.jsx(dhe,{camera:{position:[5,5,5]},children:u.jsxs(A.Suspense,{fallback:null,children:[u.jsx("ambientLight",{intensity:.5}),u.jsx("directionalLight",{position:[10,10,5],intensity:1}),u.jsx(Jgt,{}),u.jsx(Zgt,{args:[10,10],cellColor:"hsl(var(--muted-foreground))",sectionColor:"hsl(var(--primary))"}),u.jsx(hhe,{enablePan:!0,enableZoom:!0,enableRotate:!0})]})})}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(ke,{variant:"outline",size:"sm",children:"Load STL"}),u.jsx(ke,{variant:"outline",size:"sm",children:"Load OBJ"}),u.jsx(ke,{variant:"outline",size:"sm",children:"Load G-Code"}),u.jsx(ke,{variant:"outline",size:"sm",className:"ml-auto",children:"Reset View"})]})]})]})}),u.jsx(pn,{value:"telemetry",className:"mt-4",children:u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Live Telemetry"}),u.jsx(Ut,{children:"Real-time device metrics and sensor data"})]}),u.jsxs(et,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Temperature"}),u.jsx("div",{className:"text-2xl font-bold mt-1",children:l.temperature?`${l.temperature}C`:"N/A"})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Speed"}),u.jsx("div",{className:"text-2xl font-bold mt-1",children:l.speed?`${l.speed} RPM`:"N/A"})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Position X"}),u.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionX!==void 0?l.positionX:"N/A"})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Position Y"}),u.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionY!==void 0?l.positionY:"N/A"})]})]}),u.jsx("div",{className:"mt-4 p-4 bg-background/50 rounded-lg font-mono text-xs space-y-1 h-48 overflow-y-auto",children:f.map((h,g)=>u.jsx("div",{children:h},g))})]})]})}),u.jsx(pn,{value:"upload",className:"mt-4",children:u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Upload to Device"}),u.jsx(Ut,{children:"Upload G-code or firmware to connected device"})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:h=>{h.target.files&&h.target.files[0]&&t&&a.mutate({deviceId:t,file:h.target.files[0]})}}),u.jsxs("label",{htmlFor:"file-upload",className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer block",children:[u.jsx(qm,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Drop G-code or firmware file here, or click to select"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports .gcode, .nc, .hex, .bin formats"})]}),u.jsxs(ke,{className:"w-full","data-testid":"button-upload-to-device",onClick:()=>{const h=document.getElementById("file-upload");h&&h.click()},disabled:!t||a.isPending,children:[a.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qm,{className:"h-4 w-4 mr-2"}),"Upload to Device"]})]})]})})]})]})}const ghe=[{id:"1",name:"Workflow: Data Pipeline",type:"workflow",status:"running",progress:67,createdAt:new Date(Date.now()-18e5)},{id:"2",name:"Model Training: GPT Fine-tune",type:"training",status:"pending",progress:0,createdAt:new Date(Date.now()-3e5)},{id:"3",name:"Data Processing: Cleanup",type:"data",status:"completed",progress:100,createdAt:new Date(Date.now()-72e5)},{id:"4",name:"Device Sync: CNC-01",type:"device",status:"running",progress:45,createdAt:new Date(Date.now()-9e5)}],tvt=[{id:"1",name:"GPT-4",provider:"openai",type:"chat",isActive:!0,reasoning:!0,role:"conversation"},{id:"2",name:"Claude-3.5-Sonnet",provider:"anthropic",type:"chat",isActive:!0,reasoning:!0,role:"reasoning"},{id:"3",name:"Codestral",provider:"mistral",type:"code",isActive:!0,reasoning:!1,role:"code_generation"},{id:"4",name:"Gemini-Pro",provider:"google",type:"chat",isActive:!0,reasoning:!1,role:"summarization"},{id:"5",name:"Llama-3-70B",provider:"meta",type:"chat",isActive:!1,reasoning:!1,role:"general"},{id:"6",name:"Mixtral-8x7B",provider:"mistral",type:"chat",isActive:!0,reasoning:!1,role:"intent_detection"},{id:"7",name:"Command-R",provider:"cohere",type:"chat",isActive:!0,reasoning:!1,role:"shell_conversion"}],vhe={tokenUsage:[{date:"2024-01-01",tokens:125e3},{date:"2024-01-02",tokens:142e3},{date:"2024-01-03",tokens:138e3},{date:"2024-01-04",tokens:156e3},{date:"2024-01-05",tokens:149e3},{date:"2024-01-06",tokens:167e3},{date:"2024-01-07",tokens:171e3}],modelUsage:[{model:"GPT-4",count:1543},{model:"Claude-3.5",count:892},{model:"Gemini-Pro",count:654},{model:"Codestral",count:421},{model:"Mixtral",count:234}],systemMetrics:{cpu:[65,72,68,75,71,69,73,70,68,74],memory:[78,81,79,82,80,83,81,79,82,80],network:[42,38,45,41,39,43,40,44,42,38]}};function nvt(){const{data:t}=yn({queryKey:["/api/telemetry"],initialData:vhe}),{data:e}=yn({queryKey:["/api/jobs"],initialData:ghe}),n=t.systemMetrics.cpu.map((i,s)=>({time:s,value:i})),r=t.systemMetrics.memory.map((i,s)=>({time:s,value:i}));return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsx(Ge,{children:u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(_h,{className:"h-5 w-5 text-primary"}),"Resource Monitor"]}),u.jsx(Ut,{children:"System resources and job activity monitoring"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(Ge,{children:[u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Ze,{className:"text-sm text-muted-foreground",children:"CPU Usage"}),u.jsx(Da,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsxs(et,{children:[u.jsxs("div",{className:"text-3xl font-bold",children:[n[n.length-1].value,"%"]}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Avg: ",Math.round(n.reduce((i,s)=>i+s.value,0)/n.length),"%"]})]})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Ze,{className:"text-sm text-muted-foreground",children:"Memory Usage"}),u.jsx(Fye,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsxs(et,{children:[u.jsxs("div",{className:"text-3xl font-bold",children:[r[r.length-1].value,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"12.8 GB / 16 GB"})]})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Ze,{className:"text-sm text-muted-foreground",children:"Active Jobs"}),u.jsx(zr,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsxs(et,{children:[u.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.filter(i=>i.status==="running").length}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e==null?void 0:e.filter(i=>i.status==="pending").length," pending"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"CPU Usage"}),u.jsx(Ut,{children:"Real-time CPU utilization"})]}),u.jsx(et,{children:u.jsx(gl,{width:"100%",height:200,children:u.jsxs(Gte,{data:n,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorCpu",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),u.jsx(td,{strokeDasharray:"3 3",opacity:.1}),u.jsx(oo,{dataKey:"time",tick:{fontSize:12}}),u.jsx(ao,{domain:[0,100],tick:{fontSize:12}}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(ru,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",fillOpacity:1,fill:"url(#colorCpu)"})]})})})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Memory Usage"}),u.jsx(Ut,{children:"RAM utilization over time"})]}),u.jsx(et,{children:u.jsx(gl,{width:"100%",height:200,children:u.jsxs(tx,{data:r,children:[u.jsx(td,{strokeDasharray:"3 3",opacity:.1}),u.jsx(oo,{dataKey:"time",tick:{fontSize:12}}),u.jsx(ao,{domain:[0,100],tick:{fontSize:12}}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(Vo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Job Activity"}),u.jsx(Ut,{children:"Current running and pending jobs"})]}),u.jsx(et,{className:"space-y-3",children:e==null?void 0:e.map(i=>u.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:i.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(fn,{variant:i.status==="running"?"default":i.status==="completed"?"secondary":"outline",className:"text-xs",children:i.status}),u.jsx("span",{className:"text-xs text-muted-foreground",children:i.type})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-sm font-mono font-medium",children:[i.progress,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(i.createdAt).toLocaleTimeString()})]})]},i.id))})]})]})}function rvt({id:t,offset:e,color:n,speed:r}){const i=A.useRef(null);return f2(({clock:s})=>{const o=s.getElapsedTime()*r+e,a=5*Math.cos(o),l=5*Math.sin(o);i.current.position.set(a,0,l)}),u.jsxs(mhe,{ref:i,args:[.3,32,32],children:[u.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.5}),u.jsx(I5,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function ivt({id:t,position:e,color:n}){return u.jsxs(Qgt,{position:e,args:[.5,.5,.5],children:[u.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.2}),u.jsx(I5,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function svt(){const t=A.useMemo(()=>[{id:"Agent-001",offset:0,color:"#33a0e8",speed:.5},{id:"Agent-002",offset:Math.PI/2,color:"#33e885",speed:.4},{id:"Agent-003",offset:Math.PI,color:"#e8335a",speed:.6},{id:"Agent-004",offset:3*Math.PI/2,color:"#e8e233",speed:.3}],[]),e=A.useMemo(()=>[{id:"Device-A",position:[3,2,-3],color:"#888"},{id:"Device-B",position:[-3,-2,3],color:"#888"},{id:"Device-C",position:[4,-1,4],color:"#888"}],[]);return u.jsxs(u.Fragment,{children:[u.jsx("ambientLight",{intensity:.2}),u.jsx("pointLight",{position:[10,10,10],intensity:1}),u.jsxs(mhe,{args:[1,32,32],position:[0,0,0],children:[u.jsx("meshStandardMaterial",{color:"#fff",emissive:"#fff",emissiveIntensity:.8,roughness:.2,metalness:.8}),u.jsx(I5,{distanceFactor:10,position:[0,1.3,0],className:"text-white text-sm whitespace-nowrap",children:"MYNTRIX Core"})]}),t.map(n=>u.jsx(rvt,{...n},n.id)),e.map(n=>u.jsx(ivt,{...n},n.id)),u.jsx(hhe,{enablePan:!0,enableZoom:!0,enableRotate:!0}),u.jsx("gridHelper",{args:[20,20,"#555","#222"]})]})}function ovt(){return u.jsx("div",{className:"w-full h-[calc(100vh-200px)] bg-gray-900 rounded-lg overflow-hidden",children:u.jsx(dhe,{camera:{position:[0,5,12],fov:60},children:u.jsx(svt,{})})})}const avt=[{value:"agents",label:"Agent Manager",icon:El},{value:"scheduler",label:"Task Scheduler",icon:vY},{value:"devices",label:"Device Control",icon:Da},{value:"monitor",label:"Resource Monitor",icon:_h},{value:"3d-viz",label:"3D Visualization",icon:_h}];function lvt(){const t=VA(),[,e]=Ni(),r=new URLSearchParams(t).get("tab")||"agents",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/myntrix?tab=${a}`)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"border-b bg-card px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"MYNTRIX Core"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"AI Core & Hardware Integration Platform"})]}),u.jsx(fn,{variant:"outline",children:"v1.8.2"})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsxs(Gl,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[u.jsx("div",{className:"border-b bg-card/50 px-6",children:u.jsx(Ka,{className:"bg-transparent h-12 w-full justify-start gap-1",children:avt.map(a=>u.jsxs(er,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[u.jsx(a.icon,{className:"h-4 w-4"}),a.label]},a.value))})}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[u.jsx(pn,{value:"agents",className:"h-full m-0 p-6",children:u.jsx(_at,{})}),u.jsx(pn,{value:"scheduler",className:"h-full m-0 p-6",children:u.jsx(Sat,{})}),u.jsx(pn,{value:"devices",className:"h-full m-0 p-6",children:u.jsx(evt,{})}),u.jsx(pn,{value:"monitor",className:"h-full m-0 p-6",children:u.jsx(nvt,{})}),u.jsx(pn,{value:"3d-viz",className:"h-full m-0 p-6",children:u.jsx(ovt,{})})]})]})})]})}function cvt(){const[t,e]=A.useState(""),{data:n,isLoading:r,error:i}=yn({queryKey:["/api/neosyntis/datasets"],queryFn:async()=>{const p=await fetch("/api/neosyntis/datasets");if(!p.ok)throw new Error("Network response was not ok");return p.json()}}),{toast:s}=Ud(),o=bi(),[a,l]=A.useState(""),[c,f]=A.useState(""),[d,h]=A.useState("custom"),g=Lt({mutationFn:async p=>{const y=await fetch("/api/neosyntis/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error("Failed to create dataset");return y.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]}),l(""),f(""),h("custom")},onError:p=>{s({title:"Error",description:`Failed to create dataset: ${p.message}`,variant:"destructive"})}}),v=Lt({mutationFn:async p=>{const y=new FormData;y.append("file",p);const _=await fetch("/api/neosyntis/datasets/upload",{method:"POST",body:y});if(!_.ok)throw new Error("Failed to upload dataset");return _.json()},onSuccess:()=>{s({title:"Dataset Uploaded",description:"Dataset file successfully uploaded."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to upload dataset: ${p.message}`,variant:"destructive"})}}),x=Lt({mutationFn:async p=>{const y=await fetch(`/api/neosyntis/datasets/${p}`,{method:"DELETE"});if(!y.ok)throw new Error("Failed to delete dataset");return y.json()},onSuccess:()=>{s({title:"Dataset Deleted",description:"Dataset has been successfully deleted."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to delete dataset: ${p.message}`,variant:"destructive"})}}),m=n==null?void 0:n.filter(p=>{var y;return p.name.toLowerCase().includes(t.toLowerCase())||((y=p.description)==null?void 0:y.toLowerCase().includes(t.toLowerCase()))});return r?u.jsx("div",{className:"p-6 text-center",children:"Loading datasets..."}):i?(console.error("Error loading datasets:",i),u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading datasets: ",i.message]})):(console.log("Datasets:",n),console.log("Filtered Datasets:",m),u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(XA,{className:"h-5 w-5 text-primary"}),"Dataset Management"]}),u.jsx(Ut,{className:"mt-1",children:"Create, manage, and deploy custom datasets for model fine-tuning"})]}),u.jsxs(Ub,{children:[u.jsx(U4,{asChild:!0,children:u.jsxs(ke,{"data-testid":"button-create-dataset",children:[u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Create Dataset"]})}),u.jsxs(Jv,{children:[u.jsxs($b,{children:[u.jsx(Hb,{children:"Create New Dataset"}),u.jsx(Vb,{children:"Build a custom dataset from scratch or import existing data"})]}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Dataset Name"}),u.jsx(jt,{placeholder:"My Custom Dataset","data-testid":"input-dataset-name",value:a,onChange:p=>l(p.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Description"}),u.jsx(jt,{placeholder:"Dataset description...","data-testid":"input-dataset-description",value:c,onChange:p=>f(p.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Type"}),u.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-dataset-type",value:d,onChange:p=>h(p.target.value),children:[u.jsx("option",{value:"custom",children:"Custom"}),u.jsx("option",{value:"qa",children:"Question-Answer"}),u.jsx("option",{value:"code",children:"Code Examples"}),u.jsx("option",{value:"text",children:"Text"}),u.jsx("option",{value:"structured",children:"Structured Data"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-4",children:[u.jsx(ke,{className:"flex-1","data-testid":"button-create",onClick:()=>g.mutate({name:a,description:c,type:d}),disabled:g.isPending||!a,children:g.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):"Create"}),u.jsx(ke,{variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx(jt,{placeholder:"Search datasets...",value:t,onChange:p=>e(p.target.value),className:"flex-1","data-testid":"input-search-datasets"}),u.jsx("input",{type:"file",id:"dataset-file-upload",className:"hidden",onChange:p=>{p.target.files&&p.target.files[0]&&v.mutate(p.target.files[0])}}),u.jsxs(ke,{variant:"outline","data-testid":"button-import",onClick:()=>{const p=document.getElementById("dataset-file-upload");p&&p.click()},disabled:v.isPending,children:[v.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qm,{className:"h-4 w-4 mr-2"}),"Import"]})]}),u.jsx("div",{className:"border rounded-lg",children:u.jsxs(ov,{children:[u.jsx(av,{children:u.jsxs(Wo,{children:[u.jsx(Ir,{children:"Name"}),u.jsx(Ir,{children:"Type"}),u.jsx(Ir,{children:"Size"}),u.jsx(Ir,{children:"Created"}),u.jsx(Ir,{className:"text-right",children:"Actions"})]})}),u.jsx(lv,{children:(m==null?void 0:m.length)===0?u.jsx(Wo,{children:u.jsx(wr,{colSpan:5,className:"text-center text-muted-foreground",children:"No datasets found. Create one or import from a file."})}):m==null?void 0:m.map(p=>u.jsxs(Wo,{"data-testid":`row-dataset-${p.id}`,children:[u.jsx(wr,{children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:p.name}),u.jsx("div",{className:"text-sm text-muted-foreground",children:p.description})]})}),u.jsx(wr,{children:u.jsx(fn,{variant:"outline",children:p.type})}),u.jsxs(wr,{className:"font-mono text-sm",children:[p.size.toLocaleString()," rows"]}),u.jsx(wr,{className:"text-sm text-muted-foreground",children:new Date(p.createdAt).toLocaleDateString()}),u.jsx(wr,{className:"text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(ke,{variant:"ghost",size:"sm","data-testid":`button-view-${p.id}`,children:"View"}),u.jsx(ke,{variant:"ghost",size:"sm","data-testid":`button-export-${p.id}`,children:u.jsx(Oye,{className:"h-4 w-4"})}),u.jsx(ke,{variant:"ghost",size:"sm","data-testid":`button-huggingface-${p.id}`,children:u.jsx(vI,{className:"h-4 w-4"})}),u.jsx(ke,{variant:"ghost",size:"sm","data-testid":`button-delete-${p.id}`,onClick:()=>x.mutate(p.id),disabled:x.isPending,children:x.isPending?u.jsx(vn,{className:"h-4 w-4 animate-spin"}):u.jsx(Nd,{className:"h-4 w-4"})})]})})]},p.id))})]})}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[u.jsxs("span",{children:["Showing ",m==null?void 0:m.length," of ",n==null?void 0:n.length," datasets"]}),u.jsxs(ke,{variant:"outline",size:"sm",children:[u.jsx(vI,{className:"h-4 w-4 mr-2"}),"Push to HuggingFace"]})]})]})]}),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Dataset Injection"})}),u.jsxs(et,{className:"text-sm text-muted-foreground space-y-2",children:[u.jsx("p",{children:"VAREON uses dataset injection for prompt enhancement. Before LLM inference, selected datasets are checked and relevant context is automatically injected into the prompt."}),u.jsx("p",{children:"This approach allows fine-tuning-like results without training custom models, perfect for using cloud LLM providers like OpenRouter, Gemini API, or HuggingFace Inference."})]})]})]}))}const uvt={id:"res-1",query:"Impact of AI on renewable energy",provider:"google",createdAt:new Date().toISOString(),summary:"AI is revolutionizing the renewable energy sector by optimizing grid management, improving forecasting for wind and solar, and accelerating the discovery of new materials for batteries and solar panels. This leads to increased efficiency, lower costs, and greater grid stability.",results:[{title:"How AI is transforming renewable energy - McKinsey",snippet:"AI can help optimize energy consumption, improve the accuracy of weather forecasting for renewables, and support the development of new clean energy technologies.",url:"#"},{title:"The Role of AI in the Energy Transition - BCG",snippet:"Artificial intelligence is a critical enabler for the energy transition, helping to integrate variable renewables and manage complex power grids.",url:"#"}],entities:[{type:"Organization",text:"McKinsey",count:1},{type:"Organization",text:"BCG",count:1},{type:"Person",text:"Sundar Pichai",count:0},{type:"Location",text:"California",count:0}],sentiment:{positive:85,neutral:10,negative:5}},dvt=({type:t})=>{switch(t){case"Person":return u.jsx(r0e,{className:"h-4 w-4 text-blue-400"});case"Organization":return u.jsx(Cye,{className:"h-4 w-4 text-green-400"});case"Location":return u.jsx(Vye,{className:"h-4 w-4 text-red-400"});default:return null}};function fvt(){const[t,e]=A.useState("Impact of AI on renewable energy"),[n,r]=A.useState("google");Ud(),bi();const{data:i,refetch:s,isLoading:o}=yn({queryKey:["/api/search",t,n],queryFn:async()=>t.trim()?Promise.resolve(uvt):Promise.reject(new Error("Query is empty")),enabled:!1}),a=()=>{t.trim()&&s()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Cl,{className:"h-5 w-5 text-primary"}),"Intelligent Search Engine"]}),u.jsx(Ut,{children:"Search the web with AI-powered summarization and knowledge extraction."})]}),u.jsx(et,{className:"space-y-4",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(pr,{value:n,onValueChange:r,children:[u.jsx(lr,{className:"w-[180px]",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"google",children:"Google"}),u.jsx(At,{value:"bing",children:"Bing"})]})]}),u.jsx(jt,{placeholder:"Enter your search query...",value:t,onChange:l=>e(l.target.value),onKeyDown:l=>l.key==="Enter"&&a(),className:"flex-1"}),u.jsxs(ke,{onClick:a,disabled:o,children:[o?u.jsx(zr,{className:"h-4 w-4 animate-spin"}):u.jsx(Cl,{className:"h-4 w-4"}),u.jsx("span",{className:"ml-2",children:"Search"})]})]})})]}),o&&u.jsx("div",{className:"text-center p-12",children:"Searching..."}),i?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2 space-y-4",children:u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs(Ze,{children:['Search Results for "',i.query,'"']})}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/10",children:[u.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[u.jsx(YA,{className:"h-4 w-4 text-primary mt-0.5"}),u.jsx("span",{className:"text-sm font-medium",children:"AI Summary"})]}),u.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.summary})]}),i.results.map((l,c)=>u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[u.jsx(vI,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h5",{className:"font-medium text-sm truncate",children:l.title}),u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:l.snippet}),u.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline mt-1 inline-block",children:l.url})]})]},c))]})]})}),u.jsx("div",{className:"lg:col-span-1 space-y-6",children:u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Knowledge Panel"})}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Extracted Entities"}),u.jsx("div",{className:"space-y-2",children:i.entities.filter(l=>l.count>0).map(l=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(dvt,{type:l.type}),u.jsx("span",{children:l.text})]}),u.jsx(fn,{variant:"secondary",children:l.count})]},l.text))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Sentiment Analysis"}),u.jsx(gl,{width:"100%",height:150,children:u.jsxs(YWe,{data:[{name:"Positive",value:i.sentiment.positive,fill:"#22c55e"},{name:"Neutral",value:i.sentiment.neutral,fill:"#a1a1aa"},{name:"Negative",value:i.sentiment.negative,fill:"#ef4444"}],layout:"vertical",children:[u.jsx(oo,{type:"number",hide:!0}),u.jsx(ao,{type:"category",dataKey:"name",tickLine:!1,axisLine:!1,width:60,fontSize:12}),u.jsx(yi,{cursor:{fill:"rgba(128,128,128,0.1)"}}),u.jsx(Jh,{dataKey:"value",barSize:20})]})})]})]})]})})]}):!o&&u.jsx(Ge,{className:"p-12",children:u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(Cl,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),u.jsx("h3",{className:"text-lg font-medium",children:"No search results yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a query above to start searching"})]})})]})}const hvt={input:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-green-500",children:[u.jsx("div",{className:"text-xs font-bold text-green-600",children:"INPUT"}),u.jsx("div",{className:"text-sm",children:t.label})]}),llm:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-primary",children:[u.jsx("div",{className:"text-xs font-bold text-primary",children:"LLM"}),u.jsx("div",{className:"text-sm",children:t.label}),t.model&&u.jsx("div",{className:"text-xs text-muted-foreground",children:t.model})]}),action:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-accent",children:[u.jsx("div",{className:"text-xs font-bold text-accent",children:"ACTION"}),u.jsx("div",{className:"text-sm",children:t.label})]}),output:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-orange-500",children:[u.jsx("div",{className:"text-xs font-bold text-orange-600",children:"OUTPUT"}),u.jsx("div",{className:"text-sm",children:t.label})]}),delay:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-yellow-500",children:[u.jsx("div",{className:"text-xs font-bold text-yellow-600",children:"DELAY"}),u.jsx("div",{className:"text-sm",children:t.label})]})};function pvt(){const{toast:t}=Ud(),e=bi(),[n,r]=A.useState(null),{data:i,isLoading:s,error:o}=yn({queryKey:["workflow",n],queryFn:async()=>{if(!n)return{nodes:[],edges:[]};const p=await fetch(`/api/workflows/${n}`);if(!p.ok)throw new Error("Network response was not ok");return p.json()},enabled:!!n,initialData:{nodes:[],edges:[]}}),[a,l,c]=Due(i.nodes),[f,d,h]=jue(i.edges);A.useEffect(()=>{l(i.nodes),d(i.edges)},[i,l,d]);const g=A.useCallback(p=>d(y=>DB(p,y)),[d]),v=Lt({mutationFn:async p=>{const y=n?"PUT":"POST",_=n?`/api/workflows/${n}`:"/api/workflows",b=await fetch(_,{method:y,headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!b.ok)throw new Error("Failed to save workflow");return b.json()},onSuccess:p=>{t({title:"Workflow Saved",description:"Workflow has been successfully saved."}),!n&&p.id&&r(p.id),e.invalidateQueries({queryKey:["workflow",n]})},onError:p=>{t({title:"Error",description:`Failed to save workflow: ${p.message}`,variant:"destructive"})}}),x=Lt({mutationFn:async p=>{const y=await fetch(`/api/workflows/${p}/run`,{method:"POST"});if(!y.ok)throw new Error("Failed to run workflow");return y.json()},onSuccess:()=>{t({title:"Workflow Started",description:"Workflow execution initiated."})},onError:p=>{t({title:"Error",description:`Failed to run workflow: ${p.message}`,variant:"destructive"})}}),m=Lt({mutationFn:async p=>{if(!n)throw new Error("Cannot add node without a workflow. Please save the workflow first.");const y=await fetch(`/api/workflows/${n}/nodes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error("Failed to add node");return y.json()},onSuccess:p=>{l(y=>y.concat(p)),t({title:"Node Added",description:"New node added to workflow."})},onError:p=>{t({title:"Error",description:`Failed to add node: ${p.message}`,variant:"destructive"})}});return s?u.jsx("div",{className:"p-6 text-center",children:"Loading workflow..."}):o?u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading workflow: ",o.message]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Ge,{children:u.jsx(Ye,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(iC,{className:"h-5 w-5 text-primary"}),"Workflow Builder"]}),u.jsx(Ut,{className:"mt-1",children:"Create agentic workflows with drag-and-drop node editor"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{variant:"outline","data-testid":"button-add-node",onClick:()=>m.mutate({id:`node-${Date.now()}`,type:"llm",position:{x:Math.random()*250,y:Math.random()*250},data:{label:"New LLM Node",model:"GPT-3.5"}}),disabled:m.isPending||!n,children:[m.isPending?u.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Add Node"]}),u.jsxs(ke,{variant:"outline","data-testid":"button-save-workflow",onClick:()=>v.mutate({nodes:a,edges:f}),disabled:v.isPending,children:[v.isPending?u.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(KA,{className:"h-4 w-4 mr-2"}),"Save"]}),u.jsxs(ke,{"data-testid":"button-run-workflow",onClick:()=>n&&x.mutate(n),disabled:x.isPending||!n,children:[x.isPending?u.jsx(zr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Ag,{className:"h-4 w-4 mr-2"}),"Run"]})]})]})})}),u.jsx(Ge,{className:"h-[600px]",children:u.jsx(et,{className:"h-full p-0",children:u.jsxs(Iue,{nodes:a,edges:f,onNodesChange:c,onEdgesChange:h,onConnect:g,nodeTypes:hvt,fitView:!0,className:"bg-background h-[500px]",children:[u.jsx(zue,{}),u.jsx($ue,{className:"bg-card border"}),u.jsx(Fue,{gap:12,size:1})]})})}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Available Node Types"})}),u.jsx(et,{children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(fn,{variant:"outline",className:"border-green-500 text-green-600",children:"Input - Entry point"}),u.jsx(fn,{variant:"outline",className:"border-primary text-primary",children:"LLM - AI Processing"}),u.jsx(fn,{variant:"outline",className:"border-accent text-accent",children:"Action - Execute Task"}),u.jsx(fn,{variant:"outline",className:"border-orange-500 text-orange-600",children:"Output - Result"}),u.jsx(fn,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Delay - Wait Timer"})]})})]})]})}const eq=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function mvt(){const{data:t}=yn({queryKey:["/api/telemetry"],initialData:vhe}),{data:e}=yn({queryKey:["/api/jobs"],initialData:ghe});return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsx(Ge,{children:u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(_h,{className:"h-5 w-5 text-primary"}),"Telemetry Dashboard"]}),u.jsx(Ut,{children:"Real-time metrics, statistics, and system performance monitoring"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Token Usage (Last 7 Days)"})}),u.jsx(et,{children:u.jsx(gl,{width:"100%",height:250,children:u.jsxs(Gte,{data:t.tokenUsage,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),u.jsx(td,{strokeDasharray:"3 3",opacity:.1}),u.jsx(oo,{dataKey:"date",tick:{fontSize:12}}),u.jsx(ao,{tick:{fontSize:12}}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(ru,{type:"monotone",dataKey:"tokens",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorTokens)"})]})})})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Model Usage Distribution"})}),u.jsx(et,{children:u.jsx(gl,{width:"100%",height:250,children:u.jsxs(ZWe,{children:[u.jsx(nu,{data:t.modelUsage,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:r})=>`${n} ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:t.modelUsage.map((n,r)=>u.jsx(MT,{fill:eq[r%eq.length]},`cell-${r}`))}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}})]})})})]})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"System Resources"})}),u.jsx(et,{children:u.jsxs(Gl,{defaultValue:"cpu",children:[u.jsxs(Ka,{children:[u.jsx(er,{value:"cpu",children:"CPU"}),u.jsx(er,{value:"memory",children:"Memory"}),u.jsx(er,{value:"network",children:"Network"})]}),u.jsx(pn,{value:"cpu",className:"mt-4",children:u.jsx(gl,{width:"100%",height:200,children:u.jsxs(tx,{data:t.systemMetrics.cpu.map((n,r)=>({time:r,value:n})),children:[u.jsx(td,{strokeDasharray:"3 3",opacity:.1}),u.jsx(oo,{dataKey:"time"}),u.jsx(ao,{domain:[0,100]}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(Vo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",strokeWidth:2})]})})}),u.jsx(pn,{value:"memory",className:"mt-4",children:u.jsx(gl,{width:"100%",height:200,children:u.jsxs(tx,{data:t.systemMetrics.memory.map((n,r)=>({time:r,value:n})),children:[u.jsx(td,{strokeDasharray:"3 3",opacity:.1}),u.jsx(oo,{dataKey:"time"}),u.jsx(ao,{domain:[0,100]}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(Vo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})}),u.jsx(pn,{value:"network",className:"mt-4",children:u.jsx(gl,{width:"100%",height:200,children:u.jsxs(tx,{data:t.systemMetrics.network.map((n,r)=>({time:r,value:n})),children:[u.jsx(td,{strokeDasharray:"3 3",opacity:.1}),u.jsx(oo,{dataKey:"time"}),u.jsx(ao,{}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(Vo,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-3))",strokeWidth:2})]})})})]})})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(zr,{className:"h-5 w-5 text-primary"}),"Active Jobs"]}),u.jsx(Ut,{children:"Real-time job execution status and logs"})]}),u.jsx(et,{className:"space-y-4",children:e==null?void 0:e.map(n=>u.jsxs(Ge,{className:"bg-card/50",children:[u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Ze,{className:"text-sm",children:n.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`h-2 w-2 rounded-full ${n.status==="running"?"bg-green-500":n.status==="completed"?"bg-blue-500":"bg-yellow-500"}`}),u.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:n.status})]})]})}),u.jsx(et,{children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Progress"}),u.jsxs("span",{className:"font-mono font-medium",children:[n.progress,"%"]})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${n.progress}%`}})}),u.jsxs("div",{className:"mt-3 p-3 bg-background/50 rounded-md font-mono text-xs",children:[u.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job started"]}),n.status==="running"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-blue-500",children:["[",new Date(Date.now()-3e4).toLocaleTimeString(),"] Processing data..."]}),u.jsxs("div",{className:"text-yellow-500",children:["[",new Date(Date.now()-1e4).toLocaleTimeString(),"] ",n.progress,"% complete"]})]}),n.status==="completed"&&u.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job completed successfully"]})]})]})})]},n.id))})]})]})}function gvt(){const[t,e]=A.useState("cnc"),[n,r]=A.useState("cad");return u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Da,{className:"h-5 w-5 text-primary"}),"Device Integration Settings"]}),u.jsx(Ut,{children:"Configure connections to CNC machines, ESP32, Arduino, and other hardware"})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Device Type"}),u.jsxs(pr,{value:t,onValueChange:i=>e(i),children:[u.jsx(lr,{"data-testid":"select-device-type",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"cnc",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(kx,{className:"h-4 w-4"}),"CNC Machine"]})}),u.jsx(At,{value:"esp32",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Da,{className:"h-4 w-4"}),"ESP32"]})}),u.jsx(At,{value:"arduino",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Da,{className:"h-4 w-4"}),"Arduino"]})})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Serial Port"}),u.jsxs(pr,{children:[u.jsx(lr,{"data-testid":"select-serial-port",children:u.jsx(mr,{placeholder:"Select port..."})}),u.jsxs(cr,{children:[u.jsx(At,{value:"/dev/ttyUSB0",children:"/dev/ttyUSB0"}),u.jsx(At,{value:"/dev/ttyUSB1",children:"/dev/ttyUSB1"}),u.jsx(At,{value:"/dev/ttyUSB2",children:"/dev/ttyUSB2"}),u.jsx(At,{value:"COM3",children:"COM3"}),u.jsx(At,{value:"COM4",children:"COM4"})]})]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{"data-testid":"button-connect-device",children:[u.jsx(n0e,{className:"h-4 w-4 mr-2"}),"Connect"]}),u.jsx(ke,{variant:"outline",children:"Disconnect"}),u.jsx(ke,{variant:"outline",children:"Test Connection"})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-card/50 rounded-lg border",children:[u.jsx(ig,{status:"connected"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:"Connection Status"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Device connected on /dev/ttyUSB0"})]}),u.jsx(fn,{variant:"outline",children:"115200 baud"})]})]})]}),t==="cnc"?u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"CNC Control Interface"}),u.jsx(Ut,{children:"CAD/CAM mode for G-code generation and machine control"})]}),u.jsx(et,{children:u.jsxs(Gl,{value:n,onValueChange:i=>r(i),children:[u.jsxs(Ka,{children:[u.jsx(er,{value:"cad","data-testid":"tab-cad",children:"CAD Mode"}),u.jsx(er,{value:"cam","data-testid":"tab-cam",children:"CAM Mode"})]}),u.jsxs(pn,{value:"cad",className:"mt-4 space-y-4",children:[u.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border border-dashed flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(kx,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"CAD Viewer"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"3D model viewer would appear here"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ke,{variant:"outline",children:"Import STL"}),u.jsx(ke,{variant:"outline",children:"Import OBJ"}),u.jsx(ke,{children:"Generate Toolpath"})]})]}),u.jsx(pn,{value:"cam",className:"mt-4 space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Tool Diameter (mm)"}),u.jsx(jt,{type:"number",defaultValue:"6"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Spindle Speed (RPM)"}),u.jsx(jt,{type:"number",defaultValue:"12000"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Feed Rate (mm/min)"}),u.jsx(jt,{type:"number",defaultValue:"800"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Depth Per Pass (mm)"}),u.jsx(jt,{type:"number",defaultValue:"2"})]})]}),u.jsx(ke,{className:"w-full",children:"Generate G-Code"})]})})]})})]}):u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(rC,{className:"h-5 w-5 text-primary"}),"Integrated Development Environment"]}),u.jsxs(Ut,{children:["Code editor for ",t.toUpperCase()," development"]})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border font-mono text-sm p-4 overflow-auto",children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"text-green-500",children:["// ",t.toUpperCase()," Sketch"]}),u.jsx("div",{children:"void setup() {"}),u.jsx("div",{className:"pl-4",children:"Serial.begin(115200);"}),u.jsx("div",{className:"pl-4",children:"pinMode(LED_BUILTIN, OUTPUT);"}),u.jsx("div",{children:"}"}),u.jsx("div",{className:"mt-2",children:"void loop() {"}),u.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, HIGH);"}),u.jsx("div",{className:"pl-4",children:"delay(1000);"}),u.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, LOW);"}),u.jsx("div",{className:"pl-4",children:"delay(1000);"}),u.jsx("div",{children:"}"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{children:[u.jsx(rC,{className:"h-4 w-4 mr-2"}),"Verify"]}),u.jsx(ke,{variant:"outline",children:"Upload to Device"}),u.jsx(ke,{variant:"outline",children:"Serial Monitor"})]})]})]})]})}const tq=[{id:"reasoning",label:"Reasoning Model",description:"Deep thinking and problem solving"},{id:"code_generation",label:"Code Generation",description:"Generate and refactor code"},{id:"conversation",label:"Conversation",description:"Natural dialogue and chat"},{id:"shell_conversion",label:"Shell Conversion",description:"Natural language to shell commands"},{id:"summarization",label:"Summarization",description:"Condense and summarize content"},{id:"intent_detection",label:"Intent Detection",description:"Understand user intentions"},{id:"general",label:"General Purpose",description:"Universal model for naming files, etc"}];function vvt(){const[t,e]=A.useState(!1),[n,r]=A.useState("openrouter");return u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Pd,{className:"h-5 w-5 text-primary"}),"COGNISYS Configuration"]}),u.jsx(Ut,{children:"Configure API providers, model assignments, and reasoning settings"})]}),u.jsx(et,{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"LLM Provider"}),u.jsxs(pr,{value:n,onValueChange:r,children:[u.jsx(lr,{"data-testid":"select-provider",children:u.jsx(mr,{})}),u.jsxs(cr,{children:[u.jsx(At,{value:"openrouter",children:"OpenRouter"}),u.jsx(At,{value:"openai",children:"OpenAI"}),u.jsx(At,{value:"anthropic",children:"Anthropic"}),u.jsx(At,{value:"google",children:"Google Gemini API"}),u.jsx(At,{value:"huggingface",children:"HuggingFace Inference"}),u.jsx(At,{value:"local",children:"Local Deployment"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"API Key"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(jt,{type:t?"text":"password",placeholder:"sk-...","data-testid":"input-api-key"}),u.jsx(ke,{variant:"outline",size:"icon",onClick:()=>e(!t),"data-testid":"button-toggle-api-key",children:t?u.jsx(yI,{className:"h-4 w-4"}):u.jsx(xI,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"API Base URL (optional)"}),u.jsx(jt,{placeholder:"https://api.openrouter.ai/v1","data-testid":"input-api-url"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Organization ID (optional)"}),u.jsx(jt,{placeholder:"org-...","data-testid":"input-org-id"})]})]})]})})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Model Assignment per Role"}),u.jsx(Ut,{children:"Assign specific models to different tasks for optimal performance"})]}),u.jsx(et,{className:"space-y-4",children:tq.map(i=>u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:i.label}),u.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]}),u.jsxs(pr,{defaultValue:"gpt-4",children:[u.jsx(lr,{className:"w-[200px]","data-testid":`select-model-${i.id}`,children:u.jsx(mr,{})}),u.jsx(cr,{children:tvt.filter(s=>s.isActive).map(s=>u.jsx(At,{value:s.id,children:s.name},s.id))})]})]},i.id))})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Reasoning Configuration"}),u.jsx(Ut,{children:"Enable reasoning for specific models to improve accuracy"})]}),u.jsx(et,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reasoning adds a thinking step before responses. Enable selectively to balance accuracy with token usage and inference speed."}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:tq.map(i=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsx(mt,{htmlFor:`reasoning-${i.id}`,className:"flex-1 cursor-pointer",children:i.label}),u.jsx(hd,{id:`reasoning-${i.id}`,"data-testid":`switch-reasoning-${i.id}`})]},i.id))})]})})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Advanced Settings"})}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Token Limit"}),u.jsx(jt,{type:"number",defaultValue:"4096","data-testid":"input-token-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Temperature"}),u.jsx(jt,{type:"number",step:"0.1",min:"0",max:"2",defaultValue:"0.7","data-testid":"input-temperature"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Search Engine API Key (optional)"}),u.jsx(jt,{placeholder:"For Serper or similar providers","data-testid":"input-search-api-key"})]}),u.jsx(ke,{className:"w-full","data-testid":"button-save-config",children:"Save Configuration"})]})]})]})}function yvt(){const t=[{name:"VAREON",color:"bg-blue-500",connected:!0},{name:"NEOSYNTIS",color:"bg-purple-500",connected:!0},{name:"MYNTRIX",color:"bg-green-500",connected:!0},{name:"COGNISYS",color:"bg-orange-500",connected:!0},{name:"ARCANA",color:"bg-pink-500",connected:!0}];return u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsx(Ge,{children:u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(kx,{className:"h-5 w-5 text-primary"}),"Ecosystem Architecture Builder"]}),u.jsx(Ut,{children:"Visualize and customize your VAREON ecosystem architecture"})]})}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"System Architecture"}),u.jsx(Ut,{children:"Visual representation of module connections and data flow"})]}),u.jsx(et,{children:u.jsx("div",{className:"h-96 bg-gradient-to-br from-primary/5 via-background to-accent/5 rounded-lg border border-dashed flex items-center justify-center relative overflow-hidden",children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 600",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"line-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"}),u.jsx("stop",{offset:"50%",stopColor:"hsl(var(--accent))",stopOpacity:"0.5"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"})]})}),u.jsx("line",{x1:"400",y1:"100",x2:"400",y2:"200",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"400",y1:"250",x2:"250",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"400",y1:"250",x2:"550",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"250",y1:"400",x2:"150",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"250",y1:"400",x2:"350",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"550",y1:"400",x2:"650",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("circle",{cx:"400",cy:"100",r:"60",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"3"}),u.jsx("text",{x:"400",y:"110",textAnchor:"middle",className:"fill-current text-sm font-bold",children:"VAREON"}),u.jsx("circle",{cx:"400",cy:"250",r:"50",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"2"}),u.jsx("text",{x:"400",y:"260",textAnchor:"middle",className:"fill-current text-xs font-medium",children:"COGNISYS"}),u.jsx("circle",{cx:"250",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),u.jsx("text",{x:"250",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"NEOSYNTIS"}),u.jsx("circle",{cx:"550",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),u.jsx("text",{x:"550",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"MYNTRIX"}),u.jsx("circle",{cx:"150",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),u.jsx("text",{x:"150",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Search"}),u.jsx("circle",{cx:"350",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),u.jsx("text",{x:"350",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Workflow"}),u.jsx("circle",{cx:"650",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-4))",strokeWidth:"2"}),u.jsx("text",{x:"650",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"ARCANA"})]})})})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2 text-base",children:[u.jsx(C3,{className:"h-5 w-5 text-primary"}),"Active Modules"]})}),u.jsx(et,{className:"space-y-3",children:t.map(e=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`h-3 w-3 rounded-full ${e.color}`}),u.jsx("span",{className:"font-medium",children:e.name})]}),u.jsx(fn,{variant:e.connected?"default":"outline",children:e.connected?"Connected":"Disconnected"})]},e.name))})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs(Ze,{className:"flex items-center gap-2 text-base",children:[u.jsx(Pd,{className:"h-5 w-5 text-primary"}),"Integration Points"]})}),u.jsxs(et,{className:"space-y-3",children:[u.jsxs("div",{className:"p-3 border rounded-lg",children:[u.jsx("div",{className:"font-medium text-sm",children:"NEOSYNTIS  ARCANA"}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Search results auto-save to chat memory"})]}),u.jsxs("div",{className:"p-3 border rounded-lg",children:[u.jsx("div",{className:"font-medium text-sm",children:"ARCANA  MYNTRIX"}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Chat commands trigger agent jobs"})]}),u.jsxs("div",{className:"p-3 border rounded-lg",children:[u.jsx("div",{className:"font-medium text-sm",children:"COGNISYS  ALL"}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Model routing for all modules"})]}),u.jsxs(ke,{variant:"outline",className:"w-full mt-2","data-testid":"button-add-integration",children:[u.jsx(qi,{className:"h-4 w-4 mr-2"}),"Add Custom Integration"]})]})]})]}),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Custom Architecture"})}),u.jsxs(et,{className:"text-sm text-muted-foreground space-y-2",children:[u.jsx("p",{children:"This is a placeholder for advanced ecosystem customization. You can define:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Custom module relationships and data flows"}),u.jsx("li",{children:"Conditional routing rules between components"}),u.jsx("li",{children:"Event-driven triggers and webhooks"}),u.jsx("li",{children:"Custom API endpoints and integrations"}),u.jsx("li",{children:"Resource allocation and scaling policies"})]})]})]})]})}const xvt=[{name:"Llama-3-8B-Instruct",status:"deployed",uptime:"15d 4h",requests:12453},{name:"Mistral-7B-v0.3",status:"deploying",progress:67,eta:"5 min"},{name:"CodeLlama-13B",status:"pending",queuePosition:3}];function _vt(){return u.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(F$,{className:"h-5 w-5 text-primary"}),"Model Deployment"]}),u.jsx(Ut,{children:"Deploy and manage self-hosted LLM models"})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Model Name"}),u.jsx(jt,{placeholder:"llama-3-8b-instruct","data-testid":"input-model-name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Model Format"}),u.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-model-format",children:[u.jsx("option",{value:"gguf",children:"GGUF"}),u.jsx("option",{value:"safetensors",children:"SafeTensors"}),u.jsx("option",{value:"pytorch",children:"PyTorch"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{children:"Upload Model File"}),u.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer",children:[u.jsx(qm,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop your model file here, or click to browse"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports GGUF, SafeTensors, PyTorch formats (max 50GB)"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{className:"flex-1","data-testid":"button-deploy-model",children:[u.jsx(F$,{className:"h-4 w-4 mr-2"}),"Deploy Model"]}),u.jsx(ke,{variant:"outline","data-testid":"button-import-huggingface",children:"Import from HuggingFace"})]})]})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Active Deployments"}),u.jsx(Ut,{children:"Monitor and manage deployed models"})]}),u.jsx(et,{className:"space-y-4",children:xvt.map(t=>{var e;return u.jsxs(Ge,{className:"bg-card/50",children:[u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(Ze,{className:"text-sm",children:t.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.status==="deployed"&&u.jsxs(u.Fragment,{children:[u.jsxs(fn,{variant:"default",className:"gap-1",children:[u.jsx(E3,{className:"h-3 w-3"}),"Deployed"]}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.uptime," uptime"]})]}),t.status==="deploying"&&u.jsxs(u.Fragment,{children:[u.jsxs(fn,{variant:"secondary",className:"gap-1",children:[u.jsx(yY,{className:"h-3 w-3"}),"Deploying"]}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA ",t.eta]})]}),t.status==="pending"&&u.jsxs(fn,{variant:"outline",children:["Queue #",t.queuePosition]})]})]}),t.status==="deployed"&&u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm font-mono font-medium",children:(e=t.requests)==null?void 0:e.toLocaleString()}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"requests"})]})]})}),u.jsxs(et,{children:[t.status==="deploying"&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[t.progress,"%"]})]}),u.jsx(nB,{value:t.progress})]}),t.status==="deployed"&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx(ke,{variant:"outline",size:"sm",children:"View Logs"}),u.jsx(ke,{variant:"outline",size:"sm",children:"Metrics"}),u.jsx(ke,{variant:"outline",size:"sm",className:"text-destructive",children:"Stop"})]}),t.status==="pending"&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for available resources..."})]})]},t.name)})})]}),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Self-Hosted Deployment Benefits"})}),u.jsx(et,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Complete data privacy and control"}),u.jsx("li",{children:"No API rate limits or usage costs"}),u.jsx("li",{children:"Custom fine-tuned models"}),u.jsx("li",{children:"Lower latency for local inference"}),u.jsx("li",{children:"Independence from cloud LLM providers"})]})})]})]})}const bvt=[{epoch:1,loss:2.4,accuracy:.45,val_loss:2.6,val_accuracy:.42},{epoch:2,loss:1.8,accuracy:.58,val_loss:2.1,val_accuracy:.51},{epoch:3,loss:1.3,accuracy:.68,val_loss:1.7,val_accuracy:.63},{epoch:4,loss:.9,accuracy:.76,val_loss:1.4,val_accuracy:.71},{epoch:5,loss:.6,accuracy:.84,val_loss:1.2,val_accuracy:.78}],wvt=[{name:"GPT-2 Fine-tune",status:"training",epoch:"3/10",accuracy:.76,eta:"2h 15m"},{name:"BERT QA Model",status:"completed",accuracy:.92,duration:"4h 32m"},{name:"Code Generation",status:"paused",epoch:"5/20",accuracy:.68}];function Svt(){return u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsx(Ge,{children:u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Td,{className:"h-5 w-5 text-primary"}),"Machine Learning Dashboard"]}),u.jsx(Ut,{children:"Train and monitor custom ML models for self-deployment"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(Ge,{className:"lg:col-span-2",children:[u.jsxs(Ye,{children:[u.jsx(Ze,{className:"text-base",children:"Training Metrics"}),u.jsx(Ut,{children:"Loss and accuracy over epochs"})]}),u.jsx(et,{children:u.jsx(gl,{width:"100%",height:300,children:u.jsxs(tx,{data:bvt,children:[u.jsx(td,{strokeDasharray:"3 3",opacity:.1}),u.jsx(oo,{dataKey:"epoch",label:{value:"Epoch",position:"insideBottom",offset:-5}}),u.jsx(ao,{}),u.jsx(yi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(th,{}),u.jsx(Vo,{type:"monotone",dataKey:"loss",stroke:"hsl(var(--chart-1))",name:"Training Loss",strokeWidth:2}),u.jsx(Vo,{type:"monotone",dataKey:"val_loss",stroke:"hsl(var(--chart-1))",strokeDasharray:"5 5",name:"Val Loss",strokeWidth:2}),u.jsx(Vo,{type:"monotone",dataKey:"accuracy",stroke:"hsl(var(--chart-2))",name:"Training Acc",strokeWidth:2}),u.jsx(Vo,{type:"monotone",dataKey:"val_accuracy",stroke:"hsl(var(--chart-2))",strokeDasharray:"5 5",name:"Val Acc",strokeWidth:2})]})})})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"Current Training"})}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Model"}),u.jsx("span",{className:"font-medium",children:"GPT-2 Fine-tune"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Epoch"}),u.jsx("span",{className:"font-mono",children:"3 / 10"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Accuracy"}),u.jsx("span",{className:"font-mono",children:"76%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"ETA"}),u.jsx("span",{className:"font-mono",children:"2h 15m"})]})]}),u.jsx(nB,{value:30}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(ke,{variant:"outline",size:"sm",className:"flex-1","data-testid":"button-pause-training",children:[u.jsx(bY,{className:"h-4 w-4 mr-2"}),"Pause"]}),u.jsx(ke,{variant:"outline",size:"sm","data-testid":"button-training-settings",children:u.jsx(bh,{className:"h-4 w-4"})})]})]})]})]}),u.jsxs(Ge,{children:[u.jsx(Ye,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(Ze,{className:"text-base",children:"Training Experiments"}),u.jsx(Ut,{children:"Manage and monitor ML training runs"})]}),u.jsxs(ke,{"data-testid":"button-new-experiment",children:[u.jsx(Ag,{className:"h-4 w-4 mr-2"}),"New Experiment"]})]})}),u.jsx(et,{className:"space-y-4",children:wvt.map(t=>u.jsxs(Ge,{className:"bg-card/50",children:[u.jsx(Ye,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(Ze,{className:"text-sm",children:t.name}),u.jsx(fn,{variant:t.status==="training"?"default":t.status==="completed"?"secondary":"outline",children:t.status})]})}),u.jsx(et,{children:u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.status==="training"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Epoch"}),u.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),u.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"ETA"}),u.jsx("div",{className:"font-mono font-medium",children:t.eta})]})]}),t.status==="completed"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),u.jsxs("div",{className:"font-mono font-medium text-green-600",children:[(t.accuracy*100).toFixed(1),"%"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Duration"}),u.jsx("div",{className:"font-mono font-medium",children:t.duration})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx(ke,{variant:"outline",size:"sm",children:"Deploy"})})]}),t.status==="paused"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Progress"}),u.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),u.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx(ke,{variant:"outline",size:"sm",children:u.jsx(Ag,{className:"h-4 w-4"})})})]})]})})]},t.name))})]}),u.jsxs(Ge,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Ye,{children:u.jsx(Ze,{className:"text-base",children:"ML Training Features"})}),u.jsx(et,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Fine-tune pre-trained models on custom datasets"}),u.jsx("li",{children:"Real-time training metrics and visualization"}),u.jsx("li",{children:"Automatic checkpointing and resume capability"}),u.jsx("li",{children:"Hyperparameter optimization and tuning"}),u.jsx("li",{children:"Model evaluation and comparison tools"}),u.jsx("li",{children:"Export trained models for deployment"})]})})]})]})}const Evt=[{value:"search",label:"Search Engine",icon:Cl},{value:"datasets",label:"Datasets",icon:XA},{value:"workflow",label:"Workflow",icon:iC},{value:"telemetry",label:"Telemetry",icon:_h},{value:"devices",label:"Device Settings",icon:bh},{value:"cognisys",label:"COGNISYS Config",icon:Pd},{value:"ecosystem",label:"Ecosystem Builder",icon:kx},{value:"deployment",label:"Model Deployment",icon:qm},{value:"ml",label:"Machine Learning",icon:Td}];function Cvt(){const t=VA(),[,e]=Ni(),r=new URLSearchParams(t).get("tab")||"search",[i,s]=A.useState(r);A.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/neosyntis?tab=${a}`)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"border-b bg-card px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"NEOSYNTIS Lab"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Research & Workflow Automation Platform"})]}),u.jsx(fn,{variant:"outline",children:"v2.1.0"})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsxs(Gl,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[u.jsx("div",{className:"border-b bg-card/50 px-6 overflow-x-auto",children:u.jsx(Ka,{className:"bg-transparent h-12 w-full justify-start gap-1",children:Evt.map(a=>u.jsxs(er,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[u.jsx(a.icon,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.value))})}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[u.jsx(pn,{value:"search",className:"h-full m-0 p-6",children:u.jsx(fvt,{})}),u.jsx(pn,{value:"datasets",className:"h-full m-0 p-6",children:u.jsx(cvt,{})}),u.jsx(pn,{value:"workflow",className:"h-full m-0 p-6",children:u.jsx(pvt,{})}),u.jsx(pn,{value:"telemetry",className:"h-full m-0 p-6",children:u.jsx(mvt,{})}),u.jsx(pn,{value:"devices",className:"h-full m-0 p-6",children:u.jsx(gvt,{})}),u.jsx(pn,{value:"cognisys",className:"h-full m-0 p-6",children:u.jsx(vvt,{})}),u.jsx(pn,{value:"ecosystem",className:"h-full m-0 p-6",children:u.jsx(yvt,{})}),u.jsx(pn,{value:"deployment",className:"h-full m-0 p-6",children:u.jsx(_vt,{})}),u.jsx(pn,{value:"ml",className:"h-full m-0 p-6",children:u.jsx(Svt,{})})]})]})})]})}const Mvt=()=>{const{toast:t}=bo(),e=bi(),{token:n}=ia(),[r,i]=Ni(),[s,o]=A.useState({}),{data:a,isLoading:l,error:c}=yn({queryKey:["userGitConfig"],queryFn:async()=>{const p=await fetch("/api/git/config",{headers:{Authorization:`Bearer ${n}`}});if(!p.ok){if(p.status===404)return null;const y=await p.json();throw new Error(y.detail||"Failed to fetch user Git config")}return p.json()},enabled:!!n,retry:!1});A.useEffect(()=>{o(a?{default_author_name:a.default_author_name,default_author_email:a.default_author_email,default_repo_url:a.default_repo_url,default_local_path:a.default_local_path,default_branch:a.default_branch}:{})},[a]),A.useEffect(()=>{const p=new URLSearchParams(r.split("?")[1]);if(p.get("github_auth_success")==="true")t({title:"GitHub Connected",description:"Your GitHub account has been successfully connected."}),e.invalidateQueries({queryKey:["userGitConfig"]}),i(r.split("?")[0],{replace:!0});else if(p.get("github_auth_success")==="false"){const y=p.get("error_description")||"Unknown error";t({title:"GitHub Connection Failed",description:`Error: ${y}`,variant:"destructive"}),i(r.split("?")[0],{replace:!0})}},[r,i,t,e]);const f=Lt({mutationFn:async p=>{const _=await fetch("/api/git/config",{method:a?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(p)});if(!_.ok){const b=await _.json();throw new Error(b.detail||"Failed to save Git configuration")}return _.json()},onSuccess:()=>{t({title:"Success",description:"Git configuration saved."}),e.invalidateQueries({queryKey:["userGitConfig"]})},onError:p=>{t({title:"Error",description:`Failed to save config: ${p.message}`,variant:"destructive"})}}),d=Lt({mutationFn:async()=>{const p=await fetch("/api/git/config/disconnect-github",{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!p.ok){const y=await p.json();throw new Error(y.detail||"Failed to disconnect GitHub")}return p.json()},onSuccess:()=>{t({title:"GitHub Disconnected",description:"Your GitHub account has been disconnected."}),e.invalidateQueries({queryKey:["userGitConfig"]})},onError:p=>{t({title:"Error",description:`Failed to disconnect GitHub: ${p.message}`,variant:"destructive"})}}),h=p=>{const{id:y,value:_}=p.target;o(b=>({...b,[y]:_}))},g=()=>{const p={default_author_name:s.default_author_name,default_author_email:s.default_author_email,default_repo_url:s.default_repo_url,default_local_path:s.default_local_path,default_branch:s.default_branch};f.mutate(p)},v=()=>{window.location.href="/api/git/github/authorize"},x=()=>{d.mutate()},m=a&&a.github_pat&&a.github_pat!=="********";return l?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(vn,{className:"h-6 w-6 animate-spin mx-auto"})," Loading Git settings..."]}):c&&c.message!=="Failed to fetch user Git config"?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error: ",c.message]}):u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(Dx,{className:"h-5 w-5"})," GitHub Integration"]}),u.jsx(Ut,{children:"Connect your GitHub account for seamless repository operations."})]}),u.jsxs(et,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[m?u.jsx(Uye,{className:"h-5 w-5 text-green-500"}):u.jsx(z$,{className:"h-5 w-5 text-red-500"}),u.jsx("span",{className:"font-medium",children:m?"Connected to GitHub":"Not Connected to GitHub"})]}),m?u.jsxs(ke,{variant:"destructive",onClick:x,disabled:d.isPending,children:[d.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(z$,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):u.jsxs(ke,{onClick:v,disabled:f.isPending,children:[u.jsx(Dx,{className:"h-4 w-4 mr-2"})," Connect to GitHub"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"default_author_name",children:"Default Author Name"}),u.jsx(jt,{id:"default_author_name",placeholder:"Your Name",value:s.default_author_name||"",onChange:h,disabled:f.isPending})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"default_author_email",children:"Default Author Email"}),u.jsx(jt,{id:"default_author_email",placeholder:"your@email.com",value:s.default_author_email||"",onChange:h,disabled:f.isPending})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"default_repo_url",children:"Default Repository URL"}),u.jsx(jt,{id:"default_repo_url",placeholder:"https://github.com/user/repo.git",value:s.default_repo_url||"",onChange:h,disabled:f.isPending})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"default_local_path",children:"Default Local Path"}),u.jsx(jt,{id:"default_local_path",placeholder:"my-project",value:s.default_local_path||"",onChange:h,disabled:f.isPending})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"default_branch",children:"Default Branch"}),u.jsx(jt,{id:"default_branch",placeholder:"main",value:s.default_branch||"",onChange:h,disabled:f.isPending})]})]}),u.jsxs(ke,{className:"w-full",onClick:g,disabled:f.isPending,children:[f.isPending?u.jsx(vn,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(KA,{className:"h-4 w-4 mr-2"}),"Save Git Settings"]})]})]})},Avt=async()=>new Promise(t=>{setTimeout(()=>{t({username:"vareon_user",email:"user@vareon.com"})},500)}),nq=async t=>new Promise((e,n)=>{setTimeout(()=>{t.username==="admin"?n(new Error('Username "admin" is reserved.')):e({message:"Profile updated successfully!"})},1e3)});function Tvt(){const{toast:t}=bo(),{logout:e}=ia(),[,n]=Ni(),[r,i]=A.useState(""),[s,o]=A.useState(""),[a,l]=A.useState(""),[c,f]=A.useState(""),[d,h]=A.useState(""),[g,v]=A.useState(!1);A.useEffect(()=>{v(!0),Avt().then(y=>{i(y.username),o(y.email),v(!1)}).catch(y=>{t({title:"Error",description:`Failed to load user data: ${y.message}`,variant:"destructive"}),v(!1)})},[t]);const x=async()=>{v(!0);try{const y={};r&&(y.username=r),s&&(y.email=s),await nq(y),t({title:"Profile Updated",description:"Your profile information has been updated."})}catch(y){t({title:"Error",description:`Failed to update profile: ${y.message}`,variant:"destructive"})}finally{v(!1)}},m=async()=>{if(v(!0),c!==d){t({title:"Error",description:"New password and confirmation do not match.",variant:"destructive"}),v(!1);return}if(!a||!c){t({title:"Error",description:"Current and new passwords cannot be empty.",variant:"destructive"}),v(!1);return}try{await nq({password:c}),t({title:"Password Updated",description:"Your password has been changed successfully."}),l(""),f(""),h("")}catch(y){t({title:"Error",description:`Failed to change password: ${y.message}`,variant:"destructive"})}finally{v(!1)}},p=()=>{e(),n("/auth"),t({title:"Logged Out",description:"You have been successfully logged out."})};return g?u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("p",{className:"text-muted-foreground",children:"Loading user profile..."})}):u.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-6",children:[u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(fb,{className:"h-5 w-5 text-primary"}),"User Profile"]}),u.jsx(Ut,{children:"Manage your account settings and profile information."})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"username",children:"Username"}),u.jsx(jt,{id:"username",type:"text",value:r,onChange:y=>i(y.target.value),disabled:g})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"email",children:"Email"}),u.jsx(jt,{id:"email",type:"email",value:s,onChange:y=>o(y.target.value),disabled:g})]}),u.jsx(ke,{onClick:x,disabled:g,children:g?"Saving...":"Save Profile"})]})]}),u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(_Y,{className:"h-5 w-5 text-primary"}),"Change Password"]}),u.jsx(Ut,{children:"Update your account password."})]}),u.jsxs(et,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"current-password",children:"Current Password"}),u.jsx(jt,{id:"current-password",type:"password",value:a,onChange:y=>l(y.target.value),disabled:g})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"new-password",children:"New Password"}),u.jsx(jt,{id:"new-password",type:"password",value:c,onChange:y=>f(y.target.value),disabled:g})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(mt,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),u.jsx(jt,{id:"confirm-new-password",type:"password",value:d,onChange:y=>h(y.target.value),disabled:g})]}),u.jsx(ke,{onClick:m,disabled:g,children:g?"Changing...":"Change Password"})]})]}),u.jsx(Mvt,{})," ",u.jsxs(Ge,{children:[u.jsxs(Ye,{children:[u.jsxs(Ze,{className:"flex items-center gap-2",children:[u.jsx(j$,{className:"h-5 w-5 text-primary"}),"Account Actions"]}),u.jsx(Ut,{children:"Perform actions related to your account."})]}),u.jsx(et,{children:u.jsxs(ke,{variant:"destructive",onClick:p,disabled:g,children:[u.jsx(j$,{className:"h-4 w-4 mr-2"}),"Logout"]})})]})]})}function Pvt(){return u.jsxs(lve,{children:[u.jsx(_s,{path:"/",component:ret}),u.jsx(_s,{path:"/arcana-demo",component:tet}),u.jsx(_s,{path:"/neosyntis-demo",component:oet}),u.jsx(_s,{path:"/myntrix-demo",component:set}),u.jsx(_s,{path:"/auth",component:net}),u.jsx(_s,{path:"/verify-email",component:uet}),u.jsx(_s,{path:"/waiting-for-verification",component:det}),u.jsxs(QJe,{children:[u.jsx(_s,{path:"/dashboard",component:vat}),u.jsx(_s,{path:"/dashboard/neosyntis",component:Cvt}),u.jsx(_s,{path:"/dashboard/myntrix",component:lvt}),u.jsx(_s,{path:"/dashboard/cognisys",component:pat}),u.jsx(_s,{path:"/dashboard/arcana",component:Cet}),u.jsx(_s,{path:"/dashboard/profile",component:Tvt})," "]}),u.jsx(_s,{component:aet})]})}function Nvt(){const t={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},[e]=Ni();return u.jsx(Ave,{client:Uve,children:u.jsx(BJe,{children:u.jsxs(qle,{children:[u.jsx(YZe,{style:t,children:u.jsxs("div",{className:"flex h-screen w-full",children:[e.startsWith("/dashboard")&&u.jsx(ZZe,{children:u.jsx($Je,{})}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs("header",{className:"flex items-center justify-between p-3 border-b bg-card",children:[e.startsWith("/dashboard")&&u.jsx(QZe,{"data-testid":"button-sidebar-toggle"}),u.jsx("div",{className:"flex items-center gap-2"})]}),u.jsx("main",{className:"flex-1 overflow-auto",children:u.jsx(Pvt,{})})]})]})}),u.jsx(zJe,{}),u.jsx(sJe,{})]})})})}l3(document.getElementById("root")).render(u.jsx(Nvt,{}));
