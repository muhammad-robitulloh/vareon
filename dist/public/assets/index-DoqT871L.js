var P0e=Object.defineProperty;var M6=t=>{throw TypeError(t)};var N0e=(t,e,n)=>e in t?P0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Cc=(t,e,n)=>N0e(t,typeof e!="symbol"?e+"":e,n),dk=(t,e,n)=>e.has(t)||M6("Cannot "+n);var ge=(t,e,n)=>(dk(t,e,"read from private field"),n?n.call(t):e.get(t)),Ht=(t,e,n)=>e.has(t)?M6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),xt=(t,e,n,r)=>(dk(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),hn=(t,e,n)=>(dk(t,e,"access private method"),n);var _S=(t,e,n,r)=>({set _(i){xt(t,e,i,n)},get _(){return ge(t,e,r)}});function R0e(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var bS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var WZ={exports:{}},uP={},GZ={exports:{}},bn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bw=Symbol.for("react.element"),k0e=Symbol.for("react.portal"),O0e=Symbol.for("react.fragment"),I0e=Symbol.for("react.strict_mode"),j0e=Symbol.for("react.profiler"),D0e=Symbol.for("react.provider"),L0e=Symbol.for("react.context"),F0e=Symbol.for("react.forward_ref"),B0e=Symbol.for("react.suspense"),U0e=Symbol.for("react.memo"),$0e=Symbol.for("react.lazy"),A6=Symbol.iterator;function z0e(t){return t===null||typeof t!="object"?null:(t=A6&&t[A6]||t["@@iterator"],typeof t=="function"?t:null)}var qZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KZ=Object.assign,XZ={};function Ay(t,e,n){this.props=t,this.context=e,this.refs=XZ,this.updater=n||qZ}Ay.prototype.isReactComponent={};Ay.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ay.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function YZ(){}YZ.prototype=Ay.prototype;function XF(t,e,n){this.props=t,this.context=e,this.refs=XZ,this.updater=n||qZ}var YF=XF.prototype=new YZ;YF.constructor=XF;KZ(YF,Ay.prototype);YF.isPureReactComponent=!0;var T6=Array.isArray,ZZ=Object.prototype.hasOwnProperty,ZF={current:null},QZ={key:!0,ref:!0,__self:!0,__source:!0};function JZ(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ZZ.call(e,r)&&!QZ.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:bw,type:t,key:s,ref:o,props:i,_owner:ZF.current}}function H0e(t,e){return{$$typeof:bw,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function QF(t){return typeof t=="object"&&t!==null&&t.$$typeof===bw}function V0e(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var P6=/\/+/g;function fk(t,e){return typeof t=="object"&&t!==null&&t.key!=null?V0e(""+t.key):e.toString(36)}function xE(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bw:case k0e:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+fk(o,0):r,T6(i)?(n="",t!=null&&(n=t.replace(P6,"$&/")+"/"),xE(i,e,n,"",function(c){return c})):i!=null&&(QF(i)&&(i=H0e(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(P6,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",T6(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+fk(s,a);o+=xE(s,e,n,l,i)}else if(l=z0e(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+fk(s,a++),o+=xE(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wS(t,e,n){if(t==null)return t;var r=[],i=0;return xE(t,r,"","",function(s){return e.call(n,s,i++)}),r}function W0e(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Es={current:null},_E={transition:null},G0e={ReactCurrentDispatcher:Es,ReactCurrentBatchConfig:_E,ReactCurrentOwner:ZF};function eQ(){throw Error("act(...) is not supported in production builds of React.")}bn.Children={map:wS,forEach:function(t,e,n){wS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wS(t,function(){e++}),e},toArray:function(t){return wS(t,function(e){return e})||[]},only:function(t){if(!QF(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};bn.Component=Ay;bn.Fragment=O0e;bn.Profiler=j0e;bn.PureComponent=XF;bn.StrictMode=I0e;bn.Suspense=B0e;bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G0e;bn.act=eQ;bn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=KZ({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ZF.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ZZ.call(e,l)&&!QZ.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:bw,type:t.type,key:i,ref:s,props:r,_owner:o}};bn.createContext=function(t){return t={$$typeof:L0e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:D0e,_context:t},t.Consumer=t};bn.createElement=JZ;bn.createFactory=function(t){var e=JZ.bind(null,t);return e.type=t,e};bn.createRef=function(){return{current:null}};bn.forwardRef=function(t){return{$$typeof:F0e,render:t}};bn.isValidElement=QF;bn.lazy=function(t){return{$$typeof:$0e,_payload:{_status:-1,_result:t},_init:W0e}};bn.memo=function(t,e){return{$$typeof:U0e,type:t,compare:e===void 0?null:e}};bn.startTransition=function(t){var e=_E.transition;_E.transition={};try{t()}finally{_E.transition=e}};bn.unstable_act=eQ;bn.useCallback=function(t,e){return Es.current.useCallback(t,e)};bn.useContext=function(t){return Es.current.useContext(t)};bn.useDebugValue=function(){};bn.useDeferredValue=function(t){return Es.current.useDeferredValue(t)};bn.useEffect=function(t,e){return Es.current.useEffect(t,e)};bn.useId=function(){return Es.current.useId()};bn.useImperativeHandle=function(t,e,n){return Es.current.useImperativeHandle(t,e,n)};bn.useInsertionEffect=function(t,e){return Es.current.useInsertionEffect(t,e)};bn.useLayoutEffect=function(t,e){return Es.current.useLayoutEffect(t,e)};bn.useMemo=function(t,e){return Es.current.useMemo(t,e)};bn.useReducer=function(t,e,n){return Es.current.useReducer(t,e,n)};bn.useRef=function(t){return Es.current.useRef(t)};bn.useState=function(t){return Es.current.useState(t)};bn.useSyncExternalStore=function(t,e,n){return Es.current.useSyncExternalStore(t,e,n)};bn.useTransition=function(){return Es.current.useTransition()};bn.version="18.3.1";GZ.exports=bn;var M=GZ.exports;const ne=Sn(M),dP=R0e({__proto__:null,default:ne},[M]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0e=M,K0e=Symbol.for("react.element"),X0e=Symbol.for("react.fragment"),Y0e=Object.prototype.hasOwnProperty,Z0e=q0e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Q0e={key:!0,ref:!0,__self:!0,__source:!0};function tQ(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Y0e.call(e,r)&&!Q0e.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:K0e,type:t,key:s,ref:o,props:i,_owner:Z0e.current}}uP.Fragment=X0e;uP.jsx=tQ;uP.jsxs=tQ;WZ.exports=uP;var u=WZ.exports,nQ={exports:{}},Oo={},rQ={exports:{}},iQ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,j){var B=R.length;R.push(j);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,j))R[W]=j,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],B=R.pop();if(B!==j){R[0]=B;e:for(var W=0,G=R.length,K=G>>>1;W<K;){var ie=2*(W+1)-1,le=R[ie],J=ie+1,U=R[J];if(0>i(le,B))J<G&&0>i(U,le)?(R[W]=U,R[J]=B,W=J):(R[W]=le,R[ie]=B,W=ie);else if(J<G&&0>i(U,B))R[W]=U,R[J]=B,W=J;else break e}}return j}function i(R,j){var B=R.sortIndex-j.sortIndex;return B!==0?B:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,g=!1,v=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=R)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function b(R){if(x=!1,_(R),!v)if(n(l)!==null)v=!0,z(w);else{var j=n(c);j!==null&&H(b,j.startTime-R)}}function w(R,j){v=!1,x&&(x=!1,p(T),T=-1),g=!0;var B=h;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||R&&!O());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var G=W(d.expirationTime<=j);j=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(j)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var ie=n(c);ie!==null&&H(b,ie.startTime-j),K=!1}return K}finally{d=null,h=B,g=!1}}var E=!1,A=null,T=-1,P=5,N=-1;function O(){return!(t.unstable_now()-N<P)}function I(){if(A!==null){var R=t.unstable_now();N=R;var j=!0;try{j=A(!0,R)}finally{j?D():(E=!1,A=null)}}else E=!1}var D;if(typeof y=="function")D=function(){y(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=I,D=function(){$.postMessage(null)}}else D=function(){m(I,0)};function z(R){A=R,E||(E=!0,D())}function H(R,j){T=m(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,z(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var B=h;h=j;try{return R()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return j()}finally{h=B}},t.unstable_scheduleCallback=function(R,j,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:f++,callback:j,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(x?(p(T),T=-1):x=!0,H(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,z(w))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var j=h;return function(){var B=h;h=j;try{return R.apply(this,arguments)}finally{h=B}}}})(iQ);rQ.exports=iQ;var J0e=rQ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_e=M,To=J0e;function nt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sQ=new Set,P_={};function Rp(t,e){vv(t,e),vv(t+"Capture",e)}function vv(t,e){for(P_[t]=e,t=0;t<e.length;t++)sQ.add(e[t])}var au=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cj=Object.prototype.hasOwnProperty,t_e=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N6={},R6={};function n_e(t){return Cj.call(R6,t)?!0:Cj.call(N6,t)?!1:t_e.test(t)?R6[t]=!0:(N6[t]=!0,!1)}function r_e(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function i_e(t,e,n,r){if(e===null||typeof e>"u"||r_e(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ms(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Bi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bi[t]=new Ms(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bi[e]=new Ms(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bi[t]=new Ms(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bi[t]=new Ms(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bi[t]=new Ms(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bi[t]=new Ms(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bi[t]=new Ms(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bi[t]=new Ms(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bi[t]=new Ms(t,5,!1,t.toLowerCase(),null,!1,!1)});var JF=/[\-:]([a-z])/g;function e4(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(JF,e4);Bi[e]=new Ms(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(JF,e4);Bi[e]=new Ms(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(JF,e4);Bi[e]=new Ms(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bi[t]=new Ms(t,1,!1,t.toLowerCase(),null,!1,!1)});Bi.xlinkHref=new Ms("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bi[t]=new Ms(t,1,!1,t.toLowerCase(),null,!0,!0)});function t4(t,e,n,r){var i=Bi.hasOwnProperty(e)?Bi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(i_e(e,n,i,r)&&(n=null),r||i===null?n_e(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Eu=e_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,SS=Symbol.for("react.element"),sg=Symbol.for("react.portal"),og=Symbol.for("react.fragment"),n4=Symbol.for("react.strict_mode"),Ej=Symbol.for("react.profiler"),oQ=Symbol.for("react.provider"),aQ=Symbol.for("react.context"),r4=Symbol.for("react.forward_ref"),Mj=Symbol.for("react.suspense"),Aj=Symbol.for("react.suspense_list"),i4=Symbol.for("react.memo"),dd=Symbol.for("react.lazy"),lQ=Symbol.for("react.offscreen"),k6=Symbol.iterator;function Dx(t){return t===null||typeof t!="object"?null:(t=k6&&t[k6]||t["@@iterator"],typeof t=="function"?t:null)}var Rr=Object.assign,hk;function P0(t){if(hk===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hk=e&&e[1]||""}return`
`+hk+t}var pk=!1;function mk(t,e){if(!t||pk)return"";pk=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pk=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?P0(t):""}function s_e(t){switch(t.tag){case 5:return P0(t.type);case 16:return P0("Lazy");case 13:return P0("Suspense");case 19:return P0("SuspenseList");case 0:case 2:case 15:return t=mk(t.type,!1),t;case 11:return t=mk(t.type.render,!1),t;case 1:return t=mk(t.type,!0),t;default:return""}}function Tj(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case og:return"Fragment";case sg:return"Portal";case Ej:return"Profiler";case n4:return"StrictMode";case Mj:return"Suspense";case Aj:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case aQ:return(t.displayName||"Context")+".Consumer";case oQ:return(t._context.displayName||"Context")+".Provider";case r4:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i4:return e=t.displayName||null,e!==null?e:Tj(t.type)||"Memo";case dd:e=t._payload,t=t._init;try{return Tj(t(e))}catch{}}return null}function o_e(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tj(e);case 8:return e===n4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Xd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cQ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a_e(t){var e=cQ(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function CS(t){t._valueTracker||(t._valueTracker=a_e(t))}function uQ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cQ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function iM(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pj(t,e){var n=e.checked;return Rr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function O6(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Xd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function dQ(t,e){e=e.checked,e!=null&&t4(t,"checked",e,!1)}function Nj(t,e){dQ(t,e);var n=Xd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Rj(t,e.type,n):e.hasOwnProperty("defaultValue")&&Rj(t,e.type,Xd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I6(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Rj(t,e,n){(e!=="number"||iM(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var N0=Array.isArray;function jg(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Xd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function kj(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Rr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function j6(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(nt(92));if(N0(n)){if(1<n.length)throw Error(nt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Xd(n)}}function fQ(t,e){var n=Xd(e.value),r=Xd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function D6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function hQ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Oj(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?hQ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ES,pQ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ES=ES||document.createElement("div"),ES.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ES.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function N_(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Y0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},l_e=["Webkit","ms","Moz","O"];Object.keys(Y0).forEach(function(t){l_e.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Y0[e]=Y0[t]})});function mQ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Y0.hasOwnProperty(t)&&Y0[t]?(""+e).trim():e+"px"}function gQ(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=mQ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var c_e=Rr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ij(t,e){if(e){if(c_e[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(nt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(nt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(nt(62))}}function jj(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dj=null;function s4(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lj=null,Dg=null,Lg=null;function L6(t){if(t=Cw(t)){if(typeof Lj!="function")throw Error(nt(280));var e=t.stateNode;e&&(e=gP(e),Lj(t.stateNode,t.type,e))}}function vQ(t){Dg?Lg?Lg.push(t):Lg=[t]:Dg=t}function yQ(){if(Dg){var t=Dg,e=Lg;if(Lg=Dg=null,L6(t),e)for(t=0;t<e.length;t++)L6(e[t])}}function xQ(t,e){return t(e)}function _Q(){}var gk=!1;function bQ(t,e,n){if(gk)return t(e,n);gk=!0;try{return xQ(t,e,n)}finally{gk=!1,(Dg!==null||Lg!==null)&&(_Q(),yQ())}}function R_(t,e){var n=t.stateNode;if(n===null)return null;var r=gP(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var Fj=!1;if(au)try{var Lx={};Object.defineProperty(Lx,"passive",{get:function(){Fj=!0}}),window.addEventListener("test",Lx,Lx),window.removeEventListener("test",Lx,Lx)}catch{Fj=!1}function u_e(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(f){this.onError(f)}}var Z0=!1,sM=null,oM=!1,Bj=null,d_e={onError:function(t){Z0=!0,sM=t}};function f_e(t,e,n,r,i,s,o,a,l){Z0=!1,sM=null,u_e.apply(d_e,arguments)}function h_e(t,e,n,r,i,s,o,a,l){if(f_e.apply(this,arguments),Z0){if(Z0){var c=sM;Z0=!1,sM=null}else throw Error(nt(198));oM||(oM=!0,Bj=c)}}function kp(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function wQ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function F6(t){if(kp(t)!==t)throw Error(nt(188))}function p_e(t){var e=t.alternate;if(!e){if(e=kp(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return F6(i),t;if(s===r)return F6(i),e;s=s.sibling}throw Error(nt(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(nt(189))}}if(n.alternate!==r)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function SQ(t){return t=p_e(t),t!==null?CQ(t):null}function CQ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CQ(t);if(e!==null)return e;t=t.sibling}return null}var EQ=To.unstable_scheduleCallback,B6=To.unstable_cancelCallback,m_e=To.unstable_shouldYield,g_e=To.unstable_requestPaint,Gr=To.unstable_now,v_e=To.unstable_getCurrentPriorityLevel,o4=To.unstable_ImmediatePriority,MQ=To.unstable_UserBlockingPriority,aM=To.unstable_NormalPriority,y_e=To.unstable_LowPriority,AQ=To.unstable_IdlePriority,fP=null,zl=null;function x_e(t){if(zl&&typeof zl.onCommitFiberRoot=="function")try{zl.onCommitFiberRoot(fP,t,void 0,(t.current.flags&128)===128)}catch{}}var Za=Math.clz32?Math.clz32:w_e,__e=Math.log,b_e=Math.LN2;function w_e(t){return t>>>=0,t===0?32:31-(__e(t)/b_e|0)|0}var MS=64,AS=4194304;function R0(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lM(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=R0(a):(s&=o,s!==0&&(r=R0(s)))}else o=n&~i,o!==0?r=R0(o):s!==0&&(r=R0(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Za(e),i=1<<n,r|=t[n],e&=~i;return r}function S_e(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function C_e(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Za(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=S_e(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Uj(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TQ(){var t=MS;return MS<<=1,!(MS&4194240)&&(MS=64),t}function vk(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ww(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Za(e),t[e]=n}function E_e(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Za(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function a4(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Za(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xn=0;function PQ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var NQ,l4,RQ,kQ,OQ,$j=!1,TS=[],Dd=null,Ld=null,Fd=null,k_=new Map,O_=new Map,pd=[],M_e="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function U6(t,e){switch(t){case"focusin":case"focusout":Dd=null;break;case"dragenter":case"dragleave":Ld=null;break;case"mouseover":case"mouseout":Fd=null;break;case"pointerover":case"pointerout":k_.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":O_.delete(e.pointerId)}}function Fx(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Cw(e),e!==null&&l4(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function A_e(t,e,n,r,i){switch(e){case"focusin":return Dd=Fx(Dd,t,e,n,r,i),!0;case"dragenter":return Ld=Fx(Ld,t,e,n,r,i),!0;case"mouseover":return Fd=Fx(Fd,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return k_.set(s,Fx(k_.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,O_.set(s,Fx(O_.get(s)||null,t,e,n,r,i)),!0}return!1}function IQ(t){var e=xh(t.target);if(e!==null){var n=kp(e);if(n!==null){if(e=n.tag,e===13){if(e=wQ(n),e!==null){t.blockedOn=e,OQ(t.priority,function(){RQ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bE(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=zj(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dj=r,n.target.dispatchEvent(r),Dj=null}else return e=Cw(n),e!==null&&l4(e),t.blockedOn=n,!1;e.shift()}return!0}function $6(t,e,n){bE(t)&&n.delete(e)}function T_e(){$j=!1,Dd!==null&&bE(Dd)&&(Dd=null),Ld!==null&&bE(Ld)&&(Ld=null),Fd!==null&&bE(Fd)&&(Fd=null),k_.forEach($6),O_.forEach($6)}function Bx(t,e){t.blockedOn===e&&(t.blockedOn=null,$j||($j=!0,To.unstable_scheduleCallback(To.unstable_NormalPriority,T_e)))}function I_(t){function e(i){return Bx(i,t)}if(0<TS.length){Bx(TS[0],t);for(var n=1;n<TS.length;n++){var r=TS[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dd!==null&&Bx(Dd,t),Ld!==null&&Bx(Ld,t),Fd!==null&&Bx(Fd,t),k_.forEach(e),O_.forEach(e),n=0;n<pd.length;n++)r=pd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<pd.length&&(n=pd[0],n.blockedOn===null);)IQ(n),n.blockedOn===null&&pd.shift()}var Fg=Eu.ReactCurrentBatchConfig,cM=!0;function P_e(t,e,n,r){var i=Xn,s=Fg.transition;Fg.transition=null;try{Xn=1,c4(t,e,n,r)}finally{Xn=i,Fg.transition=s}}function N_e(t,e,n,r){var i=Xn,s=Fg.transition;Fg.transition=null;try{Xn=4,c4(t,e,n,r)}finally{Xn=i,Fg.transition=s}}function c4(t,e,n,r){if(cM){var i=zj(t,e,n,r);if(i===null)Ak(t,e,r,uM,n),U6(t,r);else if(A_e(i,t,e,n,r))r.stopPropagation();else if(U6(t,r),e&4&&-1<M_e.indexOf(t)){for(;i!==null;){var s=Cw(i);if(s!==null&&NQ(s),s=zj(t,e,n,r),s===null&&Ak(t,e,r,uM,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ak(t,e,r,null,n)}}var uM=null;function zj(t,e,n,r){if(uM=null,t=s4(r),t=xh(t),t!==null)if(e=kp(t),e===null)t=null;else if(n=e.tag,n===13){if(t=wQ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uM=t,null}function jQ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v_e()){case o4:return 1;case MQ:return 4;case aM:case y_e:return 16;case AQ:return 536870912;default:return 16}default:return 16}}var Pd=null,u4=null,wE=null;function DQ(){if(wE)return wE;var t,e=u4,n=e.length,r,i="value"in Pd?Pd.value:Pd.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return wE=i.slice(t,1<r?1-r:void 0)}function SE(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function PS(){return!0}function z6(){return!1}function Io(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?PS:z6,this.isPropagationStopped=z6,this}return Rr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=PS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=PS)},persist:function(){},isPersistent:PS}),e}var Ty={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d4=Io(Ty),Sw=Rr({},Ty,{view:0,detail:0}),R_e=Io(Sw),yk,xk,Ux,hP=Rr({},Sw,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:f4,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ux&&(Ux&&t.type==="mousemove"?(yk=t.screenX-Ux.screenX,xk=t.screenY-Ux.screenY):xk=yk=0,Ux=t),yk)},movementY:function(t){return"movementY"in t?t.movementY:xk}}),H6=Io(hP),k_e=Rr({},hP,{dataTransfer:0}),O_e=Io(k_e),I_e=Rr({},Sw,{relatedTarget:0}),_k=Io(I_e),j_e=Rr({},Ty,{animationName:0,elapsedTime:0,pseudoElement:0}),D_e=Io(j_e),L_e=Rr({},Ty,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F_e=Io(L_e),B_e=Rr({},Ty,{data:0}),V6=Io(B_e),U_e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$_e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z_e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H_e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z_e[t])?!!e[t]:!1}function f4(){return H_e}var V_e=Rr({},Sw,{key:function(t){if(t.key){var e=U_e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=SE(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$_e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:f4,charCode:function(t){return t.type==="keypress"?SE(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?SE(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),W_e=Io(V_e),G_e=Rr({},hP,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),W6=Io(G_e),q_e=Rr({},Sw,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:f4}),K_e=Io(q_e),X_e=Rr({},Ty,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y_e=Io(X_e),Z_e=Rr({},hP,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Q_e=Io(Z_e),J_e=[9,13,27,32],h4=au&&"CompositionEvent"in window,Q0=null;au&&"documentMode"in document&&(Q0=document.documentMode);var ebe=au&&"TextEvent"in window&&!Q0,LQ=au&&(!h4||Q0&&8<Q0&&11>=Q0),G6=" ",q6=!1;function FQ(t,e){switch(t){case"keyup":return J_e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function BQ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ag=!1;function tbe(t,e){switch(t){case"compositionend":return BQ(e);case"keypress":return e.which!==32?null:(q6=!0,G6);case"textInput":return t=e.data,t===G6&&q6?null:t;default:return null}}function nbe(t,e){if(ag)return t==="compositionend"||!h4&&FQ(t,e)?(t=DQ(),wE=u4=Pd=null,ag=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return LQ&&e.locale!=="ko"?null:e.data;default:return null}}var rbe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function K6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rbe[t.type]:e==="textarea"}function UQ(t,e,n,r){vQ(r),e=dM(e,"onChange"),0<e.length&&(n=new d4("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var J0=null,j_=null;function ibe(t){ZQ(t,0)}function pP(t){var e=ug(t);if(uQ(e))return t}function sbe(t,e){if(t==="change")return e}var $Q=!1;if(au){var bk;if(au){var wk="oninput"in document;if(!wk){var X6=document.createElement("div");X6.setAttribute("oninput","return;"),wk=typeof X6.oninput=="function"}bk=wk}else bk=!1;$Q=bk&&(!document.documentMode||9<document.documentMode)}function Y6(){J0&&(J0.detachEvent("onpropertychange",zQ),j_=J0=null)}function zQ(t){if(t.propertyName==="value"&&pP(j_)){var e=[];UQ(e,j_,t,s4(t)),bQ(ibe,e)}}function obe(t,e,n){t==="focusin"?(Y6(),J0=e,j_=n,J0.attachEvent("onpropertychange",zQ)):t==="focusout"&&Y6()}function abe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pP(j_)}function lbe(t,e){if(t==="click")return pP(e)}function cbe(t,e){if(t==="input"||t==="change")return pP(e)}function ube(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sl=typeof Object.is=="function"?Object.is:ube;function D_(t,e){if(sl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Cj.call(e,i)||!sl(t[i],e[i]))return!1}return!0}function Z6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q6(t,e){var n=Z6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Z6(n)}}function HQ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?HQ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function VQ(){for(var t=window,e=iM();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=iM(t.document)}return e}function p4(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dbe(t){var e=VQ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&HQ(n.ownerDocument.documentElement,n)){if(r!==null&&p4(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Q6(n,s);var o=Q6(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var fbe=au&&"documentMode"in document&&11>=document.documentMode,lg=null,Hj=null,e_=null,Vj=!1;function J6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Vj||lg==null||lg!==iM(r)||(r=lg,"selectionStart"in r&&p4(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),e_&&D_(e_,r)||(e_=r,r=dM(Hj,"onSelect"),0<r.length&&(e=new d4("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=lg)))}function NS(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var cg={animationend:NS("Animation","AnimationEnd"),animationiteration:NS("Animation","AnimationIteration"),animationstart:NS("Animation","AnimationStart"),transitionend:NS("Transition","TransitionEnd")},Sk={},WQ={};au&&(WQ=document.createElement("div").style,"AnimationEvent"in window||(delete cg.animationend.animation,delete cg.animationiteration.animation,delete cg.animationstart.animation),"TransitionEvent"in window||delete cg.transitionend.transition);function mP(t){if(Sk[t])return Sk[t];if(!cg[t])return t;var e=cg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in WQ)return Sk[t]=e[n];return t}var GQ=mP("animationend"),qQ=mP("animationiteration"),KQ=mP("animationstart"),XQ=mP("transitionend"),YQ=new Map,eV="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function af(t,e){YQ.set(t,e),Rp(e,[t])}for(var Ck=0;Ck<eV.length;Ck++){var Ek=eV[Ck],hbe=Ek.toLowerCase(),pbe=Ek[0].toUpperCase()+Ek.slice(1);af(hbe,"on"+pbe)}af(GQ,"onAnimationEnd");af(qQ,"onAnimationIteration");af(KQ,"onAnimationStart");af("dblclick","onDoubleClick");af("focusin","onFocus");af("focusout","onBlur");af(XQ,"onTransitionEnd");vv("onMouseEnter",["mouseout","mouseover"]);vv("onMouseLeave",["mouseout","mouseover"]);vv("onPointerEnter",["pointerout","pointerover"]);vv("onPointerLeave",["pointerout","pointerover"]);Rp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var k0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mbe=new Set("cancel close invalid load scroll toggle".split(" ").concat(k0));function tV(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,h_e(r,e,void 0,t),t.currentTarget=null}function ZQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;tV(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;tV(i,a,c),s=l}}}if(oM)throw t=Bj,oM=!1,Bj=null,t}function dr(t,e){var n=e[Xj];n===void 0&&(n=e[Xj]=new Set);var r=t+"__bubble";n.has(r)||(QQ(e,t,2,!1),n.add(r))}function Mk(t,e,n){var r=0;e&&(r|=4),QQ(n,t,r,e)}var RS="_reactListening"+Math.random().toString(36).slice(2);function L_(t){if(!t[RS]){t[RS]=!0,sQ.forEach(function(n){n!=="selectionchange"&&(mbe.has(n)||Mk(n,!1,t),Mk(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[RS]||(e[RS]=!0,Mk("selectionchange",!1,e))}}function QQ(t,e,n,r){switch(jQ(e)){case 1:var i=P_e;break;case 4:i=N_e;break;default:i=c4}n=i.bind(null,e,n,t),i=void 0,!Fj||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ak(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=xh(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}bQ(function(){var c=s,f=s4(n),d=[];e:{var h=YQ.get(t);if(h!==void 0){var g=d4,v=t;switch(t){case"keypress":if(SE(n)===0)break e;case"keydown":case"keyup":g=W_e;break;case"focusin":v="focus",g=_k;break;case"focusout":v="blur",g=_k;break;case"beforeblur":case"afterblur":g=_k;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=H6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=O_e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=K_e;break;case GQ:case qQ:case KQ:g=D_e;break;case XQ:g=Y_e;break;case"scroll":g=R_e;break;case"wheel":g=Q_e;break;case"copy":case"cut":case"paste":g=F_e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=W6}var x=(e&4)!==0,m=!x&&t==="scroll",p=x?h!==null?h+"Capture":null:h;x=[];for(var y=c,_;y!==null;){_=y;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,p!==null&&(b=R_(y,p),b!=null&&x.push(F_(y,b,_)))),m)break;y=y.return}0<x.length&&(h=new g(h,v,null,n,f),d.push({event:h,listeners:x}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==Dj&&(v=n.relatedTarget||n.fromElement)&&(xh(v)||v[lu]))break e;if((g||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=c,v=v?xh(v):null,v!==null&&(m=kp(v),v!==m||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=c),g!==v)){if(x=H6,b="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(x=W6,b="onPointerLeave",p="onPointerEnter",y="pointer"),m=g==null?h:ug(g),_=v==null?h:ug(v),h=new x(b,y+"leave",g,n,f),h.target=m,h.relatedTarget=_,b=null,xh(f)===c&&(x=new x(p,y+"enter",v,n,f),x.target=_,x.relatedTarget=m,b=x),m=b,g&&v)t:{for(x=g,p=v,y=0,_=x;_;_=vm(_))y++;for(_=0,b=p;b;b=vm(b))_++;for(;0<y-_;)x=vm(x),y--;for(;0<_-y;)p=vm(p),_--;for(;y--;){if(x===p||p!==null&&x===p.alternate)break t;x=vm(x),p=vm(p)}x=null}else x=null;g!==null&&nV(d,h,g,x,!1),v!==null&&m!==null&&nV(d,m,v,x,!0)}}e:{if(h=c?ug(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var w=sbe;else if(K6(h))if($Q)w=cbe;else{w=abe;var E=obe}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=lbe);if(w&&(w=w(t,c))){UQ(d,w,n,f);break e}E&&E(t,h,c),t==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&Rj(h,"number",h.value)}switch(E=c?ug(c):window,t){case"focusin":(K6(E)||E.contentEditable==="true")&&(lg=E,Hj=c,e_=null);break;case"focusout":e_=Hj=lg=null;break;case"mousedown":Vj=!0;break;case"contextmenu":case"mouseup":case"dragend":Vj=!1,J6(d,n,f);break;case"selectionchange":if(fbe)break;case"keydown":case"keyup":J6(d,n,f)}var A;if(h4)e:{switch(t){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else ag?FQ(t,n)&&(T="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(LQ&&n.locale!=="ko"&&(ag||T!=="onCompositionStart"?T==="onCompositionEnd"&&ag&&(A=DQ()):(Pd=f,u4="value"in Pd?Pd.value:Pd.textContent,ag=!0)),E=dM(c,T),0<E.length&&(T=new V6(T,t,null,n,f),d.push({event:T,listeners:E}),A?T.data=A:(A=BQ(n),A!==null&&(T.data=A)))),(A=ebe?tbe(t,n):nbe(t,n))&&(c=dM(c,"onBeforeInput"),0<c.length&&(f=new V6("onBeforeInput","beforeinput",null,n,f),d.push({event:f,listeners:c}),f.data=A))}ZQ(d,e)})}function F_(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dM(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=R_(t,n),s!=null&&r.unshift(F_(t,s,i)),s=R_(t,e),s!=null&&r.push(F_(t,s,i))),t=t.return}return r}function vm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nV(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=R_(n,s),l!=null&&o.unshift(F_(n,l,a))):i||(l=R_(n,s),l!=null&&o.push(F_(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gbe=/\r\n?/g,vbe=/\u0000|\uFFFD/g;function rV(t){return(typeof t=="string"?t:""+t).replace(gbe,`
`).replace(vbe,"")}function kS(t,e,n){if(e=rV(e),rV(t)!==e&&n)throw Error(nt(425))}function fM(){}var Wj=null,Gj=null;function qj(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kj=typeof setTimeout=="function"?setTimeout:void 0,ybe=typeof clearTimeout=="function"?clearTimeout:void 0,iV=typeof Promise=="function"?Promise:void 0,xbe=typeof queueMicrotask=="function"?queueMicrotask:typeof iV<"u"?function(t){return iV.resolve(null).then(t).catch(_be)}:Kj;function _be(t){setTimeout(function(){throw t})}function Tk(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),I_(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);I_(e)}function Bd(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function sV(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Py=Math.random().toString(36).slice(2),Il="__reactFiber$"+Py,B_="__reactProps$"+Py,lu="__reactContainer$"+Py,Xj="__reactEvents$"+Py,bbe="__reactListeners$"+Py,wbe="__reactHandles$"+Py;function xh(t){var e=t[Il];if(e)return e;for(var n=t.parentNode;n;){if(e=n[lu]||n[Il]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=sV(t);t!==null;){if(n=t[Il])return n;t=sV(t)}return e}t=n,n=t.parentNode}return null}function Cw(t){return t=t[Il]||t[lu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ug(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function gP(t){return t[B_]||null}var Yj=[],dg=-1;function lf(t){return{current:t}}function mr(t){0>dg||(t.current=Yj[dg],Yj[dg]=null,dg--)}function or(t,e){dg++,Yj[dg]=t.current,t.current=e}var Yd={},cs=lf(Yd),qs=lf(!1),tp=Yd;function yv(t,e){var n=t.type.contextTypes;if(!n)return Yd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ks(t){return t=t.childContextTypes,t!=null}function hM(){mr(qs),mr(cs)}function oV(t,e,n){if(cs.current!==Yd)throw Error(nt(168));or(cs,e),or(qs,n)}function JQ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(nt(108,o_e(t)||"Unknown",i));return Rr({},n,r)}function pM(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yd,tp=cs.current,or(cs,t),or(qs,qs.current),!0}function aV(t,e,n){var r=t.stateNode;if(!r)throw Error(nt(169));n?(t=JQ(t,e,tp),r.__reactInternalMemoizedMergedChildContext=t,mr(qs),mr(cs),or(cs,t)):mr(qs),or(qs,n)}var Bc=null,vP=!1,Pk=!1;function eJ(t){Bc===null?Bc=[t]:Bc.push(t)}function Sbe(t){vP=!0,eJ(t)}function cf(){if(!Pk&&Bc!==null){Pk=!0;var t=0,e=Xn;try{var n=Bc;for(Xn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Bc=null,vP=!1}catch(i){throw Bc!==null&&(Bc=Bc.slice(t+1)),EQ(o4,cf),i}finally{Xn=e,Pk=!1}}return null}var fg=[],hg=0,mM=null,gM=0,na=[],ra=0,np=null,Vc=1,Wc="";function ih(t,e){fg[hg++]=gM,fg[hg++]=mM,mM=t,gM=e}function tJ(t,e,n){na[ra++]=Vc,na[ra++]=Wc,na[ra++]=np,np=t;var r=Vc;t=Wc;var i=32-Za(r)-1;r&=~(1<<i),n+=1;var s=32-Za(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Vc=1<<32-Za(e)+i|n<<i|r,Wc=s+t}else Vc=1<<s|n<<i|r,Wc=t}function m4(t){t.return!==null&&(ih(t,1),tJ(t,1,0))}function g4(t){for(;t===mM;)mM=fg[--hg],fg[hg]=null,gM=fg[--hg],fg[hg]=null;for(;t===np;)np=na[--ra],na[ra]=null,Wc=na[--ra],na[ra]=null,Vc=na[--ra],na[ra]=null}var wo=null,yo=null,yr=!1,$a=null;function nJ(t,e){var n=sa(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lV(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wo=t,yo=Bd(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wo=t,yo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=np!==null?{id:Vc,overflow:Wc}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=sa(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wo=t,yo=null,!0):!1;default:return!1}}function Zj(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qj(t){if(yr){var e=yo;if(e){var n=e;if(!lV(t,e)){if(Zj(t))throw Error(nt(418));e=Bd(n.nextSibling);var r=wo;e&&lV(t,e)?nJ(r,n):(t.flags=t.flags&-4097|2,yr=!1,wo=t)}}else{if(Zj(t))throw Error(nt(418));t.flags=t.flags&-4097|2,yr=!1,wo=t}}}function cV(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wo=t}function OS(t){if(t!==wo)return!1;if(!yr)return cV(t),yr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qj(t.type,t.memoizedProps)),e&&(e=yo)){if(Zj(t))throw rJ(),Error(nt(418));for(;e;)nJ(t,e),e=Bd(e.nextSibling)}if(cV(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){yo=Bd(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}yo=null}}else yo=wo?Bd(t.stateNode.nextSibling):null;return!0}function rJ(){for(var t=yo;t;)t=Bd(t.nextSibling)}function xv(){yo=wo=null,yr=!1}function v4(t){$a===null?$a=[t]:$a.push(t)}var Cbe=Eu.ReactCurrentBatchConfig;function $x(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nt(309));var r=n.stateNode}if(!r)throw Error(nt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(nt(284));if(!n._owner)throw Error(nt(290,t))}return t}function IS(t,e){throw t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function uV(t){var e=t._init;return e(t._payload)}function iJ(t){function e(p,y){if(t){var _=p.deletions;_===null?(p.deletions=[y],p.flags|=16):_.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Hd(p,y),p.index=0,p.sibling=null,p}function s(p,y,_){return p.index=_,t?(_=p.alternate,_!==null?(_=_.index,_<y?(p.flags|=2,y):_):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,y,_,b){return y===null||y.tag!==6?(y=Dk(_,p.mode,b),y.return=p,y):(y=i(y,_),y.return=p,y)}function l(p,y,_,b){var w=_.type;return w===og?f(p,y,_.props.children,b,_.key):y!==null&&(y.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===dd&&uV(w)===y.type)?(b=i(y,_.props),b.ref=$x(p,y,_),b.return=p,b):(b=NE(_.type,_.key,_.props,null,p.mode,b),b.ref=$x(p,y,_),b.return=p,b)}function c(p,y,_,b){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=Lk(_,p.mode,b),y.return=p,y):(y=i(y,_.children||[]),y.return=p,y)}function f(p,y,_,b,w){return y===null||y.tag!==7?(y=$h(_,p.mode,b,w),y.return=p,y):(y=i(y,_),y.return=p,y)}function d(p,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Dk(""+y,p.mode,_),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case SS:return _=NE(y.type,y.key,y.props,null,p.mode,_),_.ref=$x(p,null,y),_.return=p,_;case sg:return y=Lk(y,p.mode,_),y.return=p,y;case dd:var b=y._init;return d(p,b(y._payload),_)}if(N0(y)||Dx(y))return y=$h(y,p.mode,_,null),y.return=p,y;IS(p,y)}return null}function h(p,y,_,b){var w=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return w!==null?null:a(p,y,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case SS:return _.key===w?l(p,y,_,b):null;case sg:return _.key===w?c(p,y,_,b):null;case dd:return w=_._init,h(p,y,w(_._payload),b)}if(N0(_)||Dx(_))return w!==null?null:f(p,y,_,b,null);IS(p,_)}return null}function g(p,y,_,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(_)||null,a(y,p,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case SS:return p=p.get(b.key===null?_:b.key)||null,l(y,p,b,w);case sg:return p=p.get(b.key===null?_:b.key)||null,c(y,p,b,w);case dd:var E=b._init;return g(p,y,_,E(b._payload),w)}if(N0(b)||Dx(b))return p=p.get(_)||null,f(y,p,b,w,null);IS(y,b)}return null}function v(p,y,_,b){for(var w=null,E=null,A=y,T=y=0,P=null;A!==null&&T<_.length;T++){A.index>T?(P=A,A=null):P=A.sibling;var N=h(p,A,_[T],b);if(N===null){A===null&&(A=P);break}t&&A&&N.alternate===null&&e(p,A),y=s(N,y,T),E===null?w=N:E.sibling=N,E=N,A=P}if(T===_.length)return n(p,A),yr&&ih(p,T),w;if(A===null){for(;T<_.length;T++)A=d(p,_[T],b),A!==null&&(y=s(A,y,T),E===null?w=A:E.sibling=A,E=A);return yr&&ih(p,T),w}for(A=r(p,A);T<_.length;T++)P=g(A,p,T,_[T],b),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?T:P.key),y=s(P,y,T),E===null?w=P:E.sibling=P,E=P);return t&&A.forEach(function(O){return e(p,O)}),yr&&ih(p,T),w}function x(p,y,_,b){var w=Dx(_);if(typeof w!="function")throw Error(nt(150));if(_=w.call(_),_==null)throw Error(nt(151));for(var E=w=null,A=y,T=y=0,P=null,N=_.next();A!==null&&!N.done;T++,N=_.next()){A.index>T?(P=A,A=null):P=A.sibling;var O=h(p,A,N.value,b);if(O===null){A===null&&(A=P);break}t&&A&&O.alternate===null&&e(p,A),y=s(O,y,T),E===null?w=O:E.sibling=O,E=O,A=P}if(N.done)return n(p,A),yr&&ih(p,T),w;if(A===null){for(;!N.done;T++,N=_.next())N=d(p,N.value,b),N!==null&&(y=s(N,y,T),E===null?w=N:E.sibling=N,E=N);return yr&&ih(p,T),w}for(A=r(p,A);!N.done;T++,N=_.next())N=g(A,p,T,N.value,b),N!==null&&(t&&N.alternate!==null&&A.delete(N.key===null?T:N.key),y=s(N,y,T),E===null?w=N:E.sibling=N,E=N);return t&&A.forEach(function(I){return e(p,I)}),yr&&ih(p,T),w}function m(p,y,_,b){if(typeof _=="object"&&_!==null&&_.type===og&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case SS:e:{for(var w=_.key,E=y;E!==null;){if(E.key===w){if(w=_.type,w===og){if(E.tag===7){n(p,E.sibling),y=i(E,_.props.children),y.return=p,p=y;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===dd&&uV(w)===E.type){n(p,E.sibling),y=i(E,_.props),y.ref=$x(p,E,_),y.return=p,p=y;break e}n(p,E);break}else e(p,E);E=E.sibling}_.type===og?(y=$h(_.props.children,p.mode,b,_.key),y.return=p,p=y):(b=NE(_.type,_.key,_.props,null,p.mode,b),b.ref=$x(p,y,_),b.return=p,p=b)}return o(p);case sg:e:{for(E=_.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(p,y.sibling),y=i(y,_.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=Lk(_,p.mode,b),y.return=p,p=y}return o(p);case dd:return E=_._init,m(p,y,E(_._payload),b)}if(N0(_))return v(p,y,_,b);if(Dx(_))return x(p,y,_,b);IS(p,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,_),y.return=p,p=y):(n(p,y),y=Dk(_,p.mode,b),y.return=p,p=y),o(p)):n(p,y)}return m}var _v=iJ(!0),sJ=iJ(!1),vM=lf(null),yM=null,pg=null,y4=null;function x4(){y4=pg=yM=null}function _4(t){var e=vM.current;mr(vM),t._currentValue=e}function Jj(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bg(t,e){yM=t,y4=pg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hs=!0),t.firstContext=null)}function da(t){var e=t._currentValue;if(y4!==t)if(t={context:t,memoizedValue:e,next:null},pg===null){if(yM===null)throw Error(nt(308));pg=t,yM.dependencies={lanes:0,firstContext:t}}else pg=pg.next=t;return e}var _h=null;function b4(t){_h===null?_h=[t]:_h.push(t)}function oJ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,b4(e)):(n.next=i.next,i.next=n),e.interleaved=n,cu(t,r)}function cu(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var fd=!1;function w4(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aJ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Zc(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ud(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,cu(t,n)}return i=r.interleaved,i===null?(e.next=e,b4(r)):(e.next=i.next,i.next=e),r.interleaved=e,cu(t,n)}function CE(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a4(t,n)}}function dV(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function xM(t,e,n,r){var i=t.updateQueue;fd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,f=c=l=null,a=s;do{var h=a.lane,g=a.eventTime;if((r&h)===h){f!==null&&(f=f.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,x=a;switch(h=e,g=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(g,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(g,d,h):v,h==null)break e;d=Rr({},d,h);break e;case 2:fd=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=g,l=d):f=f.next=g,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(f===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ip|=o,t.lanes=o,t.memoizedState=d}}function fV(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(nt(191,i));i.call(r)}}}var Ew={},Hl=lf(Ew),U_=lf(Ew),$_=lf(Ew);function bh(t){if(t===Ew)throw Error(nt(174));return t}function S4(t,e){switch(or($_,e),or(U_,t),or(Hl,Ew),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Oj(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Oj(e,t)}mr(Hl),or(Hl,e)}function bv(){mr(Hl),mr(U_),mr($_)}function lJ(t){bh($_.current);var e=bh(Hl.current),n=Oj(e,t.type);e!==n&&(or(U_,t),or(Hl,n))}function C4(t){U_.current===t&&(mr(Hl),mr(U_))}var Er=lf(0);function _M(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nk=[];function E4(){for(var t=0;t<Nk.length;t++)Nk[t]._workInProgressVersionPrimary=null;Nk.length=0}var EE=Eu.ReactCurrentDispatcher,Rk=Eu.ReactCurrentBatchConfig,rp=0,Nr=null,ci=null,Ei=null,bM=!1,t_=!1,z_=0,Ebe=0;function Gi(){throw Error(nt(321))}function M4(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sl(t[n],e[n]))return!1;return!0}function A4(t,e,n,r,i,s){if(rp=s,Nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,EE.current=t===null||t.memoizedState===null?Pbe:Nbe,t=n(r,i),t_){s=0;do{if(t_=!1,z_=0,25<=s)throw Error(nt(301));s+=1,Ei=ci=null,e.updateQueue=null,EE.current=Rbe,t=n(r,i)}while(t_)}if(EE.current=wM,e=ci!==null&&ci.next!==null,rp=0,Ei=ci=Nr=null,bM=!1,e)throw Error(nt(300));return t}function T4(){var t=z_!==0;return z_=0,t}function Tl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ei===null?Nr.memoizedState=Ei=t:Ei=Ei.next=t,Ei}function fa(){if(ci===null){var t=Nr.alternate;t=t!==null?t.memoizedState:null}else t=ci.next;var e=Ei===null?Nr.memoizedState:Ei.next;if(e!==null)Ei=e,ci=t;else{if(t===null)throw Error(nt(310));ci=t,t={memoizedState:ci.memoizedState,baseState:ci.baseState,baseQueue:ci.baseQueue,queue:ci.queue,next:null},Ei===null?Nr.memoizedState=Ei=t:Ei=Ei.next=t}return Ei}function H_(t,e){return typeof e=="function"?e(t):e}function kk(t){var e=fa(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=ci,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var f=c.lane;if((rp&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Nr.lanes|=f,ip|=f}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,sl(r,e.memoizedState)||(Hs=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Nr.lanes|=s,ip|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ok(t){var e=fa(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);sl(s,e.memoizedState)||(Hs=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function cJ(){}function uJ(t,e){var n=Nr,r=fa(),i=e(),s=!sl(r.memoizedState,i);if(s&&(r.memoizedState=i,Hs=!0),r=r.queue,P4(hJ.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Ei!==null&&Ei.memoizedState.tag&1){if(n.flags|=2048,V_(9,fJ.bind(null,n,r,i,e),void 0,null),Pi===null)throw Error(nt(349));rp&30||dJ(n,e,i)}return i}function dJ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fJ(t,e,n,r){e.value=n,e.getSnapshot=r,pJ(e)&&mJ(t)}function hJ(t,e,n){return n(function(){pJ(e)&&mJ(t)})}function pJ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sl(t,n)}catch{return!0}}function mJ(t){var e=cu(t,1);e!==null&&Qa(e,t,1,-1)}function hV(t){var e=Tl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:H_,lastRenderedState:t},e.queue=t,t=t.dispatch=Tbe.bind(null,Nr,t),[e.memoizedState,t]}function V_(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function gJ(){return fa().memoizedState}function ME(t,e,n,r){var i=Tl();Nr.flags|=t,i.memoizedState=V_(1|e,n,void 0,r===void 0?null:r)}function yP(t,e,n,r){var i=fa();r=r===void 0?null:r;var s=void 0;if(ci!==null){var o=ci.memoizedState;if(s=o.destroy,r!==null&&M4(r,o.deps)){i.memoizedState=V_(e,n,s,r);return}}Nr.flags|=t,i.memoizedState=V_(1|e,n,s,r)}function pV(t,e){return ME(8390656,8,t,e)}function P4(t,e){return yP(2048,8,t,e)}function vJ(t,e){return yP(4,2,t,e)}function yJ(t,e){return yP(4,4,t,e)}function xJ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function _J(t,e,n){return n=n!=null?n.concat([t]):null,yP(4,4,xJ.bind(null,e,t),n)}function N4(){}function bJ(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M4(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function wJ(t,e){var n=fa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&M4(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function SJ(t,e,n){return rp&21?(sl(n,e)||(n=TQ(),Nr.lanes|=n,ip|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hs=!0),t.memoizedState=n)}function Mbe(t,e){var n=Xn;Xn=n!==0&&4>n?n:4,t(!0);var r=Rk.transition;Rk.transition={};try{t(!1),e()}finally{Xn=n,Rk.transition=r}}function CJ(){return fa().memoizedState}function Abe(t,e,n){var r=zd(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},EJ(t))MJ(e,n);else if(n=oJ(t,e,n,r),n!==null){var i=Cs();Qa(n,t,r,i),AJ(n,e,r)}}function Tbe(t,e,n){var r=zd(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(EJ(t))MJ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,sl(a,o)){var l=e.interleaved;l===null?(i.next=i,b4(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=oJ(t,e,i,r),n!==null&&(i=Cs(),Qa(n,t,r,i),AJ(n,e,r))}}function EJ(t){var e=t.alternate;return t===Nr||e!==null&&e===Nr}function MJ(t,e){t_=bM=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AJ(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,a4(t,n)}}var wM={readContext:da,useCallback:Gi,useContext:Gi,useEffect:Gi,useImperativeHandle:Gi,useInsertionEffect:Gi,useLayoutEffect:Gi,useMemo:Gi,useReducer:Gi,useRef:Gi,useState:Gi,useDebugValue:Gi,useDeferredValue:Gi,useTransition:Gi,useMutableSource:Gi,useSyncExternalStore:Gi,useId:Gi,unstable_isNewReconciler:!1},Pbe={readContext:da,useCallback:function(t,e){return Tl().memoizedState=[t,e===void 0?null:e],t},useContext:da,useEffect:pV,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ME(4194308,4,xJ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ME(4194308,4,t,e)},useInsertionEffect:function(t,e){return ME(4,2,t,e)},useMemo:function(t,e){var n=Tl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Abe.bind(null,Nr,t),[r.memoizedState,t]},useRef:function(t){var e=Tl();return t={current:t},e.memoizedState=t},useState:hV,useDebugValue:N4,useDeferredValue:function(t){return Tl().memoizedState=t},useTransition:function(){var t=hV(!1),e=t[0];return t=Mbe.bind(null,t[1]),Tl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nr,i=Tl();if(yr){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),Pi===null)throw Error(nt(349));rp&30||dJ(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,pV(hJ.bind(null,r,s,t),[t]),r.flags|=2048,V_(9,fJ.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tl(),e=Pi.identifierPrefix;if(yr){var n=Wc,r=Vc;n=(r&~(1<<32-Za(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=z_++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ebe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nbe={readContext:da,useCallback:bJ,useContext:da,useEffect:P4,useImperativeHandle:_J,useInsertionEffect:vJ,useLayoutEffect:yJ,useMemo:wJ,useReducer:kk,useRef:gJ,useState:function(){return kk(H_)},useDebugValue:N4,useDeferredValue:function(t){var e=fa();return SJ(e,ci.memoizedState,t)},useTransition:function(){var t=kk(H_)[0],e=fa().memoizedState;return[t,e]},useMutableSource:cJ,useSyncExternalStore:uJ,useId:CJ,unstable_isNewReconciler:!1},Rbe={readContext:da,useCallback:bJ,useContext:da,useEffect:P4,useImperativeHandle:_J,useInsertionEffect:vJ,useLayoutEffect:yJ,useMemo:wJ,useReducer:Ok,useRef:gJ,useState:function(){return Ok(H_)},useDebugValue:N4,useDeferredValue:function(t){var e=fa();return ci===null?e.memoizedState=t:SJ(e,ci.memoizedState,t)},useTransition:function(){var t=Ok(H_)[0],e=fa().memoizedState;return[t,e]},useMutableSource:cJ,useSyncExternalStore:uJ,useId:CJ,unstable_isNewReconciler:!1};function Oa(t,e){if(t&&t.defaultProps){e=Rr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function eD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xP={isMounted:function(t){return(t=t._reactInternals)?kp(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Cs(),i=zd(t),s=Zc(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ud(t,s,i),e!==null&&(Qa(e,t,i,r),CE(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Cs(),i=zd(t),s=Zc(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ud(t,s,i),e!==null&&(Qa(e,t,i,r),CE(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Cs(),r=zd(t),i=Zc(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ud(t,i,r),e!==null&&(Qa(e,t,r,n),CE(e,t,r))}};function mV(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!D_(n,r)||!D_(i,s):!0}function TJ(t,e,n){var r=!1,i=Yd,s=e.contextType;return typeof s=="object"&&s!==null?s=da(s):(i=Ks(e)?tp:cs.current,r=e.contextTypes,s=(r=r!=null)?yv(t,i):Yd),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xP,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function gV(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xP.enqueueReplaceState(e,e.state,null)}function tD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},w4(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=da(s):(s=Ks(e)?tp:cs.current,i.context=yv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(eD(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xP.enqueueReplaceState(i,i.state,null),xM(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function wv(t,e){try{var n="",r=e;do n+=s_e(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ik(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kbe=typeof WeakMap=="function"?WeakMap:Map;function PJ(t,e,n){n=Zc(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){CM||(CM=!0,fD=r),nD(t,e)},n}function NJ(t,e,n){n=Zc(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nD(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nD(t,e),typeof r!="function"&&($d===null?$d=new Set([this]):$d.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function vV(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kbe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Gbe.bind(null,t,e,n),e.then(t,t))}function yV(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xV(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Zc(-1,1),e.tag=2,Ud(n,e,1))),n.lanes|=1),t)}var Obe=Eu.ReactCurrentOwner,Hs=!1;function ys(t,e,n,r){e.child=t===null?sJ(e,null,n,r):_v(e,t.child,n,r)}function _V(t,e,n,r,i){n=n.render;var s=e.ref;return Bg(e,i),r=A4(t,e,n,r,s,i),n=T4(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uu(t,e,i)):(yr&&n&&m4(e),e.flags|=1,ys(t,e,r,i),e.child)}function bV(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!F4(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,RJ(t,e,s,r,i)):(t=NE(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:D_,n(o,r)&&t.ref===e.ref)return uu(t,e,i)}return e.flags|=1,t=Hd(s,r),t.ref=e.ref,t.return=e,e.child=t}function RJ(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(D_(s,r)&&t.ref===e.ref)if(Hs=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Hs=!0);else return e.lanes=t.lanes,uu(t,e,i)}return rD(t,e,n,r,i)}function kJ(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},or(gg,ho),ho|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,or(gg,ho),ho|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,or(gg,ho),ho|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,or(gg,ho),ho|=r;return ys(t,e,i,n),e.child}function OJ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rD(t,e,n,r,i){var s=Ks(n)?tp:cs.current;return s=yv(e,s),Bg(e,i),n=A4(t,e,n,r,s,i),r=T4(),t!==null&&!Hs?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,uu(t,e,i)):(yr&&r&&m4(e),e.flags|=1,ys(t,e,n,i),e.child)}function wV(t,e,n,r,i){if(Ks(n)){var s=!0;pM(e)}else s=!1;if(Bg(e,i),e.stateNode===null)AE(t,e),TJ(e,n,r),tD(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=da(c):(c=Ks(n)?tp:cs.current,c=yv(e,c));var f=n.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&gV(e,o,r,c),fd=!1;var h=e.memoizedState;o.state=h,xM(e,r,o,i),l=e.memoizedState,a!==r||h!==l||qs.current||fd?(typeof f=="function"&&(eD(e,n,f,r),l=e.memoizedState),(a=fd||mV(e,n,a,r,h,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,aJ(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Oa(e.type,a),o.props=c,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=da(l):(l=Ks(n)?tp:cs.current,l=yv(e,l));var g=n.getDerivedStateFromProps;(f=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&gV(e,o,r,l),fd=!1,h=e.memoizedState,o.state=h,xM(e,r,o,i);var v=e.memoizedState;a!==d||h!==v||qs.current||fd?(typeof g=="function"&&(eD(e,n,g,r),v=e.memoizedState),(c=fd||mV(e,n,c,r,h,v,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return iD(t,e,n,r,s,i)}function iD(t,e,n,r,i,s){OJ(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&aV(e,n,!1),uu(t,e,s);r=e.stateNode,Obe.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_v(e,t.child,null,s),e.child=_v(e,null,a,s)):ys(t,e,a,s),e.memoizedState=r.state,i&&aV(e,n,!0),e.child}function IJ(t){var e=t.stateNode;e.pendingContext?oV(t,e.pendingContext,e.pendingContext!==e.context):e.context&&oV(t,e.context,!1),S4(t,e.containerInfo)}function SV(t,e,n,r,i){return xv(),v4(i),e.flags|=256,ys(t,e,n,r),e.child}var sD={dehydrated:null,treeContext:null,retryLane:0};function oD(t){return{baseLanes:t,cachePool:null,transitions:null}}function jJ(t,e,n){var r=e.pendingProps,i=Er.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),or(Er,i&1),t===null)return Qj(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=wP(o,r,0,null),t=$h(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=oD(n),e.memoizedState=sD,t):R4(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ibe(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Hd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Hd(a,s):(s=$h(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?oD(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sD,r}return s=t.child,t=s.sibling,r=Hd(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function R4(t,e){return e=wP({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function jS(t,e,n,r){return r!==null&&v4(r),_v(e,t.child,null,n),t=R4(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ibe(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ik(Error(nt(422))),jS(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=wP({mode:"visible",children:r.children},i,0,null),s=$h(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_v(e,t.child,null,o),e.child.memoizedState=oD(o),e.memoizedState=sD,s);if(!(e.mode&1))return jS(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(nt(419)),r=Ik(s,r,void 0),jS(t,e,o,r)}if(a=(o&t.childLanes)!==0,Hs||a){if(r=Pi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,cu(t,i),Qa(r,t,i,-1))}return L4(),r=Ik(Error(nt(421))),jS(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qbe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yo=Bd(i.nextSibling),wo=e,yr=!0,$a=null,t!==null&&(na[ra++]=Vc,na[ra++]=Wc,na[ra++]=np,Vc=t.id,Wc=t.overflow,np=e),e=R4(e,r.children),e.flags|=4096,e)}function CV(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Jj(t.return,e,n)}function jk(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function DJ(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ys(t,e,r.children,n),r=Er.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CV(t,n,e);else if(t.tag===19)CV(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(or(Er,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&_M(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),jk(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_M(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}jk(e,!0,n,null,s);break;case"together":jk(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function AE(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function uu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ip|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=Hd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Hd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function jbe(t,e,n){switch(e.tag){case 3:IJ(e),xv();break;case 5:lJ(e);break;case 1:Ks(e.type)&&pM(e);break;case 4:S4(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;or(vM,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(or(Er,Er.current&1),e.flags|=128,null):n&e.child.childLanes?jJ(t,e,n):(or(Er,Er.current&1),t=uu(t,e,n),t!==null?t.sibling:null);or(Er,Er.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return DJ(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),or(Er,Er.current),r)break;return null;case 22:case 23:return e.lanes=0,kJ(t,e,n)}return uu(t,e,n)}var LJ,aD,FJ,BJ;LJ=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aD=function(){};FJ=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,bh(Hl.current);var s=null;switch(n){case"input":i=Pj(t,i),r=Pj(t,r),s=[];break;case"select":i=Rr({},i,{value:void 0}),r=Rr({},r,{value:void 0}),s=[];break;case"textarea":i=kj(t,i),r=kj(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=fM)}Ij(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(P_.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(P_.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dr("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};BJ=function(t,e,n,r){n!==r&&(e.flags|=4)};function zx(t,e){if(!yr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Dbe(t,e,n){var r=e.pendingProps;switch(g4(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qi(e),null;case 1:return Ks(e.type)&&hM(),qi(e),null;case 3:return r=e.stateNode,bv(),mr(qs),mr(cs),E4(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(OS(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$a!==null&&(mD($a),$a=null))),aD(t,e),qi(e),null;case 5:C4(e);var i=bh($_.current);if(n=e.type,t!==null&&e.stateNode!=null)FJ(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return qi(e),null}if(t=bh(Hl.current),OS(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Il]=e,r[B_]=s,t=(e.mode&1)!==0,n){case"dialog":dr("cancel",r),dr("close",r);break;case"iframe":case"object":case"embed":dr("load",r);break;case"video":case"audio":for(i=0;i<k0.length;i++)dr(k0[i],r);break;case"source":dr("error",r);break;case"img":case"image":case"link":dr("error",r),dr("load",r);break;case"details":dr("toggle",r);break;case"input":O6(r,s),dr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dr("invalid",r);break;case"textarea":j6(r,s),dr("invalid",r)}Ij(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&kS(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&kS(r.textContent,a,t),i=["children",""+a]):P_.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dr("scroll",r)}switch(n){case"input":CS(r),I6(r,s,!0);break;case"textarea":CS(r),D6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=fM)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=hQ(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Il]=e,t[B_]=r,LJ(t,e,!1,!1),e.stateNode=t;e:{switch(o=jj(n,r),n){case"dialog":dr("cancel",t),dr("close",t),i=r;break;case"iframe":case"object":case"embed":dr("load",t),i=r;break;case"video":case"audio":for(i=0;i<k0.length;i++)dr(k0[i],t);i=r;break;case"source":dr("error",t),i=r;break;case"img":case"image":case"link":dr("error",t),dr("load",t),i=r;break;case"details":dr("toggle",t),i=r;break;case"input":O6(t,r),i=Pj(t,r),dr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rr({},r,{value:void 0}),dr("invalid",t);break;case"textarea":j6(t,r),i=kj(t,r),dr("invalid",t);break;default:i=r}Ij(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?gQ(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&pQ(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&N_(t,l):typeof l=="number"&&N_(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(P_.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dr("scroll",t):l!=null&&t4(t,s,l,o))}switch(n){case"input":CS(t),I6(t,r,!1);break;case"textarea":CS(t),D6(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Xd(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?jg(t,!!r.multiple,s,!1):r.defaultValue!=null&&jg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=fM)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qi(e),null;case 6:if(t&&e.stateNode!=null)BJ(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(nt(166));if(n=bh($_.current),bh(Hl.current),OS(e)){if(r=e.stateNode,n=e.memoizedProps,r[Il]=e,(s=r.nodeValue!==n)&&(t=wo,t!==null))switch(t.tag){case 3:kS(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&kS(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Il]=e,e.stateNode=r}return qi(e),null;case 13:if(mr(Er),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(yr&&yo!==null&&e.mode&1&&!(e.flags&128))rJ(),xv(),e.flags|=98560,s=!1;else if(s=OS(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(nt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(nt(317));s[Il]=e}else xv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qi(e),s=!1}else $a!==null&&(mD($a),$a=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Er.current&1?fi===0&&(fi=3):L4())),e.updateQueue!==null&&(e.flags|=4),qi(e),null);case 4:return bv(),aD(t,e),t===null&&L_(e.stateNode.containerInfo),qi(e),null;case 10:return _4(e.type._context),qi(e),null;case 17:return Ks(e.type)&&hM(),qi(e),null;case 19:if(mr(Er),s=e.memoizedState,s===null)return qi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)zx(s,!1);else{if(fi!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_M(t),o!==null){for(e.flags|=128,zx(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return or(Er,Er.current&1|2),e.child}t=t.sibling}s.tail!==null&&Gr()>Sv&&(e.flags|=128,r=!0,zx(s,!1),e.lanes=4194304)}else{if(!r)if(t=_M(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zx(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!yr)return qi(e),null}else 2*Gr()-s.renderingStartTime>Sv&&n!==1073741824&&(e.flags|=128,r=!0,zx(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Gr(),e.sibling=null,n=Er.current,or(Er,r?n&1|2:n&1),e):(qi(e),null);case 22:case 23:return D4(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ho&1073741824&&(qi(e),e.subtreeFlags&6&&(e.flags|=8192)):qi(e),null;case 24:return null;case 25:return null}throw Error(nt(156,e.tag))}function Lbe(t,e){switch(g4(e),e.tag){case 1:return Ks(e.type)&&hM(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bv(),mr(qs),mr(cs),E4(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return C4(e),null;case 13:if(mr(Er),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));xv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mr(Er),null;case 4:return bv(),null;case 10:return _4(e.type._context),null;case 22:case 23:return D4(),null;case 24:return null;default:return null}}var DS=!1,es=!1,Fbe=typeof WeakSet=="function"?WeakSet:Set,bt=null;function mg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lr(t,e,r)}else n.current=null}function lD(t,e,n){try{n()}catch(r){Lr(t,e,r)}}var EV=!1;function Bbe(t,e){if(Wj=cM,t=VQ(),p4(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,f=0,d=t,h=null;t:for(;;){for(var g;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===t)break t;if(h===n&&++c===i&&(a=o),h===s&&++f===r&&(l=o),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gj={focusedElem:t,selectionRange:n},cM=!1,bt=e;bt!==null;)if(e=bt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,bt=t;else for(;bt!==null;){e=bt;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,m=v.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?x:Oa(e.type,x),m);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(b){Lr(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,bt=t;break}bt=e.return}return v=EV,EV=!1,v}function n_(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lD(e,n,s)}i=i.next}while(i!==r)}}function _P(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function UJ(t){var e=t.alternate;e!==null&&(t.alternate=null,UJ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Il],delete e[B_],delete e[Xj],delete e[bbe],delete e[wbe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $J(t){return t.tag===5||t.tag===3||t.tag===4}function MV(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$J(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fM));else if(r!==4&&(t=t.child,t!==null))for(uD(t,e,n),t=t.sibling;t!==null;)uD(t,e,n),t=t.sibling}function dD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dD(t,e,n),t=t.sibling;t!==null;)dD(t,e,n),t=t.sibling}var Ii=null,Da=!1;function Ku(t,e,n){for(n=n.child;n!==null;)zJ(t,e,n),n=n.sibling}function zJ(t,e,n){if(zl&&typeof zl.onCommitFiberUnmount=="function")try{zl.onCommitFiberUnmount(fP,n)}catch{}switch(n.tag){case 5:es||mg(n,e);case 6:var r=Ii,i=Da;Ii=null,Ku(t,e,n),Ii=r,Da=i,Ii!==null&&(Da?(t=Ii,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ii.removeChild(n.stateNode));break;case 18:Ii!==null&&(Da?(t=Ii,n=n.stateNode,t.nodeType===8?Tk(t.parentNode,n):t.nodeType===1&&Tk(t,n),I_(t)):Tk(Ii,n.stateNode));break;case 4:r=Ii,i=Da,Ii=n.stateNode.containerInfo,Da=!0,Ku(t,e,n),Ii=r,Da=i;break;case 0:case 11:case 14:case 15:if(!es&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lD(n,e,o),i=i.next}while(i!==r)}Ku(t,e,n);break;case 1:if(!es&&(mg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Lr(n,e,a)}Ku(t,e,n);break;case 21:Ku(t,e,n);break;case 22:n.mode&1?(es=(r=es)||n.memoizedState!==null,Ku(t,e,n),es=r):Ku(t,e,n);break;default:Ku(t,e,n)}}function AV(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Fbe),e.forEach(function(r){var i=Kbe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ma(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ii=a.stateNode,Da=!1;break e;case 3:Ii=a.stateNode.containerInfo,Da=!0;break e;case 4:Ii=a.stateNode.containerInfo,Da=!0;break e}a=a.return}if(Ii===null)throw Error(nt(160));zJ(s,o,i),Ii=null,Da=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Lr(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)HJ(e,t),e=e.sibling}function HJ(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ma(e,t),El(t),r&4){try{n_(3,t,t.return),_P(3,t)}catch(x){Lr(t,t.return,x)}try{n_(5,t,t.return)}catch(x){Lr(t,t.return,x)}}break;case 1:Ma(e,t),El(t),r&512&&n!==null&&mg(n,n.return);break;case 5:if(Ma(e,t),El(t),r&512&&n!==null&&mg(n,n.return),t.flags&32){var i=t.stateNode;try{N_(i,"")}catch(x){Lr(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&dQ(i,s),jj(a,o);var c=jj(a,s);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?gQ(i,d):f==="dangerouslySetInnerHTML"?pQ(i,d):f==="children"?N_(i,d):t4(i,f,d,c)}switch(a){case"input":Nj(i,s);break;case"textarea":fQ(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?jg(i,!!s.multiple,g,!1):h!==!!s.multiple&&(s.defaultValue!=null?jg(i,!!s.multiple,s.defaultValue,!0):jg(i,!!s.multiple,s.multiple?[]:"",!1))}i[B_]=s}catch(x){Lr(t,t.return,x)}}break;case 6:if(Ma(e,t),El(t),r&4){if(t.stateNode===null)throw Error(nt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Lr(t,t.return,x)}}break;case 3:if(Ma(e,t),El(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{I_(e.containerInfo)}catch(x){Lr(t,t.return,x)}break;case 4:Ma(e,t),El(t);break;case 13:Ma(e,t),El(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(I4=Gr())),r&4&&AV(t);break;case 22:if(f=n!==null&&n.memoizedState!==null,t.mode&1?(es=(c=es)||f,Ma(e,t),es=c):Ma(e,t),El(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(bt=t,f=t.child;f!==null;){for(d=bt=f;bt!==null;){switch(h=bt,g=h.child,h.tag){case 0:case 11:case 14:case 15:n_(4,h,h.return);break;case 1:mg(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){Lr(r,n,x)}}break;case 5:mg(h,h.return);break;case 22:if(h.memoizedState!==null){PV(d);continue}}g!==null?(g.return=h,bt=g):PV(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=mQ("display",o))}catch(x){Lr(t,t.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){Lr(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ma(e,t),El(t),r&4&&AV(t);break;case 21:break;default:Ma(e,t),El(t)}}function El(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if($J(n)){var r=n;break e}n=n.return}throw Error(nt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(N_(i,""),r.flags&=-33);var s=MV(t);dD(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=MV(t);uD(t,a,o);break;default:throw Error(nt(161))}}catch(l){Lr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ube(t,e,n){bt=t,VJ(t)}function VJ(t,e,n){for(var r=(t.mode&1)!==0;bt!==null;){var i=bt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||DS;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||es;a=DS;var c=es;if(DS=o,(es=l)&&!c)for(bt=i;bt!==null;)o=bt,l=o.child,o.tag===22&&o.memoizedState!==null?NV(i):l!==null?(l.return=o,bt=l):NV(i);for(;s!==null;)bt=s,VJ(s),s=s.sibling;bt=i,DS=a,es=c}TV(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,bt=s):TV(t)}}function TV(t){for(;bt!==null;){var e=bt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:es||_P(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!es)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Oa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&fV(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}fV(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&I_(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}es||e.flags&512&&cD(e)}catch(h){Lr(e,e.return,h)}}if(e===t){bt=null;break}if(n=e.sibling,n!==null){n.return=e.return,bt=n;break}bt=e.return}}function PV(t){for(;bt!==null;){var e=bt;if(e===t){bt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,bt=n;break}bt=e.return}}function NV(t){for(;bt!==null;){var e=bt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_P(4,e)}catch(l){Lr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Lr(e,i,l)}}var s=e.return;try{cD(e)}catch(l){Lr(e,s,l)}break;case 5:var o=e.return;try{cD(e)}catch(l){Lr(e,o,l)}}}catch(l){Lr(e,e.return,l)}if(e===t){bt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,bt=a;break}bt=e.return}}var $be=Math.ceil,SM=Eu.ReactCurrentDispatcher,k4=Eu.ReactCurrentOwner,ca=Eu.ReactCurrentBatchConfig,Pn=0,Pi=null,ni=null,Di=0,ho=0,gg=lf(0),fi=0,W_=null,ip=0,bP=0,O4=0,r_=null,Us=null,I4=0,Sv=1/0,Lc=null,CM=!1,fD=null,$d=null,LS=!1,Nd=null,EM=0,i_=0,hD=null,TE=-1,PE=0;function Cs(){return Pn&6?Gr():TE!==-1?TE:TE=Gr()}function zd(t){return t.mode&1?Pn&2&&Di!==0?Di&-Di:Cbe.transition!==null?(PE===0&&(PE=TQ()),PE):(t=Xn,t!==0||(t=window.event,t=t===void 0?16:jQ(t.type)),t):1}function Qa(t,e,n,r){if(50<i_)throw i_=0,hD=null,Error(nt(185));ww(t,n,r),(!(Pn&2)||t!==Pi)&&(t===Pi&&(!(Pn&2)&&(bP|=n),fi===4&&md(t,Di)),Xs(t,r),n===1&&Pn===0&&!(e.mode&1)&&(Sv=Gr()+500,vP&&cf()))}function Xs(t,e){var n=t.callbackNode;C_e(t,e);var r=lM(t,t===Pi?Di:0);if(r===0)n!==null&&B6(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&B6(n),e===1)t.tag===0?Sbe(RV.bind(null,t)):eJ(RV.bind(null,t)),xbe(function(){!(Pn&6)&&cf()}),n=null;else{switch(PQ(r)){case 1:n=o4;break;case 4:n=MQ;break;case 16:n=aM;break;case 536870912:n=AQ;break;default:n=aM}n=QJ(n,WJ.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function WJ(t,e){if(TE=-1,PE=0,Pn&6)throw Error(nt(327));var n=t.callbackNode;if(Ug()&&t.callbackNode!==n)return null;var r=lM(t,t===Pi?Di:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=MM(t,r);else{e=r;var i=Pn;Pn|=2;var s=qJ();(Pi!==t||Di!==e)&&(Lc=null,Sv=Gr()+500,Uh(t,e));do try{Vbe();break}catch(a){GJ(t,a)}while(!0);x4(),SM.current=s,Pn=i,ni!==null?e=0:(Pi=null,Di=0,e=fi)}if(e!==0){if(e===2&&(i=Uj(t),i!==0&&(r=i,e=pD(t,i))),e===1)throw n=W_,Uh(t,0),md(t,r),Xs(t,Gr()),n;if(e===6)md(t,r);else{if(i=t.current.alternate,!(r&30)&&!zbe(i)&&(e=MM(t,r),e===2&&(s=Uj(t),s!==0&&(r=s,e=pD(t,s))),e===1))throw n=W_,Uh(t,0),md(t,r),Xs(t,Gr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(nt(345));case 2:sh(t,Us,Lc);break;case 3:if(md(t,r),(r&130023424)===r&&(e=I4+500-Gr(),10<e)){if(lM(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Cs(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kj(sh.bind(null,t,Us,Lc),e);break}sh(t,Us,Lc);break;case 4:if(md(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Za(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Gr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$be(r/1960))-r,10<r){t.timeoutHandle=Kj(sh.bind(null,t,Us,Lc),r);break}sh(t,Us,Lc);break;case 5:sh(t,Us,Lc);break;default:throw Error(nt(329))}}}return Xs(t,Gr()),t.callbackNode===n?WJ.bind(null,t):null}function pD(t,e){var n=r_;return t.current.memoizedState.isDehydrated&&(Uh(t,e).flags|=256),t=MM(t,e),t!==2&&(e=Us,Us=n,e!==null&&mD(e)),t}function mD(t){Us===null?Us=t:Us.push.apply(Us,t)}function zbe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!sl(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function md(t,e){for(e&=~O4,e&=~bP,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Za(e),r=1<<n;t[n]=-1,e&=~r}}function RV(t){if(Pn&6)throw Error(nt(327));Ug();var e=lM(t,0);if(!(e&1))return Xs(t,Gr()),null;var n=MM(t,e);if(t.tag!==0&&n===2){var r=Uj(t);r!==0&&(e=r,n=pD(t,r))}if(n===1)throw n=W_,Uh(t,0),md(t,e),Xs(t,Gr()),n;if(n===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sh(t,Us,Lc),Xs(t,Gr()),null}function j4(t,e){var n=Pn;Pn|=1;try{return t(e)}finally{Pn=n,Pn===0&&(Sv=Gr()+500,vP&&cf())}}function sp(t){Nd!==null&&Nd.tag===0&&!(Pn&6)&&Ug();var e=Pn;Pn|=1;var n=ca.transition,r=Xn;try{if(ca.transition=null,Xn=1,t)return t()}finally{Xn=r,ca.transition=n,Pn=e,!(Pn&6)&&cf()}}function D4(){ho=gg.current,mr(gg)}function Uh(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ybe(n)),ni!==null)for(n=ni.return;n!==null;){var r=n;switch(g4(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&hM();break;case 3:bv(),mr(qs),mr(cs),E4();break;case 5:C4(r);break;case 4:bv();break;case 13:mr(Er);break;case 19:mr(Er);break;case 10:_4(r.type._context);break;case 22:case 23:D4()}n=n.return}if(Pi=t,ni=t=Hd(t.current,null),Di=ho=e,fi=0,W_=null,O4=bP=ip=0,Us=r_=null,_h!==null){for(e=0;e<_h.length;e++)if(n=_h[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}_h=null}return t}function GJ(t,e){do{var n=ni;try{if(x4(),EE.current=wM,bM){for(var r=Nr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bM=!1}if(rp=0,Ei=ci=Nr=null,t_=!1,z_=0,k4.current=null,n===null||n.return===null){fi=1,W_=e,ni=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Di,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var g=yV(o);if(g!==null){g.flags&=-257,xV(g,o,a,s,e),g.mode&1&&vV(s,c,e),e=g,l=c;var v=e.updateQueue;if(v===null){var x=new Set;x.add(l),e.updateQueue=x}else v.add(l);break e}else{if(!(e&1)){vV(s,c,e),L4();break e}l=Error(nt(426))}}else if(yr&&a.mode&1){var m=yV(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),xV(m,o,a,s,e),v4(wv(l,a));break e}}s=l=wv(l,a),fi!==4&&(fi=2),r_===null?r_=[s]:r_.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=PJ(s,l,e);dV(s,p);break e;case 1:a=l;var y=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&($d===null||!$d.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=NJ(s,a,e);dV(s,b);break e}}s=s.return}while(s!==null)}XJ(n)}catch(w){e=w,ni===n&&n!==null&&(ni=n=n.return);continue}break}while(!0)}function qJ(){var t=SM.current;return SM.current=wM,t===null?wM:t}function L4(){(fi===0||fi===3||fi===2)&&(fi=4),Pi===null||!(ip&268435455)&&!(bP&268435455)||md(Pi,Di)}function MM(t,e){var n=Pn;Pn|=2;var r=qJ();(Pi!==t||Di!==e)&&(Lc=null,Uh(t,e));do try{Hbe();break}catch(i){GJ(t,i)}while(!0);if(x4(),Pn=n,SM.current=r,ni!==null)throw Error(nt(261));return Pi=null,Di=0,fi}function Hbe(){for(;ni!==null;)KJ(ni)}function Vbe(){for(;ni!==null&&!m_e();)KJ(ni)}function KJ(t){var e=ZJ(t.alternate,t,ho);t.memoizedProps=t.pendingProps,e===null?XJ(t):ni=e,k4.current=null}function XJ(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Lbe(n,e),n!==null){n.flags&=32767,ni=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{fi=6,ni=null;return}}else if(n=Dbe(n,e,ho),n!==null){ni=n;return}if(e=e.sibling,e!==null){ni=e;return}ni=e=t}while(e!==null);fi===0&&(fi=5)}function sh(t,e,n){var r=Xn,i=ca.transition;try{ca.transition=null,Xn=1,Wbe(t,e,n,r)}finally{ca.transition=i,Xn=r}return null}function Wbe(t,e,n,r){do Ug();while(Nd!==null);if(Pn&6)throw Error(nt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(E_e(t,s),t===Pi&&(ni=Pi=null,Di=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||LS||(LS=!0,QJ(aM,function(){return Ug(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ca.transition,ca.transition=null;var o=Xn;Xn=1;var a=Pn;Pn|=4,k4.current=null,Bbe(t,n),HJ(n,t),dbe(Gj),cM=!!Wj,Gj=Wj=null,t.current=n,Ube(n),g_e(),Pn=a,Xn=o,ca.transition=s}else t.current=n;if(LS&&(LS=!1,Nd=t,EM=i),s=t.pendingLanes,s===0&&($d=null),x_e(n.stateNode),Xs(t,Gr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(CM)throw CM=!1,t=fD,fD=null,t;return EM&1&&t.tag!==0&&Ug(),s=t.pendingLanes,s&1?t===hD?i_++:(i_=0,hD=t):i_=0,cf(),null}function Ug(){if(Nd!==null){var t=PQ(EM),e=ca.transition,n=Xn;try{if(ca.transition=null,Xn=16>t?16:t,Nd===null)var r=!1;else{if(t=Nd,Nd=null,EM=0,Pn&6)throw Error(nt(331));var i=Pn;for(Pn|=4,bt=t.current;bt!==null;){var s=bt,o=s.child;if(bt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(bt=c;bt!==null;){var f=bt;switch(f.tag){case 0:case 11:case 15:n_(8,f,s)}var d=f.child;if(d!==null)d.return=f,bt=d;else for(;bt!==null;){f=bt;var h=f.sibling,g=f.return;if(UJ(f),f===c){bt=null;break}if(h!==null){h.return=g,bt=h;break}bt=g}}}var v=s.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var m=x.sibling;x.sibling=null,x=m}while(x!==null)}}bt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,bt=o;else e:for(;bt!==null;){if(s=bt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:n_(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,bt=p;break e}bt=s.return}}var y=t.current;for(bt=y;bt!==null;){o=bt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,bt=_;else e:for(o=y;bt!==null;){if(a=bt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_P(9,a)}}catch(w){Lr(a,a.return,w)}if(a===o){bt=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,bt=b;break e}bt=a.return}}if(Pn=i,cf(),zl&&typeof zl.onPostCommitFiberRoot=="function")try{zl.onPostCommitFiberRoot(fP,t)}catch{}r=!0}return r}finally{Xn=n,ca.transition=e}}return!1}function kV(t,e,n){e=wv(n,e),e=PJ(t,e,1),t=Ud(t,e,1),e=Cs(),t!==null&&(ww(t,1,e),Xs(t,e))}function Lr(t,e,n){if(t.tag===3)kV(t,t,n);else for(;e!==null;){if(e.tag===3){kV(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($d===null||!$d.has(r))){t=wv(n,t),t=NJ(e,t,1),e=Ud(e,t,1),t=Cs(),e!==null&&(ww(e,1,t),Xs(e,t));break}}e=e.return}}function Gbe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Cs(),t.pingedLanes|=t.suspendedLanes&n,Pi===t&&(Di&n)===n&&(fi===4||fi===3&&(Di&130023424)===Di&&500>Gr()-I4?Uh(t,0):O4|=n),Xs(t,e)}function YJ(t,e){e===0&&(t.mode&1?(e=AS,AS<<=1,!(AS&130023424)&&(AS=4194304)):e=1);var n=Cs();t=cu(t,e),t!==null&&(ww(t,e,n),Xs(t,n))}function qbe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),YJ(t,n)}function Kbe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(nt(314))}r!==null&&r.delete(e),YJ(t,n)}var ZJ;ZJ=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qs.current)Hs=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hs=!1,jbe(t,e,n);Hs=!!(t.flags&131072)}else Hs=!1,yr&&e.flags&1048576&&tJ(e,gM,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;AE(t,e),t=e.pendingProps;var i=yv(e,cs.current);Bg(e,n),i=A4(null,e,r,t,i,n);var s=T4();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ks(r)?(s=!0,pM(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w4(e),i.updater=xP,e.stateNode=i,i._reactInternals=e,tD(e,r,t,n),e=iD(null,e,r,!0,s,n)):(e.tag=0,yr&&s&&m4(e),ys(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(AE(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Ybe(r),t=Oa(r,t),i){case 0:e=rD(null,e,r,t,n);break e;case 1:e=wV(null,e,r,t,n);break e;case 11:e=_V(null,e,r,t,n);break e;case 14:e=bV(null,e,r,Oa(r.type,t),n);break e}throw Error(nt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oa(r,i),rD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oa(r,i),wV(t,e,r,i,n);case 3:e:{if(IJ(e),t===null)throw Error(nt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,aJ(t,e),xM(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=wv(Error(nt(423)),e),e=SV(t,e,r,n,i);break e}else if(r!==i){i=wv(Error(nt(424)),e),e=SV(t,e,r,n,i);break e}else for(yo=Bd(e.stateNode.containerInfo.firstChild),wo=e,yr=!0,$a=null,n=sJ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xv(),r===i){e=uu(t,e,n);break e}ys(t,e,r,n)}e=e.child}return e;case 5:return lJ(e),t===null&&Qj(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qj(r,i)?o=null:s!==null&&qj(r,s)&&(e.flags|=32),OJ(t,e),ys(t,e,o,n),e.child;case 6:return t===null&&Qj(e),null;case 13:return jJ(t,e,n);case 4:return S4(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_v(e,null,r,n):ys(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oa(r,i),_V(t,e,r,i,n);case 7:return ys(t,e,e.pendingProps,n),e.child;case 8:return ys(t,e,e.pendingProps.children,n),e.child;case 12:return ys(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,or(vM,r._currentValue),r._currentValue=o,s!==null)if(sl(s.value,o)){if(s.children===i.children&&!qs.current){e=uu(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Zc(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Jj(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(nt(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Jj(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ys(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bg(e,n),i=da(i),r=r(i),e.flags|=1,ys(t,e,r,n),e.child;case 14:return r=e.type,i=Oa(r,e.pendingProps),i=Oa(r.type,i),bV(t,e,r,i,n);case 15:return RJ(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Oa(r,i),AE(t,e),e.tag=1,Ks(r)?(t=!0,pM(e)):t=!1,Bg(e,n),TJ(e,r,i),tD(e,r,i,n),iD(null,e,r,!0,t,n);case 19:return DJ(t,e,n);case 22:return kJ(t,e,n)}throw Error(nt(156,e.tag))};function QJ(t,e){return EQ(t,e)}function Xbe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(t,e,n,r){return new Xbe(t,e,n,r)}function F4(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ybe(t){if(typeof t=="function")return F4(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r4)return 11;if(t===i4)return 14}return 2}function Hd(t,e){var n=t.alternate;return n===null?(n=sa(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function NE(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")F4(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case og:return $h(n.children,i,s,e);case n4:o=8,i|=8;break;case Ej:return t=sa(12,n,e,i|2),t.elementType=Ej,t.lanes=s,t;case Mj:return t=sa(13,n,e,i),t.elementType=Mj,t.lanes=s,t;case Aj:return t=sa(19,n,e,i),t.elementType=Aj,t.lanes=s,t;case lQ:return wP(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oQ:o=10;break e;case aQ:o=9;break e;case r4:o=11;break e;case i4:o=14;break e;case dd:o=16,r=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return e=sa(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function $h(t,e,n,r){return t=sa(7,t,r,e),t.lanes=n,t}function wP(t,e,n,r){return t=sa(22,t,r,e),t.elementType=lQ,t.lanes=n,t.stateNode={isHidden:!1},t}function Dk(t,e,n){return t=sa(6,t,null,e),t.lanes=n,t}function Lk(t,e,n){return e=sa(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Zbe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vk(0),this.expirationTimes=vk(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vk(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function B4(t,e,n,r,i,s,o,a,l){return t=new Zbe(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=sa(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w4(s),t}function Qbe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function JJ(t){if(!t)return Yd;t=t._reactInternals;e:{if(kp(t)!==t||t.tag!==1)throw Error(nt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ks(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(nt(171))}if(t.tag===1){var n=t.type;if(Ks(n))return JQ(t,n,e)}return e}function eee(t,e,n,r,i,s,o,a,l){return t=B4(n,r,!0,t,i,s,o,a,l),t.context=JJ(null),n=t.current,r=Cs(),i=zd(n),s=Zc(r,i),s.callback=e??null,Ud(n,s,i),t.current.lanes=i,ww(t,i,r),Xs(t,r),t}function SP(t,e,n,r){var i=e.current,s=Cs(),o=zd(i);return n=JJ(n),e.context===null?e.context=n:e.pendingContext=n,e=Zc(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ud(i,e,o),t!==null&&(Qa(t,i,o,s),CE(t,i,o)),o}function AM(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OV(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function U4(t,e){OV(t,e),(t=t.alternate)&&OV(t,e)}function Jbe(){return null}var tee=typeof reportError=="function"?reportError:function(t){console.error(t)};function $4(t){this._internalRoot=t}CP.prototype.render=$4.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));SP(t,e,null,null)};CP.prototype.unmount=$4.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sp(function(){SP(null,t,null,null)}),e[lu]=null}};function CP(t){this._internalRoot=t}CP.prototype.unstable_scheduleHydration=function(t){if(t){var e=kQ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<pd.length&&e!==0&&e<pd[n].priority;n++);pd.splice(n,0,t),n===0&&IQ(t)}};function z4(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function EP(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IV(){}function ewe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=AM(o);s.call(c)}}var o=eee(e,r,t,0,null,!1,!1,"",IV);return t._reactRootContainer=o,t[lu]=o.current,L_(t.nodeType===8?t.parentNode:t),sp(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=AM(l);a.call(c)}}var l=B4(t,0,!1,null,null,!1,!1,"",IV);return t._reactRootContainer=l,t[lu]=l.current,L_(t.nodeType===8?t.parentNode:t),sp(function(){SP(e,l,n,r)}),l}function MP(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=AM(o);a.call(l)}}SP(e,o,t,i)}else o=ewe(n,e,t,i,r);return AM(o)}NQ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=R0(e.pendingLanes);n!==0&&(a4(e,n|1),Xs(e,Gr()),!(Pn&6)&&(Sv=Gr()+500,cf()))}break;case 13:sp(function(){var r=cu(t,1);if(r!==null){var i=Cs();Qa(r,t,1,i)}}),U4(t,1)}};l4=function(t){if(t.tag===13){var e=cu(t,134217728);if(e!==null){var n=Cs();Qa(e,t,134217728,n)}U4(t,134217728)}};RQ=function(t){if(t.tag===13){var e=zd(t),n=cu(t,e);if(n!==null){var r=Cs();Qa(n,t,e,r)}U4(t,e)}};kQ=function(){return Xn};OQ=function(t,e){var n=Xn;try{return Xn=t,e()}finally{Xn=n}};Lj=function(t,e,n){switch(e){case"input":if(Nj(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=gP(r);if(!i)throw Error(nt(90));uQ(r),Nj(r,i)}}}break;case"textarea":fQ(t,n);break;case"select":e=n.value,e!=null&&jg(t,!!n.multiple,e,!1)}};xQ=j4;_Q=sp;var twe={usingClientEntryPoint:!1,Events:[Cw,ug,gP,vQ,yQ,j4]},Hx={findFiberByHostInstance:xh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nwe={bundleType:Hx.bundleType,version:Hx.version,rendererPackageName:Hx.rendererPackageName,rendererConfig:Hx.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Eu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SQ(t),t===null?null:t.stateNode},findFiberByHostInstance:Hx.findFiberByHostInstance||Jbe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var FS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!FS.isDisabled&&FS.supportsFiber)try{fP=FS.inject(nwe),zl=FS}catch{}}Oo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=twe;Oo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!z4(e))throw Error(nt(200));return Qbe(t,e,null,n)};Oo.createRoot=function(t,e){if(!z4(t))throw Error(nt(299));var n=!1,r="",i=tee;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=B4(t,1,!1,null,null,n,!1,r,i),t[lu]=e.current,L_(t.nodeType===8?t.parentNode:t),new $4(e)};Oo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=SQ(e),t=t===null?null:t.stateNode,t};Oo.flushSync=function(t){return sp(t)};Oo.hydrate=function(t,e,n){if(!EP(e))throw Error(nt(200));return MP(null,t,e,!0,n)};Oo.hydrateRoot=function(t,e,n){if(!z4(t))throw Error(nt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=tee;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=eee(e,null,t,1,n??null,i,!1,s,o),t[lu]=e.current,L_(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new CP(e)};Oo.render=function(t,e,n){if(!EP(e))throw Error(nt(200));return MP(null,t,e,!1,n)};Oo.unmountComponentAtNode=function(t){if(!EP(t))throw Error(nt(40));return t._reactRootContainer?(sp(function(){MP(null,null,t,!1,function(){t._reactRootContainer=null,t[lu]=null})}),!0):!1};Oo.unstable_batchedUpdates=j4;Oo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!EP(n))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return MP(t,e,n,!1,r)};Oo.version="18.3.1-next-f1338f8080-20240426";function nee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nee)}catch(t){console.error(t)}}nee(),nQ.exports=Oo;var Op=nQ.exports;const ree=Sn(Op);var H4,jV=Op;H4=jV.createRoot,jV.hydrateRoot;var rwe=typeof Element<"u",iwe=typeof Map=="function",swe=typeof Set=="function",owe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function RE(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!RE(t[r],e[r]))return!1;return!0}var s;if(iwe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!RE(r.value[1],e.get(r.value[0])))return!1;return!0}if(swe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(owe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(rwe&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!RE(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var awe=function(e,n){try{return RE(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const lwe=Sn(awe);var cwe=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],f=0;l=new Error(e.replace(/%s/g,function(){return c[f++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},uwe=cwe;const DV=Sn(uwe);var dwe=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var f=o[c];if(!l(f))return!1;var d=e[f],h=n[f];if(s=r?r.call(i,d,h,f):void 0,s===!1||s===void 0&&d!==h)return!1}return!0};const fwe=Sn(dwe);var iee=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(iee||{}),Fk={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},LV=Object.values(iee),V4={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},hwe=Object.entries(V4).reduce((t,[e,n])=>(t[n]=e,t),{}),qa="data-rh",$g={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},zg=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},pwe=t=>{let e=zg(t,"title");const n=zg(t,$g.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=zg(t,$g.DEFAULT_TITLE);return e||r||void 0},mwe=t=>zg(t,$g.ON_CHANGE_CLIENT_STATE)||(()=>{}),Bk=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),gwe=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),vwe=t=>console&&typeof console.warn=="function"&&console.warn(t),Vx=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&vwe(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const f=Object.keys(l);for(let h=0;h<f.length;h+=1){const g=f[h],v=g.toLowerCase();e.indexOf(v)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(v==="rel"&&l[v].toLowerCase()==="stylesheet")&&(c=v),e.indexOf(g)!==-1&&(g==="innerHTML"||g==="cssText"||g==="itemprop")&&(c=g)}if(!c||!l[c])return!1;const d=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][d]?!1:(o[c][d]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],f={...r[c],...o[c]};r[c]=f}return i},[]).reverse()},ywe=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},xwe=t=>({baseTag:gwe(["href"],t),bodyAttributes:Bk("bodyAttributes",t),defer:zg(t,$g.DEFER),encode:zg(t,$g.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:Bk("htmlAttributes",t),linkTags:Vx("link",["rel","href"],t),metaTags:Vx("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:Vx("noscript",["innerHTML"],t),onChangeClientState:mwe(t),scriptTags:Vx("script",["src","innerHTML"],t),styleTags:Vx("style",["cssText"],t),title:pwe(t),titleAttributes:Bk("titleAttributes",t),prioritizeSeoTags:ywe(t,$g.PRIORITIZE_SEO_TAGS)}),see=t=>Array.isArray(t)?t.join(""):t,_we=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},Uk=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(_we(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},FV=(t,e)=>({...t,[e]:void 0}),bwe=["noscript","script","style"],gD=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),oee=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),wwe=(t,e,n,r)=>{const i=oee(n),s=see(e);return i?`<${t} ${qa}="true" ${i}>${gD(s,r)}</${t}>`:`<${t} ${qa}="true">${gD(s,r)}</${t}>`},Swe=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,f)=>{const d=typeof s[f]>"u"?f:`${f}="${gD(s[f],n)}"`;return c?`${c} ${d}`:d},""),a=s.innerHTML||s.cssText||"",l=bwe.indexOf(t)===-1;return`${r}<${t} ${qa}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),aee=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=V4[r];return n[i||r]=t[r],n},e),Cwe=(t,e,n)=>{const r={key:e,[qa]:!0},i=aee(n,r);return[ne.createElement("title",i,e)]},kE=(t,e)=>e.map((n,r)=>{const i={key:r,[qa]:!0};return Object.keys(n).forEach(s=>{const a=V4[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),ne.createElement(t,i)}),Qo=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Cwe(t,e.title,e.titleAttributes),toString:()=>wwe(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>aee(e),toString:()=>oee(e)};default:return{toComponent:()=>kE(t,e),toString:()=>Swe(t,e,n)}}},Ewe=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=Uk(t,Fk.meta),s=Uk(e,Fk.link),o=Uk(n,Fk.script);return{priorityMethods:{toComponent:()=>[...kE("meta",i.priority),...kE("link",s.priority),...kE("script",o.priority)],toString:()=>`${Qo("meta",i.priority,r)} ${Qo("link",s.priority,r)} ${Qo("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},Mwe=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:f,metaTags:d,scriptTags:h}=t,g={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:g,linkTags:f,metaTags:d,scriptTags:h}=Ewe(t)),{priority:g,base:Qo("base",e,r),bodyAttributes:Qo("bodyAttributes",n,r),htmlAttributes:Qo("htmlAttributes",i,r),link:Qo("link",f,r),meta:Qo("meta",d,r),noscript:Qo("noscript",s,r),script:Qo("script",h,r),style:Qo("style",o,r),title:Qo("title",{title:a,titleAttributes:l},r)}},vD=Mwe,BS=[],lee=!!(typeof window<"u"&&window.document&&window.document.createElement),yD=class{constructor(t,e){Cc(this,"instances",[]);Cc(this,"canUseDOM",lee);Cc(this,"context");Cc(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?BS:this.instances,add:t=>{(this.canUseDOM?BS:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?BS:this.instances).indexOf(t);(this.canUseDOM?BS:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=vD({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Awe={},cee=ne.createContext(Awe),kh,uee=(kh=class extends M.Component{constructor(n){super(n);Cc(this,"helmetData");this.helmetData=new yD(this.props.context||{},kh.canUseDOM)}render(){return ne.createElement(cee.Provider,{value:this.helmetData.value},this.props.children)}},Cc(kh,"canUseDOM",lee),kh),ym=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${qa}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const f=c,d=typeof a[f]>"u"?"":a[f];l.setAttribute(c,d)}l.setAttribute(qa,"true"),i.some((c,f)=>(o=f,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},xD=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(qa),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(qa):n.getAttribute(qa)!==o.join(",")&&n.setAttribute(qa,o.join(","))},Twe=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=see(t)),xD("title",e)},BV=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:f,title:d,titleAttributes:h}=t;xD("body",r),xD("html",i),Twe(d,h);const g={baseTag:ym("base",n),linkTags:ym("link",s),metaTags:ym("meta",o),noscriptTags:ym("noscript",a),scriptTags:ym("script",c),styleTags:ym("style",f)},v={},x={};Object.keys(g).forEach(m=>{const{newTags:p,oldTags:y}=g[m];p.length&&(v[m]=p),y.length&&(x[m]=g[m].oldTags)}),e&&e(),l(t,v,x)},Wx=null,Pwe=t=>{Wx&&cancelAnimationFrame(Wx),t.defer?Wx=requestAnimationFrame(()=>{BV(t,()=>{Wx=null})}):(BV(t),Wx=null)},Nwe=Pwe,UV=class extends M.Component{constructor(){super(...arguments);Cc(this,"rendered",!1)}shouldComponentUpdate(e){return!fwe(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=xwe(e.get().map(s=>{const o={...s.props};return delete o.context,o}));uee.canUseDOM?Nwe(i):vD&&(r=vD(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},Sj,Rwe=(Sj=class extends M.Component{shouldComponentUpdate(t){return!lwe(FV(this.props,"helmetData"),FV(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return DV(LV.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${LV.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),DV(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return ne.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[hwe[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof yD)){const i=r;r=new yD(i.context,!0),delete n.helmetData}return r?ne.createElement(UV,{...n,context:r.value}):ne.createElement(cee.Consumer,null,i=>ne.createElement(UV,{...n,context:i}))}},Cc(Sj,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),Sj);function kwe(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var dee={exports:{}},fee={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cv=M;function Owe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Iwe=typeof Object.is=="function"?Object.is:Owe,jwe=Cv.useState,Dwe=Cv.useEffect,Lwe=Cv.useLayoutEffect,Fwe=Cv.useDebugValue;function Bwe(t,e){var n=e(),r=jwe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Lwe(function(){i.value=n,i.getSnapshot=e,$k(i)&&s({inst:i})},[t,n,e]),Dwe(function(){return $k(i)&&s({inst:i}),t(function(){$k(i)&&s({inst:i})})},[t]),Fwe(n),n}function $k(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Iwe(t,n)}catch{return!0}}function Uwe(t,e){return e()}var $we=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Uwe:Bwe;fee.useSyncExternalStore=Cv.useSyncExternalStore!==void 0?Cv.useSyncExternalStore:$we;dee.exports=fee;var hee=dee.exports;const zwe=dP.useInsertionEffect,Hwe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Vwe=Hwe?M.useLayoutEffect:M.useEffect,Wwe=zwe||Vwe,pee=t=>{const e=M.useRef([t,(...n)=>e[0](...n)]).current;return Wwe(()=>{e[0]=t}),e[1]},Gwe="popstate",W4="pushState",G4="replaceState",qwe="hashchange",$V=[Gwe,W4,G4,qwe],Kwe=t=>{for(const e of $V)addEventListener(e,t);return()=>{for(const e of $V)removeEventListener(e,t)}},mee=(t,e)=>hee.useSyncExternalStore(Kwe,t,e),Xwe=()=>location.search,Ywe=({ssrSearch:t=""}={})=>mee(Xwe,()=>t),zV=()=>location.pathname,Zwe=({ssrPath:t}={})=>mee(zV,t?()=>t:zV),Qwe=(t,{replace:e=!1,state:n=null}={})=>history[e?G4:W4](n,"",t),Jwe=(t={})=>[Zwe(t),Qwe],HV=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[HV]>"u"){for(const t of[W4,G4]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,HV,{value:!0})}const e1e=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",gee=(t="")=>t==="/"?"":t,t1e=(t,e)=>t[0]==="~"?t.slice(1):gee(e)+t,n1e=(t="",e)=>e1e(_D(gee(t)),_D(e)),r1e=t=>t[0]==="?"?t.slice(1):t,_D=t=>{try{return decodeURI(t)}catch{return t}},i1e=t=>_D(r1e(t)),vee={hook:Jwe,searchHook:Ywe,parser:kwe,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},yee=M.createContext(vee),Ny=()=>M.useContext(yee),xee={},_ee=M.createContext(xee),s1e=()=>M.useContext(_ee),AP=t=>{const[e,n]=t.hook(t);return[n1e(t.base,e),pee((r,i)=>n(t1e(r,t.base),i))]},vi=()=>AP(Ny()),TP=()=>{const t=Ny();return i1e(t.searchHook(t))},bee=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((d,h)=>[d,l[h]])):o.groups;let f={...l};return c&&Object.assign(f,c),f})(),...r?[a]:[]]:[!1,null]},o1e=({children:t,...e})=>{var f,d;const n=Ny(),r=e.hook?vee:n;let i=r;const[s,o]=((f=e.ssrPath)==null?void 0:f.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((d=e.hook)==null?void 0:d.hrefs);let a=M.useRef({}),l=a.current,c=l;for(let h in r){const g=h==="base"?r[h]+(e[h]||""):e[h]||r[h];l===c&&g!==c[h]&&(a.current=c={...c}),c[h]=g,g!==r[h]&&(i=c)}return M.createElement(yee.Provider,{value:i,children:t})},VV=({children:t,component:e},n)=>e?M.createElement(e,{params:n}):typeof t=="function"?t(n):t,a1e=t=>{let e=M.useRef(xee),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Wr=({path:t,nest:e,match:n,...r})=>{const i=Ny(),[s]=AP(i),[o,a,l]=n??bee(i.parser,t,s,e),c=a1e({...s1e(),...a});if(!o)return null;const f=l?M.createElement(o1e,{base:l},VV(r,c)):VV(r,c);return M.createElement(_ee.Provider,{value:c,children:f})},La=M.forwardRef((t,e)=>{const n=Ny(),[r,i]=AP(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:f,replace:d,state:h,...g}=t,v=pee(m=>{m.ctrlKey||m.metaKey||m.altKey||m.shiftKey||m.button!==0||(a==null||a(m),m.defaultPrevented||(m.preventDefault(),i(o,t)))}),x=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&M.isValidElement(c)?M.cloneElement(c,{onClick:v,href:x}):M.createElement("a",{...g,onClick:v,href:x,className:f!=null&&f.call?f(r===o):f,children:c,ref:e})}),wee=t=>Array.isArray(t)?t.flatMap(e=>wee(e&&e.type===M.Fragment?e.props.children:e)):[t],See=({children:t,location:e})=>{const n=Ny(),[r]=AP(n);for(const i of wee(t)){let s=0;if(M.isValidElement(i)&&(s=bee(n.parser,i.props.path,e||r,i.props.nest))[0])return M.cloneElement(i,{match:s})}return null};var Ry=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},op=typeof window>"u"||"Deno"in globalThis;function ea(){}function l1e(t,e){return typeof t=="function"?t(e):t}function bD(t){return typeof t=="number"&&t>=0&&t!==1/0}function Cee(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hg(t,e){return typeof t=="function"?t(e):t}function za(t,e){return typeof t=="function"?t(e):t}function WV(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==q4(o,e.options))return!1}else if(!G_(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function GV(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(ap(e.options.mutationKey)!==ap(s))return!1}else if(!G_(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function q4(t,e){return((e==null?void 0:e.queryKeyHashFn)||ap)(t)}function ap(t){return JSON.stringify(t,(e,n)=>wD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function G_(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!G_(t[n],e[n])):!1}function Eee(t,e){if(t===e)return t;const n=qV(t)&&qV(e);if(n||wD(t)&&wD(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const f=n?c:s[c];(!n&&r.includes(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,l++):(a[f]=Eee(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function TM(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}function qV(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wD(t){if(!KV(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!KV(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function KV(t){return Object.prototype.toString.call(t)==="[object Object]"}function c1e(t){return new Promise(e=>{setTimeout(e,t)})}function SD(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Eee(t,e):e}function u1e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function d1e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var K4=Symbol();function Mee(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===K4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Oh,_d,iv,jZ,f1e=(jZ=class extends Ry{constructor(){super();Ht(this,Oh);Ht(this,_d);Ht(this,iv);xt(this,iv,e=>{if(!op&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ge(this,_d)||this.setEventListener(ge(this,iv))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,_d))==null||e.call(this),xt(this,_d,void 0))}setEventListener(e){var n;xt(this,iv,e),(n=ge(this,_d))==null||n.call(this),xt(this,_d,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ge(this,Oh)!==e&&(xt(this,Oh,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ge(this,Oh)=="boolean"?ge(this,Oh):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Oh=new WeakMap,_d=new WeakMap,iv=new WeakMap,jZ),X4=new f1e,sv,bd,ov,DZ,h1e=(DZ=class extends Ry{constructor(){super();Ht(this,sv,!0);Ht(this,bd);Ht(this,ov);xt(this,ov,e=>{if(!op&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ge(this,bd)||this.setEventListener(ge(this,ov))}onUnsubscribe(){var e;this.hasListeners()||((e=ge(this,bd))==null||e.call(this),xt(this,bd,void 0))}setEventListener(e){var n;xt(this,ov,e),(n=ge(this,bd))==null||n.call(this),xt(this,bd,e(this.setOnline.bind(this)))}setOnline(e){ge(this,sv)!==e&&(xt(this,sv,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ge(this,sv)}},sv=new WeakMap,bd=new WeakMap,ov=new WeakMap,DZ),PM=new h1e;function CD(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function p1e(t){return Math.min(1e3*2**t,3e4)}function Aee(t){return(t??"online")==="online"?PM.isOnline():!0}var Tee=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function zk(t){return t instanceof Tee}function Pee(t){let e=!1,n=0,r=!1,i;const s=CD(),o=x=>{var m;r||(h(new Tee(x)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>X4.isFocused()&&(t.networkMode==="always"||PM.isOnline())&&t.canRun(),f=()=>Aee(t.networkMode)&&t.canRun(),d=x=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,x),i==null||i(),s.resolve(x))},h=x=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,x),i==null||i(),s.reject(x))},g=()=>new Promise(x=>{var m;i=p=>{(r||c())&&x(p)},(m=t.onPause)==null||m.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),v=()=>{if(r)return;let x;const m=n===0?t.initialPromise:void 0;try{x=m??t.fn()}catch(p){x=Promise.reject(p)}Promise.resolve(x).then(d).catch(p=>{var E;if(r)return;const y=t.retry??(op?0:3),_=t.retryDelay??p1e,b=typeof _=="function"?_(n,p):_,w=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,p);if(e||!w){h(p);return}n++,(E=t.onFail)==null||E.call(t,n,p),c1e(b).then(()=>c()?void 0:g()).then(()=>{e?h(p):v()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:f,start:()=>(f()?v():g().then(v),s)}}function m1e(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var ui=m1e(),Ih,LZ,Nee=(LZ=class{constructor(){Ht(this,Ih)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bD(this.gcTime)&&xt(this,Ih,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(op?1/0:5*60*1e3))}clearGcTimeout(){ge(this,Ih)&&(clearTimeout(ge(this,Ih)),xt(this,Ih,void 0))}},Ih=new WeakMap,LZ),av,lv,Jo,Zi,vw,jh,ja,jc,FZ,g1e=(FZ=class extends Nee{constructor(e){super();Ht(this,ja);Ht(this,av);Ht(this,lv);Ht(this,Jo);Ht(this,Zi);Ht(this,vw);Ht(this,jh);xt(this,jh,!1),xt(this,vw,e.defaultOptions),this.setOptions(e.options),this.observers=[],xt(this,Jo,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,xt(this,av,v1e(this.options)),this.state=e.state??ge(this,av),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ge(this,Zi))==null?void 0:e.promise}setOptions(e){this.options={...ge(this,vw),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ge(this,Jo).remove(this)}setData(e,n){const r=SD(this.state.data,e,this.options);return hn(this,ja,jc).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){hn(this,ja,jc).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ge(this,Zi))==null?void 0:r.promise;return(i=ge(this,Zi))==null||i.cancel(e),n?n.then(ea).catch(ea):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ge(this,av))}isActive(){return this.observers.some(e=>za(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===K4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!Cee(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,Zi))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ge(this,Zi))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ge(this,Jo).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ge(this,Zi)&&(ge(this,jh)?ge(this,Zi).cancel({revert:!0}):ge(this,Zi).cancelRetry()),this.scheduleGc()),ge(this,Jo).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||hn(this,ja,jc).call(this,{type:"invalidate"})}fetch(e,n){var l,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ge(this,Zi))return ge(this,Zi).continueRetry(),ge(this,Zi).promise}if(e&&this.setOptions(e),!this.options.queryFn){const d=this.observers.find(h=>h.options.queryFn);d&&this.setOptions(d.options)}const r=new AbortController,i=d=>{Object.defineProperty(d,"signal",{enumerable:!0,get:()=>(xt(this,jh,!0),r.signal)})},s=()=>{const d=Mee(this.options,n),h={queryKey:this.queryKey,meta:this.meta};return i(h),xt(this,jh,!1),this.options.persister?this.options.persister(d,h,this):d(h)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),xt(this,lv,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&hn(this,ja,jc).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const a=d=>{var h,g,v,x;zk(d)&&d.silent||hn(this,ja,jc).call(this,{type:"error",error:d}),zk(d)||((g=(h=ge(this,Jo).config).onError)==null||g.call(h,d,this),(x=(v=ge(this,Jo).config).onSettled)==null||x.call(v,this.state.data,d,this)),this.scheduleGc()};return xt(this,Zi,Pee({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:d=>{var h,g,v,x;if(d===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(d)}catch(m){a(m);return}(g=(h=ge(this,Jo).config).onSuccess)==null||g.call(h,d,this),(x=(v=ge(this,Jo).config).onSettled)==null||x.call(v,d,this.state.error,this),this.scheduleGc()},onError:a,onFail:(d,h)=>{hn(this,ja,jc).call(this,{type:"failed",failureCount:d,error:h})},onPause:()=>{hn(this,ja,jc).call(this,{type:"pause"})},onContinue:()=>{hn(this,ja,jc).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ge(this,Zi).start()}},av=new WeakMap,lv=new WeakMap,Jo=new WeakMap,Zi=new WeakMap,vw=new WeakMap,jh=new WeakMap,ja=new WeakSet,jc=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ree(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return zk(i)&&i.revert&&ge(this,lv)?{...ge(this,lv),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),ui.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ge(this,Jo).notify({query:this,type:"updated",action:e})})},FZ);function Ree(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Aee(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function v1e(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pl,BZ,y1e=(BZ=class extends Ry{constructor(e={}){super();Ht(this,Pl);this.config=e,xt(this,Pl,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??q4(i,n);let o=this.get(s);return o||(o=new g1e({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ge(this,Pl).has(e.queryHash)||(ge(this,Pl).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ge(this,Pl).get(e.queryHash);n&&(e.destroy(),n===e&&ge(this,Pl).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ui.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ge(this,Pl).get(e)}getAll(){return[...ge(this,Pl).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>WV(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>WV(e,r)):n}notify(e){ui.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){ui.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){ui.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pl=new WeakMap,BZ),Nl,gs,Dh,Rl,ad,UZ,x1e=(UZ=class extends Nee{constructor(e){super();Ht(this,Rl);Ht(this,Nl);Ht(this,gs);Ht(this,Dh);this.mutationId=e.mutationId,xt(this,gs,e.mutationCache),xt(this,Nl,[]),this.state=e.state||kee(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ge(this,Nl).includes(e)||(ge(this,Nl).push(e),this.clearGcTimeout(),ge(this,gs).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){xt(this,Nl,ge(this,Nl).filter(n=>n!==e)),this.scheduleGc(),ge(this,gs).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ge(this,Nl).length||(this.state.status==="pending"?this.scheduleGc():ge(this,gs).remove(this))}continue(){var e;return((e=ge(this,Dh))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,f,d,h,g,v,x,m,p,y,_,b,w,E,A;xt(this,Dh,Pee({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(T,P)=>{hn(this,Rl,ad).call(this,{type:"failed",failureCount:T,error:P})},onPause:()=>{hn(this,Rl,ad).call(this,{type:"pause"})},onContinue:()=>{hn(this,Rl,ad).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ge(this,gs).canRun(this)}));const n=this.state.status==="pending",r=!ge(this,Dh).canStart();try{if(!n){hn(this,Rl,ad).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ge(this,gs).config).onMutate)==null?void 0:s.call(i,e,this));const P=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));P!==this.state.context&&hn(this,Rl,ad).call(this,{type:"pending",context:P,variables:e,isPaused:r})}const T=await ge(this,Dh).start();return await((c=(l=ge(this,gs).config).onSuccess)==null?void 0:c.call(l,T,e,this.state.context,this)),await((d=(f=this.options).onSuccess)==null?void 0:d.call(f,T,e,this.state.context)),await((g=(h=ge(this,gs).config).onSettled)==null?void 0:g.call(h,T,null,this.state.variables,this.state.context,this)),await((x=(v=this.options).onSettled)==null?void 0:x.call(v,T,null,e,this.state.context)),hn(this,Rl,ad).call(this,{type:"success",data:T}),T}catch(T){try{throw await((p=(m=ge(this,gs).config).onError)==null?void 0:p.call(m,T,e,this.state.context,this)),await((_=(y=this.options).onError)==null?void 0:_.call(y,T,e,this.state.context)),await((w=(b=ge(this,gs).config).onSettled)==null?void 0:w.call(b,void 0,T,this.state.variables,this.state.context,this)),await((A=(E=this.options).onSettled)==null?void 0:A.call(E,void 0,T,e,this.state.context)),T}finally{hn(this,Rl,ad).call(this,{type:"error",error:T})}}finally{ge(this,gs).runNext(this)}}},Nl=new WeakMap,gs=new WeakMap,Dh=new WeakMap,Rl=new WeakSet,ad=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ui.batch(()=>{ge(this,Nl).forEach(r=>{r.onMutationUpdate(e)}),ge(this,gs).notify({mutation:this,type:"updated",action:e})})},UZ);function kee(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var fo,yw,$Z,_1e=($Z=class extends Ry{constructor(e={}){super();Ht(this,fo);Ht(this,yw);this.config=e,xt(this,fo,new Map),xt(this,yw,Date.now())}build(e,n,r){const i=new x1e({mutationCache:this,mutationId:++_S(this,yw)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=US(e),r=ge(this,fo).get(n)??[];r.push(e),ge(this,fo).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=US(e);if(ge(this,fo).has(n)){const i=(r=ge(this,fo).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ge(this,fo).delete(n):ge(this,fo).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ge(this,fo).get(US(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ge(this,fo).get(US(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ui.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ge(this,fo).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>GV(n,r))}findAll(e={}){return this.getAll().filter(n=>GV(e,n))}notify(e){ui.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return ui.batch(()=>Promise.all(e.map(n=>n.continue().catch(ea))))}},fo=new WeakMap,yw=new WeakMap,$Z);function US(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function XV(t){return{onFetch:(e,n)=>{var f,d,h,g,v;const r=e.options,i=(h=(d=(f=e.fetchOptions)==null?void 0:f.meta)==null?void 0:d.fetchMore)==null?void 0:h.direction,s=((g=e.state.data)==null?void 0:g.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const m=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},p=Mee(e.options,e.fetchOptions),y=async(_,b,w)=>{if(x)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const E={queryKey:e.queryKey,pageParam:b,direction:w?"backward":"forward",meta:e.options.meta};m(E);const A=await p(E),{maxPages:T}=e.options,P=w?d1e:u1e;return{pages:P(_.pages,A,T),pageParams:P(_.pageParams,b,T)}};if(i&&s.length){const _=i==="backward",b=_?b1e:YV,w={pages:s,pageParams:o},E=b(r,w);a=await y(w,E,_)}else{const _=t??s.length;do{const b=l===0?o[0]??r.initialPageParam:YV(r,a);if(l>0&&b==null)break;a=await y(a,b),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var x,m;return(m=(x=e.options).persister)==null?void 0:m.call(x,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function YV(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function b1e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var jr,wd,Sd,cv,uv,Cd,dv,fv,zZ,Oee=(zZ=class{constructor(t={}){Ht(this,jr);Ht(this,wd);Ht(this,Sd);Ht(this,cv);Ht(this,uv);Ht(this,Cd);Ht(this,dv);Ht(this,fv);xt(this,jr,t.queryCache||new y1e),xt(this,wd,t.mutationCache||new _1e),xt(this,Sd,t.defaultOptions||{}),xt(this,cv,new Map),xt(this,uv,new Map),xt(this,Cd,0)}mount(){_S(this,Cd)._++,ge(this,Cd)===1&&(xt(this,dv,X4.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,jr).onFocus())})),xt(this,fv,PM.subscribe(async t=>{t&&(await this.resumePausedMutations(),ge(this,jr).onOnline())})))}unmount(){var t,e;_S(this,Cd)._--,ge(this,Cd)===0&&((t=ge(this,dv))==null||t.call(this),xt(this,dv,void 0),(e=ge(this,fv))==null||e.call(this),xt(this,fv,void 0))}isFetching(t){return ge(this,jr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ge(this,wd).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,jr).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ge(this,jr).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(Hg(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ge(this,jr).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ge(this,jr).get(r.queryHash),s=i==null?void 0:i.state.data,o=l1e(e,s);if(o!==void 0)return ge(this,jr).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return ui.batch(()=>ge(this,jr).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ge(this,jr).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ge(this,jr);ui.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ge(this,jr),r={type:"active",...t};return ui.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=ui.batch(()=>ge(this,jr).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(ea).catch(ea)}invalidateQueries(t={},e={}){return ui.batch(()=>{if(ge(this,jr).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=ui.batch(()=>ge(this,jr).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(ea)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(ea)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ge(this,jr).build(this,e);return n.isStaleByTime(Hg(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(ea).catch(ea)}fetchInfiniteQuery(t){return t.behavior=XV(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(ea).catch(ea)}ensureInfiniteQueryData(t){return t.behavior=XV(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return PM.isOnline()?ge(this,wd).resumePausedMutations():Promise.resolve()}getQueryCache(){return ge(this,jr)}getMutationCache(){return ge(this,wd)}getDefaultOptions(){return ge(this,Sd)}setDefaultOptions(t){xt(this,Sd,t)}setQueryDefaults(t,e){ge(this,cv).set(ap(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ge(this,cv).values()];let n={};return e.forEach(r=>{G_(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ge(this,uv).set(ap(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ge(this,uv).values()];let n={};return e.forEach(r=>{G_(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ge(this,Sd).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=q4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===K4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ge(this,Sd).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ge(this,jr).clear(),ge(this,wd).clear()}},jr=new WeakMap,wd=new WeakMap,Sd=new WeakMap,cv=new WeakMap,uv=new WeakMap,Cd=new WeakMap,dv=new WeakMap,fv=new WeakMap,zZ),Ds,wn,xw,vs,Lh,hv,Ed,kl,_w,pv,mv,Fh,Bh,Md,gv,Wn,O0,ED,MD,AD,TD,PD,ND,RD,Iee,HZ,w1e=(HZ=class extends Ry{constructor(e,n){super();Ht(this,Wn);Ht(this,Ds);Ht(this,wn);Ht(this,xw);Ht(this,vs);Ht(this,Lh);Ht(this,hv);Ht(this,Ed);Ht(this,kl);Ht(this,_w);Ht(this,pv);Ht(this,mv);Ht(this,Fh);Ht(this,Bh);Ht(this,Md);Ht(this,gv,new Set);this.options=n,xt(this,Ds,e),xt(this,kl,null),xt(this,Ed,CD()),this.options.experimental_prefetchInRender||ge(this,Ed).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(ge(this,wn).addObserver(this),ZV(ge(this,wn),this.options)?hn(this,Wn,O0).call(this):this.updateResult(),hn(this,Wn,TD).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kD(ge(this,wn),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kD(ge(this,wn),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,hn(this,Wn,PD).call(this),hn(this,Wn,ND).call(this),ge(this,wn).removeObserver(this)}setOptions(e,n){const r=this.options,i=ge(this,wn);if(this.options=ge(this,Ds).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof za(this.options.enabled,ge(this,wn))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");hn(this,Wn,RD).call(this),ge(this,wn).setOptions(this.options),r._defaulted&&!TM(this.options,r)&&ge(this,Ds).getQueryCache().notify({type:"observerOptionsUpdated",query:ge(this,wn),observer:this});const s=this.hasListeners();s&&QV(ge(this,wn),i,this.options,r)&&hn(this,Wn,O0).call(this),this.updateResult(n),s&&(ge(this,wn)!==i||za(this.options.enabled,ge(this,wn))!==za(r.enabled,ge(this,wn))||Hg(this.options.staleTime,ge(this,wn))!==Hg(r.staleTime,ge(this,wn)))&&hn(this,Wn,ED).call(this);const o=hn(this,Wn,MD).call(this);s&&(ge(this,wn)!==i||za(this.options.enabled,ge(this,wn))!==za(r.enabled,ge(this,wn))||o!==ge(this,Md))&&hn(this,Wn,AD).call(this,o)}getOptimisticResult(e){const n=ge(this,Ds).getQueryCache().build(ge(this,Ds),e),r=this.createResult(n,e);return C1e(this,r)&&(xt(this,vs,r),xt(this,hv,this.options),xt(this,Lh,ge(this,wn).state)),r}getCurrentResult(){return ge(this,vs)}trackResult(e,n){const r={};return Object.keys(e).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),e[i])})}),r}trackProp(e){ge(this,gv).add(e)}getCurrentQuery(){return ge(this,wn)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const n=ge(this,Ds).defaultQueryOptions(e),r=ge(this,Ds).getQueryCache().build(ge(this,Ds),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(e){return hn(this,Wn,O0).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),ge(this,vs)))}createResult(e,n){var T;const r=ge(this,wn),i=this.options,s=ge(this,vs),o=ge(this,Lh),a=ge(this,hv),c=e!==r?e.state:ge(this,xw),{state:f}=e;let d={...f},h=!1,g;if(n._optimisticResults){const P=this.hasListeners(),N=!P&&ZV(e,n),O=P&&QV(e,r,n,i);(N||O)&&(d={...d,...Ree(f.data,e.options)}),n._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:x,status:m}=d;if(n.select&&d.data!==void 0)if(s&&d.data===(o==null?void 0:o.data)&&n.select===ge(this,_w))g=ge(this,pv);else try{xt(this,_w,n.select),g=n.select(d.data),g=SD(s==null?void 0:s.data,g,n),xt(this,pv,g),xt(this,kl,null)}catch(P){xt(this,kl,P)}else g=d.data;if(n.placeholderData!==void 0&&g===void 0&&m==="pending"){let P;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=s.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((T=ge(this,mv))==null?void 0:T.state.data,ge(this,mv)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),xt(this,kl,null)}catch(N){xt(this,kl,N)}P!==void 0&&(m="success",g=SD(s==null?void 0:s.data,P,n),h=!0)}ge(this,kl)&&(v=ge(this,kl),g=ge(this,pv),x=Date.now(),m="error");const p=d.fetchStatus==="fetching",y=m==="pending",_=m==="error",b=y&&p,w=g!==void 0,A={status:m,fetchStatus:d.fetchStatus,isPending:y,isSuccess:m==="success",isError:_,isInitialLoading:b,isLoading:b,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:x,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:p,isRefetching:p&&!y,isLoadingError:_&&!w,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:_&&w,isStale:Y4(e,n),refetch:this.refetch,promise:ge(this,Ed)};if(this.options.experimental_prefetchInRender){const P=I=>{A.status==="error"?I.reject(A.error):A.data!==void 0&&I.resolve(A.data)},N=()=>{const I=xt(this,Ed,A.promise=CD());P(I)},O=ge(this,Ed);switch(O.status){case"pending":e.queryHash===r.queryHash&&P(O);break;case"fulfilled":(A.status==="error"||A.data!==O.value)&&N();break;case"rejected":(A.status!=="error"||A.error!==O.reason)&&N();break}}return A}updateResult(e){const n=ge(this,vs),r=this.createResult(ge(this,wn),this.options);if(xt(this,Lh,ge(this,wn).state),xt(this,hv,this.options),ge(this,Lh).data!==void 0&&xt(this,mv,ge(this,wn)),TM(r,n))return;xt(this,vs,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:o}=this.options,a=typeof o=="function"?o():o;if(a==="all"||!a&&!ge(this,gv).size)return!0;const l=new Set(a??ge(this,gv));return this.options.throwOnError&&l.add("error"),Object.keys(ge(this,vs)).some(c=>{const f=c;return ge(this,vs)[f]!==n[f]&&l.has(f)})};(e==null?void 0:e.listeners)!==!1&&s()&&(i.listeners=!0),hn(this,Wn,Iee).call(this,{...i,...e})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&hn(this,Wn,TD).call(this)}},Ds=new WeakMap,wn=new WeakMap,xw=new WeakMap,vs=new WeakMap,Lh=new WeakMap,hv=new WeakMap,Ed=new WeakMap,kl=new WeakMap,_w=new WeakMap,pv=new WeakMap,mv=new WeakMap,Fh=new WeakMap,Bh=new WeakMap,Md=new WeakMap,gv=new WeakMap,Wn=new WeakSet,O0=function(e){hn(this,Wn,RD).call(this);let n=ge(this,wn).fetch(this.options,e);return e!=null&&e.throwOnError||(n=n.catch(ea)),n},ED=function(){hn(this,Wn,PD).call(this);const e=Hg(this.options.staleTime,ge(this,wn));if(op||ge(this,vs).isStale||!bD(e))return;const r=Cee(ge(this,vs).dataUpdatedAt,e)+1;xt(this,Fh,setTimeout(()=>{ge(this,vs).isStale||this.updateResult()},r))},MD=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(ge(this,wn)):this.options.refetchInterval)??!1},AD=function(e){hn(this,Wn,ND).call(this),xt(this,Md,e),!(op||za(this.options.enabled,ge(this,wn))===!1||!bD(ge(this,Md))||ge(this,Md)===0)&&xt(this,Bh,setInterval(()=>{(this.options.refetchIntervalInBackground||X4.isFocused())&&hn(this,Wn,O0).call(this)},ge(this,Md)))},TD=function(){hn(this,Wn,ED).call(this),hn(this,Wn,AD).call(this,hn(this,Wn,MD).call(this))},PD=function(){ge(this,Fh)&&(clearTimeout(ge(this,Fh)),xt(this,Fh,void 0))},ND=function(){ge(this,Bh)&&(clearInterval(ge(this,Bh)),xt(this,Bh,void 0))},RD=function(){const e=ge(this,Ds).getQueryCache().build(ge(this,Ds),this.options);if(e===ge(this,wn))return;const n=ge(this,wn);xt(this,wn,e),xt(this,xw,e.state),this.hasListeners()&&(n==null||n.removeObserver(this),e.addObserver(this))},Iee=function(e){ui.batch(()=>{e.listeners&&this.listeners.forEach(n=>{n(ge(this,vs))}),ge(this,Ds).getQueryCache().notify({query:ge(this,wn),type:"observerResultsUpdated"})})},HZ);function S1e(t,e){return za(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function ZV(t,e){return S1e(t,e)||t.state.data!==void 0&&kD(t,e,e.refetchOnMount)}function kD(t,e,n){if(za(e.enabled,t)!==!1){const r=typeof n=="function"?n(t):n;return r==="always"||r!==!1&&Y4(t,e)}return!1}function QV(t,e,n,r){return(t!==e||za(r.enabled,t)===!1)&&(!n.suspense||t.state.status!=="error")&&Y4(t,n)}function Y4(t,e){return za(e.enabled,t)!==!1&&t.isStaleByTime(Hg(e.staleTime,t))}function C1e(t,e){return!TM(t.getCurrentResult(),e)}var Ad,Td,Ls,Uc,ou,OE,OD,VZ,E1e=(VZ=class extends Ry{constructor(n,r){super();Ht(this,ou);Ht(this,Ad);Ht(this,Td);Ht(this,Ls);Ht(this,Uc);xt(this,Ad,n),this.setOptions(r),this.bindMethods(),hn(this,ou,OE).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=ge(this,Ad).defaultMutationOptions(n),TM(this.options,r)||ge(this,Ad).getMutationCache().notify({type:"observerOptionsUpdated",mutation:ge(this,Ls),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ap(r.mutationKey)!==ap(this.options.mutationKey)?this.reset():((i=ge(this,Ls))==null?void 0:i.state.status)==="pending"&&ge(this,Ls).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=ge(this,Ls))==null||n.removeObserver(this)}onMutationUpdate(n){hn(this,ou,OE).call(this),hn(this,ou,OD).call(this,n)}getCurrentResult(){return ge(this,Td)}reset(){var n;(n=ge(this,Ls))==null||n.removeObserver(this),xt(this,Ls,void 0),hn(this,ou,OE).call(this),hn(this,ou,OD).call(this)}mutate(n,r){var i;return xt(this,Uc,r),(i=ge(this,Ls))==null||i.removeObserver(this),xt(this,Ls,ge(this,Ad).getMutationCache().build(ge(this,Ad),this.options)),ge(this,Ls).addObserver(this),ge(this,Ls).execute(n)}},Ad=new WeakMap,Td=new WeakMap,Ls=new WeakMap,Uc=new WeakMap,ou=new WeakSet,OE=function(){var r;const n=((r=ge(this,Ls))==null?void 0:r.state)??kee();xt(this,Td,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},OD=function(n){ui.batch(()=>{var r,i,s,o,a,l,c,f;if(ge(this,Uc)&&this.hasListeners()){const d=ge(this,Td).variables,h=ge(this,Td).context;(n==null?void 0:n.type)==="success"?((i=(r=ge(this,Uc)).onSuccess)==null||i.call(r,n.data,d,h),(o=(s=ge(this,Uc)).onSettled)==null||o.call(s,n.data,null,d,h)):(n==null?void 0:n.type)==="error"&&((l=(a=ge(this,Uc)).onError)==null||l.call(a,n.error,d,h),(f=(c=ge(this,Uc)).onSettled)==null||f.call(c,void 0,n.error,d,h))}this.listeners.forEach(d=>{d(ge(this,Td))})})},VZ),jee=M.createContext(void 0),Ni=t=>{const e=M.useContext(jee);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},M1e=({client:t,children:e})=>(M.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(jee.Provider,{value:t,children:e})),Dee=M.createContext(!1),A1e=()=>M.useContext(Dee);Dee.Provider;function T1e(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var P1e=M.createContext(T1e()),N1e=()=>M.useContext(P1e);function Lee(t,e){return typeof t=="function"?t(...e):!!t}function ID(){}var R1e=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},k1e=t=>{M.useEffect(()=>{t.clearReset()},[t])},O1e=({result:t,errorResetBoundary:e,throwOnError:n,query:r})=>t.isError&&!e.isReset()&&!t.isFetching&&r&&Lee(n,[t.error,r]),I1e=t=>{t.suspense&&(t.staleTime===void 0&&(t.staleTime=1e3),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3)))},j1e=(t,e)=>t.isLoading&&t.isFetching&&!e,D1e=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,JV=(t,e,n)=>e.fetchOptimistic(t).catch(()=>{n.clearReset()});function L1e(t,e,n){var f,d,h,g,v;const r=Ni(),i=A1e(),s=N1e(),o=r.defaultQueryOptions(t);(d=(f=r.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||d.call(f,o),o._optimisticResults=i?"isRestoring":"optimistic",I1e(o),R1e(o,s),k1e(s);const a=!r.getQueryCache().get(o.queryHash),[l]=M.useState(()=>new e(r,o)),c=l.getOptimisticResult(o);if(M.useSyncExternalStore(M.useCallback(x=>{const m=i?ID:l.subscribe(ui.batchCalls(x));return l.updateResult(),m},[l,i]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),M.useEffect(()=>{l.setOptions(o,{listeners:!1})},[o,l]),D1e(o,c))throw JV(o,l,s);if(O1e({result:c,errorResetBoundary:s,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw c.error;if((g=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_afterQuery)==null||g.call(h,o,c),o.experimental_prefetchInRender&&!op&&j1e(c,i)){const x=a?JV(o,l,s):(v=r.getQueryCache().get(o.queryHash))==null?void 0:v.promise;x==null||x.catch(ID).finally(()=>{l.updateResult()})}return o.notifyOnChangeProps?c:l.trackResult(c)}function gn(t,e){return L1e(t,w1e)}function Ft(t,e){const n=Ni(),[r]=M.useState(()=>new E1e(n,t));M.useEffect(()=>{r.setOptions(t)},[r,t]);const i=M.useSyncExternalStore(M.useCallback(o=>r.subscribe(ui.batchCalls(o)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=M.useCallback((o,a)=>{r.mutate(o,a).catch(ID)},[r]);if(i.error&&Lee(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function F1e(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const B1e=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await F1e(n),await n.json())},U1e=new Oee({defaultOptions:{queries:{queryFn:B1e({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function $1e(t,e){const n=M.createContext(e),r=s=>{const{children:o,...a}=s,l=M.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=M.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function nr(t,e=[]){let n=[];function r(s,o){const a=M.createContext(o),l=n.length;n=[...n,o];const c=d=>{var p;const{scope:h,children:g,...v}=d,x=((p=h==null?void 0:h[t])==null?void 0:p[l])||a,m=M.useMemo(()=>v,Object.values(v));return u.jsx(x.Provider,{value:m,children:g})};c.displayName=s+"Provider";function f(d,h){var x;const g=((x=h==null?void 0:h[t])==null?void 0:x[l])||a,v=M.useContext(g);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,f]}const i=()=>{const s=n.map(o=>M.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return M.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,z1e(i,...e)]}function z1e(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...a,...d}},{});return M.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function e8(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ec(...t){return e=>{let n=!1;const r=t.map(i=>{const s=e8(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():e8(t[i],null)}}}}function Nt(...t){return M.useCallback(ec(...t),t)}function Zd(t){const e=H1e(t),n=M.forwardRef((r,i)=>{const{children:s,...o}=r,a=M.Children.toArray(s),l=a.find(V1e);if(l){const c=l.props.children,f=a.map(d=>d===l?M.Children.count(c)>1?M.Children.only(null):M.isValidElement(c)?c.props.children:null:d);return u.jsx(e,{...o,ref:i,children:M.isValidElement(c)?M.cloneElement(c,void 0,f):null})}return u.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var Mw=Zd("Slot");function H1e(t){const e=M.forwardRef((n,r)=>{const{children:i,...s}=n;if(M.isValidElement(i)){const o=G1e(i),a=W1e(s,i.props);return i.type!==M.Fragment&&(a.ref=r?ec(r,o):o),M.cloneElement(i,a)}return M.Children.count(i)>1?M.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Fee=Symbol("radix.slottable");function Bee(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Fee,e}function V1e(t){return M.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Fee}function W1e(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function G1e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Mu(t){const e=t+"CollectionProvider",[n,r]=nr(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:m,children:p}=x,y=ne.useRef(null),_=ne.useRef(new Map).current;return u.jsx(i,{scope:m,itemMap:_,collectionRef:y,children:p})};o.displayName=e;const a=t+"CollectionSlot",l=Zd(a),c=ne.forwardRef((x,m)=>{const{scope:p,children:y}=x,_=s(a,p),b=Nt(m,_.collectionRef);return u.jsx(l,{ref:b,children:y})});c.displayName=a;const f=t+"CollectionItemSlot",d="data-radix-collection-item",h=Zd(f),g=ne.forwardRef((x,m)=>{const{scope:p,children:y,..._}=x,b=ne.useRef(null),w=Nt(m,b),E=s(f,p);return ne.useEffect(()=>(E.itemMap.set(b,{ref:b,..._}),()=>void E.itemMap.delete(b))),u.jsx(h,{[d]:"",ref:w,children:y})});g.displayName=f;function v(x){const m=s(t+"CollectionConsumer",x);return ne.useCallback(()=>{const y=m.collectionRef.current;if(!y)return[];const _=Array.from(y.querySelectorAll(`[${d}]`));return Array.from(m.itemMap.values()).sort((E,A)=>_.indexOf(E.ref.current)-_.indexOf(A.ref.current))},[m.collectionRef,m.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},v,r]}function Ie(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Ln(t){const e=M.useRef(t);return M.useEffect(()=>{e.current=t}),M.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $r({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=q1e({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Ln(n),l=M.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function q1e({defaultProp:t,onChange:e}){const n=M.useState(t),[r]=n,i=M.useRef(r),s=Ln(e);return M.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var K1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ze=K1e.reduce((t,e)=>{const n=Zd(`Primitive.${e}`),r=M.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function q_(t,e){t&&Op.flushSync(()=>t.dispatchEvent(e))}var _r=globalThis!=null&&globalThis.document?M.useLayoutEffect:()=>{};function X1e(t,e){return M.useReducer((n,r)=>e[n][r]??n,t)}var gr=t=>{const{present:e,children:n}=t,r=Y1e(e),i=typeof n=="function"?n({present:r.isPresent}):M.Children.only(n),s=Nt(r.ref,Z1e(i));return typeof n=="function"||r.isPresent?M.cloneElement(i,{ref:s}):null};gr.displayName="Presence";function Y1e(t){const[e,n]=M.useState(),r=M.useRef({}),i=M.useRef(t),s=M.useRef("none"),o=t?"mounted":"unmounted",[a,l]=X1e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return M.useEffect(()=>{const c=$S(r.current);s.current=a==="mounted"?c:"none"},[a]),_r(()=>{const c=r.current,f=i.current;if(f!==t){const h=s.current,g=$S(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(f&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),_r(()=>{if(e){let c;const f=e.ownerDocument.defaultView??window,d=g=>{const x=$S(r.current).includes(g.animationName);if(g.target===e&&x&&(l("ANIMATION_END"),!i.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",c=f.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},h=g=>{g.target===e&&(s.current=$S(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{f.clearTimeout(c),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:M.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function $S(t){return(t==null?void 0:t.animationName)||"none"}function Z1e(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Q1e=dP[" useId ".trim().toString()]||(()=>{}),J1e=0;function Br(t){const[e,n]=M.useState(Q1e());return _r(()=>{n(r=>r??String(J1e++))},[t]),e?`radix-${e}`:""}var Z4="Collapsible",[eSe,Uee]=nr(Z4),[tSe,Q4]=eSe(Z4),$ee=M.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:o,...a}=t,[l=!1,c]=$r({prop:r,defaultProp:i,onChange:o});return u.jsx(tSe,{scope:n,disabled:s,contentId:Br(),open:l,onOpenToggle:M.useCallback(()=>c(f=>!f),[c]),children:u.jsx(Ze.div,{"data-state":nB(l),"data-disabled":s?"":void 0,...a,ref:e})})});$ee.displayName=Z4;var zee="CollapsibleTrigger",J4=M.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,i=Q4(zee,n);return u.jsx(Ze.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":nB(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:e,onClick:Ie(t.onClick,i.onOpenToggle)})});J4.displayName=zee;var eB="CollapsibleContent",tB=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Q4(eB,t.__scopeCollapsible);return u.jsx(gr,{present:n||i.open,children:({present:s})=>u.jsx(nSe,{...r,ref:e,present:s})})});tB.displayName=eB;var nSe=M.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=t,o=Q4(eB,n),[a,l]=M.useState(r),c=M.useRef(null),f=Nt(e,c),d=M.useRef(0),h=d.current,g=M.useRef(0),v=g.current,x=o.open||a,m=M.useRef(x),p=M.useRef(void 0);return M.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),_r(()=>{const y=c.current;if(y){p.current=p.current||{transitionDuration:y.style.transitionDuration,animationName:y.style.animationName},y.style.transitionDuration="0s",y.style.animationName="none";const _=y.getBoundingClientRect();d.current=_.height,g.current=_.width,m.current||(y.style.transitionDuration=p.current.transitionDuration,y.style.animationName=p.current.animationName),l(r)}},[o.open,r]),u.jsx(Ze.div,{"data-state":nB(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:f,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":v?`${v}px`:void 0,...t.style},children:x&&i})});function nB(t){return t?"open":"closed"}var Hee=$ee,rSe=J4,iSe=tB,sSe=M.createContext(void 0);function fl(t){const e=M.useContext(sSe);return t||e||"ltr"}var Au="Accordion",oSe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[rB,aSe,lSe]=Mu(Au),[PP,aAt]=nr(Au,[lSe,Uee]),iB=Uee(),cSe=ne.forwardRef((t,e)=>{const{type:n,...r}=t,i=r,s=r;return u.jsx(rB.Provider,{scope:t.__scopeAccordion,children:n==="multiple"?u.jsx(hSe,{...s,ref:e}):u.jsx(fSe,{...i,ref:e})})});cSe.displayName=Au;var[Vee,uSe]=PP(Au),[Wee,dSe]=PP(Au,{collapsible:!1}),fSe=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[a,l]=$r({prop:n,defaultProp:r,onChange:i});return u.jsx(Vee,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:ne.useCallback(()=>s&&l(""),[s,l]),children:u.jsx(Wee,{scope:t.__scopeAccordion,collapsible:s,children:u.jsx(Gee,{...o,ref:e})})})}),hSe=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=$r({prop:n,defaultProp:r,onChange:i}),l=ne.useCallback(f=>a((d=[])=>[...d,f]),[a]),c=ne.useCallback(f=>a((d=[])=>d.filter(h=>h!==f)),[a]);return u.jsx(Vee,{scope:t.__scopeAccordion,value:o,onItemOpen:l,onItemClose:c,children:u.jsx(Wee,{scope:t.__scopeAccordion,collapsible:!0,children:u.jsx(Gee,{...s,ref:e})})})}),[pSe,NP]=PP(Au),Gee=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:s="vertical",...o}=t,a=ne.useRef(null),l=Nt(a,e),c=aSe(n),d=fl(i)==="ltr",h=Ie(t.onKeyDown,g=>{var T;if(!oSe.includes(g.key))return;const v=g.target,x=c().filter(P=>{var N;return!((N=P.ref.current)!=null&&N.disabled)}),m=x.findIndex(P=>P.ref.current===v),p=x.length;if(m===-1)return;g.preventDefault();let y=m;const _=0,b=p-1,w=()=>{y=m+1,y>b&&(y=_)},E=()=>{y=m-1,y<_&&(y=b)};switch(g.key){case"Home":y=_;break;case"End":y=b;break;case"ArrowRight":s==="horizontal"&&(d?w():E());break;case"ArrowDown":s==="vertical"&&w();break;case"ArrowLeft":s==="horizontal"&&(d?E():w());break;case"ArrowUp":s==="vertical"&&E();break}const A=y%p;(T=x[A].ref.current)==null||T.focus()});return u.jsx(pSe,{scope:n,disabled:r,direction:i,orientation:s,children:u.jsx(rB.Slot,{scope:n,children:u.jsx(Ze.div,{...o,"data-orientation":s,ref:l,onKeyDown:r?void 0:h})})})}),NM="AccordionItem",[mSe,sB]=PP(NM),qee=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...i}=t,s=NP(NM,n),o=uSe(NM,n),a=iB(n),l=Br(),c=r&&o.value.includes(r)||!1,f=s.disabled||t.disabled;return u.jsx(mSe,{scope:n,open:c,disabled:f,triggerId:l,children:u.jsx(Hee,{"data-orientation":s.orientation,"data-state":Jee(c),...a,...i,ref:e,disabled:f,open:c,onOpenChange:d=>{d?o.onItemOpen(r):o.onItemClose(r)}})})});qee.displayName=NM;var Kee="AccordionHeader",Xee=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=NP(Au,n),s=sB(Kee,n);return u.jsx(Ze.h3,{"data-orientation":i.orientation,"data-state":Jee(s.open),"data-disabled":s.disabled?"":void 0,...r,ref:e})});Xee.displayName=Kee;var jD="AccordionTrigger",Yee=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=NP(Au,n),s=sB(jD,n),o=dSe(jD,n),a=iB(n);return u.jsx(rB.ItemSlot,{scope:n,children:u.jsx(rSe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...a,...r,ref:e})})});Yee.displayName=jD;var Zee="AccordionContent",Qee=ne.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,i=NP(Au,n),s=sB(Zee,n),o=iB(n);return u.jsx(iSe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});Qee.displayName=Zee;function Jee(t){return t?"open":"closed"}var gSe=qee,vSe=Xee,ete=Yee,tte=Qee;/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ySe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nte=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xSe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Se=M.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>M.createElement("svg",{ref:l,...xSe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:nte("lucide",i),...a},[...o.map(([c,f])=>M.createElement(c,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=(t,e)=>{const n=M.forwardRef(({className:r,...i},s)=>M.createElement(_Se,{ref:s,iconNode:e,className:nte(`lucide-${ySe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=tt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bSe=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=tt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wSe=tt("ArrowUpFromLine",[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SSe=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CSe=tt("BotMessageSquare",[["path",{d:"M12 6V2H8",key:"1155em"}],["path",{d:"m8 18-4 4V8a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2Z",key:"w2lp3e"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M9 11v2",key:"1ueba0"}],["path",{d:"M15 11v2",key:"i11awn"}],["path",{d:"M20 12h2",key:"1q8mjw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=tt("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=tt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uf=tt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ESe=tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rte=tt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lp=tt("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=tt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ky=tt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ite=tt("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oy=tt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MSe=tt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ASe=tt("Chrome",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["line",{x1:"21.17",x2:"12",y1:"8",y2:"8",key:"a0cw5f"}],["line",{x1:"3.95",x2:"8.54",y1:"6.06",y2:"14",key:"1kftof"}],["line",{x1:"10.88",x2:"15.46",y1:"21.94",y2:"14",key:"1ymyh8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=tt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=tt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TSe=tt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PSe=tt("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ste=tt("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=tt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=tt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=tt("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NSe=tt("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=tt("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ate=tt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=tt("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RSe=tt("Dot",[["circle",{cx:"12.1",cy:"12.1",r:"1",key:"18d7e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kSe=tt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=tt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=tt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=tt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OSe=tt("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=tt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ISe=tt("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=tt("FlaskConical",[["path",{d:"M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2",key:"pzvekw"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M7 16h10",key:"wp8him"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jSe=tt("FolderGit",[["circle",{cx:"12",cy:"13",r:"2",key:"1c1ljs"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}],["path",{d:"M14 13h3",key:"1dgedf"}],["path",{d:"M7 13h3",key:"1pygq7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=tt("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DSe=tt("Gem",[["path",{d:"M6 3h12l4 6-10 13L2 9Z",key:"1pcd5k"}],["path",{d:"M11 3 8 9l4 13 4-13-3-6",key:"1fcu3u"}],["path",{d:"M2 9h20",key:"16fsjt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=tt("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LSe=tt("GitCommitHorizontal",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["line",{x1:"3",x2:"9",y1:"12",y2:"12",key:"1dyftd"}],["line",{x1:"15",x2:"21",y1:"12",y2:"12",key:"oup4p8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FSe=tt("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=tt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BSe=tt("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=tt("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const USe=tt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=tt("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Se=tt("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=tt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n8=tt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zSe=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HSe=tt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VSe=tt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=tt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const df=tt("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WSe=tt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GSe=tt("PanelRightOpen",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M15 3v18",key:"14nvp0"}],["path",{d:"m10 15-3-3 3-3",key:"1pgupc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qSe=tt("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=tt("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=tt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=tt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KSe=tt("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=tt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=tt("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=tt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=tt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=tt("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cp=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XSe=tt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=tt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=tt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YSe=tt("SquareTerminal",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=tt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=tt("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZSe=tt("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=tt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=tt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QSe=tt("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=tt("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=tt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JSe=tt("Usb",[["circle",{cx:"10",cy:"7",r:"1",key:"dypaad"}],["circle",{cx:"4",cy:"20",r:"1",key:"22iqad"}],["path",{d:"M4.7 19.3 19 5",key:"1enqfc"}],["path",{d:"m21 3-3 1 2 2Z",key:"d3ov82"}],["path",{d:"M9.26 7.68 5 12l2 5",key:"1esawj"}],["path",{d:"m10 14 5 2 3.5-3.5",key:"v8oal5"}],["path",{d:"m18 12 1-1 1 1-1 1Z",key:"1bh22v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Av=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eCe=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tCe=tt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nCe=tt("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=tt("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=tt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=tt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);function pte(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=pte(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function nn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=pte(t))&&(r&&(r+=" "),r+=e);return r}const uB="-",rCe=t=>{const e=sCe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(uB);return a[0]===""&&a.length!==1&&a.shift(),mte(a,e)||iCe(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},mte=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?mte(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(uB);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},a8=/^\[(.+)\]$/,iCe=t=>{if(a8.test(t)){const e=a8.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sCe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return aCe(Object.entries(t.classGroups),n).forEach(([s,o])=>{FD(o,r,s,e)}),r},FD=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:l8(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(oCe(i)){FD(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{FD(o,l8(e,s),n,r)})})},l8=(t,e)=>{let n=t;return e.split(uB).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},oCe=t=>t.isThemeGetter,aCe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,lCe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},gte="!",cCe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,f=0,d;for(let m=0;m<a.length;m++){let p=a[m];if(c===0){if(p===i&&(r||a.slice(m,m+s)===e)){l.push(a.slice(f,m)),f=m+s;continue}if(p==="/"){d=m;continue}}p==="["?c++:p==="]"&&c--}const h=l.length===0?a:a.substring(f),g=h.startsWith(gte),v=g?h.substring(1):h,x=d&&d>f?d-f:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},uCe=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},dCe=t=>({cache:lCe(t.cacheSize),parseClassName:cCe(t),...rCe(t)}),fCe=/\s+/,hCe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(fCe);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:g}=n(c);let v=!!g,x=r(v?h.substring(0,g):h);if(!x){if(!v){a=c+(a.length>0?" "+a:a);continue}if(x=r(h),!x){a=c+(a.length>0?" "+a:a);continue}v=!1}const m=uCe(f).join(":"),p=d?m+gte:m,y=p+x;if(s.includes(y))continue;s.push(y);const _=i(x,v);for(let b=0;b<_.length;++b){const w=_[b];s.push(p+w)}a=c+(a.length>0?" "+a:a)}return a};function pCe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=vte(e))&&(r&&(r+=" "),r+=n);return r}const vte=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=vte(t[r]))&&(n&&(n+=" "),n+=e);return n};function mCe(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((f,d)=>d(f),t());return n=dCe(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const f=hCe(l,n);return i(l,f),f}return function(){return s(pCe.apply(null,arguments))}}const ur=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},yte=/^\[(?:([a-z-]+):)?(.+)\]$/i,gCe=/^\d+\/\d+$/,vCe=new Set(["px","full","screen"]),yCe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xCe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_Ce=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,bCe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,wCe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ec=t=>Gg(t)||vCe.has(t)||gCe.test(t),Xu=t=>Iy(t,"length",NCe),Gg=t=>!!t&&!Number.isNaN(Number(t)),Hk=t=>Iy(t,"number",Gg),Gx=t=>!!t&&Number.isInteger(Number(t)),SCe=t=>t.endsWith("%")&&Gg(t.slice(0,-1)),un=t=>yte.test(t),Yu=t=>yCe.test(t),CCe=new Set(["length","size","percentage"]),ECe=t=>Iy(t,CCe,xte),MCe=t=>Iy(t,"position",xte),ACe=new Set(["image","url"]),TCe=t=>Iy(t,ACe,kCe),PCe=t=>Iy(t,"",RCe),qx=()=>!0,Iy=(t,e,n)=>{const r=yte.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},NCe=t=>xCe.test(t)&&!_Ce.test(t),xte=()=>!1,RCe=t=>bCe.test(t),kCe=t=>wCe.test(t),OCe=()=>{const t=ur("colors"),e=ur("spacing"),n=ur("blur"),r=ur("brightness"),i=ur("borderColor"),s=ur("borderRadius"),o=ur("borderSpacing"),a=ur("borderWidth"),l=ur("contrast"),c=ur("grayscale"),f=ur("hueRotate"),d=ur("invert"),h=ur("gap"),g=ur("gradientColorStops"),v=ur("gradientColorStopPositions"),x=ur("inset"),m=ur("margin"),p=ur("opacity"),y=ur("padding"),_=ur("saturate"),b=ur("scale"),w=ur("sepia"),E=ur("skew"),A=ur("space"),T=ur("translate"),P=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],O=()=>["auto",un,e],I=()=>[un,e],D=()=>["",Ec,Xu],F=()=>["auto",Gg,un],$=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],H=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",un],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[Gg,un];return{cacheSize:500,separator:":",theme:{colors:[qx],spacing:[Ec,Xu],blur:["none","",Yu,un],brightness:W(),borderColor:[t],borderRadius:["none","","full",Yu,un],borderSpacing:I(),borderWidth:D(),contrast:W(),grayscale:j(),hueRotate:W(),invert:j(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[SCe,Xu],inset:O(),margin:O(),opacity:W(),padding:I(),saturate:W(),scale:W(),sepia:j(),skew:W(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",un]}],container:["container"],columns:[{columns:[Yu]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...$(),un]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gx,un]}],basis:[{basis:O()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",un]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",Gx,un]}],"grid-cols":[{"grid-cols":[qx]}],"col-start-end":[{col:["auto",{span:["full",Gx,un]},un]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[qx]}],"row-start-end":[{row:["auto",{span:[Gx,un]},un]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",un]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",un]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[A]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[A]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",un,e]}],"min-w":[{"min-w":[un,e,"min","max","fit"]}],"max-w":[{"max-w":[un,e,"none","full","min","max","fit","prose",{screen:[Yu]},Yu]}],h:[{h:[un,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[un,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[un,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[un,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Yu,Xu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Hk]}],"font-family":[{font:[qx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",un]}],"line-clamp":[{"line-clamp":["none",Gg,Hk]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ec,un]}],"list-image":[{"list-image":["none",un]}],"list-style-type":[{list:["none","disc","decimal",un]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ec,Xu]}],"underline-offset":[{"underline-offset":["auto",Ec,un]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",un]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",un]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...$(),MCe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ECe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},TCe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Ec,un]}],"outline-w":[{outline:[Ec,Xu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:D()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Ec,Xu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Yu,PCe]}],"shadow-color":[{shadow:[qx]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...H(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":H()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Yu,un]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[w]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[w]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",un]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",un]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",un]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Gx,un]}],"translate-x":[{"translate-x":[T]}],"translate-y":[{"translate-y":[T]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",un]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",un]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",un]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Ec,Xu,Hk]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ICe=mCe(OCe);function we(...t){return ICe(nn(t))}const jCe=M.forwardRef(({className:t,...e},n)=>u.jsx(gSe,{ref:n,className:we("border-b",t),...e}));jCe.displayName="AccordionItem";const DCe=M.forwardRef(({className:t,children:e,...n},r)=>u.jsx(vSe,{className:"flex",children:u.jsxs(ete,{ref:r,className:we("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,u.jsx(ky,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));DCe.displayName=ete.displayName;const LCe=M.forwardRef(({className:t,children:e,...n},r)=>u.jsx(tte,{ref:r,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:u.jsx("div",{className:we("pb-4 pt-0",t),children:e})}));LCe.displayName=tte.displayName;function FCe(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t);M.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var BCe="DismissableLayer",BD="dismissableLayer.update",UCe="dismissableLayer.pointerDownOutside",$Ce="dismissableLayer.focusOutside",c8,_te=M.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Tu=M.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=M.useContext(_te),[f,d]=M.useState(null),h=(f==null?void 0:f.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=M.useState({}),v=Nt(e,A=>d(A)),x=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=x.indexOf(m),y=f?x.indexOf(f):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,b=y>=p,w=HCe(A=>{const T=A.target,P=[...c.branches].some(N=>N.contains(T));!b||P||(i==null||i(A),o==null||o(A),A.defaultPrevented||a==null||a())},h),E=VCe(A=>{const T=A.target;[...c.branches].some(N=>N.contains(T))||(s==null||s(A),o==null||o(A),A.defaultPrevented||a==null||a())},h);return FCe(A=>{y===c.layers.size-1&&(r==null||r(A),!A.defaultPrevented&&a&&(A.preventDefault(),a()))},h),M.useEffect(()=>{if(f)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(c8=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(f)),c.layers.add(f),u8(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=c8)}},[f,h,n,c]),M.useEffect(()=>()=>{f&&(c.layers.delete(f),c.layersWithOutsidePointerEventsDisabled.delete(f),u8())},[f,c]),M.useEffect(()=>{const A=()=>g({});return document.addEventListener(BD,A),()=>document.removeEventListener(BD,A)},[]),u.jsx(Ze.div,{...l,ref:v,style:{pointerEvents:_?b?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,E.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,w.onPointerDownCapture)})});Tu.displayName=BCe;var zCe="DismissableLayerBranch",bte=M.forwardRef((t,e)=>{const n=M.useContext(_te),r=M.useRef(null),i=Nt(e,r);return M.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),u.jsx(Ze.div,{...t,ref:i})});bte.displayName=zCe;function HCe(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=M.useRef(!1),i=M.useRef(()=>{});return M.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){wte(UCe,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function VCe(t,e=globalThis==null?void 0:globalThis.document){const n=Ln(t),r=M.useRef(!1);return M.useEffect(()=>{const i=s=>{s.target&&!r.current&&wte($Ce,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function u8(){const t=new CustomEvent(BD);document.dispatchEvent(t)}function wte(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?q_(i,s):i.dispatchEvent(s)}var WCe=Tu,GCe=bte,Vk="focusScope.autoFocusOnMount",Wk="focusScope.autoFocusOnUnmount",d8={bubbles:!1,cancelable:!0},qCe="FocusScope",Nw=M.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=M.useState(null),c=Ln(i),f=Ln(s),d=M.useRef(null),h=Nt(e,x=>l(x)),g=M.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;M.useEffect(()=>{if(r){let x=function(_){if(g.paused||!a)return;const b=_.target;a.contains(b)?d.current=b:ld(d.current,{select:!0})},m=function(_){if(g.paused||!a)return;const b=_.relatedTarget;b!==null&&(a.contains(b)||ld(d.current,{select:!0}))},p=function(_){if(document.activeElement===document.body)for(const w of _)w.removedNodes.length>0&&ld(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",m);const y=new MutationObserver(p);return a&&y.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",m),y.disconnect()}}},[r,a,g.paused]),M.useEffect(()=>{if(a){h8.add(g);const x=document.activeElement;if(!a.contains(x)){const p=new CustomEvent(Vk,d8);a.addEventListener(Vk,c),a.dispatchEvent(p),p.defaultPrevented||(KCe(JCe(Ste(a)),{select:!0}),document.activeElement===x&&ld(a))}return()=>{a.removeEventListener(Vk,c),setTimeout(()=>{const p=new CustomEvent(Wk,d8);a.addEventListener(Wk,f),a.dispatchEvent(p),p.defaultPrevented||ld(x??document.body,{select:!0}),a.removeEventListener(Wk,f),h8.remove(g)},0)}}},[a,c,f,g]);const v=M.useCallback(x=>{if(!n&&!r||g.paused)return;const m=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,p=document.activeElement;if(m&&p){const y=x.currentTarget,[_,b]=XCe(y);_&&b?!x.shiftKey&&p===b?(x.preventDefault(),n&&ld(_,{select:!0})):x.shiftKey&&p===_&&(x.preventDefault(),n&&ld(b,{select:!0})):p===y&&x.preventDefault()}},[n,r,g.paused]);return u.jsx(Ze.div,{tabIndex:-1,...o,ref:h,onKeyDown:v})});Nw.displayName=qCe;function KCe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ld(r,{select:e}),document.activeElement!==n)return}function XCe(t){const e=Ste(t),n=f8(e,t),r=f8(e.reverse(),t);return[n,r]}function Ste(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function f8(t,e){for(const n of t)if(!YCe(n,{upTo:e}))return n}function YCe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZCe(t){return t instanceof HTMLInputElement&&"select"in t}function ld(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZCe(t)&&e&&t.select()}}var h8=QCe();function QCe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=p8(t,e),t.unshift(e)},remove(e){var n;t=p8(t,e),(n=t[0])==null||n.resume()}}}function p8(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function JCe(t){return t.filter(e=>e.tagName!=="A")}var eEe="Portal",jy=M.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=M.useState(!1);_r(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?ree.createPortal(u.jsx(Ze.div,{...r,ref:e}),o):null});jy.displayName=eEe;var Gk=0;function jP(){M.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??m8()),document.body.insertAdjacentElement("beforeend",t[1]??m8()),Gk++,()=>{Gk===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Gk--}},[])}function m8(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var jl=function(){return jl=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},jl.apply(this,arguments)};function Cte(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tEe(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var IE="right-scroll-bar-position",jE="width-before-scroll-bar",nEe="with-scroll-bars-hidden",rEe="--removed-body-scroll-bar-size";function qk(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function iEe(t,e){var n=M.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var sEe=typeof window<"u"?M.useLayoutEffect:M.useEffect,g8=new WeakMap;function oEe(t,e){var n=iEe(null,function(r){return t.forEach(function(i){return qk(i,r)})});return sEe(function(){var r=g8.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||qk(a,null)}),s.forEach(function(a){i.has(a)||qk(a,o)})}g8.set(n,t)},[t]),n}function aEe(t){return t}function lEe(t,e){e===void 0&&(e=aEe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var f=o;o=[],f.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(f){o.push(f),c()},filter:function(f){return o=o.filter(f),n}}}};return i}function cEe(t){t===void 0&&(t={});var e=lEe(null);return e.options=jl({async:!0,ssr:!1},t),e}var Ete=function(t){var e=t.sideCar,n=Cte(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return M.createElement(r,jl({},n))};Ete.isSideCarExport=!0;function uEe(t,e){return t.useMedium(e),Ete}var Mte=cEe(),Kk=function(){},DP=M.forwardRef(function(t,e){var n=M.useRef(null),r=M.useState({onScrollCapture:Kk,onWheelCapture:Kk,onTouchMoveCapture:Kk}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,f=t.enabled,d=t.shards,h=t.sideCar,g=t.noIsolation,v=t.inert,x=t.allowPinchZoom,m=t.as,p=m===void 0?"div":m,y=t.gapMode,_=Cte(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,w=oEe([n,e]),E=jl(jl({},_),i);return M.createElement(M.Fragment,null,f&&M.createElement(b,{sideCar:Mte,removeScrollBar:c,shards:d,noIsolation:g,inert:v,setCallbacks:s,allowPinchZoom:!!x,lockRef:n,gapMode:y}),o?M.cloneElement(M.Children.only(a),jl(jl({},E),{ref:w})):M.createElement(p,jl({},E,{className:l,ref:w}),a))});DP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};DP.classNames={fullWidth:jE,zeroRight:IE};var dEe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fEe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=dEe();return e&&t.setAttribute("nonce",e),t}function hEe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function pEe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var mEe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=fEe())&&(hEe(e,n),pEe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},gEe=function(){var t=mEe();return function(e,n){M.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Ate=function(){var t=gEe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},vEe={left:0,top:0,right:0,gap:0},Xk=function(t){return parseInt(t||"",10)||0},yEe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Xk(n),Xk(r),Xk(i)]},xEe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return vEe;var e=yEe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},_Ee=Ate(),qg="data-scroll-locked",bEe=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(nEe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(qg,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(IE,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(jE,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(IE," .").concat(IE,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(jE," .").concat(jE,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(qg,`] {
    `).concat(rEe,": ").concat(a,`px;
  }
`)},v8=function(){var t=parseInt(document.body.getAttribute(qg)||"0",10);return isFinite(t)?t:0},wEe=function(){M.useEffect(function(){return document.body.setAttribute(qg,(v8()+1).toString()),function(){var t=v8()-1;t<=0?document.body.removeAttribute(qg):document.body.setAttribute(qg,t.toString())}},[])},SEe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;wEe();var s=M.useMemo(function(){return xEe(i)},[i]);return M.createElement(_Ee,{styles:bEe(s,!e,i,n?"":"!important")})},UD=!1;if(typeof window<"u")try{var zS=Object.defineProperty({},"passive",{get:function(){return UD=!0,!0}});window.addEventListener("test",zS,zS),window.removeEventListener("test",zS,zS)}catch{UD=!1}var xm=UD?{passive:!1}:!1,CEe=function(t){return t.tagName==="TEXTAREA"},Tte=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!CEe(t)&&n[e]==="visible")},EEe=function(t){return Tte(t,"overflowY")},MEe=function(t){return Tte(t,"overflowX")},y8=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=Pte(t,r);if(i){var s=Nte(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},AEe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},TEe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Pte=function(t,e){return t==="v"?EEe(e):MEe(e)},Nte=function(t,e){return t==="v"?AEe(e):TEe(e)},PEe=function(t,e){return t==="h"&&e==="rtl"?-1:1},NEe=function(t,e,n,r,i){var s=PEe(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,f=o>0,d=0,h=0;do{var g=Nte(t,a),v=g[0],x=g[1],m=g[2],p=x-m-s*v;(v||p)&&Pte(t,a)&&(d+=p,h+=v),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(f&&(Math.abs(d)<1||!i)||!f&&(Math.abs(h)<1||!i))&&(c=!0),c},HS=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},x8=function(t){return[t.deltaX,t.deltaY]},_8=function(t){return t&&"current"in t?t.current:t},REe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kEe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},OEe=0,_m=[];function IEe(t){var e=M.useRef([]),n=M.useRef([0,0]),r=M.useRef(),i=M.useState(OEe++)[0],s=M.useState(Ate)[0],o=M.useRef(t);M.useEffect(function(){o.current=t},[t]),M.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=tEe([t.lockRef.current],(t.shards||[]).map(_8),!0).filter(Boolean);return x.forEach(function(m){return m.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=M.useCallback(function(x,m){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var p=HS(x),y=n.current,_="deltaX"in x?x.deltaX:y[0]-p[0],b="deltaY"in x?x.deltaY:y[1]-p[1],w,E=x.target,A=Math.abs(_)>Math.abs(b)?"h":"v";if("touches"in x&&A==="h"&&E.type==="range")return!1;var T=y8(A,E);if(!T)return!0;if(T?w=A:(w=A==="v"?"h":"v",T=y8(A,E)),!T)return!1;if(!r.current&&"changedTouches"in x&&(_||b)&&(r.current=w),!w)return!0;var P=r.current||w;return NEe(P,m,x,P==="h"?_:b,!0)},[]),l=M.useCallback(function(x){var m=x;if(!(!_m.length||_m[_m.length-1]!==s)){var p="deltaY"in m?x8(m):HS(m),y=e.current.filter(function(w){return w.name===m.type&&(w.target===m.target||m.target===w.shadowParent)&&REe(w.delta,p)})[0];if(y&&y.should){m.cancelable&&m.preventDefault();return}if(!y){var _=(o.current.shards||[]).map(_8).filter(Boolean).filter(function(w){return w.contains(m.target)}),b=_.length>0?a(m,_[0]):!o.current.noIsolation;b&&m.cancelable&&m.preventDefault()}}},[]),c=M.useCallback(function(x,m,p,y){var _={name:x,delta:m,target:p,should:y,shadowParent:jEe(p)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(b){return b!==_})},1)},[]),f=M.useCallback(function(x){n.current=HS(x),r.current=void 0},[]),d=M.useCallback(function(x){c(x.type,x8(x),x.target,a(x,t.lockRef.current))},[]),h=M.useCallback(function(x){c(x.type,HS(x),x.target,a(x,t.lockRef.current))},[]);M.useEffect(function(){return _m.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",l,xm),document.addEventListener("touchmove",l,xm),document.addEventListener("touchstart",f,xm),function(){_m=_m.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,xm),document.removeEventListener("touchmove",l,xm),document.removeEventListener("touchstart",f,xm)}},[]);var g=t.removeScrollBar,v=t.inert;return M.createElement(M.Fragment,null,v?M.createElement(s,{styles:kEe(i)}):null,g?M.createElement(SEe,{gapMode:t.gapMode}):null)}function jEe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const DEe=uEe(Mte,IEe);var Rw=M.forwardRef(function(t,e){return M.createElement(DP,jl({},t,{ref:e,sideCar:DEe}))});Rw.classNames=DP.classNames;var LEe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},bm=new WeakMap,VS=new WeakMap,WS={},Yk=0,Rte=function(t){return t&&(t.host||Rte(t.parentNode))},FEe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Rte(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},BEe=function(t,e,n,r){var i=FEe(e,Array.isArray(t)?t:[t]);WS[n]||(WS[n]=new WeakMap);var s=WS[n],o=[],a=new Set,l=new Set(i),c=function(d){!d||a.has(d)||(a.add(d),c(d.parentNode))};i.forEach(c);var f=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(h){if(a.has(h))f(h);else try{var g=h.getAttribute(r),v=g!==null&&g!=="false",x=(bm.get(h)||0)+1,m=(s.get(h)||0)+1;bm.set(h,x),s.set(h,m),o.push(h),x===1&&v&&VS.set(h,!0),m===1&&h.setAttribute(n,"true"),v||h.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",h,p)}})};return f(e),a.clear(),Yk++,function(){o.forEach(function(d){var h=bm.get(d)-1,g=s.get(d)-1;bm.set(d,h),s.set(d,g),h||(VS.has(d)||d.removeAttribute(r),VS.delete(d)),g||d.removeAttribute(n)}),Yk--,Yk||(bm=new WeakMap,bm=new WeakMap,VS=new WeakMap,WS={})}},LP=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=LEe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),BEe(r,i,n,"aria-hidden")):function(){return null}},dB="Dialog",[kte,Ote]=nr(dB),[UEe,hl]=kte(dB),Ite=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=M.useRef(null),l=M.useRef(null),[c=!1,f]=$r({prop:r,defaultProp:i,onChange:s});return u.jsx(UEe,{scope:e,triggerRef:a,contentRef:l,contentId:Br(),titleId:Br(),descriptionId:Br(),open:c,onOpenChange:f,onOpenToggle:M.useCallback(()=>f(d=>!d),[f]),modal:o,children:n})};Ite.displayName=dB;var jte="DialogTrigger",Dte=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hl(jte,n),s=Nt(e,i.triggerRef);return u.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":pB(i.open),...r,ref:s,onClick:Ie(t.onClick,i.onOpenToggle)})});Dte.displayName=jte;var fB="DialogPortal",[$Ee,Lte]=kte(fB,{forceMount:void 0}),Fte=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=hl(fB,e);return u.jsx($Ee,{scope:e,forceMount:n,children:M.Children.map(r,o=>u.jsx(gr,{present:n||s.open,children:u.jsx(jy,{asChild:!0,container:i,children:o})}))})};Fte.displayName=fB;var DM="DialogOverlay",Bte=M.forwardRef((t,e)=>{const n=Lte(DM,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=hl(DM,t.__scopeDialog);return s.modal?u.jsx(gr,{present:r||s.open,children:u.jsx(HEe,{...i,ref:e})}):null});Bte.displayName=DM;var zEe=Zd("DialogOverlay.RemoveScroll"),HEe=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hl(DM,n);return u.jsx(Rw,{as:zEe,allowPinchZoom:!0,shards:[i.contentRef],children:u.jsx(Ze.div,{"data-state":pB(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),up="DialogContent",Ute=M.forwardRef((t,e)=>{const n=Lte(up,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=hl(up,t.__scopeDialog);return u.jsx(gr,{present:r||s.open,children:s.modal?u.jsx(VEe,{...i,ref:e}):u.jsx(WEe,{...i,ref:e})})});Ute.displayName=up;var VEe=M.forwardRef((t,e)=>{const n=hl(up,t.__scopeDialog),r=M.useRef(null),i=Nt(e,n.contentRef,r);return M.useEffect(()=>{const s=r.current;if(s)return LP(s)},[]),u.jsx($te,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Ie(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:Ie(t.onFocusOutside,s=>s.preventDefault())})}),WEe=M.forwardRef((t,e)=>{const n=hl(up,t.__scopeDialog),r=M.useRef(!1),i=M.useRef(!1);return u.jsx($te,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),$te=M.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=hl(up,n),l=M.useRef(null),c=Nt(e,l);return jP(),u.jsxs(u.Fragment,{children:[u.jsx(Nw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Tu,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":pB(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(qEe,{titleId:a.titleId}),u.jsx(XEe,{contentRef:l,descriptionId:a.descriptionId})]})]})}),hB="DialogTitle",zte=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hl(hB,n);return u.jsx(Ze.h2,{id:i.titleId,...r,ref:e})});zte.displayName=hB;var Hte="DialogDescription",Vte=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hl(Hte,n);return u.jsx(Ze.p,{id:i.descriptionId,...r,ref:e})});Vte.displayName=Hte;var Wte="DialogClose",Gte=M.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=hl(Wte,n);return u.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Ie(t.onClick,()=>i.onOpenChange(!1))})});Gte.displayName=Wte;function pB(t){return t?"open":"closed"}var qte="DialogTitleWarning",[GEe,Kte]=$1e(qte,{contentName:up,titleName:hB,docsSlug:"dialog"}),qEe=({titleId:t})=>{const e=Kte(qte),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return M.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},KEe="DialogDescriptionWarning",XEe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Kte(KEe).contentName}}.`;return M.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},FP=Ite,mB=Dte,kw=Fte,Ip=Bte,jp=Ute,Dy=zte,Ly=Vte,Ow=Gte,YEe="AlertDialog",[ZEe,lAt]=nr(YEe,[Ote]),ff=Ote(),QEe="AlertDialogTrigger",JEe=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return u.jsx(mB,{...i,...r,ref:e})});JEe.displayName=QEe;var eMe="AlertDialogPortal",Xte=t=>{const{__scopeAlertDialog:e,...n}=t,r=ff(e);return u.jsx(kw,{...r,...n})};Xte.displayName=eMe;var tMe="AlertDialogOverlay",Yte=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return u.jsx(Ip,{...i,...r,ref:e})});Yte.displayName=tMe;var Kg="AlertDialogContent",[nMe,rMe]=ZEe(Kg),iMe=Bee("AlertDialogContent"),Zte=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...i}=t,s=ff(n),o=M.useRef(null),a=Nt(e,o),l=M.useRef(null);return u.jsx(GEe,{contentName:Kg,titleName:Qte,docsSlug:"alert-dialog",children:u.jsx(nMe,{scope:n,cancelRef:l,children:u.jsxs(jp,{role:"alertdialog",...s,...i,ref:a,onOpenAutoFocus:Ie(i.onOpenAutoFocus,c=>{var f;c.preventDefault(),(f=l.current)==null||f.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[u.jsx(iMe,{children:r}),u.jsx(oMe,{contentRef:o})]})})})});Zte.displayName=Kg;var Qte="AlertDialogTitle",Jte=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return u.jsx(Dy,{...i,...r,ref:e})});Jte.displayName=Qte;var ene="AlertDialogDescription",tne=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return u.jsx(Ly,{...i,...r,ref:e})});tne.displayName=ene;var sMe="AlertDialogAction",nne=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,i=ff(n);return u.jsx(Ow,{...i,...r,ref:e})});nne.displayName=sMe;var rne="AlertDialogCancel",ine=M.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:i}=rMe(rne,n),s=ff(n),o=Nt(e,i);return u.jsx(Ow,{...s,...r,ref:o})});ine.displayName=rne;var oMe=({contentRef:t})=>{const e=`\`${Kg}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Kg}\` by passing a \`${ene}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Kg}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return M.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},aMe=Xte,sne=Yte,one=Zte,ane=nne,lne=ine,cne=Jte,une=tne;const lMe=aMe,dne=M.forwardRef(({className:t,...e},n)=>u.jsx(sne,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));dne.displayName=sne.displayName;const cMe=M.forwardRef(({className:t,...e},n)=>u.jsxs(lMe,{children:[u.jsx(dne,{}),u.jsx(one,{ref:n,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));cMe.displayName=one.displayName;const uMe=M.forwardRef(({className:t,...e},n)=>u.jsx(cne,{ref:n,className:we("text-lg font-semibold",t),...e}));uMe.displayName=cne.displayName;const dMe=M.forwardRef(({className:t,...e},n)=>u.jsx(une,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));dMe.displayName=une.displayName;const fMe=M.forwardRef(({className:t,...e},n)=>u.jsx(ane,{ref:n,className:we(eb(),t),...e}));fMe.displayName=ane.displayName;const hMe=M.forwardRef(({className:t,...e},n)=>u.jsx(lne,{ref:n,className:we(eb({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));hMe.displayName=lne.displayName;const b8=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,w8=nn,Pu=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return w8(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const f=n==null?void 0:n[c],d=s==null?void 0:s[c];if(f===null)return null;const h=b8(f)||b8(d);return i[c][h]}),a=n&&Object.entries(n).reduce((c,f)=>{let[d,h]=f;return h===void 0||(c[d]=h),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,f)=>{let{class:d,className:h,...g}=f;return Object.entries(g).every(v=>{let[x,m]=v;return Array.isArray(m)?m.includes({...s,...a}[x]):{...s,...a}[x]===m})?[...c,d,h]:c},[]);return w8(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},pMe=Pu("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),mMe=M.forwardRef(({className:t,variant:e,...n},r)=>u.jsx("div",{ref:r,role:"alert",className:we(pMe({variant:e}),t),...n}));mMe.displayName="Alert";const gMe=M.forwardRef(({className:t,...e},n)=>u.jsx("h5",{ref:n,className:we("mb-1 font-medium leading-none tracking-tight",t),...e}));gMe.displayName="AlertTitle";const vMe=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("text-sm [&_p]:leading-relaxed",t),...e}));vMe.displayName="AlertDescription";var gB="Avatar",[yMe,cAt]=nr(gB),[xMe,fne]=yMe(gB),hne=M.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=M.useState("idle");return u.jsx(xMe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:u.jsx(Ze.span,{...r,ref:e})})});hne.displayName=gB;var pne="AvatarImage",mne=M.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,o=fne(pne,n),a=_Me(r,s),l=Ln(c=>{i(c),o.onImageLoadingStatusChange(c)});return _r(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(Ze.img,{...s,ref:e,src:r}):null});mne.displayName=pne;var gne="AvatarFallback",vne=M.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=fne(gne,n),[o,a]=M.useState(r===void 0);return M.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&s.imageLoadingStatus!=="loaded"?u.jsx(Ze.span,{...i,ref:e}):null});vne.displayName=gne;function S8(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function _Me(t,{referrerPolicy:e,crossOrigin:n}){const r=wMe(),i=M.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[o,a]=M.useState(()=>S8(s,t));return _r(()=>{a(S8(s,t))},[s,t]),_r(()=>{const l=d=>()=>{a(d)};if(!s)return;const c=l("loaded"),f=l("error");return s.addEventListener("load",c),s.addEventListener("error",f),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",f)}},[s,n,e]),o}function bMe(){return()=>{}}function wMe(){return M.useSyncExternalStore(bMe,()=>!0,()=>!1)}var yne=hne,xne=mne,_ne=vne;const bne=M.forwardRef(({className:t,...e},n)=>u.jsx(yne,{ref:n,className:we(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,t),...e}));bne.displayName=yne.displayName;const SMe=M.forwardRef(({className:t,...e},n)=>u.jsx(xne,{ref:n,className:we("aspect-square h-full w-full",t),...e}));SMe.displayName=xne.displayName;const wne=M.forwardRef(({className:t,...e},n)=>u.jsx(_ne,{ref:n,className:we("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));wne.displayName=_ne.displayName;const CMe=Pu("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2",{variants:{variant:{default:"bg-primary/20 text-primary card-glow",secondary:"bg-muted text-muted-foreground",destructive:"bg-destructive/20 text-destructive card-glow",outline:"border border-primary/50 text-primary card-glow"}},defaultVariants:{variant:"default"}});function ln({className:t,variant:e,...n}){return u.jsx("div",{className:we(CMe({variant:e}),t),...n})}const EMe=M.forwardRef(({...t},e)=>u.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));EMe.displayName="Breadcrumb";const MMe=M.forwardRef(({className:t,...e},n)=>u.jsx("ol",{ref:n,className:we("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));MMe.displayName="BreadcrumbList";const AMe=M.forwardRef(({className:t,...e},n)=>u.jsx("li",{ref:n,className:we("inline-flex items-center gap-1.5",t),...e}));AMe.displayName="BreadcrumbItem";const TMe=M.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?Mw:"a";return u.jsx(i,{ref:r,className:we("transition-colors hover:text-foreground",e),...n})});TMe.displayName="BreadcrumbLink";const PMe=M.forwardRef(({className:t,...e},n)=>u.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:we("font-normal text-foreground",t),...e}));PMe.displayName="BreadcrumbPage";function NMe(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}function BP(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const $D=t=>Array.isArray(t);function Sne(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Y_(t){return typeof t=="string"||Array.isArray(t)}function C8(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function vB(t,e,n,r){if(typeof e=="function"){const[i,s]=C8(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=C8(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function UP(t,e,n){const r=t.getProps();return vB(r,e,n!==void 0?n:r.custom,t)}const yB=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xB=["initial",...yB],Iw=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Dp=new Set(Iw),Qc=t=>t*1e3,Jc=t=>t/1e3,RMe={type:"spring",stiffness:500,damping:25,restSpeed:10},kMe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OMe={type:"keyframes",duration:.8},IMe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jMe=(t,{keyframes:e})=>e.length>2?OMe:Dp.has(t)?t.startsWith("scale")?kMe(e[1]):RMe:IMe;function _B(t,e){return t?t[e]||t.default||t:void 0}const DMe={skipAnimations:!1,useManualTiming:!1},LMe=t=>t!==null;function $P(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(LMe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const ss=t=>t;let zD=ss;function FMe(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,f=!1,d=!1)=>{const g=d&&r?e:n;return f&&s.add(c),g.has(c)||g.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],n.clear(),e.forEach(a),r=!1,i&&(i=!1,l.process(c))}};return l}const GS=["read","resolveKeyframes","update","preRender","render","postRender"],BMe=40;function Cne(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=GS.reduce((p,y)=>(p[y]=FMe(s),p),{}),{read:a,resolveKeyframes:l,update:c,preRender:f,render:d,postRender:h}=o,g=()=>{const p=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(p-i.timestamp,BMe),1),i.timestamp=p,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),f.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:GS.reduce((p,y)=>{const _=o[y];return p[y]=(b,w=!1,E=!1)=>(n||v(),_.schedule(b,w,E)),p},{}),cancel:p=>{for(let y=0;y<GS.length;y++)o[GS[y]].cancel(p)},state:i,steps:o}}const{schedule:Qn,cancel:Qd,state:ji,steps:Zk}=Cne(typeof requestAnimationFrame<"u"?requestAnimationFrame:ss,!0),Ene=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,UMe=1e-7,$Me=12;function zMe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=Ene(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>UMe&&++a<$Me);return o}function jw(t,e,n,r){if(t===e&&n===r)return ss;const i=s=>zMe(s,0,1,t,n);return s=>s===0||s===1?s:Ene(i(s),e,r)}const Mne=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ane=t=>e=>1-t(1-e),Tne=jw(.33,1.53,.69,.99),bB=Ane(Tne),Pne=Mne(bB),Nne=t=>(t*=2)<1?.5*bB(t):.5*(2-Math.pow(2,-10*(t-1))),wB=t=>1-Math.sin(Math.acos(t)),Rne=Ane(wB),kne=Mne(wB),One=t=>/^0[^.\s]+$/u.test(t);function HMe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||One(t):!0}const Ine=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),jne=t=>e=>typeof e=="string"&&e.startsWith(t),Dne=jne("--"),VMe=jne("var(--"),SB=t=>VMe(t)?WMe.test(t.split("/*")[0].trim()):!1,WMe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,GMe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function qMe(t){const e=GMe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Lne(t,e,n=1){const[r,i]=qMe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Ine(o)?parseFloat(o):o}return SB(i)?Lne(i,e,n+1):i}const du=(t,e,n)=>n>e?e:n<t?t:n,Fy={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Z_={...Fy,transform:t=>du(0,1,t)},qS={...Fy,default:1},Dw=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),cd=Dw("deg"),Wl=Dw("%"),Wt=Dw("px"),KMe=Dw("vh"),XMe=Dw("vw"),E8={...Wl,parse:t=>Wl.parse(t)/100,transform:t=>Wl.transform(t*100)},YMe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),M8=t=>t===Fy||t===Wt,A8=(t,e)=>parseFloat(t.split(", ")[e]),T8=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return A8(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?A8(s[1],t):0}},ZMe=new Set(["x","y","z"]),QMe=Iw.filter(t=>!ZMe.has(t));function JMe(t){const e=[];return QMe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Tv={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:T8(4,13),y:T8(5,14)};Tv.translateX=Tv.x;Tv.translateY=Tv.y;const Fne=t=>e=>e.test(t),eAe={test:t=>t==="auto",parse:t=>t},Bne=[Fy,Wt,Wl,cd,XMe,KMe,eAe],P8=t=>Bne.find(Fne(t)),zh=new Set;let HD=!1,VD=!1;function Une(){if(VD){const t=Array.from(zh).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=JMe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}VD=!1,HD=!1,zh.forEach(t=>t.complete()),zh.clear()}function $ne(){zh.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(VD=!0)})}function tAe(){$ne(),Une()}class CB{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zh.add(this),HD||(HD=!0,Qn.read($ne),Qn.resolveKeyframes(Une))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const s_=t=>Math.round(t*1e5)/1e5,EB=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nAe(t){return t==null}const rAe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,MB=(t,e)=>n=>!!(typeof n=="string"&&rAe.test(n)&&n.startsWith(t)||e&&!nAe(n)&&Object.prototype.hasOwnProperty.call(n,e)),zne=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(EB);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},iAe=t=>du(0,255,t),Qk={...Fy,transform:t=>Math.round(iAe(t))},wh={test:MB("rgb","red"),parse:zne("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Qk.transform(t)+", "+Qk.transform(e)+", "+Qk.transform(n)+", "+s_(Z_.transform(r))+")"};function sAe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const WD={test:MB("#"),parse:sAe,transform:wh.transform},vg={test:MB("hsl","hue"),parse:zne("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Wl.transform(s_(e))+", "+Wl.transform(s_(n))+", "+s_(Z_.transform(r))+")"},Qi={test:t=>wh.test(t)||WD.test(t)||vg.test(t),parse:t=>wh.test(t)?wh.parse(t):vg.test(t)?vg.parse(t):WD.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wh.transform(t):vg.transform(t)},oAe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function aAe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(EB))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(oAe))===null||n===void 0?void 0:n.length)||0)>0}const Hne="number",Vne="color",lAe="var",cAe="var(",N8="${}",uAe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Q_(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(uAe,l=>(Qi.test(l)?(r.color.push(s),i.push(Vne),n.push(Qi.parse(l))):l.startsWith(cAe)?(r.var.push(s),i.push(lAe),n.push(l)):(r.number.push(s),i.push(Hne),n.push(parseFloat(l))),++s,N8)).split(N8);return{values:n,split:a,indexes:r,types:i}}function Wne(t){return Q_(t).values}function Gne(t){const{split:e,types:n}=Q_(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===Hne?s+=s_(i[o]):a===Vne?s+=Qi.transform(i[o]):s+=i[o]}return s}}const dAe=t=>typeof t=="number"?0:t;function fAe(t){const e=Wne(t);return Gne(t)(e.map(dAe))}const Jd={test:aAe,parse:Wne,createTransformer:Gne,getAnimatableNone:fAe},hAe=new Set(["brightness","contrast","saturate","opacity"]);function pAe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(EB)||[];if(!r)return t;const i=n.replace(r,"");let s=hAe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const mAe=/\b([a-z-]*)\(.*?\)/gu,GD={...Jd,getAnimatableNone:t=>{const e=t.match(mAe);return e?e.map(pAe).join(" "):t}},gAe={borderWidth:Wt,borderTopWidth:Wt,borderRightWidth:Wt,borderBottomWidth:Wt,borderLeftWidth:Wt,borderRadius:Wt,radius:Wt,borderTopLeftRadius:Wt,borderTopRightRadius:Wt,borderBottomRightRadius:Wt,borderBottomLeftRadius:Wt,width:Wt,maxWidth:Wt,height:Wt,maxHeight:Wt,top:Wt,right:Wt,bottom:Wt,left:Wt,padding:Wt,paddingTop:Wt,paddingRight:Wt,paddingBottom:Wt,paddingLeft:Wt,margin:Wt,marginTop:Wt,marginRight:Wt,marginBottom:Wt,marginLeft:Wt,backgroundPositionX:Wt,backgroundPositionY:Wt},vAe={rotate:cd,rotateX:cd,rotateY:cd,rotateZ:cd,scale:qS,scaleX:qS,scaleY:qS,scaleZ:qS,skew:cd,skewX:cd,skewY:cd,distance:Wt,translateX:Wt,translateY:Wt,translateZ:Wt,x:Wt,y:Wt,z:Wt,perspective:Wt,transformPerspective:Wt,opacity:Z_,originX:E8,originY:E8,originZ:Wt},R8={...Fy,transform:Math.round},AB={...gAe,...vAe,zIndex:R8,size:Wt,fillOpacity:Z_,strokeOpacity:Z_,numOctaves:R8},yAe={...AB,color:Qi,backgroundColor:Qi,outlineColor:Qi,fill:Qi,stroke:Qi,borderColor:Qi,borderTopColor:Qi,borderRightColor:Qi,borderBottomColor:Qi,borderLeftColor:Qi,filter:GD,WebkitFilter:GD},TB=t=>yAe[t];function qne(t,e){let n=TB(t);return n!==GD&&(n=Jd),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const xAe=new Set(["auto","none","0"]);function _Ae(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!xAe.has(s)&&Q_(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=qne(n,i)}class Kne extends CB{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),SB(c))){const f=Lne(c,n.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!YMe.has(r)||e.length!==2)return;const[i,s]=e,o=P8(i),a=P8(s);if(o!==a)if(M8(o)&&M8(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)HMe(e[i])&&r.push(i);r.length&&_Ae(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tv[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Tv[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function PB(t){return typeof t=="function"}let DE;function bAe(){DE=void 0}const Gl={now:()=>(DE===void 0&&Gl.set(ji.isProcessing||DMe.useManualTiming?ji.timestamp:performance.now()),DE),set:t=>{DE=t,queueMicrotask(bAe)}},k8=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Jd.test(t)||t==="0")&&!t.startsWith("url("));function wAe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function SAe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=k8(i,e),a=k8(s,e);return!o||!a?!1:wAe(t)||(n==="spring"||PB(n))&&r}const CAe=40;class Xne{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Gl.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>CAe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&tAe(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Gl.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!SAe(e,r,i,s))if(o)this.options.duration=0;else{l==null||l($P(e,this.options,n)),a==null||a(),this.resolveFinishedPromise();return}const f=this.initPlayback(e,n);f!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...f},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pv=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Yne=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(Pv(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Zne(t,e){return e?t*(1e3/e):0}const EAe=5;function Qne(t,e,n){const r=Math.max(e-EAe,0);return Zne(n-t(r),e-r)}const Dr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Jk=.001;function MAe({duration:t=Dr.duration,bounce:e=Dr.bounce,velocity:n=Dr.velocity,mass:r=Dr.mass}){let i,s,o=1-e;o=du(Dr.minDamping,Dr.maxDamping,o),t=du(Dr.minDuration,Dr.maxDuration,Jc(t)),o<1?(i=c=>{const f=c*o,d=f*t,h=f-n,g=qD(c,o),v=Math.exp(-d);return Jk-h/g*v},s=c=>{const d=c*o*t,h=d*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,v=Math.exp(-d),x=qD(Math.pow(c,2),o);return(-i(c)+Jk>0?-1:1)*((h-g)*v)/x}):(i=c=>{const f=Math.exp(-c*t),d=(c-n)*t+1;return-Jk+f*d},s=c=>{const f=Math.exp(-c*t),d=(n-c)*(t*t);return f*d});const a=5/t,l=TAe(i,s,a);if(t=Qc(t),isNaN(l))return{stiffness:Dr.stiffness,damping:Dr.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const AAe=12;function TAe(t,e,n){let r=n;for(let i=1;i<AAe;i++)r=r-t(r)/e(r);return r}function qD(t,e){return t*Math.sqrt(1-e*e)}const KD=2e4;function Jne(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<KD;)e+=n,r=t.next(e);return e>=KD?1/0:e}const PAe=["duration","bounce"],NAe=["stiffness","damping","mass"];function O8(t,e){return e.some(n=>t[n]!==void 0)}function RAe(t){let e={velocity:Dr.velocity,stiffness:Dr.stiffness,damping:Dr.damping,mass:Dr.mass,isResolvedFromDuration:!1,...t};if(!O8(t,NAe)&&O8(t,PAe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*du(.05,1,1-t.bounce)*Math.sqrt(i);e={...e,mass:Dr.mass,stiffness:i,damping:s}}else{const n=MAe(t);e={...e,...n,mass:Dr.mass},e.isResolvedFromDuration=!0}return e}function ere(t=Dr.visualDuration,e=Dr.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:f,duration:d,velocity:h,isResolvedFromDuration:g}=RAe({...n,velocity:-Jc(n.velocity||0)}),v=h||0,x=c/(2*Math.sqrt(l*f)),m=o-s,p=Jc(Math.sqrt(l/f)),y=Math.abs(m)<5;r||(r=y?Dr.restSpeed.granular:Dr.restSpeed.default),i||(i=y?Dr.restDelta.granular:Dr.restDelta.default);let _;if(x<1){const w=qD(p,x);_=E=>{const A=Math.exp(-x*p*E);return o-A*((v+x*p*m)/w*Math.sin(w*E)+m*Math.cos(w*E))}}else if(x===1)_=w=>o-Math.exp(-p*w)*(m+(v+p*m)*w);else{const w=p*Math.sqrt(x*x-1);_=E=>{const A=Math.exp(-x*p*E),T=Math.min(w*E,300);return o-A*((v+x*p*m)*Math.sinh(T)+w*m*Math.cosh(T))/w}}const b={calculatedDuration:g&&d||null,next:w=>{const E=_(w);if(g)a.done=w>=d;else{let A=0;x<1&&(A=w===0?Qc(v):Qne(_,w,E));const T=Math.abs(A)<=r,P=Math.abs(o-E)<=i;a.done=T&&P}return a.value=a.done?o:E,a},toString:()=>{const w=Math.min(Jne(b),KD),E=Yne(A=>b.next(w*A).value,w,30);return w+"ms "+E}};return b}function I8({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:f}){const d=t[0],h={done:!1,value:d},g=T=>a!==void 0&&T<a||l!==void 0&&T>l,v=T=>a===void 0?l:l===void 0||Math.abs(a-T)<Math.abs(l-T)?a:l;let x=n*e;const m=d+x,p=o===void 0?m:o(m);p!==m&&(x=p-d);const y=T=>-x*Math.exp(-T/r),_=T=>p+y(T),b=T=>{const P=y(T),N=_(T);h.done=Math.abs(P)<=c,h.value=h.done?p:N};let w,E;const A=T=>{g(h.value)&&(w=T,E=ere({keyframes:[h.value,v(h.value)],velocity:Qne(_,T,h.value),damping:i,stiffness:s,restDelta:c,restSpeed:f}))};return A(0),{calculatedDuration:null,next:T=>{let P=!1;return!E&&w===void 0&&(P=!0,b(T),A(T)),w!==void 0&&T>=w?E.next(T-w):(!P&&b(T),h)}}}const kAe=jw(.42,0,1,1),OAe=jw(0,0,.58,1),tre=jw(.42,0,.58,1),IAe=t=>Array.isArray(t)&&typeof t[0]!="number",NB=t=>Array.isArray(t)&&typeof t[0]=="number",j8={linear:ss,easeIn:kAe,easeInOut:tre,easeOut:OAe,circIn:wB,circInOut:kne,circOut:Rne,backIn:bB,backInOut:Pne,backOut:Tne,anticipate:Nne},D8=t=>{if(NB(t)){zD(t.length===4);const[e,n,r,i]=t;return jw(e,n,r,i)}else if(typeof t=="string")return zD(j8[t]!==void 0),j8[t];return t},jAe=(t,e)=>n=>e(t(n)),Vd=(...t)=>t.reduce(jAe),Ar=(t,e,n)=>t+(e-t)*n;function eO(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function DAe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=eO(l,a,t+1/3),s=eO(l,a,t),o=eO(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function LM(t,e){return n=>n>0?e:t}const tO=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},LAe=[WD,wh,vg],FAe=t=>LAe.find(e=>e.test(t));function L8(t){const e=FAe(t);if(!e)return!1;let n=e.parse(t);return e===vg&&(n=DAe(n)),n}const F8=(t,e)=>{const n=L8(t),r=L8(e);if(!n||!r)return LM(t,e);const i={...n};return s=>(i.red=tO(n.red,r.red,s),i.green=tO(n.green,r.green,s),i.blue=tO(n.blue,r.blue,s),i.alpha=Ar(n.alpha,r.alpha,s),wh.transform(i))},XD=new Set(["none","hidden"]);function BAe(t,e){return XD.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function UAe(t,e){return n=>Ar(t,e,n)}function RB(t){return typeof t=="number"?UAe:typeof t=="string"?SB(t)?LM:Qi.test(t)?F8:HAe:Array.isArray(t)?nre:typeof t=="object"?Qi.test(t)?F8:$Ae:LM}function nre(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>RB(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function $Ae(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=RB(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function zAe(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const HAe=(t,e)=>{const n=Jd.createTransformer(e),r=Q_(t),i=Q_(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?XD.has(t)&&!i.values.length||XD.has(e)&&!r.values.length?BAe(t,e):Vd(nre(zAe(r,i),i.values),n):LM(t,e)};function rre(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ar(t,e,n):RB(t)(t,e)}function VAe(t,e,n){const r=[],i=n||rre,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ss:e;a=Vd(l,a)}r.push(a)}return r}function WAe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(zD(s===e.length),s===1)return()=>e[0];if(s===2&&t[0]===t[1])return()=>e[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=VAe(e,r,i),a=o.length,l=c=>{let f=0;if(a>1)for(;f<t.length-2&&!(c<t[f+1]);f++);const d=Pv(t[f],t[f+1],c);return o[f](d)};return n?c=>l(du(t[0],t[s-1],c)):l}function GAe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Pv(0,e,r);t.push(Ar(n,1,i))}}function qAe(t){const e=[0];return GAe(e,t.length-1),e}function KAe(t,e){return t.map(n=>n*e)}function XAe(t,e){return t.map(()=>e||tre).splice(0,t.length-1)}function FM({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=IAe(r)?r.map(D8):D8(r),s={done:!1,value:e[0]},o=KAe(n&&n.length===e.length?n:qAe(e),t),a=WAe(o,e,{ease:Array.isArray(i)?i:XAe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const YAe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Qn.update(e,!0),stop:()=>Qd(e),now:()=>ji.isProcessing?ji.timestamp:Gl.now()}},ZAe={decay:I8,inertia:I8,tween:FM,keyframes:FM,spring:ere},QAe=t=>t/100;class kB extends Xne{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||CB,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=PB(n)?n:ZAe[n]||FM;let l,c;a!==FM&&typeof e[0]!="number"&&(l=Vd(QAe,rre(e[0],e[1])),e=[0,100]);const f=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=Jne(f));const{calculatedDuration:d}=f,h=d+i,g=h*(r+1)-i;return{generator:f,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:d,resolvedDuration:h,totalDuration:g}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:f,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:g,repeatType:v,repeatDelay:x,onUpdate:m}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-f/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const p=this.currentTime-h*(this.speed>=0?1:-1),y=this.speed>=0?p<0:p>f;this.currentTime=Math.max(p,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let _=this.currentTime,b=s;if(g){const T=Math.min(this.currentTime,f)/d;let P=Math.floor(T),N=T%1;!N&&T>=1&&(N=1),N===1&&P--,P=Math.min(P,g+1),!!(P%2)&&(v==="reverse"?(N=1-N,x&&(N-=x/d)):v==="mirror"&&(b=o)),_=du(0,1,N)*d}const w=y?{done:!1,value:l[0]}:b.next(_);a&&(w.value=a(w.value));let{done:E}=w;!y&&c!==null&&(E=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return A&&i!==void 0&&(w.value=$P(l,this.options,i)),m&&m(w.value),A&&this.finish(),w}get duration(){const{resolved:e}=this;return e?Jc(e.calculatedDuration):0}get time(){return Jc(this.currentTime)}set time(e){e=Qc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Jc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=YAe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const JAe=new Set(["opacity","clipPath","filter","transform"]);function OB(t){let e;return()=>(e===void 0&&(e=t()),e)}const eTe={linearEasing:void 0};function tTe(t,e){const n=OB(t);return()=>{var r;return(r=eTe[e])!==null&&r!==void 0?r:n()}}const BM=tTe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function ire(t){return!!(typeof t=="function"&&BM()||!t||typeof t=="string"&&(t in YD||BM())||NB(t)||Array.isArray(t)&&t.every(ire))}const j0=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,YD={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:j0([0,.65,.55,1]),circOut:j0([.55,0,1,.45]),backIn:j0([.31,.01,.66,-.59]),backOut:j0([.33,1.53,.69,.99])};function sre(t,e){if(t)return typeof t=="function"&&BM()?Yne(t,e):NB(t)?j0(t):Array.isArray(t)?t.map(n=>sre(n,e)||YD.easeOut):YD[t]}function nTe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const f=sre(a,i);return Array.isArray(f)&&(c.easing=f),t.animate(c,{delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function B8(t,e){t.timeline=e,t.onfinish=null}const rTe=OB(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),UM=10,iTe=2e4;function sTe(t){return PB(t.type)||t.type==="spring"||!ire(t.ease)}function oTe(t,e){const n=new kB({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<iTe;)r=n.sample(s),i.push(r.value),s+=UM;return{times:void 0,keyframes:i,duration:s-UM,ease:"linear"}}const ore={anticipate:Nne,backInOut:Pne,circInOut:kne};function aTe(t){return t in ore}class U8 extends Xne{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new Kne(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){var r;let{duration:i=300,times:s,ease:o,type:a,motionValue:l,name:c,startTime:f}=this.options;if(!(!((r=l.owner)===null||r===void 0)&&r.current))return!1;if(typeof o=="string"&&BM()&&aTe(o)&&(o=ore[o]),sTe(this.options)){const{onComplete:h,onUpdate:g,motionValue:v,element:x,...m}=this.options,p=oTe(e,m);e=p.keyframes,e.length===1&&(e[1]=e[0]),i=p.duration,s=p.times,o=p.ease,a="keyframes"}const d=nTe(l.owner.current,c,e,{...this.options,duration:i,times:s,ease:o});return d.startTime=f??this.calcStartTime(),this.pendingTimeline?(B8(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set($P(e,this.options,n)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:i,times:s,type:a,ease:o,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Jc(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Jc(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Qc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return ss;const{animation:r}=n;B8(r,e)}return ss}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:f,onComplete:d,element:h,...g}=this.options,v=new kB({...g,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),x=Qc(this.time);c.setWithVelocity(v.sample(x-UM).value,v.sample(x).value,UM)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;return rTe()&&r&&JAe.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const lTe=OB(()=>window.ScrollTimeline!==void 0);class cTe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}then(e,n){return Promise.all(this.animations).then(e).catch(n)}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>lTe()&&i.attachTimeline?i.attachTimeline(e):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function uTe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...f}){return!!Object.keys(f).length}const IB=(t,e,n,r={},i,s)=>o=>{const a=_B(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Qc(l);let f={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};uTe(a)||(f={...f,...jMe(t,f)}),f.duration&&(f.duration=Qc(f.duration)),f.repeatDelay&&(f.repeatDelay=Qc(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let d=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=$P(f.keyframes,a);if(h!==void 0)return Qn.update(()=>{f.onUpdate(h),f.onComplete()}),new cTe([])}return!s&&U8.supports(f)?new U8(f):new kB(f)},dTe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),fTe=t=>$D(t)?t[t.length-1]||0:t;function jB(t,e){t.indexOf(e)===-1&&t.push(e)}function DB(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class LB{constructor(){this.subscriptions=[]}add(e){return jB(this.subscriptions,e),()=>DB(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const $8=30,hTe=t=>!isNaN(parseFloat(t));class pTe{constructor(e,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Gl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Gl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hTe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new LB);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>$8)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,$8);return Zne(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function J_(t,e){return new pTe(t,e)}function mTe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,J_(n))}function gTe(t,e){const n=UP(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=fTe(s[o]);mTe(t,o,a)}}const FB=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),vTe="framerAppearId",are="data-"+FB(vTe);function lre(t){return t.props[are]}const ns=t=>!!(t&&t.getVelocity);function yTe(t){return!!(ns(t)&&t.add)}function ZD(t,e){const n=t.getValue("willChange");if(yTe(n))return n.add(e)}function xTe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function cre(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],f=i&&t.animationState&&t.animationState.getState()[i];for(const d in l){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),g=l[d];if(g===void 0||f&&xTe(f,d))continue;const v={delay:n,..._B(o||{},d)};let x=!1;if(window.MotionHandoffAnimation){const p=lre(t);if(p){const y=window.MotionHandoffAnimation(p,d,Qn);y!==null&&(v.startTime=y,x=!0)}}ZD(t,d),h.start(IB(d,h,g,t.shouldReduceMotion&&Dp.has(d)?{type:!1}:v,t,x));const m=h.animation;m&&c.push(m)}return a&&Promise.all(c).then(()=>{Qn.update(()=>{a&&gTe(t,a)})}),c}function QD(t,e,n={}){var r;const i=UP(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(cre(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:f=0,staggerChildren:d,staggerDirection:h}=s;return _Te(t,e,f+c,d,h,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,f]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>f())}else return Promise.all([o(),a(n.delay)])}function _Te(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(bTe).forEach((c,f)=>{c.notify("AnimationStart",e),o.push(QD(c,e,{...s,delay:n+l(f)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function bTe(t,e){return t.sortNodePosition(e)}function wTe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>QD(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=QD(t,e,n);else{const i=typeof e=="function"?UP(t,e,n.custom):e;r=Promise.all(cre(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const STe=xB.length;function ure(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ure(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<STe;n++){const r=xB[n],i=t.props[r];(Y_(i)||i===!1)&&(e[r]=i)}return e}const CTe=[...yB].reverse(),ETe=yB.length;function MTe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>wTe(t,n,r)))}function ATe(t){let e=MTe(t),n=z8(),r=!0;const i=l=>(c,f)=>{var d;const h=UP(t,f,l==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:g,transitionEnd:v,...x}=h;c={...c,...x,...v}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,f=ure(t.parent)||{},d=[],h=new Set;let g={},v=1/0;for(let m=0;m<ETe;m++){const p=CTe[m],y=n[p],_=c[p]!==void 0?c[p]:f[p],b=Y_(_),w=p===l?y.isActive:null;w===!1&&(v=m);let E=_===f[p]&&_!==c[p]&&b;if(E&&r&&t.manuallyAnimateOnMount&&(E=!1),y.protectedKeys={...g},!y.isActive&&w===null||!_&&!y.prevProp||BP(_)||typeof _=="boolean")continue;const A=TTe(y.prevProp,_);let T=A||p===l&&y.isActive&&!E&&b||m>v&&b,P=!1;const N=Array.isArray(_)?_:[_];let O=N.reduce(i(p),{});w===!1&&(O={});const{prevResolvedValues:I={}}=y,D={...I,...O},F=H=>{T=!0,h.has(H)&&(P=!0,h.delete(H)),y.needsAnimating[H]=!0;const R=t.getValue(H);R&&(R.liveStyle=!1)};for(const H in D){const R=O[H],j=I[H];if(g.hasOwnProperty(H))continue;let B=!1;$D(R)&&$D(j)?B=!Sne(R,j):B=R!==j,B?R!=null?F(H):h.add(H):R!==void 0&&h.has(H)?F(H):y.protectedKeys[H]=!0}y.prevProp=_,y.prevResolvedValues=O,y.isActive&&(g={...g,...O}),r&&t.blockInitialAnimation&&(T=!1),T&&(!(E&&A)||P)&&d.push(...N.map(H=>({animation:H,options:{type:p}})))}if(h.size){const m={};h.forEach(p=>{const y=t.getBaseTarget(p),_=t.getValue(p);_&&(_.liveStyle=!0),m[p]=y??null}),d.push({animation:m})}let x=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=z8(),r=!0}}}function TTe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sne(e,t):!1}function Df(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function z8(){return{animate:Df(!0),whileInView:Df(),whileHover:Df(),whileTap:Df(),whileDrag:Df(),whileFocus:Df(),exit:Df()}}class hf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class PTe extends hf{constructor(e){super(e),e.animationState||(e.animationState=ATe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();BP(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let NTe=0;class RTe extends hf{constructor(){super(...arguments),this.id=NTe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const kTe={animation:{Feature:PTe},exit:{Feature:RTe}};function OTe(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Ra={x:!1,y:!1};function dre(){return Ra.x||Ra.y}function H8(t){return e=>{e.pointerType==="touch"||dre()||t(e)}}function ITe(t,e,n={}){const r=new AbortController,i={passive:!0,...n,signal:r.signal},s=H8(o=>{const{target:a}=o,l=e(o);if(!l||!a)return;const c=H8(f=>{l(f),a.removeEventListener("pointerleave",c)});a.addEventListener("pointerleave",c,i)});return OTe(t).forEach(o=>{o.addEventListener("pointerenter",s,i)}),()=>r.abort()}function jTe(t){return t==="x"||t==="y"?Ra[t]?null:(Ra[t]=!0,()=>{Ra[t]=!1}):Ra.x||Ra.y?null:(Ra.x=Ra.y=!0,()=>{Ra.x=Ra.y=!1})}const fre=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Lw(t){return{point:{x:t.pageX,y:t.pageY}}}const DTe=t=>e=>fre(e)&&t(e,Lw(e));function Gc(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Wd(t,e,n,r){return Gc(t,e,DTe(n),r)}const V8=(t,e)=>Math.abs(t-e);function LTe(t,e){const n=V8(t.x,e.x),r=V8(t.y,e.y);return Math.sqrt(n**2+r**2)}class hre{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=rO(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,g=LTe(d.offset,{x:0,y:0})>=3;if(!h&&!g)return;const{point:v}=d,{timestamp:x}=ji;this.history.push({...v,timestamp:x});const{onStart:m,onMove:p}=this.handlers;h||(m&&m(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),p&&p(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=nO(h,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:g,onSessionEnd:v,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=rO(d.type==="pointercancel"?this.lastMoveEventInfo:nO(h,this.transformPagePoint),this.history);this.startEvent&&g&&g(d,m),v&&v(d,m)},!fre(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Lw(e),a=nO(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=ji;this.history=[{...l,timestamp:c}];const{onSessionStart:f}=n;f&&f(e,rO(a,this.history)),this.removeListeners=Vd(Wd(this.contextWindow,"pointermove",this.handlePointerMove),Wd(this.contextWindow,"pointerup",this.handlePointerUp),Wd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Qd(this.updatePoint)}}function nO(t,e){return e?{point:e(t.point)}:t}function W8(t,e){return{x:t.x-e.x,y:t.y-e.y}}function rO({point:t},e){return{point:t,delta:W8(t,pre(e)),offset:W8(t,FTe(e)),velocity:BTe(e,.1)}}function FTe(t){return t[0]}function pre(t){return t[t.length-1]}function BTe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=pre(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Qc(e)));)n--;if(!r)return{x:0,y:0};const s=Jc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function yg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}const mre=1e-4,UTe=1-mre,$Te=1+mre,gre=.01,zTe=0-gre,HTe=0+gre;function Po(t){return t.max-t.min}function VTe(t,e,n){return Math.abs(t-e)<=n}function G8(t,e,n,r=.5){t.origin=r,t.originPoint=Ar(e.min,e.max,t.origin),t.scale=Po(n)/Po(e),t.translate=Ar(n.min,n.max,t.origin)-t.originPoint,(t.scale>=UTe&&t.scale<=$Te||isNaN(t.scale))&&(t.scale=1),(t.translate>=zTe&&t.translate<=HTe||isNaN(t.translate))&&(t.translate=0)}function o_(t,e,n,r){G8(t.x,e.x,n.x,r?r.originX:void 0),G8(t.y,e.y,n.y,r?r.originY:void 0)}function q8(t,e,n){t.min=n.min+e.min,t.max=t.min+Po(e)}function WTe(t,e,n){q8(t.x,e.x,n.x),q8(t.y,e.y,n.y)}function K8(t,e,n){t.min=e.min-n.min,t.max=t.min+Po(e)}function a_(t,e,n){K8(t.x,e.x,n.x),K8(t.y,e.y,n.y)}function GTe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ar(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ar(n,t,r.max):Math.min(t,n)),t}function X8(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qTe(t,{top:e,left:n,bottom:r,right:i}){return{x:X8(t.x,n,i),y:X8(t.y,e,r)}}function Y8(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function KTe(t,e){return{x:Y8(t.x,e.x),y:Y8(t.y,e.y)}}function XTe(t,e){let n=.5;const r=Po(t),i=Po(e);return i>r?n=Pv(e.min,e.max-r,t.min):r>i&&(n=Pv(t.min,t.max-i,e.min)),du(0,1,n)}function YTe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const JD=.35;function ZTe(t=JD){return t===!1?t=0:t===!0&&(t=JD),{x:Z8(t,"left","right"),y:Z8(t,"top","bottom")}}function Z8(t,e,n){return{min:Q8(t,e),max:Q8(t,n)}}function Q8(t,e){return typeof t=="number"?t:t[e]||0}const J8=()=>({translate:0,scale:1,origin:0,originPoint:0}),xg=()=>({x:J8(),y:J8()}),eW=()=>({min:0,max:0}),Vr=()=>({x:eW(),y:eW()});function Zo(t){return[t("x"),t("y")]}function vre({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function QTe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JTe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function iO(t){return t===void 0||t===1}function eL({scale:t,scaleX:e,scaleY:n}){return!iO(t)||!iO(e)||!iO(n)}function oh(t){return eL(t)||yre(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function yre(t){return tW(t.x)||tW(t.y)}function tW(t){return t&&t!=="0%"}function $M(t,e,n){const r=t-n,i=e*r;return n+i}function nW(t,e,n,r,i){return i!==void 0&&(t=$M(t,i,r)),$M(t,n,r)+e}function tL(t,e=0,n=1,r,i){t.min=nW(t.min,e,n,r,i),t.max=nW(t.max,e,n,r,i)}function xre(t,{x:e,y:n}){tL(t.x,e.translate,e.scale,e.originPoint),tL(t.y,n.translate,n.scale,n.originPoint)}const rW=.999999999999,iW=1.0000000000001;function ePe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&bg(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,xre(t,o)),r&&oh(s.latestValues)&&bg(t,s.latestValues))}e.x<iW&&e.x>rW&&(e.x=1),e.y<iW&&e.y>rW&&(e.y=1)}function _g(t,e){t.min=t.min+e,t.max=t.max+e}function sW(t,e,n,r,i=.5){const s=Ar(t.min,t.max,i);tL(t,e,n,s,r)}function bg(t,e){sW(t.x,e.x,e.scaleX,e.scale,e.originX),sW(t.y,e.y,e.scaleY,e.scale,e.originY)}function _re(t,e){return vre(JTe(t.getBoundingClientRect(),e))}function tPe(t,e,n){const r=_re(t,n),{scroll:i}=e;return i&&(_g(r.x,i.offset.x),_g(r.y,i.offset.y)),r}const bre=({current:t})=>t?t.ownerDocument.defaultView:null,nPe=new WeakMap;class rPe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Vr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Lw(f).point)},s=(f,d)=>{const{drag:h,dragPropagation:g,onDragStart:v}=this.getProps();if(h&&!g&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jTe(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Zo(m=>{let p=this.getAxisMotionValue(m).get()||0;if(Wl.test(p)){const{projection:y}=this.visualElement;if(y&&y.layout){const _=y.layout.layoutBox[m];_&&(p=Po(_)*(parseFloat(p)/100))}}this.originPoint[m]=p}),v&&Qn.postRender(()=>v(f,d)),ZD(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(f,d)=>{const{dragPropagation:h,dragDirectionLock:g,onDirectionLock:v,onDrag:x}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:m}=d;if(g&&this.currentDirection===null){this.currentDirection=iPe(m),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",d.point,m),this.updateAxis("y",d.point,m),this.visualElement.render(),x&&x(f,d)},a=(f,d)=>this.stop(f,d),l=()=>Zo(f=>{var d;return this.getAnimationState(f)==="paused"&&((d=this.getAxisMotionValue(f).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new hre(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:bre(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Qn.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!KS(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=GTe(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&yg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=qTe(i.layoutBox,n):this.constraints=!1,this.elastic=ZTe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Zo(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=YTe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!yg(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=tPe(r,i.root,this.visualElement.getTransformPagePoint());let o=KTe(i.layout.layoutBox,s);if(n){const a=n(QTe(o));this.hasMutatedConstraints=!!a,a&&(o=vre(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Zo(f=>{if(!KS(f,n,this.currentDirection))return;let d=l&&l[f]||{};o&&(d={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,v={type:"inertia",velocity:r?e[f]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(f,v)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ZD(this.visualElement,e),r.start(IB(e,r,0,n,this.visualElement,!1))}stopAnimation(){Zo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Zo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Zo(n=>{const{drag:r}=this.getProps();if(!KS(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ar(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!yg(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Zo(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=XTe({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Zo(o=>{if(!KS(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Ar(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;nPe.set(this.visualElement,this);const e=this.visualElement.current,n=Wd(e,"pointerdown",l=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();yg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qn.read(r);const o=Gc(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Zo(f=>{const d=this.getAxisMotionValue(f);d&&(this.originPoint[f]+=l[f].translate,d.set(d.get()+l[f].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=JD,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function KS(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iPe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sPe extends hf{constructor(e){super(e),this.removeGroupControls=ss,this.removeListeners=ss,this.controls=new rPe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ss}unmount(){this.removeGroupControls(),this.removeListeners()}}const oW=t=>(e,n)=>{t&&Qn.postRender(()=>t(e,n))};class oPe extends hf{constructor(){super(...arguments),this.removePointerDownListener=ss}onPointerDown(e){this.session=new hre(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:bre(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:oW(e),onStart:oW(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Qn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Wd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const zP=M.createContext(null);function aPe(){const t=M.useContext(zP);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=M.useId();M.useEffect(()=>r(i),[]);const s=M.useCallback(()=>n&&n(i),[i,n]);return!e&&n?[!1,s]:[!0]}const BB=M.createContext({}),wre=M.createContext({}),LE={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function aW(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Kx={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Wt.test(t))t=parseFloat(t);else return t;const n=aW(t,e.target.x),r=aW(t,e.target.y);return`${n}% ${r}%`}},lPe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Jd.parse(t);if(i.length>5)return r;const s=Jd.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Ar(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},zM={};function cPe(t){Object.assign(zM,t)}const{schedule:UB,cancel:uAt}=Cne(queueMicrotask,!1);class uPe extends M.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;cPe(dPe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),LE.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Qn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),UB.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Sre(t){const[e,n]=aPe(),r=M.useContext(BB);return u.jsx(uPe,{...t,layoutGroup:r,switchLayoutGroup:M.useContext(wre),isPresent:e,safeToRemove:n})}const dPe={borderRadius:{...Kx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Kx,borderTopRightRadius:Kx,borderBottomLeftRadius:Kx,borderBottomRightRadius:Kx,boxShadow:lPe},Cre=["TopLeft","TopRight","BottomLeft","BottomRight"],fPe=Cre.length,lW=t=>typeof t=="string"?parseFloat(t):t,cW=t=>typeof t=="number"||Wt.test(t);function hPe(t,e,n,r,i,s){i?(t.opacity=Ar(0,n.opacity!==void 0?n.opacity:1,pPe(r)),t.opacityExit=Ar(e.opacity!==void 0?e.opacity:1,0,mPe(r))):s&&(t.opacity=Ar(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<fPe;o++){const a=`border${Cre[o]}Radius`;let l=uW(e,a),c=uW(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||cW(l)===cW(c)?(t[a]=Math.max(Ar(lW(l),lW(c),r),0),(Wl.test(c)||Wl.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Ar(e.rotate||0,n.rotate||0,r))}function uW(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const pPe=Ere(0,.5,Rne),mPe=Ere(.5,.95,ss);function Ere(t,e,n){return r=>r<t?0:r>e?1:n(Pv(t,e,r))}function dW(t,e){t.min=e.min,t.max=e.max}function Go(t,e){dW(t.x,e.x),dW(t.y,e.y)}function fW(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function hW(t,e,n,r,i){return t-=e,t=$M(t,1/n,r),i!==void 0&&(t=$M(t,1/i,r)),t}function gPe(t,e=0,n=1,r=.5,i,s=t,o=t){if(Wl.test(e)&&(e=parseFloat(e),e=Ar(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ar(s.min,s.max,r);t===s&&(a-=e),t.min=hW(t.min,e,n,a,i),t.max=hW(t.max,e,n,a,i)}function pW(t,e,[n,r,i],s,o){gPe(t,e[n],e[r],e[i],e.scale,s,o)}const vPe=["x","scaleX","originX"],yPe=["y","scaleY","originY"];function mW(t,e,n,r){pW(t.x,e,vPe,n?n.x:void 0,r?r.x:void 0),pW(t.y,e,yPe,n?n.y:void 0,r?r.y:void 0)}function gW(t){return t.translate===0&&t.scale===1}function Mre(t){return gW(t.x)&&gW(t.y)}function vW(t,e){return t.min===e.min&&t.max===e.max}function xPe(t,e){return vW(t.x,e.x)&&vW(t.y,e.y)}function yW(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Are(t,e){return yW(t.x,e.x)&&yW(t.y,e.y)}function xW(t){return Po(t.x)/Po(t.y)}function _W(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class _Pe{constructor(){this.members=[]}add(e){jB(this.members,e),e.scheduleRender()}remove(e){if(DB(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function bPe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:f,rotateX:d,rotateY:h,skewX:g,skewY:v}=n;c&&(r=`perspective(${c}px) ${r}`),f&&(r+=`rotate(${f}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),g&&(r+=`skewX(${g}deg) `),v&&(r+=`skewY(${v}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const wPe=(t,e)=>t.depth-e.depth;class SPe{constructor(){this.children=[],this.isDirty=!1}add(e){jB(this.children,e),this.isDirty=!0}remove(e){DB(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wPe),this.isDirty=!1,this.children.forEach(e)}}function FE(t){const e=ns(t)?t.get():t;return dTe(e)?e.toValue():e}function CPe(t,e){const n=Gl.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Qd(r),t(s-e))};return Qn.read(r,!0),()=>Qd(r)}function EPe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function MPe(t,e,n){const r=ns(t)?t:J_(t);return r.start(IB("",r,e,n)),r.animation}const ah={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},D0=typeof window<"u"&&window.MotionDebug!==void 0,sO=["","X","Y","Z"],APe={visibility:"hidden"},bW=1e3;let TPe=0;function oO(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Tre(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lre(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Tre(r)}function Pre({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=TPe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,D0&&(ah.totalNodes=ah.resolvedTargetDeltas=ah.recalculatedProjection=0),this.nodes.forEach(RPe),this.nodes.forEach(DPe),this.nodes.forEach(LPe),this.nodes.forEach(kPe),D0&&window.MotionDebug.record(ah)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new SPe)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new LB),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=EPe(o),this.instance=o;const{layoutId:l,layout:c,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=CPe(h,250),LE.hasAnimatedSinceResize&&(LE.hasAnimatedSinceResize=!1,this.nodes.forEach(SW))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&f&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||f.getDefaultTransition()||zPe,{onLayoutAnimationStart:m,onLayoutAnimationComplete:p}=f.getProps(),y=!this.targetLayout||!Are(this.targetLayout,v)||g,_=!h&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const b={..._B(x,"layout"),onPlay:m,onComplete:p};(f.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||SW(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FPe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Tre(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const d=this.path[f];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(wW);return}this.isUpdating||this.nodes.forEach(IPe),this.isUpdating=!1,this.nodes.forEach(jPe),this.nodes.forEach(PPe),this.nodes.forEach(NPe),this.clearAllSnapshots();const a=Gl.now();ji.delta=du(0,1e3/60,a-ji.timestamp),ji.timestamp=a,ji.isProcessing=!0,Zk.update.process(ji),Zk.preRender.process(ji),Zk.render.process(ji),ji.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UB.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(OPe),this.sharedNodes.forEach(BPe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Vr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!Mre(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,f=c!==this.prevTransformTemplateValue;o&&(a||oh(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),HPe(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Vr();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(VPe))){const{scroll:f}=this.root;f&&(_g(l.x,f.offset.x),_g(l.y,f.offset.y))}return l}removeElementScroll(o){var a;const l=Vr();if(Go(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const f=this.path[c],{scroll:d,options:h}=f;f!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Go(l,o),_g(l.x,d.offset.x),_g(l.y,d.offset.y))}return l}applyTransform(o,a=!1){const l=Vr();Go(l,o);for(let c=0;c<this.path.length;c++){const f=this.path[c];!a&&f.options.layoutScroll&&f.scroll&&f!==f.root&&bg(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),oh(f.latestValues)&&bg(l,f.latestValues)}return oh(this.latestValues)&&bg(l,this.latestValues),l}removeTransform(o){const a=Vr();Go(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!oh(c.latestValues))continue;eL(c.latestValues)&&c.updateSnapshot();const f=Vr(),d=c.measurePageBox();Go(f,d),mW(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,f)}return oh(this.latestValues)&&mW(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ji.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=ji.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vr(),this.relativeTargetOrigin=Vr(),a_(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Vr(),this.targetWithTransforms=Vr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),WTe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Go(this.target,this.layout.layoutBox),xre(this.target,this.targetDelta)):Go(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Vr(),this.relativeTargetOrigin=Vr(),a_(this.relativeTargetOrigin,this.target,g.target),Go(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}D0&&ah.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||eL(this.parent.latestValues)||yre(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===ji.timestamp&&(c=!1),c)return;const{layout:f,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||d))return;Go(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;ePe(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Vr());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fW(this.prevProjectionDelta.x,this.projectionDelta.x),fW(this.prevProjectionDelta.y,this.projectionDelta.y)),o_(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!_W(this.projectionDelta.x,this.prevProjectionDelta.x)||!_W(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),D0&&ah.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=xg(),this.projectionDelta=xg(),this.projectionDeltaWithTransform=xg()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},f={...this.latestValues},d=xg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Vr(),g=l?l.source:void 0,v=this.layout?this.layout.source:void 0,x=g!==v,m=this.getStack(),p=!m||m.members.length<=1,y=!!(x&&!p&&this.options.crossfade===!0&&!this.path.some($Pe));this.animationProgress=0;let _;this.mixTargetDelta=b=>{const w=b/1e3;CW(d.x,o.x,w),CW(d.y,o.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(a_(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),UPe(this.relativeTarget,this.relativeTargetOrigin,h,w),_&&xPe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Vr()),Go(_,this.relativeTarget)),x&&(this.animationValues=f,hPe(f,c,this.latestValues,w,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{LE.hasAnimatedSinceResize=!0,this.currentAnimation=MPe(0,bW,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(bW),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:f}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&Nre(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Vr();const d=Po(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+d;const h=Po(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Go(a,l),bg(a,f),o_(this.projectionDeltaWithTransform,this.layoutCorrected,a,f)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new _Pe),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&oO("z",o,c,this.animationValues);for(let f=0;f<sO.length;f++)oO(`rotate${sO[f]}`,o,c,this.animationValues),oO(`skew${sO[f]}`,o,c,this.animationValues);o.render();for(const f in c)o.setStaticValue(f,c[f]),this.animationValues&&(this.animationValues[f]=c[f]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return APe;const c={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=FE(o==null?void 0:o.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=FE(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!oh(this.latestValues)&&(x.transform=f?f({},""):"none",this.hasProjected=!1),x}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=bPe(this.projectionDeltaWithTransform,this.treeScale,h),f&&(c.transform=f(h,c.transform));const{x:g,y:v}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in zM){if(h[x]===void 0)continue;const{correct:m,applyTo:p}=zM[x],y=c.transform==="none"?h[x]:m(h[x],d);if(p){const _=p.length;for(let b=0;b<_;b++)c[p[b]]=y}else c[x]=y}return this.options.layoutId&&(c.pointerEvents=d===this?FE(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(wW),this.root.sharedNodes.clear()}}}function PPe(t){t.updateLayout()}function NPe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Zo(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],g=Po(h);h.min=r[d].min,h.max=h.min+g}):Nre(s,n.layoutBox,r)&&Zo(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],g=Po(r[d]);h.max=h.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+g)});const a=xg();o_(a,r,n.layoutBox);const l=xg();o?o_(l,t.applyTransform(i,!0),n.measuredBox):o_(l,r,n.layoutBox);const c=!Mre(a);let f=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:g}=d;if(h&&g){const v=Vr();a_(v,n.layoutBox,h.layoutBox);const x=Vr();a_(x,r,g.layoutBox),Are(v,x)||(f=!0),d.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=v,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function RPe(t){D0&&ah.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kPe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function OPe(t){t.clearSnapshot()}function wW(t){t.clearMeasurements()}function IPe(t){t.isLayoutDirty=!1}function jPe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function SW(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function DPe(t){t.resolveTargetDelta()}function LPe(t){t.calcProjection()}function FPe(t){t.resetSkewAndRotation()}function BPe(t){t.removeLeadSnapshot()}function CW(t,e,n){t.translate=Ar(e.translate,0,n),t.scale=Ar(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function EW(t,e,n,r){t.min=Ar(e.min,n.min,r),t.max=Ar(e.max,n.max,r)}function UPe(t,e,n,r){EW(t.x,e.x,n.x,r),EW(t.y,e.y,n.y,r)}function $Pe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zPe={duration:.45,ease:[.4,0,.1,1]},MW=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),AW=MW("applewebkit/")&&!MW("chrome/")?Math.round:ss;function TW(t){t.min=AW(t.min),t.max=AW(t.max)}function HPe(t){TW(t.x),TW(t.y)}function Nre(t,e,n){return t==="position"||t==="preserve-aspect"&&!VTe(xW(e),xW(n),.2)}function VPe(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const WPe=Pre({attachResizeListener:(t,e)=>Gc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),aO={current:void 0},Rre=Pre({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!aO.current){const t=new WPe({});t.mount(window),t.setOptions({layoutScroll:!0}),aO.current=t}return aO.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GPe={pan:{Feature:oPe},drag:{Feature:sPe,ProjectionNode:Rre,MeasureLayout:Sre}};function PW(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n);const i=r[n?"onHoverStart":"onHoverEnd"];i&&Qn.postRender(()=>i(e,Lw(e)))}class qPe extends hf{mount(){const{current:e,props:n}=this.node;e&&(this.unmount=ITe(e,r=>(PW(this.node,r,!0),i=>PW(this.node,i,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class KPe extends hf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Vd(Gc(this.node.current,"focus",()=>this.onFocus()),Gc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const kre=(t,e)=>e?t===e?!0:kre(t,e.parentElement):!1;function lO(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Lw(n))}class XPe extends hf{constructor(){super(...arguments),this.removeStartListeners=ss,this.removeEndListeners=ss,this.removeAccessibleListeners=ss,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Wd(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:f,globalTapTarget:d}=this.node.getProps(),h=!d&&!kre(this.node.current,a.target)?f:c;h&&Qn.update(()=>h(a,l))},{passive:!(r.onTap||r.onPointerUp)}),o=Wd(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Vd(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||lO("up",(l,c)=>{const{onTap:f}=this.node.getProps();f&&Qn.postRender(()=>f(l,c))})};this.removeEndListeners(),this.removeEndListeners=Gc(this.node.current,"keyup",o),lO("down",(a,l)=>{this.startPress(a,l)})},n=Gc(this.node.current,"keydown",e),r=()=>{this.isPressing&&lO("cancel",(s,o)=>this.cancelPress(s,o))},i=Gc(this.node.current,"blur",r);this.removeAccessibleListeners=Vd(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Qn.postRender(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!dre()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Qn.postRender(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Wd(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Gc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Vd(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const nL=new WeakMap,cO=new WeakMap,YPe=t=>{const e=nL.get(t.target);e&&e(t)},ZPe=t=>{t.forEach(YPe)};function QPe({root:t,...e}){const n=t||document;cO.has(n)||cO.set(n,{});const r=cO.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(ZPe,{root:t,...e})),r[i]}function JPe(t,e,n){const r=QPe(e);return nL.set(t,n),r.observe(t),()=>{nL.delete(t),r.unobserve(t)}}const e2e={some:0,all:1};class t2e extends hf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:e2e[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:f,onViewportLeave:d}=this.node.getProps(),h=c?f:d;h&&h(l)};return JPe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(n2e(e,n))&&this.startObserver()}unmount(){}}function n2e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const r2e={inView:{Feature:t2e},tap:{Feature:XPe},focus:{Feature:KPe},hover:{Feature:qPe}},i2e={layout:{ProjectionNode:Rre,MeasureLayout:Sre}},$B=M.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),HP=M.createContext({}),zB=typeof window<"u",Ore=zB?M.useLayoutEffect:M.useEffect,Ire=M.createContext({strict:!1});function s2e(t,e,n,r,i){var s,o;const{visualElement:a}=M.useContext(HP),l=M.useContext(Ire),c=M.useContext(zP),f=M.useContext($B).reducedMotion,d=M.useRef();r=r||l.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const h=d.current,g=M.useContext(wre);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&o2e(d.current,n,i,g);const v=M.useRef(!1);M.useInsertionEffect(()=>{h&&v.current&&h.update(n,c)});const x=n[are],m=M.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return Ore(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),UB.render(h.render),m.current&&h.animationState&&h.animationState.animateChanges())}),M.useEffect(()=>{h&&(!m.current&&h.animationState&&h.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var p;(p=window.MotionHandoffMarkAsComplete)===null||p===void 0||p.call(window,x)}),m.current=!1))}),h}function o2e(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jre(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&yg(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function jre(t){if(t)return t.options.allowProjection!==!1?t.projection:jre(t.parent)}function a2e(t,e,n){return M.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):yg(n)&&(n.current=r))},[e])}function VP(t){return BP(t.animate)||xB.some(e=>Y_(t[e]))}function Dre(t){return!!(VP(t)||t.variants)}function l2e(t,e){if(VP(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Y_(n)?n:void 0,animate:Y_(r)?r:void 0}}return t.inherit!==!1?e:{}}function c2e(t){const{initial:e,animate:n}=l2e(t,M.useContext(HP));return M.useMemo(()=>({initial:e,animate:n}),[NW(e),NW(n)])}function NW(t){return Array.isArray(t)?t.join(" "):t}const RW={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Nv={};for(const t in RW)Nv[t]={isEnabled:e=>RW[t].some(n=>!!e[n])};function u2e(t){for(const e in t)Nv[e]={...Nv[e],...t[e]}}const d2e=Symbol.for("motionComponentSymbol");function f2e({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&u2e(t);function s(a,l){let c;const f={...M.useContext($B),...a,layoutId:h2e(a)},{isStatic:d}=f,h=c2e(a),g=r(a,d);if(!d&&zB){p2e();const v=m2e(f);c=v.MeasureLayout,h.visualElement=s2e(i,g,f,e,v.ProjectionNode)}return u.jsxs(HP.Provider,{value:h,children:[c&&h.visualElement?u.jsx(c,{visualElement:h.visualElement,...f}):null,n(i,a,a2e(g,h.visualElement,l),g,d,h.visualElement)]})}const o=M.forwardRef(s);return o[d2e]=i,o}function h2e({layoutId:t}){const e=M.useContext(BB).id;return e&&t!==void 0?e+"-"+t:t}function p2e(t,e){M.useContext(Ire).strict}function m2e(t){const{drag:e,layout:n}=Nv;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const g2e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function HB(t){return typeof t!="string"||t.includes("-")?!1:!!(g2e.indexOf(t)>-1||/[A-Z]/u.test(t))}function Lre(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Fre=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Bre(t,e,n,r){Lre(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Fre.has(i)?i:FB(i),e.attrs[i])}function Ure(t,{layout:e,layoutId:n}){return Dp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!zM[t]||t==="opacity")}function VB(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ns(i[o])||e.style&&ns(e.style[o])||Ure(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function $re(t,e,n){const r=VB(t,e,n);for(const i in t)if(ns(t[i])||ns(e[i])){const s=Iw.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function WB(t){const e=M.useRef(null);return e.current===null&&(e.current=t()),e.current}function v2e({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:y2e(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const zre=t=>(e,n)=>{const r=M.useContext(HP),i=M.useContext(zP),s=()=>v2e(t,e,r,i);return n?s():WB(s)};function y2e(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=FE(s[h]);let{initial:o,animate:a}=t;const l=VP(t),c=Dre(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let f=n?n.initial===!1:!1;f=f||o===!1;const d=f?a:o;if(d&&typeof d!="boolean"&&!BP(d)){const h=Array.isArray(d)?d:[d];for(let g=0;g<h.length;g++){const v=vB(t,h[g]);if(v){const{transitionEnd:x,transition:m,...p}=v;for(const y in p){let _=p[y];if(Array.isArray(_)){const b=f?_.length-1:0;_=_[b]}_!==null&&(i[y]=_)}for(const y in x)i[y]=x[y]}}}return i}const GB=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Hre=()=>({...GB(),attrs:{}}),Vre=(t,e)=>e&&typeof t=="number"?e.transform(t):t,x2e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},_2e=Iw.length;function b2e(t,e,n){let r="",i=!0;for(let s=0;s<_2e;s++){const o=Iw[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=Vre(a,AB[o]);if(!l){i=!1;const f=x2e[o]||o;r+=`${f}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function qB(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Dp.has(l)){o=!0;continue}else if(Dne(l)){i[l]=c;continue}else{const f=Vre(c,AB[l]);l.startsWith("origin")?(a=!0,s[l]=f):r[l]=f}}if(e.transform||(o||n?r.transform=b2e(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:f=0}=s;r.transformOrigin=`${l} ${c} ${f}`}}function kW(t,e,n){return typeof t=="string"?t:Wt.transform(e+n*t)}function w2e(t,e,n){const r=kW(e,t.x,t.width),i=kW(n,t.y,t.height);return`${r} ${i}`}const S2e={offset:"stroke-dashoffset",array:"stroke-dasharray"},C2e={offset:"strokeDashoffset",array:"strokeDasharray"};function E2e(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?S2e:C2e;t[s.offset]=Wt.transform(-r);const o=Wt.transform(e),a=Wt.transform(n);t[s.array]=`${o} ${a}`}function KB(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},f,d){if(qB(t,c,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g,dimensions:v}=t;h.transform&&(v&&(g.transform=h.transform),delete h.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=w2e(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&E2e(h,o,a,l,!1)}const XB=t=>typeof t=="string"&&t.toLowerCase()==="svg",M2e={useVisualState:zre({scrapeMotionValuesFromProps:$re,createRenderState:Hre,onMount:(t,e,{renderState:n,latestValues:r})=>{Qn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Qn.render(()=>{KB(n,r,XB(e.tagName),t.transformTemplate),Bre(e,n)})}})},A2e={useVisualState:zre({scrapeMotionValuesFromProps:VB,createRenderState:GB})};function Wre(t,e,n){for(const r in e)!ns(e[r])&&!Ure(r,n)&&(t[r]=e[r])}function T2e({transformTemplate:t},e){return M.useMemo(()=>{const n=GB();return qB(n,e,t),Object.assign({},n.vars,n.style)},[e])}function P2e(t,e){const n=t.style||{},r={};return Wre(r,n,t),Object.assign(r,T2e(t,e)),r}function N2e(t,e){const n={},r=P2e(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const R2e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function HM(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||R2e.has(t)}let Gre=t=>!HM(t);function k2e(t){t&&(Gre=e=>e.startsWith("on")?!HM(e):t(e))}try{k2e(require("@emotion/is-prop-valid").default)}catch{}function O2e(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Gre(i)||n===!0&&HM(i)||!e&&!HM(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function I2e(t,e,n,r){const i=M.useMemo(()=>{const s=Hre();return KB(s,e,XB(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Wre(s,t.style,t),i.style={...s,...i.style}}return i}function j2e(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(HB(n)?I2e:N2e)(r,s,o,n),c=O2e(r,typeof n=="string",t),f=n!==M.Fragment?{...c,...l,ref:i}:{},{children:d}=r,h=M.useMemo(()=>ns(d)?d.get():d,[d]);return M.createElement(n,{...f,children:h})}}function D2e(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...HB(r)?M2e:A2e,preloadedFeatures:t,useRender:j2e(i),createVisualElement:e,Component:r};return f2e(o)}}const rL={current:null},qre={current:!1};function L2e(){if(qre.current=!0,!!zB)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rL.current=t.matches;t.addListener(e),e()}else rL.current=!1}function F2e(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ns(i))t.addValue(r,i);else if(ns(s))t.addValue(r,J_(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,J_(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const OW=new WeakMap,B2e=[...Bne,Qi,Jd],U2e=t=>B2e.find(Fne(t)),IW=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $2e{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=CB,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Gl.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,Qn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=VP(n),this.isVariantNode=Dre(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const h in d){const g=d[h];l[h]!==void 0&&ns(g)&&g.set(l[h],!1)}}mount(e){this.current=e,OW.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),qre.current||L2e(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rL.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OW.delete(this.current),this.projection&&this.projection.unmount(),Qd(this.notifyUpdate),Qd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Dp.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Nv){const n=Nv[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Vr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<IW.length;r++){const i=IW[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=F2e(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=J_(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(Ine(i)||One(i))?i=parseFloat(i):!U2e(i)&&Jd.test(n)&&(i=qne(e,n)),this.setBaseTarget(e,ns(i)?i.get():i)),ns(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=vB(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ns(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new LB),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Kre extends $2e{constructor(){super(...arguments),this.KeyframeResolver=Kne}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ns(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function z2e(t){return window.getComputedStyle(t)}class H2e extends Kre{constructor(){super(...arguments),this.type="html",this.renderInstance=Lre}readValueFromInstance(e,n){if(Dp.has(n)){const r=TB(n);return r&&r.default||0}else{const r=z2e(e),i=(Dne(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return _re(e,n)}build(e,n,r){qB(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return VB(e,n,r)}}class V2e extends Kre{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Vr}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Dp.has(n)){const r=TB(n);return r&&r.default||0}return n=Fre.has(n)?n:FB(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return $re(e,n,r)}build(e,n,r){KB(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Bre(e,n,r,i)}mount(e){this.isSVGTag=XB(e.tagName),super.mount(e)}}const W2e=(t,e)=>HB(t)?new V2e(e):new H2e(e,{allowProjection:t!==M.Fragment}),G2e=D2e({...kTe,...r2e,...GPe,...i2e},W2e),ti=NMe(G2e);class q2e extends M.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function K2e({children:t,isPresent:e}){const n=M.useId(),r=M.useRef(null),i=M.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=M.useContext($B);return M.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),u.jsx(q2e,{isPresent:e,childRef:r,sizeRef:i,children:M.cloneElement(t,{ref:r})})}const X2e=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=WB(Y2e),l=M.useId(),c=M.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),f=M.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),c]:[n,c]);return M.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),M.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=u.jsx(K2e,{isPresent:n,children:t})),u.jsx(zP.Provider,{value:f,children:t})};function Y2e(){return new Map}const XS=t=>t.key||"";function jW(t){const e=[];return M.Children.forEach(t,n=>{M.isValidElement(n)&&e.push(n)}),e}const YB=({children:t,exitBeforeEnter:e,custom:n,initial:r=!0,onExitComplete:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=M.useMemo(()=>jW(t),[t]),l=a.map(XS),c=M.useRef(!0),f=M.useRef(a),d=WB(()=>new Map),[h,g]=M.useState(a),[v,x]=M.useState(a);Ore(()=>{c.current=!1,f.current=a;for(let y=0;y<v.length;y++){const _=XS(v[y]);l.includes(_)?d.delete(_):d.get(_)!==!0&&d.set(_,!1)}},[v,l.length,l.join("-")]);const m=[];if(a!==h){let y=[...a];for(let _=0;_<v.length;_++){const b=v[_],w=XS(b);l.includes(w)||(y.splice(_,0,b),m.push(b))}o==="wait"&&m.length&&(y=m),x(jW(y)),g(a);return}const{forceRender:p}=M.useContext(BB);return u.jsx(u.Fragment,{children:v.map(y=>{const _=XS(y),b=a===v||l.includes(_),w=()=>{if(d.has(_))d.set(_,!0);else return;let E=!0;d.forEach(A=>{A||(E=!1)}),E&&(p==null||p(),x(f.current),i&&i())};return u.jsx(X2e,{isPresent:b,initial:!c.current||r?void 0:!1,custom:b?void 0:n,presenceAffectsLayout:s,mode:o,onExitComplete:b?void 0:w,children:y},_)})})},eb=Pu("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-primary text-primary hover:bg-primary/10",secondary:"bg-muted text-muted-foreground hover:bg-muted/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Ce=M.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?ti(Mw):ti.button;return u.jsx(o,{className:we(eb({variant:e,size:n,className:t})),ref:s,whileHover:{scale:1.02},whileTap:{scale:.98},...i})});Ce.displayName="Button";function Rn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function No(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function xs(t,e){const n=Rn(t);return isNaN(e)?No(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function al(t,e){const n=Rn(t);if(isNaN(e))return No(t,NaN);if(!e)return n;const r=n.getDate(),i=No(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const ZB=6048e5,Z2e=864e5;let Q2e={};function Fw(){return Q2e}function nc(t,e){var a,l,c,f;const n=Fw(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=Rn(t),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function dp(t){return nc(t,{weekStartsOn:1})}function Xre(t){const e=Rn(t),n=e.getFullYear(),r=No(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=dp(r),s=No(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=dp(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Rv(t){const e=Rn(t);return e.setHours(0,0,0,0),e}function VM(t){const e=Rn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Ll(t,e){const n=Rv(t),r=Rv(e),i=+n-VM(n),s=+r-VM(r);return Math.round((i-s)/Z2e)}function J2e(t){const e=Xre(t),n=No(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),dp(n)}function iL(t,e){const n=e*7;return xs(t,n)}function eNe(t,e){return al(t,e*12)}function tNe(t){let e;return t.forEach(function(n){const r=Rn(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function nNe(t){let e;return t.forEach(n=>{const r=Rn(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Vs(t,e){const n=Rv(t),r=Rv(e);return+n==+r}function QB(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function rNe(t){if(!QB(t)&&typeof t!="number")return!1;const e=Rn(t);return!isNaN(Number(e))}function tb(t,e){const n=Rn(t),r=Rn(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function iNe(t,e,n){const r=nc(t,n),i=nc(e,n),s=+r-VM(r),o=+i-VM(i);return Math.round((s-o)/ZB)}function JB(t){const e=Rn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Ys(t){const e=Rn(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Yre(t){const e=Rn(t),n=No(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function e5(t,e){var a,l,c,f;const n=Fw(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,i=Rn(t),s=i.getDay(),o=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+o),i.setHours(23,59,59,999),i}function Zre(t){return e5(t,{weekStartsOn:1})}const sNe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oNe=(t,e,n)=>{let r;const i=sNe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function uO(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const aNe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lNe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},cNe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},uNe={date:uO({formats:aNe,defaultWidth:"full"}),time:uO({formats:lNe,defaultWidth:"full"}),dateTime:uO({formats:cNe,defaultWidth:"full"})},dNe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fNe=(t,e,n,r)=>dNe[t];function Xx(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const hNe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},pNe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mNe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},gNe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},yNe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},xNe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},_Ne={ordinalNumber:xNe,era:Xx({values:hNe,defaultWidth:"wide"}),quarter:Xx({values:pNe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Xx({values:mNe,defaultWidth:"wide"}),day:Xx({values:gNe,defaultWidth:"wide"}),dayPeriod:Xx({values:vNe,defaultWidth:"wide",formattingValues:yNe,defaultFormattingWidth:"wide"})};function Yx(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?wNe(a,d=>d.test(o)):bNe(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const f=e.slice(o.length);return{value:c,rest:f}}}function bNe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function wNe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function SNe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const CNe=/^(\d+)(th|st|nd|rd)?/i,ENe=/\d+/i,MNe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ANe={any:[/^b/i,/^(a|c)/i]},TNe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},PNe={any:[/1/i,/2/i,/3/i,/4/i]},NNe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},RNe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kNe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ONe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},INe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DNe={ordinalNumber:SNe({matchPattern:CNe,parsePattern:ENe,valueCallback:t=>parseInt(t,10)}),era:Yx({matchPatterns:MNe,defaultMatchWidth:"wide",parsePatterns:ANe,defaultParseWidth:"any"}),quarter:Yx({matchPatterns:TNe,defaultMatchWidth:"wide",parsePatterns:PNe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Yx({matchPatterns:NNe,defaultMatchWidth:"wide",parsePatterns:RNe,defaultParseWidth:"any"}),day:Yx({matchPatterns:kNe,defaultMatchWidth:"wide",parsePatterns:ONe,defaultParseWidth:"any"}),dayPeriod:Yx({matchPatterns:INe,defaultMatchWidth:"any",parsePatterns:jNe,defaultParseWidth:"any"})},Qre={code:"en-US",formatDistance:oNe,formatLong:uNe,formatRelative:fNe,localize:_Ne,match:DNe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function LNe(t){const e=Rn(t);return Ll(e,Yre(e))+1}function Jre(t){const e=Rn(t),n=+dp(e)-+J2e(e);return Math.round(n/ZB)+1}function eie(t,e){var f,d,h,g;const n=Rn(t),r=n.getFullYear(),i=Fw(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((g=(h=i.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=No(t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=nc(o,e),l=No(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=nc(l,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function FNe(t,e){var a,l,c,f;const n=Fw(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,i=eie(t,e),s=No(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),nc(s,e)}function tie(t,e){const n=Rn(t),r=+nc(n,e)-+FNe(n,e);return Math.round(r/ZB)+1}function Kn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zu={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Kn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Kn(n+1,2)},d(t,e){return Kn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Kn(t.getHours()%12||12,e.length)},H(t,e){return Kn(t.getHours(),e.length)},m(t,e){return Kn(t.getMinutes(),e.length)},s(t,e){return Kn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Kn(i,e.length)}},wm={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},DW={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Zu.y(t,e)},Y:function(t,e,n,r){const i=eie(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Kn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Kn(s,e.length)},R:function(t,e){const n=Xre(t);return Kn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Kn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Kn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Kn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zu.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Kn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=tie(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Kn(i,e.length)},I:function(t,e,n){const r=Jre(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Kn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zu.d(t,e)},D:function(t,e,n){const r=LNe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Kn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Kn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Kn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Kn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=wm.noon:r===0?i=wm.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=wm.evening:r>=12?i=wm.afternoon:r>=4?i=wm.morning:i=wm.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zu.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zu.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Kn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Kn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zu.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zu.s(t,e)},S:function(t,e){return Zu.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return FW(r);case"XXXX":case"XX":return lh(r);case"XXXXX":case"XXX":default:return lh(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return FW(r);case"xxxx":case"xx":return lh(r);case"xxxxx":case"xxx":default:return lh(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LW(r,":");case"OOOO":default:return"GMT"+lh(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LW(r,":");case"zzzz":default:return"GMT"+lh(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Kn(r,e.length)},T:function(t,e,n){const r=t.getTime();return Kn(r,e.length)}};function LW(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Kn(s,2)}function FW(t,e){return t%60===0?(t>0?"-":"+")+Kn(Math.abs(t)/60,2):lh(t,e)}function lh(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Kn(Math.trunc(r/60),2),s=Kn(r%60,2);return n+i+e+s}const BW=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nie=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},BNe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return BW(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BW(r,e)).replace("{{time}}",nie(i,e))},UNe={p:nie,P:BNe},$Ne=/^D+$/,zNe=/^Y+$/,HNe=["D","DD","YY","YYYY"];function VNe(t){return $Ne.test(t)}function WNe(t){return zNe.test(t)}function GNe(t,e,n){const r=qNe(t,e,n);if(console.warn(r),HNe.includes(t))throw new RangeError(r)}function qNe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const KNe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,XNe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,YNe=/^'([^]*?)'?$/,ZNe=/''/g,QNe=/[a-zA-Z]/;function So(t,e,n){var f,d,h,g,v,x,m,p;const r=Fw(),i=(n==null?void 0:n.locale)??r.locale??Qre,s=(n==null?void 0:n.firstWeekContainsDate)??((d=(f=n==null?void 0:n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??r.firstWeekContainsDate??((g=(h=r.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((x=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:x.weekStartsOn)??r.weekStartsOn??((p=(m=r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??0,a=Rn(t);if(!rNe(a))throw new RangeError("Invalid time value");let l=e.match(XNe).map(y=>{const _=y[0];if(_==="p"||_==="P"){const b=UNe[_];return b(y,i.formatLong)}return y}).join("").match(KNe).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const _=y[0];if(_==="'")return{isToken:!1,value:JNe(y)};if(DW[_])return{isToken:!0,value:y};if(_.match(QNe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:y}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const c={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(y=>{if(!y.isToken)return y.value;const _=y.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&WNe(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&VNe(_))&&GNe(_,e,String(t));const b=DW[_[0]];return b(a,_,i.localize,c)}).join("")}function JNe(t){const e=t.match(YNe);return e?e[1].replace(ZNe,"'"):t}function eRe(t){const e=Rn(t),n=e.getFullYear(),r=e.getMonth(),i=No(t,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function tRe(t){return Math.trunc(+Rn(t)/1e3)}function nRe(t){const e=Rn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function rRe(t,e){return iNe(nRe(t),Ys(t),e)+1}function sL(t,e){const n=Rn(t),r=Rn(e);return n.getTime()>r.getTime()}function rie(t,e){const n=Rn(t),r=Rn(e);return+n<+r}function t5(t,e){const n=Rn(t),r=Rn(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function iRe(t,e){const n=Rn(t),r=Rn(e);return n.getFullYear()===r.getFullYear()}function dO(t,e){return xs(t,-e)}function fO(t,e){const n=Rn(t),r=n.getFullYear(),i=n.getDate(),s=No(t,0);s.setFullYear(r,e,15),s.setHours(0,0,0,0);const o=eRe(s);return n.setMonth(e,Math.min(i,o)),n}function UW(t,e){const n=Rn(t);return isNaN(+n)?No(t,NaN):(n.setFullYear(e),n)}var Yt=function(){return Yt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Yt.apply(this,arguments)};function sRe(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function iie(t,e,n){for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Bw(t){return t.mode==="multiple"}function Uw(t){return t.mode==="range"}function WP(t){return t.mode==="single"}var oRe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function aRe(t,e){return So(t,"LLLL y",e)}function lRe(t,e){return So(t,"d",e)}function cRe(t,e){return So(t,"LLLL",e)}function uRe(t){return"".concat(t)}function dRe(t,e){return So(t,"cccccc",e)}function fRe(t,e){return So(t,"yyyy",e)}var hRe=Object.freeze({__proto__:null,formatCaption:aRe,formatDay:lRe,formatMonthCaption:cRe,formatWeekNumber:uRe,formatWeekdayName:dRe,formatYearCaption:fRe}),pRe=function(t,e,n){return So(t,"do MMMM (EEEE)",n)},mRe=function(){return"Month: "},gRe=function(){return"Go to next month"},vRe=function(){return"Go to previous month"},yRe=function(t,e){return So(t,"cccc",e)},xRe=function(t){return"Week n. ".concat(t)},_Re=function(){return"Year: "},bRe=Object.freeze({__proto__:null,labelDay:pRe,labelMonthDropdown:mRe,labelNext:gRe,labelPrevious:vRe,labelWeekNumber:xRe,labelWeekday:yRe,labelYearDropdown:_Re});function wRe(){var t="buttons",e=oRe,n=Qre,r={},i={},s=1,o={},a=new Date;return{captionLayout:t,classNames:e,formatters:hRe,labels:bRe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:o,today:a,mode:"default"}}function SRe(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,i=t.toMonth,s=t.fromDate,o=t.toDate;return r?s=Ys(r):e&&(s=new Date(e,0,1)),i?o=JB(i):n&&(o=new Date(n,11,31)),{fromDate:s?Rv(s):void 0,toDate:o?Rv(o):void 0}}var sie=M.createContext(void 0);function CRe(t){var e,n=t.initialProps,r=wRe(),i=SRe(n),s=i.fromDate,o=i.toDate,a=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;a!=="buttons"&&(!s||!o)&&(a="buttons");var l;(WP(n)||Bw(n)||Uw(n))&&(l=n.onSelect);var c=Yt(Yt(Yt({},r),n),{captionLayout:a,classNames:Yt(Yt({},r.classNames),n.classNames),components:Yt({},n.components),formatters:Yt(Yt({},r.formatters),n.formatters),fromDate:s,labels:Yt(Yt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Yt(Yt({},r.modifiers),n.modifiers),modifiersClassNames:Yt(Yt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:l,styles:Yt(Yt({},r.styles),n.styles),toDate:o});return u.jsx(sie.Provider,{value:c,children:t.children})}function cr(){var t=M.useContext(sie);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function oie(t){var e=cr(),n=e.locale,r=e.classNames,i=e.styles,s=e.formatters.formatCaption;return u.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:s(t.displayMonth,{locale:n})})}function ERe(t){return u.jsx("svg",Yt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:u.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function aie(t){var e,n,r=t.onChange,i=t.value,s=t.children,o=t.caption,a=t.className,l=t.style,c=cr(),f=(n=(e=c.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:ERe;return u.jsxs("div",{className:a,style:l,children:[u.jsx("span",{className:c.classNames.vhidden,children:t["aria-label"]}),u.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:c.classNames.dropdown,style:c.styles.dropdown,value:i,onChange:r,children:s}),u.jsxs("div",{className:c.classNames.caption_label,style:c.styles.caption_label,"aria-hidden":"true",children:[o,u.jsx(f,{className:c.classNames.dropdown_icon,style:c.styles.dropdown_icon})]})]})}function MRe(t){var e,n=cr(),r=n.fromDate,i=n.toDate,s=n.styles,o=n.locale,a=n.formatters.formatMonthCaption,l=n.classNames,c=n.components,f=n.labels.labelMonthDropdown;if(!r)return u.jsx(u.Fragment,{});if(!i)return u.jsx(u.Fragment,{});var d=[];if(iRe(r,i))for(var h=Ys(r),g=r.getMonth();g<=i.getMonth();g++)d.push(fO(h,g));else for(var h=Ys(new Date),g=0;g<=11;g++)d.push(fO(h,g));var v=function(m){var p=Number(m.target.value),y=fO(Ys(t.displayMonth),p);t.onChange(y)},x=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:aie;return u.jsx(x,{name:"months","aria-label":f(),className:l.dropdown_month,style:s.dropdown_month,onChange:v,value:t.displayMonth.getMonth(),caption:a(t.displayMonth,{locale:o}),children:d.map(function(m){return u.jsx("option",{value:m.getMonth(),children:a(m,{locale:o})},m.getMonth())})})}function ARe(t){var e,n=t.displayMonth,r=cr(),i=r.fromDate,s=r.toDate,o=r.locale,a=r.styles,l=r.classNames,c=r.components,f=r.formatters.formatYearCaption,d=r.labels.labelYearDropdown,h=[];if(!i)return u.jsx(u.Fragment,{});if(!s)return u.jsx(u.Fragment,{});for(var g=i.getFullYear(),v=s.getFullYear(),x=g;x<=v;x++)h.push(UW(Yre(new Date),x));var m=function(y){var _=UW(Ys(n),Number(y.target.value));t.onChange(_)},p=(e=c==null?void 0:c.Dropdown)!==null&&e!==void 0?e:aie;return u.jsx(p,{name:"years","aria-label":d(),className:l.dropdown_year,style:a.dropdown_year,onChange:m,value:n.getFullYear(),caption:f(n,{locale:o}),children:h.map(function(y){return u.jsx("option",{value:y.getFullYear(),children:f(y,{locale:o})},y.getFullYear())})})}function TRe(t,e){var n=M.useState(t),r=n[0],i=n[1],s=e===void 0?r:e;return[s,i]}function PRe(t){var e=t.month,n=t.defaultMonth,r=t.today,i=e||n||r||new Date,s=t.toDate,o=t.fromDate,a=t.numberOfMonths,l=a===void 0?1:a;if(s&&tb(s,i)<0){var c=-1*(l-1);i=al(s,c)}return o&&tb(i,o)<0&&(i=o),Ys(i)}function NRe(){var t=cr(),e=PRe(t),n=TRe(e,t.month),r=n[0],i=n[1],s=function(o){var a;if(!t.disableNavigation){var l=Ys(o);i(l),(a=t.onMonthChange)===null||a===void 0||a.call(t,l)}};return[r,s]}function RRe(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,i=Ys(t),s=Ys(al(i,r)),o=tb(s,i),a=[],l=0;l<o;l++){var c=al(i,l);a.push(c)}return n&&(a=a.reverse()),a}function kRe(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Ys(t);if(!n)return al(a,o);var l=tb(n,t);if(!(l<s))return al(a,o)}}function ORe(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,i=e.numberOfMonths,s=i===void 0?1:i,o=r?s:1,a=Ys(t);if(!n)return al(a,-o);var l=tb(a,n);if(!(l<=0))return al(a,-o)}}var lie=M.createContext(void 0);function IRe(t){var e=cr(),n=NRe(),r=n[0],i=n[1],s=RRe(r,e),o=kRe(r,e),a=ORe(r,e),l=function(d){return s.some(function(h){return t5(d,h)})},c=function(d,h){l(d)||(h&&rie(d,h)?i(al(d,1+e.numberOfMonths*-1)):i(d))},f={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:c,previousMonth:a,nextMonth:o,isDateDisplayed:l};return u.jsx(lie.Provider,{value:f,children:t.children})}function $w(){var t=M.useContext(lie);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function $W(t){var e,n=cr(),r=n.classNames,i=n.styles,s=n.components,o=$w().goToMonth,a=function(f){o(al(f,t.displayIndex?-t.displayIndex:0))},l=(e=s==null?void 0:s.CaptionLabel)!==null&&e!==void 0?e:oie,c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth});return u.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[u.jsx("div",{className:r.vhidden,children:c}),u.jsx(MRe,{onChange:a,displayMonth:t.displayMonth}),u.jsx(ARe,{onChange:a,displayMonth:t.displayMonth})]})}function jRe(t){return u.jsx("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function DRe(t){return u.jsx("svg",Yt({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:u.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var WM=M.forwardRef(function(t,e){var n=cr(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];t.className&&s.push(t.className);var o=s.join(" "),a=Yt(Yt({},i.button_reset),i.button);return t.style&&Object.assign(a,t.style),u.jsx("button",Yt({},t,{ref:e,type:"button",className:o,style:a}))});function LRe(t){var e,n,r=cr(),i=r.dir,s=r.locale,o=r.classNames,a=r.styles,l=r.labels,c=l.labelPrevious,f=l.labelNext,d=r.components;if(!t.nextMonth&&!t.previousMonth)return u.jsx(u.Fragment,{});var h=c(t.previousMonth,{locale:s}),g=[o.nav_button,o.nav_button_previous].join(" "),v=f(t.nextMonth,{locale:s}),x=[o.nav_button,o.nav_button_next].join(" "),m=(e=d==null?void 0:d.IconRight)!==null&&e!==void 0?e:DRe,p=(n=d==null?void 0:d.IconLeft)!==null&&n!==void 0?n:jRe;return u.jsxs("div",{className:o.nav,style:a.nav,children:[!t.hidePrevious&&u.jsx(WM,{name:"previous-month","aria-label":h,className:g,style:a.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:i==="rtl"?u.jsx(m,{className:o.nav_icon,style:a.nav_icon}):u.jsx(p,{className:o.nav_icon,style:a.nav_icon})}),!t.hideNext&&u.jsx(WM,{name:"next-month","aria-label":v,className:x,style:a.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:i==="rtl"?u.jsx(p,{className:o.nav_icon,style:a.nav_icon}):u.jsx(m,{className:o.nav_icon,style:a.nav_icon})})]})}function zW(t){var e=cr().numberOfMonths,n=$w(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,o=n.displayMonths,a=o.findIndex(function(v){return t5(t.displayMonth,v)}),l=a===0,c=a===o.length-1,f=e>1&&(l||!c),d=e>1&&(c||!l),h=function(){r&&s(r)},g=function(){i&&s(i)};return u.jsx(LRe,{displayMonth:t.displayMonth,hideNext:f,hidePrevious:d,nextMonth:i,previousMonth:r,onPreviousClick:h,onNextClick:g})}function FRe(t){var e,n=cr(),r=n.classNames,i=n.disableNavigation,s=n.styles,o=n.captionLayout,a=n.components,l=(e=a==null?void 0:a.CaptionLabel)!==null&&e!==void 0?e:oie,c;return i?c=u.jsx(l,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?c=u.jsx($W,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?c=u.jsxs(u.Fragment,{children:[u.jsx($W,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),u.jsx(zW,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):c=u.jsxs(u.Fragment,{children:[u.jsx(l,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(zW,{displayMonth:t.displayMonth,id:t.id})]}),u.jsx("div",{className:r.caption,style:s.caption,children:c})}function BRe(t){var e=cr(),n=e.footer,r=e.styles,i=e.classNames.tfoot;return n?u.jsx("tfoot",{className:i,style:r.tfoot,children:u.jsx("tr",{children:u.jsx("td",{colSpan:8,children:n})})}):u.jsx(u.Fragment,{})}function URe(t,e,n){for(var r=n?dp(new Date):nc(new Date,{locale:t,weekStartsOn:e}),i=[],s=0;s<7;s++){var o=xs(r,s);i.push(o)}return i}function $Re(){var t=cr(),e=t.classNames,n=t.styles,r=t.showWeekNumber,i=t.locale,s=t.weekStartsOn,o=t.ISOWeek,a=t.formatters.formatWeekdayName,l=t.labels.labelWeekday,c=URe(i,s,o);return u.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&u.jsx("td",{style:n.head_cell,className:e.head_cell}),c.map(function(f,d){return u.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":l(f,{locale:i}),children:a(f,{locale:i})},d)})]})}function zRe(){var t,e=cr(),n=e.classNames,r=e.styles,i=e.components,s=(t=i==null?void 0:i.HeadRow)!==null&&t!==void 0?t:$Re;return u.jsx("thead",{style:r.head,className:n.head,children:u.jsx(s,{})})}function HRe(t){var e=cr(),n=e.locale,r=e.formatters.formatDay;return u.jsx(u.Fragment,{children:r(t.date,{locale:n})})}var n5=M.createContext(void 0);function VRe(t){if(!Bw(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return u.jsx(n5.Provider,{value:e,children:t.children})}return u.jsx(WRe,{initialProps:t.initialProps,children:t.children})}function WRe(t){var e=t.initialProps,n=t.children,r=e.selected,i=e.min,s=e.max,o=function(c,f,d){var h,g;(h=e.onDayClick)===null||h===void 0||h.call(e,c,f,d);var v=!!(f.selected&&i&&(r==null?void 0:r.length)===i);if(!v){var x=!!(!f.selected&&s&&(r==null?void 0:r.length)===s);if(!x){var m=r?iie([],r):[];if(f.selected){var p=m.findIndex(function(y){return Vs(c,y)});m.splice(p,1)}else m.push(c);(g=e.onSelect)===null||g===void 0||g.call(e,m,c,f,d)}}},a={disabled:[]};r&&a.disabled.push(function(c){var f=s&&r.length>s-1,d=r.some(function(h){return Vs(h,c)});return!!(f&&!d)});var l={selected:r,onDayClick:o,modifiers:a};return u.jsx(n5.Provider,{value:l,children:n})}function r5(){var t=M.useContext(n5);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function GRe(t,e){var n=e||{},r=n.from,i=n.to;return r&&i?Vs(i,t)&&Vs(r,t)?void 0:Vs(i,t)?{from:i,to:void 0}:Vs(r,t)?void 0:sL(r,t)?{from:t,to:i}:{from:r,to:t}:i?sL(t,i)?{from:i,to:t}:{from:t,to:i}:r?rie(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var i5=M.createContext(void 0);function qRe(t){if(!Uw(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return u.jsx(i5.Provider,{value:e,children:t.children})}return u.jsx(KRe,{initialProps:t.initialProps,children:t.children})}function KRe(t){var e=t.initialProps,n=t.children,r=e.selected,i=r||{},s=i.from,o=i.to,a=e.min,l=e.max,c=function(g,v,x){var m,p;(m=e.onDayClick)===null||m===void 0||m.call(e,g,v,x);var y=GRe(g,r);(p=e.onSelect)===null||p===void 0||p.call(e,y,g,v,x)},f={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(f.range_start=[s],o?(f.range_end=[o],Vs(s,o)||(f.range_middle=[{after:s,before:o}])):f.range_end=[s]):o&&(f.range_start=[o],f.range_end=[o]),a&&(s&&!o&&f.disabled.push({after:dO(s,a-1),before:xs(s,a-1)}),s&&o&&f.disabled.push({after:s,before:xs(s,a-1)}),!s&&o&&f.disabled.push({after:dO(o,a-1),before:xs(o,a-1)})),l){if(s&&!o&&(f.disabled.push({before:xs(s,-l+1)}),f.disabled.push({after:xs(s,l-1)})),s&&o){var d=Ll(o,s)+1,h=l-d;f.disabled.push({before:dO(s,h)}),f.disabled.push({after:xs(o,h)})}!s&&o&&(f.disabled.push({before:xs(o,-l+1)}),f.disabled.push({after:xs(o,l-1)}))}return u.jsx(i5.Provider,{value:{selected:r,onDayClick:c,modifiers:f},children:n})}function s5(){var t=M.useContext(i5);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function BE(t){return Array.isArray(t)?iie([],t):t!==void 0?[t]:[]}function XRe(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],i=n[1];e[r]=BE(i)}),e}var ll;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(ll||(ll={}));var YRe=ll.Selected,Mc=ll.Disabled,ZRe=ll.Hidden,QRe=ll.Today,hO=ll.RangeEnd,pO=ll.RangeMiddle,mO=ll.RangeStart,JRe=ll.Outside;function eke(t,e,n){var r,i=(r={},r[YRe]=BE(t.selected),r[Mc]=BE(t.disabled),r[ZRe]=BE(t.hidden),r[QRe]=[t.today],r[hO]=[],r[pO]=[],r[mO]=[],r[JRe]=[],r);return t.fromDate&&i[Mc].push({before:t.fromDate}),t.toDate&&i[Mc].push({after:t.toDate}),Bw(t)?i[Mc]=i[Mc].concat(e.modifiers[Mc]):Uw(t)&&(i[Mc]=i[Mc].concat(n.modifiers[Mc]),i[mO]=n.modifiers[mO],i[pO]=n.modifiers[pO],i[hO]=n.modifiers[hO]),i}var cie=M.createContext(void 0);function tke(t){var e=cr(),n=r5(),r=s5(),i=eke(e,n,r),s=XRe(e.modifiers),o=Yt(Yt({},i),s);return u.jsx(cie.Provider,{value:o,children:t.children})}function uie(){var t=M.useContext(cie);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function nke(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function rke(t){return!!(t&&typeof t=="object"&&"from"in t)}function ike(t){return!!(t&&typeof t=="object"&&"after"in t)}function ske(t){return!!(t&&typeof t=="object"&&"before"in t)}function oke(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function ake(t,e){var n,r=e.from,i=e.to;if(r&&i){var s=Ll(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var o=Ll(t,r)>=0&&Ll(i,t)>=0;return o}return i?Vs(i,t):r?Vs(r,t):!1}function lke(t){return QB(t)}function cke(t){return Array.isArray(t)&&t.every(QB)}function uke(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(lke(n))return Vs(t,n);if(cke(n))return n.includes(t);if(rke(n))return ake(t,n);if(oke(n))return n.dayOfWeek.includes(t.getDay());if(nke(n)){var r=Ll(n.before,t),i=Ll(n.after,t),s=r>0,o=i<0,a=sL(n.before,n.after);return a?o&&s:s||o}return ike(n)?Ll(t,n.after)>0:ske(n)?Ll(n.before,t)>0:typeof n=="function"?n(t):!1})}function o5(t,e,n){var r=Object.keys(e).reduce(function(s,o){var a=e[o];return uke(t,a)&&s.push(o),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!t5(t,n)&&(i.outside=!0),i}function dke(t,e){for(var n=Ys(t[0]),r=JB(t[t.length-1]),i,s,o=n;o<=r;){var a=o5(o,e),l=!a.disabled&&!a.hidden;if(!l){o=xs(o,1);continue}if(a.selected)return o;a.today&&!s&&(s=o),i||(i=o),o=xs(o,1)}return s||i}var fke=365;function die(t,e){var n=e.moveBy,r=e.direction,i=e.context,s=e.modifiers,o=e.retry,a=o===void 0?{count:0,lastFocused:t}:o,l=i.weekStartsOn,c=i.fromDate,f=i.toDate,d=i.locale,h={day:xs,week:iL,month:al,year:eNe,startOfWeek:function(m){return i.ISOWeek?dp(m):nc(m,{locale:d,weekStartsOn:l})},endOfWeek:function(m){return i.ISOWeek?Zre(m):e5(m,{locale:d,weekStartsOn:l})}},g=h[n](t,r==="after"?1:-1);r==="before"&&c?g=tNe([c,g]):r==="after"&&f&&(g=nNe([f,g]));var v=!0;if(s){var x=o5(g,s);v=!x.disabled&&!x.hidden}return v?g:a.count>fke?a.lastFocused:die(g,{moveBy:n,direction:r,context:i,modifiers:s,retry:Yt(Yt({},a),{count:a.count+1})})}var fie=M.createContext(void 0);function hke(t){var e=$w(),n=uie(),r=M.useState(),i=r[0],s=r[1],o=M.useState(),a=o[0],l=o[1],c=dke(e.displayMonths,n),f=i??(a&&e.isDateDisplayed(a))?a:c,d=function(){l(i),s(void 0)},h=function(m){s(m)},g=cr(),v=function(m,p){if(i){var y=die(i,{moveBy:m,direction:p,context:g,modifiers:n});Vs(i,y)||(e.goToDate(y,i),h(y))}},x={focusedDay:i,focusTarget:f,blur:d,focus:h,focusDayAfter:function(){return v("day","after")},focusDayBefore:function(){return v("day","before")},focusWeekAfter:function(){return v("week","after")},focusWeekBefore:function(){return v("week","before")},focusMonthBefore:function(){return v("month","before")},focusMonthAfter:function(){return v("month","after")},focusYearBefore:function(){return v("year","before")},focusYearAfter:function(){return v("year","after")},focusStartOfWeek:function(){return v("startOfWeek","before")},focusEndOfWeek:function(){return v("endOfWeek","after")}};return u.jsx(fie.Provider,{value:x,children:t.children})}function a5(){var t=M.useContext(fie);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function pke(t,e){var n=uie(),r=o5(t,n,e);return r}var l5=M.createContext(void 0);function mke(t){if(!WP(t.initialProps)){var e={selected:void 0};return u.jsx(l5.Provider,{value:e,children:t.children})}return u.jsx(gke,{initialProps:t.initialProps,children:t.children})}function gke(t){var e=t.initialProps,n=t.children,r=function(s,o,a){var l,c,f;if((l=e.onDayClick)===null||l===void 0||l.call(e,s,o,a),o.selected&&!e.required){(c=e.onSelect)===null||c===void 0||c.call(e,void 0,s,o,a);return}(f=e.onSelect)===null||f===void 0||f.call(e,s,s,o,a)},i={selected:e.selected,onDayClick:r};return u.jsx(l5.Provider,{value:i,children:n})}function hie(){var t=M.useContext(l5);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function vke(t,e){var n=cr(),r=hie(),i=r5(),s=s5(),o=a5(),a=o.focusDayAfter,l=o.focusDayBefore,c=o.focusWeekAfter,f=o.focusWeekBefore,d=o.blur,h=o.focus,g=o.focusMonthBefore,v=o.focusMonthAfter,x=o.focusYearBefore,m=o.focusYearAfter,p=o.focusStartOfWeek,y=o.focusEndOfWeek,_=function(H){var R,j,B,W;WP(n)?(R=r.onDayClick)===null||R===void 0||R.call(r,t,e,H):Bw(n)?(j=i.onDayClick)===null||j===void 0||j.call(i,t,e,H):Uw(n)?(B=s.onDayClick)===null||B===void 0||B.call(s,t,e,H):(W=n.onDayClick)===null||W===void 0||W.call(n,t,e,H)},b=function(H){var R;h(t),(R=n.onDayFocus)===null||R===void 0||R.call(n,t,e,H)},w=function(H){var R;d(),(R=n.onDayBlur)===null||R===void 0||R.call(n,t,e,H)},E=function(H){var R;(R=n.onDayMouseEnter)===null||R===void 0||R.call(n,t,e,H)},A=function(H){var R;(R=n.onDayMouseLeave)===null||R===void 0||R.call(n,t,e,H)},T=function(H){var R;(R=n.onDayPointerEnter)===null||R===void 0||R.call(n,t,e,H)},P=function(H){var R;(R=n.onDayPointerLeave)===null||R===void 0||R.call(n,t,e,H)},N=function(H){var R;(R=n.onDayTouchCancel)===null||R===void 0||R.call(n,t,e,H)},O=function(H){var R;(R=n.onDayTouchEnd)===null||R===void 0||R.call(n,t,e,H)},I=function(H){var R;(R=n.onDayTouchMove)===null||R===void 0||R.call(n,t,e,H)},D=function(H){var R;(R=n.onDayTouchStart)===null||R===void 0||R.call(n,t,e,H)},F=function(H){var R;(R=n.onDayKeyUp)===null||R===void 0||R.call(n,t,e,H)},$=function(H){var R;switch(H.key){case"ArrowLeft":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?a():l();break;case"ArrowRight":H.preventDefault(),H.stopPropagation(),n.dir==="rtl"?l():a();break;case"ArrowDown":H.preventDefault(),H.stopPropagation(),c();break;case"ArrowUp":H.preventDefault(),H.stopPropagation(),f();break;case"PageUp":H.preventDefault(),H.stopPropagation(),H.shiftKey?x():g();break;case"PageDown":H.preventDefault(),H.stopPropagation(),H.shiftKey?m():v();break;case"Home":H.preventDefault(),H.stopPropagation(),p();break;case"End":H.preventDefault(),H.stopPropagation(),y();break}(R=n.onDayKeyDown)===null||R===void 0||R.call(n,t,e,H)},z={onClick:_,onFocus:b,onBlur:w,onKeyDown:$,onKeyUp:F,onMouseEnter:E,onMouseLeave:A,onPointerEnter:T,onPointerLeave:P,onTouchCancel:N,onTouchEnd:O,onTouchMove:I,onTouchStart:D};return z}function yke(){var t=cr(),e=hie(),n=r5(),r=s5(),i=WP(t)?e.selected:Bw(t)?n.selected:Uw(t)?r.selected:void 0;return i}function xke(t){return Object.values(ll).includes(t)}function _ke(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var i=t.modifiersClassNames[r];if(i)n.push(i);else if(xke(r)){var s=t.classNames["day_".concat(r)];s&&n.push(s)}}),n}function bke(t,e){var n=Yt({},t.styles.day);return Object.keys(e).forEach(function(r){var i;n=Yt(Yt({},n),(i=t.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function wke(t,e,n){var r,i,s,o=cr(),a=a5(),l=pke(t,e),c=vke(t,l),f=yke(),d=!!(o.onDayClick||o.mode!=="default");M.useEffect(function(){var E;l.outside||a.focusedDay&&d&&Vs(a.focusedDay,t)&&((E=n.current)===null||E===void 0||E.focus())},[a.focusedDay,t,n,d,l.outside]);var h=_ke(o,l).join(" "),g=bke(o,l),v=!!(l.outside&&!o.showOutsideDays||l.hidden),x=(s=(i=o.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:HRe,m=u.jsx(x,{date:t,displayMonth:e,activeModifiers:l}),p={style:g,className:h,children:m,role:"gridcell"},y=a.focusTarget&&Vs(a.focusTarget,t)&&!l.outside,_=a.focusedDay&&Vs(a.focusedDay,t),b=Yt(Yt(Yt({},p),(r={disabled:l.disabled,role:"gridcell"},r["aria-selected"]=l.selected,r.tabIndex=_||y?0:-1,r)),c),w={isButton:d,isHidden:v,activeModifiers:l,selectedDays:f,buttonProps:b,divProps:p};return w}function Ske(t){var e=M.useRef(null),n=wke(t.date,t.displayMonth,e);return n.isHidden?u.jsx("div",{role:"gridcell"}):n.isButton?u.jsx(WM,Yt({name:"day",ref:e},n.buttonProps)):u.jsx("div",Yt({},n.divProps))}function Cke(t){var e=t.number,n=t.dates,r=cr(),i=r.onWeekNumberClick,s=r.styles,o=r.classNames,a=r.locale,l=r.labels.labelWeekNumber,c=r.formatters.formatWeekNumber,f=c(Number(e),{locale:a});if(!i)return u.jsx("span",{className:o.weeknumber,style:s.weeknumber,children:f});var d=l(Number(e),{locale:a}),h=function(g){i(e,n,g)};return u.jsx(WM,{name:"week-number","aria-label":d,className:o.weeknumber,style:s.weeknumber,onClick:h,children:f})}function Eke(t){var e,n,r=cr(),i=r.styles,s=r.classNames,o=r.showWeekNumber,a=r.components,l=(e=a==null?void 0:a.Day)!==null&&e!==void 0?e:Ske,c=(n=a==null?void 0:a.WeekNumber)!==null&&n!==void 0?n:Cke,f;return o&&(f=u.jsx("td",{className:s.cell,style:i.cell,children:u.jsx(c,{number:t.weekNumber,dates:t.dates})})),u.jsxs("tr",{className:s.row,style:i.row,children:[f,t.dates.map(function(d){return u.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:u.jsx(l,{displayMonth:t.displayMonth,date:d})},tRe(d))})]})}function HW(t,e,n){for(var r=n!=null&&n.ISOWeek?Zre(e):e5(e,n),i=n!=null&&n.ISOWeek?dp(t):nc(t,n),s=Ll(r,i),o=[],a=0;a<=s;a++)o.push(xs(i,a));var l=o.reduce(function(c,f){var d=n!=null&&n.ISOWeek?Jre(f):tie(f,n),h=c.find(function(g){return g.weekNumber===d});return h?(h.dates.push(f),c):(c.push({weekNumber:d,dates:[f]}),c)},[]);return l}function Mke(t,e){var n=HW(Ys(t),JB(t),e);if(e!=null&&e.useFixedWeeks){var r=rRe(t,e);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],o=iL(s,6-r),a=HW(iL(s,1),o,e);n.push.apply(n,a)}}return n}function Ake(t){var e,n,r,i=cr(),s=i.locale,o=i.classNames,a=i.styles,l=i.hideHead,c=i.fixedWeeks,f=i.components,d=i.weekStartsOn,h=i.firstWeekContainsDate,g=i.ISOWeek,v=Mke(t.displayMonth,{useFixedWeeks:!!c,ISOWeek:g,locale:s,weekStartsOn:d,firstWeekContainsDate:h}),x=(e=f==null?void 0:f.Head)!==null&&e!==void 0?e:zRe,m=(n=f==null?void 0:f.Row)!==null&&n!==void 0?n:Eke,p=(r=f==null?void 0:f.Footer)!==null&&r!==void 0?r:BRe;return u.jsxs("table",{id:t.id,className:o.table,style:a.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!l&&u.jsx(x,{}),u.jsx("tbody",{className:o.tbody,style:a.tbody,children:v.map(function(y){return u.jsx(m,{displayMonth:t.displayMonth,dates:y.dates,weekNumber:y.weekNumber},y.weekNumber)})}),u.jsx(p,{displayMonth:t.displayMonth})]})}function Tke(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Pke=Tke()?M.useLayoutEffect:M.useEffect,gO=!1,Nke=0;function VW(){return"react-day-picker-".concat(++Nke)}function Rke(t){var e,n=t??(gO?VW():null),r=M.useState(n),i=r[0],s=r[1];return Pke(function(){i===null&&s(VW())},[]),M.useEffect(function(){gO===!1&&(gO=!0)},[]),(e=t??i)!==null&&e!==void 0?e:void 0}function kke(t){var e,n,r=cr(),i=r.dir,s=r.classNames,o=r.styles,a=r.components,l=$w().displayMonths,c=Rke(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),f=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,d=[s.month],h=o.month,g=t.displayIndex===0,v=t.displayIndex===l.length-1,x=!g&&!v;i==="rtl"&&(e=[g,v],v=e[0],g=e[1]),g&&(d.push(s.caption_start),h=Yt(Yt({},h),o.caption_start)),v&&(d.push(s.caption_end),h=Yt(Yt({},h),o.caption_end)),x&&(d.push(s.caption_between),h=Yt(Yt({},h),o.caption_between));var m=(n=a==null?void 0:a.Caption)!==null&&n!==void 0?n:FRe;return u.jsxs("div",{className:d.join(" "),style:h,children:[u.jsx(m,{id:c,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),u.jsx(Ake,{id:f,"aria-labelledby":c,displayMonth:t.displayMonth})]},t.displayIndex)}function Oke(t){var e=cr(),n=e.classNames,r=e.styles;return u.jsx("div",{className:n.months,style:r.months,children:t.children})}function Ike(t){var e,n,r=t.initialProps,i=cr(),s=a5(),o=$w(),a=M.useState(!1),l=a[0],c=a[1];M.useEffect(function(){i.initialFocus&&s.focusTarget&&(l||(s.focus(s.focusTarget),c(!0)))},[i.initialFocus,l,s.focus,s.focusTarget,s]);var f=[i.classNames.root,i.className];i.numberOfMonths>1&&f.push(i.classNames.multiple_months),i.showWeekNumber&&f.push(i.classNames.with_weeknumber);var d=Yt(Yt({},i.styles.root),i.style),h=Object.keys(r).filter(function(v){return v.startsWith("data-")}).reduce(function(v,x){var m;return Yt(Yt({},v),(m={},m[x]=r[x],m))},{}),g=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:Oke;return u.jsx("div",Yt({className:f.join(" "),style:d,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:u.jsx(g,{children:o.displayMonths.map(function(v,x){return u.jsx(kke,{displayIndex:x,displayMonth:v},x)})})}))}function jke(t){var e=t.children,n=sRe(t,["children"]);return u.jsx(CRe,{initialProps:n,children:u.jsx(IRe,{children:u.jsx(mke,{initialProps:n,children:u.jsx(VRe,{initialProps:n,children:u.jsx(qRe,{initialProps:n,children:u.jsx(tke,{children:u.jsx(hke,{children:e})})})})})})})}function Dke(t){return u.jsx(jke,Yt({},t,{children:u.jsx(Ike,{initialProps:t})}))}function oL({className:t,classNames:e,showOutsideDays:n=!0,...r}){return u.jsx(Dke,{showOutsideDays:n,className:we("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:we(eb({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:we(eb({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({className:i,...s})=>u.jsx(ite,{className:we("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>u.jsx(Oy,{className:we("h-4 w-4",i),...s})},...r})}oL.displayName="Calendar";const Be=M.forwardRef(({className:t,...e},n)=>u.jsx(ti.div,{ref:n,className:we("shadcn-card rounded-xl card-glow bg-card text-card-foreground",t),whileHover:{scale:1.01},transition:{type:"spring",stiffness:300,damping:20},...e}));Be.displayName="Card";const Xe=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex flex-col space-y-1.5 p-6",t),...e}));Xe.displayName="CardHeader";const qe=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("text-2xl font-semibold leading-none tracking-tight text-foreground",t),...e}));qe.displayName="CardTitle";const Et=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Et.displayName="CardDescription";const Ke=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("p-6 pt-0",t),...e}));Ke.displayName="CardContent";const c5=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex items-center p-6 pt-0",t),...e}));c5.displayName="CardFooter";function Lke(t){return Object.prototype.toString.call(t)==="[object Object]"}function WW(t){return Lke(t)||Array.isArray(t)}function Fke(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function u5(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;const i=JSON.stringify(Object.keys(t.breakpoints||{})),s=JSON.stringify(Object.keys(e.breakpoints||{}));return i!==s?!1:n.every(o=>{const a=t[o],l=e[o];return typeof a=="function"?`${a}`==`${l}`:!WW(a)||!WW(l)?a===l:u5(a,l)})}function GW(t){return t.concat().sort((e,n)=>e.name>n.name?1:-1).map(e=>e.options)}function Bke(t,e){if(t.length!==e.length)return!1;const n=GW(t),r=GW(e);return n.every((i,s)=>{const o=r[s];return u5(i,o)})}function d5(t){return typeof t=="number"}function aL(t){return typeof t=="string"}function GP(t){return typeof t=="boolean"}function qW(t){return Object.prototype.toString.call(t)==="[object Object]"}function Tr(t){return Math.abs(t)}function f5(t){return Math.sign(t)}function l_(t,e){return Tr(t-e)}function Uke(t,e){if(t===0||e===0||Tr(t)<=Tr(e))return 0;const n=l_(Tr(t),Tr(e));return Tr(n/t)}function $ke(t){return Math.round(t*100)/100}function nb(t){return rb(t).map(Number)}function tl(t){return t[zw(t)]}function zw(t){return Math.max(0,t.length-1)}function h5(t,e){return e===zw(t)}function KW(t,e=0){return Array.from(Array(t),(n,r)=>e+r)}function rb(t){return Object.keys(t)}function pie(t,e){return[t,e].reduce((n,r)=>(rb(r).forEach(i=>{const s=n[i],o=r[i],a=qW(s)&&qW(o);n[i]=a?pie(s,o):o}),n),{})}function lL(t,e){return typeof e.MouseEvent<"u"&&t instanceof e.MouseEvent}function zke(t,e){const n={start:r,center:i,end:s};function r(){return 0}function i(l){return s(l)/2}function s(l){return e-l}function o(l,c){return aL(t)?n[t](l):t(e,l,c)}return{measure:o}}function ib(){let t=[];function e(i,s,o,a={passive:!0}){let l;if("addEventListener"in i)i.addEventListener(s,o,a),l=()=>i.removeEventListener(s,o,a);else{const c=i;c.addListener(o),l=()=>c.removeListener(o)}return t.push(l),r}function n(){t=t.filter(i=>i())}const r={add:e,clear:n};return r}function Hke(t,e,n,r){const i=ib(),s=1e3/60;let o=null,a=0,l=0;function c(){i.add(t,"visibilitychange",()=>{t.hidden&&v()})}function f(){g(),i.clear()}function d(m){if(!l)return;o||(o=m,n(),n());const p=m-o;for(o=m,a+=p;a>=s;)n(),a-=s;const y=a/s;r(y),l&&(l=e.requestAnimationFrame(d))}function h(){l||(l=e.requestAnimationFrame(d))}function g(){e.cancelAnimationFrame(l),o=null,a=0,l=0}function v(){o=null,a=0}return{init:c,destroy:f,start:h,stop:g,update:n,render:r}}function Vke(t,e){const n=e==="rtl",r=t==="y",i=r?"y":"x",s=r?"x":"y",o=!r&&n?-1:1,a=f(),l=d();function c(v){const{height:x,width:m}=v;return r?x:m}function f(){return r?"top":n?"right":"left"}function d(){return r?"bottom":n?"left":"right"}function h(v){return v*o}return{scroll:i,cross:s,startEdge:a,endEdge:l,measureSize:c,direction:h}}function fp(t=0,e=0){const n=Tr(t-e);function r(c){return c<t}function i(c){return c>e}function s(c){return r(c)||i(c)}function o(c){return s(c)?r(c)?t:e:c}function a(c){return n?c-n*Math.ceil((c-e)/n):c}return{length:n,max:e,min:t,constrain:o,reachedAny:s,reachedMax:i,reachedMin:r,removeOffset:a}}function mie(t,e,n){const{constrain:r}=fp(0,t),i=t+1;let s=o(e);function o(h){return n?Tr((i+h)%i):r(h)}function a(){return s}function l(h){return s=o(h),d}function c(h){return f().set(a()+h)}function f(){return mie(t,a(),n)}const d={get:a,set:l,add:c,clone:f};return d}function Wke(t,e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m,p,y){const{cross:_,direction:b}=t,w=["INPUT","SELECT","TEXTAREA"],E={passive:!1},A=ib(),T=ib(),P=fp(50,225).constrain(g.measure(20)),N={mouse:300,touch:400},O={mouse:500,touch:600},I=v?43:25;let D=!1,F=0,$=0,z=!1,H=!1,R=!1,j=!1;function B(ee){if(!y)return;function Y(re){(GP(y)||y(ee,re))&&J(re)}const se=e;A.add(se,"dragstart",re=>re.preventDefault(),E).add(se,"touchmove",()=>{},E).add(se,"touchend",()=>{}).add(se,"touchstart",Y).add(se,"mousedown",Y).add(se,"touchcancel",X).add(se,"contextmenu",X).add(se,"click",Q,!0)}function W(){A.clear(),T.clear()}function G(){const ee=j?n:e;T.add(ee,"touchmove",U,E).add(ee,"touchend",X).add(ee,"mousemove",U,E).add(ee,"mouseup",X)}function K(ee){const Y=ee.nodeName||"";return w.includes(Y)}function ie(){return(v?O:N)[j?"mouse":"touch"]}function le(ee,Y){const se=d.add(f5(ee)*-1),re=f.byDistance(ee,!v).distance;return v||Tr(ee)<P?re:m&&Y?re*.5:f.byIndex(se.get(),0).distance}function J(ee){const Y=lL(ee,r);j=Y,R=v&&Y&&!ee.buttons&&D,D=l_(i.get(),o.get())>=2,!(Y&&ee.button!==0)&&(K(ee.target)||(z=!0,s.pointerDown(ee),c.useFriction(0).useDuration(0),i.set(o),G(),F=s.readPoint(ee),$=s.readPoint(ee,_),h.emit("pointerDown")))}function U(ee){if(!lL(ee,r)&&ee.touches.length>=2)return X(ee);const se=s.readPoint(ee),re=s.readPoint(ee,_),me=l_(se,F),he=l_(re,$);if(!H&&!j&&(!ee.cancelable||(H=me>he,!H)))return X(ee);const Ae=s.pointerMove(ee);me>x&&(R=!0),c.useFriction(.3).useDuration(.75),a.start(),i.add(b(Ae)),ee.preventDefault()}function X(ee){const se=f.byDistance(0,!1).index!==d.get(),re=s.pointerUp(ee)*ie(),me=le(b(re),se),he=Uke(re,me),Ae=I-10*he,Se=p+he/50;H=!1,z=!1,T.clear(),c.useDuration(Ae).useFriction(Se),l.distance(me,!v),j=!1,h.emit("pointerUp")}function Q(ee){R&&(ee.stopPropagation(),ee.preventDefault(),R=!1)}function te(){return z}return{init:B,destroy:W,pointerDown:te}}function Gke(t,e){let r,i;function s(d){return d.timeStamp}function o(d,h){const v=`client${(h||t.scroll)==="x"?"X":"Y"}`;return(lL(d,e)?d:d.touches[0])[v]}function a(d){return r=d,i=d,o(d)}function l(d){const h=o(d)-o(i),g=s(d)-s(r)>170;return i=d,g&&(r=d),h}function c(d){if(!r||!i)return 0;const h=o(i)-o(r),g=s(d)-s(r),v=s(d)-s(i)>170,x=h/g;return g&&!v&&Tr(x)>.1?x:0}return{pointerDown:a,pointerMove:l,pointerUp:c,readPoint:o}}function qke(){function t(n){const{offsetTop:r,offsetLeft:i,offsetWidth:s,offsetHeight:o}=n;return{top:r,right:i+s,bottom:r+o,left:i,width:s,height:o}}return{measure:t}}function Kke(t){function e(r){return t*(r/100)}return{measure:e}}function Xke(t,e,n,r,i,s,o){const a=[t].concat(r);let l,c,f=[],d=!1;function h(m){return i.measureSize(o.measure(m))}function g(m){if(!s)return;c=h(t),f=r.map(h);function p(y){for(const _ of y){if(d)return;const b=_.target===t,w=r.indexOf(_.target),E=b?c:f[w],A=h(b?t:r[w]);if(Tr(A-E)>=.5){m.reInit(),e.emit("resize");break}}}l=new ResizeObserver(y=>{(GP(s)||s(m,y))&&p(y)}),n.requestAnimationFrame(()=>{a.forEach(y=>l.observe(y))})}function v(){d=!0,l&&l.disconnect()}return{init:g,destroy:v}}function Yke(t,e,n,r,i,s){let o=0,a=0,l=i,c=s,f=t.get(),d=0;function h(){const E=r.get()-t.get(),A=!l;let T=0;return A?(o=0,n.set(r),t.set(r),T=E):(n.set(t),o+=E/l,o*=c,f+=o,t.add(o),T=f-d),a=f5(T),d=f,w}function g(){const E=r.get()-e.get();return Tr(E)<.001}function v(){return l}function x(){return a}function m(){return o}function p(){return _(i)}function y(){return b(s)}function _(E){return l=E,w}function b(E){return c=E,w}const w={direction:x,duration:v,velocity:m,seek:h,settled:g,useBaseFriction:y,useBaseDuration:p,useFriction:b,useDuration:_};return w}function Zke(t,e,n,r,i){const s=i.measure(10),o=i.measure(50),a=fp(.1,.99);let l=!1;function c(){return!(l||!t.reachedAny(n.get())||!t.reachedAny(e.get()))}function f(g){if(!c())return;const v=t.reachedMin(e.get())?"min":"max",x=Tr(t[v]-e.get()),m=n.get()-e.get(),p=a.constrain(x/o);n.subtract(m*p),!g&&Tr(m)<s&&(n.set(t.constrain(n.get())),r.useDuration(25).useBaseFriction())}function d(g){l=!g}return{shouldConstrain:c,constrain:f,toggleActive:d}}function Qke(t,e,n,r,i){const s=fp(-e+t,0),o=d(),a=f(),l=h();function c(v,x){return l_(v,x)<=1}function f(){const v=o[0],x=tl(o),m=o.lastIndexOf(v),p=o.indexOf(x)+1;return fp(m,p)}function d(){return n.map((v,x)=>{const{min:m,max:p}=s,y=s.constrain(v),_=!x,b=h5(n,x);return _?p:b||c(m,y)?m:c(p,y)?p:y}).map(v=>parseFloat(v.toFixed(3)))}function h(){if(e<=t+i)return[s.max];if(r==="keepSnaps")return o;const{min:v,max:x}=a;return o.slice(v,x)}return{snapsContained:l,scrollContainLimit:a}}function Jke(t,e,n){const r=e[0],i=n?r-t:tl(e);return{limit:fp(i,r)}}function eOe(t,e,n,r){const s=e.min+.1,o=e.max+.1,{reachedMin:a,reachedMax:l}=fp(s,o);function c(h){return h===1?l(n.get()):h===-1?a(n.get()):!1}function f(h){if(!c(h))return;const g=t*(h*-1);r.forEach(v=>v.add(g))}return{loop:f}}function tOe(t){const{max:e,length:n}=t;function r(s){const o=s-e;return n?o/-n:0}return{get:r}}function nOe(t,e,n,r,i){const{startEdge:s,endEdge:o}=t,{groupSlides:a}=i,l=d().map(e.measure),c=h(),f=g();function d(){return a(r).map(x=>tl(x)[o]-x[0][s]).map(Tr)}function h(){return r.map(x=>n[s]-x[s]).map(x=>-Tr(x))}function g(){return a(c).map(x=>x[0]).map((x,m)=>x+l[m])}return{snaps:c,snapsAligned:f}}function rOe(t,e,n,r,i,s){const{groupSlides:o}=i,{min:a,max:l}=r,c=f();function f(){const h=o(s),g=!t||e==="keepSnaps";return n.length===1?[s]:g?h:h.slice(a,l).map((v,x,m)=>{const p=!x,y=h5(m,x);if(p){const _=tl(m[0])+1;return KW(_)}if(y){const _=zw(s)-tl(m)[0]+1;return KW(_,tl(m)[0])}return v})}return{slideRegistry:c}}function iOe(t,e,n,r,i){const{reachedAny:s,removeOffset:o,constrain:a}=r;function l(v){return v.concat().sort((x,m)=>Tr(x)-Tr(m))[0]}function c(v){const x=t?o(v):a(v),m=e.map((y,_)=>({diff:f(y-x,0),index:_})).sort((y,_)=>Tr(y.diff)-Tr(_.diff)),{index:p}=m[0];return{index:p,distance:x}}function f(v,x){const m=[v,v+n,v-n];if(!t)return v;if(!x)return l(m);const p=m.filter(y=>f5(y)===x);return p.length?l(p):tl(m)-n}function d(v,x){const m=e[v]-i.get(),p=f(m,x);return{index:v,distance:p}}function h(v,x){const m=i.get()+v,{index:p,distance:y}=c(m),_=!t&&s(m);if(!x||_)return{index:p,distance:v};const b=e[p]-y,w=v+f(b,0);return{index:p,distance:w}}return{byDistance:h,byIndex:d,shortcut:f}}function sOe(t,e,n,r,i,s,o){function a(d){const h=d.distance,g=d.index!==e.get();s.add(h),h&&(r.duration()?t.start():(t.update(),t.render(1),t.update())),g&&(n.set(e.get()),e.set(d.index),o.emit("select"))}function l(d,h){const g=i.byDistance(d,h);a(g)}function c(d,h){const g=e.clone().set(d),v=i.byIndex(g.get(),h);a(v)}return{distance:l,index:c}}function oOe(t,e,n,r,i,s,o,a){const l={passive:!0,capture:!0};let c=0;function f(g){if(!a)return;function v(x){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),t.scrollLeft=0;const y=n.findIndex(_=>_.includes(x));d5(y)&&(i.useDuration(0),r.index(y,0),o.emit("slideFocus"))}s.add(document,"keydown",d,!1),e.forEach((x,m)=>{s.add(x,"focus",p=>{(GP(a)||a(g,p))&&v(m)},l)})}function d(g){g.code==="Tab"&&(c=new Date().getTime())}return{init:f}}function L0(t){let e=t;function n(){return e}function r(l){e=o(l)}function i(l){e+=o(l)}function s(l){e-=o(l)}function o(l){return d5(l)?l:l.get()}return{get:n,set:r,add:i,subtract:s}}function gie(t,e){const n=t.scroll==="x"?o:a,r=e.style;let i=null,s=!1;function o(h){return`translate3d(${h}px,0px,0px)`}function a(h){return`translate3d(0px,${h}px,0px)`}function l(h){if(s)return;const g=$ke(t.direction(h));g!==i&&(r.transform=n(g),i=g)}function c(h){s=!h}function f(){s||(r.transform="",e.getAttribute("style")||e.removeAttribute("style"))}return{clear:f,to:l,toggleActive:c}}function aOe(t,e,n,r,i,s,o,a,l){const f=nb(i),d=nb(i).reverse(),h=p().concat(y());function g(A,T){return A.reduce((P,N)=>P-i[N],T)}function v(A,T){return A.reduce((P,N)=>g(P,T)>0?P.concat([N]):P,[])}function x(A){return s.map((T,P)=>({start:T-r[P]+.5+A,end:T+e-.5+A}))}function m(A,T,P){const N=x(T);return A.map(O=>{const I=P?0:-n,D=P?n:0,F=P?"end":"start",$=N[O][F];return{index:O,loopPoint:$,slideLocation:L0(-1),translate:gie(t,l[O]),target:()=>a.get()>$?I:D}})}function p(){const A=o[0],T=v(d,A);return m(T,n,!1)}function y(){const A=e-o[0]-1,T=v(f,A);return m(T,-n,!0)}function _(){return h.every(({index:A})=>{const T=f.filter(P=>P!==A);return g(T,e)<=.1})}function b(){h.forEach(A=>{const{target:T,translate:P,slideLocation:N}=A,O=T();O!==N.get()&&(P.to(O),N.set(O))})}function w(){h.forEach(A=>A.translate.clear())}return{canLoop:_,clear:w,loop:b,loopPoints:h}}function lOe(t,e,n){let r,i=!1;function s(l){if(!n)return;function c(f){for(const d of f)if(d.type==="childList"){l.reInit(),e.emit("slidesChanged");break}}r=new MutationObserver(f=>{i||(GP(n)||n(l,f))&&c(f)}),r.observe(t,{childList:!0})}function o(){r&&r.disconnect(),i=!0}return{init:s,destroy:o}}function cOe(t,e,n,r){const i={};let s=null,o=null,a,l=!1;function c(){a=new IntersectionObserver(v=>{l||(v.forEach(x=>{const m=e.indexOf(x.target);i[m]=x}),s=null,o=null,n.emit("slidesInView"))},{root:t.parentElement,threshold:r}),e.forEach(v=>a.observe(v))}function f(){a&&a.disconnect(),l=!0}function d(v){return rb(i).reduce((x,m)=>{const p=parseInt(m),{isIntersecting:y}=i[p];return(v&&y||!v&&!y)&&x.push(p),x},[])}function h(v=!0){if(v&&s)return s;if(!v&&o)return o;const x=d(v);return v&&(s=x),v||(o=x),x}return{init:c,destroy:f,get:h}}function uOe(t,e,n,r,i,s){const{measureSize:o,startEdge:a,endEdge:l}=t,c=n[0]&&i,f=v(),d=x(),h=n.map(o),g=m();function v(){if(!c)return 0;const y=n[0];return Tr(e[a]-y[a])}function x(){if(!c)return 0;const y=s.getComputedStyle(tl(r));return parseFloat(y.getPropertyValue(`margin-${l}`))}function m(){return n.map((y,_,b)=>{const w=!_,E=h5(b,_);return w?h[_]+f:E?h[_]+d:b[_+1][a]-y[a]}).map(Tr)}return{slideSizes:h,slideSizesWithGaps:g,startGap:f,endGap:d}}function dOe(t,e,n,r,i,s,o,a,l){const{startEdge:c,endEdge:f,direction:d}=t,h=d5(n);function g(p,y){return nb(p).filter(_=>_%y===0).map(_=>p.slice(_,_+y))}function v(p){return p.length?nb(p).reduce((y,_,b)=>{const w=tl(y)||0,E=w===0,A=_===zw(p),T=i[c]-s[w][c],P=i[c]-s[_][f],N=!r&&E?d(o):0,O=!r&&A?d(a):0,I=Tr(P-O-(T+N));return b&&I>e+l&&y.push(_),A&&y.push(p.length),y},[]).map((y,_,b)=>{const w=Math.max(b[_-1]||0);return p.slice(w,y)}):[]}function x(p){return h?g(p,n):v(p)}return{groupSlides:x}}function fOe(t,e,n,r,i,s,o){const{align:a,axis:l,direction:c,startIndex:f,loop:d,duration:h,dragFree:g,dragThreshold:v,inViewThreshold:x,slidesToScroll:m,skipSnaps:p,containScroll:y,watchResize:_,watchSlides:b,watchDrag:w,watchFocus:E}=s,A=2,T=qke(),P=T.measure(e),N=n.map(T.measure),O=Vke(l,c),I=O.measureSize(P),D=Kke(I),F=zke(a,I),$=!d&&!!y,z=d||!!y,{slideSizes:H,slideSizesWithGaps:R,startGap:j,endGap:B}=uOe(O,P,N,n,z,i),W=dOe(O,I,m,d,P,N,j,B,A),{snaps:G,snapsAligned:K}=nOe(O,F,P,N,W),ie=-tl(G)+tl(R),{snapsContained:le,scrollContainLimit:J}=Qke(I,ie,K,y,A),U=$?le:K,{limit:X}=Jke(ie,U,d),Q=mie(zw(U),f,d),te=Q.clone(),ue=nb(n),ee=({dragHandler:We,scrollBody:lt,scrollBounds:Ye,options:{loop:Ve}})=>{Ve||Ye.constrain(We.pointerDown()),lt.seek()},Y=({scrollBody:We,translate:lt,location:Ye,offsetLocation:Ve,previousLocation:at,scrollLooper:Tt,slideLooper:pe,dragHandler:Me,animation:Je,eventHandler:de,scrollBounds:ke,options:{loop:$e}},Ge)=>{const ze=We.settled(),Le=!ke.shouldConstrain(),et=$e?ze:ze&&Le,vt=et&&!Me.pointerDown();vt&&Je.stop();const zt=Ye.get()*Ge+at.get()*(1-Ge);Ve.set(zt),$e&&(Tt.loop(We.direction()),pe.loop()),lt.to(Ve.get()),vt&&de.emit("settle"),et||de.emit("scroll")},se=Hke(r,i,()=>ee(ct),We=>Y(ct,We)),re=.68,me=U[Q.get()],he=L0(me),Ae=L0(me),Se=L0(me),Re=L0(me),ot=Yke(he,Se,Ae,Re,h,re),rt=iOe(d,U,ie,X,Re),oe=sOe(se,Q,te,ot,rt,Re,o),Z=tOe(X),ve=ib(),Ee=cOe(e,n,o,x),{slideRegistry:je}=rOe($,y,U,J,W,ue),Te=oOe(t,n,je,oe,ot,ve,o,E),ct={ownerDocument:r,ownerWindow:i,eventHandler:o,containerRect:P,slideRects:N,animation:se,axis:O,dragHandler:Wke(O,t,r,i,Re,Gke(O,i),he,se,oe,ot,rt,Q,o,D,g,v,p,re,w),eventStore:ve,percentOfView:D,index:Q,indexPrevious:te,limit:X,location:he,offsetLocation:Se,previousLocation:Ae,options:s,resizeHandler:Xke(e,o,i,n,O,_,T),scrollBody:ot,scrollBounds:Zke(X,Se,Re,ot,D),scrollLooper:eOe(ie,X,Se,[he,Se,Ae,Re]),scrollProgress:Z,scrollSnapList:U.map(Z.get),scrollSnaps:U,scrollTarget:rt,scrollTo:oe,slideLooper:aOe(O,I,ie,H,R,G,U,Se,n),slideFocus:Te,slidesHandler:lOe(e,o,b),slidesInView:Ee,slideIndexes:ue,slideRegistry:je,slidesToScroll:W,target:Re,translate:gie(O,e)};return ct}function hOe(){let t={},e;function n(c){e=c}function r(c){return t[c]||[]}function i(c){return r(c).forEach(f=>f(e,c)),l}function s(c,f){return t[c]=r(c).concat([f]),l}function o(c,f){return t[c]=r(c).filter(d=>d!==f),l}function a(){t={}}const l={init:n,emit:i,off:o,on:s,clear:a};return l}const pOe={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function mOe(t){function e(s,o){return pie(s,o||{})}function n(s){const o=s.breakpoints||{},a=rb(o).filter(l=>t.matchMedia(l).matches).map(l=>o[l]).reduce((l,c)=>e(l,c),{});return e(s,a)}function r(s){return s.map(o=>rb(o.breakpoints||{})).reduce((o,a)=>o.concat(a),[]).map(t.matchMedia)}return{mergeOptions:e,optionsAtMedia:n,optionsMediaQueries:r}}function gOe(t){let e=[];function n(s,o){return e=o.filter(({options:a})=>t.optionsAtMedia(a).active!==!1),e.forEach(a=>a.init(s,t)),o.reduce((a,l)=>Object.assign(a,{[l.name]:l}),{})}function r(){e=e.filter(s=>s.destroy())}return{init:n,destroy:r}}function GM(t,e,n){const r=t.ownerDocument,i=r.defaultView,s=mOe(i),o=gOe(s),a=ib(),l=hOe(),{mergeOptions:c,optionsAtMedia:f,optionsMediaQueries:d}=s,{on:h,off:g,emit:v}=l,x=O;let m=!1,p,y=c(pOe,GM.globalOptions),_=c(y),b=[],w,E,A;function T(){const{container:ue,slides:ee}=_;E=(aL(ue)?t.querySelector(ue):ue)||t.children[0];const se=aL(ee)?E.querySelectorAll(ee):ee;A=[].slice.call(se||E.children)}function P(ue){const ee=fOe(t,E,A,r,i,ue,l);if(ue.loop&&!ee.slideLooper.canLoop()){const Y=Object.assign({},ue,{loop:!1});return P(Y)}return ee}function N(ue,ee){m||(y=c(y,ue),_=f(y),b=ee||b,T(),p=P(_),d([y,...b.map(({options:Y})=>Y)]).forEach(Y=>a.add(Y,"change",O)),_.active&&(p.translate.to(p.location.get()),p.animation.init(),p.slidesInView.init(),p.slideFocus.init(te),p.eventHandler.init(te),p.resizeHandler.init(te),p.slidesHandler.init(te),p.options.loop&&p.slideLooper.loop(),E.offsetParent&&A.length&&p.dragHandler.init(te),w=o.init(te,b)))}function O(ue,ee){const Y=W();I(),N(c({startIndex:Y},ue),ee),l.emit("reInit")}function I(){p.dragHandler.destroy(),p.eventStore.clear(),p.translate.clear(),p.slideLooper.clear(),p.resizeHandler.destroy(),p.slidesHandler.destroy(),p.slidesInView.destroy(),p.animation.destroy(),o.destroy(),a.clear()}function D(){m||(m=!0,a.clear(),I(),l.emit("destroy"),l.clear())}function F(ue,ee,Y){!_.active||m||(p.scrollBody.useBaseFriction().useDuration(ee===!0?0:_.duration),p.scrollTo.index(ue,Y||0))}function $(ue){const ee=p.index.add(1).get();F(ee,ue,-1)}function z(ue){const ee=p.index.add(-1).get();F(ee,ue,1)}function H(){return p.index.add(1).get()!==W()}function R(){return p.index.add(-1).get()!==W()}function j(){return p.scrollSnapList}function B(){return p.scrollProgress.get(p.offsetLocation.get())}function W(){return p.index.get()}function G(){return p.indexPrevious.get()}function K(){return p.slidesInView.get()}function ie(){return p.slidesInView.get(!1)}function le(){return w}function J(){return p}function U(){return t}function X(){return E}function Q(){return A}const te={canScrollNext:H,canScrollPrev:R,containerNode:X,internalEngine:J,destroy:D,off:g,on:h,emit:v,plugins:le,previousScrollSnap:G,reInit:x,rootNode:U,scrollNext:$,scrollPrev:z,scrollProgress:B,scrollSnapList:j,scrollTo:F,selectedScrollSnap:W,slideNodes:Q,slidesInView:K,slidesNotInView:ie};return N(e,n),setTimeout(()=>l.emit("init"),0),te}GM.globalOptions=void 0;function p5(t={},e=[]){const n=M.useRef(t),r=M.useRef(e),[i,s]=M.useState(),[o,a]=M.useState(),l=M.useCallback(()=>{i&&i.reInit(n.current,r.current)},[i]);return M.useEffect(()=>{u5(n.current,t)||(n.current=t,l())},[t,l]),M.useEffect(()=>{Bke(r.current,e)||(r.current=e,l())},[e,l]),M.useEffect(()=>{if(Fke()&&o){GM.globalOptions=p5.globalOptions;const c=GM(o,n.current,r.current);return s(c),()=>c.destroy()}else s(void 0)},[o,s]),[a,i]}p5.globalOptions=void 0;const vie=M.createContext(null);function qP(){const t=M.useContext(vie);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}const vOe=M.forwardRef(({orientation:t="horizontal",opts:e,setApi:n,plugins:r,className:i,children:s,...o},a)=>{const[l,c]=p5({...e,axis:t==="horizontal"?"x":"y"},r),[f,d]=M.useState(!1),[h,g]=M.useState(!1),v=M.useCallback(y=>{y&&(d(y.canScrollPrev()),g(y.canScrollNext()))},[]),x=M.useCallback(()=>{c==null||c.scrollPrev()},[c]),m=M.useCallback(()=>{c==null||c.scrollNext()},[c]),p=M.useCallback(y=>{y.key==="ArrowLeft"?(y.preventDefault(),x()):y.key==="ArrowRight"&&(y.preventDefault(),m())},[x,m]);return M.useEffect(()=>{!c||!n||n(c)},[c,n]),M.useEffect(()=>{if(c)return v(c),c.on("reInit",v),c.on("select",v),()=>{c==null||c.off("select",v)}},[c,v]),u.jsx(vie.Provider,{value:{carouselRef:l,api:c,opts:e,orientation:t||((e==null?void 0:e.axis)==="y"?"vertical":"horizontal"),scrollPrev:x,scrollNext:m,canScrollPrev:f,canScrollNext:h},children:u.jsx("div",{ref:a,onKeyDownCapture:p,className:we("relative",i),role:"region","aria-roledescription":"carousel",...o,children:s})})});vOe.displayName="Carousel";const yOe=M.forwardRef(({className:t,...e},n)=>{const{carouselRef:r,orientation:i}=qP();return u.jsx("div",{ref:r,className:"overflow-hidden",children:u.jsx("div",{ref:n,className:we("flex",i==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...e})})});yOe.displayName="CarouselContent";const xOe=M.forwardRef(({className:t,...e},n)=>{const{orientation:r}=qP();return u.jsx("div",{ref:n,role:"group","aria-roledescription":"slide",className:we("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",t),...e})});xOe.displayName="CarouselItem";const _Oe=M.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollPrev:o,canScrollPrev:a}=qP();return u.jsxs(Ce,{ref:i,variant:e,size:n,className:we("absolute  h-8 w-8 rounded-full",s==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[u.jsx(bSe,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Previous slide"})]})});_Oe.displayName="CarouselPrevious";const bOe=M.forwardRef(({className:t,variant:e="outline",size:n="icon",...r},i)=>{const{orientation:s,scrollNext:o,canScrollNext:a}=qP();return u.jsxs(Ce,{ref:i,variant:e,size:n,className:we("absolute h-8 w-8 rounded-full",s==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!a,onClick:o,...r,children:[u.jsx(Aw,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Next slide"})]})});bOe.displayName="CarouselNext";var wOe=Array.isArray,Zs=wOe,SOe=typeof bS=="object"&&bS&&bS.Object===Object&&bS,yie=SOe,COe=yie,EOe=typeof self=="object"&&self&&self.Object===Object&&self,MOe=COe||EOe||Function("return this")(),lc=MOe,AOe=lc,TOe=AOe.Symbol,Hw=TOe,XW=Hw,xie=Object.prototype,POe=xie.hasOwnProperty,NOe=xie.toString,Zx=XW?XW.toStringTag:void 0;function ROe(t){var e=POe.call(t,Zx),n=t[Zx];try{t[Zx]=void 0;var r=!0}catch{}var i=NOe.call(t);return r&&(e?t[Zx]=n:delete t[Zx]),i}var kOe=ROe,OOe=Object.prototype,IOe=OOe.toString;function jOe(t){return IOe.call(t)}var DOe=jOe,YW=Hw,LOe=kOe,FOe=DOe,BOe="[object Null]",UOe="[object Undefined]",ZW=YW?YW.toStringTag:void 0;function $Oe(t){return t==null?t===void 0?UOe:BOe:ZW&&ZW in Object(t)?LOe(t):FOe(t)}var Nu=$Oe;function zOe(t){return t!=null&&typeof t=="object"}var Ru=zOe,HOe=Nu,VOe=Ru,WOe="[object Symbol]";function GOe(t){return typeof t=="symbol"||VOe(t)&&HOe(t)==WOe}var By=GOe,qOe=Zs,KOe=By,XOe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,YOe=/^\w*$/;function ZOe(t,e){if(qOe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||KOe(t)?!0:YOe.test(t)||!XOe.test(t)||e!=null&&t in Object(e)}var m5=ZOe;function QOe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var pf=QOe;const Uy=Sn(pf);var JOe=Nu,eIe=pf,tIe="[object AsyncFunction]",nIe="[object Function]",rIe="[object GeneratorFunction]",iIe="[object Proxy]";function sIe(t){if(!eIe(t))return!1;var e=JOe(t);return e==nIe||e==rIe||e==tIe||e==iIe}var g5=sIe;const Gt=Sn(g5);var oIe=lc,aIe=oIe["__core-js_shared__"],lIe=aIe,vO=lIe,QW=function(){var t=/[^.]+$/.exec(vO&&vO.keys&&vO.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function cIe(t){return!!QW&&QW in t}var uIe=cIe,dIe=Function.prototype,fIe=dIe.toString;function hIe(t){if(t!=null){try{return fIe.call(t)}catch{}try{return t+""}catch{}}return""}var _ie=hIe,pIe=g5,mIe=uIe,gIe=pf,vIe=_ie,yIe=/[\\^$.*+?()[\]{}|]/g,xIe=/^\[object .+?Constructor\]$/,_Ie=Function.prototype,bIe=Object.prototype,wIe=_Ie.toString,SIe=bIe.hasOwnProperty,CIe=RegExp("^"+wIe.call(SIe).replace(yIe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function EIe(t){if(!gIe(t)||mIe(t))return!1;var e=pIe(t)?CIe:xIe;return e.test(vIe(t))}var MIe=EIe;function AIe(t,e){return t==null?void 0:t[e]}var TIe=AIe,PIe=MIe,NIe=TIe;function RIe(t,e){var n=NIe(t,e);return PIe(n)?n:void 0}var Lp=RIe,kIe=Lp,OIe=kIe(Object,"create"),KP=OIe,JW=KP;function IIe(){this.__data__=JW?JW(null):{},this.size=0}var jIe=IIe;function DIe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var LIe=DIe,FIe=KP,BIe="__lodash_hash_undefined__",UIe=Object.prototype,$Ie=UIe.hasOwnProperty;function zIe(t){var e=this.__data__;if(FIe){var n=e[t];return n===BIe?void 0:n}return $Ie.call(e,t)?e[t]:void 0}var HIe=zIe,VIe=KP,WIe=Object.prototype,GIe=WIe.hasOwnProperty;function qIe(t){var e=this.__data__;return VIe?e[t]!==void 0:GIe.call(e,t)}var KIe=qIe,XIe=KP,YIe="__lodash_hash_undefined__";function ZIe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=XIe&&e===void 0?YIe:e,this}var QIe=ZIe,JIe=jIe,eje=LIe,tje=HIe,nje=KIe,rje=QIe;function $y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}$y.prototype.clear=JIe;$y.prototype.delete=eje;$y.prototype.get=tje;$y.prototype.has=nje;$y.prototype.set=rje;var ije=$y;function sje(){this.__data__=[],this.size=0}var oje=sje;function aje(t,e){return t===e||t!==t&&e!==e}var v5=aje,lje=v5;function cje(t,e){for(var n=t.length;n--;)if(lje(t[n][0],e))return n;return-1}var XP=cje,uje=XP,dje=Array.prototype,fje=dje.splice;function hje(t){var e=this.__data__,n=uje(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():fje.call(e,n,1),--this.size,!0}var pje=hje,mje=XP;function gje(t){var e=this.__data__,n=mje(e,t);return n<0?void 0:e[n][1]}var vje=gje,yje=XP;function xje(t){return yje(this.__data__,t)>-1}var _je=xje,bje=XP;function wje(t,e){var n=this.__data__,r=bje(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Sje=wje,Cje=oje,Eje=pje,Mje=vje,Aje=_je,Tje=Sje;function zy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}zy.prototype.clear=Cje;zy.prototype.delete=Eje;zy.prototype.get=Mje;zy.prototype.has=Aje;zy.prototype.set=Tje;var YP=zy,Pje=Lp,Nje=lc,Rje=Pje(Nje,"Map"),y5=Rje,eG=ije,kje=YP,Oje=y5;function Ije(){this.size=0,this.__data__={hash:new eG,map:new(Oje||kje),string:new eG}}var jje=Ije;function Dje(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Lje=Dje,Fje=Lje;function Bje(t,e){var n=t.__data__;return Fje(e)?n[typeof e=="string"?"string":"hash"]:n.map}var ZP=Bje,Uje=ZP;function $je(t){var e=Uje(this,t).delete(t);return this.size-=e?1:0,e}var zje=$je,Hje=ZP;function Vje(t){return Hje(this,t).get(t)}var Wje=Vje,Gje=ZP;function qje(t){return Gje(this,t).has(t)}var Kje=qje,Xje=ZP;function Yje(t,e){var n=Xje(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Zje=Yje,Qje=jje,Jje=zje,eDe=Wje,tDe=Kje,nDe=Zje;function Hy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Hy.prototype.clear=Qje;Hy.prototype.delete=Jje;Hy.prototype.get=eDe;Hy.prototype.has=tDe;Hy.prototype.set=nDe;var x5=Hy,bie=x5,rDe="Expected a function";function _5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(rDe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(_5.Cache||bie),n}_5.Cache=bie;var wie=_5;const iDe=Sn(wie);var sDe=wie,oDe=500;function aDe(t){var e=sDe(t,function(r){return n.size===oDe&&n.clear(),r}),n=e.cache;return e}var lDe=aDe,cDe=lDe,uDe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,dDe=/\\(\\)?/g,fDe=cDe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(uDe,function(n,r,i,s){e.push(i?s.replace(dDe,"$1"):r||n)}),e}),hDe=fDe;function pDe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var b5=pDe,tG=Hw,mDe=b5,gDe=Zs,vDe=By,yDe=1/0,nG=tG?tG.prototype:void 0,rG=nG?nG.toString:void 0;function Sie(t){if(typeof t=="string")return t;if(gDe(t))return mDe(t,Sie)+"";if(vDe(t))return rG?rG.call(t):"";var e=t+"";return e=="0"&&1/t==-yDe?"-0":e}var xDe=Sie,_De=xDe;function bDe(t){return t==null?"":_De(t)}var Cie=bDe,wDe=Zs,SDe=m5,CDe=hDe,EDe=Cie;function MDe(t,e){return wDe(t)?t:SDe(t,e)?[t]:CDe(EDe(t))}var Eie=MDe,ADe=By,TDe=1/0;function PDe(t){if(typeof t=="string"||ADe(t))return t;var e=t+"";return e=="0"&&1/t==-TDe?"-0":e}var QP=PDe,NDe=Eie,RDe=QP;function kDe(t,e){e=NDe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[RDe(e[n++])];return n&&n==r?t:void 0}var w5=kDe,ODe=w5;function IDe(t,e,n){var r=t==null?void 0:ODe(t,e);return r===void 0?n:r}var Mie=IDe;const Co=Sn(Mie);function jDe(t){return t==null}var DDe=jDe;const Jt=Sn(DDe);var LDe=Nu,FDe=Zs,BDe=Ru,UDe="[object String]";function $De(t){return typeof t=="string"||!FDe(t)&&BDe(t)&&LDe(t)==UDe}var zDe=$De;const Vw=Sn(zDe);var Aie={exports:{}},Yn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5=Symbol.for("react.element"),C5=Symbol.for("react.portal"),JP=Symbol.for("react.fragment"),e2=Symbol.for("react.strict_mode"),t2=Symbol.for("react.profiler"),n2=Symbol.for("react.provider"),r2=Symbol.for("react.context"),HDe=Symbol.for("react.server_context"),i2=Symbol.for("react.forward_ref"),s2=Symbol.for("react.suspense"),o2=Symbol.for("react.suspense_list"),a2=Symbol.for("react.memo"),l2=Symbol.for("react.lazy"),VDe=Symbol.for("react.offscreen"),Tie;Tie=Symbol.for("react.module.reference");function ga(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case S5:switch(t=t.type,t){case JP:case t2:case e2:case s2:case o2:return t;default:switch(t=t&&t.$$typeof,t){case HDe:case r2:case i2:case l2:case a2:case n2:return t;default:return e}}case C5:return e}}}Yn.ContextConsumer=r2;Yn.ContextProvider=n2;Yn.Element=S5;Yn.ForwardRef=i2;Yn.Fragment=JP;Yn.Lazy=l2;Yn.Memo=a2;Yn.Portal=C5;Yn.Profiler=t2;Yn.StrictMode=e2;Yn.Suspense=s2;Yn.SuspenseList=o2;Yn.isAsyncMode=function(){return!1};Yn.isConcurrentMode=function(){return!1};Yn.isContextConsumer=function(t){return ga(t)===r2};Yn.isContextProvider=function(t){return ga(t)===n2};Yn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===S5};Yn.isForwardRef=function(t){return ga(t)===i2};Yn.isFragment=function(t){return ga(t)===JP};Yn.isLazy=function(t){return ga(t)===l2};Yn.isMemo=function(t){return ga(t)===a2};Yn.isPortal=function(t){return ga(t)===C5};Yn.isProfiler=function(t){return ga(t)===t2};Yn.isStrictMode=function(t){return ga(t)===e2};Yn.isSuspense=function(t){return ga(t)===s2};Yn.isSuspenseList=function(t){return ga(t)===o2};Yn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===JP||t===t2||t===e2||t===s2||t===o2||t===VDe||typeof t=="object"&&t!==null&&(t.$$typeof===l2||t.$$typeof===a2||t.$$typeof===n2||t.$$typeof===r2||t.$$typeof===i2||t.$$typeof===Tie||t.getModuleId!==void 0)};Yn.typeOf=ga;Aie.exports=Yn;var WDe=Aie.exports,GDe=Nu,qDe=Ru,KDe="[object Number]";function XDe(t){return typeof t=="number"||qDe(t)&&GDe(t)==KDe}var Pie=XDe;const YDe=Sn(Pie);var ZDe=Pie;function QDe(t){return ZDe(t)&&t!=+t}var JDe=QDe;const Vy=Sn(JDe);var bs=function(e){return e===0?0:e>0?1:-1},Sh=function(e){return Vw(e)&&e.indexOf("%")===e.length-1},it=function(e){return YDe(e)&&!Vy(e)},hi=function(e){return it(e)||Vw(e)},eLe=0,Fp=function(e){var n=++eLe;return"".concat(e||"").concat(n)},ws=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!it(e)&&!Vw(e))return r;var s;if(Sh(e)){var o=e.indexOf("%");s=n*parseFloat(e.slice(0,o))/100}else s=+e;return Vy(s)&&(s=r),i&&s>n&&(s=n),s},gd=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},tLe=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},di=function(e,n){return it(e)&&it(n)?function(r){return e+r*(n-e)}:function(){return n}};function qM(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Co(r,e))===n})}function Xg(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function cL(t){"@babel/helpers - typeof";return cL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cL(t)}var nLe=["viewBox","children"],rLe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iG=["points","pathLength"],yO={svg:nLe,polygon:iG,polyline:iG},E5=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],KM=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(M.isValidElement(e)&&(r=e.props),!Uy(r))return null;var i={};return Object.keys(r).forEach(function(s){E5.includes(s)&&(i[s]=n||function(o){return r[s](r,o)})}),i},iLe=function(e,n,r){return function(i){return e(n,r,i),null}},hp=function(e,n,r){if(!Uy(e)||cL(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];E5.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=iLe(o,n,r))}),i},sLe=["children"],oLe=["children"];function sG(t,e){if(t==null)return{};var n=aLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function uL(t){"@babel/helpers - typeof";return uL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uL(t)}var oG={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},eu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},aG=null,xO=null,M5=function t(e){if(e===aG&&Array.isArray(xO))return xO;var n=[];return M.Children.forEach(e,function(r){Jt(r)||(WDe.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),xO=n,aG=e,n};function Eo(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return eu(i)}):r=[eu(e)],M5(t).forEach(function(i){var s=Co(i,"type.displayName")||Co(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function po(t,e){var n=Eo(t,e);return n&&n[0]}var lG=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!it(r)||r<=0||!it(i)||i<=0)},lLe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],cLe=function(e){return e&&e.type&&Vw(e.type)&&lLe.indexOf(e.type)>=0},Nie=function(e){return e&&uL(e)==="object"&&"clipDot"in e},uLe=function(e,n,r,i){var s,o=(s=yO==null?void 0:yO[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Gt(e)&&(i&&o.includes(n)||rLe.includes(n))||r&&E5.includes(n)},kt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(M.isValidElement(e)&&(i=e.props),!Uy(i))return null;var s={};return Object.keys(i).forEach(function(o){var a;uLe((a=i)===null||a===void 0?void 0:a[o],o,n,r)&&(s[o]=i[o])}),s},dL=function t(e,n){if(e===n)return!0;var r=M.Children.count(e);if(r!==M.Children.count(n))return!1;if(r===0)return!0;if(r===1)return cG(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],o=n[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!cG(s,o))return!1}return!0},cG=function(e,n){if(Jt(e)&&Jt(n))return!0;if(!Jt(e)&&!Jt(n)){var r=e.props||{},i=r.children,s=sG(r,sLe),o=n.props||{},a=o.children,l=sG(o,oLe);return i&&a?Xg(s,l)&&dL(i,a):!i&&!a?Xg(s,l):!1}return!1},uG=function(e,n){var r=[],i={};return M5(e).forEach(function(s,o){if(cLe(s))r.push(s);else if(s){var a=eu(s.type),l=n[a]||{},c=l.handler,f=l.once;if(c&&(!f||!i[a])){var d=c(s,a,o);r.push(d),i[a]=!0}}}),r},dLe=function(e){var n=e&&e.type;return n&&oG[n]?oG[n]:null},fLe=function(e,n){return M5(n).indexOf(e)},hLe=["children","width","height","viewBox","className","style","title","desc"];function fL(){return fL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fL.apply(this,arguments)}function pLe(t,e){if(t==null)return{};var n=mLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hL(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,o=t.style,a=t.title,l=t.desc,c=pLe(t,hLe),f=i||{width:n,height:r,x:0,y:0},d=nn("recharts-surface",s);return ne.createElement("svg",fL({},kt(c,!0,"svg"),{className:d,width:n,height:r,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),ne.createElement("title",null,a),ne.createElement("desc",null,l),e)}var gLe=["children","className"];function pL(){return pL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pL.apply(this,arguments)}function vLe(t,e){if(t==null)return{};var n=yLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function yLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var _n=ne.forwardRef(function(t,e){var n=t.children,r=t.className,i=vLe(t,gLe),s=nn("recharts-layer",r);return ne.createElement("g",pL({className:s},kt(i,!0),{ref:e}),n)}),nl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function xLe(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var _Le=xLe,bLe=_Le;function wLe(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:bLe(t,e,n)}var SLe=wLe,CLe="\\ud800-\\udfff",ELe="\\u0300-\\u036f",MLe="\\ufe20-\\ufe2f",ALe="\\u20d0-\\u20ff",TLe=ELe+MLe+ALe,PLe="\\ufe0e\\ufe0f",NLe="\\u200d",RLe=RegExp("["+NLe+CLe+TLe+PLe+"]");function kLe(t){return RLe.test(t)}var Rie=kLe;function OLe(t){return t.split("")}var ILe=OLe,kie="\\ud800-\\udfff",jLe="\\u0300-\\u036f",DLe="\\ufe20-\\ufe2f",LLe="\\u20d0-\\u20ff",FLe=jLe+DLe+LLe,BLe="\\ufe0e\\ufe0f",ULe="["+kie+"]",mL="["+FLe+"]",gL="\\ud83c[\\udffb-\\udfff]",$Le="(?:"+mL+"|"+gL+")",Oie="[^"+kie+"]",Iie="(?:\\ud83c[\\udde6-\\uddff]){2}",jie="[\\ud800-\\udbff][\\udc00-\\udfff]",zLe="\\u200d",Die=$Le+"?",Lie="["+BLe+"]?",HLe="(?:"+zLe+"(?:"+[Oie,Iie,jie].join("|")+")"+Lie+Die+")*",VLe=Lie+Die+HLe,WLe="(?:"+[Oie+mL+"?",mL,Iie,jie,ULe].join("|")+")",GLe=RegExp(gL+"(?="+gL+")|"+WLe+VLe,"g");function qLe(t){return t.match(GLe)||[]}var KLe=qLe,XLe=ILe,YLe=Rie,ZLe=KLe;function QLe(t){return YLe(t)?ZLe(t):XLe(t)}var JLe=QLe,e3e=SLe,t3e=Rie,n3e=JLe,r3e=Cie;function i3e(t){return function(e){e=r3e(e);var n=t3e(e)?n3e(e):void 0,r=n?n[0]:e.charAt(0),i=n?e3e(n,1).join(""):e.slice(1);return r[t]()+i}}var s3e=i3e,o3e=s3e,a3e=o3e("toUpperCase"),l3e=a3e;const c2=Sn(l3e);function sr(t){return function(){return t}}const Fie=Math.cos,XM=Math.sin,pl=Math.sqrt,YM=Math.PI,u2=2*YM,vL=Math.PI,yL=2*vL,ch=1e-6,c3e=yL-ch;function Bie(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function u3e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Bie;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let d3e=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Bie:u3e(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,c=i-n,f=o-e,d=a-n,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ch)if(!(Math.abs(d*l-c*f)>ch)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-o,v=i-a,x=l*l+c*c,m=g*g+v*v,p=Math.sqrt(x),y=Math.sqrt(h),_=s*Math.tan((vL-Math.acos((x+h-m)/(2*p*y)))/2),b=_/y,w=_/p;Math.abs(b-1)>ch&&this._append`L${e+b*f},${n+b*d}`,this._append`A${s},${s},0,0,${+(d*g>f*v)},${this._x1=e+w*l},${this._y1=n+w*c}`}}arc(e,n,r,i,s,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),l=r*Math.sin(i),c=e+a,f=n+l,d=1^o,h=o?i-s:s-i;this._x1===null?this._append`M${c},${f}`:(Math.abs(this._x1-c)>ch||Math.abs(this._y1-f)>ch)&&this._append`L${c},${f}`,r&&(h<0&&(h=h%yL+yL),h>c3e?this._append`A${r},${r},0,1,${d},${e-a},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=f}`:h>ch&&this._append`A${r},${r},0,${+(h>=vL)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function A5(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new d3e(e)}function T5(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Uie(t){this._context=t}Uie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function d2(t){return new Uie(t)}function $ie(t){return t[0]}function zie(t){return t[1]}function Hie(t,e){var n=sr(!0),r=null,i=d2,s=null,o=A5(a);t=typeof t=="function"?t:t===void 0?$ie:sr(t),e=typeof e=="function"?e:e===void 0?zie:sr(e);function a(l){var c,f=(l=T5(l)).length,d,h=!1,g;for(r==null&&(s=i(g=o())),c=0;c<=f;++c)!(c<f&&n(d=l[c],c,l))===h&&((h=!h)?s.lineStart():s.lineEnd()),h&&s.point(+t(d,c,l),+e(d,c,l));if(g)return s=null,g+""||null}return a.x=function(l){return arguments.length?(t=typeof l=="function"?l:sr(+l),a):t},a.y=function(l){return arguments.length?(e=typeof l=="function"?l:sr(+l),a):e},a.defined=function(l){return arguments.length?(n=typeof l=="function"?l:sr(!!l),a):n},a.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),a):i},a.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),a):r},a}function YS(t,e,n){var r=null,i=sr(!0),s=null,o=d2,a=null,l=A5(c);t=typeof t=="function"?t:t===void 0?$ie:sr(+t),e=typeof e=="function"?e:sr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?zie:sr(+n);function c(d){var h,g,v,x=(d=T5(d)).length,m,p=!1,y,_=new Array(x),b=new Array(x);for(s==null&&(a=o(y=l())),h=0;h<=x;++h){if(!(h<x&&i(m=d[h],h,d))===p)if(p=!p)g=h,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),v=h-1;v>=g;--v)a.point(_[v],b[v]);a.lineEnd(),a.areaEnd()}p&&(_[h]=+t(m,h,d),b[h]=+e(m,h,d),a.point(r?+r(m,h,d):_[h],n?+n(m,h,d):b[h]))}if(y)return a=null,y+""||null}function f(){return Hie().defined(i).curve(o).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:sr(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:sr(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:sr(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:sr(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:sr(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:sr(+d),c):n},c.lineX0=c.lineY0=function(){return f().x(t).y(e)},c.lineY1=function(){return f().x(t).y(n)},c.lineX1=function(){return f().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:sr(!!d),c):i},c.curve=function(d){return arguments.length?(o=d,s!=null&&(a=o(s)),c):o},c.context=function(d){return arguments.length?(d==null?s=a=null:a=o(s=d),c):s},c}class Vie{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function f3e(t){return new Vie(t,!0)}function h3e(t){return new Vie(t,!1)}const P5={draw(t,e){const n=pl(e/YM);t.moveTo(n,0),t.arc(0,0,n,0,u2)}},p3e={draw(t,e){const n=pl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Wie=pl(1/3),m3e=Wie*2,g3e={draw(t,e){const n=pl(e/m3e),r=n*Wie;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},v3e={draw(t,e){const n=pl(e),r=-n/2;t.rect(r,r,n,n)}},y3e=.8908130915292852,Gie=XM(YM/10)/XM(7*YM/10),x3e=XM(u2/10)*Gie,_3e=-Fie(u2/10)*Gie,b3e={draw(t,e){const n=pl(e*y3e),r=x3e*n,i=_3e*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const o=u2*s/5,a=Fie(o),l=XM(o);t.lineTo(l*n,-a*n),t.lineTo(a*r-l*i,l*r+a*i)}t.closePath()}},_O=pl(3),w3e={draw(t,e){const n=-pl(e/(_O*3));t.moveTo(0,n*2),t.lineTo(-_O*n,-n),t.lineTo(_O*n,-n),t.closePath()}},qo=-.5,Ko=pl(3)/2,xL=1/pl(12),S3e=(xL/2+1)*3,C3e={draw(t,e){const n=pl(e/S3e),r=n/2,i=n*xL,s=r,o=n*xL+n,a=-s,l=o;t.moveTo(r,i),t.lineTo(s,o),t.lineTo(a,l),t.lineTo(qo*r-Ko*i,Ko*r+qo*i),t.lineTo(qo*s-Ko*o,Ko*s+qo*o),t.lineTo(qo*a-Ko*l,Ko*a+qo*l),t.lineTo(qo*r+Ko*i,qo*i-Ko*r),t.lineTo(qo*s+Ko*o,qo*o-Ko*s),t.lineTo(qo*a+Ko*l,qo*l-Ko*a),t.closePath()}};function E3e(t,e){let n=null,r=A5(i);t=typeof t=="function"?t:sr(t||P5),e=typeof e=="function"?e:sr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:sr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:sr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function ZM(){}function QM(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function qie(t){this._context=t}qie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:QM(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:QM(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function M3e(t){return new qie(t)}function Kie(t){this._context=t}Kie.prototype={areaStart:ZM,areaEnd:ZM,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:QM(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function A3e(t){return new Kie(t)}function Xie(t){this._context=t}Xie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:QM(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function T3e(t){return new Xie(t)}function Yie(t){this._context=t}Yie.prototype={areaStart:ZM,areaEnd:ZM,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function P3e(t){return new Yie(t)}function dG(t){return t<0?-1:1}function fG(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),a=(s*i+o*r)/(r+i);return(dG(s)+dG(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(a))||0}function hG(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function bO(t,e,n){var r=t._x0,i=t._y0,s=t._x1,o=t._y1,a=(s-r)/3;t._context.bezierCurveTo(r+a,i+a*e,s-a,o-a*n,s,o)}function JM(t){this._context=t}JM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:bO(this,this._t0,hG(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,bO(this,hG(this,n=fG(this,t,e)),n);break;default:bO(this,this._t0,n=fG(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Zie(t){this._context=new Qie(t)}(Zie.prototype=Object.create(JM.prototype)).point=function(t,e){JM.prototype.point.call(this,e,t)};function Qie(t){this._context=t}Qie.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function N3e(t){return new JM(t)}function R3e(t){return new Zie(t)}function Jie(t){this._context=t}Jie.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pG(t),i=pG(e),s=0,o=1;o<n;++s,++o)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pG(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),o=new Array(n);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function k3e(t){return new Jie(t)}function f2(t,e){this._context=t,this._t=e}f2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function O3e(t){return new f2(t,.5)}function I3e(t){return new f2(t,0)}function j3e(t){return new f2(t,1)}function kv(t,e){if((o=t.length)>1)for(var n=1,r,i,s=t[e[0]],o,a=s.length;n<o;++n)for(i=s,s=t[e[n]],r=0;r<a;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function _L(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function D3e(t,e){return t[e]}function L3e(t){const e=[];return e.key=t,e}function F3e(){var t=sr([]),e=_L,n=kv,r=D3e;function i(s){var o=Array.from(t.apply(this,arguments),L3e),a,l=o.length,c=-1,f;for(const d of s)for(a=0,++c;a<l;++a)(o[a][c]=[0,+r(d,o[a].key,c,s)]).data=d;for(a=0,f=T5(e(o));a<l;++a)o[f[a]].index=a;return n(o,f),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:sr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:sr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?_L:typeof s=="function"?s:sr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??kv,i):n},i}function B3e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,o;i<s;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}kv(t,e)}}function U3e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var o=0,a=0;o<i;++o)a+=t[o][n][1]||0;r[n][1]+=r[n][0]=-a/2}kv(t,e)}}function $3e(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,o;r<s;++r){for(var a=0,l=0,c=0;a<o;++a){for(var f=t[e[a]],d=f[r][1]||0,h=f[r-1][1]||0,g=(d-h)/2,v=0;v<a;++v){var x=t[e[v]],m=x[r][1]||0,p=x[r-1][1]||0;g+=m-p}l+=d,c+=g*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,kv(t,e)}}function sb(t){"@babel/helpers - typeof";return sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sb(t)}var z3e=["type","size","sizeType"];function bL(){return bL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bL.apply(this,arguments)}function mG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mG(Object(n),!0).forEach(function(r){H3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function H3e(t,e,n){return e=V3e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V3e(t){var e=W3e(t,"string");return sb(e)=="symbol"?e:e+""}function W3e(t,e){if(sb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function G3e(t,e){if(t==null)return{};var n=q3e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q3e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ese={symbolCircle:P5,symbolCross:p3e,symbolDiamond:g3e,symbolSquare:v3e,symbolStar:b3e,symbolTriangle:w3e,symbolWye:C3e},K3e=Math.PI/180,X3e=function(e){var n="symbol".concat(c2(e));return ese[n]||P5},Y3e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*K3e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z3e=function(e,n){ese["symbol".concat(c2(e))]=n},N5=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,o=e.sizeType,a=o===void 0?"area":o,l=G3e(e,z3e),c=gG(gG({},l),{},{type:r,size:s,sizeType:a}),f=function(){var m=X3e(r),p=E3e().type(m).size(Y3e(s,a,r));return p()},d=c.className,h=c.cx,g=c.cy,v=kt(c,!0);return h===+h&&g===+g&&s===+s?ne.createElement("path",bL({},v,{className:nn("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(g,")"),d:f()})):null};N5.registerSymbol=Z3e;function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function wL(){return wL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wL.apply(this,arguments)}function vG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Q3e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vG(Object(n),!0).forEach(function(r){ob(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function eFe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nse(r.key),r)}}function tFe(t,e,n){return e&&eFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nFe(t,e,n){return e=eA(e),rFe(t,tse()?Reflect.construct(e,n||[],eA(t).constructor):e.apply(t,n))}function rFe(t,e){if(e&&(Ov(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iFe(t)}function iFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tse=function(){return!!t})()}function eA(t){return eA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eA(t)}function sFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SL(t,e)}function SL(t,e){return SL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SL(t,e)}function ob(t,e,n){return e=nse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=oFe(t,"string");return Ov(e)=="symbol"?e:e+""}function oFe(t,e){if(Ov(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ov(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Xo=32,R5=function(t){function e(){return J3e(this,e),nFe(this,e,arguments)}return sFe(e,t),tFe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Xo/2,o=Xo/6,a=Xo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Xo,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*a,",").concat(s,`
            H`).concat(Xo,"M").concat(2*a,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(a,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ne.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Xo/8,"h").concat(Xo,"v").concat(Xo*3/4,"h").concat(-Xo,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(r.legendIcon)){var c=Q3e({},r);return delete c.legendIcon,ne.cloneElement(r.legendIcon,c)}return ne.createElement(N5,{fill:l,cx:s,cy:s,size:Xo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,o=i.iconSize,a=i.layout,l=i.formatter,c=i.inactiveColor,f={x:0,y:0,width:Xo,height:Xo},d={display:a==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(g,v){var x=g.formatter||l,m=nn(ob(ob({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var p=Gt(g.value)?null:g.value;nl(!Gt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=g.inactive?c:g.color;return ne.createElement("li",wL({className:m,style:d,key:"legend-item-".concat(v)},hp(r.props,g,v)),ne.createElement(hL,{width:o,height:o,viewBox:f,style:h},r.renderIcon(g)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},x?x(p,g,v):p))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,o=r.align;if(!i||!i.length)return null;var a={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}])}(M.PureComponent);ob(R5,"displayName","Legend");ob(R5,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var aFe=YP;function lFe(){this.__data__=new aFe,this.size=0}var cFe=lFe;function uFe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var dFe=uFe;function fFe(t){return this.__data__.get(t)}var hFe=fFe;function pFe(t){return this.__data__.has(t)}var mFe=pFe,gFe=YP,vFe=y5,yFe=x5,xFe=200;function _Fe(t,e){var n=this.__data__;if(n instanceof gFe){var r=n.__data__;if(!vFe||r.length<xFe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new yFe(r)}return n.set(t,e),this.size=n.size,this}var bFe=_Fe,wFe=YP,SFe=cFe,CFe=dFe,EFe=hFe,MFe=mFe,AFe=bFe;function Wy(t){var e=this.__data__=new wFe(t);this.size=e.size}Wy.prototype.clear=SFe;Wy.prototype.delete=CFe;Wy.prototype.get=EFe;Wy.prototype.has=MFe;Wy.prototype.set=AFe;var rse=Wy,TFe="__lodash_hash_undefined__";function PFe(t){return this.__data__.set(t,TFe),this}var NFe=PFe;function RFe(t){return this.__data__.has(t)}var kFe=RFe,OFe=x5,IFe=NFe,jFe=kFe;function tA(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new OFe;++e<n;)this.add(t[e])}tA.prototype.add=tA.prototype.push=IFe;tA.prototype.has=jFe;var ise=tA;function DFe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var sse=DFe;function LFe(t,e){return t.has(e)}var ose=LFe,FFe=ise,BFe=sse,UFe=ose,$Fe=1,zFe=2;function HFe(t,e,n,r,i,s){var o=n&$Fe,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(t),f=s.get(e);if(c&&f)return c==e&&f==t;var d=-1,h=!0,g=n&zFe?new FFe:void 0;for(s.set(t,e),s.set(e,t);++d<a;){var v=t[d],x=e[d];if(r)var m=o?r(x,v,d,e,t,s):r(v,x,d,t,e,s);if(m!==void 0){if(m)continue;h=!1;break}if(g){if(!BFe(e,function(p,y){if(!UFe(g,y)&&(v===p||i(v,p,n,r,s)))return g.push(y)})){h=!1;break}}else if(!(v===x||i(v,x,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var ase=HFe,VFe=lc,WFe=VFe.Uint8Array,GFe=WFe;function qFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var KFe=qFe;function XFe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var k5=XFe,yG=Hw,xG=GFe,YFe=v5,ZFe=ase,QFe=KFe,JFe=k5,e4e=1,t4e=2,n4e="[object Boolean]",r4e="[object Date]",i4e="[object Error]",s4e="[object Map]",o4e="[object Number]",a4e="[object RegExp]",l4e="[object Set]",c4e="[object String]",u4e="[object Symbol]",d4e="[object ArrayBuffer]",f4e="[object DataView]",_G=yG?yG.prototype:void 0,wO=_G?_G.valueOf:void 0;function h4e(t,e,n,r,i,s,o){switch(n){case f4e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case d4e:return!(t.byteLength!=e.byteLength||!s(new xG(t),new xG(e)));case n4e:case r4e:case o4e:return YFe(+t,+e);case i4e:return t.name==e.name&&t.message==e.message;case a4e:case c4e:return t==e+"";case s4e:var a=QFe;case l4e:var l=r&e4e;if(a||(a=JFe),t.size!=e.size&&!l)return!1;var c=o.get(t);if(c)return c==e;r|=t4e,o.set(t,e);var f=ZFe(a(t),a(e),r,i,s,o);return o.delete(t),f;case u4e:if(wO)return wO.call(t)==wO.call(e)}return!1}var p4e=h4e;function m4e(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var lse=m4e,g4e=lse,v4e=Zs;function y4e(t,e,n){var r=e(t);return v4e(t)?r:g4e(r,n(t))}var x4e=y4e;function _4e(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var b4e=_4e;function w4e(){return[]}var S4e=w4e,C4e=b4e,E4e=S4e,M4e=Object.prototype,A4e=M4e.propertyIsEnumerable,bG=Object.getOwnPropertySymbols,T4e=bG?function(t){return t==null?[]:(t=Object(t),C4e(bG(t),function(e){return A4e.call(t,e)}))}:E4e,P4e=T4e;function N4e(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var R4e=N4e,k4e=Nu,O4e=Ru,I4e="[object Arguments]";function j4e(t){return O4e(t)&&k4e(t)==I4e}var D4e=j4e,wG=D4e,L4e=Ru,cse=Object.prototype,F4e=cse.hasOwnProperty,B4e=cse.propertyIsEnumerable,U4e=wG(function(){return arguments}())?wG:function(t){return L4e(t)&&F4e.call(t,"callee")&&!B4e.call(t,"callee")},O5=U4e,nA={exports:{}};function $4e(){return!1}var z4e=$4e;nA.exports;(function(t,e){var n=lc,r=z4e,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;t.exports=c})(nA,nA.exports);var use=nA.exports,H4e=9007199254740991,V4e=/^(?:0|[1-9]\d*)$/;function W4e(t,e){var n=typeof t;return e=e??H4e,!!e&&(n=="number"||n!="symbol"&&V4e.test(t))&&t>-1&&t%1==0&&t<e}var I5=W4e,G4e=9007199254740991;function q4e(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=G4e}var j5=q4e,K4e=Nu,X4e=j5,Y4e=Ru,Z4e="[object Arguments]",Q4e="[object Array]",J4e="[object Boolean]",eBe="[object Date]",tBe="[object Error]",nBe="[object Function]",rBe="[object Map]",iBe="[object Number]",sBe="[object Object]",oBe="[object RegExp]",aBe="[object Set]",lBe="[object String]",cBe="[object WeakMap]",uBe="[object ArrayBuffer]",dBe="[object DataView]",fBe="[object Float32Array]",hBe="[object Float64Array]",pBe="[object Int8Array]",mBe="[object Int16Array]",gBe="[object Int32Array]",vBe="[object Uint8Array]",yBe="[object Uint8ClampedArray]",xBe="[object Uint16Array]",_Be="[object Uint32Array]",fr={};fr[fBe]=fr[hBe]=fr[pBe]=fr[mBe]=fr[gBe]=fr[vBe]=fr[yBe]=fr[xBe]=fr[_Be]=!0;fr[Z4e]=fr[Q4e]=fr[uBe]=fr[J4e]=fr[dBe]=fr[eBe]=fr[tBe]=fr[nBe]=fr[rBe]=fr[iBe]=fr[sBe]=fr[oBe]=fr[aBe]=fr[lBe]=fr[cBe]=!1;function bBe(t){return Y4e(t)&&X4e(t.length)&&!!fr[K4e(t)]}var wBe=bBe;function SBe(t){return function(e){return t(e)}}var dse=SBe,rA={exports:{}};rA.exports;(function(t,e){var n=yie,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(rA,rA.exports);var CBe=rA.exports,EBe=wBe,MBe=dse,SG=CBe,CG=SG&&SG.isTypedArray,ABe=CG?MBe(CG):EBe,fse=ABe,TBe=R4e,PBe=O5,NBe=Zs,RBe=use,kBe=I5,OBe=fse,IBe=Object.prototype,jBe=IBe.hasOwnProperty;function DBe(t,e){var n=NBe(t),r=!n&&PBe(t),i=!n&&!r&&RBe(t),s=!n&&!r&&!i&&OBe(t),o=n||r||i||s,a=o?TBe(t.length,String):[],l=a.length;for(var c in t)(e||jBe.call(t,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||kBe(c,l)))&&a.push(c);return a}var LBe=DBe,FBe=Object.prototype;function BBe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||FBe;return t===n}var UBe=BBe;function $Be(t,e){return function(n){return t(e(n))}}var hse=$Be,zBe=hse,HBe=zBe(Object.keys,Object),VBe=HBe,WBe=UBe,GBe=VBe,qBe=Object.prototype,KBe=qBe.hasOwnProperty;function XBe(t){if(!WBe(t))return GBe(t);var e=[];for(var n in Object(t))KBe.call(t,n)&&n!="constructor"&&e.push(n);return e}var YBe=XBe,ZBe=g5,QBe=j5;function JBe(t){return t!=null&&QBe(t.length)&&!ZBe(t)}var Ww=JBe,e5e=LBe,t5e=YBe,n5e=Ww;function r5e(t){return n5e(t)?e5e(t):t5e(t)}var h2=r5e,i5e=x4e,s5e=P4e,o5e=h2;function a5e(t){return i5e(t,o5e,s5e)}var l5e=a5e,EG=l5e,c5e=1,u5e=Object.prototype,d5e=u5e.hasOwnProperty;function f5e(t,e,n,r,i,s){var o=n&c5e,a=EG(t),l=a.length,c=EG(e),f=c.length;if(l!=f&&!o)return!1;for(var d=l;d--;){var h=a[d];if(!(o?h in e:d5e.call(e,h)))return!1}var g=s.get(t),v=s.get(e);if(g&&v)return g==e&&v==t;var x=!0;s.set(t,e),s.set(e,t);for(var m=o;++d<l;){h=a[d];var p=t[h],y=e[h];if(r)var _=o?r(y,p,h,e,t,s):r(p,y,h,t,e,s);if(!(_===void 0?p===y||i(p,y,n,r,s):_)){x=!1;break}m||(m=h=="constructor")}if(x&&!m){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(x=!1)}return s.delete(t),s.delete(e),x}var h5e=f5e,p5e=Lp,m5e=lc,g5e=p5e(m5e,"DataView"),v5e=g5e,y5e=Lp,x5e=lc,_5e=y5e(x5e,"Promise"),b5e=_5e,w5e=Lp,S5e=lc,C5e=w5e(S5e,"Set"),pse=C5e,E5e=Lp,M5e=lc,A5e=E5e(M5e,"WeakMap"),T5e=A5e,CL=v5e,EL=y5,ML=b5e,AL=pse,TL=T5e,mse=Nu,Gy=_ie,MG="[object Map]",P5e="[object Object]",AG="[object Promise]",TG="[object Set]",PG="[object WeakMap]",NG="[object DataView]",N5e=Gy(CL),R5e=Gy(EL),k5e=Gy(ML),O5e=Gy(AL),I5e=Gy(TL),uh=mse;(CL&&uh(new CL(new ArrayBuffer(1)))!=NG||EL&&uh(new EL)!=MG||ML&&uh(ML.resolve())!=AG||AL&&uh(new AL)!=TG||TL&&uh(new TL)!=PG)&&(uh=function(t){var e=mse(t),n=e==P5e?t.constructor:void 0,r=n?Gy(n):"";if(r)switch(r){case N5e:return NG;case R5e:return MG;case k5e:return AG;case O5e:return TG;case I5e:return PG}return e});var j5e=uh,SO=rse,D5e=ase,L5e=p4e,F5e=h5e,RG=j5e,kG=Zs,OG=use,B5e=fse,U5e=1,IG="[object Arguments]",jG="[object Array]",ZS="[object Object]",$5e=Object.prototype,DG=$5e.hasOwnProperty;function z5e(t,e,n,r,i,s){var o=kG(t),a=kG(e),l=o?jG:RG(t),c=a?jG:RG(e);l=l==IG?ZS:l,c=c==IG?ZS:c;var f=l==ZS,d=c==ZS,h=l==c;if(h&&OG(t)){if(!OG(e))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new SO),o||B5e(t)?D5e(t,e,n,r,i,s):L5e(t,e,l,n,r,i,s);if(!(n&U5e)){var g=f&&DG.call(t,"__wrapped__"),v=d&&DG.call(e,"__wrapped__");if(g||v){var x=g?t.value():t,m=v?e.value():e;return s||(s=new SO),i(x,m,n,r,s)}}return h?(s||(s=new SO),F5e(t,e,n,r,i,s)):!1}var H5e=z5e,V5e=H5e,LG=Ru;function gse(t,e,n,r,i){return t===e?!0:t==null||e==null||!LG(t)&&!LG(e)?t!==t&&e!==e:V5e(t,e,n,r,gse,i)}var D5=gse,W5e=rse,G5e=D5,q5e=1,K5e=2;function X5e(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],c=t[l],f=a[1];if(o&&a[2]){if(c===void 0&&!(l in t))return!1}else{var d=new W5e;if(r)var h=r(c,f,l,t,e,d);if(!(h===void 0?G5e(f,c,q5e|K5e,r,d):h))return!1}}return!0}var Y5e=X5e,Z5e=pf;function Q5e(t){return t===t&&!Z5e(t)}var vse=Q5e,J5e=vse,eUe=h2;function tUe(t){for(var e=eUe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,J5e(i)]}return e}var nUe=tUe;function rUe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var yse=rUe,iUe=Y5e,sUe=nUe,oUe=yse;function aUe(t){var e=sUe(t);return e.length==1&&e[0][2]?oUe(e[0][0],e[0][1]):function(n){return n===t||iUe(n,t,e)}}var lUe=aUe;function cUe(t,e){return t!=null&&e in Object(t)}var uUe=cUe,dUe=Eie,fUe=O5,hUe=Zs,pUe=I5,mUe=j5,gUe=QP;function vUe(t,e,n){e=dUe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=gUe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&mUe(i)&&pUe(o,i)&&(hUe(t)||fUe(t)))}var yUe=vUe,xUe=uUe,_Ue=yUe;function bUe(t,e){return t!=null&&_Ue(t,e,xUe)}var wUe=bUe,SUe=D5,CUe=Mie,EUe=wUe,MUe=m5,AUe=vse,TUe=yse,PUe=QP,NUe=1,RUe=2;function kUe(t,e){return MUe(t)&&AUe(e)?TUe(PUe(t),e):function(n){var r=CUe(n,t);return r===void 0&&r===e?EUe(n,t):SUe(e,r,NUe|RUe)}}var OUe=kUe;function IUe(t){return t}var qy=IUe;function jUe(t){return function(e){return e==null?void 0:e[t]}}var DUe=jUe,LUe=w5;function FUe(t){return function(e){return LUe(e,t)}}var BUe=FUe,UUe=DUe,$Ue=BUe,zUe=m5,HUe=QP;function VUe(t){return zUe(t)?UUe(HUe(t)):$Ue(t)}var WUe=VUe,GUe=lUe,qUe=OUe,KUe=qy,XUe=Zs,YUe=WUe;function ZUe(t){return typeof t=="function"?t:t==null?KUe:typeof t=="object"?XUe(t)?qUe(t[0],t[1]):GUe(t):YUe(t)}var cc=ZUe;function QUe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var xse=QUe;function JUe(t){return t!==t}var e$e=JUe;function t$e(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var n$e=t$e,r$e=xse,i$e=e$e,s$e=n$e;function o$e(t,e,n){return e===e?s$e(t,e,n):r$e(t,i$e,n)}var a$e=o$e,l$e=a$e;function c$e(t,e){var n=t==null?0:t.length;return!!n&&l$e(t,e,0)>-1}var u$e=c$e;function d$e(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var f$e=d$e;function h$e(){}var p$e=h$e,CO=pse,m$e=p$e,g$e=k5,v$e=1/0,y$e=CO&&1/g$e(new CO([,-0]))[1]==v$e?function(t){return new CO(t)}:m$e,x$e=y$e,_$e=ise,b$e=u$e,w$e=f$e,S$e=ose,C$e=x$e,E$e=k5,M$e=200;function A$e(t,e,n){var r=-1,i=b$e,s=t.length,o=!0,a=[],l=a;if(n)o=!1,i=w$e;else if(s>=M$e){var c=e?null:C$e(t);if(c)return E$e(c);o=!1,i=S$e,l=new _$e}else l=e?[]:a;e:for(;++r<s;){var f=t[r],d=e?e(f):f;if(f=n||f!==0?f:0,o&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue e;e&&l.push(d),a.push(f)}else i(l,d,n)||(l!==a&&l.push(d),a.push(f))}return a}var T$e=A$e,P$e=cc,N$e=T$e;function R$e(t,e){return t&&t.length?N$e(t,P$e(e)):[]}var k$e=R$e;const FG=Sn(k$e);function _se(t,e,n){return e===!0?FG(t,n):Gt(e)?FG(t,e):t}function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}var O$e=["ref"];function BG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ac(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BG(Object(n),!0).forEach(function(r){p2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function I$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UG(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,wse(r.key),r)}}function j$e(t,e,n){return e&&UG(t.prototype,e),n&&UG(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function D$e(t,e,n){return e=iA(e),L$e(t,bse()?Reflect.construct(e,n||[],iA(t).constructor):e.apply(t,n))}function L$e(t,e){if(e&&(Iv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F$e(t)}function F$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bse=function(){return!!t})()}function iA(t){return iA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iA(t)}function B$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PL(t,e)}function PL(t,e){return PL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PL(t,e)}function p2(t,e,n){return e=wse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wse(t){var e=U$e(t,"string");return Iv(e)=="symbol"?e:e+""}function U$e(t,e){if(Iv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Iv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $$e(t,e){if(t==null)return{};var n=z$e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function z$e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function H$e(t){return t.value}function V$e(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var n=$$e(e,O$e);return ne.createElement(R5,n)}var $G=1,Hh=function(t){function e(){var n;I$e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=D$e(this,e,[].concat(i)),p2(n,"lastBoundingBox",{width:-1,height:-1}),n}return B$e(e,t),j$e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>$G||Math.abs(i.height-this.lastBoundingBox.height)>$G)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Ac({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,o=i.align,a=i.verticalAlign,l=i.margin,c=i.chartWidth,f=i.chartHeight,d,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&s==="vertical"){var g=this.getBBoxSnapshot();d={left:((c||0)-g.width)/2}}else d=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(a==="middle"){var v=this.getBBoxSnapshot();h={top:((f||0)-v.height)/2}}else h=a==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Ac(Ac({},d),h)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,o=i.width,a=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,f=i.payload,d=Ac(Ac({position:"absolute",width:o||"auto",height:a||"auto"},this.getDefaultPosition(l)),l);return ne.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(g){r.wrapperNode=g}},V$e(s,Ac(Ac({},this.props),{},{payload:_se(f,c,H$e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Ac(Ac({},this.defaultProps),r.props),o=s.layout;return o==="vertical"&&it(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(M.PureComponent);p2(Hh,"displayName","Legend");p2(Hh,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var zG=Hw,W$e=O5,G$e=Zs,HG=zG?zG.isConcatSpreadable:void 0;function q$e(t){return G$e(t)||W$e(t)||!!(HG&&t&&t[HG])}var K$e=q$e,X$e=lse,Y$e=K$e;function Sse(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=Y$e),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?Sse(a,e-1,n,r,i):X$e(i,a):r||(i[i.length]=a)}return i}var Cse=Sse;function Z$e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var Q$e=Z$e,J$e=Q$e,eze=J$e(),tze=eze,nze=tze,rze=h2;function ize(t,e){return t&&nze(t,e,rze)}var Ese=ize,sze=Ww;function oze(t,e){return function(n,r){if(n==null)return n;if(!sze(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var aze=oze,lze=Ese,cze=aze,uze=cze(lze),L5=uze,dze=L5,fze=Ww;function hze(t,e){var n=-1,r=fze(t)?Array(t.length):[];return dze(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var Mse=hze;function pze(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var mze=pze,VG=By;function gze(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=VG(t),o=e!==void 0,a=e===null,l=e===e,c=VG(e);if(!a&&!c&&!s&&t>e||s&&o&&l&&!a&&!c||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var vze=gze,yze=vze;function xze(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=yze(i[r],s[r]);if(l){if(r>=a)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var _ze=xze,EO=b5,bze=w5,wze=cc,Sze=Mse,Cze=mze,Eze=dse,Mze=_ze,Aze=qy,Tze=Zs;function Pze(t,e,n){e.length?e=EO(e,function(s){return Tze(s)?function(o){return bze(o,s.length===1?s[0]:s)}:s}):e=[Aze];var r=-1;e=EO(e,Eze(wze));var i=Sze(t,function(s,o,a){var l=EO(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return Cze(i,function(s,o){return Mze(s,o,n)})}var Nze=Pze;function Rze(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var kze=Rze,Oze=kze,WG=Math.max;function Ize(t,e,n){return e=WG(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=WG(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),Oze(t,this,a)}}var jze=Ize;function Dze(t){return function(){return t}}var Lze=Dze,Fze=Lp,Bze=function(){try{var t=Fze(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Ase=Bze,Uze=Lze,GG=Ase,$ze=qy,zze=GG?function(t,e){return GG(t,"toString",{configurable:!0,enumerable:!1,value:Uze(e),writable:!0})}:$ze,Hze=zze,Vze=800,Wze=16,Gze=Date.now;function qze(t){var e=0,n=0;return function(){var r=Gze(),i=Wze-(r-n);if(n=r,i>0){if(++e>=Vze)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Kze=qze,Xze=Hze,Yze=Kze,Zze=Yze(Xze),Qze=Zze,Jze=qy,eHe=jze,tHe=Qze;function nHe(t,e){return tHe(eHe(t,e,Jze),t+"")}var rHe=nHe,iHe=v5,sHe=Ww,oHe=I5,aHe=pf;function lHe(t,e,n){if(!aHe(n))return!1;var r=typeof e;return(r=="number"?sHe(n)&&oHe(e,n.length):r=="string"&&e in n)?iHe(n[e],t):!1}var m2=lHe,cHe=Cse,uHe=Nze,dHe=rHe,qG=m2,fHe=dHe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&qG(t,e[0],e[1])?e=[]:n>2&&qG(e[0],e[1],e[2])&&(e=[e[0]]),uHe(t,cHe(e,1),[])}),hHe=fHe;const F5=Sn(hHe);function ab(t){"@babel/helpers - typeof";return ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ab(t)}function NL(){return NL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NL.apply(this,arguments)}function pHe(t,e){return yHe(t)||vHe(t,e)||gHe(t,e)||mHe()}function mHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gHe(t,e){if(t){if(typeof t=="string")return KG(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KG(t,e)}}function KG(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function vHe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function yHe(t){if(Array.isArray(t))return t}function XG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XG(Object(n),!0).forEach(function(r){xHe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xHe(t,e,n){return e=_He(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _He(t){var e=bHe(t,"string");return ab(e)=="symbol"?e:e+""}function bHe(t,e){if(ab(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ab(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wHe(t){return Array.isArray(t)&&hi(t[0])&&hi(t[1])?t.join(" ~ "):t}var SHe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,a=o===void 0?{}:o,l=e.labelStyle,c=l===void 0?{}:l,f=e.payload,d=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,x=e.label,m=e.labelFormatter,p=e.accessibilityLayer,y=p===void 0?!1:p,_=function(){if(f&&f.length){var I={padding:0,margin:0},D=(h?F5(f,h):f).map(function(F,$){if(F.type==="none")return null;var z=MO({display:"block",paddingTop:4,paddingBottom:4,color:F.color||"#000"},a),H=F.formatter||d||wHe,R=F.value,j=F.name,B=R,W=j;if(H&&B!=null&&W!=null){var G=H(R,j,F,$,f);if(Array.isArray(G)){var K=pHe(G,2);B=K[0],W=K[1]}else B=G}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat($),style:z},hi(W)?ne.createElement("span",{className:"recharts-tooltip-item-name"},W):null,hi(W)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},B),ne.createElement("span",{className:"recharts-tooltip-item-unit"},F.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:I},D)}return null},b=MO({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),w=MO({margin:0},c),E=!Jt(x),A=E?x:"",T=nn("recharts-default-tooltip",g),P=nn("recharts-tooltip-label",v);E&&m&&f!==void 0&&f!==null&&(A=m(x,f));var N=y?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",NL({className:T,style:b},N),ne.createElement("p",{className:P,style:w},ne.isValidElement(A)?A:"".concat(A)),_())};function lb(t){"@babel/helpers - typeof";return lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lb(t)}function QS(t,e,n){return e=CHe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CHe(t){var e=EHe(t,"string");return lb(e)=="symbol"?e:e+""}function EHe(t,e){if(lb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qx="recharts-tooltip-wrapper",MHe={visibility:"hidden"};function AHe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return nn(Qx,QS(QS(QS(QS({},"".concat(Qx,"-right"),it(n)&&e&&it(e.x)&&n>=e.x),"".concat(Qx,"-left"),it(n)&&e&&it(e.x)&&n<e.x),"".concat(Qx,"-bottom"),it(r)&&e&&it(e.y)&&r>=e.y),"".concat(Qx,"-top"),it(r)&&e&&it(e.y)&&r<e.y))}function YG(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,a=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&it(s[r]))return s[r];var f=n[r]-a-i,d=n[r]+i;if(e[r])return o[r]?f:d;if(o[r]){var h=f,g=l[r];return h<g?Math.max(d,l[r]):Math.max(f,l[r])}var v=d+a,x=l[r]+c;return v>x?Math.max(f,l[r]):Math.max(d,l[r])}function THe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function PHe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,a=t.useTranslate3d,l=t.viewBox,c,f,d;return o.height>0&&o.width>0&&n?(f=YG({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),d=YG({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),c=THe({translateX:f,translateY:d,useTranslate3d:a})):c=MHe,{cssProperties:c,cssClasses:AHe({translateX:f,translateY:d,coordinate:n})}}function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function ZG(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function QG(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZG(Object(n),!0).forEach(function(r){kL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZG(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function NHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RHe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Pse(r.key),r)}}function kHe(t,e,n){return e&&RHe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function OHe(t,e,n){return e=sA(e),IHe(t,Tse()?Reflect.construct(e,n||[],sA(t).constructor):e.apply(t,n))}function IHe(t,e){if(e&&(jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jHe(t)}function jHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tse=function(){return!!t})()}function sA(t){return sA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sA(t)}function DHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RL(t,e)}function RL(t,e){return RL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RL(t,e)}function kL(t,e,n){return e=Pse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pse(t){var e=LHe(t,"string");return jv(e)=="symbol"?e:e+""}function LHe(t,e){if(jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JG=1,FHe=function(t){function e(){var n;NHe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=OHe(this,e,[].concat(i)),kL(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),kL(n,"handleKeyDown",function(o){if(o.key==="Escape"){var a,l,c,f;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&a!==void 0?a:0,y:(c=(f=n.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&c!==void 0?c:0}})}}),n}return DHe(e,t),kHe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>JG||Math.abs(r.height-this.state.lastBoundingBox.height)>JG)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.children,f=i.coordinate,d=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,x=i.reverseDirection,m=i.useTranslate3d,p=i.viewBox,y=i.wrapperStyle,_=PHe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:m,viewBox:p}),b=_.cssClasses,w=_.cssProperties,E=QG(QG({transition:h&&s?"transform ".concat(a,"ms ").concat(l):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return ne.createElement("div",{tabIndex:-1,className:b,style:E,ref:function(T){r.wrapperNode=T}},c)}}])}(M.PureComponent),BHe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},rl={isSsr:BHe(),get:function(e){return rl[e]},set:function(e,n){if(typeof e=="string")rl[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){rl[i]=e[i]})}}};function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function e7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function t7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(n),!0).forEach(function(r){B5(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $He(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rse(r.key),r)}}function zHe(t,e,n){return e&&$He(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HHe(t,e,n){return e=oA(e),VHe(t,Nse()?Reflect.construct(e,n||[],oA(t).constructor):e.apply(t,n))}function VHe(t,e){if(e&&(Dv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WHe(t)}function WHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nse(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nse=function(){return!!t})()}function oA(t){return oA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oA(t)}function GHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OL(t,e)}function OL(t,e){return OL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OL(t,e)}function B5(t,e,n){return e=Rse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rse(t){var e=qHe(t,"string");return Dv(e)=="symbol"?e:e+""}function qHe(t,e){if(Dv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Dv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KHe(t){return t.dataKey}function XHe(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(SHe,e)}var Mi=function(t){function e(){return UHe(this,e),HHe(this,e,arguments)}return GHe(e,t),zHe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,a=i.animationDuration,l=i.animationEasing,c=i.content,f=i.coordinate,d=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,x=i.payloadUniqBy,m=i.position,p=i.reverseDirection,y=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,w=v??[];d&&w.length&&(w=_se(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),x,KHe));var E=w.length>0;return ne.createElement(FHe,{allowEscapeViewBox:o,animationDuration:a,animationEasing:l,isAnimationActive:h,active:s,coordinate:f,hasPayload:E,offset:g,position:m,reverseDirection:p,useTranslate3d:y,viewBox:_,wrapperStyle:b},XHe(c,t7(t7({},this.props),{},{payload:w})))}}])}(M.PureComponent);B5(Mi,"displayName","Tooltip");B5(Mi,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!rl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var YHe=lc,ZHe=function(){return YHe.Date.now()},QHe=ZHe,JHe=/\s/;function e6e(t){for(var e=t.length;e--&&JHe.test(t.charAt(e)););return e}var t6e=e6e,n6e=t6e,r6e=/^\s+/;function i6e(t){return t&&t.slice(0,n6e(t)+1).replace(r6e,"")}var s6e=i6e,o6e=s6e,n7=pf,a6e=By,r7=NaN,l6e=/^[-+]0x[0-9a-f]+$/i,c6e=/^0b[01]+$/i,u6e=/^0o[0-7]+$/i,d6e=parseInt;function f6e(t){if(typeof t=="number")return t;if(a6e(t))return r7;if(n7(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=n7(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=o6e(t);var n=c6e.test(t);return n||u6e.test(t)?d6e(t.slice(2),n?2:8):l6e.test(t)?r7:+t}var kse=f6e,h6e=pf,AO=QHe,i7=kse,p6e="Expected a function",m6e=Math.max,g6e=Math.min;function v6e(t,e,n){var r,i,s,o,a,l,c=0,f=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(p6e);e=i7(e)||0,h6e(n)&&(f=!!n.leading,d="maxWait"in n,s=d?m6e(i7(n.maxWait)||0,e):s,h="trailing"in n?!!n.trailing:h);function g(E){var A=r,T=i;return r=i=void 0,c=E,o=t.apply(T,A),o}function v(E){return c=E,a=setTimeout(p,e),f?g(E):o}function x(E){var A=E-l,T=E-c,P=e-A;return d?g6e(P,s-T):P}function m(E){var A=E-l,T=E-c;return l===void 0||A>=e||A<0||d&&T>=s}function p(){var E=AO();if(m(E))return y(E);a=setTimeout(p,x(E))}function y(E){return a=void 0,h&&r?g(E):(r=i=void 0,o)}function _(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function b(){return a===void 0?o:y(AO())}function w(){var E=AO(),A=m(E);if(r=arguments,i=this,l=E,A){if(a===void 0)return v(l);if(d)return clearTimeout(a),a=setTimeout(p,e),g(l)}return a===void 0&&(a=setTimeout(p,e)),o}return w.cancel=_,w.flush=b,w}var y6e=v6e,x6e=y6e,_6e=pf,b6e="Expected a function";function w6e(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(b6e);return _6e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),x6e(t,e,{leading:r,maxWait:e,trailing:i})}var S6e=w6e;const Ose=Sn(S6e);function cb(t){"@babel/helpers - typeof";return cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cb(t)}function s7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s7(Object(n),!0).forEach(function(r){C6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function C6e(t,e,n){return e=E6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function E6e(t){var e=M6e(t,"string");return cb(e)=="symbol"?e:e+""}function M6e(t,e){if(cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A6e(t,e){return R6e(t)||N6e(t,e)||P6e(t,e)||T6e()}function T6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P6e(t,e){if(t){if(typeof t=="string")return o7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o7(t,e)}}function o7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function N6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function R6e(t){if(Array.isArray(t))return t}var Dl=M.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,o=s===void 0?"100%":s,a=t.height,l=a===void 0?"100%":a,c=t.minWidth,f=c===void 0?0:c,d=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,x=v===void 0?0:v,m=t.id,p=t.className,y=t.onResize,_=t.style,b=_===void 0?{}:_,w=M.useRef(null),E=M.useRef();E.current=y,M.useImperativeHandle(e,function(){return Object.defineProperty(w.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),w.current},configurable:!0})});var A=M.useState({containerWidth:i.width,containerHeight:i.height}),T=A6e(A,2),P=T[0],N=T[1],O=M.useCallback(function(D,F){N(function($){var z=Math.round(D),H=Math.round(F);return $.containerWidth===z&&$.containerHeight===H?$:{containerWidth:z,containerHeight:H}})},[]);M.useEffect(function(){var D=function(j){var B,W=j[0].contentRect,G=W.width,K=W.height;O(G,K),(B=E.current)===null||B===void 0||B.call(E,G,K)};x>0&&(D=Ose(D,x,{trailing:!0,leading:!1}));var F=new ResizeObserver(D),$=w.current.getBoundingClientRect(),z=$.width,H=$.height;return O(z,H),F.observe(w.current),function(){F.disconnect()}},[O,x]);var I=M.useMemo(function(){var D=P.containerWidth,F=P.containerHeight;if(D<0||F<0)return null;nl(Sh(o)||Sh(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),nl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var $=Sh(o)?D:o,z=Sh(l)?F:l;n&&n>0&&($?z=$/n:z&&($=z*n),h&&z>h&&(z=h)),nl($>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,z,o,l,f,d,n);var H=!Array.isArray(g)&&eu(g.type).endsWith("Chart");return ne.Children.map(g,function(R){return ne.isValidElement(R)?M.cloneElement(R,JS({width:$,height:z},H?{style:JS({height:"100%",width:"100%",maxHeight:z,maxWidth:$},R.props.style)}:{})):R})},[n,g,l,h,d,f,P,o]);return ne.createElement("div",{id:m?"".concat(m):void 0,className:nn("recharts-responsive-container",p),style:JS(JS({},b),{},{width:o,height:l,minWidth:f,minHeight:d,maxHeight:h}),ref:w},I)}),g2=function(e){return null};g2.displayName="Cell";function ub(t){"@babel/helpers - typeof";return ub=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ub(t)}function a7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(n),!0).forEach(function(r){k6e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function k6e(t,e,n){return e=O6e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O6e(t){var e=I6e(t,"string");return ub(e)=="symbol"?e:e+""}function I6e(t,e){if(ub(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ub(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sm={widthCache:{},cacheCount:0},j6e=2e3,D6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},l7="recharts_measurement_span";function L6e(t){var e=IL({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var c_=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||rl.isSsr)return{width:0,height:0};var r=L6e(n),i=JSON.stringify({text:e,copyStyle:r});if(Sm.widthCache[i])return Sm.widthCache[i];try{var s=document.getElementById(l7);s||(s=document.createElement("span"),s.setAttribute("id",l7),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=IL(IL({},D6e),r);Object.assign(s.style,o),s.textContent="".concat(e);var a=s.getBoundingClientRect(),l={width:a.width,height:a.height};return Sm.widthCache[i]=l,++Sm.cacheCount>j6e&&(Sm.cacheCount=0,Sm.widthCache={}),l}catch{return{width:0,height:0}}},F6e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function db(t){"@babel/helpers - typeof";return db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},db(t)}function aA(t,e){return z6e(t)||$6e(t,e)||U6e(t,e)||B6e()}function B6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U6e(t,e){if(t){if(typeof t=="string")return c7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c7(t,e)}}function c7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $6e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function z6e(t){if(Array.isArray(t))return t}function H6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u7(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W6e(r.key),r)}}function V6e(t,e,n){return e&&u7(t.prototype,e),n&&u7(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function W6e(t){var e=G6e(t,"string");return db(e)=="symbol"?e:e+""}function G6e(t,e){if(db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,f7=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,q6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,K6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Ise={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},X6e=Object.keys(Ise),wg="NaN";function Y6e(t,e){return t*Ise[e]}var eC=function(){function t(e,n){H6e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!q6e.test(n)&&(this.num=NaN,this.unit=""),X6e.includes(n)&&(this.num=Y6e(e,n),this.unit="px")}return V6e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=K6e.exec(n))!==null&&r!==void 0?r:[],s=aA(i,3),o=s[1],a=s[2];return new t(parseFloat(o),a??"")}}])}();function jse(t){if(t.includes(wg))return wg;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=d7.exec(e))!==null&&n!==void 0?n:[],i=aA(r,4),s=i[1],o=i[2],a=i[3],l=eC.parse(s??""),c=eC.parse(a??""),f=o==="*"?l.multiply(c):l.divide(c);if(f.isNaN())return wg;e=e.replace(d7,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,h=(d=f7.exec(e))!==null&&d!==void 0?d:[],g=aA(h,4),v=g[1],x=g[2],m=g[3],p=eC.parse(v??""),y=eC.parse(m??""),_=x==="+"?p.add(y):p.subtract(y);if(_.isNaN())return wg;e=e.replace(f7,_.toString())}return e}var h7=/\(([^()]*)\)/;function Z6e(t){for(var e=t;e.includes("(");){var n=h7.exec(e),r=aA(n,2),i=r[1];e=e.replace(h7,jse(i))}return e}function Q6e(t){var e=t.replace(/\s+/g,"");return e=Z6e(e),e=jse(e),e}function J6e(t){try{return Q6e(t)}catch{return wg}}function TO(t){var e=J6e(t.slice(5,-1));return e===wg?"":e}var eVe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],tVe=["dx","dy","angle","className","breakAll"];function jL(){return jL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jL.apply(this,arguments)}function p7(t,e){if(t==null)return{};var n=nVe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function nVe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m7(t,e){return oVe(t)||sVe(t,e)||iVe(t,e)||rVe()}function rVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iVe(t,e){if(t){if(typeof t=="string")return g7(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g7(t,e)}}function g7(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sVe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function oVe(t){if(Array.isArray(t))return t}var Dse=/[ \f\n\r\t\v\u2028\u2029]+/,Lse=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Jt(n)||(r?s=n.toString().split(""):s=n.toString().split(Dse));var o=s.map(function(l){return{word:l,width:c_(l,i).width}}),a=r?0:c_("",i).width;return{wordsWithComputedWidth:o,spaceWidth:a}}catch{return null}},aVe=function(e,n,r,i,s){var o=e.maxLines,a=e.children,l=e.style,c=e.breakAll,f=it(o),d=a,h=function(){var $=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return $.reduce(function(z,H){var R=H.word,j=H.width,B=z[z.length-1];if(B&&(i==null||s||B.width+j+r<Number(i)))B.words.push(R),B.width+=j+r;else{var W={words:[R],width:j};z.push(W)}return z},[])},g=h(n),v=function($){return $.reduce(function(z,H){return z.width>H.width?z:H})};if(!f)return g;for(var x="",m=function($){var z=d.slice(0,$),H=Lse({breakAll:c,style:l,children:z+x}).wordsWithComputedWidth,R=h(H),j=R.length>o||v(R).width>Number(i);return[j,R]},p=0,y=d.length-1,_=0,b;p<=y&&_<=d.length-1;){var w=Math.floor((p+y)/2),E=w-1,A=m(E),T=m7(A,2),P=T[0],N=T[1],O=m(w),I=m7(O,1),D=I[0];if(!P&&!D&&(p=w+1),P&&D&&(y=w-1),!P&&D){b=N;break}_++}return b||g},v7=function(e){var n=Jt(e)?[]:e.toString().split(Dse);return[{words:n}]},lVe=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,a=e.maxLines;if((n||r)&&!rl.isSsr){var l,c,f=Lse({breakAll:o,children:i,style:s});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;l=d,c=h}else return v7(i);return aVe({breakAll:o,children:i,maxLines:a,style:s},l,c,n,r)}return v7(i)},y7="#808080",pp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.lineHeight,a=o===void 0?"1em":o,l=e.capHeight,c=l===void 0?"0.71em":l,f=e.scaleToFit,d=f===void 0?!1:f,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,x=v===void 0?"end":v,m=e.fill,p=m===void 0?y7:m,y=p7(e,eVe),_=M.useMemo(function(){return lVe({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),b=y.dx,w=y.dy,E=y.angle,A=y.className,T=y.breakAll,P=p7(y,tVe);if(!hi(r)||!hi(s))return null;var N=r+(it(b)?b:0),O=s+(it(w)?w:0),I;switch(x){case"start":I=TO("calc(".concat(c,")"));break;case"middle":I=TO("calc(".concat((_.length-1)/2," * -").concat(a," + (").concat(c," / 2))"));break;default:I=TO("calc(".concat(_.length-1," * -").concat(a,")"));break}var D=[];if(d){var F=_[0].width,$=y.width;D.push("scale(".concat((it($)?$/F:1)/F,")"))}return E&&D.push("rotate(".concat(E,", ").concat(N,", ").concat(O,")")),D.length&&(P.transform=D.join(" ")),ne.createElement("text",jL({},kt(P,!0),{x:N,y:O,className:nn("recharts-text",A),textAnchor:g,fill:p.includes("url")?y7:p}),_.map(function(z,H){var R=z.words.join(T?"":" ");return ne.createElement("tspan",{x:N,dy:H===0?I:a,key:"".concat(R,"-").concat(H)},R)}))};function Gd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function cVe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function U5(t){let e,n,r;t.length!==2?(e=Gd,n=(a,l)=>Gd(t(a),l),r=(a,l)=>t(a)-l):(e=t===Gd||t===cVe?t:uVe,n=t,r=t);function i(a,l,c=0,f=a.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<0?c=d+1:f=d}while(c<f)}return c}function s(a,l,c=0,f=a.length){if(c<f){if(e(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function o(a,l,c=0,f=a.length){const d=i(a,l,c,f-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:o,right:s}}function uVe(){return 0}function Fse(t){return t===null?NaN:+t}function*dVe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const fVe=U5(Gd),Gw=fVe.right;U5(Fse).center;class x7 extends Map{constructor(e,n=mVe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(_7(this,e))}has(e){return super.has(_7(this,e))}set(e,n){return super.set(hVe(this,e),n)}delete(e){return super.delete(pVe(this,e))}}function _7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hVe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function pVe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function mVe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gVe(t=Gd){if(t===Gd)return Bse;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function Bse(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const vVe=Math.sqrt(50),yVe=Math.sqrt(10),xVe=Math.sqrt(2);function lA(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=vVe?10:s>=yVe?5:s>=xVe?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(t*c),l=Math.round(e*c),a/c<t&&++a,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(t/c),l=Math.round(e/c),a*c<t&&++a,l*c>e&&--l),l<a&&.5<=n&&n<2?lA(t,e,n*2):[a,l,c]}function DL(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,o]=r?lA(e,t,n):lA(t,e,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function LL(t,e,n){return e=+e,t=+t,n=+n,lA(t,e,n)[2]}function FL(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?LL(e,t,n):LL(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function b7(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function w7(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Use(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?Bse:gVe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,f=Math.log(l),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(l-d)/l)*(c-l/2<0?-1:1),g=Math.max(n,Math.floor(e-c*d/l+h)),v=Math.min(r,Math.floor(e+(l-c)*d/l+h));Use(t,e,g,v,i)}const s=t[e];let o=n,a=r;for(Jx(t,n,e),i(t[r],s)>0&&Jx(t,n,r);o<a;){for(Jx(t,o,a),++o,--a;i(t[o],s)<0;)++o;for(;i(t[a],s)>0;)--a}i(t[n],s)===0?Jx(t,n,a):(++a,Jx(t,a,r)),a<=e&&(n=a+1),e<=a&&(r=a-1)}return t}function Jx(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function _Ve(t,e,n){if(t=Float64Array.from(dVe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return w7(t);if(e>=1)return b7(t);var r,i=(r-1)*e,s=Math.floor(i),o=b7(Use(t,s).subarray(0,s+1)),a=w7(t.subarray(s+1));return o+(a-o)*(i-s)}}function bVe(t,e,n=Fse){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),o=+n(t[s],s,t),a=+n(t[s+1],s+1,t);return o+(a-o)*(i-s)}}function wVe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function va(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function ku(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const BL=Symbol("implicit");function $5(){var t=new x7,e=[],n=[],r=BL;function i(s){let o=t.get(s);if(o===void 0){if(r!==BL)return r;t.set(s,o=e.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new x7;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return $5(e,n).unknown(r)},va.apply(i,arguments),i}function fb(){var t=$5().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,o,a=!1,l=0,c=0,f=.5;delete t.unknown;function d(){var h=e().length,g=i<r,v=g?i:r,x=g?r:i;s=(x-v)/Math.max(1,h-l+c*2),a&&(s=Math.floor(s)),v+=(x-v-s*(h-l))*f,o=s*(1-l),a&&(v=Math.round(v),o=Math.round(o));var m=wVe(h).map(function(p){return v+s*p});return n(g?m.reverse():m)}return t.domain=function(h){return arguments.length?(e(h),d()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,a=!0,d()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(h){return arguments.length?(a=!!h,d()):a},t.padding=function(h){return arguments.length?(l=Math.min(1,c=+h),d()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),d()):l},t.paddingOuter=function(h){return arguments.length?(c=+h,d()):c},t.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},t.copy=function(){return fb(e(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(f)},va.apply(d(),arguments)}function $se(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return $se(e())},t}function u_(){return $se(fb.apply(null,arguments).paddingInner(1))}function z5(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function zse(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qw(){}var hb=.7,cA=1/hb,Yg="\\s*([+-]?\\d+)\\s*",pb="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ql="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",SVe=/^#([0-9a-f]{3,8})$/,CVe=new RegExp(`^rgb\\(${Yg},${Yg},${Yg}\\)$`),EVe=new RegExp(`^rgb\\(${ql},${ql},${ql}\\)$`),MVe=new RegExp(`^rgba\\(${Yg},${Yg},${Yg},${pb}\\)$`),AVe=new RegExp(`^rgba\\(${ql},${ql},${ql},${pb}\\)$`),TVe=new RegExp(`^hsl\\(${pb},${ql},${ql}\\)$`),PVe=new RegExp(`^hsla\\(${pb},${ql},${ql},${pb}\\)$`),S7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};z5(qw,mp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:C7,formatHex:C7,formatHex8:NVe,formatHsl:RVe,formatRgb:E7,toString:E7});function C7(){return this.rgb().formatHex()}function NVe(){return this.rgb().formatHex8()}function RVe(){return Hse(this).formatHsl()}function E7(){return this.rgb().formatRgb()}function mp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=SVe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?M7(e):n===3?new Ws(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?tC(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?tC(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=CVe.exec(t))?new Ws(e[1],e[2],e[3],1):(e=EVe.exec(t))?new Ws(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=MVe.exec(t))?tC(e[1],e[2],e[3],e[4]):(e=AVe.exec(t))?tC(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=TVe.exec(t))?P7(e[1],e[2]/100,e[3]/100,1):(e=PVe.exec(t))?P7(e[1],e[2]/100,e[3]/100,e[4]):S7.hasOwnProperty(t)?M7(S7[t]):t==="transparent"?new Ws(NaN,NaN,NaN,0):null}function M7(t){return new Ws(t>>16&255,t>>8&255,t&255,1)}function tC(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ws(t,e,n,r)}function kVe(t){return t instanceof qw||(t=mp(t)),t?(t=t.rgb(),new Ws(t.r,t.g,t.b,t.opacity)):new Ws}function UL(t,e,n,r){return arguments.length===1?kVe(t):new Ws(t,e,n,r??1)}function Ws(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}z5(Ws,UL,zse(qw,{brighter(t){return t=t==null?cA:Math.pow(cA,t),new Ws(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?hb:Math.pow(hb,t),new Ws(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ws(Vh(this.r),Vh(this.g),Vh(this.b),uA(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:A7,formatHex:A7,formatHex8:OVe,formatRgb:T7,toString:T7}));function A7(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}`}function OVe(){return`#${Ch(this.r)}${Ch(this.g)}${Ch(this.b)}${Ch((isNaN(this.opacity)?1:this.opacity)*255)}`}function T7(){const t=uA(this.opacity);return`${t===1?"rgb(":"rgba("}${Vh(this.r)}, ${Vh(this.g)}, ${Vh(this.b)}${t===1?")":`, ${t})`}`}function uA(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ch(t){return t=Vh(t),(t<16?"0":"")+t.toString(16)}function P7(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wa(t,e,n,r)}function Hse(t){if(t instanceof Wa)return new Wa(t.h,t.s,t.l,t.opacity);if(t instanceof qw||(t=mp(t)),!t)return new Wa;if(t instanceof Wa)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Wa(o,a,l,t.opacity)}function IVe(t,e,n,r){return arguments.length===1?Hse(t):new Wa(t,e,n,r??1)}function Wa(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}z5(Wa,IVe,zse(qw,{brighter(t){return t=t==null?cA:Math.pow(cA,t),new Wa(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?hb:Math.pow(hb,t),new Wa(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ws(PO(t>=240?t-240:t+120,i,r),PO(t,i,r),PO(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Wa(N7(this.h),nC(this.s),nC(this.l),uA(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=uA(this.opacity);return`${t===1?"hsl(":"hsla("}${N7(this.h)}, ${nC(this.s)*100}%, ${nC(this.l)*100}%${t===1?")":`, ${t})`}`}}));function N7(t){return t=(t||0)%360,t<0?t+360:t}function nC(t){return Math.max(0,Math.min(1,t||0))}function PO(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const H5=t=>()=>t;function jVe(t,e){return function(n){return t+n*e}}function DVe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function LVe(t){return(t=+t)==1?Vse:function(e,n){return n-e?DVe(e,n,t):H5(isNaN(e)?n:e)}}function Vse(t,e){var n=e-t;return n?jVe(t,n):H5(isNaN(t)?e:t)}const dA=function t(e){var n=LVe(e);function r(i,s){var o=n((i=UL(i)).r,(s=UL(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=Vse(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=a(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=t,r}(1);function FVe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function BVe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function UVe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=tu(t[o],e[o]);for(;o<n;++o)s[o]=e[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function $Ve(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ha(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function zVe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=tu(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var $L=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,NO=new RegExp($L.source,"g");function HVe(t){return function(){return t}}function VVe(t){return function(e){return t(e)+""}}function Wse(t,e){var n=$L.lastIndex=NO.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(t=t+"",e=e+"";(r=$L.exec(t))&&(i=NO.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:Ha(r,i)})),n=NO.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?VVe(l[0].x):HVe(e):(e=l.length,function(c){for(var f=0,d;f<e;++f)a[(d=l[f]).i]=d.x(c);return a.join("")})}function tu(t,e){var n=typeof e,r;return e==null||n==="boolean"?H5(e):(n==="number"?Ha:n==="string"?(r=mp(e))?(e=r,dA):Wse:e instanceof mp?dA:e instanceof Date?$Ve:BVe(e)?FVe:Array.isArray(e)?UVe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?zVe:Ha)(t,e)}function V5(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var R7=180/Math.PI,zL={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gse(t,e,n,r,i,s){var o,a,l;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(l=t*n+e*r)&&(n-=t*l,r-=e*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),t*r<e*n&&(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*R7,skewX:Math.atan(l)*R7,scaleX:o,scaleY:a}}var rC;function WVe(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?zL:Gse(e.a,e.b,e.c,e.d,e.e,e.f)}function GVe(t){return t==null||(rC||(rC=document.createElementNS("http://www.w3.org/2000/svg","g")),rC.setAttribute("transform",t),!(t=rC.transform.baseVal.consolidate()))?zL:(t=t.matrix,Gse(t.a,t.b,t.c,t.d,t.e,t.f))}function qse(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,f,d,h,g,v){if(c!==d||f!==h){var x=g.push("translate(",null,e,null,n);v.push({i:x-4,x:Ha(c,d)},{i:x-2,x:Ha(f,h)})}else(d||h)&&g.push("translate("+d+e+h+n)}function o(c,f,d,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Ha(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function a(c,f,d,h){c!==f?h.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Ha(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function l(c,f,d,h,g,v){if(c!==d||f!==h){var x=g.push(i(g)+"scale(",null,",",null,")");v.push({i:x-4,x:Ha(c,d)},{i:x-2,x:Ha(f,h)})}else(d!==1||h!==1)&&g.push(i(g)+"scale("+d+","+h+")")}return function(c,f){var d=[],h=[];return c=t(c),f=t(f),s(c.translateX,c.translateY,f.translateX,f.translateY,d,h),o(c.rotate,f.rotate,d,h),a(c.skewX,f.skewX,d,h),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,h),c=f=null,function(g){for(var v=-1,x=h.length,m;++v<x;)d[(m=h[v]).i]=m.x(g);return d.join("")}}}var qVe=qse(WVe,"px, ","px)","deg)"),KVe=qse(GVe,", ",")",")"),XVe=1e-12;function k7(t){return((t=Math.exp(t))+1/t)/2}function YVe(t){return((t=Math.exp(t))-1/t)/2}function ZVe(t){return((t=Math.exp(2*t))-1)/(t+1)}const UE=function t(e,n,r){function i(s,o){var a=s[0],l=s[1],c=s[2],f=o[0],d=o[1],h=o[2],g=f-a,v=d-l,x=g*g+v*v,m,p;if(x<XVe)p=Math.log(h/c)/e,m=function(A){return[a+A*g,l+A*v,c*Math.exp(e*A*p)]};else{var y=Math.sqrt(x),_=(h*h-c*c+r*x)/(2*c*n*y),b=(h*h-c*c-r*x)/(2*h*n*y),w=Math.log(Math.sqrt(_*_+1)-_),E=Math.log(Math.sqrt(b*b+1)-b);p=(E-w)/e,m=function(A){var T=A*p,P=k7(w),N=c/(n*y)*(P*ZVe(e*T+w)-YVe(w));return[a+N*g,l+N*v,c*P/k7(e*T+w)]}}return m.duration=p*1e3*e/Math.SQRT2,m}return i.rho=function(s){var o=Math.max(.001,+s),a=o*o,l=a*a;return t(o,a,l)},i}(Math.SQRT2,2,4);function QVe(t,e){e===void 0&&(e=t,t=tu);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(o){var a=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return s[a](o-a)}}function JVe(t){return function(){return t}}function fA(t){return+t}var O7=[0,1];function Ss(t){return t}function HL(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:JVe(isNaN(e)?NaN:.5)}function e8e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function t8e(t,e,n){var r=t[0],i=t[1],s=e[0],o=e[1];return i<r?(r=HL(i,r),s=n(o,s)):(r=HL(r,i),s=n(s,o)),function(a){return s(r(a))}}function n8e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=HL(t[o],t[o+1]),s[o]=n(e[o],e[o+1]);return function(a){var l=Gw(t,a,1,r)-1;return s[l](i[l](a))}}function Kw(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v2(){var t=O7,e=O7,n=tu,r,i,s,o=Ss,a,l,c;function f(){var h=Math.min(t.length,e.length);return o!==Ss&&(o=e8e(t[0],t[h-1])),a=h>2?n8e:t8e,l=c=null,d}function d(h){return h==null||isNaN(h=+h)?s:(l||(l=a(t.map(r),e,n)))(r(o(h)))}return d.invert=function(h){return o(i((c||(c=a(e,t.map(r),Ha)))(h)))},d.domain=function(h){return arguments.length?(t=Array.from(h,fA),f()):t.slice()},d.range=function(h){return arguments.length?(e=Array.from(h),f()):e.slice()},d.rangeRound=function(h){return e=Array.from(h),n=V5,f()},d.clamp=function(h){return arguments.length?(o=h?!0:Ss,f()):o!==Ss},d.interpolate=function(h){return arguments.length?(n=h,f()):n},d.unknown=function(h){return arguments.length?(s=h,d):s},function(h,g){return r=h,i=g,f()}}function W5(){return v2()(Ss,Ss)}function r8e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hA(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Lv(t){return t=hA(Math.abs(t)),t?t[1]:NaN}function i8e(t,e){return function(n,r){for(var i=n.length,s=[],o=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[o=(o+1)%t.length];return s.reverse().join(e)}}function s8e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var o8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function mb(t){if(!(e=o8e.exec(t)))throw new Error("invalid format: "+t);var e;return new G5({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}mb.prototype=G5.prototype;function G5(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}G5.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function a8e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Kse;function l8e(t,e){var n=hA(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(Kse=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+hA(t,Math.max(0,e+s-1))[0]}function I7(t,e){var n=hA(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const j7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:r8e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>I7(t*100,e),r:I7,s:l8e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function D7(t){return t}var L7=Array.prototype.map,F7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c8e(t){var e=t.grouping===void 0||t.thousands===void 0?D7:i8e(L7.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?D7:s8e(L7.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=mb(d);var h=d.fill,g=d.align,v=d.sign,x=d.symbol,m=d.zero,p=d.width,y=d.comma,_=d.precision,b=d.trim,w=d.type;w==="n"?(y=!0,w="g"):j7[w]||(_===void 0&&(_=12),b=!0,w="g"),(m||h==="0"&&g==="=")&&(m=!0,h="0",g="=");var E=x==="$"?n:x==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",A=x==="$"?r:/[%p]/.test(w)?o:"",T=j7[w],P=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(O){var I=E,D=A,F,$,z;if(w==="c")D=T(O)+D,O="";else{O=+O;var H=O<0||1/O<0;if(O=isNaN(O)?l:T(Math.abs(O),_),b&&(O=a8e(O)),H&&+O==0&&v!=="+"&&(H=!1),I=(H?v==="("?v:a:v==="-"||v==="("?"":v)+I,D=(w==="s"?F7[8+Kse/3]:"")+D+(H&&v==="("?")":""),P){for(F=-1,$=O.length;++F<$;)if(z=O.charCodeAt(F),48>z||z>57){D=(z===46?i+O.slice(F+1):O.slice(F))+D,O=O.slice(0,F);break}}}y&&!m&&(O=e(O,1/0));var R=I.length+O.length+D.length,j=R<p?new Array(p-R+1).join(h):"";switch(y&&m&&(O=e(j+O,j.length?p-D.length:1/0),j=""),g){case"<":O=I+O+D+j;break;case"=":O=I+j+O+D;break;case"^":O=j.slice(0,R=j.length>>1)+I+O+D+j.slice(R);break;default:O=j+I+O+D;break}return s(O)}return N.toString=function(){return d+""},N}function f(d,h){var g=c((d=mb(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(Lv(h)/3)))*3,x=Math.pow(10,-v),m=F7[8+v/3];return function(p){return g(x*p)+m}}return{format:c,formatPrefix:f}}var iC,q5,Xse;u8e({thousands:",",grouping:[3],currency:["$",""]});function u8e(t){return iC=c8e(t),q5=iC.format,Xse=iC.formatPrefix,iC}function d8e(t){return Math.max(0,-Lv(Math.abs(t)))}function f8e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Lv(e)/3)))*3-Lv(Math.abs(t)))}function h8e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Lv(e)-Lv(t))+1}function Yse(t,e,n,r){var i=FL(t,e,n),s;switch(r=mb(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=f8e(i,o))&&(r.precision=s),Xse(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=h8e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=d8e(i))&&(r.precision=s-(r.type==="%")*2);break}}return q5(r)}function mf(t){var e=t.domain;return t.ticks=function(n){var r=e();return DL(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Yse(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,f=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);f-- >0;){if(c=LL(o,a,n),c===l)return r[i]=o,r[s]=a,e(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return t},t}function pA(){var t=W5();return t.copy=function(){return Kw(t,pA())},va.apply(t,arguments),mf(t)}function Zse(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,fA),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return Zse(t).unknown(e)},t=arguments.length?Array.from(t,fA):[0,1],mf(n)}function Qse(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],o;return s<i&&(o=n,n=r,r=o,o=i,i=s,s=o),t[n]=e.floor(i),t[r]=e.ceil(s),t}function B7(t){return Math.log(t)}function U7(t){return Math.exp(t)}function p8e(t){return-Math.log(-t)}function m8e(t){return-Math.exp(-t)}function g8e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function v8e(t){return t===10?g8e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function y8e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function $7(t){return(e,n)=>-t(-e,n)}function K5(t){const e=t(B7,U7),n=e.domain;let r=10,i,s;function o(){return i=y8e(r),s=v8e(r),n()[0]<0?(i=$7(i),s=$7(s),t(p8e,m8e)):t(B7,U7),e}return e.base=function(a){return arguments.length?(r=+a,o()):r},e.domain=function(a){return arguments.length?(n(a),o()):n()},e.ticks=a=>{const l=n();let c=l[0],f=l[l.length-1];const d=f<c;d&&([c,f]=[f,c]);let h=i(c),g=i(f),v,x;const m=a==null?10:+a;let p=[];if(!(r%1)&&g-h<m){if(h=Math.floor(h),g=Math.ceil(g),c>0){for(;h<=g;++h)for(v=1;v<r;++v)if(x=h<0?v/s(-h):v*s(h),!(x<c)){if(x>f)break;p.push(x)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(x=h>0?v/s(-h):v*s(h),!(x<c)){if(x>f)break;p.push(x)}p.length*2<m&&(p=DL(c,f,m))}else p=DL(h,g,Math.min(g-h,m)).map(s);return d?p.reverse():p},e.tickFormat=(a,l)=>{if(a==null&&(a=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=mb(l)).precision==null&&(l.trim=!0),l=q5(l)),a===1/0)return l;const c=Math.max(1,r*a/e.ticks().length);return f=>{let d=f/s(Math.round(i(f)));return d*r<r-.5&&(d*=r),d<=c?l(f):""}},e.nice=()=>n(Qse(n(),{floor:a=>s(Math.floor(i(a))),ceil:a=>s(Math.ceil(i(a)))})),e}function Jse(){const t=K5(v2()).domain([1,10]);return t.copy=()=>Kw(t,Jse()).base(t.base()),va.apply(t,arguments),t}function z7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function H7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function X5(t){var e=1,n=t(z7(e),H7(e));return n.constant=function(r){return arguments.length?t(z7(e=+r),H7(e)):e},mf(n)}function eoe(){var t=X5(v2());return t.copy=function(){return Kw(t,eoe()).constant(t.constant())},va.apply(t,arguments)}function V7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function x8e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _8e(t){return t<0?-t*t:t*t}function Y5(t){var e=t(Ss,Ss),n=1;function r(){return n===1?t(Ss,Ss):n===.5?t(x8e,_8e):t(V7(n),V7(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},mf(e)}function Z5(){var t=Y5(v2());return t.copy=function(){return Kw(t,Z5()).exponent(t.exponent())},va.apply(t,arguments),t}function b8e(){return Z5.apply(null,arguments).exponent(.5)}function W7(t){return Math.sign(t)*t*t}function w8e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function toe(){var t=W5(),e=[0,1],n=!1,r;function i(s){var o=w8e(t(s));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(s){return t.invert(W7(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,fA)).map(W7)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return toe(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},va.apply(i,arguments),mf(i)}function noe(){var t=[],e=[],n=[],r;function i(){var o=0,a=Math.max(1,e.length);for(n=new Array(a-1);++o<a;)n[o-1]=bVe(t,o/a);return s}function s(o){return o==null||isNaN(o=+o)?r:e[Gw(n,o)]}return s.invertExtent=function(o){var a=e.indexOf(o);return a<0?[NaN,NaN]:[a>0?n[a-1]:t[0],a<n.length?n[a]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let a of o)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Gd),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(r=o,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return noe().domain(t).range(e).unknown(r)},va.apply(s,arguments)}function roe(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function o(l){return l!=null&&l<=l?i[Gw(r,l,0,n)]:s}function a(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,a()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,a()):i.slice()},o.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},o.unknown=function(l){return arguments.length&&(s=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return roe().domain([t,e]).range(i).unknown(s)},va.apply(mf(o),arguments)}function ioe(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[Gw(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ioe().domain(t).range(e).unknown(n)},va.apply(i,arguments)}const RO=new Date,kO=new Date;function yi(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const l=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return l;let c;do l.push(c=new Date(+s)),e(s,a),t(s);while(c<s&&s<o);return l},i.filter=s=>yi(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(RO.setTime(+s),kO.setTime(+o),t(RO),t(kO),Math.floor(n(RO,kO))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const mA=yi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mA.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?yi(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mA);mA.range;const qc=1e3,oa=qc*60,Kc=oa*60,fu=Kc*24,Q5=fu*7,G7=fu*30,OO=fu*365,Eh=yi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*qc)},(t,e)=>(e-t)/qc,t=>t.getUTCSeconds());Eh.range;const J5=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qc)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getMinutes());J5.range;const eU=yi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCMinutes());eU.range;const tU=yi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*qc-t.getMinutes()*oa)},(t,e)=>{t.setTime(+t+e*Kc)},(t,e)=>(e-t)/Kc,t=>t.getHours());tU.range;const nU=yi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Kc)},(t,e)=>(e-t)/Kc,t=>t.getUTCHours());nU.range;const Xw=yi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oa)/fu,t=>t.getDate()-1);Xw.range;const y2=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fu,t=>t.getUTCDate()-1);y2.range;const soe=yi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fu,t=>Math.floor(t/fu));soe.range;function Bp(t){return yi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*oa)/Q5)}const x2=Bp(0),gA=Bp(1),S8e=Bp(2),C8e=Bp(3),Fv=Bp(4),E8e=Bp(5),M8e=Bp(6);x2.range;gA.range;S8e.range;C8e.range;Fv.range;E8e.range;M8e.range;function Up(t){return yi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Q5)}const _2=Up(0),vA=Up(1),A8e=Up(2),T8e=Up(3),Bv=Up(4),P8e=Up(5),N8e=Up(6);_2.range;vA.range;A8e.range;T8e.range;Bv.range;P8e.range;N8e.range;const rU=yi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());rU.range;const iU=yi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());iU.range;const hu=yi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());hu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});hu.range;const pu=yi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());pu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:yi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});pu.range;function ooe(t,e,n,r,i,s){const o=[[Eh,1,qc],[Eh,5,5*qc],[Eh,15,15*qc],[Eh,30,30*qc],[s,1,oa],[s,5,5*oa],[s,15,15*oa],[s,30,30*oa],[i,1,Kc],[i,3,3*Kc],[i,6,6*Kc],[i,12,12*Kc],[r,1,fu],[r,2,2*fu],[n,1,Q5],[e,1,G7],[e,3,3*G7],[t,1,OO]];function a(c,f,d){const h=f<c;h&&([c,f]=[f,c]);const g=d&&typeof d.range=="function"?d:l(c,f,d),v=g?g.range(c,+f+1):[];return h?v.reverse():v}function l(c,f,d){const h=Math.abs(f-c)/d,g=U5(([,,m])=>m).right(o,h);if(g===o.length)return t.every(FL(c/OO,f/OO,d));if(g===0)return mA.every(Math.max(FL(c,f,d),1));const[v,x]=o[h/o[g-1][2]<o[g][2]/h?g-1:g];return v.every(x)}return[a,l]}const[R8e,k8e]=ooe(pu,iU,_2,soe,nU,eU),[O8e,I8e]=ooe(hu,rU,x2,Xw,tU,J5);function IO(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function jO(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function e0(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function j8e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,l=t.shortMonths,c=t0(i),f=n0(i),d=t0(s),h=n0(s),g=t0(o),v=n0(o),x=t0(a),m=n0(a),p=t0(l),y=n0(l),_={a:H,A:R,b:j,B,c:null,d:Q7,e:Q7,f:iWe,g:pWe,G:gWe,H:tWe,I:nWe,j:rWe,L:aoe,m:sWe,M:oWe,p:W,q:G,Q:t9,s:n9,S:aWe,u:lWe,U:cWe,V:uWe,w:dWe,W:fWe,x:null,X:null,y:hWe,Y:mWe,Z:vWe,"%":e9},b={a:K,A:ie,b:le,B:J,c:null,d:J7,e:J7,f:bWe,g:RWe,G:OWe,H:yWe,I:xWe,j:_We,L:coe,m:wWe,M:SWe,p:U,q:X,Q:t9,s:n9,S:CWe,u:EWe,U:MWe,V:AWe,w:TWe,W:PWe,x:null,X:null,y:NWe,Y:kWe,Z:IWe,"%":e9},w={a:N,A:O,b:I,B:D,c:F,d:Y7,e:Y7,f:Z8e,g:X7,G:K7,H:Z7,I:Z7,j:q8e,L:Y8e,m:G8e,M:K8e,p:P,q:W8e,Q:J8e,s:eWe,S:X8e,u:U8e,U:$8e,V:z8e,w:B8e,W:H8e,x:$,X:z,y:X7,Y:K7,Z:V8e,"%":Q8e};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),b.x=E(n,b),b.X=E(r,b),b.c=E(e,b);function E(Q,te){return function(ue){var ee=[],Y=-1,se=0,re=Q.length,me,he,Ae;for(ue instanceof Date||(ue=new Date(+ue));++Y<re;)Q.charCodeAt(Y)===37&&(ee.push(Q.slice(se,Y)),(he=q7[me=Q.charAt(++Y)])!=null?me=Q.charAt(++Y):he=me==="e"?" ":"0",(Ae=te[me])&&(me=Ae(ue,he)),ee.push(me),se=Y+1);return ee.push(Q.slice(se,Y)),ee.join("")}}function A(Q,te){return function(ue){var ee=e0(1900,void 0,1),Y=T(ee,Q,ue+="",0),se,re;if(Y!=ue.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(te&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(se=jO(e0(ee.y,0,1)),re=se.getUTCDay(),se=re>4||re===0?vA.ceil(se):vA(se),se=y2.offset(se,(ee.V-1)*7),ee.y=se.getUTCFullYear(),ee.m=se.getUTCMonth(),ee.d=se.getUTCDate()+(ee.w+6)%7):(se=IO(e0(ee.y,0,1)),re=se.getDay(),se=re>4||re===0?gA.ceil(se):gA(se),se=Xw.offset(se,(ee.V-1)*7),ee.y=se.getFullYear(),ee.m=se.getMonth(),ee.d=se.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),re="Z"in ee?jO(e0(ee.y,0,1)).getUTCDay():IO(e0(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(re+5)%7:ee.w+ee.U*7-(re+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,jO(ee)):IO(ee)}}function T(Q,te,ue,ee){for(var Y=0,se=te.length,re=ue.length,me,he;Y<se;){if(ee>=re)return-1;if(me=te.charCodeAt(Y++),me===37){if(me=te.charAt(Y++),he=w[me in q7?te.charAt(Y++):me],!he||(ee=he(Q,ue,ee))<0)return-1}else if(me!=ue.charCodeAt(ee++))return-1}return ee}function P(Q,te,ue){var ee=c.exec(te.slice(ue));return ee?(Q.p=f.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function N(Q,te,ue){var ee=g.exec(te.slice(ue));return ee?(Q.w=v.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function O(Q,te,ue){var ee=d.exec(te.slice(ue));return ee?(Q.w=h.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function I(Q,te,ue){var ee=p.exec(te.slice(ue));return ee?(Q.m=y.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function D(Q,te,ue){var ee=x.exec(te.slice(ue));return ee?(Q.m=m.get(ee[0].toLowerCase()),ue+ee[0].length):-1}function F(Q,te,ue){return T(Q,e,te,ue)}function $(Q,te,ue){return T(Q,n,te,ue)}function z(Q,te,ue){return T(Q,r,te,ue)}function H(Q){return o[Q.getDay()]}function R(Q){return s[Q.getDay()]}function j(Q){return l[Q.getMonth()]}function B(Q){return a[Q.getMonth()]}function W(Q){return i[+(Q.getHours()>=12)]}function G(Q){return 1+~~(Q.getMonth()/3)}function K(Q){return o[Q.getUTCDay()]}function ie(Q){return s[Q.getUTCDay()]}function le(Q){return l[Q.getUTCMonth()]}function J(Q){return a[Q.getUTCMonth()]}function U(Q){return i[+(Q.getUTCHours()>=12)]}function X(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var te=E(Q+="",_);return te.toString=function(){return Q},te},parse:function(Q){var te=A(Q+="",!1);return te.toString=function(){return Q},te},utcFormat:function(Q){var te=E(Q+="",b);return te.toString=function(){return Q},te},utcParse:function(Q){var te=A(Q+="",!0);return te.toString=function(){return Q},te}}}var q7={"-":"",_:" ",0:"0"},Ri=/^\s*\d+/,D8e=/^%/,L8e=/[\\^$*+?|[\]().{}]/g;function Dn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function F8e(t){return t.replace(L8e,"\\$&")}function t0(t){return new RegExp("^(?:"+t.map(F8e).join("|")+")","i")}function n0(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function B8e(t,e,n){var r=Ri.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function U8e(t,e,n){var r=Ri.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function $8e(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function z8e(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function H8e(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function K7(t,e,n){var r=Ri.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function X7(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function V8e(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function W8e(t,e,n){var r=Ri.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function G8e(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Y7(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function q8e(t,e,n){var r=Ri.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Z7(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function K8e(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function X8e(t,e,n){var r=Ri.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Y8e(t,e,n){var r=Ri.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Z8e(t,e,n){var r=Ri.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Q8e(t,e,n){var r=D8e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function J8e(t,e,n){var r=Ri.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function eWe(t,e,n){var r=Ri.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Q7(t,e){return Dn(t.getDate(),e,2)}function tWe(t,e){return Dn(t.getHours(),e,2)}function nWe(t,e){return Dn(t.getHours()%12||12,e,2)}function rWe(t,e){return Dn(1+Xw.count(hu(t),t),e,3)}function aoe(t,e){return Dn(t.getMilliseconds(),e,3)}function iWe(t,e){return aoe(t,e)+"000"}function sWe(t,e){return Dn(t.getMonth()+1,e,2)}function oWe(t,e){return Dn(t.getMinutes(),e,2)}function aWe(t,e){return Dn(t.getSeconds(),e,2)}function lWe(t){var e=t.getDay();return e===0?7:e}function cWe(t,e){return Dn(x2.count(hu(t)-1,t),e,2)}function loe(t){var e=t.getDay();return e>=4||e===0?Fv(t):Fv.ceil(t)}function uWe(t,e){return t=loe(t),Dn(Fv.count(hu(t),t)+(hu(t).getDay()===4),e,2)}function dWe(t){return t.getDay()}function fWe(t,e){return Dn(gA.count(hu(t)-1,t),e,2)}function hWe(t,e){return Dn(t.getFullYear()%100,e,2)}function pWe(t,e){return t=loe(t),Dn(t.getFullYear()%100,e,2)}function mWe(t,e){return Dn(t.getFullYear()%1e4,e,4)}function gWe(t,e){var n=t.getDay();return t=n>=4||n===0?Fv(t):Fv.ceil(t),Dn(t.getFullYear()%1e4,e,4)}function vWe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dn(e/60|0,"0",2)+Dn(e%60,"0",2)}function J7(t,e){return Dn(t.getUTCDate(),e,2)}function yWe(t,e){return Dn(t.getUTCHours(),e,2)}function xWe(t,e){return Dn(t.getUTCHours()%12||12,e,2)}function _We(t,e){return Dn(1+y2.count(pu(t),t),e,3)}function coe(t,e){return Dn(t.getUTCMilliseconds(),e,3)}function bWe(t,e){return coe(t,e)+"000"}function wWe(t,e){return Dn(t.getUTCMonth()+1,e,2)}function SWe(t,e){return Dn(t.getUTCMinutes(),e,2)}function CWe(t,e){return Dn(t.getUTCSeconds(),e,2)}function EWe(t){var e=t.getUTCDay();return e===0?7:e}function MWe(t,e){return Dn(_2.count(pu(t)-1,t),e,2)}function uoe(t){var e=t.getUTCDay();return e>=4||e===0?Bv(t):Bv.ceil(t)}function AWe(t,e){return t=uoe(t),Dn(Bv.count(pu(t),t)+(pu(t).getUTCDay()===4),e,2)}function TWe(t){return t.getUTCDay()}function PWe(t,e){return Dn(vA.count(pu(t)-1,t),e,2)}function NWe(t,e){return Dn(t.getUTCFullYear()%100,e,2)}function RWe(t,e){return t=uoe(t),Dn(t.getUTCFullYear()%100,e,2)}function kWe(t,e){return Dn(t.getUTCFullYear()%1e4,e,4)}function OWe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Bv(t):Bv.ceil(t),Dn(t.getUTCFullYear()%1e4,e,4)}function IWe(){return"+0000"}function e9(){return"%"}function t9(t){return+t}function n9(t){return Math.floor(+t/1e3)}var Cm,doe,foe;jWe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jWe(t){return Cm=j8e(t),doe=Cm.format,Cm.parse,foe=Cm.utcFormat,Cm.utcParse,Cm}function DWe(t){return new Date(t)}function LWe(t){return t instanceof Date?+t:+new Date(+t)}function sU(t,e,n,r,i,s,o,a,l,c){var f=W5(),d=f.invert,h=f.domain,g=c(".%L"),v=c(":%S"),x=c("%I:%M"),m=c("%I %p"),p=c("%a %d"),y=c("%b %d"),_=c("%B"),b=c("%Y");function w(E){return(l(E)<E?g:a(E)<E?v:o(E)<E?x:s(E)<E?m:r(E)<E?i(E)<E?p:y:n(E)<E?_:b)(E)}return f.invert=function(E){return new Date(d(E))},f.domain=function(E){return arguments.length?h(Array.from(E,LWe)):h().map(DWe)},f.ticks=function(E){var A=h();return t(A[0],A[A.length-1],E??10)},f.tickFormat=function(E,A){return A==null?w:c(A)},f.nice=function(E){var A=h();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?h(Qse(A,E)):f},f.copy=function(){return Kw(f,sU(t,e,n,r,i,s,o,a,l,c))},f}function FWe(){return va.apply(sU(O8e,I8e,hu,rU,x2,Xw,tU,J5,Eh,doe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function BWe(){return va.apply(sU(R8e,k8e,pu,iU,_2,y2,nU,eU,Eh,foe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function b2(){var t=0,e=1,n,r,i,s,o=Ss,a=!1,l;function c(d){return d==null||isNaN(d=+d)?l:o(i===0?.5:(d=(s(d)-n)*i,a?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(a=!!d,c):a},c.interpolator=function(d){return arguments.length?(o=d,c):o};function f(d){return function(h){var g,v;return arguments.length?([g,v]=h,o=d(g,v),c):[o(0),o(1)]}}return c.range=f(tu),c.rangeRound=f(V5),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function gf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function hoe(){var t=mf(b2()(Ss));return t.copy=function(){return gf(t,hoe())},ku.apply(t,arguments)}function poe(){var t=K5(b2()).domain([1,10]);return t.copy=function(){return gf(t,poe()).base(t.base())},ku.apply(t,arguments)}function moe(){var t=X5(b2());return t.copy=function(){return gf(t,moe()).constant(t.constant())},ku.apply(t,arguments)}function oU(){var t=Y5(b2());return t.copy=function(){return gf(t,oU()).exponent(t.exponent())},ku.apply(t,arguments)}function UWe(){return oU.apply(null,arguments).exponent(.5)}function goe(){var t=[],e=Ss;function n(r){if(r!=null&&!isNaN(r=+r))return e((Gw(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Gd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>_Ve(t,s/r))},n.copy=function(){return goe(e).domain(t)},ku.apply(n,arguments)}function w2(){var t=0,e=.5,n=1,r=1,i,s,o,a,l,c=Ss,f,d=!1,h;function g(x){return isNaN(x=+x)?h:(x=.5+((x=+f(x))-s)*(r*x<r*s?a:l),c(d?Math.max(0,Math.min(1,x)):x))}g.domain=function(x){return arguments.length?([t,e,n]=x,i=f(t=+t),s=f(e=+e),o=f(n=+n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g):[t,e,n]},g.clamp=function(x){return arguments.length?(d=!!x,g):d},g.interpolator=function(x){return arguments.length?(c=x,g):c};function v(x){return function(m){var p,y,_;return arguments.length?([p,y,_]=m,c=QVe(x,[p,y,_]),g):[c(0),c(.5),c(1)]}}return g.range=v(tu),g.rangeRound=v(V5),g.unknown=function(x){return arguments.length?(h=x,g):h},function(x){return f=x,i=x(t),s=x(e),o=x(n),a=i===s?0:.5/(s-i),l=s===o?0:.5/(o-s),r=s<i?-1:1,g}}function voe(){var t=mf(w2()(Ss));return t.copy=function(){return gf(t,voe())},ku.apply(t,arguments)}function yoe(){var t=K5(w2()).domain([.1,1,10]);return t.copy=function(){return gf(t,yoe()).base(t.base())},ku.apply(t,arguments)}function xoe(){var t=X5(w2());return t.copy=function(){return gf(t,xoe()).constant(t.constant())},ku.apply(t,arguments)}function aU(){var t=Y5(w2());return t.copy=function(){return gf(t,aU()).exponent(t.exponent())},ku.apply(t,arguments)}function $We(){return aU.apply(null,arguments).exponent(.5)}const r9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:fb,scaleDiverging:voe,scaleDivergingLog:yoe,scaleDivergingPow:aU,scaleDivergingSqrt:$We,scaleDivergingSymlog:xoe,scaleIdentity:Zse,scaleImplicit:BL,scaleLinear:pA,scaleLog:Jse,scaleOrdinal:$5,scalePoint:u_,scalePow:Z5,scaleQuantile:noe,scaleQuantize:roe,scaleRadial:toe,scaleSequential:hoe,scaleSequentialLog:poe,scaleSequentialPow:oU,scaleSequentialQuantile:goe,scaleSequentialSqrt:UWe,scaleSequentialSymlog:moe,scaleSqrt:b8e,scaleSymlog:eoe,scaleThreshold:ioe,scaleTime:FWe,scaleUtc:BWe,tickFormat:Yse},Symbol.toStringTag,{value:"Module"}));var zWe=By;function HWe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],o=e(s);if(o!=null&&(a===void 0?o===o&&!zWe(o):n(o,a)))var a=o,l=s}return l}var S2=HWe;function VWe(t,e){return t>e}var _oe=VWe,WWe=S2,GWe=_oe,qWe=qy;function KWe(t){return t&&t.length?WWe(t,qWe,GWe):void 0}var XWe=KWe;const kd=Sn(XWe);function YWe(t,e){return t<e}var boe=YWe,ZWe=S2,QWe=boe,JWe=qy;function eGe(t){return t&&t.length?ZWe(t,JWe,QWe):void 0}var tGe=eGe;const C2=Sn(tGe);var nGe=b5,rGe=cc,iGe=Mse,sGe=Zs;function oGe(t,e){var n=sGe(t)?nGe:iGe;return n(t,rGe(e))}var aGe=oGe,lGe=Cse,cGe=aGe;function uGe(t,e){return lGe(cGe(t,e),1)}var dGe=uGe;const fGe=Sn(dGe);var hGe=D5;function pGe(t,e){return hGe(t,e)}var mGe=pGe;const gp=Sn(mGe);var Ky=1e9,gGe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cU,xr=!0,ha="[DecimalError] ",Wh=ha+"Invalid argument: ",lU=ha+"Exponent out of range: ",Xy=Math.floor,dh=Math.pow,vGe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vo,Ci=1e7,pr=7,woe=9007199254740991,yA=Xy(woe/pr),wt={};wt.absoluteValue=wt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};wt.comparedTo=wt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};wt.decimalPlaces=wt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*pr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};wt.dividedBy=wt.div=function(t){return nu(this,new this.constructor(t))};wt.dividedToIntegerBy=wt.idiv=function(t){var e=this,n=e.constructor;return tr(nu(e,new n(t),0,1),n.precision)};wt.equals=wt.eq=function(t){return!this.cmp(t)};wt.exponent=function(){return ii(this)};wt.greaterThan=wt.gt=function(t){return this.cmp(t)>0};wt.greaterThanOrEqualTo=wt.gte=function(t){return this.cmp(t)>=0};wt.isInteger=wt.isint=function(){return this.e>this.d.length-2};wt.isNegative=wt.isneg=function(){return this.s<0};wt.isPositive=wt.ispos=function(){return this.s>0};wt.isZero=function(){return this.s===0};wt.lessThan=wt.lt=function(t){return this.cmp(t)<0};wt.lessThanOrEqualTo=wt.lte=function(t){return this.cmp(t)<1};wt.logarithm=wt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(vo))throw Error(ha+"NaN");if(n.s<1)throw Error(ha+(n.s?"NaN":"-Infinity"));return n.eq(vo)?new r(0):(xr=!1,e=nu(gb(n,s),gb(t,s),s),xr=!0,tr(e,i))};wt.minus=wt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Eoe(e,t):Soe(e,(t.s=-t.s,t))};wt.modulo=wt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ha+"NaN");return n.s?(xr=!1,e=nu(n,t,0,1).times(t),xr=!0,n.minus(e)):tr(new r(n),i)};wt.naturalExponential=wt.exp=function(){return Coe(this)};wt.naturalLogarithm=wt.ln=function(){return gb(this)};wt.negated=wt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};wt.plus=wt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Soe(e,t):Eoe(e,(t.s=-t.s,t))};wt.precision=wt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wh+t);if(e=ii(i)+1,r=i.d.length-1,n=r*pr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};wt.squareRoot=wt.sqrt=function(){var t,e,n,r,i,s,o,a=this,l=a.constructor;if(a.s<1){if(!a.s)return new l(0);throw Error(ha+"NaN")}for(t=ii(a),xr=!1,i=Math.sqrt(+a),i==0||i==1/0?(e=Fl(a.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Xy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(s=r,r=s.plus(nu(a,s,o+2)).times(.5),Fl(s.d).slice(0,o)===(e=Fl(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(tr(s,n+1,0),s.times(s).eq(a)){r=s;break}}else if(e!="9999")break;o+=4}return xr=!0,tr(r,n)};wt.times=wt.mul=function(t){var e,n,r,i,s,o,a,l,c,f=this,d=f.constructor,h=f.d,g=(t=new d(t)).d;if(!f.s||!t.s)return new d(0);for(t.s*=f.s,n=f.e+t.e,l=h.length,c=g.length,l<c&&(s=h,h=g,g=s,o=l,l=c,c=o),s=[],o=l+c,r=o;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)a=s[i]+g[r]*h[i-r-1]+e,s[i--]=a%Ci|0,e=a/Ci|0;s[i]=(s[i]+e)%Ci|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,xr?tr(t,d.precision):t};wt.toDecimalPlaces=wt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(rc(t,0,Ky),e===void 0?e=r.rounding:rc(e,0,8),tr(n,t+ii(n)+1,e))};wt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=vp(r,!0):(rc(t,0,Ky),e===void 0?e=i.rounding:rc(e,0,8),r=tr(new i(r),t+1,e),n=vp(r,!0,t+1)),n};wt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?vp(i):(rc(t,0,Ky),e===void 0?e=s.rounding:rc(e,0,8),r=tr(new s(i),t+ii(i)+1,e),n=vp(r.abs(),!1,t+ii(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};wt.toInteger=wt.toint=function(){var t=this,e=t.constructor;return tr(new e(t),ii(t)+1,e.rounding)};wt.toNumber=function(){return+this};wt.toPower=wt.pow=function(t){var e,n,r,i,s,o,a=this,l=a.constructor,c=12,f=+(t=new l(t));if(!t.s)return new l(vo);if(a=new l(a),!a.s){if(t.s<1)throw Error(ha+"Infinity");return a}if(a.eq(vo))return a;if(r=l.precision,t.eq(vo))return tr(a,r);if(e=t.e,n=t.d.length-1,o=e>=n,s=a.s,o){if((n=f<0?-f:f)<=woe){for(i=new l(vo),e=Math.ceil(r/pr+4),xr=!1;n%2&&(i=i.times(a),s9(i.d,e)),n=Xy(n/2),n!==0;)a=a.times(a),s9(a.d,e);return xr=!0,t.s<0?new l(vo).div(i):tr(i,r)}}else if(s<0)throw Error(ha+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,a.s=1,xr=!1,i=t.times(gb(a,r+c)),xr=!0,i=Coe(i),i.s=s,i};wt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=ii(i),r=vp(i,n<=s.toExpNeg||n>=s.toExpPos)):(rc(t,1,Ky),e===void 0?e=s.rounding:rc(e,0,8),i=tr(new s(i),t,e),n=ii(i),r=vp(i,t<=n||n<=s.toExpNeg,t)),r};wt.toSignificantDigits=wt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(rc(t,1,Ky),e===void 0?e=r.rounding:rc(e,0,8)),tr(new r(n),t,e)};wt.toString=wt.valueOf=wt.val=wt.toJSON=wt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ii(t),n=t.constructor;return vp(t,e<=n.toExpNeg||e>=n.toExpPos)};function Soe(t,e){var n,r,i,s,o,a,l,c,f=t.constructor,d=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),xr?tr(e,d):e;if(l=t.d,c=e.d,o=t.e,i=e.e,l=l.slice(),s=o-i,s){for(s<0?(r=l,s=-s,a=c.length):(r=c,i=o,a=l.length),o=Math.ceil(d/pr),a=o>a?o+1:a+1,s>a&&(s=a,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(a=l.length,s=c.length,a-s<0&&(s=a,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Ci|0,l[s]%=Ci;for(n&&(l.unshift(n),++i),a=l.length;l[--a]==0;)l.pop();return e.d=l,e.e=i,xr?tr(e,d):e}function rc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wh+t)}function Fl(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=pr-r.length,n&&(s+=hd(n)),s+=r;o=t[e],r=o+"",n=pr-r.length,n&&(s+=hd(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var nu=function(){function t(r,i){var s,o=0,a=r.length;for(r=r.slice();a--;)s=r[a]*i+o,r[a]=s%Ci|0,o=s/Ci|0;return o&&r.unshift(o),r}function e(r,i,s,o){var a,l;if(s!=o)l=s>o?1:-1;else for(a=l=0;a<s;a++)if(r[a]!=i[a]){l=r[a]>i[a]?1:-1;break}return l}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Ci+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var a,l,c,f,d,h,g,v,x,m,p,y,_,b,w,E,A,T,P=r.constructor,N=r.s==i.s?1:-1,O=r.d,I=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(ha+"Division by zero");for(l=r.e-i.e,A=I.length,w=O.length,g=new P(N),v=g.d=[],c=0;I[c]==(O[c]||0);)++c;if(I[c]>(O[c]||0)&&--l,s==null?y=s=P.precision:o?y=s+(ii(r)-ii(i))+1:y=s,y<0)return new P(0);if(y=y/pr+2|0,c=0,A==1)for(f=0,I=I[0],y++;(c<w||f)&&y--;c++)_=f*Ci+(O[c]||0),v[c]=_/I|0,f=_%I|0;else{for(f=Ci/(I[0]+1)|0,f>1&&(I=t(I,f),O=t(O,f),A=I.length,w=O.length),b=A,x=O.slice(0,A),m=x.length;m<A;)x[m++]=0;T=I.slice(),T.unshift(0),E=I[0],I[1]>=Ci/2&&++E;do f=0,a=e(I,x,A,m),a<0?(p=x[0],A!=m&&(p=p*Ci+(x[1]||0)),f=p/E|0,f>1?(f>=Ci&&(f=Ci-1),d=t(I,f),h=d.length,m=x.length,a=e(d,x,h,m),a==1&&(f--,n(d,A<h?T:I,h))):(f==0&&(a=f=1),d=I.slice()),h=d.length,h<m&&d.unshift(0),n(x,d,m),a==-1&&(m=x.length,a=e(I,x,A,m),a<1&&(f++,n(x,A<m?T:I,m))),m=x.length):a===0&&(f++,x=[0]),v[c++]=f,a&&x[0]?x[m++]=O[b]||0:(x=[O[b]],m=1);while((b++<w||x[0]!==void 0)&&y--)}return v[0]||v.shift(),g.e=l,tr(g,o?s+ii(g)+1:s)}}();function Coe(t,e){var n,r,i,s,o,a,l=0,c=0,f=t.constructor,d=f.precision;if(ii(t)>16)throw Error(lU+ii(t));if(!t.s)return new f(vo);for(e==null?(xr=!1,a=d):a=e,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),c+=5;for(r=Math.log(dh(2,c))/Math.LN10*2+5|0,a+=r,n=i=s=new f(vo),f.precision=a;;){if(i=tr(i.times(t),a),n=n.times(++l),o=s.plus(nu(i,n,a)),Fl(o.d).slice(0,a)===Fl(s.d).slice(0,a)){for(;c--;)s=tr(s.times(s),a);return f.precision=d,e==null?(xr=!0,tr(s,d)):s}s=o}}function ii(t){for(var e=t.e*pr,n=t.d[0];n>=10;n/=10)e++;return e}function DO(t,e,n){if(e>t.LN10.sd())throw xr=!0,n&&(t.precision=n),Error(ha+"LN10 precision limit exceeded");return tr(new t(t.LN10),e)}function hd(t){for(var e="";t--;)e+="0";return e}function gb(t,e){var n,r,i,s,o,a,l,c,f,d=1,h=10,g=t,v=g.d,x=g.constructor,m=x.precision;if(g.s<1)throw Error(ha+(g.s?"NaN":"-Infinity"));if(g.eq(vo))return new x(0);if(e==null?(xr=!1,c=m):c=e,g.eq(10))return e==null&&(xr=!0),DO(x,c);if(c+=h,x.precision=c,n=Fl(v),r=n.charAt(0),s=ii(g),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Fl(g.d),r=n.charAt(0),d++;s=ii(g),r>1?(g=new x("0."+n),s++):g=new x(r+"."+n.slice(1))}else return l=DO(x,c+2,m).times(s+""),g=gb(new x(r+"."+n.slice(1)),c-h).plus(l),x.precision=m,e==null?(xr=!0,tr(g,m)):g;for(a=o=g=nu(g.minus(vo),g.plus(vo),c),f=tr(g.times(g),c),i=3;;){if(o=tr(o.times(f),c),l=a.plus(nu(o,new x(i),c)),Fl(l.d).slice(0,c)===Fl(a.d).slice(0,c))return a=a.times(2),s!==0&&(a=a.plus(DO(x,c+2,m).times(s+""))),a=nu(a,new x(d),c),x.precision=m,e==null?(xr=!0,tr(a,m)):a;a=l,i+=2}}function i9(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Xy(n/pr),t.d=[],r=(n+1)%pr,n<0&&(r+=pr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=pr;r<i;)t.d.push(+e.slice(r,r+=pr));e=e.slice(r),r=pr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),xr&&(t.e>yA||t.e<-yA))throw Error(lU+n)}else t.s=0,t.e=0,t.d=[0];return t}function tr(t,e,n){var r,i,s,o,a,l,c,f,d=t.d;for(o=1,s=d[0];s>=10;s/=10)o++;if(r=e-o,r<0)r+=pr,i=e,c=d[f=0];else{if(f=Math.ceil((r+1)/pr),s=d.length,f>=s)return t;for(c=s=d[f],o=1;s>=10;s/=10)o++;r%=pr,i=r-pr+o}if(n!==void 0&&(s=dh(10,o-i-1),a=c/s%10|0,l=e<0||d[f+1]!==void 0||c%s,l=n<4?(a||l)&&(n==0||n==(t.s<0?3:2)):a>5||a==5&&(n==4||l||n==6&&(r>0?i>0?c/dh(10,o-i):0:d[f-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=ii(t),d.length=1,e=e-s-1,d[0]=dh(10,(pr-e%pr)%pr),t.e=Xy(-e/pr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=f,s=1,f--):(d.length=f+1,s=dh(10,pr-r),d[f]=i>0?(c/dh(10,o-i)%dh(10,i)|0)*s:0),l)for(;;)if(f==0){(d[0]+=s)==Ci&&(d[0]=1,++t.e);break}else{if(d[f]+=s,d[f]!=Ci)break;d[f--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(xr&&(t.e>yA||t.e<-yA))throw Error(lU+ii(t));return t}function Eoe(t,e){var n,r,i,s,o,a,l,c,f,d,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),xr?tr(e,g):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),o=c-r,o){for(f=o<0,f?(n=l,o=-o,a=d.length):(n=d,r=c,a=l.length),i=Math.max(Math.ceil(g/pr),a)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,a=d.length,f=i<a,f&&(a=i),i=0;i<a;i++)if(l[i]!=d[i]){f=l[i]<d[i];break}o=0}for(f&&(n=l,l=d,d=n,e.s=-e.s),a=l.length,i=d.length-a;i>0;--i)l[a++]=0;for(i=d.length;i>o;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=Ci-1;--l[s],l[i]+=Ci}l[i]-=d[i]}for(;l[--a]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,xr?tr(e,g):e):new h(0)}function vp(t,e,n){var r,i=ii(t),s=Fl(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+hd(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+hd(-i-1)+s,n&&(r=n-o)>0&&(s+=hd(r))):i>=o?(s+=hd(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+hd(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=hd(r))),t.s<0?"-"+s:s}function s9(t,e){if(t.length>e)return t.length=e,!0}function Moe(t){var e,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Wh+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return i9(o,s.toString())}else if(typeof s!="string")throw Error(Wh+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,vGe.test(s))i9(o,s);else throw Error(Wh+s)}if(i.prototype=wt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Moe,i.config=i.set=yGe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function yGe(t){if(!t||typeof t!="object")throw Error(ha+"Object expected");var e,n,r,i=["precision",1,Ky,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Xy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Wh+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wh+n+": "+r);return this}var cU=Moe(gGe);vo=new cU(1);const Zn=cU;function xGe(t){return SGe(t)||wGe(t)||bGe(t)||_Ge()}function _Ge(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bGe(t,e){if(t){if(typeof t=="string")return VL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VL(t,e)}}function wGe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function SGe(t){if(Array.isArray(t))return VL(t)}function VL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var CGe=function(e){return e},Aoe={"@@functional/placeholder":!0},Toe=function(e){return e===Aoe},o9=function(e){return function n(){return arguments.length===0||arguments.length===1&&Toe(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},EGe=function t(e,n){return e===1?n:o9(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var o=i.filter(function(a){return a!==Aoe}).length;return o>=e?n.apply(void 0,i):t(e-o,o9(function(){for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];var f=i.map(function(d){return Toe(d)?l.shift():d});return n.apply(void 0,xGe(f).concat(l))}))})},E2=function(e){return EGe(e.length,e)},WL=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},MGe=E2(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),AGe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return CGe;var i=n.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(a,l){return l(a)},s.apply(void 0,arguments))}},GL=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Poe=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return n&&s.every(function(a,l){return a===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function TGe(t){var e;return t===0?e=1:e=Math.floor(new Zn(t).abs().log(10).toNumber())+1,e}function PGe(t,e,n){for(var r=new Zn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var NGe=E2(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),RGe=E2(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),kGe=E2(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const M2={rangeStep:PGe,getDigitCount:TGe,interpolateNumber:NGe,uninterpolateNumber:RGe,uninterpolateTruncation:kGe};function qL(t){return jGe(t)||IGe(t)||Noe(t)||OGe()}function OGe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IGe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jGe(t){if(Array.isArray(t))return KL(t)}function vb(t,e){return FGe(t)||LGe(t,e)||Noe(t,e)||DGe()}function DGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Noe(t,e){if(t){if(typeof t=="string")return KL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KL(t,e)}}function KL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function LGe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),a;!(r=(a=o.next()).done)&&(n.push(a.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw s}}return n}}function FGe(t){if(Array.isArray(t))return t}function Roe(t){var e=vb(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function koe(t,e,n){if(t.lte(0))return new Zn(0);var r=M2.getDigitCount(t.toNumber()),i=new Zn(10).pow(r),s=t.div(i),o=r!==1?.05:.1,a=new Zn(Math.ceil(s.div(o).toNumber())).add(n).mul(o),l=a.mul(i);return e?l:new Zn(Math.ceil(l))}function BGe(t,e,n){var r=1,i=new Zn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Zn(10).pow(M2.getDigitCount(t)-1),i=new Zn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Zn(Math.floor(t)))}else t===0?i=new Zn(Math.floor((e-1)/2)):n||(i=new Zn(Math.floor(t)));var o=Math.floor((e-1)/2),a=AGe(MGe(function(l){return i.add(new Zn(l-o).mul(r)).toNumber()}),WL);return a(0,e)}function Ooe(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new Zn(0),tickMin:new Zn(0),tickMax:new Zn(0)};var s=koe(new Zn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new Zn(0):(o=new Zn(t).add(e).div(2),o=o.sub(new Zn(o).mod(s)));var a=Math.ceil(o.sub(t).div(s).toNumber()),l=Math.ceil(new Zn(e).sub(o).div(s).toNumber()),c=a+l+1;return c>n?Ooe(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,a=e>0?a:a+(n-c)),{step:s,tickMin:o.sub(new Zn(a).mul(s)),tickMax:o.add(new Zn(l).mul(s))})}function UGe(t){var e=vb(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),a=Roe([n,r]),l=vb(a,2),c=l[0],f=l[1];if(c===-1/0||f===1/0){var d=f===1/0?[c].concat(qL(WL(0,i-1).map(function(){return 1/0}))):[].concat(qL(WL(0,i-1).map(function(){return-1/0})),[f]);return n>r?GL(d):d}if(c===f)return BGe(c,i,s);var h=Ooe(c,f,o,s),g=h.step,v=h.tickMin,x=h.tickMax,m=M2.rangeStep(v,x.add(new Zn(.1).mul(g)),g);return n>r?GL(m):m}function $Ge(t,e){var n=vb(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Roe([r,i]),a=vb(o,2),l=a[0],c=a[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var f=Math.max(e,2),d=koe(new Zn(c).sub(l).div(f-1),s,0),h=[].concat(qL(M2.rangeStep(new Zn(l),new Zn(c).sub(new Zn(.99).mul(d)),d)),[c]);return r>i?GL(h):h}var zGe=Poe(UGe),HGe=Poe($Ge),VGe="Invariant failed";function yp(t,e){throw new Error(VGe)}var WGe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Uv(t){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uv(t)}function xA(){return xA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xA.apply(this,arguments)}function GGe(t,e){return YGe(t)||XGe(t,e)||KGe(t,e)||qGe()}function qGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KGe(t,e){if(t){if(typeof t=="string")return a9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a9(t,e)}}function a9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function XGe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function YGe(t){if(Array.isArray(t))return t}function ZGe(t,e){if(t==null)return{};var n=QGe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QGe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JGe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e7e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Doe(r.key),r)}}function t7e(t,e,n){return e&&e7e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function n7e(t,e,n){return e=_A(e),r7e(t,Ioe()?Reflect.construct(e,n||[],_A(t).constructor):e.apply(t,n))}function r7e(t,e){if(e&&(Uv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i7e(t)}function i7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ioe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ioe=function(){return!!t})()}function _A(t){return _A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_A(t)}function s7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XL(t,e)}function XL(t,e){return XL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XL(t,e)}function joe(t,e,n){return e=Doe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Doe(t){var e=o7e(t,"string");return Uv(e)=="symbol"?e:e+""}function o7e(t,e){if(Uv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Uv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yw=function(t){function e(){return JGe(this,e),n7e(this,e,arguments)}return s7e(e,t),t7e(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,o=r.width,a=r.dataKey,l=r.data,c=r.dataPointFormatter,f=r.xAxis,d=r.yAxis,h=ZGe(r,WGe),g=kt(h,!1);this.props.direction==="x"&&f.type!=="number"&&yp();var v=l.map(function(x){var m=c(x,a),p=m.x,y=m.y,_=m.value,b=m.errorVal;if(!b)return null;var w=[],E,A;if(Array.isArray(b)){var T=GGe(b,2);E=T[0],A=T[1]}else E=A=b;if(s==="vertical"){var P=f.scale,N=y+i,O=N+o,I=N-o,D=P(_-E),F=P(_+A);w.push({x1:F,y1:O,x2:F,y2:I}),w.push({x1:D,y1:N,x2:F,y2:N}),w.push({x1:D,y1:O,x2:D,y2:I})}else if(s==="horizontal"){var $=d.scale,z=p+i,H=z-o,R=z+o,j=$(_-E),B=$(_+A);w.push({x1:H,y1:B,x2:R,y2:B}),w.push({x1:z,y1:j,x2:z,y2:B}),w.push({x1:H,y1:j,x2:R,y2:j})}return ne.createElement(_n,xA({className:"recharts-errorBar",key:"bar-".concat(w.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},g),w.map(function(W){return ne.createElement("line",xA({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return ne.createElement(_n,{className:"recharts-errorBars"},v)}}])}(ne.Component);joe(Yw,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});joe(Yw,"displayName","ErrorBar");function yb(t){"@babel/helpers - typeof";return yb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yb(t)}function l9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Lf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l9(Object(n),!0).forEach(function(r){a7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a7e(t,e,n){return e=l7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l7e(t){var e=c7e(t,"string");return yb(e)=="symbol"?e:e+""}function c7e(t,e){if(yb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Loe=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=po(n,Hh);if(!o)return null;var a=Hh.defaultProps,l=a!==void 0?Lf(Lf({},a),o.props):{},c;return o.props&&o.props.payload?c=o.props&&o.props.payload:s==="children"?c=(r||[]).reduce(function(f,d){var h=d.item,g=d.props,v=g.sectors||g.data||[];return f.concat(v.map(function(x){return{type:o.props.iconType||h.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):c=(r||[]).map(function(f){var d=f.item,h=d.type.defaultProps,g=h!==void 0?Lf(Lf({},h),d.props):{},v=g.dataKey,x=g.name,m=g.legendType,p=g.hide;return{inactive:p,dataKey:v,type:l.iconType||m||"square",color:uU(d),value:x||v,payload:g}}),Lf(Lf(Lf({},l),Hh.getWithHeight(o,i)),{},{payload:c,item:o})};function xb(t){"@babel/helpers - typeof";return xb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xb(t)}function c9(t){return h7e(t)||f7e(t)||d7e(t)||u7e()}function u7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function d7e(t,e){if(t){if(typeof t=="string")return YL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return YL(t,e)}}function f7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function h7e(t){if(Array.isArray(t))return YL(t)}function YL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(n),!0).forEach(function(r){Zg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zg(t,e,n){return e=p7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p7e(t){var e=m7e(t,"string");return xb(e)=="symbol"?e:e+""}function m7e(t,e){if(xb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qr(t,e,n){return Jt(t)||Jt(e)?n:hi(e)?Co(t,e,n):Gt(e)?e(t):n}function d_(t,e,n,r){var i=fGe(t,function(a){return qr(a,e)});if(n==="number"){var s=i.filter(function(a){return it(a)||parseFloat(a)});return s.length?[C2(s),kd(s)]:[1/0,-1/0]}var o=r?i.filter(function(a){return!Jt(a)}):i;return o.map(function(a){return hi(a)||a instanceof Date?a:""})}var g7e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,a=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(a<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<a;c++){var f=c>0?i[c-1].coordinate:i[a-1].coordinate,d=i[c].coordinate,h=c>=a-1?i[0].coordinate:i[c+1].coordinate,g=void 0;if(bs(d-f)!==bs(h-d)){var v=[];if(bs(h-d)===bs(l[1]-l[0])){g=h;var x=d+l[1]-l[0];v[0]=Math.min(x,(x+f)/2),v[1]=Math.max(x,(x+f)/2)}else{g=f;var m=h+l[1]-l[0];v[0]=Math.min(d,(m+d)/2),v[1]=Math.max(d,(m+d)/2)}var p=[Math.min(d,(g+d)/2),Math.max(d,(g+d)/2)];if(e>p[0]&&e<=p[1]||e>=v[0]&&e<=v[1]){o=i[c].index;break}}else{var y=Math.min(f,h),_=Math.max(f,h);if(e>(y+d)/2&&e<=(_+d)/2){o=i[c].index;break}}}else for(var b=0;b<a;b++)if(b===0&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===a-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o},uU=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,o=s.stroke,a=s.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:a;break;default:l=a;break}return l},v7e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},a=Object.keys(s),l=0,c=a.length;l<c;l++)for(var f=s[a[l]].stackGroups,d=Object.keys(f),h=0,g=d.length;h<g;h++){var v=f[d[h]],x=v.items,m=v.cateAxisId,p=x.filter(function(A){return eu(A.type).indexOf("Bar")>=0});if(p&&p.length){var y=p[0].type.defaultProps,_=y!==void 0?Fr(Fr({},y),p[0].props):p[0].props,b=_.barSize,w=_[m];o[w]||(o[w]=[]);var E=Jt(b)?n:b;o[w].push({item:p[0],stackList:p.slice(1),barSize:Jt(E)?void 0:ws(E,r,0)})}}return o},y7e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,a=e.maxBarSize,l=o.length;if(l<1)return null;var c=ws(n,i,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,g=i/l,v=o.reduce(function(b,w){return b+w.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var x=(i-v)/2>>0,m={offset:x-c,size:0};f=o.reduce(function(b,w){var E={item:w.item,position:{offset:m.offset+m.size+c,size:h?g:w.barSize}},A=[].concat(c9(b),[E]);return m=A[A.length-1].position,w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){A.push({item:T,position:m})}),A},d)}else{var p=ws(r,i,0,!0);i-2*p-(l-1)*c<=0&&(c=0);var y=(i-2*p-(l-1)*c)/l;y>1&&(y>>=0);var _=a===+a?Math.min(y,a):y;f=o.reduce(function(b,w,E){var A=[].concat(c9(b),[{item:w.item,position:{offset:p+(y+c)*E+(y-_)/2,size:_}}]);return w.stackList&&w.stackList.length&&w.stackList.forEach(function(T){A.push({item:T,position:A[A.length-1].position})}),A},d)}return f},x7e=function(e,n,r,i){var s=r.children,o=r.width,a=r.margin,l=o-(a.left||0)-(a.right||0),c=Loe({children:s,legendWidth:l});if(c){var f=i||{},d=f.width,h=f.height,g=c.align,v=c.verticalAlign,x=c.layout;if((x==="vertical"||x==="horizontal"&&v==="middle")&&g!=="center"&&it(e[g]))return Fr(Fr({},e),{},Zg({},g,e[g]+(d||0)));if((x==="horizontal"||x==="vertical"&&g==="center")&&v!=="middle"&&it(e[v]))return Fr(Fr({},e),{},Zg({},v,e[v]+(h||0)))}return e},_7e=function(e,n,r){return Jt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Foe=function(e,n,r,i,s){var o=n.props.children,a=Eo(o,Yw).filter(function(c){return _7e(i,s,c.props.direction)});if(a&&a.length){var l=a.map(function(c){return c.props.dataKey});return e.reduce(function(c,f){var d=qr(f,r);if(Jt(d))return c;var h=Array.isArray(d)?[C2(d),kd(d)]:[d,d],g=l.reduce(function(v,x){var m=qr(f,x,0),p=h[0]-Math.abs(Array.isArray(m)?m[0]:m),y=h[1]+Math.abs(Array.isArray(m)?m[1]:m);return[Math.min(p,v[0]),Math.max(y,v[1])]},[1/0,-1/0]);return[Math.min(g[0],c[0]),Math.max(g[1],c[1])]},[1/0,-1/0])}return null},b7e=function(e,n,r,i,s){var o=n.map(function(a){return Foe(e,a,r,s,i)}).filter(function(a){return!Jt(a)});return o&&o.length?o.reduce(function(a,l){return[Math.min(a[0],l[0]),Math.max(a[1],l[1])]},[1/0,-1/0]):null},Boe=function(e,n,r,i,s){var o=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Foe(e,l,c,i)||d_(e,c,r,s)});if(r==="number")return o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var a={};return o.reduce(function(l,c){for(var f=0,d=c.length;f<d;f++)a[c[f]]||(a[c[f]]=!0,l.push(c[f]));return l},[])},Uoe=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},$oe=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,o,a=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(o=!0),l.coordinate});return s||a.push(n),o||a.push(r),a},Xc=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,a=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(a==null?void 0:a.length)>=2?bs(a[0]-a[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(d){var h=s?s.indexOf(d):d;return{coordinate:i(h)+c,value:d,offset:c}});return f.filter(function(d){return!Vy(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,h){return{coordinate:i(d)+c,value:d,index:h,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,h){return{coordinate:i(d)+c,value:s?s[d]:d,index:h,offset:c}})},LO=new WeakMap,sC=function(e,n){if(typeof n!="function")return e;LO.has(e)||LO.set(e,new WeakMap);var r=LO.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},zoe=function(e,n,r){var i=e.scale,s=e.type,o=e.layout,a=e.axisType;if(i==="auto")return o==="radial"&&a==="radiusAxis"?{scale:fb(),realScaleType:"band"}:o==="radial"&&a==="angleAxis"?{scale:pA(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:u_(),realScaleType:"point"}:s==="category"?{scale:fb(),realScaleType:"band"}:{scale:pA(),realScaleType:"linear"};if(Vw(i)){var l="scale".concat(c2(i));return{scale:(r9[l]||u_)(),realScaleType:r9[l]?l:"point"}}return Gt(i)?{scale:i}:{scale:u_(),realScaleType:"point"}},d9=1e-4,Hoe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-d9,o=Math.max(i[0],i[1])+d9,a=e(n[0]),l=e(n[r-1]);(a<s||a>o||l<s||l>o)&&e.domain([n[0],n[r-1]])}},w7e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},S7e=function(e,n){if(!n||n.length!==2||!it(n[0])||!it(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!it(e[0])||e[0]<r)&&(s[0]=r),(!it(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},C7e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0,a=0;a<n;++a){var l=Vy(e[a][r][1])?e[a][r][0]:e[a][r][1];l>=0?(e[a][r][0]=s,e[a][r][1]=s+l,s=e[a][r][1]):(e[a][r][0]=o,e[a][r][1]=o+l,o=e[a][r][1])}},E7e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,o=0;o<n;++o){var a=Vy(e[o][r][1])?e[o][r][0]:e[o][r][1];a>=0?(e[o][r][0]=s,e[o][r][1]=s+a,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},M7e={sign:C7e,expand:B3e,none:kv,silhouette:U3e,wiggle:$3e,positive:E7e},A7e=function(e,n,r){var i=n.map(function(a){return a.props.dataKey}),s=M7e[r],o=F3e().keys(i).value(function(a,l){return+qr(a,l,0)}).order(_L).offset(s);return o(e)},T7e=function(e,n,r,i,s,o){if(!e)return null;var a=o?n.reverse():n,l={},c=a.reduce(function(d,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?Fr(Fr({},h.type.defaultProps),h.props):h.props,x=v.stackId,m=v.hide;if(m)return d;var p=v[r],y=d[p]||{hasStack:!1,stackGroups:{}};if(hi(x)){var _=y.stackGroups[x]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),y.hasStack=!0,y.stackGroups[x]=_}else y.stackGroups[Fp("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Fr(Fr({},d),{},Zg({},p,y))},l),f={};return Object.keys(c).reduce(function(d,h){var g=c[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(x,m){var p=g.stackGroups[m];return Fr(Fr({},x),{},Zg({},m,{numericAxisId:r,cateAxisId:i,items:p.items,stackedData:A7e(e,p.items,s)}))},v)}return Fr(Fr({},d),{},Zg({},h,g))},f)},Voe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,o=n.originalDomain,a=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var c=e.domain();if(!c.length)return null;var f=zGe(c,s,a);return e.domain([C2(f),kd(f)]),{niceTicks:f}}if(s&&i==="number"){var d=e.domain(),h=HGe(d,s,a);return{niceTicks:h}}return null};function bA(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Jt(i[e.dataKey])){var a=qM(n,"value",i[e.dataKey]);if(a)return a.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=qr(i,Jt(o)?e.dataKey:o);return Jt(l)?null:e.scale(l)}var f9=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,a=e.index;if(n.type==="category")return r[a]?r[a].coordinate+i:null;var l=qr(o,n.dataKey,n.domain[a]);return Jt(l)?null:n.scale(l)-s/2+i},P7e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},N7e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(hi(s)){var o=n[s];if(o){var a=o.items.indexOf(e);return a>=0?o.stackedData[a]:null}}return null},R7e=function(e){return e.reduce(function(n,r){return[C2(r.concat([n[0]]).filter(it)),kd(r.concat([n[1]]).filter(it))]},[1/0,-1/0])},Woe=function(e,n,r){return Object.keys(e).reduce(function(i,s){var o=e[s],a=o.stackedData,l=a.reduce(function(c,f){var d=R7e(f.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},h9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,p9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ZL=function(e,n,r){if(Gt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(it(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(h9.test(e[0])){var s=+h9.exec(e[0])[1];i[0]=n[0]-s}else Gt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(it(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(p9.test(e[1])){var o=+p9.exec(e[1])[1];i[1]=n[1]+o}else Gt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},wA=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=F5(n,function(d){return d.coordinate}),o=1/0,a=1,l=s.length;a<l;a++){var c=s[a],f=s[a-1];o=Math.min((c.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},m9=function(e,n,r){return!e||!e.length||gp(e,Co(r,"type.defaultProps.domain"))?n:e},Goe=function(e,n){var r=e.type.defaultProps?Fr(Fr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,o=r.unit,a=r.formatter,l=r.tooltipType,c=r.chartType,f=r.hide;return Fr(Fr({},kt(e,!1)),{},{dataKey:i,unit:o,formatter:a,name:s||i,color:uU(e),value:qr(n,i),type:l,payload:n,chartType:c,hide:f})};function _b(t){"@babel/helpers - typeof";return _b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_b(t)}function g9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(n),!0).forEach(function(r){qoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qoe(t,e,n){return e=k7e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k7e(t){var e=O7e(t,"string");return _b(e)=="symbol"?e:e+""}function O7e(t,e){if(_b(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_b(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I7e(t,e){return F7e(t)||L7e(t,e)||D7e(t,e)||j7e()}function j7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D7e(t,e){if(t){if(typeof t=="string")return v9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v9(t,e)}}function v9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function L7e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function F7e(t){if(Array.isArray(t))return t}var SA=Math.PI/180,B7e=function(e){return e*180/Math.PI},ar=function(e,n,r,i){return{x:e+Math.cos(-SA*i)*r,y:n+Math.sin(-SA*i)*r}},Koe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},U7e=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.startAngle,c=e.endAngle,f=ws(e.cx,o,o/2),d=ws(e.cy,a,a/2),h=Koe(o,a,r),g=ws(e.innerRadius,h,0),v=ws(e.outerRadius,h,h*.8),x=Object.keys(n);return x.reduce(function(m,p){var y=n[p],_=y.domain,b=y.reversed,w;if(Jt(y.range))i==="angleAxis"?w=[l,c]:i==="radiusAxis"&&(w=[g,v]),b&&(w=[w[1],w[0]]);else{w=y.range;var E=w,A=I7e(E,2);l=A[0],c=A[1]}var T=zoe(y,s),P=T.realScaleType,N=T.scale;N.domain(_).range(w),Hoe(N);var O=Voe(N,Fc(Fc({},y),{},{realScaleType:P})),I=Fc(Fc(Fc({},y),O),{},{range:w,radius:v,realScaleType:P,scale:N,cx:f,cy:d,innerRadius:g,outerRadius:v,startAngle:l,endAngle:c});return Fc(Fc({},m),{},qoe({},p,I))},{})},$7e=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-o,2))},z7e=function(e,n){var r=e.x,i=e.y,s=n.cx,o=n.cy,a=$7e({x:r,y:i},{x:s,y:o});if(a<=0)return{radius:a};var l=(r-s)/a,c=Math.acos(l);return i>o&&(c=2*Math.PI-c),{radius:a,angle:B7e(c),angleInRadian:c}},H7e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),o=Math.min(i,s);return{startAngle:n-o*360,endAngle:r-o*360}},V7e=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),o=Math.floor(i/360),a=Math.min(s,o);return e+a*360},y9=function(e,n){var r=e.x,i=e.y,s=z7e({x:r,y:i},n),o=s.radius,a=s.angle,l=n.innerRadius,c=n.outerRadius;if(o<l||o>c)return!1;if(o===0)return!0;var f=H7e(n),d=f.startAngle,h=f.endAngle,g=a,v;if(d<=h){for(;g>h;)g-=360;for(;g<d;)g+=360;v=g>=d&&g<=h}else{for(;g>d;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=d}return v?Fc(Fc({},n),{},{radius:o,angle:V7e(g,n)}):null},Xoe=function(e){return!M.isValidElement(e)&&!Gt(e)&&typeof e!="boolean"?e.className:""};function bb(t){"@babel/helpers - typeof";return bb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bb(t)}var W7e=["offset"];function G7e(t){return Y7e(t)||X7e(t)||K7e(t)||q7e()}function q7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K7e(t,e){if(t){if(typeof t=="string")return QL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QL(t,e)}}function X7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Y7e(t){if(Array.isArray(t))return QL(t)}function QL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Z7e(t,e){if(t==null)return{};var n=Q7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Q7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function x9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ai(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(n),!0).forEach(function(r){J7e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):x9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J7e(t,e,n){return e=e9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e9e(t){var e=t9e(t,"string");return bb(e)=="symbol"?e:e+""}function t9e(t,e){if(bb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wb(){return wb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wb.apply(this,arguments)}var n9e=function(e){var n=e.value,r=e.formatter,i=Jt(e.children)?n:e.children;return Gt(r)?r(i):i},r9e=function(e,n){var r=bs(n-e),i=Math.min(Math.abs(n-e),360);return r*i},i9e=function(e,n,r){var i=e.position,s=e.viewBox,o=e.offset,a=e.className,l=s,c=l.cx,f=l.cy,d=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,x=l.clockWise,m=(d+h)/2,p=r9e(g,v),y=p>=0?1:-1,_,b;i==="insideStart"?(_=g+y*o,b=x):i==="insideEnd"?(_=v-y*o,b=!x):i==="end"&&(_=v+y*o,b=x),b=p<=0?b:!b;var w=ar(c,f,m,_),E=ar(c,f,m,_+(b?1:-1)*359),A="M".concat(w.x,",").concat(w.y,`
    A`).concat(m,",").concat(m,",0,1,").concat(b?0:1,`,
    `).concat(E.x,",").concat(E.y),T=Jt(e.id)?Fp("recharts-radial-line-"):e.id;return ne.createElement("text",wb({},r,{dominantBaseline:"central",className:nn("recharts-radial-bar-label",a)}),ne.createElement("defs",null,ne.createElement("path",{id:T,d:A})),ne.createElement("textPath",{xlinkHref:"#".concat(T)},n))},s9e=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,o=s.cx,a=s.cy,l=s.innerRadius,c=s.outerRadius,f=s.startAngle,d=s.endAngle,h=(f+d)/2;if(i==="outside"){var g=ar(o,a,c+r,h),v=g.x,x=g.y;return{x:v,y:x,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:a,textAnchor:"middle",verticalAnchor:"end"};var m=(l+c)/2,p=ar(o,a,m,h),y=p.x,_=p.y;return{x:y,y:_,textAnchor:"middle",verticalAnchor:"middle"}},o9e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,o=n,a=o.x,l=o.y,c=o.width,f=o.height,d=f>=0?1:-1,h=d*i,g=d>0?"end":"start",v=d>0?"start":"end",x=c>=0?1:-1,m=x*i,p=x>0?"end":"start",y=x>0?"start":"end";if(s==="top"){var _={x:a+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:g};return ai(ai({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var b={x:a+c/2,y:l+f+h,textAnchor:"middle",verticalAnchor:v};return ai(ai({},b),r?{height:Math.max(r.y+r.height-(l+f),0),width:c}:{})}if(s==="left"){var w={x:a-m,y:l+f/2,textAnchor:p,verticalAnchor:"middle"};return ai(ai({},w),r?{width:Math.max(w.x-r.x,0),height:f}:{})}if(s==="right"){var E={x:a+c+m,y:l+f/2,textAnchor:y,verticalAnchor:"middle"};return ai(ai({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:f}:{})}var A=r?{width:c,height:f}:{};return s==="insideLeft"?ai({x:a+m,y:l+f/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideRight"?ai({x:a+c-m,y:l+f/2,textAnchor:p,verticalAnchor:"middle"},A):s==="insideTop"?ai({x:a+c/2,y:l+h,textAnchor:"middle",verticalAnchor:v},A):s==="insideBottom"?ai({x:a+c/2,y:l+f-h,textAnchor:"middle",verticalAnchor:g},A):s==="insideTopLeft"?ai({x:a+m,y:l+h,textAnchor:y,verticalAnchor:v},A):s==="insideTopRight"?ai({x:a+c-m,y:l+h,textAnchor:p,verticalAnchor:v},A):s==="insideBottomLeft"?ai({x:a+m,y:l+f-h,textAnchor:y,verticalAnchor:g},A):s==="insideBottomRight"?ai({x:a+c-m,y:l+f-h,textAnchor:p,verticalAnchor:g},A):Uy(s)&&(it(s.x)||Sh(s.x))&&(it(s.y)||Sh(s.y))?ai({x:a+ws(s.x,c),y:l+ws(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):ai({x:a+c/2,y:l+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},a9e=function(e){return"cx"in e&&it(e.cx)};function Ai(t){var e=t.offset,n=e===void 0?5:e,r=Z7e(t,W7e),i=ai({offset:n},r),s=i.viewBox,o=i.position,a=i.value,l=i.children,c=i.content,f=i.className,d=f===void 0?"":f,h=i.textBreakAll;if(!s||Jt(a)&&Jt(l)&&!M.isValidElement(c)&&!Gt(c))return null;if(M.isValidElement(c))return M.cloneElement(c,i);var g;if(Gt(c)){if(g=M.createElement(c,i),M.isValidElement(g))return g}else g=n9e(i);var v=a9e(s),x=kt(i,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return i9e(i,g,x);var m=v?s9e(i):o9e(i);return ne.createElement(pp,wb({className:nn("recharts-label",d)},x,m,{breakAll:h}),g)}Ai.displayName="Label";var Yoe=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,a=e.r,l=e.radius,c=e.innerRadius,f=e.outerRadius,d=e.x,h=e.y,g=e.top,v=e.left,x=e.width,m=e.height,p=e.clockWise,y=e.labelViewBox;if(y)return y;if(it(x)&&it(m)){if(it(d)&&it(h))return{x:d,y:h,width:x,height:m};if(it(g)&&it(v))return{x:g,y:v,width:x,height:m}}return it(d)&&it(h)?{x:d,y:h,width:0,height:0}:it(n)&&it(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:o||i||0,innerRadius:c||0,outerRadius:f||l||a||0,clockWise:p}:e.viewBox?e.viewBox:{}},l9e=function(e,n){return e?e===!0?ne.createElement(Ai,{key:"label-implicit",viewBox:n}):hi(e)?ne.createElement(Ai,{key:"label-implicit",viewBox:n,value:e}):M.isValidElement(e)?e.type===Ai?M.cloneElement(e,{key:"label-implicit",viewBox:n}):ne.createElement(Ai,{key:"label-implicit",content:e,viewBox:n}):Gt(e)?ne.createElement(Ai,{key:"label-implicit",content:e,viewBox:n}):Uy(e)?ne.createElement(Ai,wb({viewBox:n},e,{key:"label-implicit"})):null:null},c9e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=Yoe(e),o=Eo(i,Ai).map(function(l,c){return M.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return o;var a=l9e(e.label,n||s);return[a].concat(G7e(o))};Ai.parseViewBox=Yoe;Ai.renderCallByParent=c9e;function u9e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var d9e=u9e;const f9e=Sn(d9e);function Sb(t){"@babel/helpers - typeof";return Sb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sb(t)}var h9e=["valueAccessor"],p9e=["data","dataKey","clockWise","id","textBreakAll"];function m9e(t){return x9e(t)||y9e(t)||v9e(t)||g9e()}function g9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v9e(t,e){if(t){if(typeof t=="string")return JL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JL(t,e)}}function y9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function x9e(t){if(Array.isArray(t))return JL(t)}function JL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CA(){return CA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CA.apply(this,arguments)}function _9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function b9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_9(Object(n),!0).forEach(function(r){_9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _9e(t,e,n){return e=b9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function b9e(t){var e=w9e(t,"string");return Sb(e)=="symbol"?e:e+""}function w9e(t,e){if(Sb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function w9(t,e){if(t==null)return{};var n=S9e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S9e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var C9e=function(e){return Array.isArray(e.value)?f9e(e.value):e.value};function Kl(t){var e=t.valueAccessor,n=e===void 0?C9e:e,r=w9(t,h9e),i=r.data,s=r.dataKey,o=r.clockWise,a=r.id,l=r.textBreakAll,c=w9(r,p9e);return!i||!i.length?null:ne.createElement(_n,{className:"recharts-label-list"},i.map(function(f,d){var h=Jt(s)?n(f,d):qr(f&&f.payload,s),g=Jt(a)?{}:{id:"".concat(a,"-").concat(d)};return ne.createElement(Ai,CA({},kt(f,!0),c,g,{parentViewBox:f.parentViewBox,value:h,textBreakAll:l,viewBox:Ai.parseViewBox(Jt(o)?f:b9(b9({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Kl.displayName="LabelList";function E9e(t,e){return t?t===!0?ne.createElement(Kl,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||Gt(t)?ne.createElement(Kl,{key:"labelList-implicit",data:e,content:t}):Uy(t)?ne.createElement(Kl,CA({data:e},t,{key:"labelList-implicit"})):null:null}function M9e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Eo(r,Kl).map(function(o,a){return M.cloneElement(o,{data:e,key:"labelList-".concat(a)})});if(!n)return i;var s=E9e(t.label,e);return[s].concat(m9e(i))}Kl.renderCallByParent=M9e;function Cb(t){"@babel/helpers - typeof";return Cb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cb(t)}function e3(){return e3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e3.apply(this,arguments)}function S9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(n),!0).forEach(function(r){A9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):S9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function A9e(t,e,n){return e=T9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function T9e(t){var e=P9e(t,"string");return Cb(e)=="symbol"?e:e+""}function P9e(t,e){if(Cb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N9e=function(e,n){var r=bs(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},oC=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,o=e.sign,a=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,f=l*(a?1:-1)+i,d=Math.asin(l/f)/SA,h=c?s:s+o*d,g=ar(n,r,f,h),v=ar(n,r,i,h),x=c?s-o*d:s,m=ar(n,r,f*Math.cos(d*SA),x);return{center:g,circleTangency:v,lineTangency:m,theta:d}},Zoe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,a=e.endAngle,l=N9e(o,a),c=o+l,f=ar(n,r,s,o),d=ar(n,r,s,c),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var g=ar(n,r,i,o),v=ar(n,r,i,c);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=c),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},R9e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,a=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,f=e.endAngle,d=bs(f-c),h=oC({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:o,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,x=h.theta,m=oC({cx:n,cy:r,radius:s,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:l}),p=m.circleTangency,y=m.lineTangency,_=m.theta,b=l?Math.abs(c-f):Math.abs(c-f)-x-_;if(b<0)return a?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Zoe({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:f});var w="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(b>180),",").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(i>0){var E=oC({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),A=E.circleTangency,T=E.lineTangency,P=E.theta,N=oC({cx:n,cy:r,radius:i,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),O=N.circleTangency,I=N.lineTangency,D=N.theta,F=l?Math.abs(c-f):Math.abs(c-f)-P-D;if(F<0&&o===0)return"".concat(w,"L").concat(n,",").concat(r,"Z");w+="L".concat(I.x,",").concat(I.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(F>180),",").concat(+(d>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,"Z")}else w+="L".concat(n,",").concat(r,"Z");return w},k9e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Qoe=function(e){var n=C9(C9({},k9e),e),r=n.cx,i=n.cy,s=n.innerRadius,o=n.outerRadius,a=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,f=n.startAngle,d=n.endAngle,h=n.className;if(o<s||f===d)return null;var g=nn("recharts-sector",h),v=o-s,x=ws(a,v,0,!0),m;return x>0&&Math.abs(f-d)<360?m=R9e({cx:r,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:f,endAngle:d}):m=Zoe({cx:r,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:d}),ne.createElement("path",e3({},kt(n,!0),{className:g,d:m,role:"img"}))};function Eb(t){"@babel/helpers - typeof";return Eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Eb(t)}function t3(){return t3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t3.apply(this,arguments)}function E9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function M9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E9(Object(n),!0).forEach(function(r){O9e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O9e(t,e,n){return e=I9e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function I9e(t){var e=j9e(t,"string");return Eb(e)=="symbol"?e:e+""}function j9e(t,e){if(Eb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Eb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var A9={curveBasisClosed:A3e,curveBasisOpen:T3e,curveBasis:M3e,curveBumpX:f3e,curveBumpY:h3e,curveLinearClosed:P3e,curveLinear:d2,curveMonotoneX:N3e,curveMonotoneY:R3e,curveNatural:k3e,curveStep:O3e,curveStepAfter:j3e,curveStepBefore:I3e},aC=function(e){return e.x===+e.x&&e.y===+e.y},r0=function(e){return e.x},i0=function(e){return e.y},D9e=function(e,n){if(Gt(e))return e;var r="curve".concat(c2(e));return(r==="curveMonotone"||r==="curveBump")&&n?A9["".concat(r).concat(n==="vertical"?"Y":"X")]:A9[r]||d2},L9e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,o=e.baseLine,a=e.layout,l=e.connectNulls,c=l===void 0?!1:l,f=D9e(r,a),d=c?s.filter(function(x){return aC(x)}):s,h;if(Array.isArray(o)){var g=c?o.filter(function(x){return aC(x)}):o,v=d.map(function(x,m){return M9(M9({},x),{},{base:g[m]})});return a==="vertical"?h=YS().y(i0).x1(r0).x0(function(x){return x.base.x}):h=YS().x(r0).y1(i0).y0(function(x){return x.base.y}),h.defined(aC).curve(f),h(v)}return a==="vertical"&&it(o)?h=YS().y(i0).x1(r0).x0(o):it(o)?h=YS().x(r0).y1(i0).y0(o):h=Hie().x(r0).y(i0),h.defined(aC).curve(f),h(d)},Gh=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?L9e(e):i;return ne.createElement("path",t3({},kt(e,!1),KM(e),{className:nn("recharts-curve",n),d:o,ref:s}))},Joe={exports:{}},F9e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",B9e=F9e,U9e=B9e;function eae(){}function tae(){}tae.resetWarningCache=eae;var $9e=function(){function t(r,i,s,o,a,l){if(l!==U9e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:tae,resetWarningCache:eae};return n.PropTypes=n,n};Joe.exports=$9e();var z9e=Joe.exports;const zn=Sn(z9e);var H9e=Object.getOwnPropertyNames,V9e=Object.getOwnPropertySymbols,W9e=Object.prototype.hasOwnProperty;function T9(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function lC(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,o=s.get(n),a=s.get(r);if(o&&a)return o===r&&a===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function P9(t){return H9e(t).concat(V9e(t))}var G9e=Object.hasOwn||function(t,e){return W9e.call(t,e)};function $p(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var q9e="__v",K9e="__o",X9e="_owner",N9=Object.getOwnPropertyDescriptor,R9=Object.keys;function Y9e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Z9e(t,e){return $p(t.getTime(),e.getTime())}function Q9e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function J9e(t,e){return t===e}function k9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),o,a,l=0;(o=s.next())&&!o.done;){for(var c=e.entries(),f=!1,d=0;(a=c.next())&&!a.done;){if(i[d]){d++;continue}var h=o.value,g=a.value;if(n.equals(h[0],g[0],l,d,t,e,n)&&n.equals(h[1],g[1],h[0],g[0],t,e,n)){f=i[d]=!0;break}d++}if(!f)return!1;l++}return!0}var eqe=$p;function tqe(t,e,n){var r=R9(t),i=r.length;if(R9(e).length!==i)return!1;for(;i-- >0;)if(!nae(t,e,n,r[i]))return!1;return!0}function s0(t,e,n){var r=P9(t),i=r.length;if(P9(e).length!==i)return!1;for(var s,o,a;i-- >0;)if(s=r[i],!nae(t,e,n,s)||(o=N9(t,s),a=N9(e,s),(o||a)&&(!o||!a||o.configurable!==a.configurable||o.enumerable!==a.enumerable||o.writable!==a.writable)))return!1;return!0}function nqe(t,e){return $p(t.valueOf(),e.valueOf())}function rqe(t,e){return t.source===e.source&&t.flags===e.flags}function O9(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),o,a;(o=s.next())&&!o.done;){for(var l=e.values(),c=!1,f=0;(a=l.next())&&!a.done;){if(!i[f]&&n.equals(o.value,a.value,o.value,a.value,t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1}return!0}function iqe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function sqe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function nae(t,e,n,r){return(r===X9e||r===K9e||r===q9e)&&(t.$$typeof||e.$$typeof)?!0:G9e(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var oqe="[object Arguments]",aqe="[object Boolean]",lqe="[object Date]",cqe="[object Error]",uqe="[object Map]",dqe="[object Number]",fqe="[object Object]",hqe="[object RegExp]",pqe="[object Set]",mqe="[object String]",gqe="[object URL]",vqe=Array.isArray,I9=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,j9=Object.assign,yqe=Object.prototype.toString.call.bind(Object.prototype.toString);function xqe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,a=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,f=t.areSetsEqual,d=t.areTypedArraysEqual,h=t.areUrlsEqual;return function(v,x,m){if(v===x)return!0;if(v==null||x==null)return!1;var p=typeof v;if(p!==typeof x)return!1;if(p!=="object")return p==="number"?o(v,x,m):p==="function"?i(v,x,m):!1;var y=v.constructor;if(y!==x.constructor)return!1;if(y===Object)return a(v,x,m);if(vqe(v))return e(v,x,m);if(I9!=null&&I9(v))return d(v,x,m);if(y===Date)return n(v,x,m);if(y===RegExp)return c(v,x,m);if(y===Map)return s(v,x,m);if(y===Set)return f(v,x,m);var _=yqe(v);return _===lqe?n(v,x,m):_===hqe?c(v,x,m):_===uqe?s(v,x,m):_===pqe?f(v,x,m):_===fqe?typeof v.then!="function"&&typeof x.then!="function"&&a(v,x,m):_===gqe?h(v,x,m):_===cqe?r(v,x,m):_===oqe?a(v,x,m):_===aqe||_===dqe||_===mqe?l(v,x,m):!1}}function _qe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?s0:Y9e,areDatesEqual:Z9e,areErrorsEqual:Q9e,areFunctionsEqual:J9e,areMapsEqual:r?T9(k9,s0):k9,areNumbersEqual:eqe,areObjectsEqual:r?s0:tqe,arePrimitiveWrappersEqual:nqe,areRegExpsEqual:rqe,areSetsEqual:r?T9(O9,s0):O9,areTypedArraysEqual:r?s0:iqe,areUrlsEqual:sqe};if(n&&(i=j9({},i,n(i))),e){var s=lC(i.areArraysEqual),o=lC(i.areMapsEqual),a=lC(i.areObjectsEqual),l=lC(i.areSetsEqual);i=j9({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:a,areSetsEqual:l})}return i}function bqe(t){return function(e,n,r,i,s,o,a){return t(e,n,a)}}function wqe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var f=r(),d=f.cache,h=d===void 0?e?new WeakMap:void 0:d,g=f.meta;return n(l,c,{cache:h,equals:i,meta:g,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,o)}}var Sqe=vf();vf({strict:!0});vf({circular:!0});vf({circular:!0,strict:!0});vf({createInternalComparator:function(){return $p}});vf({strict:!0,createInternalComparator:function(){return $p}});vf({circular:!0,createInternalComparator:function(){return $p}});vf({circular:!0,createInternalComparator:function(){return $p},strict:!0});function vf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,a=_qe(t),l=xqe(a),c=r?r(l):bqe(l);return wqe({circular:n,comparator:l,createState:i,equals:c,strict:o})}function Cqe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function D9(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Cqe(i)};requestAnimationFrame(r)}function n3(t){"@babel/helpers - typeof";return n3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n3(t)}function Eqe(t){return Pqe(t)||Tqe(t)||Aqe(t)||Mqe()}function Mqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Aqe(t,e){if(t){if(typeof t=="string")return L9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L9(t,e)}}function L9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Pqe(t){if(Array.isArray(t))return t}function Nqe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,a=Eqe(o),l=a[0],c=a.slice(1);if(typeof l=="number"){D9(i.bind(null,c),l);return}i(l),D9(i.bind(null,c));return}n3(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Mb(t){"@babel/helpers - typeof";return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mb(t)}function F9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function B9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F9(Object(n),!0).forEach(function(r){rae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rae(t,e,n){return e=Rqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rqe(t){var e=kqe(t,"string");return Mb(e)==="symbol"?e:String(e)}function kqe(t,e){if(Mb(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mb(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oqe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Iqe=function(e){return e},jqe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},f_=function(e,n){return Object.keys(n).reduce(function(r,i){return B9(B9({},r),{},rae({},i,e(i,n[i])))},{})},U9=function(e,n,r){return e.map(function(i){return"".concat(jqe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Dqe(t,e){return Bqe(t)||Fqe(t,e)||iae(t,e)||Lqe()}function Lqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fqe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Bqe(t){if(Array.isArray(t))return t}function Uqe(t){return Hqe(t)||zqe(t)||iae(t)||$qe()}function $qe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iae(t,e){if(t){if(typeof t=="string")return r3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r3(t,e)}}function zqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Hqe(t){if(Array.isArray(t))return r3(t)}function r3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EA=1e-4,sae=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},oae=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},$9=function(e,n){return function(r){var i=sae(e,n);return oae(i,r)}},Vqe=function(e,n){return function(r){var i=sae(e,n),s=[].concat(Uqe(i.map(function(o,a){return o*a}).slice(1)),[0]);return oae(s,r)}},z9=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],o=n[2],a=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,o=1,a=1;break;case"ease":i=.25,s=.1,o=.25,a=1;break;case"ease-in":i=.42,s=0,o=1,a=1;break;case"ease-out":i=.42,s=0,o=.58,a=1;break;case"ease-in-out":i=0,s=0,o=.58,a=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(m){return parseFloat(m)}),f=Dqe(c,4);i=f[0],s=f[1],o=f[2],a=f[3]}}}var d=$9(i,o),h=$9(s,a),g=Vqe(i,o),v=function(p){return p>1?1:p<0?0:p},x=function(p){for(var y=p>1?1:p,_=y,b=0;b<8;++b){var w=d(_)-y,E=g(_);if(Math.abs(w-y)<EA||E<EA)return h(_);_=v(_-w/E)}return h(_)};return x.isStepper=!1,x},Wqe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,o=e.dt,a=o===void 0?17:o,l=function(f,d,h){var g=-(f-d)*r,v=h*s,x=h+(g-v)*a/1e3,m=h*a/1e3+f;return Math.abs(m-d)<EA&&Math.abs(x)<EA?[d,0]:[m,x]};return l.isStepper=!0,l.dt=a,l},Gqe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return z9(i);case"spring":return Wqe();default:if(i.split("(")[0]==="cubic-bezier")return z9(i)}return typeof i=="function"?i:null};function Ab(t){"@babel/helpers - typeof";return Ab=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ab(t)}function H9(t){return Xqe(t)||Kqe(t)||aae(t)||qqe()}function qqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kqe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Xqe(t){if(Array.isArray(t))return s3(t)}function V9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(n),!0).forEach(function(r){i3(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i3(t,e,n){return e=Yqe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yqe(t){var e=Zqe(t,"string");return Ab(e)==="symbol"?e:String(e)}function Zqe(t,e){if(Ab(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ab(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qqe(t,e){return tKe(t)||eKe(t,e)||aae(t,e)||Jqe()}function Jqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aae(t,e){if(t){if(typeof t=="string")return s3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(t,e)}}function s3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function tKe(t){if(Array.isArray(t))return t}var MA=function(e,n,r){return e+(n-e)*r},o3=function(e){var n=e.from,r=e.to;return n!==r},nKe=function t(e,n,r){var i=f_(function(s,o){if(o3(o)){var a=e(o.from,o.to,o.velocity),l=Qqe(a,2),c=l[0],f=l[1];return Oi(Oi({},o),{},{from:c,velocity:f})}return o},n);return r<1?f_(function(s,o){return o3(o)?Oi(Oi({},o),{},{velocity:MA(o.velocity,i[s].velocity,r),from:MA(o.from,i[s].from,r)}):o},n):t(e,i,r-1)};const rKe=function(t,e,n,r,i){var s=Oqe(t,e),o=s.reduce(function(m,p){return Oi(Oi({},m),{},i3({},p,[t[p],e[p]]))},{}),a=s.reduce(function(m,p){return Oi(Oi({},m),{},i3({},p,{from:t[p],velocity:0,to:e[p]}))},{}),l=-1,c,f,d=function(){return null},h=function(){return f_(function(p,y){return y.from},a)},g=function(){return!Object.values(a).filter(o3).length},v=function(p){c||(c=p);var y=p-c,_=y/n.dt;a=nKe(n,a,_),i(Oi(Oi(Oi({},t),e),h())),c=p,g()||(l=requestAnimationFrame(d))},x=function(p){f||(f=p);var y=(p-f)/r,_=f_(function(w,E){return MA.apply(void 0,H9(E).concat([n(y)]))},o);if(i(Oi(Oi(Oi({},t),e),_)),y<1)l=requestAnimationFrame(d);else{var b=f_(function(w,E){return MA.apply(void 0,H9(E).concat([n(1)]))},o);i(Oi(Oi(Oi({},t),e),b))}};return d=n.isStepper?v:x,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}var iKe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sKe(t,e){if(t==null)return{};var n=oKe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oKe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function FO(t){return uKe(t)||cKe(t)||lKe(t)||aKe()}function aKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lKe(t,e){if(t){if(typeof t=="string")return a3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a3(t,e)}}function cKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uKe(t){if(Array.isArray(t))return a3(t)}function a3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function W9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Aa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(n),!0).forEach(function(r){F0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F0(t,e,n){return e=lae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dKe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fKe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lae(r.key),r)}}function hKe(t,e,n){return e&&fKe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lae(t){var e=pKe(t,"string");return $v(e)==="symbol"?e:String(e)}function pKe(t,e){if($v(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($v(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mKe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l3(t,e)}function l3(t,e){return l3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},l3(t,e)}function gKe(t){var e=vKe();return function(){var r=AA(t),i;if(e){var s=AA(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return c3(this,i)}}function c3(t,e){if(e&&($v(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u3(t)}function u3(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vKe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function AA(t){return AA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AA(t)}var cl=function(t){mKe(n,t);var e=gKe(n);function n(r,i){var s;dKe(this,n),s=e.call(this,r,i);var o=s.props,a=o.isActive,l=o.attributeName,c=o.from,f=o.to,d=o.steps,h=o.children,g=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(u3(s)),s.changeStyle=s.changeStyle.bind(u3(s)),!a||g<=0)return s.state={style:{}},typeof h=="function"&&(s.state={style:f}),c3(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof h=="function")return s.state={style:c},c3(s);s.state={style:l?F0({},l,c):c}}else s.state={style:{}};return s}return hKe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,a=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,f=s.to,d=s.from,h=this.state.style;if(a){if(!o){var g={style:l?F0({},l,f):f};this.state&&h&&(l&&h[l]!==f||!l&&h!==f)&&this.setState(g);return}if(!(Sqe(i.to,f)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=v||c?d:i.to;if(this.state&&h){var m={style:l?F0({},l,x):x};(l&&h[l]!==x||!l&&h!==x)&&this.setState(m)}this.runAnimation(Aa(Aa({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,a=i.to,l=i.duration,c=i.easing,f=i.begin,d=i.onAnimationEnd,h=i.onAnimationStart,g=rKe(o,a,Gqe(c),l,this.changeStyle),v=function(){s.stopJSAnimation=g()};this.manager.start([h,f,v,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,a=i.begin,l=i.onAnimationStart,c=o[0],f=c.style,d=c.duration,h=d===void 0?0:d,g=function(x,m,p){if(p===0)return x;var y=m.duration,_=m.easing,b=_===void 0?"ease":_,w=m.style,E=m.properties,A=m.onAnimationEnd,T=p>0?o[p-1]:m,P=E||Object.keys(w);if(typeof b=="function"||b==="spring")return[].concat(FO(x),[s.runJSAnimation.bind(s,{from:T.style,to:w,duration:y,easing:b}),y]);var N=U9(P,y,b),O=Aa(Aa(Aa({},T.style),w),{},{transition:N});return[].concat(FO(x),[O,y,A]).filter(Iqe)};return this.manager.start([l].concat(FO(o.reduce(g,[f,Math.max(h,a)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Nqe());var s=i.begin,o=i.duration,a=i.attributeName,l=i.to,c=i.easing,f=i.onAnimationStart,d=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof g=="function"||c==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var x=a?F0({},a,l):l,m=U9(Object.keys(x),o,c);v.start([f,s,Aa(Aa({},x),{},{transition:m}),o,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var a=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=sKe(i,iKe),c=M.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!a||c===0||o<=0)return s;var d=function(g){var v=g.props,x=v.style,m=x===void 0?{}:x,p=v.className,y=M.cloneElement(g,Aa(Aa({},l),{},{style:Aa(Aa({},m),f),className:p}));return y};return c===1?d(M.Children.only(s)):ne.createElement("div",null,M.Children.map(s,function(h){return d(h)}))}}]),n}(M.PureComponent);cl.displayName="Animate";cl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};cl.propTypes={from:zn.oneOfType([zn.object,zn.string]),to:zn.oneOfType([zn.object,zn.string]),attributeName:zn.string,duration:zn.number,begin:zn.number,easing:zn.oneOfType([zn.string,zn.func]),steps:zn.arrayOf(zn.shape({duration:zn.number.isRequired,style:zn.object.isRequired,easing:zn.oneOfType([zn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zn.func]),properties:zn.arrayOf("string"),onAnimationEnd:zn.func})),children:zn.oneOfType([zn.node,zn.func]),isActive:zn.bool,canBegin:zn.bool,onAnimationEnd:zn.func,shouldReAnimate:zn.bool,onAnimationStart:zn.func,onAnimationReStart:zn.func};function xp(){return xp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xp.apply(null,arguments)}function Tb(t){"@babel/helpers - typeof";return Tb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tb(t)}function TA(){return TA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TA.apply(this,arguments)}function yKe(t,e){return wKe(t)||bKe(t,e)||_Ke(t,e)||xKe()}function xKe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Ke(t,e){if(t){if(typeof t=="string")return G9(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G9(t,e)}}function G9(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bKe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function wKe(t){if(Array.isArray(t))return t}function q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K9(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q9(Object(n),!0).forEach(function(r){SKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SKe(t,e,n){return e=CKe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function CKe(t){var e=EKe(t,"string");return Tb(e)=="symbol"?e:e+""}function EKe(t,e){if(Tb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X9=function(e,n,r,i,s){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),a=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,f;if(o>0&&s instanceof Array){for(var d=[0,0,0,0],h=0,g=4;h<g;h++)d[h]=s[h]>o?o:s[h];f="M".concat(e,",").concat(n+a*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),f+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+a*d[1])),f+="L ".concat(e+r,",").concat(n+i-a*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),f+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-a*d[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f="M ".concat(e,",").concat(n+a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+a*v,`
            L `).concat(e+r,",").concat(n+i-a*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-a*v," Z")}else f="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return f},MKe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,o=n.y,a=n.width,l=n.height;if(Math.abs(a)>0&&Math.abs(l)>0){var c=Math.min(s,s+a),f=Math.max(s,s+a),d=Math.min(o,o+l),h=Math.max(o,o+l);return r>=c&&r<=f&&i>=d&&i<=h}return!1},AKe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dU=function(e){var n=K9(K9({},AKe),e),r=M.useRef(),i=M.useState(-1),s=yKe(i,2),o=s[0],a=s[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&a(b)}catch{}},[]);var l=n.x,c=n.y,f=n.width,d=n.height,h=n.radius,g=n.className,v=n.animationEasing,x=n.animationDuration,m=n.animationBegin,p=n.isAnimationActive,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||f===0||d===0)return null;var _=nn("recharts-rectangle",g);return y?ne.createElement(cl,{canBegin:o>0,from:{width:f,height:d,x:l,y:c},to:{width:f,height:d,x:l,y:c},duration:x,animationEasing:v,isActive:y},function(b){var w=b.width,E=b.height,A=b.x,T=b.y;return ne.createElement(cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,isActive:p,easing:v},ne.createElement("path",TA({},kt(n,!0),{className:_,d:X9(A,T,w,E,h),ref:r})))}):ne.createElement("path",TA({},kt(n,!0),{className:_,d:X9(l,c,f,d,h)}))},TKe=["points","className","baseLinePoints","connectNulls"];function Sg(){return Sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sg.apply(this,arguments)}function PKe(t,e){if(t==null)return{};var n=NKe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y9(t){return IKe(t)||OKe(t)||kKe(t)||RKe()}function RKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kKe(t,e){if(t){if(typeof t=="string")return d3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d3(t,e)}}function OKe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function IKe(t){if(Array.isArray(t))return d3(t)}function d3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Z9=function(e){return e&&e.x===+e.x&&e.y===+e.y},jKe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){Z9(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),Z9(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},h_=function(e,n){var r=jKe(e);n&&(r=[r.reduce(function(s,o){return[].concat(Y9(s),Y9(o))},[])]);var i=r.map(function(s){return s.reduce(function(o,a,l){return"".concat(o).concat(l===0?"M":"L").concat(a.x,",").concat(a.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},DKe=function(e,n,r){var i=h_(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(h_(n.reverse(),r).slice(1))},LKe=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,o=PKe(e,TKe);if(!n||!n.length)return null;var a=nn("recharts-polygon",r);if(i&&i.length){var l=o.stroke&&o.stroke!=="none",c=DKe(n,i,s);return ne.createElement("g",{className:a},ne.createElement("path",Sg({},kt(o,!0),{fill:c.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:c})),l?ne.createElement("path",Sg({},kt(o,!0),{fill:"none",d:h_(n,s)})):null,l?ne.createElement("path",Sg({},kt(o,!0),{fill:"none",d:h_(i,s)})):null)}var f=h_(n,s);return ne.createElement("path",Sg({},kt(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:a,d:f}))};function f3(){return f3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f3.apply(this,arguments)}var Zw=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,o=nn("recharts-dot",s);return n===+n&&r===+r&&i===+i?ne.createElement("circle",f3({},kt(e,!1),KM(e),{className:o,cx:n,cy:r,r:i})):null};function Pb(t){"@babel/helpers - typeof";return Pb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pb(t)}var FKe=["x","y","top","left","width","height","className"];function h3(){return h3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h3.apply(this,arguments)}function Q9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BKe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q9(Object(n),!0).forEach(function(r){UKe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UKe(t,e,n){return e=$Ke(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $Ke(t){var e=zKe(t,"string");return Pb(e)=="symbol"?e:e+""}function zKe(t,e){if(Pb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function HKe(t,e){if(t==null)return{};var n=VKe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VKe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var WKe=function(e,n,r,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},GKe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,o=e.top,a=o===void 0?0:o,l=e.left,c=l===void 0?0:l,f=e.width,d=f===void 0?0:f,h=e.height,g=h===void 0?0:h,v=e.className,x=HKe(e,FKe),m=BKe({x:r,y:s,top:a,left:c,width:d,height:g},x);return!it(r)||!it(s)||!it(d)||!it(g)||!it(a)||!it(c)?null:ne.createElement("path",h3({},kt(m,!0),{className:nn("recharts-cross",v),d:WKe(r,s,d,g,a,c)}))},qKe=S2,KKe=_oe,XKe=cc;function YKe(t,e){return t&&t.length?qKe(t,XKe(e),KKe):void 0}var ZKe=YKe;const QKe=Sn(ZKe);var JKe=S2,eXe=cc,tXe=boe;function nXe(t,e){return t&&t.length?JKe(t,eXe(e),tXe):void 0}var rXe=nXe;const iXe=Sn(rXe);var sXe=["cx","cy","angle","ticks","axisLine"],oXe=["ticks","tick","angle","tickFormatter","stroke"];function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p_.apply(this,arguments)}function J9(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ff(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J9(Object(n),!0).forEach(function(r){A2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J9(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eq(t,e){if(t==null)return{};var n=aXe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function aXe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,uae(r.key),r)}}function cXe(t,e,n){return e&&tq(t.prototype,e),n&&tq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uXe(t,e,n){return e=PA(e),dXe(t,cae()?Reflect.construct(e,n||[],PA(t).constructor):e.apply(t,n))}function dXe(t,e){if(e&&(zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fXe(t)}function fXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cae=function(){return!!t})()}function PA(t){return PA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PA(t)}function hXe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p3(t,e)}function p3(t,e){return p3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},p3(t,e)}function A2(t,e,n){return e=uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uae(t){var e=pXe(t,"string");return zv(e)=="symbol"?e:e+""}function pXe(t,e){if(zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T2=function(t){function e(){return lXe(this,e),uXe(this,e,arguments)}return hXe(e,t),cXe(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,o=s.angle,a=s.cx,l=s.cy;return ar(a,l,i,o)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=QKe(a,function(f){return f.coordinate||0}),c=iXe(a,function(f){return f.coordinate||0});return{cx:i,cy:s,startAngle:o,endAngle:o,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.angle,a=r.ticks,l=r.axisLine,c=eq(r,sXe),f=a.reduce(function(v,x){return[Math.min(v[0],x.coordinate),Math.max(v[1],x.coordinate)]},[1/0,-1/0]),d=ar(i,s,f[0],o),h=ar(i,s,f[1],o),g=Ff(Ff(Ff({},kt(c,!1)),{},{fill:"none"},kt(l,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return ne.createElement("line",p_({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.angle,l=i.tickFormatter,c=i.stroke,f=eq(i,oXe),d=this.getTickTextAnchor(),h=kt(f,!1),g=kt(o,!1),v=s.map(function(x,m){var p=r.getTickValueCoord(x),y=Ff(Ff(Ff(Ff({textAnchor:d,transform:"rotate(".concat(90-a,", ").concat(p.x,", ").concat(p.y,")")},h),{},{stroke:"none",fill:c},g),{},{index:m},p),{},{payload:x});return ne.createElement(_n,p_({className:nn("recharts-polar-radius-axis-tick",Xoe(o)),key:"tick-".concat(x.coordinate)},hp(r.props,x,m)),e.renderTickItem(o,y,l?l(x.value,m):x.value))});return ne.createElement(_n,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,o=r.tick;return!i||!i.length?null:ne.createElement(_n,{className:nn("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Ai.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return ne.isValidElement(r)?o=ne.cloneElement(r,i):Gt(r)?o=r(i):o=ne.createElement(pp,p_({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])}(M.PureComponent);A2(T2,"displayName","PolarRadiusAxis");A2(T2,"axisType","radiusAxis");A2(T2,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function vh(){return vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vh.apply(this,arguments)}function nq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(n),!0).forEach(function(r){P2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mXe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fae(r.key),r)}}function gXe(t,e,n){return e&&rq(t.prototype,e),n&&rq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vXe(t,e,n){return e=NA(e),yXe(t,dae()?Reflect.construct(e,n||[],NA(t).constructor):e.apply(t,n))}function yXe(t,e){if(e&&(Hv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xXe(t)}function xXe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dae=function(){return!!t})()}function NA(t){return NA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NA(t)}function _Xe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m3(t,e)}function m3(t,e){return m3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},m3(t,e)}function P2(t,e,n){return e=fae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=bXe(t,"string");return Hv(e)=="symbol"?e:e+""}function bXe(t,e){if(Hv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Hv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wXe=Math.PI/180,iq=1e-5,N2=function(t){function e(){return mXe(this,e),vXe(this,e,arguments)}return _Xe(e,t),gXe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,o=i.cy,a=i.radius,l=i.orientation,c=i.tickSize,f=c||8,d=ar(s,o,a,r.coordinate),h=ar(s,o,a+(l==="inner"?-1:1)*f,r.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*wXe),o;return s>iq?o=i==="outer"?"start":"end":s<-iq?o=i==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,o=r.radius,a=r.axisLine,l=r.axisLineType,c=Bf(Bf({},kt(this.props,!1)),{},{fill:"none"},kt(a,!1));if(l==="circle")return ne.createElement(Zw,vh({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:o}));var f=this.props.ticks,d=f.map(function(h){return ar(i,s,o,h.coordinate)});return ne.createElement(LKe,vh({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,o=i.tick,a=i.tickLine,l=i.tickFormatter,c=i.stroke,f=kt(this.props,!1),d=kt(o,!1),h=Bf(Bf({},f),{},{fill:"none"},kt(a,!1)),g=s.map(function(v,x){var m=r.getTickLineCoord(v),p=r.getTickTextAnchor(v),y=Bf(Bf(Bf({textAnchor:p},f),{},{stroke:"none",fill:c},d),{},{index:x,payload:v,x:m.x2,y:m.y2});return ne.createElement(_n,vh({className:nn("recharts-polar-angle-axis-tick",Xoe(o)),key:"tick-".concat(v.coordinate)},hp(r.props,v,x)),a&&ne.createElement("line",vh({className:"recharts-polar-angle-axis-tick-line"},h,m)),o&&e.renderTickItem(o,y,l?l(v.value,x):v.value))});return ne.createElement(_n,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,o=r.axisLine;return s<=0||!i||!i.length?null:ne.createElement(_n,{className:nn("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var o;return ne.isValidElement(r)?o=ne.cloneElement(r,i):Gt(r)?o=r(i):o=ne.createElement(pp,vh({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])}(M.PureComponent);P2(N2,"displayName","PolarAngleAxis");P2(N2,"axisType","angleAxis");P2(N2,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var SXe=hse,CXe=SXe(Object.getPrototypeOf,Object),EXe=CXe,MXe=Nu,AXe=EXe,TXe=Ru,PXe="[object Object]",NXe=Function.prototype,RXe=Object.prototype,hae=NXe.toString,kXe=RXe.hasOwnProperty,OXe=hae.call(Object);function IXe(t){if(!TXe(t)||MXe(t)!=PXe)return!1;var e=AXe(t);if(e===null)return!0;var n=kXe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&hae.call(n)==OXe}var jXe=IXe;const DXe=Sn(jXe);var LXe=Nu,FXe=Ru,BXe="[object Boolean]";function UXe(t){return t===!0||t===!1||FXe(t)&&LXe(t)==BXe}var $Xe=UXe;const zXe=Sn($Xe);function Nb(t){"@babel/helpers - typeof";return Nb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nb(t)}function RA(){return RA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RA.apply(this,arguments)}function HXe(t,e){return qXe(t)||GXe(t,e)||WXe(t,e)||VXe()}function VXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WXe(t,e){if(t){if(typeof t=="string")return sq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sq(t,e)}}function sq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GXe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function qXe(t){if(Array.isArray(t))return t}function oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oq(Object(n),!0).forEach(function(r){KXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KXe(t,e,n){return e=XXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XXe(t){var e=YXe(t,"string");return Nb(e)=="symbol"?e:e+""}function YXe(t,e){if(Nb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lq=function(e,n,r,i,s){var o=r-i,a;return a="M ".concat(e,",").concat(n),a+="L ".concat(e+r,",").concat(n),a+="L ".concat(e+r-o/2,",").concat(n+s),a+="L ".concat(e+r-o/2-i,",").concat(n+s),a+="L ".concat(e,",").concat(n," Z"),a},ZXe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},QXe=function(e){var n=aq(aq({},ZXe),e),r=M.useRef(),i=M.useState(-1),s=HXe(i,2),o=s[0],a=s[1];M.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&a(_)}catch{}},[]);var l=n.x,c=n.y,f=n.upperWidth,d=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,x=n.animationDuration,m=n.animationBegin,p=n.isUpdateAnimationActive;if(l!==+l||c!==+c||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var y=nn("recharts-trapezoid",g);return p?ne.createElement(cl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:c},to:{upperWidth:f,lowerWidth:d,height:h,x:l,y:c},duration:x,animationEasing:v,isActive:p},function(_){var b=_.upperWidth,w=_.lowerWidth,E=_.height,A=_.x,T=_.y;return ne.createElement(cl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:x,easing:v},ne.createElement("path",RA({},kt(n,!0),{className:y,d:lq(A,T,b,w,E),ref:r})))}):ne.createElement("g",null,ne.createElement("path",RA({},kt(n,!0),{className:y,d:lq(l,c,f,d,h)})))},JXe=["option","shapeType","propTransformer","activeClassName","isActive"];function Rb(t){"@babel/helpers - typeof";return Rb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rb(t)}function eYe(t,e){if(t==null)return{};var n=tYe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tYe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cq(Object(n),!0).forEach(function(r){nYe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nYe(t,e,n){return e=rYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rYe(t){var e=iYe(t,"string");return Rb(e)=="symbol"?e:e+""}function iYe(t,e){if(Rb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sYe(t,e){return kA(kA({},e),t)}function oYe(t,e){return t==="symbols"}function uq(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ne.createElement(dU,n);case"trapezoid":return ne.createElement(QXe,n);case"sector":return ne.createElement(Qoe,n);case"symbols":if(oYe(e))return ne.createElement(N5,n);break;default:return null}}function aYe(t){return M.isValidElement(t)?t.props:t}function pae(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?sYe:r,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,a=t.isActive,l=eYe(t,JXe),c;if(M.isValidElement(e))c=M.cloneElement(e,kA(kA({},l),aYe(e)));else if(Gt(e))c=e(l);else if(DXe(e)&&!zXe(e)){var f=i(e,l);c=ne.createElement(uq,{shapeType:n,elementProps:f})}else{var d=l;c=ne.createElement(uq,{shapeType:n,elementProps:d})}return a?ne.createElement(_n,{className:o},c):c}function R2(t,e){return e!=null&&"trapezoids"in t.props}function k2(t,e){return e!=null&&"sectors"in t.props}function kb(t,e){return e!=null&&"points"in t.props}function lYe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function cYe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function uYe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function dYe(t,e){var n;return R2(t,e)?n=lYe:k2(t,e)?n=cYe:kb(t,e)&&(n=uYe),n}function fYe(t,e){var n;return R2(t,e)?n="trapezoids":k2(t,e)?n="sectors":kb(t,e)&&(n="points"),n}function hYe(t,e){if(R2(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(k2(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return kb(t,e)?e.payload:{}}function pYe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=fYe(n,e),s=hYe(n,e),o=r.filter(function(l,c){var f=gp(s,l),d=n.props[i].filter(function(v){var x=dYe(n,e);return x(v,e)}),h=n.props[i].indexOf(d[d.length-1]),g=c===h;return f&&g}),a=r.indexOf(o[o.length-1]);return a}var $E;function Vv(t){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vv(t)}function Cg(){return Cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cg.apply(this,arguments)}function dq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ir(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(n),!0).forEach(function(r){ia(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,gae(r.key),r)}}function gYe(t,e,n){return e&&fq(t.prototype,e),n&&fq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vYe(t,e,n){return e=OA(e),yYe(t,mae()?Reflect.construct(e,n||[],OA(t).constructor):e.apply(t,n))}function yYe(t,e){if(e&&(Vv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xYe(t)}function xYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mae=function(){return!!t})()}function OA(t){return OA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OA(t)}function _Ye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&g3(t,e)}function g3(t,e){return g3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},g3(t,e)}function ia(t,e,n){return e=gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gae(t){var e=bYe(t,"string");return Vv(e)=="symbol"?e:e+""}function bYe(t,e){if(Vv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ou=function(t){function e(n){var r;return mYe(this,e),r=vYe(this,e,[n]),ia(r,"pieRef",null),ia(r,"sectorRefs",[]),ia(r,"id",Fp("recharts-pie-")),ia(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Gt(i)&&i()}),ia(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Gt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return _Ye(e,t),gYe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,a=s.labelLine,l=s.dataKey,c=s.valueKey,f=kt(this.props,!1),d=kt(o,!1),h=kt(a,!1),g=o&&o.offsetRadius||20,v=r.map(function(x,m){var p=(x.startAngle+x.endAngle)/2,y=ar(x.cx,x.cy,x.outerRadius+g,p),_=ir(ir(ir(ir({},f),x),{},{stroke:"none"},d),{},{index:m,textAnchor:e.getTextAnchor(y.x,x.cx)},y),b=ir(ir(ir(ir({},f),x),{},{fill:"none",stroke:x.fill},h),{},{index:m,points:[ar(x.cx,x.cy,x.outerRadius,p),y]}),w=l;return Jt(l)&&Jt(c)?w="value":Jt(l)&&(w=c),ne.createElement(_n,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(m)},a&&e.renderLabelLineItem(a,b,"line"),e.renderLabelItem(o,_,qr(x,w)))});return ne.createElement(_n,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,o=s.activeShape,a=s.blendStroke,l=s.inactiveShape;return r.map(function(c,f){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(f),h=l&&i.hasActiveIndex()?l:null,g=d?o:h,v=ir(ir({},c),{},{stroke:a?c.fill:c.stroke,tabIndex:-1});return ne.createElement(_n,Cg({ref:function(m){m&&!i.sectorRefs.includes(m)&&i.sectorRefs.push(m)},tabIndex:-1,className:"recharts-pie-sector"},hp(i.props,c,f),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(f)}),ne.createElement(pae,Cg({option:g,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,o=i.isAnimationActive,a=i.animationBegin,l=i.animationDuration,c=i.animationEasing,f=i.animationId,d=this.state,h=d.prevSectors,g=d.prevIsAnimationActive;return ne.createElement(cl,{begin:a,duration:l,isActive:o,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var x=v.t,m=[],p=s&&s[0],y=p.startAngle;return s.forEach(function(_,b){var w=h&&h[b],E=b>0?Co(_,"paddingAngle",0):0;if(w){var A=di(w.endAngle-w.startAngle,_.endAngle-_.startAngle),T=ir(ir({},_),{},{startAngle:y+E,endAngle:y+A(x)+E});m.push(T),y=T.endAngle}else{var P=_.endAngle,N=_.startAngle,O=di(0,P-N),I=O(x),D=ir(ir({},_),{},{startAngle:y+E,endAngle:y+I+E});m.push(D),y=D.endAngle}}),ne.createElement(_n,null,r.renderSectorsStatically(m))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var a=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!gp(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,o=i.sectors,a=i.className,l=i.label,c=i.cx,f=i.cy,d=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!it(c)||!it(f)||!it(d)||!it(h))return null;var x=nn("recharts-pie",a);return ne.createElement(_n,{tabIndex:this.props.rootTabIndex,className:x,ref:function(p){r.pieRef=p}},this.renderSectors(),l&&this.renderLabels(o),Ai.renderCallByParent(this.props,null,!1),(!g||v)&&Kl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(ne.isValidElement(r))return ne.cloneElement(r,i);if(Gt(r))return r(i);var o=nn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ne.createElement(Gh,Cg({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(r,i,s){if(ne.isValidElement(r))return ne.cloneElement(r,i);var o=s;if(Gt(r)&&(o=r(i),ne.isValidElement(o)))return o;var a=nn("recharts-pie-label-text",typeof r!="boolean"&&!Gt(r)?r.className:"");return ne.createElement(pp,Cg({},i,{alignmentBaseline:"middle",className:a}),o)}}])}(M.PureComponent);$E=Ou;ia(Ou,"displayName","Pie");ia(Ou,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!rl.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ia(Ou,"parseDeltaAngle",function(t,e){var n=bs(e-t),r=Math.min(Math.abs(e-t),360);return n*r});ia(Ou,"getRealPieData",function(t){var e=t.data,n=t.children,r=kt(t,!1),i=Eo(n,g2);return e&&e.length?e.map(function(s,o){return ir(ir(ir({payload:s},r),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return ir(ir({},r),s.props)}):[]});ia(Ou,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,o=Koe(i,s),a=r+ws(t.cx,i,i/2),l=n+ws(t.cy,s,s/2),c=ws(t.innerRadius,o,0),f=ws(t.outerRadius,o,o*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:a,cy:l,innerRadius:c,outerRadius:f,maxRadius:d}});ia(Ou,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?ir(ir({},e.type.defaultProps),e.props):e.props,i=$E.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,o=r.startAngle,a=r.endAngle,l=r.paddingAngle,c=r.dataKey,f=r.nameKey,d=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=$E.parseCoordinateOfPie(r,n),x=$E.parseDeltaAngle(o,a),m=Math.abs(x),p=c;Jt(c)&&Jt(d)?(nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p="value"):Jt(c)&&(nl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),p=d);var y=i.filter(function(T){return qr(T,p,0)!==0}).length,_=(m>=360?y:y-1)*l,b=m-y*g-_,w=i.reduce(function(T,P){var N=qr(P,p,0);return T+(it(N)?N:0)},0),E;if(w>0){var A;E=i.map(function(T,P){var N=qr(T,p,0),O=qr(T,f,P),I=(it(N)?N:0)/w,D;P?D=A.endAngle+bs(x)*l*(N!==0?1:0):D=o;var F=D+bs(x)*((N!==0?g:0)+I*b),$=(D+F)/2,z=(v.innerRadius+v.outerRadius)/2,H=[{name:O,value:N,payload:T,dataKey:p,type:h}],R=ar(v.cx,v.cy,z,$);return A=ir(ir(ir({percent:I,cornerRadius:s,name:O,tooltipPayload:H,midAngle:$,middleRadius:z,tooltipPosition:R},T),v),{},{value:qr(T,p),startAngle:D,endAngle:F,payload:T,paddingAngle:bs(x)*l}),A})}return ir(ir({},v),{},{sectors:E,data:i})});var wYe=Math.ceil,SYe=Math.max;function CYe(t,e,n,r){for(var i=-1,s=SYe(wYe((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var EYe=CYe,MYe=kse,hq=1/0,AYe=17976931348623157e292;function TYe(t){if(!t)return t===0?t:0;if(t=MYe(t),t===hq||t===-hq){var e=t<0?-1:1;return e*AYe}return t===t?t:0}var vae=TYe,PYe=EYe,NYe=m2,BO=vae;function RYe(t){return function(e,n,r){return r&&typeof r!="number"&&NYe(e,n,r)&&(n=r=void 0),e=BO(e),n===void 0?(n=e,e=0):n=BO(n),r=r===void 0?e<n?1:-1:BO(r),PYe(e,n,r,t)}}var kYe=RYe,OYe=kYe,IYe=OYe(),jYe=IYe;const IA=Sn(jYe);function Ob(t){"@babel/helpers - typeof";return Ob=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ob(t)}function pq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pq(Object(n),!0).forEach(function(r){yae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yae(t,e,n){return e=DYe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DYe(t){var e=LYe(t,"string");return Ob(e)=="symbol"?e:e+""}function LYe(t,e){if(Ob(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ob(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FYe=["Webkit","Moz","O","ms"],BYe=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=FYe.reduce(function(s,o){return mq(mq({},s),{},yae({},o+r,n))},{});return i[e]=n,i};function Wv(t){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wv(t)}function jA(){return jA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jA.apply(this,arguments)}function gq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(n),!0).forEach(function(r){uo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UYe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_ae(r.key),r)}}function $Ye(t,e,n){return e&&vq(t.prototype,e),n&&vq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zYe(t,e,n){return e=DA(e),HYe(t,xae()?Reflect.construct(e,n||[],DA(t).constructor):e.apply(t,n))}function HYe(t,e){if(e&&(Wv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VYe(t)}function VYe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xae=function(){return!!t})()}function DA(t){return DA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},DA(t)}function WYe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v3(t,e)}function v3(t,e){return v3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},v3(t,e)}function uo(t,e,n){return e=_ae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _ae(t){var e=GYe(t,"string");return Wv(e)=="symbol"?e:e+""}function GYe(t,e){if(Wv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qYe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,o=e.width,a=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=u_().domain(IA(0,l)).range([s,s+o-a]),f=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:f}},yq=function(e){return e.changedTouches&&!!e.changedTouches.length},Gv=function(t){function e(n){var r;return UYe(this,e),r=zYe(this,e,[n]),uo(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),uo(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),uo(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,o=i.onDragEnd,a=i.startIndex;o==null||o({endIndex:s,startIndex:a})}),r.detachDragEndListener()}),uo(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),uo(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),uo(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),uo(r,"handleSlideDragStart",function(i){var s=yq(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return WYe(e,t),$Ye(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,o=this.state.scaleValues,a=this.props,l=a.gap,c=a.data,f=c.length-1,d=Math.min(i,s),h=Math.max(i,s),g=e.getIndexInRange(o,d),v=e.getIndexInRange(o,h);return{startIndex:g-g%l,endIndex:v===f?f:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,o=i.tickFormatter,a=i.dataKey,l=qr(s[r],a,r);return Gt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,o=i.startX,a=i.endX,l=this.props,c=l.x,f=l.width,d=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,x=r.pageX-s;x>0?x=Math.min(x,c+f-d-a,c+f-d-o):x<0&&(x=Math.max(x,c-o,c-a));var m=this.getIndex({startX:o+x,endX:a+x});(m.startIndex!==h||m.endIndex!==g)&&v&&v(m),this.setState({startX:o+x,endX:a+x,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=yq(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,a=i.endX,l=i.startX,c=this.state[o],f=this.props,d=f.x,h=f.width,g=f.travellerWidth,v=f.onChange,x=f.gap,m=f.data,p={startX:this.state.startX,endX:this.state.endX},y=r.pageX-s;y>0?y=Math.min(y,d+h-g-c):y<0&&(y=Math.max(y,d-c)),p[o]=c+y;var _=this.getIndex(p),b=_.startIndex,w=_.endIndex,E=function(){var T=m.length-1;return o==="startX"&&(a>l?b%x===0:w%x===0)||a<l&&w===T||o==="endX"&&(a>l?w%x===0:b%x===0)||a>l&&w===T};this.setState(uo(uo({},o,c+y),"brushMoveStartX",r.pageX),function(){v&&E()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,o=this.state,a=o.scaleValues,l=o.startX,c=o.endX,f=this.state[i],d=a.indexOf(f);if(d!==-1){var h=d+r;if(!(h===-1||h>=a.length)){var g=a[h];i==="startX"&&g>=c||i==="endX"&&g<=l||this.setState(uo({},i,g),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.fill,c=r.stroke;return ne.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:o,height:a})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.data,c=r.children,f=r.padding,d=M.Children.only(c);return d?ne.cloneElement(d,{x:i,y:s,width:o,height:a,margin:f,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,o,a=this,l=this.props,c=l.y,f=l.travellerWidth,d=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,x=l.startIndex,m=l.endIndex,p=Math.max(r,this.props.x),y=UO(UO({},kt(this.props,!1)),{},{x:p,y:c,width:f,height:d}),_=g||"Min value: ".concat((s=v[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[m])===null||o===void 0?void 0:o.name);return ne.createElement(_n,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(w){["ArrowLeft","ArrowRight"].includes(w.key)&&(w.preventDefault(),w.stopPropagation(),a.handleTravellerMoveKeyboard(w.key==="ArrowRight"?1:-1,i))},onFocus:function(){a.setState({isTravellerFocused:!0})},onBlur:function(){a.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,y))}},{key:"renderSlide",value:function(r,i){var s=this.props,o=s.y,a=s.height,l=s.stroke,c=s.travellerWidth,f=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:f,y:o,width:d,height:a})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,o=r.y,a=r.height,l=r.travellerWidth,c=r.stroke,f=this.state,d=f.startX,h=f.endX,g=5,v={pointerEvents:"none",fill:c};return ne.createElement(_n,{className:"recharts-brush-texts"},ne.createElement(pp,jA({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-g,y:o+a/2},v),this.getTextOfTick(i)),ne.createElement(pp,jA({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+l+g,y:o+a/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,o=r.children,a=r.x,l=r.y,c=r.width,f=r.height,d=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,x=h.isTextActive,m=h.isSlideMoving,p=h.isTravellerMoving,y=h.isTravellerFocused;if(!i||!i.length||!it(a)||!it(l)||!it(c)||!it(f)||c<=0||f<=0)return null;var _=nn("recharts-brush",s),b=ne.Children.count(o)===1,w=BYe("userSelect","none");return ne.createElement(_n,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:w},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(x||m||p||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,o=r.width,a=r.height,l=r.stroke,c=Math.floor(s+a/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:s,width:o,height:a,fill:l,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:c,x2:i+o-1,y2:c,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:c+2,x2:i+o-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ne.isValidElement(r)?s=ne.cloneElement(r,i):Gt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,o=r.width,a=r.x,l=r.travellerWidth,c=r.updateId,f=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return UO({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o},s&&s.length?qYe({data:s,width:o,x:a,travellerWidth:l,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||a!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([a,a+o-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:a,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,o=0,a=s-1;a-o>1;){var l=Math.floor((o+a)/2);r[l]>i?a=l:o=l}return i>=r[a]?a:o}}])}(M.PureComponent);uo(Gv,"displayName","Brush");uo(Gv,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var KYe=L5;function XYe(t,e){var n;return KYe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var YYe=XYe,ZYe=sse,QYe=cc,JYe=YYe,eZe=Zs,tZe=m2;function nZe(t,e,n){var r=eZe(t)?ZYe:JYe;return n&&tZe(t,e,n)&&(e=void 0),r(t,QYe(e))}var rZe=nZe;const iZe=Sn(rZe);var Xl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},xq=Ase;function sZe(t,e,n){e=="__proto__"&&xq?xq(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var oZe=sZe,aZe=oZe,lZe=Ese,cZe=cc;function uZe(t,e){var n={};return e=cZe(e),lZe(t,function(r,i,s){aZe(n,i,e(r,i,s))}),n}var dZe=uZe;const fZe=Sn(dZe);function hZe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var pZe=hZe,mZe=L5;function gZe(t,e){var n=!0;return mZe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var vZe=gZe,yZe=pZe,xZe=vZe,_Ze=cc,bZe=Zs,wZe=m2;function SZe(t,e,n){var r=bZe(t)?yZe:xZe;return n&&wZe(t,e,n)&&(e=void 0),r(t,_Ze(e))}var CZe=SZe;const bae=Sn(CZe);var EZe=["x","y"];function Ib(t){"@babel/helpers - typeof";return Ib=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ib(t)}function y3(){return y3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y3.apply(this,arguments)}function _q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function o0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_q(Object(n),!0).forEach(function(r){MZe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_q(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MZe(t,e,n){return e=AZe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function AZe(t){var e=TZe(t,"string");return Ib(e)=="symbol"?e:e+""}function TZe(t,e){if(Ib(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ib(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PZe(t,e){if(t==null)return{};var n=NZe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function NZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function RZe(t,e){var n=t.x,r=t.y,i=PZe(t,EZe),s="".concat(n),o=parseInt(s,10),a="".concat(r),l=parseInt(a,10),c="".concat(e.height||i.height),f=parseInt(c,10),d="".concat(e.width||i.width),h=parseInt(d,10);return o0(o0(o0(o0(o0({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:f,width:h,name:e.name,radius:e.radius})}function bq(t){return ne.createElement(pae,y3({shapeType:"rectangle",propTransformer:RZe,activeClassName:"recharts-active-bar"},t))}var kZe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=typeof r=="number";return s?e(r,i):(s||yp(),n)}},OZe=["value","background"],wae;function qv(t){"@babel/helpers - typeof";return qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qv(t)}function IZe(t,e){if(t==null)return{};var n=jZe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jZe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function LA(){return LA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LA.apply(this,arguments)}function wq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wq(Object(n),!0).forEach(function(r){Od(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Cae(r.key),r)}}function LZe(t,e,n){return e&&Sq(t.prototype,e),n&&Sq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function FZe(t,e,n){return e=FA(e),BZe(t,Sae()?Reflect.construct(e,n||[],FA(t).constructor):e.apply(t,n))}function BZe(t,e){if(e&&(qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UZe(t)}function UZe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sae=function(){return!!t})()}function FA(t){return FA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},FA(t)}function $Ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x3(t,e)}function x3(t,e){return x3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x3(t,e)}function Od(t,e,n){return e=Cae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cae(t){var e=zZe(t,"string");return qv(e)=="symbol"?e:e+""}function zZe(t,e){if(qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zp=function(t){function e(){var n;DZe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=FZe(this,e,[].concat(i)),Od(n,"state",{isAnimationFinished:!1}),Od(n,"id",Fp("recharts-bar-")),Od(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),Od(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return $Ze(e,t),LZe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,o=s.shape,a=s.dataKey,l=s.activeIndex,c=s.activeBar,f=kt(this.props,!1);return r&&r.map(function(d,h){var g=h===l,v=g?c:o,x=Jr(Jr(Jr({},f),d),{},{isActive:g,option:v,index:h,dataKey:a,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(_n,LA({className:"recharts-bar-rectangle"},hp(i.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),ne.createElement(bq,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,o=i.layout,a=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,f=i.animationEasing,d=i.animationId,h=this.state.prevData;return ne.createElement(cl,{begin:l,duration:c,isActive:a,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,x=s.map(function(m,p){var y=h&&h[p];if(y){var _=di(y.x,m.x),b=di(y.y,m.y),w=di(y.width,m.width),E=di(y.height,m.height);return Jr(Jr({},m),{},{x:_(v),y:b(v),width:w(v),height:E(v)})}if(o==="horizontal"){var A=di(0,m.height),T=A(v);return Jr(Jr({},m),{},{y:m.y+m.height-T,height:T})}var P=di(0,m.width),N=P(v);return Jr(Jr({},m),{},{width:N})});return ne.createElement(_n,null,r.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!gp(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,o=i.dataKey,a=i.activeIndex,l=kt(this.props.background,!1);return s.map(function(c,f){c.value;var d=c.background,h=IZe(c,OZe);if(!d)return null;var g=Jr(Jr(Jr(Jr(Jr({},h),{},{fill:"#eee"},d),l),hp(r.props,c,f)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return ne.createElement(bq,LA({key:"background-bar-".concat(f),option:r.props.background,isActive:f===a},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,a=s.xAxis,l=s.yAxis,c=s.layout,f=s.children,d=Eo(f,Yw);if(!d)return null;var h=c==="vertical"?o[0].height/2:o[0].width/2,g=function(m,p){var y=Array.isArray(m.value)?m.value[1]:m.value;return{x:m.x,y:m.y,value:y,errorVal:qr(m,p)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(_n,v,d.map(function(x){return ne.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,o=r.className,a=r.xAxis,l=r.yAxis,c=r.left,f=r.top,d=r.width,h=r.height,g=r.isAnimationActive,v=r.background,x=r.id;if(i||!s||!s.length)return null;var m=this.state.isAnimationFinished,p=nn("recharts-bar",o),y=a&&a.allowDataOverflow,_=l&&l.allowDataOverflow,b=y||_,w=Jt(x)?this.id:x;return ne.createElement(_n,{className:p},y||_?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(w)},ne.createElement("rect",{x:y?c:c-d/2,y:_?f:f-h/2,width:y?d:d*2,height:_?h:h*2}))):null,ne.createElement(_n,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(w,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,w),(!g||m)&&Kl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(M.PureComponent);wae=zp;Od(zp,"displayName","Bar");Od(zp,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!rl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Od(zp,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,a=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,f=t.dataStartIndex,d=t.displayedData,h=t.offset,g=w7e(r,n);if(!g)return null;var v=e.layout,x=n.type.defaultProps,m=x!==void 0?Jr(Jr({},x),n.props):n.props,p=m.dataKey,y=m.children,_=m.minPointSize,b=v==="horizontal"?o:s,w=c?b.scale.domain():null,E=P7e({numericAxis:b}),A=Eo(y,g2),T=d.map(function(P,N){var O,I,D,F,$,z;c?O=S7e(c[f+N],w):(O=qr(P,p),Array.isArray(O)||(O=[E,O]));var H=kZe(_,wae.defaultProps.minPointSize)(O[1],N);if(v==="horizontal"){var R,j=[o.scale(O[0]),o.scale(O[1])],B=j[0],W=j[1];I=f9({axis:s,ticks:a,bandSize:i,offset:g.offset,entry:P,index:N}),D=(R=W??B)!==null&&R!==void 0?R:void 0,F=g.size;var G=B-W;if($=Number.isNaN(G)?0:G,z={x:I,y:o.y,width:F,height:o.height},Math.abs(H)>0&&Math.abs($)<Math.abs(H)){var K=bs($||H)*(Math.abs(H)-Math.abs($));D-=K,$+=K}}else{var ie=[s.scale(O[0]),s.scale(O[1])],le=ie[0],J=ie[1];if(I=le,D=f9({axis:o,ticks:l,bandSize:i,offset:g.offset,entry:P,index:N}),F=J-le,$=g.size,z={x:s.x,y:D,width:s.width,height:$},Math.abs(H)>0&&Math.abs(F)<Math.abs(H)){var U=bs(F||H)*(Math.abs(H)-Math.abs(F));F+=U}}return Jr(Jr(Jr({},P),{},{x:I,y:D,width:F,height:$,value:c?O:O[1],payload:P,background:z},A&&A[N]&&A[N].props),{},{tooltipPayload:[Goe(n,P)],tooltipPosition:{x:I+F/2,y:D+$/2}})});return Jr({data:T,layout:v},h)});function jb(t){"@babel/helpers - typeof";return jb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jb(t)}function HZe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Eae(r.key),r)}}function VZe(t,e,n){return e&&Cq(t.prototype,e),n&&Cq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fa(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(n),!0).forEach(function(r){O2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Eq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function O2(t,e,n){return e=Eae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Eae(t){var e=WZe(t,"string");return jb(e)=="symbol"?e:e+""}function WZe(t,e){if(jb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fU=function(e,n,r,i,s){var o=e.width,a=e.height,l=e.layout,c=e.children,f=Object.keys(n),d={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:a-r.bottom,bottomMirror:a-r.bottom},h=!!po(c,zp);return f.reduce(function(g,v){var x=n[v],m=x.orientation,p=x.domain,y=x.padding,_=y===void 0?{}:y,b=x.mirror,w=x.reversed,E="".concat(m).concat(b?"Mirror":""),A,T,P,N,O;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var I=p[1]-p[0],D=1/0,F=x.categoricalDomain.sort();if(F.forEach(function(ie,le){le>0&&(D=Math.min((ie||0)-(F[le-1]||0),D))}),Number.isFinite(D)){var $=D/I,z=x.layout==="vertical"?r.height:r.width;if(x.padding==="gap"&&(A=$*z/2),x.padding==="no-gap"){var H=ws(e.barCategoryGap,$*z),R=$*z/2;A=R-H-(R-H)/z*H}}}i==="xAxis"?T=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?T=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:T=x.range,w&&(T=[T[1],T[0]]);var j=zoe(x,s,h),B=j.scale,W=j.realScaleType;B.domain(p).range(T),Hoe(B);var G=Voe(B,Fa(Fa({},x),{},{realScaleType:W}));i==="xAxis"?(O=m==="top"&&!b||m==="bottom"&&b,P=r.left,N=d[E]-O*x.height):i==="yAxis"&&(O=m==="left"&&!b||m==="right"&&b,P=d[E]-O*x.width,N=r.top);var K=Fa(Fa(Fa({},x),G),{},{realScaleType:W,x:P,y:N,scale:B,width:i==="xAxis"?r.width:x.width,height:i==="yAxis"?r.height:x.height});return K.bandSize=wA(K,G),!x.hide&&i==="xAxis"?d[E]+=(O?-1:1)*K.height:x.hide||(d[E]+=(O?-1:1)*K.width),Fa(Fa({},g),{},O2({},v,K))},{})},Mae=function(e,n){var r=e.x,i=e.y,s=n.x,o=n.y;return{x:Math.min(r,s),y:Math.min(i,o),width:Math.abs(s-r),height:Math.abs(o-i)}},GZe=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Mae({x:n,y:r},{x:i,y:s})},Aae=function(){function t(e){HZe(this,t),this.scale=e}return VZe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(n)+a}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();O2(Aae,"EPS",1e-4);var hU=function(e){var n=Object.keys(e).reduce(function(r,i){return Fa(Fa({},r),{},O2({},i,Aae.create(e[i])))},{});return Fa(Fa({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,a=s.position;return fZe(i,function(l,c){return n[c].apply(l,{bandAware:o,position:a})})},isInRange:function(i){return bae(i,function(s,o){return n[o].isInRange(s)})}})};function qZe(t){return(t%180+180)%180}var KZe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=qZe(i),o=s*Math.PI/180,a=Math.atan(r/n),l=o>a&&o<Math.PI-a?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},XZe=cc,YZe=Ww,ZZe=h2;function QZe(t){return function(e,n,r){var i=Object(e);if(!YZe(e)){var s=XZe(n);e=ZZe(e),n=function(a){return s(i[a],a,i)}}var o=t(e,n,r);return o>-1?i[s?e[o]:o]:void 0}}var JZe=QZe,eQe=vae;function tQe(t){var e=eQe(t),n=e%1;return e===e?n?e-n:e:0}var nQe=tQe,rQe=xse,iQe=cc,sQe=nQe,oQe=Math.max;function aQe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:sQe(n);return i<0&&(i=oQe(r+i,0)),rQe(t,iQe(e),i)}var lQe=aQe,cQe=JZe,uQe=lQe,dQe=cQe(uQe),fQe=dQe;const hQe=Sn(fQe);var pQe=iDe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),pU=M.createContext(void 0),mU=M.createContext(void 0),Tae=M.createContext(void 0),Pae=M.createContext({}),Nae=M.createContext(void 0),Rae=M.createContext(0),kae=M.createContext(0),Mq=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,o=e.clipPathId,a=e.children,l=e.width,c=e.height,f=pQe(s);return ne.createElement(pU.Provider,{value:r},ne.createElement(mU.Provider,{value:i},ne.createElement(Pae.Provider,{value:s},ne.createElement(Tae.Provider,{value:f},ne.createElement(Nae.Provider,{value:o},ne.createElement(Rae.Provider,{value:c},ne.createElement(kae.Provider,{value:l},a)))))))},mQe=function(){return M.useContext(Nae)},Oae=function(e){var n=M.useContext(pU);n==null&&yp();var r=n[e];return r==null&&yp(),r},gQe=function(){var e=M.useContext(pU);return gd(e)},vQe=function(){var e=M.useContext(mU),n=hQe(e,function(r){return bae(r.domain,Number.isFinite)});return n||gd(e)},Iae=function(e){var n=M.useContext(mU);n==null&&yp();var r=n[e];return r==null&&yp(),r},yQe=function(){var e=M.useContext(Tae);return e},xQe=function(){return M.useContext(Pae)},gU=function(){return M.useContext(kae)},vU=function(){return M.useContext(Rae)};function Kv(t){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kv(t)}function _Qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dae(r.key),r)}}function wQe(t,e,n){return e&&bQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SQe(t,e,n){return e=BA(e),CQe(t,jae()?Reflect.construct(e,n||[],BA(t).constructor):e.apply(t,n))}function CQe(t,e){if(e&&(Kv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EQe(t)}function EQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jae=function(){return!!t})()}function BA(t){return BA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},BA(t)}function MQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_3(t,e)}function _3(t,e){return _3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_3(t,e)}function Aq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Aq(Object(n),!0).forEach(function(r){yU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Aq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yU(t,e,n){return e=Dae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dae(t){var e=AQe(t,"string");return Kv(e)=="symbol"?e:e+""}function AQe(t,e){if(Kv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Kv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function TQe(t,e){return kQe(t)||RQe(t,e)||NQe(t,e)||PQe()}function PQe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NQe(t,e){if(t){if(typeof t=="string")return Pq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pq(t,e)}}function Pq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function RQe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function kQe(t){if(Array.isArray(t))return t}function b3(){return b3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b3.apply(this,arguments)}var OQe=function(e,n){var r;return ne.isValidElement(e)?r=ne.cloneElement(e,n):Gt(e)?r=e(n):r=ne.createElement("line",b3({},n,{className:"recharts-reference-line-line"})),r},IQe=function(e,n,r,i,s,o,a,l,c){var f=s.x,d=s.y,h=s.width,g=s.height;if(r){var v=c.y,x=e.y.apply(v,{position:o});if(Xl(c,"discard")&&!e.y.isInRange(x))return null;var m=[{x:f+h,y:x},{x:f,y:x}];return l==="left"?m.reverse():m}if(n){var p=c.x,y=e.x.apply(p,{position:o});if(Xl(c,"discard")&&!e.x.isInRange(y))return null;var _=[{x:y,y:d+g},{x:y,y:d}];return a==="top"?_.reverse():_}if(i){var b=c.segment,w=b.map(function(E){return e.apply(E,{position:o})});return Xl(c,"discard")&&iZe(w,function(E){return!e.isInRange(E)})?null:w}return null};function jQe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,a=t.className,l=t.alwaysShow,c=mQe(),f=Oae(i),d=Iae(s),h=yQe();if(!c||!h)return null;nl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=hU({x:f.scale,y:d.scale}),v=hi(e),x=hi(n),m=r&&r.length===2,p=IQe(g,v,x,m,h,t.position,f.orientation,d.orientation,t);if(!p)return null;var y=TQe(p,2),_=y[0],b=_.x,w=_.y,E=y[1],A=E.x,T=E.y,P=Xl(t,"hidden")?"url(#".concat(c,")"):void 0,N=Tq(Tq({clipPath:P},kt(t,!0)),{},{x1:b,y1:w,x2:A,y2:T});return ne.createElement(_n,{className:nn("recharts-reference-line",a)},OQe(o,N),Ai.renderCallByParent(t,GZe({x1:b,y1:w,x2:A,y2:T})))}var xU=function(t){function e(){return _Qe(this,e),SQe(this,e,arguments)}return MQe(e,t),wQe(e,[{key:"render",value:function(){return ne.createElement(jQe,this.props)}}])}(ne.Component);yU(xU,"displayName","ReferenceLine");yU(xU,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function w3(){return w3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w3.apply(this,arguments)}function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}function Nq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Nq(Object(n),!0).forEach(function(r){I2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Nq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function DQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fae(r.key),r)}}function FQe(t,e,n){return e&&LQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function BQe(t,e,n){return e=UA(e),UQe(t,Lae()?Reflect.construct(e,n||[],UA(t).constructor):e.apply(t,n))}function UQe(t,e){if(e&&(Xv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Qe(t)}function $Qe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lae=function(){return!!t})()}function UA(t){return UA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},UA(t)}function zQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S3(t,e)}function S3(t,e){return S3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},S3(t,e)}function I2(t,e,n){return e=Fae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fae(t){var e=HQe(t,"string");return Xv(e)=="symbol"?e:e+""}function HQe(t,e){if(Xv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VQe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,o=hU({x:i.scale,y:s.scale}),a=o.apply({x:n,y:r},{bandAware:!0});return Xl(e,"discard")&&!o.isInRange(a)?null:a},j2=function(t){function e(){return DQe(this,e),BQe(this,e,arguments)}return zQe(e,t),FQe(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,o=r.r,a=r.alwaysShow,l=r.clipPathId,c=hi(i),f=hi(s);if(nl(a===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!f)return null;var d=VQe(this.props);if(!d)return null;var h=d.x,g=d.y,v=this.props,x=v.shape,m=v.className,p=Xl(this.props,"hidden")?"url(#".concat(l,")"):void 0,y=Rq(Rq({clipPath:p},kt(this.props,!0)),{},{cx:h,cy:g});return ne.createElement(_n,{className:nn("recharts-reference-dot",m)},e.renderDot(x,y),Ai.renderCallByParent(this.props,{x:h-o,y:g-o,width:2*o,height:2*o}))}}])}(ne.Component);I2(j2,"displayName","ReferenceDot");I2(j2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});I2(j2,"renderDot",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Gt(t)?n=t(e):n=ne.createElement(Zw,w3({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function C3(){return C3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C3.apply(this,arguments)}function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function kq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kq(Object(n),!0).forEach(function(r){D2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GQe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Uae(r.key),r)}}function qQe(t,e,n){return e&&GQe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function KQe(t,e,n){return e=$A(e),XQe(t,Bae()?Reflect.construct(e,n||[],$A(t).constructor):e.apply(t,n))}function XQe(t,e){if(e&&(Yv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YQe(t)}function YQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bae=function(){return!!t})()}function $A(t){return $A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$A(t)}function ZQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E3(t,e)}function E3(t,e){return E3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},E3(t,e)}function D2(t,e,n){return e=Uae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uae(t){var e=QQe(t,"string");return Yv(e)=="symbol"?e:e+""}function QQe(t,e){if(Yv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JQe=function(e,n,r,i,s){var o=s.x1,a=s.x2,l=s.y1,c=s.y2,f=s.xAxis,d=s.yAxis;if(!f||!d)return null;var h=hU({x:f.scale,y:d.scale}),g={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(a,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(c,{position:"end"}):h.y.rangeMax};return Xl(s,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:Mae(g,v)},L2=function(t){function e(){return WQe(this,e),KQe(this,e,arguments)}return ZQe(e,t),qQe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,o=r.y1,a=r.y2,l=r.className,c=r.alwaysShow,f=r.clipPathId;nl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=hi(i),h=hi(s),g=hi(o),v=hi(a),x=this.props.shape;if(!d&&!h&&!g&&!v&&!x)return null;var m=JQe(d,h,g,v,this.props);if(!m&&!x)return null;var p=Xl(this.props,"hidden")?"url(#".concat(f,")"):void 0;return ne.createElement(_n,{className:nn("recharts-reference-area",l)},e.renderRect(x,Oq(Oq({clipPath:p},kt(this.props,!0)),m)),Ai.renderCallByParent(this.props,m))}}])}(ne.Component);D2(L2,"displayName","ReferenceArea");D2(L2,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});D2(L2,"renderRect",function(t,e){var n;return ne.isValidElement(t)?n=ne.cloneElement(t,e):Gt(t)?n=t(e):n=ne.createElement(dU,C3({},e,{className:"recharts-reference-area-rect"})),n});function $ae(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function eJe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return KZe(r,n)}function tJe(t,e,n){var r=n==="width",i=t.x,s=t.y,o=t.width,a=t.height;return e===1?{start:r?i:s,end:r?i+o:s+a}:{start:r?i+o:s+a,end:r?i:s}}function zA(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function nJe(t,e){return $ae(t,e+1)}function rJe(t,e,n,r,i){for(var s=(r||[]).slice(),o=e.start,a=e.end,l=0,c=1,f=o,d=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:$ae(r,c)};var x=l,m,p=function(){return m===void 0&&(m=n(v,x)),m},y=v.coordinate,_=l===0||zA(t,y,p,f,a);_||(l=0,f=o,c+=1),_&&(f=y+t*(p()/2+i),l+=c)},h;c<=s.length;)if(h=d(),h)return h.v;return[]}function Db(t){"@babel/helpers - typeof";return Db=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Db(t)}function Iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ji(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(n),!0).forEach(function(r){iJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iJe(t,e,n){return e=sJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sJe(t){var e=oJe(t,"string");return Db(e)=="symbol"?e:e+""}function oJe(t,e){if(Db(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Db(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aJe(t,e,n,r,i){for(var s=(r||[]).slice(),o=s.length,a=e.start,l=e.end,c=function(h){var g=s[h],v,x=function(){return v===void 0&&(v=n(g,h)),v};if(h===o-1){var m=t*(g.coordinate+t*x()/2-l);s[h]=g=Ji(Ji({},g),{},{tickCoord:m>0?g.coordinate-m*t:g.coordinate})}else s[h]=g=Ji(Ji({},g),{},{tickCoord:g.coordinate});var p=zA(t,g.tickCoord,x,a,l);p&&(l=g.tickCoord-t*(x()/2+i),s[h]=Ji(Ji({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)c(f);return s}function lJe(t,e,n,r,i,s){var o=(r||[]).slice(),a=o.length,l=e.start,c=e.end;if(s){var f=r[a-1],d=n(f,a-1),h=t*(f.coordinate+t*d/2-c);o[a-1]=f=Ji(Ji({},f),{},{tickCoord:h>0?f.coordinate-h*t:f.coordinate});var g=zA(t,f.tickCoord,function(){return d},l,c);g&&(c=f.tickCoord-t*(d/2+i),o[a-1]=Ji(Ji({},f),{},{isShow:!0}))}for(var v=s?a-1:a,x=function(y){var _=o[y],b,w=function(){return b===void 0&&(b=n(_,y)),b};if(y===0){var E=t*(_.coordinate-t*w()/2-l);o[y]=_=Ji(Ji({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else o[y]=_=Ji(Ji({},_),{},{tickCoord:_.coordinate});var A=zA(t,_.tickCoord,w,l,c);A&&(l=_.tickCoord+t*(w()/2+i),o[y]=Ji(Ji({},_),{},{isShow:!0}))},m=0;m<v;m++)x(m);return o}function _U(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,a=t.orientation,l=t.interval,c=t.tickFormatter,f=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(it(l)||rl.isSsr)return nJe(i,typeof l=="number"&&it(l)?l:0);var h=[],g=a==="top"||a==="bottom"?"width":"height",v=f&&g==="width"?c_(f,{fontSize:e,letterSpacing:n}):{width:0,height:0},x=function(_,b){var w=Gt(c)?c(_.value,b):_.value;return g==="width"?eJe(c_(w,{fontSize:e,letterSpacing:n}),v,d):c_(w,{fontSize:e,letterSpacing:n})[g]},m=i.length>=2?bs(i[1].coordinate-i[0].coordinate):1,p=tJe(s,m,g);return l==="equidistantPreserveStart"?rJe(m,p,x,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=lJe(m,p,x,i,o,l==="preserveStartEnd"):h=aJe(m,p,x,i,o),h.filter(function(y){return y.isShow}))}var cJe=["viewBox"],uJe=["viewBox"],dJe=["ticks"];function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function Eg(){return Eg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eg.apply(this,arguments)}function jq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jq(Object(n),!0).forEach(function(r){bU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $O(t,e){if(t==null)return{};var n=fJe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function fJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Dq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Hae(r.key),r)}}function pJe(t,e,n){return e&&Dq(t.prototype,e),n&&Dq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mJe(t,e,n){return e=HA(e),gJe(t,zae()?Reflect.construct(e,n||[],HA(t).constructor):e.apply(t,n))}function gJe(t,e){if(e&&(Zv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vJe(t)}function vJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zae=function(){return!!t})()}function HA(t){return HA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},HA(t)}function yJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&M3(t,e)}function M3(t,e){return M3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},M3(t,e)}function bU(t,e,n){return e=Hae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hae(t){var e=xJe(t,"string");return Zv(e)=="symbol"?e:e+""}function xJe(t,e){if(Zv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yy=function(t){function e(n){var r;return hJe(this,e),r=mJe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return yJe(e,t),pJe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,o=$O(r,cJe),a=this.props,l=a.viewBox,c=$O(a,uJe);return!Xg(s,l)||!Xg(o,c)||!Xg(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,o=i.y,a=i.width,l=i.height,c=i.orientation,f=i.tickSize,d=i.mirror,h=i.tickMargin,g,v,x,m,p,y,_=d?-1:1,b=r.tickSize||f,w=it(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":g=v=r.coordinate,m=o+ +!d*l,x=m-_*b,y=x-_*h,p=w;break;case"left":x=m=r.coordinate,v=s+ +!d*a,g=v-_*b,p=g-_*h,y=w;break;case"right":x=m=r.coordinate,v=s+ +d*a,g=v+_*b,p=g+_*h,y=w;break;default:g=v=r.coordinate,m=o+ +d*l,x=m+_*b,y=x+_*h,p=w;break}return{line:{x1:g,y1:x,x2:v,y2:m},tick:{x:p,y}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,o=r.width,a=r.height,l=r.orientation,c=r.mirror,f=r.axisLine,d=hs(hs(hs({},kt(this.props,!1)),kt(f,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!c||l==="bottom"&&c);d=hs(hs({},d),{},{x1:i,y1:s+h*a,x2:i+o,y2:s+h*a})}else{var g=+(l==="left"&&!c||l==="right"&&c);d=hs(hs({},d),{},{x1:i+g*o,y1:s,x2:i+g*o,y2:s+a})}return ne.createElement("line",Eg({},d,{className:nn("recharts-cartesian-axis-line",Co(f,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var o=this,a=this.props,l=a.tickLine,c=a.stroke,f=a.tick,d=a.tickFormatter,h=a.unit,g=_U(hs(hs({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),m=kt(this.props,!1),p=kt(f,!1),y=hs(hs({},m),{},{fill:"none"},kt(l,!1)),_=g.map(function(b,w){var E=o.getTickLineCoord(b),A=E.line,T=E.tick,P=hs(hs(hs(hs({textAnchor:v,verticalAnchor:x},m),{},{stroke:"none",fill:c},p),T),{},{index:w,payload:b,visibleTicksCount:g.length,tickFormatter:d});return ne.createElement(_n,Eg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},hp(o.props,b,w)),l&&ne.createElement("line",Eg({},y,A,{className:nn("recharts-cartesian-axis-tick-line",Co(l,"className"))})),f&&e.renderTickItem(f,P,"".concat(Gt(d)?d(b.value,w):b.value).concat(h||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,o=i.width,a=i.height,l=i.ticksGenerator,c=i.className,f=i.hide;if(f)return null;var d=this.props,h=d.ticks,g=$O(d,dJe),v=h;return Gt(l)&&(v=h&&h.length>0?l(this.props):l(g)),o<=0||a<=0||!v||!v.length?null:ne.createElement(_n,{className:nn("recharts-cartesian-axis",c),ref:function(m){r.layerReference=m}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ai.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var o;return ne.isValidElement(r)?o=ne.cloneElement(r,i):Gt(r)?o=r(i):o=ne.createElement(pp,Eg({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(M.Component);bU(Yy,"displayName","CartesianAxis");bU(Yy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _Je=["x1","y1","x2","y2","key"],bJe=["offset"];function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(n),!0).forEach(function(r){wJe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wJe(t,e,n){return e=SJe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SJe(t){var e=CJe(t,"string");return _p(e)=="symbol"?e:e+""}function CJe(t,e){if(_p(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_p(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mh.apply(this,arguments)}function Fq(t,e){if(t==null)return{};var n=EJe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function EJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var MJe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,o=e.width,a=e.height,l=e.ry;return ne.createElement("rect",{x:i,y:s,ry:l,width:o,height:a,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Vae(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Gt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,o=e.y2,a=e.key,l=Fq(e,_Je),c=kt(l,!1);c.offset;var f=Fq(c,bJe);n=ne.createElement("line",Mh({},f,{x1:r,y1:i,x2:s,y2:o,fill:"none",key:a}))}return n}function AJe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=ts(ts({},t),{},{x1:e,y1:a,x2:e+n,y2:a,key:"line-".concat(l),index:l});return Vae(i,c)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function TJe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(a,l){var c=ts(ts({},t),{},{x1:a,y1:e,x2:a,y2:e+n,key:"line-".concat(l),index:l});return Vae(i,c)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function PJe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,o=t.height,a=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var f=a.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==f[0]&&f.unshift(0);var d=f.map(function(h,g){var v=!f[g+1],x=v?i+o-h:f[g+1]-h;if(x<=0)return null;var m=g%e.length;return ne.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:x,width:s,stroke:"none",fill:e[m],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function NJe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,a=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var f=c.map(function(h){return Math.round(h+s-s)}).sort(function(h,g){return h-g});s!==f[0]&&f.unshift(0);var d=f.map(function(h,g){var v=!f[g+1],x=v?s+a-h:f[g+1]-h;if(x<=0)return null;var m=g%r.length;return ne.createElement("rect",{key:"react-".concat(g),x:h,y:o,width:x,height:l,stroke:"none",fill:r[m],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var RJe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,o=e.offset;return $oe(_U(ts(ts(ts({},Yy.defaultProps),r),{},{ticks:Xc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,n)},kJe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,o=e.offset;return $oe(_U(ts(ts(ts({},Yy.defaultProps),r),{},{ticks:Xc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,n)},Em={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Id(t){var e,n,r,i,s,o,a=gU(),l=vU(),c=xQe(),f=ts(ts({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Em.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Em.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Em.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Em.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Em.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:Em.verticalFill,x:it(t.x)?t.x:c.left,y:it(t.y)?t.y:c.top,width:it(t.width)?t.width:c.width,height:it(t.height)?t.height:c.height}),d=f.x,h=f.y,g=f.width,v=f.height,x=f.syncWithTicks,m=f.horizontalValues,p=f.verticalValues,y=gQe(),_=vQe();if(!it(g)||g<=0||!it(v)||v<=0||!it(d)||d!==+d||!it(h)||h!==+h)return null;var b=f.verticalCoordinatesGenerator||RJe,w=f.horizontalCoordinatesGenerator||kJe,E=f.horizontalPoints,A=f.verticalPoints;if((!E||!E.length)&&Gt(w)){var T=m&&m.length,P=w({yAxis:_?ts(ts({},_),{},{ticks:T?m:_.ticks}):void 0,width:a,height:l,offset:c},T?!0:x);nl(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(_p(P),"]")),Array.isArray(P)&&(E=P)}if((!A||!A.length)&&Gt(b)){var N=p&&p.length,O=b({xAxis:y?ts(ts({},y),{},{ticks:N?p:y.ticks}):void 0,width:a,height:l,offset:c},N?!0:x);nl(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(_p(O),"]")),Array.isArray(O)&&(A=O)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(MJe,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),ne.createElement(AJe,Mh({},f,{offset:c,horizontalPoints:E,xAxis:y,yAxis:_})),ne.createElement(TJe,Mh({},f,{offset:c,verticalPoints:A,xAxis:y,yAxis:_})),ne.createElement(PJe,Mh({},f,{horizontalPoints:E})),ne.createElement(NJe,Mh({},f,{verticalPoints:A})))}Id.displayName="CartesianGrid";var OJe=["type","layout","connectNulls","ref"],IJe=["key"];function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}function Bq(t,e){if(t==null)return{};var n=jJe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function m_(){return m_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m_.apply(this,arguments)}function Uq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function co(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uq(Object(n),!0).forEach(function(r){Ba(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mm(t){return BJe(t)||FJe(t)||LJe(t)||DJe()}function DJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LJe(t,e){if(t){if(typeof t=="string")return A3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return A3(t,e)}}function FJe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function BJe(t){if(Array.isArray(t))return A3(t)}function A3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function UJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Gae(r.key),r)}}function $Je(t,e,n){return e&&$q(t.prototype,e),n&&$q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function zJe(t,e,n){return e=VA(e),HJe(t,Wae()?Reflect.construct(e,n||[],VA(t).constructor):e.apply(t,n))}function HJe(t,e){if(e&&(Qv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VJe(t)}function VJe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wae=function(){return!!t})()}function VA(t){return VA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VA(t)}function WJe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T3(t,e)}function T3(t,e){return T3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},T3(t,e)}function Ba(t,e,n){return e=Gae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gae(t){var e=GJe(t,"string");return Qv(e)=="symbol"?e:e+""}function GJe(t,e){if(Qv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aa=function(t){function e(){var n;UJe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=zJe(this,e,[].concat(i)),Ba(n,"state",{isAnimationFinished:!0,totalLength:0}),Ba(n,"generateSimpleStrokeDasharray",function(o,a){return"".concat(a,"px ").concat(o-a,"px")}),Ba(n,"getStrokeDasharray",function(o,a,l){var c=l.reduce(function(p,y){return p+y});if(!c)return n.generateSimpleStrokeDasharray(a,o);for(var f=Math.floor(o/c),d=o%c,h=a-o,g=[],v=0,x=0;v<l.length;x+=l[v],++v)if(x+l[v]>d){g=[].concat(Mm(l.slice(0,v)),[d-x]);break}var m=g.length%2===0?[0,h]:[h];return[].concat(Mm(e.repeat(l,f)),Mm(g),m).map(function(p){return"".concat(p,"px")}).join(", ")}),Ba(n,"id",Fp("recharts-line-")),Ba(n,"pathRef",function(o){n.mainCurve=o}),Ba(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ba(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return WJe(e,t),$Je(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,a=s.xAxis,l=s.yAxis,c=s.layout,f=s.children,d=Eo(f,Yw);if(!d)return null;var h=function(x,m){return{x:x.x,y:x.y,value:x.value,errorVal:qr(x.payload,m)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ne.createElement(_n,g,d.map(function(v){return ne.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:a,yAxis:l,layout:c,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var a=this.props,l=a.dot,c=a.points,f=a.dataKey,d=kt(this.props,!1),h=kt(l,!0),g=c.map(function(x,m){var p=co(co(co({key:"dot-".concat(m),r:3},d),h),{},{index:m,cx:x.x,cy:x.y,value:x.value,dataKey:f,payload:x.payload,points:c});return e.renderDotItem(l,p)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ne.createElement(_n,m_({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,s,o){var a=this.props,l=a.type,c=a.layout,f=a.connectNulls;a.ref;var d=Bq(a,OJe),h=co(co(co({},kt(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},o),{},{type:l,layout:c,connectNulls:f});return ne.createElement(Gh,m_({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.strokeDasharray,c=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,g=o.animationId,v=o.animateNewValues,x=o.width,m=o.height,p=this.state,y=p.prevPoints,_=p.totalLength;return ne.createElement(cl,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var w=b.t;if(y){var E=y.length/a.length,A=a.map(function(I,D){var F=Math.floor(D*E);if(y[F]){var $=y[F],z=di($.x,I.x),H=di($.y,I.y);return co(co({},I),{},{x:z(w),y:H(w)})}if(v){var R=di(x*2,I.x),j=di(m/2,I.y);return co(co({},I),{},{x:R(w),y:j(w)})}return co(co({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(A,r,i)}var T=di(0,_),P=T(w),N;if(l){var O="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});N=s.getStrokeDasharray(P,_,O)}else N=s.generateSimpleStrokeDasharray(_,P);return s.renderCurveStatically(a,r,i,{strokeDasharray:N})})}},{key:"renderCurve",value:function(r,i){var s=this.props,o=s.points,a=s.isAnimationActive,l=this.state,c=l.prevPoints,f=l.totalLength;return a&&o&&o.length&&(!c&&f>0||!gp(c,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.xAxis,f=i.yAxis,d=i.top,h=i.left,g=i.width,v=i.height,x=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,y=a.length===1,_=nn("recharts-line",l),b=c&&c.allowDataOverflow,w=f&&f.allowDataOverflow,E=b||w,A=Jt(m)?this.id:m,T=(r=kt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,N=P===void 0?3:P,O=T.strokeWidth,I=O===void 0?2:O,D=Nie(o)?o:{},F=D.clipDot,$=F===void 0?!0:F,z=N*2+I;return ne.createElement(_n,{className:_},b||w?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(A)},ne.createElement("rect",{x:b?h:h-g/2,y:w?d:d-v/2,width:b?g:g*2,height:w?v:v*2})),!$&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ne.createElement("rect",{x:h-z/2,y:d-z/2,width:g+z,height:v+z}))):null,!y&&this.renderCurve(E,A),this.renderErrorBar(E,A),(y||o)&&this.renderDots(E,$,A),(!x||p)&&Kl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Mm(r),[0]):r,o=[],a=0;a<i;++a)o=[].concat(Mm(o),Mm(s));return o}},{key:"renderDotItem",value:function(r,i){var s;if(ne.isValidElement(r))s=ne.cloneElement(r,i);else if(Gt(r))s=r(i);else{var o=i.key,a=Bq(i,IJe),l=nn("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ne.createElement(Zw,m_({key:o},a,{className:l}))}return s}}])}(M.PureComponent);Ba(aa,"displayName","Line");Ba(aa,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!rl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ba(aa,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,a=t.bandSize,l=t.displayedData,c=t.offset,f=e.layout,d=l.map(function(h,g){var v=qr(h,o);return f==="horizontal"?{x:bA({axis:n,ticks:i,bandSize:a,entry:h,index:g}),y:Jt(v)?null:r.scale(v),value:v,payload:h}:{x:Jt(v)?null:n.scale(v),y:bA({axis:r,ticks:s,bandSize:a,entry:h,index:g}),value:v,payload:h}});return co({points:d,layout:f},c)});var qJe=["layout","type","stroke","connectNulls","isRange","ref"],KJe=["key"],qae;function Jv(t){"@babel/helpers - typeof";return Jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jv(t)}function Kae(t,e){if(t==null)return{};var n=XJe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function XJe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ah(){return Ah=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ah.apply(this,arguments)}function zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ud(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(n),!0).forEach(function(r){Bl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function YJe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yae(r.key),r)}}function ZJe(t,e,n){return e&&Hq(t.prototype,e),n&&Hq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function QJe(t,e,n){return e=WA(e),JJe(t,Xae()?Reflect.construct(e,n||[],WA(t).constructor):e.apply(t,n))}function JJe(t,e){if(e&&(Jv(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eet(t)}function eet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xae=function(){return!!t})()}function WA(t){return WA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},WA(t)}function tet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P3(t,e)}function P3(t,e){return P3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P3(t,e)}function Bl(t,e,n){return e=Yae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yae(t){var e=net(t,"string");return Jv(e)=="symbol"?e:e+""}function net(t,e){if(Jv(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Iu=function(t){function e(){var n;YJe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=QJe(this,e,[].concat(i)),Bl(n,"state",{isAnimationFinished:!0}),Bl(n,"id",Fp("recharts-area-")),Bl(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Gt(o)&&o()}),Bl(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Gt(o)&&o()}),n}return tet(e,t),ZJe(e,[{key:"renderDots",value:function(r,i,s){var o=this.props.isAnimationActive,a=this.state.isAnimationFinished;if(o&&!a)return null;var l=this.props,c=l.dot,f=l.points,d=l.dataKey,h=kt(this.props,!1),g=kt(c,!0),v=f.map(function(m,p){var y=ud(ud(ud({key:"dot-".concat(p),r:3},h),g),{},{index:p,cx:m.x,cy:m.y,dataKey:d,value:m.value,payload:m.payload,points:f});return e.renderDotItem(c,y)}),x={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ne.createElement(_n,Ah({className:"recharts-area-dots"},x),v)}},{key:"renderHorizontalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].x,c=o[o.length-1].x,f=r*Math.abs(l-c),d=kd(o.map(function(h){return h.y||0}));return it(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(kd(s.map(function(h){return h.y||0})),d)),it(d)?ne.createElement("rect",{x:l<c?l:l-f,y:0,width:f,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var i=this.props,s=i.baseLine,o=i.points,a=i.strokeWidth,l=o[0].y,c=o[o.length-1].y,f=r*Math.abs(l-c),d=kd(o.map(function(h){return h.x||0}));return it(s)&&typeof s=="number"?d=Math.max(s,d):s&&Array.isArray(s)&&s.length&&(d=Math.max(kd(s.map(function(h){return h.x||0})),d)),it(d)?ne.createElement("rect",{x:0,y:l<c?l:l-f,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(r){var i=this.props.layout;return i==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,i,s,o){var a=this.props,l=a.layout,c=a.type,f=a.stroke,d=a.connectNulls,h=a.isRange;a.ref;var g=Kae(a,qJe);return ne.createElement(_n,{clipPath:s?"url(#clipPath-".concat(o,")"):null},ne.createElement(Gh,Ah({},kt(g,!0),{points:r,connectNulls:d,type:c,baseLine:i,layout:l,stroke:"none",className:"recharts-area-area"})),f!=="none"&&ne.createElement(Gh,Ah({},kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:r})),f!=="none"&&h&&ne.createElement(Gh,Ah({},kt(this.props,!1),{className:"recharts-area-curve",layout:l,type:c,connectNulls:d,fill:"none",points:i})))}},{key:"renderAreaWithAnimation",value:function(r,i){var s=this,o=this.props,a=o.points,l=o.baseLine,c=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,g=o.animationId,v=this.state,x=v.prevPoints,m=v.prevBaseLine;return ne.createElement(cl,{begin:f,duration:d,isActive:c,easing:h,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var y=p.t;if(x){var _=x.length/a.length,b=a.map(function(T,P){var N=Math.floor(P*_);if(x[N]){var O=x[N],I=di(O.x,T.x),D=di(O.y,T.y);return ud(ud({},T),{},{x:I(y),y:D(y)})}return T}),w;if(it(l)&&typeof l=="number"){var E=di(m,l);w=E(y)}else if(Jt(l)||Vy(l)){var A=di(m,0);w=A(y)}else w=l.map(function(T,P){var N=Math.floor(P*_);if(m[N]){var O=m[N],I=di(O.x,T.x),D=di(O.y,T.y);return ud(ud({},T),{},{x:I(y),y:D(y)})}return T});return s.renderAreaStatically(b,w,r,i)}return ne.createElement(_n,null,ne.createElement("defs",null,ne.createElement("clipPath",{id:"animationClipPath-".concat(i)},s.renderClipRect(y))),ne.createElement(_n,{clipPath:"url(#animationClipPath-".concat(i,")")},s.renderAreaStatically(a,l,r,i)))})}},{key:"renderArea",value:function(r,i){var s=this.props,o=s.points,a=s.baseLine,l=s.isAnimationActive,c=this.state,f=c.prevPoints,d=c.prevBaseLine,h=c.totalLength;return l&&o&&o.length&&(!f&&h>0||!gp(f,o)||!gp(d,a))?this.renderAreaWithAnimation(r,i):this.renderAreaStatically(o,a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,o=i.dot,a=i.points,l=i.className,c=i.top,f=i.left,d=i.xAxis,h=i.yAxis,g=i.width,v=i.height,x=i.isAnimationActive,m=i.id;if(s||!a||!a.length)return null;var p=this.state.isAnimationFinished,y=a.length===1,_=nn("recharts-area",l),b=d&&d.allowDataOverflow,w=h&&h.allowDataOverflow,E=b||w,A=Jt(m)?this.id:m,T=(r=kt(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=T.r,N=P===void 0?3:P,O=T.strokeWidth,I=O===void 0?2:O,D=Nie(o)?o:{},F=D.clipDot,$=F===void 0?!0:F,z=N*2+I;return ne.createElement(_n,{className:_},b||w?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(A)},ne.createElement("rect",{x:b?f:f-g/2,y:w?c:c-v/2,width:b?g:g*2,height:w?v:v*2})),!$&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ne.createElement("rect",{x:f-z/2,y:c-z/2,width:g+z,height:v+z}))):null,y?null:this.renderArea(E,A),(o||y)&&this.renderDots(E,$,A),(!x||p)&&Kl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:i.curPoints,prevBaseLine:i.curBaseLine}:r.points!==i.curPoints||r.baseLine!==i.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])}(M.PureComponent);qae=Iu;Bl(Iu,"displayName","Area");Bl(Iu,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!rl.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Bl(Iu,"getBaseValue",function(t,e,n,r){var i=t.layout,s=t.baseValue,o=e.props.baseValue,a=o??s;if(it(a)&&typeof a=="number")return a;var l=i==="horizontal"?r:n,c=l.scale.domain();if(l.type==="number"){var f=Math.max(c[0],c[1]),d=Math.min(c[0],c[1]);return a==="dataMin"?d:a==="dataMax"||f<0?f:Math.max(Math.min(c[0],c[1]),0)}return a==="dataMin"?c[0]:a==="dataMax"?c[1]:c[0]});Bl(Iu,"getComposedData",function(t){var e=t.props,n=t.item,r=t.xAxis,i=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,a=t.bandSize,l=t.dataKey,c=t.stackedData,f=t.dataStartIndex,d=t.displayedData,h=t.offset,g=e.layout,v=c&&c.length,x=qae.getBaseValue(e,n,r,i),m=g==="horizontal",p=!1,y=d.map(function(b,w){var E;v?E=c[f+w]:(E=qr(b,l),Array.isArray(E)?p=!0:E=[x,E]);var A=E[1]==null||v&&qr(b,l)==null;return m?{x:bA({axis:r,ticks:s,bandSize:a,entry:b,index:w}),y:A?null:i.scale(E[1]),value:E,payload:b}:{x:A?null:r.scale(E[1]),y:bA({axis:i,ticks:o,bandSize:a,entry:b,index:w}),value:E,payload:b}}),_;return v||p?_=y.map(function(b){var w=Array.isArray(b.value)?b.value[0]:null;return m?{x:b.x,y:w!=null&&b.y!=null?i.scale(w):null}:{x:w!=null?r.scale(w):null,y:b.y}}):_=m?i.scale(x):r.scale(x),ud({points:y,baseLine:_,layout:g,isRange:p},h)});Bl(Iu,"renderDotItem",function(t,e){var n;if(ne.isValidElement(t))n=ne.cloneElement(t,e);else if(Gt(t))n=t(e);else{var r=nn("recharts-area-dot",typeof t!="boolean"?t.className:""),i=e.key,s=Kae(e,KJe);n=ne.createElement(Zw,Ah({},s,{key:i,className:r}))}return n});function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function ret(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jae(r.key),r)}}function set(t,e,n){return e&&iet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oet(t,e,n){return e=GA(e),aet(t,Zae()?Reflect.construct(e,n||[],GA(t).constructor):e.apply(t,n))}function aet(t,e){if(e&&(ey(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cet(t)}function cet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zae(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zae=function(){return!!t})()}function GA(t){return GA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},GA(t)}function uet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N3(t,e)}function N3(t,e){return N3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N3(t,e)}function Qae(t,e,n){return e=Jae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jae(t){var e=det(t,"string");return ey(e)=="symbol"?e:e+""}function det(t,e){if(ey(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ey(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function R3(){return R3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},R3.apply(this,arguments)}function fet(t){var e=t.xAxisId,n=gU(),r=vU(),i=Oae(e);return i==null?null:ne.createElement(Yy,R3({},i,{className:nn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return Xc(o,!0)}}))}var xo=function(t){function e(){return ret(this,e),oet(this,e,arguments)}return uet(e,t),set(e,[{key:"render",value:function(){return ne.createElement(fet,this.props)}}])}(ne.Component);Qae(xo,"displayName","XAxis");Qae(xo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function het(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pet(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,nle(r.key),r)}}function met(t,e,n){return e&&pet(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function get(t,e,n){return e=qA(e),vet(t,ele()?Reflect.construct(e,n||[],qA(t).constructor):e.apply(t,n))}function vet(t,e){if(e&&(ty(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yet(t)}function yet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ele(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ele=function(){return!!t})()}function qA(t){return qA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},qA(t)}function xet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k3(t,e)}function k3(t,e){return k3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},k3(t,e)}function tle(t,e,n){return e=nle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nle(t){var e=_et(t,"string");return ty(e)=="symbol"?e:e+""}function _et(t,e){if(ty(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ty(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O3(){return O3=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O3.apply(this,arguments)}var bet=function(e){var n=e.yAxisId,r=gU(),i=vU(),s=Iae(n);return s==null?null:ne.createElement(Yy,O3({},s,{className:nn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(a){return Xc(a,!0)}}))},_o=function(t){function e(){return het(this,e),get(this,e,arguments)}return xet(e,t),met(e,[{key:"render",value:function(){return ne.createElement(bet,this.props)}}])}(ne.Component);tle(_o,"displayName","YAxis");tle(_o,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function Vq(t){return Met(t)||Eet(t)||Cet(t)||wet()}function wet(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cet(t,e){if(t){if(typeof t=="string")return I3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I3(t,e)}}function Eet(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Met(t){if(Array.isArray(t))return I3(t)}function I3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j3=function(e,n,r,i,s){var o=Eo(e,xU),a=Eo(e,j2),l=[].concat(Vq(o),Vq(a)),c=Eo(e,L2),f="".concat(i,"Id"),d=i[0],h=n;if(l.length&&(h=l.reduce(function(x,m){if(m.props[f]===r&&Xl(m.props,"extendDomain")&&it(m.props[d])){var p=m.props[d];return[Math.min(x[0],p),Math.max(x[1],p)]}return x},h)),c.length){var g="".concat(d,"1"),v="".concat(d,"2");h=c.reduce(function(x,m){if(m.props[f]===r&&Xl(m.props,"extendDomain")&&it(m.props[g])&&it(m.props[v])){var p=m.props[g],y=m.props[v];return[Math.min(x[0],p,y),Math.max(x[1],p,y)]}return x},h)}return s&&s.length&&(h=s.reduce(function(x,m){return it(m)?[Math.min(x[0],m),Math.max(x[1],m)]:x},h)),h},rle={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,f){this.fn=l,this.context=c,this.once=f||!1}function s(l,c,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new i(f,d||l,h),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function o(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)e.call(f,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},a.prototype.listeners=function(c){var f=n?n+c:c,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,g=d.length,v=new Array(g);h<g;h++)v[h]=d[h].fn;return v},a.prototype.listenerCount=function(c){var f=n?n+c:c,d=this._events[f];return d?d.fn?1:d.length:0},a.prototype.emit=function(c,f,d,h,g,v){var x=n?n+c:c;if(!this._events[x])return!1;var m=this._events[x],p=arguments.length,y,_;if(m.fn){switch(m.once&&this.removeListener(c,m.fn,void 0,!0),p){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,f),!0;case 3:return m.fn.call(m.context,f,d),!0;case 4:return m.fn.call(m.context,f,d,h),!0;case 5:return m.fn.call(m.context,f,d,h,g),!0;case 6:return m.fn.call(m.context,f,d,h,g,v),!0}for(_=1,y=new Array(p-1);_<p;_++)y[_-1]=arguments[_];m.fn.apply(m.context,y)}else{var b=m.length,w;for(_=0;_<b;_++)switch(m[_].once&&this.removeListener(c,m[_].fn,void 0,!0),p){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,f);break;case 3:m[_].fn.call(m[_].context,f,d);break;case 4:m[_].fn.call(m[_].context,f,d,h);break;default:if(!y)for(w=1,y=new Array(p-1);w<p;w++)y[w-1]=arguments[w];m[_].fn.apply(m[_].context,y)}}return!0},a.prototype.on=function(c,f,d){return s(this,c,f,d,!1)},a.prototype.once=function(c,f,d){return s(this,c,f,d,!0)},a.prototype.removeListener=function(c,f,d,h){var g=n?n+c:c;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!h||v.once)&&(!d||v.context===d)&&o(this,g);else{for(var x=0,m=[],p=v.length;x<p;x++)(v[x].fn!==f||h&&!v[x].once||d&&v[x].context!==d)&&m.push(v[x]);m.length?this._events[g]=m.length===1?m[0]:m:o(this,g)}return this},a.prototype.removeAllListeners=function(c){var f;return c?(f=n?n+c:c,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(rle);var Aet=rle.exports;const Tet=Sn(Aet);var zO=new Tet,HO="recharts.syncMouseEvents";function Lb(t){"@babel/helpers - typeof";return Lb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lb(t)}function Pet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Net(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ile(r.key),r)}}function Ret(t,e,n){return e&&Net(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VO(t,e,n){return e=ile(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ile(t){var e=ket(t,"string");return Lb(e)=="symbol"?e:e+""}function ket(t,e){if(Lb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Lb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oet=function(){function t(){Pet(this,t),VO(this,"activeIndex",0),VO(this,"coordinateList",[]),VO(this,"layout","horizontal")}return Ret(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,o=n.container,a=o===void 0?null:o,l=n.layout,c=l===void 0?null:l,f=n.offset,d=f===void 0?null:f,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=a??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,a=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,f=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,h=o+this.offset.top+a/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Iet(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&it(r)&&it(i))return!0}return!1}function jet(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function sle(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,o=ar(e,n,r,i),a=ar(e,n,r,s);return{points:[o,a],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Det(t,e,n){var r,i,s,o;if(t==="horizontal")r=e.x,s=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var a=e.cx,l=e.cy,c=e.innerRadius,f=e.outerRadius,d=e.angle,h=ar(a,l,c,d),g=ar(a,l,f,d);r=h.x,i=h.y,s=g.x,o=g.y}else return sle(e);return[{x:r,y:i},{x:s,y:o}]}function Fb(t){"@babel/helpers - typeof";return Fb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fb(t)}function Wq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wq(Object(n),!0).forEach(function(r){Let(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Let(t,e,n){return e=Fet(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fet(t){var e=Bet(t,"string");return Fb(e)=="symbol"?e:e+""}function Bet(t,e){if(Fb(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Fb(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Uet(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,a=t.activePayload,l=t.offset,c=t.activeTooltipIndex,f=t.tooltipAxisBandSize,d=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!s||!o||h!=="ScatterChart"&&i!=="axis")return null;var v,x=Gh;if(h==="ScatterChart")v=o,x=GKe;else if(h==="BarChart")v=jet(d,o,l,f),x=dU;else if(d==="radial"){var m=sle(o),p=m.cx,y=m.cy,_=m.radius,b=m.startAngle,w=m.endAngle;v={cx:p,cy:y,startAngle:b,endAngle:w,innerRadius:_,outerRadius:_},x=Qoe}else v={points:Det(d,o,l)},x=Gh;var E=cC(cC(cC(cC({stroke:"#ccc",pointerEvents:"none"},l),v),kt(g,!1)),{},{payload:a,payloadIndex:c,className:nn("recharts-tooltip-cursor",g.className)});return M.isValidElement(g)?M.cloneElement(g,E):M.createElement(x,E)}var $et=["item"],zet=["children","className","width","height","style","compact","title","desc"];function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function Mg(){return Mg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mg.apply(this,arguments)}function Gq(t,e){return Wet(t)||Vet(t,e)||ale(t,e)||Het()}function Het(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vet(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){c=!0,i=f}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return a}}function Wet(t){if(Array.isArray(t))return t}function qq(t,e){if(t==null)return{};var n=Get(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Get(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qet(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ket(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lle(r.key),r)}}function Xet(t,e,n){return e&&Ket(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yet(t,e,n){return e=KA(e),Zet(t,ole()?Reflect.construct(e,n||[],KA(t).constructor):e.apply(t,n))}function Zet(t,e){if(e&&(ny(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qet(t)}function Qet(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ole(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ole=function(){return!!t})()}function KA(t){return KA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},KA(t)}function Jet(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D3(t,e)}function D3(t,e){return D3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},D3(t,e)}function ry(t){return ntt(t)||ttt(t)||ale(t)||ett()}function ett(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ale(t,e){if(t){if(typeof t=="string")return L3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return L3(t,e)}}function ttt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ntt(t){if(Array.isArray(t))return L3(t)}function L3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Kq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ue(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kq(Object(n),!0).forEach(function(r){Vt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vt(t,e,n){return e=lle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lle(t){var e=rtt(t,"string");return ny(e)=="symbol"?e:e+""}function rtt(t,e){if(ny(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ny(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var itt={xAxis:["bottom","top"],yAxis:["left","right"]},stt={width:"100%",height:"100%"},cle={x:0,y:0};function uC(t){return t}var ott=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},att=function(e,n,r,i){var s=n.find(function(f){return f&&f.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,a=i.radius;return Ue(Ue(Ue({},i),ar(i.cx,i.cy,a,o)),{},{angle:o,radius:a})}var l=s.coordinate,c=i.angle;return Ue(Ue(Ue({},i),ar(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return cle},F2=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,o=(r??[]).reduce(function(a,l){var c=l.props.data;return c&&c.length?[].concat(ry(a),ry(c)):a},[]);return o.length>0?o:e&&e.length&&it(i)&&it(s)?e.slice(i,s+1):[]};function ule(t){return t==="number"?[0,"auto"]:void 0}var F3=function(e,n,r,i){var s=e.graphicalItems,o=e.tooltipAxis,a=F2(n,e);return r<0||!s||!s.length||r>=a.length?null:s.reduce(function(l,c){var f,d=(f=c.props.data)!==null&&f!==void 0?f:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var g=d===void 0?a:d;h=qM(g,o.dataKey,i)}else h=d&&d[r]||a[r];return h?[].concat(ry(l),[Goe(c,h)]):l},[])},Xq=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},o=ott(s,r),a=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,f=g7e(o,a,c,l);if(f>=0&&c){var d=c[f]&&c[f].value,h=F3(e,n,f,d),g=att(r,a,f,s);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:g}}return null},ltt=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,d=e.children,h=e.stackOffset,g=Uoe(f,s);return r.reduce(function(v,x){var m,p=x.type.defaultProps!==void 0?Ue(Ue({},x.type.defaultProps),x.props):x.props,y=p.type,_=p.dataKey,b=p.allowDataOverflow,w=p.allowDuplicatedCategory,E=p.scale,A=p.ticks,T=p.includeHidden,P=p[o];if(v[P])return v;var N=F2(e.data,{graphicalItems:i.filter(function(G){var K,ie=o in G.props?G.props[o]:(K=G.type.defaultProps)===null||K===void 0?void 0:K[o];return ie===P}),dataStartIndex:l,dataEndIndex:c}),O=N.length,I,D,F;Iet(p.domain,b,y)&&(I=ZL(p.domain,null,b),g&&(y==="number"||E!=="auto")&&(F=d_(N,_,"category")));var $=ule(y);if(!I||I.length===0){var z,H=(z=p.domain)!==null&&z!==void 0?z:$;if(_){if(I=d_(N,_,y),y==="category"&&g){var R=tLe(I);w&&R?(D=I,I=IA(0,O)):w||(I=m9(H,I,x).reduce(function(G,K){return G.indexOf(K)>=0?G:[].concat(ry(G),[K])},[]))}else if(y==="category")w?I=I.filter(function(G){return G!==""&&!Jt(G)}):I=m9(H,I,x).reduce(function(G,K){return G.indexOf(K)>=0||K===""||Jt(K)?G:[].concat(ry(G),[K])},[]);else if(y==="number"){var j=b7e(N,i.filter(function(G){var K,ie,le=o in G.props?G.props[o]:(K=G.type.defaultProps)===null||K===void 0?void 0:K[o],J="hide"in G.props?G.props.hide:(ie=G.type.defaultProps)===null||ie===void 0?void 0:ie.hide;return le===P&&(T||!J)}),_,s,f);j&&(I=j)}g&&(y==="number"||E!=="auto")&&(F=d_(N,_,"category"))}else g?I=IA(0,O):a&&a[P]&&a[P].hasStack&&y==="number"?I=h==="expand"?[0,1]:Woe(a[P].stackGroups,l,c):I=Boe(N,i.filter(function(G){var K=o in G.props?G.props[o]:G.type.defaultProps[o],ie="hide"in G.props?G.props.hide:G.type.defaultProps.hide;return K===P&&(T||!ie)}),y,f,!0);if(y==="number")I=j3(d,I,P,s,A),H&&(I=ZL(H,I,b));else if(y==="category"&&H){var B=H,W=I.every(function(G){return B.indexOf(G)>=0});W&&(I=B)}}return Ue(Ue({},v),{},Vt({},P,Ue(Ue({},p),{},{axisType:s,domain:I,categoricalDomain:F,duplicateDomain:D,originalDomain:(m=p.domain)!==null&&m!==void 0?m:$,isCategorical:g,layout:f})))},{})},ctt=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,o=n.axisIdKey,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.layout,d=e.children,h=F2(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),g=h.length,v=Uoe(f,s),x=-1;return r.reduce(function(m,p){var y=p.type.defaultProps!==void 0?Ue(Ue({},p.type.defaultProps),p.props):p.props,_=y[o],b=ule("number");if(!m[_]){x++;var w;return v?w=IA(0,g):a&&a[_]&&a[_].hasStack?(w=Woe(a[_].stackGroups,l,c),w=j3(d,w,_,s)):(w=ZL(b,Boe(h,r.filter(function(E){var A,T,P=o in E.props?E.props[o]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[o],N="hide"in E.props?E.props.hide:(T=E.type.defaultProps)===null||T===void 0?void 0:T.hide;return P===_&&!N}),"number",f),i.defaultProps.allowDataOverflow),w=j3(d,w,_,s)),Ue(Ue({},m),{},Vt({},_,Ue(Ue({axisType:s},i.defaultProps),{},{hide:!0,orientation:Co(itt,"".concat(s,".").concat(x%2),null),domain:w,originalDomain:b,isCategorical:v,layout:f})))}return m},{})},utt=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,o=n.graphicalItems,a=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,f=e.children,d="".concat(i,"Id"),h=Eo(f,s),g={};return h&&h.length?g=ltt(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c}):o&&o.length&&(g=ctt(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:d,stackGroups:a,dataStartIndex:l,dataEndIndex:c})),g},dtt=function(e){var n=gd(e),r=Xc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:F5(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:wA(n,r)}},Yq=function(e){var n=e.children,r=e.defaultShowTooltip,i=po(n,Gv),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},ftt=function(e){return!e||!e.length?!1:e.some(function(n){var r=eu(n&&n.type);return r&&r.indexOf("Bar")>=0})},Zq=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},htt=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,a=e.yAxisMap,l=a===void 0?{}:a,c=r.width,f=r.height,d=r.children,h=r.margin||{},g=po(d,Gv),v=po(d,Hh),x=Object.keys(l).reduce(function(w,E){var A=l[E],T=A.orientation;return!A.mirror&&!A.hide?Ue(Ue({},w),{},Vt({},T,w[T]+A.width)):w},{left:h.left||0,right:h.right||0}),m=Object.keys(o).reduce(function(w,E){var A=o[E],T=A.orientation;return!A.mirror&&!A.hide?Ue(Ue({},w),{},Vt({},T,Co(w,"".concat(T))+A.height)):w},{top:h.top||0,bottom:h.bottom||0}),p=Ue(Ue({},m),x),y=p.bottom;g&&(p.bottom+=g.props.height||Gv.defaultProps.height),v&&n&&(p=x7e(p,i,r,n));var _=c-p.left-p.right,b=f-p.top-p.bottom;return Ue(Ue({brushBottom:y},p),{},{width:Math.max(_,0),height:Math.max(b,0)})},ptt=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},B2=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,a=o===void 0?["axis"]:o,l=e.axisComponents,c=e.legendContent,f=e.formatAxisMap,d=e.defaultProps,h=function(p,y){var _=y.graphicalItems,b=y.stackGroups,w=y.offset,E=y.updateId,A=y.dataStartIndex,T=y.dataEndIndex,P=p.barSize,N=p.layout,O=p.barGap,I=p.barCategoryGap,D=p.maxBarSize,F=Zq(N),$=F.numericAxisName,z=F.cateAxisName,H=ftt(_),R=[];return _.forEach(function(j,B){var W=F2(p.data,{graphicalItems:[j],dataStartIndex:A,dataEndIndex:T}),G=j.type.defaultProps!==void 0?Ue(Ue({},j.type.defaultProps),j.props):j.props,K=G.dataKey,ie=G.maxBarSize,le=G["".concat($,"Id")],J=G["".concat(z,"Id")],U={},X=l.reduce(function(ot,rt){var oe=y["".concat(rt.axisType,"Map")],Z=G["".concat(rt.axisType,"Id")];oe&&oe[Z]||rt.axisType==="zAxis"||yp();var ve=oe[Z];return Ue(Ue({},ot),{},Vt(Vt({},rt.axisType,ve),"".concat(rt.axisType,"Ticks"),Xc(ve)))},U),Q=X[z],te=X["".concat(z,"Ticks")],ue=b&&b[le]&&b[le].hasStack&&N7e(j,b[le].stackGroups),ee=eu(j.type).indexOf("Bar")>=0,Y=wA(Q,te),se=[],re=H&&v7e({barSize:P,stackGroups:b,totalSize:ptt(X,z)});if(ee){var me,he,Ae=Jt(ie)?D:ie,Se=(me=(he=wA(Q,te,!0))!==null&&he!==void 0?he:Ae)!==null&&me!==void 0?me:0;se=y7e({barGap:O,barCategoryGap:I,bandSize:Se!==Y?Se:Y,sizeList:re[J],maxBarSize:Ae}),Se!==Y&&(se=se.map(function(ot){return Ue(Ue({},ot),{},{position:Ue(Ue({},ot.position),{},{offset:ot.position.offset-Se/2})})}))}var Re=j&&j.type&&j.type.getComposedData;Re&&R.push({props:Ue(Ue({},Re(Ue(Ue({},X),{},{displayedData:W,props:p,dataKey:K,item:j,bandSize:Y,barPosition:se,offset:w,stackedData:ue,layout:N,dataStartIndex:A,dataEndIndex:T}))),{},Vt(Vt(Vt({key:j.key||"item-".concat(B)},$,X[$]),z,X[z]),"animationId",E)),childIndex:fLe(j,p.children),item:j})}),R},g=function(p,y){var _=p.props,b=p.dataStartIndex,w=p.dataEndIndex,E=p.updateId;if(!lG({props:_}))return null;var A=_.children,T=_.layout,P=_.stackOffset,N=_.data,O=_.reverseStackOrder,I=Zq(T),D=I.numericAxisName,F=I.cateAxisName,$=Eo(A,r),z=T7e(N,$,"".concat(D,"Id"),"".concat(F,"Id"),P,O),H=l.reduce(function(G,K){var ie="".concat(K.axisType,"Map");return Ue(Ue({},G),{},Vt({},ie,utt(_,Ue(Ue({},K),{},{graphicalItems:$,stackGroups:K.axisType===D&&z,dataStartIndex:b,dataEndIndex:w}))))},{}),R=htt(Ue(Ue({},H),{},{props:_,graphicalItems:$}),y==null?void 0:y.legendBBox);Object.keys(H).forEach(function(G){H[G]=f(_,H[G],R,G.replace("Map",""),n)});var j=H["".concat(F,"Map")],B=dtt(j),W=h(_,Ue(Ue({},H),{},{dataStartIndex:b,dataEndIndex:w,updateId:E,graphicalItems:$,stackGroups:z,offset:R}));return Ue(Ue({formattedGraphicalItems:W,graphicalItems:$,offset:R,stackGroups:z},B),H)},v=function(m){function p(y){var _,b,w;return qet(this,p),w=Yet(this,p,[y]),Vt(w,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vt(w,"accessibilityManager",new Oet),Vt(w,"handleLegendBBoxUpdate",function(E){if(E){var A=w.state,T=A.dataStartIndex,P=A.dataEndIndex,N=A.updateId;w.setState(Ue({legendBBox:E},g({props:w.props,dataStartIndex:T,dataEndIndex:P,updateId:N},Ue(Ue({},w.state),{},{legendBBox:E}))))}}),Vt(w,"handleReceiveSyncEvent",function(E,A,T){if(w.props.syncId===E){if(T===w.eventEmitterSymbol&&typeof w.props.syncMethod!="function")return;w.applySyncEvent(A)}}),Vt(w,"handleBrushChange",function(E){var A=E.startIndex,T=E.endIndex;if(A!==w.state.dataStartIndex||T!==w.state.dataEndIndex){var P=w.state.updateId;w.setState(function(){return Ue({dataStartIndex:A,dataEndIndex:T},g({props:w.props,dataStartIndex:A,dataEndIndex:T,updateId:P},w.state))}),w.triggerSyncEvent({dataStartIndex:A,dataEndIndex:T})}}),Vt(w,"handleMouseEnter",function(E){var A=w.getMouseInfo(E);if(A){var T=Ue(Ue({},A),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var P=w.props.onMouseEnter;Gt(P)&&P(T,E)}}),Vt(w,"triggeredAfterMouseMove",function(E){var A=w.getMouseInfo(E),T=A?Ue(Ue({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};w.setState(T),w.triggerSyncEvent(T);var P=w.props.onMouseMove;Gt(P)&&P(T,E)}),Vt(w,"handleItemMouseEnter",function(E){w.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Vt(w,"handleItemMouseLeave",function(){w.setState(function(){return{isTooltipActive:!1}})}),Vt(w,"handleMouseMove",function(E){E.persist(),w.throttleTriggeredAfterMouseMove(E)}),Vt(w,"handleMouseLeave",function(E){w.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};w.setState(A),w.triggerSyncEvent(A);var T=w.props.onMouseLeave;Gt(T)&&T(A,E)}),Vt(w,"handleOuterEvent",function(E){var A=dLe(E),T=Co(w.props,"".concat(A));if(A&&Gt(T)){var P,N;/.*touch.*/i.test(A)?N=w.getMouseInfo(E.changedTouches[0]):N=w.getMouseInfo(E),T((P=N)!==null&&P!==void 0?P:{},E)}}),Vt(w,"handleClick",function(E){var A=w.getMouseInfo(E);if(A){var T=Ue(Ue({},A),{},{isTooltipActive:!0});w.setState(T),w.triggerSyncEvent(T);var P=w.props.onClick;Gt(P)&&P(T,E)}}),Vt(w,"handleMouseDown",function(E){var A=w.props.onMouseDown;if(Gt(A)){var T=w.getMouseInfo(E);A(T,E)}}),Vt(w,"handleMouseUp",function(E){var A=w.props.onMouseUp;if(Gt(A)){var T=w.getMouseInfo(E);A(T,E)}}),Vt(w,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Vt(w,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseDown(E.changedTouches[0])}),Vt(w,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&w.handleMouseUp(E.changedTouches[0])}),Vt(w,"handleDoubleClick",function(E){var A=w.props.onDoubleClick;if(Gt(A)){var T=w.getMouseInfo(E);A(T,E)}}),Vt(w,"handleContextMenu",function(E){var A=w.props.onContextMenu;if(Gt(A)){var T=w.getMouseInfo(E);A(T,E)}}),Vt(w,"triggerSyncEvent",function(E){w.props.syncId!==void 0&&zO.emit(HO,w.props.syncId,E,w.eventEmitterSymbol)}),Vt(w,"applySyncEvent",function(E){var A=w.props,T=A.layout,P=A.syncMethod,N=w.state.updateId,O=E.dataStartIndex,I=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)w.setState(Ue({dataStartIndex:O,dataEndIndex:I},g({props:w.props,dataStartIndex:O,dataEndIndex:I,updateId:N},w.state)));else if(E.activeTooltipIndex!==void 0){var D=E.chartX,F=E.chartY,$=E.activeTooltipIndex,z=w.state,H=z.offset,R=z.tooltipTicks;if(!H)return;if(typeof P=="function")$=P(R,E);else if(P==="value"){$=-1;for(var j=0;j<R.length;j++)if(R[j].value===E.activeLabel){$=j;break}}var B=Ue(Ue({},H),{},{x:H.left,y:H.top}),W=Math.min(D,B.x+B.width),G=Math.min(F,B.y+B.height),K=R[$]&&R[$].value,ie=F3(w.state,w.props.data,$),le=R[$]?{x:T==="horizontal"?R[$].coordinate:W,y:T==="horizontal"?G:R[$].coordinate}:cle;w.setState(Ue(Ue({},E),{},{activeLabel:K,activeCoordinate:le,activePayload:ie,activeTooltipIndex:$}))}else w.setState(E)}),Vt(w,"renderCursor",function(E){var A,T=w.state,P=T.isTooltipActive,N=T.activeCoordinate,O=T.activePayload,I=T.offset,D=T.activeTooltipIndex,F=T.tooltipAxisBandSize,$=w.getTooltipEventType(),z=(A=E.props.active)!==null&&A!==void 0?A:P,H=w.props.layout,R=E.key||"_recharts-cursor";return ne.createElement(Uet,{key:R,activeCoordinate:N,activePayload:O,activeTooltipIndex:D,chartName:n,element:E,isActive:z,layout:H,offset:I,tooltipAxisBandSize:F,tooltipEventType:$})}),Vt(w,"renderPolarAxis",function(E,A,T){var P=Co(E,"type.axisType"),N=Co(w.state,"".concat(P,"Map")),O=E.type.defaultProps,I=O!==void 0?Ue(Ue({},O),E.props):E.props,D=N&&N[I["".concat(P,"Id")]];return M.cloneElement(E,Ue(Ue({},D),{},{className:nn(P,D.className),key:E.key||"".concat(A,"-").concat(T),ticks:Xc(D,!0)}))}),Vt(w,"renderPolarGrid",function(E){var A=E.props,T=A.radialLines,P=A.polarAngles,N=A.polarRadius,O=w.state,I=O.radiusAxisMap,D=O.angleAxisMap,F=gd(I),$=gd(D),z=$.cx,H=$.cy,R=$.innerRadius,j=$.outerRadius;return M.cloneElement(E,{polarAngles:Array.isArray(P)?P:Xc($,!0).map(function(B){return B.coordinate}),polarRadius:Array.isArray(N)?N:Xc(F,!0).map(function(B){return B.coordinate}),cx:z,cy:H,innerRadius:R,outerRadius:j,key:E.key||"polar-grid",radialLines:T})}),Vt(w,"renderLegend",function(){var E=w.state.formattedGraphicalItems,A=w.props,T=A.children,P=A.width,N=A.height,O=w.props.margin||{},I=P-(O.left||0)-(O.right||0),D=Loe({children:T,formattedGraphicalItems:E,legendWidth:I,legendContent:c});if(!D)return null;var F=D.item,$=qq(D,$et);return M.cloneElement(F,Ue(Ue({},$),{},{chartWidth:P,chartHeight:N,margin:O,onBBoxUpdate:w.handleLegendBBoxUpdate}))}),Vt(w,"renderTooltip",function(){var E,A=w.props,T=A.children,P=A.accessibilityLayer,N=po(T,Mi);if(!N)return null;var O=w.state,I=O.isTooltipActive,D=O.activeCoordinate,F=O.activePayload,$=O.activeLabel,z=O.offset,H=(E=N.props.active)!==null&&E!==void 0?E:I;return M.cloneElement(N,{viewBox:Ue(Ue({},z),{},{x:z.left,y:z.top}),active:H,label:$,payload:H?F:[],coordinate:D,accessibilityLayer:P})}),Vt(w,"renderBrush",function(E){var A=w.props,T=A.margin,P=A.data,N=w.state,O=N.offset,I=N.dataStartIndex,D=N.dataEndIndex,F=N.updateId;return M.cloneElement(E,{key:E.key||"_recharts-brush",onChange:sC(w.handleBrushChange,E.props.onChange),data:P,x:it(E.props.x)?E.props.x:O.left,y:it(E.props.y)?E.props.y:O.top+O.height+O.brushBottom-(T.bottom||0),width:it(E.props.width)?E.props.width:O.width,startIndex:I,endIndex:D,updateId:"brush-".concat(F)})}),Vt(w,"renderReferenceElement",function(E,A,T){if(!E)return null;var P=w,N=P.clipPathId,O=w.state,I=O.xAxisMap,D=O.yAxisMap,F=O.offset,$=E.type.defaultProps||{},z=E.props,H=z.xAxisId,R=H===void 0?$.xAxisId:H,j=z.yAxisId,B=j===void 0?$.yAxisId:j;return M.cloneElement(E,{key:E.key||"".concat(A,"-").concat(T),xAxis:I[R],yAxis:D[B],viewBox:{x:F.left,y:F.top,width:F.width,height:F.height},clipPathId:N})}),Vt(w,"renderActivePoints",function(E){var A=E.item,T=E.activePoint,P=E.basePoint,N=E.childIndex,O=E.isRange,I=[],D=A.props.key,F=A.item.type.defaultProps!==void 0?Ue(Ue({},A.item.type.defaultProps),A.item.props):A.item.props,$=F.activeDot,z=F.dataKey,H=Ue(Ue({index:N,dataKey:z,cx:T.x,cy:T.y,r:4,fill:uU(A.item),strokeWidth:2,stroke:"#fff",payload:T.payload,value:T.value},kt($,!1)),KM($));return I.push(p.renderActiveDot($,H,"".concat(D,"-activePoint-").concat(N))),P?I.push(p.renderActiveDot($,Ue(Ue({},H),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(N))):O&&I.push(null),I}),Vt(w,"renderGraphicChild",function(E,A,T){var P=w.filterFormatItem(E,A,T);if(!P)return null;var N=w.getTooltipEventType(),O=w.state,I=O.isTooltipActive,D=O.tooltipAxis,F=O.activeTooltipIndex,$=O.activeLabel,z=w.props.children,H=po(z,Mi),R=P.props,j=R.points,B=R.isRange,W=R.baseLine,G=P.item.type.defaultProps!==void 0?Ue(Ue({},P.item.type.defaultProps),P.item.props):P.item.props,K=G.activeDot,ie=G.hide,le=G.activeBar,J=G.activeShape,U=!!(!ie&&I&&H&&(K||le||J)),X={};N!=="axis"&&H&&H.props.trigger==="click"?X={onClick:sC(w.handleItemMouseEnter,E.props.onClick)}:N!=="axis"&&(X={onMouseLeave:sC(w.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:sC(w.handleItemMouseEnter,E.props.onMouseEnter)});var Q=M.cloneElement(E,Ue(Ue({},P.props),X));function te(rt){return typeof D.dataKey=="function"?D.dataKey(rt.payload):null}if(U)if(F>=0){var ue,ee;if(D.dataKey&&!D.allowDuplicatedCategory){var Y=typeof D.dataKey=="function"?te:"payload.".concat(D.dataKey.toString());ue=qM(j,Y,$),ee=B&&W&&qM(W,Y,$)}else ue=j==null?void 0:j[F],ee=B&&W&&W[F];if(J||le){var se=E.props.activeIndex!==void 0?E.props.activeIndex:F;return[M.cloneElement(E,Ue(Ue(Ue({},P.props),X),{},{activeIndex:se})),null,null]}if(!Jt(ue))return[Q].concat(ry(w.renderActivePoints({item:P,activePoint:ue,basePoint:ee,childIndex:F,isRange:B})))}else{var re,me=(re=w.getItemByXY(w.state.activeCoordinate))!==null&&re!==void 0?re:{graphicalItem:Q},he=me.graphicalItem,Ae=he.item,Se=Ae===void 0?E:Ae,Re=he.childIndex,ot=Ue(Ue(Ue({},P.props),X),{},{activeIndex:Re});return[M.cloneElement(Se,ot),null,null]}return B?[Q,null,null]:[Q,null]}),Vt(w,"renderCustomized",function(E,A,T){return M.cloneElement(E,Ue(Ue({key:"recharts-customized-".concat(T)},w.props),w.state))}),Vt(w,"renderMap",{CartesianGrid:{handler:uC,once:!0},ReferenceArea:{handler:w.renderReferenceElement},ReferenceLine:{handler:uC},ReferenceDot:{handler:w.renderReferenceElement},XAxis:{handler:uC},YAxis:{handler:uC},Brush:{handler:w.renderBrush,once:!0},Bar:{handler:w.renderGraphicChild},Line:{handler:w.renderGraphicChild},Area:{handler:w.renderGraphicChild},Radar:{handler:w.renderGraphicChild},RadialBar:{handler:w.renderGraphicChild},Scatter:{handler:w.renderGraphicChild},Pie:{handler:w.renderGraphicChild},Funnel:{handler:w.renderGraphicChild},Tooltip:{handler:w.renderCursor,once:!0},PolarGrid:{handler:w.renderPolarGrid,once:!0},PolarAngleAxis:{handler:w.renderPolarAxis},PolarRadiusAxis:{handler:w.renderPolarAxis},Customized:{handler:w.renderCustomized}}),w.clipPathId="".concat((_=y.id)!==null&&_!==void 0?_:Fp("recharts"),"-clip"),w.throttleTriggeredAfterMouseMove=Ose(w.triggeredAfterMouseMove,(b=y.throttleDelay)!==null&&b!==void 0?b:1e3/60),w.state={},w}return Jet(p,m),Xet(p,[{key:"componentDidMount",value:function(){var _,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,b=_.children,w=_.data,E=_.height,A=_.layout,T=po(b,Mi);if(T){var P=T.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var N=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,O=F3(this.state,w,P,N),I=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+E)/2,F=A==="horizontal",$=F?{x:I,y:D}:{y:I,x:D},z=this.state.formattedGraphicalItems.find(function(R){var j=R.item;return j.type.name==="Scatter"});z&&($=Ue(Ue({},$),z.props.points[P].tooltipPosition),O=z.props.points[P].tooltipPayload);var H={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:N,activePayload:O,activeCoordinate:$};this.setState(H),this.renderCursor(T),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var w,E;this.accessibilityManager.setDetails({offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){dL([po(_.children,Mi)],[po(this.props.children,Mi)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=po(this.props.children,Mi);if(_&&typeof _.props.shared=="boolean"){var b=_.props.shared?"axis":"item";return a.indexOf(b)>=0?b:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var b=this.container,w=b.getBoundingClientRect(),E=F6e(w),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},T=w.width/b.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,T);if(!P)return null;var N=this.state,O=N.xAxisMap,I=N.yAxisMap,D=this.getTooltipEventType(),F=Xq(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&O&&I){var $=gd(O).scale,z=gd(I).scale,H=$&&$.invert?$.invert(A.chartX):null,R=z&&z.invert?z.invert(A.chartY):null;return Ue(Ue({},A),{},{xValue:H,yValue:R},F)}return F?Ue(Ue({},A),F):null}},{key:"inRange",value:function(_,b){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/w,T=b/w;if(E==="horizontal"||E==="vertical"){var P=this.state.offset,N=A>=P.left&&A<=P.left+P.width&&T>=P.top&&T<=P.top+P.height;return N?{x:A,y:T}:null}var O=this.state,I=O.angleAxisMap,D=O.radiusAxisMap;if(I&&D){var F=gd(I);return y9({x:A,y:T},F)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,b=this.getTooltipEventType(),w=po(_,Mi),E={};w&&b==="axis"&&(w.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=KM(this.props,this.handleOuterEvent);return Ue(Ue({},A),E)}},{key:"addListener",value:function(){zO.on(HO,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){zO.removeListener(HO,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,b,w){for(var E=this.state.formattedGraphicalItems,A=0,T=E.length;A<T;A++){var P=E[A];if(P.item===_||P.props.key===_.key||b===eu(P.item.type)&&w===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,b=this.state.offset,w=b.left,E=b.top,A=b.height,T=b.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:_},ne.createElement("rect",{x:w,y:E,height:A,width:T})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(b,w){var E=Gq(w,2),A=E[0],T=E[1];return Ue(Ue({},b),{},Vt({},A,T.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(b,w){var E=Gq(w,2),A=E[0],T=E[1];return Ue(Ue({},b),{},Vt({},A,T.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(_){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(_){var b=this.state,w=b.formattedGraphicalItems,E=b.activeItem;if(w&&w.length)for(var A=0,T=w.length;A<T;A++){var P=w[A],N=P.props,O=P.item,I=O.type.defaultProps!==void 0?Ue(Ue({},O.type.defaultProps),O.props):O.props,D=eu(O.type);if(D==="Bar"){var F=(N.data||[]).find(function(R){return MKe(_,R)});if(F)return{graphicalItem:P,payload:F}}else if(D==="RadialBar"){var $=(N.data||[]).find(function(R){return y9(_,R)});if($)return{graphicalItem:P,payload:$}}else if(R2(P,E)||k2(P,E)||kb(P,E)){var z=pYe({graphicalItem:P,activeTooltipItem:E,itemData:I.data}),H=I.activeIndex===void 0?z:I.activeIndex;return{graphicalItem:Ue(Ue({},P),{},{childIndex:H}),payload:kb(P,E)?I.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var _=this;if(!lG(this))return null;var b=this.props,w=b.children,E=b.className,A=b.width,T=b.height,P=b.style,N=b.compact,O=b.title,I=b.desc,D=qq(b,zet),F=kt(D,!1);if(N)return ne.createElement(Mq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(hL,Mg({},F,{width:A,height:T,title:O,desc:I}),this.renderClipPath(),uG(w,this.renderMap)));if(this.props.accessibilityLayer){var $,z;F.tabIndex=($=this.props.tabIndex)!==null&&$!==void 0?$:0,F.role=(z=this.props.role)!==null&&z!==void 0?z:"application",F.onKeyDown=function(R){_.accessibilityManager.keyboardEvent(R)},F.onFocus=function(){_.accessibilityManager.focus()}}var H=this.parseEventsOfWrapper();return ne.createElement(Mq,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Mg({className:nn("recharts-wrapper",E),style:Ue({position:"relative",cursor:"default",width:A,height:T},P)},H,{ref:function(j){_.container=j}}),ne.createElement(hL,Mg({},F,{width:A,height:T,title:O,desc:I,style:stt}),this.renderClipPath(),uG(w,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(M.Component);Vt(v,"displayName",n),Vt(v,"defaultProps",Ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),Vt(v,"getDerivedStateFromProps",function(m,p){var y=m.dataKey,_=m.data,b=m.children,w=m.width,E=m.height,A=m.layout,T=m.stackOffset,P=m.margin,N=p.dataStartIndex,O=p.dataEndIndex;if(p.updateId===void 0){var I=Yq(m);return Ue(Ue(Ue({},I),{},{updateId:0},g(Ue(Ue({props:m},I),{},{updateId:0}),p)),{},{prevDataKey:y,prevData:_,prevWidth:w,prevHeight:E,prevLayout:A,prevStackOffset:T,prevMargin:P,prevChildren:b})}if(y!==p.prevDataKey||_!==p.prevData||w!==p.prevWidth||E!==p.prevHeight||A!==p.prevLayout||T!==p.prevStackOffset||!Xg(P,p.prevMargin)){var D=Yq(m),F={chartX:p.chartX,chartY:p.chartY,isTooltipActive:p.isTooltipActive},$=Ue(Ue({},Xq(p,_,A)),{},{updateId:p.updateId+1}),z=Ue(Ue(Ue({},D),F),$);return Ue(Ue(Ue({},z),g(Ue({props:m},z),p)),{},{prevDataKey:y,prevData:_,prevWidth:w,prevHeight:E,prevLayout:A,prevStackOffset:T,prevMargin:P,prevChildren:b})}if(!dL(b,p.prevChildren)){var H,R,j,B,W=po(b,Gv),G=W&&(H=(R=W.props)===null||R===void 0?void 0:R.startIndex)!==null&&H!==void 0?H:N,K=W&&(j=(B=W.props)===null||B===void 0?void 0:B.endIndex)!==null&&j!==void 0?j:O,ie=G!==N||K!==O,le=!Jt(_),J=le&&!ie?p.updateId:p.updateId+1;return Ue(Ue({updateId:J},g(Ue(Ue({props:m},p),{},{updateId:J,dataStartIndex:G,dataEndIndex:K}),p)),{},{prevChildren:b,dataStartIndex:G,dataEndIndex:K})}return null}),Vt(v,"renderActiveDot",function(m,p,y){var _;return M.isValidElement(m)?_=M.cloneElement(m,p):Gt(m)?_=m(p):_=ne.createElement(Zw,p),ne.createElement(_n,{className:"recharts-active-dot",key:y},_)});var x=M.forwardRef(function(p,y){return ne.createElement(v,Mg({},p,{ref:y}))});return x.displayName=v.displayName,x},g_=B2({chartName:"LineChart",GraphicalChild:aa,axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:_o}],formatAxisMap:fU}),mtt=B2({chartName:"BarChart",GraphicalChild:zp,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:_o}],formatAxisMap:fU}),gtt=B2({chartName:"PieChart",GraphicalChild:Ou,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:N2},{axisType:"radiusAxis",AxisComp:T2}],formatAxisMap:U7e,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),dle=B2({chartName:"AreaChart",GraphicalChild:Iu,axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:_o}],formatAxisMap:fU});const vtt={light:"",dark:".dark"},fle=M.createContext(null);function hle(){const t=M.useContext(fle);if(!t)throw new Error("useChart must be used within a <ChartContainer />");return t}const ytt=M.forwardRef(({id:t,className:e,children:n,config:r,...i},s)=>{const o=M.useId(),a=`chart-${t||o.replace(/:/g,"")}`;return u.jsx(fle.Provider,{value:{config:r},children:u.jsxs("div",{"data-chart":a,ref:s,className:we("flex aspect-video justify-center text-xs [&_.recharts-cartesian-axis-tick_text]:fill-muted-foreground [&_.recharts-cartesian-grid_line[stroke='#ccc']]:stroke-border/50 [&_.recharts-curve.recharts-tooltip-cursor]:stroke-border [&_.recharts-dot[stroke='#fff']]:stroke-transparent [&_.recharts-layer]:outline-none [&_.recharts-polar-grid_[stroke='#ccc']]:stroke-border [&_.recharts-radial-bar-background-sector]:fill-muted [&_.recharts-rectangle.recharts-tooltip-cursor]:fill-muted [&_.recharts-reference-line_[stroke='#ccc']]:stroke-border [&_.recharts-sector[stroke='#fff']]:stroke-transparent [&_.recharts-sector]:outline-none [&_.recharts-surface]:outline-none",e),...i,children:[u.jsx(xtt,{id:a,config:r}),u.jsx(Dl,{children:n})]})})});ytt.displayName="Chart";const xtt=({id:t,config:e})=>{const n=Object.entries(e).filter(([,r])=>r.theme||r.color);return n.length?u.jsx("style",{dangerouslySetInnerHTML:{__html:Object.entries(vtt).map(([r,i])=>`
${i} [data-chart=${t}] {
${n.map(([s,o])=>{var l;const a=((l=o.theme)==null?void 0:l[r])||o.color;return a?`  --color-${s}: ${a};`:null}).join(`
`)}
}
`).join(`
`)}}):null},_tt=M.forwardRef(({active:t,payload:e,className:n,indicator:r="dot",hideLabel:i=!1,hideIndicator:s=!1,label:o,labelFormatter:a,labelClassName:l,formatter:c,color:f,nameKey:d,labelKey:h},g)=>{const{config:v}=hle(),x=M.useMemo(()=>{var w;if(i||!(e!=null&&e.length))return null;const[p]=e,y=`${h||(p==null?void 0:p.dataKey)||(p==null?void 0:p.name)||"value"}`,_=B3(v,p,y),b=!h&&typeof o=="string"?((w=v[o])==null?void 0:w.label)||o:_==null?void 0:_.label;return a?u.jsx("div",{className:we("font-medium",l),children:a(b,e)}):b?u.jsx("div",{className:we("font-medium",l),children:b}):null},[o,a,e,i,l,v,h]);if(!t||!(e!=null&&e.length))return null;const m=e.length===1&&r!=="dot";return u.jsxs("div",{ref:g,className:we("grid min-w-[8rem] items-start gap-1.5 rounded-lg border border-border/50 bg-background px-2.5 py-1.5 text-xs shadow-xl",n),children:[m?null:x,u.jsx("div",{className:"grid gap-1.5",children:e.map((p,y)=>{const _=`${d||p.name||p.dataKey||"value"}`,b=B3(v,p,_),w=f||p.payload.fill||p.color;return u.jsx("div",{className:we("flex w-full flex-wrap items-stretch gap-2 [&>svg]:h-2.5 [&>svg]:w-2.5 [&>svg]:text-muted-foreground",r==="dot"&&"items-center"),children:c&&(p==null?void 0:p.value)!==void 0&&p.name?c(p.value,p.name,p,y,p.payload):u.jsxs(u.Fragment,{children:[b!=null&&b.icon?u.jsx(b.icon,{}):!s&&u.jsx("div",{className:we("shrink-0 rounded-[2px] border-[--color-border] bg-[--color-bg]",{"h-2.5 w-2.5":r==="dot","w-1":r==="line","w-0 border-[1.5px] border-dashed bg-transparent":r==="dashed","my-0.5":m&&r==="dashed"}),style:{"--color-bg":w,"--color-border":w}}),u.jsxs("div",{className:we("flex flex-1 justify-between leading-none",m?"items-end":"items-center"),children:[u.jsxs("div",{className:"grid gap-1.5",children:[m?x:null,u.jsx("span",{className:"text-muted-foreground",children:(b==null?void 0:b.label)||p.name})]}),p.value&&u.jsx("span",{className:"font-mono font-medium tabular-nums text-foreground",children:p.value.toLocaleString()})]})]})},p.dataKey)})})]})});_tt.displayName="ChartTooltip";const btt=M.forwardRef(({className:t,hideIcon:e=!1,payload:n,verticalAlign:r="bottom",nameKey:i},s)=>{const{config:o}=hle();return n!=null&&n.length?u.jsx("div",{ref:s,className:we("flex items-center justify-center gap-4",r==="top"?"pb-3":"pt-3",t),children:n.map(a=>{const l=`${i||a.dataKey||"value"}`,c=B3(o,a,l);return u.jsxs("div",{className:we("flex items-center gap-1.5 [&>svg]:h-3 [&>svg]:w-3 [&>svg]:text-muted-foreground"),children:[c!=null&&c.icon&&!e?u.jsx(c.icon,{}):u.jsx("div",{className:"h-2 w-2 shrink-0 rounded-[2px]",style:{backgroundColor:a.color}}),c==null?void 0:c.label]},a.value)})}):null});btt.displayName="ChartLegend";function B3(t,e,n){if(typeof e!="object"||e===null)return;const r="payload"in e&&typeof e.payload=="object"&&e.payload!==null?e.payload:void 0;let i=n;return n in e&&typeof e[n]=="string"?i=e[n]:r&&n in r&&typeof r[n]=="string"&&(i=r[n]),i in t?t[i]:t[n]}function Zy(t){const e=M.useRef({value:t,previous:t});return M.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function Qw(t){const[e,n]=M.useState(void 0);return _r(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var wU="Checkbox",[wtt,hAt]=nr(wU),[Stt,Ctt]=wtt(wU),ple=M.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:f,...d}=t,[h,g]=M.useState(null),v=Nt(e,b=>g(b)),x=M.useRef(!1),m=h?f||!!h.closest("form"):!0,[p=!1,y]=$r({prop:i,defaultProp:s,onChange:c}),_=M.useRef(p);return M.useEffect(()=>{const b=h==null?void 0:h.form;if(b){const w=()=>y(_.current);return b.addEventListener("reset",w),()=>b.removeEventListener("reset",w)}},[h,y]),u.jsxs(Stt,{scope:n,state:p,disabled:a,children:[u.jsx(Ze.button,{type:"button",role:"checkbox","aria-checked":qd(p)?"mixed":p,"aria-required":o,"data-state":vle(p),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onKeyDown:Ie(t.onKeyDown,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:Ie(t.onClick,b=>{y(w=>qd(w)?!0:!w),m&&(x.current=b.isPropagationStopped(),x.current||b.stopPropagation())})}),m&&u.jsx(Ett,{control:h,bubbles:!x.current,name:r,value:l,checked:p,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"},defaultChecked:qd(s)?!1:s})]})});ple.displayName=wU;var mle="CheckboxIndicator",gle=M.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=Ctt(mle,n);return u.jsx(gr,{present:r||qd(s.state)||s.state===!0,children:u.jsx(Ze.span,{"data-state":vle(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});gle.displayName=mle;var Ett=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=M.useRef(null),a=Zy(n),l=Qw(e);M.useEffect(()=>{const f=o.current,d=window.HTMLInputElement.prototype,g=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&g){const v=new Event("click",{bubbles:r});f.indeterminate=qd(n),g.call(f,qd(n)?!1:n),f.dispatchEvent(v)}},[a,n,r]);const c=M.useRef(qd(n)?!1:n);return u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function qd(t){return t==="indeterminate"}function vle(t){return qd(t)?"indeterminate":t?"checked":"unchecked"}var yle=ple,Mtt=gle;const Att=M.forwardRef(({className:t,...e},n)=>u.jsx(yle,{ref:n,className:we("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:u.jsx(Mtt,{className:we("flex items-center justify-center text-current"),children:u.jsx(Tw,{className:"h-4 w-4"})})}));Att.displayName=yle.displayName;const Ttt=Hee,Ptt=J4,Ntt=tB;var Qq=1,Rtt=.9,ktt=.8,Ott=.17,WO=.1,GO=.999,Itt=.9999,jtt=.99,Dtt=/[\\\/_+.#"@\[\(\{&]/,Ltt=/[\\\/_+.#"@\[\(\{&]/g,Ftt=/[\s-]/,xle=/[\s-]/g;function U3(t,e,n,r,i,s,o){if(s===e.length)return i===t.length?Qq:jtt;var a=`${i},${s}`;if(o[a]!==void 0)return o[a];for(var l=r.charAt(s),c=n.indexOf(l,i),f=0,d,h,g,v;c>=0;)d=U3(t,e,n,r,c+1,s+1,o),d>f&&(c===i?d*=Qq:Dtt.test(t.charAt(c-1))?(d*=ktt,g=t.slice(i,c-1).match(Ltt),g&&i>0&&(d*=Math.pow(GO,g.length))):Ftt.test(t.charAt(c-1))?(d*=Rtt,v=t.slice(i,c-1).match(xle),v&&i>0&&(d*=Math.pow(GO,v.length))):(d*=Ott,i>0&&(d*=Math.pow(GO,c-i))),t.charAt(c)!==e.charAt(s)&&(d*=Itt)),(d<WO&&n.charAt(c-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(c-1)!==r.charAt(s))&&(h=U3(t,e,n,r,c+1,s+2,o),h*WO>d&&(d=h*WO)),d>f&&(f=d),c=n.indexOf(l,c+1);return o[a]=f,f}function Jq(t){return t.toLowerCase().replace(xle," ")}function Btt(t,e,n){return t=n&&n.length>0?`${t+" "+n.join(" ")}`:t,U3(t,e,Jq(t),Jq(e),0,0,{})}var a0='[cmdk-group=""]',qO='[cmdk-group-items=""]',Utt='[cmdk-group-heading=""]',_le='[cmdk-item=""]',eK=`${_le}:not([aria-disabled="true"])`,$3="cmdk-item-select",Jm="data-value",$tt=(t,e,n)=>Btt(t,e,n),ble=M.createContext(void 0),Jw=()=>M.useContext(ble),wle=M.createContext(void 0),SU=()=>M.useContext(wle),Sle=M.createContext(void 0),Cle=M.forwardRef((t,e)=>{let n=eg(()=>{var G,K;return{search:"",value:(K=(G=t.value)!=null?G:t.defaultValue)!=null?K:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=eg(()=>new Set),i=eg(()=>new Map),s=eg(()=>new Map),o=eg(()=>new Set),a=Ele(t),{label:l,children:c,value:f,onValueChange:d,filter:h,shouldFilter:g,loop:v,disablePointerSelection:x=!1,vimBindings:m=!0,...p}=t,y=Br(),_=Br(),b=Br(),w=M.useRef(null),E=Qtt();bp(()=>{if(f!==void 0){let G=f.trim();n.current.value=G,A.emit()}},[f]),bp(()=>{E(6,D)},[]);let A=M.useMemo(()=>({subscribe:G=>(o.current.add(G),()=>o.current.delete(G)),snapshot:()=>n.current,setState:(G,K,ie)=>{var le,J,U,X;if(!Object.is(n.current[G],K)){if(n.current[G]=K,G==="search")I(),N(),E(1,O);else if(G==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let Q=document.getElementById(b);Q?Q.focus():(le=document.getElementById(y))==null||le.focus()}if(E(7,()=>{var Q;n.current.selectedItemId=(Q=F())==null?void 0:Q.id,A.emit()}),ie||E(5,D),((J=a.current)==null?void 0:J.value)!==void 0){let Q=K??"";(X=(U=a.current).onValueChange)==null||X.call(U,Q);return}}A.emit()}},emit:()=>{o.current.forEach(G=>G())}}),[]),T=M.useMemo(()=>({value:(G,K,ie)=>{var le;K!==((le=s.current.get(G))==null?void 0:le.value)&&(s.current.set(G,{value:K,keywords:ie}),n.current.filtered.items.set(G,P(K,ie)),E(2,()=>{N(),A.emit()}))},item:(G,K)=>(r.current.add(G),K&&(i.current.has(K)?i.current.get(K).add(G):i.current.set(K,new Set([G]))),E(3,()=>{I(),N(),n.current.value||O(),A.emit()}),()=>{s.current.delete(G),r.current.delete(G),n.current.filtered.items.delete(G);let ie=F();E(4,()=>{I(),(ie==null?void 0:ie.getAttribute("id"))===G&&O(),A.emit()})}),group:G=>(i.current.has(G)||i.current.set(G,new Set),()=>{s.current.delete(G),i.current.delete(G)}),filter:()=>a.current.shouldFilter,label:l||t["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:y,inputId:b,labelId:_,listInnerRef:w}),[]);function P(G,K){var ie,le;let J=(le=(ie=a.current)==null?void 0:ie.filter)!=null?le:$tt;return G?J(G,n.current.search,K):0}function N(){if(!n.current.search||a.current.shouldFilter===!1)return;let G=n.current.filtered.items,K=[];n.current.filtered.groups.forEach(le=>{let J=i.current.get(le),U=0;J.forEach(X=>{let Q=G.get(X);U=Math.max(Q,U)}),K.push([le,U])});let ie=w.current;$().sort((le,J)=>{var U,X;let Q=le.getAttribute("id"),te=J.getAttribute("id");return((U=G.get(te))!=null?U:0)-((X=G.get(Q))!=null?X:0)}).forEach(le=>{let J=le.closest(qO);J?J.appendChild(le.parentElement===J?le:le.closest(`${qO} > *`)):ie.appendChild(le.parentElement===ie?le:le.closest(`${qO} > *`))}),K.sort((le,J)=>J[1]-le[1]).forEach(le=>{var J;let U=(J=w.current)==null?void 0:J.querySelector(`${a0}[${Jm}="${encodeURIComponent(le[0])}"]`);U==null||U.parentElement.appendChild(U)})}function O(){let G=$().find(ie=>ie.getAttribute("aria-disabled")!=="true"),K=G==null?void 0:G.getAttribute(Jm);A.setState("value",K||void 0)}function I(){var G,K,ie,le;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let J=0;for(let U of r.current){let X=(K=(G=s.current.get(U))==null?void 0:G.value)!=null?K:"",Q=(le=(ie=s.current.get(U))==null?void 0:ie.keywords)!=null?le:[],te=P(X,Q);n.current.filtered.items.set(U,te),te>0&&J++}for(let[U,X]of i.current)for(let Q of X)if(n.current.filtered.items.get(Q)>0){n.current.filtered.groups.add(U);break}n.current.filtered.count=J}function D(){var G,K,ie;let le=F();le&&(((G=le.parentElement)==null?void 0:G.firstChild)===le&&((ie=(K=le.closest(a0))==null?void 0:K.querySelector(Utt))==null||ie.scrollIntoView({block:"nearest"})),le.scrollIntoView({block:"nearest"}))}function F(){var G;return(G=w.current)==null?void 0:G.querySelector(`${_le}[aria-selected="true"]`)}function $(){var G;return Array.from(((G=w.current)==null?void 0:G.querySelectorAll(eK))||[])}function z(G){let K=$()[G];K&&A.setState("value",K.getAttribute(Jm))}function H(G){var K;let ie=F(),le=$(),J=le.findIndex(X=>X===ie),U=le[J+G];(K=a.current)!=null&&K.loop&&(U=J+G<0?le[le.length-1]:J+G===le.length?le[0]:le[J+G]),U&&A.setState("value",U.getAttribute(Jm))}function R(G){let K=F(),ie=K==null?void 0:K.closest(a0),le;for(;ie&&!le;)ie=G>0?Ytt(ie,a0):Ztt(ie,a0),le=ie==null?void 0:ie.querySelector(eK);le?A.setState("value",le.getAttribute(Jm)):H(G)}let j=()=>z($().length-1),B=G=>{G.preventDefault(),G.metaKey?j():G.altKey?R(1):H(1)},W=G=>{G.preventDefault(),G.metaKey?z(0):G.altKey?R(-1):H(-1)};return M.createElement(Ze.div,{ref:e,tabIndex:-1,...p,"cmdk-root":"",onKeyDown:G=>{var K;(K=p.onKeyDown)==null||K.call(p,G);let ie=G.nativeEvent.isComposing||G.keyCode===229;if(!(G.defaultPrevented||ie))switch(G.key){case"n":case"j":{m&&G.ctrlKey&&B(G);break}case"ArrowDown":{B(G);break}case"p":case"k":{m&&G.ctrlKey&&W(G);break}case"ArrowUp":{W(G);break}case"Home":{G.preventDefault(),z(0);break}case"End":{G.preventDefault(),j();break}case"Enter":{G.preventDefault();let le=F();if(le){let J=new Event($3);le.dispatchEvent(J)}}}}},M.createElement("label",{"cmdk-label":"",htmlFor:T.inputId,id:T.labelId,style:ent},l),U2(t,G=>M.createElement(wle.Provider,{value:A},M.createElement(ble.Provider,{value:T},G))))}),ztt=M.forwardRef((t,e)=>{var n,r;let i=Br(),s=M.useRef(null),o=M.useContext(Sle),a=Jw(),l=Ele(t),c=(r=(n=l.current)==null?void 0:n.forceMount)!=null?r:o==null?void 0:o.forceMount;bp(()=>{if(!c)return a.item(i,o==null?void 0:o.id)},[c]);let f=Mle(i,s,[t.value,t.children,s],t.keywords),d=SU(),h=ef(E=>E.value&&E.value===f.current),g=ef(E=>c||a.filter()===!1?!0:E.search?E.filtered.items.get(i)>0:!0);M.useEffect(()=>{let E=s.current;if(!(!E||t.disabled))return E.addEventListener($3,v),()=>E.removeEventListener($3,v)},[g,t.onSelect,t.disabled]);function v(){var E,A;x(),(A=(E=l.current).onSelect)==null||A.call(E,f.current)}function x(){d.setState("value",f.current,!0)}if(!g)return null;let{disabled:m,value:p,onSelect:y,forceMount:_,keywords:b,...w}=t;return M.createElement(Ze.div,{ref:ec(s,e),...w,id:i,"cmdk-item":"",role:"option","aria-disabled":!!m,"aria-selected":!!h,"data-disabled":!!m,"data-selected":!!h,onPointerMove:m||a.getDisablePointerSelection()?void 0:x,onClick:m?void 0:v},t.children)}),Htt=M.forwardRef((t,e)=>{let{heading:n,children:r,forceMount:i,...s}=t,o=Br(),a=M.useRef(null),l=M.useRef(null),c=Br(),f=Jw(),d=ef(g=>i||f.filter()===!1?!0:g.search?g.filtered.groups.has(o):!0);bp(()=>f.group(o),[]),Mle(o,a,[t.value,t.heading,l]);let h=M.useMemo(()=>({id:o,forceMount:i}),[i]);return M.createElement(Ze.div,{ref:ec(a,e),...s,"cmdk-group":"",role:"presentation",hidden:d?void 0:!0},n&&M.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),U2(t,g=>M.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},M.createElement(Sle.Provider,{value:h},g))))}),Vtt=M.forwardRef((t,e)=>{let{alwaysRender:n,...r}=t,i=M.useRef(null),s=ef(o=>!o.search);return!n&&!s?null:M.createElement(Ze.div,{ref:ec(i,e),...r,"cmdk-separator":"",role:"separator"})}),Wtt=M.forwardRef((t,e)=>{let{onValueChange:n,...r}=t,i=t.value!=null,s=SU(),o=ef(c=>c.search),a=ef(c=>c.selectedItemId),l=Jw();return M.useEffect(()=>{t.value!=null&&s.setState("search",t.value)},[t.value]),M.createElement(Ze.input,{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:i?t.value:o,onChange:c=>{i||s.setState("search",c.target.value),n==null||n(c.target.value)}})}),Gtt=M.forwardRef((t,e)=>{let{children:n,label:r="Suggestions",...i}=t,s=M.useRef(null),o=M.useRef(null),a=ef(c=>c.selectedItemId),l=Jw();return M.useEffect(()=>{if(o.current&&s.current){let c=o.current,f=s.current,d,h=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let g=c.offsetHeight;f.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(d),h.unobserve(c)}}},[]),M.createElement(Ze.div,{ref:ec(s,e),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":r,id:l.listId},U2(t,c=>M.createElement("div",{ref:ec(o,l.listInnerRef),"cmdk-list-sizer":""},c)))}),qtt=M.forwardRef((t,e)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:o,...a}=t;return M.createElement(FP,{open:n,onOpenChange:r},M.createElement(kw,{container:o},M.createElement(Ip,{"cmdk-overlay":"",className:i}),M.createElement(jp,{"aria-label":t.label,"cmdk-dialog":"",className:s},M.createElement(Cle,{ref:e,...a}))))}),Ktt=M.forwardRef((t,e)=>ef(n=>n.filtered.count===0)?M.createElement(Ze.div,{ref:e,...t,"cmdk-empty":"",role:"presentation"}):null),Xtt=M.forwardRef((t,e)=>{let{progress:n,children:r,label:i="Loading...",...s}=t;return M.createElement(Ze.div,{ref:e,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},U2(t,o=>M.createElement("div",{"aria-hidden":!0},o)))}),Qs=Object.assign(Cle,{List:Gtt,Item:ztt,Input:Wtt,Group:Htt,Separator:Vtt,Dialog:qtt,Empty:Ktt,Loading:Xtt});function Ytt(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Ztt(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function Ele(t){let e=M.useRef(t);return bp(()=>{e.current=t}),e}var bp=typeof window>"u"?M.useEffect:M.useLayoutEffect;function eg(t){let e=M.useRef();return e.current===void 0&&(e.current=t()),e}function ef(t){let e=SU(),n=()=>t(e.snapshot());return M.useSyncExternalStore(e.subscribe,n,n)}function Mle(t,e,n,r=[]){let i=M.useRef(),s=Jw();return bp(()=>{var o;let a=(()=>{var c;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(c=f.current.textContent)==null?void 0:c.trim():i.current}})(),l=r.map(c=>c.trim());s.value(t,a,l),(o=e.current)==null||o.setAttribute(Jm,a),i.current=a}),i}var Qtt=()=>{let[t,e]=M.useState(),n=eg(()=>new Map);return bp(()=>{n.current.forEach(r=>r()),n.current=new Map},[t]),(r,i)=>{n.current.set(r,i),e({})}};function Jtt(t){let e=t.type;return typeof e=="function"?e(t.props):"render"in e?e.render(t.props):t}function U2({asChild:t,children:e},n){return t&&M.isValidElement(e)?M.cloneElement(Jtt(e),{ref:e.ref},n(e.props.children)):n(e)}var ent={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ale=M.forwardRef(({className:t,...e},n)=>u.jsx(Qs,{ref:n,className:we("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...e}));Ale.displayName=Qs.displayName;const tnt=({children:t,...e})=>u.jsx(tx,{...e,children:u.jsx(Wp,{className:"overflow-hidden p-0 shadow-lg",children:u.jsx(Ale,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:t})})}),Tle=M.forwardRef(({className:t,...e},n)=>u.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[u.jsx(el,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),u.jsx(Qs.Input,{ref:n,className:we("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...e})]}));Tle.displayName=Qs.Input.displayName;const Ple=M.forwardRef(({className:t,...e},n)=>u.jsx(Qs.List,{ref:n,className:we("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...e}));Ple.displayName=Qs.List.displayName;const Nle=M.forwardRef((t,e)=>u.jsx(Qs.Empty,{ref:e,className:"py-6 text-center text-sm",...t}));Nle.displayName=Qs.Empty.displayName;const Rle=M.forwardRef(({className:t,...e},n)=>u.jsx(Qs.Group,{ref:n,className:we("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...e}));Rle.displayName=Qs.Group.displayName;const nnt=M.forwardRef(({className:t,...e},n)=>u.jsx(Qs.Separator,{ref:n,className:we("-mx-1 h-px bg-border",t),...e}));nnt.displayName=Qs.Separator.displayName;const kle=M.forwardRef(({className:t,...e},n)=>u.jsx(Qs.Item,{ref:n,className:we("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t),...e}));kle.displayName=Qs.Item.displayName;const rnt=["top","right","bottom","left"],tf=Math.min,go=Math.max,XA=Math.round,dC=Math.floor,Yl=t=>({x:t,y:t}),int={left:"right",right:"left",bottom:"top",top:"bottom"},snt={start:"end",end:"start"};function z3(t,e,n){return go(t,tf(e,n))}function mu(t,e){return typeof t=="function"?t(e):t}function gu(t){return t.split("-")[0]}function Qy(t){return t.split("-")[1]}function CU(t){return t==="x"?"y":"x"}function EU(t){return t==="y"?"height":"width"}function nf(t){return["top","bottom"].includes(gu(t))?"y":"x"}function MU(t){return CU(nf(t))}function ont(t,e,n){n===void 0&&(n=!1);const r=Qy(t),i=MU(t),s=EU(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=YA(o)),[o,YA(o)]}function ant(t){const e=YA(t);return[H3(t),e,H3(e)]}function H3(t){return t.replace(/start|end/g,e=>snt[e])}function lnt(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function cnt(t,e,n,r){const i=Qy(t);let s=lnt(gu(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(H3)))),s}function YA(t){return t.replace(/left|right|bottom|top/g,e=>int[e])}function unt(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ole(t){return typeof t!="number"?unt(t):{top:t,right:t,bottom:t,left:t}}function ZA(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function tK(t,e,n){let{reference:r,floating:i}=t;const s=nf(e),o=MU(e),a=EU(o),l=gu(e),c=s==="y",f=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let g;switch(l){case"top":g={x:f,y:r.y-i.height};break;case"bottom":g={x:f,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:d};break;case"left":g={x:r.x-i.width,y:d};break;default:g={x:r.x,y:r.y}}switch(Qy(e)){case"start":g[o]-=h*(n&&c?-1:1);break;case"end":g[o]+=h*(n&&c?-1:1);break}return g}const dnt=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:d}=tK(c,r,l),h=r,g={},v=0;for(let x=0;x<a.length;x++){const{name:m,fn:p}=a[x],{x:y,y:_,data:b,reset:w}=await p({x:f,y:d,initialPlacement:r,placement:h,strategy:i,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});f=y??f,d=_??d,g={...g,[m]:{...g[m],...b}},w&&v<=50&&(v++,typeof w=="object"&&(w.placement&&(h=w.placement),w.rects&&(c=w.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):w.rects),{x:f,y:d}=tK(c,h,l)),x=-1)}return{x:f,y:d,placement:h,strategy:i,middlewareData:g}};async function Bb(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:d="floating",altBoundary:h=!1,padding:g=0}=mu(e,t),v=Ole(g),m=a[h?d==="floating"?"reference":"floating":d],p=ZA(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:f,strategy:l})),y=d==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),b=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},w=ZA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:_,strategy:l}):y);return{top:(p.top-w.top+v.top)/b.y,bottom:(w.bottom-p.bottom+v.bottom)/b.y,left:(p.left-w.left+v.left)/b.x,right:(w.right-p.right+v.right)/b.x}}const fnt=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:f=0}=mu(t,e)||{};if(c==null)return{};const d=Ole(f),h={x:n,y:r},g=MU(i),v=EU(g),x=await o.getDimensions(c),m=g==="y",p=m?"top":"left",y=m?"bottom":"right",_=m?"clientHeight":"clientWidth",b=s.reference[v]+s.reference[g]-h[g]-s.floating[v],w=h[g]-s.reference[g],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let A=E?E[_]:0;(!A||!await(o.isElement==null?void 0:o.isElement(E)))&&(A=a.floating[_]||s.floating[v]);const T=b/2-w/2,P=A/2-x[v]/2-1,N=tf(d[p],P),O=tf(d[y],P),I=N,D=A-x[v]-O,F=A/2-x[v]/2+T,$=z3(I,F,D),z=!l.arrow&&Qy(i)!=null&&F!==$&&s.reference[v]/2-(F<I?N:O)-x[v]/2<0,H=z?F<I?F-I:F-D:0;return{[g]:h[g]+H,data:{[g]:$,centerOffset:F-$-H,...z&&{alignmentOffset:H}},reset:z}}}),hnt=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:f=!0,crossAxis:d=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:x=!0,...m}=mu(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=gu(i),y=nf(a),_=gu(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),w=h||(_||!x?[YA(a)]:ant(a)),E=v!=="none";!h&&E&&w.push(...cnt(a,x,v,b));const A=[a,...w],T=await Bb(e,m),P=[];let N=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&P.push(T[p]),d){const F=ont(i,o,b);P.push(T[F[0]],T[F[1]])}if(N=[...N,{placement:i,overflows:P}],!P.every(F=>F<=0)){var O,I;const F=(((O=s.flip)==null?void 0:O.index)||0)+1,$=A[F];if($)return{data:{index:F,overflows:N},reset:{placement:$}};let z=(I=N.filter(H=>H.overflows[0]<=0).sort((H,R)=>H.overflows[1]-R.overflows[1])[0])==null?void 0:I.placement;if(!z)switch(g){case"bestFit":{var D;const H=(D=N.filter(R=>{if(E){const j=nf(R.placement);return j===y||j==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(j=>j>0).reduce((j,B)=>j+B,0)]).sort((R,j)=>R[1]-j[1])[0])==null?void 0:D[0];H&&(z=H);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function nK(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function rK(t){return rnt.some(e=>t[e]>=0)}const pnt=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=mu(t,e);switch(r){case"referenceHidden":{const s=await Bb(e,{...i,elementContext:"reference"}),o=nK(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rK(o)}}}case"escaped":{const s=await Bb(e,{...i,altBoundary:!0}),o=nK(s,n.floating);return{data:{escapedOffsets:o,escaped:rK(o)}}}default:return{}}}}};async function mnt(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=gu(n),a=Qy(n),l=nf(n)==="y",c=["left","top"].includes(o)?-1:1,f=s&&l?-1:1,d=mu(e,t);let{mainAxis:h,crossAxis:g,alignmentAxis:v}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return a&&typeof v=="number"&&(g=a==="end"?v*-1:v),l?{x:g*f,y:h*c}:{x:h*c,y:g*f}}const gnt=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await mnt(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},vnt=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x:p,y}=m;return{x:p,y}}},...l}=mu(t,e),c={x:n,y:r},f=await Bb(e,l),d=nf(gu(i)),h=CU(d);let g=c[h],v=c[d];if(s){const m=h==="y"?"top":"left",p=h==="y"?"bottom":"right",y=g+f[m],_=g-f[p];g=z3(y,g,_)}if(o){const m=d==="y"?"top":"left",p=d==="y"?"bottom":"right",y=v+f[m],_=v-f[p];v=z3(y,v,_)}const x=a.fn({...e,[h]:g,[d]:v});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[h]:s,[d]:o}}}}}},ynt=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=mu(t,e),f={x:n,y:r},d=nf(i),h=CU(d);let g=f[h],v=f[d];const x=mu(a,e),m=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const _=h==="y"?"height":"width",b=s.reference[h]-s.floating[_]+m.mainAxis,w=s.reference[h]+s.reference[_]-m.mainAxis;g<b?g=b:g>w&&(g=w)}if(c){var p,y;const _=h==="y"?"width":"height",b=["top","left"].includes(gu(i)),w=s.reference[d]-s.floating[_]+(b&&((p=o.offset)==null?void 0:p[d])||0)+(b?0:m.crossAxis),E=s.reference[d]+s.reference[_]+(b?0:((y=o.offset)==null?void 0:y[d])||0)-(b?m.crossAxis:0);v<w?v=w:v>E&&(v=E)}return{[h]:g,[d]:v}}}},xnt=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=mu(t,e),f=await Bb(e,c),d=gu(i),h=Qy(i),g=nf(i)==="y",{width:v,height:x}=s.floating;let m,p;d==="top"||d==="bottom"?(m=d,p=h===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=d,m=h==="end"?"top":"bottom");const y=x-f.top-f.bottom,_=v-f.left-f.right,b=tf(x-f[m],y),w=tf(v-f[p],_),E=!e.middlewareData.shift;let A=b,T=w;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(T=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=y),E&&!h){const N=go(f.left,0),O=go(f.right,0),I=go(f.top,0),D=go(f.bottom,0);g?T=v-2*(N!==0||O!==0?N+O:go(f.left,f.right)):A=x-2*(I!==0||D!==0?I+D:go(f.top,f.bottom))}await l({...e,availableWidth:T,availableHeight:A});const P=await o.getDimensions(a.floating);return v!==P.width||x!==P.height?{reset:{rects:!0}}:{}}}};function $2(){return typeof window<"u"}function Jy(t){return Ile(t)?(t.nodeName||"").toLowerCase():"#document"}function Mo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function uc(t){var e;return(e=(Ile(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Ile(t){return $2()?t instanceof Node||t instanceof Mo(t).Node:!1}function ul(t){return $2()?t instanceof Element||t instanceof Mo(t).Element:!1}function ic(t){return $2()?t instanceof HTMLElement||t instanceof Mo(t).HTMLElement:!1}function iK(t){return!$2()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Mo(t).ShadowRoot}function e1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=dl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function _nt(t){return["table","td","th"].includes(Jy(t))}function z2(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function AU(t){const e=TU(),n=ul(t)?dl(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function bnt(t){let e=rf(t);for(;ic(e)&&!iy(e);){if(AU(e))return e;if(z2(e))return null;e=rf(e)}return null}function TU(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function iy(t){return["html","body","#document"].includes(Jy(t))}function dl(t){return Mo(t).getComputedStyle(t)}function H2(t){return ul(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function rf(t){if(Jy(t)==="html")return t;const e=t.assignedSlot||t.parentNode||iK(t)&&t.host||uc(t);return iK(e)?e.host:e}function jle(t){const e=rf(t);return iy(e)?t.ownerDocument?t.ownerDocument.body:t.body:ic(e)&&e1(e)?e:jle(e)}function Ub(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=jle(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Mo(i);if(s){const a=V3(o);return e.concat(o,o.visualViewport||[],e1(i)?i:[],a&&n?Ub(a):[])}return e.concat(i,Ub(i,[],n))}function V3(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dle(t){const e=dl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ic(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=XA(n)!==s||XA(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function PU(t){return ul(t)?t:t.contextElement}function Qg(t){const e=PU(t);if(!ic(e))return Yl(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Dle(e);let o=(s?XA(n.width):n.width)/r,a=(s?XA(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const wnt=Yl(0);function Lle(t){const e=Mo(t);return!TU()||!e.visualViewport?wnt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Snt(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Mo(t)?!1:e}function wp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=PU(t);let o=Yl(1);e&&(r?ul(r)&&(o=Qg(r)):o=Qg(t));const a=Snt(s,n,r)?Lle(s):Yl(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,f=i.width/o.x,d=i.height/o.y;if(s){const h=Mo(s),g=r&&ul(r)?Mo(r):r;let v=h,x=V3(v);for(;x&&r&&g!==v;){const m=Qg(x),p=x.getBoundingClientRect(),y=dl(x),_=p.left+(x.clientLeft+parseFloat(y.paddingLeft))*m.x,b=p.top+(x.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,c*=m.y,f*=m.x,d*=m.y,l+=_,c+=b,v=Mo(x),x=V3(v)}}return ZA({width:f,height:d,x:l,y:c})}function NU(t,e){const n=H2(t).scrollLeft;return e?e.left+n:wp(uc(t)).left+n}function Fle(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:NU(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function Cnt(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=uc(r),a=e?z2(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Yl(1);const f=Yl(0),d=ic(r);if((d||!d&&!s)&&((Jy(r)!=="body"||e1(o))&&(l=H2(r)),ic(r))){const g=wp(r);c=Qg(r),f.x=g.x+r.clientLeft,f.y=g.y+r.clientTop}const h=o&&!d&&!s?Fle(o,l,!0):Yl(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+f.x+h.x,y:n.y*c.y-l.scrollTop*c.y+f.y+h.y}}function Ent(t){return Array.from(t.getClientRects())}function Mnt(t){const e=uc(t),n=H2(t),r=t.ownerDocument.body,i=go(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=go(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+NU(t);const a=-n.scrollTop;return dl(r).direction==="rtl"&&(o+=go(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function Ant(t,e){const n=Mo(t),r=uc(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=TU();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function Tnt(t,e){const n=wp(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=ic(t)?Qg(t):Yl(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function sK(t,e,n){let r;if(e==="viewport")r=Ant(t,n);else if(e==="document")r=Mnt(uc(t));else if(ul(e))r=Tnt(e,n);else{const i=Lle(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return ZA(r)}function Ble(t,e){const n=rf(t);return n===e||!ul(n)||iy(n)?!1:dl(n).position==="fixed"||Ble(n,e)}function Pnt(t,e){const n=e.get(t);if(n)return n;let r=Ub(t,[],!1).filter(a=>ul(a)&&Jy(a)!=="body"),i=null;const s=dl(t).position==="fixed";let o=s?rf(t):t;for(;ul(o)&&!iy(o);){const a=dl(o),l=AU(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||e1(o)&&!l&&Ble(t,o))?r=r.filter(f=>f!==o):i=a,o=rf(o)}return e.set(t,r),r}function Nnt(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?z2(e)?[]:Pnt(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,f)=>{const d=sK(e,f,i);return c.top=go(d.top,c.top),c.right=tf(d.right,c.right),c.bottom=tf(d.bottom,c.bottom),c.left=go(d.left,c.left),c},sK(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Rnt(t){const{width:e,height:n}=Dle(t);return{width:e,height:n}}function knt(t,e,n){const r=ic(e),i=uc(e),s=n==="fixed",o=wp(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Yl(0);if(r||!r&&!s)if((Jy(e)!=="body"||e1(i))&&(a=H2(e)),r){const h=wp(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=NU(i));const c=i&&!r&&!s?Fle(i,a):Yl(0),f=o.left+a.scrollLeft-l.x-c.x,d=o.top+a.scrollTop-l.y-c.y;return{x:f,y:d,width:o.width,height:o.height}}function KO(t){return dl(t).position==="static"}function oK(t,e){if(!ic(t)||dl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return uc(t)===n&&(n=n.ownerDocument.body),n}function Ule(t,e){const n=Mo(t);if(z2(t))return n;if(!ic(t)){let i=rf(t);for(;i&&!iy(i);){if(ul(i)&&!KO(i))return i;i=rf(i)}return n}let r=oK(t,e);for(;r&&_nt(r)&&KO(r);)r=oK(r,e);return r&&iy(r)&&KO(r)&&!AU(r)?n:r||bnt(t)||n}const Ont=async function(t){const e=this.getOffsetParent||Ule,n=this.getDimensions,r=await n(t.floating);return{reference:knt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Int(t){return dl(t).direction==="rtl"}const jnt={convertOffsetParentRelativeRectToViewportRelativeRect:Cnt,getDocumentElement:uc,getClippingRect:Nnt,getOffsetParent:Ule,getElementRects:Ont,getClientRects:Ent,getDimensions:Rnt,getScale:Qg,isElement:ul,isRTL:Int};function $le(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Dnt(t,e){let n=null,r;const i=uc(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:f,top:d,width:h,height:g}=c;if(a||e(),!h||!g)return;const v=dC(d),x=dC(i.clientWidth-(f+h)),m=dC(i.clientHeight-(d+g)),p=dC(f),_={rootMargin:-v+"px "+-x+"px "+-m+"px "+-p+"px",threshold:go(0,tf(1,l))||1};let b=!0;function w(E){const A=E[0].intersectionRatio;if(A!==l){if(!b)return o();A?o(!1,A):r=setTimeout(()=>{o(!1,1e-7)},1e3)}A===1&&!$le(c,t.getBoundingClientRect())&&o(),b=!1}try{n=new IntersectionObserver(w,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,_)}n.observe(t)}return o(!0),s}function Lnt(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=PU(t),f=i||s?[...c?Ub(c):[],...Ub(e)]:[];f.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const d=c&&a?Dnt(c,n):null;let h=-1,g=null;o&&(g=new ResizeObserver(p=>{let[y]=p;y&&y.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=g)==null||_.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let v,x=l?wp(t):null;l&&m();function m(){const p=wp(t);x&&!$le(x,p)&&n(),x=p,v=requestAnimationFrame(m)}return n(),()=>{var p;f.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),d==null||d(),(p=g)==null||p.disconnect(),g=null,l&&cancelAnimationFrame(v)}}const Fnt=gnt,Bnt=vnt,Unt=hnt,$nt=xnt,znt=pnt,aK=fnt,Hnt=ynt,Vnt=(t,e,n)=>{const r=new Map,i={platform:jnt,...n},s={...i.platform,_c:r};return dnt(t,e,{...i,platform:s})};var zE=typeof document<"u"?M.useLayoutEffect:M.useEffect;function QA(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!QA(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!QA(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function zle(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function lK(t,e){const n=zle(t);return Math.round(e*n)/n}function XO(t){const e=M.useRef(t);return zE(()=>{e.current=t}),e}function Wnt(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[f,d]=M.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,g]=M.useState(r);QA(h,r)||g(r);const[v,x]=M.useState(null),[m,p]=M.useState(null),y=M.useCallback(R=>{R!==E.current&&(E.current=R,x(R))},[]),_=M.useCallback(R=>{R!==A.current&&(A.current=R,p(R))},[]),b=s||v,w=o||m,E=M.useRef(null),A=M.useRef(null),T=M.useRef(f),P=l!=null,N=XO(l),O=XO(i),I=XO(c),D=M.useCallback(()=>{if(!E.current||!A.current)return;const R={placement:e,strategy:n,middleware:h};O.current&&(R.platform=O.current),Vnt(E.current,A.current,R).then(j=>{const B={...j,isPositioned:I.current!==!1};F.current&&!QA(T.current,B)&&(T.current=B,Op.flushSync(()=>{d(B)}))})},[h,e,n,O,I]);zE(()=>{c===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,d(R=>({...R,isPositioned:!1})))},[c]);const F=M.useRef(!1);zE(()=>(F.current=!0,()=>{F.current=!1}),[]),zE(()=>{if(b&&(E.current=b),w&&(A.current=w),b&&w){if(N.current)return N.current(b,w,D);D()}},[b,w,D,N,P]);const $=M.useMemo(()=>({reference:E,floating:A,setReference:y,setFloating:_}),[y,_]),z=M.useMemo(()=>({reference:b,floating:w}),[b,w]),H=M.useMemo(()=>{const R={position:n,left:0,top:0};if(!z.floating)return R;const j=lK(z.floating,f.x),B=lK(z.floating,f.y);return a?{...R,transform:"translate("+j+"px, "+B+"px)",...zle(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:B}},[n,a,z.floating,f.x,f.y]);return M.useMemo(()=>({...f,update:D,refs:$,elements:z,floatingStyles:H}),[f,D,$,z,H])}const Gnt=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?aK({element:r.current,padding:i}).fn(n):{}:r?aK({element:r,padding:i}).fn(n):{}}}},qnt=(t,e)=>({...Fnt(t),options:[t,e]}),Knt=(t,e)=>({...Bnt(t),options:[t,e]}),Xnt=(t,e)=>({...Hnt(t),options:[t,e]}),Ynt=(t,e)=>({...Unt(t),options:[t,e]}),Znt=(t,e)=>({...$nt(t),options:[t,e]}),Qnt=(t,e)=>({...znt(t),options:[t,e]}),Jnt=(t,e)=>({...Gnt(t),options:[t,e]});var ert="Arrow",Hle=M.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return u.jsx(Ze.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});Hle.displayName=ert;var trt=Hle,RU="Popper",[Vle,dc]=nr(RU),[nrt,Wle]=Vle(RU),Gle=t=>{const{__scopePopper:e,children:n}=t,[r,i]=M.useState(null);return u.jsx(nrt,{scope:e,anchor:r,onAnchorChange:i,children:n})};Gle.displayName=RU;var qle="PopperAnchor",Kle=M.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=Wle(qle,n),o=M.useRef(null),a=Nt(e,o);return M.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(Ze.div,{...i,ref:a})});Kle.displayName=qle;var kU="PopperContent",[rrt,irt]=Vle(kU),Xle=M.forwardRef((t,e)=>{var U,X,Q,te,ue,ee;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:f=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:v,...x}=t,m=Wle(kU,n),[p,y]=M.useState(null),_=Nt(e,Y=>y(Y)),[b,w]=M.useState(null),E=Qw(b),A=(E==null?void 0:E.width)??0,T=(E==null?void 0:E.height)??0,P=r+(s!=="center"?"-"+s:""),N=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},O=Array.isArray(c)?c:[c],I=O.length>0,D={padding:N,boundary:O.filter(ort),altBoundary:I},{refs:F,floatingStyles:$,placement:z,isPositioned:H,middlewareData:R}=Wnt({strategy:"fixed",placement:P,whileElementsMounted:(...Y)=>Lnt(...Y,{animationFrame:g==="always"}),elements:{reference:m.anchor},middleware:[qnt({mainAxis:i+T,alignmentAxis:o}),l&&Knt({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?Xnt():void 0,...D}),l&&Ynt({...D}),Znt({...D,apply:({elements:Y,rects:se,availableWidth:re,availableHeight:me})=>{const{width:he,height:Ae}=se.reference,Se=Y.floating.style;Se.setProperty("--radix-popper-available-width",`${re}px`),Se.setProperty("--radix-popper-available-height",`${me}px`),Se.setProperty("--radix-popper-anchor-width",`${he}px`),Se.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),b&&Jnt({element:b,padding:a}),art({arrowWidth:A,arrowHeight:T}),h&&Qnt({strategy:"referenceHidden",...D})]}),[j,B]=Qle(z),W=Ln(v);_r(()=>{H&&(W==null||W())},[H,W]);const G=(U=R.arrow)==null?void 0:U.x,K=(X=R.arrow)==null?void 0:X.y,ie=((Q=R.arrow)==null?void 0:Q.centerOffset)!==0,[le,J]=M.useState();return _r(()=>{p&&J(window.getComputedStyle(p).zIndex)},[p]),u.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...$,transform:H?$.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:le,"--radix-popper-transform-origin":[(te=R.transformOrigin)==null?void 0:te.x,(ue=R.transformOrigin)==null?void 0:ue.y].join(" "),...((ee=R.hide)==null?void 0:ee.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(rrt,{scope:n,placedSide:j,onArrowChange:w,arrowX:G,arrowY:K,shouldHideArrow:ie,children:u.jsx(Ze.div,{"data-side":j,"data-align":B,...x,ref:_,style:{...x.style,animation:H?void 0:"none"}})})})});Xle.displayName=kU;var Yle="PopperArrow",srt={top:"bottom",right:"left",bottom:"top",left:"right"},Zle=M.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=irt(Yle,r),o=srt[s.placedSide];return u.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:u.jsx(trt,{...i,ref:n,style:{...i.style,display:"block"}})})});Zle.displayName=Yle;function ort(t){return t!==null}var art=t=>({name:"transformOrigin",options:t,fn(e){var m,p,y;const{placement:n,rects:r,middlewareData:i}=e,o=((m=i.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,f]=Qle(n),d={start:"0%",center:"50%",end:"100%"}[f],h=(((p=i.arrow)==null?void 0:p.x)??0)+a/2,g=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let v="",x="";return c==="bottom"?(v=o?d:`${h}px`,x=`${-l}px`):c==="top"?(v=o?d:`${h}px`,x=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,x=o?d:`${g}px`):c==="left"&&(v=`${r.floating.width+l}px`,x=o?d:`${g}px`),{data:{x:v,y:x}}}});function Qle(t){const[e,n="center"]=t.split("-");return[e,n]}var V2=Gle,ex=Kle,t1=Xle,n1=Zle,YO="rovingFocusGroup.onEntryFocus",lrt={bubbles:!1,cancelable:!0},W2="RovingFocusGroup",[W3,Jle,crt]=Mu(W2),[urt,fc]=nr(W2,[crt]),[drt,frt]=urt(W2),ece=M.forwardRef((t,e)=>u.jsx(W3.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(W3.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(hrt,{...t,ref:e})})}));ece.displayName=W2;var hrt=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:f=!1,...d}=t,h=M.useRef(null),g=Nt(e,h),v=fl(s),[x=null,m]=$r({prop:o,defaultProp:a,onChange:l}),[p,y]=M.useState(!1),_=Ln(c),b=Jle(n),w=M.useRef(!1),[E,A]=M.useState(0);return M.useEffect(()=>{const T=h.current;if(T)return T.addEventListener(YO,_),()=>T.removeEventListener(YO,_)},[_]),u.jsx(drt,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:x,onItemFocus:M.useCallback(T=>m(T),[m]),onItemShiftTab:M.useCallback(()=>y(!0),[]),onFocusableItemAdd:M.useCallback(()=>A(T=>T+1),[]),onFocusableItemRemove:M.useCallback(()=>A(T=>T-1),[]),children:u.jsx(Ze.div,{tabIndex:p||E===0?-1:0,"data-orientation":r,...d,ref:g,style:{outline:"none",...t.style},onMouseDown:Ie(t.onMouseDown,()=>{w.current=!0}),onFocus:Ie(t.onFocus,T=>{const P=!w.current;if(T.target===T.currentTarget&&P&&!p){const N=new CustomEvent(YO,lrt);if(T.currentTarget.dispatchEvent(N),!N.defaultPrevented){const O=b().filter(z=>z.focusable),I=O.find(z=>z.active),D=O.find(z=>z.id===x),$=[I,D,...O].filter(Boolean).map(z=>z.ref.current);rce($,f)}}w.current=!1}),onBlur:Ie(t.onBlur,()=>y(!1))})})}),tce="RovingFocusGroupItem",nce=M.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=Br(),l=s||a,c=frt(tce,n),f=c.currentTabStopId===l,d=Jle(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=c;return M.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),u.jsx(W3.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:u.jsx(Ze.span,{tabIndex:f?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:Ie(t.onMouseDown,v=>{r?c.onItemFocus(l):v.preventDefault()}),onFocus:Ie(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:Ie(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){c.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const x=grt(v,c.orientation,c.dir);if(x!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let p=d().filter(y=>y.focusable).map(y=>y.ref.current);if(x==="last")p.reverse();else if(x==="prev"||x==="next"){x==="prev"&&p.reverse();const y=p.indexOf(v.currentTarget);p=c.loop?vrt(p,y+1):p.slice(y+1)}setTimeout(()=>rce(p))}})})})});nce.displayName=tce;var prt={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mrt(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function grt(t,e,n){const r=mrt(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return prt[r]}function rce(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function vrt(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var r1=ece,i1=nce,G3=["Enter"," "],yrt=["ArrowDown","PageUp","Home"],ice=["ArrowUp","PageDown","End"],xrt=[...yrt,...ice],_rt={ltr:[...G3,"ArrowRight"],rtl:[...G3,"ArrowLeft"]},brt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},s1="Menu",[$b,wrt,Srt]=Mu(s1),[Hp,o1]=nr(s1,[Srt,dc,fc]),G2=dc(),sce=fc(),[Crt,Vp]=Hp(s1),[Ert,a1]=Hp(s1),oce=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=G2(e),[l,c]=M.useState(null),f=M.useRef(!1),d=Ln(s),h=fl(i);return M.useEffect(()=>{const g=()=>{f.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>f.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),u.jsx(V2,{...a,children:u.jsx(Crt,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:u.jsx(Ert,{scope:e,onClose:M.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:f,dir:h,modal:o,children:r})})})};oce.displayName=s1;var Mrt="MenuAnchor",OU=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=G2(n);return u.jsx(ex,{...i,...r,ref:e})});OU.displayName=Mrt;var IU="MenuPortal",[Art,ace]=Hp(IU,{forceMount:void 0}),lce=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Vp(IU,e);return u.jsx(Art,{scope:e,forceMount:n,children:u.jsx(gr,{present:n||s.open,children:u.jsx(jy,{asChild:!0,container:i,children:r})})})};lce.displayName=IU;var ua="MenuContent",[Trt,jU]=Hp(ua),cce=M.forwardRef((t,e)=>{const n=ace(ua,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Vp(ua,t.__scopeMenu),o=a1(ua,t.__scopeMenu);return u.jsx($b.Provider,{scope:t.__scopeMenu,children:u.jsx(gr,{present:r||s.open,children:u.jsx($b.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(Prt,{...i,ref:e}):u.jsx(Nrt,{...i,ref:e})})})})}),Prt=M.forwardRef((t,e)=>{const n=Vp(ua,t.__scopeMenu),r=M.useRef(null),i=Nt(e,r);return M.useEffect(()=>{const s=r.current;if(s)return LP(s)},[]),u.jsx(DU,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ie(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Nrt=M.forwardRef((t,e)=>{const n=Vp(ua,t.__scopeMenu);return u.jsx(DU,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),Rrt=Zd("MenuContent.ScrollLock"),DU=M.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,disableOutsideScroll:v,...x}=t,m=Vp(ua,n),p=a1(ua,n),y=G2(n),_=sce(n),b=wrt(n),[w,E]=M.useState(null),A=M.useRef(null),T=Nt(e,A,m.onContentChange),P=M.useRef(0),N=M.useRef(""),O=M.useRef(0),I=M.useRef(null),D=M.useRef("right"),F=M.useRef(0),$=v?Rw:M.Fragment,z=v?{as:Rrt,allowPinchZoom:!0}:void 0,H=j=>{var U,X;const B=N.current+j,W=b().filter(Q=>!Q.disabled),G=document.activeElement,K=(U=W.find(Q=>Q.ref.current===G))==null?void 0:U.textValue,ie=W.map(Q=>Q.textValue),le=Hrt(ie,B,K),J=(X=W.find(Q=>Q.textValue===le))==null?void 0:X.ref.current;(function Q(te){N.current=te,window.clearTimeout(P.current),te!==""&&(P.current=window.setTimeout(()=>Q(""),1e3))})(B),J&&setTimeout(()=>J.focus())};M.useEffect(()=>()=>window.clearTimeout(P.current),[]),jP();const R=M.useCallback(j=>{var W,G;return D.current===((W=I.current)==null?void 0:W.side)&&Wrt(j,(G=I.current)==null?void 0:G.area)},[]);return u.jsx(Trt,{scope:n,searchRef:N,onItemEnter:M.useCallback(j=>{R(j)&&j.preventDefault()},[R]),onItemLeave:M.useCallback(j=>{var B;R(j)||((B=A.current)==null||B.focus(),E(null))},[R]),onTriggerLeave:M.useCallback(j=>{R(j)&&j.preventDefault()},[R]),pointerGraceTimerRef:O,onPointerGraceIntentChange:M.useCallback(j=>{I.current=j},[]),children:u.jsx($,{...z,children:u.jsx(Nw,{asChild:!0,trapped:i,onMountAutoFocus:Ie(s,j=>{var B;j.preventDefault(),(B=A.current)==null||B.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:f,onFocusOutside:d,onInteractOutside:h,onDismiss:g,children:u.jsx(r1,{asChild:!0,..._,dir:p.dir,orientation:"vertical",loop:r,currentTabStopId:w,onCurrentTabStopIdChange:E,onEntryFocus:Ie(l,j=>{p.isUsingKeyboardRef.current||j.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(t1,{role:"menu","aria-orientation":"vertical","data-state":Ece(m.open),"data-radix-menu-content":"",dir:p.dir,...y,...x,ref:T,style:{outline:"none",...x.style},onKeyDown:Ie(x.onKeyDown,j=>{const W=j.target.closest("[data-radix-menu-content]")===j.currentTarget,G=j.ctrlKey||j.altKey||j.metaKey,K=j.key.length===1;W&&(j.key==="Tab"&&j.preventDefault(),!G&&K&&H(j.key));const ie=A.current;if(j.target!==ie||!xrt.includes(j.key))return;j.preventDefault();const J=b().filter(U=>!U.disabled).map(U=>U.ref.current);ice.includes(j.key)&&J.reverse(),$rt(J)}),onBlur:Ie(t.onBlur,j=>{j.currentTarget.contains(j.target)||(window.clearTimeout(P.current),N.current="")}),onPointerMove:Ie(t.onPointerMove,zb(j=>{const B=j.target,W=F.current!==j.clientX;if(j.currentTarget.contains(B)&&W){const G=j.clientX>F.current?"right":"left";D.current=G,F.current=j.clientX}}))})})})})})})});cce.displayName=ua;var krt="MenuGroup",LU=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ze.div,{role:"group",...r,ref:e})});LU.displayName=krt;var Ort="MenuLabel",uce=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ze.div,{...r,ref:e})});uce.displayName=Ort;var JA="MenuItem",cK="menu.itemSelect",q2=M.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=M.useRef(null),o=a1(JA,t.__scopeMenu),a=jU(JA,t.__scopeMenu),l=Nt(e,s),c=M.useRef(!1),f=()=>{const d=s.current;if(!n&&d){const h=new CustomEvent(cK,{bubbles:!0,cancelable:!0});d.addEventListener(cK,g=>r==null?void 0:r(g),{once:!0}),q_(d,h),h.defaultPrevented?c.current=!1:o.onClose()}};return u.jsx(dce,{...i,ref:l,disabled:n,onClick:Ie(t.onClick,f),onPointerDown:d=>{var h;(h=t.onPointerDown)==null||h.call(t,d),c.current=!0},onPointerUp:Ie(t.onPointerUp,d=>{var h;c.current||(h=d.currentTarget)==null||h.click()}),onKeyDown:Ie(t.onKeyDown,d=>{const h=a.searchRef.current!=="";n||h&&d.key===" "||G3.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});q2.displayName=JA;var dce=M.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=jU(JA,n),a=sce(n),l=M.useRef(null),c=Nt(e,l),[f,d]=M.useState(!1),[h,g]=M.useState("");return M.useEffect(()=>{const v=l.current;v&&g((v.textContent??"").trim())},[s.children]),u.jsx($b.ItemSlot,{scope:n,disabled:r,textValue:i??h,children:u.jsx(i1,{asChild:!0,...a,focusable:!r,children:u.jsx(Ze.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Ie(t.onPointerMove,zb(v=>{r?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ie(t.onPointerLeave,zb(v=>o.onItemLeave(v))),onFocus:Ie(t.onFocus,()=>d(!0)),onBlur:Ie(t.onBlur,()=>d(!1))})})})}),Irt="MenuCheckboxItem",fce=M.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return u.jsx(vce,{scope:t.__scopeMenu,checked:n,children:u.jsx(q2,{role:"menuitemcheckbox","aria-checked":eT(n)?"mixed":n,...i,ref:e,"data-state":BU(n),onSelect:Ie(i.onSelect,()=>r==null?void 0:r(eT(n)?!0:!n),{checkForDefaultPrevented:!1})})})});fce.displayName=Irt;var hce="MenuRadioGroup",[jrt,Drt]=Hp(hce,{value:void 0,onValueChange:()=>{}}),pce=M.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=Ln(r);return u.jsx(jrt,{scope:t.__scopeMenu,value:n,onValueChange:s,children:u.jsx(LU,{...i,ref:e})})});pce.displayName=hce;var mce="MenuRadioItem",gce=M.forwardRef((t,e)=>{const{value:n,...r}=t,i=Drt(mce,t.__scopeMenu),s=n===i.value;return u.jsx(vce,{scope:t.__scopeMenu,checked:s,children:u.jsx(q2,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":BU(s),onSelect:Ie(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});gce.displayName=mce;var FU="MenuItemIndicator",[vce,Lrt]=Hp(FU,{checked:!1}),yce=M.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=Lrt(FU,n);return u.jsx(gr,{present:r||eT(s.checked)||s.checked===!0,children:u.jsx(Ze.span,{...i,ref:e,"data-state":BU(s.checked)})})});yce.displayName=FU;var Frt="MenuSeparator",xce=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(Ze.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});xce.displayName=Frt;var Brt="MenuArrow",_ce=M.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=G2(n);return u.jsx(n1,{...i,...r,ref:e})});_ce.displayName=Brt;var Urt="MenuSub",[pAt,bce]=Hp(Urt),B0="MenuSubTrigger",wce=M.forwardRef((t,e)=>{const n=Vp(B0,t.__scopeMenu),r=a1(B0,t.__scopeMenu),i=bce(B0,t.__scopeMenu),s=jU(B0,t.__scopeMenu),o=M.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},f=M.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return M.useEffect(()=>f,[f]),M.useEffect(()=>{const d=a.current;return()=>{window.clearTimeout(d),l(null)}},[a,l]),u.jsx(OU,{asChild:!0,...c,children:u.jsx(dce,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Ece(n.open),...t,ref:ec(e,i.onTriggerChange),onClick:d=>{var h;(h=t.onClick)==null||h.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ie(t.onPointerMove,zb(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),f()},100))})),onPointerLeave:Ie(t.onPointerLeave,zb(d=>{var g,v;f();const h=(g=n.content)==null?void 0:g.getBoundingClientRect();if(h){const x=(v=n.content)==null?void 0:v.dataset.side,m=x==="right",p=m?-5:5,y=h[m?"left":"right"],_=h[m?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+p,y:d.clientY},{x:y,y:h.top},{x:_,y:h.top},{x:_,y:h.bottom},{x:y,y:h.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ie(t.onKeyDown,d=>{var g;const h=s.searchRef.current!=="";t.disabled||h&&d.key===" "||_rt[r.dir].includes(d.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),d.preventDefault())})})})});wce.displayName=B0;var Sce="MenuSubContent",Cce=M.forwardRef((t,e)=>{const n=ace(ua,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Vp(ua,t.__scopeMenu),o=a1(ua,t.__scopeMenu),a=bce(Sce,t.__scopeMenu),l=M.useRef(null),c=Nt(e,l);return u.jsx($b.Provider,{scope:t.__scopeMenu,children:u.jsx(gr,{present:r||s.open,children:u.jsx($b.Slot,{scope:t.__scopeMenu,children:u.jsx(DU,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{var d;o.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ie(t.onFocusOutside,f=>{f.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ie(t.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ie(t.onKeyDown,f=>{var g;const d=f.currentTarget.contains(f.target),h=brt[o.dir].includes(f.key);d&&h&&(s.onOpenChange(!1),(g=a.trigger)==null||g.focus(),f.preventDefault())})})})})})});Cce.displayName=Sce;function Ece(t){return t?"open":"closed"}function eT(t){return t==="indeterminate"}function BU(t){return eT(t)?"indeterminate":t?"checked":"unchecked"}function $rt(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function zrt(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Hrt(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=zrt(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Vrt(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function Wrt(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Vrt(n,e)}function zb(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Grt=oce,UU=OU,$U=lce,zU=cce,HU=LU,VU=uce,WU=q2,GU=fce,qU=pce,KU=gce,XU=yce,YU=xce,ZU=_ce,QU=wce,JU=Cce,Mce="ContextMenu",[qrt,mAt]=nr(Mce,[o1]),Js=o1(),[gAt,Ace]=qrt(Mce),Tce="ContextMenuTrigger",Krt=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,disabled:r=!1,...i}=t,s=Ace(Tce,n),o=Js(n),a=M.useRef({x:0,y:0}),l=M.useRef({getBoundingClientRect:()=>DOMRect.fromRect({width:0,height:0,...a.current})}),c=M.useRef(0),f=M.useCallback(()=>window.clearTimeout(c.current),[]),d=h=>{a.current={x:h.clientX,y:h.clientY},s.onOpenChange(!0)};return M.useEffect(()=>f,[f]),M.useEffect(()=>void(r&&f()),[r,f]),u.jsxs(u.Fragment,{children:[u.jsx(UU,{...o,virtualRef:l}),u.jsx(Ze.span,{"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,...i,ref:e,style:{WebkitTouchCallout:"none",...t.style},onContextMenu:r?t.onContextMenu:Ie(t.onContextMenu,h=>{f(),d(h),h.preventDefault()}),onPointerDown:r?t.onPointerDown:Ie(t.onPointerDown,fC(h=>{f(),c.current=window.setTimeout(()=>d(h),700)})),onPointerMove:r?t.onPointerMove:Ie(t.onPointerMove,fC(f)),onPointerCancel:r?t.onPointerCancel:Ie(t.onPointerCancel,fC(f)),onPointerUp:r?t.onPointerUp:Ie(t.onPointerUp,fC(f))})]})});Krt.displayName=Tce;var Xrt="ContextMenuPortal",Pce=t=>{const{__scopeContextMenu:e,...n}=t,r=Js(e);return u.jsx($U,{...r,...n})};Pce.displayName=Xrt;var Nce="ContextMenuContent",Rce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Ace(Nce,n),s=Js(n),o=M.useRef(!1);return u.jsx(zU,{...s,...r,ref:e,side:"right",sideOffset:2,align:"start",onCloseAutoFocus:a=>{var l;(l=t.onCloseAutoFocus)==null||l.call(t,a),!a.defaultPrevented&&o.current&&a.preventDefault(),o.current=!1},onInteractOutside:a=>{var l;(l=t.onInteractOutside)==null||l.call(t,a),!a.defaultPrevented&&!i.modal&&(o.current=!0)},style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Rce.displayName=Nce;var Yrt="ContextMenuGroup",Zrt=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(HU,{...i,...r,ref:e})});Zrt.displayName=Yrt;var Qrt="ContextMenuLabel",kce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(VU,{...i,...r,ref:e})});kce.displayName=Qrt;var Jrt="ContextMenuItem",Oce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(WU,{...i,...r,ref:e})});Oce.displayName=Jrt;var eit="ContextMenuCheckboxItem",Ice=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(GU,{...i,...r,ref:e})});Ice.displayName=eit;var tit="ContextMenuRadioGroup",nit=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(qU,{...i,...r,ref:e})});nit.displayName=tit;var rit="ContextMenuRadioItem",jce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(KU,{...i,...r,ref:e})});jce.displayName=rit;var iit="ContextMenuItemIndicator",Dce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(XU,{...i,...r,ref:e})});Dce.displayName=iit;var sit="ContextMenuSeparator",Lce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(YU,{...i,...r,ref:e})});Lce.displayName=sit;var oit="ContextMenuArrow",ait=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(ZU,{...i,...r,ref:e})});ait.displayName=oit;var lit="ContextMenuSubTrigger",Fce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(QU,{...i,...r,ref:e})});Fce.displayName=lit;var cit="ContextMenuSubContent",Bce=M.forwardRef((t,e)=>{const{__scopeContextMenu:n,...r}=t,i=Js(n);return u.jsx(JU,{...i,...r,ref:e,style:{...t.style,"--radix-context-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-context-menu-content-available-width":"var(--radix-popper-available-width)","--radix-context-menu-content-available-height":"var(--radix-popper-available-height)","--radix-context-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-context-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Bce.displayName=cit;function fC(t){return e=>e.pointerType!=="mouse"?t(e):void 0}var uit=Pce,Uce=Rce,$ce=kce,zce=Oce,Hce=Ice,Vce=jce,Wce=Dce,Gce=Lce,qce=Fce,Kce=Bce;const dit=M.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(qce,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,u.jsx(Oy,{className:"ml-auto h-4 w-4"})]}));dit.displayName=qce.displayName;const fit=M.forwardRef(({className:t,...e},n)=>u.jsx(Kce,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e}));fit.displayName=Kce.displayName;const hit=M.forwardRef(({className:t,...e},n)=>u.jsx(uit,{children:u.jsx(Uce,{ref:n,className:we("z-50 max-h-[--radix-context-menu-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-context-menu-content-transform-origin]",t),...e})}));hit.displayName=Uce.displayName;const pit=M.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(zce,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));pit.displayName=zce.displayName;const mit=M.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(Hce,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Wce,{children:u.jsx(Tw,{className:"h-4 w-4"})})}),e]}));mit.displayName=Hce.displayName;const git=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Vce,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Wce,{children:u.jsx(RP,{className:"h-2 w-2 fill-current"})})}),e]}));git.displayName=Vce.displayName;const vit=M.forwardRef(({className:t,inset:e,...n},r)=>u.jsx($ce,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold text-foreground",e&&"pl-8",t),...n}));vit.displayName=$ce.displayName;const yit=M.forwardRef(({className:t,...e},n)=>u.jsx(Gce,{ref:n,className:we("-mx-1 my-1 h-px bg-border",t),...e}));yit.displayName=Gce.displayName;const tx=FP,e$=mB,xit=kw,Xce=M.forwardRef(({className:t,...e},n)=>u.jsx(Ip,{ref:n,className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Xce.displayName=Ip.displayName;const Wp=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(xit,{children:[u.jsx(Xce,{}),u.jsxs(jp,{ref:r,className:we("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 card-glow bg-card p-6 duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-xl",t),...n,children:[e,u.jsxs(Ow,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[u.jsx(Pw,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Wp.displayName=jp.displayName;const nx=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});nx.displayName="DialogHeader";const K2=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});K2.displayName="DialogFooter";const rx=M.forwardRef(({className:t,...e},n)=>u.jsx(Dy,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));rx.displayName=Dy.displayName;const ix=M.forwardRef(({className:t,...e},n)=>u.jsx(Ly,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));ix.displayName=Ly.displayName;function _it(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const Yce=ne.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),sx=()=>{const t=ne.useContext(Yce);if(!t)throw new Error("useDrawerContext must be used within a Drawer.Root");return t};_it(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function bit(){const t=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(t)&&/Mobile/.test(t)||/FxiOS/.test(t))}function wit(){return t$(/^Mac/)}function Sit(){return t$(/^iPhone/)}function uK(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Cit(){return t$(/^iPad/)||wit()&&navigator.maxTouchPoints>1}function Zce(){return Sit()||Cit()}function t$(t){return typeof window<"u"&&window.navigator!=null?t.test(window.navigator.platform):void 0}const Eit=24,Mit=typeof window<"u"?M.useLayoutEffect:M.useEffect;function dK(...t){return(...e)=>{for(let n of t)typeof n=="function"&&n(...e)}}const ZO=typeof document<"u"&&window.visualViewport;function fK(t){let e=window.getComputedStyle(t);return/(auto|scroll)/.test(e.overflow+e.overflowX+e.overflowY)}function Qce(t){for(fK(t)&&(t=t.parentElement);t&&!fK(t);)t=t.parentElement;return t||document.scrollingElement||document.documentElement}const Ait=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let hC=0,QO;function Tit(t={}){let{isDisabled:e}=t;Mit(()=>{if(!e)return hC++,hC===1&&Zce()&&(QO=Pit()),()=>{hC--,hC===0&&(QO==null||QO())}},[e])}function Pit(){let t,e=0,n=d=>{t=Qce(d.target),!(t===document.documentElement&&t===document.body)&&(e=d.changedTouches[0].pageY)},r=d=>{if(!t||t===document.documentElement||t===document.body){d.preventDefault();return}let h=d.changedTouches[0].pageY,g=t.scrollTop,v=t.scrollHeight-t.clientHeight;v!==0&&((g<=0&&h>e||g>=v&&h<e)&&d.preventDefault(),e=h)},i=d=>{let h=d.target;q3(h)&&h!==document.activeElement&&(d.preventDefault(),h.style.transform="translateY(-2000px)",h.focus(),requestAnimationFrame(()=>{h.style.transform=""}))},s=d=>{let h=d.target;q3(h)&&(h.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{h.style.transform="",ZO&&(ZO.height<window.innerHeight?requestAnimationFrame(()=>{hK(h)}):ZO.addEventListener("resize",()=>hK(h),{once:!0}))}))},o=()=>{window.scrollTo(0,0)},a=window.pageXOffset,l=window.pageYOffset,c=dK(Nit(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let f=dK(l0(document,"touchstart",n,{passive:!1,capture:!0}),l0(document,"touchmove",r,{passive:!1,capture:!0}),l0(document,"touchend",i,{passive:!1,capture:!0}),l0(document,"focus",s,!0),l0(window,"scroll",o));return()=>{c(),f(),window.scrollTo(a,l)}}function Nit(t,e,n){let r=t.style[e];return t.style[e]=n,()=>{t.style[e]=r}}function l0(t,e,n,r){return t.addEventListener(e,n,r),()=>{t.removeEventListener(e,n,r)}}function hK(t){let e=document.scrollingElement||document.documentElement;for(;t&&t!==e;){let n=Qce(t);if(n!==document.documentElement&&n!==document.body&&n!==t){let r=n.getBoundingClientRect().top,i=t.getBoundingClientRect().top,s=t.getBoundingClientRect().bottom;const o=n.getBoundingClientRect().bottom+Eit;s>o&&(n.scrollTop+=i-r)}t=n.parentElement}}function q3(t){return t instanceof HTMLInputElement&&!Ait.has(t.type)||t instanceof HTMLTextAreaElement||t instanceof HTMLElement&&t.isContentEditable}function Rit(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kit(...t){return e=>t.forEach(n=>Rit(n,e))}function Jce(...t){return M.useCallback(kit(...t),t)}const eue=new WeakMap;function li(t,e,n=!1){if(!t||!(t instanceof HTMLElement))return;let r={};Object.entries(e).forEach(([i,s])=>{if(i.startsWith("--")){t.style.setProperty(i,s);return}r[i]=t.style[i],t.style[i]=s}),!n&&eue.set(t,r)}function Oit(t,e){if(!t||!(t instanceof HTMLElement))return;let n=eue.get(t);n&&(t.style[e]=n[e])}const ei=t=>{switch(t){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return t}};function pC(t,e){if(!t)return null;const n=window.getComputedStyle(t),r=n.transform||n.webkitTransform||n.mozTransform;let i=r.match(/^matrix3d\((.+)\)$/);return i?parseFloat(i[1].split(", ")[ei(e)?13:12]):(i=r.match(/^matrix\((.+)\)$/),i?parseFloat(i[1].split(", ")[ei(e)?5:4]):null)}function Iit(t){return 8*(Math.log(t+1)-2)}function JO(t,e){if(!t)return()=>{};const n=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=n}}function jit(...t){return(...e)=>{for(const n of t)typeof n=="function"&&n(...e)}}const Cr={DURATION:.5,EASE:[.32,.72,0,1]},tue=.4,Dit=.25,Lit=100,nue=8,Uf=16,K3=26,eI="vaul-dragging";function rue(t){const e=ne.useRef(t);return ne.useEffect(()=>{e.current=t}),ne.useMemo(()=>(...n)=>e.current==null?void 0:e.current.call(e,...n),[])}function Fit({defaultProp:t,onChange:e}){const n=ne.useState(t),[r]=n,i=ne.useRef(r),s=rue(e);return ne.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}function iue({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=Fit({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=rue(n),l=ne.useCallback(c=>{if(s){const d=typeof c=="function"?c(t):c;d!==t&&a(d)}else i(c)},[s,t,i,a]);return[o,l]}function Bit({activeSnapPointProp:t,setActiveSnapPointProp:e,snapPoints:n,drawerRef:r,overlayRef:i,fadeFromIndex:s,onSnapPointChange:o,direction:a="bottom",container:l,snapToSequentialPoint:c}){const[f,d]=iue({prop:t,defaultProp:n==null?void 0:n[0],onChange:e}),[h,g]=ne.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);ne.useEffect(()=>{function A(){g({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]);const v=ne.useMemo(()=>f===(n==null?void 0:n[n.length-1])||null,[n,f]),x=ne.useMemo(()=>{var A;return(A=n==null?void 0:n.findIndex(T=>T===f))!=null?A:null},[n,f]),m=n&&n.length>0&&(s||s===0)&&!Number.isNaN(s)&&n[s]===f||!n,p=ne.useMemo(()=>{const A=l?{width:l.getBoundingClientRect().width,height:l.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var T;return(T=n==null?void 0:n.map(P=>{const N=typeof P=="string";let O=0;if(N&&(O=parseInt(P,10)),ei(a)){const D=N?O:h?P*A.height:0;return h?a==="bottom"?A.height-D:-A.height+D:D}const I=N?O:h?P*A.width:0;return h?a==="right"?A.width-I:-A.width+I:I}))!=null?T:[]},[n,h,l]),y=ne.useMemo(()=>x!==null?p==null?void 0:p[x]:null,[p,x]),_=ne.useCallback(A=>{var T;const P=(T=p==null?void 0:p.findIndex(N=>N===A))!=null?T:null;o(P),li(r.current,{transition:`transform ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`,transform:ei(a)?`translate3d(0, ${A}px, 0)`:`translate3d(${A}px, 0, 0)`}),p&&P!==p.length-1&&s!==void 0&&P!==s&&P<s?li(i.current,{transition:`opacity ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`,opacity:"0"}):li(i.current,{transition:`opacity ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`,opacity:"1"}),d(n==null?void 0:n[Math.max(P,0)])},[r.current,n,p,s,i,d]);ne.useEffect(()=>{if(f||t){var A;const T=(A=n==null?void 0:n.findIndex(P=>P===t||P===f))!=null?A:-1;p&&T!==-1&&typeof p[T]=="number"&&_(p[T])}},[f,t,n,p,_]);function b({draggedDistance:A,closeDrawer:T,velocity:P,dismissible:N}){if(s===void 0)return;const O=a==="bottom"||a==="right"?(y??0)-A:(y??0)+A,I=x===s-1,D=x===0,F=A>0;if(I&&li(i.current,{transition:`opacity ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`}),!c&&P>2&&!F){N?T():_(p[0]);return}if(!c&&P>2&&F&&p&&n){_(p[n.length-1]);return}const $=p==null?void 0:p.reduce((H,R)=>typeof H!="number"||typeof R!="number"?H:Math.abs(R-O)<Math.abs(H-O)?R:H),z=ei(a)?window.innerHeight:window.innerWidth;if(P>tue&&Math.abs(A)<z*.4){const H=F?1:-1;if(H>0&&v&&n){_(p[n.length-1]);return}if(D&&H<0&&N&&T(),x===null)return;_(p[x+H]);return}_($)}function w({draggedDistance:A}){if(y===null)return;const T=a==="bottom"||a==="right"?y-A:y+A;(a==="bottom"||a==="right")&&T<p[p.length-1]||(a==="top"||a==="left")&&T>p[p.length-1]||li(r.current,{transform:ei(a)?`translate3d(0, ${T}px, 0)`:`translate3d(${T}px, 0, 0)`})}function E(A,T){if(!n||typeof x!="number"||!p||s===void 0)return null;const P=x===s-1;if(x>=s&&T)return 0;if(P&&!T)return 1;if(!m&&!P)return null;const O=P?x+1:x-1,I=P?p[O]-p[O-1]:p[O+1]-p[O],D=A/Math.abs(I);return P?1-D:D}return{isLastSnapPoint:v,activeSnapPoint:f,shouldFade:m,getPercentageDragged:E,setActiveSnapPoint:d,activeSnapPointIndex:x,onRelease:b,onDrag:w,snapPointsOffset:p}}const Uit=()=>()=>{};function $it(){const{direction:t,isOpen:e,shouldScaleBackground:n,setBackgroundColorOnScale:r,noBodyStyles:i}=sx(),s=ne.useRef(null),o=M.useMemo(()=>document.body.style.backgroundColor,[]);function a(){return(window.innerWidth-K3)/window.innerWidth}ne.useEffect(()=>{if(e&&n){s.current&&clearTimeout(s.current);const l=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!l)return;jit(r&&!i?JO(document.body,{background:"black"}):Uit,JO(l,{transformOrigin:ei(t)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${Cr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Cr.EASE.join(",")})`}));const c=JO(l,{borderRadius:`${nue}px`,overflow:"hidden",...ei(t)?{transform:`scale(${a()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${a()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{c(),s.current=window.setTimeout(()=>{o?document.body.style.background=o:document.body.style.removeProperty("background")},Cr.DURATION*1e3)}}},[e,n,o])}let c0=null;function zit({isOpen:t,modal:e,nested:n,hasBeenOpened:r,preventScrollRestoration:i,noBodyStyles:s}){const[o,a]=ne.useState(()=>typeof window<"u"?window.location.href:""),l=ne.useRef(0),c=ne.useCallback(()=>{if(uK()&&c0===null&&t&&!s){c0={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:d,innerHeight:h}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-l.current}px`,left:`${-d}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const g=h-window.innerHeight;g&&l.current>=h&&(document.body.style.top=`${-(l.current+g)}px`)}),300)}},[t]),f=ne.useCallback(()=>{if(uK()&&c0!==null&&!s){const d=-parseInt(document.body.style.top,10),h=-parseInt(document.body.style.left,10);Object.assign(document.body.style,c0),window.requestAnimationFrame(()=>{if(i&&o!==window.location.href){a(window.location.href);return}window.scrollTo(h,d)}),c0=null}},[o]);return ne.useEffect(()=>{function d(){l.current=window.scrollY}return d(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}},[]),ne.useEffect(()=>{if(e)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||f()}},[e,f]),ne.useEffect(()=>{n||!r||(t?(!window.matchMedia("(display-mode: standalone)").matches&&c(),e||window.setTimeout(()=>{f()},500)):f())},[t,r,o,e,n,c,f]),{restorePositionSetting:f}}function sue({open:t,onOpenChange:e,children:n,onDrag:r,onRelease:i,snapPoints:s,shouldScaleBackground:o=!1,setBackgroundColorOnScale:a=!0,closeThreshold:l=Dit,scrollLockTimeout:c=Lit,dismissible:f=!0,handleOnly:d=!1,fadeFromIndex:h=s&&s.length-1,activeSnapPoint:g,setActiveSnapPoint:v,fixed:x,modal:m=!0,onClose:p,nested:y,noBodyStyles:_=!1,direction:b="bottom",defaultOpen:w=!1,disablePreventScroll:E=!0,snapToSequentialPoint:A=!1,preventScrollRestoration:T=!1,repositionInputs:P=!0,onAnimationEnd:N,container:O,autoFocus:I=!1}){var D,F;const[$=!1,z]=iue({defaultProp:w,prop:t,onChange:de=>{e==null||e(de),!de&&!y&&je(),setTimeout(()=>{N==null||N(de)},Cr.DURATION*1e3),de&&!m&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),de||(document.body.style.pointerEvents="auto")}}),[H,R]=ne.useState(!1),[j,B]=ne.useState(!1),[W,G]=ne.useState(!1),K=ne.useRef(null),ie=ne.useRef(null),le=ne.useRef(null),J=ne.useRef(null),U=ne.useRef(null),X=ne.useRef(!1),Q=ne.useRef(null),te=ne.useRef(0),ue=ne.useRef(!1),ee=ne.useRef(!w),Y=ne.useRef(0),se=ne.useRef(null),re=ne.useRef(((D=se.current)==null?void 0:D.getBoundingClientRect().height)||0),me=ne.useRef(((F=se.current)==null?void 0:F.getBoundingClientRect().width)||0),he=ne.useRef(0),Ae=ne.useCallback(de=>{s&&de===oe.length-1&&(ie.current=new Date)},[]),{activeSnapPoint:Se,activeSnapPointIndex:Re,setActiveSnapPoint:ot,onRelease:rt,snapPointsOffset:oe,onDrag:Z,shouldFade:ve,getPercentageDragged:Ee}=Bit({snapPoints:s,activeSnapPointProp:g,setActiveSnapPointProp:v,drawerRef:se,fadeFromIndex:h,overlayRef:K,onSnapPointChange:Ae,direction:b,container:O,snapToSequentialPoint:A});Tit({isDisabled:!$||j||!m||W||!H||!P||!E});const{restorePositionSetting:je}=zit({isOpen:$,modal:m,nested:y??!1,hasBeenOpened:H,preventScrollRestoration:T,noBodyStyles:_});function Te(){return(window.innerWidth-K3)/window.innerWidth}function ct(de){var ke,$e;!f&&!s||se.current&&!se.current.contains(de.target)||(re.current=((ke=se.current)==null?void 0:ke.getBoundingClientRect().height)||0,me.current=(($e=se.current)==null?void 0:$e.getBoundingClientRect().width)||0,B(!0),le.current=new Date,Zce()&&window.addEventListener("touchend",()=>X.current=!1,{once:!0}),de.target.setPointerCapture(de.pointerId),te.current=ei(b)?de.pageY:de.pageX)}function We(de,ke){var $e;let Ge=de;const ze=($e=window.getSelection())==null?void 0:$e.toString(),Le=se.current?pC(se.current,b):null,et=new Date;if(Ge.tagName==="SELECT"||Ge.hasAttribute("data-vaul-no-drag")||Ge.closest("[data-vaul-no-drag]"))return!1;if(b==="right"||b==="left")return!0;if(ie.current&&et.getTime()-ie.current.getTime()<500)return!1;if(Le!==null&&(b==="bottom"?Le>0:Le<0))return!0;if(ze&&ze.length>0)return!1;if(U.current&&et.getTime()-U.current.getTime()<c&&Le===0||ke)return U.current=et,!1;for(;Ge;){if(Ge.scrollHeight>Ge.clientHeight){if(Ge.scrollTop!==0)return U.current=new Date,!1;if(Ge.getAttribute("role")==="dialog")return!0}Ge=Ge.parentNode}return!0}function lt(de){if(se.current&&j){const ke=b==="bottom"||b==="right"?1:-1,$e=(te.current-(ei(b)?de.pageY:de.pageX))*ke,Ge=$e>0,ze=s&&!f&&!Ge;if(ze&&Re===0)return;const Le=Math.abs($e),et=document.querySelector("[data-vaul-drawer-wrapper]"),vt=b==="bottom"||b==="top"?re.current:me.current;let zt=Le/vt;const qt=Ee(Le,Ge);if(qt!==null&&(zt=qt),ze&&zt>=1||!X.current&&!We(de.target,Ge))return;if(se.current.classList.add(eI),X.current=!0,li(se.current,{transition:"none"}),li(K.current,{transition:"none"}),s&&Z({draggedDistance:$e}),Ge&&!s){const Un=Iit($e),wa=Math.min(Un*-1,0)*ke;li(se.current,{transform:ei(b)?`translate3d(0, ${wa}px, 0)`:`translate3d(${wa}px, 0, 0)`});return}const Gn=1-zt;if((ve||h&&Re===h-1)&&(r==null||r(de,zt),li(K.current,{opacity:`${Gn}`,transition:"none"},!0)),et&&K.current&&o){const Un=Math.min(Te()+zt*(1-Te()),1),wa=8-zt*8,Ps=Math.max(0,14-zt*14);li(et,{borderRadius:`${wa}px`,transform:ei(b)?`scale(${Un}) translate3d(0, ${Ps}px, 0)`:`scale(${Un}) translate3d(${Ps}px, 0, 0)`,transition:"none"},!0)}if(!s){const Un=Le*ke;li(se.current,{transform:ei(b)?`translate3d(0, ${Un}px, 0)`:`translate3d(${Un}px, 0, 0)`})}}}ne.useEffect(()=>{window.requestAnimationFrame(()=>{ee.current=!0})},[]),ne.useEffect(()=>{var de;function ke(){if(!se.current||!P)return;const $e=document.activeElement;if(q3($e)||ue.current){var Ge;const ze=((Ge=window.visualViewport)==null?void 0:Ge.height)||0,Le=window.innerHeight;let et=Le-ze;const vt=se.current.getBoundingClientRect().height||0,zt=vt>Le*.8;he.current||(he.current=vt);const qt=se.current.getBoundingClientRect().top;if(Math.abs(Y.current-et)>60&&(ue.current=!ue.current),s&&s.length>0&&oe&&Re){const Gn=oe[Re]||0;et+=Gn}if(Y.current=et,vt>ze||ue.current){const Gn=se.current.getBoundingClientRect().height;let Un=Gn;Gn>ze&&(Un=ze-(zt?qt:K3)),x?se.current.style.height=`${Gn-Math.max(et,0)}px`:se.current.style.height=`${Math.max(Un,ze-qt)}px`}else bit()||(se.current.style.height=`${he.current}px`);s&&s.length>0&&!ue.current?se.current.style.bottom="0px":se.current.style.bottom=`${Math.max(et,0)}px`}}return(de=window.visualViewport)==null||de.addEventListener("resize",ke),()=>{var $e;return($e=window.visualViewport)==null?void 0:$e.removeEventListener("resize",ke)}},[Re,s,oe]);function Ye(de){at(),p==null||p(),de||z(!1),setTimeout(()=>{s&&ot(s[0])},Cr.DURATION*1e3)}function Ve(){if(!se.current)return;const de=document.querySelector("[data-vaul-drawer-wrapper]"),ke=pC(se.current,b);li(se.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`}),li(K.current,{transition:`opacity ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`,opacity:"1"}),o&&ke&&ke>0&&$&&li(de,{borderRadius:`${nue}px`,overflow:"hidden",...ei(b)?{transform:`scale(${Te()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Te()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${Cr.DURATION}s`,transitionTimingFunction:`cubic-bezier(${Cr.EASE.join(",")})`},!0)}function at(){!j||!se.current||(se.current.classList.remove(eI),X.current=!1,B(!1),J.current=new Date)}function Tt(de){if(!j||!se.current)return;se.current.classList.remove(eI),X.current=!1,B(!1),J.current=new Date;const ke=pC(se.current,b);if(!de||!We(de.target,!1)||!ke||Number.isNaN(ke)||le.current===null)return;const $e=J.current.getTime()-le.current.getTime(),Ge=te.current-(ei(b)?de.pageY:de.pageX),ze=Math.abs(Ge)/$e;if(ze>.05&&(G(!0),setTimeout(()=>{G(!1)},200)),s){rt({draggedDistance:Ge*(b==="bottom"||b==="right"?1:-1),closeDrawer:Ye,velocity:ze,dismissible:f}),i==null||i(de,!0);return}if(b==="bottom"||b==="right"?Ge>0:Ge<0){Ve(),i==null||i(de,!0);return}if(ze>tue){Ye(),i==null||i(de,!1);return}var Le;const et=Math.min((Le=se.current.getBoundingClientRect().height)!=null?Le:0,window.innerHeight);var vt;const zt=Math.min((vt=se.current.getBoundingClientRect().width)!=null?vt:0,window.innerWidth),qt=b==="left"||b==="right";if(Math.abs(ke)>=(qt?zt:et)*l){Ye(),i==null||i(de,!1);return}i==null||i(de,!0),Ve()}ne.useEffect(()=>($&&(li(document.documentElement,{scrollBehavior:"auto"}),ie.current=new Date),()=>{Oit(document.documentElement,"scrollBehavior")}),[$]);function pe(de){const ke=de?(window.innerWidth-Uf)/window.innerWidth:1,$e=de?-Uf:0;Q.current&&window.clearTimeout(Q.current),li(se.current,{transition:`transform ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`,transform:ei(b)?`scale(${ke}) translate3d(0, ${$e}px, 0)`:`scale(${ke}) translate3d(${$e}px, 0, 0)`}),!de&&se.current&&(Q.current=setTimeout(()=>{const Ge=pC(se.current,b);li(se.current,{transition:"none",transform:ei(b)?`translate3d(0, ${Ge}px, 0)`:`translate3d(${Ge}px, 0, 0)`})},500))}function Me(de,ke){if(ke<0)return;const $e=(window.innerWidth-Uf)/window.innerWidth,Ge=$e+ke*(1-$e),ze=-Uf+ke*Uf;li(se.current,{transform:ei(b)?`scale(${Ge}) translate3d(0, ${ze}px, 0)`:`scale(${Ge}) translate3d(${ze}px, 0, 0)`,transition:"none"})}function Je(de,ke){const $e=ei(b)?window.innerHeight:window.innerWidth,Ge=ke?($e-Uf)/$e:1,ze=ke?-Uf:0;ke&&li(se.current,{transition:`transform ${Cr.DURATION}s cubic-bezier(${Cr.EASE.join(",")})`,transform:ei(b)?`scale(${Ge}) translate3d(0, ${ze}px, 0)`:`scale(${Ge}) translate3d(${ze}px, 0, 0)`})}return ne.useEffect(()=>{m||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[m]),ne.createElement(FP,{defaultOpen:w,onOpenChange:de=>{!f&&!de||(de?R(!0):Ye(!0),z(de))},open:$},ne.createElement(Yce.Provider,{value:{activeSnapPoint:Se,snapPoints:s,setActiveSnapPoint:ot,drawerRef:se,overlayRef:K,onOpenChange:e,onPress:ct,onRelease:Tt,onDrag:lt,dismissible:f,shouldAnimate:ee,handleOnly:d,isOpen:$,isDragging:j,shouldFade:ve,closeDrawer:Ye,onNestedDrag:Me,onNestedOpenChange:pe,onNestedRelease:Je,keyboardIsOpen:ue,modal:m,snapPointsOffset:oe,activeSnapPointIndex:Re,direction:b,shouldScaleBackground:o,setBackgroundColorOnScale:a,noBodyStyles:_,container:O,autoFocus:I}},n))}const oue=ne.forwardRef(function({...t},e){const{overlayRef:n,snapPoints:r,onRelease:i,shouldFade:s,isOpen:o,modal:a,shouldAnimate:l}=sx(),c=Jce(e,n),f=r&&r.length>0;if(!a)return null;const d=ne.useCallback(h=>i(h),[i]);return ne.createElement(Ip,{onMouseUp:d,ref:c,"data-vaul-overlay":"","data-vaul-snap-points":o&&f?"true":"false","data-vaul-snap-points-overlay":o&&s?"true":"false","data-vaul-animate":l!=null&&l.current?"true":"false",...t})});oue.displayName="Drawer.Overlay";const aue=ne.forwardRef(function({onPointerDownOutside:t,style:e,onOpenAutoFocus:n,...r},i){const{drawerRef:s,onPress:o,onRelease:a,onDrag:l,keyboardIsOpen:c,snapPointsOffset:f,activeSnapPointIndex:d,modal:h,isOpen:g,direction:v,snapPoints:x,container:m,handleOnly:p,shouldAnimate:y,autoFocus:_}=sx(),[b,w]=ne.useState(!1),E=Jce(i,s),A=ne.useRef(null),T=ne.useRef(null),P=ne.useRef(!1),N=x&&x.length>0;$it();const O=(D,F,$=0)=>{if(P.current)return!0;const z=Math.abs(D.y),H=Math.abs(D.x),R=H>z,j=["bottom","right"].includes(F)?1:-1;if(F==="left"||F==="right"){if(!(D.x*j<0)&&H>=0&&H<=$)return R}else if(!(D.y*j<0)&&z>=0&&z<=$)return!R;return P.current=!0,!0};ne.useEffect(()=>{N&&window.requestAnimationFrame(()=>{w(!0)})},[]);function I(D){A.current=null,P.current=!1,a(D)}return ne.createElement(jp,{"data-vaul-drawer-direction":v,"data-vaul-drawer":"","data-vaul-delayed-snap-points":b?"true":"false","data-vaul-snap-points":g&&N?"true":"false","data-vaul-custom-container":m?"true":"false","data-vaul-animate":y!=null&&y.current?"true":"false",...r,ref:E,style:f&&f.length>0?{"--snap-point-height":`${f[d??0]}px`,...e}:e,onPointerDown:D=>{p||(r.onPointerDown==null||r.onPointerDown.call(r,D),A.current={x:D.pageX,y:D.pageY},o(D))},onOpenAutoFocus:D=>{n==null||n(D),_||D.preventDefault()},onPointerDownOutside:D=>{if(t==null||t(D),!h||D.defaultPrevented){D.preventDefault();return}c.current&&(c.current=!1)},onFocusOutside:D=>{if(!h){D.preventDefault();return}},onPointerMove:D=>{if(T.current=D,p||(r.onPointerMove==null||r.onPointerMove.call(r,D),!A.current))return;const F=D.pageY-A.current.y,$=D.pageX-A.current.x,z=D.pointerType==="touch"?10:2;O({x:$,y:F},v,z)?l(D):(Math.abs($)>z||Math.abs(F)>z)&&(A.current=null)},onPointerUp:D=>{r.onPointerUp==null||r.onPointerUp.call(r,D),A.current=null,P.current=!1,a(D)},onPointerOut:D=>{r.onPointerOut==null||r.onPointerOut.call(r,D),I(T.current)},onContextMenu:D=>{r.onContextMenu==null||r.onContextMenu.call(r,D),T.current&&I(T.current)}})});aue.displayName="Drawer.Content";const Hit=250,Vit=120,lue=ne.forwardRef(function({preventCycle:t=!1,children:e,...n},r){const{closeDrawer:i,isDragging:s,snapPoints:o,activeSnapPoint:a,setActiveSnapPoint:l,dismissible:c,handleOnly:f,isOpen:d,onPress:h,onDrag:g}=sx(),v=ne.useRef(null),x=ne.useRef(!1);function m(){if(x.current){_();return}window.setTimeout(()=>{p()},Vit)}function p(){if(s||t||x.current){_();return}if(_(),!o||o.length===0){c||i();return}if(a===o[o.length-1]&&c){i();return}const w=o.findIndex(A=>A===a);if(w===-1)return;const E=o[w+1];l(E)}function y(){v.current=window.setTimeout(()=>{x.current=!0},Hit)}function _(){v.current&&window.clearTimeout(v.current),x.current=!1}return ne.createElement("div",{onClick:m,onPointerCancel:_,onPointerDown:b=>{f&&h(b),y()},onPointerMove:b=>{f&&g(b)},ref:r,"data-vaul-drawer-visible":d?"true":"false","data-vaul-handle":"","aria-hidden":"true",...n},ne.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},e))});lue.displayName="Drawer.Handle";function Wit({onDrag:t,onOpenChange:e,open:n,...r}){const{onNestedDrag:i,onNestedOpenChange:s,onNestedRelease:o}=sx();if(!i)throw new Error("Drawer.NestedRoot must be placed in another drawer");return ne.createElement(sue,{nested:!0,open:n,onClose:()=>{s(!1)},onDrag:(a,l)=>{i(a,l),t==null||t(a,l)},onOpenChange:a=>{a&&s(a),e==null||e(a)},onRelease:o,...r})}function Git(t){const e=sx(),{container:n=e.container,...r}=t;return ne.createElement(kw,{container:n,...r})}const yf={Root:sue,NestedRoot:Wit,Content:aue,Overlay:oue,Trigger:mB,Portal:Git,Handle:lue,Close:Ow,Title:Dy,Description:Ly},qit=yf.Portal,cue=M.forwardRef(({className:t,...e},n)=>u.jsx(yf.Overlay,{ref:n,className:we("fixed inset-0 z-50 bg-black/80",t),...e}));cue.displayName=yf.Overlay.displayName;const Kit=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(qit,{children:[u.jsx(cue,{}),u.jsxs(yf.Content,{ref:r,className:we("fixed inset-x-0 bottom-0 z-50 mt-24 flex h-auto flex-col rounded-t-[10px] border bg-background",t),...n,children:[u.jsx("div",{className:"mx-auto mt-4 h-2 w-[100px] rounded-full bg-muted"}),e]})]}));Kit.displayName="DrawerContent";const Xit=M.forwardRef(({className:t,...e},n)=>u.jsx(yf.Title,{ref:n,className:we("text-lg font-semibold leading-none tracking-tight",t),...e}));Xit.displayName=yf.Title.displayName;const Yit=M.forwardRef(({className:t,...e},n)=>u.jsx(yf.Description,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Yit.displayName=yf.Description.displayName;var n$="DropdownMenu",[Zit,vAt]=nr(n$,[o1]),As=o1(),[Qit,uue]=Zit(n$),due=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=As(e),c=M.useRef(null),[f=!1,d]=$r({prop:i,defaultProp:s,onChange:o});return u.jsx(Qit,{scope:e,triggerId:Br(),triggerRef:c,contentId:Br(),open:f,onOpenChange:d,onOpenToggle:M.useCallback(()=>d(h=>!h),[d]),modal:a,children:u.jsx(Grt,{...l,open:f,onOpenChange:d,dir:r,modal:a,children:n})})};due.displayName=n$;var fue="DropdownMenuTrigger",hue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=uue(fue,n),o=As(n);return u.jsx(UU,{asChild:!0,...o,children:u.jsx(Ze.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:ec(e,s.triggerRef),onPointerDown:Ie(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ie(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});hue.displayName=fue;var Jit="DropdownMenuPortal",pue=t=>{const{__scopeDropdownMenu:e,...n}=t,r=As(e);return u.jsx($U,{...r,...n})};pue.displayName=Jit;var mue="DropdownMenuContent",gue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=uue(mue,n),s=As(n),o=M.useRef(!1);return u.jsx(zU,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ie(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ie(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,f=l.button===2||c;(!i.modal||f)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});gue.displayName=mue;var est="DropdownMenuGroup",tst=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(HU,{...i,...r,ref:e})});tst.displayName=est;var nst="DropdownMenuLabel",vue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(VU,{...i,...r,ref:e})});vue.displayName=nst;var rst="DropdownMenuItem",yue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(WU,{...i,...r,ref:e})});yue.displayName=rst;var ist="DropdownMenuCheckboxItem",xue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(GU,{...i,...r,ref:e})});xue.displayName=ist;var sst="DropdownMenuRadioGroup",ost=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(qU,{...i,...r,ref:e})});ost.displayName=sst;var ast="DropdownMenuRadioItem",_ue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(KU,{...i,...r,ref:e})});_ue.displayName=ast;var lst="DropdownMenuItemIndicator",bue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(XU,{...i,...r,ref:e})});bue.displayName=lst;var cst="DropdownMenuSeparator",wue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(YU,{...i,...r,ref:e})});wue.displayName=cst;var ust="DropdownMenuArrow",dst=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(ZU,{...i,...r,ref:e})});dst.displayName=ust;var fst="DropdownMenuSubTrigger",Sue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(QU,{...i,...r,ref:e})});Sue.displayName=fst;var hst="DropdownMenuSubContent",Cue=M.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=As(n);return u.jsx(JU,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Cue.displayName=hst;var pst=due,mst=hue,gst=pue,Eue=gue,Mue=vue,Aue=yue,Tue=xue,Pue=_ue,Nue=bue,Rue=wue,kue=Sue,Oue=Cue;const vst=pst,yst=mst,xst=M.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(kue,{ref:i,className:we("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-primary/10 data-[state=open]:bg-primary/10 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...r,children:[n,u.jsx(Oy,{className:"ml-auto"})]}));xst.displayName=kue.displayName;const _st=M.forwardRef(({className:t,...e},n)=>u.jsx(Oue,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-xl card-glow bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));_st.displayName=Oue.displayName;const Iue=M.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(gst,{children:u.jsx(Eue,{ref:r,sideOffset:e,className:we("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-xl card-glow bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...n})}));Iue.displayName=Eue.displayName;const U0=M.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(Aue,{ref:r,className:we("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-primary/10 focus:text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n}));U0.displayName=Aue.displayName;const bst=M.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(Tue,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-primary/10 focus:text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Nue,{children:u.jsx(Tw,{className:"h-4 w-4"})})}),e]}));bst.displayName=Tue.displayName;const wst=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Pue,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-primary/10 focus:text-primary data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(Nue,{children:u.jsx(RP,{className:"h-2 w-2 fill-current"})})}),e]}));wst.displayName=Pue.displayName;const jue=M.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(Mue,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));jue.displayName=Mue.displayName;const X3=M.forwardRef(({className:t,...e},n)=>u.jsx(Rue,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));X3.displayName=Rue.displayName;const Sst=ne.createContext(null),Cst=()=>ne.useContext(Sst),Est=M.createContext({}),X2=()=>{const t=M.useContext(Est),e=M.useContext(Due),{getFieldState:n,formState:r}=Cst(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Due=M.createContext({}),Mst=M.forwardRef(({className:t,...e},n)=>{const r=M.useId();return u.jsx(Due.Provider,{value:{id:r},children:u.jsx("div",{ref:n,className:we("space-y-2",t),...e})})});Mst.displayName="FormItem";const Ast=M.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=X2();return u.jsx(ht,{ref:n,className:we(r&&"text-destructive",t),htmlFor:i,...e})});Ast.displayName="FormLabel";const Tst=M.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=X2();return u.jsx(Mw,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Tst.displayName="FormControl";const Pst=M.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=X2();return u.jsx("p",{ref:n,id:r,className:we("text-sm text-muted-foreground",t),...e})});Pst.displayName="FormDescription";const Nst=M.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=X2(),o=i?String((i==null?void 0:i.message)??""):e;return o?u.jsx("p",{ref:r,id:s,className:we("text-sm font-medium text-destructive",t),...n,children:o}):null});Nst.displayName="FormMessage";var tI,Lue="HoverCard",[Fue,yAt]=nr(Lue,[dc]),r$=dc(),[xAt,i$]=Fue(Lue),Bue="HoverCardTrigger",Rst=M.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=i$(Bue,n),s=r$(n);return u.jsx(ex,{asChild:!0,...s,children:u.jsx(Ze.a,{"data-state":i.open?"open":"closed",...r,ref:e,onPointerEnter:Ie(t.onPointerEnter,nT(i.onOpen)),onPointerLeave:Ie(t.onPointerLeave,nT(i.onClose)),onFocus:Ie(t.onFocus,i.onOpen),onBlur:Ie(t.onBlur,i.onClose),onTouchStart:Ie(t.onTouchStart,o=>o.preventDefault())})})});Rst.displayName=Bue;var kst="HoverCardPortal",[_At,Ost]=Fue(kst,{forceMount:void 0}),tT="HoverCardContent",Uue=M.forwardRef((t,e)=>{const n=Ost(tT,t.__scopeHoverCard),{forceMount:r=n.forceMount,...i}=t,s=i$(tT,t.__scopeHoverCard);return u.jsx(gr,{present:r||s.open,children:u.jsx(Ist,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Ie(t.onPointerEnter,nT(s.onOpen)),onPointerLeave:Ie(t.onPointerLeave,nT(s.onClose)),ref:e})})});Uue.displayName=tT;var Ist=M.forwardRef((t,e)=>{const{__scopeHoverCard:n,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...a}=t,l=i$(tT,n),c=r$(n),f=M.useRef(null),d=Nt(e,f),[h,g]=M.useState(!1);return M.useEffect(()=>{if(h){const v=document.body;return tI=v.style.userSelect||v.style.webkitUserSelect,v.style.userSelect="none",v.style.webkitUserSelect="none",()=>{v.style.userSelect=tI,v.style.webkitUserSelect=tI}}},[h]),M.useEffect(()=>{if(f.current){const v=()=>{g(!1),l.isPointerDownOnContentRef.current=!1,setTimeout(()=>{var m;((m=document.getSelection())==null?void 0:m.toString())!==""&&(l.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",v),()=>{document.removeEventListener("pointerup",v),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!1}}},[l.isPointerDownOnContentRef,l.hasSelectionRef]),M.useEffect(()=>{f.current&&Lst(f.current).forEach(x=>x.setAttribute("tabindex","-1"))}),u.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:Ie(s,v=>{v.preventDefault()}),onDismiss:l.onDismiss,children:u.jsx(t1,{...c,...a,onPointerDown:Ie(a.onPointerDown,v=>{v.currentTarget.contains(v.target)&&g(!0),l.hasSelectionRef.current=!1,l.isPointerDownOnContentRef.current=!0}),ref:d,style:{...a.style,userSelect:h?"text":void 0,WebkitUserSelect:h?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),jst="HoverCardArrow",Dst=M.forwardRef((t,e)=>{const{__scopeHoverCard:n,...r}=t,i=r$(n);return u.jsx(n1,{...i,...r,ref:e})});Dst.displayName=jst;function nT(t){return e=>e.pointerType==="touch"?void 0:t()}function Lst(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;n.nextNode();)e.push(n.currentNode);return e}var $ue=Uue;const Fst=M.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>u.jsx($ue,{ref:i,align:e,sideOffset:n,className:we("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-hover-card-content-transform-origin]",t),...r}));Fst.displayName=$ue.displayName;var Bst=Object.defineProperty,Ust=Object.defineProperties,$st=Object.getOwnPropertyDescriptors,rT=Object.getOwnPropertySymbols,zue=Object.prototype.hasOwnProperty,Hue=Object.prototype.propertyIsEnumerable,pK=(t,e,n)=>e in t?Bst(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zst=(t,e)=>{for(var n in e||(e={}))zue.call(e,n)&&pK(t,n,e[n]);if(rT)for(var n of rT(e))Hue.call(e,n)&&pK(t,n,e[n]);return t},Hst=(t,e)=>Ust(t,$st(e)),Vst=(t,e)=>{var n={};for(var r in t)zue.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&rT)for(var r of rT(t))e.indexOf(r)<0&&Hue.call(t,r)&&(n[r]=t[r]);return n};function Wst(t){let e=setTimeout(t,0),n=setTimeout(t,10),r=setTimeout(t,50);return[e,n,r]}function Gst(t){let e=M.useRef();return M.useEffect(()=>{e.current=t}),e.current}var qst=18,Vue=40,Kst=`${Vue}px`,Xst=["[data-lastpass-icon-root]","com-1password-button","[data-dashlanecreated]",'[style$="2147483647 !important;"]'].join(",");function Yst({containerRef:t,inputRef:e,pushPasswordManagerStrategy:n,isFocused:r}){let[i,s]=M.useState(!1),[o,a]=M.useState(!1),[l,c]=M.useState(!1),f=M.useMemo(()=>n==="none"?!1:(n==="increase-width"||n==="experimental-no-flickering")&&i&&o,[i,o,n]),d=M.useCallback(()=>{let h=t.current,g=e.current;if(!h||!g||l||n==="none")return;let v=h,x=v.getBoundingClientRect().left+v.offsetWidth,m=v.getBoundingClientRect().top+v.offsetHeight/2,p=x-qst,y=m;document.querySelectorAll(Xst).length===0&&document.elementFromPoint(p,y)===h||(s(!0),c(!0))},[t,e,l,n]);return M.useEffect(()=>{let h=t.current;if(!h||n==="none")return;function g(){let x=window.innerWidth-h.getBoundingClientRect().right;a(x>=Vue)}g();let v=setInterval(g,1e3);return()=>{clearInterval(v)}},[t,n]),M.useEffect(()=>{let h=r||document.activeElement===e.current;if(n==="none"||!h)return;let g=setTimeout(d,0),v=setTimeout(d,2e3),x=setTimeout(d,5e3),m=setTimeout(()=>{c(!0)},6e3);return()=>{clearTimeout(g),clearTimeout(v),clearTimeout(x),clearTimeout(m)}},[e,r,n,d]),{hasPWMBadge:i,willPushPWMBadge:f,PWM_BADGE_SPACE_WIDTH:Kst}}var Wue=M.createContext({}),Gue=M.forwardRef((t,e)=>{var n=t,{value:r,onChange:i,maxLength:s,textAlign:o="left",pattern:a,placeholder:l,inputMode:c="numeric",onComplete:f,pushPasswordManagerStrategy:d="increase-width",pasteTransformer:h,containerClassName:g,noScriptCSSFallback:v=Zst,render:x,children:m}=n,p=Vst(n,["value","onChange","maxLength","textAlign","pattern","placeholder","inputMode","onComplete","pushPasswordManagerStrategy","pasteTransformer","containerClassName","noScriptCSSFallback","render","children"]),y,_,b,w,E;let[A,T]=M.useState(typeof p.defaultValue=="string"?p.defaultValue:""),P=r??A,N=Gst(P),O=M.useCallback(se=>{i==null||i(se),T(se)},[i]),I=M.useMemo(()=>a?typeof a=="string"?new RegExp(a):a:null,[a]),D=M.useRef(null),F=M.useRef(null),$=M.useRef({value:P,onChange:O,isIOS:typeof window<"u"&&((_=(y=window==null?void 0:window.CSS)==null?void 0:y.supports)==null?void 0:_.call(y,"-webkit-touch-callout","none"))}),z=M.useRef({prev:[(b=D.current)==null?void 0:b.selectionStart,(w=D.current)==null?void 0:w.selectionEnd,(E=D.current)==null?void 0:E.selectionDirection]});M.useImperativeHandle(e,()=>D.current,[]),M.useEffect(()=>{let se=D.current,re=F.current;if(!se||!re)return;$.current.value!==se.value&&$.current.onChange(se.value),z.current.prev=[se.selectionStart,se.selectionEnd,se.selectionDirection];function me(){if(document.activeElement!==se){G(null),ie(null);return}let Se=se.selectionStart,Re=se.selectionEnd,ot=se.selectionDirection,rt=se.maxLength,oe=se.value,Z=z.current.prev,ve=-1,Ee=-1,je;if(oe.length!==0&&Se!==null&&Re!==null){let lt=Se===Re,Ye=Se===oe.length&&oe.length<rt;if(lt&&!Ye){let Ve=Se;if(Ve===0)ve=0,Ee=1,je="forward";else if(Ve===rt)ve=Ve-1,Ee=Ve,je="backward";else if(rt>1&&oe.length>1){let at=0;if(Z[0]!==null&&Z[1]!==null){je=Ve<Z[1]?"backward":"forward";let Tt=Z[0]===Z[1]&&Z[0]<rt;je==="backward"&&!Tt&&(at=-1)}ve=at+Ve,Ee=at+Ve+1}}ve!==-1&&Ee!==-1&&ve!==Ee&&D.current.setSelectionRange(ve,Ee,je)}let Te=ve!==-1?ve:Se,ct=Ee!==-1?Ee:Re,We=je??ot;G(Te),ie(ct),z.current.prev=[Te,ct,We]}if(document.addEventListener("selectionchange",me,{capture:!0}),me(),document.activeElement===se&&B(!0),!document.getElementById("input-otp-style")){let Se=document.createElement("style");if(Se.id="input-otp-style",document.head.appendChild(Se),Se.sheet){let Re="background: transparent !important; color: transparent !important; border-color: transparent !important; opacity: 0 !important; box-shadow: none !important; -webkit-box-shadow: none !important; -webkit-text-fill-color: transparent !important;";u0(Se.sheet,"[data-input-otp]::selection { background: transparent !important; color: transparent !important; }"),u0(Se.sheet,`[data-input-otp]:autofill { ${Re} }`),u0(Se.sheet,`[data-input-otp]:-webkit-autofill { ${Re} }`),u0(Se.sheet,"@supports (-webkit-touch-callout: none) { [data-input-otp] { letter-spacing: -.6em !important; font-weight: 100 !important; font-stretch: ultra-condensed; font-optical-sizing: none !important; left: -1px !important; right: 1px !important; } }"),u0(Se.sheet,"[data-input-otp] + * { pointer-events: all !important; }")}}let he=()=>{re&&re.style.setProperty("--root-height",`${se.clientHeight}px`)};he();let Ae=new ResizeObserver(he);return Ae.observe(se),()=>{document.removeEventListener("selectionchange",me,{capture:!0}),Ae.disconnect()}},[]);let[H,R]=M.useState(!1),[j,B]=M.useState(!1),[W,G]=M.useState(null),[K,ie]=M.useState(null);M.useEffect(()=>{Wst(()=>{var se,re,me,he;(se=D.current)==null||se.dispatchEvent(new Event("input"));let Ae=(re=D.current)==null?void 0:re.selectionStart,Se=(me=D.current)==null?void 0:me.selectionEnd,Re=(he=D.current)==null?void 0:he.selectionDirection;Ae!==null&&Se!==null&&(G(Ae),ie(Se),z.current.prev=[Ae,Se,Re])})},[P,j]),M.useEffect(()=>{N!==void 0&&P!==N&&N.length<s&&P.length===s&&(f==null||f(P))},[s,f,N,P]);let le=Yst({containerRef:F,inputRef:D,pushPasswordManagerStrategy:d,isFocused:j}),J=M.useCallback(se=>{let re=se.currentTarget.value.slice(0,s);if(re.length>0&&I&&!I.test(re)){se.preventDefault();return}typeof N=="string"&&re.length<N.length&&document.dispatchEvent(new Event("selectionchange")),O(re)},[s,O,N,I]),U=M.useCallback(()=>{var se;if(D.current){let re=Math.min(D.current.value.length,s-1),me=D.current.value.length;(se=D.current)==null||se.setSelectionRange(re,me),G(re),ie(me)}B(!0)},[s]),X=M.useCallback(se=>{var re,me;let he=D.current;if(!h&&(!$.current.isIOS||!se.clipboardData||!he))return;let Ae=se.clipboardData.getData("text/plain"),Se=h?h(Ae):Ae;se.preventDefault();let Re=(re=D.current)==null?void 0:re.selectionStart,ot=(me=D.current)==null?void 0:me.selectionEnd,rt=(Re!==ot?P.slice(0,Re)+Se+P.slice(ot):P.slice(0,Re)+Se+P.slice(Re)).slice(0,s);if(rt.length>0&&I&&!I.test(rt))return;he.value=rt,O(rt);let oe=Math.min(rt.length,s-1),Z=rt.length;he.setSelectionRange(oe,Z),G(oe),ie(Z)},[s,O,I,P]),Q=M.useMemo(()=>({position:"relative",cursor:p.disabled?"default":"text",userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none"}),[p.disabled]),te=M.useMemo(()=>({position:"absolute",inset:0,width:le.willPushPWMBadge?`calc(100% + ${le.PWM_BADGE_SPACE_WIDTH})`:"100%",clipPath:le.willPushPWMBadge?`inset(0 ${le.PWM_BADGE_SPACE_WIDTH} 0 0)`:void 0,height:"100%",display:"flex",textAlign:o,opacity:"1",color:"transparent",pointerEvents:"all",background:"transparent",caretColor:"transparent",border:"0 solid transparent",outline:"0 solid transparent",boxShadow:"none",lineHeight:"1",letterSpacing:"-.5em",fontSize:"var(--root-height)",fontFamily:"monospace",fontVariantNumeric:"tabular-nums"}),[le.PWM_BADGE_SPACE_WIDTH,le.willPushPWMBadge,o]),ue=M.useMemo(()=>M.createElement("input",Hst(zst({autoComplete:p.autoComplete||"one-time-code"},p),{"data-input-otp":!0,"data-input-otp-placeholder-shown":P.length===0||void 0,"data-input-otp-mss":W,"data-input-otp-mse":K,inputMode:c,pattern:I==null?void 0:I.source,"aria-placeholder":l,style:te,maxLength:s,value:P,ref:D,onPaste:se=>{var re;X(se),(re=p.onPaste)==null||re.call(p,se)},onChange:J,onMouseOver:se=>{var re;R(!0),(re=p.onMouseOver)==null||re.call(p,se)},onMouseLeave:se=>{var re;R(!1),(re=p.onMouseLeave)==null||re.call(p,se)},onFocus:se=>{var re;U(),(re=p.onFocus)==null||re.call(p,se)},onBlur:se=>{var re;B(!1),(re=p.onBlur)==null||re.call(p,se)}})),[J,U,X,c,te,s,K,W,p,I==null?void 0:I.source,P]),ee=M.useMemo(()=>({slots:Array.from({length:s}).map((se,re)=>{var me;let he=j&&W!==null&&K!==null&&(W===K&&re===W||re>=W&&re<K),Ae=P[re]!==void 0?P[re]:null,Se=P[0]!==void 0?null:(me=l==null?void 0:l[re])!=null?me:null;return{char:Ae,placeholderChar:Se,isActive:he,hasFakeCaret:he&&Ae===null}}),isFocused:j,isHovering:!p.disabled&&H}),[j,H,s,K,W,p.disabled,P]),Y=M.useMemo(()=>x?x(ee):M.createElement(Wue.Provider,{value:ee},m),[m,ee,x]);return M.createElement(M.Fragment,null,v!==null&&M.createElement("noscript",null,M.createElement("style",null,v)),M.createElement("div",{ref:F,"data-input-otp-container":!0,style:Q,className:g},Y,M.createElement("div",{style:{position:"absolute",inset:0,pointerEvents:"none"}},ue)))});Gue.displayName="Input";function u0(t,e){try{t.insertRule(e)}catch{console.error("input-otp could not insert CSS rule:",e)}}var Zst=`
[data-input-otp] {
  --nojs-bg: white !important;
  --nojs-fg: black !important;

  background-color: var(--nojs-bg) !important;
  color: var(--nojs-fg) !important;
  caret-color: var(--nojs-fg) !important;
  letter-spacing: .25em !important;
  text-align: center !important;
  border: 1px solid var(--nojs-fg) !important;
  border-radius: 4px !important;
  width: 100% !important;
}
@media (prefers-color-scheme: dark) {
  [data-input-otp] {
    --nojs-bg: black !important;
    --nojs-fg: white !important;
  }
}`;const Qst=M.forwardRef(({className:t,containerClassName:e,...n},r)=>u.jsx(Gue,{ref:r,containerClassName:we("flex items-center gap-2 has-[:disabled]:opacity-50",e),className:we("disabled:cursor-not-allowed",t),...n}));Qst.displayName="InputOTP";const Jst=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:we("flex items-center",t),...e}));Jst.displayName="InputOTPGroup";const eot=M.forwardRef(({index:t,className:e,...n},r)=>{const i=M.useContext(Wue),{char:s,hasFakeCaret:o,isActive:a}=i.slots[t];return u.jsxs("div",{ref:r,className:we("relative flex h-10 w-10 items-center justify-center border-y border-r border-input text-sm transition-all first:rounded-l-md first:border-l last:rounded-r-md",a&&"z-10 ring-2 ring-ring ring-offset-background",e),...n,children:[s,o&&u.jsx("div",{className:"pointer-events-none absolute inset-0 flex items-center justify-center",children:u.jsx("div",{className:"h-4 w-px animate-caret-blink bg-foreground duration-1000"})})]})});eot.displayName="InputOTPSlot";const tot=M.forwardRef(({...t},e)=>u.jsx("div",{ref:e,role:"separator",...t,children:u.jsx(RSe,{})}));tot.displayName="InputOTPSeparator";const Dt=M.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:we("flex h-9 w-full rounded-md border border-input bg-card px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Dt.displayName="Input";var not="Label",que=M.forwardRef((t,e)=>u.jsx(Ze.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));que.displayName=not;var Kue=que;const rot=Pu("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ht=M.forwardRef(({className:t,...e},n)=>u.jsx(Kue,{ref:n,className:we(rot(),t),...e}));ht.displayName=Kue.displayName;var Y2="Menubar",[Y3,iot,sot]=Mu(Y2),[Xue,bAt]=nr(Y2,[sot,fc]),eo=o1(),Yue=fc(),[oot,Zue]=Xue(Y2),Que=M.forwardRef((t,e)=>{const{__scopeMenubar:n,value:r,onValueChange:i,defaultValue:s,loop:o=!0,dir:a,...l}=t,c=fl(a),f=Yue(n),[d="",h]=$r({prop:r,onChange:i,defaultProp:s}),[g,v]=M.useState(null);return u.jsx(oot,{scope:n,value:d,onMenuOpen:M.useCallback(x=>{h(x),v(x)},[h]),onMenuClose:M.useCallback(()=>h(""),[h]),onMenuToggle:M.useCallback(x=>{h(m=>m?"":x),v(x)},[h]),dir:c,loop:o,children:u.jsx(Y3.Provider,{scope:n,children:u.jsx(Y3.Slot,{scope:n,children:u.jsx(r1,{asChild:!0,...f,orientation:"horizontal",loop:o,dir:c,currentTabStopId:g,onCurrentTabStopIdChange:v,children:u.jsx(Ze.div,{role:"menubar",...l,ref:e})})})})})});Que.displayName=Y2;var aot="MenubarMenu",[wAt,Jue]=Xue(aot),Z3="MenubarTrigger",ede=M.forwardRef((t,e)=>{const{__scopeMenubar:n,disabled:r=!1,...i}=t,s=Yue(n),o=eo(n),a=Zue(Z3,n),l=Jue(Z3,n),c=M.useRef(null),f=Nt(e,c,l.triggerRef),[d,h]=M.useState(!1),g=a.value===l.value;return u.jsx(Y3.ItemSlot,{scope:n,value:l.value,disabled:r,children:u.jsx(i1,{asChild:!0,...s,focusable:!r,tabStopId:l.value,children:u.jsx(UU,{asChild:!0,...o,children:u.jsx(Ze.button,{type:"button",role:"menuitem",id:l.triggerId,"aria-haspopup":"menu","aria-expanded":g,"aria-controls":g?l.contentId:void 0,"data-highlighted":d?"":void 0,"data-state":g?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:f,onPointerDown:Ie(t.onPointerDown,v=>{!r&&v.button===0&&v.ctrlKey===!1&&(a.onMenuOpen(l.value),g||v.preventDefault())}),onPointerEnter:Ie(t.onPointerEnter,()=>{var x;!!a.value&&!g&&(a.onMenuOpen(l.value),(x=c.current)==null||x.focus())}),onKeyDown:Ie(t.onKeyDown,v=>{r||(["Enter"," "].includes(v.key)&&a.onMenuToggle(l.value),v.key==="ArrowDown"&&a.onMenuOpen(l.value),["Enter"," ","ArrowDown"].includes(v.key)&&(l.wasKeyboardTriggerOpenRef.current=!0,v.preventDefault()))}),onFocus:Ie(t.onFocus,()=>h(!0)),onBlur:Ie(t.onBlur,()=>h(!1))})})})})});ede.displayName=Z3;var lot="MenubarPortal",tde=t=>{const{__scopeMenubar:e,...n}=t,r=eo(e);return u.jsx($U,{...r,...n})};tde.displayName=lot;var Q3="MenubarContent",nde=M.forwardRef((t,e)=>{const{__scopeMenubar:n,align:r="start",...i}=t,s=eo(n),o=Zue(Q3,n),a=Jue(Q3,n),l=iot(n),c=M.useRef(!1);return u.jsx(zU,{id:a.contentId,"aria-labelledby":a.triggerId,"data-radix-menubar-content":"",...s,...i,ref:e,align:r,onCloseAutoFocus:Ie(t.onCloseAutoFocus,f=>{var h;!!!o.value&&!c.current&&((h=a.triggerRef.current)==null||h.focus()),c.current=!1,f.preventDefault()}),onFocusOutside:Ie(t.onFocusOutside,f=>{const d=f.target;l().some(g=>{var v;return(v=g.ref.current)==null?void 0:v.contains(d)})&&f.preventDefault()}),onInteractOutside:Ie(t.onInteractOutside,()=>{c.current=!0}),onEntryFocus:f=>{a.wasKeyboardTriggerOpenRef.current||f.preventDefault()},onKeyDown:Ie(t.onKeyDown,f=>{if(["ArrowRight","ArrowLeft"].includes(f.key)){const d=f.target,h=d.hasAttribute("data-radix-menubar-subtrigger"),g=d.closest("[data-radix-menubar-content]")!==f.currentTarget,x=(o.dir==="rtl"?"ArrowRight":"ArrowLeft")===f.key;if(!x&&h||g&&x)return;let y=l().filter(w=>!w.disabled).map(w=>w.value);x&&y.reverse();const _=y.indexOf(a.value);y=o.loop?Sot(y,_+1):y.slice(_+1);const[b]=y;b&&o.onMenuOpen(b)}},{checkForDefaultPrevented:!1}),style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});nde.displayName=Q3;var cot="MenubarGroup",uot=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(HU,{...i,...r,ref:e})});uot.displayName=cot;var dot="MenubarLabel",rde=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(VU,{...i,...r,ref:e})});rde.displayName=dot;var fot="MenubarItem",ide=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(WU,{...i,...r,ref:e})});ide.displayName=fot;var hot="MenubarCheckboxItem",sde=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(GU,{...i,...r,ref:e})});sde.displayName=hot;var pot="MenubarRadioGroup",mot=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(qU,{...i,...r,ref:e})});mot.displayName=pot;var got="MenubarRadioItem",ode=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(KU,{...i,...r,ref:e})});ode.displayName=got;var vot="MenubarItemIndicator",ade=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(XU,{...i,...r,ref:e})});ade.displayName=vot;var yot="MenubarSeparator",lde=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(YU,{...i,...r,ref:e})});lde.displayName=yot;var xot="MenubarArrow",_ot=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(ZU,{...i,...r,ref:e})});_ot.displayName=xot;var bot="MenubarSubTrigger",cde=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(QU,{"data-radix-menubar-subtrigger":"",...i,...r,ref:e})});cde.displayName=bot;var wot="MenubarSubContent",ude=M.forwardRef((t,e)=>{const{__scopeMenubar:n,...r}=t,i=eo(n);return u.jsx(JU,{...i,"data-radix-menubar-content":"",...r,ref:e,style:{...t.style,"--radix-menubar-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-menubar-content-available-width":"var(--radix-popper-available-width)","--radix-menubar-content-available-height":"var(--radix-popper-available-height)","--radix-menubar-trigger-width":"var(--radix-popper-anchor-width)","--radix-menubar-trigger-height":"var(--radix-popper-anchor-height)"}})});ude.displayName=wot;function Sot(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var dde=Que,fde=ede,Cot=tde,hde=nde,pde=rde,mde=ide,gde=sde,vde=ode,yde=ade,xde=lde,_de=cde,bde=ude;const Eot=M.forwardRef(({className:t,...e},n)=>u.jsx(dde,{ref:n,className:we("flex h-10 items-center space-x-1 rounded-md border bg-background p-1",t),...e}));Eot.displayName=dde.displayName;const Mot=M.forwardRef(({className:t,...e},n)=>u.jsx(fde,{ref:n,className:we("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t),...e}));Mot.displayName=fde.displayName;const Aot=M.forwardRef(({className:t,inset:e,children:n,...r},i)=>u.jsxs(_de,{ref:i,className:we("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e&&"pl-8",t),...r,children:[n,u.jsx(Oy,{className:"ml-auto h-4 w-4"})]}));Aot.displayName=_de.displayName;const Tot=M.forwardRef(({className:t,...e},n)=>u.jsx(bde,{ref:n,className:we("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...e}));Tot.displayName=bde.displayName;const Pot=M.forwardRef(({className:t,align:e="start",alignOffset:n=-4,sideOffset:r=8,...i},s)=>u.jsx(Cot,{children:u.jsx(hde,{ref:s,align:e,alignOffset:n,sideOffset:r,className:we("z-50 min-w-[12rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-menubar-content-transform-origin]",t),...i})}));Pot.displayName=hde.displayName;const Not=M.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(mde,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Not.displayName=mde.displayName;const Rot=M.forwardRef(({className:t,children:e,checked:n,...r},i)=>u.jsxs(gde,{ref:i,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(yde,{children:u.jsx(Tw,{className:"h-4 w-4"})})}),e]}));Rot.displayName=gde.displayName;const kot=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(vde,{ref:r,className:we("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(yde,{children:u.jsx(RP,{className:"h-2 w-2 fill-current"})})}),e]}));kot.displayName=vde.displayName;const Oot=M.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(pde,{ref:r,className:we("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Oot.displayName=pde.displayName;const Iot=M.forwardRef(({className:t,...e},n)=>u.jsx(xde,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));Iot.displayName=xde.displayName;var jot="VisuallyHidden",l1=M.forwardRef((t,e)=>u.jsx(Ze.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));l1.displayName=jot;var wde=l1,ox="NavigationMenu",[s$,Sde,Dot]=Mu(ox),[J3,Lot,Fot]=Mu(ox),[o$,SAt]=nr(ox,[Dot,Fot]),[Bot,ya]=o$(ox),[Uot,$ot]=o$(ox),Cde=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,delayDuration:o=200,skipDelayDuration:a=300,orientation:l="horizontal",dir:c,...f}=t,[d,h]=M.useState(null),g=Nt(e,P=>h(P)),v=fl(c),x=M.useRef(0),m=M.useRef(0),p=M.useRef(0),[y,_]=M.useState(!0),[b="",w]=$r({prop:r,onChange:P=>{const N=P!=="",O=a>0;N?(window.clearTimeout(p.current),O&&_(!1)):(window.clearTimeout(p.current),p.current=window.setTimeout(()=>_(!0),a)),i==null||i(P)},defaultProp:s}),E=M.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>w(""),150)},[w]),A=M.useCallback(P=>{window.clearTimeout(m.current),w(P)},[w]),T=M.useCallback(P=>{b===P?window.clearTimeout(m.current):x.current=window.setTimeout(()=>{window.clearTimeout(m.current),w(P)},o)},[b,w,o]);return M.useEffect(()=>()=>{window.clearTimeout(x.current),window.clearTimeout(m.current),window.clearTimeout(p.current)},[]),u.jsx(Mde,{scope:n,isRootMenu:!0,value:b,dir:v,orientation:l,rootNavigationMenu:d,onTriggerEnter:P=>{window.clearTimeout(x.current),y?T(P):A(P)},onTriggerLeave:()=>{window.clearTimeout(x.current),E()},onContentEnter:()=>window.clearTimeout(m.current),onContentLeave:E,onItemSelect:P=>{w(N=>N===P?"":P)},onItemDismiss:()=>w(""),children:u.jsx(Ze.nav,{"aria-label":"Main","data-orientation":l,dir:v,...f,ref:g})})});Cde.displayName=ox;var Ede="NavigationMenuSub",zot=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",...a}=t,l=ya(Ede,n),[c="",f]=$r({prop:r,onChange:i,defaultProp:s});return u.jsx(Mde,{scope:n,isRootMenu:!1,value:c,dir:l.dir,orientation:o,rootNavigationMenu:l.rootNavigationMenu,onTriggerEnter:d=>f(d),onItemSelect:d=>f(d),onItemDismiss:()=>f(""),children:u.jsx(Ze.div,{"data-orientation":o,...a,ref:e})})});zot.displayName=Ede;var Mde=t=>{const{scope:e,isRootMenu:n,rootNavigationMenu:r,dir:i,orientation:s,children:o,value:a,onItemSelect:l,onItemDismiss:c,onTriggerEnter:f,onTriggerLeave:d,onContentEnter:h,onContentLeave:g}=t,[v,x]=M.useState(null),[m,p]=M.useState(new Map),[y,_]=M.useState(null);return u.jsx(Bot,{scope:e,isRootMenu:n,rootNavigationMenu:r,value:a,previousValue:Zy(a),baseId:Br(),dir:i,orientation:s,viewport:v,onViewportChange:x,indicatorTrack:y,onIndicatorTrackChange:_,onTriggerEnter:Ln(f),onTriggerLeave:Ln(d),onContentEnter:Ln(h),onContentLeave:Ln(g),onItemSelect:Ln(l),onItemDismiss:Ln(c),onViewportContentChange:M.useCallback((b,w)=>{p(E=>(E.set(b,w),new Map(E)))},[]),onViewportContentRemove:M.useCallback(b=>{p(w=>w.has(b)?(w.delete(b),new Map(w)):w)},[]),children:u.jsx(s$.Provider,{scope:e,children:u.jsx(Uot,{scope:e,items:m,children:o})})})},Ade="NavigationMenuList",Tde=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=ya(Ade,n),s=u.jsx(Ze.ul,{"data-orientation":i.orientation,...r,ref:e});return u.jsx(Ze.div,{style:{position:"relative"},ref:i.onIndicatorTrackChange,children:u.jsx(s$.Slot,{scope:n,children:i.isRootMenu?u.jsx(Dde,{asChild:!0,children:s}):s})})});Tde.displayName=Ade;var Pde="NavigationMenuItem",[Hot,Nde]=o$(Pde),Vot=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,...i}=t,s=Br(),o=r||s||"LEGACY_REACT_AUTO_VALUE",a=M.useRef(null),l=M.useRef(null),c=M.useRef(null),f=M.useRef(()=>{}),d=M.useRef(!1),h=M.useCallback((v="start")=>{if(a.current){f.current();const x=tF(a.current);x.length&&c$(v==="start"?x:x.reverse())}},[]),g=M.useCallback(()=>{if(a.current){const v=tF(a.current);v.length&&(f.current=Qot(v))}},[]);return u.jsx(Hot,{scope:n,value:o,triggerRef:l,contentRef:a,focusProxyRef:c,wasEscapeCloseRef:d,onEntryKeyDown:h,onFocusProxyEnter:h,onRootContentClose:g,onContentFocusOutside:g,children:u.jsx(Ze.li,{...i,ref:e})})});Vot.displayName=Pde;var eF="NavigationMenuTrigger",Rde=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,disabled:r,...i}=t,s=ya(eF,t.__scopeNavigationMenu),o=Nde(eF,t.__scopeNavigationMenu),a=M.useRef(null),l=Nt(a,o.triggerRef,e),c=Fde(s.baseId,o.value),f=Bde(s.baseId,o.value),d=M.useRef(!1),h=M.useRef(!1),g=o.value===s.value;return u.jsxs(u.Fragment,{children:[u.jsx(s$.ItemSlot,{scope:n,value:o.value,children:u.jsx(Lde,{asChild:!0,children:u.jsx(Ze.button,{id:c,disabled:r,"data-disabled":r?"":void 0,"data-state":u$(g),"aria-expanded":g,"aria-controls":f,...i,ref:l,onPointerEnter:Ie(t.onPointerEnter,()=>{h.current=!1,o.wasEscapeCloseRef.current=!1}),onPointerMove:Ie(t.onPointerMove,iT(()=>{r||h.current||o.wasEscapeCloseRef.current||d.current||(s.onTriggerEnter(o.value),d.current=!0)})),onPointerLeave:Ie(t.onPointerLeave,iT(()=>{r||(s.onTriggerLeave(),d.current=!1)})),onClick:Ie(t.onClick,()=>{s.onItemSelect(o.value),h.current=g}),onKeyDown:Ie(t.onKeyDown,v=>{const m={horizontal:"ArrowDown",vertical:s.dir==="rtl"?"ArrowLeft":"ArrowRight"}[s.orientation];g&&v.key===m&&(o.onEntryKeyDown(),v.preventDefault())})})})}),g&&u.jsxs(u.Fragment,{children:[u.jsx(wde,{"aria-hidden":!0,tabIndex:0,ref:o.focusProxyRef,onFocus:v=>{const x=o.contentRef.current,m=v.relatedTarget,p=m===a.current,y=x==null?void 0:x.contains(m);(p||!y)&&o.onFocusProxyEnter(p?"start":"end")}}),s.viewport&&u.jsx("span",{"aria-owns":f})]})]})});Rde.displayName=eF;var Wot="NavigationMenuLink",mK="navigationMenu.linkSelect",Got=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,active:r,onSelect:i,...s}=t;return u.jsx(Lde,{asChild:!0,children:u.jsx(Ze.a,{"data-active":r?"":void 0,"aria-current":r?"page":void 0,...s,ref:e,onClick:Ie(t.onClick,o=>{const a=o.target,l=new CustomEvent(mK,{bubbles:!0,cancelable:!0});if(a.addEventListener(mK,c=>i==null?void 0:i(c),{once:!0}),q_(a,l),!l.defaultPrevented&&!o.metaKey){const c=new CustomEvent(HE,{bubbles:!0,cancelable:!0});q_(a,c)}},{checkForDefaultPrevented:!1})})})});Got.displayName=Wot;var a$="NavigationMenuIndicator",kde=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ya(a$,t.__scopeNavigationMenu),s=!!i.value;return i.indicatorTrack?ree.createPortal(u.jsx(gr,{present:n||s,children:u.jsx(qot,{...r,ref:e})}),i.indicatorTrack):null});kde.displayName=a$;var qot=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=ya(a$,n),s=Sde(n),[o,a]=M.useState(null),[l,c]=M.useState(null),f=i.orientation==="horizontal",d=!!i.value;M.useEffect(()=>{var x;const v=(x=s().find(m=>m.value===i.value))==null?void 0:x.ref.current;v&&a(v)},[s,i.value]);const h=()=>{o&&c({size:f?o.offsetWidth:o.offsetHeight,offset:f?o.offsetLeft:o.offsetTop})};return nF(o,h),nF(i.indicatorTrack,h),l?u.jsx(Ze.div,{"aria-hidden":!0,"data-state":d?"visible":"hidden","data-orientation":i.orientation,...r,ref:e,style:{position:"absolute",...f?{left:0,width:l.size+"px",transform:`translateX(${l.offset}px)`}:{top:0,height:l.size+"px",transform:`translateY(${l.offset}px)`},...r.style}}):null}),sy="NavigationMenuContent",Ode=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=ya(sy,t.__scopeNavigationMenu),s=Nde(sy,t.__scopeNavigationMenu),o=Nt(s.contentRef,e),a=s.value===i.value,l={value:s.value,triggerRef:s.triggerRef,focusProxyRef:s.focusProxyRef,wasEscapeCloseRef:s.wasEscapeCloseRef,onContentFocusOutside:s.onContentFocusOutside,onRootContentClose:s.onRootContentClose,...r};return i.viewport?u.jsx(Kot,{forceMount:n,...l,ref:o}):u.jsx(gr,{present:n||a,children:u.jsx(Ide,{"data-state":u$(a),...l,ref:o,onPointerEnter:Ie(t.onPointerEnter,i.onContentEnter),onPointerLeave:Ie(t.onPointerLeave,iT(i.onContentLeave)),style:{pointerEvents:!a&&i.isRootMenu?"none":void 0,...l.style}})})});Ode.displayName=sy;var Kot=M.forwardRef((t,e)=>{const n=ya(sy,t.__scopeNavigationMenu),{onViewportContentChange:r,onViewportContentRemove:i}=n;return _r(()=>{r(t.value,{ref:e,...t})},[t,e,r]),_r(()=>()=>i(t.value),[t.value,i]),null}),HE="navigationMenu.rootContentDismiss",Ide=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,value:r,triggerRef:i,focusProxyRef:s,wasEscapeCloseRef:o,onRootContentClose:a,onContentFocusOutside:l,...c}=t,f=ya(sy,n),d=M.useRef(null),h=Nt(d,e),g=Fde(f.baseId,r),v=Bde(f.baseId,r),x=Sde(n),m=M.useRef(null),{onItemDismiss:p}=f;M.useEffect(()=>{const _=d.current;if(f.isRootMenu&&_){const b=()=>{var w;p(),a(),_.contains(document.activeElement)&&((w=i.current)==null||w.focus())};return _.addEventListener(HE,b),()=>_.removeEventListener(HE,b)}},[f.isRootMenu,t.value,i,p,a]);const y=M.useMemo(()=>{const b=x().map(N=>N.value);f.dir==="rtl"&&b.reverse();const w=b.indexOf(f.value),E=b.indexOf(f.previousValue),A=r===f.value,T=E===b.indexOf(r);if(!A&&!T)return m.current;const P=(()=>{if(w!==E){if(A&&E!==-1)return w>E?"from-end":"from-start";if(T&&w!==-1)return w>E?"to-start":"to-end"}return null})();return m.current=P,P},[f.previousValue,f.value,f.dir,x,r]);return u.jsx(Dde,{asChild:!0,children:u.jsx(Tu,{id:v,"aria-labelledby":g,"data-motion":y,"data-orientation":f.orientation,...c,ref:h,disableOutsidePointerEvents:!1,onDismiss:()=>{var b;const _=new Event(HE,{bubbles:!0,cancelable:!0});(b=d.current)==null||b.dispatchEvent(_)},onFocusOutside:Ie(t.onFocusOutside,_=>{var w;l();const b=_.target;(w=f.rootNavigationMenu)!=null&&w.contains(b)&&_.preventDefault()}),onPointerDownOutside:Ie(t.onPointerDownOutside,_=>{var A;const b=_.target,w=x().some(T=>{var P;return(P=T.ref.current)==null?void 0:P.contains(b)}),E=f.isRootMenu&&((A=f.viewport)==null?void 0:A.contains(b));(w||E||!f.isRootMenu)&&_.preventDefault()}),onKeyDown:Ie(t.onKeyDown,_=>{var E;const b=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!b){const A=tF(_.currentTarget),T=document.activeElement,P=A.findIndex(I=>I===T),O=_.shiftKey?A.slice(0,P).reverse():A.slice(P+1,A.length);c$(O)?_.preventDefault():(E=s.current)==null||E.focus()}}),onEscapeKeyDown:Ie(t.onEscapeKeyDown,_=>{o.current=!0})})})}),l$="NavigationMenuViewport",jde=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=!!ya(l$,t.__scopeNavigationMenu).value;return u.jsx(gr,{present:n||s,children:u.jsx(Xot,{...r,ref:e})})});jde.displayName=l$;var Xot=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,children:r,...i}=t,s=ya(l$,n),o=Nt(e,s.onViewportChange),a=$ot(sy,t.__scopeNavigationMenu),[l,c]=M.useState(null),[f,d]=M.useState(null),h=l?(l==null?void 0:l.width)+"px":void 0,g=l?(l==null?void 0:l.height)+"px":void 0,v=!!s.value,x=v?s.value:s.previousValue;return nF(f,()=>{f&&c({width:f.offsetWidth,height:f.offsetHeight})}),u.jsx(Ze.div,{"data-state":u$(v),"data-orientation":s.orientation,...i,ref:o,style:{pointerEvents:!v&&s.isRootMenu?"none":void 0,"--radix-navigation-menu-viewport-width":h,"--radix-navigation-menu-viewport-height":g,...i.style},onPointerEnter:Ie(t.onPointerEnter,s.onContentEnter),onPointerLeave:Ie(t.onPointerLeave,iT(s.onContentLeave)),children:Array.from(a.items).map(([p,{ref:y,forceMount:_,...b}])=>{const w=x===p;return u.jsx(gr,{present:_||w,children:u.jsx(Ide,{...b,ref:ec(y,E=>{w&&E&&d(E)})})},p)})})}),Yot="FocusGroup",Dde=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=ya(Yot,n);return u.jsx(J3.Provider,{scope:n,children:u.jsx(J3.Slot,{scope:n,children:u.jsx(Ze.div,{dir:i.dir,...r,ref:e})})})}),gK=["ArrowRight","ArrowLeft","ArrowUp","ArrowDown"],Zot="FocusGroupItem",Lde=M.forwardRef((t,e)=>{const{__scopeNavigationMenu:n,...r}=t,i=Lot(n),s=ya(Zot,n);return u.jsx(J3.ItemSlot,{scope:n,children:u.jsx(Ze.button,{...r,ref:e,onKeyDown:Ie(t.onKeyDown,o=>{if(["Home","End",...gK].includes(o.key)){let l=i().map(d=>d.ref.current);if([s.dir==="rtl"?"ArrowRight":"ArrowLeft","ArrowUp","End"].includes(o.key)&&l.reverse(),gK.includes(o.key)){const d=l.indexOf(o.currentTarget);l=l.slice(d+1)}setTimeout(()=>c$(l)),o.preventDefault()}})})})});function tF(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function c$(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}function Qot(t){return t.forEach(e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}),()=>{t.forEach(e=>{const n=e.dataset.tabindex;e.setAttribute("tabindex",n)})}}function nF(t,e){const n=Ln(e);_r(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function u$(t){return t?"open":"closed"}function Fde(t,e){return`${t}-trigger-${e}`}function Bde(t,e){return`${t}-content-${e}`}function iT(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Ude=Cde,$de=Tde,zde=Rde,Hde=kde,Vde=Ode,Wde=jde;const Jot=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Ude,{ref:r,className:we("relative z-10 flex max-w-max flex-1 items-center justify-center",t),...n,children:[e,u.jsx(Gde,{})]}));Jot.displayName=Ude.displayName;const eat=M.forwardRef(({className:t,...e},n)=>u.jsx($de,{ref:n,className:we("group flex flex-1 list-none items-center justify-center space-x-1",t),...e}));eat.displayName=$de.displayName;const tat=Pu("group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[state=open]:text-accent-foreground data-[state=open]:bg-accent/50 data-[state=open]:hover:bg-accent data-[state=open]:focus:bg-accent"),nat=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(zde,{ref:r,className:we(tat(),"group",t),...n,children:[e," ",u.jsx(ky,{className:"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180","aria-hidden":"true"})]}));nat.displayName=zde.displayName;const rat=M.forwardRef(({className:t,...e},n)=>u.jsx(Vde,{ref:n,className:we("left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto ",t),...e}));rat.displayName=Vde.displayName;const Gde=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:we("absolute left-0 top-full flex justify-center"),children:u.jsx(Wde,{className:we("origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]",t),ref:n,...e})}));Gde.displayName=Wde.displayName;const iat=M.forwardRef(({className:t,...e},n)=>u.jsx(Hde,{ref:n,className:we("top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in",t),...e,children:u.jsx("div",{className:"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md"})}));iat.displayName=Hde.displayName;const sat=M.forwardRef(({className:t,...e},n)=>u.jsx("ul",{ref:n,className:we("flex flex-row items-center gap-1",t),...e}));sat.displayName="PaginationContent";const oat=M.forwardRef(({className:t,...e},n)=>u.jsx("li",{ref:n,className:we("",t),...e}));oat.displayName="PaginationItem";var d$="Popover",[qde,CAt]=nr(d$,[dc]),c1=dc(),[aat,xf]=qde(d$),Kde=t=>{const{__scopePopover:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!1}=t,a=c1(e),l=M.useRef(null),[c,f]=M.useState(!1),[d=!1,h]=$r({prop:r,defaultProp:i,onChange:s});return u.jsx(V2,{...a,children:u.jsx(aat,{scope:e,contentId:Br(),triggerRef:l,open:d,onOpenChange:h,onOpenToggle:M.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:M.useCallback(()=>f(!0),[]),onCustomAnchorRemove:M.useCallback(()=>f(!1),[]),modal:o,children:n})})};Kde.displayName=d$;var Xde="PopoverAnchor",lat=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=xf(Xde,n),s=c1(n),{onCustomAnchorAdd:o,onCustomAnchorRemove:a}=i;return M.useEffect(()=>(o(),()=>a()),[o,a]),u.jsx(ex,{...s,...r,ref:e})});lat.displayName=Xde;var Yde="PopoverTrigger",Zde=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=xf(Yde,n),s=c1(n),o=Nt(e,i.triggerRef),a=u.jsx(Ze.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":nfe(i.open),...r,ref:o,onClick:Ie(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?a:u.jsx(ex,{asChild:!0,...s,children:a})});Zde.displayName=Yde;var f$="PopoverPortal",[cat,uat]=qde(f$,{forceMount:void 0}),Qde=t=>{const{__scopePopover:e,forceMount:n,children:r,container:i}=t,s=xf(f$,e);return u.jsx(cat,{scope:e,forceMount:n,children:u.jsx(gr,{present:n||s.open,children:u.jsx(jy,{asChild:!0,container:i,children:r})})})};Qde.displayName=f$;var oy="PopoverContent",Jde=M.forwardRef((t,e)=>{const n=uat(oy,t.__scopePopover),{forceMount:r=n.forceMount,...i}=t,s=xf(oy,t.__scopePopover);return u.jsx(gr,{present:r||s.open,children:s.modal?u.jsx(fat,{...i,ref:e}):u.jsx(hat,{...i,ref:e})})});Jde.displayName=oy;var dat=Zd("PopoverContent.RemoveScroll"),fat=M.forwardRef((t,e)=>{const n=xf(oy,t.__scopePopover),r=M.useRef(null),i=Nt(e,r),s=M.useRef(!1);return M.useEffect(()=>{const o=r.current;if(o)return LP(o)},[]),u.jsx(Rw,{as:dat,allowPinchZoom:!0,children:u.jsx(efe,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(t.onCloseAutoFocus,o=>{var a;o.preventDefault(),s.current||(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Ie(t.onPointerDownOutside,o=>{const a=o.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0,c=a.button===2||l;s.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:Ie(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),hat=M.forwardRef((t,e)=>{const n=xf(oy,t.__scopePopover),r=M.useRef(!1),i=M.useRef(!1);return u.jsx(efe,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),efe=M.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onInteractOutside:f,...d}=t,h=xf(oy,n),g=c1(n);return jP(),u.jsx(Nw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:u.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:u.jsx(t1,{"data-state":nfe(h.open),role:"dialog",id:h.contentId,...g,...d,ref:e,style:{...d.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),tfe="PopoverClose",pat=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=xf(tfe,n);return u.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Ie(t.onClick,()=>i.onOpenChange(!1))})});pat.displayName=tfe;var mat="PopoverArrow",gat=M.forwardRef((t,e)=>{const{__scopePopover:n,...r}=t,i=c1(n);return u.jsx(n1,{...i,...r,ref:e})});gat.displayName=mat;function nfe(t){return t?"open":"closed"}var vat=Kde,yat=Zde,xat=Qde,rfe=Jde;const _at=vat,bat=yat,ife=M.forwardRef(({className:t,align:e="center",sideOffset:n=4,...r},i)=>u.jsx(xat,{children:u.jsx(rfe,{ref:i,align:e,sideOffset:n,className:we("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...r})}));ife.displayName=rfe.displayName;var h$="Progress",p$=100,[wat,EAt]=nr(h$),[Sat,Cat]=wat(h$),sfe=M.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Eat,...o}=t;(i||i===0)&&!vK(i)&&console.error(Mat(`${i}`,"Progress"));const a=vK(i)?i:p$;r!==null&&!yK(r,a)&&console.error(Aat(`${r}`,"Progress"));const l=yK(r,a)?r:null,c=sT(l)?s(l,a):void 0;return u.jsx(Sat,{scope:n,value:l,max:a,children:u.jsx(Ze.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":sT(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":lfe(l,a),"data-value":l??void 0,"data-max":a,...o,ref:e})})});sfe.displayName=h$;var ofe="ProgressIndicator",afe=M.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=Cat(ofe,n);return u.jsx(Ze.div,{"data-state":lfe(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});afe.displayName=ofe;function Eat(t,e){return`${Math.round(t/e*100)}%`}function lfe(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function sT(t){return typeof t=="number"}function vK(t){return sT(t)&&!isNaN(t)&&t>0}function yK(t,e){return sT(t)&&!isNaN(t)&&t<=e&&t>=0}function Mat(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${p$}\`.`}function Aat(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${p$} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var cfe=sfe,Tat=afe;const m$=M.forwardRef(({className:t,value:e,...n},r)=>u.jsx(cfe,{ref:r,className:we("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:u.jsx(Tat,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));m$.displayName=cfe.displayName;var g$="Radio",[Pat,ufe]=nr(g$),[Nat,Rat]=Pat(g$),dfe=M.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...f}=t,[d,h]=M.useState(null),g=Nt(e,m=>h(m)),v=M.useRef(!1),x=d?c||!!d.closest("form"):!0;return u.jsxs(Nat,{scope:n,checked:i,disabled:o,children:[u.jsx(Ze.button,{type:"button",role:"radio","aria-checked":i,"data-state":pfe(i),"data-disabled":o?"":void 0,disabled:o,value:a,...f,ref:g,onClick:Ie(t.onClick,m=>{i||l==null||l(),x&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})}),x&&u.jsx(kat,{control:d,bubbles:!v.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});dfe.displayName=g$;var ffe="RadioIndicator",hfe=M.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=Rat(ffe,n);return u.jsx(gr,{present:r||s.checked,children:u.jsx(Ze.span,{"data-state":pfe(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});hfe.displayName=ffe;var kat=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=M.useRef(null),o=Zy(n),a=Qw(e);return M.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[o,n,r]),u.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function pfe(t){return t?"checked":"unchecked"}var Oat=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v$="RadioGroup",[Iat,MAt]=nr(v$,[fc,ufe]),mfe=fc(),gfe=ufe(),[jat,Dat]=Iat(v$),vfe=M.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:f=!0,onValueChange:d,...h}=t,g=mfe(n),v=fl(c),[x,m]=$r({prop:s,defaultProp:i,onChange:d});return u.jsx(jat,{scope:n,name:r,required:o,disabled:a,value:x,onValueChange:m,children:u.jsx(r1,{asChild:!0,...g,orientation:l,dir:v,loop:f,children:u.jsx(Ze.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:v,...h,ref:e})})})});vfe.displayName=v$;var yfe="RadioGroupItem",xfe=M.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=Dat(yfe,n),o=s.disabled||r,a=mfe(n),l=gfe(n),c=M.useRef(null),f=Nt(e,c),d=s.value===i.value,h=M.useRef(!1);return M.useEffect(()=>{const g=x=>{Oat.includes(x.key)&&(h.current=!0)},v=()=>h.current=!1;return document.addEventListener("keydown",g),document.addEventListener("keyup",v),()=>{document.removeEventListener("keydown",g),document.removeEventListener("keyup",v)}},[]),u.jsx(i1,{asChild:!0,...a,focusable:!o,active:d,children:u.jsx(dfe,{disabled:o,required:s.required,checked:d,...l,...i,name:s.name,ref:f,onCheck:()=>s.onValueChange(i.value),onKeyDown:Ie(g=>{g.key==="Enter"&&g.preventDefault()}),onFocus:Ie(i.onFocus,()=>{var g;h.current&&((g=c.current)==null||g.click())})})})});xfe.displayName=yfe;var Lat="RadioGroupIndicator",_fe=M.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=gfe(n);return u.jsx(hfe,{...i,...r,ref:e})});_fe.displayName=Lat;var bfe=vfe,wfe=xfe,Fat=_fe;const Bat=M.forwardRef(({className:t,...e},n)=>u.jsx(bfe,{className:we("grid gap-2",t),...e,ref:n}));Bat.displayName=bfe.displayName;const Uat=M.forwardRef(({className:t,...e},n)=>u.jsx(wfe,{ref:n,className:we("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:u.jsx(Fat,{className:"flex items-center justify-center",children:u.jsx(RP,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Uat.displayName=wfe.displayName;const{createElement:ay,createContext:$at,createRef:AAt,forwardRef:Sfe,useCallback:Is,useContext:Cfe,useEffect:qh,useImperativeHandle:Efe,useLayoutEffect:zat,useMemo:Hat,useRef:Fs,useState:Jg}=dP,xK=dP[`useId${Math.random()}`.slice(0,5)],Vat=zat,Z2=$at(null);Z2.displayName="PanelGroupContext";const Kh=Vat,Wat=typeof xK=="function"?xK:()=>null;let Gat=0;function y$(t=null){const e=Wat(),n=Fs(t||e||null);return n.current===null&&(n.current=""+Gat++),t??n.current}function Mfe({children:t,className:e="",collapsedSize:n,collapsible:r,defaultSize:i,forwardedRef:s,id:o,maxSize:a,minSize:l,onCollapse:c,onExpand:f,onResize:d,order:h,style:g,tagName:v="div",...x}){const m=Cfe(Z2);if(m===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:p,expandPanel:y,getPanelSize:_,getPanelStyle:b,groupId:w,isPanelCollapsed:E,reevaluatePanelConstraints:A,registerPanel:T,resizePanel:P,unregisterPanel:N}=m,O=y$(o),I=Fs({callbacks:{onCollapse:c,onExpand:f,onResize:d},constraints:{collapsedSize:n,collapsible:r,defaultSize:i,maxSize:a,minSize:l},id:O,idIsFromProps:o!==void 0,order:h});Fs({didLogMissingDefaultSizeWarning:!1}),Kh(()=>{const{callbacks:F,constraints:$}=I.current,z={...$};I.current.id=O,I.current.idIsFromProps=o!==void 0,I.current.order=h,F.onCollapse=c,F.onExpand=f,F.onResize=d,$.collapsedSize=n,$.collapsible=r,$.defaultSize=i,$.maxSize=a,$.minSize=l,(z.collapsedSize!==$.collapsedSize||z.collapsible!==$.collapsible||z.maxSize!==$.maxSize||z.minSize!==$.minSize)&&A(I.current,z)}),Kh(()=>{const F=I.current;return T(F),()=>{N(F)}},[h,O,T,N]),Efe(s,()=>({collapse:()=>{p(I.current)},expand:F=>{y(I.current,F)},getId(){return O},getSize(){return _(I.current)},isCollapsed(){return E(I.current)},isExpanded(){return!E(I.current)},resize:F=>{P(I.current,F)}}),[p,y,_,E,O,P]);const D=b(I.current,i);return ay(v,{...x,children:t,className:e,id:o,style:{...D,...g},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":w,"data-panel-id":O,"data-panel-size":parseFloat(""+D.flexGrow).toFixed(1)})}const tg=Sfe((t,e)=>ay(Mfe,{...t,forwardedRef:e}));Mfe.displayName="Panel";tg.displayName="forwardRef(Panel)";let rF=null,Th=null;function qat(t,e){if(e){const n=(e&Rfe)!==0,r=(e&kfe)!==0,i=(e&Ofe)!==0,s=(e&Ife)!==0;if(n)return i?"se-resize":s?"ne-resize":"e-resize";if(r)return i?"sw-resize":s?"nw-resize":"w-resize";if(i)return"s-resize";if(s)return"n-resize"}switch(t){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function Kat(){Th!==null&&(document.head.removeChild(Th),rF=null,Th=null)}function nI(t,e){const n=qat(t,e);rF!==n&&(rF=n,Th===null&&(Th=document.createElement("style"),document.head.appendChild(Th)),Th.innerHTML=`*{cursor: ${n}!important;}`)}function Afe(t){return t.type==="keydown"}function Tfe(t){return t.type.startsWith("pointer")}function Pfe(t){return t.type.startsWith("mouse")}function Q2(t){if(Tfe(t)){if(t.isPrimary)return{x:t.clientX,y:t.clientY}}else if(Pfe(t))return{x:t.clientX,y:t.clientY};return{x:1/0,y:1/0}}function Xat(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function Yat(t,e,n){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.y+t.height>e.y}function Zat(t,e){if(t===e)throw new Error("Cannot compare node with itself");const n={a:wK(t),b:wK(e)};let r;for(;n.a.at(-1)===n.b.at(-1);)t=n.a.pop(),e=n.b.pop(),r=t;pn(r,"Stacking order can only be calculated for elements with a common ancestor");const i={a:bK(_K(n.a)),b:bK(_K(n.b))};if(i.a===i.b){const s=r.childNodes,o={a:n.a.at(-1),b:n.b.at(-1)};let a=s.length;for(;a--;){const l=s[a];if(l===o.a)return 1;if(l===o.b)return-1}}return Math.sign(i.a-i.b)}const Qat=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Jat(t){var e;const n=getComputedStyle((e=Nfe(t))!==null&&e!==void 0?e:t).display;return n==="flex"||n==="inline-flex"}function elt(t){const e=getComputedStyle(t);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||Jat(t))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||Qat.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function _K(t){let e=t.length;for(;e--;){const n=t[e];if(pn(n,"Missing node"),elt(n))return n}return null}function bK(t){return t&&Number(getComputedStyle(t).zIndex)||0}function wK(t){const e=[];for(;t;)e.push(t),t=Nfe(t);return e}function Nfe(t){const{parentNode:e}=t;return e&&e instanceof ShadowRoot?e.host:e}const Rfe=1,kfe=2,Ofe=4,Ife=8,tlt=Xat()==="coarse";let il=[],ev=!1,vd=new Map,J2=new Map;const Hb=new Set;function nlt(t,e,n,r,i){var s;const{ownerDocument:o}=e,a={direction:n,element:e,hitAreaMargins:r,setResizeHandlerState:i},l=(s=vd.get(o))!==null&&s!==void 0?s:0;return vd.set(o,l+1),Hb.add(a),oT(),function(){var f;J2.delete(t),Hb.delete(a);const d=(f=vd.get(o))!==null&&f!==void 0?f:1;if(vd.set(o,d-1),oT(),d===1&&vd.delete(o),il.includes(a)){const h=il.indexOf(a);h>=0&&il.splice(h,1),_$(),i("up",!0,null)}}}function SK(t){const{target:e}=t,{x:n,y:r}=Q2(t);ev=!0,x$({target:e,x:n,y:r}),oT(),il.length>0&&(aT("down",t),t.preventDefault(),t.stopPropagation())}function d0(t){const{x:e,y:n}=Q2(t);if(ev&&t.buttons===0&&(ev=!1,aT("up",t)),!ev){const{target:r}=t;x$({target:r,x:e,y:n})}aT("move",t),_$(),il.length>0&&t.preventDefault()}function Am(t){const{target:e}=t,{x:n,y:r}=Q2(t);J2.clear(),ev=!1,il.length>0&&t.preventDefault(),aT("up",t),x$({target:e,x:n,y:r}),_$(),oT()}function x$({target:t,x:e,y:n}){il.splice(0);let r=null;(t instanceof HTMLElement||t instanceof SVGElement)&&(r=t),Hb.forEach(i=>{const{element:s,hitAreaMargins:o}=i,a=s.getBoundingClientRect(),{bottom:l,left:c,right:f,top:d}=a,h=tlt?o.coarse:o.fine;if(e>=c-h&&e<=f+h&&n>=d-h&&n<=l+h){if(r!==null&&document.contains(r)&&s!==r&&!s.contains(r)&&!r.contains(s)&&Zat(r,s)>0){let v=r,x=!1;for(;v&&!v.contains(s);){if(Yat(v.getBoundingClientRect(),a)){x=!0;break}v=v.parentElement}if(x)return}il.push(i)}})}function rI(t,e){J2.set(t,e)}function _$(){let t=!1,e=!1;il.forEach(r=>{const{direction:i}=r;i==="horizontal"?t=!0:e=!0});let n=0;J2.forEach(r=>{n|=r}),t&&e?nI("intersection",n):t?nI("horizontal",n):e?nI("vertical",n):Kat()}function oT(){vd.forEach((t,e)=>{const{body:n}=e;n.removeEventListener("contextmenu",Am),n.removeEventListener("pointerdown",SK),n.removeEventListener("pointerleave",d0),n.removeEventListener("pointermove",d0)}),window.removeEventListener("pointerup",Am),window.removeEventListener("pointercancel",Am),Hb.size>0&&(ev?(il.length>0&&vd.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("contextmenu",Am),n.addEventListener("pointerleave",d0),n.addEventListener("pointermove",d0))}),window.addEventListener("pointerup",Am),window.addEventListener("pointercancel",Am)):vd.forEach((t,e)=>{const{body:n}=e;t>0&&(n.addEventListener("pointerdown",SK,{capture:!0}),n.addEventListener("pointermove",d0))}))}function aT(t,e){Hb.forEach(n=>{const{setResizeHandlerState:r}=n,i=il.includes(n);r(t,i,e)})}function rlt(){const[t,e]=Jg(0);return Is(()=>e(n=>n+1),[])}function pn(t,e){if(!t)throw console.error(e),Error(e)}const b$=10;function Sp(t,e,n=b$){return t.toFixed(n)===e.toFixed(n)?0:t>e?1:-1}function $c(t,e,n=b$){return Sp(t,e,n)===0}function mo(t,e,n){return Sp(t,e,n)===0}function ilt(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){const i=t[r],s=e[r];if(!mo(i,s,n))return!1}return!0}function Ag({panelConstraints:t,panelIndex:e,size:n}){const r=t[e];pn(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:i=0,collapsible:s,maxSize:o=100,minSize:a=0}=r;if(Sp(n,a)<0)if(s){const l=(i+a)/2;Sp(n,l)<0?n=i:n=a}else n=a;return n=Math.min(o,n),n=parseFloat(n.toFixed(b$)),n}function $0({delta:t,initialLayout:e,panelConstraints:n,pivotIndices:r,prevLayout:i,trigger:s}){if(mo(t,0))return e;const o=[...e],[a,l]=r;pn(a!=null,"Invalid first pivot index"),pn(l!=null,"Invalid second pivot index");let c=0;if(s==="keyboard"){{const d=t<0?l:a,h=n[d];pn(h,`Panel constraints not found for index ${d}`);const{collapsedSize:g=0,collapsible:v,minSize:x=0}=h;if(v){const m=e[d];if(pn(m!=null,`Previous layout not found for panel index ${d}`),mo(m,g)){const p=x-m;Sp(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}{const d=t<0?a:l,h=n[d];pn(h,`No panel constraints found for index ${d}`);const{collapsedSize:g=0,collapsible:v,minSize:x=0}=h;if(v){const m=e[d];if(pn(m!=null,`Previous layout not found for panel index ${d}`),mo(m,x)){const p=m-g;Sp(p,Math.abs(t))>0&&(t=t<0?0-p:p)}}}}{const d=t<0?1:-1;let h=t<0?l:a,g=0;for(;;){const x=e[h];pn(x!=null,`Previous layout not found for panel index ${h}`);const p=Ag({panelConstraints:n,panelIndex:h,size:100})-x;if(g+=p,h+=d,h<0||h>=n.length)break}const v=Math.min(Math.abs(t),Math.abs(g));t=t<0?0-v:v}{let h=t<0?a:l;for(;h>=0&&h<n.length;){const g=Math.abs(t)-Math.abs(c),v=e[h];pn(v!=null,`Previous layout not found for panel index ${h}`);const x=v-g,m=Ag({panelConstraints:n,panelIndex:h,size:x});if(!mo(v,m)&&(c+=v-m,o[h]=m,c.toPrecision(3).localeCompare(Math.abs(t).toPrecision(3),void 0,{numeric:!0})>=0))break;t<0?h--:h++}}if(ilt(i,o))return i;{const d=t<0?l:a,h=e[d];pn(h!=null,`Previous layout not found for panel index ${d}`);const g=h+c,v=Ag({panelConstraints:n,panelIndex:d,size:g});if(o[d]=v,!mo(v,g)){let x=g-v,p=t<0?l:a;for(;p>=0&&p<n.length;){const y=o[p];pn(y!=null,`Previous layout not found for panel index ${p}`);const _=y+x,b=Ag({panelConstraints:n,panelIndex:p,size:_});if(mo(y,b)||(x-=b-y,o[p]=b),mo(x,0))break;t>0?p--:p++}}}const f=o.reduce((d,h)=>h+d,0);return mo(f,100)?o:i}function slt({layout:t,panelsArray:e,pivotIndices:n}){let r=0,i=100,s=0,o=0;const a=n[0];pn(a!=null,"No pivot index found"),e.forEach((d,h)=>{const{constraints:g}=d,{maxSize:v=100,minSize:x=0}=g;h===a?(r=x,i=v):(s+=x,o+=v)});const l=Math.min(i,100-s),c=Math.max(r,100-o),f=t[a];return{valueMax:l,valueMin:c,valueNow:f}}function Vb(t,e=document){return Array.from(e.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${t}"]`))}function jfe(t,e,n=document){const i=Vb(t,n).findIndex(s=>s.getAttribute("data-panel-resize-handle-id")===e);return i??null}function Dfe(t,e,n){const r=jfe(t,e,n);return r!=null?[r,r+1]:[-1,-1]}function Lfe(t,e=document){var n;if(e instanceof HTMLElement&&(e==null||(n=e.dataset)===null||n===void 0?void 0:n.panelGroupId)==t)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${t}"]`);return r||null}function eN(t,e=document){const n=e.querySelector(`[data-panel-resize-handle-id="${t}"]`);return n||null}function olt(t,e,n,r=document){var i,s,o,a;const l=eN(e,r),c=Vb(t,r),f=l?c.indexOf(l):-1,d=(i=(s=n[f])===null||s===void 0?void 0:s.id)!==null&&i!==void 0?i:null,h=(o=(a=n[f+1])===null||a===void 0?void 0:a.id)!==null&&o!==void 0?o:null;return[d,h]}function alt({committedValuesRef:t,eagerValuesRef:e,groupId:n,layout:r,panelDataArray:i,panelGroupElement:s,setLayout:o}){Fs({didWarnAboutMissingResizeHandle:!1}),Kh(()=>{if(!s)return;const a=Vb(n,s);for(let l=0;l<i.length-1;l++){const{valueMax:c,valueMin:f,valueNow:d}=slt({layout:r,panelsArray:i,pivotIndices:[l,l+1]}),h=a[l];if(h!=null){const g=i[l];pn(g,`No panel data found for index "${l}"`),h.setAttribute("aria-controls",g.id),h.setAttribute("aria-valuemax",""+Math.round(c)),h.setAttribute("aria-valuemin",""+Math.round(f)),h.setAttribute("aria-valuenow",d!=null?""+Math.round(d):"")}}return()=>{a.forEach((l,c)=>{l.removeAttribute("aria-controls"),l.removeAttribute("aria-valuemax"),l.removeAttribute("aria-valuemin"),l.removeAttribute("aria-valuenow")})}},[n,r,i,s]),qh(()=>{if(!s)return;const a=e.current;pn(a,"Eager values not found");const{panelDataArray:l}=a,c=Lfe(n,s);pn(c!=null,`No group found for id "${n}"`);const f=Vb(n,s);pn(f,`No resize handles found for group id "${n}"`);const d=f.map(h=>{const g=h.getAttribute("data-panel-resize-handle-id");pn(g,"Resize handle element has no handle id attribute");const[v,x]=olt(n,g,l,s);if(v==null||x==null)return()=>{};const m=p=>{if(!p.defaultPrevented)switch(p.key){case"Enter":{p.preventDefault();const y=l.findIndex(_=>_.id===v);if(y>=0){const _=l[y];pn(_,`No panel data found for index ${y}`);const b=r[y],{collapsedSize:w=0,collapsible:E,minSize:A=0}=_.constraints;if(b!=null&&E){const T=$0({delta:mo(b,w)?A-w:w-b,initialLayout:r,panelConstraints:l.map(P=>P.constraints),pivotIndices:Dfe(n,g,s),prevLayout:r,trigger:"keyboard"});r!==T&&o(T)}}break}}};return h.addEventListener("keydown",m),()=>{h.removeEventListener("keydown",m)}});return()=>{d.forEach(h=>h())}},[s,t,e,n,r,i,o])}function CK(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ffe(t,e){const n=t==="horizontal",{x:r,y:i}=Q2(e);return n?r:i}function llt(t,e,n,r,i){const s=n==="horizontal",o=eN(e,i);pn(o,`No resize handle element found for id "${e}"`);const a=o.getAttribute("data-panel-group-id");pn(a,"Resize handle element has no group id attribute");let{initialCursorPosition:l}=r;const c=Ffe(n,t),f=Lfe(a,i);pn(f,`No group element found for id "${a}"`);const d=f.getBoundingClientRect(),h=s?d.width:d.height;return(c-l)/h*100}function clt(t,e,n,r,i,s){if(Afe(t)){const o=n==="horizontal";let a=0;t.shiftKey?a=100:i!=null?a=i:a=10;let l=0;switch(t.key){case"ArrowDown":l=o?0:a;break;case"ArrowLeft":l=o?-a:0;break;case"ArrowRight":l=o?a:0;break;case"ArrowUp":l=o?0:-a;break;case"End":l=100;break;case"Home":l=-100;break}return l}else return r==null?0:llt(t,e,n,r,s)}function ult({panelDataArray:t}){const e=Array(t.length),n=t.map(s=>s.constraints);let r=0,i=100;for(let s=0;s<t.length;s++){const o=n[s];pn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;a!=null&&(r++,e[s]=a,i-=a)}for(let s=0;s<t.length;s++){const o=n[s];pn(o,`Panel constraints not found for index ${s}`);const{defaultSize:a}=o;if(a!=null)continue;const l=t.length-r,c=i/l;r++,e[s]=c,i-=c}return e}function Tm(t,e,n){e.forEach((r,i)=>{const s=t[i];pn(s,`Panel data not found for index ${i}`);const{callbacks:o,constraints:a,id:l}=s,{collapsedSize:c=0,collapsible:f}=a,d=n[l];if(d==null||r!==d){n[l]=r;const{onCollapse:h,onExpand:g,onResize:v}=o;v&&v(r,d),f&&(h||g)&&(g&&(d==null||$c(d,c))&&!$c(r,c)&&g(),h&&(d==null||!$c(d,c))&&$c(r,c)&&h())}})}function mC(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n])return!1;return!0}function dlt({defaultSize:t,dragState:e,layout:n,panelData:r,panelIndex:i,precision:s=3}){const o=n[i];let a;return o==null?a=t!=null?t.toPrecision(s):"1":r.length===1?a="1":a=o.toPrecision(s),{flexBasis:0,flexGrow:a,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function flt(t,e=10){let n=null;return(...i)=>{n!==null&&clearTimeout(n),n=setTimeout(()=>{t(...i)},e)}}function EK(t){try{if(typeof localStorage<"u")t.getItem=e=>localStorage.getItem(e),t.setItem=(e,n)=>{localStorage.setItem(e,n)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),t.getItem=()=>null,t.setItem=()=>{}}}function Bfe(t){return`react-resizable-panels:${t}`}function Ufe(t){return t.map(e=>{const{constraints:n,id:r,idIsFromProps:i,order:s}=e;return i?r:s?`${s}:${JSON.stringify(n)}`:JSON.stringify(n)}).sort((e,n)=>e.localeCompare(n)).join(",")}function $fe(t,e){try{const n=Bfe(t),r=e.getItem(n);if(r){const i=JSON.parse(r);if(typeof i=="object"&&i!=null)return i}}catch{}return null}function hlt(t,e,n){var r,i;const s=(r=$fe(t,n))!==null&&r!==void 0?r:{},o=Ufe(e);return(i=s[o])!==null&&i!==void 0?i:null}function plt(t,e,n,r,i){var s;const o=Bfe(t),a=Ufe(e),l=(s=$fe(t,i))!==null&&s!==void 0?s:{};l[a]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{i.setItem(o,JSON.stringify(l))}catch(c){console.error(c)}}function MK({layout:t,panelConstraints:e}){const n=[...t],r=n.reduce((s,o)=>s+o,0);if(n.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${n.map(s=>`${s}%`).join(", ")}`);if(!mo(r,100)&&n.length>0)for(let s=0;s<e.length;s++){const o=n[s];pn(o!=null,`No layout data found for index ${s}`);const a=100/r*o;n[s]=a}let i=0;for(let s=0;s<e.length;s++){const o=n[s];pn(o!=null,`No layout data found for index ${s}`);const a=Ag({panelConstraints:e,panelIndex:s,size:o});o!=a&&(i+=o-a,n[s]=a)}if(!mo(i,0))for(let s=0;s<e.length;s++){const o=n[s];pn(o!=null,`No layout data found for index ${s}`);const a=o+i,l=Ag({panelConstraints:e,panelIndex:s,size:a});if(o!==l&&(i-=l-o,n[s]=l,mo(i,0)))break}return n}const mlt=100,z0={getItem:t=>(EK(z0),z0.getItem(t)),setItem:(t,e)=>{EK(z0),z0.setItem(t,e)}},AK={};function zfe({autoSaveId:t=null,children:e,className:n="",direction:r,forwardedRef:i,id:s=null,onLayout:o=null,keyboardResizeBy:a=null,storage:l=z0,style:c,tagName:f="div",...d}){const h=y$(s),g=Fs(null),[v,x]=Jg(null),[m,p]=Jg([]),y=rlt(),_=Fs({}),b=Fs(new Map),w=Fs(0),E=Fs({autoSaveId:t,direction:r,dragState:v,id:h,keyboardResizeBy:a,onLayout:o,storage:l}),A=Fs({layout:m,panelDataArray:[],panelDataArrayChanged:!1});Fs({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),Efe(i,()=>({getId:()=>E.current.id,getLayout:()=>{const{layout:K}=A.current;return K},setLayout:K=>{const{onLayout:ie}=E.current,{layout:le,panelDataArray:J}=A.current,U=MK({layout:K,panelConstraints:J.map(X=>X.constraints)});CK(le,U)||(p(U),A.current.layout=U,ie&&ie(U),Tm(J,U,_.current))}}),[]),Kh(()=>{E.current.autoSaveId=t,E.current.direction=r,E.current.dragState=v,E.current.id=h,E.current.onLayout=o,E.current.storage=l}),alt({committedValuesRef:E,eagerValuesRef:A,groupId:h,layout:m,panelDataArray:A.current.panelDataArray,setLayout:p,panelGroupElement:g.current}),qh(()=>{const{panelDataArray:K}=A.current;if(t){if(m.length===0||m.length!==K.length)return;let ie=AK[t];ie==null&&(ie=flt(plt,mlt),AK[t]=ie);const le=[...K],J=new Map(b.current);ie(t,le,J,m,l)}},[t,m,l]),qh(()=>{});const T=Is(K=>{const{onLayout:ie}=E.current,{layout:le,panelDataArray:J}=A.current;if(K.constraints.collapsible){const U=J.map(ue=>ue.constraints),{collapsedSize:X=0,panelSize:Q,pivotIndices:te}=$f(J,K,le);if(pn(Q!=null,`Panel size not found for panel "${K.id}"`),!$c(Q,X)){b.current.set(K.id,Q);const ee=ng(J,K)===J.length-1?Q-X:X-Q,Y=$0({delta:ee,initialLayout:le,panelConstraints:U,pivotIndices:te,prevLayout:le,trigger:"imperative-api"});mC(le,Y)||(p(Y),A.current.layout=Y,ie&&ie(Y),Tm(J,Y,_.current))}}},[]),P=Is((K,ie)=>{const{onLayout:le}=E.current,{layout:J,panelDataArray:U}=A.current;if(K.constraints.collapsible){const X=U.map(se=>se.constraints),{collapsedSize:Q=0,panelSize:te=0,minSize:ue=0,pivotIndices:ee}=$f(U,K,J),Y=ie??ue;if($c(te,Q)){const se=b.current.get(K.id),re=se!=null&&se>=Y?se:Y,he=ng(U,K)===U.length-1?te-re:re-te,Ae=$0({delta:he,initialLayout:J,panelConstraints:X,pivotIndices:ee,prevLayout:J,trigger:"imperative-api"});mC(J,Ae)||(p(Ae),A.current.layout=Ae,le&&le(Ae),Tm(U,Ae,_.current))}}},[]),N=Is(K=>{const{layout:ie,panelDataArray:le}=A.current,{panelSize:J}=$f(le,K,ie);return pn(J!=null,`Panel size not found for panel "${K.id}"`),J},[]),O=Is((K,ie)=>{const{panelDataArray:le}=A.current,J=ng(le,K);return dlt({defaultSize:ie,dragState:v,layout:m,panelData:le,panelIndex:J})},[v,m]),I=Is(K=>{const{layout:ie,panelDataArray:le}=A.current,{collapsedSize:J=0,collapsible:U,panelSize:X}=$f(le,K,ie);return pn(X!=null,`Panel size not found for panel "${K.id}"`),U===!0&&$c(X,J)},[]),D=Is(K=>{const{layout:ie,panelDataArray:le}=A.current,{collapsedSize:J=0,collapsible:U,panelSize:X}=$f(le,K,ie);return pn(X!=null,`Panel size not found for panel "${K.id}"`),!U||Sp(X,J)>0},[]),F=Is(K=>{const{panelDataArray:ie}=A.current;ie.push(K),ie.sort((le,J)=>{const U=le.order,X=J.order;return U==null&&X==null?0:U==null?-1:X==null?1:U-X}),A.current.panelDataArrayChanged=!0,y()},[y]);Kh(()=>{if(A.current.panelDataArrayChanged){A.current.panelDataArrayChanged=!1;const{autoSaveId:K,onLayout:ie,storage:le}=E.current,{layout:J,panelDataArray:U}=A.current;let X=null;if(K){const te=hlt(K,U,le);te&&(b.current=new Map(Object.entries(te.expandToSizes)),X=te.layout)}X==null&&(X=ult({panelDataArray:U}));const Q=MK({layout:X,panelConstraints:U.map(te=>te.constraints)});CK(J,Q)||(p(Q),A.current.layout=Q,ie&&ie(Q),Tm(U,Q,_.current))}}),Kh(()=>{const K=A.current;return()=>{K.layout=[]}},[]);const $=Is(K=>{let ie=!1;const le=g.current;return le&&window.getComputedStyle(le,null).getPropertyValue("direction")==="rtl"&&(ie=!0),function(U){U.preventDefault();const X=g.current;if(!X)return()=>null;const{direction:Q,dragState:te,id:ue,keyboardResizeBy:ee,onLayout:Y}=E.current,{layout:se,panelDataArray:re}=A.current,{initialLayout:me}=te??{},he=Dfe(ue,K,X);let Ae=clt(U,K,Q,te,ee,X);const Se=Q==="horizontal";Se&&ie&&(Ae=-Ae);const Re=re.map(oe=>oe.constraints),ot=$0({delta:Ae,initialLayout:me??se,panelConstraints:Re,pivotIndices:he,prevLayout:se,trigger:Afe(U)?"keyboard":"mouse-or-touch"}),rt=!mC(se,ot);(Tfe(U)||Pfe(U))&&w.current!=Ae&&(w.current=Ae,!rt&&Ae!==0?Se?rI(K,Ae<0?Rfe:kfe):rI(K,Ae<0?Ofe:Ife):rI(K,0)),rt&&(p(ot),A.current.layout=ot,Y&&Y(ot),Tm(re,ot,_.current))}},[]),z=Is((K,ie)=>{const{onLayout:le}=E.current,{layout:J,panelDataArray:U}=A.current,X=U.map(se=>se.constraints),{panelSize:Q,pivotIndices:te}=$f(U,K,J);pn(Q!=null,`Panel size not found for panel "${K.id}"`);const ee=ng(U,K)===U.length-1?Q-ie:ie-Q,Y=$0({delta:ee,initialLayout:J,panelConstraints:X,pivotIndices:te,prevLayout:J,trigger:"imperative-api"});mC(J,Y)||(p(Y),A.current.layout=Y,le&&le(Y),Tm(U,Y,_.current))},[]),H=Is((K,ie)=>{const{layout:le,panelDataArray:J}=A.current,{collapsedSize:U=0,collapsible:X}=ie,{collapsedSize:Q=0,collapsible:te,maxSize:ue=100,minSize:ee=0}=K.constraints,{panelSize:Y}=$f(J,K,le);Y!=null&&(X&&te&&$c(Y,U)?$c(U,Q)||z(K,Q):Y<ee?z(K,ee):Y>ue&&z(K,ue))},[z]),R=Is((K,ie)=>{const{direction:le}=E.current,{layout:J}=A.current;if(!g.current)return;const U=eN(K,g.current);pn(U,`Drag handle element not found for id "${K}"`);const X=Ffe(le,ie);x({dragHandleId:K,dragHandleRect:U.getBoundingClientRect(),initialCursorPosition:X,initialLayout:J})},[]),j=Is(()=>{x(null)},[]),B=Is(K=>{const{panelDataArray:ie}=A.current,le=ng(ie,K);le>=0&&(ie.splice(le,1),delete _.current[K.id],A.current.panelDataArrayChanged=!0,y())},[y]),W=Hat(()=>({collapsePanel:T,direction:r,dragState:v,expandPanel:P,getPanelSize:N,getPanelStyle:O,groupId:h,isPanelCollapsed:I,isPanelExpanded:D,reevaluatePanelConstraints:H,registerPanel:F,registerResizeHandle:$,resizePanel:z,startDragging:R,stopDragging:j,unregisterPanel:B,panelGroupElement:g.current}),[T,v,r,P,N,O,h,I,D,H,F,$,z,R,j,B]),G={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return ay(Z2.Provider,{value:W},ay(f,{...d,children:e,className:n,id:s,ref:g,style:{...G,...c},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":h}))}const VE=Sfe((t,e)=>ay(zfe,{...t,forwardedRef:e}));zfe.displayName="PanelGroup";VE.displayName="forwardRef(PanelGroup)";function ng(t,e){return t.findIndex(n=>n===e||n.id===e.id)}function $f(t,e,n){const r=ng(t,e),s=r===t.length-1?[r-1,r]:[r,r+1],o=n[r];return{...e.constraints,panelSize:o,pivotIndices:s}}function glt({disabled:t,handleId:e,resizeHandler:n,panelGroupElement:r}){qh(()=>{if(t||n==null||r==null)return;const i=eN(e,r);if(i==null)return;const s=o=>{if(!o.defaultPrevented)switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{o.preventDefault(),n(o);break}case"F6":{o.preventDefault();const a=i.getAttribute("data-panel-group-id");pn(a,`No group element found for id "${a}"`);const l=Vb(a,r),c=jfe(a,e,r);pn(c!==null,`No resize element found for id "${e}"`);const f=o.shiftKey?c>0?c-1:l.length-1:c+1<l.length?c+1:0;l[f].focus();break}}};return i.addEventListener("keydown",s),()=>{i.removeEventListener("keydown",s)}},[r,t,e,n])}function iF({children:t=null,className:e="",disabled:n=!1,hitAreaMargins:r,id:i,onBlur:s,onDragging:o,onFocus:a,style:l={},tabIndex:c=0,tagName:f="div",...d}){var h,g;const v=Fs(null),x=Fs({onDragging:o});qh(()=>{x.current.onDragging=o});const m=Cfe(Z2);if(m===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:p,groupId:y,registerResizeHandle:_,startDragging:b,stopDragging:w,panelGroupElement:E}=m,A=y$(i),[T,P]=Jg("inactive"),[N,O]=Jg(!1),[I,D]=Jg(null),F=Fs({state:T});Kh(()=>{F.current.state=T}),qh(()=>{if(n)D(null);else{const R=_(A);D(()=>R)}},[n,A,_]);const $=(h=r==null?void 0:r.coarse)!==null&&h!==void 0?h:15,z=(g=r==null?void 0:r.fine)!==null&&g!==void 0?g:5;return qh(()=>{if(n||I==null)return;const R=v.current;return pn(R,"Element ref not attached"),nlt(A,R,p,{coarse:$,fine:z},(B,W,G)=>{if(W)switch(B){case"down":{P("drag"),pn(G,'Expected event to be defined for "down" action'),b(A,G);const{onDragging:K}=x.current;K&&K(!0);break}case"move":{const{state:K}=F.current;K!=="drag"&&P("hover"),pn(G,'Expected event to be defined for "move" action'),I(G);break}case"up":{P("hover"),w();const{onDragging:K}=x.current;K&&K(!1);break}}else P("inactive")})},[$,p,n,z,_,A,I,b,w]),glt({disabled:n,handleId:A,resizeHandler:I,panelGroupElement:E}),ay(f,{...d,children:t,className:e,id:i,onBlur:()=>{O(!1),s==null||s()},onFocus:()=>{O(!0),a==null||a()},ref:v,role:"separator",style:{...{touchAction:"none",userSelect:"none"},...l},tabIndex:c,"data-panel-group-direction":p,"data-panel-group-id":y,"data-resize-handle":"","data-resize-handle-active":T==="drag"?"pointer":N?"keyboard":void 0,"data-resize-handle-state":T,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":A})}iF.displayName="PanelResizeHandle";function Wb(t,[e,n]){return Math.min(n,Math.max(e,t))}function vlt(t,e){return M.useReducer((n,r)=>e[n][r]??n,t)}var w$="ScrollArea",[Hfe,TAt]=nr(w$),[ylt,xa]=Hfe(w$),Vfe=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=M.useState(null),[c,f]=M.useState(null),[d,h]=M.useState(null),[g,v]=M.useState(null),[x,m]=M.useState(null),[p,y]=M.useState(0),[_,b]=M.useState(0),[w,E]=M.useState(!1),[A,T]=M.useState(!1),P=Nt(e,O=>l(O)),N=fl(i);return u.jsx(ylt,{scope:n,type:r,dir:N,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:f,content:d,onContentChange:h,scrollbarX:g,onScrollbarXChange:v,scrollbarXEnabled:w,onScrollbarXEnabledChange:E,scrollbarY:x,onScrollbarYChange:m,scrollbarYEnabled:A,onScrollbarYEnabledChange:T,onCornerWidthChange:y,onCornerHeightChange:b,children:u.jsx(Ze.div,{dir:N,...o,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});Vfe.displayName=w$;var Wfe="ScrollAreaViewport",Gfe=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,o=xa(Wfe,n),a=M.useRef(null),l=Nt(e,a,o.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),u.jsx(Ze.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...t.style},children:u.jsx("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Gfe.displayName=Wfe;var hc="ScrollAreaScrollbar",S$=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xa(hc,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return M.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?u.jsx(xlt,{...r,ref:e,forceMount:n}):i.type==="scroll"?u.jsx(_lt,{...r,ref:e,forceMount:n}):i.type==="auto"?u.jsx(qfe,{...r,ref:e,forceMount:n}):i.type==="always"?u.jsx(C$,{...r,ref:e}):null});S$.displayName=hc;var xlt=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xa(hc,t.__scopeScrollArea),[s,o]=M.useState(!1);return M.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},f=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",f),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",f)}}},[i.scrollArea,i.scrollHideDelay]),u.jsx(gr,{present:n||s,children:u.jsx(qfe,{"data-state":s?"visible":"hidden",...r,ref:e})})}),_lt=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=xa(hc,t.__scopeScrollArea),s=t.orientation==="horizontal",o=nN(()=>l("SCROLL_END"),100),[a,l]=vlt("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return M.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),M.useEffect(()=>{const c=i.viewport,f=s?"scrollLeft":"scrollTop";if(c){let d=c[f];const h=()=>{const g=c[f];d!==g&&(l("SCROLL"),o()),d=g};return c.addEventListener("scroll",h),()=>c.removeEventListener("scroll",h)}},[i.viewport,s,l,o]),u.jsx(gr,{present:n||a!=="hidden",children:u.jsx(C$,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ie(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Ie(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),qfe=M.forwardRef((t,e)=>{const n=xa(hc,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=M.useState(!1),a=t.orientation==="horizontal",l=nN(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,f=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:f)}},10);return ly(n.viewport,l),ly(n.content,l),u.jsx(gr,{present:r||s,children:u.jsx(C$,{"data-state":s?"visible":"hidden",...i,ref:e})})}),C$=M.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=xa(hc,t.__scopeScrollArea),s=M.useRef(null),o=M.useRef(0),[a,l]=M.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=Qfe(a.viewport,a.content),f={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:h=>s.current=h,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:h=>o.current=h};function d(h,g){return Mlt(h,o.current,a,g)}return n==="horizontal"?u.jsx(blt,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollLeft,g=TK(h,a,i.dir);s.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollLeft=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollLeft=d(h,i.dir))}}):n==="vertical"?u.jsx(wlt,{...f,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const h=i.viewport.scrollTop,g=TK(h,a);s.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:h=>{i.viewport&&(i.viewport.scrollTop=h)},onDragScroll:h=>{i.viewport&&(i.viewport.scrollTop=d(h))}}):null}),blt=M.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=xa(hc,t.__scopeScrollArea),[o,a]=M.useState(),l=M.useRef(null),c=Nt(e,l,s.onScrollbarXChange);return M.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(Xfe,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":tN(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,d)=>{if(s.viewport){const h=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(h),ehe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:cT(o.paddingLeft),paddingEnd:cT(o.paddingRight)}})}})}),wlt=M.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=xa(hc,t.__scopeScrollArea),[o,a]=M.useState(),l=M.useRef(null),c=Nt(e,l,s.onScrollbarYChange);return M.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(Xfe,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":tN(n)+"px",...t.style},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,d)=>{if(s.viewport){const h=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(h),ehe(h,d)&&f.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:cT(o.paddingTop),paddingEnd:cT(o.paddingBottom)}})}})}),[Slt,Kfe]=Hfe(hc),Xfe=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:f,onResize:d,...h}=t,g=xa(hc,n),[v,x]=M.useState(null),m=Nt(e,P=>x(P)),p=M.useRef(null),y=M.useRef(""),_=g.viewport,b=r.content-r.viewport,w=Ln(f),E=Ln(l),A=nN(d,10);function T(P){if(p.current){const N=P.clientX-p.current.left,O=P.clientY-p.current.top;c({x:N,y:O})}}return M.useEffect(()=>{const P=N=>{const O=N.target;(v==null?void 0:v.contains(O))&&w(N,b)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[_,v,b,w]),M.useEffect(E,[r,E]),ly(v,A),ly(g.content,A),u.jsx(Slt,{scope:n,scrollbar:v,hasThumb:i,onThumbChange:Ln(s),onThumbPointerUp:Ln(o),onThumbPositionChange:E,onThumbPointerDown:Ln(a),children:u.jsx(Ze.div,{...h,ref:m,style:{position:"absolute",...h.style},onPointerDown:Ie(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),p.current=v.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),T(P))}),onPointerMove:Ie(t.onPointerMove,T),onPointerUp:Ie(t.onPointerUp,P=>{const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=y.current,g.viewport&&(g.viewport.style.scrollBehavior=""),p.current=null})})})}),lT="ScrollAreaThumb",Yfe=M.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=Kfe(lT,t.__scopeScrollArea);return u.jsx(gr,{present:n||i.hasThumb,children:u.jsx(Clt,{ref:e,...r})})}),Clt=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=xa(lT,n),o=Kfe(lT,n),{onThumbPositionChange:a}=o,l=Nt(e,d=>o.onThumbChange(d)),c=M.useRef(void 0),f=nN(()=>{c.current&&(c.current(),c.current=void 0)},100);return M.useEffect(()=>{const d=s.viewport;if(d){const h=()=>{if(f(),!c.current){const g=Alt(d,a);c.current=g,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[s.viewport,f,a]),u.jsx(Ze.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Ie(t.onPointerDownCapture,d=>{const g=d.target.getBoundingClientRect(),v=d.clientX-g.left,x=d.clientY-g.top;o.onThumbPointerDown({x:v,y:x})}),onPointerUp:Ie(t.onPointerUp,o.onThumbPointerUp)})});Yfe.displayName=lT;var E$="ScrollAreaCorner",Zfe=M.forwardRef((t,e)=>{const n=xa(E$,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(Elt,{...t,ref:e}):null});Zfe.displayName=E$;var Elt=M.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=xa(E$,n),[s,o]=M.useState(0),[a,l]=M.useState(0),c=!!(s&&a);return ly(i.scrollbarX,()=>{var d;const f=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(f),l(f)}),ly(i.scrollbarY,()=>{var d;const f=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(f),o(f)}),c?u.jsx(Ze.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function cT(t){return t?parseInt(t,10):0}function Qfe(t,e){const n=t/e;return isNaN(n)?0:n}function tN(t){const e=Qfe(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function Mlt(t,e,n,r="ltr"){const i=tN(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,f=n.content-n.viewport,d=r==="ltr"?[0,f]:[f*-1,0];return Jfe([l,c],d)(t)}function TK(t,e,n="ltr"){const r=tN(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=Wb(t,l);return Jfe([0,o],[0,a])(c)}function Jfe(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function ehe(t,e){return t>0&&t<e}var Alt=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function nN(t,e){const n=Ln(t),r=M.useRef(0);return M.useEffect(()=>()=>window.clearTimeout(r.current),[]),M.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ly(t,e){const n=Ln(e);_r(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var the=Vfe,Tlt=Gfe,Plt=Zfe;const Xh=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(the,{ref:r,className:we("relative overflow-hidden",t),...n,children:[u.jsx(Tlt,{className:"h-full w-full rounded-[inherit]",children:e}),u.jsx(nhe,{}),u.jsx(Plt,{})]}));Xh.displayName=the.displayName;const nhe=M.forwardRef(({className:t,orientation:e="vertical",...n},r)=>u.jsx(S$,{ref:r,orientation:e,className:we("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:u.jsx(Yfe,{className:"relative flex-1 rounded-full bg-border"})}));nhe.displayName=S$.displayName;var Nlt=[" ","Enter","ArrowUp","ArrowDown"],Rlt=[" ","Enter"],u1="Select",[rN,iN,klt]=Mu(u1),[ax,PAt]=nr(u1,[klt,dc]),sN=dc(),[Olt,_f]=ax(u1),[Ilt,jlt]=ax(u1),rhe=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:d,disabled:h,required:g,form:v}=t,x=sN(e),[m,p]=M.useState(null),[y,_]=M.useState(null),[b,w]=M.useState(!1),E=fl(c),[A=!1,T]=$r({prop:r,defaultProp:i,onChange:s}),[P,N]=$r({prop:o,defaultProp:a,onChange:l}),O=M.useRef(null),I=m?v||!!m.closest("form"):!0,[D,F]=M.useState(new Set),$=Array.from(D).map(z=>z.props.value).join(";");return u.jsx(V2,{...x,children:u.jsxs(Olt,{required:g,scope:e,trigger:m,onTriggerChange:p,valueNode:y,onValueNodeChange:_,valueNodeHasChildren:b,onValueNodeHasChildrenChange:w,contentId:Br(),value:P,onValueChange:N,open:A,onOpenChange:T,dir:E,triggerPointerDownPosRef:O,disabled:h,children:[u.jsx(rN.Provider,{scope:e,children:u.jsx(Ilt,{scope:t.__scopeSelect,onNativeOptionAdd:M.useCallback(z=>{F(H=>new Set(H).add(z))},[]),onNativeOptionRemove:M.useCallback(z=>{F(H=>{const R=new Set(H);return R.delete(z),R})},[]),children:n})}),I?u.jsxs(The,{"aria-hidden":!0,required:g,tabIndex:-1,name:f,autoComplete:d,value:P,onChange:z=>N(z.target.value),disabled:h,form:v,children:[P===void 0?u.jsx("option",{value:""}):null,Array.from(D)]},$):null]})})};rhe.displayName=u1;var ihe="SelectTrigger",she=M.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=sN(n),o=_f(ihe,n),a=o.disabled||r,l=Nt(e,o.onTriggerChange),c=iN(n),f=M.useRef("touch"),[d,h,g]=Phe(x=>{const m=c().filter(_=>!_.disabled),p=m.find(_=>_.value===o.value),y=Nhe(m,x,p);y!==void 0&&o.onValueChange(y.value)}),v=x=>{a||(o.onOpenChange(!0),g()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return u.jsx(ex,{asChild:!0,...s,children:u.jsx(Ze.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Ahe(o.value)?"":void 0,...i,ref:l,onClick:Ie(i.onClick,x=>{x.currentTarget.focus(),f.current!=="mouse"&&v(x)}),onPointerDown:Ie(i.onPointerDown,x=>{f.current=x.pointerType;const m=x.target;m.hasPointerCapture(x.pointerId)&&m.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(v(x),x.preventDefault())}),onKeyDown:Ie(i.onKeyDown,x=>{const m=d.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(m&&x.key===" ")&&Nlt.includes(x.key)&&(v(),x.preventDefault())})})})});she.displayName=ihe;var ohe="SelectValue",ahe=M.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=_f(ohe,n),{onValueNodeHasChildrenChange:c}=l,f=s!==void 0,d=Nt(e,l.onValueNodeChange);return _r(()=>{c(f)},[c,f]),u.jsx(Ze.span,{...a,ref:d,style:{pointerEvents:"none"},children:Ahe(l.value)?u.jsx(u.Fragment,{children:o}):s})});ahe.displayName=ohe;var Dlt="SelectIcon",lhe=M.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return u.jsx(Ze.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});lhe.displayName=Dlt;var Llt="SelectPortal",che=t=>u.jsx(jy,{asChild:!0,...t});che.displayName=Llt;var Cp="SelectContent",uhe=M.forwardRef((t,e)=>{const n=_f(Cp,t.__scopeSelect),[r,i]=M.useState();if(_r(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?Op.createPortal(u.jsx(dhe,{scope:t.__scopeSelect,children:u.jsx(rN.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),s):null}return u.jsx(fhe,{...t,ref:e})});uhe.displayName=Cp;var ka=10,[dhe,bf]=ax(Cp),Flt="SelectContentImpl",Blt=Zd("SelectContent.RemoveScroll"),fhe=M.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:m,...p}=t,y=_f(Cp,n),[_,b]=M.useState(null),[w,E]=M.useState(null),A=Nt(e,U=>b(U)),[T,P]=M.useState(null),[N,O]=M.useState(null),I=iN(n),[D,F]=M.useState(!1),$=M.useRef(!1);M.useEffect(()=>{if(_)return LP(_)},[_]),jP();const z=M.useCallback(U=>{const[X,...Q]=I().map(ee=>ee.ref.current),[te]=Q.slice(-1),ue=document.activeElement;for(const ee of U)if(ee===ue||(ee==null||ee.scrollIntoView({block:"nearest"}),ee===X&&w&&(w.scrollTop=0),ee===te&&w&&(w.scrollTop=w.scrollHeight),ee==null||ee.focus(),document.activeElement!==ue))return},[I,w]),H=M.useCallback(()=>z([T,_]),[z,T,_]);M.useEffect(()=>{D&&H()},[D,H]);const{onOpenChange:R,triggerPointerDownPosRef:j}=y;M.useEffect(()=>{if(_){let U={x:0,y:0};const X=te=>{var ue,ee;U={x:Math.abs(Math.round(te.pageX)-(((ue=j.current)==null?void 0:ue.x)??0)),y:Math.abs(Math.round(te.pageY)-(((ee=j.current)==null?void 0:ee.y)??0))}},Q=te=>{U.x<=10&&U.y<=10?te.preventDefault():_.contains(te.target)||R(!1),document.removeEventListener("pointermove",X),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",X),document.addEventListener("pointerup",Q,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",X),document.removeEventListener("pointerup",Q,{capture:!0})}}},[_,R,j]),M.useEffect(()=>{const U=()=>R(!1);return window.addEventListener("blur",U),window.addEventListener("resize",U),()=>{window.removeEventListener("blur",U),window.removeEventListener("resize",U)}},[R]);const[B,W]=Phe(U=>{const X=I().filter(ue=>!ue.disabled),Q=X.find(ue=>ue.ref.current===document.activeElement),te=Nhe(X,U,Q);te&&setTimeout(()=>te.ref.current.focus())}),G=M.useCallback((U,X,Q)=>{const te=!$.current&&!Q;(y.value!==void 0&&y.value===X||te)&&(P(U),te&&($.current=!0))},[y.value]),K=M.useCallback(()=>_==null?void 0:_.focus(),[_]),ie=M.useCallback((U,X,Q)=>{const te=!$.current&&!Q;(y.value!==void 0&&y.value===X||te)&&O(U)},[y.value]),le=r==="popper"?sF:hhe,J=le===sF?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:d,collisionBoundary:h,collisionPadding:g,sticky:v,hideWhenDetached:x,avoidCollisions:m}:{};return u.jsx(dhe,{scope:n,content:_,viewport:w,onViewportChange:E,itemRefCallback:G,selectedItem:T,onItemLeave:K,itemTextRefCallback:ie,focusSelectedItem:H,selectedItemText:N,position:r,isPositioned:D,searchRef:B,children:u.jsx(Rw,{as:Blt,allowPinchZoom:!0,children:u.jsx(Nw,{asChild:!0,trapped:y.open,onMountAutoFocus:U=>{U.preventDefault()},onUnmountAutoFocus:Ie(i,U=>{var X;(X=y.trigger)==null||X.focus({preventScroll:!0}),U.preventDefault()}),children:u.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:U=>U.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:u.jsx(le,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:U=>U.preventDefault(),...p,...J,onPlaced:()=>F(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...p.style},onKeyDown:Ie(p.onKeyDown,U=>{const X=U.ctrlKey||U.altKey||U.metaKey;if(U.key==="Tab"&&U.preventDefault(),!X&&U.key.length===1&&W(U.key),["ArrowUp","ArrowDown","Home","End"].includes(U.key)){let te=I().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);if(["ArrowUp","End"].includes(U.key)&&(te=te.slice().reverse()),["ArrowUp","ArrowDown"].includes(U.key)){const ue=U.target,ee=te.indexOf(ue);te=te.slice(ee+1)}setTimeout(()=>z(te)),U.preventDefault()}})})})})})})});fhe.displayName=Flt;var Ult="SelectItemAlignedPosition",hhe=M.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=_f(Cp,n),o=bf(Cp,n),[a,l]=M.useState(null),[c,f]=M.useState(null),d=Nt(e,A=>f(A)),h=iN(n),g=M.useRef(!1),v=M.useRef(!0),{viewport:x,selectedItem:m,selectedItemText:p,focusSelectedItem:y}=o,_=M.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&x&&m&&p){const A=s.trigger.getBoundingClientRect(),T=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),N=p.getBoundingClientRect();if(s.dir!=="rtl"){const ue=N.left-T.left,ee=P.left-ue,Y=A.left-ee,se=A.width+Y,re=Math.max(se,T.width),me=window.innerWidth-ka,he=Wb(ee,[ka,Math.max(ka,me-re)]);a.style.minWidth=se+"px",a.style.left=he+"px"}else{const ue=T.right-N.right,ee=window.innerWidth-P.right-ue,Y=window.innerWidth-A.right-ee,se=A.width+Y,re=Math.max(se,T.width),me=window.innerWidth-ka,he=Wb(ee,[ka,Math.max(ka,me-re)]);a.style.minWidth=se+"px",a.style.right=he+"px"}const O=h(),I=window.innerHeight-ka*2,D=x.scrollHeight,F=window.getComputedStyle(c),$=parseInt(F.borderTopWidth,10),z=parseInt(F.paddingTop,10),H=parseInt(F.borderBottomWidth,10),R=parseInt(F.paddingBottom,10),j=$+z+D+R+H,B=Math.min(m.offsetHeight*5,j),W=window.getComputedStyle(x),G=parseInt(W.paddingTop,10),K=parseInt(W.paddingBottom,10),ie=A.top+A.height/2-ka,le=I-ie,J=m.offsetHeight/2,U=m.offsetTop+J,X=$+z+U,Q=j-X;if(X<=ie){const ue=O.length>0&&m===O[O.length-1].ref.current;a.style.bottom="0px";const ee=c.clientHeight-x.offsetTop-x.offsetHeight,Y=Math.max(le,J+(ue?K:0)+ee+H),se=X+Y;a.style.height=se+"px"}else{const ue=O.length>0&&m===O[0].ref.current;a.style.top="0px";const Y=Math.max(ie,$+x.offsetTop+(ue?G:0)+J)+Q;a.style.height=Y+"px",x.scrollTop=X-ie+x.offsetTop}a.style.margin=`${ka}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[h,s.trigger,s.valueNode,a,c,x,m,p,s.dir,r]);_r(()=>_(),[_]);const[b,w]=M.useState();_r(()=>{c&&w(window.getComputedStyle(c).zIndex)},[c]);const E=M.useCallback(A=>{A&&v.current===!0&&(_(),y==null||y(),v.current=!1)},[_,y]);return u.jsx(zlt,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:E,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:u.jsx(Ze.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});hhe.displayName=Ult;var $lt="SelectPopperPosition",sF=M.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ka,...s}=t,o=sN(n);return u.jsx(t1,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});sF.displayName=$lt;var[zlt,M$]=ax(Cp,{}),oF="SelectViewport",phe=M.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=bf(oF,n),o=M$(oF,n),a=Nt(e,s.onViewportChange),l=M.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(rN.Slot,{scope:n,children:u.jsx(Ze.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ie(i.onScroll,c=>{const f=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&d){const g=Math.abs(l.current-f.scrollTop);if(g>0){const v=window.innerHeight-ka*2,x=parseFloat(d.style.minHeight),m=parseFloat(d.style.height),p=Math.max(x,m);if(p<v){const y=p+g,_=Math.min(v,y),b=y-_;d.style.height=_+"px",d.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,d.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});phe.displayName=oF;var mhe="SelectGroup",[Hlt,Vlt]=ax(mhe),Wlt=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Br();return u.jsx(Hlt,{scope:n,id:i,children:u.jsx(Ze.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Wlt.displayName=mhe;var ghe="SelectLabel",vhe=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Vlt(ghe,n);return u.jsx(Ze.div,{id:i.id,...r,ref:e})});vhe.displayName=ghe;var uT="SelectItem",[Glt,yhe]=ax(uT),xhe=M.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=_f(uT,n),l=bf(uT,n),c=a.value===r,[f,d]=M.useState(s??""),[h,g]=M.useState(!1),v=Nt(e,y=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,y,r,i)}),x=Br(),m=M.useRef("touch"),p=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(Glt,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:M.useCallback(y=>{d(_=>_||((y==null?void 0:y.textContent)??"").trim())},[]),children:u.jsx(rN.ItemSlot,{scope:n,value:r,disabled:i,textValue:f,children:u.jsx(Ze.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:v,onFocus:Ie(o.onFocus,()=>g(!0)),onBlur:Ie(o.onBlur,()=>g(!1)),onClick:Ie(o.onClick,()=>{m.current!=="mouse"&&p()}),onPointerUp:Ie(o.onPointerUp,()=>{m.current==="mouse"&&p()}),onPointerDown:Ie(o.onPointerDown,y=>{m.current=y.pointerType}),onPointerMove:Ie(o.onPointerMove,y=>{var _;m.current=y.pointerType,i?(_=l.onItemLeave)==null||_.call(l):m.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(o.onPointerLeave,y=>{var _;y.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:Ie(o.onKeyDown,y=>{var b;((b=l.searchRef)==null?void 0:b.current)!==""&&y.key===" "||(Rlt.includes(y.key)&&p(),y.key===" "&&y.preventDefault())})})})})});xhe.displayName=uT;var H0="SelectItemText",_he=M.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=_f(H0,n),a=bf(H0,n),l=yhe(H0,n),c=jlt(H0,n),[f,d]=M.useState(null),h=Nt(e,p=>d(p),l.onItemTextChange,p=>{var y;return(y=a.itemTextRefCallback)==null?void 0:y.call(a,p,l.value,l.disabled)}),g=f==null?void 0:f.textContent,v=M.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:x,onNativeOptionRemove:m}=c;return _r(()=>(x(v),()=>m(v)),[x,m,v]),u.jsxs(u.Fragment,{children:[u.jsx(Ze.span,{id:l.textId,...s,ref:h}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Op.createPortal(s.children,o.valueNode):null]})});_he.displayName=H0;var bhe="SelectItemIndicator",whe=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return yhe(bhe,n).isSelected?u.jsx(Ze.span,{"aria-hidden":!0,...r,ref:e}):null});whe.displayName=bhe;var aF="SelectScrollUpButton",She=M.forwardRef((t,e)=>{const n=bf(aF,t.__scopeSelect),r=M$(aF,t.__scopeSelect),[i,s]=M.useState(!1),o=Nt(e,r.onScrollButtonChange);return _r(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(Ehe,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});She.displayName=aF;var lF="SelectScrollDownButton",Che=M.forwardRef((t,e)=>{const n=bf(lF,t.__scopeSelect),r=M$(lF,t.__scopeSelect),[i,s]=M.useState(!1),o=Nt(e,r.onScrollButtonChange);return _r(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;s(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?u.jsx(Ehe,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Che.displayName=lF;var Ehe=M.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=bf("SelectScrollButton",n),o=M.useRef(null),a=iN(n),l=M.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return M.useEffect(()=>()=>l(),[l]),_r(()=>{var f;const c=a().find(d=>d.ref.current===document.activeElement);(f=c==null?void 0:c.ref.current)==null||f.scrollIntoView({block:"nearest"})},[a]),u.jsx(Ze.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ie(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ie(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ie(i.onPointerLeave,()=>{l()})})}),qlt="SelectSeparator",Mhe=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(Ze.div,{"aria-hidden":!0,...r,ref:e})});Mhe.displayName=qlt;var cF="SelectArrow",Klt=M.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=sN(n),s=_f(cF,n),o=bf(cF,n);return s.open&&o.position==="popper"?u.jsx(n1,{...i,...r,ref:e}):null});Klt.displayName=cF;function Ahe(t){return t===""||t===void 0}var The=M.forwardRef((t,e)=>{const{value:n,...r}=t,i=M.useRef(null),s=Nt(e,i),o=Zy(n);return M.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&f){const d=new Event("change",{bubbles:!0});f.call(a,n),a.dispatchEvent(d)}},[o,n]),u.jsx(l1,{asChild:!0,children:u.jsx("select",{...r,ref:s,defaultValue:n})})});The.displayName="BubbleSelect";function Phe(t){const e=Ln(t),n=M.useRef(""),r=M.useRef(0),i=M.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=M.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return M.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function Nhe(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Xlt(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function Xlt(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Ylt=rhe,Rhe=she,Zlt=ahe,Qlt=lhe,Jlt=che,khe=uhe,ect=phe,Ohe=vhe,Ihe=xhe,tct=_he,nct=whe,jhe=She,Dhe=Che,Lhe=Mhe;const Hn=Ylt,Vn=Zlt,Fn=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Rhe,{ref:r,className:we("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(Qlt,{asChild:!0,children:u.jsx(ky,{className:"h-4 w-4 opacity-50"})})]}));Fn.displayName=Rhe.displayName;const Fhe=M.forwardRef(({className:t,...e},n)=>u.jsx(jhe,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(MSe,{className:"h-4 w-4"})}));Fhe.displayName=jhe.displayName;const Bhe=M.forwardRef(({className:t,...e},n)=>u.jsx(Dhe,{ref:n,className:we("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(ky,{className:"h-4 w-4"})}));Bhe.displayName=Dhe.displayName;const Bn=M.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>u.jsx(Jlt,{children:u.jsxs(khe,{ref:i,className:we("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(Fhe,{}),u.jsx(ect,{className:we("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(Bhe,{})]})}));Bn.displayName=khe.displayName;const rct=M.forwardRef(({className:t,...e},n)=>u.jsx(Ohe,{ref:n,className:we("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));rct.displayName=Ohe.displayName;const dt=M.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Ihe,{ref:r,className:we("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(nct,{children:u.jsx(Tw,{className:"h-4 w-4"})})}),u.jsx(tct,{children:e})]}));dt.displayName=Ihe.displayName;const ict=M.forwardRef(({className:t,...e},n)=>u.jsx(Lhe,{ref:n,className:we("-mx-1 my-1 h-px bg-muted",t),...e}));ict.displayName=Lhe.displayName;var sct="Separator",PK="horizontal",oct=["horizontal","vertical"],Uhe=M.forwardRef((t,e)=>{const{decorative:n,orientation:r=PK,...i}=t,s=act(r)?r:PK,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return u.jsx(Ze.div,{"data-orientation":s,...a,...i,ref:e})});Uhe.displayName=sct;function act(t){return oct.includes(t)}var $he=Uhe;const WE=M.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>u.jsx($he,{ref:i,decorative:n,orientation:e,className:we("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));WE.displayName=$he.displayName;const lct=FP,cct=kw,zhe=M.forwardRef(({className:t,...e},n)=>u.jsx(Ip,{className:we("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));zhe.displayName=Ip.displayName;const uct=Pu("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Hhe=M.forwardRef(({side:t="right",className:e,children:n,...r},i)=>u.jsxs(cct,{children:[u.jsx(zhe,{}),u.jsxs(jp,{ref:i,className:we(uct({side:t}),e),...r,children:[n,u.jsxs(Ow,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[u.jsx(Pw,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Hhe.displayName=jp.displayName;const Vhe=({className:t,...e})=>u.jsx("div",{className:we("flex flex-col space-y-2 text-center sm:text-left",t),...e});Vhe.displayName="SheetHeader";const Whe=M.forwardRef(({className:t,...e},n)=>u.jsx(Dy,{ref:n,className:we("text-lg font-semibold text-foreground",t),...e}));Whe.displayName=Dy.displayName;const Ghe=M.forwardRef(({className:t,...e},n)=>u.jsx(Ly,{ref:n,className:we("text-sm text-muted-foreground",t),...e}));Ghe.displayName=Ly.displayName;const iI=768;function dct(){const[t,e]=M.useState(void 0);return M.useEffect(()=>{const n=window.matchMedia(`(max-width: ${iI-1}px)`),r=()=>{e(window.innerWidth<iI)};return n.addEventListener("change",r),e(window.innerWidth<iI),()=>n.removeEventListener("change",r)},[]),!!t}const fct="sidebar_state",hct=60*60*24*7,pct="16rem",mct="18rem",gct="3rem",vct="b",qhe=M.createContext(null);function A$(){const t=M.useContext(qhe);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}function yct({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...o}){const a=dct(),[l,c]=M.useState(!1),[f,d]=M.useState(t),h=e??f,g=M.useCallback(p=>{const y=typeof p=="function"?p(h):p;n?n(y):d(y),document.cookie=`${fct}=${y}; path=/; max-age=${hct}`},[n,h]),v=M.useCallback(()=>a?c(p=>!p):g(p=>!p),[a,g,c]);M.useEffect(()=>{const p=y=>{y.key===vct&&(y.metaKey||y.ctrlKey)&&(y.preventDefault(),v())};return window.addEventListener("keydown",p),()=>window.removeEventListener("keydown",p)},[v]);const x=h?"expanded":"collapsed",m=M.useMemo(()=>({state:x,open:h,setOpen:g,isMobile:a,openMobile:l,setOpenMobile:c,toggleSidebar:v}),[x,h,g,a,l,c,v]);return u.jsx(qhe.Provider,{value:m,children:u.jsx(F$,{delayDuration:0,children:u.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":pct,"--sidebar-width-icon":gct,...i},className:we("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...o,children:s})})})}function xct({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:o,state:a,openMobile:l,setOpenMobile:c}=A$();return n==="none"?u.jsx("div",{"data-slot":"sidebar",className:we("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):o?u.jsx(lct,{open:l,onOpenChange:c,...s,children:u.jsxs(Hhe,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":mct},side:t,children:[u.jsxs(Vhe,{className:"sr-only",children:[u.jsx(Whe,{children:"Sidebar"}),u.jsx(Ghe,{children:"Displays the mobile sidebar."})]}),u.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):u.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":a,"data-collapsible":a==="collapsed"?n:"","data-variant":e,"data-side":t,"data-slot":"sidebar",children:[u.jsx("div",{"data-slot":"sidebar-gap",className:we("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),u.jsx("div",{"data-slot":"sidebar-container",className:we("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:u.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function _ct({className:t,onClick:e,...n}){const{toggleSidebar:r}=A$();return u.jsxs(Ce,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:we("h-7 w-7",t),onClick:i=>{e==null||e(i),r()},...n,children:[u.jsx(WSe,{}),u.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function bct({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-footer","data-sidebar":"footer",className:we("flex flex-col gap-2 p-2",t),...e})}function wct({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:we("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e})}function sI({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:we("relative flex w-full min-w-0 flex-col p-2",t),...e})}function oI({className:t,asChild:e=!1,...n}){const r=e?Mw:"div";return u.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:we("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})}function aI({className:t,...e}){return u.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:we("w-full text-sm",t),...e})}function gC({className:t,...e}){return u.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:we("flex w-full min-w-0 flex-col gap-1",t),...e})}function zf({className:t,...e}){return u.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:we("group/menu-item relative",t),...e})}const Sct=Pu("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-primary/10 hover:text-primary focus-visible:ring-2 active:bg-primary/10 active:text-primary disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-primary/10 data-[active=true]:font-medium data-[active=true]:text-primary data-[state=open]:hover:bg-primary/10 data-[state=open]:hover:text-primary group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-primary/10 hover:text-primary",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-primary/10 hover:text-primary hover:shadow-[0_0_0_1px_hsl(var(--primary))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function Hf({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...o}){const a=t?Mw:"button",{isMobile:l,state:c}=A$(),f=u.jsx(a,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":e,className:we(Sct({variant:n,size:r}),s),...o});return i?(typeof i=="string"&&(i={children:i}),u.jsxs(gme,{children:[u.jsx(vme,{asChild:!0,children:f}),u.jsx(B$,{side:"right",align:"center",hidden:c!=="collapsed"||l,...i})]})):f}var Khe=["PageUp","PageDown"],Xhe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Yhe={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},lx="Slider",[uF,Cct,Ect]=Mu(lx),[Zhe,NAt]=nr(lx,[Ect]),[Mct,oN]=Zhe(lx),Qhe=M.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:f,onValueChange:d=()=>{},onValueCommit:h=()=>{},inverted:g=!1,form:v,...x}=t,m=M.useRef(new Set),p=M.useRef(0),_=o==="horizontal"?Act:Tct,[b=[],w]=$r({prop:f,defaultProp:c,onChange:O=>{var D;(D=[...m.current][p.current])==null||D.focus(),d(O)}}),E=M.useRef(b);function A(O){const I=Oct(b,O);N(O,I)}function T(O){N(O,p.current)}function P(){const O=E.current[p.current];b[p.current]!==O&&h(b)}function N(O,I,{commit:D}={commit:!1}){const F=Lct(s),$=Fct(Math.round((O-r)/s)*s+r,F),z=Wb($,[r,i]);w((H=[])=>{const R=Rct(H,z,I);if(Dct(R,l*s)){p.current=R.indexOf(z);const j=String(R)!==String(H);return j&&D&&h(R),j?R:H}else return H})}return u.jsx(Mct,{scope:t.__scopeSlider,name:n,disabled:a,min:r,max:i,valueIndexToChangeRef:p,thumbs:m.current,values:b,orientation:o,form:v,children:u.jsx(uF.Provider,{scope:t.__scopeSlider,children:u.jsx(uF.Slot,{scope:t.__scopeSlider,children:u.jsx(_,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:e,onPointerDown:Ie(x.onPointerDown,()=>{a||(E.current=b)}),min:r,max:i,inverted:g,onSlideStart:a?void 0:A,onSlideMove:a?void 0:T,onSlideEnd:a?void 0:P,onHomeKeyDown:()=>!a&&N(r,0,{commit:!0}),onEndKeyDown:()=>!a&&N(i,b.length-1,{commit:!0}),onStepKeyDown:({event:O,direction:I})=>{if(!a){const $=Khe.includes(O.key)||O.shiftKey&&Xhe.includes(O.key)?10:1,z=p.current,H=b[z],R=s*$*I;N(H+R,z,{commit:!0})}}})})})})});Qhe.displayName=lx;var[Jhe,epe]=Zhe(lx,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Act=M.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:c,...f}=t,[d,h]=M.useState(null),g=Nt(e,_=>h(_)),v=M.useRef(void 0),x=fl(i),m=x==="ltr",p=m&&!s||!m&&s;function y(_){const b=v.current||d.getBoundingClientRect(),w=[0,b.width],A=T$(w,p?[n,r]:[r,n]);return v.current=b,A(_-b.left)}return u.jsx(Jhe,{scope:t.__scopeSlider,startEdge:p?"left":"right",endEdge:p?"right":"left",direction:p?1:-1,size:"width",children:u.jsx(tpe,{dir:x,"data-orientation":"horizontal",...f,ref:g,style:{...f.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const b=y(_.clientX);o==null||o(b)},onSlideMove:_=>{const b=y(_.clientX);a==null||a(b)},onSlideEnd:()=>{v.current=void 0,l==null||l()},onStepKeyDown:_=>{const w=Yhe[p?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:w?-1:1})}})})}),Tct=M.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...c}=t,f=M.useRef(null),d=Nt(e,f),h=M.useRef(void 0),g=!i;function v(x){const m=h.current||f.current.getBoundingClientRect(),p=[0,m.height],_=T$(p,g?[r,n]:[n,r]);return h.current=m,_(x-m.top)}return u.jsx(Jhe,{scope:t.__scopeSlider,startEdge:g?"bottom":"top",endEdge:g?"top":"bottom",size:"height",direction:g?1:-1,children:u.jsx(tpe,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const m=v(x.clientY);s==null||s(m)},onSlideMove:x=>{const m=v(x.clientY);o==null||o(m)},onSlideEnd:()=>{h.current=void 0,a==null||a()},onStepKeyDown:x=>{const p=Yhe[g?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:p?-1:1})}})})}),tpe=M.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...c}=t,f=oN(lx,n);return u.jsx(Ze.span,{...c,ref:e,onKeyDown:Ie(t.onKeyDown,d=>{d.key==="Home"?(o(d),d.preventDefault()):d.key==="End"?(a(d),d.preventDefault()):Khe.concat(Xhe).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:Ie(t.onPointerDown,d=>{const h=d.target;h.setPointerCapture(d.pointerId),d.preventDefault(),f.thumbs.has(h)?h.focus():r(d)}),onPointerMove:Ie(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:Ie(t.onPointerUp,d=>{const h=d.target;h.hasPointerCapture(d.pointerId)&&(h.releasePointerCapture(d.pointerId),s(d))})})}),npe="SliderTrack",rpe=M.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=oN(npe,n);return u.jsx(Ze.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});rpe.displayName=npe;var dF="SliderRange",ipe=M.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=oN(dF,n),s=epe(dF,n),o=M.useRef(null),a=Nt(e,o),l=i.values.length,c=i.values.map(h=>ope(h,i.min,i.max)),f=l>1?Math.min(...c):0,d=100-Math.max(...c);return u.jsx(Ze.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:a,style:{...t.style,[s.startEdge]:f+"%",[s.endEdge]:d+"%"}})});ipe.displayName=dF;var fF="SliderThumb",spe=M.forwardRef((t,e)=>{const n=Cct(t.__scopeSlider),[r,i]=M.useState(null),s=Nt(e,a=>i(a)),o=M.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return u.jsx(Pct,{...t,ref:s,index:o})}),Pct=M.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,o=oN(fF,n),a=epe(fF,n),[l,c]=M.useState(null),f=Nt(e,y=>c(y)),d=l?o.form||!!l.closest("form"):!0,h=Qw(l),g=o.values[r],v=g===void 0?0:ope(g,o.min,o.max),x=kct(r,o.values.length),m=h==null?void 0:h[a.size],p=m?Ict(m,v,a.direction):0;return M.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),u.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${v}% + ${p}px)`},children:[u.jsx(uF.ItemSlot,{scope:t.__scopeSlider,children:u.jsx(Ze.span,{role:"slider","aria-label":t["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":g,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...s,ref:f,style:g===void 0?{display:"none"}:t.style,onFocus:Ie(t.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),d&&u.jsx(Nct,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:g},r)]})});spe.displayName=fF;var Nct=t=>{const{value:e,...n}=t,r=M.useRef(null),i=Zy(e);return M.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,l=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&l){const c=new Event("input",{bubbles:!0});l.call(s,e),s.dispatchEvent(c)}},[i,e]),u.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:e})};function Rct(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function ope(t,e,n){const s=100/(n-e)*(t-e);return Wb(s,[0,100])}function kct(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function Oct(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function Ict(t,e,n){const r=t/2,s=T$([0,50],[0,r]);return(r-s(e)*n)*n}function jct(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function Dct(t,e){if(e>0){const n=jct(t);return Math.min(...n)>=e}return!0}function T$(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Lct(t){return(String(t).split(".")[1]||"").length}function Fct(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var ape=Qhe,Bct=rpe,Uct=ipe,$ct=spe;const lpe=M.forwardRef(({className:t,...e},n)=>u.jsxs(ape,{ref:n,className:we("relative flex w-full touch-none select-none items-center",t),...e,children:[u.jsx(Bct,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:u.jsx(Uct,{className:"absolute h-full bg-primary"})}),u.jsx($ct,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));lpe.displayName=ape.displayName;var P$="Switch",[zct,RAt]=nr(P$),[Hct,Vct]=zct(P$),cpe=M.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:f,...d}=t,[h,g]=M.useState(null),v=Nt(e,_=>g(_)),x=M.useRef(!1),m=h?f||!!h.closest("form"):!0,[p=!1,y]=$r({prop:i,defaultProp:s,onChange:c});return u.jsxs(Hct,{scope:n,checked:p,disabled:a,children:[u.jsx(Ze.button,{type:"button",role:"switch","aria-checked":p,"aria-required":o,"data-state":fpe(p),"data-disabled":a?"":void 0,disabled:a,value:l,...d,ref:v,onClick:Ie(t.onClick,_=>{y(b=>!b),m&&(x.current=_.isPropagationStopped(),x.current||_.stopPropagation())})}),m&&u.jsx(Wct,{control:h,bubbles:!x.current,name:r,value:l,checked:p,required:o,disabled:a,form:f,style:{transform:"translateX(-100%)"}})]})});cpe.displayName=P$;var upe="SwitchThumb",dpe=M.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=Vct(upe,n);return u.jsx(Ze.span,{"data-state":fpe(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});dpe.displayName=upe;var Wct=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=M.useRef(null),o=Zy(n),a=Qw(e);return M.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&d){const h=new Event("click",{bubbles:r});d.call(l,n),l.dispatchEvent(h)}},[o,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fpe(t){return t?"checked":"unchecked"}var hpe=cpe,Gct=dpe;const ru=M.forwardRef(({className:t,...e},n)=>u.jsx(hpe,{className:we("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:n,children:u.jsx(Gct,{className:we("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ru.displayName=hpe.displayName;const vu=M.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:we("w-full caption-bottom text-sm",t),...e})}));vu.displayName="Table";const yu=M.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:we("[&_tr]:border-b",t),...e}));yu.displayName="TableHeader";const xu=M.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:we("[&_tr:last-child]:border-0",t),...e}));xu.displayName="TableBody";const qct=M.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:we("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));qct.displayName="TableFooter";const Ti=M.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:we("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ti.displayName="TableRow";const yn=M.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:we("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));yn.displayName="TableHead";const vn=M.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:we("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));vn.displayName="TableCell";const Kct=M.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:we("mt-4 text-sm text-muted-foreground",t),...e}));Kct.displayName="TableCaption";var N$="Tabs",[Xct,kAt]=nr(N$,[fc]),ppe=fc(),[Yct,R$]=Xct(N$),mpe=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,f=fl(a),[d,h]=$r({prop:r,onChange:i,defaultProp:s});return u.jsx(Yct,{scope:n,baseId:Br(),value:d,onValueChange:h,orientation:o,dir:f,activationMode:l,children:u.jsx(Ze.div,{dir:f,"data-orientation":o,...c,ref:e})})});mpe.displayName=N$;var gpe="TabsList",vpe=M.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=R$(gpe,n),o=ppe(n);return u.jsx(r1,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:r,children:u.jsx(Ze.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});vpe.displayName=gpe;var ype="TabsTrigger",xpe=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,o=R$(ype,n),a=ppe(n),l=wpe(o.baseId,r),c=Spe(o.baseId,r),f=r===o.value;return u.jsx(i1,{asChild:!0,...a,focusable:!i,active:f,children:u.jsx(Ze.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":c,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:Ie(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?o.onValueChange(r):d.preventDefault()}),onKeyDown:Ie(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&o.onValueChange(r)}),onFocus:Ie(t.onFocus,()=>{const d=o.activationMode!=="manual";!f&&!i&&d&&o.onValueChange(r)})})})});xpe.displayName=ype;var _pe="TabsContent",bpe=M.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...o}=t,a=R$(_pe,n),l=wpe(a.baseId,r),c=Spe(a.baseId,r),f=r===a.value,d=M.useRef(f);return M.useEffect(()=>{const h=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(h)},[]),u.jsx(gr,{present:i||f,children:({present:h})=>u.jsx(Ze.div,{"data-state":f?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:h&&s})})});bpe.displayName=_pe;function wpe(t,e){return`${t}-trigger-${e}`}function Spe(t,e){return`${t}-content-${e}`}var Zct=mpe,Cpe=vpe,Epe=xpe,Mpe=bpe;const pc=Zct,ml=M.forwardRef(({className:t,...e},n)=>u.jsx(Cpe,{ref:n,className:we("inline-flex h-10 items-center justify-center rounded-xl bg-card p-1 text-muted-foreground",t),...e}));ml.displayName=Cpe.displayName;const lr=M.forwardRef(({className:t,...e},n)=>u.jsx(Epe,{ref:n,className:we("inline-flex items-center justify-center whitespace-nowrap rounded-lg px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-primary/10 data-[state=active]:text-primary data-[state=active]:shadow-none",t),...e}));lr.displayName=Epe.displayName;const xn=M.forwardRef(({className:t,...e},n)=>u.jsx(Mpe,{ref:n,className:we("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2",t),...e}));xn.displayName=Mpe.displayName;const sc=M.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:we("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...e}));sc.displayName="Textarea";var k$="ToastProvider",[O$,Qct,Jct]=Mu("Toast"),[Ape,OAt]=nr("Toast",[Jct]),[eut,aN]=Ape(k$),Tpe=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=M.useState(null),[c,f]=M.useState(0),d=M.useRef(!1),h=M.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${k$}\`. Expected non-empty \`string\`.`),u.jsx(O$.Provider,{scope:e,children:u.jsx(eut,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:M.useCallback(()=>f(g=>g+1),[]),onToastRemove:M.useCallback(()=>f(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:o})})};Tpe.displayName=k$;var Ppe="ToastViewport",tut=["F8"],hF="toast.viewportPause",pF="toast.viewportResume",Npe=M.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=tut,label:i="Notifications ({hotkey})",...s}=t,o=aN(Ppe,n),a=Qct(n),l=M.useRef(null),c=M.useRef(null),f=M.useRef(null),d=M.useRef(null),h=Nt(e,d,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=o.toastCount>0;M.useEffect(()=>{const m=p=>{var _;r.length!==0&&r.every(b=>p[b]||p.code===b)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),M.useEffect(()=>{const m=l.current,p=d.current;if(v&&m&&p){const y=()=>{if(!o.isClosePausedRef.current){const E=new CustomEvent(hF);p.dispatchEvent(E),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const E=new CustomEvent(pF);p.dispatchEvent(E),o.isClosePausedRef.current=!1}},b=E=>{!m.contains(E.relatedTarget)&&_()},w=()=>{m.contains(document.activeElement)||_()};return m.addEventListener("focusin",y),m.addEventListener("focusout",b),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",w),window.addEventListener("blur",y),window.addEventListener("focus",_),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",b),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",w),window.removeEventListener("blur",y),window.removeEventListener("focus",_)}}},[v,o.isClosePausedRef]);const x=M.useCallback(({tabbingDirection:m})=>{const y=a().map(_=>{const b=_.ref.current,w=[b,...put(b)];return m==="forwards"?w:w.reverse()});return(m==="forwards"?y.reverse():y).flat()},[a]);return M.useEffect(()=>{const m=d.current;if(m){const p=y=>{var w,E,A;const _=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!_){const T=document.activeElement,P=y.shiftKey;if(y.target===m&&P){(w=c.current)==null||w.focus();return}const I=x({tabbingDirection:P?"backwards":"forwards"}),D=I.findIndex(F=>F===T);lI(I.slice(D+1))?y.preventDefault():P?(E=c.current)==null||E.focus():(A=f.current)==null||A.focus()}};return m.addEventListener("keydown",p),()=>m.removeEventListener("keydown",p)}},[a,x]),u.jsxs(GCe,{ref:l,role:"region","aria-label":i.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&u.jsx(mF,{ref:c,onFocusFromOutsideViewport:()=>{const m=x({tabbingDirection:"forwards"});lI(m)}}),u.jsx(O$.Slot,{scope:n,children:u.jsx(Ze.ol,{tabIndex:-1,...s,ref:h})}),v&&u.jsx(mF,{ref:f,onFocusFromOutsideViewport:()=>{const m=x({tabbingDirection:"backwards"});lI(m)}})]})});Npe.displayName=Ppe;var Rpe="ToastFocusProxy",mF=M.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=aN(Rpe,n);return u.jsx(l1,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});mF.displayName=Rpe;var lN="Toast",nut="toast.swipeStart",rut="toast.swipeMove",iut="toast.swipeCancel",sut="toast.swipeEnd",kpe=M.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=$r({prop:r,defaultProp:i,onChange:s});return u.jsx(gr,{present:n||a,children:u.jsx(lut,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Ln(t.onPause),onResume:Ln(t.onResume),onSwipeStart:Ie(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(t.onSwipeMove,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:Ie(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(t.onSwipeEnd,c=>{const{x:f,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});kpe.displayName=lN;var[out,aut]=Ape(lN,{onClose(){}}),lut=M.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:f,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:g,...v}=t,x=aN(lN,n),[m,p]=M.useState(null),y=Nt(e,F=>p(F)),_=M.useRef(null),b=M.useRef(null),w=i||x.duration,E=M.useRef(0),A=M.useRef(w),T=M.useRef(0),{onToastAdd:P,onToastRemove:N}=x,O=Ln(()=>{var $;(m==null?void 0:m.contains(document.activeElement))&&(($=x.viewport)==null||$.focus()),o()}),I=M.useCallback(F=>{!F||F===1/0||(window.clearTimeout(T.current),E.current=new Date().getTime(),T.current=window.setTimeout(O,F))},[O]);M.useEffect(()=>{const F=x.viewport;if(F){const $=()=>{I(A.current),c==null||c()},z=()=>{const H=new Date().getTime()-E.current;A.current=A.current-H,window.clearTimeout(T.current),l==null||l()};return F.addEventListener(hF,z),F.addEventListener(pF,$),()=>{F.removeEventListener(hF,z),F.removeEventListener(pF,$)}}},[x.viewport,w,l,c,I]),M.useEffect(()=>{s&&!x.isClosePausedRef.current&&I(w)},[s,w,x.isClosePausedRef,I]),M.useEffect(()=>(P(),()=>N()),[P,N]);const D=M.useMemo(()=>m?Bpe(m):null,[m]);return x.viewport?u.jsxs(u.Fragment,{children:[D&&u.jsx(cut,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:D}),u.jsx(out,{scope:n,onClose:O,children:Op.createPortal(u.jsx(O$.ItemSlot,{scope:n,children:u.jsx(WCe,{asChild:!0,onEscapeKeyDown:Ie(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||O(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(Ze.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...v,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ie(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,O()))}),onPointerDown:Ie(t.onPointerDown,F=>{F.button===0&&(_.current={x:F.clientX,y:F.clientY})}),onPointerMove:Ie(t.onPointerMove,F=>{if(!_.current)return;const $=F.clientX-_.current.x,z=F.clientY-_.current.y,H=!!b.current,R=["left","right"].includes(x.swipeDirection),j=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,B=R?j(0,$):0,W=R?0:j(0,z),G=F.pointerType==="touch"?10:2,K={x:B,y:W},ie={originalEvent:F,delta:K};H?(b.current=K,vC(rut,d,ie,{discrete:!1})):NK(K,x.swipeDirection,G)?(b.current=K,vC(nut,f,ie,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs($)>G||Math.abs(z)>G)&&(_.current=null)}),onPointerUp:Ie(t.onPointerUp,F=>{const $=b.current,z=F.target;if(z.hasPointerCapture(F.pointerId)&&z.releasePointerCapture(F.pointerId),b.current=null,_.current=null,$){const H=F.currentTarget,R={originalEvent:F,delta:$};NK($,x.swipeDirection,x.swipeThreshold)?vC(sut,g,R,{discrete:!0}):vC(iut,h,R,{discrete:!0}),H.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),cut=t=>{const{__scopeToast:e,children:n,...r}=t,i=aN(lN,e),[s,o]=M.useState(!1),[a,l]=M.useState(!1);return fut(()=>o(!0)),M.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:u.jsx(jy,{asChild:!0,children:u.jsx(l1,{...r,children:s&&u.jsxs(u.Fragment,{children:[i.label," ",n]})})})},uut="ToastTitle",Ope=M.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ze.div,{...r,ref:e})});Ope.displayName=uut;var dut="ToastDescription",Ipe=M.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(Ze.div,{...r,ref:e})});Ipe.displayName=dut;var jpe="ToastAction",Dpe=M.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(Fpe,{altText:n,asChild:!0,children:u.jsx(I$,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${jpe}\`. Expected non-empty \`string\`.`),null)});Dpe.displayName=jpe;var Lpe="ToastClose",I$=M.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=aut(Lpe,n);return u.jsx(Fpe,{asChild:!0,children:u.jsx(Ze.button,{type:"button",...r,ref:e,onClick:Ie(t.onClick,i.onClose)})})});I$.displayName=Lpe;var Fpe=M.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return u.jsx(Ze.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Bpe(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),hut(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...Bpe(r))}}),e}function vC(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?q_(i,s):i.dispatchEvent(s)}var NK=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function fut(t=()=>{}){const e=Ln(t);_r(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function hut(t){return t.nodeType===t.ELEMENT_NODE}function put(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function lI(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var mut=Tpe,Upe=Npe,$pe=kpe,zpe=Ope,Hpe=Ipe,Vpe=Dpe,Wpe=I$;const gut=mut,Gpe=M.forwardRef(({className:t,...e},n)=>u.jsx(Upe,{ref:n,className:we("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Gpe.displayName=Upe.displayName;const vut=Pu("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground",success:"success group border-green-500 bg-green-500 text-white",warning:"warning group border-orange-500 bg-orange-500 text-white"}},defaultVariants:{variant:"default"}}),qpe=M.forwardRef(({className:t,variant:e,...n},r)=>u.jsx($pe,{ref:r,className:we(vut({variant:e}),t),...n}));qpe.displayName=$pe.displayName;const yut=M.forwardRef(({className:t,...e},n)=>u.jsx(Vpe,{ref:n,className:we("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));yut.displayName=Vpe.displayName;const Kpe=M.forwardRef(({className:t,...e},n)=>u.jsx(Wpe,{ref:n,className:we("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(Pw,{className:"h-4 w-4"})}));Kpe.displayName=Wpe.displayName;const Xpe=M.forwardRef(({className:t,...e},n)=>u.jsx(zpe,{ref:n,className:we("text-sm font-semibold",t),...e}));Xpe.displayName=zpe.displayName;const Ype=M.forwardRef(({className:t,...e},n)=>u.jsx(Hpe,{ref:n,className:we("text-sm opacity-90",t),...e}));Ype.displayName=Hpe.displayName;const xut=1,_ut=5e3;let cI=0;function but(){return cI=(cI+1)%Number.MAX_SAFE_INTEGER,cI.toString()}const uI=new Map,RK=t=>{if(uI.has(t))return;const e=setTimeout(()=>{uI.delete(t),v_({type:"REMOVE_TOAST",toastId:t})},_ut);uI.set(t,e)},wut=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,xut)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?RK(n):t.toasts.forEach(r=>{RK(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},GE=[];let qE={toasts:[]};function v_(t){qE=wut(qE,t),GE.forEach(e=>{e(qE)})}function Sut({...t}){const e=but(),n=i=>v_({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>v_({type:"DISMISS_TOAST",toastId:e});return v_({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function to(){const[t,e]=M.useState(qE);return M.useEffect(()=>(GE.push(e),()=>{const n=GE.indexOf(e);n>-1&&GE.splice(n,1)}),[t]),{...t,toast:Sut,dismiss:n=>v_({type:"DISMISS_TOAST",toastId:n})}}function Cut(){const{toasts:t}=to();return u.jsxs(gut,{children:[t.map(function({id:e,title:n,description:r,action:i,variant:s,...o}){return u.jsxs(qpe,{...o,children:[u.jsxs("div",{className:"flex items-center",children:[s==="success"&&u.jsx(TSe,{className:"h-5 w-5 text-green-400 mr-3"}),s==="destructive"&&u.jsx(X_,{className:"h-5 w-5 text-red-400 mr-3"}),s==="warning"&&u.jsx(QSe,{className:"h-5 w-5 text-orange-400 mr-3"}),s==="default"&&u.jsx(USe,{className:"h-5 w-5 text-blue-400 mr-3"}),u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(Xpe,{children:n}),r&&u.jsx(Ype,{children:r})]})]}),i,u.jsx(Kpe,{})]},e)}),u.jsx(Gpe,{})]})}var Eut="Toggle",j$=M.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=t,[o=!1,a]=$r({prop:n,onChange:i,defaultProp:r});return u.jsx(Ze.button,{type:"button","aria-pressed":o,"data-state":o?"on":"off","data-disabled":t.disabled?"":void 0,...s,ref:e,onClick:Ie(t.onClick,()=>{t.disabled||a(!o)})})});j$.displayName=Eut;var Zpe=j$,cx="ToggleGroup",[Qpe,IAt]=nr(cx,[fc]),Jpe=fc(),D$=ne.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const i=r;return u.jsx(Mut,{...i,ref:e})}if(n==="multiple"){const i=r;return u.jsx(Aut,{...i,ref:e})}throw new Error(`Missing prop \`type\` expected on \`${cx}\``)});D$.displayName=cx;var[eme,tme]=Qpe(cx),Mut=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o,a]=$r({prop:n,defaultProp:r,onChange:i});return u.jsx(eme,{scope:t.__scopeToggleGroup,type:"single",value:o?[o]:[],onItemActivate:a,onItemDeactivate:ne.useCallback(()=>a(""),[a]),children:u.jsx(nme,{...s,ref:e})})}),Aut=ne.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=t,[o=[],a]=$r({prop:n,defaultProp:r,onChange:i}),l=ne.useCallback(f=>a((d=[])=>[...d,f]),[a]),c=ne.useCallback(f=>a((d=[])=>d.filter(h=>h!==f)),[a]);return u.jsx(eme,{scope:t.__scopeToggleGroup,type:"multiple",value:o,onItemActivate:l,onItemDeactivate:c,children:u.jsx(nme,{...s,ref:e})})});D$.displayName=cx;var[Tut,Put]=Qpe(cx),nme=ne.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:o,loop:a=!0,...l}=t,c=Jpe(n),f=fl(o),d={role:"group",dir:f,...l};return u.jsx(Tut,{scope:n,rovingFocus:i,disabled:r,children:i?u.jsx(r1,{asChild:!0,...c,orientation:s,dir:f,loop:a,children:u.jsx(Ze.div,{...d,ref:e})}):u.jsx(Ze.div,{...d,ref:e})})}),dT="ToggleGroupItem",rme=ne.forwardRef((t,e)=>{const n=tme(dT,t.__scopeToggleGroup),r=Put(dT,t.__scopeToggleGroup),i=Jpe(t.__scopeToggleGroup),s=n.value.includes(t.value),o=r.disabled||t.disabled,a={...t,pressed:s,disabled:o},l=ne.useRef(null);return r.rovingFocus?u.jsx(i1,{asChild:!0,...i,focusable:!o,active:s,ref:l,children:u.jsx(kK,{...a,ref:e})}):u.jsx(kK,{...a,ref:e})});rme.displayName=dT;var kK=ne.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...i}=t,s=tme(dT,n),o={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=s.type==="single"?o:void 0;return u.jsx(j$,{...a,...i,ref:e,onPressedChange:l=>{l?s.onItemActivate(r):s.onItemDeactivate(r)}})}),ime=D$,sme=rme;const ome=M.createContext({size:"default",variant:"default"}),Nut=M.forwardRef(({className:t,variant:e,size:n,children:r,...i},s)=>u.jsx(ime,{ref:s,className:we("flex items-center justify-center gap-1",t),...i,children:u.jsx(ome.Provider,{value:{variant:e,size:n},children:r})}));Nut.displayName=ime.displayName;const Rut=M.forwardRef(({className:t,children:e,variant:n,size:r,...i},s)=>{const o=M.useContext(ome);return u.jsx(sme,{ref:s,className:we(ame({variant:o.variant||n,size:o.size||r}),t),...i,children:e})});Rut.displayName=sme.displayName;const ame=Pu("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),kut=M.forwardRef(({className:t,variant:e,size:n,...r},i)=>u.jsx(Zpe,{ref:i,className:we(ame({variant:e,size:n,className:t})),...r}));kut.displayName=Zpe.displayName;var[cN,jAt]=nr("Tooltip",[dc]),uN=dc(),lme="TooltipProvider",Out=700,gF="tooltip.open",[Iut,L$]=cN(lme),cme=t=>{const{__scopeTooltip:e,delayDuration:n=Out,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=M.useRef(!0),a=M.useRef(!1),l=M.useRef(0);return M.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(Iut,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:M.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:M.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:M.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};cme.displayName=lme;var dN="Tooltip",[jut,fN]=cN(dN),ume=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=L$(dN,t.__scopeTooltip),c=uN(e),[f,d]=M.useState(null),h=Br(),g=M.useRef(0),v=o??l.disableHoverableContent,x=a??l.delayDuration,m=M.useRef(!1),[p=!1,y]=$r({prop:r,defaultProp:i,onChange:A=>{A?(l.onOpen(),document.dispatchEvent(new CustomEvent(gF))):l.onClose(),s==null||s(A)}}),_=M.useMemo(()=>p?m.current?"delayed-open":"instant-open":"closed",[p]),b=M.useCallback(()=>{window.clearTimeout(g.current),g.current=0,m.current=!1,y(!0)},[y]),w=M.useCallback(()=>{window.clearTimeout(g.current),g.current=0,y(!1)},[y]),E=M.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{m.current=!0,y(!0),g.current=0},x)},[x,y]);return M.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),u.jsx(V2,{...c,children:u.jsx(jut,{scope:e,contentId:h,open:p,stateAttribute:_,trigger:f,onTriggerChange:d,onTriggerEnter:M.useCallback(()=>{l.isOpenDelayedRef.current?E():b()},[l.isOpenDelayedRef,E,b]),onTriggerLeave:M.useCallback(()=>{v?w():(window.clearTimeout(g.current),g.current=0)},[w,v]),onOpen:b,onClose:w,disableHoverableContent:v,children:n})})};ume.displayName=dN;var vF="TooltipTrigger",dme=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=fN(vF,n),s=L$(vF,n),o=uN(n),a=M.useRef(null),l=Nt(e,a,i.onTriggerChange),c=M.useRef(!1),f=M.useRef(!1),d=M.useCallback(()=>c.current=!1,[]);return M.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),u.jsx(ex,{asChild:!0,...o,children:u.jsx(Ze.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ie(t.onPointerMove,h=>{h.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:Ie(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ie(t.onBlur,i.onClose),onClick:Ie(t.onClick,i.onClose)})})});dme.displayName=vF;var Dut="TooltipPortal",[DAt,Lut]=cN(Dut,{forceMount:void 0}),cy="TooltipContent",fme=M.forwardRef((t,e)=>{const n=Lut(cy,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=fN(cy,t.__scopeTooltip);return u.jsx(gr,{present:r||o.open,children:o.disableHoverableContent?u.jsx(hme,{side:i,...s,ref:e}):u.jsx(Fut,{side:i,...s,ref:e})})}),Fut=M.forwardRef((t,e)=>{const n=fN(cy,t.__scopeTooltip),r=L$(cy,t.__scopeTooltip),i=M.useRef(null),s=Nt(e,i),[o,a]=M.useState(null),{trigger:l,onClose:c}=n,f=i.current,{onPointerInTransitChange:d}=r,h=M.useCallback(()=>{a(null),d(!1)},[d]),g=M.useCallback((v,x)=>{const m=v.currentTarget,p={x:v.clientX,y:v.clientY},y=Hut(p,m.getBoundingClientRect()),_=Vut(p,y),b=Wut(x.getBoundingClientRect()),w=qut([..._,...b]);a(w),d(!0)},[d]);return M.useEffect(()=>()=>h(),[h]),M.useEffect(()=>{if(l&&f){const v=m=>g(m,f),x=m=>g(m,l);return l.addEventListener("pointerleave",v),f.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",v),f.removeEventListener("pointerleave",x)}}},[l,f,g,h]),M.useEffect(()=>{if(o){const v=x=>{const m=x.target,p={x:x.clientX,y:x.clientY},y=(l==null?void 0:l.contains(m))||(f==null?void 0:f.contains(m)),_=!Gut(p,o);y?h():_&&(h(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,f,o,c,h]),u.jsx(hme,{...t,ref:s})}),[But,Uut]=cN(dN,{isInside:!1}),$ut=Bee("TooltipContent"),hme=M.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=fN(cy,n),c=uN(n),{onClose:f}=l;return M.useEffect(()=>(document.addEventListener(gF,f),()=>document.removeEventListener(gF,f)),[f]),M.useEffect(()=>{if(l.trigger){const d=h=>{const g=h.target;g!=null&&g.contains(l.trigger)&&f()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,f]),u.jsx(Tu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:d=>d.preventDefault(),onDismiss:f,children:u.jsxs(t1,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx($ut,{children:r}),u.jsx(But,{scope:n,isInside:!0,children:u.jsx(wde,{id:l.contentId,role:"tooltip",children:i||r})})]})})});fme.displayName=cy;var pme="TooltipArrow",zut=M.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=uN(n);return Uut(pme,n).isInside?null:u.jsx(n1,{...i,...r,ref:e})});zut.displayName=pme;function Hut(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Vut(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function Wut(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function Gut(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,f=e[o].y;l>r!=f>r&&n<(c-a)*(r-l)/(f-l)+a&&(i=!i)}return i}function qut(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Kut(e)}function Kut(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Xut=cme,Yut=ume,Zut=dme,mme=fme;const F$=Xut,gme=Yut,vme=Zut,B$=M.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(mme,{ref:r,sideOffset:e,className:we("z-50 overflow-hidden rounded-xl card-glow bg-popover px-3 py-1.5 text-sm text-popover-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));B$.displayName=mme.displayName;const OK=t=>{let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const h=e;e=f??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(g=>g(e,h))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},Qut=t=>t?OK(t):OK,Jut=t=>t;function edt(t,e=Jut){const n=ne.useSyncExternalStore(t.subscribe,ne.useCallback(()=>e(t.getState()),[t,e]),ne.useCallback(()=>e(t.getInitialState()),[t,e]));return ne.useDebugValue(n),n}const IK=t=>{const e=Qut(t),n=r=>edt(e,r);return Object.assign(n,e),n},tdt=t=>t?IK(t):IK,d1=tdt(t=>({currentModule:"vareon",theme:typeof window<"u"&&window.localStorage.getItem("theme")==="light"?"light":"dark",performanceMode:!1,systemStatus:{arcana:"online",myntrix:"online",neosyntis:"online",cognisys:"online"},commandPaletteOpen:!1,sidebarCollapsed:!1,notifications:[],setCurrentModule:e=>t({currentModule:e}),toggleTheme:()=>t(e=>{const n=e.theme==="dark"?"light":"dark";return typeof window<"u"&&(window.localStorage.setItem("theme",n),document.documentElement.classList.toggle("dark",n==="dark")),{theme:n}}),togglePerformanceMode:()=>t(e=>({performanceMode:!e.performanceMode})),setSystemStatus:(e,n)=>t(r=>({systemStatus:{...r.systemStatus,[e]:n}})),toggleCommandPalette:()=>t(e=>({commandPaletteOpen:!e.commandPaletteOpen})),toggleSidebar:()=>t(e=>({sidebarCollapsed:!e.sidebarCollapsed})),addNotification:(e,n)=>t(r=>({notifications:[...r.notifications,{id:Date.now().toString(),message:e,type:n}]})),removeNotification:e=>t(n=>({notifications:n.notifications.filter(r=>r.id!==e)}))}));if(typeof window<"u"){const t=d1.getState().theme;document.documentElement.classList.toggle("dark",t==="dark")}function ndt({children:t}){const e=d1(n=>n.theme);return M.useEffect(()=>{const n=window.document.documentElement;n.classList.remove("light","dark"),n.classList.add(e)},[e]),u.jsx(u.Fragment,{children:t})}function rdt(){const{theme:t,toggleTheme:e}=d1();return u.jsx("button",{onClick:e,className:"flex items-center justify-center w-9 h-9 rounded-md hover-elevate active-elevate-2","data-testid":"button-theme-toggle","aria-label":"Toggle theme",children:t==="dark"?u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):u.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})}function idt(){const[,t]=vi(),{commandPaletteOpen:e,toggleCommandPalette:n}=d1();M.useEffect(()=>{const s=o=>{o.key==="k"&&(o.metaKey||o.ctrlKey)&&(o.preventDefault(),n())};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[n]);const r=M.useMemo(()=>[{group:"Modules",items:[{icon:ute,label:"VAREON Dashboard",path:"/dashboard",keywords:"home dashboard portal"},{icon:el,label:"NEOSYNTIS Lab",path:"/dashboard/neosyntis",keywords:"research workflow dataset search"},{icon:Ja,label:"MYNTRIX Core",path:"/dashboard/myntrix",keywords:"agents hardware cnc device"},{icon:df,label:"COGNISYS",path:"/dashboard/cognisys",keywords:"models routing orchestration"},{icon:ol,label:"ARCANA System",path:"/dashboard/arcana",keywords:"chat ai terminal shell"}]},{group:"NEOSYNTIS",items:[{icon:el,label:"Search Engine",path:"/dashboard/neosyntis?tab=search",keywords:"research workflow dataset search"},{icon:kP,label:"Datasets",path:"/dashboard/neosyntis?tab=datasets",keywords:"data dataset huggingface"},{icon:jM,label:"Workflow Builder",path:"/dashboard/neosyntis?tab=workflow",keywords:"workflow nodes automation"},{icon:lp,label:"Telemetry",path:"/dashboard/neosyntis?tab=telemetry",keywords:"metrics stats logs"},{icon:cp,label:"Device Settings",path:"/dashboard/neosyntis?tab=devices",keywords:"cnc esp32 arduino"}]},{group:"MYNTRIX",items:[{icon:Vl,label:"Agent Manager",path:"/dashboard/myntrix?tab=agents",keywords:"agents ai bots"},{icon:jM,label:"Task Scheduler",path:"/dashboard/myntrix?tab=scheduler",keywords:"tasks schedule cron"},{icon:Ja,label:"Device Control",path:"/dashboard/myntrix?tab=devices",keywords:"device cnc 3d hardware"},{icon:lp,label:"Resource Monitor",path:"/dashboard/myntrix?tab=monitor",keywords:"cpu memory resources"}]},{group:"Actions",items:[{icon:Vl,label:"Start New Chat",path:"/dashboard/arcana?action=new-chat",keywords:"chat conversation"},{icon:ol,label:"Open Terminal",path:"/dashboard/arcana?tab=terminal",keywords:"shell command line"},{icon:I0,label:"Create Workflow",path:"/dashboard/neosyntis?tab=workflow&action=new",keywords:"workflow create new"},{icon:cp,label:"Settings",path:"/dashboard/settings",keywords:"settings preferences config"}]}],[]),i=s=>{t(s),n()};return u.jsxs(tnt,{open:e,onOpenChange:n,children:[u.jsx(Tle,{placeholder:"Type a command or search..."}),u.jsxs(Ple,{children:[u.jsx(Nle,{children:"No results found."}),r.map(s=>u.jsx(Rle,{heading:s.group,children:s.items.map(o=>u.jsxs(kle,{value:`${o.label} ${o.keywords}`,onSelect:()=>i(o.path),"data-testid":`command-${o.label.toLowerCase().replace(/\s+/g,"-")}`,children:[u.jsx(o.icon,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:o.label})]},o.path))},s.group))]})]})}function _a(){const[t,e]=M.useState({isLoggedIn:!1,token:null}),[,n]=vi();return M.useEffect(()=>{const s=localStorage.getItem("access_token");e(s?{isLoggedIn:!0,token:s}:{isLoggedIn:!1,token:null})},[n]),{...t,login:s=>{localStorage.setItem("access_token",s),e({isLoggedIn:!0,token:s}),n("/dashboard")},logout:()=>{localStorage.removeItem("access_token"),e({isLoggedIn:!1,token:null}),n("/")}}}function hN(){const[t,e]=vi(),[n,r]=M.useState(!1),{isLoggedIn:i,logout:s}=_a(),o=[{path:"/",label:"Home"},{path:"/arcana-demo",label:"Arcana AI"},{path:"/neosyntis-demo",label:"NEOSYNTIS"},{path:"/myntrix-demo",label:"MYNTRIX"},{path:"/dashboard",label:"Dashboard"}],a=()=>{e(i?"/dashboard":"/auth"),r(!1)},l=()=>{s(),r(!1)};return u.jsx("nav",{className:"w-full",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex h-16 items-center justify-between",children:[u.jsx(La,{href:"/",children:u.jsxs("a",{className:"flex items-center space-x-2 rounded-lg py-2 group",children:[u.jsx(ti.div,{className:"flex h-9 w-9 items-center justify-center rounded-lg bg-primary",whileHover:{scale:1.1},transition:{type:"spring",stiffness:400,damping:10},children:u.jsx("span",{className:"text-xl font-bold text-primary-foreground",children:"V"})}),u.jsx("span",{className:"text-2xl font-extrabold text-foreground text-glow",children:"VAREON"})]})}),u.jsx("div",{className:"hidden items-center space-x-4 md:flex",children:o.map(c=>u.jsx(La,{href:c.path,children:u.jsxs(ti.a,{className:"relative px-3 py-2 text-sm font-medium transition-colors duration-200 text-muted-foreground hover:text-primary",whileHover:{color:"hsl(var(--primary))"},children:[c.label,t===c.path&&u.jsx(ti.span,{layoutId:"underline",className:"absolute inset-x-0 bottom-0 h-0.5 bg-primary rounded-full",initial:{scaleX:0},animate:{scaleX:1},transition:{type:"spring",stiffness:500,damping:30}})]})},c.path))}),u.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:i?u.jsxs(u.Fragment,{children:[u.jsx(Ce,{variant:"ghost",size:"sm",onClick:l,className:"text-muted-foreground hover:text-foreground",children:"Logout"}),u.jsx(La,{href:"/dashboard",children:u.jsx(Ce,{size:"sm",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Dashboard"})})]}):u.jsxs(u.Fragment,{children:[u.jsx(La,{href:"/auth",children:u.jsx(Ce,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground",children:"Sign In"})}),u.jsx(Ce,{size:"sm",onClick:a,"data-testid":"button-get-started",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Get Started"})]})}),u.jsx(Ce,{variant:"ghost",size:"icon",className:"md:hidden text-muted-foreground hover:text-foreground",onClick:()=>r(!n),"data-testid":"button-mobile-menu",children:n?u.jsx(Pw,{className:"h-5 w-5"}):u.jsx(VSe,{className:"h-5 w-5"})})]}),u.jsx(YB,{children:n&&u.jsx(ti.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"border-t border-border py-4 md:hidden",children:u.jsxs("div",{className:"flex flex-col space-y-2",children:[o.map(c=>u.jsx(La,{href:c.path,children:u.jsx("a",{className:"rounded-lg px-4 py-2 text-sm font-medium text-muted-foreground hover:bg-muted/50 hover:text-foreground",onClick:()=>r(!1),children:c.label})},c.path)),u.jsx("div",{className:"flex flex-col space-y-2 pt-4",children:i?u.jsxs(u.Fragment,{children:[u.jsx(La,{href:"/dashboard",children:u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"w-full justify-start text-muted-foreground hover:text-foreground",children:"Dashboard"})}),u.jsx(Ce,{size:"sm",onClick:l,className:"w-full justify-start bg-primary text-primary-foreground hover:bg-primary/90",children:"Logout"})]}):u.jsxs(u.Fragment,{children:[u.jsx(La,{href:"/auth",children:u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>r(!1),className:"w-full justify-start text-muted-foreground hover:text-foreground",children:"Sign In"})}),u.jsx(Ce,{size:"sm",onClick:a,className:"w-full justify-start bg-primary text-primary-foreground hover:bg-primary/90",children:"Get Started"})]})})]})})})]})})}function pN(){return u.jsx("footer",{className:"w-full border-t border-border bg-card py-6 text-center text-muted-foreground",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("p",{className:"text-sm",children:[" ",new Date().getFullYear()," VAREON. All rights reserved."]}),u.jsx("p",{className:"mt-2 text-xs",children:"Built with Adaptive Intelligence and Multi-Agent Orchestration."})]})})}function sdt({children:t}){return u.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[u.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/80 backdrop-blur-md",children:u.jsx(hN,{})}),u.jsx("main",{className:"flex-grow",children:t}),u.jsx(pN,{})]})}const odt=[{icon:uf,title:"Intent Detection",description:"Automatically classifies user requests into shell commands, code generation, or conversation using specialized LLM models.",model:"mistralai/mistral-small-3.2-24b"},{icon:Ev,title:"Code Generation",description:"Generates complete, runnable code in multiple languages with context-aware suggestions and error fixing capabilities.",model:"moonshotai/kimi-dev-72b"},{icon:ol,title:"Shell Command Translation",description:"Converts natural language instructions into safe, executable shell commands with whitelist-based security.",model:"nvidia/llama-3.3-nemotron-super-49b"},{icon:cB,title:"Reasoning System",description:"Generates detailed reasoning traces explaining the AI's thought process and planned actions before execution.",enabled:"Configurable"},{icon:aB,title:"Conversational AI",description:"Maintains context-aware conversations with chat history, providing helpful assistance for general queries.",model:"mistralai/mistral-small-3.2-24b"},{icon:OSe,title:"File Operations",description:"Manages generated code files, uploaded documents, and system artifacts with security-restricted access controls.",storage:"In-memory / File system"}];function adt(){return u.jsx("div",{className:"bg-background py-24",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Arcana AI Capabilities"}),u.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Multi-model LLM orchestration powering the entire VAREON ecosystem"})]}),u.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:odt.map(t=>u.jsxs(Be,{className:"group border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsx(t.icon,{className:"h-10 w-10 text-primary transition-transform duration-300 group-hover:scale-110"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),u.jsx("h3",{className:"mb-3 text-lg font-semibold text-foreground",children:t.title}),u.jsx("p",{className:"mb-4 text-sm text-muted-foreground",children:t.description}),(t.model||t.enabled||t.storage)&&u.jsx("div",{className:"rounded-lg bg-muted/50 px-3 py-2",children:u.jsxs("div",{className:"text-xs font-medium text-muted-foreground",children:[t.model&&`Model: ${t.model.split("/")[1]}`,t.enabled&&`Status: ${t.enabled}`,t.storage&&`Storage: ${t.storage}`]})})]},t.title))}),u.jsx("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Legacy Integration Architecture"}),u.jsx("p",{className:"mx-auto max-w-3xl text-muted-foreground",children:"The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All legacy modules (ai_core.py, ai_services.py, llm_utils.py) are preserved in myntrix_core/lib/legacy/ and accessed via safe wrapper functions, enabling the entire ecosystem to leverage proven AI capabilities while maintaining modern architecture standards."})]})})]})})}function ldt(){const t=[{id:"arcana",label:"Arcana AI",subtitle:"Intelligence Core"},{id:"neosyntis",label:"NEOSYNTIS",subtitle:"Development Lab"},{id:"myntrix",label:"MYNTRIX",subtitle:"Execution Core"},{id:"edge",label:"Edge Devices",subtitle:"Production"}];return u.jsx("div",{className:"bg-card py-24",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"How It Works"}),u.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Seamless integration from AI reasoning to production execution"})]}),u.jsx("div",{className:"flex flex-col items-center space-y-8 md:flex-row md:space-x-4 md:space-y-0",children:t.map((e,n)=>u.jsxs("div",{className:"flex items-center",children:[u.jsxs("div",{className:"group relative transition-all duration-300 hover:scale-105 hover:shadow-xl",children:[u.jsx("div",{className:"absolute -inset-1 rounded-xl bg-gradient-to-r from-primary to-chart-2 opacity-25 blur transition group-hover:opacity-50"}),u.jsxs("div",{className:"relative flex h-32 w-40 flex-col items-center justify-center rounded-xl border border-border bg-background p-4",children:[u.jsx("div",{className:"mb-2 text-lg font-bold text-foreground",children:e.label}),u.jsx("div",{className:"text-xs text-muted-foreground",children:e.subtitle})]})]}),n<t.length-1&&u.jsx(Aw,{className:"mx-4 hidden h-8 w-8 text-primary md:block animate-pulse-horizontal"})]},e.id))}),u.jsxs("div",{className:"mt-16 grid gap-6 md:grid-cols-3",children:[u.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[u.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"1. AI Processing"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Arcana AI analyzes tasks using multi-model orchestration, intent detection, and reasoning capabilities"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[u.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"2. Validation"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"MYNTRIX validates execution plans, performs safety checks, and requires human approval for critical operations"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-background p-6",children:[u.jsx("div",{className:"mb-3 text-lg font-semibold text-foreground",children:"3. Execution"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Commands are executed on edge devices with real-time telemetry monitoring and status updates"})]})]})]})})}function cdt(){const[t,e]=M.useState(!0),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,a]=M.useState(""),{toast:l}=to(),[c,f]=vi();M.useEffect(()=>{const p=new URLSearchParams(window.location.search),y=p.get("oauth_success"),_=p.get("token"),b=p.get("error"),w=p.get("needs_github_app_install");y==="true"&&_?(localStorage.setItem("access_token",_),l({title:"Login Successful",description:"You have been logged in via OAuth.",variant:"success"}),w==="true"?window.location.href=`/api/git/github/app/install?token=${_}`:f("/dashboard",{replace:!0})):y==="false"&&b&&(l({title:"OAuth Login Failed",description:`Error: ${b}`,variant:"destructive"}),f("/auth",{replace:!0}))},[c,f,l]);const d=Ft({mutationFn:async p=>{const y=await fetch("/api/token",{method:"POST",body:p});if(!y.ok){const _=await y.json();throw new Error(_.detail||"Login failed")}return y.json()},onSuccess:p=>{localStorage.setItem("access_token",p.access_token),l({title:"Login Successful",description:"You have been logged in.",variant:"success"}),f("/dashboard")},onError:p=>{l({title:"Login Failed",description:p.message||"An unexpected error occurred.",variant:"destructive"})}}),h=Ft({mutationFn:async p=>{const y=await fetch("/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok){const _=await y.json();throw new Error(_.detail||"Registration failed")}return y.json()},onSuccess:p=>{l({title:"Registration Successful",description:"Please check your email to verify your account.",variant:"success"}),f("/waiting-for-verification")},onError:p=>{l({title:"Registration Failed",description:p.message||"An unexpected error occurred.",variant:"destructive"})}}),g=p=>{if(p.preventDefault(),t){const y=new FormData;y.append("username",n),y.append("password",o),d.mutate(y)}else h.mutate({email:n,username:i,password:o})},v=()=>{window.location.href="/api/auth/google/authorize"},x=()=>{window.location.href="/api/auth/github/login/authorize"},m=d.isPending||h.isPending;return u.jsxs(Be,{className:"w-full max-w-md mx-auto card-glow bg-card",children:[u.jsxs(Xe,{className:"text-center",children:[u.jsx(qe,{className:"text-3xl font-bold text-primary",children:t?"Welcome Back":"Create Account"}),u.jsx(Et,{className:"text-muted-foreground",children:t?"Sign in to access your dashboard":"Get started with VAREON"})]}),u.jsx(Ke,{children:u.jsxs("form",{onSubmit:g,className:"space-y-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx(zSe,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Dt,{id:"email",type:"email",placeholder:"Email",value:n,onChange:p=>r(p.target.value),required:!0,className:"pl-10"})]}),u.jsx(YB,{mode:"wait",children:!t&&u.jsx(ti.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:u.jsxs("div",{className:"relative",children:[u.jsx(Av,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Dt,{id:"username",type:"text",placeholder:"Username",value:i,onChange:p=>s(p.target.value),required:!t,className:"pl-10"})]})})}),u.jsxs("div",{className:"relative",children:[u.jsx(LD,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Dt,{id:"password",type:"password",placeholder:"Password",value:o,onChange:p=>a(p.target.value),required:!0,className:"pl-10"})]}),u.jsx(Ce,{type:"submit",className:"w-full",disabled:m,children:m?u.jsx(Zt,{className:"animate-spin"}):t?"Login":"Sign Up"}),u.jsxs("div",{className:"relative flex items-center py-5",children:[u.jsx("div",{className:"flex-grow border-t border-border"}),u.jsx("span",{className:"flex-shrink mx-4 text-muted-foreground text-sm",children:"OR"}),u.jsx("div",{className:"flex-grow border-t border-border"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Ce,{type:"button",variant:"outline",className:"w-full gap-2 border-primary text-primary hover:bg-primary/10",onClick:v,children:[u.jsx(ASe,{className:"h-5 w-5"})," Login with Google"]}),u.jsxs(Ce,{type:"button",variant:"outline",className:"w-full gap-2 border-primary text-primary hover:bg-primary/10",onClick:x,children:[u.jsx(IM,{className:"h-5 w-5"})," Login with GitHub"]})]}),u.jsxs("p",{className:"text-center text-sm text-muted-foreground",children:[t?"Don't have an account?":"Already have an account?",u.jsx(Ce,{variant:"link",className:"pl-1",onClick:()=>e(!t),type:"button",children:t?"Sign Up":"Login"})]})]})})]})}function udt(){const[t,e]=M.useState([{role:"assistant",content:"Hello! I'm Arcana AI. I can help you with code generation, shell commands, or general conversation. What would you like to work on?",type:"text"}]),[n,r]=M.useState(""),[i,s]=M.useState(!1),o=async()=>{if(!n.trim())return;const a={role:"user",content:n,type:"text"};e(c=>[...c,a]);const l=n;r(""),s(!0);try{const c=await fetch("/api/chat/demo",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l})});if(!c.ok)throw new Error(`API request failed with status ${c.status}`);const d={role:"assistant",content:(await c.json()).response||"Sorry, I couldn't get a response.",type:"text"};e(h=>[...h,d])}catch(c){console.error("Failed to send message:",c);const f={role:"assistant",content:"Sorry, something went wrong. Please try again later.",type:"text"};e(d=>[...d,f])}finally{s(!1)}};return u.jsxs("div",{className:"flex h-[600px] flex-col rounded-xl border border-border bg-card",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border p-4",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Vl,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"font-semibold text-foreground",children:"Arcana AI"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-sm text-muted-foreground",children:"Online"})]})]}),u.jsxs("div",{className:"flex-1 space-y-4 overflow-y-auto p-4",children:[t.map((a,l)=>u.jsx("div",{className:`flex animate-fade-in-up ${a.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`flex max-w-[80%] space-x-2 ${a.role==="user"?"flex-row-reverse space-x-reverse":""}`,children:[u.jsx("div",{className:`flex h-8 w-8 shrink-0 items-center justify-center rounded-full ${a.role==="user"?"bg-primary":"bg-muted"}`,children:a.role==="user"?u.jsx(Av,{className:"h-4 w-4 text-primary-foreground"}):u.jsx(Vl,{className:"h-4 w-4 text-foreground"})}),u.jsxs("div",{className:`rounded-xl p-3 ${a.role==="user"?"bg-primary/20 text-foreground":a.type==="code"||a.type==="command"?"bg-muted font-mono text-sm border border-border":"bg-muted text-foreground"}`,children:[a.type==="code"&&u.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[u.jsx(Ev,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:a.language||"code"})]}),a.type==="command"&&u.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[u.jsx(ol,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"shell"})]}),u.jsx("div",{className:"whitespace-pre-wrap",children:a.content})]})]})},l)),i&&u.jsx("div",{className:"flex justify-start",children:u.jsxs("div",{className:"flex max-w-[80%] space-x-2",children:[u.jsx("div",{className:"flex h-8 w-8 shrink-0 items-center justify-center rounded-full bg-muted",children:u.jsx(Vl,{className:"h-4 w-4 text-foreground"})}),u.jsx("div",{className:"rounded-xl p-3 bg-muted text-foreground",children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{className:"animate-pulse-dot",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]})})]})})]}),u.jsx("div",{className:"border-t border-border p-4",children:u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(sc,{value:n,onChange:a=>r(a.target.value),placeholder:"Ask Arcana AI anything...",className:"min-h-[60px] resize-none",onKeyDown:a=>{a.key==="Enter"&&!a.shiftKey&&(a.preventDefault(),o())},"data-testid":"input-chat-message"}),u.jsx(Ce,{onClick:o,size:"icon",className:"shrink-0","data-testid":"button-send-message",children:u.jsx(lB,{className:"h-4 w-4"})})]})})]})}const ddt=[{icon:uf,title:"Arcana AI",description:"Multi-model LLM orchestration with intent detection, code generation, and reasoning capabilities. The intelligent core powering the entire ecosystem.",features:["Intent Detection","Code Generation","Shell Commands","Reasoning System"],href:"/arcana-demo",color:"text-primary"},{icon:lte,title:"NEOSYNTIS Lab",description:"Interactive research dashboard for AI-powered development. Real-time collaboration, telemetry visualization, and intelligent task execution.",features:["AI Chat Interface","File Management","WebSocket Terminal","Analytics"],href:"/neosyntis-demo",color:"text-chart-2"},{icon:Ja,title:"MYNTRIX Core",description:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety.",features:["Job Planning","Safety Validation","Dry-run Mode","MQTT Integration"],href:"/myntrix-demo",color:"text-chart-3"}];function fdt(){return u.jsx("div",{className:"bg-background py-24",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-16 text-center",children:[u.jsx("h2",{className:"mb-4 text-4xl font-bold text-foreground",children:"Integrated Ecosystem"}),u.jsx("p",{className:"mx-auto max-w-2xl text-lg text-muted-foreground",children:"Three powerful platforms working in harmony to deliver adaptive intelligence from development to deployment."})]}),u.jsx("div",{className:"grid gap-8 md:grid-cols-3",children:ddt.map(t=>u.jsxs(Be,{className:"group relative overflow-hidden border border-card-border p-6 transition-all duration-300 hover:shadow-lg hover:border-primary/50",children:[u.jsx("div",{className:"mb-4",children:u.jsx(t.icon,{className:`h-12 w-12 ${t.color} transition-transform duration-300 group-hover:scale-110`})}),u.jsx("h3",{className:"mb-3 text-2xl font-semibold text-foreground",children:t.title}),u.jsx("p",{className:"mb-6 text-muted-foreground",children:t.description}),u.jsx("div",{className:"mb-6 space-y-2",children:t.features.map(e=>u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-1.5 w-1.5 rounded-full bg-primary"}),u.jsx("span",{className:"text-sm text-foreground",children:e})]},e))}),u.jsx(La,{href:t.href,children:u.jsxs(Ce,{variant:"ghost",className:"group/btn w-full justify-between","data-testid":`button-explore-${t.title.toLowerCase().replace(" ","-")}`,children:["Explore ",t.title,u.jsx(Aw,{className:"h-4 w-4 transition-transform group-hover/btn:translate-x-1"})]})})]},t.title))})]})})}function hdt(){const t={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},e={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return u.jsxs("div",{className:"relative min-h-[calc(100vh-4rem)] flex items-center justify-center overflow-hidden",children:[u.jsxs("div",{className:"absolute inset-0 z-0 opacity-10",children:[u.jsx("div",{className:"absolute inset-0 bg-grid-small-white/[0.2] [mask-image:linear-gradient(to_b,white,transparent)]"}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 via-transparent to-transparent opacity-50"})]}),u.jsx(ti.div,{className:"relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8 z-10",variants:t,initial:"hidden",animate:"visible",children:u.jsxs("div",{className:"flex min-h-[60vh] flex-col items-center justify-center text-center",children:[u.jsxs(ti.div,{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2",variants:e,children:[u.jsx(IP,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"Powered by Arcana AI"})]}),u.jsxs(ti.h1,{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl md:text-7xl text-glow",variants:e,children:["Engineering",u.jsx("br",{}),u.jsx(ti.span,{className:"bg-gradient-to-r from-primary to-blue-400 bg-clip-text text-transparent",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:1},children:"Adaptive Intelligence"})]}),u.jsx(ti.p,{className:"mb-12 max-w-2xl text-lg text-muted-foreground sm:text-xl",variants:e,children:"The VAREON ecosystem integrates cutting-edge AI with manufacturing execution systems. From research to production, powered by Arcana's multi-model orchestration."}),u.jsxs(ti.div,{className:"flex flex-col items-center space-y-4 sm:flex-row sm:space-x-4 sm:space-y-0",variants:e,children:[u.jsx(La,{href:"/neosyntis-demo",children:u.jsxs(Ce,{size:"lg",className:"group bg-primary text-primary-foreground hover:bg-primary/90",children:["Try NEOSYNTIS Lab",u.jsx(Aw,{className:"ml-2 h-4 w-4 transition-transform group-hover:translate-x-1"})]})}),u.jsx(La,{href:"/arcana-demo",children:u.jsx(Ce,{size:"lg",variant:"outline",className:"border-primary text-primary hover:bg-primary/10",children:"Explore Arcana AI"})})]}),u.jsxs(ti.div,{className:"mt-20 grid gap-6 sm:grid-cols-3",variants:t,initial:"hidden",animate:"visible",children:[u.jsxs(ti.div,{className:"rounded-xl card-glow bg-card p-6",variants:e,whileHover:{scale:1.05},children:[u.jsx("div",{className:"mb-2 text-3xl font-bold text-primary",children:"150K+"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"AI Inferences Daily"})]}),u.jsxs(ti.div,{className:"rounded-xl card-glow bg-card p-6",variants:e,whileHover:{scale:1.05},children:[u.jsx("div",{className:"mb-2 text-3xl font-bold text-primary",children:"99.9%"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"System Uptime"})]}),u.jsxs(ti.div,{className:"rounded-xl card-glow bg-card p-6",variants:e,whileHover:{scale:1.05},children:[u.jsx("div",{className:"mb-2 text-3xl font-bold text-primary",children:"24/7"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Real-time Monitoring"})]})]})]})})]})}function pdt(){const[t,e]=M.useState(`G1 X10 Y10 F500
G1 X20 Y20
G1 X0 Y0`),[n,r]=M.useState("cnc-node-1"),[i,s]=M.useState("dry-run"),[o,a]=M.useState("idle"),[l,c]=M.useState(""),f=()=>{a("validating"),c(""),setTimeout(()=>{i==="dry-run"?(a("success"),c(` Validation passed
 No forbidden commands detected
 Coordinates within safe bounds
 Feedrate acceptable (500 mm/min)

Simulated execution complete. Ready for approval.`)):(a("success"),c(`Job submitted for approval.
Job ID: job_`+Math.random().toString(36).substr(2,9)))},1500)};return u.jsxs(Be,{className:"border border-card-border p-6",children:[u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"mb-2 text-xl font-semibold text-foreground",children:"Submit Job"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and validate manufacturing jobs with AI-powered safety checks"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"G-code / Task Content"}),u.jsx(sc,{value:t,onChange:d=>e(d.target.value),className:"min-h-[120px] font-mono text-sm",placeholder:"Enter G-code or task description...","data-testid":"input-job-content"})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Target Node"}),u.jsxs(Hn,{value:n,onValueChange:r,children:[u.jsx(Fn,{"data-testid":"select-node",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"cnc-node-1",children:"CNC Node 1"}),u.jsx(dt,{value:"cnc-node-2",children:"CNC Node 2"}),u.jsx(dt,{value:"cnc-node-3",children:"CNC Node 3"})]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"mb-2 block text-sm font-medium text-foreground",children:"Execution Mode"}),u.jsxs(Hn,{value:i,onValueChange:s,children:[u.jsx(Fn,{"data-testid":"select-mode",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"dry-run",children:"Dry Run (Simulate)"}),u.jsx(dt,{value:"validate",children:"Validate Only"}),u.jsx(dt,{value:"execute",children:"Execute (Requires Approval)"})]})]})]})]}),u.jsx(Ce,{onClick:f,className:"w-full",disabled:o==="validating","data-testid":"button-submit-job",children:o==="validating"?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-primary-foreground border-t-transparent"}),"Validating..."]}):u.jsxs(u.Fragment,{children:[u.jsx(Mv,{className:"mr-2 h-4 w-4"}),"Run ",i==="dry-run"?"Dry Run":"Job"]})}),l&&u.jsxs("div",{className:`rounded-lg border p-4 ${o==="success"?"border-chart-3 bg-chart-3/10":"border-destructive bg-destructive/10"}`,children:[u.jsxs("div",{className:"mb-2 flex items-center space-x-2",children:[o==="success"?u.jsx(oB,{className:"h-5 w-5 text-chart-3"}):u.jsx(X_,{className:"h-5 w-5 text-destructive"}),u.jsx("span",{className:"font-semibold text-foreground",children:o==="success"?"Validation Result":"Error"})]}),u.jsx("pre",{className:"whitespace-pre-wrap font-mono text-sm text-foreground",children:l})]})]})]})}function mdt({children:t}){const[,e]=vi();return M.useEffect(()=>{localStorage.getItem("access_token")||e("/auth")},[e]),localStorage.getItem("access_token")?u.jsx(u.Fragment,{children:t}):null}function gdt(){const[t,e]=M.useState(Array.from({length:20},(a,l)=>({x:l,y:30+Math.random()*40})));M.useEffect(()=>{const a=setInterval(()=>{e(l=>[...l.slice(1),{x:l[l.length-1].x+1,y:30+Math.random()*40}])},1e3);return()=>clearInterval(a)},[]);const n=100,r=200,i=t[t.length-1].y,s=t.reduce((a,l)=>a+l.y,0)/t.length,o=Math.max(...t.map(a=>a.y));return u.jsxs(Be,{className:"border border-card-border p-6",children:[u.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Kr,{className:"h-5 w-5 text-primary"}),u.jsx("span",{className:"font-semibold text-foreground",children:"Real-time Telemetry"})]}),u.jsxs("div",{className:"flex items-center space-x-4 text-sm",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-1"}),u.jsx("span",{className:"text-muted-foreground",children:"CPU Load"})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-muted-foreground",children:"Status: Running"})]})]})]}),u.jsxs("div",{className:"relative h-[200px] rounded-lg bg-muted/30 p-4",children:[u.jsxs("svg",{width:"100%",height:r,className:"overflow-visible",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"chartGradient",x1:"0%",y1:"0%",x2:"0%",y2:"100%",children:[u.jsx("stop",{offset:"0%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.3"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--chart-1))",stopOpacity:"0.05"})]})}),u.jsx("path",{d:`M 0 ${r} ${t.map((a,l)=>{const c=l/(t.length-1)*100,f=r-a.y/n*r;return`L ${c}% ${f}`}).join(" ")} L 100% ${r} Z`,fill:"url(#chartGradient)"}),u.jsx("polyline",{points:t.map((a,l)=>{const c=l/(t.length-1)*100,f=r-a.y/n*r;return`${c}%,${f}`}).join(" "),fill:"none",stroke:"hsl(var(--chart-1))",strokeWidth:"2",className:"transition-all duration-500 ease-linear"})]}),u.jsxs("div",{className:"absolute bottom-4 left-4 right-4 flex justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"0s"}),u.jsx("span",{children:"10s"}),u.jsx("span",{children:"20s"})]})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-4",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[i.toFixed(1),"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Current Load"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[s.toFixed(1),"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Average"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"text-2xl font-bold text-foreground",children:[o.toFixed(1),"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Peak"})]})]})]})}function vdt(){const[t,e]=M.useState(["$ NeuroNet Shell v2.0","$ Connected to NEOSYNTIS Lab","$ Type 'help' for available commands",""]),[n,r]=M.useState(""),[i,s]=M.useState(!1),o=a=>{const l=`$ ${a}`;e(c=>[...c,l]),r(""),s(!0),setTimeout(()=>{let c=[];if(a==="help")c=["Available commands:","  ls     - List files","  pwd    - Print working directory","  clear  - Clear terminal",""];else if(a==="ls")c=["ai_core.py  ai_services.py  config.py  main.py",""];else if(a==="pwd")c=["/workspace/neuronet",""];else if(a==="clear"){e(["$ NeuroNet Shell v2.0",""]),r(""),s(!1);return}else a&&(c=[`Command '${a}' not found. Type 'help' for available commands.`,""]);let f=0,d=0;const h=setInterval(()=>{if(f<c.length){const g=c[f];d<=g.length?(e(v=>{const x=v[v.length-1];if(x===l||x==="")return[...v,g.substring(0,d)];{const m=[...v];return m[v.length-1]=g.substring(0,d),m}}),d++):(f++,d=0,f===c.length&&(clearInterval(h),s(!1)))}},20)},0)};return u.jsxs("div",{className:"flex h-[400px] flex-col rounded-xl border border-border bg-black/50 font-mono text-sm",children:[u.jsxs("div",{className:"flex items-center justify-between border-b border-border bg-muted/30 px-4 py-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ol,{className:"h-4 w-4 text-chart-3"}),u.jsx("span",{className:"text-xs font-semibold text-foreground",children:"WebSocket Shell"})]}),u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-5"}),u.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-2"}),u.jsx("div",{className:"h-3 w-3 rounded-full bg-chart-3"})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:u.jsxs("div",{className:"space-y-1",children:[t.map((a,l)=>u.jsx("div",{className:a.startsWith("$")?"text-chart-3":"text-foreground/80",children:a},l)),i&&u.jsxs("div",{className:"text-foreground/80",children:[u.jsx("span",{className:"animate-pulse-dot",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-100",children:"."}),u.jsx("span",{className:"animate-pulse-dot animation-delay-200",children:"."})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"text-chart-3",children:"$"}),u.jsx("input",{type:"text",value:n,onChange:a=>r(a.target.value),onKeyDown:a=>{a.key==="Enter"&&o(n)},className:"flex-1 bg-transparent text-foreground outline-none",placeholder:"Enter command...","data-testid":"input-terminal-command"})]})]})}),u.jsx("div",{className:"border-t border-border bg-muted/30 px-4 py-2",children:u.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[u.jsx("span",{children:"Press Enter to execute"}),u.jsx(Ce,{variant:"ghost",size:"sm",className:"h-6 text-xs",onClick:()=>o(n),"data-testid":"button-execute-command",children:"Execute"})]})})]})}const ydt=({currentCredit:t,maxCredit:e,lowCreditThreshold:n})=>{const r=t/e*100,i=e-t,s=t<=n;return u.jsxs("div",{className:"w-full p-4 bg-gray-800 rounded-lg shadow-md",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm font-medium text-gray-300",children:"Credit Usage"}),u.jsxs("span",{className:"text-sm font-medium text-gray-300",children:[r.toFixed(1),"% Used"]})]}),u.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2.5",children:u.jsx("div",{className:`h-2.5 rounded-full ${s?"bg-red-500":"bg-green-500"}`,style:{width:`${r}%`}})}),u.jsxs("div",{className:"flex justify-between items-center mt-2 text-sm text-gray-400",children:[u.jsxs("span",{children:["Remaining: ",i," units"]}),s&&u.jsx("span",{className:"text-red-400 font-semibold",children:"Low credit! Please top up."})]})]})},xdt=[{icon:el,label:"NEOSYNTIS",path:"/dashboard/neosyntis",module:"neosyntis"},{icon:Ja,label:"MYNTRIX",path:"/dashboard/myntrix",module:"myntrix"},{icon:df,label:"COGNISYS",path:"/dashboard/cognisys",module:"cognisys"}];function _dt(){const[t,e]=vi(),[n,r]=M.useState(!0);return u.jsxs(u.Fragment,{children:[u.jsxs(wct,{children:[u.jsxs(sI,{children:[u.jsx(oI,{children:"Modules"}),u.jsx(aI,{children:u.jsx(gC,{children:xdt.map(i=>{const s=t===i.path,o=i.icon;return u.jsx(zf,{children:u.jsxs(Hf,{isActive:s,onClick:()=>e(i.path),"data-testid":`link-${i.module}`,children:[u.jsx(o,{className:"h-4 w-4"}),u.jsx("span",{children:i.label})]})},i.path)})})})]}),u.jsxs(sI,{children:[u.jsx(oI,{children:"Arcana Tools"}),u.jsx(aI,{children:u.jsxs(gC,{children:[u.jsx(zf,{children:u.jsxs(Hf,{isActive:t==="/dashboard/arcana",onClick:()=>e("/dashboard/arcana"),"data-testid":"link-arcana",children:[u.jsx(ol,{className:"h-4 w-4"}),u.jsx("span",{children:"ARCANA"})]})}),u.jsx(zf,{children:u.jsxs(Hf,{isActive:t==="/dashboard/arcana/cli",onClick:()=>e("/dashboard/arcana/cli"),"data-testid":"link-arcana-cli",children:[u.jsx(NSe,{className:"h-4 w-4"}),u.jsx("span",{children:"Arcana CLI"})]})})]})})]}),n&&u.jsxs(sI,{children:[u.jsx(oI,{children:"Developer Tools"}),u.jsx(aI,{children:u.jsxs(gC,{children:[u.jsx(zf,{children:u.jsxs(Hf,{isActive:t==="/dashboard/aura",onClick:()=>e("/dashboard/aura"),"data-testid":"link-aura",children:[u.jsx(Ev,{className:"h-4 w-4"}),u.jsx("span",{children:"AURA (SDK)"})]})}),u.jsx(zf,{children:u.jsxs(Hf,{isActive:t==="/dashboard/nexa",onClick:()=>e("/dashboard/nexa"),"data-testid":"link-nexa",children:[u.jsx(DSe,{className:"h-4 w-4"}),u.jsx("span",{children:"NEXA (Rewards)"})]})})]})})]})]}),u.jsxs(bct,{children:[u.jsx(ydt,{currentCredit:750,maxCredit:1e3,lowCreditThreshold:200}),u.jsxs(gC,{children:[u.jsx(zf,{children:u.jsxs(Hf,{isActive:t==="/pricing",onClick:()=>e("/pricing"),"data-testid":"link-pricing",children:[u.jsx(ate,{className:"h-4 w-4"}),u.jsx("span",{children:"Pricing"})]})}),u.jsx(zf,{children:u.jsxs(Hf,{isActive:t==="/dashboard/profile",onClick:()=>e("/dashboard/profile"),"data-testid":"link-user-profile",children:[u.jsx(Av,{className:"h-4 w-4"}),u.jsx("span",{children:"User Profile"})]})})]}),u.jsxs("div",{className:"flex items-center gap-2 px-4 py-3",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500","data-testid":"status-indicator-online"}),u.jsx("span",{className:"text-xs text-muted-foreground",children:"All Systems Online"})]})]})]})}function bdt(){const{toggleCommandPalette:t,performanceMode:e,togglePerformanceMode:n}=d1();return u.jsxs("nav",{className:"h-14 flex items-center justify-between px-4 gap-4","data-testid":"navbar",children:[u.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2","data-testid":"logo",children:[u.jsx(ti.div,{className:"w-9 h-9 rounded-lg bg-primary flex items-center justify-center font-mono font-bold text-sm",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},"data-testid":"logo-icon",children:u.jsx("span",{className:"text-primary-foreground text-lg",children:"V"})}),u.jsx("span",{className:"font-extrabold text-xl hidden sm:inline text-foreground text-glow","data-testid":"logo-text",children:"VAREON"})]}),u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(el,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground","data-testid":"icon-search"}),u.jsx(Dt,{placeholder:"Search or press Ctrl+K...",className:"pl-9 cursor-pointer",onClick:t,readOnly:!0,"data-testid":"input-global-search"}),u.jsxs("kbd",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none inline-flex h-5 select-none items-center gap-1 rounded border bg-card px-1.5 font-mono text-[10px] font-medium text-muted-foreground opacity-100","data-testid":"kbd-shortcut",children:[u.jsx("span",{className:"text-xs",children:""}),"K"]})]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[e&&u.jsx(ln,{variant:"outline",className:"hidden sm:inline-flex","data-testid":"badge-performance-mode",children:"Performance Mode"}),u.jsxs(Ce,{variant:"ghost",size:"icon",className:"relative","data-testid":"button-notifications",children:[u.jsx(SSe,{className:"h-4 w-4"}),u.jsx("span",{className:"absolute top-1 right-1 h-2 w-2 rounded-full bg-primary","data-testid":"notification-dot"})]}),u.jsx(rdt,{}),u.jsxs(vst,{children:[u.jsx(yst,{asChild:!0,children:u.jsx(Ce,{variant:"ghost",className:"relative h-9 w-9 rounded-full","data-testid":"button-user-menu",children:u.jsx(bne,{className:"h-9 w-9",children:u.jsx(wne,{className:"bg-primary","data-testid":"avatar-initials",children:"AD"})})})}),u.jsxs(Iue,{align:"end",className:"w-56",children:[u.jsx(jue,{"data-testid":"menu-label",children:"My Account"}),u.jsx(X3,{}),u.jsx(U0,{"data-testid":"menu-profile",children:"Profile"}),u.jsx(U0,{"data-testid":"menu-settings",children:"Settings"}),u.jsxs(U0,{onClick:n,"data-testid":"menu-performance-mode",children:[e?"Disable":"Enable"," Performance Mode"]}),u.jsx(X3,{}),u.jsx(U0,{className:"text-destructive","data-testid":"menu-logout",children:"Logout"})]})]})]})]})}function V0({children:t}){vi();const e={"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"};return u.jsx(yct,{style:e,children:u.jsxs("div",{className:"flex h-screen w-full overflow-hidden",children:[u.jsx(xct,{children:u.jsx(_dt,{})}),u.jsxs("div",{className:"flex flex-col flex-1 overflow-hidden",children:[u.jsxs("header",{className:"flex items-center justify-between p-3 border-b border-border bg-card",children:[u.jsx(_ct,{"data-testid":"button-sidebar-toggle"}),u.jsx(bdt,{})," "]}),u.jsx("main",{className:"flex-1 overflow-auto p-6 bg-background",children:t})]})]})})}const wdt=async()=>{const t=localStorage.getItem("access_token"),e=await fetch("/api/context_memory/",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok)throw new Error("Network response was not ok");return e.json()},Sdt=async t=>{const e=localStorage.getItem("access_token"),n=await fetch(`/api/context_memory/item/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to delete item")}},Cdt=async t=>{const e=localStorage.getItem("access_token"),n=await fetch("/api/context_memory/item",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(t)});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to create context item")}return n.json()},dI=({title:t,children:e,onEdit:n,onDelete:r})=>u.jsxs(Be,{children:[u.jsx(Xe,{className:"pb-4",children:u.jsx(qe,{className:"text-base",children:t})}),u.jsx(Ke,{className:"text-sm",children:e}),u.jsxs(c5,{className:"gap-2",children:[u.jsxs(Ce,{variant:"ghost",size:"sm",onClick:n,children:[u.jsx(fte,{className:"h-4 w-4 mr-2"})," Edit"]}),u.jsxs(Ce,{variant:"ghost",size:"sm",className:"text-red-500",onClick:r,children:[u.jsx(tc,{className:"h-4 w-4 mr-2"})," Forget"]})]})]});function yme(){const t=Ni(),{toast:e}=to(),[n,r]=M.useState(!1),[i,s]=M.useState("preference"),[o,a]=M.useState(""),[l,c]=M.useState(""),{data:f,isLoading:d,error:h}=gn({queryKey:["arcanaContextMemory"],queryFn:wdt}),g=Ft({mutationFn:Sdt,onSuccess:()=>{e({title:"Success",description:"Context item forgotten."}),t.invalidateQueries({queryKey:["arcanaContextMemory"]})},onError:p=>{e({title:"Error",description:p.message,variant:"destructive"})}}),v=Ft({mutationFn:Cdt,onSuccess:()=>{e({title:"Success",description:"Context item created."}),t.invalidateQueries({queryKey:["arcanaContextMemory"]}),r(!1),a(""),c("")},onError:p=>{e({title:"Error",description:p.message,variant:"destructive"})}}),x=p=>{g.mutate(p)},m=()=>{try{const p=JSON.parse(l);v.mutate({type:i,key:o,value:p})}catch{e({title:"Error",description:"Invalid JSON for value.",variant:"destructive"})}};return d?u.jsx("div",{className:"p-4",children:"Loading context memory..."}):h?u.jsxs("div",{className:"p-4 text-red-500",children:["Error: ",h.message]}):u.jsxs("div",{className:"h-full flex flex-col",children:[u.jsxs("div",{className:"p-6 border-b flex justify-between items-center",children:[u.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[u.jsx(uf,{className:"h-6 w-6"})," Arcana Context Memory"]}),u.jsxs(Ce,{onClick:()=>r(!0),children:[u.jsx(ste,{className:"mr-2 h-4 w-4"})," Add Context Item"]})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-3 gap-6 p-6",children:[u.jsx("div",{className:"md:col-span-1",children:u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{children:"Configuration"}),u.jsx(Et,{children:"Adjust how Arcana learns from and uses your context."})]}),u.jsxs(Ke,{className:"space-y-6",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"awareness-level",children:"Context Awareness Level"}),u.jsx(lpe,{id:"awareness-level",defaultValue:[60],max:100,step:10}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"Higher levels use more context, improving relevance but may increase latency."})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx(ht,{children:"Context Sources"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ht,{htmlFor:"learn-conversations",className:"font-normal",children:"Learn from conversations"}),u.jsx(ru,{id:"learn-conversations",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ht,{htmlFor:"learn-code",className:"font-normal",children:"Learn from code & repositories"}),u.jsx(ru,{id:"learn-code",defaultChecked:!0})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(ht,{htmlFor:"learn-shell",className:"font-normal",children:"Learn from shell commands"}),u.jsx(ru,{id:"learn-shell"})]})]})]}),u.jsx(c5,{children:u.jsx(Ce,{className:"w-full",children:"Save Configuration"})})]})}),u.jsx("div",{className:"md:col-span-2",children:u.jsxs(pc,{defaultValue:"preferences",children:[u.jsxs(ml,{className:"grid w-full grid-cols-3",children:[u.jsxs(lr,{value:"preferences",children:[u.jsx(Av,{className:"h-4 w-4 mr-2"}),"Preferences"]}),u.jsxs(lr,{value:"projects",children:[u.jsx(jSe,{className:"h-4 w-4 mr-2"}),"Projects"]}),u.jsxs(lr,{value:"conversations",children:[u.jsx(aB,{className:"h-4 w-4 mr-2"}),"Conversations"]})]}),u.jsxs(Xh,{className:"h-[calc(100vh-200px)] mt-4",children:[u.jsx(xn,{value:"preferences",children:u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:f==null?void 0:f.userPreferences.map(p=>u.jsxs(dI,{title:p.key,onEdit:()=>{},onDelete:()=>x(p.id),children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Value:"})," ",JSON.stringify(p.value)]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Source: ",p.source]})]},p.id))})}),u.jsx(xn,{value:"projects",children:u.jsx("div",{className:"grid grid-cols-1 gap-4",children:f==null?void 0:f.projectKnowledge.map(p=>{var y;return u.jsxs(dI,{title:p.key,onEdit:()=>{},onDelete:()=>x(p.id),children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Repo:"})," ",p.value.repo]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Summary:"})," ",p.value.summary]}),u.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:(y=p.value.techStack)==null?void 0:y.map(_=>u.jsx(ln,{variant:"secondary",children:_},_))})]},p.id)})})}),u.jsx(xn,{value:"conversations",children:u.jsx("div",{className:"grid grid-cols-1 gap-4",children:f==null?void 0:f.conversationSnippets.map(p=>u.jsxs(dI,{title:p.key,onEdit:()=>{},onDelete:()=>x(p.id),children:[u.jsxs("p",{children:['"',p.value.summary,'"']}),u.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Topic: ",p.value.topic]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["Timestamp: ",p.value.timestamp]})]},p.id))})})]})]})})]}),u.jsx(tx,{open:n,onOpenChange:r,children:u.jsxs(Wp,{children:[u.jsxs(nx,{children:[u.jsx(rx,{children:"Add New Context Item"}),u.jsx(ix,{children:"Store a new piece of information for Arcana to remember."})]}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"itemType",className:"text-right",children:"Type"}),u.jsxs(Hn,{value:i,onValueChange:p=>s(p),children:[u.jsx(Fn,{className:"col-span-3",children:u.jsx(Vn,{placeholder:"Select item type"})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"preference",children:"Preference"}),u.jsx(dt,{value:"project",children:"Project Knowledge"}),u.jsx(dt,{value:"conversation",children:"Conversation Snippet"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"key",className:"text-right",children:"Key"}),u.jsx(Dt,{id:"key",value:o,onChange:p=>a(p.target.value),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-start gap-4",children:[u.jsx(ht,{htmlFor:"value",className:"text-right",children:"Value (JSON)"}),u.jsx(sc,{id:"value",value:l,onChange:p=>c(p.target.value),className:"col-span-3",rows:5,placeholder:'e.g., {"language": "Python", "level": "advanced"}'})]})]}),u.jsxs(K2,{children:[u.jsx(Ce,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),u.jsxs(Ce,{onClick:m,disabled:v.isPending,children:[v.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Add Item"]})]})]})})]})}function Edt(){const[t,e]=M.useState(""),[n,r]=M.useState([]),[i,s]=M.useState(!0),[o,a]=M.useState(!0),[l,c]=M.useState(!1),f=M.useRef(null),d=M.useRef(null),h=()=>{var v;(v=d.current)==null||v.scrollIntoView({behavior:"smooth"})};M.useEffect(()=>{h()},[n]),M.useEffect(()=>{const v=crypto.randomUUID(),x=window.location.protocol==="https:"?"wss:":"ws:",m=localStorage.getItem("access_token"),p=`${x}//${window.location.host}/ws-api/ws/arcana/${v}?token=${m}`,y=new WebSocket(p);return f.current=y,y.onopen=()=>{console.log("WebSocket connected"),a(!1),c(!0)},y.onclose=()=>{console.log("WebSocket disconnected"),a(!1),c(!1)},y.onerror=_=>{console.error("WebSocket error:",_),a(!1),c(!1)},y.onmessage=_=>{const b=JSON.parse(_.data);b.type==="chat_response"&&r(w=>{const E=w[w.length-1];return E&&E.role==="assistant"?w.map((A,T)=>T===w.length-1?{...A,content:A.content+b.payload.response}:A):[...w,{id:b.payload.message_id||crypto.randomUUID(),role:"assistant",content:b.payload.response,createdAt:new Date}]})},()=>{f.current&&f.current.close()}},[]);const g=()=>{if(!t.trim()||!f.current||f.current.readyState!==WebSocket.OPEN)return;const v={id:crypto.randomUUID(),role:"user",content:t,createdAt:new Date};r(m=>[...m,v]);const x={type:"chat_message",payload:{prompt:t}};f.current.send(JSON.stringify(x)),r(m=>[...m,{id:crypto.randomUUID(),role:"assistant",content:"",createdAt:new Date}]),e("")};return u.jsxs("div",{className:"h-full flex",children:[u.jsxs("div",{className:"flex-1 flex flex-col",children:[u.jsx("div",{className:"border-b px-6 py-3 bg-card/50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium",children:"Chat with ARCANA"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Cognitive AI Assistant"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[o?u.jsxs(ln,{variant:"outline",children:[u.jsx(Kr,{className:"h-3 w-3 mr-1 animate-spin"}),"Connecting..."]}):l?u.jsx(ln,{variant:"secondary",className:"bg-green-500 text-white",children:"Connected"}):u.jsxs(ln,{variant:"destructive",children:[u.jsx(nCe,{className:"h-3 w-3 mr-1"}),"Disconnected"]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>s(!i),children:u.jsx(GSe,{className:"h-5 w-5"})})]})]})}),u.jsx(Xh,{className:"flex-1 px-6 py-4",children:u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[n.map(v=>u.jsx("div",{className:`flex ${v.role==="user"?"justify-end":"justify-start"}`,children:u.jsxs("div",{className:`max-w-[80%] rounded-lg p-4 ${v.role==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:[v.reasoning&&u.jsxs(Ttt,{className:"mb-3",children:[u.jsxs(Ptt,{className:"flex items-center gap-2 text-sm text-muted-foreground hover:text-foreground transition-colors w-full",children:[u.jsx(IP,{className:"h-4 w-4"}),u.jsx("span",{children:"Reasoning Process"}),u.jsx(ky,{className:"h-4 w-4 ml-auto"})]}),u.jsx(Ntt,{className:"mt-2 p-3 bg-muted/50 rounded-md text-sm text-muted-foreground",children:v.reasoning})]}),u.jsx("div",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:v.content||u.jsx(Kr,{className:"h-4 w-4 animate-spin"})}),u.jsx("div",{className:"text-xs text-muted-foreground mt-2 opacity-70",children:new Date(v.createdAt).toLocaleTimeString()})]})},v.id)),u.jsx("div",{ref:d})]})}),u.jsx("div",{className:"border-t p-4 bg-card/50",children:u.jsx("div",{className:"max-w-4xl mx-auto space-y-3",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ce,{variant:"outline",size:"icon","data-testid":"button-attach-file",children:u.jsx(qSe,{className:"h-4 w-4"})}),u.jsx(Dt,{placeholder:"Type your message...",value:t,onChange:v=>e(v.target.value),onKeyDown:v=>v.key==="Enter"&&!v.shiftKey&&g(),className:"flex-1","data-testid":"input-chat-message",disabled:!l}),u.jsx(Ce,{onClick:g,disabled:!l||o,"data-testid":"button-send-message",children:o?u.jsx(Kr,{className:"h-4 w-4 animate-spin"}):u.jsx(lB,{className:"h-4 w-4"})})]})})})]}),i&&u.jsx(yme,{})]})}var xme={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={4567:function(o,a,l){var c=this&&this.__decorate||function(_,b,w,E){var A,T=arguments.length,P=T<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(_,b,w,E);else for(var N=_.length-1;N>=0;N--)(A=_[N])&&(P=(T<3?A(P):T>3?A(b,w,P):A(b,w))||P);return T>3&&P&&Object.defineProperty(b,w,P),P},f=this&&this.__param||function(_,b){return function(w,E){b(w,E,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.AccessibilityManager=void 0;const d=l(9042),h=l(6114),g=l(9924),v=l(844),x=l(5596),m=l(4725),p=l(3656);let y=a.AccessibilityManager=class extends v.Disposable{constructor(_,b){super(),this._terminal=_,this._renderService=b,this._liveRegionLineCount=0,this._charsToConsume=[],this._charsToAnnounce="",this._accessibilityContainer=document.createElement("div"),this._accessibilityContainer.classList.add("xterm-accessibility"),this._rowContainer=document.createElement("div"),this._rowContainer.setAttribute("role","list"),this._rowContainer.classList.add("xterm-accessibility-tree"),this._rowElements=[];for(let w=0;w<this._terminal.rows;w++)this._rowElements[w]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[w]);if(this._topBoundaryFocusListener=w=>this._handleBoundaryFocus(w,0),this._bottomBoundaryFocusListener=w=>this._handleBoundaryFocus(w,1),this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions(),this._accessibilityContainer.appendChild(this._rowContainer),this._liveRegion=document.createElement("div"),this._liveRegion.classList.add("live-region"),this._liveRegion.setAttribute("aria-live","assertive"),this._accessibilityContainer.appendChild(this._liveRegion),this._liveRegionDebouncer=this.register(new g.TimeBasedDebouncer(this._renderRows.bind(this))),!this._terminal.element)throw new Error("Cannot enable accessibility before Terminal.open");this._terminal.element.insertAdjacentElement("afterbegin",this._accessibilityContainer),this.register(this._terminal.onResize(w=>this._handleResize(w.rows))),this.register(this._terminal.onRender(w=>this._refreshRows(w.start,w.end))),this.register(this._terminal.onScroll(()=>this._refreshRows())),this.register(this._terminal.onA11yChar(w=>this._handleChar(w))),this.register(this._terminal.onLineFeed(()=>this._handleChar(`
`))),this.register(this._terminal.onA11yTab(w=>this._handleTab(w))),this.register(this._terminal.onKey(w=>this._handleKey(w.key))),this.register(this._terminal.onBlur(()=>this._clearLiveRegion())),this.register(this._renderService.onDimensionsChange(()=>this._refreshRowsDimensions())),this._screenDprMonitor=new x.ScreenDprMonitor(window),this.register(this._screenDprMonitor),this._screenDprMonitor.setListener(()=>this._refreshRowsDimensions()),this.register((0,p.addDisposableDomListener)(window,"resize",()=>this._refreshRowsDimensions())),this._refreshRows(),this.register((0,v.toDisposable)(()=>{this._accessibilityContainer.remove(),this._rowElements.length=0}))}_handleTab(_){for(let b=0;b<_;b++)this._handleChar(" ")}_handleChar(_){this._liveRegionLineCount<21&&(this._charsToConsume.length>0?this._charsToConsume.shift()!==_&&(this._charsToAnnounce+=_):this._charsToAnnounce+=_,_===`
`&&(this._liveRegionLineCount++,this._liveRegionLineCount===21&&(this._liveRegion.textContent+=d.tooMuchOutput)),h.isMac&&this._liveRegion.textContent&&this._liveRegion.textContent.length>0&&!this._liveRegion.parentNode&&setTimeout(()=>{this._accessibilityContainer.appendChild(this._liveRegion)},0))}_clearLiveRegion(){this._liveRegion.textContent="",this._liveRegionLineCount=0,h.isMac&&this._liveRegion.remove()}_handleKey(_){this._clearLiveRegion(),new RegExp("\\p{Control}","u").test(_)||this._charsToConsume.push(_)}_refreshRows(_,b){this._liveRegionDebouncer.refresh(_,b,this._terminal.rows)}_renderRows(_,b){const w=this._terminal.buffer,E=w.lines.length.toString();for(let A=_;A<=b;A++){const T=w.translateBufferLineToString(w.ydisp+A,!0),P=(w.ydisp+A+1).toString(),N=this._rowElements[A];N&&(T.length===0?N.innerText="":N.textContent=T,N.setAttribute("aria-posinset",P),N.setAttribute("aria-setsize",E))}this._announceCharacters()}_announceCharacters(){this._charsToAnnounce.length!==0&&(this._liveRegion.textContent+=this._charsToAnnounce,this._charsToAnnounce="")}_handleBoundaryFocus(_,b){const w=_.target,E=this._rowElements[b===0?1:this._rowElements.length-2];if(w.getAttribute("aria-posinset")===(b===0?"1":`${this._terminal.buffer.lines.length}`)||_.relatedTarget!==E)return;let A,T;if(b===0?(A=w,T=this._rowElements.pop(),this._rowContainer.removeChild(T)):(A=this._rowElements.shift(),T=w,this._rowContainer.removeChild(A)),A.removeEventListener("focus",this._topBoundaryFocusListener),T.removeEventListener("focus",this._bottomBoundaryFocusListener),b===0){const P=this._createAccessibilityTreeNode();this._rowElements.unshift(P),this._rowContainer.insertAdjacentElement("afterbegin",P)}else{const P=this._createAccessibilityTreeNode();this._rowElements.push(P),this._rowContainer.appendChild(P)}this._rowElements[0].addEventListener("focus",this._topBoundaryFocusListener),this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._terminal.scrollLines(b===0?-1:1),this._rowElements[b===0?1:this._rowElements.length-2].focus(),_.preventDefault(),_.stopImmediatePropagation()}_handleResize(_){this._rowElements[this._rowElements.length-1].removeEventListener("focus",this._bottomBoundaryFocusListener);for(let b=this._rowContainer.children.length;b<this._terminal.rows;b++)this._rowElements[b]=this._createAccessibilityTreeNode(),this._rowContainer.appendChild(this._rowElements[b]);for(;this._rowElements.length>_;)this._rowContainer.removeChild(this._rowElements.pop());this._rowElements[this._rowElements.length-1].addEventListener("focus",this._bottomBoundaryFocusListener),this._refreshRowsDimensions()}_createAccessibilityTreeNode(){const _=document.createElement("div");return _.setAttribute("role","listitem"),_.tabIndex=-1,this._refreshRowDimensions(_),_}_refreshRowsDimensions(){if(this._renderService.dimensions.css.cell.height){this._accessibilityContainer.style.width=`${this._renderService.dimensions.css.canvas.width}px`,this._rowElements.length!==this._terminal.rows&&this._handleResize(this._terminal.rows);for(let _=0;_<this._terminal.rows;_++)this._refreshRowDimensions(this._rowElements[_])}}_refreshRowDimensions(_){_.style.height=`${this._renderService.dimensions.css.cell.height}px`}};a.AccessibilityManager=y=c([f(1,m.IRenderService)],y)},3614:(o,a)=>{function l(h){return h.replace(/\r?\n/g,"\r")}function c(h,g){return g?"\x1B[200~"+h+"\x1B[201~":h}function f(h,g,v,x){h=c(h=l(h),v.decPrivateModes.bracketedPasteMode&&x.rawOptions.ignoreBracketedPasteMode!==!0),v.triggerDataEvent(h,!0),g.value=""}function d(h,g,v){const x=v.getBoundingClientRect(),m=h.clientX-x.left-10,p=h.clientY-x.top-10;g.style.width="20px",g.style.height="20px",g.style.left=`${m}px`,g.style.top=`${p}px`,g.style.zIndex="1000",g.focus()}Object.defineProperty(a,"__esModule",{value:!0}),a.rightClickHandler=a.moveTextAreaUnderMouseCursor=a.paste=a.handlePasteEvent=a.copyHandler=a.bracketTextForPaste=a.prepareTextForTerminal=void 0,a.prepareTextForTerminal=l,a.bracketTextForPaste=c,a.copyHandler=function(h,g){h.clipboardData&&h.clipboardData.setData("text/plain",g.selectionText),h.preventDefault()},a.handlePasteEvent=function(h,g,v,x){h.stopPropagation(),h.clipboardData&&f(h.clipboardData.getData("text/plain"),g,v,x)},a.paste=f,a.moveTextAreaUnderMouseCursor=d,a.rightClickHandler=function(h,g,v,x,m){d(h,g,v),m&&x.rightClickSelect(h),g.value=x.selectionText,g.select()}},7239:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorContrastCache=void 0;const c=l(1505);a.ColorContrastCache=class{constructor(){this._color=new c.TwoKeyMap,this._css=new c.TwoKeyMap}setCss(f,d,h){this._css.set(f,d,h)}getCss(f,d){return this._css.get(f,d)}setColor(f,d,h){this._color.set(f,d,h)}getColor(f,d){return this._color.get(f,d)}clear(){this._color.clear(),this._css.clear()}}},3656:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.addDisposableDomListener=void 0,a.addDisposableDomListener=function(l,c,f,d){l.addEventListener(c,f,d);let h=!1;return{dispose:()=>{h||(h=!0,l.removeEventListener(c,f,d))}}}},6465:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,w=arguments.length,E=w<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(m,p,y,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(E=(w<3?b(E):w>3?b(p,y,E):b(p,y))||E);return w>3&&E&&Object.defineProperty(p,y,E),E},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Linkifier2=void 0;const d=l(3656),h=l(8460),g=l(844),v=l(2585);let x=a.Linkifier2=class extends g.Disposable{get currentLink(){return this._currentLink}constructor(m){super(),this._bufferService=m,this._linkProviders=[],this._linkCacheDisposables=[],this._isMouseOut=!0,this._wasResized=!1,this._activeLine=-1,this._onShowLinkUnderline=this.register(new h.EventEmitter),this.onShowLinkUnderline=this._onShowLinkUnderline.event,this._onHideLinkUnderline=this.register(new h.EventEmitter),this.onHideLinkUnderline=this._onHideLinkUnderline.event,this.register((0,g.getDisposeArrayDisposable)(this._linkCacheDisposables)),this.register((0,g.toDisposable)(()=>{this._lastMouseEvent=void 0})),this.register(this._bufferService.onResize(()=>{this._clearCurrentLink(),this._wasResized=!0}))}registerLinkProvider(m){return this._linkProviders.push(m),{dispose:()=>{const p=this._linkProviders.indexOf(m);p!==-1&&this._linkProviders.splice(p,1)}}}attachToDom(m,p,y){this._element=m,this._mouseService=p,this._renderService=y,this.register((0,d.addDisposableDomListener)(this._element,"mouseleave",()=>{this._isMouseOut=!0,this._clearCurrentLink()})),this.register((0,d.addDisposableDomListener)(this._element,"mousemove",this._handleMouseMove.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mousedown",this._handleMouseDown.bind(this))),this.register((0,d.addDisposableDomListener)(this._element,"mouseup",this._handleMouseUp.bind(this)))}_handleMouseMove(m){if(this._lastMouseEvent=m,!this._element||!this._mouseService)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);if(!p)return;this._isMouseOut=!1;const y=m.composedPath();for(let _=0;_<y.length;_++){const b=y[_];if(b.classList.contains("xterm"))break;if(b.classList.contains("xterm-hover"))return}this._lastBufferCell&&p.x===this._lastBufferCell.x&&p.y===this._lastBufferCell.y||(this._handleHover(p),this._lastBufferCell=p)}_handleHover(m){if(this._activeLine!==m.y||this._wasResized)return this._clearCurrentLink(),this._askForLink(m,!1),void(this._wasResized=!1);this._currentLink&&this._linkAtPosition(this._currentLink.link,m)||(this._clearCurrentLink(),this._askForLink(m,!0))}_askForLink(m,p){var y,_;this._activeProviderReplies&&p||((y=this._activeProviderReplies)===null||y===void 0||y.forEach(w=>{w==null||w.forEach(E=>{E.link.dispose&&E.link.dispose()})}),this._activeProviderReplies=new Map,this._activeLine=m.y);let b=!1;for(const[w,E]of this._linkProviders.entries())p?!((_=this._activeProviderReplies)===null||_===void 0)&&_.get(w)&&(b=this._checkLinkProviderResult(w,m,b)):E.provideLinks(m.y,A=>{var T,P;if(this._isMouseOut)return;const N=A==null?void 0:A.map(O=>({link:O}));(T=this._activeProviderReplies)===null||T===void 0||T.set(w,N),b=this._checkLinkProviderResult(w,m,b),((P=this._activeProviderReplies)===null||P===void 0?void 0:P.size)===this._linkProviders.length&&this._removeIntersectingLinks(m.y,this._activeProviderReplies)})}_removeIntersectingLinks(m,p){const y=new Set;for(let _=0;_<p.size;_++){const b=p.get(_);if(b)for(let w=0;w<b.length;w++){const E=b[w],A=E.link.range.start.y<m?0:E.link.range.start.x,T=E.link.range.end.y>m?this._bufferService.cols:E.link.range.end.x;for(let P=A;P<=T;P++){if(y.has(P)){b.splice(w--,1);break}y.add(P)}}}}_checkLinkProviderResult(m,p,y){var _;if(!this._activeProviderReplies)return y;const b=this._activeProviderReplies.get(m);let w=!1;for(let E=0;E<m;E++)this._activeProviderReplies.has(E)&&!this._activeProviderReplies.get(E)||(w=!0);if(!w&&b){const E=b.find(A=>this._linkAtPosition(A.link,p));E&&(y=!0,this._handleNewLink(E))}if(this._activeProviderReplies.size===this._linkProviders.length&&!y)for(let E=0;E<this._activeProviderReplies.size;E++){const A=(_=this._activeProviderReplies.get(E))===null||_===void 0?void 0:_.find(T=>this._linkAtPosition(T.link,p));if(A){y=!0,this._handleNewLink(A);break}}return y}_handleMouseDown(){this._mouseDownLink=this._currentLink}_handleMouseUp(m){if(!this._element||!this._mouseService||!this._currentLink)return;const p=this._positionFromMouseEvent(m,this._element,this._mouseService);p&&this._mouseDownLink===this._currentLink&&this._linkAtPosition(this._currentLink.link,p)&&this._currentLink.link.activate(m,this._currentLink.link.text)}_clearCurrentLink(m,p){this._element&&this._currentLink&&this._lastMouseEvent&&(!m||!p||this._currentLink.link.range.start.y>=m&&this._currentLink.link.range.end.y<=p)&&(this._linkLeave(this._element,this._currentLink.link,this._lastMouseEvent),this._currentLink=void 0,(0,g.disposeArray)(this._linkCacheDisposables))}_handleNewLink(m){if(!this._element||!this._lastMouseEvent||!this._mouseService)return;const p=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);p&&this._linkAtPosition(m.link,p)&&(this._currentLink=m,this._currentLink.state={decorations:{underline:m.link.decorations===void 0||m.link.decorations.underline,pointerCursor:m.link.decorations===void 0||m.link.decorations.pointerCursor},isHovered:!0},this._linkHover(this._element,m.link,this._lastMouseEvent),m.link.decorations={},Object.defineProperties(m.link.decorations,{pointerCursor:{get:()=>{var y,_;return(_=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||_===void 0?void 0:_.decorations.pointerCursor},set:y=>{var _,b;!((_=this._currentLink)===null||_===void 0)&&_.state&&this._currentLink.state.decorations.pointerCursor!==y&&(this._currentLink.state.decorations.pointerCursor=y,this._currentLink.state.isHovered&&((b=this._element)===null||b===void 0||b.classList.toggle("xterm-cursor-pointer",y)))}},underline:{get:()=>{var y,_;return(_=(y=this._currentLink)===null||y===void 0?void 0:y.state)===null||_===void 0?void 0:_.decorations.underline},set:y=>{var _,b,w;!((_=this._currentLink)===null||_===void 0)&&_.state&&((w=(b=this._currentLink)===null||b===void 0?void 0:b.state)===null||w===void 0?void 0:w.decorations.underline)!==y&&(this._currentLink.state.decorations.underline=y,this._currentLink.state.isHovered&&this._fireUnderlineEvent(m.link,y))}}}),this._renderService&&this._linkCacheDisposables.push(this._renderService.onRenderedViewportChange(y=>{if(!this._currentLink)return;const _=y.start===0?0:y.start+1+this._bufferService.buffer.ydisp,b=this._bufferService.buffer.ydisp+1+y.end;if(this._currentLink.link.range.start.y>=_&&this._currentLink.link.range.end.y<=b&&(this._clearCurrentLink(_,b),this._lastMouseEvent&&this._element)){const w=this._positionFromMouseEvent(this._lastMouseEvent,this._element,this._mouseService);w&&this._askForLink(w,!1)}})))}_linkHover(m,p,y){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!0,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!0),this._currentLink.state.decorations.pointerCursor&&m.classList.add("xterm-cursor-pointer")),p.hover&&p.hover(y,p.text)}_fireUnderlineEvent(m,p){const y=m.range,_=this._bufferService.buffer.ydisp,b=this._createLinkUnderlineEvent(y.start.x-1,y.start.y-_-1,y.end.x,y.end.y-_-1,void 0);(p?this._onShowLinkUnderline:this._onHideLinkUnderline).fire(b)}_linkLeave(m,p,y){var _;!((_=this._currentLink)===null||_===void 0)&&_.state&&(this._currentLink.state.isHovered=!1,this._currentLink.state.decorations.underline&&this._fireUnderlineEvent(p,!1),this._currentLink.state.decorations.pointerCursor&&m.classList.remove("xterm-cursor-pointer")),p.leave&&p.leave(y,p.text)}_linkAtPosition(m,p){const y=m.range.start.y*this._bufferService.cols+m.range.start.x,_=m.range.end.y*this._bufferService.cols+m.range.end.x,b=p.y*this._bufferService.cols+p.x;return y<=b&&b<=_}_positionFromMouseEvent(m,p,y){const _=y.getCoords(m,p,this._bufferService.cols,this._bufferService.rows);if(_)return{x:_[0],y:_[1]+this._bufferService.buffer.ydisp}}_createLinkUnderlineEvent(m,p,y,_,b){return{x1:m,y1:p,x2:y,y2:_,cols:this._bufferService.cols,fg:b}}};a.Linkifier2=x=c([f(0,v.IBufferService)],x)},9042:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.tooMuchOutput=a.promptLabel=void 0,a.promptLabel="Terminal input",a.tooMuchOutput="Too much output to announce, navigate to rows manually to read"},3730:function(o,a,l){var c=this&&this.__decorate||function(x,m,p,y){var _,b=arguments.length,w=b<3?m:y===null?y=Object.getOwnPropertyDescriptor(m,p):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(x,m,p,y);else for(var E=x.length-1;E>=0;E--)(_=x[E])&&(w=(b<3?_(w):b>3?_(m,p,w):_(m,p))||w);return b>3&&w&&Object.defineProperty(m,p,w),w},f=this&&this.__param||function(x,m){return function(p,y){m(p,y,x)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkProvider=void 0;const d=l(511),h=l(2585);let g=a.OscLinkProvider=class{constructor(x,m,p){this._bufferService=x,this._optionsService=m,this._oscLinkService=p}provideLinks(x,m){var p;const y=this._bufferService.buffer.lines.get(x-1);if(!y)return void m(void 0);const _=[],b=this._optionsService.rawOptions.linkHandler,w=new d.CellData,E=y.getTrimmedLength();let A=-1,T=-1,P=!1;for(let N=0;N<E;N++)if(T!==-1||y.hasContent(N)){if(y.loadCell(N,w),w.hasExtendedAttrs()&&w.extended.urlId){if(T===-1){T=N,A=w.extended.urlId;continue}P=w.extended.urlId!==A}else T!==-1&&(P=!0);if(P||T!==-1&&N===E-1){const O=(p=this._oscLinkService.getLinkData(A))===null||p===void 0?void 0:p.uri;if(O){const I={start:{x:T+1,y:x},end:{x:N+(P||N!==E-1?0:1),y:x}};let D=!1;if(!(b!=null&&b.allowNonHttpProtocols))try{const F=new URL(O);["http:","https:"].includes(F.protocol)||(D=!0)}catch{D=!0}D||_.push({text:O,range:I,activate:(F,$)=>b?b.activate(F,$,I):v(0,$),hover:(F,$)=>{var z;return(z=b==null?void 0:b.hover)===null||z===void 0?void 0:z.call(b,F,$,I)},leave:(F,$)=>{var z;return(z=b==null?void 0:b.leave)===null||z===void 0?void 0:z.call(b,F,$,I)}})}P=!1,w.hasExtendedAttrs()&&w.extended.urlId?(T=N,A=w.extended.urlId):(T=-1,A=-1)}}m(_)}};function v(x,m){if(confirm(`Do you want to navigate to ${m}?

WARNING: This link could potentially be dangerous`)){const p=window.open();if(p){try{p.opener=null}catch{}p.location.href=m}else console.warn("Opening link blocked as opener could not be cleared")}}a.OscLinkProvider=g=c([f(0,h.IBufferService),f(1,h.IOptionsService),f(2,h.IOscLinkService)],g)},6193:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.RenderDebouncer=void 0,a.RenderDebouncer=class{constructor(l,c){this._parentWindow=l,this._renderCallback=c,this._refreshCallbacks=[]}dispose(){this._animationFrame&&(this._parentWindow.cancelAnimationFrame(this._animationFrame),this._animationFrame=void 0)}addRefreshCallback(l){return this._refreshCallbacks.push(l),this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh())),this._animationFrame}refresh(l,c,f){this._rowCount=f,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c,this._animationFrame||(this._animationFrame=this._parentWindow.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._animationFrame=void 0,this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return void this._runRefreshCallbacks();const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c),this._runRefreshCallbacks()}_runRefreshCallbacks(){for(const l of this._refreshCallbacks)l(0);this._refreshCallbacks=[]}}},5596:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ScreenDprMonitor=void 0;const c=l(844);class f extends c.Disposable{constructor(h){super(),this._parentWindow=h,this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this.register((0,c.toDisposable)(()=>{this.clearListener()}))}setListener(h){this._listener&&this.clearListener(),this._listener=h,this._outerListener=()=>{this._listener&&(this._listener(this._parentWindow.devicePixelRatio,this._currentDevicePixelRatio),this._updateDpr())},this._updateDpr()}_updateDpr(){var h;this._outerListener&&((h=this._resolutionMediaMatchList)===null||h===void 0||h.removeListener(this._outerListener),this._currentDevicePixelRatio=this._parentWindow.devicePixelRatio,this._resolutionMediaMatchList=this._parentWindow.matchMedia(`screen and (resolution: ${this._parentWindow.devicePixelRatio}dppx)`),this._resolutionMediaMatchList.addListener(this._outerListener))}clearListener(){this._resolutionMediaMatchList&&this._listener&&this._outerListener&&(this._resolutionMediaMatchList.removeListener(this._outerListener),this._resolutionMediaMatchList=void 0,this._listener=void 0,this._outerListener=void 0)}}a.ScreenDprMonitor=f},3236:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Terminal=void 0;const c=l(3614),f=l(3656),d=l(6465),h=l(9042),g=l(3730),v=l(1680),x=l(3107),m=l(5744),p=l(2950),y=l(1296),_=l(428),b=l(4269),w=l(5114),E=l(8934),A=l(3230),T=l(9312),P=l(4725),N=l(6731),O=l(8055),I=l(8969),D=l(8460),F=l(844),$=l(6114),z=l(8437),H=l(2584),R=l(7399),j=l(5941),B=l(9074),W=l(2585),G=l(5435),K=l(4567),ie=typeof window<"u"?window.document:null;class le extends I.CoreTerminal{get onFocus(){return this._onFocus.event}get onBlur(){return this._onBlur.event}get onA11yChar(){return this._onA11yCharEmitter.event}get onA11yTab(){return this._onA11yTabEmitter.event}get onWillOpen(){return this._onWillOpen.event}constructor(U={}){super(U),this.browser=$,this._keyDownHandled=!1,this._keyDownSeen=!1,this._keyPressHandled=!1,this._unprocessedDeadKey=!1,this._accessibilityManager=this.register(new F.MutableDisposable),this._onCursorMove=this.register(new D.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onKey=this.register(new D.EventEmitter),this.onKey=this._onKey.event,this._onRender=this.register(new D.EventEmitter),this.onRender=this._onRender.event,this._onSelectionChange=this.register(new D.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onTitleChange=this.register(new D.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onBell=this.register(new D.EventEmitter),this.onBell=this._onBell.event,this._onFocus=this.register(new D.EventEmitter),this._onBlur=this.register(new D.EventEmitter),this._onA11yCharEmitter=this.register(new D.EventEmitter),this._onA11yTabEmitter=this.register(new D.EventEmitter),this._onWillOpen=this.register(new D.EventEmitter),this._setup(),this.linkifier2=this.register(this._instantiationService.createInstance(d.Linkifier2)),this.linkifier2.registerLinkProvider(this._instantiationService.createInstance(g.OscLinkProvider)),this._decorationService=this._instantiationService.createInstance(B.DecorationService),this._instantiationService.setService(W.IDecorationService,this._decorationService),this.register(this._inputHandler.onRequestBell(()=>this._onBell.fire())),this.register(this._inputHandler.onRequestRefreshRows((X,Q)=>this.refresh(X,Q))),this.register(this._inputHandler.onRequestSendFocus(()=>this._reportFocus())),this.register(this._inputHandler.onRequestReset(()=>this.reset())),this.register(this._inputHandler.onRequestWindowsOptionsReport(X=>this._reportWindowsOptions(X))),this.register(this._inputHandler.onColor(X=>this._handleColorEvent(X))),this.register((0,D.forwardEvent)(this._inputHandler.onCursorMove,this._onCursorMove)),this.register((0,D.forwardEvent)(this._inputHandler.onTitleChange,this._onTitleChange)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yChar,this._onA11yCharEmitter)),this.register((0,D.forwardEvent)(this._inputHandler.onA11yTab,this._onA11yTabEmitter)),this.register(this._bufferService.onResize(X=>this._afterResize(X.cols,X.rows))),this.register((0,F.toDisposable)(()=>{var X,Q;this._customKeyEventHandler=void 0,(Q=(X=this.element)===null||X===void 0?void 0:X.parentNode)===null||Q===void 0||Q.removeChild(this.element)}))}_handleColorEvent(U){if(this._themeService)for(const X of U){let Q,te="";switch(X.index){case 256:Q="foreground",te="10";break;case 257:Q="background",te="11";break;case 258:Q="cursor",te="12";break;default:Q="ansi",te="4;"+X.index}switch(X.type){case 0:const ue=O.color.toColorRGB(Q==="ansi"?this._themeService.colors.ansi[X.index]:this._themeService.colors[Q]);this.coreService.triggerDataEvent(`${H.C0.ESC}]${te};${(0,j.toRgbString)(ue)}${H.C1_ESCAPED.ST}`);break;case 1:if(Q==="ansi")this._themeService.modifyColors(ee=>ee.ansi[X.index]=O.rgba.toColor(...X.color));else{const ee=Q;this._themeService.modifyColors(Y=>Y[ee]=O.rgba.toColor(...X.color))}break;case 2:this._themeService.restoreColor(X.index)}}}_setup(){super._setup(),this._customKeyEventHandler=void 0}get buffer(){return this.buffers.active}focus(){this.textarea&&this.textarea.focus({preventScroll:!0})}_handleScreenReaderModeOptionChange(U){U?!this._accessibilityManager.value&&this._renderService&&(this._accessibilityManager.value=this._instantiationService.createInstance(K.AccessibilityManager,this)):this._accessibilityManager.clear()}_handleTextAreaFocus(U){this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[I"),this.updateCursorStyle(U),this.element.classList.add("focus"),this._showCursor(),this._onFocus.fire()}blur(){var U;return(U=this.textarea)===null||U===void 0?void 0:U.blur()}_handleTextAreaBlur(){this.textarea.value="",this.refresh(this.buffer.y,this.buffer.y),this.coreService.decPrivateModes.sendFocus&&this.coreService.triggerDataEvent(H.C0.ESC+"[O"),this.element.classList.remove("focus"),this._onBlur.fire()}_syncTextArea(){if(!this.textarea||!this.buffer.isCursorInViewport||this._compositionHelper.isComposing||!this._renderService)return;const U=this.buffer.ybase+this.buffer.y,X=this.buffer.lines.get(U);if(!X)return;const Q=Math.min(this.buffer.x,this.cols-1),te=this._renderService.dimensions.css.cell.height,ue=X.getWidth(Q),ee=this._renderService.dimensions.css.cell.width*ue,Y=this.buffer.y*this._renderService.dimensions.css.cell.height,se=Q*this._renderService.dimensions.css.cell.width;this.textarea.style.left=se+"px",this.textarea.style.top=Y+"px",this.textarea.style.width=ee+"px",this.textarea.style.height=te+"px",this.textarea.style.lineHeight=te+"px",this.textarea.style.zIndex="-5"}_initGlobal(){this._bindKeys(),this.register((0,f.addDisposableDomListener)(this.element,"copy",X=>{this.hasSelection()&&(0,c.copyHandler)(X,this._selectionService)}));const U=X=>(0,c.handlePasteEvent)(X,this.textarea,this.coreService,this.optionsService);this.register((0,f.addDisposableDomListener)(this.textarea,"paste",U)),this.register((0,f.addDisposableDomListener)(this.element,"paste",U)),$.isFirefox?this.register((0,f.addDisposableDomListener)(this.element,"mousedown",X=>{X.button===2&&(0,c.rightClickHandler)(X,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})):this.register((0,f.addDisposableDomListener)(this.element,"contextmenu",X=>{(0,c.rightClickHandler)(X,this.textarea,this.screenElement,this._selectionService,this.options.rightClickSelectsWord)})),$.isLinux&&this.register((0,f.addDisposableDomListener)(this.element,"auxclick",X=>{X.button===1&&(0,c.moveTextAreaUnderMouseCursor)(X,this.textarea,this.screenElement)}))}_bindKeys(){this.register((0,f.addDisposableDomListener)(this.textarea,"keyup",U=>this._keyUp(U),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keydown",U=>this._keyDown(U),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"keypress",U=>this._keyPress(U),!0)),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionstart",()=>this._compositionHelper.compositionstart())),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionupdate",U=>this._compositionHelper.compositionupdate(U))),this.register((0,f.addDisposableDomListener)(this.textarea,"compositionend",()=>this._compositionHelper.compositionend())),this.register((0,f.addDisposableDomListener)(this.textarea,"input",U=>this._inputEvent(U),!0)),this.register(this.onRender(()=>this._compositionHelper.updateCompositionElements()))}open(U){var X;if(!U)throw new Error("Terminal requires a parent element.");U.isConnected||this._logService.debug("Terminal.open was called on an element that was not attached to the DOM"),this._document=U.ownerDocument,this.element=this._document.createElement("div"),this.element.dir="ltr",this.element.classList.add("terminal"),this.element.classList.add("xterm"),U.appendChild(this.element);const Q=ie.createDocumentFragment();this._viewportElement=ie.createElement("div"),this._viewportElement.classList.add("xterm-viewport"),Q.appendChild(this._viewportElement),this._viewportScrollArea=ie.createElement("div"),this._viewportScrollArea.classList.add("xterm-scroll-area"),this._viewportElement.appendChild(this._viewportScrollArea),this.screenElement=ie.createElement("div"),this.screenElement.classList.add("xterm-screen"),this._helperContainer=ie.createElement("div"),this._helperContainer.classList.add("xterm-helpers"),this.screenElement.appendChild(this._helperContainer),Q.appendChild(this.screenElement),this.textarea=ie.createElement("textarea"),this.textarea.classList.add("xterm-helper-textarea"),this.textarea.setAttribute("aria-label",h.promptLabel),$.isChromeOS||this.textarea.setAttribute("aria-multiline","false"),this.textarea.setAttribute("autocorrect","off"),this.textarea.setAttribute("autocapitalize","off"),this.textarea.setAttribute("spellcheck","false"),this.textarea.tabIndex=0,this._coreBrowserService=this._instantiationService.createInstance(w.CoreBrowserService,this.textarea,(X=this._document.defaultView)!==null&&X!==void 0?X:window),this._instantiationService.setService(P.ICoreBrowserService,this._coreBrowserService),this.register((0,f.addDisposableDomListener)(this.textarea,"focus",te=>this._handleTextAreaFocus(te))),this.register((0,f.addDisposableDomListener)(this.textarea,"blur",()=>this._handleTextAreaBlur())),this._helperContainer.appendChild(this.textarea),this._charSizeService=this._instantiationService.createInstance(_.CharSizeService,this._document,this._helperContainer),this._instantiationService.setService(P.ICharSizeService,this._charSizeService),this._themeService=this._instantiationService.createInstance(N.ThemeService),this._instantiationService.setService(P.IThemeService,this._themeService),this._characterJoinerService=this._instantiationService.createInstance(b.CharacterJoinerService),this._instantiationService.setService(P.ICharacterJoinerService,this._characterJoinerService),this._renderService=this.register(this._instantiationService.createInstance(A.RenderService,this.rows,this.screenElement)),this._instantiationService.setService(P.IRenderService,this._renderService),this.register(this._renderService.onRenderedViewportChange(te=>this._onRender.fire(te))),this.onResize(te=>this._renderService.resize(te.cols,te.rows)),this._compositionView=ie.createElement("div"),this._compositionView.classList.add("composition-view"),this._compositionHelper=this._instantiationService.createInstance(p.CompositionHelper,this.textarea,this._compositionView),this._helperContainer.appendChild(this._compositionView),this.element.appendChild(Q);try{this._onWillOpen.fire(this.element)}catch{}this._renderService.hasRenderer()||this._renderService.setRenderer(this._createRenderer()),this._mouseService=this._instantiationService.createInstance(E.MouseService),this._instantiationService.setService(P.IMouseService,this._mouseService),this.viewport=this._instantiationService.createInstance(v.Viewport,this._viewportElement,this._viewportScrollArea),this.viewport.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent,1)),this.register(this._inputHandler.onRequestSyncScrollBar(()=>this.viewport.syncScrollArea())),this.register(this.viewport),this.register(this.onCursorMove(()=>{this._renderService.handleCursorMove(),this._syncTextArea()})),this.register(this.onResize(()=>this._renderService.handleResize(this.cols,this.rows))),this.register(this.onBlur(()=>this._renderService.handleBlur())),this.register(this.onFocus(()=>this._renderService.handleFocus())),this.register(this._renderService.onDimensionsChange(()=>this.viewport.syncScrollArea())),this._selectionService=this.register(this._instantiationService.createInstance(T.SelectionService,this.element,this.screenElement,this.linkifier2)),this._instantiationService.setService(P.ISelectionService,this._selectionService),this.register(this._selectionService.onRequestScrollLines(te=>this.scrollLines(te.amount,te.suppressScrollEvent))),this.register(this._selectionService.onSelectionChange(()=>this._onSelectionChange.fire())),this.register(this._selectionService.onRequestRedraw(te=>this._renderService.handleSelectionChanged(te.start,te.end,te.columnSelectMode))),this.register(this._selectionService.onLinuxMouseSelection(te=>{this.textarea.value=te,this.textarea.focus(),this.textarea.select()})),this.register(this._onScroll.event(te=>{this.viewport.syncScrollArea(),this._selectionService.refresh()})),this.register((0,f.addDisposableDomListener)(this._viewportElement,"scroll",()=>this._selectionService.refresh())),this.linkifier2.attachToDom(this.screenElement,this._mouseService,this._renderService),this.register(this._instantiationService.createInstance(x.BufferDecorationRenderer,this.screenElement)),this.register((0,f.addDisposableDomListener)(this.element,"mousedown",te=>this._selectionService.handleMouseDown(te))),this.coreMouseService.areMouseEventsActive?(this._selectionService.disable(),this.element.classList.add("enable-mouse-events")):this._selectionService.enable(),this.options.screenReaderMode&&(this._accessibilityManager.value=this._instantiationService.createInstance(K.AccessibilityManager,this)),this.register(this.optionsService.onSpecificOptionChange("screenReaderMode",te=>this._handleScreenReaderModeOptionChange(te))),this.options.overviewRulerWidth&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement))),this.optionsService.onSpecificOptionChange("overviewRulerWidth",te=>{!this._overviewRulerRenderer&&te&&this._viewportElement&&this.screenElement&&(this._overviewRulerRenderer=this.register(this._instantiationService.createInstance(m.OverviewRulerRenderer,this._viewportElement,this.screenElement)))}),this._charSizeService.measure(),this.refresh(0,this.rows-1),this._initGlobal(),this.bindMouse()}_createRenderer(){return this._instantiationService.createInstance(y.DomRenderer,this.element,this.screenElement,this._viewportElement,this.linkifier2)}bindMouse(){const U=this,X=this.element;function Q(ee){const Y=U._mouseService.getMouseReportCoords(ee,U.screenElement);if(!Y)return!1;let se,re;switch(ee.overrideType||ee.type){case"mousemove":re=32,ee.buttons===void 0?(se=3,ee.button!==void 0&&(se=ee.button<3?ee.button:3)):se=1&ee.buttons?0:4&ee.buttons?1:2&ee.buttons?2:3;break;case"mouseup":re=0,se=ee.button<3?ee.button:3;break;case"mousedown":re=1,se=ee.button<3?ee.button:3;break;case"wheel":if(U.viewport.getLinesScrolled(ee)===0)return!1;re=ee.deltaY<0?0:1,se=4;break;default:return!1}return!(re===void 0||se===void 0||se>4)&&U.coreMouseService.triggerMouseEvent({col:Y.col,row:Y.row,x:Y.x,y:Y.y,button:se,action:re,ctrl:ee.ctrlKey,alt:ee.altKey,shift:ee.shiftKey})}const te={mouseup:null,wheel:null,mousedrag:null,mousemove:null},ue={mouseup:ee=>(Q(ee),ee.buttons||(this._document.removeEventListener("mouseup",te.mouseup),te.mousedrag&&this._document.removeEventListener("mousemove",te.mousedrag)),this.cancel(ee)),wheel:ee=>(Q(ee),this.cancel(ee,!0)),mousedrag:ee=>{ee.buttons&&Q(ee)},mousemove:ee=>{ee.buttons||Q(ee)}};this.register(this.coreMouseService.onProtocolChange(ee=>{ee?(this.optionsService.rawOptions.logLevel==="debug"&&this._logService.debug("Binding to mouse events:",this.coreMouseService.explainEvents(ee)),this.element.classList.add("enable-mouse-events"),this._selectionService.disable()):(this._logService.debug("Unbinding from mouse events."),this.element.classList.remove("enable-mouse-events"),this._selectionService.enable()),8&ee?te.mousemove||(X.addEventListener("mousemove",ue.mousemove),te.mousemove=ue.mousemove):(X.removeEventListener("mousemove",te.mousemove),te.mousemove=null),16&ee?te.wheel||(X.addEventListener("wheel",ue.wheel,{passive:!1}),te.wheel=ue.wheel):(X.removeEventListener("wheel",te.wheel),te.wheel=null),2&ee?te.mouseup||(X.addEventListener("mouseup",ue.mouseup),te.mouseup=ue.mouseup):(this._document.removeEventListener("mouseup",te.mouseup),X.removeEventListener("mouseup",te.mouseup),te.mouseup=null),4&ee?te.mousedrag||(te.mousedrag=ue.mousedrag):(this._document.removeEventListener("mousemove",te.mousedrag),te.mousedrag=null)})),this.coreMouseService.activeProtocol=this.coreMouseService.activeProtocol,this.register((0,f.addDisposableDomListener)(X,"mousedown",ee=>{if(ee.preventDefault(),this.focus(),this.coreMouseService.areMouseEventsActive&&!this._selectionService.shouldForceSelection(ee))return Q(ee),te.mouseup&&this._document.addEventListener("mouseup",te.mouseup),te.mousedrag&&this._document.addEventListener("mousemove",te.mousedrag),this.cancel(ee)})),this.register((0,f.addDisposableDomListener)(X,"wheel",ee=>{if(!te.wheel){if(!this.buffer.hasScrollback){const Y=this.viewport.getLinesScrolled(ee);if(Y===0)return;const se=H.C0.ESC+(this.coreService.decPrivateModes.applicationCursorKeys?"O":"[")+(ee.deltaY<0?"A":"B");let re="";for(let me=0;me<Math.abs(Y);me++)re+=se;return this.coreService.triggerDataEvent(re,!0),this.cancel(ee,!0)}return this.viewport.handleWheel(ee)?this.cancel(ee):void 0}},{passive:!1})),this.register((0,f.addDisposableDomListener)(X,"touchstart",ee=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchStart(ee),this.cancel(ee)},{passive:!0})),this.register((0,f.addDisposableDomListener)(X,"touchmove",ee=>{if(!this.coreMouseService.areMouseEventsActive)return this.viewport.handleTouchMove(ee)?void 0:this.cancel(ee)},{passive:!1}))}refresh(U,X){var Q;(Q=this._renderService)===null||Q===void 0||Q.refreshRows(U,X)}updateCursorStyle(U){var X;!((X=this._selectionService)===null||X===void 0)&&X.shouldColumnSelect(U)?this.element.classList.add("column-select"):this.element.classList.remove("column-select")}_showCursor(){this.coreService.isCursorInitialized||(this.coreService.isCursorInitialized=!0,this.refresh(this.buffer.y,this.buffer.y))}scrollLines(U,X,Q=0){var te;Q===1?(super.scrollLines(U,X,Q),this.refresh(0,this.rows-1)):(te=this.viewport)===null||te===void 0||te.scrollLines(U)}paste(U){(0,c.paste)(U,this.textarea,this.coreService,this.optionsService)}attachCustomKeyEventHandler(U){this._customKeyEventHandler=U}registerLinkProvider(U){return this.linkifier2.registerLinkProvider(U)}registerCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");const X=this._characterJoinerService.register(U);return this.refresh(0,this.rows-1),X}deregisterCharacterJoiner(U){if(!this._characterJoinerService)throw new Error("Terminal must be opened first");this._characterJoinerService.deregister(U)&&this.refresh(0,this.rows-1)}get markers(){return this.buffer.markers}registerMarker(U){return this.buffer.addMarker(this.buffer.ybase+this.buffer.y+U)}registerDecoration(U){return this._decorationService.registerDecoration(U)}hasSelection(){return!!this._selectionService&&this._selectionService.hasSelection}select(U,X,Q){this._selectionService.setSelection(U,X,Q)}getSelection(){return this._selectionService?this._selectionService.selectionText:""}getSelectionPosition(){if(this._selectionService&&this._selectionService.hasSelection)return{start:{x:this._selectionService.selectionStart[0],y:this._selectionService.selectionStart[1]},end:{x:this._selectionService.selectionEnd[0],y:this._selectionService.selectionEnd[1]}}}clearSelection(){var U;(U=this._selectionService)===null||U===void 0||U.clearSelection()}selectAll(){var U;(U=this._selectionService)===null||U===void 0||U.selectAll()}selectLines(U,X){var Q;(Q=this._selectionService)===null||Q===void 0||Q.selectLines(U,X)}_keyDown(U){if(this._keyDownHandled=!1,this._keyDownSeen=!0,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;const X=this.browser.isMac&&this.options.macOptionIsMeta&&U.altKey;if(!X&&!this._compositionHelper.keydown(U))return this.options.scrollOnUserInput&&this.buffer.ybase!==this.buffer.ydisp&&this.scrollToBottom(),!1;X||U.key!=="Dead"&&U.key!=="AltGraph"||(this._unprocessedDeadKey=!0);const Q=(0,R.evaluateKeyboardEvent)(U,this.coreService.decPrivateModes.applicationCursorKeys,this.browser.isMac,this.options.macOptionIsMeta);if(this.updateCursorStyle(U),Q.type===3||Q.type===2){const te=this.rows-1;return this.scrollLines(Q.type===2?-te:te),this.cancel(U,!0)}return Q.type===1&&this.selectAll(),!!this._isThirdLevelShift(this.browser,U)||(Q.cancel&&this.cancel(U,!0),!Q.key||!!(U.key&&!U.ctrlKey&&!U.altKey&&!U.metaKey&&U.key.length===1&&U.key.charCodeAt(0)>=65&&U.key.charCodeAt(0)<=90)||(this._unprocessedDeadKey?(this._unprocessedDeadKey=!1,!0):(Q.key!==H.C0.ETX&&Q.key!==H.C0.CR||(this.textarea.value=""),this._onKey.fire({key:Q.key,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(Q.key,!0),!this.optionsService.rawOptions.screenReaderMode||U.altKey||U.ctrlKey?this.cancel(U,!0):void(this._keyDownHandled=!0))))}_isThirdLevelShift(U,X){const Q=U.isMac&&!this.options.macOptionIsMeta&&X.altKey&&!X.ctrlKey&&!X.metaKey||U.isWindows&&X.altKey&&X.ctrlKey&&!X.metaKey||U.isWindows&&X.getModifierState("AltGraph");return X.type==="keypress"?Q:Q&&(!X.keyCode||X.keyCode>47)}_keyUp(U){this._keyDownSeen=!1,this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1||(function(X){return X.keyCode===16||X.keyCode===17||X.keyCode===18}(U)||this.focus(),this.updateCursorStyle(U),this._keyPressHandled=!1)}_keyPress(U){let X;if(this._keyPressHandled=!1,this._keyDownHandled||this._customKeyEventHandler&&this._customKeyEventHandler(U)===!1)return!1;if(this.cancel(U),U.charCode)X=U.charCode;else if(U.which===null||U.which===void 0)X=U.keyCode;else{if(U.which===0||U.charCode===0)return!1;X=U.which}return!(!X||(U.altKey||U.ctrlKey||U.metaKey)&&!this._isThirdLevelShift(this.browser,U)||(X=String.fromCharCode(X),this._onKey.fire({key:X,domEvent:U}),this._showCursor(),this.coreService.triggerDataEvent(X,!0),this._keyPressHandled=!0,this._unprocessedDeadKey=!1,0))}_inputEvent(U){if(U.data&&U.inputType==="insertText"&&(!U.composed||!this._keyDownSeen)&&!this.optionsService.rawOptions.screenReaderMode){if(this._keyPressHandled)return!1;this._unprocessedDeadKey=!1;const X=U.data;return this.coreService.triggerDataEvent(X,!0),this.cancel(U),!0}return!1}resize(U,X){U!==this.cols||X!==this.rows?super.resize(U,X):this._charSizeService&&!this._charSizeService.hasValidSize&&this._charSizeService.measure()}_afterResize(U,X){var Q,te;(Q=this._charSizeService)===null||Q===void 0||Q.measure(),(te=this.viewport)===null||te===void 0||te.syncScrollArea(!0)}clear(){var U;if(this.buffer.ybase!==0||this.buffer.y!==0){this.buffer.clearAllMarkers(),this.buffer.lines.set(0,this.buffer.lines.get(this.buffer.ybase+this.buffer.y)),this.buffer.lines.length=1,this.buffer.ydisp=0,this.buffer.ybase=0,this.buffer.y=0;for(let X=1;X<this.rows;X++)this.buffer.lines.push(this.buffer.getBlankLine(z.DEFAULT_ATTR_DATA));this._onScroll.fire({position:this.buffer.ydisp,source:0}),(U=this.viewport)===null||U===void 0||U.reset(),this.refresh(0,this.rows-1)}}reset(){var U,X;this.options.rows=this.rows,this.options.cols=this.cols;const Q=this._customKeyEventHandler;this._setup(),super.reset(),(U=this._selectionService)===null||U===void 0||U.reset(),this._decorationService.reset(),(X=this.viewport)===null||X===void 0||X.reset(),this._customKeyEventHandler=Q,this.refresh(0,this.rows-1)}clearTextureAtlas(){var U;(U=this._renderService)===null||U===void 0||U.clearTextureAtlas()}_reportFocus(){var U;!((U=this.element)===null||U===void 0)&&U.classList.contains("focus")?this.coreService.triggerDataEvent(H.C0.ESC+"[I"):this.coreService.triggerDataEvent(H.C0.ESC+"[O")}_reportWindowsOptions(U){if(this._renderService)switch(U){case G.WindowsOptionsReportType.GET_WIN_SIZE_PIXELS:const X=this._renderService.dimensions.css.canvas.width.toFixed(0),Q=this._renderService.dimensions.css.canvas.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[4;${Q};${X}t`);break;case G.WindowsOptionsReportType.GET_CELL_SIZE_PIXELS:const te=this._renderService.dimensions.css.cell.width.toFixed(0),ue=this._renderService.dimensions.css.cell.height.toFixed(0);this.coreService.triggerDataEvent(`${H.C0.ESC}[6;${ue};${te}t`)}}cancel(U,X){if(this.options.cancelEvents||X)return U.preventDefault(),U.stopPropagation(),!1}}a.Terminal=le},9924:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TimeBasedDebouncer=void 0,a.TimeBasedDebouncer=class{constructor(l,c=1e3){this._renderCallback=l,this._debounceThresholdMS=c,this._lastRefreshMs=0,this._additionalRefreshRequested=!1}dispose(){this._refreshTimeoutID&&clearTimeout(this._refreshTimeoutID)}refresh(l,c,f){this._rowCount=f,l=l!==void 0?l:0,c=c!==void 0?c:this._rowCount-1,this._rowStart=this._rowStart!==void 0?Math.min(this._rowStart,l):l,this._rowEnd=this._rowEnd!==void 0?Math.max(this._rowEnd,c):c;const d=Date.now();if(d-this._lastRefreshMs>=this._debounceThresholdMS)this._lastRefreshMs=d,this._innerRefresh();else if(!this._additionalRefreshRequested){const h=d-this._lastRefreshMs,g=this._debounceThresholdMS-h;this._additionalRefreshRequested=!0,this._refreshTimeoutID=window.setTimeout(()=>{this._lastRefreshMs=Date.now(),this._innerRefresh(),this._additionalRefreshRequested=!1,this._refreshTimeoutID=void 0},g)}}_innerRefresh(){if(this._rowStart===void 0||this._rowEnd===void 0||this._rowCount===void 0)return;const l=Math.max(this._rowStart,0),c=Math.min(this._rowEnd,this._rowCount-1);this._rowStart=void 0,this._rowEnd=void 0,this._renderCallback(l,c)}}},1680:function(o,a,l){var c=this&&this.__decorate||function(p,y,_,b){var w,E=arguments.length,A=E<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(p,y,_,b);else for(var T=p.length-1;T>=0;T--)(w=p[T])&&(A=(E<3?w(A):E>3?w(y,_,A):w(y,_))||A);return E>3&&A&&Object.defineProperty(y,_,A),A},f=this&&this.__param||function(p,y){return function(_,b){y(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.Viewport=void 0;const d=l(3656),h=l(4725),g=l(8460),v=l(844),x=l(2585);let m=a.Viewport=class extends v.Disposable{constructor(p,y,_,b,w,E,A,T){super(),this._viewportElement=p,this._scrollArea=y,this._bufferService=_,this._optionsService=b,this._charSizeService=w,this._renderService=E,this._coreBrowserService=A,this.scrollBarWidth=0,this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._wheelPartialScroll=0,this._refreshAnimationFrame=null,this._ignoreNextScrollEvent=!1,this._smoothScrollState={startTime:0,origin:-1,target:-1},this._onRequestScrollLines=this.register(new g.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this.scrollBarWidth=this._viewportElement.offsetWidth-this._scrollArea.offsetWidth||15,this.register((0,d.addDisposableDomListener)(this._viewportElement,"scroll",this._handleScroll.bind(this))),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(P=>this._activeBuffer=P.activeBuffer)),this._renderDimensions=this._renderService.dimensions,this.register(this._renderService.onDimensionsChange(P=>this._renderDimensions=P)),this._handleThemeChange(T.colors),this.register(T.onChangeColors(P=>this._handleThemeChange(P))),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.syncScrollArea())),setTimeout(()=>this.syncScrollArea())}_handleThemeChange(p){this._viewportElement.style.backgroundColor=p.background.css}reset(){this._currentRowHeight=0,this._currentDeviceCellHeight=0,this._lastRecordedBufferLength=0,this._lastRecordedViewportHeight=0,this._lastRecordedBufferHeight=0,this._lastTouchY=0,this._lastScrollTop=0,this._coreBrowserService.window.requestAnimationFrame(()=>this.syncScrollArea())}_refresh(p){if(p)return this._innerRefresh(),void(this._refreshAnimationFrame!==null&&this._coreBrowserService.window.cancelAnimationFrame(this._refreshAnimationFrame));this._refreshAnimationFrame===null&&(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._innerRefresh()))}_innerRefresh(){if(this._charSizeService.height>0){this._currentRowHeight=this._renderService.dimensions.device.cell.height/this._coreBrowserService.dpr,this._currentDeviceCellHeight=this._renderService.dimensions.device.cell.height,this._lastRecordedViewportHeight=this._viewportElement.offsetHeight;const y=Math.round(this._currentRowHeight*this._lastRecordedBufferLength)+(this._lastRecordedViewportHeight-this._renderService.dimensions.css.canvas.height);this._lastRecordedBufferHeight!==y&&(this._lastRecordedBufferHeight=y,this._scrollArea.style.height=this._lastRecordedBufferHeight+"px")}const p=this._bufferService.buffer.ydisp*this._currentRowHeight;this._viewportElement.scrollTop!==p&&(this._ignoreNextScrollEvent=!0,this._viewportElement.scrollTop=p),this._refreshAnimationFrame=null}syncScrollArea(p=!1){if(this._lastRecordedBufferLength!==this._bufferService.buffer.lines.length)return this._lastRecordedBufferLength=this._bufferService.buffer.lines.length,void this._refresh(p);this._lastRecordedViewportHeight===this._renderService.dimensions.css.canvas.height&&this._lastScrollTop===this._activeBuffer.ydisp*this._currentRowHeight&&this._renderDimensions.device.cell.height===this._currentDeviceCellHeight||this._refresh(p)}_handleScroll(p){if(this._lastScrollTop=this._viewportElement.scrollTop,!this._viewportElement.offsetParent)return;if(this._ignoreNextScrollEvent)return this._ignoreNextScrollEvent=!1,void this._onRequestScrollLines.fire({amount:0,suppressScrollEvent:!0});const y=Math.round(this._lastScrollTop/this._currentRowHeight)-this._bufferService.buffer.ydisp;this._onRequestScrollLines.fire({amount:y,suppressScrollEvent:!0})}_smoothScroll(){if(this._isDisposed||this._smoothScrollState.origin===-1||this._smoothScrollState.target===-1)return;const p=this._smoothScrollPercent();this._viewportElement.scrollTop=this._smoothScrollState.origin+Math.round(p*(this._smoothScrollState.target-this._smoothScrollState.origin)),p<1?this._coreBrowserService.window.requestAnimationFrame(()=>this._smoothScroll()):this._clearSmoothScrollState()}_smoothScrollPercent(){return this._optionsService.rawOptions.smoothScrollDuration&&this._smoothScrollState.startTime?Math.max(Math.min((Date.now()-this._smoothScrollState.startTime)/this._optionsService.rawOptions.smoothScrollDuration,1),0):1}_clearSmoothScrollState(){this._smoothScrollState.startTime=0,this._smoothScrollState.origin=-1,this._smoothScrollState.target=-1}_bubbleScroll(p,y){const _=this._viewportElement.scrollTop+this._lastRecordedViewportHeight;return!(y<0&&this._viewportElement.scrollTop!==0||y>0&&_<this._lastRecordedBufferHeight)||(p.cancelable&&p.preventDefault(),!1)}handleWheel(p){const y=this._getPixelsScrolled(p);return y!==0&&(this._optionsService.rawOptions.smoothScrollDuration?(this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target===-1?this._smoothScrollState.target=this._viewportElement.scrollTop+y:this._smoothScrollState.target+=y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()):this._viewportElement.scrollTop+=y,this._bubbleScroll(p,y))}scrollLines(p){if(p!==0)if(this._optionsService.rawOptions.smoothScrollDuration){const y=p*this._currentRowHeight;this._smoothScrollState.startTime=Date.now(),this._smoothScrollPercent()<1?(this._smoothScrollState.origin=this._viewportElement.scrollTop,this._smoothScrollState.target=this._smoothScrollState.origin+y,this._smoothScrollState.target=Math.max(Math.min(this._smoothScrollState.target,this._viewportElement.scrollHeight),0),this._smoothScroll()):this._clearSmoothScrollState()}else this._onRequestScrollLines.fire({amount:p,suppressScrollEvent:!1})}_getPixelsScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let y=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_LINE?y*=this._currentRowHeight:p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._currentRowHeight*this._bufferService.rows),y}getBufferElements(p,y){var _;let b,w="";const E=[],A=y??this._bufferService.buffer.lines.length,T=this._bufferService.buffer.lines;for(let P=p;P<A;P++){const N=T.get(P);if(!N)continue;const O=(_=T.get(P+1))===null||_===void 0?void 0:_.isWrapped;if(w+=N.translateToString(!O),!O||P===T.length-1){const I=document.createElement("div");I.textContent=w,E.push(I),w.length>0&&(b=I),w=""}}return{bufferElements:E,cursorElement:b}}getLinesScrolled(p){if(p.deltaY===0||p.shiftKey)return 0;let y=this._applyScrollModifier(p.deltaY,p);return p.deltaMode===WheelEvent.DOM_DELTA_PIXEL?(y/=this._currentRowHeight+0,this._wheelPartialScroll+=y,y=Math.floor(Math.abs(this._wheelPartialScroll))*(this._wheelPartialScroll>0?1:-1),this._wheelPartialScroll%=1):p.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(y*=this._bufferService.rows),y}_applyScrollModifier(p,y){const _=this._optionsService.rawOptions.fastScrollModifier;return _==="alt"&&y.altKey||_==="ctrl"&&y.ctrlKey||_==="shift"&&y.shiftKey?p*this._optionsService.rawOptions.fastScrollSensitivity*this._optionsService.rawOptions.scrollSensitivity:p*this._optionsService.rawOptions.scrollSensitivity}handleTouchStart(p){this._lastTouchY=p.touches[0].pageY}handleTouchMove(p){const y=this._lastTouchY-p.touches[0].pageY;return this._lastTouchY=p.touches[0].pageY,y!==0&&(this._viewportElement.scrollTop+=y,this._bubbleScroll(p,y))}};a.Viewport=m=c([f(2,x.IBufferService),f(3,x.IOptionsService),f(4,h.ICharSizeService),f(5,h.IRenderService),f(6,h.ICoreBrowserService),f(7,h.IThemeService)],m)},3107:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,w=arguments.length,E=w<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(m,p,y,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(E=(w<3?b(E):w>3?b(p,y,E):b(p,y))||E);return w>3&&E&&Object.defineProperty(p,y,E),E},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferDecorationRenderer=void 0;const d=l(3656),h=l(4725),g=l(844),v=l(2585);let x=a.BufferDecorationRenderer=class extends g.Disposable{constructor(m,p,y,_){super(),this._screenElement=m,this._bufferService=p,this._decorationService=y,this._renderService=_,this._decorationElements=new Map,this._altBufferIsActive=!1,this._dimensionsChanged=!1,this._container=document.createElement("div"),this._container.classList.add("xterm-decoration-container"),this._screenElement.appendChild(this._container),this.register(this._renderService.onRenderedViewportChange(()=>this._doRefreshDecorations())),this.register(this._renderService.onDimensionsChange(()=>{this._dimensionsChanged=!0,this._queueRefresh()})),this.register((0,d.addDisposableDomListener)(window,"resize",()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._altBufferIsActive=this._bufferService.buffer===this._bufferService.buffers.alt})),this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh())),this.register(this._decorationService.onDecorationRemoved(b=>this._removeDecoration(b))),this.register((0,g.toDisposable)(()=>{this._container.remove(),this._decorationElements.clear()}))}_queueRefresh(){this._animationFrame===void 0&&(this._animationFrame=this._renderService.addRefreshCallback(()=>{this._doRefreshDecorations(),this._animationFrame=void 0}))}_doRefreshDecorations(){for(const m of this._decorationService.decorations)this._renderDecoration(m);this._dimensionsChanged=!1}_renderDecoration(m){this._refreshStyle(m),this._dimensionsChanged&&this._refreshXPosition(m)}_createElement(m){var p,y;const _=document.createElement("div");_.classList.add("xterm-decoration"),_.classList.toggle("xterm-decoration-top-layer",((p=m==null?void 0:m.options)===null||p===void 0?void 0:p.layer)==="top"),_.style.width=`${Math.round((m.options.width||1)*this._renderService.dimensions.css.cell.width)}px`,_.style.height=(m.options.height||1)*this._renderService.dimensions.css.cell.height+"px",_.style.top=(m.marker.line-this._bufferService.buffers.active.ydisp)*this._renderService.dimensions.css.cell.height+"px",_.style.lineHeight=`${this._renderService.dimensions.css.cell.height}px`;const b=(y=m.options.x)!==null&&y!==void 0?y:0;return b&&b>this._bufferService.cols&&(_.style.display="none"),this._refreshXPosition(m,_),_}_refreshStyle(m){const p=m.marker.line-this._bufferService.buffers.active.ydisp;if(p<0||p>=this._bufferService.rows)m.element&&(m.element.style.display="none",m.onRenderEmitter.fire(m.element));else{let y=this._decorationElements.get(m);y||(y=this._createElement(m),m.element=y,this._decorationElements.set(m,y),this._container.appendChild(y),m.onDispose(()=>{this._decorationElements.delete(m),y.remove()})),y.style.top=p*this._renderService.dimensions.css.cell.height+"px",y.style.display=this._altBufferIsActive?"none":"block",m.onRenderEmitter.fire(y)}}_refreshXPosition(m,p=m.element){var y;if(!p)return;const _=(y=m.options.x)!==null&&y!==void 0?y:0;(m.options.anchor||"left")==="right"?p.style.right=_?_*this._renderService.dimensions.css.cell.width+"px":"":p.style.left=_?_*this._renderService.dimensions.css.cell.width+"px":""}_removeDecoration(m){var p;(p=this._decorationElements.get(m))===null||p===void 0||p.remove(),this._decorationElements.delete(m),m.dispose()}};a.BufferDecorationRenderer=x=c([f(1,v.IBufferService),f(2,v.IDecorationService),f(3,h.IRenderService)],x)},5871:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ColorZoneStore=void 0,a.ColorZoneStore=class{constructor(){this._zones=[],this._zonePool=[],this._zonePoolIndex=0,this._linePadding={full:0,left:0,center:0,right:0}}get zones(){return this._zonePool.length=Math.min(this._zonePool.length,this._zones.length),this._zones}clear(){this._zones.length=0,this._zonePoolIndex=0}addDecoration(l){if(l.options.overviewRulerOptions){for(const c of this._zones)if(c.color===l.options.overviewRulerOptions.color&&c.position===l.options.overviewRulerOptions.position){if(this._lineIntersectsZone(c,l.marker.line))return;if(this._lineAdjacentToZone(c,l.marker.line,l.options.overviewRulerOptions.position))return void this._addLineToZone(c,l.marker.line)}if(this._zonePoolIndex<this._zonePool.length)return this._zonePool[this._zonePoolIndex].color=l.options.overviewRulerOptions.color,this._zonePool[this._zonePoolIndex].position=l.options.overviewRulerOptions.position,this._zonePool[this._zonePoolIndex].startBufferLine=l.marker.line,this._zonePool[this._zonePoolIndex].endBufferLine=l.marker.line,void this._zones.push(this._zonePool[this._zonePoolIndex++]);this._zones.push({color:l.options.overviewRulerOptions.color,position:l.options.overviewRulerOptions.position,startBufferLine:l.marker.line,endBufferLine:l.marker.line}),this._zonePool.push(this._zones[this._zones.length-1]),this._zonePoolIndex++}}setPadding(l){this._linePadding=l}_lineIntersectsZone(l,c){return c>=l.startBufferLine&&c<=l.endBufferLine}_lineAdjacentToZone(l,c,f){return c>=l.startBufferLine-this._linePadding[f||"full"]&&c<=l.endBufferLine+this._linePadding[f||"full"]}_addLineToZone(l,c){l.startBufferLine=Math.min(l.startBufferLine,c),l.endBufferLine=Math.max(l.endBufferLine,c)}}},5744:function(o,a,l){var c=this&&this.__decorate||function(b,w,E,A){var T,P=arguments.length,N=P<3?w:A===null?A=Object.getOwnPropertyDescriptor(w,E):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,w,E,A);else for(var O=b.length-1;O>=0;O--)(T=b[O])&&(N=(P<3?T(N):P>3?T(w,E,N):T(w,E))||N);return P>3&&N&&Object.defineProperty(w,E,N),N},f=this&&this.__param||function(b,w){return function(E,A){w(E,A,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OverviewRulerRenderer=void 0;const d=l(5871),h=l(3656),g=l(4725),v=l(844),x=l(2585),m={full:0,left:0,center:0,right:0},p={full:0,left:0,center:0,right:0},y={full:0,left:0,center:0,right:0};let _=a.OverviewRulerRenderer=class extends v.Disposable{get _width(){return this._optionsService.options.overviewRulerWidth||0}constructor(b,w,E,A,T,P,N){var O;super(),this._viewportElement=b,this._screenElement=w,this._bufferService=E,this._decorationService=A,this._renderService=T,this._optionsService=P,this._coreBrowseService=N,this._colorZoneStore=new d.ColorZoneStore,this._shouldUpdateDimensions=!0,this._shouldUpdateAnchor=!0,this._lastKnownBufferLength=0,this._canvas=document.createElement("canvas"),this._canvas.classList.add("xterm-decoration-overview-ruler"),this._refreshCanvasDimensions(),(O=this._viewportElement.parentElement)===null||O===void 0||O.insertBefore(this._canvas,this._viewportElement);const I=this._canvas.getContext("2d");if(!I)throw new Error("Ctx cannot be null");this._ctx=I,this._registerDecorationListeners(),this._registerBufferChangeListeners(),this._registerDimensionChangeListeners(),this.register((0,v.toDisposable)(()=>{var D;(D=this._canvas)===null||D===void 0||D.remove()}))}_registerDecorationListeners(){this.register(this._decorationService.onDecorationRegistered(()=>this._queueRefresh(void 0,!0))),this.register(this._decorationService.onDecorationRemoved(()=>this._queueRefresh(void 0,!0)))}_registerBufferChangeListeners(){this.register(this._renderService.onRenderedViewportChange(()=>this._queueRefresh())),this.register(this._bufferService.buffers.onBufferActivate(()=>{this._canvas.style.display=this._bufferService.buffer===this._bufferService.buffers.alt?"none":"block"})),this.register(this._bufferService.onScroll(()=>{this._lastKnownBufferLength!==this._bufferService.buffers.normal.lines.length&&(this._refreshDrawHeightConstants(),this._refreshColorZonePadding())}))}_registerDimensionChangeListeners(){this.register(this._renderService.onRender(()=>{this._containerHeight&&this._containerHeight===this._screenElement.clientHeight||(this._queueRefresh(!0),this._containerHeight=this._screenElement.clientHeight)})),this.register(this._optionsService.onSpecificOptionChange("overviewRulerWidth",()=>this._queueRefresh(!0))),this.register((0,h.addDisposableDomListener)(this._coreBrowseService.window,"resize",()=>this._queueRefresh(!0))),this._queueRefresh(!0)}_refreshDrawConstants(){const b=Math.floor(this._canvas.width/3),w=Math.ceil(this._canvas.width/3);p.full=this._canvas.width,p.left=b,p.center=w,p.right=b,this._refreshDrawHeightConstants(),y.full=0,y.left=0,y.center=p.left,y.right=p.left+p.center}_refreshDrawHeightConstants(){m.full=Math.round(2*this._coreBrowseService.dpr);const b=this._canvas.height/this._bufferService.buffer.lines.length,w=Math.round(Math.max(Math.min(b,12),6)*this._coreBrowseService.dpr);m.left=w,m.center=w,m.right=w}_refreshColorZonePadding(){this._colorZoneStore.setPadding({full:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.full),left:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.left),center:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.center),right:Math.floor(this._bufferService.buffers.active.lines.length/(this._canvas.height-1)*m.right)}),this._lastKnownBufferLength=this._bufferService.buffers.normal.lines.length}_refreshCanvasDimensions(){this._canvas.style.width=`${this._width}px`,this._canvas.width=Math.round(this._width*this._coreBrowseService.dpr),this._canvas.style.height=`${this._screenElement.clientHeight}px`,this._canvas.height=Math.round(this._screenElement.clientHeight*this._coreBrowseService.dpr),this._refreshDrawConstants(),this._refreshColorZonePadding()}_refreshDecorations(){this._shouldUpdateDimensions&&this._refreshCanvasDimensions(),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._colorZoneStore.clear();for(const w of this._decorationService.decorations)this._colorZoneStore.addDecoration(w);this._ctx.lineWidth=1;const b=this._colorZoneStore.zones;for(const w of b)w.position!=="full"&&this._renderColorZone(w);for(const w of b)w.position==="full"&&this._renderColorZone(w);this._shouldUpdateDimensions=!1,this._shouldUpdateAnchor=!1}_renderColorZone(b){this._ctx.fillStyle=b.color,this._ctx.fillRect(y[b.position||"full"],Math.round((this._canvas.height-1)*(b.startBufferLine/this._bufferService.buffers.active.lines.length)-m[b.position||"full"]/2),p[b.position||"full"],Math.round((this._canvas.height-1)*((b.endBufferLine-b.startBufferLine)/this._bufferService.buffers.active.lines.length)+m[b.position||"full"]))}_queueRefresh(b,w){this._shouldUpdateDimensions=b||this._shouldUpdateDimensions,this._shouldUpdateAnchor=w||this._shouldUpdateAnchor,this._animationFrame===void 0&&(this._animationFrame=this._coreBrowseService.window.requestAnimationFrame(()=>{this._refreshDecorations(),this._animationFrame=void 0}))}};a.OverviewRulerRenderer=_=c([f(2,x.IBufferService),f(3,x.IDecorationService),f(4,g.IRenderService),f(5,x.IOptionsService),f(6,g.ICoreBrowserService)],_)},2950:function(o,a,l){var c=this&&this.__decorate||function(x,m,p,y){var _,b=arguments.length,w=b<3?m:y===null?y=Object.getOwnPropertyDescriptor(m,p):y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")w=Reflect.decorate(x,m,p,y);else for(var E=x.length-1;E>=0;E--)(_=x[E])&&(w=(b<3?_(w):b>3?_(m,p,w):_(m,p))||w);return b>3&&w&&Object.defineProperty(m,p,w),w},f=this&&this.__param||function(x,m){return function(p,y){m(p,y,x)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CompositionHelper=void 0;const d=l(4725),h=l(2585),g=l(2584);let v=a.CompositionHelper=class{get isComposing(){return this._isComposing}constructor(x,m,p,y,_,b){this._textarea=x,this._compositionView=m,this._bufferService=p,this._optionsService=y,this._coreService=_,this._renderService=b,this._isComposing=!1,this._isSendingComposition=!1,this._compositionPosition={start:0,end:0},this._dataAlreadySent=""}compositionstart(){this._isComposing=!0,this._compositionPosition.start=this._textarea.value.length,this._compositionView.textContent="",this._dataAlreadySent="",this._compositionView.classList.add("active")}compositionupdate(x){this._compositionView.textContent=x.data,this.updateCompositionElements(),setTimeout(()=>{this._compositionPosition.end=this._textarea.value.length},0)}compositionend(){this._finalizeComposition(!0)}keydown(x){if(this._isComposing||this._isSendingComposition){if(x.keyCode===229||x.keyCode===16||x.keyCode===17||x.keyCode===18)return!1;this._finalizeComposition(!1)}return x.keyCode!==229||(this._handleAnyTextareaChanges(),!1)}_finalizeComposition(x){if(this._compositionView.classList.remove("active"),this._isComposing=!1,x){const m={start:this._compositionPosition.start,end:this._compositionPosition.end};this._isSendingComposition=!0,setTimeout(()=>{if(this._isSendingComposition){let p;this._isSendingComposition=!1,m.start+=this._dataAlreadySent.length,p=this._isComposing?this._textarea.value.substring(m.start,m.end):this._textarea.value.substring(m.start),p.length>0&&this._coreService.triggerDataEvent(p,!0)}},0)}else{this._isSendingComposition=!1;const m=this._textarea.value.substring(this._compositionPosition.start,this._compositionPosition.end);this._coreService.triggerDataEvent(m,!0)}}_handleAnyTextareaChanges(){const x=this._textarea.value;setTimeout(()=>{if(!this._isComposing){const m=this._textarea.value,p=m.replace(x,"");this._dataAlreadySent=p,m.length>x.length?this._coreService.triggerDataEvent(p,!0):m.length<x.length?this._coreService.triggerDataEvent(`${g.C0.DEL}`,!0):m.length===x.length&&m!==x&&this._coreService.triggerDataEvent(m,!0)}},0)}updateCompositionElements(x){if(this._isComposing){if(this._bufferService.buffer.isCursorInViewport){const m=Math.min(this._bufferService.buffer.x,this._bufferService.cols-1),p=this._renderService.dimensions.css.cell.height,y=this._bufferService.buffer.y*this._renderService.dimensions.css.cell.height,_=m*this._renderService.dimensions.css.cell.width;this._compositionView.style.left=_+"px",this._compositionView.style.top=y+"px",this._compositionView.style.height=p+"px",this._compositionView.style.lineHeight=p+"px",this._compositionView.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._compositionView.style.fontSize=this._optionsService.rawOptions.fontSize+"px";const b=this._compositionView.getBoundingClientRect();this._textarea.style.left=_+"px",this._textarea.style.top=y+"px",this._textarea.style.width=Math.max(b.width,1)+"px",this._textarea.style.height=Math.max(b.height,1)+"px",this._textarea.style.lineHeight=b.height+"px"}x||setTimeout(()=>this.updateCompositionElements(!0),0)}}};a.CompositionHelper=v=c([f(2,h.IBufferService),f(3,h.IOptionsService),f(4,h.ICoreService),f(5,d.IRenderService)],v)},9806:(o,a)=>{function l(c,f,d){const h=d.getBoundingClientRect(),g=c.getComputedStyle(d),v=parseInt(g.getPropertyValue("padding-left")),x=parseInt(g.getPropertyValue("padding-top"));return[f.clientX-h.left-v,f.clientY-h.top-x]}Object.defineProperty(a,"__esModule",{value:!0}),a.getCoords=a.getCoordsRelativeToElement=void 0,a.getCoordsRelativeToElement=l,a.getCoords=function(c,f,d,h,g,v,x,m,p){if(!v)return;const y=l(c,f,d);return y?(y[0]=Math.ceil((y[0]+(p?x/2:0))/x),y[1]=Math.ceil(y[1]/m),y[0]=Math.min(Math.max(y[0],1),h+(p?1:0)),y[1]=Math.min(Math.max(y[1],1),g),y):void 0}},9504:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.moveToCellSequence=void 0;const c=l(2584);function f(m,p,y,_){const b=m-d(m,y),w=p-d(p,y),E=Math.abs(b-w)-function(A,T,P){let N=0;const O=A-d(A,P),I=T-d(T,P);for(let D=0;D<Math.abs(O-I);D++){const F=h(A,T)==="A"?-1:1,$=P.buffer.lines.get(O+F*D);$!=null&&$.isWrapped&&N++}return N}(m,p,y);return x(E,v(h(m,p),_))}function d(m,p){let y=0,_=p.buffer.lines.get(m),b=_==null?void 0:_.isWrapped;for(;b&&m>=0&&m<p.rows;)y++,_=p.buffer.lines.get(--m),b=_==null?void 0:_.isWrapped;return y}function h(m,p){return m>p?"A":"B"}function g(m,p,y,_,b,w){let E=m,A=p,T="";for(;E!==y||A!==_;)E+=b?1:-1,b&&E>w.cols-1?(T+=w.buffer.translateBufferLineToString(A,!1,m,E),E=0,m=0,A++):!b&&E<0&&(T+=w.buffer.translateBufferLineToString(A,!1,0,m+1),E=w.cols-1,m=E,A--);return T+w.buffer.translateBufferLineToString(A,!1,m,E)}function v(m,p){const y=p?"O":"[";return c.C0.ESC+y+m}function x(m,p){m=Math.floor(m);let y="";for(let _=0;_<m;_++)y+=p;return y}a.moveToCellSequence=function(m,p,y,_){const b=y.buffer.x,w=y.buffer.y;if(!y.buffer.hasScrollback)return function(T,P,N,O,I,D){return f(P,O,I,D).length===0?"":x(g(T,P,T,P-d(P,I),!1,I).length,v("D",D))}(b,w,0,p,y,_)+f(w,p,y,_)+function(T,P,N,O,I,D){let F;F=f(P,O,I,D).length>0?O-d(O,I):P;const $=O,z=function(H,R,j,B,W,G){let K;return K=f(j,B,W,G).length>0?B-d(B,W):R,H<j&&K<=B||H>=j&&K<B?"C":"D"}(T,P,N,O,I,D);return x(g(T,F,N,$,z==="C",I).length,v(z,D))}(b,w,m,p,y,_);let E;if(w===p)return E=b>m?"D":"C",x(Math.abs(b-m),v(E,_));E=w>p?"D":"C";const A=Math.abs(w-p);return x(function(T,P){return P.cols-T}(w>p?m:b,y)+(A-1)*y.cols+1+((w>p?b:m)-1),v(E,_))}},1296:function(o,a,l){var c=this&&this.__decorate||function(I,D,F,$){var z,H=arguments.length,R=H<3?D:$===null?$=Object.getOwnPropertyDescriptor(D,F):$;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")R=Reflect.decorate(I,D,F,$);else for(var j=I.length-1;j>=0;j--)(z=I[j])&&(R=(H<3?z(R):H>3?z(D,F,R):z(D,F))||R);return H>3&&R&&Object.defineProperty(D,F,R),R},f=this&&this.__param||function(I,D){return function(F,$){D(F,$,I)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRenderer=void 0;const d=l(3787),h=l(2550),g=l(2223),v=l(6171),x=l(4725),m=l(8055),p=l(8460),y=l(844),_=l(2585),b="xterm-dom-renderer-owner-",w="xterm-rows",E="xterm-fg-",A="xterm-bg-",T="xterm-focus",P="xterm-selection";let N=1,O=a.DomRenderer=class extends y.Disposable{constructor(I,D,F,$,z,H,R,j,B,W){super(),this._element=I,this._screenElement=D,this._viewportElement=F,this._linkifier2=$,this._charSizeService=H,this._optionsService=R,this._bufferService=j,this._coreBrowserService=B,this._themeService=W,this._terminalClass=N++,this._rowElements=[],this.onRequestRedraw=this.register(new p.EventEmitter).event,this._rowContainer=document.createElement("div"),this._rowContainer.classList.add(w),this._rowContainer.style.lineHeight="normal",this._rowContainer.setAttribute("aria-hidden","true"),this._refreshRowElements(this._bufferService.cols,this._bufferService.rows),this._selectionContainer=document.createElement("div"),this._selectionContainer.classList.add(P),this._selectionContainer.setAttribute("aria-hidden","true"),this.dimensions=(0,v.createRenderDimensions)(),this._updateDimensions(),this.register(this._optionsService.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._themeService.onChangeColors(G=>this._injectCss(G))),this._injectCss(this._themeService.colors),this._rowFactory=z.createInstance(d.DomRendererRowFactory,document),this._element.classList.add(b+this._terminalClass),this._screenElement.appendChild(this._rowContainer),this._screenElement.appendChild(this._selectionContainer),this.register(this._linkifier2.onShowLinkUnderline(G=>this._handleLinkHover(G))),this.register(this._linkifier2.onHideLinkUnderline(G=>this._handleLinkLeave(G))),this.register((0,y.toDisposable)(()=>{this._element.classList.remove(b+this._terminalClass),this._rowContainer.remove(),this._selectionContainer.remove(),this._widthCache.dispose(),this._themeStyleElement.remove(),this._dimensionsStyleElement.remove()})),this._widthCache=new h.WidthCache(document),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}_updateDimensions(){const I=this._coreBrowserService.dpr;this.dimensions.device.char.width=this._charSizeService.width*I,this.dimensions.device.char.height=Math.ceil(this._charSizeService.height*I),this.dimensions.device.cell.width=this.dimensions.device.char.width+Math.round(this._optionsService.rawOptions.letterSpacing),this.dimensions.device.cell.height=Math.floor(this.dimensions.device.char.height*this._optionsService.rawOptions.lineHeight),this.dimensions.device.char.left=0,this.dimensions.device.char.top=0,this.dimensions.device.canvas.width=this.dimensions.device.cell.width*this._bufferService.cols,this.dimensions.device.canvas.height=this.dimensions.device.cell.height*this._bufferService.rows,this.dimensions.css.canvas.width=Math.round(this.dimensions.device.canvas.width/I),this.dimensions.css.canvas.height=Math.round(this.dimensions.device.canvas.height/I),this.dimensions.css.cell.width=this.dimensions.css.canvas.width/this._bufferService.cols,this.dimensions.css.cell.height=this.dimensions.css.canvas.height/this._bufferService.rows;for(const F of this._rowElements)F.style.width=`${this.dimensions.css.canvas.width}px`,F.style.height=`${this.dimensions.css.cell.height}px`,F.style.lineHeight=`${this.dimensions.css.cell.height}px`,F.style.overflow="hidden";this._dimensionsStyleElement||(this._dimensionsStyleElement=document.createElement("style"),this._screenElement.appendChild(this._dimensionsStyleElement));const D=`${this._terminalSelector} .${w} span { display: inline-block; height: 100%; vertical-align: top;}`;this._dimensionsStyleElement.textContent=D,this._selectionContainer.style.height=this._viewportElement.style.height,this._screenElement.style.width=`${this.dimensions.css.canvas.width}px`,this._screenElement.style.height=`${this.dimensions.css.canvas.height}px`}_injectCss(I){this._themeStyleElement||(this._themeStyleElement=document.createElement("style"),this._screenElement.appendChild(this._themeStyleElement));let D=`${this._terminalSelector} .${w} { color: ${I.foreground.css}; font-family: ${this._optionsService.rawOptions.fontFamily}; font-size: ${this._optionsService.rawOptions.fontSize}px; font-kerning: none; white-space: pre}`;D+=`${this._terminalSelector} .${w} .xterm-dim { color: ${m.color.multiplyOpacity(I.foreground,.5).css};}`,D+=`${this._terminalSelector} span:not(.xterm-bold) { font-weight: ${this._optionsService.rawOptions.fontWeight};}${this._terminalSelector} span.xterm-bold { font-weight: ${this._optionsService.rawOptions.fontWeightBold};}${this._terminalSelector} span.xterm-italic { font-style: italic;}`,D+="@keyframes blink_box_shadow_"+this._terminalClass+" { 50% {  border-bottom-style: hidden; }}",D+="@keyframes blink_block_"+this._terminalClass+` { 0% {  background-color: ${I.cursor.css};  color: ${I.cursorAccent.css}; } 50% {  background-color: inherit;  color: ${I.cursor.css}; }}`,D+=`${this._terminalSelector} .${w}.${T} .xterm-cursor.xterm-cursor-blink:not(.xterm-cursor-block) { animation: blink_box_shadow_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w}.${T} .xterm-cursor.xterm-cursor-blink.xterm-cursor-block { animation: blink_block_`+this._terminalClass+` 1s step-end infinite;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-block { background-color: ${I.cursor.css}; color: ${I.cursorAccent.css};}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-outline { outline: 1px solid ${I.cursor.css}; outline-offset: -1px;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-bar { box-shadow: ${this._optionsService.rawOptions.cursorWidth}px 0 0 ${I.cursor.css} inset;}${this._terminalSelector} .${w} .xterm-cursor.xterm-cursor-underline { border-bottom: 1px ${I.cursor.css}; border-bottom-style: solid; height: calc(100% - 1px);}`,D+=`${this._terminalSelector} .${P} { position: absolute; top: 0; left: 0; z-index: 1; pointer-events: none;}${this._terminalSelector}.focus .${P} div { position: absolute; background-color: ${I.selectionBackgroundOpaque.css};}${this._terminalSelector} .${P} div { position: absolute; background-color: ${I.selectionInactiveBackgroundOpaque.css};}`;for(const[F,$]of I.ansi.entries())D+=`${this._terminalSelector} .${E}${F} { color: ${$.css}; }${this._terminalSelector} .${E}${F}.xterm-dim { color: ${m.color.multiplyOpacity($,.5).css}; }${this._terminalSelector} .${A}${F} { background-color: ${$.css}; }`;D+=`${this._terminalSelector} .${E}${g.INVERTED_DEFAULT_COLOR} { color: ${m.color.opaque(I.background).css}; }${this._terminalSelector} .${E}${g.INVERTED_DEFAULT_COLOR}.xterm-dim { color: ${m.color.multiplyOpacity(m.color.opaque(I.background),.5).css}; }${this._terminalSelector} .${A}${g.INVERTED_DEFAULT_COLOR} { background-color: ${I.foreground.css}; }`,this._themeStyleElement.textContent=D}_setDefaultSpacing(){const I=this.dimensions.css.cell.width-this._widthCache.get("W",!1,!1);this._rowContainer.style.letterSpacing=`${I}px`,this._rowFactory.defaultSpacing=I}handleDevicePixelRatioChange(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}_refreshRowElements(I,D){for(let F=this._rowElements.length;F<=D;F++){const $=document.createElement("div");this._rowContainer.appendChild($),this._rowElements.push($)}for(;this._rowElements.length>D;)this._rowContainer.removeChild(this._rowElements.pop())}handleResize(I,D){this._refreshRowElements(I,D),this._updateDimensions()}handleCharSizeChanged(){this._updateDimensions(),this._widthCache.clear(),this._setDefaultSpacing()}handleBlur(){this._rowContainer.classList.remove(T)}handleFocus(){this._rowContainer.classList.add(T),this.renderRows(this._bufferService.buffer.y,this._bufferService.buffer.y)}handleSelectionChanged(I,D,F){if(this._selectionContainer.replaceChildren(),this._rowFactory.handleSelectionChanged(I,D,F),this.renderRows(0,this._bufferService.rows-1),!I||!D)return;const $=I[1]-this._bufferService.buffer.ydisp,z=D[1]-this._bufferService.buffer.ydisp,H=Math.max($,0),R=Math.min(z,this._bufferService.rows-1);if(H>=this._bufferService.rows||R<0)return;const j=document.createDocumentFragment();if(F){const B=I[0]>D[0];j.appendChild(this._createSelectionElement(H,B?D[0]:I[0],B?I[0]:D[0],R-H+1))}else{const B=$===H?I[0]:0,W=H===z?D[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(H,B,W));const G=R-H-1;if(j.appendChild(this._createSelectionElement(H+1,0,this._bufferService.cols,G)),H!==R){const K=z===R?D[0]:this._bufferService.cols;j.appendChild(this._createSelectionElement(R,0,K))}}this._selectionContainer.appendChild(j)}_createSelectionElement(I,D,F,$=1){const z=document.createElement("div");return z.style.height=$*this.dimensions.css.cell.height+"px",z.style.top=I*this.dimensions.css.cell.height+"px",z.style.left=D*this.dimensions.css.cell.width+"px",z.style.width=this.dimensions.css.cell.width*(F-D)+"px",z}handleCursorMove(){}_handleOptionsChanged(){this._updateDimensions(),this._injectCss(this._themeService.colors),this._widthCache.setFont(this._optionsService.rawOptions.fontFamily,this._optionsService.rawOptions.fontSize,this._optionsService.rawOptions.fontWeight,this._optionsService.rawOptions.fontWeightBold),this._setDefaultSpacing()}clear(){for(const I of this._rowElements)I.replaceChildren()}renderRows(I,D){const F=this._bufferService.buffer,$=F.ybase+F.y,z=Math.min(F.x,this._bufferService.cols-1),H=this._optionsService.rawOptions.cursorBlink,R=this._optionsService.rawOptions.cursorStyle,j=this._optionsService.rawOptions.cursorInactiveStyle;for(let B=I;B<=D;B++){const W=B+F.ydisp,G=this._rowElements[B],K=F.lines.get(W);if(!G||!K)break;G.replaceChildren(...this._rowFactory.createRow(K,W,W===$,R,j,z,H,this.dimensions.css.cell.width,this._widthCache,-1,-1))}}get _terminalSelector(){return`.${b}${this._terminalClass}`}_handleLinkHover(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!0)}_handleLinkLeave(I){this._setCellUnderline(I.x1,I.x2,I.y1,I.y2,I.cols,!1)}_setCellUnderline(I,D,F,$,z,H){F<0&&(I=0),$<0&&(D=0);const R=this._bufferService.rows-1;F=Math.max(Math.min(F,R),0),$=Math.max(Math.min($,R),0),z=Math.min(z,this._bufferService.cols);const j=this._bufferService.buffer,B=j.ybase+j.y,W=Math.min(j.x,z-1),G=this._optionsService.rawOptions.cursorBlink,K=this._optionsService.rawOptions.cursorStyle,ie=this._optionsService.rawOptions.cursorInactiveStyle;for(let le=F;le<=$;++le){const J=le+j.ydisp,U=this._rowElements[le],X=j.lines.get(J);if(!U||!X)break;U.replaceChildren(...this._rowFactory.createRow(X,J,J===B,K,ie,W,G,this.dimensions.css.cell.width,this._widthCache,H?le===F?I:0:-1,H?(le===$?D:z)-1:-1))}}};a.DomRenderer=O=c([f(4,_.IInstantiationService),f(5,x.ICharSizeService),f(6,_.IOptionsService),f(7,_.IBufferService),f(8,x.ICoreBrowserService),f(9,x.IThemeService)],O)},3787:function(o,a,l){var c=this&&this.__decorate||function(E,A,T,P){var N,O=arguments.length,I=O<3?A:P===null?P=Object.getOwnPropertyDescriptor(A,T):P;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")I=Reflect.decorate(E,A,T,P);else for(var D=E.length-1;D>=0;D--)(N=E[D])&&(I=(O<3?N(I):O>3?N(A,T,I):N(A,T))||I);return O>3&&I&&Object.defineProperty(A,T,I),I},f=this&&this.__param||function(E,A){return function(T,P){A(T,P,E)}};Object.defineProperty(a,"__esModule",{value:!0}),a.DomRendererRowFactory=void 0;const d=l(2223),h=l(643),g=l(511),v=l(2585),x=l(8055),m=l(4725),p=l(4269),y=l(6171),_=l(3734);let b=a.DomRendererRowFactory=class{constructor(E,A,T,P,N,O,I){this._document=E,this._characterJoinerService=A,this._optionsService=T,this._coreBrowserService=P,this._coreService=N,this._decorationService=O,this._themeService=I,this._workCell=new g.CellData,this._columnSelectMode=!1,this.defaultSpacing=0}handleSelectionChanged(E,A,T){this._selectionStart=E,this._selectionEnd=A,this._columnSelectMode=T}createRow(E,A,T,P,N,O,I,D,F,$,z){const H=[],R=this._characterJoinerService.getJoinedCharacters(A),j=this._themeService.colors;let B,W=E.getNoBgTrimmedLength();T&&W<O+1&&(W=O+1);let G=0,K="",ie=0,le=0,J=0,U=!1,X=0,Q=!1,te=0;const ue=[],ee=$!==-1&&z!==-1;for(let Y=0;Y<W;Y++){E.loadCell(Y,this._workCell);let se=this._workCell.getWidth();if(se===0)continue;let re=!1,me=Y,he=this._workCell;if(R.length>0&&Y===R[0][0]){re=!0;const Ye=R.shift();he=new p.JoinedCellData(this._workCell,E.translateToString(!0,Ye[0],Ye[1]),Ye[1]-Ye[0]),me=Ye[1]-1,se=he.getWidth()}const Ae=this._isCellInSelection(Y,A),Se=T&&Y===O,Re=ee&&Y>=$&&Y<=z;let ot=!1;this._decorationService.forEachDecorationAtCell(Y,A,void 0,Ye=>{ot=!0});let rt=he.getChars()||h.WHITESPACE_CELL_CHAR;if(rt===" "&&(he.isUnderline()||he.isOverline())&&(rt=""),te=se*D-F.get(rt,he.isBold(),he.isItalic()),B){if(G&&(Ae&&Q||!Ae&&!Q&&he.bg===ie)&&(Ae&&Q&&j.selectionForeground||he.fg===le)&&he.extended.ext===J&&Re===U&&te===X&&!Se&&!re&&!ot){K+=rt,G++;continue}G&&(B.textContent=K),B=this._document.createElement("span"),G=0,K=""}else B=this._document.createElement("span");if(ie=he.bg,le=he.fg,J=he.extended.ext,U=Re,X=te,Q=Ae,re&&O>=Y&&O<=me&&(O=Y),!this._coreService.isCursorHidden&&Se){if(ue.push("xterm-cursor"),this._coreBrowserService.isFocused)I&&ue.push("xterm-cursor-blink"),ue.push(P==="bar"?"xterm-cursor-bar":P==="underline"?"xterm-cursor-underline":"xterm-cursor-block");else if(N)switch(N){case"outline":ue.push("xterm-cursor-outline");break;case"block":ue.push("xterm-cursor-block");break;case"bar":ue.push("xterm-cursor-bar");break;case"underline":ue.push("xterm-cursor-underline")}}if(he.isBold()&&ue.push("xterm-bold"),he.isItalic()&&ue.push("xterm-italic"),he.isDim()&&ue.push("xterm-dim"),K=he.isInvisible()?h.WHITESPACE_CELL_CHAR:he.getChars()||h.WHITESPACE_CELL_CHAR,he.isUnderline()&&(ue.push(`xterm-underline-${he.extended.underlineStyle}`),K===" "&&(K=""),!he.isUnderlineColorDefault()))if(he.isUnderlineColorRGB())B.style.textDecorationColor=`rgb(${_.AttributeData.toColorRGB(he.getUnderlineColor()).join(",")})`;else{let Ye=he.getUnderlineColor();this._optionsService.rawOptions.drawBoldTextInBrightColors&&he.isBold()&&Ye<8&&(Ye+=8),B.style.textDecorationColor=j.ansi[Ye].css}he.isOverline()&&(ue.push("xterm-overline"),K===" "&&(K="")),he.isStrikethrough()&&ue.push("xterm-strikethrough"),Re&&(B.style.textDecoration="underline");let oe=he.getFgColor(),Z=he.getFgColorMode(),ve=he.getBgColor(),Ee=he.getBgColorMode();const je=!!he.isInverse();if(je){const Ye=oe;oe=ve,ve=Ye;const Ve=Z;Z=Ee,Ee=Ve}let Te,ct,We,lt=!1;switch(this._decorationService.forEachDecorationAtCell(Y,A,void 0,Ye=>{Ye.options.layer!=="top"&&lt||(Ye.backgroundColorRGB&&(Ee=50331648,ve=Ye.backgroundColorRGB.rgba>>8&16777215,Te=Ye.backgroundColorRGB),Ye.foregroundColorRGB&&(Z=50331648,oe=Ye.foregroundColorRGB.rgba>>8&16777215,ct=Ye.foregroundColorRGB),lt=Ye.options.layer==="top")}),!lt&&Ae&&(Te=this._coreBrowserService.isFocused?j.selectionBackgroundOpaque:j.selectionInactiveBackgroundOpaque,ve=Te.rgba>>8&16777215,Ee=50331648,lt=!0,j.selectionForeground&&(Z=50331648,oe=j.selectionForeground.rgba>>8&16777215,ct=j.selectionForeground)),lt&&ue.push("xterm-decoration-top"),Ee){case 16777216:case 33554432:We=j.ansi[ve],ue.push(`xterm-bg-${ve}`);break;case 50331648:We=x.rgba.toColor(ve>>16,ve>>8&255,255&ve),this._addStyle(B,`background-color:#${w((ve>>>0).toString(16),"0",6)}`);break;default:je?(We=j.foreground,ue.push(`xterm-bg-${d.INVERTED_DEFAULT_COLOR}`)):We=j.background}switch(Te||he.isDim()&&(Te=x.color.multiplyOpacity(We,.5)),Z){case 16777216:case 33554432:he.isBold()&&oe<8&&this._optionsService.rawOptions.drawBoldTextInBrightColors&&(oe+=8),this._applyMinimumContrast(B,We,j.ansi[oe],he,Te,void 0)||ue.push(`xterm-fg-${oe}`);break;case 50331648:const Ye=x.rgba.toColor(oe>>16&255,oe>>8&255,255&oe);this._applyMinimumContrast(B,We,Ye,he,Te,ct)||this._addStyle(B,`color:#${w(oe.toString(16),"0",6)}`);break;default:this._applyMinimumContrast(B,We,j.foreground,he,Te,void 0)||je&&ue.push(`xterm-fg-${d.INVERTED_DEFAULT_COLOR}`)}ue.length&&(B.className=ue.join(" "),ue.length=0),Se||re||ot?B.textContent=K:G++,te!==this.defaultSpacing&&(B.style.letterSpacing=`${te}px`),H.push(B),Y=me}return B&&G&&(B.textContent=K),H}_applyMinimumContrast(E,A,T,P,N,O){if(this._optionsService.rawOptions.minimumContrastRatio===1||(0,y.excludeFromContrastRatioDemands)(P.getCode()))return!1;const I=this._getContrastCache(P);let D;if(N||O||(D=I.getColor(A.rgba,T.rgba)),D===void 0){const F=this._optionsService.rawOptions.minimumContrastRatio/(P.isDim()?2:1);D=x.color.ensureContrastRatio(N||A,O||T,F),I.setColor((N||A).rgba,(O||T).rgba,D??null)}return!!D&&(this._addStyle(E,`color:${D.css}`),!0)}_getContrastCache(E){return E.isDim()?this._themeService.colors.halfContrastCache:this._themeService.colors.contrastCache}_addStyle(E,A){E.setAttribute("style",`${E.getAttribute("style")||""}${A};`)}_isCellInSelection(E,A){const T=this._selectionStart,P=this._selectionEnd;return!(!T||!P)&&(this._columnSelectMode?T[0]<=P[0]?E>=T[0]&&A>=T[1]&&E<P[0]&&A<=P[1]:E<T[0]&&A>=T[1]&&E>=P[0]&&A<=P[1]:A>T[1]&&A<P[1]||T[1]===P[1]&&A===T[1]&&E>=T[0]&&E<P[0]||T[1]<P[1]&&A===P[1]&&E<P[0]||T[1]<P[1]&&A===T[1]&&E>=T[0])}};function w(E,A,T){for(;E.length<T;)E=A+E;return E}a.DomRendererRowFactory=b=c([f(1,m.ICharacterJoinerService),f(2,v.IOptionsService),f(3,m.ICoreBrowserService),f(4,v.ICoreService),f(5,v.IDecorationService),f(6,m.IThemeService)],b)},2550:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WidthCache=void 0,a.WidthCache=class{constructor(l){this._flat=new Float32Array(256),this._font="",this._fontSize=0,this._weight="normal",this._weightBold="bold",this._measureElements=[],this._container=l.createElement("div"),this._container.style.position="absolute",this._container.style.top="-50000px",this._container.style.width="50000px",this._container.style.whiteSpace="pre",this._container.style.fontKerning="none";const c=l.createElement("span"),f=l.createElement("span");f.style.fontWeight="bold";const d=l.createElement("span");d.style.fontStyle="italic";const h=l.createElement("span");h.style.fontWeight="bold",h.style.fontStyle="italic",this._measureElements=[c,f,d,h],this._container.appendChild(c),this._container.appendChild(f),this._container.appendChild(d),this._container.appendChild(h),l.body.appendChild(this._container),this.clear()}dispose(){this._container.remove(),this._measureElements.length=0,this._holey=void 0}clear(){this._flat.fill(-9999),this._holey=new Map}setFont(l,c,f,d){l===this._font&&c===this._fontSize&&f===this._weight&&d===this._weightBold||(this._font=l,this._fontSize=c,this._weight=f,this._weightBold=d,this._container.style.fontFamily=this._font,this._container.style.fontSize=`${this._fontSize}px`,this._measureElements[0].style.fontWeight=`${f}`,this._measureElements[1].style.fontWeight=`${d}`,this._measureElements[2].style.fontWeight=`${f}`,this._measureElements[3].style.fontWeight=`${d}`,this.clear())}get(l,c,f){let d=0;if(!c&&!f&&l.length===1&&(d=l.charCodeAt(0))<256)return this._flat[d]!==-9999?this._flat[d]:this._flat[d]=this._measure(l,0);let h=l;c&&(h+="B"),f&&(h+="I");let g=this._holey.get(h);if(g===void 0){let v=0;c&&(v|=1),f&&(v|=2),g=this._measure(l,v),this._holey.set(h,g)}return g}_measure(l,c){const f=this._measureElements[c];return f.textContent=l.repeat(32),f.offsetWidth/32}}},2223:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.TEXT_BASELINE=a.DIM_OPACITY=a.INVERTED_DEFAULT_COLOR=void 0;const c=l(6114);a.INVERTED_DEFAULT_COLOR=257,a.DIM_OPACITY=.5,a.TEXT_BASELINE=c.isFirefox||c.isLegacyEdge?"bottom":"ideographic"},6171:(o,a)=>{function l(c){return 57508<=c&&c<=57558}Object.defineProperty(a,"__esModule",{value:!0}),a.createRenderDimensions=a.excludeFromContrastRatioDemands=a.isRestrictedPowerlineGlyph=a.isPowerlineGlyph=a.throwIfFalsy=void 0,a.throwIfFalsy=function(c){if(!c)throw new Error("value must not be falsy");return c},a.isPowerlineGlyph=l,a.isRestrictedPowerlineGlyph=function(c){return 57520<=c&&c<=57527},a.excludeFromContrastRatioDemands=function(c){return l(c)||function(f){return 9472<=f&&f<=9631}(c)},a.createRenderDimensions=function(){return{css:{canvas:{width:0,height:0},cell:{width:0,height:0}},device:{canvas:{width:0,height:0},cell:{width:0,height:0},char:{width:0,height:0,left:0,top:0}}}}},456:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionModel=void 0,a.SelectionModel=class{constructor(l){this._bufferService=l,this.isSelectAllActive=!1,this.selectionStartLength=0}clearSelection(){this.selectionStart=void 0,this.selectionEnd=void 0,this.isSelectAllActive=!1,this.selectionStartLength=0}get finalSelectionStart(){return this.isSelectAllActive?[0,0]:this.selectionEnd&&this.selectionStart&&this.areSelectionValuesReversed()?this.selectionEnd:this.selectionStart}get finalSelectionEnd(){if(this.isSelectAllActive)return[this._bufferService.cols,this._bufferService.buffer.ybase+this._bufferService.rows-1];if(this.selectionStart){if(!this.selectionEnd||this.areSelectionValuesReversed()){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?l%this._bufferService.cols==0?[this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)-1]:[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[l,this.selectionStart[1]]}if(this.selectionStartLength&&this.selectionEnd[1]===this.selectionStart[1]){const l=this.selectionStart[0]+this.selectionStartLength;return l>this._bufferService.cols?[l%this._bufferService.cols,this.selectionStart[1]+Math.floor(l/this._bufferService.cols)]:[Math.max(l,this.selectionEnd[0]),this.selectionEnd[1]]}return this.selectionEnd}}areSelectionValuesReversed(){const l=this.selectionStart,c=this.selectionEnd;return!(!l||!c)&&(l[1]>c[1]||l[1]===c[1]&&l[0]>c[0])}handleTrim(l){return this.selectionStart&&(this.selectionStart[1]-=l),this.selectionEnd&&(this.selectionEnd[1]-=l),this.selectionEnd&&this.selectionEnd[1]<0?(this.clearSelection(),!0):(this.selectionStart&&this.selectionStart[1]<0&&(this.selectionStart[1]=0),!1)}}},428:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,w=arguments.length,E=w<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(m,p,y,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(E=(w<3?b(E):w>3?b(p,y,E):b(p,y))||E);return w>3&&E&&Object.defineProperty(p,y,E),E},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharSizeService=void 0;const d=l(2585),h=l(8460),g=l(844);let v=a.CharSizeService=class extends g.Disposable{get hasValidSize(){return this.width>0&&this.height>0}constructor(m,p,y){super(),this._optionsService=y,this.width=0,this.height=0,this._onCharSizeChange=this.register(new h.EventEmitter),this.onCharSizeChange=this._onCharSizeChange.event,this._measureStrategy=new x(m,p,this._optionsService),this.register(this._optionsService.onMultipleOptionChange(["fontFamily","fontSize"],()=>this.measure()))}measure(){const m=this._measureStrategy.measure();m.width===this.width&&m.height===this.height||(this.width=m.width,this.height=m.height,this._onCharSizeChange.fire())}};a.CharSizeService=v=c([f(2,d.IOptionsService)],v);class x{constructor(p,y,_){this._document=p,this._parentElement=y,this._optionsService=_,this._result={width:0,height:0},this._measureElement=this._document.createElement("span"),this._measureElement.classList.add("xterm-char-measure-element"),this._measureElement.textContent="W".repeat(32),this._measureElement.setAttribute("aria-hidden","true"),this._measureElement.style.whiteSpace="pre",this._measureElement.style.fontKerning="none",this._parentElement.appendChild(this._measureElement)}measure(){this._measureElement.style.fontFamily=this._optionsService.rawOptions.fontFamily,this._measureElement.style.fontSize=`${this._optionsService.rawOptions.fontSize}px`;const p={height:Number(this._measureElement.offsetHeight),width:Number(this._measureElement.offsetWidth)};return p.width!==0&&p.height!==0&&(this._result.width=p.width/32,this._result.height=Math.ceil(p.height)),this._result}}},4269:function(o,a,l){var c=this&&this.__decorate||function(p,y,_,b){var w,E=arguments.length,A=E<3?y:b===null?b=Object.getOwnPropertyDescriptor(y,_):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")A=Reflect.decorate(p,y,_,b);else for(var T=p.length-1;T>=0;T--)(w=p[T])&&(A=(E<3?w(A):E>3?w(y,_,A):w(y,_))||A);return E>3&&A&&Object.defineProperty(y,_,A),A},f=this&&this.__param||function(p,y){return function(_,b){y(_,b,p)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CharacterJoinerService=a.JoinedCellData=void 0;const d=l(3734),h=l(643),g=l(511),v=l(2585);class x extends d.AttributeData{constructor(y,_,b){super(),this.content=0,this.combinedData="",this.fg=y.fg,this.bg=y.bg,this.combinedData=_,this._width=b}isCombined(){return 2097152}getWidth(){return this._width}getChars(){return this.combinedData}getCode(){return 2097151}setFromCharData(y){throw new Error("not implemented")}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.JoinedCellData=x;let m=a.CharacterJoinerService=class _me{constructor(y){this._bufferService=y,this._characterJoiners=[],this._nextCharacterJoinerId=0,this._workCell=new g.CellData}register(y){const _={id:this._nextCharacterJoinerId++,handler:y};return this._characterJoiners.push(_),_.id}deregister(y){for(let _=0;_<this._characterJoiners.length;_++)if(this._characterJoiners[_].id===y)return this._characterJoiners.splice(_,1),!0;return!1}getJoinedCharacters(y){if(this._characterJoiners.length===0)return[];const _=this._bufferService.buffer.lines.get(y);if(!_||_.length===0)return[];const b=[],w=_.translateToString(!0);let E=0,A=0,T=0,P=_.getFg(0),N=_.getBg(0);for(let O=0;O<_.getTrimmedLength();O++)if(_.loadCell(O,this._workCell),this._workCell.getWidth()!==0){if(this._workCell.fg!==P||this._workCell.bg!==N){if(O-E>1){const I=this._getJoinedRanges(w,T,A,_,E);for(let D=0;D<I.length;D++)b.push(I[D])}E=O,T=A,P=this._workCell.fg,N=this._workCell.bg}A+=this._workCell.getChars().length||h.WHITESPACE_CELL_CHAR.length}if(this._bufferService.cols-E>1){const O=this._getJoinedRanges(w,T,A,_,E);for(let I=0;I<O.length;I++)b.push(O[I])}return b}_getJoinedRanges(y,_,b,w,E){const A=y.substring(_,b);let T=[];try{T=this._characterJoiners[0].handler(A)}catch(P){console.error(P)}for(let P=1;P<this._characterJoiners.length;P++)try{const N=this._characterJoiners[P].handler(A);for(let O=0;O<N.length;O++)_me._mergeRanges(T,N[O])}catch(N){console.error(N)}return this._stringRangesToCellRanges(T,w,E),T}_stringRangesToCellRanges(y,_,b){let w=0,E=!1,A=0,T=y[w];if(T){for(let P=b;P<this._bufferService.cols;P++){const N=_.getWidth(P),O=_.getString(P).length||h.WHITESPACE_CELL_CHAR.length;if(N!==0){if(!E&&T[0]<=A&&(T[0]=P,E=!0),T[1]<=A){if(T[1]=P,T=y[++w],!T)break;T[0]<=A?(T[0]=P,E=!0):E=!1}A+=O}}T&&(T[1]=this._bufferService.cols)}}static _mergeRanges(y,_){let b=!1;for(let w=0;w<y.length;w++){const E=y[w];if(b){if(_[1]<=E[0])return y[w-1][1]=_[1],y;if(_[1]<=E[1])return y[w-1][1]=Math.max(_[1],E[1]),y.splice(w,1),y;y.splice(w,1),w--}else{if(_[1]<=E[0])return y.splice(w,0,_),y;if(_[1]<=E[1])return E[0]=Math.min(_[0],E[0]),y;_[0]<E[1]&&(E[0]=Math.min(_[0],E[0]),b=!0)}}return b?y[y.length-1][1]=_[1]:y.push(_),y}};a.CharacterJoinerService=m=c([f(0,v.IBufferService)],m)},5114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreBrowserService=void 0,a.CoreBrowserService=class{constructor(l,c){this._textarea=l,this.window=c,this._isFocused=!1,this._cachedIsFocused=void 0,this._textarea.addEventListener("focus",()=>this._isFocused=!0),this._textarea.addEventListener("blur",()=>this._isFocused=!1)}get dpr(){return this.window.devicePixelRatio}get isFocused(){return this._cachedIsFocused===void 0&&(this._cachedIsFocused=this._isFocused&&this._textarea.ownerDocument.hasFocus(),queueMicrotask(()=>this._cachedIsFocused=void 0)),this._cachedIsFocused}}},8934:function(o,a,l){var c=this&&this.__decorate||function(v,x,m,p){var y,_=arguments.length,b=_<3?x:p===null?p=Object.getOwnPropertyDescriptor(x,m):p;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(v,x,m,p);else for(var w=v.length-1;w>=0;w--)(y=v[w])&&(b=(_<3?y(b):_>3?y(x,m,b):y(x,m))||b);return _>3&&b&&Object.defineProperty(x,m,b),b},f=this&&this.__param||function(v,x){return function(m,p){x(m,p,v)}};Object.defineProperty(a,"__esModule",{value:!0}),a.MouseService=void 0;const d=l(4725),h=l(9806);let g=a.MouseService=class{constructor(v,x){this._renderService=v,this._charSizeService=x}getCoords(v,x,m,p,y){return(0,h.getCoords)(window,v,x,m,p,this._charSizeService.hasValidSize,this._renderService.dimensions.css.cell.width,this._renderService.dimensions.css.cell.height,y)}getMouseReportCoords(v,x){const m=(0,h.getCoordsRelativeToElement)(window,v,x);if(this._charSizeService.hasValidSize)return m[0]=Math.min(Math.max(m[0],0),this._renderService.dimensions.css.canvas.width-1),m[1]=Math.min(Math.max(m[1],0),this._renderService.dimensions.css.canvas.height-1),{col:Math.floor(m[0]/this._renderService.dimensions.css.cell.width),row:Math.floor(m[1]/this._renderService.dimensions.css.cell.height),x:Math.floor(m[0]),y:Math.floor(m[1])}}};a.MouseService=g=c([f(0,d.IRenderService),f(1,d.ICharSizeService)],g)},3230:function(o,a,l){var c=this&&this.__decorate||function(b,w,E,A){var T,P=arguments.length,N=P<3?w:A===null?A=Object.getOwnPropertyDescriptor(w,E):A;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(b,w,E,A);else for(var O=b.length-1;O>=0;O--)(T=b[O])&&(N=(P<3?T(N):P>3?T(w,E,N):T(w,E))||N);return P>3&&N&&Object.defineProperty(w,E,N),N},f=this&&this.__param||function(b,w){return function(E,A){w(E,A,b)}};Object.defineProperty(a,"__esModule",{value:!0}),a.RenderService=void 0;const d=l(3656),h=l(6193),g=l(5596),v=l(4725),x=l(8460),m=l(844),p=l(7226),y=l(2585);let _=a.RenderService=class extends m.Disposable{get dimensions(){return this._renderer.value.dimensions}constructor(b,w,E,A,T,P,N,O){if(super(),this._rowCount=b,this._charSizeService=A,this._renderer=this.register(new m.MutableDisposable),this._pausedResizeTask=new p.DebouncedIdleTask,this._isPaused=!1,this._needsFullRefresh=!1,this._isNextRenderRedrawOnly=!0,this._needsSelectionRefresh=!1,this._canvasWidth=0,this._canvasHeight=0,this._selectionState={start:void 0,end:void 0,columnSelectMode:!1},this._onDimensionsChange=this.register(new x.EventEmitter),this.onDimensionsChange=this._onDimensionsChange.event,this._onRenderedViewportChange=this.register(new x.EventEmitter),this.onRenderedViewportChange=this._onRenderedViewportChange.event,this._onRender=this.register(new x.EventEmitter),this.onRender=this._onRender.event,this._onRefreshRequest=this.register(new x.EventEmitter),this.onRefreshRequest=this._onRefreshRequest.event,this._renderDebouncer=new h.RenderDebouncer(N.window,(I,D)=>this._renderRows(I,D)),this.register(this._renderDebouncer),this._screenDprMonitor=new g.ScreenDprMonitor(N.window),this._screenDprMonitor.setListener(()=>this.handleDevicePixelRatioChange()),this.register(this._screenDprMonitor),this.register(P.onResize(()=>this._fullRefresh())),this.register(P.buffers.onBufferActivate(()=>{var I;return(I=this._renderer.value)===null||I===void 0?void 0:I.clear()})),this.register(E.onOptionChange(()=>this._handleOptionsChanged())),this.register(this._charSizeService.onCharSizeChange(()=>this.handleCharSizeChanged())),this.register(T.onDecorationRegistered(()=>this._fullRefresh())),this.register(T.onDecorationRemoved(()=>this._fullRefresh())),this.register(E.onMultipleOptionChange(["customGlyphs","drawBoldTextInBrightColors","letterSpacing","lineHeight","fontFamily","fontSize","fontWeight","fontWeightBold","minimumContrastRatio"],()=>{this.clear(),this.handleResize(P.cols,P.rows),this._fullRefresh()})),this.register(E.onMultipleOptionChange(["cursorBlink","cursorStyle"],()=>this.refreshRows(P.buffer.y,P.buffer.y,!0))),this.register((0,d.addDisposableDomListener)(N.window,"resize",()=>this.handleDevicePixelRatioChange())),this.register(O.onChangeColors(()=>this._fullRefresh())),"IntersectionObserver"in N.window){const I=new N.window.IntersectionObserver(D=>this._handleIntersectionChange(D[D.length-1]),{threshold:0});I.observe(w),this.register({dispose:()=>I.disconnect()})}}_handleIntersectionChange(b){this._isPaused=b.isIntersecting===void 0?b.intersectionRatio===0:!b.isIntersecting,this._isPaused||this._charSizeService.hasValidSize||this._charSizeService.measure(),!this._isPaused&&this._needsFullRefresh&&(this._pausedResizeTask.flush(),this.refreshRows(0,this._rowCount-1),this._needsFullRefresh=!1)}refreshRows(b,w,E=!1){this._isPaused?this._needsFullRefresh=!0:(E||(this._isNextRenderRedrawOnly=!1),this._renderDebouncer.refresh(b,w,this._rowCount))}_renderRows(b,w){this._renderer.value&&(b=Math.min(b,this._rowCount-1),w=Math.min(w,this._rowCount-1),this._renderer.value.renderRows(b,w),this._needsSelectionRefresh&&(this._renderer.value.handleSelectionChanged(this._selectionState.start,this._selectionState.end,this._selectionState.columnSelectMode),this._needsSelectionRefresh=!1),this._isNextRenderRedrawOnly||this._onRenderedViewportChange.fire({start:b,end:w}),this._onRender.fire({start:b,end:w}),this._isNextRenderRedrawOnly=!0)}resize(b,w){this._rowCount=w,this._fireOnCanvasResize()}_handleOptionsChanged(){this._renderer.value&&(this.refreshRows(0,this._rowCount-1),this._fireOnCanvasResize())}_fireOnCanvasResize(){this._renderer.value&&(this._renderer.value.dimensions.css.canvas.width===this._canvasWidth&&this._renderer.value.dimensions.css.canvas.height===this._canvasHeight||this._onDimensionsChange.fire(this._renderer.value.dimensions))}hasRenderer(){return!!this._renderer.value}setRenderer(b){this._renderer.value=b,this._renderer.value.onRequestRedraw(w=>this.refreshRows(w.start,w.end,!0)),this._needsSelectionRefresh=!0,this._fullRefresh()}addRefreshCallback(b){return this._renderDebouncer.addRefreshCallback(b)}_fullRefresh(){this._isPaused?this._needsFullRefresh=!0:this.refreshRows(0,this._rowCount-1)}clearTextureAtlas(){var b,w;this._renderer.value&&((w=(b=this._renderer.value).clearTextureAtlas)===null||w===void 0||w.call(b),this._fullRefresh())}handleDevicePixelRatioChange(){this._charSizeService.measure(),this._renderer.value&&(this._renderer.value.handleDevicePixelRatioChange(),this.refreshRows(0,this._rowCount-1))}handleResize(b,w){this._renderer.value&&(this._isPaused?this._pausedResizeTask.set(()=>this._renderer.value.handleResize(b,w)):this._renderer.value.handleResize(b,w),this._fullRefresh())}handleCharSizeChanged(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCharSizeChanged()}handleBlur(){var b;(b=this._renderer.value)===null||b===void 0||b.handleBlur()}handleFocus(){var b;(b=this._renderer.value)===null||b===void 0||b.handleFocus()}handleSelectionChanged(b,w,E){var A;this._selectionState.start=b,this._selectionState.end=w,this._selectionState.columnSelectMode=E,(A=this._renderer.value)===null||A===void 0||A.handleSelectionChanged(b,w,E)}handleCursorMove(){var b;(b=this._renderer.value)===null||b===void 0||b.handleCursorMove()}clear(){var b;(b=this._renderer.value)===null||b===void 0||b.clear()}};a.RenderService=_=c([f(2,y.IOptionsService),f(3,v.ICharSizeService),f(4,y.IDecorationService),f(5,y.IBufferService),f(6,v.ICoreBrowserService),f(7,v.IThemeService)],_)},9312:function(o,a,l){var c=this&&this.__decorate||function(T,P,N,O){var I,D=arguments.length,F=D<3?P:O===null?O=Object.getOwnPropertyDescriptor(P,N):O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")F=Reflect.decorate(T,P,N,O);else for(var $=T.length-1;$>=0;$--)(I=T[$])&&(F=(D<3?I(F):D>3?I(P,N,F):I(P,N))||F);return D>3&&F&&Object.defineProperty(P,N,F),F},f=this&&this.__param||function(T,P){return function(N,O){P(N,O,T)}};Object.defineProperty(a,"__esModule",{value:!0}),a.SelectionService=void 0;const d=l(9806),h=l(9504),g=l(456),v=l(4725),x=l(8460),m=l(844),p=l(6114),y=l(4841),_=l(511),b=l(2585),w="",E=new RegExp(w,"g");let A=a.SelectionService=class extends m.Disposable{constructor(T,P,N,O,I,D,F,$,z){super(),this._element=T,this._screenElement=P,this._linkifier=N,this._bufferService=O,this._coreService=I,this._mouseService=D,this._optionsService=F,this._renderService=$,this._coreBrowserService=z,this._dragScrollAmount=0,this._enabled=!0,this._workCell=new _.CellData,this._mouseDownTimeStamp=0,this._oldHasSelection=!1,this._oldSelectionStart=void 0,this._oldSelectionEnd=void 0,this._onLinuxMouseSelection=this.register(new x.EventEmitter),this.onLinuxMouseSelection=this._onLinuxMouseSelection.event,this._onRedrawRequest=this.register(new x.EventEmitter),this.onRequestRedraw=this._onRedrawRequest.event,this._onSelectionChange=this.register(new x.EventEmitter),this.onSelectionChange=this._onSelectionChange.event,this._onRequestScrollLines=this.register(new x.EventEmitter),this.onRequestScrollLines=this._onRequestScrollLines.event,this._mouseMoveListener=H=>this._handleMouseMove(H),this._mouseUpListener=H=>this._handleMouseUp(H),this._coreService.onUserInput(()=>{this.hasSelection&&this.clearSelection()}),this._trimListener=this._bufferService.buffer.lines.onTrim(H=>this._handleTrim(H)),this.register(this._bufferService.buffers.onBufferActivate(H=>this._handleBufferActivate(H))),this.enable(),this._model=new g.SelectionModel(this._bufferService),this._activeSelectionMode=0,this.register((0,m.toDisposable)(()=>{this._removeMouseDownListeners()}))}reset(){this.clearSelection()}disable(){this.clearSelection(),this._enabled=!1}enable(){this._enabled=!0}get selectionStart(){return this._model.finalSelectionStart}get selectionEnd(){return this._model.finalSelectionEnd}get hasSelection(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;return!(!T||!P||T[0]===P[0]&&T[1]===P[1])}get selectionText(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd;if(!T||!P)return"";const N=this._bufferService.buffer,O=[];if(this._activeSelectionMode===3){if(T[0]===P[0])return"";const I=T[0]<P[0]?T[0]:P[0],D=T[0]<P[0]?P[0]:T[0];for(let F=T[1];F<=P[1];F++){const $=N.translateBufferLineToString(F,!0,I,D);O.push($)}}else{const I=T[1]===P[1]?P[0]:void 0;O.push(N.translateBufferLineToString(T[1],!0,T[0],I));for(let D=T[1]+1;D<=P[1]-1;D++){const F=N.lines.get(D),$=N.translateBufferLineToString(D,!0);F!=null&&F.isWrapped?O[O.length-1]+=$:O.push($)}if(T[1]!==P[1]){const D=N.lines.get(P[1]),F=N.translateBufferLineToString(P[1],!0,0,P[0]);D&&D.isWrapped?O[O.length-1]+=F:O.push(F)}}return O.map(I=>I.replace(E," ")).join(p.isWindows?`\r
`:`
`)}clearSelection(){this._model.clearSelection(),this._removeMouseDownListeners(),this.refresh(),this._onSelectionChange.fire()}refresh(T){this._refreshAnimationFrame||(this._refreshAnimationFrame=this._coreBrowserService.window.requestAnimationFrame(()=>this._refresh())),p.isLinux&&T&&this.selectionText.length&&this._onLinuxMouseSelection.fire(this.selectionText)}_refresh(){this._refreshAnimationFrame=void 0,this._onRedrawRequest.fire({start:this._model.finalSelectionStart,end:this._model.finalSelectionEnd,columnSelectMode:this._activeSelectionMode===3})}_isClickInSelection(T){const P=this._getMouseBufferCoords(T),N=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!!(N&&O&&P)&&this._areCoordsInSelection(P,N,O)}isCellInSelection(T,P){const N=this._model.finalSelectionStart,O=this._model.finalSelectionEnd;return!(!N||!O)&&this._areCoordsInSelection([T,P],N,O)}_areCoordsInSelection(T,P,N){return T[1]>P[1]&&T[1]<N[1]||P[1]===N[1]&&T[1]===P[1]&&T[0]>=P[0]&&T[0]<N[0]||P[1]<N[1]&&T[1]===N[1]&&T[0]<N[0]||P[1]<N[1]&&T[1]===P[1]&&T[0]>=P[0]}_selectWordAtCursor(T,P){var N,O;const I=(O=(N=this._linkifier.currentLink)===null||N===void 0?void 0:N.link)===null||O===void 0?void 0:O.range;if(I)return this._model.selectionStart=[I.start.x-1,I.start.y-1],this._model.selectionStartLength=(0,y.getRangeLength)(I,this._bufferService.cols),this._model.selectionEnd=void 0,!0;const D=this._getMouseBufferCoords(T);return!!D&&(this._selectWordAt(D,P),this._model.selectionEnd=void 0,!0)}selectAll(){this._model.isSelectAllActive=!0,this.refresh(),this._onSelectionChange.fire()}selectLines(T,P){this._model.clearSelection(),T=Math.max(T,0),P=Math.min(P,this._bufferService.buffer.lines.length-1),this._model.selectionStart=[0,T],this._model.selectionEnd=[this._bufferService.cols,P],this.refresh(),this._onSelectionChange.fire()}_handleTrim(T){this._model.handleTrim(T)&&this.refresh()}_getMouseBufferCoords(T){const P=this._mouseService.getCoords(T,this._screenElement,this._bufferService.cols,this._bufferService.rows,!0);if(P)return P[0]--,P[1]--,P[1]+=this._bufferService.buffer.ydisp,P}_getMouseEventScrollAmount(T){let P=(0,d.getCoordsRelativeToElement)(this._coreBrowserService.window,T,this._screenElement)[1];const N=this._renderService.dimensions.css.canvas.height;return P>=0&&P<=N?0:(P>N&&(P-=N),P=Math.min(Math.max(P,-50),50),P/=50,P/Math.abs(P)+Math.round(14*P))}shouldForceSelection(T){return p.isMac?T.altKey&&this._optionsService.rawOptions.macOptionClickForcesSelection:T.shiftKey}handleMouseDown(T){if(this._mouseDownTimeStamp=T.timeStamp,(T.button!==2||!this.hasSelection)&&T.button===0){if(!this._enabled){if(!this.shouldForceSelection(T))return;T.stopPropagation()}T.preventDefault(),this._dragScrollAmount=0,this._enabled&&T.shiftKey?this._handleIncrementalClick(T):T.detail===1?this._handleSingleClick(T):T.detail===2?this._handleDoubleClick(T):T.detail===3&&this._handleTripleClick(T),this._addMouseDownListeners(),this.refresh(!0)}}_addMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.addEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.addEventListener("mouseup",this._mouseUpListener)),this._dragScrollIntervalTimer=this._coreBrowserService.window.setInterval(()=>this._dragScroll(),50)}_removeMouseDownListeners(){this._screenElement.ownerDocument&&(this._screenElement.ownerDocument.removeEventListener("mousemove",this._mouseMoveListener),this._screenElement.ownerDocument.removeEventListener("mouseup",this._mouseUpListener)),this._coreBrowserService.window.clearInterval(this._dragScrollIntervalTimer),this._dragScrollIntervalTimer=void 0}_handleIncrementalClick(T){this._model.selectionStart&&(this._model.selectionEnd=this._getMouseBufferCoords(T))}_handleSingleClick(T){if(this._model.selectionStartLength=0,this._model.isSelectAllActive=!1,this._activeSelectionMode=this.shouldColumnSelect(T)?3:0,this._model.selectionStart=this._getMouseBufferCoords(T),!this._model.selectionStart)return;this._model.selectionEnd=void 0;const P=this._bufferService.buffer.lines.get(this._model.selectionStart[1]);P&&P.length!==this._model.selectionStart[0]&&P.hasWidth(this._model.selectionStart[0])===0&&this._model.selectionStart[0]++}_handleDoubleClick(T){this._selectWordAtCursor(T,!0)&&(this._activeSelectionMode=1)}_handleTripleClick(T){const P=this._getMouseBufferCoords(T);P&&(this._activeSelectionMode=2,this._selectLineAt(P[1]))}shouldColumnSelect(T){return T.altKey&&!(p.isMac&&this._optionsService.rawOptions.macOptionClickForcesSelection)}_handleMouseMove(T){if(T.stopImmediatePropagation(),!this._model.selectionStart)return;const P=this._model.selectionEnd?[this._model.selectionEnd[0],this._model.selectionEnd[1]]:null;if(this._model.selectionEnd=this._getMouseBufferCoords(T),!this._model.selectionEnd)return void this.refresh(!0);this._activeSelectionMode===2?this._model.selectionEnd[1]<this._model.selectionStart[1]?this._model.selectionEnd[0]=0:this._model.selectionEnd[0]=this._bufferService.cols:this._activeSelectionMode===1&&this._selectToWordAt(this._model.selectionEnd),this._dragScrollAmount=this._getMouseEventScrollAmount(T),this._activeSelectionMode!==3&&(this._dragScrollAmount>0?this._model.selectionEnd[0]=this._bufferService.cols:this._dragScrollAmount<0&&(this._model.selectionEnd[0]=0));const N=this._bufferService.buffer;if(this._model.selectionEnd[1]<N.lines.length){const O=N.lines.get(this._model.selectionEnd[1]);O&&O.hasWidth(this._model.selectionEnd[0])===0&&this._model.selectionEnd[0]++}P&&P[0]===this._model.selectionEnd[0]&&P[1]===this._model.selectionEnd[1]||this.refresh(!0)}_dragScroll(){if(this._model.selectionEnd&&this._model.selectionStart&&this._dragScrollAmount){this._onRequestScrollLines.fire({amount:this._dragScrollAmount,suppressScrollEvent:!1});const T=this._bufferService.buffer;this._dragScrollAmount>0?(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=this._bufferService.cols),this._model.selectionEnd[1]=Math.min(T.ydisp+this._bufferService.rows,T.lines.length-1)):(this._activeSelectionMode!==3&&(this._model.selectionEnd[0]=0),this._model.selectionEnd[1]=T.ydisp),this.refresh()}}_handleMouseUp(T){const P=T.timeStamp-this._mouseDownTimeStamp;if(this._removeMouseDownListeners(),this.selectionText.length<=1&&P<500&&T.altKey&&this._optionsService.rawOptions.altClickMovesCursor){if(this._bufferService.buffer.ybase===this._bufferService.buffer.ydisp){const N=this._mouseService.getCoords(T,this._element,this._bufferService.cols,this._bufferService.rows,!1);if(N&&N[0]!==void 0&&N[1]!==void 0){const O=(0,h.moveToCellSequence)(N[0]-1,N[1]-1,this._bufferService,this._coreService.decPrivateModes.applicationCursorKeys);this._coreService.triggerDataEvent(O,!0)}}}else this._fireEventIfSelectionChanged()}_fireEventIfSelectionChanged(){const T=this._model.finalSelectionStart,P=this._model.finalSelectionEnd,N=!(!T||!P||T[0]===P[0]&&T[1]===P[1]);N?T&&P&&(this._oldSelectionStart&&this._oldSelectionEnd&&T[0]===this._oldSelectionStart[0]&&T[1]===this._oldSelectionStart[1]&&P[0]===this._oldSelectionEnd[0]&&P[1]===this._oldSelectionEnd[1]||this._fireOnSelectionChange(T,P,N)):this._oldHasSelection&&this._fireOnSelectionChange(T,P,N)}_fireOnSelectionChange(T,P,N){this._oldSelectionStart=T,this._oldSelectionEnd=P,this._oldHasSelection=N,this._onSelectionChange.fire()}_handleBufferActivate(T){this.clearSelection(),this._trimListener.dispose(),this._trimListener=T.activeBuffer.lines.onTrim(P=>this._handleTrim(P))}_convertViewportColToCharacterIndex(T,P){let N=P;for(let O=0;P>=O;O++){const I=T.loadCell(O,this._workCell).getChars().length;this._workCell.getWidth()===0?N--:I>1&&P!==O&&(N+=I-1)}return N}setSelection(T,P,N){this._model.clearSelection(),this._removeMouseDownListeners(),this._model.selectionStart=[T,P],this._model.selectionStartLength=N,this.refresh(),this._fireEventIfSelectionChanged()}rightClickSelect(T){this._isClickInSelection(T)||(this._selectWordAtCursor(T,!1)&&this.refresh(!0),this._fireEventIfSelectionChanged())}_getWordAt(T,P,N=!0,O=!0){if(T[0]>=this._bufferService.cols)return;const I=this._bufferService.buffer,D=I.lines.get(T[1]);if(!D)return;const F=I.translateBufferLineToString(T[1],!1);let $=this._convertViewportColToCharacterIndex(D,T[0]),z=$;const H=T[0]-$;let R=0,j=0,B=0,W=0;if(F.charAt($)===" "){for(;$>0&&F.charAt($-1)===" ";)$--;for(;z<F.length&&F.charAt(z+1)===" ";)z++}else{let ie=T[0],le=T[0];D.getWidth(ie)===0&&(R++,ie--),D.getWidth(le)===2&&(j++,le++);const J=D.getString(le).length;for(J>1&&(W+=J-1,z+=J-1);ie>0&&$>0&&!this._isCharWordSeparator(D.loadCell(ie-1,this._workCell));){D.loadCell(ie-1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===0?(R++,ie--):U>1&&(B+=U-1,$-=U-1),$--,ie--}for(;le<D.length&&z+1<F.length&&!this._isCharWordSeparator(D.loadCell(le+1,this._workCell));){D.loadCell(le+1,this._workCell);const U=this._workCell.getChars().length;this._workCell.getWidth()===2?(j++,le++):U>1&&(W+=U-1,z+=U-1),z++,le++}}z++;let G=$+H-R+B,K=Math.min(this._bufferService.cols,z-$+R+j-B-W);if(P||F.slice($,z).trim()!==""){if(N&&G===0&&D.getCodePoint(0)!==32){const ie=I.lines.get(T[1]-1);if(ie&&D.isWrapped&&ie.getCodePoint(this._bufferService.cols-1)!==32){const le=this._getWordAt([this._bufferService.cols-1,T[1]-1],!1,!0,!1);if(le){const J=this._bufferService.cols-le.start;G-=J,K+=J}}}if(O&&G+K===this._bufferService.cols&&D.getCodePoint(this._bufferService.cols-1)!==32){const ie=I.lines.get(T[1]+1);if(ie!=null&&ie.isWrapped&&ie.getCodePoint(0)!==32){const le=this._getWordAt([0,T[1]+1],!1,!1,!0);le&&(K+=le.length)}}return{start:G,length:K}}}_selectWordAt(T,P){const N=this._getWordAt(T,P);if(N){for(;N.start<0;)N.start+=this._bufferService.cols,T[1]--;this._model.selectionStart=[N.start,T[1]],this._model.selectionStartLength=N.length}}_selectToWordAt(T){const P=this._getWordAt(T,!0);if(P){let N=T[1];for(;P.start<0;)P.start+=this._bufferService.cols,N--;if(!this._model.areSelectionValuesReversed())for(;P.start+P.length>this._bufferService.cols;)P.length-=this._bufferService.cols,N++;this._model.selectionEnd=[this._model.areSelectionValuesReversed()?P.start:P.start+P.length,N]}}_isCharWordSeparator(T){return T.getWidth()!==0&&this._optionsService.rawOptions.wordSeparator.indexOf(T.getChars())>=0}_selectLineAt(T){const P=this._bufferService.buffer.getWrappedRangeForLine(T),N={start:{x:0,y:P.first},end:{x:this._bufferService.cols-1,y:P.last}};this._model.selectionStart=[0,P.first],this._model.selectionEnd=void 0,this._model.selectionStartLength=(0,y.getRangeLength)(N,this._bufferService.cols)}};a.SelectionService=A=c([f(3,b.IBufferService),f(4,b.ICoreService),f(5,v.IMouseService),f(6,b.IOptionsService),f(7,v.IRenderService),f(8,v.ICoreBrowserService)],A)},4725:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IThemeService=a.ICharacterJoinerService=a.ISelectionService=a.IRenderService=a.IMouseService=a.ICoreBrowserService=a.ICharSizeService=void 0;const c=l(8343);a.ICharSizeService=(0,c.createDecorator)("CharSizeService"),a.ICoreBrowserService=(0,c.createDecorator)("CoreBrowserService"),a.IMouseService=(0,c.createDecorator)("MouseService"),a.IRenderService=(0,c.createDecorator)("RenderService"),a.ISelectionService=(0,c.createDecorator)("SelectionService"),a.ICharacterJoinerService=(0,c.createDecorator)("CharacterJoinerService"),a.IThemeService=(0,c.createDecorator)("ThemeService")},6731:function(o,a,l){var c=this&&this.__decorate||function(A,T,P,N){var O,I=arguments.length,D=I<3?T:N===null?N=Object.getOwnPropertyDescriptor(T,P):N;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(A,T,P,N);else for(var F=A.length-1;F>=0;F--)(O=A[F])&&(D=(I<3?O(D):I>3?O(T,P,D):O(T,P))||D);return I>3&&D&&Object.defineProperty(T,P,D),D},f=this&&this.__param||function(A,T){return function(P,N){T(P,N,A)}};Object.defineProperty(a,"__esModule",{value:!0}),a.ThemeService=a.DEFAULT_ANSI_COLORS=void 0;const d=l(7239),h=l(8055),g=l(8460),v=l(844),x=l(2585),m=h.css.toColor("#ffffff"),p=h.css.toColor("#000000"),y=h.css.toColor("#ffffff"),_=h.css.toColor("#000000"),b={css:"rgba(255, 255, 255, 0.3)",rgba:4294967117};a.DEFAULT_ANSI_COLORS=Object.freeze((()=>{const A=[h.css.toColor("#2e3436"),h.css.toColor("#cc0000"),h.css.toColor("#4e9a06"),h.css.toColor("#c4a000"),h.css.toColor("#3465a4"),h.css.toColor("#75507b"),h.css.toColor("#06989a"),h.css.toColor("#d3d7cf"),h.css.toColor("#555753"),h.css.toColor("#ef2929"),h.css.toColor("#8ae234"),h.css.toColor("#fce94f"),h.css.toColor("#729fcf"),h.css.toColor("#ad7fa8"),h.css.toColor("#34e2e2"),h.css.toColor("#eeeeec")],T=[0,95,135,175,215,255];for(let P=0;P<216;P++){const N=T[P/36%6|0],O=T[P/6%6|0],I=T[P%6];A.push({css:h.channels.toCss(N,O,I),rgba:h.channels.toRgba(N,O,I)})}for(let P=0;P<24;P++){const N=8+10*P;A.push({css:h.channels.toCss(N,N,N),rgba:h.channels.toRgba(N,N,N)})}return A})());let w=a.ThemeService=class extends v.Disposable{get colors(){return this._colors}constructor(A){super(),this._optionsService=A,this._contrastCache=new d.ColorContrastCache,this._halfContrastCache=new d.ColorContrastCache,this._onChangeColors=this.register(new g.EventEmitter),this.onChangeColors=this._onChangeColors.event,this._colors={foreground:m,background:p,cursor:y,cursorAccent:_,selectionForeground:void 0,selectionBackgroundTransparent:b,selectionBackgroundOpaque:h.color.blend(p,b),selectionInactiveBackgroundTransparent:b,selectionInactiveBackgroundOpaque:h.color.blend(p,b),ansi:a.DEFAULT_ANSI_COLORS.slice(),contrastCache:this._contrastCache,halfContrastCache:this._halfContrastCache},this._updateRestoreColors(),this._setTheme(this._optionsService.rawOptions.theme),this.register(this._optionsService.onSpecificOptionChange("minimumContrastRatio",()=>this._contrastCache.clear())),this.register(this._optionsService.onSpecificOptionChange("theme",()=>this._setTheme(this._optionsService.rawOptions.theme)))}_setTheme(A={}){const T=this._colors;if(T.foreground=E(A.foreground,m),T.background=E(A.background,p),T.cursor=E(A.cursor,y),T.cursorAccent=E(A.cursorAccent,_),T.selectionBackgroundTransparent=E(A.selectionBackground,b),T.selectionBackgroundOpaque=h.color.blend(T.background,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundTransparent=E(A.selectionInactiveBackground,T.selectionBackgroundTransparent),T.selectionInactiveBackgroundOpaque=h.color.blend(T.background,T.selectionInactiveBackgroundTransparent),T.selectionForeground=A.selectionForeground?E(A.selectionForeground,h.NULL_COLOR):void 0,T.selectionForeground===h.NULL_COLOR&&(T.selectionForeground=void 0),h.color.isOpaque(T.selectionBackgroundTransparent)&&(T.selectionBackgroundTransparent=h.color.opacity(T.selectionBackgroundTransparent,.3)),h.color.isOpaque(T.selectionInactiveBackgroundTransparent)&&(T.selectionInactiveBackgroundTransparent=h.color.opacity(T.selectionInactiveBackgroundTransparent,.3)),T.ansi=a.DEFAULT_ANSI_COLORS.slice(),T.ansi[0]=E(A.black,a.DEFAULT_ANSI_COLORS[0]),T.ansi[1]=E(A.red,a.DEFAULT_ANSI_COLORS[1]),T.ansi[2]=E(A.green,a.DEFAULT_ANSI_COLORS[2]),T.ansi[3]=E(A.yellow,a.DEFAULT_ANSI_COLORS[3]),T.ansi[4]=E(A.blue,a.DEFAULT_ANSI_COLORS[4]),T.ansi[5]=E(A.magenta,a.DEFAULT_ANSI_COLORS[5]),T.ansi[6]=E(A.cyan,a.DEFAULT_ANSI_COLORS[6]),T.ansi[7]=E(A.white,a.DEFAULT_ANSI_COLORS[7]),T.ansi[8]=E(A.brightBlack,a.DEFAULT_ANSI_COLORS[8]),T.ansi[9]=E(A.brightRed,a.DEFAULT_ANSI_COLORS[9]),T.ansi[10]=E(A.brightGreen,a.DEFAULT_ANSI_COLORS[10]),T.ansi[11]=E(A.brightYellow,a.DEFAULT_ANSI_COLORS[11]),T.ansi[12]=E(A.brightBlue,a.DEFAULT_ANSI_COLORS[12]),T.ansi[13]=E(A.brightMagenta,a.DEFAULT_ANSI_COLORS[13]),T.ansi[14]=E(A.brightCyan,a.DEFAULT_ANSI_COLORS[14]),T.ansi[15]=E(A.brightWhite,a.DEFAULT_ANSI_COLORS[15]),A.extendedAnsi){const P=Math.min(T.ansi.length-16,A.extendedAnsi.length);for(let N=0;N<P;N++)T.ansi[N+16]=E(A.extendedAnsi[N],a.DEFAULT_ANSI_COLORS[N+16])}this._contrastCache.clear(),this._halfContrastCache.clear(),this._updateRestoreColors(),this._onChangeColors.fire(this.colors)}restoreColor(A){this._restoreColor(A),this._onChangeColors.fire(this.colors)}_restoreColor(A){if(A!==void 0)switch(A){case 256:this._colors.foreground=this._restoreColors.foreground;break;case 257:this._colors.background=this._restoreColors.background;break;case 258:this._colors.cursor=this._restoreColors.cursor;break;default:this._colors.ansi[A]=this._restoreColors.ansi[A]}else for(let T=0;T<this._restoreColors.ansi.length;++T)this._colors.ansi[T]=this._restoreColors.ansi[T]}modifyColors(A){A(this._colors),this._onChangeColors.fire(this.colors)}_updateRestoreColors(){this._restoreColors={foreground:this._colors.foreground,background:this._colors.background,cursor:this._colors.cursor,ansi:this._colors.ansi.slice()}}};function E(A,T){if(A!==void 0)try{return h.css.toColor(A)}catch{}return T}a.ThemeService=w=c([f(0,x.IOptionsService)],w)},6349:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CircularList=void 0;const c=l(8460),f=l(844);class d extends f.Disposable{constructor(g){super(),this._maxLength=g,this.onDeleteEmitter=this.register(new c.EventEmitter),this.onDelete=this.onDeleteEmitter.event,this.onInsertEmitter=this.register(new c.EventEmitter),this.onInsert=this.onInsertEmitter.event,this.onTrimEmitter=this.register(new c.EventEmitter),this.onTrim=this.onTrimEmitter.event,this._array=new Array(this._maxLength),this._startIndex=0,this._length=0}get maxLength(){return this._maxLength}set maxLength(g){if(this._maxLength===g)return;const v=new Array(g);for(let x=0;x<Math.min(g,this.length);x++)v[x]=this._array[this._getCyclicIndex(x)];this._array=v,this._maxLength=g,this._startIndex=0}get length(){return this._length}set length(g){if(g>this._length)for(let v=this._length;v<g;v++)this._array[v]=void 0;this._length=g}get(g){return this._array[this._getCyclicIndex(g)]}set(g,v){this._array[this._getCyclicIndex(g)]=v}push(g){this._array[this._getCyclicIndex(this._length)]=g,this._length===this._maxLength?(this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1)):this._length++}recycle(){if(this._length!==this._maxLength)throw new Error("Can only recycle when the buffer is full");return this._startIndex=++this._startIndex%this._maxLength,this.onTrimEmitter.fire(1),this._array[this._getCyclicIndex(this._length-1)]}get isFull(){return this._length===this._maxLength}pop(){return this._array[this._getCyclicIndex(this._length---1)]}splice(g,v,...x){if(v){for(let m=g;m<this._length-v;m++)this._array[this._getCyclicIndex(m)]=this._array[this._getCyclicIndex(m+v)];this._length-=v,this.onDeleteEmitter.fire({index:g,amount:v})}for(let m=this._length-1;m>=g;m--)this._array[this._getCyclicIndex(m+x.length)]=this._array[this._getCyclicIndex(m)];for(let m=0;m<x.length;m++)this._array[this._getCyclicIndex(g+m)]=x[m];if(x.length&&this.onInsertEmitter.fire({index:g,amount:x.length}),this._length+x.length>this._maxLength){const m=this._length+x.length-this._maxLength;this._startIndex+=m,this._length=this._maxLength,this.onTrimEmitter.fire(m)}else this._length+=x.length}trimStart(g){g>this._length&&(g=this._length),this._startIndex+=g,this._length-=g,this.onTrimEmitter.fire(g)}shiftElements(g,v,x){if(!(v<=0)){if(g<0||g>=this._length)throw new Error("start argument out of range");if(g+x<0)throw new Error("Cannot shift elements in list beyond index 0");if(x>0){for(let p=v-1;p>=0;p--)this.set(g+p+x,this.get(g+p));const m=g+v+x-this._length;if(m>0)for(this._length+=m;this._length>this._maxLength;)this._length--,this._startIndex++,this.onTrimEmitter.fire(1)}else for(let m=0;m<v;m++)this.set(g+m+x,this.get(g+m))}}_getCyclicIndex(g){return(this._startIndex+g)%this._maxLength}}a.CircularList=d},1439:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.clone=void 0,a.clone=function l(c,f=5){if(typeof c!="object")return c;const d=Array.isArray(c)?[]:{};for(const h in c)d[h]=f<=1?c[h]:c[h]&&l(c[h],f-1);return d}},8055:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.contrastRatio=a.toPaddedHex=a.rgba=a.rgb=a.css=a.color=a.channels=a.NULL_COLOR=void 0;const c=l(6114);let f=0,d=0,h=0,g=0;var v,x,m,p,y;function _(w){const E=w.toString(16);return E.length<2?"0"+E:E}function b(w,E){return w<E?(E+.05)/(w+.05):(w+.05)/(E+.05)}a.NULL_COLOR={css:"#00000000",rgba:0},function(w){w.toCss=function(E,A,T,P){return P!==void 0?`#${_(E)}${_(A)}${_(T)}${_(P)}`:`#${_(E)}${_(A)}${_(T)}`},w.toRgba=function(E,A,T,P=255){return(E<<24|A<<16|T<<8|P)>>>0}}(v||(a.channels=v={})),function(w){function E(A,T){return g=Math.round(255*T),[f,d,h]=y.toChannels(A.rgba),{css:v.toCss(f,d,h,g),rgba:v.toRgba(f,d,h,g)}}w.blend=function(A,T){if(g=(255&T.rgba)/255,g===1)return{css:T.css,rgba:T.rgba};const P=T.rgba>>24&255,N=T.rgba>>16&255,O=T.rgba>>8&255,I=A.rgba>>24&255,D=A.rgba>>16&255,F=A.rgba>>8&255;return f=I+Math.round((P-I)*g),d=D+Math.round((N-D)*g),h=F+Math.round((O-F)*g),{css:v.toCss(f,d,h),rgba:v.toRgba(f,d,h)}},w.isOpaque=function(A){return(255&A.rgba)==255},w.ensureContrastRatio=function(A,T,P){const N=y.ensureContrastRatio(A.rgba,T.rgba,P);if(N)return y.toColor(N>>24&255,N>>16&255,N>>8&255)},w.opaque=function(A){const T=(255|A.rgba)>>>0;return[f,d,h]=y.toChannels(T),{css:v.toCss(f,d,h),rgba:T}},w.opacity=E,w.multiplyOpacity=function(A,T){return g=255&A.rgba,E(A,g*T/255)},w.toColorRGB=function(A){return[A.rgba>>24&255,A.rgba>>16&255,A.rgba>>8&255]}}(x||(a.color=x={})),function(w){let E,A;if(!c.isNode){const T=document.createElement("canvas");T.width=1,T.height=1;const P=T.getContext("2d",{willReadFrequently:!0});P&&(E=P,E.globalCompositeOperation="copy",A=E.createLinearGradient(0,0,1,1))}w.toColor=function(T){if(T.match(/#[\da-f]{3,8}/i))switch(T.length){case 4:return f=parseInt(T.slice(1,2).repeat(2),16),d=parseInt(T.slice(2,3).repeat(2),16),h=parseInt(T.slice(3,4).repeat(2),16),y.toColor(f,d,h);case 5:return f=parseInt(T.slice(1,2).repeat(2),16),d=parseInt(T.slice(2,3).repeat(2),16),h=parseInt(T.slice(3,4).repeat(2),16),g=parseInt(T.slice(4,5).repeat(2),16),y.toColor(f,d,h,g);case 7:return{css:T,rgba:(parseInt(T.slice(1),16)<<8|255)>>>0};case 9:return{css:T,rgba:parseInt(T.slice(1),16)>>>0}}const P=T.match(/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(,\s*(0|1|\d?\.(\d+))\s*)?\)/);if(P)return f=parseInt(P[1]),d=parseInt(P[2]),h=parseInt(P[3]),g=Math.round(255*(P[5]===void 0?1:parseFloat(P[5]))),y.toColor(f,d,h,g);if(!E||!A)throw new Error("css.toColor: Unsupported css format");if(E.fillStyle=A,E.fillStyle=T,typeof E.fillStyle!="string")throw new Error("css.toColor: Unsupported css format");if(E.fillRect(0,0,1,1),[f,d,h,g]=E.getImageData(0,0,1,1).data,g!==255)throw new Error("css.toColor: Unsupported css format");return{rgba:v.toRgba(f,d,h,g),css:T}}}(m||(a.css=m={})),function(w){function E(A,T,P){const N=A/255,O=T/255,I=P/255;return .2126*(N<=.03928?N/12.92:Math.pow((N+.055)/1.055,2.4))+.7152*(O<=.03928?O/12.92:Math.pow((O+.055)/1.055,2.4))+.0722*(I<=.03928?I/12.92:Math.pow((I+.055)/1.055,2.4))}w.relativeLuminance=function(A){return E(A>>16&255,A>>8&255,255&A)},w.relativeLuminance2=E}(p||(a.rgb=p={})),function(w){function E(T,P,N){const O=T>>24&255,I=T>>16&255,D=T>>8&255;let F=P>>24&255,$=P>>16&255,z=P>>8&255,H=b(p.relativeLuminance2(F,$,z),p.relativeLuminance2(O,I,D));for(;H<N&&(F>0||$>0||z>0);)F-=Math.max(0,Math.ceil(.1*F)),$-=Math.max(0,Math.ceil(.1*$)),z-=Math.max(0,Math.ceil(.1*z)),H=b(p.relativeLuminance2(F,$,z),p.relativeLuminance2(O,I,D));return(F<<24|$<<16|z<<8|255)>>>0}function A(T,P,N){const O=T>>24&255,I=T>>16&255,D=T>>8&255;let F=P>>24&255,$=P>>16&255,z=P>>8&255,H=b(p.relativeLuminance2(F,$,z),p.relativeLuminance2(O,I,D));for(;H<N&&(F<255||$<255||z<255);)F=Math.min(255,F+Math.ceil(.1*(255-F))),$=Math.min(255,$+Math.ceil(.1*(255-$))),z=Math.min(255,z+Math.ceil(.1*(255-z))),H=b(p.relativeLuminance2(F,$,z),p.relativeLuminance2(O,I,D));return(F<<24|$<<16|z<<8|255)>>>0}w.ensureContrastRatio=function(T,P,N){const O=p.relativeLuminance(T>>8),I=p.relativeLuminance(P>>8);if(b(O,I)<N){if(I<O){const $=E(T,P,N),z=b(O,p.relativeLuminance($>>8));if(z<N){const H=A(T,P,N);return z>b(O,p.relativeLuminance(H>>8))?$:H}return $}const D=A(T,P,N),F=b(O,p.relativeLuminance(D>>8));if(F<N){const $=E(T,P,N);return F>b(O,p.relativeLuminance($>>8))?D:$}return D}},w.reduceLuminance=E,w.increaseLuminance=A,w.toChannels=function(T){return[T>>24&255,T>>16&255,T>>8&255,255&T]},w.toColor=function(T,P,N,O){return{css:v.toCss(T,P,N,O),rgba:v.toRgba(T,P,N,O)}}}(y||(a.rgba=y={})),a.toPaddedHex=_,a.contrastRatio=b},8969:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CoreTerminal=void 0;const c=l(844),f=l(2585),d=l(4348),h=l(7866),g=l(744),v=l(7302),x=l(6975),m=l(8460),p=l(1753),y=l(1480),_=l(7994),b=l(9282),w=l(5435),E=l(5981),A=l(2660);let T=!1;class P extends c.Disposable{get onScroll(){return this._onScrollApi||(this._onScrollApi=this.register(new m.EventEmitter),this._onScroll.event(O=>{var I;(I=this._onScrollApi)===null||I===void 0||I.fire(O.position)})),this._onScrollApi.event}get cols(){return this._bufferService.cols}get rows(){return this._bufferService.rows}get buffers(){return this._bufferService.buffers}get options(){return this.optionsService.options}set options(O){for(const I in O)this.optionsService.options[I]=O[I]}constructor(O){super(),this._windowsWrappingHeuristics=this.register(new c.MutableDisposable),this._onBinary=this.register(new m.EventEmitter),this.onBinary=this._onBinary.event,this._onData=this.register(new m.EventEmitter),this.onData=this._onData.event,this._onLineFeed=this.register(new m.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onResize=this.register(new m.EventEmitter),this.onResize=this._onResize.event,this._onWriteParsed=this.register(new m.EventEmitter),this.onWriteParsed=this._onWriteParsed.event,this._onScroll=this.register(new m.EventEmitter),this._instantiationService=new d.InstantiationService,this.optionsService=this.register(new v.OptionsService(O)),this._instantiationService.setService(f.IOptionsService,this.optionsService),this._bufferService=this.register(this._instantiationService.createInstance(g.BufferService)),this._instantiationService.setService(f.IBufferService,this._bufferService),this._logService=this.register(this._instantiationService.createInstance(h.LogService)),this._instantiationService.setService(f.ILogService,this._logService),this.coreService=this.register(this._instantiationService.createInstance(x.CoreService)),this._instantiationService.setService(f.ICoreService,this.coreService),this.coreMouseService=this.register(this._instantiationService.createInstance(p.CoreMouseService)),this._instantiationService.setService(f.ICoreMouseService,this.coreMouseService),this.unicodeService=this.register(this._instantiationService.createInstance(y.UnicodeService)),this._instantiationService.setService(f.IUnicodeService,this.unicodeService),this._charsetService=this._instantiationService.createInstance(_.CharsetService),this._instantiationService.setService(f.ICharsetService,this._charsetService),this._oscLinkService=this._instantiationService.createInstance(A.OscLinkService),this._instantiationService.setService(f.IOscLinkService,this._oscLinkService),this._inputHandler=this.register(new w.InputHandler(this._bufferService,this._charsetService,this.coreService,this._logService,this.optionsService,this._oscLinkService,this.coreMouseService,this.unicodeService)),this.register((0,m.forwardEvent)(this._inputHandler.onLineFeed,this._onLineFeed)),this.register(this._inputHandler),this.register((0,m.forwardEvent)(this._bufferService.onResize,this._onResize)),this.register((0,m.forwardEvent)(this.coreService.onData,this._onData)),this.register((0,m.forwardEvent)(this.coreService.onBinary,this._onBinary)),this.register(this.coreService.onRequestScrollToBottom(()=>this.scrollToBottom())),this.register(this.coreService.onUserInput(()=>this._writeBuffer.handleUserInput())),this.register(this.optionsService.onMultipleOptionChange(["windowsMode","windowsPty"],()=>this._handleWindowsPtyOptionChange())),this.register(this._bufferService.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this.register(this._inputHandler.onScroll(I=>{this._onScroll.fire({position:this._bufferService.buffer.ydisp,source:0}),this._inputHandler.markRangeDirty(this._bufferService.buffer.scrollTop,this._bufferService.buffer.scrollBottom)})),this._writeBuffer=this.register(new E.WriteBuffer((I,D)=>this._inputHandler.parse(I,D))),this.register((0,m.forwardEvent)(this._writeBuffer.onWriteParsed,this._onWriteParsed))}write(O,I){this._writeBuffer.write(O,I)}writeSync(O,I){this._logService.logLevel<=f.LogLevelEnum.WARN&&!T&&(this._logService.warn("writeSync is unreliable and will be removed soon."),T=!0),this._writeBuffer.writeSync(O,I)}resize(O,I){isNaN(O)||isNaN(I)||(O=Math.max(O,g.MINIMUM_COLS),I=Math.max(I,g.MINIMUM_ROWS),this._bufferService.resize(O,I))}scroll(O,I=!1){this._bufferService.scroll(O,I)}scrollLines(O,I,D){this._bufferService.scrollLines(O,I,D)}scrollPages(O){this.scrollLines(O*(this.rows-1))}scrollToTop(){this.scrollLines(-this._bufferService.buffer.ydisp)}scrollToBottom(){this.scrollLines(this._bufferService.buffer.ybase-this._bufferService.buffer.ydisp)}scrollToLine(O){const I=O-this._bufferService.buffer.ydisp;I!==0&&this.scrollLines(I)}registerEscHandler(O,I){return this._inputHandler.registerEscHandler(O,I)}registerDcsHandler(O,I){return this._inputHandler.registerDcsHandler(O,I)}registerCsiHandler(O,I){return this._inputHandler.registerCsiHandler(O,I)}registerOscHandler(O,I){return this._inputHandler.registerOscHandler(O,I)}_setup(){this._handleWindowsPtyOptionChange()}reset(){this._inputHandler.reset(),this._bufferService.reset(),this._charsetService.reset(),this.coreService.reset(),this.coreMouseService.reset()}_handleWindowsPtyOptionChange(){let O=!1;const I=this.optionsService.rawOptions.windowsPty;I&&I.buildNumber!==void 0&&I.buildNumber!==void 0?O=I.backend==="conpty"&&I.buildNumber<21376:this.optionsService.rawOptions.windowsMode&&(O=!0),O?this._enableWindowsWrappingHeuristics():this._windowsWrappingHeuristics.clear()}_enableWindowsWrappingHeuristics(){if(!this._windowsWrappingHeuristics.value){const O=[];O.push(this.onLineFeed(b.updateWindowsModeWrappedState.bind(null,this._bufferService))),O.push(this.registerCsiHandler({final:"H"},()=>((0,b.updateWindowsModeWrappedState)(this._bufferService),!1))),this._windowsWrappingHeuristics.value=(0,c.toDisposable)(()=>{for(const I of O)I.dispose()})}}}a.CoreTerminal=P},8460:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.forwardEvent=a.EventEmitter=void 0,a.EventEmitter=class{constructor(){this._listeners=[],this._disposed=!1}get event(){return this._event||(this._event=l=>(this._listeners.push(l),{dispose:()=>{if(!this._disposed){for(let c=0;c<this._listeners.length;c++)if(this._listeners[c]===l)return void this._listeners.splice(c,1)}}})),this._event}fire(l,c){const f=[];for(let d=0;d<this._listeners.length;d++)f.push(this._listeners[d]);for(let d=0;d<f.length;d++)f[d].call(void 0,l,c)}dispose(){this.clearListeners(),this._disposed=!0}clearListeners(){this._listeners&&(this._listeners.length=0)}},a.forwardEvent=function(l,c){return l(f=>c.fire(f))}},5435:function(o,a,l){var c=this&&this.__decorate||function(H,R,j,B){var W,G=arguments.length,K=G<3?R:B===null?B=Object.getOwnPropertyDescriptor(R,j):B;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")K=Reflect.decorate(H,R,j,B);else for(var ie=H.length-1;ie>=0;ie--)(W=H[ie])&&(K=(G<3?W(K):G>3?W(R,j,K):W(R,j))||K);return G>3&&K&&Object.defineProperty(R,j,K),K},f=this&&this.__param||function(H,R){return function(j,B){R(j,B,H)}};Object.defineProperty(a,"__esModule",{value:!0}),a.InputHandler=a.WindowsOptionsReportType=void 0;const d=l(2584),h=l(7116),g=l(2015),v=l(844),x=l(482),m=l(8437),p=l(8460),y=l(643),_=l(511),b=l(3734),w=l(2585),E=l(6242),A=l(6351),T=l(5941),P={"(":0,")":1,"*":2,"+":3,"-":1,".":2},N=131072;function O(H,R){if(H>24)return R.setWinLines||!1;switch(H){case 1:return!!R.restoreWin;case 2:return!!R.minimizeWin;case 3:return!!R.setWinPosition;case 4:return!!R.setWinSizePixels;case 5:return!!R.raiseWin;case 6:return!!R.lowerWin;case 7:return!!R.refreshWin;case 8:return!!R.setWinSizeChars;case 9:return!!R.maximizeWin;case 10:return!!R.fullscreenWin;case 11:return!!R.getWinState;case 13:return!!R.getWinPosition;case 14:return!!R.getWinSizePixels;case 15:return!!R.getScreenSizePixels;case 16:return!!R.getCellSizePixels;case 18:return!!R.getWinSizeChars;case 19:return!!R.getScreenSizeChars;case 20:return!!R.getIconTitle;case 21:return!!R.getWinTitle;case 22:return!!R.pushTitle;case 23:return!!R.popTitle;case 24:return!!R.setWinLines}return!1}var I;(function(H){H[H.GET_WIN_SIZE_PIXELS=0]="GET_WIN_SIZE_PIXELS",H[H.GET_CELL_SIZE_PIXELS=1]="GET_CELL_SIZE_PIXELS"})(I||(a.WindowsOptionsReportType=I={}));let D=0;class F extends v.Disposable{getAttrData(){return this._curAttrData}constructor(R,j,B,W,G,K,ie,le,J=new g.EscapeSequenceParser){super(),this._bufferService=R,this._charsetService=j,this._coreService=B,this._logService=W,this._optionsService=G,this._oscLinkService=K,this._coreMouseService=ie,this._unicodeService=le,this._parser=J,this._parseBuffer=new Uint32Array(4096),this._stringDecoder=new x.StringToUtf32,this._utf8Decoder=new x.Utf8ToUtf32,this._workCell=new _.CellData,this._windowTitle="",this._iconName="",this._windowTitleStack=[],this._iconNameStack=[],this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone(),this._onRequestBell=this.register(new p.EventEmitter),this.onRequestBell=this._onRequestBell.event,this._onRequestRefreshRows=this.register(new p.EventEmitter),this.onRequestRefreshRows=this._onRequestRefreshRows.event,this._onRequestReset=this.register(new p.EventEmitter),this.onRequestReset=this._onRequestReset.event,this._onRequestSendFocus=this.register(new p.EventEmitter),this.onRequestSendFocus=this._onRequestSendFocus.event,this._onRequestSyncScrollBar=this.register(new p.EventEmitter),this.onRequestSyncScrollBar=this._onRequestSyncScrollBar.event,this._onRequestWindowsOptionsReport=this.register(new p.EventEmitter),this.onRequestWindowsOptionsReport=this._onRequestWindowsOptionsReport.event,this._onA11yChar=this.register(new p.EventEmitter),this.onA11yChar=this._onA11yChar.event,this._onA11yTab=this.register(new p.EventEmitter),this.onA11yTab=this._onA11yTab.event,this._onCursorMove=this.register(new p.EventEmitter),this.onCursorMove=this._onCursorMove.event,this._onLineFeed=this.register(new p.EventEmitter),this.onLineFeed=this._onLineFeed.event,this._onScroll=this.register(new p.EventEmitter),this.onScroll=this._onScroll.event,this._onTitleChange=this.register(new p.EventEmitter),this.onTitleChange=this._onTitleChange.event,this._onColor=this.register(new p.EventEmitter),this.onColor=this._onColor.event,this._parseStack={paused:!1,cursorStartX:0,cursorStartY:0,decodedLength:0,position:0},this._specialColors=[256,257,258],this.register(this._parser),this._dirtyRowTracker=new $(this._bufferService),this._activeBuffer=this._bufferService.buffer,this.register(this._bufferService.buffers.onBufferActivate(U=>this._activeBuffer=U.activeBuffer)),this._parser.setCsiHandlerFallback((U,X)=>{this._logService.debug("Unknown CSI code: ",{identifier:this._parser.identToString(U),params:X.toArray()})}),this._parser.setEscHandlerFallback(U=>{this._logService.debug("Unknown ESC code: ",{identifier:this._parser.identToString(U)})}),this._parser.setExecuteHandlerFallback(U=>{this._logService.debug("Unknown EXECUTE code: ",{code:U})}),this._parser.setOscHandlerFallback((U,X,Q)=>{this._logService.debug("Unknown OSC code: ",{identifier:U,action:X,data:Q})}),this._parser.setDcsHandlerFallback((U,X,Q)=>{X==="HOOK"&&(Q=Q.toArray()),this._logService.debug("Unknown DCS code: ",{identifier:this._parser.identToString(U),action:X,payload:Q})}),this._parser.setPrintHandler((U,X,Q)=>this.print(U,X,Q)),this._parser.registerCsiHandler({final:"@"},U=>this.insertChars(U)),this._parser.registerCsiHandler({intermediates:" ",final:"@"},U=>this.scrollLeft(U)),this._parser.registerCsiHandler({final:"A"},U=>this.cursorUp(U)),this._parser.registerCsiHandler({intermediates:" ",final:"A"},U=>this.scrollRight(U)),this._parser.registerCsiHandler({final:"B"},U=>this.cursorDown(U)),this._parser.registerCsiHandler({final:"C"},U=>this.cursorForward(U)),this._parser.registerCsiHandler({final:"D"},U=>this.cursorBackward(U)),this._parser.registerCsiHandler({final:"E"},U=>this.cursorNextLine(U)),this._parser.registerCsiHandler({final:"F"},U=>this.cursorPrecedingLine(U)),this._parser.registerCsiHandler({final:"G"},U=>this.cursorCharAbsolute(U)),this._parser.registerCsiHandler({final:"H"},U=>this.cursorPosition(U)),this._parser.registerCsiHandler({final:"I"},U=>this.cursorForwardTab(U)),this._parser.registerCsiHandler({final:"J"},U=>this.eraseInDisplay(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"J"},U=>this.eraseInDisplay(U,!0)),this._parser.registerCsiHandler({final:"K"},U=>this.eraseInLine(U,!1)),this._parser.registerCsiHandler({prefix:"?",final:"K"},U=>this.eraseInLine(U,!0)),this._parser.registerCsiHandler({final:"L"},U=>this.insertLines(U)),this._parser.registerCsiHandler({final:"M"},U=>this.deleteLines(U)),this._parser.registerCsiHandler({final:"P"},U=>this.deleteChars(U)),this._parser.registerCsiHandler({final:"S"},U=>this.scrollUp(U)),this._parser.registerCsiHandler({final:"T"},U=>this.scrollDown(U)),this._parser.registerCsiHandler({final:"X"},U=>this.eraseChars(U)),this._parser.registerCsiHandler({final:"Z"},U=>this.cursorBackwardTab(U)),this._parser.registerCsiHandler({final:"`"},U=>this.charPosAbsolute(U)),this._parser.registerCsiHandler({final:"a"},U=>this.hPositionRelative(U)),this._parser.registerCsiHandler({final:"b"},U=>this.repeatPrecedingCharacter(U)),this._parser.registerCsiHandler({final:"c"},U=>this.sendDeviceAttributesPrimary(U)),this._parser.registerCsiHandler({prefix:">",final:"c"},U=>this.sendDeviceAttributesSecondary(U)),this._parser.registerCsiHandler({final:"d"},U=>this.linePosAbsolute(U)),this._parser.registerCsiHandler({final:"e"},U=>this.vPositionRelative(U)),this._parser.registerCsiHandler({final:"f"},U=>this.hVPosition(U)),this._parser.registerCsiHandler({final:"g"},U=>this.tabClear(U)),this._parser.registerCsiHandler({final:"h"},U=>this.setMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"h"},U=>this.setModePrivate(U)),this._parser.registerCsiHandler({final:"l"},U=>this.resetMode(U)),this._parser.registerCsiHandler({prefix:"?",final:"l"},U=>this.resetModePrivate(U)),this._parser.registerCsiHandler({final:"m"},U=>this.charAttributes(U)),this._parser.registerCsiHandler({final:"n"},U=>this.deviceStatus(U)),this._parser.registerCsiHandler({prefix:"?",final:"n"},U=>this.deviceStatusPrivate(U)),this._parser.registerCsiHandler({intermediates:"!",final:"p"},U=>this.softReset(U)),this._parser.registerCsiHandler({intermediates:" ",final:"q"},U=>this.setCursorStyle(U)),this._parser.registerCsiHandler({final:"r"},U=>this.setScrollRegion(U)),this._parser.registerCsiHandler({final:"s"},U=>this.saveCursor(U)),this._parser.registerCsiHandler({final:"t"},U=>this.windowOptions(U)),this._parser.registerCsiHandler({final:"u"},U=>this.restoreCursor(U)),this._parser.registerCsiHandler({intermediates:"'",final:"}"},U=>this.insertColumns(U)),this._parser.registerCsiHandler({intermediates:"'",final:"~"},U=>this.deleteColumns(U)),this._parser.registerCsiHandler({intermediates:'"',final:"q"},U=>this.selectProtected(U)),this._parser.registerCsiHandler({intermediates:"$",final:"p"},U=>this.requestMode(U,!0)),this._parser.registerCsiHandler({prefix:"?",intermediates:"$",final:"p"},U=>this.requestMode(U,!1)),this._parser.setExecuteHandler(d.C0.BEL,()=>this.bell()),this._parser.setExecuteHandler(d.C0.LF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.VT,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.FF,()=>this.lineFeed()),this._parser.setExecuteHandler(d.C0.CR,()=>this.carriageReturn()),this._parser.setExecuteHandler(d.C0.BS,()=>this.backspace()),this._parser.setExecuteHandler(d.C0.HT,()=>this.tab()),this._parser.setExecuteHandler(d.C0.SO,()=>this.shiftOut()),this._parser.setExecuteHandler(d.C0.SI,()=>this.shiftIn()),this._parser.setExecuteHandler(d.C1.IND,()=>this.index()),this._parser.setExecuteHandler(d.C1.NEL,()=>this.nextLine()),this._parser.setExecuteHandler(d.C1.HTS,()=>this.tabSet()),this._parser.registerOscHandler(0,new E.OscHandler(U=>(this.setTitle(U),this.setIconName(U),!0))),this._parser.registerOscHandler(1,new E.OscHandler(U=>this.setIconName(U))),this._parser.registerOscHandler(2,new E.OscHandler(U=>this.setTitle(U))),this._parser.registerOscHandler(4,new E.OscHandler(U=>this.setOrReportIndexedColor(U))),this._parser.registerOscHandler(8,new E.OscHandler(U=>this.setHyperlink(U))),this._parser.registerOscHandler(10,new E.OscHandler(U=>this.setOrReportFgColor(U))),this._parser.registerOscHandler(11,new E.OscHandler(U=>this.setOrReportBgColor(U))),this._parser.registerOscHandler(12,new E.OscHandler(U=>this.setOrReportCursorColor(U))),this._parser.registerOscHandler(104,new E.OscHandler(U=>this.restoreIndexedColor(U))),this._parser.registerOscHandler(110,new E.OscHandler(U=>this.restoreFgColor(U))),this._parser.registerOscHandler(111,new E.OscHandler(U=>this.restoreBgColor(U))),this._parser.registerOscHandler(112,new E.OscHandler(U=>this.restoreCursorColor(U))),this._parser.registerEscHandler({final:"7"},()=>this.saveCursor()),this._parser.registerEscHandler({final:"8"},()=>this.restoreCursor()),this._parser.registerEscHandler({final:"D"},()=>this.index()),this._parser.registerEscHandler({final:"E"},()=>this.nextLine()),this._parser.registerEscHandler({final:"H"},()=>this.tabSet()),this._parser.registerEscHandler({final:"M"},()=>this.reverseIndex()),this._parser.registerEscHandler({final:"="},()=>this.keypadApplicationMode()),this._parser.registerEscHandler({final:">"},()=>this.keypadNumericMode()),this._parser.registerEscHandler({final:"c"},()=>this.fullReset()),this._parser.registerEscHandler({final:"n"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"o"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"|"},()=>this.setgLevel(3)),this._parser.registerEscHandler({final:"}"},()=>this.setgLevel(2)),this._parser.registerEscHandler({final:"~"},()=>this.setgLevel(1)),this._parser.registerEscHandler({intermediates:"%",final:"@"},()=>this.selectDefaultCharset()),this._parser.registerEscHandler({intermediates:"%",final:"G"},()=>this.selectDefaultCharset());for(const U in h.CHARSETS)this._parser.registerEscHandler({intermediates:"(",final:U},()=>this.selectCharset("("+U)),this._parser.registerEscHandler({intermediates:")",final:U},()=>this.selectCharset(")"+U)),this._parser.registerEscHandler({intermediates:"*",final:U},()=>this.selectCharset("*"+U)),this._parser.registerEscHandler({intermediates:"+",final:U},()=>this.selectCharset("+"+U)),this._parser.registerEscHandler({intermediates:"-",final:U},()=>this.selectCharset("-"+U)),this._parser.registerEscHandler({intermediates:".",final:U},()=>this.selectCharset("."+U)),this._parser.registerEscHandler({intermediates:"/",final:U},()=>this.selectCharset("/"+U));this._parser.registerEscHandler({intermediates:"#",final:"8"},()=>this.screenAlignmentPattern()),this._parser.setErrorHandler(U=>(this._logService.error("Parsing error: ",U),U)),this._parser.registerDcsHandler({intermediates:"$",final:"q"},new A.DcsHandler((U,X)=>this.requestStatusString(U,X)))}_preserveStack(R,j,B,W){this._parseStack.paused=!0,this._parseStack.cursorStartX=R,this._parseStack.cursorStartY=j,this._parseStack.decodedLength=B,this._parseStack.position=W}_logSlowResolvingAsync(R){this._logService.logLevel<=w.LogLevelEnum.WARN&&Promise.race([R,new Promise((j,B)=>setTimeout(()=>B("#SLOW_TIMEOUT"),5e3))]).catch(j=>{if(j!=="#SLOW_TIMEOUT")throw j;console.warn("async parser handler taking longer than 5000 ms")})}_getCurrentLinkId(){return this._curAttrData.extended.urlId}parse(R,j){let B,W=this._activeBuffer.x,G=this._activeBuffer.y,K=0;const ie=this._parseStack.paused;if(ie){if(B=this._parser.parse(this._parseBuffer,this._parseStack.decodedLength,j))return this._logSlowResolvingAsync(B),B;W=this._parseStack.cursorStartX,G=this._parseStack.cursorStartY,this._parseStack.paused=!1,R.length>N&&(K=this._parseStack.position+N)}if(this._logService.logLevel<=w.LogLevelEnum.DEBUG&&this._logService.debug("parsing data"+(typeof R=="string"?` "${R}"`:` "${Array.prototype.map.call(R,le=>String.fromCharCode(le)).join("")}"`),typeof R=="string"?R.split("").map(le=>le.charCodeAt(0)):R),this._parseBuffer.length<R.length&&this._parseBuffer.length<N&&(this._parseBuffer=new Uint32Array(Math.min(R.length,N))),ie||this._dirtyRowTracker.clearRange(),R.length>N)for(let le=K;le<R.length;le+=N){const J=le+N<R.length?le+N:R.length,U=typeof R=="string"?this._stringDecoder.decode(R.substring(le,J),this._parseBuffer):this._utf8Decoder.decode(R.subarray(le,J),this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,U))return this._preserveStack(W,G,U,le),this._logSlowResolvingAsync(B),B}else if(!ie){const le=typeof R=="string"?this._stringDecoder.decode(R,this._parseBuffer):this._utf8Decoder.decode(R,this._parseBuffer);if(B=this._parser.parse(this._parseBuffer,le))return this._preserveStack(W,G,le,0),this._logSlowResolvingAsync(B),B}this._activeBuffer.x===W&&this._activeBuffer.y===G||this._onCursorMove.fire(),this._onRequestRefreshRows.fire(this._dirtyRowTracker.start,this._dirtyRowTracker.end)}print(R,j,B){let W,G;const K=this._charsetService.charset,ie=this._optionsService.rawOptions.screenReaderMode,le=this._bufferService.cols,J=this._coreService.decPrivateModes.wraparound,U=this._coreService.modes.insertMode,X=this._curAttrData;let Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._activeBuffer.x&&B-j>0&&Q.getWidth(this._activeBuffer.x-1)===2&&Q.setCellFromCodePoint(this._activeBuffer.x-1,0,1,X.fg,X.bg,X.extended);for(let te=j;te<B;++te){if(W=R[te],G=this._unicodeService.wcwidth(W),W<127&&K){const ue=K[String.fromCharCode(W)];ue&&(W=ue.charCodeAt(0))}if(ie&&this._onA11yChar.fire((0,x.stringFromCodePoint)(W)),this._getCurrentLinkId()&&this._oscLinkService.addLineToLink(this._getCurrentLinkId(),this._activeBuffer.ybase+this._activeBuffer.y),G||!this._activeBuffer.x){if(this._activeBuffer.x+G-1>=le){if(J){for(;this._activeBuffer.x<le;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,1,X.fg,X.bg,X.extended);this._activeBuffer.x=0,this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData(),!0)):(this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!0),Q=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y)}else if(this._activeBuffer.x=le-1,G===2)continue}if(U&&(Q.insertCells(this._activeBuffer.x,G,this._activeBuffer.getNullCell(X),X),Q.getWidth(le-1)===2&&Q.setCellFromCodePoint(le-1,y.NULL_CELL_CODE,y.NULL_CELL_WIDTH,X.fg,X.bg,X.extended)),Q.setCellFromCodePoint(this._activeBuffer.x++,W,G,X.fg,X.bg,X.extended),G>0)for(;--G;)Q.setCellFromCodePoint(this._activeBuffer.x++,0,0,X.fg,X.bg,X.extended)}else Q.getWidth(this._activeBuffer.x-1)?Q.addCodepointToCell(this._activeBuffer.x-1,W):Q.addCodepointToCell(this._activeBuffer.x-2,W)}B-j>0&&(Q.loadCell(this._activeBuffer.x-1,this._workCell),this._workCell.getWidth()===2||this._workCell.getCode()>65535?this._parser.precedingCodepoint=0:this._workCell.isCombined()?this._parser.precedingCodepoint=this._workCell.getChars().charCodeAt(0):this._parser.precedingCodepoint=this._workCell.content),this._activeBuffer.x<le&&B-j>0&&Q.getWidth(this._activeBuffer.x)===0&&!Q.hasContent(this._activeBuffer.x)&&Q.setCellFromCodePoint(this._activeBuffer.x,0,1,X.fg,X.bg,X.extended),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}registerCsiHandler(R,j){return R.final!=="t"||R.prefix||R.intermediates?this._parser.registerCsiHandler(R,j):this._parser.registerCsiHandler(R,B=>!O(B.params[0],this._optionsService.rawOptions.windowOptions)||j(B))}registerDcsHandler(R,j){return this._parser.registerDcsHandler(R,new A.DcsHandler(j))}registerEscHandler(R,j){return this._parser.registerEscHandler(R,j)}registerOscHandler(R,j){return this._parser.registerOscHandler(R,new E.OscHandler(j))}bell(){return this._onRequestBell.fire(),!0}lineFeed(){return this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._optionsService.rawOptions.convertEol&&(this._activeBuffer.x=0),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows?this._activeBuffer.y=this._bufferService.rows-1:this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.x>=this._bufferService.cols&&this._activeBuffer.x--,this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._onLineFeed.fire(),!0}carriageReturn(){return this._activeBuffer.x=0,!0}backspace(){var R;if(!this._coreService.decPrivateModes.reverseWraparound)return this._restrictCursor(),this._activeBuffer.x>0&&this._activeBuffer.x--,!0;if(this._restrictCursor(this._bufferService.cols),this._activeBuffer.x>0)this._activeBuffer.x--;else if(this._activeBuffer.x===0&&this._activeBuffer.y>this._activeBuffer.scrollTop&&this._activeBuffer.y<=this._activeBuffer.scrollBottom&&(!((R=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y))===null||R===void 0)&&R.isWrapped)){this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y).isWrapped=!1,this._activeBuffer.y--,this._activeBuffer.x=this._bufferService.cols-1;const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);j.hasWidth(this._activeBuffer.x)&&!j.hasContent(this._activeBuffer.x)&&this._activeBuffer.x--}return this._restrictCursor(),!0}tab(){if(this._activeBuffer.x>=this._bufferService.cols)return!0;const R=this._activeBuffer.x;return this._activeBuffer.x=this._activeBuffer.nextStop(),this._optionsService.rawOptions.screenReaderMode&&this._onA11yTab.fire(this._activeBuffer.x-R),!0}shiftOut(){return this._charsetService.setgLevel(1),!0}shiftIn(){return this._charsetService.setgLevel(0),!0}_restrictCursor(R=this._bufferService.cols-1){this._activeBuffer.x=Math.min(R,Math.max(0,this._activeBuffer.x)),this._activeBuffer.y=this._coreService.decPrivateModes.origin?Math.min(this._activeBuffer.scrollBottom,Math.max(this._activeBuffer.scrollTop,this._activeBuffer.y)):Math.min(this._bufferService.rows-1,Math.max(0,this._activeBuffer.y)),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_setCursor(R,j){this._dirtyRowTracker.markDirty(this._activeBuffer.y),this._coreService.decPrivateModes.origin?(this._activeBuffer.x=R,this._activeBuffer.y=this._activeBuffer.scrollTop+j):(this._activeBuffer.x=R,this._activeBuffer.y=j),this._restrictCursor(),this._dirtyRowTracker.markDirty(this._activeBuffer.y)}_moveCursor(R,j){this._restrictCursor(),this._setCursor(this._activeBuffer.x+R,this._activeBuffer.y+j)}cursorUp(R){const j=this._activeBuffer.y-this._activeBuffer.scrollTop;return j>=0?this._moveCursor(0,-Math.min(j,R.params[0]||1)):this._moveCursor(0,-(R.params[0]||1)),!0}cursorDown(R){const j=this._activeBuffer.scrollBottom-this._activeBuffer.y;return j>=0?this._moveCursor(0,Math.min(j,R.params[0]||1)):this._moveCursor(0,R.params[0]||1),!0}cursorForward(R){return this._moveCursor(R.params[0]||1,0),!0}cursorBackward(R){return this._moveCursor(-(R.params[0]||1),0),!0}cursorNextLine(R){return this.cursorDown(R),this._activeBuffer.x=0,!0}cursorPrecedingLine(R){return this.cursorUp(R),this._activeBuffer.x=0,!0}cursorCharAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}cursorPosition(R){return this._setCursor(R.length>=2?(R.params[1]||1)-1:0,(R.params[0]||1)-1),!0}charPosAbsolute(R){return this._setCursor((R.params[0]||1)-1,this._activeBuffer.y),!0}hPositionRelative(R){return this._moveCursor(R.params[0]||1,0),!0}linePosAbsolute(R){return this._setCursor(this._activeBuffer.x,(R.params[0]||1)-1),!0}vPositionRelative(R){return this._moveCursor(0,R.params[0]||1),!0}hVPosition(R){return this.cursorPosition(R),!0}tabClear(R){const j=R.params[0];return j===0?delete this._activeBuffer.tabs[this._activeBuffer.x]:j===3&&(this._activeBuffer.tabs={}),!0}cursorForwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let j=R.params[0]||1;for(;j--;)this._activeBuffer.x=this._activeBuffer.nextStop();return!0}cursorBackwardTab(R){if(this._activeBuffer.x>=this._bufferService.cols)return!0;let j=R.params[0]||1;for(;j--;)this._activeBuffer.x=this._activeBuffer.prevStop();return!0}selectProtected(R){const j=R.params[0];return j===1&&(this._curAttrData.bg|=536870912),j!==2&&j!==0||(this._curAttrData.bg&=-536870913),!0}_eraseInBufferLine(R,j,B,W=!1,G=!1){const K=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);K.replaceCells(j,B,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData(),G),W&&(K.isWrapped=!1)}_resetBufferLine(R,j=!1){const B=this._activeBuffer.lines.get(this._activeBuffer.ybase+R);B&&(B.fill(this._activeBuffer.getNullCell(this._eraseAttrData()),j),this._bufferService.buffer.clearMarkers(this._activeBuffer.ybase+R),B.isWrapped=!1)}eraseInDisplay(R,j=!1){let B;switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B++,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,j);B<this._bufferService.rows;B++)this._resetBufferLine(B,j);this._dirtyRowTracker.markDirty(B);break;case 1:for(B=this._activeBuffer.y,this._dirtyRowTracker.markDirty(B),this._eraseInBufferLine(B,0,this._activeBuffer.x+1,!0,j),this._activeBuffer.x+1>=this._bufferService.cols&&(this._activeBuffer.lines.get(B+1).isWrapped=!1);B--;)this._resetBufferLine(B,j);this._dirtyRowTracker.markDirty(0);break;case 2:for(B=this._bufferService.rows,this._dirtyRowTracker.markDirty(B-1);B--;)this._resetBufferLine(B,j);this._dirtyRowTracker.markDirty(0);break;case 3:const W=this._activeBuffer.lines.length-this._bufferService.rows;W>0&&(this._activeBuffer.lines.trimStart(W),this._activeBuffer.ybase=Math.max(this._activeBuffer.ybase-W,0),this._activeBuffer.ydisp=Math.max(this._activeBuffer.ydisp-W,0),this._onScroll.fire(0))}return!0}eraseInLine(R,j=!1){switch(this._restrictCursor(this._bufferService.cols),R.params[0]){case 0:this._eraseInBufferLine(this._activeBuffer.y,this._activeBuffer.x,this._bufferService.cols,this._activeBuffer.x===0,j);break;case 1:this._eraseInBufferLine(this._activeBuffer.y,0,this._activeBuffer.x+1,!1,j);break;case 2:this._eraseInBufferLine(this._activeBuffer.y,0,this._bufferService.cols,!0,j)}return this._dirtyRowTracker.markDirty(this._activeBuffer.y),!0}insertLines(R){this._restrictCursor();let j=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y,W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,G=this._bufferService.rows-1+this._activeBuffer.ybase-W+1;for(;j--;)this._activeBuffer.lines.splice(G-1,1),this._activeBuffer.lines.splice(B,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}deleteLines(R){this._restrictCursor();let j=R.params[0]||1;if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const B=this._activeBuffer.ybase+this._activeBuffer.y;let W;for(W=this._bufferService.rows-1-this._activeBuffer.scrollBottom,W=this._bufferService.rows-1+this._activeBuffer.ybase-W;j--;)this._activeBuffer.lines.splice(B,1),this._activeBuffer.lines.splice(W,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.y,this._activeBuffer.scrollBottom),this._activeBuffer.x=0,!0}insertChars(R){this._restrictCursor();const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return j&&(j.insertCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}deleteChars(R){this._restrictCursor();const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return j&&(j.deleteCells(this._activeBuffer.x,R.params[0]||1,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}scrollUp(R){let j=R.params[0]||1;for(;j--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,0,this._activeBuffer.getBlankLine(this._eraseAttrData()));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollDown(R){let j=R.params[0]||1;for(;j--;)this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollBottom,1),this._activeBuffer.lines.splice(this._activeBuffer.ybase+this._activeBuffer.scrollTop,0,this._activeBuffer.getBlankLine(m.DEFAULT_ATTR_DATA));return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollLeft(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.deleteCells(0,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}scrollRight(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.insertCells(0,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}insertColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.insertCells(this._activeBuffer.x,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}deleteColumns(R){if(this._activeBuffer.y>this._activeBuffer.scrollBottom||this._activeBuffer.y<this._activeBuffer.scrollTop)return!0;const j=R.params[0]||1;for(let B=this._activeBuffer.scrollTop;B<=this._activeBuffer.scrollBottom;++B){const W=this._activeBuffer.lines.get(this._activeBuffer.ybase+B);W.deleteCells(this._activeBuffer.x,j,this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),W.isWrapped=!1}return this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom),!0}eraseChars(R){this._restrictCursor();const j=this._activeBuffer.lines.get(this._activeBuffer.ybase+this._activeBuffer.y);return j&&(j.replaceCells(this._activeBuffer.x,this._activeBuffer.x+(R.params[0]||1),this._activeBuffer.getNullCell(this._eraseAttrData()),this._eraseAttrData()),this._dirtyRowTracker.markDirty(this._activeBuffer.y)),!0}repeatPrecedingCharacter(R){if(!this._parser.precedingCodepoint)return!0;const j=R.params[0]||1,B=new Uint32Array(j);for(let W=0;W<j;++W)B[W]=this._parser.precedingCodepoint;return this.print(B,0,B.length),!0}sendDeviceAttributesPrimary(R){return R.params[0]>0||(this._is("xterm")||this._is("rxvt-unicode")||this._is("screen")?this._coreService.triggerDataEvent(d.C0.ESC+"[?1;2c"):this._is("linux")&&this._coreService.triggerDataEvent(d.C0.ESC+"[?6c")),!0}sendDeviceAttributesSecondary(R){return R.params[0]>0||(this._is("xterm")?this._coreService.triggerDataEvent(d.C0.ESC+"[>0;276;0c"):this._is("rxvt-unicode")?this._coreService.triggerDataEvent(d.C0.ESC+"[>85;95;0c"):this._is("linux")?this._coreService.triggerDataEvent(R.params[0]+"c"):this._is("screen")&&this._coreService.triggerDataEvent(d.C0.ESC+"[>83;40003;0c")),!0}_is(R){return(this._optionsService.rawOptions.termName+"").indexOf(R)===0}setMode(R){for(let j=0;j<R.length;j++)switch(R.params[j]){case 4:this._coreService.modes.insertMode=!0;break;case 20:this._optionsService.options.convertEol=!0}return!0}setModePrivate(R){for(let j=0;j<R.length;j++)switch(R.params[j]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!0;break;case 2:this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),this._charsetService.setgCharset(1,h.DEFAULT_CHARSET),this._charsetService.setgCharset(2,h.DEFAULT_CHARSET),this._charsetService.setgCharset(3,h.DEFAULT_CHARSET);break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(132,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!0,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!0;break;case 12:this._optionsService.options.cursorBlink=!0;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!0;break;case 66:this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire();break;case 9:this._coreMouseService.activeProtocol="X10";break;case 1e3:this._coreMouseService.activeProtocol="VT200";break;case 1002:this._coreMouseService.activeProtocol="DRAG";break;case 1003:this._coreMouseService.activeProtocol="ANY";break;case 1004:this._coreService.decPrivateModes.sendFocus=!0,this._onRequestSendFocus.fire();break;case 1005:this._logService.debug("DECSET 1005 not supported (see #2507)");break;case 1006:this._coreMouseService.activeEncoding="SGR";break;case 1015:this._logService.debug("DECSET 1015 not supported (see #2507)");break;case 1016:this._coreMouseService.activeEncoding="SGR_PIXELS";break;case 25:this._coreService.isCursorHidden=!1;break;case 1048:this.saveCursor();break;case 1049:this.saveCursor();case 47:case 1047:this._bufferService.buffers.activateAltBuffer(this._eraseAttrData()),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!0}return!0}resetMode(R){for(let j=0;j<R.length;j++)switch(R.params[j]){case 4:this._coreService.modes.insertMode=!1;break;case 20:this._optionsService.options.convertEol=!1}return!0}resetModePrivate(R){for(let j=0;j<R.length;j++)switch(R.params[j]){case 1:this._coreService.decPrivateModes.applicationCursorKeys=!1;break;case 3:this._optionsService.rawOptions.windowOptions.setWinLines&&(this._bufferService.resize(80,this._bufferService.rows),this._onRequestReset.fire());break;case 6:this._coreService.decPrivateModes.origin=!1,this._setCursor(0,0);break;case 7:this._coreService.decPrivateModes.wraparound=!1;break;case 12:this._optionsService.options.cursorBlink=!1;break;case 45:this._coreService.decPrivateModes.reverseWraparound=!1;break;case 66:this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire();break;case 9:case 1e3:case 1002:case 1003:this._coreMouseService.activeProtocol="NONE";break;case 1004:this._coreService.decPrivateModes.sendFocus=!1;break;case 1005:this._logService.debug("DECRST 1005 not supported (see #2507)");break;case 1006:case 1016:this._coreMouseService.activeEncoding="DEFAULT";break;case 1015:this._logService.debug("DECRST 1015 not supported (see #2507)");break;case 25:this._coreService.isCursorHidden=!0;break;case 1048:this.restoreCursor();break;case 1049:case 47:case 1047:this._bufferService.buffers.activateNormalBuffer(),R.params[j]===1049&&this.restoreCursor(),this._coreService.isCursorInitialized=!0,this._onRequestRefreshRows.fire(0,this._bufferService.rows-1),this._onRequestSyncScrollBar.fire();break;case 2004:this._coreService.decPrivateModes.bracketedPasteMode=!1}return!0}requestMode(R,j){const B=this._coreService.decPrivateModes,{activeProtocol:W,activeEncoding:G}=this._coreMouseService,K=this._coreService,{buffers:ie,cols:le}=this._bufferService,{active:J,alt:U}=ie,X=this._optionsService.rawOptions,Q=Y=>Y?1:2,te=R.params[0];return ue=te,ee=j?te===2?4:te===4?Q(K.modes.insertMode):te===12?3:te===20?Q(X.convertEol):0:te===1?Q(B.applicationCursorKeys):te===3?X.windowOptions.setWinLines?le===80?2:le===132?1:0:0:te===6?Q(B.origin):te===7?Q(B.wraparound):te===8?3:te===9?Q(W==="X10"):te===12?Q(X.cursorBlink):te===25?Q(!K.isCursorHidden):te===45?Q(B.reverseWraparound):te===66?Q(B.applicationKeypad):te===67?4:te===1e3?Q(W==="VT200"):te===1002?Q(W==="DRAG"):te===1003?Q(W==="ANY"):te===1004?Q(B.sendFocus):te===1005?4:te===1006?Q(G==="SGR"):te===1015?4:te===1016?Q(G==="SGR_PIXELS"):te===1048?1:te===47||te===1047||te===1049?Q(J===U):te===2004?Q(B.bracketedPasteMode):0,K.triggerDataEvent(`${d.C0.ESC}[${j?"":"?"}${ue};${ee}$y`),!0;var ue,ee}_updateAttrColor(R,j,B,W,G){return j===2?(R|=50331648,R&=-16777216,R|=b.AttributeData.fromColorRGB([B,W,G])):j===5&&(R&=-50331904,R|=33554432|255&B),R}_extractColor(R,j,B){const W=[0,0,-1,0,0,0];let G=0,K=0;do{if(W[K+G]=R.params[j+K],R.hasSubParams(j+K)){const ie=R.getSubParams(j+K);let le=0;do W[1]===5&&(G=1),W[K+le+1+G]=ie[le];while(++le<ie.length&&le+K+1+G<W.length);break}if(W[1]===5&&K+G>=2||W[1]===2&&K+G>=5)break;W[1]&&(G=1)}while(++K+j<R.length&&K+G<W.length);for(let ie=2;ie<W.length;++ie)W[ie]===-1&&(W[ie]=0);switch(W[0]){case 38:B.fg=this._updateAttrColor(B.fg,W[1],W[3],W[4],W[5]);break;case 48:B.bg=this._updateAttrColor(B.bg,W[1],W[3],W[4],W[5]);break;case 58:B.extended=B.extended.clone(),B.extended.underlineColor=this._updateAttrColor(B.extended.underlineColor,W[1],W[3],W[4],W[5])}return K}_processUnderline(R,j){j.extended=j.extended.clone(),(!~R||R>5)&&(R=1),j.extended.underlineStyle=R,j.fg|=268435456,R===0&&(j.fg&=-268435457),j.updateExtended()}_processSGR0(R){R.fg=m.DEFAULT_ATTR_DATA.fg,R.bg=m.DEFAULT_ATTR_DATA.bg,R.extended=R.extended.clone(),R.extended.underlineStyle=0,R.extended.underlineColor&=-67108864,R.updateExtended()}charAttributes(R){if(R.length===1&&R.params[0]===0)return this._processSGR0(this._curAttrData),!0;const j=R.length;let B;const W=this._curAttrData;for(let G=0;G<j;G++)B=R.params[G],B>=30&&B<=37?(W.fg&=-50331904,W.fg|=16777216|B-30):B>=40&&B<=47?(W.bg&=-50331904,W.bg|=16777216|B-40):B>=90&&B<=97?(W.fg&=-50331904,W.fg|=16777224|B-90):B>=100&&B<=107?(W.bg&=-50331904,W.bg|=16777224|B-100):B===0?this._processSGR0(W):B===1?W.fg|=134217728:B===3?W.bg|=67108864:B===4?(W.fg|=268435456,this._processUnderline(R.hasSubParams(G)?R.getSubParams(G)[0]:1,W)):B===5?W.fg|=536870912:B===7?W.fg|=67108864:B===8?W.fg|=1073741824:B===9?W.fg|=2147483648:B===2?W.bg|=134217728:B===21?this._processUnderline(2,W):B===22?(W.fg&=-134217729,W.bg&=-134217729):B===23?W.bg&=-67108865:B===24?(W.fg&=-268435457,this._processUnderline(0,W)):B===25?W.fg&=-536870913:B===27?W.fg&=-67108865:B===28?W.fg&=-1073741825:B===29?W.fg&=2147483647:B===39?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg):B===49?(W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):B===38||B===48||B===58?G+=this._extractColor(R,G,W):B===53?W.bg|=1073741824:B===55?W.bg&=-1073741825:B===59?(W.extended=W.extended.clone(),W.extended.underlineColor=-1,W.updateExtended()):B===100?(W.fg&=-67108864,W.fg|=16777215&m.DEFAULT_ATTR_DATA.fg,W.bg&=-67108864,W.bg|=16777215&m.DEFAULT_ATTR_DATA.bg):this._logService.debug("Unknown SGR attribute: %d.",B);return!0}deviceStatus(R){switch(R.params[0]){case 5:this._coreService.triggerDataEvent(`${d.C0.ESC}[0n`);break;case 6:const j=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[${j};${B}R`)}return!0}deviceStatusPrivate(R){if(R.params[0]===6){const j=this._activeBuffer.y+1,B=this._activeBuffer.x+1;this._coreService.triggerDataEvent(`${d.C0.ESC}[?${j};${B}R`)}return!0}softReset(R){return this._coreService.isCursorHidden=!1,this._onRequestSyncScrollBar.fire(),this._activeBuffer.scrollTop=0,this._activeBuffer.scrollBottom=this._bufferService.rows-1,this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._coreService.reset(),this._charsetService.reset(),this._activeBuffer.savedX=0,this._activeBuffer.savedY=this._activeBuffer.ybase,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,this._coreService.decPrivateModes.origin=!1,!0}setCursorStyle(R){const j=R.params[0]||1;switch(j){case 1:case 2:this._optionsService.options.cursorStyle="block";break;case 3:case 4:this._optionsService.options.cursorStyle="underline";break;case 5:case 6:this._optionsService.options.cursorStyle="bar"}const B=j%2==1;return this._optionsService.options.cursorBlink=B,!0}setScrollRegion(R){const j=R.params[0]||1;let B;return(R.length<2||(B=R.params[1])>this._bufferService.rows||B===0)&&(B=this._bufferService.rows),B>j&&(this._activeBuffer.scrollTop=j-1,this._activeBuffer.scrollBottom=B-1,this._setCursor(0,0)),!0}windowOptions(R){if(!O(R.params[0],this._optionsService.rawOptions.windowOptions))return!0;const j=R.length>1?R.params[1]:0;switch(R.params[0]){case 14:j!==2&&this._onRequestWindowsOptionsReport.fire(I.GET_WIN_SIZE_PIXELS);break;case 16:this._onRequestWindowsOptionsReport.fire(I.GET_CELL_SIZE_PIXELS);break;case 18:this._bufferService&&this._coreService.triggerDataEvent(`${d.C0.ESC}[8;${this._bufferService.rows};${this._bufferService.cols}t`);break;case 22:j!==0&&j!==2||(this._windowTitleStack.push(this._windowTitle),this._windowTitleStack.length>10&&this._windowTitleStack.shift()),j!==0&&j!==1||(this._iconNameStack.push(this._iconName),this._iconNameStack.length>10&&this._iconNameStack.shift());break;case 23:j!==0&&j!==2||this._windowTitleStack.length&&this.setTitle(this._windowTitleStack.pop()),j!==0&&j!==1||this._iconNameStack.length&&this.setIconName(this._iconNameStack.pop())}return!0}saveCursor(R){return this._activeBuffer.savedX=this._activeBuffer.x,this._activeBuffer.savedY=this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.savedCurAttrData.fg=this._curAttrData.fg,this._activeBuffer.savedCurAttrData.bg=this._curAttrData.bg,this._activeBuffer.savedCharset=this._charsetService.charset,!0}restoreCursor(R){return this._activeBuffer.x=this._activeBuffer.savedX||0,this._activeBuffer.y=Math.max(this._activeBuffer.savedY-this._activeBuffer.ybase,0),this._curAttrData.fg=this._activeBuffer.savedCurAttrData.fg,this._curAttrData.bg=this._activeBuffer.savedCurAttrData.bg,this._charsetService.charset=this._savedCharset,this._activeBuffer.savedCharset&&(this._charsetService.charset=this._activeBuffer.savedCharset),this._restrictCursor(),!0}setTitle(R){return this._windowTitle=R,this._onTitleChange.fire(R),!0}setIconName(R){return this._iconName=R,!0}setOrReportIndexedColor(R){const j=[],B=R.split(";");for(;B.length>1;){const W=B.shift(),G=B.shift();if(/^\d+$/.exec(W)){const K=parseInt(W);if(z(K))if(G==="?")j.push({type:0,index:K});else{const ie=(0,T.parseColor)(G);ie&&j.push({type:1,index:K,color:ie})}}}return j.length&&this._onColor.fire(j),!0}setHyperlink(R){const j=R.split(";");return!(j.length<2)&&(j[1]?this._createHyperlink(j[0],j[1]):!j[0]&&this._finishHyperlink())}_createHyperlink(R,j){this._getCurrentLinkId()&&this._finishHyperlink();const B=R.split(":");let W;const G=B.findIndex(K=>K.startsWith("id="));return G!==-1&&(W=B[G].slice(3)||void 0),this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=this._oscLinkService.registerLink({id:W,uri:j}),this._curAttrData.updateExtended(),!0}_finishHyperlink(){return this._curAttrData.extended=this._curAttrData.extended.clone(),this._curAttrData.extended.urlId=0,this._curAttrData.updateExtended(),!0}_setOrReportSpecialColor(R,j){const B=R.split(";");for(let W=0;W<B.length&&!(j>=this._specialColors.length);++W,++j)if(B[W]==="?")this._onColor.fire([{type:0,index:this._specialColors[j]}]);else{const G=(0,T.parseColor)(B[W]);G&&this._onColor.fire([{type:1,index:this._specialColors[j],color:G}])}return!0}setOrReportFgColor(R){return this._setOrReportSpecialColor(R,0)}setOrReportBgColor(R){return this._setOrReportSpecialColor(R,1)}setOrReportCursorColor(R){return this._setOrReportSpecialColor(R,2)}restoreIndexedColor(R){if(!R)return this._onColor.fire([{type:2}]),!0;const j=[],B=R.split(";");for(let W=0;W<B.length;++W)if(/^\d+$/.exec(B[W])){const G=parseInt(B[W]);z(G)&&j.push({type:2,index:G})}return j.length&&this._onColor.fire(j),!0}restoreFgColor(R){return this._onColor.fire([{type:2,index:256}]),!0}restoreBgColor(R){return this._onColor.fire([{type:2,index:257}]),!0}restoreCursorColor(R){return this._onColor.fire([{type:2,index:258}]),!0}nextLine(){return this._activeBuffer.x=0,this.index(),!0}keypadApplicationMode(){return this._logService.debug("Serial port requested application keypad."),this._coreService.decPrivateModes.applicationKeypad=!0,this._onRequestSyncScrollBar.fire(),!0}keypadNumericMode(){return this._logService.debug("Switching back to normal keypad."),this._coreService.decPrivateModes.applicationKeypad=!1,this._onRequestSyncScrollBar.fire(),!0}selectDefaultCharset(){return this._charsetService.setgLevel(0),this._charsetService.setgCharset(0,h.DEFAULT_CHARSET),!0}selectCharset(R){return R.length!==2?(this.selectDefaultCharset(),!0):(R[0]==="/"||this._charsetService.setgCharset(P[R[0]],h.CHARSETS[R[1]]||h.DEFAULT_CHARSET),!0)}index(){return this._restrictCursor(),this._activeBuffer.y++,this._activeBuffer.y===this._activeBuffer.scrollBottom+1?(this._activeBuffer.y--,this._bufferService.scroll(this._eraseAttrData())):this._activeBuffer.y>=this._bufferService.rows&&(this._activeBuffer.y=this._bufferService.rows-1),this._restrictCursor(),!0}tabSet(){return this._activeBuffer.tabs[this._activeBuffer.x]=!0,!0}reverseIndex(){if(this._restrictCursor(),this._activeBuffer.y===this._activeBuffer.scrollTop){const R=this._activeBuffer.scrollBottom-this._activeBuffer.scrollTop;this._activeBuffer.lines.shiftElements(this._activeBuffer.ybase+this._activeBuffer.y,R,1),this._activeBuffer.lines.set(this._activeBuffer.ybase+this._activeBuffer.y,this._activeBuffer.getBlankLine(this._eraseAttrData())),this._dirtyRowTracker.markRangeDirty(this._activeBuffer.scrollTop,this._activeBuffer.scrollBottom)}else this._activeBuffer.y--,this._restrictCursor();return!0}fullReset(){return this._parser.reset(),this._onRequestReset.fire(),!0}reset(){this._curAttrData=m.DEFAULT_ATTR_DATA.clone(),this._eraseAttrDataInternal=m.DEFAULT_ATTR_DATA.clone()}_eraseAttrData(){return this._eraseAttrDataInternal.bg&=-67108864,this._eraseAttrDataInternal.bg|=67108863&this._curAttrData.bg,this._eraseAttrDataInternal}setgLevel(R){return this._charsetService.setgLevel(R),!0}screenAlignmentPattern(){const R=new _.CellData;R.content=4194373,R.fg=this._curAttrData.fg,R.bg=this._curAttrData.bg,this._setCursor(0,0);for(let j=0;j<this._bufferService.rows;++j){const B=this._activeBuffer.ybase+this._activeBuffer.y+j,W=this._activeBuffer.lines.get(B);W&&(W.fill(R),W.isWrapped=!1)}return this._dirtyRowTracker.markAllDirty(),this._setCursor(0,0),!0}requestStatusString(R,j){const B=this._bufferService.buffer,W=this._optionsService.rawOptions;return(G=>(this._coreService.triggerDataEvent(`${d.C0.ESC}${G}${d.C0.ESC}\\`),!0))(R==='"q'?`P1$r${this._curAttrData.isProtected()?1:0}"q`:R==='"p'?'P1$r61;1"p':R==="r"?`P1$r${B.scrollTop+1};${B.scrollBottom+1}r`:R==="m"?"P1$r0m":R===" q"?`P1$r${{block:2,underline:4,bar:6}[W.cursorStyle]-(W.cursorBlink?1:0)} q`:"P0$r")}markRangeDirty(R,j){this._dirtyRowTracker.markRangeDirty(R,j)}}a.InputHandler=F;let $=class{constructor(H){this._bufferService=H,this.clearRange()}clearRange(){this.start=this._bufferService.buffer.y,this.end=this._bufferService.buffer.y}markDirty(H){H<this.start?this.start=H:H>this.end&&(this.end=H)}markRangeDirty(H,R){H>R&&(D=H,H=R,R=D),H<this.start&&(this.start=H),R>this.end&&(this.end=R)}markAllDirty(){this.markRangeDirty(0,this._bufferService.rows-1)}};function z(H){return 0<=H&&H<256}$=c([f(0,w.IBufferService)],$)},844:(o,a)=>{function l(c){for(const f of c)f.dispose();c.length=0}Object.defineProperty(a,"__esModule",{value:!0}),a.getDisposeArrayDisposable=a.disposeArray=a.toDisposable=a.MutableDisposable=a.Disposable=void 0,a.Disposable=class{constructor(){this._disposables=[],this._isDisposed=!1}dispose(){this._isDisposed=!0;for(const c of this._disposables)c.dispose();this._disposables.length=0}register(c){return this._disposables.push(c),c}unregister(c){const f=this._disposables.indexOf(c);f!==-1&&this._disposables.splice(f,1)}},a.MutableDisposable=class{constructor(){this._isDisposed=!1}get value(){return this._isDisposed?void 0:this._value}set value(c){var f;this._isDisposed||c===this._value||((f=this._value)===null||f===void 0||f.dispose(),this._value=c)}clear(){this.value=void 0}dispose(){var c;this._isDisposed=!0,(c=this._value)===null||c===void 0||c.dispose(),this._value=void 0}},a.toDisposable=function(c){return{dispose:c}},a.disposeArray=l,a.getDisposeArrayDisposable=function(c){return{dispose:()=>l(c)}}},1505:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.FourKeyMap=a.TwoKeyMap=void 0;class l{constructor(){this._data={}}set(f,d,h){this._data[f]||(this._data[f]={}),this._data[f][d]=h}get(f,d){return this._data[f]?this._data[f][d]:void 0}clear(){this._data={}}}a.TwoKeyMap=l,a.FourKeyMap=class{constructor(){this._data=new l}set(c,f,d,h,g){this._data.get(c,f)||this._data.set(c,f,new l),this._data.get(c,f).set(d,h,g)}get(c,f,d,h){var g;return(g=this._data.get(c,f))===null||g===void 0?void 0:g.get(d,h)}clear(){this._data.clear()}}},6114:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.isChromeOS=a.isLinux=a.isWindows=a.isIphone=a.isIpad=a.isMac=a.getSafariVersion=a.isSafari=a.isLegacyEdge=a.isFirefox=a.isNode=void 0,a.isNode=typeof navigator>"u";const l=a.isNode?"node":navigator.userAgent,c=a.isNode?"node":navigator.platform;a.isFirefox=l.includes("Firefox"),a.isLegacyEdge=l.includes("Edge"),a.isSafari=/^((?!chrome|android).)*safari/i.test(l),a.getSafariVersion=function(){if(!a.isSafari)return 0;const f=l.match(/Version\/(\d+)/);return f===null||f.length<2?0:parseInt(f[1])},a.isMac=["Macintosh","MacIntel","MacPPC","Mac68K"].includes(c),a.isIpad=c==="iPad",a.isIphone=c==="iPhone",a.isWindows=["Windows","Win16","Win32","WinCE"].includes(c),a.isLinux=c.indexOf("Linux")>=0,a.isChromeOS=/\bCrOS\b/.test(l)},6106:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.SortedList=void 0;let l=0;a.SortedList=class{constructor(c){this._getKey=c,this._array=[]}clear(){this._array.length=0}insert(c){this._array.length!==0?(l=this._search(this._getKey(c)),this._array.splice(l,0,c)):this._array.push(c)}delete(c){if(this._array.length===0)return!1;const f=this._getKey(c);if(f===void 0||(l=this._search(f),l===-1)||this._getKey(this._array[l])!==f)return!1;do if(this._array[l]===c)return this._array.splice(l,1),!0;while(++l<this._array.length&&this._getKey(this._array[l])===f);return!1}*getKeyIterator(c){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do yield this._array[l];while(++l<this._array.length&&this._getKey(this._array[l])===c)}forEachByKey(c,f){if(this._array.length!==0&&(l=this._search(c),!(l<0||l>=this._array.length)&&this._getKey(this._array[l])===c))do f(this._array[l]);while(++l<this._array.length&&this._getKey(this._array[l])===c)}values(){return[...this._array].values()}_search(c){let f=0,d=this._array.length-1;for(;d>=f;){let h=f+d>>1;const g=this._getKey(this._array[h]);if(g>c)d=h-1;else{if(!(g<c)){for(;h>0&&this._getKey(this._array[h-1])===c;)h--;return h}f=h+1}}return f}}},7226:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DebouncedIdleTask=a.IdleTaskQueue=a.PriorityTaskQueue=void 0;const c=l(6114);class f{constructor(){this._tasks=[],this._i=0}enqueue(g){this._tasks.push(g),this._start()}flush(){for(;this._i<this._tasks.length;)this._tasks[this._i]()||this._i++;this.clear()}clear(){this._idleCallback&&(this._cancelCallback(this._idleCallback),this._idleCallback=void 0),this._i=0,this._tasks.length=0}_start(){this._idleCallback||(this._idleCallback=this._requestCallback(this._process.bind(this)))}_process(g){this._idleCallback=void 0;let v=0,x=0,m=g.timeRemaining(),p=0;for(;this._i<this._tasks.length;){if(v=Date.now(),this._tasks[this._i]()||this._i++,v=Math.max(1,Date.now()-v),x=Math.max(v,x),p=g.timeRemaining(),1.5*x>p)return m-v<-20&&console.warn(`task queue exceeded allotted deadline by ${Math.abs(Math.round(m-v))}ms`),void this._start();m=p}this.clear()}}class d extends f{_requestCallback(g){return setTimeout(()=>g(this._createDeadline(16)))}_cancelCallback(g){clearTimeout(g)}_createDeadline(g){const v=Date.now()+g;return{timeRemaining:()=>Math.max(0,v-Date.now())}}}a.PriorityTaskQueue=d,a.IdleTaskQueue=!c.isNode&&"requestIdleCallback"in window?class extends f{_requestCallback(h){return requestIdleCallback(h)}_cancelCallback(h){cancelIdleCallback(h)}}:d,a.DebouncedIdleTask=class{constructor(){this._queue=new a.IdleTaskQueue}set(h){this._queue.clear(),this._queue.enqueue(h)}flush(){this._queue.flush()}}},9282:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.updateWindowsModeWrappedState=void 0;const c=l(643);a.updateWindowsModeWrappedState=function(f){const d=f.buffer.lines.get(f.buffer.ybase+f.buffer.y-1),h=d==null?void 0:d.get(f.cols-1),g=f.buffer.lines.get(f.buffer.ybase+f.buffer.y);g&&h&&(g.isWrapped=h[c.CHAR_DATA_CODE_INDEX]!==c.NULL_CELL_CODE&&h[c.CHAR_DATA_CODE_INDEX]!==c.WHITESPACE_CELL_CODE)}},3734:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ExtendedAttrs=a.AttributeData=void 0;class l{constructor(){this.fg=0,this.bg=0,this.extended=new c}static toColorRGB(d){return[d>>>16&255,d>>>8&255,255&d]}static fromColorRGB(d){return(255&d[0])<<16|(255&d[1])<<8|255&d[2]}clone(){const d=new l;return d.fg=this.fg,d.bg=this.bg,d.extended=this.extended.clone(),d}isInverse(){return 67108864&this.fg}isBold(){return 134217728&this.fg}isUnderline(){return this.hasExtendedAttrs()&&this.extended.underlineStyle!==0?1:268435456&this.fg}isBlink(){return 536870912&this.fg}isInvisible(){return 1073741824&this.fg}isItalic(){return 67108864&this.bg}isDim(){return 134217728&this.bg}isStrikethrough(){return 2147483648&this.fg}isProtected(){return 536870912&this.bg}isOverline(){return 1073741824&this.bg}getFgColorMode(){return 50331648&this.fg}getBgColorMode(){return 50331648&this.bg}isFgRGB(){return(50331648&this.fg)==50331648}isBgRGB(){return(50331648&this.bg)==50331648}isFgPalette(){return(50331648&this.fg)==16777216||(50331648&this.fg)==33554432}isBgPalette(){return(50331648&this.bg)==16777216||(50331648&this.bg)==33554432}isFgDefault(){return(50331648&this.fg)==0}isBgDefault(){return(50331648&this.bg)==0}isAttributeDefault(){return this.fg===0&&this.bg===0}getFgColor(){switch(50331648&this.fg){case 16777216:case 33554432:return 255&this.fg;case 50331648:return 16777215&this.fg;default:return-1}}getBgColor(){switch(50331648&this.bg){case 16777216:case 33554432:return 255&this.bg;case 50331648:return 16777215&this.bg;default:return-1}}hasExtendedAttrs(){return 268435456&this.bg}updateExtended(){this.extended.isEmpty()?this.bg&=-268435457:this.bg|=268435456}getUnderlineColor(){if(268435456&this.bg&&~this.extended.underlineColor)switch(50331648&this.extended.underlineColor){case 16777216:case 33554432:return 255&this.extended.underlineColor;case 50331648:return 16777215&this.extended.underlineColor;default:return this.getFgColor()}return this.getFgColor()}getUnderlineColorMode(){return 268435456&this.bg&&~this.extended.underlineColor?50331648&this.extended.underlineColor:this.getFgColorMode()}isUnderlineColorRGB(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==50331648:this.isFgRGB()}isUnderlineColorPalette(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==16777216||(50331648&this.extended.underlineColor)==33554432:this.isFgPalette()}isUnderlineColorDefault(){return 268435456&this.bg&&~this.extended.underlineColor?(50331648&this.extended.underlineColor)==0:this.isFgDefault()}getUnderlineStyle(){return 268435456&this.fg?268435456&this.bg?this.extended.underlineStyle:1:0}}a.AttributeData=l;class c{get ext(){return this._urlId?-469762049&this._ext|this.underlineStyle<<26:this._ext}set ext(d){this._ext=d}get underlineStyle(){return this._urlId?5:(469762048&this._ext)>>26}set underlineStyle(d){this._ext&=-469762049,this._ext|=d<<26&469762048}get underlineColor(){return 67108863&this._ext}set underlineColor(d){this._ext&=-67108864,this._ext|=67108863&d}get urlId(){return this._urlId}set urlId(d){this._urlId=d}constructor(d=0,h=0){this._ext=0,this._urlId=0,this._ext=d,this._urlId=h}clone(){return new c(this._ext,this._urlId)}isEmpty(){return this.underlineStyle===0&&this._urlId===0}}a.ExtendedAttrs=c},9092:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Buffer=a.MAX_BUFFER_SIZE=void 0;const c=l(6349),f=l(7226),d=l(3734),h=l(8437),g=l(4634),v=l(511),x=l(643),m=l(4863),p=l(7116);a.MAX_BUFFER_SIZE=4294967295,a.Buffer=class{constructor(y,_,b){this._hasScrollback=y,this._optionsService=_,this._bufferService=b,this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.tabs={},this.savedY=0,this.savedX=0,this.savedCurAttrData=h.DEFAULT_ATTR_DATA.clone(),this.savedCharset=p.DEFAULT_CHARSET,this.markers=[],this._nullCell=v.CellData.fromCharData([0,x.NULL_CELL_CHAR,x.NULL_CELL_WIDTH,x.NULL_CELL_CODE]),this._whitespaceCell=v.CellData.fromCharData([0,x.WHITESPACE_CELL_CHAR,x.WHITESPACE_CELL_WIDTH,x.WHITESPACE_CELL_CODE]),this._isClearing=!1,this._memoryCleanupQueue=new f.IdleTaskQueue,this._memoryCleanupPosition=0,this._cols=this._bufferService.cols,this._rows=this._bufferService.rows,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}getNullCell(y){return y?(this._nullCell.fg=y.fg,this._nullCell.bg=y.bg,this._nullCell.extended=y.extended):(this._nullCell.fg=0,this._nullCell.bg=0,this._nullCell.extended=new d.ExtendedAttrs),this._nullCell}getWhitespaceCell(y){return y?(this._whitespaceCell.fg=y.fg,this._whitespaceCell.bg=y.bg,this._whitespaceCell.extended=y.extended):(this._whitespaceCell.fg=0,this._whitespaceCell.bg=0,this._whitespaceCell.extended=new d.ExtendedAttrs),this._whitespaceCell}getBlankLine(y,_){return new h.BufferLine(this._bufferService.cols,this.getNullCell(y),_)}get hasScrollback(){return this._hasScrollback&&this.lines.maxLength>this._rows}get isCursorInViewport(){const y=this.ybase+this.y-this.ydisp;return y>=0&&y<this._rows}_getCorrectBufferLength(y){if(!this._hasScrollback)return y;const _=y+this._optionsService.rawOptions.scrollback;return _>a.MAX_BUFFER_SIZE?a.MAX_BUFFER_SIZE:_}fillViewportRows(y){if(this.lines.length===0){y===void 0&&(y=h.DEFAULT_ATTR_DATA);let _=this._rows;for(;_--;)this.lines.push(this.getBlankLine(y))}}clear(){this.ydisp=0,this.ybase=0,this.y=0,this.x=0,this.lines=new c.CircularList(this._getCorrectBufferLength(this._rows)),this.scrollTop=0,this.scrollBottom=this._rows-1,this.setupTabStops()}resize(y,_){const b=this.getNullCell(h.DEFAULT_ATTR_DATA);let w=0;const E=this._getCorrectBufferLength(_);if(E>this.lines.maxLength&&(this.lines.maxLength=E),this.lines.length>0){if(this._cols<y)for(let T=0;T<this.lines.length;T++)w+=+this.lines.get(T).resize(y,b);let A=0;if(this._rows<_)for(let T=this._rows;T<_;T++)this.lines.length<_+this.ybase&&(this._optionsService.rawOptions.windowsMode||this._optionsService.rawOptions.windowsPty.backend!==void 0||this._optionsService.rawOptions.windowsPty.buildNumber!==void 0?this.lines.push(new h.BufferLine(y,b)):this.ybase>0&&this.lines.length<=this.ybase+this.y+A+1?(this.ybase--,A++,this.ydisp>0&&this.ydisp--):this.lines.push(new h.BufferLine(y,b)));else for(let T=this._rows;T>_;T--)this.lines.length>_+this.ybase&&(this.lines.length>this.ybase+this.y+1?this.lines.pop():(this.ybase++,this.ydisp++));if(E<this.lines.maxLength){const T=this.lines.length-E;T>0&&(this.lines.trimStart(T),this.ybase=Math.max(this.ybase-T,0),this.ydisp=Math.max(this.ydisp-T,0),this.savedY=Math.max(this.savedY-T,0)),this.lines.maxLength=E}this.x=Math.min(this.x,y-1),this.y=Math.min(this.y,_-1),A&&(this.y+=A),this.savedX=Math.min(this.savedX,y-1),this.scrollTop=0}if(this.scrollBottom=_-1,this._isReflowEnabled&&(this._reflow(y,_),this._cols>y))for(let A=0;A<this.lines.length;A++)w+=+this.lines.get(A).resize(y,b);this._cols=y,this._rows=_,this._memoryCleanupQueue.clear(),w>.1*this.lines.length&&(this._memoryCleanupPosition=0,this._memoryCleanupQueue.enqueue(()=>this._batchedMemoryCleanup()))}_batchedMemoryCleanup(){let y=!0;this._memoryCleanupPosition>=this.lines.length&&(this._memoryCleanupPosition=0,y=!1);let _=0;for(;this._memoryCleanupPosition<this.lines.length;)if(_+=this.lines.get(this._memoryCleanupPosition++).cleanupMemory(),_>100)return!0;return y}get _isReflowEnabled(){const y=this._optionsService.rawOptions.windowsPty;return y&&y.buildNumber?this._hasScrollback&&y.backend==="conpty"&&y.buildNumber>=21376:this._hasScrollback&&!this._optionsService.rawOptions.windowsMode}_reflow(y,_){this._cols!==y&&(y>this._cols?this._reflowLarger(y,_):this._reflowSmaller(y,_))}_reflowLarger(y,_){const b=(0,g.reflowLargerGetLinesToRemove)(this.lines,this._cols,y,this.ybase+this.y,this.getNullCell(h.DEFAULT_ATTR_DATA));if(b.length>0){const w=(0,g.reflowLargerCreateNewLayout)(this.lines,b);(0,g.reflowLargerApplyNewLayout)(this.lines,w.layout),this._reflowLargerAdjustViewport(y,_,w.countRemoved)}}_reflowLargerAdjustViewport(y,_,b){const w=this.getNullCell(h.DEFAULT_ATTR_DATA);let E=b;for(;E-- >0;)this.ybase===0?(this.y>0&&this.y--,this.lines.length<_&&this.lines.push(new h.BufferLine(y,w))):(this.ydisp===this.ybase&&this.ydisp--,this.ybase--);this.savedY=Math.max(this.savedY-b,0)}_reflowSmaller(y,_){const b=this.getNullCell(h.DEFAULT_ATTR_DATA),w=[];let E=0;for(let A=this.lines.length-1;A>=0;A--){let T=this.lines.get(A);if(!T||!T.isWrapped&&T.getTrimmedLength()<=y)continue;const P=[T];for(;T.isWrapped&&A>0;)T=this.lines.get(--A),P.unshift(T);const N=this.ybase+this.y;if(N>=A&&N<A+P.length)continue;const O=P[P.length-1].getTrimmedLength(),I=(0,g.reflowSmallerGetNewLineLengths)(P,this._cols,y),D=I.length-P.length;let F;F=this.ybase===0&&this.y!==this.lines.length-1?Math.max(0,this.y-this.lines.maxLength+D):Math.max(0,this.lines.length-this.lines.maxLength+D);const $=[];for(let W=0;W<D;W++){const G=this.getBlankLine(h.DEFAULT_ATTR_DATA,!0);$.push(G)}$.length>0&&(w.push({start:A+P.length+E,newLines:$}),E+=$.length),P.push(...$);let z=I.length-1,H=I[z];H===0&&(z--,H=I[z]);let R=P.length-D-1,j=O;for(;R>=0;){const W=Math.min(j,H);if(P[z]===void 0)break;if(P[z].copyCellsFrom(P[R],j-W,H-W,W,!0),H-=W,H===0&&(z--,H=I[z]),j-=W,j===0){R--;const G=Math.max(R,0);j=(0,g.getWrappedLineTrimmedLength)(P,G,this._cols)}}for(let W=0;W<P.length;W++)I[W]<y&&P[W].setCell(I[W],b);let B=D-F;for(;B-- >0;)this.ybase===0?this.y<_-1?(this.y++,this.lines.pop()):(this.ybase++,this.ydisp++):this.ybase<Math.min(this.lines.maxLength,this.lines.length+E)-_&&(this.ybase===this.ydisp&&this.ydisp++,this.ybase++);this.savedY=Math.min(this.savedY+D,this.ybase+_-1)}if(w.length>0){const A=[],T=[];for(let z=0;z<this.lines.length;z++)T.push(this.lines.get(z));const P=this.lines.length;let N=P-1,O=0,I=w[O];this.lines.length=Math.min(this.lines.maxLength,this.lines.length+E);let D=0;for(let z=Math.min(this.lines.maxLength-1,P+E-1);z>=0;z--)if(I&&I.start>N+D){for(let H=I.newLines.length-1;H>=0;H--)this.lines.set(z--,I.newLines[H]);z++,A.push({index:N+1,amount:I.newLines.length}),D+=I.newLines.length,I=w[++O]}else this.lines.set(z,T[N--]);let F=0;for(let z=A.length-1;z>=0;z--)A[z].index+=F,this.lines.onInsertEmitter.fire(A[z]),F+=A[z].amount;const $=Math.max(0,P+E-this.lines.maxLength);$>0&&this.lines.onTrimEmitter.fire($)}}translateBufferLineToString(y,_,b=0,w){const E=this.lines.get(y);return E?E.translateToString(_,b,w):""}getWrappedRangeForLine(y){let _=y,b=y;for(;_>0&&this.lines.get(_).isWrapped;)_--;for(;b+1<this.lines.length&&this.lines.get(b+1).isWrapped;)b++;return{first:_,last:b}}setupTabStops(y){for(y!=null?this.tabs[y]||(y=this.prevStop(y)):(this.tabs={},y=0);y<this._cols;y+=this._optionsService.rawOptions.tabStopWidth)this.tabs[y]=!0}prevStop(y){for(y==null&&(y=this.x);!this.tabs[--y]&&y>0;);return y>=this._cols?this._cols-1:y<0?0:y}nextStop(y){for(y==null&&(y=this.x);!this.tabs[++y]&&y<this._cols;);return y>=this._cols?this._cols-1:y<0?0:y}clearMarkers(y){this._isClearing=!0;for(let _=0;_<this.markers.length;_++)this.markers[_].line===y&&(this.markers[_].dispose(),this.markers.splice(_--,1));this._isClearing=!1}clearAllMarkers(){this._isClearing=!0;for(let y=0;y<this.markers.length;y++)this.markers[y].dispose(),this.markers.splice(y--,1);this._isClearing=!1}addMarker(y){const _=new m.Marker(y);return this.markers.push(_),_.register(this.lines.onTrim(b=>{_.line-=b,_.line<0&&_.dispose()})),_.register(this.lines.onInsert(b=>{_.line>=b.index&&(_.line+=b.amount)})),_.register(this.lines.onDelete(b=>{_.line>=b.index&&_.line<b.index+b.amount&&_.dispose(),_.line>b.index&&(_.line-=b.amount)})),_.register(_.onDispose(()=>this._removeMarker(_))),_}_removeMarker(y){this._isClearing||this.markers.splice(this.markers.indexOf(y),1)}}},8437:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLine=a.DEFAULT_ATTR_DATA=void 0;const c=l(3734),f=l(511),d=l(643),h=l(482);a.DEFAULT_ATTR_DATA=Object.freeze(new c.AttributeData);let g=0;class v{constructor(m,p,y=!1){this.isWrapped=y,this._combined={},this._extendedAttrs={},this._data=new Uint32Array(3*m);const _=p||f.CellData.fromCharData([0,d.NULL_CELL_CHAR,d.NULL_CELL_WIDTH,d.NULL_CELL_CODE]);for(let b=0;b<m;++b)this.setCell(b,_);this.length=m}get(m){const p=this._data[3*m+0],y=2097151&p;return[this._data[3*m+1],2097152&p?this._combined[m]:y?(0,h.stringFromCodePoint)(y):"",p>>22,2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):y]}set(m,p){this._data[3*m+1]=p[d.CHAR_DATA_ATTR_INDEX],p[d.CHAR_DATA_CHAR_INDEX].length>1?(this._combined[m]=p[1],this._data[3*m+0]=2097152|m|p[d.CHAR_DATA_WIDTH_INDEX]<<22):this._data[3*m+0]=p[d.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|p[d.CHAR_DATA_WIDTH_INDEX]<<22}getWidth(m){return this._data[3*m+0]>>22}hasWidth(m){return 12582912&this._data[3*m+0]}getFg(m){return this._data[3*m+1]}getBg(m){return this._data[3*m+2]}hasContent(m){return 4194303&this._data[3*m+0]}getCodePoint(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m].charCodeAt(this._combined[m].length-1):2097151&p}isCombined(m){return 2097152&this._data[3*m+0]}getString(m){const p=this._data[3*m+0];return 2097152&p?this._combined[m]:2097151&p?(0,h.stringFromCodePoint)(2097151&p):""}isProtected(m){return 536870912&this._data[3*m+2]}loadCell(m,p){return g=3*m,p.content=this._data[g+0],p.fg=this._data[g+1],p.bg=this._data[g+2],2097152&p.content&&(p.combinedData=this._combined[m]),268435456&p.bg&&(p.extended=this._extendedAttrs[m]),p}setCell(m,p){2097152&p.content&&(this._combined[m]=p.combinedData),268435456&p.bg&&(this._extendedAttrs[m]=p.extended),this._data[3*m+0]=p.content,this._data[3*m+1]=p.fg,this._data[3*m+2]=p.bg}setCellFromCodePoint(m,p,y,_,b,w){268435456&b&&(this._extendedAttrs[m]=w),this._data[3*m+0]=p|y<<22,this._data[3*m+1]=_,this._data[3*m+2]=b}addCodepointToCell(m,p){let y=this._data[3*m+0];2097152&y?this._combined[m]+=(0,h.stringFromCodePoint)(p):(2097151&y?(this._combined[m]=(0,h.stringFromCodePoint)(2097151&y)+(0,h.stringFromCodePoint)(p),y&=-2097152,y|=2097152):y=p|4194304,this._data[3*m+0]=y)}insertCells(m,p,y,_){if((m%=this.length)&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length-m){const b=new f.CellData;for(let w=this.length-m-p-1;w>=0;--w)this.setCell(m+p+w,this.loadCell(m+w,b));for(let w=0;w<p;++w)this.setCell(m+w,y)}else for(let b=m;b<this.length;++b)this.setCell(b,y);this.getWidth(this.length-1)===2&&this.setCellFromCodePoint(this.length-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}deleteCells(m,p,y,_){if(m%=this.length,p<this.length-m){const b=new f.CellData;for(let w=0;w<this.length-m-p;++w)this.setCell(m+w,this.loadCell(m+p+w,b));for(let w=this.length-p;w<this.length;++w)this.setCell(w,y)}else for(let b=m;b<this.length;++b)this.setCell(b,y);m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),this.getWidth(m)!==0||this.hasContent(m)||this.setCellFromCodePoint(m,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs)}replaceCells(m,p,y,_,b=!1){if(b)for(m&&this.getWidth(m-1)===2&&!this.isProtected(m-1)&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&!this.isProtected(p)&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.isProtected(m)||this.setCell(m,y),m++;else for(m&&this.getWidth(m-1)===2&&this.setCellFromCodePoint(m-1,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs),p<this.length&&this.getWidth(p-1)===2&&this.setCellFromCodePoint(p,0,1,(_==null?void 0:_.fg)||0,(_==null?void 0:_.bg)||0,(_==null?void 0:_.extended)||new c.ExtendedAttrs);m<p&&m<this.length;)this.setCell(m++,y)}resize(m,p){if(m===this.length)return 4*this._data.length*2<this._data.buffer.byteLength;const y=3*m;if(m>this.length){if(this._data.buffer.byteLength>=4*y)this._data=new Uint32Array(this._data.buffer,0,y);else{const _=new Uint32Array(y);_.set(this._data),this._data=_}for(let _=this.length;_<m;++_)this.setCell(_,p)}else{this._data=this._data.subarray(0,y);const _=Object.keys(this._combined);for(let w=0;w<_.length;w++){const E=parseInt(_[w],10);E>=m&&delete this._combined[E]}const b=Object.keys(this._extendedAttrs);for(let w=0;w<b.length;w++){const E=parseInt(b[w],10);E>=m&&delete this._extendedAttrs[E]}}return this.length=m,4*y*2<this._data.buffer.byteLength}cleanupMemory(){if(4*this._data.length*2<this._data.buffer.byteLength){const m=new Uint32Array(this._data.length);return m.set(this._data),this._data=m,1}return 0}fill(m,p=!1){if(p)for(let y=0;y<this.length;++y)this.isProtected(y)||this.setCell(y,m);else{this._combined={},this._extendedAttrs={};for(let y=0;y<this.length;++y)this.setCell(y,m)}}copyFrom(m){this.length!==m.length?this._data=new Uint32Array(m._data):this._data.set(m._data),this.length=m.length,this._combined={};for(const p in m._combined)this._combined[p]=m._combined[p];this._extendedAttrs={};for(const p in m._extendedAttrs)this._extendedAttrs[p]=m._extendedAttrs[p];this.isWrapped=m.isWrapped}clone(){const m=new v(0);m._data=new Uint32Array(this._data),m.length=this.length;for(const p in this._combined)m._combined[p]=this._combined[p];for(const p in this._extendedAttrs)m._extendedAttrs[p]=this._extendedAttrs[p];return m.isWrapped=this.isWrapped,m}getTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0])return m+(this._data[3*m+0]>>22);return 0}getNoBgTrimmedLength(){for(let m=this.length-1;m>=0;--m)if(4194303&this._data[3*m+0]||50331648&this._data[3*m+2])return m+(this._data[3*m+0]>>22);return 0}copyCellsFrom(m,p,y,_,b){const w=m._data;if(b)for(let A=_-1;A>=0;A--){for(let T=0;T<3;T++)this._data[3*(y+A)+T]=w[3*(p+A)+T];268435456&w[3*(p+A)+2]&&(this._extendedAttrs[y+A]=m._extendedAttrs[p+A])}else for(let A=0;A<_;A++){for(let T=0;T<3;T++)this._data[3*(y+A)+T]=w[3*(p+A)+T];268435456&w[3*(p+A)+2]&&(this._extendedAttrs[y+A]=m._extendedAttrs[p+A])}const E=Object.keys(m._combined);for(let A=0;A<E.length;A++){const T=parseInt(E[A],10);T>=p&&(this._combined[T-p+y]=m._combined[T])}}translateToString(m=!1,p=0,y=this.length){m&&(y=Math.min(y,this.getTrimmedLength()));let _="";for(;p<y;){const b=this._data[3*p+0],w=2097151&b;_+=2097152&b?this._combined[p]:w?(0,h.stringFromCodePoint)(w):d.WHITESPACE_CELL_CHAR,p+=b>>22||1}return _}}a.BufferLine=v},4841:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.getRangeLength=void 0,a.getRangeLength=function(l,c){if(l.start.y>l.end.y)throw new Error(`Buffer range end (${l.end.x}, ${l.end.y}) cannot be before start (${l.start.x}, ${l.start.y})`);return c*(l.end.y-l.start.y)+(l.end.x-l.start.x+1)}},4634:(o,a)=>{function l(c,f,d){if(f===c.length-1)return c[f].getTrimmedLength();const h=!c[f].hasContent(d-1)&&c[f].getWidth(d-1)===1,g=c[f+1].getWidth(0)===2;return h&&g?d-1:d}Object.defineProperty(a,"__esModule",{value:!0}),a.getWrappedLineTrimmedLength=a.reflowSmallerGetNewLineLengths=a.reflowLargerApplyNewLayout=a.reflowLargerCreateNewLayout=a.reflowLargerGetLinesToRemove=void 0,a.reflowLargerGetLinesToRemove=function(c,f,d,h,g){const v=[];for(let x=0;x<c.length-1;x++){let m=x,p=c.get(++m);if(!p.isWrapped)continue;const y=[c.get(x)];for(;m<c.length&&p.isWrapped;)y.push(p),p=c.get(++m);if(h>=x&&h<m){x+=y.length-1;continue}let _=0,b=l(y,_,f),w=1,E=0;for(;w<y.length;){const T=l(y,w,f),P=T-E,N=d-b,O=Math.min(P,N);y[_].copyCellsFrom(y[w],E,b,O,!1),b+=O,b===d&&(_++,b=0),E+=O,E===T&&(w++,E=0),b===0&&_!==0&&y[_-1].getWidth(d-1)===2&&(y[_].copyCellsFrom(y[_-1],d-1,b++,1,!1),y[_-1].setCell(d-1,g))}y[_].replaceCells(b,d,g);let A=0;for(let T=y.length-1;T>0&&(T>_||y[T].getTrimmedLength()===0);T--)A++;A>0&&(v.push(x+y.length-A),v.push(A)),x+=y.length-1}return v},a.reflowLargerCreateNewLayout=function(c,f){const d=[];let h=0,g=f[h],v=0;for(let x=0;x<c.length;x++)if(g===x){const m=f[++h];c.onDeleteEmitter.fire({index:x-v,amount:m}),x+=m-1,v+=m,g=f[++h]}else d.push(x);return{layout:d,countRemoved:v}},a.reflowLargerApplyNewLayout=function(c,f){const d=[];for(let h=0;h<f.length;h++)d.push(c.get(f[h]));for(let h=0;h<d.length;h++)c.set(h,d[h]);c.length=f.length},a.reflowSmallerGetNewLineLengths=function(c,f,d){const h=[],g=c.map((p,y)=>l(c,y,f)).reduce((p,y)=>p+y);let v=0,x=0,m=0;for(;m<g;){if(g-m<d){h.push(g-m);break}v+=d;const p=l(c,x,f);v>p&&(v-=p,x++);const y=c[x].getWidth(v-1)===2;y&&v--;const _=y?d-1:d;h.push(_),m+=_}return h},a.getWrappedLineTrimmedLength=l},5295:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferSet=void 0;const c=l(8460),f=l(844),d=l(9092);class h extends f.Disposable{constructor(v,x){super(),this._optionsService=v,this._bufferService=x,this._onBufferActivate=this.register(new c.EventEmitter),this.onBufferActivate=this._onBufferActivate.event,this.reset(),this.register(this._optionsService.onSpecificOptionChange("scrollback",()=>this.resize(this._bufferService.cols,this._bufferService.rows))),this.register(this._optionsService.onSpecificOptionChange("tabStopWidth",()=>this.setupTabStops()))}reset(){this._normal=new d.Buffer(!0,this._optionsService,this._bufferService),this._normal.fillViewportRows(),this._alt=new d.Buffer(!1,this._optionsService,this._bufferService),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}),this.setupTabStops()}get alt(){return this._alt}get active(){return this._activeBuffer}get normal(){return this._normal}activateNormalBuffer(){this._activeBuffer!==this._normal&&(this._normal.x=this._alt.x,this._normal.y=this._alt.y,this._alt.clearAllMarkers(),this._alt.clear(),this._activeBuffer=this._normal,this._onBufferActivate.fire({activeBuffer:this._normal,inactiveBuffer:this._alt}))}activateAltBuffer(v){this._activeBuffer!==this._alt&&(this._alt.fillViewportRows(v),this._alt.x=this._normal.x,this._alt.y=this._normal.y,this._activeBuffer=this._alt,this._onBufferActivate.fire({activeBuffer:this._alt,inactiveBuffer:this._normal}))}resize(v,x){this._normal.resize(v,x),this._alt.resize(v,x),this.setupTabStops(v)}setupTabStops(v){this._normal.setupTabStops(v),this._alt.setupTabStops(v)}}a.BufferSet=h},511:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CellData=void 0;const c=l(482),f=l(643),d=l(3734);class h extends d.AttributeData{constructor(){super(...arguments),this.content=0,this.fg=0,this.bg=0,this.extended=new d.ExtendedAttrs,this.combinedData=""}static fromCharData(v){const x=new h;return x.setFromCharData(v),x}isCombined(){return 2097152&this.content}getWidth(){return this.content>>22}getChars(){return 2097152&this.content?this.combinedData:2097151&this.content?(0,c.stringFromCodePoint)(2097151&this.content):""}getCode(){return this.isCombined()?this.combinedData.charCodeAt(this.combinedData.length-1):2097151&this.content}setFromCharData(v){this.fg=v[f.CHAR_DATA_ATTR_INDEX],this.bg=0;let x=!1;if(v[f.CHAR_DATA_CHAR_INDEX].length>2)x=!0;else if(v[f.CHAR_DATA_CHAR_INDEX].length===2){const m=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0);if(55296<=m&&m<=56319){const p=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(1);56320<=p&&p<=57343?this.content=1024*(m-55296)+p-56320+65536|v[f.CHAR_DATA_WIDTH_INDEX]<<22:x=!0}else x=!0}else this.content=v[f.CHAR_DATA_CHAR_INDEX].charCodeAt(0)|v[f.CHAR_DATA_WIDTH_INDEX]<<22;x&&(this.combinedData=v[f.CHAR_DATA_CHAR_INDEX],this.content=2097152|v[f.CHAR_DATA_WIDTH_INDEX]<<22)}getAsCharData(){return[this.fg,this.getChars(),this.getWidth(),this.getCode()]}}a.CellData=h},643:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WHITESPACE_CELL_CODE=a.WHITESPACE_CELL_WIDTH=a.WHITESPACE_CELL_CHAR=a.NULL_CELL_CODE=a.NULL_CELL_WIDTH=a.NULL_CELL_CHAR=a.CHAR_DATA_CODE_INDEX=a.CHAR_DATA_WIDTH_INDEX=a.CHAR_DATA_CHAR_INDEX=a.CHAR_DATA_ATTR_INDEX=a.DEFAULT_EXT=a.DEFAULT_ATTR=a.DEFAULT_COLOR=void 0,a.DEFAULT_COLOR=0,a.DEFAULT_ATTR=256|a.DEFAULT_COLOR<<9,a.DEFAULT_EXT=0,a.CHAR_DATA_ATTR_INDEX=0,a.CHAR_DATA_CHAR_INDEX=1,a.CHAR_DATA_WIDTH_INDEX=2,a.CHAR_DATA_CODE_INDEX=3,a.NULL_CELL_CHAR="",a.NULL_CELL_WIDTH=1,a.NULL_CELL_CODE=0,a.WHITESPACE_CELL_CHAR=" ",a.WHITESPACE_CELL_WIDTH=1,a.WHITESPACE_CELL_CODE=32},4863:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Marker=void 0;const c=l(8460),f=l(844);class d{get id(){return this._id}constructor(g){this.line=g,this.isDisposed=!1,this._disposables=[],this._id=d._nextId++,this._onDispose=this.register(new c.EventEmitter),this.onDispose=this._onDispose.event}dispose(){this.isDisposed||(this.isDisposed=!0,this.line=-1,this._onDispose.fire(),(0,f.disposeArray)(this._disposables),this._disposables.length=0)}register(g){return this._disposables.push(g),g}}a.Marker=d,d._nextId=1},7116:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_CHARSET=a.CHARSETS=void 0,a.CHARSETS={},a.DEFAULT_CHARSET=a.CHARSETS.B,a.CHARSETS[0]={"`":"",a:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",p:"",q:"",r:"",s:"",t:"",u:"",v:"",w:"",x:"",y:"",z:"","{":"","|":"","}":"","~":""},a.CHARSETS.A={"#":""},a.CHARSETS.B=void 0,a.CHARSETS[4]={"#":"","@":"","[":"ij","\\":"","]":"|","{":"","|":"f","}":"","~":""},a.CHARSETS.C=a.CHARSETS[5]={"[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.R={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Q={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.K={"@":"","[":"","\\":"","]":"","{":"","|":"","}":"","~":""},a.CHARSETS.Y={"#":"","@":"","[":"","\\":"","]":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.E=a.CHARSETS[6]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS.Z={"#":"","@":"","[":"","\\":"","]":"","{":"","|":"","}":""},a.CHARSETS.H=a.CHARSETS[7]={"@":"","[":"","\\":"","]":"","^":"","`":"","{":"","|":"","}":"","~":""},a.CHARSETS["="]={"#":"","@":"","[":"","\\":"","]":"","^":"",_:"","`":"","{":"","|":"","}":"","~":""}},2584:(o,a)=>{var l,c,f;Object.defineProperty(a,"__esModule",{value:!0}),a.C1_ESCAPED=a.C1=a.C0=void 0,function(d){d.NUL="\0",d.SOH="",d.STX="",d.ETX="",d.EOT="",d.ENQ="",d.ACK="",d.BEL="\x07",d.BS="\b",d.HT="	",d.LF=`
`,d.VT="\v",d.FF="\f",d.CR="\r",d.SO="",d.SI="",d.DLE="",d.DC1="",d.DC2="",d.DC3="",d.DC4="",d.NAK="",d.SYN="",d.ETB="",d.CAN="",d.EM="",d.SUB="",d.ESC="\x1B",d.FS="",d.GS="",d.RS="",d.US="",d.SP=" ",d.DEL=""}(l||(a.C0=l={})),function(d){d.PAD="",d.HOP="",d.BPH="",d.NBH="",d.IND="",d.NEL="",d.SSA="",d.ESA="",d.HTS="",d.HTJ="",d.VTS="",d.PLD="",d.PLU="",d.RI="",d.SS2="",d.SS3="",d.DCS="",d.PU1="",d.PU2="",d.STS="",d.CCH="",d.MW="",d.SPA="",d.EPA="",d.SOS="",d.SGCI="",d.SCI="",d.CSI="",d.ST="",d.OSC="",d.PM="",d.APC=""}(c||(a.C1=c={})),function(d){d.ST=`${l.ESC}\\`}(f||(a.C1_ESCAPED=f={}))},7399:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.evaluateKeyboardEvent=void 0;const c=l(2584),f={48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"']};a.evaluateKeyboardEvent=function(d,h,g,v){const x={type:0,cancel:!1,key:void 0},m=(d.shiftKey?1:0)|(d.altKey?2:0)|(d.ctrlKey?4:0)|(d.metaKey?8:0);switch(d.keyCode){case 0:d.key==="UIKeyInputUpArrow"?x.key=h?c.C0.ESC+"OA":c.C0.ESC+"[A":d.key==="UIKeyInputLeftArrow"?x.key=h?c.C0.ESC+"OD":c.C0.ESC+"[D":d.key==="UIKeyInputRightArrow"?x.key=h?c.C0.ESC+"OC":c.C0.ESC+"[C":d.key==="UIKeyInputDownArrow"&&(x.key=h?c.C0.ESC+"OB":c.C0.ESC+"[B");break;case 8:if(d.altKey){x.key=c.C0.ESC+c.C0.DEL;break}x.key=c.C0.DEL;break;case 9:if(d.shiftKey){x.key=c.C0.ESC+"[Z";break}x.key=c.C0.HT,x.cancel=!0;break;case 13:x.key=d.altKey?c.C0.ESC+c.C0.CR:c.C0.CR,x.cancel=!0;break;case 27:x.key=c.C0.ESC,d.altKey&&(x.key=c.C0.ESC+c.C0.ESC),x.cancel=!0;break;case 37:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"D",x.key===c.C0.ESC+"[1;3D"&&(x.key=c.C0.ESC+(g?"b":"[1;5D"))):x.key=h?c.C0.ESC+"OD":c.C0.ESC+"[D";break;case 39:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"C",x.key===c.C0.ESC+"[1;3C"&&(x.key=c.C0.ESC+(g?"f":"[1;5C"))):x.key=h?c.C0.ESC+"OC":c.C0.ESC+"[C";break;case 38:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"A",g||x.key!==c.C0.ESC+"[1;3A"||(x.key=c.C0.ESC+"[1;5A")):x.key=h?c.C0.ESC+"OA":c.C0.ESC+"[A";break;case 40:if(d.metaKey)break;m?(x.key=c.C0.ESC+"[1;"+(m+1)+"B",g||x.key!==c.C0.ESC+"[1;3B"||(x.key=c.C0.ESC+"[1;5B")):x.key=h?c.C0.ESC+"OB":c.C0.ESC+"[B";break;case 45:d.shiftKey||d.ctrlKey||(x.key=c.C0.ESC+"[2~");break;case 46:x.key=m?c.C0.ESC+"[3;"+(m+1)+"~":c.C0.ESC+"[3~";break;case 36:x.key=m?c.C0.ESC+"[1;"+(m+1)+"H":h?c.C0.ESC+"OH":c.C0.ESC+"[H";break;case 35:x.key=m?c.C0.ESC+"[1;"+(m+1)+"F":h?c.C0.ESC+"OF":c.C0.ESC+"[F";break;case 33:d.shiftKey?x.type=2:d.ctrlKey?x.key=c.C0.ESC+"[5;"+(m+1)+"~":x.key=c.C0.ESC+"[5~";break;case 34:d.shiftKey?x.type=3:d.ctrlKey?x.key=c.C0.ESC+"[6;"+(m+1)+"~":x.key=c.C0.ESC+"[6~";break;case 112:x.key=m?c.C0.ESC+"[1;"+(m+1)+"P":c.C0.ESC+"OP";break;case 113:x.key=m?c.C0.ESC+"[1;"+(m+1)+"Q":c.C0.ESC+"OQ";break;case 114:x.key=m?c.C0.ESC+"[1;"+(m+1)+"R":c.C0.ESC+"OR";break;case 115:x.key=m?c.C0.ESC+"[1;"+(m+1)+"S":c.C0.ESC+"OS";break;case 116:x.key=m?c.C0.ESC+"[15;"+(m+1)+"~":c.C0.ESC+"[15~";break;case 117:x.key=m?c.C0.ESC+"[17;"+(m+1)+"~":c.C0.ESC+"[17~";break;case 118:x.key=m?c.C0.ESC+"[18;"+(m+1)+"~":c.C0.ESC+"[18~";break;case 119:x.key=m?c.C0.ESC+"[19;"+(m+1)+"~":c.C0.ESC+"[19~";break;case 120:x.key=m?c.C0.ESC+"[20;"+(m+1)+"~":c.C0.ESC+"[20~";break;case 121:x.key=m?c.C0.ESC+"[21;"+(m+1)+"~":c.C0.ESC+"[21~";break;case 122:x.key=m?c.C0.ESC+"[23;"+(m+1)+"~":c.C0.ESC+"[23~";break;case 123:x.key=m?c.C0.ESC+"[24;"+(m+1)+"~":c.C0.ESC+"[24~";break;default:if(!d.ctrlKey||d.shiftKey||d.altKey||d.metaKey)if(g&&!v||!d.altKey||d.metaKey)!g||d.altKey||d.ctrlKey||d.shiftKey||!d.metaKey?d.key&&!d.ctrlKey&&!d.altKey&&!d.metaKey&&d.keyCode>=48&&d.key.length===1?x.key=d.key:d.key&&d.ctrlKey&&(d.key==="_"&&(x.key=c.C0.US),d.key==="@"&&(x.key=c.C0.NUL)):d.keyCode===65&&(x.type=1);else{const p=f[d.keyCode],y=p==null?void 0:p[d.shiftKey?1:0];if(y)x.key=c.C0.ESC+y;else if(d.keyCode>=65&&d.keyCode<=90){const _=d.ctrlKey?d.keyCode-64:d.keyCode+32;let b=String.fromCharCode(_);d.shiftKey&&(b=b.toUpperCase()),x.key=c.C0.ESC+b}else if(d.keyCode===32)x.key=c.C0.ESC+(d.ctrlKey?c.C0.NUL:" ");else if(d.key==="Dead"&&d.code.startsWith("Key")){let _=d.code.slice(3,4);d.shiftKey||(_=_.toLowerCase()),x.key=c.C0.ESC+_,x.cancel=!0}}else d.keyCode>=65&&d.keyCode<=90?x.key=String.fromCharCode(d.keyCode-64):d.keyCode===32?x.key=c.C0.NUL:d.keyCode>=51&&d.keyCode<=55?x.key=String.fromCharCode(d.keyCode-51+27):d.keyCode===56?x.key=c.C0.DEL:d.keyCode===219?x.key=c.C0.ESC:d.keyCode===220?x.key=c.C0.FS:d.keyCode===221&&(x.key=c.C0.GS)}return x}},482:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Utf8ToUtf32=a.StringToUtf32=a.utf32ToString=a.stringFromCodePoint=void 0,a.stringFromCodePoint=function(l){return l>65535?(l-=65536,String.fromCharCode(55296+(l>>10))+String.fromCharCode(l%1024+56320)):String.fromCharCode(l)},a.utf32ToString=function(l,c=0,f=l.length){let d="";for(let h=c;h<f;++h){let g=l[h];g>65535?(g-=65536,d+=String.fromCharCode(55296+(g>>10))+String.fromCharCode(g%1024+56320)):d+=String.fromCharCode(g)}return d},a.StringToUtf32=class{constructor(){this._interim=0}clear(){this._interim=0}decode(l,c){const f=l.length;if(!f)return 0;let d=0,h=0;if(this._interim){const g=l.charCodeAt(h++);56320<=g&&g<=57343?c[d++]=1024*(this._interim-55296)+g-56320+65536:(c[d++]=this._interim,c[d++]=g),this._interim=0}for(let g=h;g<f;++g){const v=l.charCodeAt(g);if(55296<=v&&v<=56319){if(++g>=f)return this._interim=v,d;const x=l.charCodeAt(g);56320<=x&&x<=57343?c[d++]=1024*(v-55296)+x-56320+65536:(c[d++]=v,c[d++]=x)}else v!==65279&&(c[d++]=v)}return d}},a.Utf8ToUtf32=class{constructor(){this.interim=new Uint8Array(3)}clear(){this.interim.fill(0)}decode(l,c){const f=l.length;if(!f)return 0;let d,h,g,v,x=0,m=0,p=0;if(this.interim[0]){let b=!1,w=this.interim[0];w&=(224&w)==192?31:(240&w)==224?15:7;let E,A=0;for(;(E=63&this.interim[++A])&&A<4;)w<<=6,w|=E;const T=(224&this.interim[0])==192?2:(240&this.interim[0])==224?3:4,P=T-A;for(;p<P;){if(p>=f)return 0;if(E=l[p++],(192&E)!=128){p--,b=!0;break}this.interim[A++]=E,w<<=6,w|=63&E}b||(T===2?w<128?p--:c[x++]=w:T===3?w<2048||w>=55296&&w<=57343||w===65279||(c[x++]=w):w<65536||w>1114111||(c[x++]=w)),this.interim.fill(0)}const y=f-4;let _=p;for(;_<f;){for(;!(!(_<y)||128&(d=l[_])||128&(h=l[_+1])||128&(g=l[_+2])||128&(v=l[_+3]));)c[x++]=d,c[x++]=h,c[x++]=g,c[x++]=v,_+=4;if(d=l[_++],d<128)c[x++]=d;else if((224&d)==192){if(_>=f)return this.interim[0]=d,x;if(h=l[_++],(192&h)!=128){_--;continue}if(m=(31&d)<<6|63&h,m<128){_--;continue}c[x++]=m}else if((240&d)==224){if(_>=f)return this.interim[0]=d,x;if(h=l[_++],(192&h)!=128){_--;continue}if(_>=f)return this.interim[0]=d,this.interim[1]=h,x;if(g=l[_++],(192&g)!=128){_--;continue}if(m=(15&d)<<12|(63&h)<<6|63&g,m<2048||m>=55296&&m<=57343||m===65279)continue;c[x++]=m}else if((248&d)==240){if(_>=f)return this.interim[0]=d,x;if(h=l[_++],(192&h)!=128){_--;continue}if(_>=f)return this.interim[0]=d,this.interim[1]=h,x;if(g=l[_++],(192&g)!=128){_--;continue}if(_>=f)return this.interim[0]=d,this.interim[1]=h,this.interim[2]=g,x;if(v=l[_++],(192&v)!=128){_--;continue}if(m=(7&d)<<18|(63&h)<<12|(63&g)<<6|63&v,m<65536||m>1114111)continue;c[x++]=m}}return x}}},225:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeV6=void 0;const l=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531]],c=[[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]];let f;a.UnicodeV6=class{constructor(){if(this.version="6",!f){f=new Uint8Array(65536),f.fill(1),f[0]=0,f.fill(0,1,32),f.fill(0,127,160),f.fill(2,4352,4448),f[9001]=2,f[9002]=2,f.fill(2,11904,42192),f[12351]=1,f.fill(2,44032,55204),f.fill(2,63744,64256),f.fill(2,65040,65050),f.fill(2,65072,65136),f.fill(2,65280,65377),f.fill(2,65504,65511);for(let d=0;d<l.length;++d)f.fill(0,l[d][0],l[d][1]+1)}}wcwidth(d){return d<32?0:d<127?1:d<65536?f[d]:function(h,g){let v,x=0,m=g.length-1;if(h<g[0][0]||h>g[m][1])return!1;for(;m>=x;)if(v=x+m>>1,h>g[v][1])x=v+1;else{if(!(h<g[v][0]))return!0;m=v-1}return!1}(d,c)?0:d>=131072&&d<=196605||d>=196608&&d<=262141?2:1}}},5981:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.WriteBuffer=void 0;const c=l(8460),f=l(844);class d extends f.Disposable{constructor(g){super(),this._action=g,this._writeBuffer=[],this._callbacks=[],this._pendingData=0,this._bufferOffset=0,this._isSyncWriting=!1,this._syncCalls=0,this._didUserInput=!1,this._onWriteParsed=this.register(new c.EventEmitter),this.onWriteParsed=this._onWriteParsed.event}handleUserInput(){this._didUserInput=!0}writeSync(g,v){if(v!==void 0&&this._syncCalls>v)return void(this._syncCalls=0);if(this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(void 0),this._syncCalls++,this._isSyncWriting)return;let x;for(this._isSyncWriting=!0;x=this._writeBuffer.shift();){this._action(x);const m=this._callbacks.shift();m&&m()}this._pendingData=0,this._bufferOffset=2147483647,this._isSyncWriting=!1,this._syncCalls=0}write(g,v){if(this._pendingData>5e7)throw new Error("write data discarded, use flow control to avoid losing data");if(!this._writeBuffer.length){if(this._bufferOffset=0,this._didUserInput)return this._didUserInput=!1,this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v),void this._innerWrite();setTimeout(()=>this._innerWrite())}this._pendingData+=g.length,this._writeBuffer.push(g),this._callbacks.push(v)}_innerWrite(g=0,v=!0){const x=g||Date.now();for(;this._writeBuffer.length>this._bufferOffset;){const m=this._writeBuffer[this._bufferOffset],p=this._action(m,v);if(p){const _=b=>Date.now()-x>=12?setTimeout(()=>this._innerWrite(0,b)):this._innerWrite(x,b);return void p.catch(b=>(queueMicrotask(()=>{throw b}),Promise.resolve(!1))).then(_)}const y=this._callbacks[this._bufferOffset];if(y&&y(),this._bufferOffset++,this._pendingData-=m.length,Date.now()-x>=12)break}this._writeBuffer.length>this._bufferOffset?(this._bufferOffset>50&&(this._writeBuffer=this._writeBuffer.slice(this._bufferOffset),this._callbacks=this._callbacks.slice(this._bufferOffset),this._bufferOffset=0),setTimeout(()=>this._innerWrite())):(this._writeBuffer.length=0,this._callbacks.length=0,this._pendingData=0,this._bufferOffset=0),this._onWriteParsed.fire()}}a.WriteBuffer=d},5941:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.toRgbString=a.parseColor=void 0;const l=/^([\da-f])\/([\da-f])\/([\da-f])$|^([\da-f]{2})\/([\da-f]{2})\/([\da-f]{2})$|^([\da-f]{3})\/([\da-f]{3})\/([\da-f]{3})$|^([\da-f]{4})\/([\da-f]{4})\/([\da-f]{4})$/,c=/^[\da-f]+$/;function f(d,h){const g=d.toString(16),v=g.length<2?"0"+g:g;switch(h){case 4:return g[0];case 8:return v;case 12:return(v+v).slice(0,3);default:return v+v}}a.parseColor=function(d){if(!d)return;let h=d.toLowerCase();if(h.indexOf("rgb:")===0){h=h.slice(4);const g=l.exec(h);if(g){const v=g[1]?15:g[4]?255:g[7]?4095:65535;return[Math.round(parseInt(g[1]||g[4]||g[7]||g[10],16)/v*255),Math.round(parseInt(g[2]||g[5]||g[8]||g[11],16)/v*255),Math.round(parseInt(g[3]||g[6]||g[9]||g[12],16)/v*255)]}}else if(h.indexOf("#")===0&&(h=h.slice(1),c.exec(h)&&[3,6,9,12].includes(h.length))){const g=h.length/3,v=[0,0,0];for(let x=0;x<3;++x){const m=parseInt(h.slice(g*x,g*x+g),16);v[x]=g===1?m<<4:g===2?m:g===3?m>>4:m>>8}return v}},a.toRgbString=function(d,h=16){const[g,v,x]=d;return`rgb:${f(g,h)}/${f(v,h)}/${f(x,h)}`}},5770:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.PAYLOAD_LIMIT=void 0,a.PAYLOAD_LIMIT=1e7},6351:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DcsHandler=a.DcsParser=void 0;const c=l(482),f=l(8742),d=l(5770),h=[];a.DcsParser=class{constructor(){this._handlers=Object.create(null),this._active=h,this._ident=0,this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=h}registerHandler(v,x){this._handlers[v]===void 0&&(this._handlers[v]=[]);const m=this._handlers[v];return m.push(x),{dispose:()=>{const p=m.indexOf(x);p!==-1&&m.splice(p,1)}}}clearHandler(v){this._handlers[v]&&delete this._handlers[v]}setHandlerFallback(v){this._handlerFb=v}reset(){if(this._active.length)for(let v=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;v>=0;--v)this._active[v].unhook(!1);this._stack.paused=!1,this._active=h,this._ident=0}hook(v,x){if(this.reset(),this._ident=v,this._active=this._handlers[v]||h,this._active.length)for(let m=this._active.length-1;m>=0;m--)this._active[m].hook(x);else this._handlerFb(this._ident,"HOOK",x)}put(v,x,m){if(this._active.length)for(let p=this._active.length-1;p>=0;p--)this._active[p].put(v,x,m);else this._handlerFb(this._ident,"PUT",(0,c.utf32ToString)(v,x,m))}unhook(v,x=!0){if(this._active.length){let m=!1,p=this._active.length-1,y=!1;if(this._stack.paused&&(p=this._stack.loopPosition-1,m=x,y=this._stack.fallThrough,this._stack.paused=!1),!y&&m===!1){for(;p>=0&&(m=this._active[p].unhook(v),m!==!0);p--)if(m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!1,m;p--}for(;p>=0;p--)if(m=this._active[p].unhook(!1),m instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=p,this._stack.fallThrough=!0,m}else this._handlerFb(this._ident,"UNHOOK",v);this._active=h,this._ident=0}};const g=new f.Params;g.addParam(0),a.DcsHandler=class{constructor(v){this._handler=v,this._data="",this._params=g,this._hitLimit=!1}hook(v){this._params=v.length>1||v.params[0]?v.clone():g,this._data="",this._hitLimit=!1}put(v,x,m){this._hitLimit||(this._data+=(0,c.utf32ToString)(v,x,m),this._data.length>d.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}unhook(v){let x=!1;if(this._hitLimit)x=!1;else if(v&&(x=this._handler(this._data,this._params),x instanceof Promise))return x.then(m=>(this._params=g,this._data="",this._hitLimit=!1,m));return this._params=g,this._data="",this._hitLimit=!1,x}}},2015:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.EscapeSequenceParser=a.VT500_TRANSITION_TABLE=a.TransitionTable=void 0;const c=l(844),f=l(8742),d=l(6242),h=l(6351);class g{constructor(p){this.table=new Uint8Array(p)}setDefault(p,y){this.table.fill(p<<4|y)}add(p,y,_,b){this.table[y<<8|p]=_<<4|b}addMany(p,y,_,b){for(let w=0;w<p.length;w++)this.table[y<<8|p[w]]=_<<4|b}}a.TransitionTable=g;const v=160;a.VT500_TRANSITION_TABLE=function(){const m=new g(4095),p=Array.apply(null,Array(256)).map((A,T)=>T),y=(A,T)=>p.slice(A,T),_=y(32,127),b=y(0,24);b.push(25),b.push.apply(b,y(28,32));const w=y(0,14);let E;for(E in m.setDefault(1,0),m.addMany(_,0,2,0),w)m.addMany([24,26,153,154],E,3,0),m.addMany(y(128,144),E,3,0),m.addMany(y(144,152),E,3,0),m.add(156,E,0,0),m.add(27,E,11,1),m.add(157,E,4,8),m.addMany([152,158,159],E,0,7),m.add(155,E,11,3),m.add(144,E,11,9);return m.addMany(b,0,3,0),m.addMany(b,1,3,1),m.add(127,1,0,1),m.addMany(b,8,0,8),m.addMany(b,3,3,3),m.add(127,3,0,3),m.addMany(b,4,3,4),m.add(127,4,0,4),m.addMany(b,6,3,6),m.addMany(b,5,3,5),m.add(127,5,0,5),m.addMany(b,2,3,2),m.add(127,2,0,2),m.add(93,1,4,8),m.addMany(_,8,5,8),m.add(127,8,5,8),m.addMany([156,27,24,26,7],8,6,0),m.addMany(y(28,32),8,0,8),m.addMany([88,94,95],1,0,7),m.addMany(_,7,0,7),m.addMany(b,7,0,7),m.add(156,7,0,0),m.add(127,7,0,7),m.add(91,1,11,3),m.addMany(y(64,127),3,7,0),m.addMany(y(48,60),3,8,4),m.addMany([60,61,62,63],3,9,4),m.addMany(y(48,60),4,8,4),m.addMany(y(64,127),4,7,0),m.addMany([60,61,62,63],4,0,6),m.addMany(y(32,64),6,0,6),m.add(127,6,0,6),m.addMany(y(64,127),6,0,0),m.addMany(y(32,48),3,9,5),m.addMany(y(32,48),5,9,5),m.addMany(y(48,64),5,0,6),m.addMany(y(64,127),5,7,0),m.addMany(y(32,48),4,9,5),m.addMany(y(32,48),1,9,2),m.addMany(y(32,48),2,9,2),m.addMany(y(48,127),2,10,0),m.addMany(y(48,80),1,10,0),m.addMany(y(81,88),1,10,0),m.addMany([89,90,92],1,10,0),m.addMany(y(96,127),1,10,0),m.add(80,1,11,9),m.addMany(b,9,0,9),m.add(127,9,0,9),m.addMany(y(28,32),9,0,9),m.addMany(y(32,48),9,9,12),m.addMany(y(48,60),9,8,10),m.addMany([60,61,62,63],9,9,10),m.addMany(b,11,0,11),m.addMany(y(32,128),11,0,11),m.addMany(y(28,32),11,0,11),m.addMany(b,10,0,10),m.add(127,10,0,10),m.addMany(y(28,32),10,0,10),m.addMany(y(48,60),10,8,10),m.addMany([60,61,62,63],10,0,11),m.addMany(y(32,48),10,9,12),m.addMany(b,12,0,12),m.add(127,12,0,12),m.addMany(y(28,32),12,0,12),m.addMany(y(32,48),12,9,12),m.addMany(y(48,64),12,0,11),m.addMany(y(64,127),12,12,13),m.addMany(y(64,127),10,12,13),m.addMany(y(64,127),9,12,13),m.addMany(b,13,13,13),m.addMany(_,13,13,13),m.add(127,13,0,13),m.addMany([27,156,24,26],13,14,0),m.add(v,0,2,0),m.add(v,8,5,8),m.add(v,6,0,6),m.add(v,11,0,11),m.add(v,13,13,13),m}();class x extends c.Disposable{constructor(p=a.VT500_TRANSITION_TABLE){super(),this._transitions=p,this._parseStack={state:0,handlers:[],handlerPos:0,transition:0,chunkPos:0},this.initialState=0,this.currentState=this.initialState,this._params=new f.Params,this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._printHandlerFb=(y,_,b)=>{},this._executeHandlerFb=y=>{},this._csiHandlerFb=(y,_)=>{},this._escHandlerFb=y=>{},this._errorHandlerFb=y=>y,this._printHandler=this._printHandlerFb,this._executeHandlers=Object.create(null),this._csiHandlers=Object.create(null),this._escHandlers=Object.create(null),this.register((0,c.toDisposable)(()=>{this._csiHandlers=Object.create(null),this._executeHandlers=Object.create(null),this._escHandlers=Object.create(null)})),this._oscParser=this.register(new d.OscParser),this._dcsParser=this.register(new h.DcsParser),this._errorHandler=this._errorHandlerFb,this.registerEscHandler({final:"\\"},()=>!0)}_identifier(p,y=[64,126]){let _=0;if(p.prefix){if(p.prefix.length>1)throw new Error("only one byte as prefix supported");if(_=p.prefix.charCodeAt(0),_&&60>_||_>63)throw new Error("prefix must be in range 0x3c .. 0x3f")}if(p.intermediates){if(p.intermediates.length>2)throw new Error("only two bytes as intermediates are supported");for(let w=0;w<p.intermediates.length;++w){const E=p.intermediates.charCodeAt(w);if(32>E||E>47)throw new Error("intermediate must be in range 0x20 .. 0x2f");_<<=8,_|=E}}if(p.final.length!==1)throw new Error("final must be a single byte");const b=p.final.charCodeAt(0);if(y[0]>b||b>y[1])throw new Error(`final must be in range ${y[0]} .. ${y[1]}`);return _<<=8,_|=b,_}identToString(p){const y=[];for(;p;)y.push(String.fromCharCode(255&p)),p>>=8;return y.reverse().join("")}setPrintHandler(p){this._printHandler=p}clearPrintHandler(){this._printHandler=this._printHandlerFb}registerEscHandler(p,y){const _=this._identifier(p,[48,126]);this._escHandlers[_]===void 0&&(this._escHandlers[_]=[]);const b=this._escHandlers[_];return b.push(y),{dispose:()=>{const w=b.indexOf(y);w!==-1&&b.splice(w,1)}}}clearEscHandler(p){this._escHandlers[this._identifier(p,[48,126])]&&delete this._escHandlers[this._identifier(p,[48,126])]}setEscHandlerFallback(p){this._escHandlerFb=p}setExecuteHandler(p,y){this._executeHandlers[p.charCodeAt(0)]=y}clearExecuteHandler(p){this._executeHandlers[p.charCodeAt(0)]&&delete this._executeHandlers[p.charCodeAt(0)]}setExecuteHandlerFallback(p){this._executeHandlerFb=p}registerCsiHandler(p,y){const _=this._identifier(p);this._csiHandlers[_]===void 0&&(this._csiHandlers[_]=[]);const b=this._csiHandlers[_];return b.push(y),{dispose:()=>{const w=b.indexOf(y);w!==-1&&b.splice(w,1)}}}clearCsiHandler(p){this._csiHandlers[this._identifier(p)]&&delete this._csiHandlers[this._identifier(p)]}setCsiHandlerFallback(p){this._csiHandlerFb=p}registerDcsHandler(p,y){return this._dcsParser.registerHandler(this._identifier(p),y)}clearDcsHandler(p){this._dcsParser.clearHandler(this._identifier(p))}setDcsHandlerFallback(p){this._dcsParser.setHandlerFallback(p)}registerOscHandler(p,y){return this._oscParser.registerHandler(p,y)}clearOscHandler(p){this._oscParser.clearHandler(p)}setOscHandlerFallback(p){this._oscParser.setHandlerFallback(p)}setErrorHandler(p){this._errorHandler=p}clearErrorHandler(){this._errorHandler=this._errorHandlerFb}reset(){this.currentState=this.initialState,this._oscParser.reset(),this._dcsParser.reset(),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0,this._parseStack.state!==0&&(this._parseStack.state=2,this._parseStack.handlers=[])}_preserveStack(p,y,_,b,w){this._parseStack.state=p,this._parseStack.handlers=y,this._parseStack.handlerPos=_,this._parseStack.transition=b,this._parseStack.chunkPos=w}parse(p,y,_){let b,w=0,E=0,A=0;if(this._parseStack.state)if(this._parseStack.state===2)this._parseStack.state=0,A=this._parseStack.chunkPos+1;else{if(_===void 0||this._parseStack.state===1)throw this._parseStack.state=1,new Error("improper continuation due to previous async handler, giving up parsing");const T=this._parseStack.handlers;let P=this._parseStack.handlerPos-1;switch(this._parseStack.state){case 3:if(_===!1&&P>-1){for(;P>=0&&(b=T[P](this._params),b!==!0);P--)if(b instanceof Promise)return this._parseStack.handlerPos=P,b}this._parseStack.handlers=[];break;case 4:if(_===!1&&P>-1){for(;P>=0&&(b=T[P](),b!==!0);P--)if(b instanceof Promise)return this._parseStack.handlerPos=P,b}this._parseStack.handlers=[];break;case 6:if(w=p[this._parseStack.chunkPos],b=this._dcsParser.unhook(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0;break;case 5:if(w=p[this._parseStack.chunkPos],b=this._oscParser.end(w!==24&&w!==26,_),b)return b;w===27&&(this._parseStack.transition|=1),this._params.reset(),this._params.addParam(0),this._collect=0}this._parseStack.state=0,A=this._parseStack.chunkPos+1,this.precedingCodepoint=0,this.currentState=15&this._parseStack.transition}for(let T=A;T<y;++T){switch(w=p[T],E=this._transitions.table[this.currentState<<8|(w<160?w:v)],E>>4){case 2:for(let D=T+1;;++D){if(D>=y||(w=p[D])<32||w>126&&w<v){this._printHandler(p,T,D),T=D-1;break}if(++D>=y||(w=p[D])<32||w>126&&w<v){this._printHandler(p,T,D),T=D-1;break}if(++D>=y||(w=p[D])<32||w>126&&w<v){this._printHandler(p,T,D),T=D-1;break}if(++D>=y||(w=p[D])<32||w>126&&w<v){this._printHandler(p,T,D),T=D-1;break}}break;case 3:this._executeHandlers[w]?this._executeHandlers[w]():this._executeHandlerFb(w),this.precedingCodepoint=0;break;case 0:break;case 1:if(this._errorHandler({position:T,code:w,currentState:this.currentState,collect:this._collect,params:this._params,abort:!1}).abort)return;break;case 7:const P=this._csiHandlers[this._collect<<8|w];let N=P?P.length-1:-1;for(;N>=0&&(b=P[N](this._params),b!==!0);N--)if(b instanceof Promise)return this._preserveStack(3,P,N,E,T),b;N<0&&this._csiHandlerFb(this._collect<<8|w,this._params),this.precedingCodepoint=0;break;case 8:do switch(w){case 59:this._params.addParam(0);break;case 58:this._params.addSubParam(-1);break;default:this._params.addDigit(w-48)}while(++T<y&&(w=p[T])>47&&w<60);T--;break;case 9:this._collect<<=8,this._collect|=w;break;case 10:const O=this._escHandlers[this._collect<<8|w];let I=O?O.length-1:-1;for(;I>=0&&(b=O[I](),b!==!0);I--)if(b instanceof Promise)return this._preserveStack(4,O,I,E,T),b;I<0&&this._escHandlerFb(this._collect<<8|w),this.precedingCodepoint=0;break;case 11:this._params.reset(),this._params.addParam(0),this._collect=0;break;case 12:this._dcsParser.hook(this._collect<<8|w,this._params);break;case 13:for(let D=T+1;;++D)if(D>=y||(w=p[D])===24||w===26||w===27||w>127&&w<v){this._dcsParser.put(p,T,D),T=D-1;break}break;case 14:if(b=this._dcsParser.unhook(w!==24&&w!==26),b)return this._preserveStack(6,[],0,E,T),b;w===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0;break;case 4:this._oscParser.start();break;case 5:for(let D=T+1;;D++)if(D>=y||(w=p[D])<32||w>127&&w<v){this._oscParser.put(p,T,D),T=D-1;break}break;case 6:if(b=this._oscParser.end(w!==24&&w!==26),b)return this._preserveStack(5,[],0,E,T),b;w===27&&(E|=1),this._params.reset(),this._params.addParam(0),this._collect=0,this.precedingCodepoint=0}this.currentState=15&E}}}a.EscapeSequenceParser=x},6242:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OscHandler=a.OscParser=void 0;const c=l(5770),f=l(482),d=[];a.OscParser=class{constructor(){this._state=0,this._active=d,this._id=-1,this._handlers=Object.create(null),this._handlerFb=()=>{},this._stack={paused:!1,loopPosition:0,fallThrough:!1}}registerHandler(h,g){this._handlers[h]===void 0&&(this._handlers[h]=[]);const v=this._handlers[h];return v.push(g),{dispose:()=>{const x=v.indexOf(g);x!==-1&&v.splice(x,1)}}}clearHandler(h){this._handlers[h]&&delete this._handlers[h]}setHandlerFallback(h){this._handlerFb=h}dispose(){this._handlers=Object.create(null),this._handlerFb=()=>{},this._active=d}reset(){if(this._state===2)for(let h=this._stack.paused?this._stack.loopPosition-1:this._active.length-1;h>=0;--h)this._active[h].end(!1);this._stack.paused=!1,this._active=d,this._id=-1,this._state=0}_start(){if(this._active=this._handlers[this._id]||d,this._active.length)for(let h=this._active.length-1;h>=0;h--)this._active[h].start();else this._handlerFb(this._id,"START")}_put(h,g,v){if(this._active.length)for(let x=this._active.length-1;x>=0;x--)this._active[x].put(h,g,v);else this._handlerFb(this._id,"PUT",(0,f.utf32ToString)(h,g,v))}start(){this.reset(),this._state=1}put(h,g,v){if(this._state!==3){if(this._state===1)for(;g<v;){const x=h[g++];if(x===59){this._state=2,this._start();break}if(x<48||57<x)return void(this._state=3);this._id===-1&&(this._id=0),this._id=10*this._id+x-48}this._state===2&&v-g>0&&this._put(h,g,v)}}end(h,g=!0){if(this._state!==0){if(this._state!==3)if(this._state===1&&this._start(),this._active.length){let v=!1,x=this._active.length-1,m=!1;if(this._stack.paused&&(x=this._stack.loopPosition-1,v=g,m=this._stack.fallThrough,this._stack.paused=!1),!m&&v===!1){for(;x>=0&&(v=this._active[x].end(h),v!==!0);x--)if(v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!1,v;x--}for(;x>=0;x--)if(v=this._active[x].end(!1),v instanceof Promise)return this._stack.paused=!0,this._stack.loopPosition=x,this._stack.fallThrough=!0,v}else this._handlerFb(this._id,"END",h);this._active=d,this._id=-1,this._state=0}}},a.OscHandler=class{constructor(h){this._handler=h,this._data="",this._hitLimit=!1}start(){this._data="",this._hitLimit=!1}put(h,g,v){this._hitLimit||(this._data+=(0,f.utf32ToString)(h,g,v),this._data.length>c.PAYLOAD_LIMIT&&(this._data="",this._hitLimit=!0))}end(h){let g=!1;if(this._hitLimit)g=!1;else if(h&&(g=this._handler(this._data),g instanceof Promise))return g.then(v=>(this._data="",this._hitLimit=!1,v));return this._data="",this._hitLimit=!1,g}}},8742:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.Params=void 0;const l=2147483647;class c{static fromArray(d){const h=new c;if(!d.length)return h;for(let g=Array.isArray(d[0])?1:0;g<d.length;++g){const v=d[g];if(Array.isArray(v))for(let x=0;x<v.length;++x)h.addSubParam(v[x]);else h.addParam(v)}return h}constructor(d=32,h=32){if(this.maxLength=d,this.maxSubParamsLength=h,h>256)throw new Error("maxSubParamsLength must not be greater than 256");this.params=new Int32Array(d),this.length=0,this._subParams=new Int32Array(h),this._subParamsLength=0,this._subParamsIdx=new Uint16Array(d),this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}clone(){const d=new c(this.maxLength,this.maxSubParamsLength);return d.params.set(this.params),d.length=this.length,d._subParams.set(this._subParams),d._subParamsLength=this._subParamsLength,d._subParamsIdx.set(this._subParamsIdx),d._rejectDigits=this._rejectDigits,d._rejectSubDigits=this._rejectSubDigits,d._digitIsSub=this._digitIsSub,d}toArray(){const d=[];for(let h=0;h<this.length;++h){d.push(this.params[h]);const g=this._subParamsIdx[h]>>8,v=255&this._subParamsIdx[h];v-g>0&&d.push(Array.prototype.slice.call(this._subParams,g,v))}return d}reset(){this.length=0,this._subParamsLength=0,this._rejectDigits=!1,this._rejectSubDigits=!1,this._digitIsSub=!1}addParam(d){if(this._digitIsSub=!1,this.length>=this.maxLength)this._rejectDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParamsIdx[this.length]=this._subParamsLength<<8|this._subParamsLength,this.params[this.length++]=d>l?l:d}}addSubParam(d){if(this._digitIsSub=!0,this.length)if(this._rejectDigits||this._subParamsLength>=this.maxSubParamsLength)this._rejectSubDigits=!0;else{if(d<-1)throw new Error("values lesser than -1 are not allowed");this._subParams[this._subParamsLength++]=d>l?l:d,this._subParamsIdx[this.length-1]++}}hasSubParams(d){return(255&this._subParamsIdx[d])-(this._subParamsIdx[d]>>8)>0}getSubParams(d){const h=this._subParamsIdx[d]>>8,g=255&this._subParamsIdx[d];return g-h>0?this._subParams.subarray(h,g):null}getSubParamsAll(){const d={};for(let h=0;h<this.length;++h){const g=this._subParamsIdx[h]>>8,v=255&this._subParamsIdx[h];v-g>0&&(d[h]=this._subParams.slice(g,v))}return d}addDigit(d){let h;if(this._rejectDigits||!(h=this._digitIsSub?this._subParamsLength:this.length)||this._digitIsSub&&this._rejectSubDigits)return;const g=this._digitIsSub?this._subParams:this.params,v=g[h-1];g[h-1]=~v?Math.min(10*v+d,l):d}}a.Params=c},5741:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.AddonManager=void 0,a.AddonManager=class{constructor(){this._addons=[]}dispose(){for(let l=this._addons.length-1;l>=0;l--)this._addons[l].instance.dispose()}loadAddon(l,c){const f={instance:c,dispose:c.dispose,isDisposed:!1};this._addons.push(f),c.dispose=()=>this._wrappedAddonDispose(f),c.activate(l)}_wrappedAddonDispose(l){if(l.isDisposed)return;let c=-1;for(let f=0;f<this._addons.length;f++)if(this._addons[f]===l){c=f;break}if(c===-1)throw new Error("Could not dispose an addon that has not been loaded");l.isDisposed=!0,l.dispose.apply(l.instance),this._addons.splice(c,1)}}},8771:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferApiView=void 0;const c=l(3785),f=l(511);a.BufferApiView=class{constructor(d,h){this._buffer=d,this.type=h}init(d){return this._buffer=d,this}get cursorY(){return this._buffer.y}get cursorX(){return this._buffer.x}get viewportY(){return this._buffer.ydisp}get baseY(){return this._buffer.ybase}get length(){return this._buffer.lines.length}getLine(d){const h=this._buffer.lines.get(d);if(h)return new c.BufferLineApiView(h)}getNullCell(){return new f.CellData}}},3785:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferLineApiView=void 0;const c=l(511);a.BufferLineApiView=class{constructor(f){this._line=f}get isWrapped(){return this._line.isWrapped}get length(){return this._line.length}getCell(f,d){if(!(f<0||f>=this._line.length))return d?(this._line.loadCell(f,d),d):this._line.loadCell(f,new c.CellData)}translateToString(f,d,h){return this._line.translateToString(f,d,h)}}},8285:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.BufferNamespaceApi=void 0;const c=l(8771),f=l(8460),d=l(844);class h extends d.Disposable{constructor(v){super(),this._core=v,this._onBufferChange=this.register(new f.EventEmitter),this.onBufferChange=this._onBufferChange.event,this._normal=new c.BufferApiView(this._core.buffers.normal,"normal"),this._alternate=new c.BufferApiView(this._core.buffers.alt,"alternate"),this._core.buffers.onBufferActivate(()=>this._onBufferChange.fire(this.active))}get active(){if(this._core.buffers.active===this._core.buffers.normal)return this.normal;if(this._core.buffers.active===this._core.buffers.alt)return this.alternate;throw new Error("Active buffer is neither normal nor alternate")}get normal(){return this._normal.init(this._core.buffers.normal)}get alternate(){return this._alternate.init(this._core.buffers.alt)}}a.BufferNamespaceApi=h},7975:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.ParserApi=void 0,a.ParserApi=class{constructor(l){this._core=l}registerCsiHandler(l,c){return this._core.registerCsiHandler(l,f=>c(f.toArray()))}addCsiHandler(l,c){return this.registerCsiHandler(l,c)}registerDcsHandler(l,c){return this._core.registerDcsHandler(l,(f,d)=>c(f,d.toArray()))}addDcsHandler(l,c){return this.registerDcsHandler(l,c)}registerEscHandler(l,c){return this._core.registerEscHandler(l,c)}addEscHandler(l,c){return this.registerEscHandler(l,c)}registerOscHandler(l,c){return this._core.registerOscHandler(l,c)}addOscHandler(l,c){return this.registerOscHandler(l,c)}}},7090:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeApi=void 0,a.UnicodeApi=class{constructor(l){this._core=l}register(l){this._core.unicodeService.register(l)}get versions(){return this._core.unicodeService.versions}get activeVersion(){return this._core.unicodeService.activeVersion}set activeVersion(l){this._core.unicodeService.activeVersion=l}}},744:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,w=arguments.length,E=w<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(m,p,y,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(E=(w<3?b(E):w>3?b(p,y,E):b(p,y))||E);return w>3&&E&&Object.defineProperty(p,y,E),E},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.BufferService=a.MINIMUM_ROWS=a.MINIMUM_COLS=void 0;const d=l(8460),h=l(844),g=l(5295),v=l(2585);a.MINIMUM_COLS=2,a.MINIMUM_ROWS=1;let x=a.BufferService=class extends h.Disposable{get buffer(){return this.buffers.active}constructor(m){super(),this.isUserScrolling=!1,this._onResize=this.register(new d.EventEmitter),this.onResize=this._onResize.event,this._onScroll=this.register(new d.EventEmitter),this.onScroll=this._onScroll.event,this.cols=Math.max(m.rawOptions.cols||0,a.MINIMUM_COLS),this.rows=Math.max(m.rawOptions.rows||0,a.MINIMUM_ROWS),this.buffers=this.register(new g.BufferSet(m,this))}resize(m,p){this.cols=m,this.rows=p,this.buffers.resize(m,p),this._onResize.fire({cols:m,rows:p})}reset(){this.buffers.reset(),this.isUserScrolling=!1}scroll(m,p=!1){const y=this.buffer;let _;_=this._cachedBlankLine,_&&_.length===this.cols&&_.getFg(0)===m.fg&&_.getBg(0)===m.bg||(_=y.getBlankLine(m,p),this._cachedBlankLine=_),_.isWrapped=p;const b=y.ybase+y.scrollTop,w=y.ybase+y.scrollBottom;if(y.scrollTop===0){const E=y.lines.isFull;w===y.lines.length-1?E?y.lines.recycle().copyFrom(_):y.lines.push(_.clone()):y.lines.splice(w+1,0,_.clone()),E?this.isUserScrolling&&(y.ydisp=Math.max(y.ydisp-1,0)):(y.ybase++,this.isUserScrolling||y.ydisp++)}else{const E=w-b+1;y.lines.shiftElements(b+1,E-1,-1),y.lines.set(w,_.clone())}this.isUserScrolling||(y.ydisp=y.ybase),this._onScroll.fire(y.ydisp)}scrollLines(m,p,y){const _=this.buffer;if(m<0){if(_.ydisp===0)return;this.isUserScrolling=!0}else m+_.ydisp>=_.ybase&&(this.isUserScrolling=!1);const b=_.ydisp;_.ydisp=Math.max(Math.min(_.ydisp+m,_.ybase),0),b!==_.ydisp&&(p||this._onScroll.fire(_.ydisp))}};a.BufferService=x=c([f(0,v.IOptionsService)],x)},7994:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.CharsetService=void 0,a.CharsetService=class{constructor(){this.glevel=0,this._charsets=[]}reset(){this.charset=void 0,this._charsets=[],this.glevel=0}setgLevel(l){this.glevel=l,this.charset=this._charsets[l]}setgCharset(l,c){this._charsets[l]=c,this.glevel===l&&(this.charset=c)}}},1753:function(o,a,l){var c=this&&this.__decorate||function(_,b,w,E){var A,T=arguments.length,P=T<3?b:E===null?E=Object.getOwnPropertyDescriptor(b,w):E;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")P=Reflect.decorate(_,b,w,E);else for(var N=_.length-1;N>=0;N--)(A=_[N])&&(P=(T<3?A(P):T>3?A(b,w,P):A(b,w))||P);return T>3&&P&&Object.defineProperty(b,w,P),P},f=this&&this.__param||function(_,b){return function(w,E){b(w,E,_)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreMouseService=void 0;const d=l(2585),h=l(8460),g=l(844),v={NONE:{events:0,restrict:()=>!1},X10:{events:1,restrict:_=>_.button!==4&&_.action===1&&(_.ctrl=!1,_.alt=!1,_.shift=!1,!0)},VT200:{events:19,restrict:_=>_.action!==32},DRAG:{events:23,restrict:_=>_.action!==32||_.button!==3},ANY:{events:31,restrict:_=>!0}};function x(_,b){let w=(_.ctrl?16:0)|(_.shift?4:0)|(_.alt?8:0);return _.button===4?(w|=64,w|=_.action):(w|=3&_.button,4&_.button&&(w|=64),8&_.button&&(w|=128),_.action===32?w|=32:_.action!==0||b||(w|=3)),w}const m=String.fromCharCode,p={DEFAULT:_=>{const b=[x(_,!1)+32,_.col+32,_.row+32];return b[0]>255||b[1]>255||b[2]>255?"":`\x1B[M${m(b[0])}${m(b[1])}${m(b[2])}`},SGR:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${x(_,!0)};${_.col};${_.row}${b}`},SGR_PIXELS:_=>{const b=_.action===0&&_.button!==4?"m":"M";return`\x1B[<${x(_,!0)};${_.x};${_.y}${b}`}};let y=a.CoreMouseService=class extends g.Disposable{constructor(_,b){super(),this._bufferService=_,this._coreService=b,this._protocols={},this._encodings={},this._activeProtocol="",this._activeEncoding="",this._lastEvent=null,this._onProtocolChange=this.register(new h.EventEmitter),this.onProtocolChange=this._onProtocolChange.event;for(const w of Object.keys(v))this.addProtocol(w,v[w]);for(const w of Object.keys(p))this.addEncoding(w,p[w]);this.reset()}addProtocol(_,b){this._protocols[_]=b}addEncoding(_,b){this._encodings[_]=b}get activeProtocol(){return this._activeProtocol}get areMouseEventsActive(){return this._protocols[this._activeProtocol].events!==0}set activeProtocol(_){if(!this._protocols[_])throw new Error(`unknown protocol "${_}"`);this._activeProtocol=_,this._onProtocolChange.fire(this._protocols[_].events)}get activeEncoding(){return this._activeEncoding}set activeEncoding(_){if(!this._encodings[_])throw new Error(`unknown encoding "${_}"`);this._activeEncoding=_}reset(){this.activeProtocol="NONE",this.activeEncoding="DEFAULT",this._lastEvent=null}triggerMouseEvent(_){if(_.col<0||_.col>=this._bufferService.cols||_.row<0||_.row>=this._bufferService.rows||_.button===4&&_.action===32||_.button===3&&_.action!==32||_.button!==4&&(_.action===2||_.action===3)||(_.col++,_.row++,_.action===32&&this._lastEvent&&this._equalEvents(this._lastEvent,_,this._activeEncoding==="SGR_PIXELS"))||!this._protocols[this._activeProtocol].restrict(_))return!1;const b=this._encodings[this._activeEncoding](_);return b&&(this._activeEncoding==="DEFAULT"?this._coreService.triggerBinaryEvent(b):this._coreService.triggerDataEvent(b,!0)),this._lastEvent=_,!0}explainEvents(_){return{down:!!(1&_),up:!!(2&_),drag:!!(4&_),move:!!(8&_),wheel:!!(16&_)}}_equalEvents(_,b,w){if(w){if(_.x!==b.x||_.y!==b.y)return!1}else if(_.col!==b.col||_.row!==b.row)return!1;return _.button===b.button&&_.action===b.action&&_.ctrl===b.ctrl&&_.alt===b.alt&&_.shift===b.shift}};a.CoreMouseService=y=c([f(0,d.IBufferService),f(1,d.ICoreService)],y)},6975:function(o,a,l){var c=this&&this.__decorate||function(y,_,b,w){var E,A=arguments.length,T=A<3?_:w===null?w=Object.getOwnPropertyDescriptor(_,b):w;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")T=Reflect.decorate(y,_,b,w);else for(var P=y.length-1;P>=0;P--)(E=y[P])&&(T=(A<3?E(T):A>3?E(_,b,T):E(_,b))||T);return A>3&&T&&Object.defineProperty(_,b,T),T},f=this&&this.__param||function(y,_){return function(b,w){_(b,w,y)}};Object.defineProperty(a,"__esModule",{value:!0}),a.CoreService=void 0;const d=l(1439),h=l(8460),g=l(844),v=l(2585),x=Object.freeze({insertMode:!1}),m=Object.freeze({applicationCursorKeys:!1,applicationKeypad:!1,bracketedPasteMode:!1,origin:!1,reverseWraparound:!1,sendFocus:!1,wraparound:!0});let p=a.CoreService=class extends g.Disposable{constructor(y,_,b){super(),this._bufferService=y,this._logService=_,this._optionsService=b,this.isCursorInitialized=!1,this.isCursorHidden=!1,this._onData=this.register(new h.EventEmitter),this.onData=this._onData.event,this._onUserInput=this.register(new h.EventEmitter),this.onUserInput=this._onUserInput.event,this._onBinary=this.register(new h.EventEmitter),this.onBinary=this._onBinary.event,this._onRequestScrollToBottom=this.register(new h.EventEmitter),this.onRequestScrollToBottom=this._onRequestScrollToBottom.event,this.modes=(0,d.clone)(x),this.decPrivateModes=(0,d.clone)(m)}reset(){this.modes=(0,d.clone)(x),this.decPrivateModes=(0,d.clone)(m)}triggerDataEvent(y,_=!1){if(this._optionsService.rawOptions.disableStdin)return;const b=this._bufferService.buffer;_&&this._optionsService.rawOptions.scrollOnUserInput&&b.ybase!==b.ydisp&&this._onRequestScrollToBottom.fire(),_&&this._onUserInput.fire(),this._logService.debug(`sending data "${y}"`,()=>y.split("").map(w=>w.charCodeAt(0))),this._onData.fire(y)}triggerBinaryEvent(y){this._optionsService.rawOptions.disableStdin||(this._logService.debug(`sending binary "${y}"`,()=>y.split("").map(_=>_.charCodeAt(0))),this._onBinary.fire(y))}};a.CoreService=p=c([f(0,v.IBufferService),f(1,v.ILogService),f(2,v.IOptionsService)],p)},9074:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.DecorationService=void 0;const c=l(8055),f=l(8460),d=l(844),h=l(6106);let g=0,v=0;class x extends d.Disposable{get decorations(){return this._decorations.values()}constructor(){super(),this._decorations=new h.SortedList(y=>y==null?void 0:y.marker.line),this._onDecorationRegistered=this.register(new f.EventEmitter),this.onDecorationRegistered=this._onDecorationRegistered.event,this._onDecorationRemoved=this.register(new f.EventEmitter),this.onDecorationRemoved=this._onDecorationRemoved.event,this.register((0,d.toDisposable)(()=>this.reset()))}registerDecoration(y){if(y.marker.isDisposed)return;const _=new m(y);if(_){const b=_.marker.onDispose(()=>_.dispose());_.onDispose(()=>{_&&(this._decorations.delete(_)&&this._onDecorationRemoved.fire(_),b.dispose())}),this._decorations.insert(_),this._onDecorationRegistered.fire(_)}return _}reset(){for(const y of this._decorations.values())y.dispose();this._decorations.clear()}*getDecorationsAtCell(y,_,b){var w,E,A;let T=0,P=0;for(const N of this._decorations.getKeyIterator(_))T=(w=N.options.x)!==null&&w!==void 0?w:0,P=T+((E=N.options.width)!==null&&E!==void 0?E:1),y>=T&&y<P&&(!b||((A=N.options.layer)!==null&&A!==void 0?A:"bottom")===b)&&(yield N)}forEachDecorationAtCell(y,_,b,w){this._decorations.forEachByKey(_,E=>{var A,T,P;g=(A=E.options.x)!==null&&A!==void 0?A:0,v=g+((T=E.options.width)!==null&&T!==void 0?T:1),y>=g&&y<v&&(!b||((P=E.options.layer)!==null&&P!==void 0?P:"bottom")===b)&&w(E)})}}a.DecorationService=x;class m extends d.Disposable{get isDisposed(){return this._isDisposed}get backgroundColorRGB(){return this._cachedBg===null&&(this.options.backgroundColor?this._cachedBg=c.css.toColor(this.options.backgroundColor):this._cachedBg=void 0),this._cachedBg}get foregroundColorRGB(){return this._cachedFg===null&&(this.options.foregroundColor?this._cachedFg=c.css.toColor(this.options.foregroundColor):this._cachedFg=void 0),this._cachedFg}constructor(y){super(),this.options=y,this.onRenderEmitter=this.register(new f.EventEmitter),this.onRender=this.onRenderEmitter.event,this._onDispose=this.register(new f.EventEmitter),this.onDispose=this._onDispose.event,this._cachedBg=null,this._cachedFg=null,this.marker=y.marker,this.options.overviewRulerOptions&&!this.options.overviewRulerOptions.position&&(this.options.overviewRulerOptions.position="full")}dispose(){this._onDispose.fire(),super.dispose()}}},4348:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.InstantiationService=a.ServiceCollection=void 0;const c=l(2585),f=l(8343);class d{constructor(...g){this._entries=new Map;for(const[v,x]of g)this.set(v,x)}set(g,v){const x=this._entries.get(g);return this._entries.set(g,v),x}forEach(g){for(const[v,x]of this._entries.entries())g(v,x)}has(g){return this._entries.has(g)}get(g){return this._entries.get(g)}}a.ServiceCollection=d,a.InstantiationService=class{constructor(){this._services=new d,this._services.set(c.IInstantiationService,this)}setService(h,g){this._services.set(h,g)}getService(h){return this._services.get(h)}createInstance(h,...g){const v=(0,f.getServiceDependencies)(h).sort((p,y)=>p.index-y.index),x=[];for(const p of v){const y=this._services.get(p.id);if(!y)throw new Error(`[createInstance] ${h.name} depends on UNKNOWN service ${p.id}.`);x.push(y)}const m=v.length>0?v[0].index:g.length;if(g.length!==m)throw new Error(`[createInstance] First service dependency of ${h.name} at position ${m+1} conflicts with ${g.length} static arguments`);return new h(...g,...x)}}},7866:function(o,a,l){var c=this&&this.__decorate||function(m,p,y,_){var b,w=arguments.length,E=w<3?p:_===null?_=Object.getOwnPropertyDescriptor(p,y):_;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(m,p,y,_);else for(var A=m.length-1;A>=0;A--)(b=m[A])&&(E=(w<3?b(E):w>3?b(p,y,E):b(p,y))||E);return w>3&&E&&Object.defineProperty(p,y,E),E},f=this&&this.__param||function(m,p){return function(y,_){p(y,_,m)}};Object.defineProperty(a,"__esModule",{value:!0}),a.traceCall=a.setTraceLogger=a.LogService=void 0;const d=l(844),h=l(2585),g={trace:h.LogLevelEnum.TRACE,debug:h.LogLevelEnum.DEBUG,info:h.LogLevelEnum.INFO,warn:h.LogLevelEnum.WARN,error:h.LogLevelEnum.ERROR,off:h.LogLevelEnum.OFF};let v,x=a.LogService=class extends d.Disposable{get logLevel(){return this._logLevel}constructor(m){super(),this._optionsService=m,this._logLevel=h.LogLevelEnum.OFF,this._updateLogLevel(),this.register(this._optionsService.onSpecificOptionChange("logLevel",()=>this._updateLogLevel())),v=this}_updateLogLevel(){this._logLevel=g[this._optionsService.rawOptions.logLevel]}_evalLazyOptionalParams(m){for(let p=0;p<m.length;p++)typeof m[p]=="function"&&(m[p]=m[p]())}_log(m,p,y){this._evalLazyOptionalParams(y),m.call(console,(this._optionsService.options.logger?"":"xterm.js: ")+p,...y)}trace(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.TRACE&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.trace.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}debug(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.DEBUG&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.debug.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.log,m,p)}info(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.INFO&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.info.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.info,m,p)}warn(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.WARN&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.warn.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.warn,m,p)}error(m,...p){var y,_;this._logLevel<=h.LogLevelEnum.ERROR&&this._log((_=(y=this._optionsService.options.logger)===null||y===void 0?void 0:y.error.bind(this._optionsService.options.logger))!==null&&_!==void 0?_:console.error,m,p)}};a.LogService=x=c([f(0,h.IOptionsService)],x),a.setTraceLogger=function(m){v=m},a.traceCall=function(m,p,y){if(typeof y.value!="function")throw new Error("not supported");const _=y.value;y.value=function(...b){if(v.logLevel!==h.LogLevelEnum.TRACE)return _.apply(this,b);v.trace(`GlyphRenderer#${_.name}(${b.map(E=>JSON.stringify(E)).join(", ")})`);const w=_.apply(this,b);return v.trace(`GlyphRenderer#${_.name} return`,w),w}}},7302:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsService=a.DEFAULT_OPTIONS=void 0;const c=l(8460),f=l(844),d=l(6114);a.DEFAULT_OPTIONS={cols:80,rows:24,cursorBlink:!1,cursorStyle:"block",cursorWidth:1,cursorInactiveStyle:"outline",customGlyphs:!0,drawBoldTextInBrightColors:!0,fastScrollModifier:"alt",fastScrollSensitivity:5,fontFamily:"courier-new, courier, monospace",fontSize:15,fontWeight:"normal",fontWeightBold:"bold",ignoreBracketedPasteMode:!1,lineHeight:1,letterSpacing:0,linkHandler:null,logLevel:"info",logger:null,scrollback:1e3,scrollOnUserInput:!0,scrollSensitivity:1,screenReaderMode:!1,smoothScrollDuration:0,macOptionIsMeta:!1,macOptionClickForcesSelection:!1,minimumContrastRatio:1,disableStdin:!1,allowProposedApi:!1,allowTransparency:!1,tabStopWidth:8,theme:{},rightClickSelectsWord:d.isMac,windowOptions:{},windowsMode:!1,windowsPty:{},wordSeparator:" ()[]{}',\"`",altClickMovesCursor:!0,convertEol:!1,termName:"xterm",cancelEvents:!1,overviewRulerWidth:0};const h=["normal","bold","100","200","300","400","500","600","700","800","900"];class g extends f.Disposable{constructor(x){super(),this._onOptionChange=this.register(new c.EventEmitter),this.onOptionChange=this._onOptionChange.event;const m=Object.assign({},a.DEFAULT_OPTIONS);for(const p in x)if(p in m)try{const y=x[p];m[p]=this._sanitizeAndValidateOption(p,y)}catch(y){console.error(y)}this.rawOptions=m,this.options=Object.assign({},m),this._setupOptions()}onSpecificOptionChange(x,m){return this.onOptionChange(p=>{p===x&&m(this.rawOptions[x])})}onMultipleOptionChange(x,m){return this.onOptionChange(p=>{x.indexOf(p)!==-1&&m()})}_setupOptions(){const x=p=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);return this.rawOptions[p]},m=(p,y)=>{if(!(p in a.DEFAULT_OPTIONS))throw new Error(`No option with key "${p}"`);y=this._sanitizeAndValidateOption(p,y),this.rawOptions[p]!==y&&(this.rawOptions[p]=y,this._onOptionChange.fire(p))};for(const p in this.rawOptions){const y={get:x.bind(this,p),set:m.bind(this,p)};Object.defineProperty(this.options,p,y)}}_sanitizeAndValidateOption(x,m){switch(x){case"cursorStyle":if(m||(m=a.DEFAULT_OPTIONS[x]),!function(p){return p==="block"||p==="underline"||p==="bar"}(m))throw new Error(`"${m}" is not a valid value for ${x}`);break;case"wordSeparator":m||(m=a.DEFAULT_OPTIONS[x]);break;case"fontWeight":case"fontWeightBold":if(typeof m=="number"&&1<=m&&m<=1e3)break;m=h.includes(m)?m:a.DEFAULT_OPTIONS[x];break;case"cursorWidth":m=Math.floor(m);case"lineHeight":case"tabStopWidth":if(m<1)throw new Error(`${x} cannot be less than 1, value: ${m}`);break;case"minimumContrastRatio":m=Math.max(1,Math.min(21,Math.round(10*m)/10));break;case"scrollback":if((m=Math.min(m,4294967295))<0)throw new Error(`${x} cannot be less than 0, value: ${m}`);break;case"fastScrollSensitivity":case"scrollSensitivity":if(m<=0)throw new Error(`${x} cannot be less than or equal to 0, value: ${m}`);break;case"rows":case"cols":if(!m&&m!==0)throw new Error(`${x} must be numeric, value: ${m}`);break;case"windowsPty":m=m??{}}return m}}a.OptionsService=g},2660:function(o,a,l){var c=this&&this.__decorate||function(g,v,x,m){var p,y=arguments.length,_=y<3?v:m===null?m=Object.getOwnPropertyDescriptor(v,x):m;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")_=Reflect.decorate(g,v,x,m);else for(var b=g.length-1;b>=0;b--)(p=g[b])&&(_=(y<3?p(_):y>3?p(v,x,_):p(v,x))||_);return y>3&&_&&Object.defineProperty(v,x,_),_},f=this&&this.__param||function(g,v){return function(x,m){v(x,m,g)}};Object.defineProperty(a,"__esModule",{value:!0}),a.OscLinkService=void 0;const d=l(2585);let h=a.OscLinkService=class{constructor(g){this._bufferService=g,this._nextId=1,this._entriesWithId=new Map,this._dataByLinkId=new Map}registerLink(g){const v=this._bufferService.buffer;if(g.id===void 0){const b=v.addMarker(v.ybase+v.y),w={data:g,id:this._nextId++,lines:[b]};return b.onDispose(()=>this._removeMarkerFromLink(w,b)),this._dataByLinkId.set(w.id,w),w.id}const x=g,m=this._getEntryIdKey(x),p=this._entriesWithId.get(m);if(p)return this.addLineToLink(p.id,v.ybase+v.y),p.id;const y=v.addMarker(v.ybase+v.y),_={id:this._nextId++,key:this._getEntryIdKey(x),data:x,lines:[y]};return y.onDispose(()=>this._removeMarkerFromLink(_,y)),this._entriesWithId.set(_.key,_),this._dataByLinkId.set(_.id,_),_.id}addLineToLink(g,v){const x=this._dataByLinkId.get(g);if(x&&x.lines.every(m=>m.line!==v)){const m=this._bufferService.buffer.addMarker(v);x.lines.push(m),m.onDispose(()=>this._removeMarkerFromLink(x,m))}}getLinkData(g){var v;return(v=this._dataByLinkId.get(g))===null||v===void 0?void 0:v.data}_getEntryIdKey(g){return`${g.id};;${g.uri}`}_removeMarkerFromLink(g,v){const x=g.lines.indexOf(v);x!==-1&&(g.lines.splice(x,1),g.lines.length===0&&(g.data.id!==void 0&&this._entriesWithId.delete(g.key),this._dataByLinkId.delete(g.id)))}};a.OscLinkService=h=c([f(0,d.IBufferService)],h)},8343:(o,a)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.createDecorator=a.getServiceDependencies=a.serviceRegistry=void 0;const l="di$target",c="di$dependencies";a.serviceRegistry=new Map,a.getServiceDependencies=function(f){return f[c]||[]},a.createDecorator=function(f){if(a.serviceRegistry.has(f))return a.serviceRegistry.get(f);const d=function(h,g,v){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");(function(x,m,p){m[l]===m?m[c].push({id:x,index:p}):(m[c]=[{id:x,index:p}],m[l]=m)})(d,h,v)};return d.toString=()=>f,a.serviceRegistry.set(f,d),d}},2585:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.IDecorationService=a.IUnicodeService=a.IOscLinkService=a.IOptionsService=a.ILogService=a.LogLevelEnum=a.IInstantiationService=a.ICharsetService=a.ICoreService=a.ICoreMouseService=a.IBufferService=void 0;const c=l(8343);var f;a.IBufferService=(0,c.createDecorator)("BufferService"),a.ICoreMouseService=(0,c.createDecorator)("CoreMouseService"),a.ICoreService=(0,c.createDecorator)("CoreService"),a.ICharsetService=(0,c.createDecorator)("CharsetService"),a.IInstantiationService=(0,c.createDecorator)("InstantiationService"),function(d){d[d.TRACE=0]="TRACE",d[d.DEBUG=1]="DEBUG",d[d.INFO=2]="INFO",d[d.WARN=3]="WARN",d[d.ERROR=4]="ERROR",d[d.OFF=5]="OFF"}(f||(a.LogLevelEnum=f={})),a.ILogService=(0,c.createDecorator)("LogService"),a.IOptionsService=(0,c.createDecorator)("OptionsService"),a.IOscLinkService=(0,c.createDecorator)("OscLinkService"),a.IUnicodeService=(0,c.createDecorator)("UnicodeService"),a.IDecorationService=(0,c.createDecorator)("DecorationService")},1480:(o,a,l)=>{Object.defineProperty(a,"__esModule",{value:!0}),a.UnicodeService=void 0;const c=l(8460),f=l(225);a.UnicodeService=class{constructor(){this._providers=Object.create(null),this._active="",this._onChange=new c.EventEmitter,this.onChange=this._onChange.event;const d=new f.UnicodeV6;this.register(d),this._active=d.version,this._activeProvider=d}dispose(){this._onChange.dispose()}get versions(){return Object.keys(this._providers)}get activeVersion(){return this._active}set activeVersion(d){if(!this._providers[d])throw new Error(`unknown Unicode version "${d}"`);this._active=d,this._activeProvider=this._providers[d],this._onChange.fire(d)}register(d){this._providers[d.version]=d}wcwidth(d){return this._activeProvider.wcwidth(d)}getStringCellWidth(d){let h=0;const g=d.length;for(let v=0;v<g;++v){let x=d.charCodeAt(v);if(55296<=x&&x<=56319){if(++v>=g)return h+this.wcwidth(x);const m=d.charCodeAt(v);56320<=m&&m<=57343?x=1024*(x-55296)+m-56320+65536:h+=this.wcwidth(m)}h+=this.wcwidth(x)}return h}}}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o].call(l.exports,l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.Terminal=void 0;const a=i(9042),l=i(3236),c=i(844),f=i(5741),d=i(8285),h=i(7975),g=i(7090),v=["cols","rows"];class x extends c.Disposable{constructor(p){super(),this._core=this.register(new l.Terminal(p)),this._addonManager=this.register(new f.AddonManager),this._publicOptions=Object.assign({},this._core.options);const y=b=>this._core.options[b],_=(b,w)=>{this._checkReadonlyOptions(b),this._core.options[b]=w};for(const b in this._core.options){const w={get:y.bind(this,b),set:_.bind(this,b)};Object.defineProperty(this._publicOptions,b,w)}}_checkReadonlyOptions(p){if(v.includes(p))throw new Error(`Option "${p}" can only be set in the constructor`)}_checkProposedApi(){if(!this._core.optionsService.rawOptions.allowProposedApi)throw new Error("You must set the allowProposedApi option to true to use proposed API")}get onBell(){return this._core.onBell}get onBinary(){return this._core.onBinary}get onCursorMove(){return this._core.onCursorMove}get onData(){return this._core.onData}get onKey(){return this._core.onKey}get onLineFeed(){return this._core.onLineFeed}get onRender(){return this._core.onRender}get onResize(){return this._core.onResize}get onScroll(){return this._core.onScroll}get onSelectionChange(){return this._core.onSelectionChange}get onTitleChange(){return this._core.onTitleChange}get onWriteParsed(){return this._core.onWriteParsed}get element(){return this._core.element}get parser(){return this._parser||(this._parser=new h.ParserApi(this._core)),this._parser}get unicode(){return this._checkProposedApi(),new g.UnicodeApi(this._core)}get textarea(){return this._core.textarea}get rows(){return this._core.rows}get cols(){return this._core.cols}get buffer(){return this._buffer||(this._buffer=this.register(new d.BufferNamespaceApi(this._core))),this._buffer}get markers(){return this._checkProposedApi(),this._core.markers}get modes(){const p=this._core.coreService.decPrivateModes;let y="none";switch(this._core.coreMouseService.activeProtocol){case"X10":y="x10";break;case"VT200":y="vt200";break;case"DRAG":y="drag";break;case"ANY":y="any"}return{applicationCursorKeysMode:p.applicationCursorKeys,applicationKeypadMode:p.applicationKeypad,bracketedPasteMode:p.bracketedPasteMode,insertMode:this._core.coreService.modes.insertMode,mouseTrackingMode:y,originMode:p.origin,reverseWraparoundMode:p.reverseWraparound,sendFocusMode:p.sendFocus,wraparoundMode:p.wraparound}}get options(){return this._publicOptions}set options(p){for(const y in p)this._publicOptions[y]=p[y]}blur(){this._core.blur()}focus(){this._core.focus()}resize(p,y){this._verifyIntegers(p,y),this._core.resize(p,y)}open(p){this._core.open(p)}attachCustomKeyEventHandler(p){this._core.attachCustomKeyEventHandler(p)}registerLinkProvider(p){return this._core.registerLinkProvider(p)}registerCharacterJoiner(p){return this._checkProposedApi(),this._core.registerCharacterJoiner(p)}deregisterCharacterJoiner(p){this._checkProposedApi(),this._core.deregisterCharacterJoiner(p)}registerMarker(p=0){return this._verifyIntegers(p),this._core.registerMarker(p)}registerDecoration(p){var y,_,b;return this._checkProposedApi(),this._verifyPositiveIntegers((y=p.x)!==null&&y!==void 0?y:0,(_=p.width)!==null&&_!==void 0?_:0,(b=p.height)!==null&&b!==void 0?b:0),this._core.registerDecoration(p)}hasSelection(){return this._core.hasSelection()}select(p,y,_){this._verifyIntegers(p,y,_),this._core.select(p,y,_)}getSelection(){return this._core.getSelection()}getSelectionPosition(){return this._core.getSelectionPosition()}clearSelection(){this._core.clearSelection()}selectAll(){this._core.selectAll()}selectLines(p,y){this._verifyIntegers(p,y),this._core.selectLines(p,y)}dispose(){super.dispose()}scrollLines(p){this._verifyIntegers(p),this._core.scrollLines(p)}scrollPages(p){this._verifyIntegers(p),this._core.scrollPages(p)}scrollToTop(){this._core.scrollToTop()}scrollToBottom(){this._core.scrollToBottom()}scrollToLine(p){this._verifyIntegers(p),this._core.scrollToLine(p)}clear(){this._core.clear()}write(p,y){this._core.write(p,y)}writeln(p,y){this._core.write(p),this._core.write(`\r
`,y)}paste(p){this._core.paste(p)}refresh(p,y){this._verifyIntegers(p,y),this._core.refresh(p,y)}reset(){this._core.reset()}clearTextureAtlas(){this._core.clearTextureAtlas()}loadAddon(p){this._addonManager.loadAddon(this,p)}static get strings(){return a}_verifyIntegers(...p){for(const y of p)if(y===1/0||isNaN(y)||y%1!=0)throw new Error("This API only accepts integers")}_verifyPositiveIntegers(...p){for(const y of p)if(y&&(y===1/0||isNaN(y)||y%1!=0||y<0))throw new Error("This API only accepts positive integers")}}o.Terminal=x})(),s})())})(xme);var Mdt=xme.exports,bme={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={};return(()=>{var r=n;Object.defineProperty(r,"__esModule",{value:!0}),r.FitAddon=void 0,r.FitAddon=class{activate(i){this._terminal=i}dispose(){}fit(){const i=this.proposeDimensions();if(!i||!this._terminal||isNaN(i.cols)||isNaN(i.rows))return;const s=this._terminal._core;this._terminal.rows===i.rows&&this._terminal.cols===i.cols||(s._renderService.clear(),this._terminal.resize(i.cols,i.rows))}proposeDimensions(){if(!this._terminal||!this._terminal.element||!this._terminal.element.parentElement)return;const i=this._terminal._core,s=i._renderService.dimensions;if(s.css.cell.width===0||s.css.cell.height===0)return;const o=this._terminal.options.scrollback===0?0:i.viewport.scrollBarWidth,a=window.getComputedStyle(this._terminal.element.parentElement),l=parseInt(a.getPropertyValue("height")),c=Math.max(0,parseInt(a.getPropertyValue("width"))),f=window.getComputedStyle(this._terminal.element),d=l-(parseInt(f.getPropertyValue("padding-top"))+parseInt(f.getPropertyValue("padding-bottom"))),h=c-(parseInt(f.getPropertyValue("padding-right"))+parseInt(f.getPropertyValue("padding-left")))-o;return{cols:Math.max(2,Math.floor(h/s.css.cell.width)),rows:Math.max(1,Math.floor(d/s.css.cell.height))}}}})(),n})())})(bme);var Adt=bme.exports,wme={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(self,()=>(()=>{var n={6:(o,a)=>{function l(f){try{const d=new URL(f),h=d.password&&d.username?`${d.protocol}//${d.username}:${d.password}@${d.host}`:d.username?`${d.protocol}//${d.username}@${d.host}`:`${d.protocol}//${d.host}`;return f.toLocaleLowerCase().startsWith(h.toLocaleLowerCase())}catch{return!1}}Object.defineProperty(a,"__esModule",{value:!0}),a.LinkComputer=a.WebLinkProvider=void 0,a.WebLinkProvider=class{constructor(f,d,h,g={}){this._terminal=f,this._regex=d,this._handler=h,this._options=g}provideLinks(f,d){const h=c.computeLink(f,this._regex,this._terminal,this._handler);d(this._addCallbacks(h))}_addCallbacks(f){return f.map(d=>(d.leave=this._options.leave,d.hover=(h,g)=>{if(this._options.hover){const{range:v}=d;this._options.hover(h,g,v)}},d))}};class c{static computeLink(d,h,g,v){const x=new RegExp(h.source,(h.flags||"")+"g"),[m,p]=c._getWindowedLineStrings(d-1,g),y=m.join("");let _;const b=[];for(;_=x.exec(y);){const w=_[0];if(!l(w))continue;const[E,A]=c._mapStrIdx(g,p,0,_.index),[T,P]=c._mapStrIdx(g,E,A,w.length);if(E===-1||A===-1||T===-1||P===-1)continue;const N={start:{x:A+1,y:E+1},end:{x:P,y:T+1}};b.push({range:N,text:w,activate:v})}return b}static _getWindowedLineStrings(d,h){let g,v=d,x=d,m=0,p="";const y=[];if(g=h.buffer.active.getLine(d)){const _=g.translateToString(!0);if(g.isWrapped&&_[0]!==" "){for(m=0;(g=h.buffer.active.getLine(--v))&&m<2048&&(p=g.translateToString(!0),m+=p.length,y.push(p),g.isWrapped&&p.indexOf(" ")===-1););y.reverse()}for(y.push(_),m=0;(g=h.buffer.active.getLine(++x))&&g.isWrapped&&m<2048&&(p=g.translateToString(!0),m+=p.length,y.push(p),p.indexOf(" ")===-1););}return[y,v]}static _mapStrIdx(d,h,g,v){const x=d.buffer.active,m=x.getNullCell();let p=g;for(;v;){const y=x.getLine(h);if(!y)return[-1,-1];for(let _=p;_<y.length;++_){y.getCell(_,m);const b=m.getChars();if(m.getWidth()&&(v-=b.length||1,_===y.length-1&&b==="")){const w=x.getLine(h+1);w&&w.isWrapped&&(w.getCell(0,m),m.getWidth()===2&&(v+=1))}if(v<0)return[h,_]}h++,p=0}return[h,p]}}a.LinkComputer=c}},r={};function i(o){var a=r[o];if(a!==void 0)return a.exports;var l=r[o]={exports:{}};return n[o](l,l.exports,i),l.exports}var s={};return(()=>{var o=s;Object.defineProperty(o,"__esModule",{value:!0}),o.WebLinksAddon=void 0;const a=i(6),l=/(https?|HTTPS?):[/]{2}[^\s"'!*(){}|\\\^<>`]*[^\s"':,.!?{}|\\\^~\[\]`()<>]/;function c(f,d){const h=window.open();if(h){try{h.opener=null}catch{}h.location.href=d}else console.warn("Opening link blocked as opener could not be cleared")}o.WebLinksAddon=class{constructor(f=c,d={}){this._handler=f,this._options=d}activate(f){this._terminal=f;const d=this._options,h=d.urlRegex||l;this._linkProvider=this._terminal.registerLinkProvider(new a.WebLinkProvider(this._terminal,h,this._handler,d))}dispose(){var f;(f=this._linkProvider)==null||f.dispose()}}})(),s})())})(wme);var Tdt=wme.exports;function Pdt(){console.log("TerminalTab component rendered");const t=M.useRef(null),[e,n]=M.useState([]),[r,i]=M.useState(""),[s,o]=M.useState(10),a=()=>{console.log("createTerminal called");const f=crypto.randomUUID(),d=`Terminal ${e.length+1}`,h=new Mdt.Terminal({cursorBlink:!0,fontSize:s,fontFamily:"JetBrains Mono, monospace",theme:{background:"hsl(var(--background))",foreground:"hsl(var(--foreground))",cursor:"hsl(var(--primary))",black:"hsl(var(--muted))",red:"#ef4444",green:"#22c55e",yellow:"#eab308",blue:"#3b82f6",magenta:"#a855f7",cyan:"#06b6d4",white:"hsl(var(--foreground))"}}),g=new Adt.FitAddon;h.loadAddon(g);const v=new Tdt.WebLinksAddon;h.loadAddon(v);const x=window.location.protocol==="https:"?"wss:":"ws:",m=localStorage.getItem("access_token"),p=new WebSocket(`${x}//${window.location.host}/ws/shell/${f}?token=${m}`);p.onopen=()=>{console.log(`Orchestrator WebSocket connected for terminal ${f}`),h.writeln("Welcome to ARCANA Terminal (via Orchestrator)"),h.writeln("Cognitive Shell Interface v2.2.0"),h.writeln(""),g.fit();const _={type:"shell_resize",payload:{cols:h.cols,rows:h.rows}};p.send(JSON.stringify(_))},p.onmessage=_=>{try{const b=JSON.parse(_.data);b.type==="shell_output"&&b.payload.data?h.write(b.payload.data):console.log("Received unhandled message type:",b.type)}catch(b){console.error("Failed to parse WebSocket message:",b),h.write(_.data)}},p.onclose=()=>{console.log(`Terminal ${f} WebSocket disconnected`),h.writeln(`
\rConnection to terminal backend lost.`)},p.onerror=_=>{console.error(`Terminal ${f} WebSocket error:`,_),h.writeln(`
\rTerminal connection error.`)},h.onData(_=>{if(console.log(`terminal.onData for ${f}. Data: ${_}`),p.readyState===WebSocket.OPEN){const b={type:"shell_input",payload:{data:_}};p.send(JSON.stringify(b))}}),h.onResize(_=>{if(p.readyState===WebSocket.OPEN){const b={type:"shell_resize",payload:{cols:_.cols,rows:_.rows}};p.send(JSON.stringify(b))}});const y={id:f,name:d,terminal:h,fitAddon:g,ws:p};n(_=>[..._,y]),i(f)},l=f=>{console.log(`closeTerminal called for ${f}`);const d=e.find(g=>g.id===f);d&&(d.terminal.dispose(),d.ws.close());const h=e.filter(g=>g.id!==f);n(h),r===f&&h.length>0?i(h[0].id):r===f&&h.length===0&&i("")},c=f=>{o(d=>{const h=Math.max(5,Math.min(20,d+f));return e.forEach(g=>{g.terminal.options.fontSize=h,g.fitAddon.fit()}),h})};return M.useEffect(()=>{console.log("useEffect [terminals] triggered. terminals.length:",e.length),e.length===0&&a();const f=new ResizeObserver(()=>{console.log("ResizeObserver triggered."),e.forEach(d=>d.fitAddon.fit())});return t.current?(console.log("Observing terminalContainerRef.current for resize."),f.observe(t.current)):console.warn("terminalContainerRef.current is null in useEffect [terminals]. Cannot observe for resize."),()=>{console.log("useEffect [terminals] cleanup function executed."),e.forEach(d=>{console.log(`Disposing terminal ${d.id}.`),d.terminal.dispose()}),f.disconnect()}},[e]),M.useEffect(()=>{console.log("useEffect [activeTerminal] triggered. activeTerminal:",r);const f=e.find(d=>d.id===r);e.forEach(d=>{d.id!==r&&d.terminal.element&&d.terminal.element.parentNode&&(d.terminal.element.parentNode.removeChild(d.terminal.element),console.log(`Detached terminal ${d.id}`))}),f&&t.current?(console.log(`Attempting to display terminal ${f.id} in container.`),(!f.terminal.element||f.terminal.element.parentNode!==t.current)&&(t.current.innerHTML!==""&&(t.current.innerHTML=""),f.terminal.open(t.current),console.log(`Terminal ${f.id} opened/reattached.`)),f.terminal.focus(),f.fitAddon.fit(),console.log(`FitAddon.fit() called for terminal ${f.id}.`)):console.warn("No active terminal or terminalContainerRef.current is null in useEffect [activeTerminal].")},[r,e]),u.jsxs("div",{className:"h-full flex flex-col p-6",children:[u.jsxs(Be,{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs("div",{className:"border-b bg-card/50 px-4 py-2 flex items-center justify-between",children:[u.jsx(pc,{value:r,onValueChange:i,className:"flex-1",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ml,{className:"bg-transparent h-9",children:e.map(f=>u.jsxs(lr,{value:f.id,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-terminal-${f.id}`,children:[f.name,e.length>1&&u.jsx("button",{onClick:d=>{d.stopPropagation(),l(f.id)},className:"ml-1 hover:bg-muted rounded-sm p-0.5","data-testid":`button-close-terminal-${f.id}`,children:u.jsx(Pw,{className:"h-4 w-4"})})]},f.id))}),u.jsx(Ce,{variant:"ghost",size:"sm",onClick:a,"data-testid":"button-new-terminal",children:u.jsx(is,{className:"h-4 w-4"})})]})}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>c(-1),children:"-"}),u.jsxs("span",{children:[s,"px"]}),u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>c(1),children:"+"})]})]}),u.jsx("div",{className:"flex-1 p-4 overflow-hidden",children:u.jsx("div",{ref:t,className:"h-full w-full rounded-md overflow-hidden bg-background"})})]}),u.jsxs("div",{className:"mt-4 text-xs text-muted-foreground flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{children:"CWD: ~/projects/vareon"}),u.jsx("span",{children:"Shell: bash"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs",children:"Ctrl+C"}),u.jsx("span",{children:"Interrupt"}),u.jsx("kbd",{className:"px-2 py-1 bg-muted rounded text-xs ml-4",children:"Ctrl+L"}),u.jsx("span",{children:"Clear"})]})]})]})}const Ndt=async(t,e)=>{if(!e)return[];const n=await fetch(`/api/arcana/file-tree/?local_path=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const r=await n.json().catch(()=>({detail:"Failed to fetch file tree"}));throw new Error(r.detail)}return n.json()},Rdt=async t=>{const e=await fetch("/api/git/config",{headers:{Authorization:`Bearer ${t}`}});if(!e.ok){if(e.status===404)return null;const n=await e.json();throw new Error(n.detail||"Failed to fetch user Git config")}return e.json()},kdt=async(t,e)=>{if(!e)return[];const n=await fetch(`/api/git/branches?local_path=${encodeURIComponent(e)}`,{headers:{Authorization:`Bearer ${t}`}});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to fetch branches")}return n.json()},Sme=({node:t,level:e=0,onFileSelect:n,selectedFile:r})=>{var c;const[i,s]=M.useState(!1),o=t.children&&t.children.length>0,a=()=>{t.is_dir?s(!i):n(t.path)},l=r===t.path;return u.jsxs("div",{children:[u.jsxs("div",{className:`flex items-center p-1 rounded-md hover:bg-accent/50 cursor-pointer ${l?"bg-accent":""}`,style:{paddingLeft:`${e*1.5}rem`},onClick:a,children:[t.is_dir?u.jsxs(u.Fragment,{children:[o?i?u.jsx(ky,{className:"h-4 w-4 mr-1"}):u.jsx(Oy,{className:"h-4 w-4 mr-1"}):u.jsx("span",{className:"w-5"}),u.jsx(DD,{className:"h-4 w-4 mr-2 text-blue-500"})]}):u.jsxs(u.Fragment,{children:[u.jsx("span",{className:"w-5"}),u.jsx(ISe,{className:"h-4 w-4 mr-2 text-gray-500"})," "]}),u.jsx("span",{className:"text-sm",children:t.name})]}),i&&o&&u.jsx("div",{children:(c=t.children)==null?void 0:c.map(f=>u.jsx(Sme,{node:f,level:e+1,onFileSelect:n,selectedFile:r},f.path))})]})},jK=({onFileSelect:t,selectedFile:e,selectedRepoPath:n,setSelectedRepoPath:r,selectedBranch:i,setSelectedBranch:s})=>{const{token:o}=_a(),{toast:a}=to(),{data:l,isLoading:c,error:f}=gn({queryKey:["userGitConfig"],queryFn:()=>Rdt(o),enabled:!!o});M.useEffect(()=>{l&&l.default_local_path&&!n&&(r(l.default_local_path),l.default_branch&&!i&&s(l.default_branch))},[l,n,i,r,s]);const{data:d,isLoading:h,error:g}=gn({queryKey:["gitBranches",n],queryFn:()=>kdt(o,n),enabled:!!o&&!!n}),{data:v,isLoading:x,error:m}=gn({queryKey:["fileTree",n,i],queryFn:()=>Ndt(o,n),enabled:!!o&&!!n});return c||x||h?u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(DD,{className:"h-5 w-5"})," Project Context"]})}),u.jsxs(Ke,{className:"flex-1 flex items-center justify-center",children:[u.jsx(Zt,{className:"h-6 w-6 animate-spin"}),u.jsx("p",{className:"ml-2 text-white",children:"Loading project context..."})]})]}):(f&&a({title:"Error",description:`Failed to load Git config: ${f.message}. Please configure in User Profile.`,variant:"destructive"}),m&&a({title:"Error",description:`Failed to load file tree: ${m.message}`,variant:"destructive"}),g&&a({title:"Error",description:`Failed to load branches: ${g.message}`,variant:"destructive"}),u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(DD,{className:"h-5 w-5"})," Project Context"]}),u.jsxs("div",{className:"flex flex-col gap-2 mt-2",children:[u.jsx(ht,{htmlFor:"repo-select",className:"sr-only",children:"Select Repository"}),u.jsxs(Hn,{value:n,onValueChange:r,children:[u.jsx(Fn,{id:"repo-select",className:"w-full",children:u.jsx(Vn,{placeholder:"Select Repository"})}),u.jsx(Bn,{children:(l==null?void 0:l.default_local_path)&&u.jsxs(dt,{value:l.default_local_path,children:[l.default_local_path," (",l.default_repo_url,")"]})})]}),u.jsx(ht,{htmlFor:"branch-select",className:"sr-only",children:"Select Branch"}),u.jsxs(Hn,{value:i,onValueChange:s,disabled:!n||h,children:[u.jsx(Fn,{id:"branch-select",className:"w-full",children:u.jsx(Vn,{placeholder:"Select Branch"})}),u.jsx(Bn,{children:d==null?void 0:d.map(p=>u.jsx(dt,{value:p.name,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vg,{className:"h-4 w-4"})," ",p.name," ",p.is_current&&"(current)"," ",p.is_remote&&"(remote)"]})},p.name))})]})]})]}),u.jsx(Ke,{className:"flex-1 overflow-hidden",children:u.jsxs(Xh,{className:"h-full p-2 border rounded-md bg-black font-mono text-sm",children:[m&&u.jsxs("p",{className:"text-red-500",children:["Error loading file tree: ",m.message]}),v==null?void 0:v.map(p=>u.jsx(Sme,{node:p,onFileSelect:t,selectedFile:e},p.path)),!(v!=null&&v.length)&&!x&&u.jsx("p",{className:"text-muted-foreground",children:"No files found or repository not selected/cloned."})]})})]}))},DK=({localPath:t,currentBranch:e,onBranchChange:n})=>{const{toast:r}=to(),i=Ni(),{token:s}=_a(),[o,a]=vi(),[l,c]=M.useState(""),[f,d]=M.useState(""),[h,g]=M.useState(""),[v,x]=M.useState("");M.useEffect(()=>{const j=new URLSearchParams(o.split("?")[1]);if(j.get("github_auth_success")==="true")r({title:"GitHub Connected",description:"Your GitHub account has been successfully connected."}),a(o.split("?")[0],{replace:!0});else if(j.get("github_auth_success")==="false"){const B=j.get("error_description")||"Unknown error";r({title:"GitHub Connection Failed",description:`Error: ${B}`,variant:"destructive"}),a(o.split("?")[0],{replace:!0})}},[o,a,r]);const{data:m,isLoading:p,error:y}=gn({queryKey:["gitStatus",t],queryFn:async()=>{const j=await fetch(`/api/git/status?local_path=${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${s}`}});if(!j.ok){const B=await j.json();throw new Error(B.detail||"Failed to fetch Git status")}return j.json()},enabled:!!s&&!!t,refetchInterval:5e3}),{data:_,isLoading:b,error:w}=gn({queryKey:["gitBranches",t],queryFn:async()=>{const j=await fetch(`/api/git/branches?local_path=${encodeURIComponent(t)}`,{headers:{Authorization:`Bearer ${s}`}});if(!j.ok){const B=await j.json();throw new Error(B.detail||"Failed to fetch branches")}return j.json()},enabled:!!s&&!!t}),E=Ft({mutationFn:async j=>{const B=await fetch(`/api/git/add?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify({files:j})});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to add files")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Files added to staging."}),i.invalidateQueries({queryKey:["gitStatus",t]})},onError:j=>{r({title:"Error",description:`Failed to add files: ${j.message}`,variant:"destructive"})}}),A=Ft({mutationFn:async j=>{const B=await fetch(`/api/git/commit?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(j)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to commit changes")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Changes committed."}),i.invalidateQueries({queryKey:["gitStatus",t]}),c("")},onError:j=>{r({title:"Error",description:`Failed to commit changes: ${j.message}`,variant:"destructive"})}}),T=Ft({mutationFn:async j=>{const B=await fetch(`/api/git/push?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(j)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to push changes")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Changes pushed to remote."}),i.invalidateQueries({queryKey:["gitStatus",t]})},onError:j=>{r({title:"Error",description:`Failed to push changes: ${j.message}`,variant:"destructive"})}}),P=Ft({mutationFn:async j=>{const B=await fetch(`/api/git/pull?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(j)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to pull changes")}return B.json()},onSuccess:()=>{r({title:"Success",description:"Changes pulled from remote."}),i.invalidateQueries({queryKey:["gitStatus",t]})},onError:j=>{r({title:"Error",description:`Failed to pull changes: ${j.message}`,variant:"destructive"})}}),N=Ft({mutationFn:async j=>{const B=await fetch(`/api/git/checkout?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(j)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to checkout branch")}return B.json()},onSuccess:(j,B)=>{r({title:"Success",description:j}),i.invalidateQueries({queryKey:["gitStatus",t]}),i.invalidateQueries({queryKey:["gitBranches",t]}),n(B.branch_name)},onError:j=>{r({title:"Error",description:`Failed to checkout branch: ${j.message}`,variant:"destructive"})}}),O=Ft({mutationFn:async j=>{const B=await fetch(`/api/git/branch?local_path=${encodeURIComponent(t)}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${s}`},body:JSON.stringify(j)});if(!B.ok){const W=await B.json();throw new Error(W.detail||"Failed to create branch")}return B.json()},onSuccess:j=>{r({title:"Success",description:j}),i.invalidateQueries({queryKey:["gitBranches",t]}),x("")},onError:j=>{r({title:"Error",description:`Failed to create branch: ${j.message}`,variant:"destructive"})}}),I=()=>{E.mutate(["."])},D=()=>{if(!l.trim()){r({title:"Warning",description:"Commit message cannot be empty.",variant:"warning"});return}A.mutate({message:l,author_name:f||void 0,author_email:h||void 0})},F=()=>{T.mutate({})},$=()=>{P.mutate({})},z=j=>{N.mutate({branch_name:j})},H=()=>{if(!v.trim()){r({title:"Warning",description:"Branch name cannot be empty.",variant:"warning"});return}O.mutate({branch_name:v})},R=()=>{window.location.href="/api/git/github/authorize"};return t?p||b?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(Zt,{className:"h-6 w-6 animate-spin mx-auto"})," Loading Git data..."]}):y?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading Git status: ",y.message]}):w?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading branches: ",w.message]}):u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Vg,{className:"h-5 w-5"})," Git Operations",m&&u.jsxs(ln,{variant:"secondary",className:"ml-2",children:[m.current_branch,m.ahead_by>0&&u.jsxs("span",{className:"ml-1 text-green-500",children:["",m.ahead_by]}),m.behind_by>0&&u.jsxs("span",{className:"ml-1 text-red-500",children:["",m.behind_by]})]})]})}),u.jsxs(Ke,{className:"flex-1 overflow-y-auto space-y-4",children:[u.jsx("div",{className:"flex justify-end mb-4",children:u.jsxs(Ce,{onClick:R,className:"gap-2",children:[u.jsx(IM,{className:"h-4 w-4"})," Connect to GitHub"]})}),m&&u.jsxs(u.Fragment,{children:[m.is_dirty&&u.jsxs("div",{className:"flex items-center gap-2 text-yellow-500",children:[u.jsx(RM,{className:"h-4 w-4"}),u.jsx("span",{children:"Uncommitted changes detected."})]}),m.staged_files.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Staged Changes (",m.staged_files.length,")"]}),u.jsx("div",{className:"border rounded-md p-2 text-xs bg-black font-mono",children:m.staged_files.map((j,B)=>u.jsxs("p",{className:"text-green-400",children:[u.jsx(oB,{className:"inline-block h-3 w-3 mr-1"})," ",j.path]},B))})]}),m.unstaged_files.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Unstaged Changes (",m.unstaged_files.length,")"]}),u.jsx("div",{className:"border rounded-md p-2 text-xs bg-black font-mono",children:m.unstaged_files.map((j,B)=>u.jsxs("p",{className:"text-yellow-400",children:[u.jsx(RM,{className:"inline-block h-3 w-3 mr-1"})," ",j.path]},B))})]}),m.untracked_files.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"font-semibold text-sm mb-2",children:["Untracked Files (",m.untracked_files.length,")"]}),u.jsx("div",{className:"border rounded-md p-2 text-xs bg-black font-mono",children:m.untracked_files.map((j,B)=>u.jsxs("p",{className:"text-gray-400",children:[u.jsx(X_,{className:"inline-block h-3 w-3 mr-1"})," ",j]},B))})]}),u.jsx("div",{className:"flex gap-2",children:u.jsxs(Ce,{onClick:I,disabled:E.isPending||!m.unstaged_files.length&&!m.untracked_files.length,className:"flex-1",children:[E.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(is,{className:"h-4 w-4 mr-2"}),"Add All Changes"]})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"commit-message",children:"Commit Message"}),u.jsx(sc,{id:"commit-message",placeholder:"Enter commit message",value:l,onChange:j=>c(j.target.value),rows:3,disabled:A.isPending})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"author-name",children:"Author Name (optional)"}),u.jsx(Dt,{id:"author-name",placeholder:"Your Name",value:f,onChange:j=>d(j.target.value),disabled:A.isPending})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"author-email",children:"Author Email (optional)"}),u.jsx(Dt,{id:"author-email",placeholder:"your@email.com",value:h,onChange:j=>g(j.target.value),disabled:A.isPending})]})]}),u.jsxs(Ce,{onClick:D,disabled:A.isPending||!l.trim()||!m.staged_files.length,className:"w-full",children:[A.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(LSe,{className:"h-4 w-4 mr-2"}),"Commit Staged"]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{onClick:$,disabled:P.isPending,className:"flex-1",children:[P.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(FSe,{className:"h-4 w-4 mr-2"}),"Pull"]}),u.jsxs(Ce,{onClick:F,disabled:T.isPending||!m.ahead_by&&!m.is_dirty,className:"flex-1",children:[T.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(wSe,{className:"h-4 w-4 mr-2"}),"Push"]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"new-branch-name",children:"Create New Branch"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Dt,{id:"new-branch-name",placeholder:"feature/my-new-feature",value:v,onChange:j=>x(j.target.value),disabled:O.isPending}),u.jsx(Ce,{onClick:H,disabled:O.isPending||!v.trim(),children:O.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(is,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"checkout-branch",children:"Checkout Branch"}),u.jsxs(Hn,{value:e,onValueChange:z,disabled:N.isPending||b,children:[u.jsx(Fn,{id:"checkout-branch",className:"w-full",children:u.jsx(Vn,{placeholder:"Select branch to checkout"})}),u.jsx(Bn,{children:_==null?void 0:_.map(j=>u.jsx(dt,{value:j.name,children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Vg,{className:"h-4 w-4"})," ",j.name," ",j.is_current&&"(current)"," ",j.is_remote&&"(remote)"]})},j.name))})]})]})]})]})]}):u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Vg,{className:"h-5 w-5"})," Git Operations"]})}),u.jsx(Ke,{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a repository to view Git operations."})]})},fI={software_engineer:"Act as a senior software engineer. Your primary goal is to write clean, efficient, and well-documented code to solve the given problem. You should be able to understand complex requirements, break them down into smaller tasks, and implement them using the best practices for the given programming language and framework.",data_analyst:"Act as a data analyst. Your main objective is to analyze data, identify trends, and generate insights. You should be proficient in using data analysis libraries and tools to process, visualize, and interpret data.",code_reviewer:"Act as a code reviewer. Your task is to review code for quality, correctness, and adherence to coding standards. You should be able to identify potential bugs, suggest improvements, and provide constructive feedback to the author.",default:"You are a helpful AI assistant."},LK=({isOpen:t,onClose:e,agent:n})=>{const{token:r}=_a(),i=Ni(),{toast:s}=to(),[o,a]=M.useState(1),[l,c]=M.useState(""),[f,d]=M.useState("default"),[h,g]=M.useState(""),[v,x]=M.useState("tool_user"),[m,p]=M.useState(""),[y,_]=M.useState(""),[b,w]=M.useState(""),[E,A]=M.useState(""),[T,P]=M.useState(null);M.useEffect(()=>{var J,U,X,Q;if(t)if(a(1),n){c(n.name);const te=Object.keys(fI).includes(n.persona);if(d(te?n.persona:"custom"),g(te?"":n.persona),x(n.mode),p(n.objective||""),_(((J=n.configuration)==null?void 0:J.target_repo_path)||""),w(((U=n.configuration)==null?void 0:U.target_branch)||""),A(((X=n.configuration)==null?void 0:X.default_model_id)||""),(Q=n.configuration)!=null&&Q.target_repo_path)try{const ee=new URL(n.configuration.target_repo_path).pathname.split("/").filter(Y=>Y);ee.length>=2&&P(`${ee[0]}/${ee[1]}`)}catch{P(null)}else P(null)}else c(""),d("default"),g(""),x("tool_user"),p(fI.default),_(""),w(""),A(""),P(null)},[n,t]);const N=J=>{d(J),p(J!=="custom"&&fI[J]||"")},{data:O,isLoading:I}=gn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const J=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${r}`}});if(!J.ok)throw new Error("Failed to fetch LLM models");return J.json()},enabled:t&&!!r}),{data:D,isLoading:F}=gn({queryKey:["githubRepositories"],queryFn:async()=>{const J=await fetch("/api/git/github/repositories",{headers:{Authorization:`Bearer ${r}`}});if(!J.ok)throw new Error("Failed to fetch GitHub repositories. Is the GitHub App connected?");return J.json()},enabled:t&&o===3&&!!r}),{data:$,isLoading:z}=gn({queryKey:["githubRepoBranches",T],queryFn:async()=>{if(!T)return[];const[J,U]=T.split("/"),X=await fetch(`/api/git/github/repositories/${J}/${U}/branches`,{headers:{Authorization:`Bearer ${r}`}});if(!X.ok)throw new Error("Failed to fetch repository branches.");return X.json()},enabled:t&&o===3&&!!T&&!!r}),H=J=>{const U=D==null?void 0:D.find(X=>X.full_name===J);U&&(P(J),_(U.html_url),w(""))},R={onSuccess:()=>{i.invalidateQueries({queryKey:["arcanaAgents"]}),s({title:n?"Agent Updated":"Agent Created",description:`Arcana agent has been successfully ${n?"updated":"created"}.`}),e()},onError:J=>{s({title:"Error",description:`Failed to ${n?"update":"create"} agent: ${J.message}`,variant:"destructive"})}},j=Ft({mutationFn:J=>fetch("/api/arcana/agents/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(J)}).then(U=>U.ok?U.json():Promise.reject(new Error("Failed to create agent"))),...R}),B=Ft({mutationFn:J=>n?fetch(`/api/arcana/agents/${n.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify(J)}).then(U=>U.ok?U.json():Promise.reject(new Error("Failed to update agent"))):Promise.reject(new Error("Agent ID not available")),...R}),W=()=>{const U={name:l,persona:f==="custom"?h:f,mode:v,objective:m,configuration:{target_repo_path:y,target_branch:b,default_model_id:E}};n?B.mutate(U):j.mutate(U)},G=()=>a(J=>Math.min(J+1,3)),K=()=>a(J=>Math.max(J-1,1)),ie=j.isPending||B.isPending,le=()=>{switch(o){case 1:return u.jsxs("div",{className:"grid gap-6 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"name",children:"Agent Name"}),u.jsx(Dt,{id:"name",value:l,onChange:J=>c(J.target.value),placeholder:"e.g., My Code Assistant"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"persona",children:"Persona"}),u.jsxs(Hn,{value:f,onValueChange:N,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select a persona"})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"default",children:"Default"}),u.jsx(dt,{value:"software_engineer",children:"Software Engineer"}),u.jsx(dt,{value:"data_analyst",children:"Data Analyst"}),u.jsx(dt,{value:"code_reviewer",children:"Code Reviewer"}),u.jsx(dt,{value:"custom",children:"Custom"})]})]}),f==="custom"&&u.jsx(sc,{value:h,onChange:J=>g(J.target.value),placeholder:"Describe the custom persona...",className:"mt-2"})]})]});case 2:return u.jsxs("div",{className:"grid gap-6 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs(ht,{className:"flex items-center gap-2",children:["Mode",u.jsx(F$,{children:u.jsxs(gme,{children:[u.jsx(vme,{asChild:!0,children:u.jsx(PSe,{className:"h-4 w-4 text-muted-foreground"})}),u.jsx(B$,{children:u.jsxs("p",{className:"max-w-xs",children:[u.jsx("b",{children:"Chat:"})," For conversational interactions.",u.jsx("br",{}),u.jsx("b",{children:"Tool User:"})," Can use tools to achieve goals.",u.jsx("br",{}),u.jsx("b",{children:"Autonomous:"})," Can operate independently without human intervention."]})})]})})]}),u.jsxs(Hn,{value:v,onValueChange:x,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select agent mode"})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"chat",children:"Chat"}),u.jsx(dt,{value:"tool_user",children:"Tool User"}),u.jsx(dt,{value:"autonomous",children:"Autonomous"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"objective",children:"Objective"}),u.jsx(sc,{id:"objective",value:m,onChange:J=>p(J.target.value),className:"col-span-3 min-h-[150px]"})]})]});case 3:return u.jsxs("div",{className:"grid gap-6 py-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"targetRepo",children:"Target Repository"}),u.jsxs(Hn,{value:T||"",onValueChange:H,disabled:F,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select a repository"})}),u.jsx(Bn,{children:F?u.jsxs(dt,{value:"loading",disabled:!0,children:[u.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"})," Loading repositories..."]}):D==null?void 0:D.map(J=>u.jsx(dt,{value:J.full_name,children:J.full_name},J.id))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"targetBranch",children:"Target Branch"}),u.jsxs(Hn,{value:b,onValueChange:w,disabled:z||!T,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select a branch"})}),u.jsx(Bn,{children:z?u.jsxs(dt,{value:"loading",disabled:!0,children:[u.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"})," Loading branches..."]}):$==null?void 0:$.map(J=>u.jsx(dt,{value:J,children:J},J))})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"defaultModelId",children:"Default LLM"}),u.jsxs(Hn,{value:E,onValueChange:A,disabled:I,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select default LLM model"})}),u.jsx(Bn,{children:I?u.jsxs(dt,{value:"loading",disabled:!0,children:[u.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"})," Loading models..."]}):O==null?void 0:O.map(J=>u.jsxs(dt,{value:J.id,children:[J.model_name," (",J.provider_id,")"]},J.id))})]})]})]});default:return null}};return u.jsx(tx,{open:t,onOpenChange:e,children:u.jsxs(Wp,{className:"sm:max-w-[600px]",children:[u.jsxs(nx,{children:[u.jsx(rx,{children:n?"Edit Arcana Agent":"Create New Arcana Agent"}),u.jsxs(ix,{children:["Step ",o," of 3: ",o===1?"Basic Information":o===2?"Behavior & Objective":"Configuration"]})]}),le(),u.jsxs(K2,{className:"flex justify-between w-full pt-4",children:[u.jsx("div",{children:o>1&&u.jsxs(Ce,{variant:"outline",onClick:K,children:[u.jsx(ite,{className:"h-4 w-4 mr-2"})," Back"]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{variant:"ghost",onClick:e,children:"Cancel"}),o<3?u.jsxs(Ce,{onClick:G,children:["Next ",u.jsx(Oy,{className:"h-4 w-4 ml-2"})]}):u.jsxs(Ce,{onClick:W,disabled:ie,children:[ie&&u.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"}),n?"Save Changes":"Create Agent"]})]})]})]})})},Odt=({filePath:t,localPath:e,onClose:n})=>{const{token:r}=_a(),{toast:i}=to(),s=Ni(),[o,a]=M.useState(null),[l,c]=M.useState(!1),{data:f,isLoading:d,error:h,refetch:g}=gn({queryKey:["fileContent",t,e],queryFn:async()=>{if(!t||!e)return"";const m=await fetch("/api/arcana/file-operations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({action:"read",path:`${e}/${t}`})});if(!m.ok){const y=await m.json();throw new Error(y.detail||"Failed to read file content")}return(await m.json()).content},enabled:!!t&&!!e&&!!r});M.useEffect(()=>{f!==void 0&&a(f)},[f]);const v=Ft({mutationFn:async m=>{if(!t||!e)throw new Error("File path or local path not provided.");const p=await fetch("/api/arcana/file-operations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${r}`},body:JSON.stringify({action:"write",path:`${e}/${t}`,content:m})});if(!p.ok){const y=await p.json();throw new Error(y.detail||"Failed to save file content")}return p.json()},onSuccess:()=>{i({title:"Success",description:"File saved successfully."}),c(!1),s.invalidateQueries({queryKey:["fileContent",t,e]})},onError:m=>{i({title:"Error",description:`Failed to save file: ${m.message}`,variant:"destructive"})}}),x=()=>{o!==null&&v.mutate(o)};return t?d?u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(I0,{className:"h-5 w-5"})," ",t.split("/").pop()]})}),u.jsxs(Ke,{className:"flex-1 flex items-center justify-center",children:[u.jsx(Zt,{className:"h-6 w-6 animate-spin"}),u.jsx("p",{className:"ml-2",children:"Loading file content..."})]})]}):h?u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(I0,{className:"h-5 w-5"})," ",t.split("/").pop()]}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:n,className:"absolute top-3 right-3",children:u.jsx(X_,{className:"h-5 w-5"})})]}),u.jsxs(Ke,{className:"flex-1 flex flex-col items-center justify-center text-red-500",children:[u.jsxs("p",{children:["Error loading file: ",h.message]}),u.jsx(Ce,{onClick:()=>g(),className:"mt-4",children:"Retry"})]})]}):u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsxs(Xe,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[u.jsxs(qe,{className:"flex items-center gap-2 text-lg font-semibold",children:[u.jsx(I0,{className:"h-5 w-5"})," ",t.split("/").pop()]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{variant:"ghost",size:"icon",onClick:n,children:u.jsx(X_,{className:"h-5 w-5"})}),u.jsxs(Ce,{onClick:x,disabled:v.isPending||!l,children:[v.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"}):u.jsx(OP,{className:"h-4 w-4 mr-2"}),"Save"]})]})]}),u.jsx(Ke,{className:"flex-1 flex flex-col p-0",children:u.jsx(sc,{value:o||"",onChange:m=>{a(m.target.value),c(!0)},className:"flex-1 font-mono text-sm resize-none border-0 focus-visible:ring-0 focus-visible:ring-offset-0 rounded-none",placeholder:"File content..."})})]}):u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(I0,{className:"h-5 w-5"})," File Editor"]})}),u.jsx(Ke,{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a file from the tree to view and edit its content."})]})},Idt=()=>{const{token:t}=_a(),e=Ni(),[n,r]=M.useState(null),[i,s]=M.useState(null),[o,a]=M.useState(""),[l,c]=M.useState(null),[f,d]=M.useState(""),[h,g]=M.useState(""),[v,x]=M.useState(!1),[m,p]=M.useState(!1),[y,_]=M.useState(null),[b,w]=M.useState(""),[E,A]=M.useState([]),[T,P]=M.useState(null),N=M.useRef(null),O=M.useRef(null),{data:I,isLoading:D}=gn({queryKey:["arcanaAgents"],queryFn:async()=>{const U=await fetch("/api/arcana/agents",{headers:{Authorization:`Bearer ${t}`}});if(!U.ok)throw new Error("Failed to fetch agents");return U.json()},enabled:!!t}),{data:F,isLoading:$}=gn({queryKey:["arcanaJobs",n==null?void 0:n.id],queryFn:async()=>{if(!n)return[];const U=await fetch(`/api/arcana/agents/${n.id}/jobs`,{headers:{Authorization:`Bearer ${t}`}});if(!U.ok)throw new Error("Failed to fetch jobs");return U.json()},enabled:!!n&&!!t}),{data:z,isLoading:H}=gn({queryKey:["arcanaJobLogs",i],queryFn:async()=>{if(!i)return[];const U=await fetch(`/api/arcana/jobs/${i}/logs`,{headers:{Authorization:`Bearer ${t}`}});if(!U.ok)throw new Error("Failed to fetch logs");return U.json()},enabled:!!i&&!!t}),{data:R,isLoading:j}=gn({queryKey:["arcanaJob",i],queryFn:async()=>{if(!i)return null;const U=await fetch(`/api/arcana/jobs/${i}`,{headers:{Authorization:`Bearer ${t}`}});if(!U.ok)throw new Error("Failed to fetch job details");return U.json()},enabled:!!i&&!!t});M.useEffect(()=>{if(i&&t){N.current&&N.current.close();const U=window.location.protocol==="https:"?"wss:":"ws:",X=window.location.host,Q=`${U}//${X}/ws-api/ws/arcana/${i}?token=${t}`,te=new WebSocket(Q);return te.onopen=()=>{console.log(`WebSocket connected for job ${i}`),A(z||[]),P((R==null?void 0:R.status)||null)},te.onmessage=ue=>{const ee=JSON.parse(ue.data);ee.type==="agent_log"?A(Y=>[...Y,ee.payload]):ee.type==="agent_status_update"&&(P(ee.payload.status),e.invalidateQueries({queryKey:["arcanaJob",i]}),e.invalidateQueries({queryKey:["arcanaJobs",n==null?void 0:n.id]}))},te.onerror=ue=>{console.error("WebSocket error:",ue)},te.onclose=()=>{console.log(`WebSocket disconnected for job ${i}`)},N.current=te,()=>{te.close()}}else A([]),P(null),N.current&&(N.current.close(),N.current=null)},[i,t,z,R,e,n]),M.useEffect(()=>{O.current&&(O.current.scrollTop=O.current.scrollHeight)},[E]);const B=Ft({mutationFn:U=>{if(!n)throw new Error("No agent selected");return fetch(`/api/arcana/agents/${n.id}/execute`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({task_prompt:U})}).then(X=>X.json())},onSuccess:U=>{e.invalidateQueries({queryKey:["arcanaJobs",n==null?void 0:n.id]}),s(U.id),a("")}}),W=Ft({mutationFn:async U=>{if(!i)throw new Error("No job selected");const X=await fetch(`/api/arcana/jobs/${i}/submit_human_input`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({human_input:U})});if(!X.ok){const Q=await X.json();throw new Error(Q.detail||"Failed to submit human input")}return X.json()},onSuccess:()=>{w("")},onError:U=>{}}),G=()=>{o&&B.mutate(o)},K=()=>{n&&(_(n),p(!0))},ie=()=>{b.trim()&&i&&W.mutate(b)},le=T||(R==null?void 0:R.status)||"unknown",J=E.length>0?E:z||[];return u.jsxs(u.Fragment,{children:[u.jsxs(VE,{direction:"horizontal",className:"h-full w-full",children:[u.jsx(tg,{defaultSize:25,children:u.jsxs(Be,{className:"h-full flex flex-col",children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(YSe,{className:"h-5 w-5"})," Autonomous Agents"]}),u.jsx(Et,{children:"Define, manage, and monitor your AI agents."})]}),u.jsxs(Ke,{className:"flex-1 flex flex-col overflow-hidden",children:[u.jsxs(Ce,{className:"w-full mb-4",onClick:()=>x(!0),children:[u.jsx(ste,{className:"mr-2 h-4 w-4"})," Create Agent"]}),u.jsx(WE,{className:"my-4"}),u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Available Agents"}),u.jsx(Xh,{className:"flex-1 pr-4",children:D?u.jsx("p",{children:"Loading agents..."}):u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Name"}),u.jsx(yn,{children:"Status"})]})}),u.jsx(xu,{children:I==null?void 0:I.map(U=>u.jsxs(Ti,{onClick:()=>r(U),className:(n==null?void 0:n.id)===U.id?"bg-accent/50 cursor-pointer":"cursor-pointer",children:[u.jsx(vn,{className:"font-medium",children:U.name}),u.jsx(vn,{children:u.jsx(ln,{children:U.status})})]},U.id))})]})})]})]})}),u.jsx(iF,{className:"w-2 bg-gray-200 hover:bg-gray-300"}),u.jsx(tg,{defaultSize:35,children:u.jsx("div",{className:"h-full p-4",children:n?u.jsxs("div",{className:"flex flex-col h-full gap-4",children:[u.jsxs(Be,{className:"flex-1",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(CSe,{className:"h-5 w-5"})," Agent Details & Tasks"]})}),u.jsxs(Ke,{children:[u.jsxs("p",{children:[u.jsx("strong",{children:"ID:"})," ",u.jsx("span",{className:"font-mono text-xs",children:n.id})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Name:"})," ",n.name]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Persona:"})," ",n.persona]}),u.jsx(WE,{className:"my-4"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Status:"})," ",u.jsx(ln,{children:n.status})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Mode:"})," ",u.jsx(ln,{children:n.mode})]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Objective:"})," ",n.objective]})]}),u.jsx(WE,{className:"my-4"}),u.jsx(ht,{htmlFor:"newTaskGoal",children:"Submit New Task"}),u.jsx(sc,{id:"newTaskGoal",placeholder:"e.g., Refactor the Button component to use Tailwind CSS.",className:"my-2",value:o,onChange:U=>a(U.target.value)}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{className:"flex-1",onClick:G,disabled:B.isPending,children:B.isPending?"Starting...":u.jsxs(u.Fragment,{children:[u.jsx(Mv,{className:"mr-2 h-4 w-4"})," Run Agent"]})}),u.jsxs(Ce,{variant:"outline",onClick:K,children:[u.jsx(fte,{className:"mr-2 h-4 w-4"})," Edit Agent"]})]})]})]}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{children:"Jobs"})}),u.jsx(Ke,{children:u.jsx(Xh,{className:"h-48",children:$?u.jsx("p",{children:"Loading jobs..."}):u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Job ID"}),u.jsx(yn,{children:"Goal"}),u.jsx(yn,{children:"Status"})]})}),u.jsx(xu,{children:F==null?void 0:F.map(U=>u.jsxs(Ti,{onClick:()=>s(U.id),className:i===U.id?"bg-accent/50 cursor-pointer":"cursor-pointer",children:[u.jsxs(vn,{className:"font-mono text-xs",children:[U.id.substring(0,8),"..."]}),u.jsxs(vn,{children:[U.goal.substring(0,30),"..."]}),u.jsx(vn,{children:u.jsx(ln,{children:U.status})})]},U.id))})]})})})]})]}):u.jsx(Be,{className:"h-full flex items-center justify-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Select an agent to begin."})})})}),u.jsx(iF,{className:"w-2 bg-gray-200 hover:bg-gray-300"}),u.jsx(tg,{defaultSize:40,children:l&&f?u.jsx(Odt,{filePath:l,localPath:f,onClose:()=>c(null)}):i?u.jsxs("div",{className:"flex flex-col h-full p-4 gap-4",children:[u.jsxs(Be,{className:"flex-1 flex flex-col",children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(r8,{className:"h-5 w-5"})," Agent Log & Thoughts"]}),le&&u.jsxs(Et,{children:["Status: ",u.jsx(ln,{children:le})]})]}),u.jsx(Ke,{className:"flex-1 overflow-hidden",children:u.jsx(Xh,{className:"h-full p-2 border rounded-md bg-black font-mono text-sm",ref:O,children:H&&J.length===0?u.jsx("p",{className:"text-white",children:"Loading logs..."}):J.map((U,X)=>u.jsxs("div",{className:"whitespace-pre-wrap text-white",children:[u.jsxs("span",{className:"text-green-400",children:["[",new Date(U.timestamp).toLocaleTimeString(),"]"]}),u.jsxs("span",{className:`ml-2 font-bold ${U.log_type==="thought"?"text-purple-400":U.log_type==="action"?"text-blue-400":U.log_type==="error"?"text-red-500":"text-gray-300"}`,children:["[",U.log_type.toUpperCase(),"]"]}),u.jsx("span",{className:"ml-2",children:U.content})]},U.log_id||X))})})]}),le==="awaiting_human_input"&&u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-lg",children:"Agent Awaiting Input"}),u.jsx(Et,{children:"The agent needs your clarification or approval to proceed."})]}),u.jsxs(Ke,{className:"space-y-2",children:[J.length>0&&J[J.length-1].log_type==="human_input_needed"&&u.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:J[J.length-1].content}),u.jsx(sc,{placeholder:"Type your input or clarification here...",value:b,onChange:U=>w(U.target.value),rows:3,disabled:W.isPending}),u.jsxs(Ce,{className:"w-full",onClick:ie,disabled:W.isPending||!b.trim(),children:[W.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin mr-2"}):null,"Submit Input & Resume"]})]})]}),u.jsx(VE,{direction:"vertical",children:u.jsx(tg,{children:u.jsxs("div",{className:"h-full",children:[u.jsx(jK,{onFileSelect:c,selectedFile:l,selectedRepoPath:f,setSelectedRepoPath:d,selectedBranch:h,setSelectedBranch:g}),u.jsx(DK,{localPath:f,currentBranch:h,onBranchChange:g})]})})})]}):u.jsxs("div",{className:"flex flex-col h-full p-4 gap-4",children:[u.jsxs(Be,{className:"flex-1 flex flex-col",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(r8,{className:"h-5 w-5"})," Agent Log & Thoughts"]})}),u.jsx(Ke,{className:"flex-1 flex items-center justify-center",children:u.jsx("p",{className:"text-muted-foreground",children:"Select a job to view logs."})})]}),u.jsx(VE,{direction:"vertical",children:u.jsx(tg,{children:u.jsxs("div",{className:"h-full",children:[u.jsx(jK,{onFileSelect:c,selectedFile:l,selectedRepoPath:f,setSelectedRepoPath:d,selectedBranch:h,setSelectedBranch:g}),u.jsx(DK,{localPath:f,currentBranch:h,onBranchChange:g})]})})})]})})]}),u.jsx(LK,{isOpen:v,onClose:()=>x(!1),agent:null}),u.jsx(LK,{isOpen:m,onClose:()=>p(!1),agent:y})]})};function jdt(){const t=TP(),[,e]=vi(),r=new URLSearchParams(t).get("tab")||"chat",[i,s]=M.useState(r);M.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/arcana?tab=${a}`)};return u.jsxs("div",{className:"h-full",children:[u.jsx("div",{className:"border-b border-border bg-card/50 px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold text-foreground text-glow",children:"ARCANA Cognitive System"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Conversational AI & Shell Interface"})]}),u.jsx(ln,{variant:"outline",className:"border-primary text-primary",children:"GPT-4 Active"})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsxs(pc,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[u.jsx("div",{className:"border-b border-border bg-card px-6",children:u.jsxs(ml,{className:"bg-transparent h-12",children:[u.jsxs(lr,{value:"chat",className:"gap-2","data-testid":"tab-chat",children:[u.jsx(aB,{className:"h-4 w-4"}),"Chat Interface"]}),u.jsxs(lr,{value:"terminal",className:"gap-2","data-testid":"tab-terminal",children:[u.jsx(ol,{className:"h-4 w-4"}),"Terminal"]}),u.jsxs(lr,{value:"memory",className:"gap-2","data-testid":"tab-memory",children:[u.jsx(uf,{className:"h-4 w-4"})," ","Context Memory"]}),u.jsxs(lr,{value:"agent",className:"gap-2","data-testid":"tab-agent",children:[u.jsx(Vl,{className:"h-4 w-4"})," ","Arcana Mode Agent"]})]})}),u.jsxs("div",{className:"flex-1 overflow-hidden",children:[u.jsx(xn,{value:"chat",className:"h-full m-0",children:u.jsx(Edt,{})}),u.jsx(xn,{value:"terminal",className:"h-full m-0",children:u.jsx(Pdt,{})}),u.jsxs(xn,{value:"memory",className:"h-full m-0",children:[u.jsx(yme,{})," "]}),u.jsxs(xn,{value:"agent",className:"h-full m-0",children:[u.jsx(Idt,{})," "]})]})]})})]})}var Ddt={value:()=>{}};function mN(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new KE(n)}function KE(t){this._=t}function Ldt(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}KE.prototype=mN.prototype={constructor:KE,on:function(t,e){var n=this._,r=Ldt(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=Fdt(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=FK(n[i],t.name,e);else if(e==null)for(i in n)n[i]=FK(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new KE(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function Fdt(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function FK(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ddt,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var yF="http://www.w3.org/1999/xhtml";const BK={svg:"http://www.w3.org/2000/svg",xhtml:yF,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function gN(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),BK.hasOwnProperty(e)?{space:BK[e],local:t}:t}function Bdt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===yF&&e.documentElement.namespaceURI===yF?e.createElement(t):e.createElementNS(n,t)}}function Udt(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Cme(t){var e=gN(t);return(e.local?Udt:Bdt)(e)}function $dt(){}function U$(t){return t==null?$dt:function(){return this.querySelector(t)}}function zdt(t){typeof t!="function"&&(t=U$(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),l,c,f=0;f<o;++f)(l=s[f])&&(c=t.call(l,l.__data__,f,s))&&("__data__"in l&&(c.__data__=l.__data__),a[f]=c);return new Ro(r,this._parents)}function Hdt(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Vdt(){return[]}function Eme(t){return t==null?Vdt:function(){return this.querySelectorAll(t)}}function Wdt(t){return function(){return Hdt(t.apply(this,arguments))}}function Gdt(t){typeof t=="function"?t=Wdt(t):t=Eme(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(t.call(l,l.__data__,c,o)),i.push(l));return new Ro(r,i)}function Mme(t){return function(){return this.matches(t)}}function Ame(t){return function(e){return e.matches(t)}}var qdt=Array.prototype.find;function Kdt(t){return function(){return qdt.call(this.children,t)}}function Xdt(){return this.firstElementChild}function Ydt(t){return this.select(t==null?Xdt:Kdt(typeof t=="function"?t:Ame(t)))}var Zdt=Array.prototype.filter;function Qdt(){return Array.from(this.children)}function Jdt(t){return function(){return Zdt.call(this.children,t)}}function eft(t){return this.selectAll(t==null?Qdt:Jdt(typeof t=="function"?t:Ame(t)))}function tft(t){typeof t!="function"&&(t=Mme(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new Ro(r,this._parents)}function Tme(t){return new Array(t.length)}function nft(){return new Ro(this._enter||this._groups.map(Tme),this._parents)}function fT(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}fT.prototype={constructor:fT,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function rft(t){return function(){return t}}function ift(t,e,n,r,i,s){for(var o=0,a,l=e.length,c=s.length;o<c;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new fT(t,s[o]);for(;o<l;++o)(a=e[o])&&(i[o]=a)}function sft(t,e,n,r,i,s,o){var a,l,c=new Map,f=e.length,d=s.length,h=new Array(f),g;for(a=0;a<f;++a)(l=e[a])&&(h[a]=g=o.call(l,l.__data__,a,e)+"",c.has(g)?i[a]=l:c.set(g,l));for(a=0;a<d;++a)g=o.call(t,s[a],a,s)+"",(l=c.get(g))?(r[a]=l,l.__data__=s[a],c.delete(g)):n[a]=new fT(t,s[a]);for(a=0;a<f;++a)(l=e[a])&&c.get(h[a])===l&&(i[a]=l)}function oft(t){return t.__data__}function aft(t,e){if(!arguments.length)return Array.from(this,oft);var n=e?sft:ift,r=this._parents,i=this._groups;typeof t!="function"&&(t=rft(t));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var f=r[c],d=i[c],h=d.length,g=lft(t.call(f,f&&f.__data__,c,r)),v=g.length,x=a[c]=new Array(v),m=o[c]=new Array(v),p=l[c]=new Array(h);n(f,d,x,m,p,g,e);for(var y=0,_=0,b,w;y<v;++y)if(b=x[y]){for(y>=_&&(_=y+1);!(w=m[_])&&++_<v;);b._next=w||null}}return o=new Ro(o,r),o._enter=a,o._exit=l,o}function lft(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cft(){return new Ro(this._exit||this._groups.map(Tme),this._parents)}function uft(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function dft(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],f=r[l],d=c.length,h=a[l]=new Array(d),g,v=0;v<d;++v)(g=c[v]||f[v])&&(h[v]=g);for(;l<i;++l)a[l]=n[l];return new Ro(a,this._parents)}function fft(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function hft(t){t||(t=pft);function e(d,h){return d&&h?t(d.__data__,h.__data__):!d-!h}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,f=0;f<a;++f)(c=o[f])&&(l[f]=c);l.sort(e)}return new Ro(i,this._parents).order()}function pft(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function mft(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function gft(){return Array.from(this)}function vft(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function yft(){let t=0;for(const e of this)++t;return t}function xft(){return!this.node()}function _ft(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function bft(t){return function(){this.removeAttribute(t)}}function wft(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Sft(t,e){return function(){this.setAttribute(t,e)}}function Cft(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Eft(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Mft(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Aft(t,e){var n=gN(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?wft:bft:typeof e=="function"?n.local?Mft:Eft:n.local?Cft:Sft)(n,e))}function Pme(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Tft(t){return function(){this.style.removeProperty(t)}}function Pft(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Nft(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Rft(t,e,n){return arguments.length>1?this.each((e==null?Tft:typeof e=="function"?Nft:Pft)(t,e,n??"")):uy(this.node(),t)}function uy(t,e){return t.style.getPropertyValue(e)||Pme(t).getComputedStyle(t,null).getPropertyValue(e)}function kft(t){return function(){delete this[t]}}function Oft(t,e){return function(){this[t]=e}}function Ift(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function jft(t,e){return arguments.length>1?this.each((e==null?kft:typeof e=="function"?Ift:Oft)(t,e)):this.node()[t]}function Nme(t){return t.trim().split(/^|\s+/)}function $$(t){return t.classList||new Rme(t)}function Rme(t){this._node=t,this._names=Nme(t.getAttribute("class")||"")}Rme.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function kme(t,e){for(var n=$$(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Ome(t,e){for(var n=$$(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function Dft(t){return function(){kme(this,t)}}function Lft(t){return function(){Ome(this,t)}}function Fft(t,e){return function(){(e.apply(this,arguments)?kme:Ome)(this,t)}}function Bft(t,e){var n=Nme(t+"");if(arguments.length<2){for(var r=$$(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?Fft:e?Dft:Lft)(n,e))}function Uft(){this.textContent=""}function $ft(t){return function(){this.textContent=t}}function zft(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function Hft(t){return arguments.length?this.each(t==null?Uft:(typeof t=="function"?zft:$ft)(t)):this.node().textContent}function Vft(){this.innerHTML=""}function Wft(t){return function(){this.innerHTML=t}}function Gft(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function qft(t){return arguments.length?this.each(t==null?Vft:(typeof t=="function"?Gft:Wft)(t)):this.node().innerHTML}function Kft(){this.nextSibling&&this.parentNode.appendChild(this)}function Xft(){return this.each(Kft)}function Yft(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Zft(){return this.each(Yft)}function Qft(t){var e=typeof t=="function"?t:Cme(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function Jft(){return null}function eht(t,e){var n=typeof t=="function"?t:Cme(t),r=e==null?Jft:typeof e=="function"?e:U$(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function tht(){var t=this.parentNode;t&&t.removeChild(this)}function nht(){return this.each(tht)}function rht(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function iht(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function sht(t){return this.select(t?iht:rht)}function oht(t){return arguments.length?this.property("__data__",t):this.node().__data__}function aht(t){return function(e){t.call(this,e,this.__data__)}}function lht(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function cht(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function uht(t,e,n){return function(){var r=this.__on,i,s=aht(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function dht(t,e,n){var r=lht(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,f;l<c;++l)for(i=0,f=a[l];i<s;++i)if((o=r[i]).type===f.type&&o.name===f.name)return f.value}return}for(a=e?uht:cht,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function Ime(t,e,n){var r=Pme(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function fht(t,e){return function(){return Ime(this,t,e)}}function hht(t,e){return function(){return Ime(this,t,e.apply(this,arguments))}}function pht(t,e){return this.each((typeof e=="function"?hht:fht)(t,e))}function*mht(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var jme=[null];function Ro(t,e){this._groups=t,this._parents=e}function f1(){return new Ro([[document.documentElement]],jme)}function ght(){return this}Ro.prototype=f1.prototype={constructor:Ro,select:zdt,selectAll:Gdt,selectChild:Ydt,selectChildren:eft,filter:tft,data:aft,enter:nft,exit:cft,join:uft,merge:dft,selection:ght,order:fft,sort:hft,call:mft,nodes:gft,node:vft,size:yft,empty:xft,each:_ft,attr:Aft,style:Rft,property:jft,classed:Bft,text:Hft,html:qft,raise:Xft,lower:Zft,append:Qft,insert:eht,remove:nht,clone:sht,datum:oht,on:dht,dispatch:pht,[Symbol.iterator]:mht};function $s(t){return typeof t=="string"?new Ro([[document.querySelector(t)]],[document.documentElement]):new Ro([[t]],jme)}function vht(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Ua(t,e){if(t=vht(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const yht={passive:!1},Gb={capture:!0,passive:!1};function hI(t){t.stopImmediatePropagation()}function tv(t){t.preventDefault(),t.stopImmediatePropagation()}function Dme(t){var e=t.document.documentElement,n=$s(t).on("dragstart.drag",tv,Gb);"onselectstart"in e?n.on("selectstart.drag",tv,Gb):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Lme(t,e){var n=t.document.documentElement,r=$s(t).on("dragstart.drag",null);e&&(r.on("click.drag",tv,Gb),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const yC=t=>()=>t;function xF(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:s,x:o,y:a,dx:l,dy:c,dispatch:f}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:s,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:f}})}xF.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function xht(t){return!t.ctrlKey&&!t.button}function _ht(){return this.parentNode}function bht(t,e){return e??{x:t.x,y:t.y}}function wht(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fme(){var t=xht,e=_ht,n=bht,r=wht,i={},s=mN("start","drag","end"),o=0,a,l,c,f,d=0;function h(b){b.on("mousedown.drag",g).filter(r).on("touchstart.drag",m).on("touchmove.drag",p,yht).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(b,w){if(!(f||!t.call(this,b,w))){var E=_(this,e.call(this,b,w),b,w,"mouse");E&&($s(b.view).on("mousemove.drag",v,Gb).on("mouseup.drag",x,Gb),Dme(b.view),hI(b),c=!1,a=b.clientX,l=b.clientY,E("start",b))}}function v(b){if(tv(b),!c){var w=b.clientX-a,E=b.clientY-l;c=w*w+E*E>d}i.mouse("drag",b)}function x(b){$s(b.view).on("mousemove.drag mouseup.drag",null),Lme(b.view,c),tv(b),i.mouse("end",b)}function m(b,w){if(t.call(this,b,w)){var E=b.changedTouches,A=e.call(this,b,w),T=E.length,P,N;for(P=0;P<T;++P)(N=_(this,A,b,w,E[P].identifier,E[P]))&&(hI(b),N("start",b,E[P]))}}function p(b){var w=b.changedTouches,E=w.length,A,T;for(A=0;A<E;++A)(T=i[w[A].identifier])&&(tv(b),T("drag",b,w[A]))}function y(b){var w=b.changedTouches,E=w.length,A,T;for(f&&clearTimeout(f),f=setTimeout(function(){f=null},500),A=0;A<E;++A)(T=i[w[A].identifier])&&(hI(b),T("end",b,w[A]))}function _(b,w,E,A,T,P){var N=s.copy(),O=Ua(P||E,w),I,D,F;if((F=n.call(b,new xF("beforestart",{sourceEvent:E,target:h,identifier:T,active:o,x:O[0],y:O[1],dx:0,dy:0,dispatch:N}),A))!=null)return I=F.x-O[0]||0,D=F.y-O[1]||0,function $(z,H,R){var j=O,B;switch(z){case"start":i[T]=$,B=o++;break;case"end":delete i[T],--o;case"drag":O=Ua(R||H,w),B=o;break}N.call(z,b,new xF(z,{sourceEvent:H,subject:F,target:h,identifier:T,active:B,x:O[0]+I,y:O[1]+D,dx:O[0]-j[0],dy:O[1]-j[1],dispatch:N}),A)}}return h.filter=function(b){return arguments.length?(t=typeof b=="function"?b:yC(!!b),h):t},h.container=function(b){return arguments.length?(e=typeof b=="function"?b:yC(b),h):e},h.subject=function(b){return arguments.length?(n=typeof b=="function"?b:yC(b),h):n},h.touchable=function(b){return arguments.length?(r=typeof b=="function"?b:yC(!!b),h):r},h.on=function(){var b=s.on.apply(s,arguments);return b===s?h:b},h.clickDistance=function(b){return arguments.length?(d=(b=+b)*b,h):Math.sqrt(d)},h}var dy=0,W0=0,f0=0,Bme=1e3,hT,G0,pT=0,Ep=0,vN=0,qb=typeof performance=="object"&&performance.now?performance:Date,Ume=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function z$(){return Ep||(Ume(Sht),Ep=qb.now()+vN)}function Sht(){Ep=0}function mT(){this._call=this._time=this._next=null}mT.prototype=$me.prototype={constructor:mT,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?z$():+n)+(e==null?0:+e),!this._next&&G0!==this&&(G0?G0._next=this:hT=this,G0=this),this._call=t,this._time=n,_F()},stop:function(){this._call&&(this._call=null,this._time=1/0,_F())}};function $me(t,e,n){var r=new mT;return r.restart(t,e,n),r}function Cht(){z$(),++dy;for(var t=hT,e;t;)(e=Ep-t._time)>=0&&t._call.call(void 0,e),t=t._next;--dy}function UK(){Ep=(pT=qb.now())+vN,dy=W0=0;try{Cht()}finally{dy=0,Mht(),Ep=0}}function Eht(){var t=qb.now(),e=t-pT;e>Bme&&(vN-=e,pT=t)}function Mht(){for(var t,e=hT,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:hT=n);G0=t,_F(r)}function _F(t){if(!dy){W0&&(W0=clearTimeout(W0));var e=t-Ep;e>24?(t<1/0&&(W0=setTimeout(UK,t-qb.now()-vN)),f0&&(f0=clearInterval(f0))):(f0||(pT=qb.now(),f0=setInterval(Eht,Bme)),dy=1,Ume(UK))}}function $K(t,e,n){var r=new mT;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var Aht=mN("start","end","cancel","interrupt"),Tht=[],zme=0,zK=1,bF=2,XE=3,HK=4,wF=5,YE=6;function yN(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;Pht(t,n,{name:e,index:r,group:i,on:Aht,tween:Tht,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:zme})}function H$(t,e){var n=gl(t,e);if(n.state>zme)throw new Error("too late; already scheduled");return n}function mc(t,e){var n=gl(t,e);if(n.state>XE)throw new Error("too late; already running");return n}function gl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pht(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=$me(s,0,n.time);function s(c){n.state=zK,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var f,d,h,g;if(n.state!==zK)return l();for(f in r)if(g=r[f],g.name===n.name){if(g.state===XE)return $K(o);g.state===HK?(g.state=YE,g.timer.stop(),g.on.call("interrupt",t,t.__data__,g.index,g.group),delete r[f]):+f<e&&(g.state=YE,g.timer.stop(),g.on.call("cancel",t,t.__data__,g.index,g.group),delete r[f])}if($K(function(){n.state===XE&&(n.state=HK,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=bF,n.on.call("start",t,t.__data__,n.index,n.group),n.state===bF){for(n.state=XE,i=new Array(h=n.tween.length),f=0,d=-1;f<h;++f)(g=n.tween[f].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=g);i.length=d+1}}function a(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=wF,1),d=-1,h=i.length;++d<h;)i[d].call(t,f);n.state===wF&&(n.on.call("end",t,t.__data__,n.index,n.group),l())}function l(){n.state=YE,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function ZE(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>bF&&r.state<wF,r.state=YE,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function Nht(t){return this.each(function(){ZE(this,t)})}function Rht(t,e){var n,r;return function(){var i=mc(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function kht(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=mc(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===e){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function Oht(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=gl(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?Rht:kht)(n,t,e))}function V$(t,e,n){var r=t._id;return t.each(function(){var i=mc(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return gl(i,r).value[e]}}function Hme(t,e){var n;return(typeof e=="number"?Ha:e instanceof mp?dA:(n=mp(e))?(e=n,dA):Wse)(t,e)}function Iht(t){return function(){this.removeAttribute(t)}}function jht(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Dht(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function Lht(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function Fht(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Bht(t,e,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a)))}}function Uht(t,e){var n=gN(t),r=n==="transform"?KVe:Hme;return this.attrTween(t,typeof e=="function"?(n.local?Bht:Fht)(n,r,V$(this,"attr."+t,e)):e==null?(n.local?jht:Iht)(n):(n.local?Lht:Dht)(n,r,e))}function $ht(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function zht(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Hht(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&zht(t,s)),n}return i._value=e,i}function Vht(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&$ht(t,s)),n}return i._value=e,i}function Wht(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=gN(t);return this.tween(n,(r.local?Hht:Vht)(r,e))}function Ght(t,e){return function(){H$(this,t).delay=+e.apply(this,arguments)}}function qht(t,e){return e=+e,function(){H$(this,t).delay=e}}function Kht(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ght:qht)(e,t)):gl(this.node(),e).delay}function Xht(t,e){return function(){mc(this,t).duration=+e.apply(this,arguments)}}function Yht(t,e){return e=+e,function(){mc(this,t).duration=e}}function Zht(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Xht:Yht)(e,t)):gl(this.node(),e).duration}function Qht(t,e){if(typeof e!="function")throw new Error;return function(){mc(this,t).ease=e}}function Jht(t){var e=this._id;return arguments.length?this.each(Qht(e,t)):gl(this.node(),e).ease}function ept(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;mc(this,t).ease=n}}function tpt(t){if(typeof t!="function")throw new Error;return this.each(ept(this._id,t))}function npt(t){typeof t!="function"&&(t=Mme(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&t.call(l,l.__data__,c,s)&&a.push(l);return new _u(r,this._parents,this._name,this._id)}function rpt(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=e[a],c=n[a],f=l.length,d=o[a]=new Array(f),h,g=0;g<f;++g)(h=l[g]||c[g])&&(d[g]=h);for(;a<r;++a)o[a]=e[a];return new _u(o,this._parents,this._name,this._id)}function ipt(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function spt(t,e,n){var r,i,s=ipt(e)?H$:mc;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function opt(t,e){var n=this._id;return arguments.length<2?gl(this.node(),n).on.on(t):this.each(spt(n,t,e))}function apt(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function lpt(){return this.on("end.remove",apt(this._id))}function cpt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=U$(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),f,d,h=0;h<l;++h)(f=a[h])&&(d=t.call(f,f.__data__,h,a))&&("__data__"in f&&(d.__data__=f.__data__),c[h]=d,yN(c[h],e,n,h,c,gl(f,n)));return new _u(s,this._parents,e,n)}function upt(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Eme(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,f,d=0;d<c;++d)if(f=l[d]){for(var h=t.call(f,f.__data__,d,l),g,v=gl(f,n),x=0,m=h.length;x<m;++x)(g=h[x])&&yN(g,e,n,x,h,v);s.push(h),o.push(f)}return new _u(s,o,e,n)}var dpt=f1.prototype.constructor;function fpt(){return new dpt(this._groups,this._parents)}function hpt(t,e){var n,r,i;return function(){var s=uy(this,t),o=(this.style.removeProperty(t),uy(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function Vme(t){return function(){this.style.removeProperty(t)}}function ppt(t,e,n){var r,i=n+"",s;return function(){var o=uy(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function mpt(t,e,n){var r,i,s;return function(){var o=uy(this,t),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(t),uy(this,t))),o===l?null:o===r&&l===i?s:(i=l,s=e(r=o,a))}}function gpt(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var l=mc(this,t),c=l.on,f=l.value[s]==null?a||(a=Vme(e)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(o,i=f),l.on=r}}function vpt(t,e,n){var r=(t+="")=="transform"?qVe:Hme;return e==null?this.styleTween(t,hpt(t,r)).on("end.style."+t,Vme(t)):typeof e=="function"?this.styleTween(t,mpt(t,r,V$(this,"style."+t,e))).each(gpt(this._id,t)):this.styleTween(t,ppt(t,r,e),n).on("end.style."+t,null)}function ypt(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function xpt(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&ypt(t,o,n)),r}return s._value=e,s}function _pt(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,xpt(t,e,n??""))}function bpt(t){return function(){this.textContent=t}}function wpt(t){return function(){var e=t(this);this.textContent=e??""}}function Spt(t){return this.tween("text",typeof t=="function"?wpt(V$(this,"text",t)):bpt(t==null?"":t+""))}function Cpt(t){return function(e){this.textContent=t.call(this,e)}}function Ept(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Cpt(i)),e}return r._value=t,r}function Mpt(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,Ept(t))}function Apt(){for(var t=this._name,e=this._id,n=Wme(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var f=gl(l,e);yN(l,t,n,c,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new _u(r,this._parents,t,n)}function Tpt(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=mc(this,r),f=c.on;f!==t&&(e=(t=f).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(l)),c.on=e}),i===0&&s()})}var Ppt=0;function _u(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Wme(){return++Ppt}var Tc=f1.prototype;_u.prototype={constructor:_u,select:cpt,selectAll:upt,selectChild:Tc.selectChild,selectChildren:Tc.selectChildren,filter:npt,merge:rpt,selection:fpt,transition:Apt,call:Tc.call,nodes:Tc.nodes,node:Tc.node,size:Tc.size,empty:Tc.empty,each:Tc.each,on:opt,attr:Uht,attrTween:Wht,style:vpt,styleTween:_pt,text:Spt,textTween:Mpt,remove:lpt,tween:Oht,delay:Kht,duration:Zht,ease:Jht,easeVarying:tpt,end:Tpt,[Symbol.iterator]:Tc[Symbol.iterator]};function Npt(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Rpt={time:null,delay:0,duration:250,ease:Npt};function kpt(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Opt(t){var e,n;t instanceof _u?(e=t._id,t=t._name):(e=Wme(),(n=Rpt).time=z$(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&yN(l,t,e,c,o,n||kpt(l,e));return new _u(r,this._parents,t,e)}f1.prototype.interrupt=Nht;f1.prototype.transition=Opt;const xC=t=>()=>t;function Ipt(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Yc(t,e,n){this.k=t,this.x=e,this.y=n}Yc.prototype={constructor:Yc,scale:function(t){return t===1?this:new Yc(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Yc(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var xN=new Yc(1,0,0);Gme.prototype=Yc.prototype;function Gme(t){for(;!t.__zoom;)if(!(t=t.parentNode))return xN;return t.__zoom}function pI(t){t.stopImmediatePropagation()}function h0(t){t.preventDefault(),t.stopImmediatePropagation()}function jpt(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Dpt(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function VK(){return this.__zoom||xN}function Lpt(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Fpt(){return navigator.maxTouchPoints||"ontouchstart"in this}function Bpt(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],s=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function qme(){var t=jpt,e=Dpt,n=Bpt,r=Lpt,i=Fpt,s=[0,1/0],o=[[-1/0,-1/0],[1/0,1/0]],a=250,l=UE,c=mN("start","zoom","end"),f,d,h,g=500,v=150,x=0,m=10;function p(F){F.property("__zoom",VK).on("wheel.zoom",T,{passive:!1}).on("mousedown.zoom",P).on("dblclick.zoom",N).filter(i).on("touchstart.zoom",O).on("touchmove.zoom",I).on("touchend.zoom touchcancel.zoom",D).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}p.transform=function(F,$,z,H){var R=F.selection?F.selection():F;R.property("__zoom",VK),F!==R?w(F,$,z,H):R.interrupt().each(function(){E(this,arguments).event(H).start().zoom(null,typeof $=="function"?$.apply(this,arguments):$).end()})},p.scaleBy=function(F,$,z,H){p.scaleTo(F,function(){var R=this.__zoom.k,j=typeof $=="function"?$.apply(this,arguments):$;return R*j},z,H)},p.scaleTo=function(F,$,z,H){p.transform(F,function(){var R=e.apply(this,arguments),j=this.__zoom,B=z==null?b(R):typeof z=="function"?z.apply(this,arguments):z,W=j.invert(B),G=typeof $=="function"?$.apply(this,arguments):$;return n(_(y(j,G),B,W),R,o)},z,H)},p.translateBy=function(F,$,z,H){p.transform(F,function(){return n(this.__zoom.translate(typeof $=="function"?$.apply(this,arguments):$,typeof z=="function"?z.apply(this,arguments):z),e.apply(this,arguments),o)},null,H)},p.translateTo=function(F,$,z,H,R){p.transform(F,function(){var j=e.apply(this,arguments),B=this.__zoom,W=H==null?b(j):typeof H=="function"?H.apply(this,arguments):H;return n(xN.translate(W[0],W[1]).scale(B.k).translate(typeof $=="function"?-$.apply(this,arguments):-$,typeof z=="function"?-z.apply(this,arguments):-z),j,o)},H,R)};function y(F,$){return $=Math.max(s[0],Math.min(s[1],$)),$===F.k?F:new Yc($,F.x,F.y)}function _(F,$,z){var H=$[0]-z[0]*F.k,R=$[1]-z[1]*F.k;return H===F.x&&R===F.y?F:new Yc(F.k,H,R)}function b(F){return[(+F[0][0]+ +F[1][0])/2,(+F[0][1]+ +F[1][1])/2]}function w(F,$,z,H){F.on("start.zoom",function(){E(this,arguments).event(H).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(H).end()}).tween("zoom",function(){var R=this,j=arguments,B=E(R,j).event(H),W=e.apply(R,j),G=z==null?b(W):typeof z=="function"?z.apply(R,j):z,K=Math.max(W[1][0]-W[0][0],W[1][1]-W[0][1]),ie=R.__zoom,le=typeof $=="function"?$.apply(R,j):$,J=l(ie.invert(G).concat(K/ie.k),le.invert(G).concat(K/le.k));return function(U){if(U===1)U=le;else{var X=J(U),Q=K/X[2];U=new Yc(Q,G[0]-X[0]*Q,G[1]-X[1]*Q)}B.zoom(null,U)}})}function E(F,$,z){return!z&&F.__zooming||new A(F,$)}function A(F,$){this.that=F,this.args=$,this.active=0,this.sourceEvent=null,this.extent=e.apply(F,$),this.taps=0}A.prototype={event:function(F){return F&&(this.sourceEvent=F),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(F,$){return this.mouse&&F!=="mouse"&&(this.mouse[1]=$.invert(this.mouse[0])),this.touch0&&F!=="touch"&&(this.touch0[1]=$.invert(this.touch0[0])),this.touch1&&F!=="touch"&&(this.touch1[1]=$.invert(this.touch1[0])),this.that.__zoom=$,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(F){var $=$s(this.that).datum();c.call(F,this.that,new Ipt(F,{sourceEvent:this.sourceEvent,target:p,type:F,transform:this.that.__zoom,dispatch:c}),$)}};function T(F,...$){if(!t.apply(this,arguments))return;var z=E(this,$).event(F),H=this.__zoom,R=Math.max(s[0],Math.min(s[1],H.k*Math.pow(2,r.apply(this,arguments)))),j=Ua(F);if(z.wheel)(z.mouse[0][0]!==j[0]||z.mouse[0][1]!==j[1])&&(z.mouse[1]=H.invert(z.mouse[0]=j)),clearTimeout(z.wheel);else{if(H.k===R)return;z.mouse=[j,H.invert(j)],ZE(this),z.start()}h0(F),z.wheel=setTimeout(B,v),z.zoom("mouse",n(_(y(H,R),z.mouse[0],z.mouse[1]),z.extent,o));function B(){z.wheel=null,z.end()}}function P(F,...$){if(h||!t.apply(this,arguments))return;var z=F.currentTarget,H=E(this,$,!0).event(F),R=$s(F.view).on("mousemove.zoom",G,!0).on("mouseup.zoom",K,!0),j=Ua(F,z),B=F.clientX,W=F.clientY;Dme(F.view),pI(F),H.mouse=[j,this.__zoom.invert(j)],ZE(this),H.start();function G(ie){if(h0(ie),!H.moved){var le=ie.clientX-B,J=ie.clientY-W;H.moved=le*le+J*J>x}H.event(ie).zoom("mouse",n(_(H.that.__zoom,H.mouse[0]=Ua(ie,z),H.mouse[1]),H.extent,o))}function K(ie){R.on("mousemove.zoom mouseup.zoom",null),Lme(ie.view,H.moved),h0(ie),H.event(ie).end()}}function N(F,...$){if(t.apply(this,arguments)){var z=this.__zoom,H=Ua(F.changedTouches?F.changedTouches[0]:F,this),R=z.invert(H),j=z.k*(F.shiftKey?.5:2),B=n(_(y(z,j),H,R),e.apply(this,$),o);h0(F),a>0?$s(this).transition().duration(a).call(w,B,H,F):$s(this).call(p.transform,B,H,F)}}function O(F,...$){if(t.apply(this,arguments)){var z=F.touches,H=z.length,R=E(this,$,F.changedTouches.length===H).event(F),j,B,W,G;for(pI(F),B=0;B<H;++B)W=z[B],G=Ua(W,this),G=[G,this.__zoom.invert(G),W.identifier],R.touch0?!R.touch1&&R.touch0[2]!==G[2]&&(R.touch1=G,R.taps=0):(R.touch0=G,j=!0,R.taps=1+!!f);f&&(f=clearTimeout(f)),j&&(R.taps<2&&(d=G[0],f=setTimeout(function(){f=null},g)),ZE(this),R.start())}}function I(F,...$){if(this.__zooming){var z=E(this,$).event(F),H=F.changedTouches,R=H.length,j,B,W,G;for(h0(F),j=0;j<R;++j)B=H[j],W=Ua(B,this),z.touch0&&z.touch0[2]===B.identifier?z.touch0[0]=W:z.touch1&&z.touch1[2]===B.identifier&&(z.touch1[0]=W);if(B=z.that.__zoom,z.touch1){var K=z.touch0[0],ie=z.touch0[1],le=z.touch1[0],J=z.touch1[1],U=(U=le[0]-K[0])*U+(U=le[1]-K[1])*U,X=(X=J[0]-ie[0])*X+(X=J[1]-ie[1])*X;B=y(B,Math.sqrt(U/X)),W=[(K[0]+le[0])/2,(K[1]+le[1])/2],G=[(ie[0]+J[0])/2,(ie[1]+J[1])/2]}else if(z.touch0)W=z.touch0[0],G=z.touch0[1];else return;z.zoom("touch",n(_(B,W,G),z.extent,o))}}function D(F,...$){if(this.__zooming){var z=E(this,$).event(F),H=F.changedTouches,R=H.length,j,B;for(pI(F),h&&clearTimeout(h),h=setTimeout(function(){h=null},g),j=0;j<R;++j)B=H[j],z.touch0&&z.touch0[2]===B.identifier?delete z.touch0:z.touch1&&z.touch1[2]===B.identifier&&delete z.touch1;if(z.touch1&&!z.touch0&&(z.touch0=z.touch1,delete z.touch1),z.touch0)z.touch0[1]=this.__zoom.invert(z.touch0[0]);else if(z.end(),z.taps===2&&(B=Ua(B,this),Math.hypot(d[0]-B[0],d[1]-B[1])<m)){var W=$s(this).on("dblclick.zoom");W&&W.apply(this,arguments)}}}return p.wheelDelta=function(F){return arguments.length?(r=typeof F=="function"?F:xC(+F),p):r},p.filter=function(F){return arguments.length?(t=typeof F=="function"?F:xC(!!F),p):t},p.touchable=function(F){return arguments.length?(i=typeof F=="function"?F:xC(!!F),p):i},p.extent=function(F){return arguments.length?(e=typeof F=="function"?F:xC([[+F[0][0],+F[0][1]],[+F[1][0],+F[1][1]]]),p):e},p.scaleExtent=function(F){return arguments.length?(s[0]=+F[0],s[1]=+F[1],p):[s[0],s[1]]},p.translateExtent=function(F){return arguments.length?(o[0][0]=+F[0][0],o[1][0]=+F[1][0],o[0][1]=+F[0][1],o[1][1]=+F[1][1],p):[[o[0][0],o[0][1]],[o[1][0],o[1][1]]]},p.constrain=function(F){return arguments.length?(n=F,p):n},p.duration=function(F){return arguments.length?(a=+F,p):a},p.interpolate=function(F){return arguments.length?(l=F,p):l},p.on=function(){var F=c.on.apply(c,arguments);return F===c?p:F},p.clickDistance=function(F){return arguments.length?(x=(F=+F)*F,p):Math.sqrt(x)},p.tapDistance=function(F){return arguments.length?(m=+F,p):m},p}const Upt=1,$pt=1e6;let mI=0;function zpt(){return mI=(mI+1)%Number.MAX_SAFE_INTEGER,mI.toString()}const gI=new Map,WK=t=>{if(gI.has(t))return;const e=setTimeout(()=>{gI.delete(t),y_({type:"REMOVE_TOAST",toastId:t})},$pt);gI.set(t,e)},Hpt=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Upt)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?WK(n):t.toasts.forEach(r=>{WK(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},QE=[];let JE={toasts:[]};function y_(t){JE=Hpt(JE,t),QE.forEach(e=>{e(JE)})}function Vpt({...t}){const e=zpt(),n=i=>y_({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>y_({type:"DISMISS_TOAST",toastId:e});return y_({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function wf(){const[t,e]=M.useState(JE);return M.useEffect(()=>(QE.push(e),()=>{const n=QE.indexOf(e);n>-1&&QE.splice(n,1)}),[t]),{...t,toast:Vpt,dismiss:n=>y_({type:"DISMISS_TOAST",toastId:n})}}function Wpt(){const t=M.useRef(null),{token:e}=_a(),n=Ni(),{toast:r}=wf(),{data:i,isLoading:s,error:o}=gn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const m=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${e}`}});if(!m.ok)throw new Error("Failed to fetch LLM models");return m.json()},enabled:!!e}),{data:a,isLoading:l,error:c}=gn({queryKey:["cognisysLLMProvidersMinimal"],queryFn:async()=>{const m=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${e}`}});if(!m.ok)throw new Error("Failed to fetch LLM providers");return m.json()},enabled:!!e,staleTime:5*60*1e3}),{data:f,isLoading:d,error:h}=gn({queryKey:["userLLMPreferences"],queryFn:async()=>{const m=await fetch("/api/arcana/llm/preferences",{headers:{Authorization:`Bearer ${e}`}});if(!m.ok)throw new Error("Failed to fetch user LLM preferences");return m.json()},enabled:!!e}),g=Ft({mutationFn:async m=>{const p=await fetch(`/api/cognisys/models/${m}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!p.ok){const y=await p.text();throw console.error("API Error Response (Delete Model):",y),new Error(`Failed to delete model: ${p.status} ${p.statusText} - ${y}`)}return{message:"Model deleted successfully"}},onSuccess:()=>{r({title:"Model Deleted",description:"LLM model has been successfully deleted."}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:m=>{r({title:"Error",description:`Failed to delete model: ${m.message}`,variant:"destructive"})}}),v=Ft({mutationFn:async m=>{const p=await fetch("/api/arcana/llm/preferences",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({default_model_id:m})});if(!p.ok){const y=await p.text();throw console.error("API Error Response (Set Default Model):",y),new Error(`Failed to set default model: ${p.status} ${p.statusText} - ${y}`)}return p.json()},onSuccess:()=>{r({title:"Default Model Set",description:"Default LLM model has been successfully updated."}),n.invalidateQueries({queryKey:["userLLMPreferences"]}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:m=>{r({title:"Error",description:`Failed to set default model: ${m.message}`,variant:"destructive"})}}),x=m=>{var p;return((p=a==null?void 0:a.find(y=>y.id===m))==null?void 0:p.name)||"Unknown Provider"};return M.useEffect(()=>{if(!t.current||!i||!a)return;const m=$s(t.current);m.selectAll("*").remove();const p=t.current.clientWidth,y=400,_=p/2,b=y/2,w=150,E=i.filter(T=>T.is_active),A=2*Math.PI/E.length;m.append("circle").attr("cx",_).attr("cy",b).attr("r",60).attr("fill","hsl(var(--card))").attr("stroke","hsl(var(--primary))").attr("stroke-width",3),m.append("text").attr("x",_).attr("y",b-10).attr("text-anchor","middle").attr("class","fill-current font-bold text-sm").text("COGNISYS"),m.append("text").attr("x",_).attr("y",b+10).attr("text-anchor","middle").attr("class","fill-current text-xs text-muted-foreground").text("Orchestrator"),E.forEach((T,P)=>{const N=P*A-Math.PI/2,O=_+w*Math.cos(N),I=b+w*Math.sin(N);m.append("line").attr("x1",_).attr("y1",b).attr("x2",O).attr("y2",I).attr("stroke",T.is_active?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",1.5).attr("opacity",.3),m.append("circle").attr("cx",O).attr("cy",I).attr("r",35).attr("fill","hsl(var(--card))").attr("stroke",T.is_active?"hsl(var(--primary))":"hsl(var(--muted))").attr("stroke-width",2);const D=m.append("text").attr("x",O).attr("y",I).attr("text-anchor","middle").attr("class","fill-current text-xs");T.model_name.split("-").forEach(($,z)=>{D.append("tspan").attr("x",O).attr("dy",z===0?-5:12).text($.length>8?$.substring(0,8):$)})})},[i,a]),s||l||d?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(Zt,{className:"h-6 w-6 animate-spin mx-auto"})," Loading models..."]}):o?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading models: ",o.message]}):c?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading providers: ",c.message]}):h?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading user preferences: ",h.message]}):u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(df,{className:"h-5 w-5 text-primary"}),"Model Relationship Map"]}),u.jsx(Et,{children:"Visual representation of all connected AI models"})]}),u.jsx(Ke,{children:u.jsx("svg",{ref:t,className:"w-full",height:"400"})})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Active Models"}),u.jsx(Et,{children:"Models currently available for routing"})]}),u.jsx(Ke,{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:i==null?void 0:i.filter(m=>m.is_active).map(m=>u.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"font-medium text-sm flex items-center gap-2",children:[m.model_name,(f==null?void 0:f.default_model_id)===m.id&&u.jsxs(ln,{variant:"secondary",className:"text-xs gap-1",children:[u.jsx(s8,{className:"h-3 w-3 fill-yellow-400 text-yellow-400"}),"Default"]})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(ln,{variant:"outline",className:"text-xs",children:x(m.provider_id)}),u.jsx(ln,{variant:"outline",className:"text-xs",children:m.type}),m.reasoning&&u.jsxs(ln,{variant:"secondary",className:"text-xs gap-1",children:[u.jsx(cB,{className:"h-3 w-3"}),"Reasoning"]})]}),m.role&&u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Role: ",m.role.replace(/_/g," ")]})]}),u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>v.mutate(m.id),disabled:v.isPending||(f==null?void 0:f.default_model_id)===m.id,children:[v.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(s8,{className:"h-4 w-4"}),"Set as Default"]}),u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>g.mutate(m.id),disabled:g.isPending,children:u.jsx(tc,{className:"h-4 w-4"})})]})]},m.id))})})]})]})}const GK=({root:t,setRoot:e})=>{const n=o=>{const a={id:Date.now().toString(),fact:"intent",operator:"equals",value:""},l=c=>c.id===o?{...c,rules:[...c.rules,a]}:{...c,rules:c.rules.map(f=>"combinator"in f?l(f):f)};e(c=>l(c))},r=o=>{const a=l=>({...l,rules:l.rules.filter(c=>c.id!==o).map(c=>"combinator"in c?a(c):c)});e(l=>a(l))},i=(o,a)=>{const l=c=>({...c,rules:c.rules.map(f=>f.id===o?{...f,...a}:"combinator"in f?l(f):f)});e(c=>l(c))},s=o=>"combinator"in o?u.jsxs("div",{className:"p-4 border rounded-lg space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Hn,{value:o.combinator,children:[u.jsx(Fn,{className:"w-[80px]",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"and",children:"AND"}),u.jsx(dt,{value:"or",children:"OR"})]})]}),u.jsxs(Ce,{size:"sm",onClick:()=>n(o.id),children:[u.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Rule"]})]}),u.jsx("div",{className:"pl-6 space-y-4",children:o.rules.map(s)})]},o.id):u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Hn,{value:o.fact,onValueChange:a=>i(o.id,{fact:a}),children:[u.jsx(Fn,{className:"w-[150px]",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"intent",children:"Intent"}),u.jsx(dt,{value:"prompt",children:"Prompt"})]})]}),u.jsxs(Hn,{value:o.operator,onValueChange:a=>i(o.id,{operator:a}),children:[u.jsx(Fn,{className:"w-[150px]",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"equals",children:"equals"}),u.jsx(dt,{value:"contains",children:"contains"}),u.jsx(dt,{value:"startsWith",children:"starts with"}),u.jsx(dt,{value:"endsWith",children:"ends with"})]})]}),u.jsx(Dt,{placeholder:"Value",value:o.value,onChange:a=>i(o.id,{value:a.target.value}),className:"flex-1"}),u.jsx(Ce,{variant:"ghost",size:"icon",onClick:()=>r(o.id),children:u.jsx(tc,{className:"h-4 w-4"})})]},o.id);return u.jsx("div",{children:s(t)})},Gpt=({onAddModel:t,providers:e})=>{const[n,r]=M.useState(""),[i,s]=M.useState(""),[o,a]=M.useState(""),[l,c]=M.useState(""),[f,d]=M.useState(""),h=g=>{if(g.preventDefault(),!n||!i||!o){alert("Please fill in all required fields.");return}t({modelName:n,providerId:i,modelType:o,maxTokens:l,costPerToken:f}),r(""),s(""),a(""),c(""),d("")};return u.jsxs("form",{onSubmit:h,className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"modelName",className:"text-right",children:"Model Name"}),u.jsx(Dt,{id:"modelName",value:n,onChange:g=>r(g.target.value),className:"col-span-3",required:!0})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"provider",className:"text-right",children:"Provider"}),u.jsxs(Hn,{value:i,onValueChange:s,required:!0,children:[u.jsx(Fn,{className:"col-span-3",children:u.jsx(Vn,{placeholder:"Select a provider"})}),u.jsx(Bn,{children:e.map(g=>u.jsx(dt,{value:g.id,children:g.name},g.id))})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"modelType",className:"text-right",children:"Model Type"}),u.jsxs(Hn,{value:o,onValueChange:a,required:!0,children:[u.jsx(Fn,{className:"col-span-3",children:u.jsx(Vn,{placeholder:"Select model type"})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"chat",children:"Chat"}),u.jsx(dt,{value:"completion",children:"Completion"}),u.jsx(dt,{value:"embedding",children:"Embedding"})]})]})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"maxTokens",className:"text-right",children:"Max Tokens"}),u.jsx(Dt,{id:"maxTokens",type:"number",value:l,onChange:g=>c(g.target.value===""?"":Number(g.target.value)),className:"col-span-3"})]}),u.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[u.jsx(ht,{htmlFor:"costPerToken",className:"text-right",children:"Cost/Token"}),u.jsx(Dt,{id:"costPerToken",type:"number",step:"0.0000001",value:f,onChange:g=>d(g.target.value===""?"":Number(g.target.value)),className:"col-span-3"})]}),u.jsx(K2,{children:u.jsx(Ce,{type:"submit",children:"Add Model"})})]})};function qpt(){const{token:t}=_a(),{toast:e}=wf(),n=Ni(),[r,i]=M.useState(""),[s,o]=M.useState({id:"root",combinator:"and",rules:[]}),[a,l]=M.useState(""),[c,f]=M.useState(1),[d,h]=M.useState(null),[g,v]=M.useState(!1),x=D=>{P.mutate({model_name:D.modelName,provider_id:D.providerId,type:D.modelType,is_active:!0,role:"general",max_tokens:D.maxTokens,cost_per_token:D.costPerToken}),v(!1)},{data:m,isLoading:p,error:y}=gn({queryKey:["cognisysRoutingRules"],queryFn:async()=>{const D=await fetch("/api/cognisys/routing-rules/",{headers:{Authorization:`Bearer ${t}`}});if(!D.ok){const F=await D.text();throw console.error("API Error Response:",F),new Error(`Network response was not ok: ${D.status} ${D.statusText} - ${F}`)}return D.json()},enabled:!!t}),{data:_,isLoading:b,error:w}=gn({queryKey:["cognisysProviders"],queryFn:async()=>{const D=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${t}`}});if(!D.ok)throw new Error("Failed to fetch providers");return D.json()},enabled:!!t}),{data:E,isLoading:A,error:T}=gn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const D=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${t}`}});if(!D.ok)throw new Error("Failed to fetch LLM models");return D.json()},enabled:!!t}),P=Ft({mutationFn:async D=>{const F=await fetch("/api/cognisys/models/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify(D)});if(!F.ok)throw new Error("Failed to create model");return F.json()},onSuccess:()=>{e({title:"Model Created",description:"New model has been successfully created."}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:D=>{e({title:"Error",description:`Failed to create model: ${D.message}`,variant:"destructive"})}}),N=Ft({mutationFn:async D=>{const F=await fetch("/api/cognisys/routing-rules/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({name:D.intent,condition:JSON.stringify(D.condition),target_model:D.targetModel,priority:D.priority})});if(!F.ok){const $=await F.text();throw console.error("API Error Response (Create Rule):",$),new Error(`Failed to create routing rule: ${F.status} ${F.statusText} - ${$}`)}return F.json()},onSuccess:()=>{e({title:"Rule Created",description:"New routing rule has been successfully created."}),i(""),o({id:"root",combinator:"and",rules:[]}),l(""),f(1)},onError:D=>{e({title:"Error",description:`Failed to create rule: ${D.message}`,variant:"destructive"})}}),O=Ft({mutationFn:async({ruleId:D,ruleData:F})=>{const $=await fetch(`/api/cognisys/routing-rules/${D}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({name:F.intent,condition:JSON.stringify(F.condition),target_model:F.targetModel,priority:F.priority})});if(!$.ok){const z=await $.text();throw console.error("API Error Response (Update Rule):",z),new Error(`Failed to update routing rule: ${$.status} ${$.statusText} - ${z}`)}return $.json()},onSuccess:()=>{e({title:"Rule Updated",description:"Routing rule has been successfully updated."}),n.invalidateQueries({queryKey:["cognisysRoutingRules"]}),h(null),i(""),o({id:"root",combinator:"and",rules:[]}),l(""),f(1)},onError:D=>{e({title:"Error",description:`Failed to update rule: ${D.message}`,variant:"destructive"})}}),I=Ft({mutationFn:async D=>{const F=await fetch(`/api/cognisys/routing-rules/${D}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}});if(!F.ok){const $=await F.text();throw console.error("API Error Response (Delete Rule):",$),new Error(`Failed to delete routing rule: ${F.status} ${F.statusText} - ${$}`)}return F.json()},onSuccess:()=>{e({title:"Rule Deleted",description:"Routing rule has been successfully deleted."}),n.invalidateQueries({queryKey:["cognisysRoutingRules"]})},onError:D=>{e({title:"Error",description:`Failed to delete rule: ${D.message}`,variant:"destructive"})}});return p?u.jsx("div",{className:"p-6 text-center",children:"Loading routing rules..."}):y?(console.error("Error loading routing rules:",y),u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading routing rules: ",y.message]})):(console.log("Routing Rules:",m),u.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Vg,{className:"h-5 w-5 text-primary"}),"Routing Rules"]}),u.jsx(Et,{className:"mt-1",children:"Define intent-based routing to appropriate models"})]}),u.jsxs(Ce,{"data-testid":"button-add-rule",onClick:()=>N.mutate({intent:r,condition:s,targetModel:a,priority:c}),disabled:N.isPending||!r||!s||!a,children:[N.isPending?u.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Rule"]})]})}),u.jsx(Ke,{className:"space-y-4",children:u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Intent Type"}),u.jsxs(Hn,{value:r,onValueChange:i,children:[u.jsx(Fn,{"data-testid":"select-intent-type",children:u.jsx(Vn,{placeholder:"Select intent..."})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"code_generation",children:"Code Generation"}),u.jsx(dt,{value:"reasoning",children:"Reasoning"}),u.jsx(dt,{value:"conversation",children:"Conversation"}),u.jsx(dt,{value:"summarization",children:"Summarization"}),u.jsx(dt,{value:"shell_command",children:"Shell Command"}),u.jsx(dt,{value:"custom",children:"Custom"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Condition"}),u.jsx(GK,{root:s,setRoot:o})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Target Model"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Hn,{value:a,onValueChange:l,children:[u.jsx(Fn,{"data-testid":"select-target-model",children:u.jsx(Vn,{placeholder:"Select model..."})}),u.jsx(Bn,{children:E==null?void 0:E.map(D=>u.jsx(dt,{value:D.model_name,children:D.model_name},D.id))})]}),u.jsxs(tx,{open:g,onOpenChange:v,children:[u.jsx(e$,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"icon",children:u.jsx(is,{className:"h-4 w-4"})})}),u.jsxs(Wp,{className:"sm:max-w-[425px]",children:[u.jsxs(nx,{children:[u.jsx(rx,{children:"Add New Model"}),u.jsx(ix,{children:"Add a new LLM model to your system."})]}),u.jsx(Gpt,{onAddModel:x,providers:_||[]})]})]})]})]})]})})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Active Rules"}),u.jsx(Et,{children:"Rules are evaluated in order of priority"})]}),u.jsx(Ke,{className:"space-y-3",children:p?u.jsx("p",{className:"text-muted-foreground",children:"Loading rules..."}):y?u.jsxs("p",{className:"text-red-500",children:["Error loading rules: ",y.message]}):u.jsx(u.Fragment,{children:Array.isArray(m)&&m.length>0?m.map(D=>{try{return u.jsx(Be,{className:"bg-card/50",children:u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ln,{variant:"default",className:"text-xs",children:D.name.replace(/_/g," ")}),u.jsxs(ln,{variant:"outline",className:"text-xs",children:["Priority ",D.priority]})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Condition:"}),u.jsx("div",{className:"text-sm font-mono bg-muted/30 px-2 py-1 rounded",children:D.condition})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:"Target:"}),u.jsx(ln,{variant:"secondary",className:"text-xs",children:D.targetModel})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>{h(D.id),i(D.intent);try{o(JSON.parse(D.condition))}catch(F){console.error("Failed to parse rule condition:",F),o({id:"root",combinator:"and",rules:[]})}l(D.targetModel),f(D.priority)},children:"Edit"}),u.jsx(Ce,{variant:"ghost",size:"sm","data-testid":`button-delete-rule-${D.id}`,onClick:()=>I.mutate(D.id),disabled:I.isPending,children:I.isPending?u.jsx(Kr,{className:"h-4 w-4 animate-spin"}):u.jsx(tc,{className:"h-4 w-4"})})]})]})})},D.id)}catch(F){return console.error(`Error rendering rule with ID ${D.id||"unknown"}:`,F),u.jsxs(Be,{className:"bg-red-100 border-red-400 text-red-700 p-4 mb-2",children:[u.jsx("p",{children:"Error rendering rule. Please check console for details."}),D.id&&u.jsxs("p",{children:["Rule ID: ",D.id]}),u.jsxs("p",{children:["Error: ",F.message]})]},`error-${D.id||Math.random()}`)}}):u.jsx("p",{className:"text-muted-foreground",children:"No routing rules found."})})})]}),d&&u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{children:"Edit Rule"})}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Intent Type"}),u.jsxs(Hn,{value:r,onValueChange:i,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select intent..."})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"code_generation",children:"Code Generation"}),u.jsx(dt,{value:"reasoning",children:"Reasoning"}),u.jsx(dt,{value:"conversation",children:"Conversation"}),u.jsx(dt,{value:"summarization",children:"Summarization"}),u.jsx(dt,{value:"shell_command",children:"Shell Command"}),u.jsx(dt,{value:"custom",children:"Custom"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Condition"}),u.jsx(GK,{root:s,setRoot:o})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Target Model"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs(Hn,{value:a,onValueChange:l,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select model..."})}),u.jsx(Bn,{children:E==null?void 0:E.map(D=>u.jsx(dt,{value:D.model_name,children:D.model_name},D.id))})]}),u.jsx(Ce,{variant:"outline",size:"icon",children:u.jsx(is,{className:"h-4 w-4"})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx(Ce,{variant:"ghost",onClick:()=>h(null),children:"Cancel"}),u.jsxs(Ce,{onClick:()=>{O.mutate({ruleId:d,ruleData:{intent:r,condition:s,targetModel:a,priority:c}})},disabled:O.isPending,children:[O.isPending?u.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"}):null,"Save Changes"]})]})]})]}),u.jsxs(Be,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Routing Logic"})}),u.jsxs(Ke,{className:"text-sm text-muted-foreground space-y-2",children:[u.jsx("p",{children:"COGNISYS evaluates each request against routing rules in priority order:"}),u.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Intent detection identifies the request type"}),u.jsx("li",{children:"Matching rules are found based on conditions"}),u.jsx("li",{children:"Highest priority matching rule determines the target model"}),u.jsx("li",{children:"Request is routed to the selected model"}),u.jsx("li",{children:"Optional reasoning step is applied if configured"})]})]})]})]}))}function Kpt(){const{toast:t}=to(),e=Ni(),{token:n}=_a(),[r,i]=M.useState({}),[s,o]=M.useState(!1),[a,l]=M.useState(null),[c,f]=M.useState({name:"",base_url:"",api_key:"",enabled:!0,organization_id:""}),{data:d,isLoading:h,error:g}=gn({queryKey:["cognisysLLMProviders"],queryFn:async()=>{const w=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${n}`}});if(!w.ok)throw new Error("Failed to fetch LLM providers");return w.json()},enabled:!!n}),v=Ft({mutationFn:async w=>{const E=await fetch("/api/cognisys/providers/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(w)});if(!E.ok){const A=await E.json();throw new Error(A.detail||"Failed to create LLM provider")}return E.json()},onSuccess:()=>{t({title:"Success",description:"LLM Provider created."}),e.invalidateQueries({queryKey:["cognisysLLMProviders"]}),f({name:"",base_url:"",api_key:"",enabled:!0,organization_id:""})},onError:w=>{t({title:"Error",description:w.message,variant:"destructive"})}}),x=Ft({mutationFn:async({id:w,updatedProvider:E})=>{const A=await fetch(`/api/cognisys/providers/${w}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(E)});if(!A.ok){const T=await A.json();throw new Error(T.detail||"Failed to update LLM provider")}return A.json()},onSuccess:()=>{t({title:"Success",description:"LLM Provider updated."}),e.invalidateQueries({queryKey:["cognisysLLMProviders"]}),l(null)},onError:w=>{t({title:"Error",description:w.message,variant:"destructive"})}}),m=Ft({mutationFn:async w=>{const E=await fetch(`/api/cognisys/providers/${w}`,{method:"DELETE",headers:{Authorization:`Bearer ${n}`}});if(!E.ok){const A=await E.json();throw new Error(A.detail||"Failed to delete LLM provider")}return E.json()},onSuccess:()=>{t({title:"Success",description:"LLM Provider deleted."}),e.invalidateQueries({queryKey:["cognisysLLMProviders"]})},onError:w=>{t({title:"Error",description:w.message,variant:"destructive"})}}),p=Ft({mutationFn:async w=>{const E=await fetch(`/api/cognisys/providers/${w}/test-connection`,{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!E.ok){const A=await E.json();throw new Error(A.detail||"Failed to test connection")}return E.json()},onSuccess:w=>{t({title:"Connection Test",description:w.message,variant:w.status==="success"?"default":"destructive"})},onError:w=>{t({title:"Error",description:`Connection test failed: ${w.message}`,variant:"destructive"})}}),y=w=>{l(w.id),o(!1),f({name:w.name,base_url:w.base_url,api_key:w.masked_api_key||"",enabled:w.enabled,organization_id:w.organization_id||""})},_=w=>{const E={name:c.name,base_url:c.base_url,enabled:c.enabled,organization_id:c.organization_id,...s&&{api_key:c.api_key}};x.mutate({id:w,updatedProvider:E})},b=()=>{v.mutate(c)};return h?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(Zt,{className:"h-6 w-6 animate-spin mx-auto"})," Loading providers..."]}):g?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error: ",g.message]}):u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[u.jsx(Be,{children:u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(cp,{className:"h-5 w-5 text-primary"}),"Provider Configuration"]}),u.jsx(Et,{children:"Manage API keys and settings for LLM providers"})]})}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"text-lg flex items-center gap-2",children:[u.jsx(is,{className:"h-5 w-5"})," Add New Provider"]})}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"new-provider-name",children:"Name"}),u.jsx(Dt,{id:"new-provider-name",placeholder:"e.g., OpenAI, Google Gemini",value:c.name,onChange:w=>f({...c,name:w.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"new-provider-base-url",children:"Base URL"}),u.jsx(Dt,{id:"new-provider-base-url",placeholder:"e.g., https://api.openai.com/v1",value:c.base_url,onChange:w=>f({...c,base_url:w.target.value})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"new-provider-api-key",children:"API Key"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Dt,{id:"new-provider-api-key",type:r.new?"text":"password",placeholder:"sk-...",value:c.api_key,onChange:w=>f({...c,api_key:w.target.value})}),u.jsx(Ce,{variant:"outline",size:"icon",onClick:()=>i({...r,new:!r.new}),children:r.new?u.jsx(kM,{className:"h-4 w-4"}):u.jsx(OM,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"new-provider-org-id",children:"Organization ID (optional)"}),u.jsx(Dt,{id:"new-provider-org-id",placeholder:"org-...",value:c.organization_id,onChange:w=>f({...c,organization_id:w.target.value})})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ru,{id:"new-provider-enabled",checked:c.enabled,onCheckedChange:w=>f({...c,enabled:w})}),u.jsx(ht,{htmlFor:"new-provider-enabled",children:"Enabled"})]}),u.jsxs(Ce,{className:"w-full",onClick:b,disabled:v.isPending||!c.name||!c.base_url||!c.api_key,children:[v.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(is,{className:"h-4 w-4 mr-2"}),"Create Provider"]})]})]}),d==null?void 0:d.map(w=>u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(qe,{className:"text-base",children:w.name}),u.jsx(Et,{className:"text-xs mt-1",children:w.base_url})]}),u.jsx(ru,{checked:w.enabled,onCheckedChange:E=>x.mutate({id:w.id,updatedProvider:{...w,enabled:E,api_key:""}}),disabled:x.isPending})]})}),u.jsx(Ke,{className:"space-y-4",children:a===w.id?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:`edit-name-${w.id}`,children:"Name"}),u.jsx(Dt,{id:`edit-name-${w.id}`,value:c.name,onChange:E=>f({...c,name:E.target.value})})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:`edit-base-url-${w.id}`,children:"Base URL"}),u.jsx(Dt,{id:`edit-base-url-${w.id}`,value:c.base_url,onChange:E=>f({...c,base_url:E.target.value})})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:`edit-api-key-${w.id}`,children:"API Key"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(ru,{id:`change-api-key-switch-${w.id}`,checked:s,onCheckedChange:o}),u.jsx(ht,{htmlFor:`change-api-key-switch-${w.id}`,children:"Change API Key"})]}),s?u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Dt,{id:`edit-api-key-${w.id}`,type:r[w.id]?"text":"password",placeholder:"sk-...",value:c.api_key,onChange:E=>f({...c,api_key:E.target.value})}),u.jsx(Ce,{variant:"outline",size:"icon",onClick:()=>i({...r,[w.id]:!r[w.id]}),children:r[w.id]?u.jsx(kM,{className:"h-4 w-4"}):u.jsx(OM,{className:"h-4 w-4"})})]}):u.jsx(Dt,{id:`edit-api-key-${w.id}`,type:"text",value:w.masked_api_key||"",readOnly:!0,className:"font-mono"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:`edit-org-id-${w.id}`,children:"Organization ID (optional)"}),u.jsx(Dt,{id:`edit-org-id-${w.id}`,value:c.organization_id,onChange:E=>f({...c,organization_id:E.target.value})})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{size:"sm",onClick:()=>_(w.id),disabled:x.isPending,children:[x.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(OP,{className:"h-4 w-4 mr-2"}),"Save Changes"]}),u.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>l(null),children:"Cancel"})]})]}):u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>y(w),children:[u.jsx(cp,{className:"h-4 w-4 mr-2"})," Edit"]}),u.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>p.mutate(w.id),disabled:p.isPending,children:[p.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(ZSe,{className:"h-4 w-4 mr-2"}),"Test Connection"]}),u.jsxs(Ce,{variant:"destructive",size:"sm",onClick:()=>m.mutate(w.id),disabled:m.isPending,children:[m.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(tc,{className:"h-4 w-4 mr-2"}),"Delete"]})]})})]},w.id)),u.jsxs(Be,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Multi-Provider Benefits"})}),u.jsx(Ke,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Automatic failover if one provider is down"}),u.jsx("li",{children:"Cost optimization by routing to cheaper models"}),u.jsx("li",{children:"Access to specialized models from different providers"}),u.jsx("li",{children:"No vendor lock-in, freedom to switch providers"}),u.jsx("li",{children:"Load balancing across multiple providers"})]})})]})]})}function si(t){if(typeof t=="string"||typeof t=="number")return""+t;let e="";if(Array.isArray(t))for(let n=0,r;n<t.length;n++)(r=si(t[n]))!==""&&(e+=(e&&" ")+r);else for(let n in t)t[n]&&(e+=(e&&" ")+n);return e}const oc={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:t=>`Node type "${t}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:t=>`The old edge with id=${t} does not exist.`,error009:t=>`Marker type "${t}" doesn't exist.`,error008:(t,{id:e,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${t} handle id: "${t==="source"?n:r}", edge id: ${e}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:t=>`Edge type "${t}" not found. Using fallback type "default".`,error012:t=>`Node with id "${t}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(t="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${t}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Kb=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],Kme=["Enter"," ","Escape"],Xme={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:t,x:e,y:n})=>`Moved selected node ${t}. New position, x: ${e}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var fy;(function(t){t.Strict="strict",t.Loose="loose"})(fy||(fy={}));var Yh;(function(t){t.Free="free",t.Vertical="vertical",t.Horizontal="horizontal"})(Yh||(Yh={}));var Xb;(function(t){t.Partial="partial",t.Full="full"})(Xb||(Xb={}));const Yme={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var yd;(function(t){t.Bezier="default",t.Straight="straight",t.Step="step",t.SmoothStep="smoothstep",t.SimpleBezier="simplebezier"})(yd||(yd={}));var gT;(function(t){t.Arrow="arrow",t.ArrowClosed="arrowclosed"})(gT||(gT={}));var $t;(function(t){t.Left="left",t.Top="top",t.Right="right",t.Bottom="bottom"})($t||($t={}));const qK={[$t.Left]:$t.Right,[$t.Right]:$t.Left,[$t.Top]:$t.Bottom,[$t.Bottom]:$t.Top};function Zme(t){return t===null?null:t?"valid":"invalid"}const Qme=t=>"id"in t&&"source"in t&&"target"in t,Xpt=t=>"id"in t&&"position"in t&&!("source"in t)&&!("target"in t),W$=t=>"id"in t&&"internals"in t&&!("source"in t)&&!("target"in t),h1=(t,e=[0,0])=>{const{width:n,height:r}=ju(t),i=t.origin??e,s=n*i[0],o=r*i[1];return{x:t.position.x-s,y:t.position.y-o}},Ypt=(t,e={nodeOrigin:[0,0]})=>{if(t.length===0)return{x:0,y:0,width:0,height:0};const n=t.reduce((r,i)=>{const s=typeof i=="string";let o=!e.nodeLookup&&!s?i:void 0;e.nodeLookup&&(o=s?e.nodeLookup.get(i):W$(i)?i:e.nodeLookup.get(i.id));const a=o?vT(o,e.nodeOrigin):{x:0,y:0,x2:0,y2:0};return _N(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return bN(n)},p1=(t,e={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return t.forEach(i=>{(e.filter===void 0||e.filter(i))&&(n=_N(n,vT(i)),r=!0)}),r?bN(n):{x:0,y:0,width:0,height:0}},G$=(t,e,[n,r,i]=[0,0,1],s=!1,o=!1)=>{const a={...g1(e,[n,r,i]),width:e.width/i,height:e.height/i},l=[];for(const c of t.values()){const{measured:f,selectable:d=!0,hidden:h=!1}=c;if(o&&!d||h)continue;const g=f.width??c.width??c.initialWidth??null,v=f.height??c.height??c.initialHeight??null,x=Yb(a,py(c)),m=(g??0)*(v??0),p=s&&x>0;(!c.internals.handleBounds||p||x>=m||c.dragging)&&l.push(c)}return l},Zpt=(t,e)=>{const n=new Set;return t.forEach(r=>{n.add(r.id)}),e.filter(r=>n.has(r.source)||n.has(r.target))};function Qpt(t,e){const n=new Map,r=e!=null&&e.nodes?new Set(e.nodes.map(i=>i.id)):null;return t.forEach(i=>{i.measured.width&&i.measured.height&&((e==null?void 0:e.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function Jpt({nodes:t,width:e,height:n,panZoom:r,minZoom:i,maxZoom:s},o){if(t.size===0)return Promise.resolve(!0);const a=Qpt(t,o),l=p1(a),c=q$(l,e,n,(o==null?void 0:o.minZoom)??i,(o==null?void 0:o.maxZoom)??s,(o==null?void 0:o.padding)??.1);return await r.setViewport(c,{duration:o==null?void 0:o.duration,ease:o==null?void 0:o.ease,interpolate:o==null?void 0:o.interpolate}),Promise.resolve(!0)}function Jme({nodeId:t,nextPosition:e,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:s}){const o=n.get(t),a=o.parentId?n.get(o.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},f=o.origin??r;let d=o.extent||i;if(o.extent==="parent"&&!o.expandParent)if(!a)s==null||s("005",oc.error005());else{const g=a.measured.width,v=a.measured.height;g&&v&&(d=[[l,c],[l+g,c+v]])}else a&&my(o.extent)&&(d=[[o.extent[0][0]+l,o.extent[0][1]+c],[o.extent[1][0]+l,o.extent[1][1]+c]]);const h=my(d)?Mp(e,d,o.measured):e;return(o.measured.width===void 0||o.measured.height===void 0)&&(s==null||s("015",oc.error015())),{position:{x:h.x-l+(o.measured.width??0)*f[0],y:h.y-c+(o.measured.height??0)*f[1]},positionAbsolute:h}}async function emt({nodesToRemove:t=[],edgesToRemove:e=[],nodes:n,edges:r,onBeforeDelete:i}){const s=new Set(t.map(h=>h.id)),o=[];for(const h of n){if(h.deletable===!1)continue;const g=s.has(h.id),v=!g&&h.parentId&&o.find(x=>x.id===h.parentId);(g||v)&&o.push(h)}const a=new Set(e.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),f=Zpt(o,l);for(const h of l)a.has(h.id)&&!f.find(v=>v.id===h.id)&&f.push(h);if(!i)return{edges:f,nodes:o};const d=await i({nodes:o,edges:f});return typeof d=="boolean"?d?{edges:f,nodes:o}:{edges:[],nodes:[]}:d}const hy=(t,e=0,n=1)=>Math.min(Math.max(t,e),n),Mp=(t={x:0,y:0},e,n)=>({x:hy(t.x,e[0][0],e[1][0]-((n==null?void 0:n.width)??0)),y:hy(t.y,e[0][1],e[1][1]-((n==null?void 0:n.height)??0))});function ege(t,e,n){const{width:r,height:i}=ju(n),{x:s,y:o}=n.internals.positionAbsolute;return Mp(t,[[s,o],[s+r,o+i]],e)}const KK=(t,e,n)=>t<e?hy(Math.abs(t-e),1,e)/e:t>n?-hy(Math.abs(t-n),1,e)/e:0,tge=(t,e,n=15,r=40)=>{const i=KK(t.x,r,e.width-r)*n,s=KK(t.y,r,e.height-r)*n;return[i,s]},_N=(t,e)=>({x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),x2:Math.max(t.x2,e.x2),y2:Math.max(t.y2,e.y2)}),SF=({x:t,y:e,width:n,height:r})=>({x:t,y:e,x2:t+n,y2:e+r}),bN=({x:t,y:e,x2:n,y2:r})=>({x:t,y:e,width:n-t,height:r-e}),py=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=W$(t)?t.internals.positionAbsolute:h1(t,e);return{x:n,y:r,width:((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0,height:((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0}},vT=(t,e=[0,0])=>{var i,s;const{x:n,y:r}=W$(t)?t.internals.positionAbsolute:h1(t,e);return{x:n,y:r,x2:n+(((i=t.measured)==null?void 0:i.width)??t.width??t.initialWidth??0),y2:r+(((s=t.measured)==null?void 0:s.height)??t.height??t.initialHeight??0)}},nge=(t,e)=>bN(_N(SF(t),SF(e))),Yb=(t,e)=>{const n=Math.max(0,Math.min(t.x+t.width,e.x+e.width)-Math.max(t.x,e.x)),r=Math.max(0,Math.min(t.y+t.height,e.y+e.height)-Math.max(t.y,e.y));return Math.ceil(n*r)},XK=t=>Ka(t.width)&&Ka(t.height)&&Ka(t.x)&&Ka(t.y),Ka=t=>!isNaN(t)&&isFinite(t),tmt=(t,e)=>{},m1=(t,e=[1,1])=>({x:e[0]*Math.round(t.x/e[0]),y:e[1]*Math.round(t.y/e[1])}),g1=({x:t,y:e},[n,r,i],s=!1,o=[1,1])=>{const a={x:(t-n)/i,y:(e-r)/i};return s?m1(a,o):a},yT=({x:t,y:e},[n,r,i])=>({x:t*i+n,y:e*i+r});function Pm(t,e){if(typeof t=="number")return Math.floor((e-e/(1+t))*.5);if(typeof t=="string"&&t.endsWith("px")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(n)}if(typeof t=="string"&&t.endsWith("%")){const n=parseFloat(t);if(!Number.isNaN(n))return Math.floor(e*n*.01)}return console.error(`[React Flow] The padding value "${t}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function nmt(t,e,n){if(typeof t=="string"||typeof t=="number"){const r=Pm(t,n),i=Pm(t,e);return{top:r,right:i,bottom:r,left:i,x:i*2,y:r*2}}if(typeof t=="object"){const r=Pm(t.top??t.y??0,n),i=Pm(t.bottom??t.y??0,n),s=Pm(t.left??t.x??0,e),o=Pm(t.right??t.x??0,e);return{top:r,right:o,bottom:i,left:s,x:s+o,y:r+i}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function rmt(t,e,n,r,i,s){const{x:o,y:a}=yT(t,[e,n,r]),{x:l,y:c}=yT({x:t.x+t.width,y:t.y+t.height},[e,n,r]),f=i-l,d=s-c;return{left:Math.floor(o),top:Math.floor(a),right:Math.floor(f),bottom:Math.floor(d)}}const q$=(t,e,n,r,i,s)=>{const o=nmt(s,e,n),a=(e-o.x)/t.width,l=(n-o.y)/t.height,c=Math.min(a,l),f=hy(c,r,i),d=t.x+t.width/2,h=t.y+t.height/2,g=e/2-d*f,v=n/2-h*f,x=rmt(t,g,v,f,e,n),m={left:Math.min(x.left-o.left,0),top:Math.min(x.top-o.top,0),right:Math.min(x.right-o.right,0),bottom:Math.min(x.bottom-o.bottom,0)};return{x:g-m.left+m.right,y:v-m.top+m.bottom,zoom:f}},Zb=()=>{var t;return typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)==null?void 0:t.indexOf("Mac"))>=0};function my(t){return t!=null&&t!=="parent"}function ju(t){var e,n;return{width:((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth??0,height:((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight??0}}function rge(t){var e,n;return(((e=t.measured)==null?void 0:e.width)??t.width??t.initialWidth)!==void 0&&(((n=t.measured)==null?void 0:n.height)??t.height??t.initialHeight)!==void 0}function ige(t,e={width:0,height:0},n,r,i){const s={...t},o=r.get(n);if(o){const a=o.origin||i;s.x+=o.internals.positionAbsolute.x-(e.width??0)*a[0],s.y+=o.internals.positionAbsolute.y-(e.height??0)*a[1]}return s}function YK(t,e){if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0}function imt(){let t,e;return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}function smt(t){return{...Xme,...t||{}}}function x_(t,{snapGrid:e=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){const{x:s,y:o}=Xa(t),a=g1({x:s-((i==null?void 0:i.left)??0),y:o-((i==null?void 0:i.top)??0)},r),{x:l,y:c}=n?m1(a,e):a;return{xSnapped:l,ySnapped:c,...a}}const K$=t=>({width:t.offsetWidth,height:t.offsetHeight}),sge=t=>{var e;return((e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))||(window==null?void 0:window.document)},omt=["INPUT","SELECT","TEXTAREA"];function oge(t){var r,i;const e=((i=(r=t.composedPath)==null?void 0:r.call(t))==null?void 0:i[0])||t.target;return(e==null?void 0:e.nodeType)!==1?!1:omt.includes(e.nodeName)||e.hasAttribute("contenteditable")||!!e.closest(".nokey")}const age=t=>"clientX"in t,Xa=(t,e)=>{var s,o;const n=age(t),r=n?t.clientX:(s=t.touches)==null?void 0:s[0].clientX,i=n?t.clientY:(o=t.touches)==null?void 0:o[0].clientY;return{x:r-((e==null?void 0:e.left)??0),y:i-((e==null?void 0:e.top)??0)}},ZK=(t,e,n,r,i)=>{const s=e.querySelectorAll(`.${t}`);return!s||!s.length?null:Array.from(s).map(o=>{const a=o.getBoundingClientRect();return{id:o.getAttribute("data-handleid"),type:t,nodeId:i,position:o.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...K$(o)}})};function lge({sourceX:t,sourceY:e,targetX:n,targetY:r,sourceControlX:i,sourceControlY:s,targetControlX:o,targetControlY:a}){const l=t*.125+i*.375+o*.375+n*.125,c=e*.125+s*.375+a*.375+r*.125,f=Math.abs(l-t),d=Math.abs(c-e);return[l,c,f,d]}function _C(t,e){return t>=0?.5*t:e*25*Math.sqrt(-t)}function QK({pos:t,x1:e,y1:n,x2:r,y2:i,c:s}){switch(t){case $t.Left:return[e-_C(e-r,s),n];case $t.Right:return[e+_C(r-e,s),n];case $t.Top:return[e,n-_C(n-i,s)];case $t.Bottom:return[e,n+_C(i-n,s)]}}function cge({sourceX:t,sourceY:e,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:s=$t.Top,curvature:o=.25}){const[a,l]=QK({pos:n,x1:t,y1:e,x2:r,y2:i,c:o}),[c,f]=QK({pos:s,x1:r,y1:i,x2:t,y2:e,c:o}),[d,h,g,v]=lge({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:f});return[`M${t},${e} C${a},${l} ${c},${f} ${r},${i}`,d,h,g,v]}function uge({sourceX:t,sourceY:e,targetX:n,targetY:r}){const i=Math.abs(n-t)/2,s=n<t?n+i:n-i,o=Math.abs(r-e)/2,a=r<e?r+o:r-o;return[s,a,i,o]}function amt({sourceNode:t,targetNode:e,selected:n=!1,zIndex:r,elevateOnSelect:i=!1}){if(r!==void 0)return r;const s=i&&n?1e3:0,o=Math.max(t.parentId||i&&t.selected?t.internals.z:0,e.parentId||i&&e.selected?e.internals.z:0);return s+o}function lmt({sourceNode:t,targetNode:e,width:n,height:r,transform:i}){const s=_N(vT(t),vT(e));s.x===s.x2&&(s.x2+=1),s.y===s.y2&&(s.y2+=1);const o={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Yb(o,bN(s))>0}const cmt=({source:t,sourceHandle:e,target:n,targetHandle:r})=>`xy-edge__${t}${e||""}-${n}${r||""}`,umt=(t,e)=>e.some(n=>n.source===t.source&&n.target===t.target&&(n.sourceHandle===t.sourceHandle||!n.sourceHandle&&!t.sourceHandle)&&(n.targetHandle===t.targetHandle||!n.targetHandle&&!t.targetHandle)),X$=(t,e)=>{if(!t.source||!t.target)return e;let n;return Qme(t)?n={...t}:n={...t,id:cmt(t)},umt(n,e)?e:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,e.concat(n))};function dge({sourceX:t,sourceY:e,targetX:n,targetY:r}){const[i,s,o,a]=uge({sourceX:t,sourceY:e,targetX:n,targetY:r});return[`M ${t},${e}L ${n},${r}`,i,s,o,a]}const JK={[$t.Left]:{x:-1,y:0},[$t.Right]:{x:1,y:0},[$t.Top]:{x:0,y:-1},[$t.Bottom]:{x:0,y:1}},dmt=({source:t,sourcePosition:e=$t.Bottom,target:n})=>e===$t.Left||e===$t.Right?t.x<n.x?{x:1,y:0}:{x:-1,y:0}:t.y<n.y?{x:0,y:1}:{x:0,y:-1},eX=(t,e)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2));function fmt({source:t,sourcePosition:e=$t.Bottom,target:n,targetPosition:r=$t.Top,center:i,offset:s,stepPosition:o}){const a=JK[e],l=JK[r],c={x:t.x+a.x*s,y:t.y+a.y*s},f={x:n.x+l.x*s,y:n.y+l.y*s},d=dmt({source:c,sourcePosition:e,target:f}),h=d.x!==0?"x":"y",g=d[h];let v=[],x,m;const p={x:0,y:0},y={x:0,y:0},[,,_,b]=uge({sourceX:t.x,sourceY:t.y,targetX:n.x,targetY:n.y});if(a[h]*l[h]===-1){h==="x"?(x=i.x??c.x+(f.x-c.x)*o,m=i.y??(c.y+f.y)/2):(x=i.x??(c.x+f.x)/2,m=i.y??c.y+(f.y-c.y)*o);const E=[{x,y:c.y},{x,y:f.y}],A=[{x:c.x,y:m},{x:f.x,y:m}];a[h]===g?v=h==="x"?E:A:v=h==="x"?A:E}else{const E=[{x:c.x,y:f.y}],A=[{x:f.x,y:c.y}];if(h==="x"?v=a.x===g?A:E:v=a.y===g?E:A,e===r){const I=Math.abs(t[h]-n[h]);if(I<=s){const D=Math.min(s-1,s-I);a[h]===g?p[h]=(c[h]>t[h]?-1:1)*D:y[h]=(f[h]>n[h]?-1:1)*D}}if(e!==r){const I=h==="x"?"y":"x",D=a[h]===l[I],F=c[I]>f[I],$=c[I]<f[I];(a[h]===1&&(!D&&F||D&&$)||a[h]!==1&&(!D&&$||D&&F))&&(v=h==="x"?E:A)}const T={x:c.x+p.x,y:c.y+p.y},P={x:f.x+y.x,y:f.y+y.y},N=Math.max(Math.abs(T.x-v[0].x),Math.abs(P.x-v[0].x)),O=Math.max(Math.abs(T.y-v[0].y),Math.abs(P.y-v[0].y));N>=O?(x=(T.x+P.x)/2,m=v[0].y):(x=v[0].x,m=(T.y+P.y)/2)}return[[t,{x:c.x+p.x,y:c.y+p.y},...v,{x:f.x+y.x,y:f.y+y.y},n],x,m,_,b]}function hmt(t,e,n,r){const i=Math.min(eX(t,e)/2,eX(e,n)/2,r),{x:s,y:o}=e;if(t.x===s&&s===n.x||t.y===o&&o===n.y)return`L${s} ${o}`;if(t.y===o){const c=t.x<n.x?-1:1,f=t.y<n.y?1:-1;return`L ${s+i*c},${o}Q ${s},${o} ${s},${o+i*f}`}const a=t.x<n.x?1:-1,l=t.y<n.y?-1:1;return`L ${s},${o+i*l}Q ${s},${o} ${s+i*a},${o}`}function CF({sourceX:t,sourceY:e,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:s=$t.Top,borderRadius:o=5,centerX:a,centerY:l,offset:c=20,stepPosition:f=.5}){const[d,h,g,v,x]=fmt({source:{x:t,y:e},sourcePosition:n,target:{x:r,y:i},targetPosition:s,center:{x:a,y:l},offset:c,stepPosition:f});return[d.reduce((p,y,_)=>{let b="";return _>0&&_<d.length-1?b=hmt(d[_-1],y,d[_+1],o):b=`${_===0?"M":"L"}${y.x} ${y.y}`,p+=b,p},""),h,g,v,x]}function tX(t){var e;return t&&!!(t.internals.handleBounds||(e=t.handles)!=null&&e.length)&&!!(t.measured.width||t.width||t.initialWidth)}function pmt(t){var d;const{sourceNode:e,targetNode:n}=t;if(!tX(e)||!tX(n))return null;const r=e.internals.handleBounds||nX(e.handles),i=n.internals.handleBounds||nX(n.handles),s=rX((r==null?void 0:r.source)??[],t.sourceHandle),o=rX(t.connectionMode===fy.Strict?(i==null?void 0:i.target)??[]:((i==null?void 0:i.target)??[]).concat((i==null?void 0:i.source)??[]),t.targetHandle);if(!s||!o)return(d=t.onError)==null||d.call(t,"008",oc.error008(s?"target":"source",{id:t.id,sourceHandle:t.sourceHandle,targetHandle:t.targetHandle})),null;const a=(s==null?void 0:s.position)||$t.Bottom,l=(o==null?void 0:o.position)||$t.Top,c=Qb(e,s,a),f=Qb(n,o,l);return{sourceX:c.x,sourceY:c.y,targetX:f.x,targetY:f.y,sourcePosition:a,targetPosition:l}}function nX(t){if(!t)return null;const e=[],n=[];for(const r of t)r.width=r.width??1,r.height=r.height??1,r.type==="source"?e.push(r):r.type==="target"&&n.push(r);return{source:e,target:n}}function Qb(t,e,n=$t.Left,r=!1){const i=((e==null?void 0:e.x)??0)+t.internals.positionAbsolute.x,s=((e==null?void 0:e.y)??0)+t.internals.positionAbsolute.y,{width:o,height:a}=e??ju(t);if(r)return{x:i+o/2,y:s+a/2};switch((e==null?void 0:e.position)??n){case $t.Top:return{x:i+o/2,y:s};case $t.Right:return{x:i+o,y:s+a/2};case $t.Bottom:return{x:i+o/2,y:s+a};case $t.Left:return{x:i,y:s+a/2}}}function rX(t,e){return t&&(e?t.find(n=>n.id===e):t[0])||null}function EF(t,e){return t?typeof t=="string"?t:`${e?`${e}__`:""}${Object.keys(t).sort().map(r=>`${r}=${t[r]}`).join("&")}`:""}function mmt(t,{id:e,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const s=new Set;return t.reduce((o,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=EF(l,e);s.has(c)||(o.push({id:c,color:l.color||n,...l}),s.add(c))}}),o),[]).sort((o,a)=>o.id.localeCompare(a.id))}const fge=1e3,gmt=10,Y$={nodeOrigin:[0,0],nodeExtent:Kb,elevateNodesOnSelect:!0,defaults:{}},vmt={...Y$,checkEquality:!0};function Z$(t,e){const n={...t};for(const r in e)e[r]!==void 0&&(n[r]=e[r]);return n}function ymt(t,e,n){const r=Z$(Y$,n);for(const i of t.values())if(i.parentId)Q$(i,t,e,r);else{const s=h1(i,r.nodeOrigin),o=my(i.extent)?i.extent:r.nodeExtent,a=Mp(s,o,ju(i));i.internals.positionAbsolute=a}}function xmt(t,e){if(!t.handles)return t.measured?e==null?void 0:e.internals.handleBounds:void 0;const n=[],r=[];for(const i of t.handles){const s={id:i.id,width:i.width??1,height:i.height??1,nodeId:t.id,x:i.x,y:i.y,position:i.position,type:i.type};i.type==="source"?n.push(s):i.type==="target"&&r.push(s)}return{source:n,target:r}}function MF(t,e,n,r){var c,f;const i=Z$(vmt,r);let s={i:-1},o=t.length>0;const a=new Map(e),l=i!=null&&i.elevateNodesOnSelect?fge:0;e.clear(),n.clear();for(const d of t){let h=a.get(d.id);if(i.checkEquality&&d===(h==null?void 0:h.internals.userNode))e.set(d.id,h);else{const g=h1(d,i.nodeOrigin),v=my(d.extent)?d.extent:i.nodeExtent,x=Mp(g,v,ju(d));h={...i.defaults,...d,measured:{width:(c=d.measured)==null?void 0:c.width,height:(f=d.measured)==null?void 0:f.height},internals:{positionAbsolute:x,handleBounds:xmt(d,h),z:hge(d,l),userNode:d}},e.set(d.id,h)}(h.measured===void 0||h.measured.width===void 0||h.measured.height===void 0)&&!h.hidden&&(o=!1),d.parentId&&Q$(h,e,n,r,s)}return o}function _mt(t,e){if(!t.parentId)return;const n=e.get(t.parentId);n?n.set(t.id,t):e.set(t.parentId,new Map([[t.id,t]]))}function Q$(t,e,n,r,i){const{elevateNodesOnSelect:s,nodeOrigin:o,nodeExtent:a}=Z$(Y$,r),l=t.parentId,c=e.get(l);if(!c){console.warn(`Parent node ${l} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}_mt(t,n),i&&!c.parentId&&c.internals.rootParentIndex===void 0&&(c.internals.rootParentIndex=++i.i,c.internals.z=c.internals.z+i.i*gmt),i&&c.internals.rootParentIndex!==void 0&&(i.i=c.internals.rootParentIndex);const f=s?fge:0,{x:d,y:h,z:g}=bmt(t,c,o,a,f),{positionAbsolute:v}=t.internals,x=d!==v.x||h!==v.y;(x||g!==t.internals.z)&&e.set(t.id,{...t,internals:{...t.internals,positionAbsolute:x?{x:d,y:h}:v,z:g}})}function hge(t,e){return(Ka(t.zIndex)?t.zIndex:0)+(t.selected?e:0)}function bmt(t,e,n,r,i){const{x:s,y:o}=e.internals.positionAbsolute,a=ju(t),l=h1(t,n),c=my(t.extent)?Mp(l,t.extent,a):l;let f=Mp({x:s+c.x,y:o+c.y},r,a);t.extent==="parent"&&(f=ege(f,a,e));const d=hge(t,i),h=e.internals.z??0;return{x:f.x,y:f.y,z:h>=d?h+1:d}}function J$(t,e,n,r=[0,0]){var o;const i=[],s=new Map;for(const a of t){const l=e.get(a.parentId);if(!l)continue;const c=((o=s.get(a.parentId))==null?void 0:o.expandedRect)??py(l),f=nge(c,a.rect);s.set(a.parentId,{expandedRect:f,parent:l})}return s.size>0&&s.forEach(({expandedRect:a,parent:l},c)=>{var _;const f=l.internals.positionAbsolute,d=ju(l),h=l.origin??r,g=a.x<f.x?Math.round(Math.abs(f.x-a.x)):0,v=a.y<f.y?Math.round(Math.abs(f.y-a.y)):0,x=Math.max(d.width,Math.round(a.width)),m=Math.max(d.height,Math.round(a.height)),p=(x-d.width)*h[0],y=(m-d.height)*h[1];(g>0||v>0||p||y)&&(i.push({id:c,type:"position",position:{x:l.position.x-g+p,y:l.position.y-v+y}}),(_=n.get(c))==null||_.forEach(b=>{t.some(w=>w.id===b.id)||i.push({id:b.id,type:"position",position:{x:b.position.x+g,y:b.position.y+v}})})),(d.width<a.width||d.height<a.height||g||v)&&i.push({id:c,type:"dimensions",setAttributes:!0,dimensions:{width:x+(g?h[0]*g-p:0),height:m+(v?h[1]*v-y:0)}})}),i}function wmt(t,e,n,r,i,s){const o=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!o)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(o),{m22:f}=new window.DOMMatrixReadOnly(c.transform),d=[];for(const h of t.values()){const g=e.get(h.id);if(!g)continue;if(g.hidden){e.set(g.id,{...g,internals:{...g.internals,handleBounds:void 0}}),a=!0;continue}const v=K$(h.nodeElement),x=g.measured.width!==v.width||g.measured.height!==v.height;if(!!(v.width&&v.height&&(x||!g.internals.handleBounds||h.force))){const p=h.nodeElement.getBoundingClientRect(),y=my(g.extent)?g.extent:s;let{positionAbsolute:_}=g.internals;g.parentId&&g.extent==="parent"?_=ege(_,v,e.get(g.parentId)):y&&(_=Mp(_,y,v));const b={...g,measured:v,internals:{...g.internals,positionAbsolute:_,handleBounds:{source:ZK("source",h.nodeElement,p,f,g.id),target:ZK("target",h.nodeElement,p,f,g.id)}}};e.set(g.id,b),g.parentId&&Q$(b,e,n,{nodeOrigin:i}),a=!0,x&&(l.push({id:g.id,type:"dimensions",dimensions:v}),g.expandParent&&g.parentId&&d.push({id:g.id,parentId:g.parentId,rect:py(b,i)}))}}if(d.length>0){const h=J$(d,e,n,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function Smt({delta:t,panZoom:e,transform:n,translateExtent:r,width:i,height:s}){if(!e||!t.x&&!t.y)return Promise.resolve(!1);const o=await e.setViewportConstrained({x:n[0]+t.x,y:n[1]+t.y,zoom:n[2]},[[0,0],[i,s]],r),a=!!o&&(o.x!==n[0]||o.y!==n[1]||o.k!==n[2]);return Promise.resolve(a)}function iX(t,e,n,r,i,s){let o=i;const a=r.get(o)||new Map;r.set(o,a.set(n,e)),o=`${i}-${t}`;const l=r.get(o)||new Map;if(r.set(o,l.set(n,e)),s){o=`${i}-${t}-${s}`;const c=r.get(o)||new Map;r.set(o,c.set(n,e))}}function pge(t,e,n){t.clear(),e.clear();for(const r of n){const{source:i,target:s,sourceHandle:o=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:s,sourceHandle:o,targetHandle:a},c=`${i}-${o}--${s}-${a}`,f=`${s}-${a}--${i}-${o}`;iX("source",l,f,t,i,o),iX("target",l,c,t,s,a),e.set(r.id,r)}}function mge(t,e){if(!t.parentId)return!1;const n=e.get(t.parentId);return n?n.selected?!0:mge(n,e):!1}function sX(t,e,n){var i;let r=t;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,e))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function Cmt(t,e,n,r){const i=new Map;for(const[s,o]of t)if((o.selected||o.id===r)&&(!o.parentId||!mge(o,t))&&(o.draggable||e&&typeof o.draggable>"u")){const a=t.get(s);a&&i.set(s,{id:s,position:a.position||{x:0,y:0},distance:{x:n.x-a.internals.positionAbsolute.x,y:n.y-a.internals.positionAbsolute.y},extent:a.extent,parentId:a.parentId,origin:a.origin,expandParent:a.expandParent,internals:{positionAbsolute:a.internals.positionAbsolute||{x:0,y:0}},measured:{width:a.measured.width??0,height:a.measured.height??0}})}return i}function vI({nodeId:t,dragItems:e,nodeLookup:n,dragging:r=!0}){var o,a,l;const i=[];for(const[c,f]of e){const d=(o=n.get(c))==null?void 0:o.internals.userNode;d&&i.push({...d,position:f.position,dragging:r})}if(!t)return[i[0],i];const s=(a=n.get(t))==null?void 0:a.internals.userNode;return[s?{...s,position:((l=e.get(t))==null?void 0:l.position)||s.position,dragging:r}:i[0],i]}function Emt({dragItems:t,snapGrid:e,x:n,y:r}){const i=t.values().next().value;if(!i)return null;const s={x:n-i.distance.x,y:r-i.distance.y},o=m1(s,e);return{x:o.x-s.x,y:o.y-s.y}}function Mmt({onNodeMouseDown:t,getStoreItems:e,onDragStart:n,onDrag:r,onDragStop:i}){let s={x:null,y:null},o=0,a=new Map,l=!1,c={x:0,y:0},f=null,d=!1,h=null,g=!1,v=!1,x=null;function m({noDragClassName:y,handleSelector:_,domNode:b,isSelectable:w,nodeId:E,nodeClickDistance:A=0}){h=$s(b);function T({x:I,y:D}){const{nodeLookup:F,nodeExtent:$,snapGrid:z,snapToGrid:H,nodeOrigin:R,onNodeDrag:j,onSelectionDrag:B,onError:W,updateNodePositions:G}=e();s={x:I,y:D};let K=!1;const ie=a.size>1,le=ie&&$?SF(p1(a)):null,J=ie&&H?Emt({dragItems:a,snapGrid:z,x:I,y:D}):null;for(const[U,X]of a){if(!F.has(U))continue;let Q={x:I-X.distance.x,y:D-X.distance.y};H&&(Q=J?{x:Math.round(Q.x+J.x),y:Math.round(Q.y+J.y)}:m1(Q,z));let te=null;if(ie&&$&&!X.extent&&le){const{positionAbsolute:Y}=X.internals,se=Y.x-le.x+$[0][0],re=Y.x+X.measured.width-le.x2+$[1][0],me=Y.y-le.y+$[0][1],he=Y.y+X.measured.height-le.y2+$[1][1];te=[[se,me],[re,he]]}const{position:ue,positionAbsolute:ee}=Jme({nodeId:U,nextPosition:Q,nodeLookup:F,nodeExtent:te||$,nodeOrigin:R,onError:W});K=K||X.position.x!==ue.x||X.position.y!==ue.y,X.position=ue,X.internals.positionAbsolute=ee}if(v=v||K,!!K&&(G(a,!0),x&&(r||j||!E&&B))){const[U,X]=vI({nodeId:E,dragItems:a,nodeLookup:F});r==null||r(x,a,U,X),j==null||j(x,U,X),E||B==null||B(x,X)}}async function P(){if(!f)return;const{transform:I,panBy:D,autoPanSpeed:F,autoPanOnNodeDrag:$}=e();if(!$){l=!1,cancelAnimationFrame(o);return}const[z,H]=tge(c,f,F);(z!==0||H!==0)&&(s.x=(s.x??0)-z/I[2],s.y=(s.y??0)-H/I[2],await D({x:z,y:H})&&T(s)),o=requestAnimationFrame(P)}function N(I){var ie;const{nodeLookup:D,multiSelectionActive:F,nodesDraggable:$,transform:z,snapGrid:H,snapToGrid:R,selectNodesOnDrag:j,onNodeDragStart:B,onSelectionDragStart:W,unselectNodesAndEdges:G}=e();d=!0,(!j||!w)&&!F&&E&&((ie=D.get(E))!=null&&ie.selected||G()),w&&j&&E&&(t==null||t(E));const K=x_(I.sourceEvent,{transform:z,snapGrid:H,snapToGrid:R,containerBounds:f});if(s=K,a=Cmt(D,$,K,E),a.size>0&&(n||B||!E&&W)){const[le,J]=vI({nodeId:E,dragItems:a,nodeLookup:D});n==null||n(I.sourceEvent,a,le,J),B==null||B(I.sourceEvent,le,J),E||W==null||W(I.sourceEvent,J)}}const O=Fme().clickDistance(A).on("start",I=>{const{domNode:D,nodeDragThreshold:F,transform:$,snapGrid:z,snapToGrid:H}=e();f=(D==null?void 0:D.getBoundingClientRect())||null,g=!1,v=!1,x=I.sourceEvent,F===0&&N(I),s=x_(I.sourceEvent,{transform:$,snapGrid:z,snapToGrid:H,containerBounds:f}),c=Xa(I.sourceEvent,f)}).on("drag",I=>{const{autoPanOnNodeDrag:D,transform:F,snapGrid:$,snapToGrid:z,nodeDragThreshold:H,nodeLookup:R}=e(),j=x_(I.sourceEvent,{transform:F,snapGrid:$,snapToGrid:z,containerBounds:f});if(x=I.sourceEvent,(I.sourceEvent.type==="touchmove"&&I.sourceEvent.touches.length>1||E&&!R.has(E))&&(g=!0),!g){if(!l&&D&&d&&(l=!0,P()),!d){const B=Xa(I.sourceEvent,f),W=B.x-c.x,G=B.y-c.y;Math.sqrt(W*W+G*G)>H&&N(I)}(s.x!==j.xSnapped||s.y!==j.ySnapped)&&a&&d&&(c=Xa(I.sourceEvent,f),T(j))}}).on("end",I=>{if(!(!d||g)&&(l=!1,d=!1,cancelAnimationFrame(o),a.size>0)){const{nodeLookup:D,updateNodePositions:F,onNodeDragStop:$,onSelectionDragStop:z}=e();if(v&&(F(a,!1),v=!1),i||$||!E&&z){const[H,R]=vI({nodeId:E,dragItems:a,nodeLookup:D,dragging:!1});i==null||i(I.sourceEvent,a,H,R),$==null||$(I.sourceEvent,H,R),E||z==null||z(I.sourceEvent,R)}}}).filter(I=>{const D=I.target;return!I.button&&(!y||!sX(D,`.${y}`,b))&&(!_||sX(D,_,b))});h.call(O)}function p(){h==null||h.on(".drag",null)}return{update:m,destroy:p}}function Amt(t,e,n){const r=[],i={x:t.x-n,y:t.y-n,width:n*2,height:n*2};for(const s of e.values())Yb(i,py(s))>0&&r.push(s);return r}const Tmt=250;function Pmt(t,e,n,r){var a,l;let i=[],s=1/0;const o=Amt(t,n,e+Tmt);for(const c of o){const f=[...((a=c.internals.handleBounds)==null?void 0:a.source)??[],...((l=c.internals.handleBounds)==null?void 0:l.target)??[]];for(const d of f){if(r.nodeId===d.nodeId&&r.type===d.type&&r.id===d.id)continue;const{x:h,y:g}=Qb(c,d,d.position,!0),v=Math.sqrt(Math.pow(h-t.x,2)+Math.pow(g-t.y,2));v>e||(v<s?(i=[{...d,x:h,y:g}],s=v):v===s&&i.push({...d,x:h,y:g}))}}if(!i.length)return null;if(i.length>1){const c=r.type==="source"?"target":"source";return i.find(f=>f.type===c)??i[0]}return i[0]}function gge(t,e,n,r,i,s=!1){var c,f,d;const o=r.get(t);if(!o)return null;const a=i==="strict"?(c=o.internals.handleBounds)==null?void 0:c[e]:[...((f=o.internals.handleBounds)==null?void 0:f.source)??[],...((d=o.internals.handleBounds)==null?void 0:d.target)??[]],l=(n?a==null?void 0:a.find(h=>h.id===n):a==null?void 0:a[0])??null;return l&&s?{...l,...Qb(o,l,l.position,!0)}:l}function vge(t,e){return t||(e!=null&&e.classList.contains("target")?"target":e!=null&&e.classList.contains("source")?"source":null)}function Nmt(t,e){let n=null;return e?n=!0:t&&!e&&(n=!1),n}const yge=()=>!0;function Rmt(t,{connectionMode:e,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:s,isTarget:o,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:f,flowId:d,panBy:h,cancelConnection:g,onConnectStart:v,onConnect:x,onConnectEnd:m,isValidConnection:p=yge,onReconnectEnd:y,updateConnection:_,getTransform:b,getFromHandle:w,autoPanSpeed:E,dragThreshold:A=1,handleDomNode:T}){const P=sge(t.target);let N=0,O;const{x:I,y:D}=Xa(t),F=vge(s,T),$=a==null?void 0:a.getBoundingClientRect();let z=!1;if(!$||!F)return;const H=gge(i,F,r,l,e);if(!H)return;let R=Xa(t,$),j=!1,B=null,W=!1,G=null;function K(){if(!f||!$)return;const[ue,ee]=tge(R,$,E);h({x:ue,y:ee}),N=requestAnimationFrame(K)}const ie={...H,nodeId:i,type:F,position:H.position},le=l.get(i);let U={inProgress:!0,isValid:null,from:Qb(le,ie,$t.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:le,to:R,toHandle:null,toPosition:qK[ie.position],toNode:null};function X(){z=!0,_(U),v==null||v(t,{nodeId:i,handleId:r,handleType:F})}A===0&&X();function Q(ue){if(!z){const{x:re,y:me}=Xa(ue),he=re-I,Ae=me-D;if(!(he*he+Ae*Ae>A*A))return;X()}if(!w()||!ie){te(ue);return}const ee=b();R=Xa(ue,$),O=Pmt(g1(R,ee,!1,[1,1]),n,l,ie),j||(K(),j=!0);const Y=xge(ue,{handle:O,connectionMode:e,fromNodeId:i,fromHandleId:r,fromType:o?"target":"source",isValidConnection:p,doc:P,lib:c,flowId:d,nodeLookup:l});G=Y.handleDomNode,B=Y.connection,W=Nmt(!!O,Y.isValid);const se={...U,isValid:W,to:Y.toHandle&&W?yT({x:Y.toHandle.x,y:Y.toHandle.y},ee):R,toHandle:Y.toHandle,toPosition:W&&Y.toHandle?Y.toHandle.position:qK[ie.position],toNode:Y.toHandle?l.get(Y.toHandle.nodeId):null};W&&O&&U.toHandle&&se.toHandle&&U.toHandle.type===se.toHandle.type&&U.toHandle.nodeId===se.toHandle.nodeId&&U.toHandle.id===se.toHandle.id&&U.to.x===se.to.x&&U.to.y===se.to.y||(_(se),U=se)}function te(ue){if(!("touches"in ue&&ue.touches.length>0)){if(z){(O||G)&&B&&W&&(x==null||x(B));const{inProgress:ee,...Y}=U,se={...Y,toPosition:U.toHandle?U.toPosition:null};m==null||m(ue,se),s&&(y==null||y(ue,se))}g(),cancelAnimationFrame(N),j=!1,W=!1,B=null,G=null,P.removeEventListener("mousemove",Q),P.removeEventListener("mouseup",te),P.removeEventListener("touchmove",Q),P.removeEventListener("touchend",te)}}P.addEventListener("mousemove",Q),P.addEventListener("mouseup",te),P.addEventListener("touchmove",Q),P.addEventListener("touchend",te)}function xge(t,{handle:e,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:s,doc:o,lib:a,flowId:l,isValidConnection:c=yge,nodeLookup:f}){const d=s==="target",h=e?o.querySelector(`.${a}-flow__handle[data-id="${l}-${e==null?void 0:e.nodeId}-${e==null?void 0:e.id}-${e==null?void 0:e.type}"]`):null,{x:g,y:v}=Xa(t),x=o.elementFromPoint(g,v),m=x!=null&&x.classList.contains(`${a}-flow__handle`)?x:h,p={handleDomNode:m,isValid:!1,connection:null,toHandle:null};if(m){const y=vge(void 0,m),_=m.getAttribute("data-nodeid"),b=m.getAttribute("data-handleid"),w=m.classList.contains("connectable"),E=m.classList.contains("connectableend");if(!_||!y)return p;const A={source:d?_:r,sourceHandle:d?b:i,target:d?r:_,targetHandle:d?i:b};p.connection=A;const P=w&&E&&(n===fy.Strict?d&&y==="source"||!d&&y==="target":_!==r||b!==i);p.isValid=P&&c(A),p.toHandle=gge(_,y,b,f,n,!0)}return p}const AF={onPointerDown:Rmt,isValid:xge};function kmt({domNode:t,panZoom:e,getTransform:n,getViewScale:r}){const i=$s(t);function s({translateExtent:a,width:l,height:c,zoomStep:f=1,pannable:d=!0,zoomable:h=!0,inversePan:g=!1}){const v=_=>{if(_.sourceEvent.type!=="wheel"||!e)return;const b=n(),w=_.sourceEvent.ctrlKey&&Zb()?10:1,E=-_.sourceEvent.deltaY*(_.sourceEvent.deltaMode===1?.05:_.sourceEvent.deltaMode?1:.002)*f,A=b[2]*Math.pow(2,E*w);e.scaleTo(A)};let x=[0,0];const m=_=>{(_.sourceEvent.type==="mousedown"||_.sourceEvent.type==="touchstart")&&(x=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY])},p=_=>{const b=n();if(_.sourceEvent.type!=="mousemove"&&_.sourceEvent.type!=="touchmove"||!e)return;const w=[_.sourceEvent.clientX??_.sourceEvent.touches[0].clientX,_.sourceEvent.clientY??_.sourceEvent.touches[0].clientY],E=[w[0]-x[0],w[1]-x[1]];x=w;const A=r()*Math.max(b[2],Math.log(b[2]))*(g?-1:1),T={x:b[0]-E[0]*A,y:b[1]-E[1]*A},P=[[0,0],[l,c]];e.setViewportConstrained({x:T.x,y:T.y,zoom:b[2]},P,a)},y=qme().on("start",m).on("zoom",d?p:null).on("zoom.wheel",h?v:null);i.call(y,{})}function o(){i.on("zoom",null)}return{update:s,destroy:o,pointer:Ua}}const wN=t=>({x:t.x,y:t.y,zoom:t.k}),yI=({x:t,y:e,zoom:n})=>xN.translate(t,e).scale(n),Tg=(t,e)=>t.target.closest(`.${e}`),_ge=(t,e)=>e===2&&Array.isArray(t)&&t.includes(2),Omt=t=>((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2,xI=(t,e=0,n=Omt,r=()=>{})=>{const i=typeof e=="number"&&e>0;return i||r(),i?t.transition().duration(e).ease(n).on("end",r):t},bge=t=>{const e=t.ctrlKey&&Zb()?10:1;return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*e};function Imt({zoomPanValues:t,noWheelClassName:e,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:s,zoomOnPinch:o,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return f=>{if(Tg(f,e))return f.ctrlKey&&f.preventDefault(),!1;f.preventDefault(),f.stopImmediatePropagation();const d=n.property("__zoom").k||1;if(f.ctrlKey&&o){const m=Ua(f),p=bge(f),y=d*Math.pow(2,p);r.scaleTo(n,y,m,f);return}const h=f.deltaMode===1?20:1;let g=i===Yh.Vertical?0:f.deltaX*h,v=i===Yh.Horizontal?0:f.deltaY*h;!Zb()&&f.shiftKey&&i!==Yh.Vertical&&(g=f.deltaY*h,v=0),r.translateBy(n,-(g/d)*s,-(v/d)*s,{internal:!0});const x=wN(n.property("__zoom"));clearTimeout(t.panScrollTimeout),t.isPanScrolling?(l==null||l(f,x),t.panScrollTimeout=setTimeout(()=>{c==null||c(f,x),t.isPanScrolling=!1},150)):(t.isPanScrolling=!0,a==null||a(f,x))}}function jmt({noWheelClassName:t,preventScrolling:e,d3ZoomHandler:n}){return function(r,i){const s=r.type==="wheel",o=!e&&s&&!r.ctrlKey,a=Tg(r,t);if(r.ctrlKey&&s&&a&&r.preventDefault(),o||a)return null;r.preventDefault(),n.call(this,r,i)}}function Dmt({zoomPanValues:t,onDraggingChange:e,onPanZoomStart:n}){return r=>{var s,o,a;if((s=r.sourceEvent)!=null&&s.internal)return;const i=wN(r.transform);t.mouseButton=((o=r.sourceEvent)==null?void 0:o.button)||0,t.isZoomingOrPanning=!0,t.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&e(!0),n&&(n==null||n(r.sourceEvent,i))}}function Lmt({zoomPanValues:t,panOnDrag:e,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return s=>{var o,a;t.usedRightMouseButton=!!(n&&_ge(e,t.mouseButton??0)),(o=s.sourceEvent)!=null&&o.sync||r([s.transform.x,s.transform.y,s.transform.k]),i&&!((a=s.sourceEvent)!=null&&a.internal)&&(i==null||i(s.sourceEvent,wN(s.transform)))}}function Fmt({zoomPanValues:t,panOnDrag:e,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:s}){return o=>{var a;if(!((a=o.sourceEvent)!=null&&a.internal)&&(t.isZoomingOrPanning=!1,s&&_ge(e,t.mouseButton??0)&&!t.usedRightMouseButton&&o.sourceEvent&&s(o.sourceEvent),t.usedRightMouseButton=!1,r(!1),i)){const l=wN(o.transform);t.prevViewport=l,clearTimeout(t.timerId),t.timerId=setTimeout(()=>{i==null||i(o.sourceEvent,l)},n?150:0)}}}function Bmt({zoomActivationKeyPressed:t,zoomOnScroll:e,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:s,userSelectionActive:o,noWheelClassName:a,noPanClassName:l,lib:c,connectionInProgress:f}){return d=>{var m;const h=t||e,g=n&&d.ctrlKey,v=d.type==="wheel";if(d.button===1&&d.type==="mousedown"&&(Tg(d,`${c}-flow__node`)||Tg(d,`${c}-flow__edge`)))return!0;if(!r&&!h&&!i&&!s&&!n||o||f&&!v||Tg(d,a)&&v||Tg(d,l)&&(!v||i&&v&&!t)||!n&&d.ctrlKey&&v)return!1;if(!n&&d.type==="touchstart"&&((m=d.touches)==null?void 0:m.length)>1)return d.preventDefault(),!1;if(!h&&!i&&!g&&v||!r&&(d.type==="mousedown"||d.type==="touchstart")||Array.isArray(r)&&!r.includes(d.button)&&d.type==="mousedown")return!1;const x=Array.isArray(r)&&r.includes(d.button)||!d.button||d.button<=1;return(!d.ctrlKey||v)&&x}}function Umt({domNode:t,minZoom:e,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:s,onPanZoom:o,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},d=t.getBoundingClientRect(),h=qme().clickDistance(!Ka(r)||r<0?0:r).scaleExtent([e,n]).translateExtent(i),g=$s(t).call(h);_({x:s.x,y:s.y,zoom:hy(s.zoom,e,n)},[[0,0],[d.width,d.height]],i);const v=g.on("wheel.zoom"),x=g.on("dblclick.zoom");h.wheelDelta(bge);function m(I,D){return g?new Promise(F=>{h==null||h.interpolate((D==null?void 0:D.interpolate)==="linear"?tu:UE).transform(xI(g,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>F(!0)),I)}):Promise.resolve(!1)}function p({noWheelClassName:I,noPanClassName:D,onPaneContextMenu:F,userSelectionActive:$,panOnScroll:z,panOnDrag:H,panOnScrollMode:R,panOnScrollSpeed:j,preventScrolling:B,zoomOnPinch:W,zoomOnScroll:G,zoomOnDoubleClick:K,zoomActivationKeyPressed:ie,lib:le,onTransformChange:J,connectionInProgress:U}){$&&!f.isZoomingOrPanning&&y();const Q=z&&!ie&&!$?Imt({zoomPanValues:f,noWheelClassName:I,d3Selection:g,d3Zoom:h,panOnScrollMode:R,panOnScrollSpeed:j,zoomOnPinch:W,onPanZoomStart:a,onPanZoom:o,onPanZoomEnd:l}):jmt({noWheelClassName:I,preventScrolling:B,d3ZoomHandler:v});if(g.on("wheel.zoom",Q,{passive:!1}),!$){const ue=Dmt({zoomPanValues:f,onDraggingChange:c,onPanZoomStart:a});h.on("start",ue);const ee=Lmt({zoomPanValues:f,panOnDrag:H,onPaneContextMenu:!!F,onPanZoom:o,onTransformChange:J});h.on("zoom",ee);const Y=Fmt({zoomPanValues:f,panOnDrag:H,panOnScroll:z,onPaneContextMenu:F,onPanZoomEnd:l,onDraggingChange:c});h.on("end",Y)}const te=Bmt({zoomActivationKeyPressed:ie,panOnDrag:H,zoomOnScroll:G,panOnScroll:z,zoomOnDoubleClick:K,zoomOnPinch:W,userSelectionActive:$,noPanClassName:D,noWheelClassName:I,lib:le,connectionInProgress:U});h.filter(te),K?g.on("dblclick.zoom",x):g.on("dblclick.zoom",null)}function y(){h.on("zoom",null)}async function _(I,D,F){const $=yI(I),z=h==null?void 0:h.constrain()($,D,F);return z&&await m(z),new Promise(H=>H(z))}async function b(I,D){const F=yI(I);return await m(F,D),new Promise($=>$(F))}function w(I){if(g){const D=yI(I),F=g.property("__zoom");(F.k!==I.zoom||F.x!==I.x||F.y!==I.y)&&(h==null||h.transform(g,D,null,{sync:!0}))}}function E(){const I=g?Gme(g.node()):{x:0,y:0,k:1};return{x:I.x,y:I.y,zoom:I.k}}function A(I,D){return g?new Promise(F=>{h==null||h.interpolate((D==null?void 0:D.interpolate)==="linear"?tu:UE).scaleTo(xI(g,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>F(!0)),I)}):Promise.resolve(!1)}function T(I,D){return g?new Promise(F=>{h==null||h.interpolate((D==null?void 0:D.interpolate)==="linear"?tu:UE).scaleBy(xI(g,D==null?void 0:D.duration,D==null?void 0:D.ease,()=>F(!0)),I)}):Promise.resolve(!1)}function P(I){h==null||h.scaleExtent(I)}function N(I){h==null||h.translateExtent(I)}function O(I){const D=!Ka(I)||I<0?0:I;h==null||h.clickDistance(D)}return{update:p,destroy:y,setViewport:b,setViewportConstrained:_,getViewport:E,scaleTo:A,scaleBy:T,setScaleExtent:P,setTranslateExtent:N,syncViewport:w,setClickDistance:O}}var gy;(function(t){t.Line="line",t.Handle="handle"})(gy||(gy={}));function $mt({width:t,prevWidth:e,height:n,prevHeight:r,affectsX:i,affectsY:s}){const o=t-e,a=n-r,l=[o>0?1:o<0?-1:0,a>0?1:a<0?-1:0];return o&&i&&(l[0]=l[0]*-1),a&&s&&(l[1]=l[1]*-1),l}function oX(t){const e=t.includes("right")||t.includes("left"),n=t.includes("bottom")||t.includes("top"),r=t.includes("left"),i=t.includes("top");return{isHorizontal:e,isVertical:n,affectsX:r,affectsY:i}}function Qu(t,e){return Math.max(0,e-t)}function Ju(t,e){return Math.max(0,t-e)}function bC(t,e,n){return Math.max(0,e-t,t-n)}function aX(t,e){return t?!e:e}function zmt(t,e,n,r,i,s,o,a){let{affectsX:l,affectsY:c}=e;const{isHorizontal:f,isVertical:d}=e,h=f&&d,{xSnapped:g,ySnapped:v}=n,{minWidth:x,maxWidth:m,minHeight:p,maxHeight:y}=r,{x:_,y:b,width:w,height:E,aspectRatio:A}=t;let T=Math.floor(f?g-t.pointerX:0),P=Math.floor(d?v-t.pointerY:0);const N=w+(l?-T:T),O=E+(c?-P:P),I=-s[0]*w,D=-s[1]*E;let F=bC(N,x,m),$=bC(O,p,y);if(o){let R=0,j=0;l&&T<0?R=Qu(_+T+I,o[0][0]):!l&&T>0&&(R=Ju(_+N+I,o[1][0])),c&&P<0?j=Qu(b+P+D,o[0][1]):!c&&P>0&&(j=Ju(b+O+D,o[1][1])),F=Math.max(F,R),$=Math.max($,j)}if(a){let R=0,j=0;l&&T>0?R=Ju(_+T,a[0][0]):!l&&T<0&&(R=Qu(_+N,a[1][0])),c&&P>0?j=Ju(b+P,a[0][1]):!c&&P<0&&(j=Qu(b+O,a[1][1])),F=Math.max(F,R),$=Math.max($,j)}if(i){if(f){const R=bC(N/A,p,y)*A;if(F=Math.max(F,R),o){let j=0;!l&&!c||l&&!c&&h?j=Ju(b+D+N/A,o[1][1])*A:j=Qu(b+D+(l?T:-T)/A,o[0][1])*A,F=Math.max(F,j)}if(a){let j=0;!l&&!c||l&&!c&&h?j=Qu(b+N/A,a[1][1])*A:j=Ju(b+(l?T:-T)/A,a[0][1])*A,F=Math.max(F,j)}}if(d){const R=bC(O*A,x,m)/A;if($=Math.max($,R),o){let j=0;!l&&!c||c&&!l&&h?j=Ju(_+O*A+I,o[1][0])/A:j=Qu(_+(c?P:-P)*A+I,o[0][0])/A,$=Math.max($,j)}if(a){let j=0;!l&&!c||c&&!l&&h?j=Qu(_+O*A,a[1][0])/A:j=Ju(_+(c?P:-P)*A,a[0][0])/A,$=Math.max($,j)}}}P=P+(P<0?$:-$),T=T+(T<0?F:-F),i&&(h?N>O*A?P=(aX(l,c)?-T:T)/A:T=(aX(l,c)?-P:P)*A:f?(P=T/A,c=l):(T=P*A,l=c));const z=l?_+T:_,H=c?b+P:b;return{width:w+(l?-T:T),height:E+(c?-P:P),x:s[0]*T*(l?-1:1)+z,y:s[1]*P*(c?-1:1)+H}}const wge={width:0,height:0,x:0,y:0},Hmt={...wge,pointerX:0,pointerY:0,aspectRatio:1};function Vmt(t){return[[0,0],[t.measured.width,t.measured.height]]}function Wmt(t,e,n){const r=e.position.x+t.position.x,i=e.position.y+t.position.y,s=t.measured.width??0,o=t.measured.height??0,a=n[0]*s,l=n[1]*o;return[[r-a,i-l],[r+s-a,i+o-l]]}function Gmt({domNode:t,nodeId:e,getStoreItems:n,onChange:r,onEnd:i}){const s=$s(t);let o={controlDirection:oX("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function a({controlPosition:c,boundaries:f,keepAspectRatio:d,resizeDirection:h,onResizeStart:g,onResize:v,onResizeEnd:x,shouldResize:m}){let p={...wge},y={...Hmt};o={boundaries:f,resizeDirection:h,keepAspectRatio:d,controlDirection:oX(c)};let _,b=null,w=[],E,A,T,P=!1;const N=Fme().on("start",O=>{const{nodeLookup:I,transform:D,snapGrid:F,snapToGrid:$,nodeOrigin:z,paneDomNode:H}=n();if(_=I.get(e),!_)return;b=(H==null?void 0:H.getBoundingClientRect())??null;const{xSnapped:R,ySnapped:j}=x_(O.sourceEvent,{transform:D,snapGrid:F,snapToGrid:$,containerBounds:b});p={width:_.measured.width??0,height:_.measured.height??0,x:_.position.x??0,y:_.position.y??0},y={...p,pointerX:R,pointerY:j,aspectRatio:p.width/p.height},E=void 0,_.parentId&&(_.extent==="parent"||_.expandParent)&&(E=I.get(_.parentId),A=E&&_.extent==="parent"?Vmt(E):void 0),w=[],T=void 0;for(const[B,W]of I)if(W.parentId===e&&(w.push({id:B,position:{...W.position},extent:W.extent}),W.extent==="parent"||W.expandParent)){const G=Wmt(W,_,W.origin??z);T?T=[[Math.min(G[0][0],T[0][0]),Math.min(G[0][1],T[0][1])],[Math.max(G[1][0],T[1][0]),Math.max(G[1][1],T[1][1])]]:T=G}g==null||g(O,{...p})}).on("drag",O=>{const{transform:I,snapGrid:D,snapToGrid:F,nodeOrigin:$}=n(),z=x_(O.sourceEvent,{transform:I,snapGrid:D,snapToGrid:F,containerBounds:b}),H=[];if(!_)return;const{x:R,y:j,width:B,height:W}=p,G={},K=_.origin??$,{width:ie,height:le,x:J,y:U}=zmt(y,o.controlDirection,z,o.boundaries,o.keepAspectRatio,K,A,T),X=ie!==B,Q=le!==W,te=J!==R&&X,ue=U!==j&&Q;if(!te&&!ue&&!X&&!Q)return;if((te||ue||K[0]===1||K[1]===1)&&(G.x=te?J:p.x,G.y=ue?U:p.y,p.x=G.x,p.y=G.y,w.length>0)){const re=J-R,me=U-j;for(const he of w)he.position={x:he.position.x-re+K[0]*(ie-B),y:he.position.y-me+K[1]*(le-W)},H.push(he)}if((X||Q)&&(G.width=X&&(!o.resizeDirection||o.resizeDirection==="horizontal")?ie:p.width,G.height=Q&&(!o.resizeDirection||o.resizeDirection==="vertical")?le:p.height,p.width=G.width,p.height=G.height),E&&_.expandParent){const re=K[0]*(G.width??0);G.x&&G.x<re&&(p.x=re,y.x=y.x-(G.x-re));const me=K[1]*(G.height??0);G.y&&G.y<me&&(p.y=me,y.y=y.y-(G.y-me))}const ee=$mt({width:p.width,prevWidth:B,height:p.height,prevHeight:W,affectsX:o.controlDirection.affectsX,affectsY:o.controlDirection.affectsY}),Y={...p,direction:ee};(m==null?void 0:m(O,Y))!==!1&&(P=!0,v==null||v(O,Y),r(G,H))}).on("end",O=>{P&&(x==null||x(O,{...p}),i==null||i({...p}),P=!1)});s.call(N)}function l(){s.on(".drag",null)}return{update:a,destroy:l}}var Sge={exports:{}},Cge={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN=M,qmt=hee;function Kmt(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xmt=typeof Object.is=="function"?Object.is:Kmt,Ymt=qmt.useSyncExternalStore,Zmt=SN.useRef,Qmt=SN.useEffect,Jmt=SN.useMemo,egt=SN.useDebugValue;Cge.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Zmt(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Jmt(function(){function l(g){if(!c){if(c=!0,f=g,g=r(g),i!==void 0&&o.hasValue){var v=o.value;if(i(v,g))return d=v}return d=g}if(v=d,Xmt(f,g))return v;var x=r(g);return i!==void 0&&i(v,x)?v:(f=g,d=x)}var c=!1,f,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=Ymt(t,s[0],s[1]);return Qmt(function(){o.hasValue=!0,o.value=a},[a]),egt(a),a};Sge.exports=Cge;var tgt=Sge.exports;const ngt=Sn(tgt),rgt={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},lX=t=>{let e;const n=new Set,r=(f,d)=>{const h=typeof f=="function"?f(e):f;if(!Object.is(h,e)){const g=e;e=d??(typeof h!="object"||h===null)?h:Object.assign({},e,h),n.forEach(v=>v(e,g))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:f=>(n.add(f),()=>n.delete(f)),destroy:()=>{(rgt?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},igt=t=>t?lX(t):lX,{useDebugValue:sgt}=ne,{useSyncExternalStoreWithSelector:ogt}=ngt,agt=t=>t;function Ege(t,e=agt,n){const r=ogt(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return sgt(r),r}const cX=(t,e)=>{const n=igt(t),r=(i,s=e)=>Ege(n,i,s);return Object.assign(r,n),r},lgt=(t,e)=>t?cX(t,e):cX;function kr(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}const CN=M.createContext(null),cgt=CN.Provider,Mge=oc.error001();function En(t,e){const n=M.useContext(CN);if(n===null)throw new Error(Mge);return Ege(n,t,e)}function br(){const t=M.useContext(CN);if(t===null)throw new Error(Mge);return M.useMemo(()=>({getState:t.getState,setState:t.setState,subscribe:t.subscribe}),[t])}const uX={display:"none"},ugt={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},Age="react-flow__node-desc",Tge="react-flow__edge-desc",dgt="react-flow__aria-live",fgt=t=>t.ariaLiveMessage,hgt=t=>t.ariaLabelConfig;function pgt({rfId:t}){const e=En(fgt);return u.jsx("div",{id:`${dgt}-${t}`,"aria-live":"assertive","aria-atomic":"true",style:ugt,children:e})}function mgt({rfId:t,disableKeyboardA11y:e}){const n=En(hgt);return u.jsxs(u.Fragment,{children:[u.jsx("div",{id:`${Age}-${t}`,style:uX,children:e?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),u.jsx("div",{id:`${Tge}-${t}`,style:uX,children:n["edge.a11yDescription.default"]}),!e&&u.jsx(pgt,{rfId:t})]})}const EN=M.forwardRef(({position:t="top-left",children:e,className:n,style:r,...i},s)=>{const o=`${t}`.split("-");return u.jsx("div",{className:si(["react-flow__panel",n,...o]),style:r,ref:s,...i,children:e})});EN.displayName="Panel";function ggt({proOptions:t,position:e="bottom-right"}){return t!=null&&t.hideAttribution?null:u.jsx(EN,{position:e,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:u.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const vgt=t=>{const e=[],n=[];for(const[,r]of t.nodeLookup)r.selected&&e.push(r.internals.userNode);for(const[,r]of t.edgeLookup)r.selected&&n.push(r);return{selectedNodes:e,selectedEdges:n}},wC=t=>t.id;function ygt(t,e){return kr(t.selectedNodes.map(wC),e.selectedNodes.map(wC))&&kr(t.selectedEdges.map(wC),e.selectedEdges.map(wC))}function xgt({onSelectionChange:t}){const e=br(),{selectedNodes:n,selectedEdges:r}=En(vgt,ygt);return M.useEffect(()=>{const i={nodes:n,edges:r};t==null||t(i),e.getState().onSelectionChangeHandlers.forEach(s=>s(i))},[n,r,t]),null}const _gt=t=>!!t.onSelectionChangeHandlers;function bgt({onSelectionChange:t}){const e=En(_gt);return t||e?u.jsx(xgt,{onSelectionChange:t}):null}const Pge=[0,0],wgt={x:0,y:0,zoom:1},Sgt=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance","ariaLabelConfig"],dX=[...Sgt,"rfId"],Cgt=t=>({setNodes:t.setNodes,setEdges:t.setEdges,setMinZoom:t.setMinZoom,setMaxZoom:t.setMaxZoom,setTranslateExtent:t.setTranslateExtent,setNodeExtent:t.setNodeExtent,reset:t.reset,setDefaultNodesAndEdges:t.setDefaultNodesAndEdges,setPaneClickDistance:t.setPaneClickDistance}),fX={translateExtent:Kb,nodeOrigin:Pge,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function Egt(t){const{setNodes:e,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:s,setNodeExtent:o,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=En(Cgt,kr),f=br();M.useEffect(()=>(l(t.defaultNodes,t.defaultEdges),()=>{d.current=fX,a()}),[]);const d=M.useRef(fX);return M.useEffect(()=>{for(const h of dX){const g=t[h],v=d.current[h];g!==v&&(typeof t[h]>"u"||(h==="nodes"?e(g):h==="edges"?n(g):h==="minZoom"?r(g):h==="maxZoom"?i(g):h==="translateExtent"?s(g):h==="nodeExtent"?o(g):h==="paneClickDistance"?c(g):h==="ariaLabelConfig"?f.setState({ariaLabelConfig:smt(g)}):h==="fitView"?f.setState({fitViewQueued:g}):h==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[h]:g})))}d.current=t},dX.map(h=>t[h])),null}function hX(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function Mgt(t){var r;const[e,n]=M.useState(t==="system"?null:t);return M.useEffect(()=>{if(t!=="system"){n(t);return}const i=hX(),s=()=>n(i!=null&&i.matches?"dark":"light");return s(),i==null||i.addEventListener("change",s),()=>{i==null||i.removeEventListener("change",s)}},[t]),e!==null?e:(r=hX())!=null&&r.matches?"dark":"light"}const pX=typeof document<"u"?document:null;function Jb(t=null,e={target:pX,actInsideInputWithModifier:!0}){const[n,r]=M.useState(!1),i=M.useRef(!1),s=M.useRef(new Set([])),[o,a]=M.useMemo(()=>{if(t!==null){const c=(Array.isArray(t)?t:[t]).filter(d=>typeof d=="string").map(d=>d.replace("+",`
`).replace(`

`,`
+`).split(`
`)),f=c.reduce((d,h)=>d.concat(...h),[]);return[c,f]}return[[],[]]},[t]);return M.useEffect(()=>{const l=(e==null?void 0:e.target)??pX,c=(e==null?void 0:e.actInsideInputWithModifier)??!0;if(t!==null){const f=g=>{var m,p;if(i.current=g.ctrlKey||g.metaKey||g.shiftKey||g.altKey,(!i.current||i.current&&!c)&&oge(g))return!1;const x=gX(g.code,a);if(s.current.add(g[x]),mX(o,s.current,!1)){const y=((p=(m=g.composedPath)==null?void 0:m.call(g))==null?void 0:p[0])||g.target,_=(y==null?void 0:y.nodeName)==="BUTTON"||(y==null?void 0:y.nodeName)==="A";e.preventDefault!==!1&&(i.current||!_)&&g.preventDefault(),r(!0)}},d=g=>{const v=gX(g.code,a);mX(o,s.current,!0)?(r(!1),s.current.clear()):s.current.delete(g[v]),g.key==="Meta"&&s.current.clear(),i.current=!1},h=()=>{s.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",f),l==null||l.addEventListener("keyup",d),window.addEventListener("blur",h),window.addEventListener("contextmenu",h),()=>{l==null||l.removeEventListener("keydown",f),l==null||l.removeEventListener("keyup",d),window.removeEventListener("blur",h),window.removeEventListener("contextmenu",h)}}},[t,r]),n}function mX(t,e,n){return t.filter(r=>n||r.length===e.size).some(r=>r.every(i=>e.has(i)))}function gX(t,e){return e.includes(t)?"code":"key"}const Agt=()=>{const t=br();return M.useMemo(()=>({zoomIn:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomOut:e=>{const{panZoom:n}=t.getState();return n?n.scaleBy(1/1.2,{duration:e==null?void 0:e.duration}):Promise.resolve(!1)},zoomTo:(e,n)=>{const{panZoom:r}=t.getState();return r?r.scaleTo(e,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>t.getState().transform[2],setViewport:async(e,n)=>{const{transform:[r,i,s],panZoom:o}=t.getState();return o?(await o.setViewport({x:e.x??r,y:e.y??i,zoom:e.zoom??s},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[e,n,r]=t.getState().transform;return{x:e,y:n,zoom:r}},setCenter:async(e,n,r)=>t.getState().setCenter(e,n,r),fitBounds:async(e,n)=>{const{width:r,height:i,minZoom:s,maxZoom:o,panZoom:a}=t.getState(),l=q$(e,r,i,s,o,(n==null?void 0:n.padding)??.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration,ease:n==null?void 0:n.ease,interpolate:n==null?void 0:n.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(e,n={})=>{const{transform:r,snapGrid:i,snapToGrid:s,domNode:o}=t.getState();if(!o)return e;const{x:a,y:l}=o.getBoundingClientRect(),c={x:e.x-a,y:e.y-l},f=n.snapGrid??i,d=n.snapToGrid??s;return g1(c,r,d,f)},flowToScreenPosition:e=>{const{transform:n,domNode:r}=t.getState();if(!r)return e;const{x:i,y:s}=r.getBoundingClientRect(),o=yT(e,n);return{x:o.x+i,y:o.y+s}}}),[])};function Nge(t,e){const n=[],r=new Map,i=[];for(const s of t)if(s.type==="add"){i.push(s);continue}else if(s.type==="remove"||s.type==="replace")r.set(s.id,[s]);else{const o=r.get(s.id);o?o.push(s):r.set(s.id,[s])}for(const s of e){const o=r.get(s.id);if(!o){n.push(s);continue}if(o[0].type==="remove")continue;if(o[0].type==="replace"){n.push({...o[0].item});continue}const a={...s};for(const l of o)Tgt(l,a);n.push(a)}return i.length&&i.forEach(s=>{s.index!==void 0?n.splice(s.index,0,{...s.item}):n.push({...s.item})}),n}function Tgt(t,e){switch(t.type){case"select":{e.selected=t.selected;break}case"position":{typeof t.position<"u"&&(e.position=t.position),typeof t.dragging<"u"&&(e.dragging=t.dragging);break}case"dimensions":{typeof t.dimensions<"u"&&(e.measured??(e.measured={}),e.measured.width=t.dimensions.width,e.measured.height=t.dimensions.height,t.setAttributes&&((t.setAttributes===!0||t.setAttributes==="width")&&(e.width=t.dimensions.width),(t.setAttributes===!0||t.setAttributes==="height")&&(e.height=t.dimensions.height))),typeof t.resizing=="boolean"&&(e.resizing=t.resizing);break}}}function Rge(t,e){return Nge(t,e)}function kge(t,e){return Nge(t,e)}function fh(t,e){return{id:t,type:"select",selected:e}}function Pg(t,e=new Set,n=!1){const r=[];for(const[i,s]of t){const o=e.has(i);!(s.selected===void 0&&!o)&&s.selected!==o&&(n&&(s.selected=o),r.push(fh(s.id,o)))}return r}function vX({items:t=[],lookup:e}){var i;const n=[],r=new Map(t.map(s=>[s.id,s]));for(const[s,o]of t.entries()){const a=e.get(o.id),l=((i=a==null?void 0:a.internals)==null?void 0:i.userNode)??a;l!==void 0&&l!==o&&n.push({id:o.id,item:o,type:"replace"}),l===void 0&&n.push({item:o,type:"add",index:s})}for(const[s]of e)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function yX(t){return{id:t.id,type:"remove"}}const xX=t=>Xpt(t),Pgt=t=>Qme(t);function Oge(t){return M.forwardRef(t)}const Ngt=typeof window<"u"?M.useLayoutEffect:M.useEffect;function _X(t){const[e,n]=M.useState(BigInt(0)),[r]=M.useState(()=>Rgt(()=>n(i=>i+BigInt(1))));return Ngt(()=>{const i=r.get();i.length&&(t(i),r.reset())},[e]),r}function Rgt(t){let e=[];return{get:()=>e,reset:()=>{e=[]},push:n=>{e.push(n),t()}}}const Ige=M.createContext(null);function kgt({children:t}){const e=br(),n=M.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:f,onNodesChange:d,nodeLookup:h,fitViewQueued:g}=e.getState();let v=l;for(const m of a)v=typeof m=="function"?m(v):m;const x=vX({items:v,lookup:h});f&&c(v),x.length>0?d==null||d(x):g&&window.requestAnimationFrame(()=>{const{fitViewQueued:m,nodes:p,setNodes:y}=e.getState();m&&y(p)})},[]),r=_X(n),i=M.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:f,onEdgesChange:d,edgeLookup:h}=e.getState();let g=l;for(const v of a)g=typeof v=="function"?v(g):v;f?c(g):d&&d(vX({items:g,lookup:h}))},[]),s=_X(i),o=M.useMemo(()=>({nodeQueue:r,edgeQueue:s}),[]);return u.jsx(Ige.Provider,{value:o,children:t})}function Ogt(){const t=M.useContext(Ige);if(!t)throw new Error("useBatchContext must be used within a BatchProvider");return t}const Igt=t=>!!t.panZoom;function ez(){const t=Agt(),e=br(),n=Ogt(),r=En(Igt),i=M.useMemo(()=>{const s=d=>e.getState().nodeLookup.get(d),o=d=>{n.nodeQueue.push(d)},a=d=>{n.edgeQueue.push(d)},l=d=>{var p,y;const{nodeLookup:h,nodeOrigin:g}=e.getState(),v=xX(d)?d:h.get(d.id),x=v.parentId?ige(v.position,v.measured,v.parentId,h,g):v.position,m={...v,position:x,width:((p=v.measured)==null?void 0:p.width)??v.width,height:((y=v.measured)==null?void 0:y.height)??v.height};return py(m)},c=(d,h,g={replace:!1})=>{o(v=>v.map(x=>{if(x.id===d){const m=typeof h=="function"?h(x):h;return g.replace&&xX(m)?m:{...x,...m}}return x}))},f=(d,h,g={replace:!1})=>{a(v=>v.map(x=>{if(x.id===d){const m=typeof h=="function"?h(x):h;return g.replace&&Pgt(m)?m:{...x,...m}}return x}))};return{getNodes:()=>e.getState().nodes.map(d=>({...d})),getNode:d=>{var h;return(h=s(d))==null?void 0:h.internals.userNode},getInternalNode:s,getEdges:()=>{const{edges:d=[]}=e.getState();return d.map(h=>({...h}))},getEdge:d=>e.getState().edgeLookup.get(d),setNodes:o,setEdges:a,addNodes:d=>{const h=Array.isArray(d)?d:[d];n.nodeQueue.push(g=>[...g,...h])},addEdges:d=>{const h=Array.isArray(d)?d:[d];n.edgeQueue.push(g=>[...g,...h])},toObject:()=>{const{nodes:d=[],edges:h=[],transform:g}=e.getState(),[v,x,m]=g;return{nodes:d.map(p=>({...p})),edges:h.map(p=>({...p})),viewport:{x:v,y:x,zoom:m}}},deleteElements:async({nodes:d=[],edges:h=[]})=>{const{nodes:g,edges:v,onNodesDelete:x,onEdgesDelete:m,triggerNodeChanges:p,triggerEdgeChanges:y,onDelete:_,onBeforeDelete:b}=e.getState(),{nodes:w,edges:E}=await emt({nodesToRemove:d,edgesToRemove:h,nodes:g,edges:v,onBeforeDelete:b}),A=E.length>0,T=w.length>0;if(A){const P=E.map(yX);m==null||m(E),y(P)}if(T){const P=w.map(yX);x==null||x(w),p(P)}return(T||A)&&(_==null||_({nodes:w,edges:E})),{deletedNodes:w,deletedEdges:E}},getIntersectingNodes:(d,h=!0,g)=>{const v=XK(d),x=v?d:l(d),m=g!==void 0;return x?(g||e.getState().nodes).filter(p=>{const y=e.getState().nodeLookup.get(p.id);if(y&&!v&&(p.id===d.id||!y.internals.positionAbsolute))return!1;const _=py(m?p:y),b=Yb(_,x);return h&&b>0||b>=_.width*_.height||b>=x.width*x.height}):[]},isNodeIntersecting:(d,h,g=!0)=>{const x=XK(d)?d:l(d);if(!x)return!1;const m=Yb(x,h);return g&&m>0||m>=h.width*h.height||m>=x.width*x.height},updateNode:c,updateNodeData:(d,h,g={replace:!1})=>{c(d,v=>{const x=typeof h=="function"?h(v):h;return g.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},g)},updateEdge:f,updateEdgeData:(d,h,g={replace:!1})=>{f(d,v=>{const x=typeof h=="function"?h(v):h;return g.replace?{...v,data:x}:{...v,data:{...v.data,...x}}},g)},getNodesBounds:d=>{const{nodeLookup:h,nodeOrigin:g}=e.getState();return Ypt(d,{nodeLookup:h,nodeOrigin:g})},getHandleConnections:({type:d,id:h,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}-${d}${h?`-${h}`:""}`))==null?void 0:v.values())??[])},getNodeConnections:({type:d,handleId:h,nodeId:g})=>{var v;return Array.from(((v=e.getState().connectionLookup.get(`${g}${d?h?`-${d}-${h}`:`-${d}`:""}`))==null?void 0:v.values())??[])},fitView:async d=>{const h=e.getState().fitViewResolver??imt();return e.setState({fitViewQueued:!0,fitViewOptions:d,fitViewResolver:h}),n.nodeQueue.push(g=>[...g]),h.promise}}},[]);return M.useMemo(()=>({...i,...t,viewportInitialized:r}),[r])}const bX=t=>t.selected,jgt=typeof window<"u"?window:void 0;function Dgt({deleteKeyCode:t,multiSelectionKeyCode:e}){const n=br(),{deleteElements:r}=ez(),i=Jb(t,{actInsideInputWithModifier:!1}),s=Jb(e,{target:jgt});M.useEffect(()=>{if(i){const{edges:o,nodes:a}=n.getState();r({nodes:a.filter(bX),edges:o.filter(bX)}),n.setState({nodesSelectionActive:!1})}},[i]),M.useEffect(()=>{n.setState({multiSelectionActive:s})},[s])}function Lgt(t){const e=br();M.useEffect(()=>{const n=()=>{var i,s,o,a;if(!t.current||!(((s=(i=t.current).checkVisibility)==null?void 0:s.call(i))??!0))return!1;const r=K$(t.current);(r.height===0||r.width===0)&&((a=(o=e.getState()).onError)==null||a.call(o,"004",oc.error004())),e.setState({width:r.width||500,height:r.height||500})};if(t.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(t.current),()=>{window.removeEventListener("resize",n),r&&t.current&&r.unobserve(t.current)}}},[])}const MN={position:"absolute",width:"100%",height:"100%",top:0,left:0},Fgt=t=>({userSelectionActive:t.userSelectionActive,lib:t.lib,connectionInProgress:t.connection.inProgress});function Bgt({onPaneContextMenu:t,zoomOnScroll:e=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:s=Yh.Free,zoomOnDoubleClick:o=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:f,maxZoom:d,zoomActivationKeyCode:h,preventScrolling:g=!0,children:v,noWheelClassName:x,noPanClassName:m,onViewportChange:p,isControlledViewport:y,paneClickDistance:_}){const b=br(),w=M.useRef(null),{userSelectionActive:E,lib:A,connectionInProgress:T}=En(Fgt,kr),P=Jb(h),N=M.useRef();Lgt(w);const O=M.useCallback(I=>{p==null||p({x:I[0],y:I[1],zoom:I[2]}),y||b.setState({transform:I})},[p,y]);return M.useEffect(()=>{if(w.current){N.current=Umt({domNode:w.current,minZoom:f,maxZoom:d,translateExtent:c,viewport:l,paneClickDistance:_,onDraggingChange:$=>b.setState({paneDragging:$}),onPanZoomStart:($,z)=>{const{onViewportChangeStart:H,onMoveStart:R}=b.getState();R==null||R($,z),H==null||H(z)},onPanZoom:($,z)=>{const{onViewportChange:H,onMove:R}=b.getState();R==null||R($,z),H==null||H(z)},onPanZoomEnd:($,z)=>{const{onViewportChangeEnd:H,onMoveEnd:R}=b.getState();R==null||R($,z),H==null||H(z)}});const{x:I,y:D,zoom:F}=N.current.getViewport();return b.setState({panZoom:N.current,transform:[I,D,F],domNode:w.current.closest(".react-flow")}),()=>{var $;($=N.current)==null||$.destroy()}}},[]),M.useEffect(()=>{var I;(I=N.current)==null||I.update({onPaneContextMenu:t,zoomOnScroll:e,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:s,zoomOnDoubleClick:o,panOnDrag:a,zoomActivationKeyPressed:P,preventScrolling:g,noPanClassName:m,userSelectionActive:E,noWheelClassName:x,lib:A,onTransformChange:O,connectionInProgress:T})},[t,e,n,r,i,s,o,a,P,g,m,E,x,A,O,T]),u.jsx("div",{className:"react-flow__renderer",ref:w,style:MN,children:v})}const Ugt=t=>({userSelectionActive:t.userSelectionActive,userSelectionRect:t.userSelectionRect});function $gt(){const{userSelectionActive:t,userSelectionRect:e}=En(Ugt,kr);return t&&e?u.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:e.width,height:e.height,transform:`translate(${e.x}px, ${e.y}px)`}}):null}const _I=(t,e)=>n=>{n.target===e.current&&(t==null||t(n))},zgt=t=>({userSelectionActive:t.userSelectionActive,elementsSelectable:t.elementsSelectable,connectionInProgress:t.connection.inProgress,dragging:t.paneDragging});function Hgt({isSelecting:t,selectionKeyPressed:e,selectionMode:n=Xb.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:s,onSelectionEnd:o,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:f,onPaneMouseMove:d,onPaneMouseLeave:h,children:g}){const v=br(),{userSelectionActive:x,elementsSelectable:m,dragging:p,connectionInProgress:y}=En(zgt,kr),_=m&&(t||x),b=M.useRef(null),w=M.useRef(),E=M.useRef(new Set),A=M.useRef(new Set),T=M.useRef(!1),P=M.useRef(!1),N=R=>{if(T.current||y){T.current=!1;return}a==null||a(R),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},O=R=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){R.preventDefault();return}l==null||l(R)},I=c?R=>c(R):void 0,D=R=>{(i&&b.current===R.target||!i||e)&&R.stopPropagation()},F=R=>{var le,J;const{resetSelectedElements:j,domNode:B}=v.getState();w.current=B==null?void 0:B.getBoundingClientRect();const W=R.target!==b.current&&!!R.target.closest(".nokey"),G=i&&b.current===R.target||!i||e;if(!m||!t||R.button!==0||!w.current||W||!G||!R.isPrimary)return;R.stopPropagation(),R.preventDefault(),(J=(le=R.target)==null?void 0:le.setPointerCapture)==null||J.call(le,R.pointerId),P.current=!0,T.current=!1;const{x:K,y:ie}=Xa(R.nativeEvent,w.current);j(),v.setState({userSelectionRect:{width:0,height:0,startX:K,startY:ie,x:K,y:ie}}),s==null||s(R)},$=R=>{const{userSelectionRect:j,transform:B,nodeLookup:W,edgeLookup:G,connectionLookup:K,triggerNodeChanges:ie,triggerEdgeChanges:le,defaultEdgeOptions:J}=v.getState();if(!w.current||!j)return;T.current=!0;const{x:U,y:X}=Xa(R.nativeEvent,w.current),{startX:Q,startY:te}=j,ue={startX:Q,startY:te,x:U<Q?U:Q,y:X<te?X:te,width:Math.abs(U-Q),height:Math.abs(X-te)},ee=E.current,Y=A.current;E.current=new Set(G$(W,ue,B,n===Xb.Partial,!0).map(re=>re.id)),A.current=new Set;const se=(J==null?void 0:J.selectable)??!0;for(const re of E.current){const me=K.get(re);if(me)for(const{edgeId:he}of me.values()){const Ae=G.get(he);Ae&&(Ae.selectable??se)&&A.current.add(he)}}if(!YK(ee,E.current)){const re=Pg(W,E.current,!0);ie(re)}if(!YK(Y,A.current)){const re=Pg(G,A.current);le(re)}v.setState({userSelectionRect:ue,userSelectionActive:!0,nodesSelectionActive:!1})},z=R=>{var B,W;if(R.button!==0||!P.current)return;(W=(B=R.target)==null?void 0:B.releasePointerCapture)==null||W.call(B,R.pointerId);const{userSelectionRect:j}=v.getState();!x&&j&&R.target===b.current&&(N==null||N(R)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),o==null||o(R),(e||i)&&(T.current=!1),P.current=!1},H=r===!0||Array.isArray(r)&&r.includes(0);return u.jsxs("div",{className:si(["react-flow__pane",{draggable:H,dragging:p,selection:t}]),onClick:_?void 0:_I(N,b),onContextMenu:_I(O,b),onWheel:_I(I,b),onPointerEnter:_?void 0:f,onPointerMove:_?$:d,onPointerUp:_?z:void 0,onPointerDownCapture:_?F:void 0,onClickCapture:_?D:void 0,onPointerLeave:h,ref:b,style:MN,children:[g,u.jsx($gt,{})]})}function TF({id:t,store:e,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:s,multiSelectionActive:o,nodeLookup:a,onError:l}=e.getState(),c=a.get(t);if(!c){l==null||l("012",oc.error012(t));return}e.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&o)&&(s({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var f;return(f=r==null?void 0:r.current)==null?void 0:f.blur()})):i([t])}function jge({nodeRef:t,disabled:e=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:s,nodeClickDistance:o}){const a=br(),[l,c]=M.useState(!1),f=M.useRef();return M.useEffect(()=>{f.current=Mmt({getStoreItems:()=>a.getState(),onNodeMouseDown:d=>{TF({id:d,store:a,nodeRef:t})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),M.useEffect(()=>{var d,h;if(e)(d=f.current)==null||d.destroy();else if(t.current)return(h=f.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:t.current,isSelectable:s,nodeId:i,nodeClickDistance:o}),()=>{var g;(g=f.current)==null||g.destroy()}},[n,r,e,s,t,i]),l}const Vgt=t=>e=>e.selected&&(e.draggable||t&&typeof e.draggable>"u");function Dge(){const t=br();return M.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:s,nodesDraggable:o,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:f}=t.getState(),d=new Map,h=Vgt(o),g=i?s[0]:5,v=i?s[1]:5,x=n.direction.x*g*n.factor,m=n.direction.y*v*n.factor;for(const[,p]of c){if(!h(p))continue;let y={x:p.internals.positionAbsolute.x+x,y:p.internals.positionAbsolute.y+m};i&&(y=m1(y,s));const{position:_,positionAbsolute:b}=Jme({nodeId:p.id,nextPosition:y,nodeLookup:c,nodeExtent:r,nodeOrigin:f,onError:a});p.position=_,p.internals.positionAbsolute=b,d.set(p.id,p)}l(d)},[])}const tz=M.createContext(null),Wgt=tz.Provider;tz.Consumer;const Lge=()=>M.useContext(tz),Ggt=t=>({connectOnClick:t.connectOnClick,noPanClassName:t.noPanClassName,rfId:t.rfId}),qgt=(t,e,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:s,connection:o}=r,{fromHandle:a,toHandle:l,isValid:c}=o,f=(l==null?void 0:l.nodeId)===t&&(l==null?void 0:l.id)===e&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===t&&(a==null?void 0:a.id)===e&&(a==null?void 0:a.type)===n,connectingTo:f,clickConnecting:(i==null?void 0:i.nodeId)===t&&(i==null?void 0:i.id)===e&&(i==null?void 0:i.type)===n,isPossibleEndHandle:s===fy.Strict?(a==null?void 0:a.type)!==n:t!==(a==null?void 0:a.nodeId)||e!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:f&&c}};function Kgt({type:t="source",position:e=$t.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:s=!0,id:o,onConnect:a,children:l,className:c,onMouseDown:f,onTouchStart:d,...h},g){var $,z;const v=o||null,x=t==="target",m=br(),p=Lge(),{connectOnClick:y,noPanClassName:_,rfId:b}=En(Ggt,kr),{connectingFrom:w,connectingTo:E,clickConnecting:A,isPossibleEndHandle:T,connectionInProcess:P,clickConnectionInProcess:N,valid:O}=En(qgt(p,v,t),kr);p||(z=($=m.getState()).onError)==null||z.call($,"010",oc.error010());const I=H=>{const{defaultEdgeOptions:R,onConnect:j,hasDefaultEdges:B}=m.getState(),W={...R,...H};if(B){const{edges:G,setEdges:K}=m.getState();K(X$(W,G))}j==null||j(W),a==null||a(W)},D=H=>{if(!p)return;const R=age(H.nativeEvent);if(i&&(R&&H.button===0||!R)){const j=m.getState();AF.onPointerDown(H.nativeEvent,{handleDomNode:H.currentTarget,autoPanOnConnect:j.autoPanOnConnect,connectionMode:j.connectionMode,connectionRadius:j.connectionRadius,domNode:j.domNode,nodeLookup:j.nodeLookup,lib:j.lib,isTarget:x,handleId:v,nodeId:p,flowId:j.rfId,panBy:j.panBy,cancelConnection:j.cancelConnection,onConnectStart:j.onConnectStart,onConnectEnd:j.onConnectEnd,updateConnection:j.updateConnection,onConnect:I,isValidConnection:n||j.isValidConnection,getTransform:()=>m.getState().transform,getFromHandle:()=>m.getState().connection.fromHandle,autoPanSpeed:j.autoPanSpeed,dragThreshold:j.connectionDragThreshold})}R?f==null||f(H):d==null||d(H)},F=H=>{const{onClickConnectStart:R,onClickConnectEnd:j,connectionClickStartHandle:B,connectionMode:W,isValidConnection:G,lib:K,rfId:ie,nodeLookup:le,connection:J}=m.getState();if(!p||!B&&!i)return;if(!B){R==null||R(H.nativeEvent,{nodeId:p,handleId:v,handleType:t}),m.setState({connectionClickStartHandle:{nodeId:p,type:t,id:v}});return}const U=sge(H.target),X=n||G,{connection:Q,isValid:te}=AF.isValid(H.nativeEvent,{handle:{nodeId:p,id:v,type:t},connectionMode:W,fromNodeId:B.nodeId,fromHandleId:B.id||null,fromType:B.type,isValidConnection:X,flowId:ie,doc:U,lib:K,nodeLookup:le});te&&Q&&I(Q);const ue=structuredClone(J);delete ue.inProgress,ue.toPosition=ue.toHandle?ue.toHandle.position:null,j==null||j(H,ue),m.setState({connectionClickStartHandle:null})};return u.jsx("div",{"data-handleid":v,"data-nodeid":p,"data-handlepos":e,"data-id":`${b}-${p}-${v}-${t}`,className:si(["react-flow__handle",`react-flow__handle-${e}`,"nodrag",_,c,{source:!x,target:x,connectable:r,connectablestart:i,connectableend:s,clickconnecting:A,connectingfrom:w,connectingto:E,valid:O,connectionindicator:r&&(!P||T)&&(P||N?s:i)}]),onMouseDown:D,onTouchStart:D,onClick:y?F:void 0,ref:g,...h,children:l})}const xT=M.memo(Oge(Kgt));function Xgt({data:t,isConnectable:e,sourcePosition:n=$t.Bottom}){return u.jsxs(u.Fragment,{children:[t==null?void 0:t.label,u.jsx(xT,{type:"source",position:n,isConnectable:e})]})}function Ygt({data:t,isConnectable:e,targetPosition:n=$t.Top,sourcePosition:r=$t.Bottom}){return u.jsxs(u.Fragment,{children:[u.jsx(xT,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label,u.jsx(xT,{type:"source",position:r,isConnectable:e})]})}function Zgt(){return null}function Qgt({data:t,isConnectable:e,targetPosition:n=$t.Top}){return u.jsxs(u.Fragment,{children:[u.jsx(xT,{type:"target",position:n,isConnectable:e}),t==null?void 0:t.label]})}const _T={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},wX={input:Xgt,default:Ygt,output:Qgt,group:Zgt};function Jgt(t){var e,n,r,i;return t.internals.handleBounds===void 0?{width:t.width??t.initialWidth??((e=t.style)==null?void 0:e.width),height:t.height??t.initialHeight??((n=t.style)==null?void 0:n.height)}:{width:t.width??((r=t.style)==null?void 0:r.width),height:t.height??((i=t.style)==null?void 0:i.height)}}const evt=t=>{const{width:e,height:n,x:r,y:i}=p1(t.nodeLookup,{filter:s=>!!s.selected});return{width:Ka(e)?e:null,height:Ka(n)?n:null,userSelectionActive:t.userSelectionActive,transformString:`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]}) translate(${r}px,${i}px)`}};function tvt({onSelectionContextMenu:t,noPanClassName:e,disableKeyboardA11y:n}){const r=br(),{width:i,height:s,transformString:o,userSelectionActive:a}=En(evt,kr),l=Dge(),c=M.useRef(null);if(M.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),jge({nodeRef:c}),a||!i||!s)return null;const f=t?h=>{const g=r.getState().nodes.filter(v=>v.selected);t(h,g)}:void 0,d=h=>{Object.prototype.hasOwnProperty.call(_T,h.key)&&(h.preventDefault(),l({direction:_T[h.key],factor:h.shiftKey?4:1}))};return u.jsx("div",{className:si(["react-flow__nodesselection","react-flow__container",e]),style:{transform:o},children:u.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:f,tabIndex:n?void 0:-1,onKeyDown:n?void 0:d,style:{width:i,height:s}})})}const SX=typeof window<"u"?window:void 0,nvt=t=>({nodesSelectionActive:t.nodesSelectionActive,userSelectionActive:t.userSelectionActive});function Fge({children:t,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:f,selectionMode:d,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:v,panActivationKeyCode:x,zoomActivationKeyCode:m,elementsSelectable:p,zoomOnScroll:y,zoomOnPinch:_,panOnScroll:b,panOnScrollSpeed:w,panOnScrollMode:E,zoomOnDoubleClick:A,panOnDrag:T,defaultViewport:P,translateExtent:N,minZoom:O,maxZoom:I,preventScrolling:D,onSelectionContextMenu:F,noWheelClassName:$,noPanClassName:z,disableKeyboardA11y:H,onViewportChange:R,isControlledViewport:j}){const{nodesSelectionActive:B,userSelectionActive:W}=En(nvt),G=Jb(c,{target:SX}),K=Jb(x,{target:SX}),ie=K||T,le=K||b,J=f&&ie!==!0,U=G||W||J;return Dgt({deleteKeyCode:l,multiSelectionKeyCode:v}),u.jsx(Bgt,{onPaneContextMenu:s,elementsSelectable:p,zoomOnScroll:y,zoomOnPinch:_,panOnScroll:le,panOnScrollSpeed:w,panOnScrollMode:E,zoomOnDoubleClick:A,panOnDrag:!G&&ie,defaultViewport:P,translateExtent:N,minZoom:O,maxZoom:I,zoomActivationKeyCode:m,preventScrolling:D,noWheelClassName:$,noPanClassName:z,onViewportChange:R,isControlledViewport:j,paneClickDistance:a,children:u.jsxs(Hgt,{onSelectionStart:h,onSelectionEnd:g,onPaneClick:e,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:s,onPaneScroll:o,panOnDrag:ie,isSelecting:!!U,selectionMode:d,selectionKeyPressed:G,selectionOnDrag:J,children:[t,B&&u.jsx(tvt,{onSelectionContextMenu:F,noPanClassName:z,disableKeyboardA11y:H})]})})}Fge.displayName="FlowRenderer";const rvt=M.memo(Fge),ivt=t=>e=>t?G$(e.nodeLookup,{x:0,y:0,width:e.width,height:e.height},e.transform,!0).map(n=>n.id):Array.from(e.nodeLookup.keys());function svt(t){return En(M.useCallback(ivt(t),[t]),kr)}const ovt=t=>t.updateNodeInternals;function avt(){const t=En(ovt),[e]=M.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const s=i.target.getAttribute("data-id");r.set(s,{id:s,nodeElement:i.target,force:!0})}),t(r)}));return M.useEffect(()=>()=>{e==null||e.disconnect()},[e]),e}function lvt({node:t,nodeType:e,hasDimensions:n,resizeObserver:r}){const i=br(),s=M.useRef(null),o=M.useRef(null),a=M.useRef(t.sourcePosition),l=M.useRef(t.targetPosition),c=M.useRef(e),f=n&&!!t.internals.handleBounds;return M.useEffect(()=>{s.current&&!t.hidden&&(!f||o.current!==s.current)&&(o.current&&(r==null||r.unobserve(o.current)),r==null||r.observe(s.current),o.current=s.current)},[f,t.hidden]),M.useEffect(()=>()=>{o.current&&(r==null||r.unobserve(o.current),o.current=null)},[]),M.useEffect(()=>{if(s.current){const d=c.current!==e,h=a.current!==t.sourcePosition,g=l.current!==t.targetPosition;(d||h||g)&&(c.current=e,a.current=t.sourcePosition,l.current=t.targetPosition,i.getState().updateNodeInternals(new Map([[t.id,{id:t.id,nodeElement:s.current,force:!0}]])))}},[t.id,e,t.sourcePosition,t.targetPosition]),s}function cvt({id:t,onClick:e,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:s,onDoubleClick:o,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:f,resizeObserver:d,noDragClassName:h,noPanClassName:g,disableKeyboardA11y:v,rfId:x,nodeTypes:m,nodeClickDistance:p,onError:y}){const{node:_,internals:b,isParent:w}=En(X=>{const Q=X.nodeLookup.get(t),te=X.parentLookup.has(t);return{node:Q,internals:Q.internals,isParent:te}},kr);let E=_.type||"default",A=(m==null?void 0:m[E])||wX[E];A===void 0&&(y==null||y("003",oc.error003(E)),E="default",A=(m==null?void 0:m.default)||wX.default);const T=!!(_.draggable||a&&typeof _.draggable>"u"),P=!!(_.selectable||l&&typeof _.selectable>"u"),N=!!(_.connectable||c&&typeof _.connectable>"u"),O=!!(_.focusable||f&&typeof _.focusable>"u"),I=br(),D=rge(_),F=lvt({node:_,nodeType:E,hasDimensions:D,resizeObserver:d}),$=jge({nodeRef:F,disabled:_.hidden||!T,noDragClassName:h,handleSelector:_.dragHandle,nodeId:t,isSelectable:P,nodeClickDistance:p}),z=Dge();if(_.hidden)return null;const H=ju(_),R=Jgt(_),j=P||T||e||n||r||i,B=n?X=>n(X,{...b.userNode}):void 0,W=r?X=>r(X,{...b.userNode}):void 0,G=i?X=>i(X,{...b.userNode}):void 0,K=s?X=>s(X,{...b.userNode}):void 0,ie=o?X=>o(X,{...b.userNode}):void 0,le=X=>{const{selectNodesOnDrag:Q,nodeDragThreshold:te}=I.getState();P&&(!Q||!T||te>0)&&TF({id:t,store:I,nodeRef:F}),e&&e(X,{...b.userNode})},J=X=>{if(!(oge(X.nativeEvent)||v)){if(Kme.includes(X.key)&&P){const Q=X.key==="Escape";TF({id:t,store:I,unselect:Q,nodeRef:F})}else if(T&&_.selected&&Object.prototype.hasOwnProperty.call(_T,X.key)){X.preventDefault();const{ariaLabelConfig:Q}=I.getState();I.setState({ariaLiveMessage:Q["node.a11yDescription.ariaLiveMessage"]({direction:X.key.replace("Arrow","").toLowerCase(),x:~~b.positionAbsolute.x,y:~~b.positionAbsolute.y})}),z({direction:_T[X.key],factor:X.shiftKey?4:1})}}},U=()=>{var se;if(v||!((se=F.current)!=null&&se.matches(":focus-visible")))return;const{transform:X,width:Q,height:te,autoPanOnNodeFocus:ue,setCenter:ee}=I.getState();if(!ue)return;G$(new Map([[t,_]]),{x:0,y:0,width:Q,height:te},X,!0).length>0||ee(_.position.x+H.width/2,_.position.y+H.height/2,{zoom:X[2]})};return u.jsx("div",{className:si(["react-flow__node",`react-flow__node-${E}`,{[g]:T},_.className,{selected:_.selected,selectable:P,parent:w,draggable:T,dragging:$}]),ref:F,style:{zIndex:b.z,transform:`translate(${b.positionAbsolute.x}px,${b.positionAbsolute.y}px)`,pointerEvents:j?"all":"none",visibility:D?"visible":"hidden",..._.style,...R},"data-id":t,"data-testid":`rf__node-${t}`,onMouseEnter:B,onMouseMove:W,onMouseLeave:G,onContextMenu:K,onClick:le,onDoubleClick:ie,onKeyDown:O?J:void 0,tabIndex:O?0:void 0,onFocus:O?U:void 0,role:_.ariaRole??(O?"group":void 0),"aria-roledescription":"node","aria-describedby":v?void 0:`${Age}-${x}`,"aria-label":_.ariaLabel,..._.domAttributes,children:u.jsx(Wgt,{value:t,children:u.jsx(A,{id:t,data:_.data,type:E,positionAbsoluteX:b.positionAbsolute.x,positionAbsoluteY:b.positionAbsolute.y,selected:_.selected??!1,selectable:P,draggable:T,deletable:_.deletable??!0,isConnectable:N,sourcePosition:_.sourcePosition,targetPosition:_.targetPosition,dragging:$,dragHandle:_.dragHandle,zIndex:b.z,parentId:_.parentId,...H})})})}var uvt=M.memo(cvt);const dvt=t=>({nodesDraggable:t.nodesDraggable,nodesConnectable:t.nodesConnectable,nodesFocusable:t.nodesFocusable,elementsSelectable:t.elementsSelectable,onError:t.onError});function Bge(t){const{nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:s}=En(dvt,kr),o=svt(t.onlyRenderVisibleElements),a=avt();return u.jsx("div",{className:"react-flow__nodes",style:MN,children:o.map(l=>u.jsx(uvt,{id:l,nodeTypes:t.nodeTypes,nodeExtent:t.nodeExtent,onClick:t.onNodeClick,onMouseEnter:t.onNodeMouseEnter,onMouseMove:t.onNodeMouseMove,onMouseLeave:t.onNodeMouseLeave,onContextMenu:t.onNodeContextMenu,onDoubleClick:t.onNodeDoubleClick,noDragClassName:t.noDragClassName,noPanClassName:t.noPanClassName,rfId:t.rfId,disableKeyboardA11y:t.disableKeyboardA11y,resizeObserver:a,nodesDraggable:e,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:t.nodeClickDistance,onError:s},l))})}Bge.displayName="NodeRenderer";const fvt=M.memo(Bge);function hvt(t){return En(M.useCallback(n=>{if(!t)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const s=n.nodeLookup.get(i.source),o=n.nodeLookup.get(i.target);s&&o&&lmt({sourceNode:s,targetNode:o,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[t]),kr)}const pvt=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t}};return u.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},mvt=({color:t="none",strokeWidth:e=1})=>{const n={strokeWidth:e,...t&&{stroke:t,fill:t}};return u.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},CX={[gT.Arrow]:pvt,[gT.ArrowClosed]:mvt};function gvt(t){const e=br();return M.useMemo(()=>{var i,s;return Object.prototype.hasOwnProperty.call(CX,t)?CX[t]:((s=(i=e.getState()).onError)==null||s.call(i,"009",oc.error009(t)),null)},[t])}const vvt=({id:t,type:e,color:n,width:r=12.5,height:i=12.5,markerUnits:s="strokeWidth",strokeWidth:o,orient:a="auto-start-reverse"})=>{const l=gvt(e);return l?u.jsx("marker",{className:"react-flow__arrowhead",id:t,markerWidth:`${r}`,markerHeight:`${i}`,viewBox:"-10 -10 20 20",markerUnits:s,orient:a,refX:"0",refY:"0",children:u.jsx(l,{color:n,strokeWidth:o})}):null},Uge=({defaultColor:t,rfId:e})=>{const n=En(s=>s.edges),r=En(s=>s.defaultEdgeOptions),i=M.useMemo(()=>mmt(n,{id:e,defaultColor:t,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,e,t]);return i.length?u.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:u.jsx("defs",{children:i.map(s=>u.jsx(vvt,{id:s.id,type:s.type,color:s.color,width:s.width,height:s.height,markerUnits:s.markerUnits,strokeWidth:s.strokeWidth,orient:s.orient},s.id))})}):null};Uge.displayName="MarkerDefinitions";var yvt=M.memo(Uge);function $ge({x:t,y:e,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:s,labelBgPadding:o=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...f}){const[d,h]=M.useState({x:1,y:0,width:0,height:0}),g=si(["react-flow__edge-textwrapper",c]),v=M.useRef(null);return M.useEffect(()=>{if(v.current){const x=v.current.getBBox();h({x:x.x,y:x.y,width:x.width,height:x.height})}},[n]),n?u.jsxs("g",{transform:`translate(${t-d.width/2} ${e-d.height/2})`,className:g,visibility:d.width?"visible":"hidden",...f,children:[i&&u.jsx("rect",{width:d.width+2*o[0],x:-o[0],y:-o[1],height:d.height+2*o[1],className:"react-flow__edge-textbg",style:s,rx:a,ry:a}),u.jsx("text",{className:"react-flow__edge-text",y:d.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}$ge.displayName="EdgeText";const xvt=M.memo($ge);function AN({path:t,labelX:e,labelY:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...f}){return u.jsxs(u.Fragment,{children:[u.jsx("path",{...f,d:t,fill:"none",className:si(["react-flow__edge-path",f.className])}),c?u.jsx("path",{d:t,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}):null,r&&Ka(e)&&Ka(n)?u.jsx(xvt,{x:e,y:n,label:r,labelStyle:i,labelShowBg:s,labelBgStyle:o,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function EX({pos:t,x1:e,y1:n,x2:r,y2:i}){return t===$t.Left||t===$t.Right?[.5*(e+r),n]:[e,.5*(n+i)]}function zge({sourceX:t,sourceY:e,sourcePosition:n=$t.Bottom,targetX:r,targetY:i,targetPosition:s=$t.Top}){const[o,a]=EX({pos:n,x1:t,y1:e,x2:r,y2:i}),[l,c]=EX({pos:s,x1:r,y1:i,x2:t,y2:e}),[f,d,h,g]=lge({sourceX:t,sourceY:e,targetX:r,targetY:i,sourceControlX:o,sourceControlY:a,targetControlX:l,targetControlY:c});return[`M${t},${e} C${o},${a} ${l},${c} ${r},${i}`,f,d,h,g]}function Hge(t){return M.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o,targetPosition:a,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,interactionWidth:p})=>{const[y,_,b]=zge({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a}),w=t.isInternal?void 0:e;return u.jsx(AN,{id:w,path:y,labelX:_,labelY:b,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,interactionWidth:p})})}const _vt=Hge({isInternal:!1}),Vge=Hge({isInternal:!0});_vt.displayName="SimpleBezierEdge";Vge.displayName="SimpleBezierEdgeInternal";function Wge(t){return M.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,sourcePosition:g=$t.Bottom,targetPosition:v=$t.Top,markerEnd:x,markerStart:m,pathOptions:p,interactionWidth:y})=>{const[_,b,w]=CF({sourceX:n,sourceY:r,sourcePosition:g,targetX:i,targetY:s,targetPosition:v,borderRadius:p==null?void 0:p.borderRadius,offset:p==null?void 0:p.offset,stepPosition:p==null?void 0:p.stepPosition}),E=t.isInternal?void 0:e;return u.jsx(AN,{id:E,path:_,labelX:b,labelY:w,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:x,markerStart:m,interactionWidth:y})})}const Gge=Wge({isInternal:!1}),qge=Wge({isInternal:!0});Gge.displayName="SmoothStepEdge";qge.displayName="SmoothStepEdgeInternal";function Kge(t){return M.memo(({id:e,...n})=>{var i;const r=t.isInternal?void 0:e;return u.jsx(Gge,{...n,id:r,pathOptions:M.useMemo(()=>{var s;return{borderRadius:0,offset:(s=n.pathOptions)==null?void 0:s.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const bvt=Kge({isInternal:!1}),Xge=Kge({isInternal:!0});bvt.displayName="StepEdge";Xge.displayName="StepEdgeInternal";function Yge(t){return M.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:g,markerStart:v,interactionWidth:x})=>{const[m,p,y]=dge({sourceX:n,sourceY:r,targetX:i,targetY:s}),_=t.isInternal?void 0:e;return u.jsx(AN,{id:_,path:m,labelX:p,labelY:y,label:o,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:f,labelBgBorderRadius:d,style:h,markerEnd:g,markerStart:v,interactionWidth:x})})}const wvt=Yge({isInternal:!1}),Zge=Yge({isInternal:!0});wvt.displayName="StraightEdge";Zge.displayName="StraightEdgeInternal";function Qge(t){return M.memo(({id:e,sourceX:n,sourceY:r,targetX:i,targetY:s,sourcePosition:o=$t.Bottom,targetPosition:a=$t.Top,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,pathOptions:p,interactionWidth:y})=>{const[_,b,w]=cge({sourceX:n,sourceY:r,sourcePosition:o,targetX:i,targetY:s,targetPosition:a,curvature:p==null?void 0:p.curvature}),E=t.isInternal?void 0:e;return u.jsx(AN,{id:E,path:_,labelX:b,labelY:w,label:l,labelStyle:c,labelShowBg:f,labelBgStyle:d,labelBgPadding:h,labelBgBorderRadius:g,style:v,markerEnd:x,markerStart:m,interactionWidth:y})})}const Svt=Qge({isInternal:!1}),Jge=Qge({isInternal:!0});Svt.displayName="BezierEdge";Jge.displayName="BezierEdgeInternal";const MX={default:Jge,straight:Zge,step:Xge,smoothstep:qge,simplebezier:Vge},AX={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},Cvt=(t,e,n)=>n===$t.Left?t-e:n===$t.Right?t+e:t,Evt=(t,e,n)=>n===$t.Top?t-e:n===$t.Bottom?t+e:t,TX="react-flow__edgeupdater";function PX({position:t,centerX:e,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:s,onMouseOut:o,type:a}){return u.jsx("circle",{onMouseDown:i,onMouseEnter:s,onMouseOut:o,className:si([TX,`${TX}-${a}`]),cx:Cvt(e,r,t),cy:Evt(n,r,t),r,stroke:"transparent",fill:"transparent"})}function Mvt({isReconnectable:t,reconnectRadius:e,edge:n,sourceX:r,sourceY:i,targetX:s,targetY:o,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:f,onReconnectEnd:d,setReconnecting:h,setUpdateHover:g}){const v=br(),x=(b,w)=>{if(b.button!==0)return;const{autoPanOnConnect:E,domNode:A,isValidConnection:T,connectionMode:P,connectionRadius:N,lib:O,onConnectStart:I,onConnectEnd:D,cancelConnection:F,nodeLookup:$,rfId:z,panBy:H,updateConnection:R}=v.getState(),j=w.type==="target",B=(K,ie)=>{h(!1),d==null||d(K,n,w.type,ie)},W=K=>c==null?void 0:c(n,K),G=(K,ie)=>{h(!0),f==null||f(b,n,w.type),I==null||I(K,ie)};AF.onPointerDown(b.nativeEvent,{autoPanOnConnect:E,connectionMode:P,connectionRadius:N,domNode:A,handleId:w.id,nodeId:w.nodeId,nodeLookup:$,isTarget:j,edgeUpdaterType:w.type,lib:O,flowId:z,cancelConnection:F,panBy:H,isValidConnection:T,onConnect:W,onConnectStart:G,onConnectEnd:D,onReconnectEnd:B,updateConnection:R,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle,dragThreshold:v.getState().connectionDragThreshold,handleDomNode:b.currentTarget})},m=b=>x(b,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),p=b=>x(b,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),y=()=>g(!0),_=()=>g(!1);return u.jsxs(u.Fragment,{children:[(t===!0||t==="source")&&u.jsx(PX,{position:a,centerX:r,centerY:i,radius:e,onMouseDown:m,onMouseEnter:y,onMouseOut:_,type:"source"}),(t===!0||t==="target")&&u.jsx(PX,{position:l,centerX:s,centerY:o,radius:e,onMouseDown:p,onMouseEnter:y,onMouseOut:_,type:"target"})]})}function Avt({id:t,edgesFocusable:e,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,rfId:v,edgeTypes:x,noPanClassName:m,onError:p,disableKeyboardA11y:y}){let _=En(ee=>ee.edgeLookup.get(t));const b=En(ee=>ee.defaultEdgeOptions);_=b?{...b,..._}:_;let w=_.type||"default",E=(x==null?void 0:x[w])||MX[w];E===void 0&&(p==null||p("011",oc.error011(w)),w="default",E=(x==null?void 0:x.default)||MX.default);const A=!!(_.focusable||e&&typeof _.focusable>"u"),T=typeof d<"u"&&(_.reconnectable||n&&typeof _.reconnectable>"u"),P=!!(_.selectable||r&&typeof _.selectable>"u"),N=M.useRef(null),[O,I]=M.useState(!1),[D,F]=M.useState(!1),$=br(),{zIndex:z,sourceX:H,sourceY:R,targetX:j,targetY:B,sourcePosition:W,targetPosition:G}=En(M.useCallback(ee=>{const Y=ee.nodeLookup.get(_.source),se=ee.nodeLookup.get(_.target);if(!Y||!se)return{zIndex:_.zIndex,...AX};const re=pmt({id:t,sourceNode:Y,targetNode:se,sourceHandle:_.sourceHandle||null,targetHandle:_.targetHandle||null,connectionMode:ee.connectionMode,onError:p});return{zIndex:amt({selected:_.selected,zIndex:_.zIndex,sourceNode:Y,targetNode:se,elevateOnSelect:ee.elevateEdgesOnSelect}),...re||AX}},[_.source,_.target,_.sourceHandle,_.targetHandle,_.selected,_.zIndex]),kr),K=M.useMemo(()=>_.markerStart?`url('#${EF(_.markerStart,v)}')`:void 0,[_.markerStart,v]),ie=M.useMemo(()=>_.markerEnd?`url('#${EF(_.markerEnd,v)}')`:void 0,[_.markerEnd,v]);if(_.hidden||H===null||R===null||j===null||B===null)return null;const le=ee=>{var me;const{addSelectedEdges:Y,unselectNodesAndEdges:se,multiSelectionActive:re}=$.getState();P&&($.setState({nodesSelectionActive:!1}),_.selected&&re?(se({nodes:[],edges:[_]}),(me=N.current)==null||me.blur()):Y([t])),i&&i(ee,_)},J=s?ee=>{s(ee,{..._})}:void 0,U=o?ee=>{o(ee,{..._})}:void 0,X=a?ee=>{a(ee,{..._})}:void 0,Q=l?ee=>{l(ee,{..._})}:void 0,te=c?ee=>{c(ee,{..._})}:void 0,ue=ee=>{var Y;if(!y&&Kme.includes(ee.key)&&P){const{unselectNodesAndEdges:se,addSelectedEdges:re}=$.getState();ee.key==="Escape"?((Y=N.current)==null||Y.blur(),se({edges:[_]})):re([t])}};return u.jsx("svg",{style:{zIndex:z},children:u.jsxs("g",{className:si(["react-flow__edge",`react-flow__edge-${w}`,_.className,m,{selected:_.selected,animated:_.animated,inactive:!P&&!i,updating:O,selectable:P}]),onClick:le,onDoubleClick:J,onContextMenu:U,onMouseEnter:X,onMouseMove:Q,onMouseLeave:te,onKeyDown:A?ue:void 0,tabIndex:A?0:void 0,role:_.ariaRole??(A?"group":"img"),"aria-roledescription":"edge","data-id":t,"data-testid":`rf__edge-${t}`,"aria-label":_.ariaLabel===null?void 0:_.ariaLabel||`Edge from ${_.source} to ${_.target}`,"aria-describedby":A?`${Tge}-${v}`:void 0,ref:N,..._.domAttributes,children:[!D&&u.jsx(E,{id:t,source:_.source,target:_.target,type:_.type,selected:_.selected,animated:_.animated,selectable:P,deletable:_.deletable??!0,label:_.label,labelStyle:_.labelStyle,labelShowBg:_.labelShowBg,labelBgStyle:_.labelBgStyle,labelBgPadding:_.labelBgPadding,labelBgBorderRadius:_.labelBgBorderRadius,sourceX:H,sourceY:R,targetX:j,targetY:B,sourcePosition:W,targetPosition:G,data:_.data,style:_.style,sourceHandleId:_.sourceHandle,targetHandleId:_.targetHandle,markerStart:K,markerEnd:ie,pathOptions:"pathOptions"in _?_.pathOptions:void 0,interactionWidth:_.interactionWidth}),T&&u.jsx(Mvt,{edge:_,isReconnectable:T,reconnectRadius:f,onReconnect:d,onReconnectStart:h,onReconnectEnd:g,sourceX:H,sourceY:R,targetX:j,targetY:B,sourcePosition:W,targetPosition:G,setUpdateHover:I,setReconnecting:F})]})})}var Tvt=M.memo(Avt);const Pvt=t=>({edgesFocusable:t.edgesFocusable,edgesReconnectable:t.edgesReconnectable,elementsSelectable:t.elementsSelectable,connectionMode:t.connectionMode,onError:t.onError});function eve({defaultMarkerColor:t,onlyRenderVisibleElements:e,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:s,onEdgeContextMenu:o,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:f,reconnectRadius:d,onEdgeDoubleClick:h,onReconnectStart:g,onReconnectEnd:v,disableKeyboardA11y:x}){const{edgesFocusable:m,edgesReconnectable:p,elementsSelectable:y,onError:_}=En(Pvt,kr),b=hvt(e);return u.jsxs("div",{className:"react-flow__edges",children:[u.jsx(yvt,{defaultColor:t,rfId:n}),b.map(w=>u.jsx(Tvt,{id:w,edgesFocusable:m,edgesReconnectable:p,elementsSelectable:y,noPanClassName:i,onReconnect:s,onContextMenu:o,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:f,reconnectRadius:d,onDoubleClick:h,onReconnectStart:g,onReconnectEnd:v,rfId:n,onError:_,edgeTypes:r,disableKeyboardA11y:x},w))]})}eve.displayName="EdgeRenderer";const Nvt=M.memo(eve),Rvt=t=>`translate(${t.transform[0]}px,${t.transform[1]}px) scale(${t.transform[2]})`;function kvt({children:t}){const e=En(Rvt);return u.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:e},children:t})}function Ovt(t){const e=ez(),n=M.useRef(!1);M.useEffect(()=>{!n.current&&e.viewportInitialized&&t&&(setTimeout(()=>t(e),1),n.current=!0)},[t,e.viewportInitialized])}const Ivt=t=>{var e;return(e=t.panZoom)==null?void 0:e.syncViewport};function jvt(t){const e=En(Ivt),n=br();return M.useEffect(()=>{t&&(e==null||e(t),n.setState({transform:[t.x,t.y,t.zoom]}))},[t,e]),null}function Dvt(t){return t.connection.inProgress?{...t.connection,to:g1(t.connection.to,t.transform)}:{...t.connection}}function Lvt(t){return Dvt}function Fvt(t){const e=Lvt();return En(e,kr)}const Bvt=t=>({nodesConnectable:t.nodesConnectable,isValid:t.connection.isValid,inProgress:t.connection.inProgress,width:t.width,height:t.height});function Uvt({containerStyle:t,style:e,type:n,component:r}){const{nodesConnectable:i,width:s,height:o,isValid:a,inProgress:l}=En(Bvt,kr);return!(s&&i&&l)?null:u.jsx("svg",{style:t,width:s,height:o,className:"react-flow__connectionline react-flow__container",children:u.jsx("g",{className:si(["react-flow__connection",Zme(a)]),children:u.jsx(tve,{style:e,type:n,CustomComponent:r,isValid:a})})})}const tve=({style:t,type:e=yd.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:s,fromNode:o,fromHandle:a,fromPosition:l,to:c,toNode:f,toHandle:d,toPosition:h}=Fvt();if(!i)return;if(n)return u.jsx(n,{connectionLineType:e,connectionLineStyle:t,fromNode:o,fromHandle:a,fromX:s.x,fromY:s.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:h,connectionStatus:Zme(r),toNode:f,toHandle:d});let g="";const v={sourceX:s.x,sourceY:s.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:h};switch(e){case yd.Bezier:[g]=cge(v);break;case yd.SimpleBezier:[g]=zge(v);break;case yd.Step:[g]=CF({...v,borderRadius:0});break;case yd.SmoothStep:[g]=CF(v);break;default:[g]=dge(v)}return u.jsx("path",{d:g,fill:"none",className:"react-flow__connection-path",style:t})};tve.displayName="ConnectionLine";const $vt={};function NX(t=$vt){M.useRef(t),br(),M.useEffect(()=>{},[t])}function zvt(){br(),M.useRef(!1),M.useEffect(()=>{},[])}function nve({nodeTypes:t,edgeTypes:e,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:s,onEdgeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:f,onSelectionContextMenu:d,onSelectionStart:h,onSelectionEnd:g,connectionLineType:v,connectionLineStyle:x,connectionLineComponent:m,connectionLineContainerStyle:p,selectionKeyCode:y,selectionOnDrag:_,selectionMode:b,multiSelectionKeyCode:w,panActivationKeyCode:E,zoomActivationKeyCode:A,deleteKeyCode:T,onlyRenderVisibleElements:P,elementsSelectable:N,defaultViewport:O,translateExtent:I,minZoom:D,maxZoom:F,preventScrolling:$,defaultMarkerColor:z,zoomOnScroll:H,zoomOnPinch:R,panOnScroll:j,panOnScrollSpeed:B,panOnScrollMode:W,zoomOnDoubleClick:G,panOnDrag:K,onPaneClick:ie,onPaneMouseEnter:le,onPaneMouseMove:J,onPaneMouseLeave:U,onPaneScroll:X,onPaneContextMenu:Q,paneClickDistance:te,nodeClickDistance:ue,onEdgeContextMenu:ee,onEdgeMouseEnter:Y,onEdgeMouseMove:se,onEdgeMouseLeave:re,reconnectRadius:me,onReconnect:he,onReconnectStart:Ae,onReconnectEnd:Se,noDragClassName:Re,noWheelClassName:ot,noPanClassName:rt,disableKeyboardA11y:oe,nodeExtent:Z,rfId:ve,viewport:Ee,onViewportChange:je}){return NX(t),NX(e),zvt(),Ovt(n),jvt(Ee),u.jsx(rvt,{onPaneClick:ie,onPaneMouseEnter:le,onPaneMouseMove:J,onPaneMouseLeave:U,onPaneContextMenu:Q,onPaneScroll:X,paneClickDistance:te,deleteKeyCode:T,selectionKeyCode:y,selectionOnDrag:_,selectionMode:b,onSelectionStart:h,onSelectionEnd:g,multiSelectionKeyCode:w,panActivationKeyCode:E,zoomActivationKeyCode:A,elementsSelectable:N,zoomOnScroll:H,zoomOnPinch:R,zoomOnDoubleClick:G,panOnScroll:j,panOnScrollSpeed:B,panOnScrollMode:W,panOnDrag:K,defaultViewport:O,translateExtent:I,minZoom:D,maxZoom:F,onSelectionContextMenu:d,preventScrolling:$,noDragClassName:Re,noWheelClassName:ot,noPanClassName:rt,disableKeyboardA11y:oe,onViewportChange:je,isControlledViewport:!!Ee,children:u.jsxs(kvt,{children:[u.jsx(Nvt,{edgeTypes:e,onEdgeClick:i,onEdgeDoubleClick:o,onReconnect:he,onReconnectStart:Ae,onReconnectEnd:Se,onlyRenderVisibleElements:P,onEdgeContextMenu:ee,onEdgeMouseEnter:Y,onEdgeMouseMove:se,onEdgeMouseLeave:re,reconnectRadius:me,defaultMarkerColor:z,noPanClassName:rt,disableKeyboardA11y:oe,rfId:ve}),u.jsx(Uvt,{style:x,type:v,component:m,containerStyle:p}),u.jsx("div",{className:"react-flow__edgelabel-renderer"}),u.jsx(fvt,{nodeTypes:t,onNodeClick:r,onNodeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:f,nodeClickDistance:ue,onlyRenderVisibleElements:P,noPanClassName:rt,noDragClassName:Re,disableKeyboardA11y:oe,nodeExtent:Z,rfId:ve}),u.jsx("div",{className:"react-flow__viewport-portal"})]})})}nve.displayName="GraphView";const Hvt=M.memo(nve),RX=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:f,nodeExtent:d}={})=>{const h=new Map,g=new Map,v=new Map,x=new Map,m=r??e??[],p=n??t??[],y=f??[0,0],_=d??Kb;pge(v,x,m);const b=MF(p,h,g,{nodeOrigin:y,nodeExtent:_,elevateNodesOnSelect:!1});let w=[0,0,1];if(o&&i&&s){const E=p1(h,{filter:N=>!!((N.width||N.initialWidth)&&(N.height||N.initialHeight))}),{x:A,y:T,zoom:P}=q$(E,i,s,l,c,(a==null?void 0:a.padding)??.1);w=[A,T,P]}return{rfId:"1",width:i??0,height:s??0,transform:w,nodes:p,nodesInitialized:b,nodeLookup:h,parentLookup:g,edges:m,edgeLookup:x,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Kb,nodeExtent:_,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:fy.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:o??!1,fitViewOptions:a,fitViewResolver:null,connection:{...Yme},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:tmt,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Xme}},Vvt=({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:f,nodeExtent:d})=>lgt((h,g)=>{async function v(){const{nodeLookup:x,panZoom:m,fitViewOptions:p,fitViewResolver:y,width:_,height:b,minZoom:w,maxZoom:E}=g();m&&(await Jpt({nodes:x,width:_,height:b,panZoom:m,minZoom:w,maxZoom:E},p),y==null||y.resolve(!0),h({fitViewResolver:null}))}return{...RX({nodes:t,edges:e,width:i,height:s,fitView:o,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:f,nodeExtent:d,defaultNodes:n,defaultEdges:r}),setNodes:x=>{const{nodeLookup:m,parentLookup:p,nodeOrigin:y,elevateNodesOnSelect:_,fitViewQueued:b}=g(),w=MF(x,m,p,{nodeOrigin:y,nodeExtent:d,elevateNodesOnSelect:_,checkEquality:!0});b&&w?(v(),h({nodes:x,nodesInitialized:w,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:x,nodesInitialized:w})},setEdges:x=>{const{connectionLookup:m,edgeLookup:p}=g();pge(m,p,x),h({edges:x})},setDefaultNodesAndEdges:(x,m)=>{if(x){const{setNodes:p}=g();p(x),h({hasDefaultNodes:!0})}if(m){const{setEdges:p}=g();p(m),h({hasDefaultEdges:!0})}},updateNodeInternals:x=>{const{triggerNodeChanges:m,nodeLookup:p,parentLookup:y,domNode:_,nodeOrigin:b,nodeExtent:w,debug:E,fitViewQueued:A}=g(),{changes:T,updatedInternals:P}=wmt(x,p,y,_,b,w);P&&(ymt(p,y,{nodeOrigin:b,nodeExtent:w}),A?(v(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(T==null?void 0:T.length)>0&&(E&&console.log("React Flow: trigger node changes",T),m==null||m(T)))},updateNodePositions:(x,m=!1)=>{const p=[],y=[],{nodeLookup:_,triggerNodeChanges:b}=g();for(const[w,E]of x){const A=_.get(w),T=!!(A!=null&&A.expandParent&&(A!=null&&A.parentId)&&(E!=null&&E.position)),P={id:w,type:"position",position:T?{x:Math.max(0,E.position.x),y:Math.max(0,E.position.y)}:E.position,dragging:m};T&&A.parentId&&p.push({id:w,parentId:A.parentId,rect:{...E.internals.positionAbsolute,width:E.measured.width??0,height:E.measured.height??0}}),y.push(P)}if(p.length>0){const{parentLookup:w,nodeOrigin:E}=g(),A=J$(p,_,w,E);y.push(...A)}b(y)},triggerNodeChanges:x=>{const{onNodesChange:m,setNodes:p,nodes:y,hasDefaultNodes:_,debug:b}=g();if(x!=null&&x.length){if(_){const w=Rge(x,y);p(w)}b&&console.log("React Flow: trigger node changes",x),m==null||m(x)}},triggerEdgeChanges:x=>{const{onEdgesChange:m,setEdges:p,edges:y,hasDefaultEdges:_,debug:b}=g();if(x!=null&&x.length){if(_){const w=kge(x,y);p(w)}b&&console.log("React Flow: trigger edge changes",x),m==null||m(x)}},addSelectedNodes:x=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:y,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const w=x.map(E=>fh(E,!0));_(w);return}_(Pg(y,new Set([...x]),!0)),b(Pg(p))},addSelectedEdges:x=>{const{multiSelectionActive:m,edgeLookup:p,nodeLookup:y,triggerNodeChanges:_,triggerEdgeChanges:b}=g();if(m){const w=x.map(E=>fh(E,!0));b(w);return}b(Pg(p,new Set([...x]))),_(Pg(y,new Set,!0))},unselectNodesAndEdges:({nodes:x,edges:m}={})=>{const{edges:p,nodes:y,nodeLookup:_,triggerNodeChanges:b,triggerEdgeChanges:w}=g(),E=x||y,A=m||p,T=E.map(N=>{const O=_.get(N.id);return O&&(O.selected=!1),fh(N.id,!1)}),P=A.map(N=>fh(N.id,!1));b(T),w(P)},setMinZoom:x=>{const{panZoom:m,maxZoom:p}=g();m==null||m.setScaleExtent([x,p]),h({minZoom:x})},setMaxZoom:x=>{const{panZoom:m,minZoom:p}=g();m==null||m.setScaleExtent([p,x]),h({maxZoom:x})},setTranslateExtent:x=>{var m;(m=g().panZoom)==null||m.setTranslateExtent(x),h({translateExtent:x})},setPaneClickDistance:x=>{var m;(m=g().panZoom)==null||m.setClickDistance(x)},resetSelectedElements:()=>{const{edges:x,nodes:m,triggerNodeChanges:p,triggerEdgeChanges:y,elementsSelectable:_}=g();if(!_)return;const b=m.reduce((E,A)=>A.selected?[...E,fh(A.id,!1)]:E,[]),w=x.reduce((E,A)=>A.selected?[...E,fh(A.id,!1)]:E,[]);p(b),y(w)},setNodeExtent:x=>{const{nodes:m,nodeLookup:p,parentLookup:y,nodeOrigin:_,elevateNodesOnSelect:b,nodeExtent:w}=g();x[0][0]===w[0][0]&&x[0][1]===w[0][1]&&x[1][0]===w[1][0]&&x[1][1]===w[1][1]||(MF(m,p,y,{nodeOrigin:_,nodeExtent:x,elevateNodesOnSelect:b,checkEquality:!1}),h({nodeExtent:x}))},panBy:x=>{const{transform:m,width:p,height:y,panZoom:_,translateExtent:b}=g();return Smt({delta:x,panZoom:_,transform:m,translateExtent:b,width:p,height:y})},setCenter:async(x,m,p)=>{const{width:y,height:_,maxZoom:b,panZoom:w}=g();if(!w)return Promise.resolve(!1);const E=typeof(p==null?void 0:p.zoom)<"u"?p.zoom:b;return await w.setViewport({x:y/2-x*E,y:_/2-m*E,zoom:E},{duration:p==null?void 0:p.duration,ease:p==null?void 0:p.ease,interpolate:p==null?void 0:p.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{h({connection:{...Yme}})},updateConnection:x=>{h({connection:x})},reset:()=>h({...RX()})}},Object.is);function Wvt({initialNodes:t,initialEdges:e,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:s,initialMinZoom:o,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:f,nodeExtent:d,children:h}){const[g]=M.useState(()=>Vvt({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,width:i,height:s,fitView:c,minZoom:o,maxZoom:a,fitViewOptions:l,nodeOrigin:f,nodeExtent:d}));return u.jsx(cgt,{value:g,children:u.jsx(kgt,{children:h})})}function Gvt({children:t,nodes:e,edges:n,defaultNodes:r,defaultEdges:i,width:s,height:o,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:f,nodeOrigin:d,nodeExtent:h}){return M.useContext(CN)?u.jsx(u.Fragment,{children:t}):u.jsx(Wvt,{initialNodes:e,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:s,initialHeight:o,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:f,nodeOrigin:d,nodeExtent:h,children:t})}const qvt={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function Kvt({nodes:t,edges:e,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:s,edgeTypes:o,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:f,onMoveStart:d,onMoveEnd:h,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:m,onClickConnectEnd:p,onNodeMouseEnter:y,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:w,onNodeDoubleClick:E,onNodeDragStart:A,onNodeDrag:T,onNodeDragStop:P,onNodesDelete:N,onEdgesDelete:O,onDelete:I,onSelectionChange:D,onSelectionDragStart:F,onSelectionDrag:$,onSelectionDragStop:z,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:j,onBeforeDelete:B,connectionMode:W,connectionLineType:G=yd.Bezier,connectionLineStyle:K,connectionLineComponent:ie,connectionLineContainerStyle:le,deleteKeyCode:J="Backspace",selectionKeyCode:U="Shift",selectionOnDrag:X=!1,selectionMode:Q=Xb.Full,panActivationKeyCode:te="Space",multiSelectionKeyCode:ue=Zb()?"Meta":"Control",zoomActivationKeyCode:ee=Zb()?"Meta":"Control",snapToGrid:Y,snapGrid:se,onlyRenderVisibleElements:re=!1,selectNodesOnDrag:me,nodesDraggable:he,autoPanOnNodeFocus:Ae,nodesConnectable:Se,nodesFocusable:Re,nodeOrigin:ot=Pge,edgesFocusable:rt,edgesReconnectable:oe,elementsSelectable:Z=!0,defaultViewport:ve=wgt,minZoom:Ee=.5,maxZoom:je=2,translateExtent:Te=Kb,preventScrolling:ct=!0,nodeExtent:We,defaultMarkerColor:lt="#b1b1b7",zoomOnScroll:Ye=!0,zoomOnPinch:Ve=!0,panOnScroll:at=!1,panOnScrollSpeed:Tt=.5,panOnScrollMode:pe=Yh.Free,zoomOnDoubleClick:Me=!0,panOnDrag:Je=!0,onPaneClick:de,onPaneMouseEnter:ke,onPaneMouseMove:$e,onPaneMouseLeave:Ge,onPaneScroll:ze,onPaneContextMenu:Le,paneClickDistance:et=0,nodeClickDistance:vt=0,children:zt,onReconnect:qt,onReconnectStart:Gn,onReconnectEnd:Un,onEdgeContextMenu:wa,onEdgeDoubleClick:Ps,onEdgeMouseEnter:Du,onEdgeMouseMove:Lu,onEdgeMouseLeave:Zp,reconnectRadius:jo=10,onNodesChange:Qp,onEdgesChange:Fu,noDragClassName:Jp="nodrag",noWheelClassName:em="nowheel",noPanClassName:tm="nopan",fitView:nm,fitViewOptions:rm,connectOnClick:im,attributionPosition:mx,proOptions:gx,defaultEdgeOptions:ae,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Ne,disableKeyboardA11y:Oe=!1,autoPanOnConnect:be,autoPanOnNodeDrag:Qe,autoPanSpeed:ut,connectionRadius:_t,isValidConnection:yt,onError:Lt,style:jt,id:St,nodeDragThreshold:Mt,connectionDragThreshold:Ot,viewport:Mn,onViewportChange:en,width:tn,height:Pt,colorMode:kn="light",debug:Kt,onScroll:wr,ariaLabelConfig:Sa,...xi},Do){const $n=St||"1",rr=Mgt(kn),Ui=M.useCallback(Xr=>{Xr.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),wr==null||wr(Xr)},[wr]);return u.jsx("div",{"data-testid":"rf__wrapper",...xi,onScroll:Ui,style:{...jt,...qvt},ref:Do,className:si(["react-flow",i,rr]),id:St,role:"application",children:u.jsxs(Gvt,{nodes:t,edges:e,width:tn,height:Pt,fitView:nm,fitViewOptions:rm,minZoom:Ee,maxZoom:je,nodeOrigin:ot,nodeExtent:We,children:[u.jsx(Hvt,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:_,onNodeMouseLeave:b,onNodeContextMenu:w,onNodeDoubleClick:E,nodeTypes:s,edgeTypes:o,connectionLineType:G,connectionLineStyle:K,connectionLineComponent:ie,connectionLineContainerStyle:le,selectionKeyCode:U,selectionOnDrag:X,selectionMode:Q,deleteKeyCode:J,multiSelectionKeyCode:ue,panActivationKeyCode:te,zoomActivationKeyCode:ee,onlyRenderVisibleElements:re,defaultViewport:ve,translateExtent:Te,minZoom:Ee,maxZoom:je,preventScrolling:ct,zoomOnScroll:Ye,zoomOnPinch:Ve,zoomOnDoubleClick:Me,panOnScroll:at,panOnScrollSpeed:Tt,panOnScrollMode:pe,panOnDrag:Je,onPaneClick:de,onPaneMouseEnter:ke,onPaneMouseMove:$e,onPaneMouseLeave:Ge,onPaneScroll:ze,onPaneContextMenu:Le,paneClickDistance:et,nodeClickDistance:vt,onSelectionContextMenu:H,onSelectionStart:R,onSelectionEnd:j,onReconnect:qt,onReconnectStart:Gn,onReconnectEnd:Un,onEdgeContextMenu:wa,onEdgeDoubleClick:Ps,onEdgeMouseEnter:Du,onEdgeMouseMove:Lu,onEdgeMouseLeave:Zp,reconnectRadius:jo,defaultMarkerColor:lt,noDragClassName:Jp,noWheelClassName:em,noPanClassName:tm,rfId:$n,disableKeyboardA11y:Oe,nodeExtent:We,viewport:Mn,onViewportChange:en}),u.jsx(Egt,{nodes:t,edges:e,defaultNodes:n,defaultEdges:r,onConnect:g,onConnectStart:v,onConnectEnd:x,onClickConnectStart:m,onClickConnectEnd:p,nodesDraggable:he,autoPanOnNodeFocus:Ae,nodesConnectable:Se,nodesFocusable:Re,edgesFocusable:rt,edgesReconnectable:oe,elementsSelectable:Z,elevateNodesOnSelect:_e,elevateEdgesOnSelect:Ne,minZoom:Ee,maxZoom:je,nodeExtent:We,onNodesChange:Qp,onEdgesChange:Fu,snapToGrid:Y,snapGrid:se,connectionMode:W,translateExtent:Te,connectOnClick:im,defaultEdgeOptions:ae,fitView:nm,fitViewOptions:rm,onNodesDelete:N,onEdgesDelete:O,onDelete:I,onNodeDragStart:A,onNodeDrag:T,onNodeDragStop:P,onSelectionDrag:$,onSelectionDragStart:F,onSelectionDragStop:z,onMove:f,onMoveStart:d,onMoveEnd:h,noPanClassName:tm,nodeOrigin:ot,rfId:$n,autoPanOnConnect:be,autoPanOnNodeDrag:Qe,autoPanSpeed:ut,onError:Lt,connectionRadius:_t,isValidConnection:yt,selectNodesOnDrag:me,nodeDragThreshold:Mt,connectionDragThreshold:Ot,onBeforeDelete:B,paneClickDistance:et,debug:Kt,ariaLabelConfig:Sa}),u.jsx(bgt,{onSelectionChange:D}),zt,u.jsx(ggt,{proOptions:gx,position:mx}),u.jsx(mgt,{rfId:$n,disableKeyboardA11y:Oe})]})})}var rve=Oge(Kvt);function ive(t){const[e,n]=M.useState(t),r=M.useCallback(i=>n(s=>Rge(i,s)),[]);return[e,n,r]}function sve(t){const[e,n]=M.useState(t),r=M.useCallback(i=>n(s=>kge(i,s)),[]);return[e,n,r]}function Xvt({dimensions:t,lineWidth:e,variant:n,className:r}){return u.jsx("path",{strokeWidth:e,d:`M${t[0]/2} 0 V${t[1]} M0 ${t[1]/2} H${t[0]}`,className:si(["react-flow__background-pattern",n,r])})}function Yvt({radius:t,className:e}){return u.jsx("circle",{cx:t,cy:t,r:t,className:si(["react-flow__background-pattern","dots",e])})}var Kd;(function(t){t.Lines="lines",t.Dots="dots",t.Cross="cross"})(Kd||(Kd={}));const Zvt={[Kd.Dots]:1,[Kd.Lines]:1,[Kd.Cross]:6},Qvt=t=>({transform:t.transform,patternId:`pattern-${t.rfId}`});function ove({id:t,variant:e=Kd.Dots,gap:n=20,size:r,lineWidth:i=1,offset:s=0,color:o,bgColor:a,style:l,className:c,patternClassName:f}){const d=M.useRef(null),{transform:h,patternId:g}=En(Qvt,kr),v=r||Zvt[e],x=e===Kd.Dots,m=e===Kd.Cross,p=Array.isArray(n)?n:[n,n],y=[p[0]*h[2]||1,p[1]*h[2]||1],_=v*h[2],b=Array.isArray(s)?s:[s,s],w=m?[_,_]:y,E=[b[0]*h[2]||1+w[0]/2,b[1]*h[2]||1+w[1]/2],A=`${g}${t||""}`;return u.jsxs("svg",{className:si(["react-flow__background",c]),style:{...l,...MN,"--xy-background-color-props":a,"--xy-background-pattern-color-props":o},ref:d,"data-testid":"rf__background",children:[u.jsx("pattern",{id:A,x:h[0]%y[0],y:h[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${E[0]},-${E[1]})`,children:x?u.jsx(Yvt,{radius:_/2,className:f}):u.jsx(Xvt,{dimensions:w,lineWidth:i,variant:e,className:f})}),u.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${A})`})]})}ove.displayName="Background";const ave=M.memo(ove);function Jvt(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:u.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function eyt(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:u.jsx("path",{d:"M0 0h32v4.2H0z"})})}function tyt(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:u.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function nyt(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function ryt(){return u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:u.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function SC({children:t,className:e,...n}){return u.jsx("button",{type:"button",className:si(["react-flow__controls-button",e]),...n,children:t})}const iyt=t=>({isInteractive:t.nodesDraggable||t.nodesConnectable||t.elementsSelectable,minZoomReached:t.transform[2]<=t.minZoom,maxZoomReached:t.transform[2]>=t.maxZoom,ariaLabelConfig:t.ariaLabelConfig});function lve({style:t,showZoom:e=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:s,onZoomOut:o,onFitView:a,onInteractiveChange:l,className:c,children:f,position:d="bottom-left",orientation:h="vertical","aria-label":g}){const v=br(),{isInteractive:x,minZoomReached:m,maxZoomReached:p,ariaLabelConfig:y}=En(iyt,kr),{zoomIn:_,zoomOut:b,fitView:w}=ez(),E=()=>{_(),s==null||s()},A=()=>{b(),o==null||o()},T=()=>{w(i),a==null||a()},P=()=>{v.setState({nodesDraggable:!x,nodesConnectable:!x,elementsSelectable:!x}),l==null||l(!x)},N=h==="horizontal"?"horizontal":"vertical";return u.jsxs(EN,{className:si(["react-flow__controls",N,c]),position:d,style:t,"data-testid":"rf__controls","aria-label":g??y["controls.ariaLabel"],children:[e&&u.jsxs(u.Fragment,{children:[u.jsx(SC,{onClick:E,className:"react-flow__controls-zoomin",title:y["controls.zoomIn.ariaLabel"],"aria-label":y["controls.zoomIn.ariaLabel"],disabled:p,children:u.jsx(Jvt,{})}),u.jsx(SC,{onClick:A,className:"react-flow__controls-zoomout",title:y["controls.zoomOut.ariaLabel"],"aria-label":y["controls.zoomOut.ariaLabel"],disabled:m,children:u.jsx(eyt,{})})]}),n&&u.jsx(SC,{className:"react-flow__controls-fitview",onClick:T,title:y["controls.fitView.ariaLabel"],"aria-label":y["controls.fitView.ariaLabel"],children:u.jsx(tyt,{})}),r&&u.jsx(SC,{className:"react-flow__controls-interactive",onClick:P,title:y["controls.interactive.ariaLabel"],"aria-label":y["controls.interactive.ariaLabel"],children:x?u.jsx(ryt,{}):u.jsx(nyt,{})}),f]})}lve.displayName="Controls";const cve=M.memo(lve);function syt({id:t,x:e,y:n,width:r,height:i,style:s,color:o,strokeColor:a,strokeWidth:l,className:c,borderRadius:f,shapeRendering:d,selected:h,onClick:g}){const{background:v,backgroundColor:x}=s||{},m=o||v||x;return u.jsx("rect",{className:si(["react-flow__minimap-node",{selected:h},c]),x:e,y:n,rx:f,ry:f,width:r,height:i,style:{fill:m,stroke:a,strokeWidth:l},shapeRendering:d,onClick:g?p=>g(p,t):void 0})}const oyt=M.memo(syt),ayt=t=>t.nodes.map(e=>e.id),bI=t=>t instanceof Function?t:()=>t;function lyt({nodeStrokeColor:t,nodeColor:e,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:s=oyt,onClick:o}){const a=En(ayt,kr),l=bI(e),c=bI(t),f=bI(n),d=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return u.jsx(u.Fragment,{children:a.map(h=>u.jsx(uyt,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:f,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:s,onClick:o,shapeRendering:d},h))})}function cyt({id:t,nodeColorFunc:e,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:s,shapeRendering:o,NodeComponent:a,onClick:l}){const{node:c,x:f,y:d,width:h,height:g}=En(v=>{const{internals:x}=v.nodeLookup.get(t),m=x.userNode,{x:p,y}=x.positionAbsolute,{width:_,height:b}=ju(m);return{node:m,x:p,y,width:_,height:b}},kr);return!c||c.hidden||!rge(c)?null:u.jsx(a,{x:f,y:d,width:h,height:g,style:c.style,selected:!!c.selected,className:r(c),color:e(c),borderRadius:i,strokeColor:n(c),strokeWidth:s,shapeRendering:o,onClick:l,id:c.id})}const uyt=M.memo(cyt);var dyt=M.memo(lyt);const fyt=200,hyt=150,pyt=t=>!t.hidden,myt=t=>{const e={x:-t.transform[0]/t.transform[2],y:-t.transform[1]/t.transform[2],width:t.width/t.transform[2],height:t.height/t.transform[2]};return{viewBB:e,boundingRect:t.nodeLookup.size>0?nge(p1(t.nodeLookup,{filter:pyt}),e):e,rfId:t.rfId,panZoom:t.panZoom,translateExtent:t.translateExtent,flowWidth:t.width,flowHeight:t.height,ariaLabelConfig:t.ariaLabelConfig}},gyt="react-flow__minimap-desc";function uve({style:t,className:e,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:s=5,nodeStrokeWidth:o,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:f,maskStrokeWidth:d,position:h="bottom-right",onClick:g,onNodeClick:v,pannable:x=!1,zoomable:m=!1,ariaLabel:p,inversePan:y,zoomStep:_=1,offsetScale:b=5}){const w=br(),E=M.useRef(null),{boundingRect:A,viewBB:T,rfId:P,panZoom:N,translateExtent:O,flowWidth:I,flowHeight:D,ariaLabelConfig:F}=En(myt,kr),$=(t==null?void 0:t.width)??fyt,z=(t==null?void 0:t.height)??hyt,H=A.width/$,R=A.height/z,j=Math.max(H,R),B=j*$,W=j*z,G=b*j,K=A.x-(B-A.width)/2-G,ie=A.y-(W-A.height)/2-G,le=B+G*2,J=W+G*2,U=`${gyt}-${P}`,X=M.useRef(0),Q=M.useRef();X.current=j,M.useEffect(()=>{if(E.current&&N)return Q.current=kmt({domNode:E.current,panZoom:N,getTransform:()=>w.getState().transform,getViewScale:()=>X.current}),()=>{var Y;(Y=Q.current)==null||Y.destroy()}},[N]),M.useEffect(()=>{var Y;(Y=Q.current)==null||Y.update({translateExtent:O,width:I,height:D,inversePan:y,pannable:x,zoomStep:_,zoomable:m})},[x,m,y,_,O,I,D]);const te=g?Y=>{var me;const[se,re]=((me=Q.current)==null?void 0:me.pointer(Y))||[0,0];g(Y,{x:se,y:re})}:void 0,ue=v?M.useCallback((Y,se)=>{const re=w.getState().nodeLookup.get(se).internals.userNode;v(Y,re)},[]):void 0,ee=p??F["minimap.ariaLabel"];return u.jsx(EN,{position:h,style:{...t,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-width-props":typeof d=="number"?d*j:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof o=="number"?o:void 0},className:si(["react-flow__minimap",e]),"data-testid":"rf__minimap",children:u.jsxs("svg",{width:$,height:z,viewBox:`${K} ${ie} ${le} ${J}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":U,ref:E,onClick:te,children:[ee&&u.jsx("title",{id:U,children:ee}),u.jsx(dyt,{onClick:ue,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:s,nodeClassName:i,nodeStrokeWidth:o,nodeComponent:a}),u.jsx("path",{className:"react-flow__minimap-mask",d:`M${K-G},${ie-G}h${le+G*2}v${J+G*2}h${-le-G*2}z
        M${T.x},${T.y}h${T.width}v${T.height}h${-T.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}uve.displayName="MiniMap";const dve=M.memo(uve),vyt=t=>e=>t?`${Math.max(1/e.transform[2],1)}`:void 0,yyt={[gy.Line]:"right",[gy.Handle]:"bottom-right"};function xyt({nodeId:t,position:e,variant:n=gy.Handle,className:r,style:i=void 0,children:s,color:o,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:f=Number.MAX_VALUE,keepAspectRatio:d=!1,resizeDirection:h,autoScale:g=!0,shouldResize:v,onResizeStart:x,onResize:m,onResizeEnd:p}){const y=Lge(),_=typeof t=="string"?t:y,b=br(),w=M.useRef(null),E=n===gy.Handle,A=En(M.useCallback(vyt(E&&g),[E,g]),kr),T=M.useRef(null),P=e??yyt[n];M.useEffect(()=>{if(!(!w.current||!_))return T.current||(T.current=Gmt({domNode:w.current,nodeId:_,getStoreItems:()=>{const{nodeLookup:O,transform:I,snapGrid:D,snapToGrid:F,nodeOrigin:$,domNode:z}=b.getState();return{nodeLookup:O,transform:I,snapGrid:D,snapToGrid:F,nodeOrigin:$,paneDomNode:z}},onChange:(O,I)=>{const{triggerNodeChanges:D,nodeLookup:F,parentLookup:$,nodeOrigin:z}=b.getState(),H=[],R={x:O.x,y:O.y},j=F.get(_);if(j&&j.expandParent&&j.parentId){const B=j.origin??z,W=O.width??j.measured.width??0,G=O.height??j.measured.height??0,K={id:j.id,parentId:j.parentId,rect:{width:W,height:G,...ige({x:O.x??j.position.x,y:O.y??j.position.y},{width:W,height:G},j.parentId,F,B)}},ie=J$([K],F,$,z);H.push(...ie),R.x=O.x?Math.max(B[0]*W,O.x):void 0,R.y=O.y?Math.max(B[1]*G,O.y):void 0}if(R.x!==void 0&&R.y!==void 0){const B={id:_,type:"position",position:{...R}};H.push(B)}if(O.width!==void 0&&O.height!==void 0){const W={id:_,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:O.width,height:O.height}};H.push(W)}for(const B of I){const W={...B,type:"position"};H.push(W)}D(H)},onEnd:({width:O,height:I})=>{const D={id:_,type:"dimensions",resizing:!1,dimensions:{width:O,height:I}};b.getState().triggerNodeChanges([D])}})),T.current.update({controlPosition:P,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:f},keepAspectRatio:d,resizeDirection:h,onResizeStart:x,onResize:m,onResizeEnd:p,shouldResize:v}),()=>{var O;(O=T.current)==null||O.destroy()}},[P,a,l,c,f,d,x,m,p,v]);const N=P.split("-");return u.jsx("div",{className:si(["react-flow__resize-control","nodrag",...N,n,r]),ref:w,style:{...i,scale:A,...o&&{[E?"backgroundColor":"borderColor"]:o}},children:s})}M.memo(xyt);const _yt=[],byt=[];function wyt(){const{toast:t}=to(),{token:e}=_a(),n=Ni(),[r,i]=M.useState(""),[s,o]=M.useState("auto"),[a,l]=M.useState([]),[c,f]=M.useState(null),[d,h]=M.useState([]),[g,v,x]=ive(_yt),[m,p,y]=sve(byt),_=M.useCallback(G=>p(K=>X$(G,K)),[p]),{data:b,isLoading:w,error:E}=gn({queryKey:["cognisysConversations"],queryFn:async()=>{const G=await fetch("/api/chat/conversations",{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch conversations");return G.json()},enabled:!!e});M.useEffect(()=>{b&&(h(b),!c&&b.length>0&&f(b[0].id))},[b,c]);const{data:A,isLoading:T,error:P}=gn({queryKey:["cognisysChatHistory",c],queryFn:async()=>{if(!c)return[];const G=await fetch(`/api/chat/history/${c}`,{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch chat history");return G.json()},enabled:!!c&&!!e});M.useEffect(()=>{A&&l(A)},[A]);const{data:N,isLoading:O,error:I}=gn({queryKey:["cognisysLLMModels"],queryFn:async()=>{const G=await fetch("/api/cognisys/models/",{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch LLM models");return G.json()},enabled:!!e}),{data:D,isLoading:F,error:$}=gn({queryKey:["cognisysProviders"],queryFn:async()=>{const G=await fetch("/api/cognisys/providers/",{headers:{Authorization:`Bearer ${e}`}});if(!G.ok)throw new Error("Failed to fetch providers");return G.json()},enabled:!!e}),z=Ft({mutationFn:async G=>{const K=await fetch("/api/cognisys/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(G)});if(!K.ok){const ie=await K.json();throw new Error(ie.detail||"Failed to get chat response")}return K.json()},onSuccess:G=>{G.conversation_id&&G.conversation_id!==c&&(f(G.conversation_id),n.invalidateQueries({queryKey:["cognisysConversations"]})),n.invalidateQueries({queryKey:["cognisysChatHistory",c]})},onError:G=>{t({title:"Error",description:`Chat failed: ${G.message}`,variant:"destructive"})}}),H=Ft({mutationFn:async G=>{const K=await fetch("/api/cognisys/models/",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify(G)});if(!K.ok)throw new Error("Failed to create model");return K.json()},onSuccess:()=>{t({title:"Model Created",description:"New model has been successfully created."}),n.invalidateQueries({queryKey:["cognisysLLMModels"]})},onError:G=>{t({title:"Error",description:`Failed to create model: ${G.message}`,variant:"destructive"})}}),R=G=>{H.mutate(G);const K=document.querySelector("[data-radix-toast-close-button]");K&&K.click()},j=()=>{t({title:"Add New Model",description:u.jsx(Syt,{onAddModel:R,providers:D||[]})})},B=()=>{if(!r.trim())return;l(K=>[...K,{id:Date.now().toString(),conversation_id:c||"temp",user_id:"current_user",sender:"user",message_content:r,timestamp:new Date().toISOString()}]),i("");const G={prompt:r};s!=="auto"&&(G.model_name=s),c&&(G.conversation_id=c),z.mutate(G)};if(O)return u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(Zt,{className:"h-6 w-6 animate-spin mx-auto"})," Loading models..."]});if(I)return u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error loading models: ",I.message]});const W=Ft({mutationFn:async G=>{const K=await fetch(`/api/chat/conversations/${G}`,{method:"DELETE",headers:{Authorization:`Bearer ${e}`}});if(!K.ok)throw new Error("Failed to delete conversation");return K.json()},onSuccess:()=>{t({title:"Success",description:"Conversation deleted."}),n.invalidateQueries({queryKey:["cognisysConversations"]}),f(null),l([]),v([]),p([])},onError:G=>{t({title:"Error",description:`Failed to delete conversation: ${G.message}`,variant:"destructive"})}});return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(ol,{className:"h-5 w-5 text-primary"}),"Test Console"]}),u.jsx(Et,{children:"Test prompts and verify routing behavior. The visualization will appear on the right when using auto-routing."})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(ht,{htmlFor:"conversation-select",className:"sr-only",children:"Select Conversation"}),u.jsxs(Hn,{value:c||"",onValueChange:G=>f(G),disabled:w,children:[u.jsx(Fn,{className:"w-[200px]",children:u.jsx(Vn,{placeholder:"Select conversation..."})}),u.jsx(Bn,{children:d.map(G=>u.jsx(dt,{value:G.id,children:G.title},G.id))})]}),u.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>{f(null)},children:[u.jsx(is,{className:"h-4 w-4 mr-2"})," New Chat"]}),c&&u.jsxs(Ce,{variant:"destructive",size:"sm",onClick:()=>W.mutate(c),disabled:W.isPending,children:[W.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(tc,{className:"h-4 w-4 mr-2"}),"Clear Chat"]})]}),u.jsxs("div",{className:"flex gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[u.jsxs(Hn,{value:s,onValueChange:o,disabled:z.isPending,children:[u.jsx(Fn,{className:"w-full",children:u.jsx(Vn,{placeholder:"Select model..."})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"auto",children:"Auto-route"}),N==null?void 0:N.filter(G=>G.is_active).map(G=>u.jsx(dt,{value:G.model_name,children:G.model_name},G.id))]})]}),u.jsx(Ce,{variant:"outline",size:"icon",onClick:j,disabled:F,children:u.jsx(is,{className:"h-4 w-4"})})]}),u.jsx(Dt,{placeholder:"Enter test prompt...",value:r,onChange:G=>i(G.target.value),onKeyDown:G=>G.key==="Enter"&&B(),className:"flex-1",disabled:z.isPending}),u.jsx(Ce,{onClick:B,disabled:z.isPending||!r.trim(),children:z.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(lB,{className:"h-4 w-4"})})]})]})]}),a.length>0&&u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Conversation"})}),u.jsx(Ke,{className:"space-y-4",children:a.map((G,K)=>u.jsx("div",{className:`flex ${G.sender==="user"?"justify-end":"justify-start"}`,children:u.jsx("div",{className:`max-w-[80%] rounded-lg p-4 ${G.sender==="user"?"bg-primary text-primary-foreground":"bg-card border"}`,children:u.jsx("div",{className:"text-sm whitespace-pre-wrap",children:G.message_content})})},K))})]})]}),u.jsxs(Be,{className:"h-[600px]",children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(uf,{className:"h-5 w-5 text-primary"}),"Reasoning & Routing Visualization"]})}),u.jsx(Ke,{className:"h-[calc(100%-4rem)]",children:g.length>0?u.jsxs(rve,{nodes:g,edges:m,onNodesChange:x,onEdgesChange:y,onConnect:_,fitView:!0,children:[u.jsx(cve,{}),u.jsx(dve,{}),u.jsx(ave,{gap:12,size:1})]}):u.jsx("div",{className:"flex items-center justify-center h-full text-center text-muted-foreground",children:u.jsx("p",{children:"Run a query with auto-routing to see the visualization."})})})]})]})}function Syt({onAddModel:t,providers:e}){const[n,r]=M.useState(""),[i,s]=M.useState(""),o=a=>{a.preventDefault(),t({model_name:n,provider_id:i,type:"chat",is_active:!0,role:"general"})};return u.jsxs("form",{onSubmit:o,className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx(ht,{children:"Model Name"}),u.jsx(Dt,{value:n,onChange:a=>r(a.target.value),placeholder:"e.g., gpt-4-turbo"})]}),u.jsxs("div",{children:[u.jsx(ht,{children:"Provider"}),u.jsxs(Hn,{value:i,onValueChange:s,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select provider..."})}),u.jsx(Bn,{children:e.map(a=>u.jsx(dt,{value:a.id,children:a.name},a.id))})]})]}),u.jsx(Ce,{type:"submit",children:"Add Model"})]})}function Cyt(){const t=TP(),[,e]=vi(),r=new URLSearchParams(t).get("tab")||"map",[i,s]=M.useState(r);M.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/cognisys?tab=${a}`)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"border-b bg-card px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"COGNISYS"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Multimodel Orchestration & Routing System"})]}),u.jsxs(ln,{variant:"outline",className:"gap-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"12 Models Active"]})]})}),u.jsx("div",{className:"flex-1 overflow-auto p-6",children:u.jsxs(pc,{value:i,onValueChange:o,children:[u.jsxs(ml,{className:"grid w-full grid-cols-4 mb-6",children:[u.jsxs(lr,{value:"map",className:"gap-2","data-testid":"tab-model-map",children:[u.jsx(df,{className:"h-4 w-4"}),"Model Map"]}),u.jsxs(lr,{value:"routing",className:"gap-2","data-testid":"tab-routing",children:[u.jsx(Vg,{className:"h-4 w-4"}),"Routing Rules"]}),u.jsxs(lr,{value:"settings",className:"gap-2","data-testid":"tab-provider-settings",children:[u.jsx(cp,{className:"h-4 w-4"}),"Providers"]}),u.jsxs(lr,{value:"test",className:"gap-2","data-testid":"tab-test-console",children:[u.jsx(ol,{className:"h-4 w-4"}),"Test Console"]})]}),u.jsx(xn,{value:"map",children:u.jsx(Wpt,{})}),u.jsx(xn,{value:"routing",children:u.jsx(qpt,{})}),u.jsx(xn,{value:"settings",children:u.jsx(Kpt,{})}),u.jsx(xn,{value:"test",children:u.jsx(wyt,{})})]})})]})}const Eyt={online:"bg-green-500",running:"bg-green-500",connected:"bg-green-500",completed:"bg-green-500",idle:"bg-yellow-500",pending:"bg-yellow-500",degraded:"bg-orange-500",offline:"bg-gray-500",stopped:"bg-gray-500",disconnected:"bg-gray-500",error:"bg-red-500"},Myt={sm:"h-2 w-2",md:"h-3 w-3",lg:"h-4 w-4"};function nv({status:t,label:e,showLabel:n=!1,size:r="md"}){return u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:we("rounded-full",Eyt[t],Myt[r])}),n&&u.jsx("span",{className:"text-sm text-muted-foreground capitalize",children:e||t})]})}function Ayt(){const[,t]=vi(),{toast:e}=wf(),n=Ft({mutationFn:async()=>{const v=await fetch("/api/neosyntis/open-lab",{method:"POST"});if(!v.ok)throw new Error("Failed to open Neosyntis Lab");return v.json()},onSuccess:()=>{e({title:"Neosyntis Lab Opened",description:"The Neosyntis Lab has been successfully opened."})},onError:v=>{e({title:"Error",description:`Failed to open Neosyntis Lab: ${v.message}`,variant:"destructive"})}}),r=Ft({mutationFn:async()=>{const v=await fetch("/api/arcana/start-chat",{method:"POST"});if(!v.ok)throw new Error("Failed to start Arcana Chat");return v.json()},onSuccess:()=>{e({title:"Arcana Chat Started",description:"A new Arcana chat session has been initiated."})},onError:v=>{e({title:"Error",description:`Failed to start Arcana Chat: ${v.message}`,variant:"destructive"})}}),i=Ft({mutationFn:async()=>{const v=await fetch("/api/myntrix/deploy-model",{method:"POST"});if(!v.ok)throw new Error("Failed to deploy Myntrix Model");return v.json()},onSuccess:()=>{e({title:"Myntrix Model Deployed",description:"The Myntrix model has been successfully deployed."})},onError:v=>{e({title:"Error",description:`Failed to deploy Myntrix Model: ${v.message}`,variant:"destructive"})}}),s=Ft({mutationFn:async()=>{const v=await fetch("/api/myntrix/manage-agents",{method:"POST"});if(!v.ok)throw new Error("Failed to manage Myntrix Agents");return v.json()},onSuccess:()=>{e({title:"Myntrix Agents Managed",description:"Myntrix agents management initiated."})},onError:v=>{e({title:"Error",description:`Failed to manage Myntrix Agents: ${v.message}`,variant:"destructive"})}}),o=Ni();M.useEffect(()=>{const v=new URLSearchParams(window.location.search),x=v.get("installation_id"),m=v.get("setup_action"),p=v.get("state");x&&p&&(m==="install"||m==="update")&&(async()=>{try{const _=await fetch(`/api/git/github/app/callback?installation_id=${x}&state=${p}`);if(!_.ok){const b=await _.json();throw new Error(b.detail||"GitHub App installation failed during callback.")}e({title:"GitHub Connection Successful",description:"Your GitHub account has been linked. Redirecting to profile..."}),await o.invalidateQueries({queryKey:["userGitConfig"]}),t("/dashboard/profile",{replace:!0})}catch(_){e({title:"Error Connecting GitHub",description:_ instanceof Error?_.message:String(_),variant:"destructive"}),t("/dashboard/profile",{replace:!0})}})()},[location,t,e,o]);const{data:a,isLoading:l,error:c}=gn({queryKey:["/api/system/status"],queryFn:async()=>{const v=await fetch("/api/system/status");if(!v.ok)throw new Error("Network response was not ok");return v.json()}}),f=[{label:"Open Neosyntis Lab",icon:el,action:()=>n.mutate(),loading:n.isPending},{label:"Start Arcana Chat",icon:ol,action:()=>r.mutate(),loading:r.isPending},{label:"Deploy Myntrix Model",icon:Vl,action:()=>i.mutate(),loading:i.isPending},{label:"Manage Myntrix Agents",icon:Kr,action:()=>s.mutate(),loading:s.isPending}],d=l||n.isPending||r.isPending||i.isPending||s.isPending,h=c||n.isError||r.isError||i.isError||s.isError;if(d)return u.jsx(V0,{children:u.jsx("div",{className:"p-6 text-center",children:"Loading dashboard data..."})});if(h)return u.jsx(V0,{children:u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading dashboard data: ",h instanceof Error?h.message:"An unknown error occurred"]})});if(!a)return u.jsx(V0,{children:u.jsx("div",{className:"p-6 text-center text-red-500",children:"Missing system status data."})});const g=[{id:"arcana",name:"ARCANA",icon:ol,description:"Cognitive Chat & Shell System",status:a.arcana.status,metrics:[{label:"Active Chats",value:a.arcana.activeChats},{label:"Messages",value:a.arcana.messagesProcessed},{label:"Avg Response",value:a.arcana.avgResponseTime}],path:"/dashboard/arcana"},{id:"myntrix",name:"MYNTRIX",icon:Vl,description:"AI Core & Device Control",status:a.myntrix.status,metrics:[{label:"Active Agents",value:a.myntrix.activeAgents},{label:"Jobs Completed",value:a.myntrix.jobsCompleted},{label:"Devices",value:a.myntrix.devicesConnected}],path:"/dashboard/myntrix"},{id:"neosyntis",name:"NEOSYNTIS",icon:el,description:"Research & Workflow Lab",status:a.neosyntis.status,metrics:[{label:"Active Workflows",value:a.neosyntis.activeWorkflows},{label:"Datasets",value:a.neosyntis.datasetsManaged},{label:"Search Queries",value:a.neosyntis.searchQueriesProcessed}],path:"/dashboard/neosyntis"},{id:"cognisys",name:"COGNISYS",icon:df,description:"Multimodel Orchestration",status:a.cognisys.status,metrics:[{label:"Active Models",value:a.cognisys.modelsActive},{label:"Routing Rules",value:a.cognisys.routingRules},{label:"Requests Routed",value:a.cognisys.requestsRouted}],path:"/dashboard/cognisys"}];return a.arcana.status==="online"&&a.myntrix.status==="online"&&a.neosyntis.status==="online"&&a.cognisys.status,a.arcana.uptime,u.jsx(V0,{children:u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"VAREON Dashboard"}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Central hub for your cognitive AI ecosystem"})]}),u.jsxs(ln,{variant:"outline",className:"gap-2",children:[u.jsx(nv,{status:"online",size:"sm"}),"All Systems Operational"]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:g.map(v=>u.jsxs(Be,{className:"card-glow cursor-pointer transition-all",onClick:()=>t(v.path),"data-testid":`card-module-${v.id}`,children:[u.jsxs(Xe,{className:"pb-3",children:[u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"p-2 rounded-lg bg-primary/10",children:u.jsx(v.icon,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx(qe,{className:"text-base",children:v.name}),u.jsx(nv,{status:v.status,showLabel:!0,size:"sm",label:v.status})]})]})}),u.jsx(Et,{className:"text-xs mt-2",children:v.description})]}),u.jsx(Ke,{className:"space-y-2",children:v.metrics.map((x,m)=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:x.label}),u.jsx("span",{className:"font-medium font-mono",children:x.value})]},m))})]},v.id))}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{className:"card-glow",children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(hte,{className:"h-5 w-5 text-primary"}),"Quick Actions"]}),u.jsx(Et,{children:"Frequently used operations"})]}),u.jsx(Ke,{className:"space-y-2",children:f.map((v,x)=>u.jsxs(Ce,{variant:"ghost",className:"w-full justify-between group text-muted-foreground hover:text-foreground hover:bg-muted/50",onClick:v.action,disabled:v.loading,"data-testid":`button-quick-${v.label.toLowerCase().replace(/\s+/g,"-")}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[v.loading?u.jsx(Kr,{className:"h-4 w-4 animate-spin"}):u.jsx(v.icon,{className:"h-4 w-4"}),v.label]}),u.jsx(Aw,{className:"h-4 w-4 opacity-0 group-hover:opacity-100 transition-opacity"})]},x))})]}),u.jsxs(Be,{className:"card-glow",children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Kr,{className:"h-5 w-5 text-primary"}),"System Health"]}),u.jsx(Et,{children:"Overall system performance"})]}),u.jsx(Ke,{className:"space-y-3",children:Object.entries(a).map(([v,x])=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nv,{status:x.status,size:"sm"}),u.jsx("span",{className:"text-sm font-medium capitalize",children:v})]}),u.jsxs(ln,{variant:"outline",className:"text-xs",children:[x.uptime," uptime"]})]},v))})]})]}),u.jsxs(Be,{className:"card-glow bg-gradient-to-br from-primary/10 via-card to-accent/10 border-primary/20",children:[u.jsxs(Xe,{children:[u.jsx(qe,{children:"Welcome to VAREON Ecosystem"}),u.jsx(Et,{children:"An enterprise-grade cognitive AI platform integrating research, orchestration, and deployment"})]}),u.jsxs(Ke,{className:"space-y-2 text-sm text-muted-foreground",children:[u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"NEOSYNTIS"})," - Advanced research laboratory with workflow automation, dataset management, and intelligent search capabilities."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"MYNTRIX"})," - Core AI engine managing agents, hardware integration, and task orchestration with 3D visualization."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"COGNISYS"})," - Multimodel routing system with intelligent intent detection and reasoning capabilities."]}),u.jsxs("p",{children:[u.jsx("strong",{className:"text-foreground",children:"ARCANA"})," - Conversational AI interface with embedded terminal and context-aware memory management."]})]})]})]})})}async function Tyt(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const Pyt=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await Tyt(n),await n.json())},p0=new Oee({defaultOptions:{queries:{queryFn:Pyt({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function Nyt(){const{toast:t}=wf(),{data:e}=gn({queryKey:["/api/agents"],queryFn:async()=>{const a=await fetch("/api/agents");if(!a.ok)throw new Error("Network response was not ok");return a.json()}}),n=Ft({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/start`,{method:"POST"});if(!l.ok)throw new Error("Failed to start agent");return l.json()},onSuccess:()=>{t({title:"Agent started",description:"Agent is now running"}),p0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to start agent: ${a.message}`,variant:"destructive"})}}),r=Ft({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/stop`,{method:"POST"});if(!l.ok)throw new Error("Failed to stop agent");return l.json()},onSuccess:()=>{t({title:"Agent stopped"}),p0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to stop agent: ${a.message}`,variant:"destructive"})}}),i=Ft({mutationFn:async a=>{const l=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!l.ok)throw new Error("Failed to create agent");return l.json()},onSuccess:()=>{t({title:"Agent created",description:"New agent has been successfully created."}),p0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to create agent: ${a.message}`,variant:"destructive"})}}),s=Ft({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}/restart`,{method:"POST"});if(!l.ok)throw new Error("Failed to restart agent");return l.json()},onSuccess:()=>{t({title:"Agent restarted",description:"Agent has been successfully restarted."}),p0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to restart agent: ${a.message}`,variant:"destructive"})}}),o=Ft({mutationFn:async a=>{const l=await fetch(`/api/agents/${a}`,{method:"DELETE"});if(!l.ok)throw new Error("Failed to delete agent");return l.json()},onSuccess:()=>{t({title:"Agent deleted",description:"Agent has been successfully deleted."}),p0.invalidateQueries({queryKey:["/api/agents"]})},onError:a=>{t({title:"Error",description:`Failed to delete agent: ${a.message}`,variant:"destructive"})}});return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsx(Be,{children:u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Vl,{className:"h-5 w-5 text-primary"}),"Agent Manager"]}),u.jsx(Et,{className:"mt-1",children:"Manage and monitor AI agents for task execution"})]}),u.jsxs(Ce,{onClick:()=>i.mutate({name:"New Agent",type:"Generic"}),"data-testid":"button-create-agent",disabled:i.isPending,children:[i.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(is,{className:"h-4 w-4 mr-2"}),"Create Agent"]})]})})}),u.jsx(Be,{children:u.jsx(Ke,{className:"p-0",children:u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Name"}),u.jsx(yn,{children:"Type"}),u.jsx(yn,{children:"Status"}),u.jsx(yn,{children:"Health"}),u.jsx(yn,{children:"Last Run"}),u.jsx(yn,{className:"text-right",children:"Actions"})]})}),u.jsx(xu,{children:e==null?void 0:e.map(a=>u.jsxs(Ti,{"data-testid":`row-agent-${a.id}`,children:[u.jsx(vn,{className:"font-medium",children:a.name}),u.jsx(vn,{children:u.jsx(ln,{variant:"outline",children:a.type})}),u.jsx(vn,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(nv,{status:a.status,size:"sm"}),u.jsx("span",{className:"text-sm capitalize",children:a.status})]})}),u.jsx(vn,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"flex-1 max-w-[100px]",children:u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:`h-full transition-all ${a.health>=90?"bg-green-500":a.health>=70?"bg-yellow-500":a.health>0?"bg-orange-500":"bg-red-500"}`,style:{width:`${a.health}%`}})})}),u.jsxs("span",{className:"text-sm font-mono",children:[a.health,"%"]})]})}),u.jsx(vn,{className:"text-sm text-muted-foreground",children:a.lastRun?new Date(a.lastRun).toLocaleString():"Never"}),u.jsx(vn,{className:"text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.status==="running"?u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>r.mutate(a.id),"data-testid":`button-stop-${a.id}`,children:u.jsx(dte,{className:"h-4 w-4"})}):u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>n.mutate(a.id),"data-testid":`button-start-${a.id}`,children:u.jsx(Mv,{className:"h-4 w-4"})}),u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>s.mutate(a.id),"data-testid":`button-restart-${a.id}`,disabled:s.isPending,children:s.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(KSe,{className:"h-4 w-4"})}),u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>o.mutate(a.id),"data-testid":`button-delete-${a.id}`,disabled:o.isPending,children:o.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(tc,{className:"h-4 w-4"})})]})})]},a.id))})]})})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(Be,{children:[u.jsx(Xe,{className:"pb-3",children:u.jsx(qe,{className:"text-sm text-muted-foreground",children:"Total Agents"})}),u.jsx(Ke,{children:u.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.length})})]}),u.jsxs(Be,{children:[u.jsx(Xe,{className:"pb-3",children:u.jsx(qe,{className:"text-sm text-muted-foreground",children:"Running"})}),u.jsx(Ke,{children:u.jsx("div",{className:"text-3xl font-bold text-green-600",children:e==null?void 0:e.filter(a=>a.status==="running").length})})]}),u.jsxs(Be,{children:[u.jsx(Xe,{className:"pb-3",children:u.jsx(qe,{className:"text-sm text-muted-foreground",children:"Avg Health"})}),u.jsx(Ke,{children:u.jsxs("div",{className:"text-3xl font-bold",children:[Math.round((e==null?void 0:e.reduce((a,l)=>a+l.health,0))/(e==null?void 0:e.length)),"%"]})})]})]})]})}const Ryt=[{id:"task-1",name:"Daily Data Sync",schedule:"0 1 * * *",action:"workflow",enabled:!0,nextRun:new Date(Date.now()+24*60*60*1e3).toISOString()},{id:"task-2",name:"Hourly Health Check",schedule:"0 * * * *",action:"script",enabled:!0,nextRun:new Date(Date.now()+60*60*1e3).toISOString()},{id:"task-3",name:"Agent Deployment",schedule:"0 9 * * 1",action:"agent",enabled:!1,nextRun:null}],kyt=[{id:"run-1",taskId:"task-1",taskName:"Daily Data Sync",startTime:new Date(Date.now()-24*60*60*1e3).toISOString(),endTime:new Date(Date.now()-23*60*60*1e3).toISOString(),status:"Success",logs:"INFO: Sync complete. 10,234 records updated."},{id:"run-2",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-60*60*1e3).toISOString(),endTime:new Date(Date.now()-59*60*1e3).toISOString(),status:"Success",logs:"INFO: All systems nominal."},{id:"run-3",taskId:"task-2",taskName:"Hourly Health Check",startTime:new Date(Date.now()-2*60*60*1e3).toISOString(),endTime:new Date(Date.now()-2*60*60*1e3+5e3).toISOString(),status:"Failed",logs:"ERROR: Timeout connecting to node-B. Check network connectivity."}];function Oyt(){const{toast:t}=to(),e=Ni(),[n,r]=M.useState(""),[i,s]=M.useState(""),[o,a]=M.useState("workflow"),[l,c]=M.useState(),[f,d]=M.useState(!1),{data:h,isLoading:g,error:v}=gn({queryKey:["/api/tasks"],queryFn:async()=>Promise.resolve(Ryt)}),{data:x}=gn({queryKey:["/api/tasks/history"],queryFn:async()=>Promise.resolve(kyt)}),m=Ft({mutationFn:async b=>(console.log("Creating task:",b),Promise.resolve({...b,id:`task-${Math.random()}`})),onSuccess:()=>{t({title:"Task Created",description:"New task has been scheduled."}),e.invalidateQueries({queryKey:["/api/tasks"]}),r(""),s(""),a("workflow")},onError:b=>{t({title:"Error",description:`Failed to create task: ${b.message}`,variant:"destructive"})}}),p=Ft({mutationFn:async b=>(console.log("Running task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Started",description:"Task initiated successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to run task: ${b.message}`,variant:"destructive"})}}),y=Ft({mutationFn:async({taskId:b,enabled:w})=>(console.log(`${w?"Enabling":"Disabling"} task:`,b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Updated",description:"Task status changed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to change task status: ${b.message}`,variant:"destructive"})}}),_=Ft({mutationFn:async b=>(console.log("Deleting task:",b),Promise.resolve({status:"ok"})),onSuccess:()=>{t({title:"Task Deleted",description:"Task removed successfully."}),e.invalidateQueries({queryKey:["/api/tasks"]})},onError:b=>{t({title:"Error",description:`Failed to delete task: ${b.message}`,variant:"destructive"})}});return g?u.jsx("div",{className:"p-6 text-center",children:"Loading scheduled tasks..."}):v?u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading tasks: ",v.message]}):u.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(oL,{className:"h-5 w-5 text-primary"}),"Task Scheduler"]}),u.jsx(Et,{children:"Schedule automated tasks with cron expressions"})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Task Name"}),u.jsx(Dt,{placeholder:"My Scheduled Task","data-testid":"input-task-name",value:n,onChange:b=>r(b.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Cron Expression"}),u.jsxs(_at,{open:f,onOpenChange:d,children:[u.jsx(bat,{asChild:!0,children:u.jsxs(Ce,{variant:"outline",className:"w-full justify-start text-left font-normal",children:[u.jsx(rte,{className:"mr-2 h-4 w-4"}),l?So(l,"PPP"):u.jsx("span",{children:"Pick a date"})]})}),u.jsx(ife,{className:"w-auto p-0 z-50",children:u.jsx(oL,{mode:"single",selected:l,onSelect:b=>{c(b),s(b?`0 0 ${b.getDate()} ${b.getMonth()+1} *`:""),d(!1)},initialFocus:!0})})]}),u.jsx(Dt,{placeholder:"0 */6 * * *",value:i,onChange:b=>s(b.target.value),"data-testid":"input-cron-expression"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Task Action"}),u.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-task-action",value:o,onChange:b=>a(b.target.value),children:[u.jsx("option",{value:"workflow",children:"Run Workflow"}),u.jsx("option",{value:"agent",children:"Execute Agent"}),u.jsx("option",{value:"script",children:"Run Script"}),u.jsx("option",{value:"api",children:"Call API"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{"data-testid":"button-create-schedule",onClick:()=>m.mutate({name:n,schedule:i,action:o}),disabled:m.isPending||!n||!i,children:[m.isPending?u.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(is,{className:"h-4 w-4 mr-2"}),"Create Schedule"]}),u.jsx(Ce,{variant:"outline",children:"Test Run"})]}),i&&u.jsxs("div",{className:"p-3 bg-primary/5 border border-primary/10 rounded-lg",children:[u.jsx("div",{className:"text-sm font-medium mb-1",children:"Schedule Preview"}),u.jsxs("div",{className:"text-sm text-muted-foreground",children:["This task will run: ",u.jsx("span",{className:"font-mono",children:i})]})]})]})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Scheduled Tasks"}),u.jsx(Et,{children:"Manage existing scheduled tasks"})]}),u.jsx(Ke,{className:"space-y-3",children:h&&h.length>0?h.map(b=>u.jsxs(Be,{className:"bg-card/50",children:[u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(qe,{className:"text-sm",children:b.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(ln,{variant:b.enabled?"default":"outline",className:"text-xs",children:b.enabled?"Enabled":"Disabled"}),u.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:b.schedule})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[u.jsx(ote,{className:"h-3 w-3"}),"Next run"]}),u.jsx("div",{className:"text-xs font-mono mt-1",children:b.nextRun?new Date(b.nextRun).toLocaleString():"N/A"})]})]})}),u.jsx(Ke,{children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>p.mutate(b.id),disabled:p.isPending,children:p.isPending?u.jsx(Kr,{className:"h-4 w-4 animate-spin"}):"Run Now"}),u.jsx(Ce,{variant:"outline",size:"sm",onClick:()=>y.mutate({taskId:b.id,enabled:!b.enabled}),disabled:y.isPending,children:y.isPending?u.jsx(Kr,{className:"h-4 w-4 animate-spin"}):b.enabled?"Disable":"Enable"}),u.jsx(Ce,{variant:"outline",size:"sm",className:"text-destructive",onClick:()=>_.mutate(b.id),disabled:_.isPending,children:_.isPending?u.jsx(Kr,{className:"h-4 w-4 animate-spin"}):"Delete"})]})})]},b.id)):u.jsx("p",{className:"text-muted-foreground",children:"No scheduled tasks found."})})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(cte,{className:"h-5 w-5 text-primary"}),"Task Execution History"]}),u.jsx(Et,{children:"Review the status and logs of past task runs."})]}),u.jsx(Ke,{children:u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Task"}),u.jsx(yn,{children:"Status"}),u.jsx(yn,{className:"hidden md:table-cell",children:"Start Time"}),u.jsx(yn,{className:"hidden md:table-cell",children:"Duration"}),u.jsx(yn,{className:"text-right",children:"Actions"})]})}),u.jsx(xu,{children:x==null?void 0:x.map(b=>u.jsxs(Ti,{children:[u.jsx(vn,{className:"font-medium",children:b.taskName}),u.jsx(vn,{children:u.jsx(ln,{variant:b.status==="Success"?"default":b.status==="Failed"?"destructive":"outline",children:b.status})}),u.jsx(vn,{className:"hidden md:table-cell text-sm text-muted-foreground",children:new Date(b.startTime).toLocaleString()}),u.jsx(vn,{className:"hidden md:table-cell text-sm text-muted-foreground",children:`${(new Date(b.endTime).getTime()-new Date(b.startTime).getTime())/1e3}s`}),u.jsx(vn,{className:"text-right",children:u.jsxs(tx,{children:[u.jsx(e$,{asChild:!0,children:u.jsx(Ce,{variant:"outline",size:"sm",children:"View Logs"})}),u.jsxs(Wp,{children:[u.jsxs(nx,{children:[u.jsxs(rx,{children:["Logs for ",b.taskName]}),u.jsxs(ix,{children:["Execution started at ",new Date(b.startTime).toLocaleString()]})]}),u.jsx("div",{className:"mt-4 bg-muted/50 p-4 rounded-md max-h-96 overflow-y-auto",children:u.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:b.logs})})]})]})})]},b.id))})]})})]}),u.jsxs(Be,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Cron Expression Guide"})}),u.jsx(Ke,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("div",{className:"font-mono text-xs space-y-1",children:[u.jsx("div",{children:"* * * * *  Minute Hour Day Month Weekday"}),u.jsx("div",{children:"0 */6 * * *  Every 6 hours"}),u.jsx("div",{children:"0 9 * * 1  Every Monday at 9 AM"}),u.jsx("div",{children:"0 0 1 * *  First day of every month"})]})})]})]})}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const v1="180",hh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},ph={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},fve=0,PF=1,hve=2,Iyt=3,pve=0,TN=1,__=2,Ia=3,bu=0,os=1,Ga=2,iu=0,Zh=1,NF=2,RF=3,kF=4,mve=5,xd=100,gve=101,vve=102,yve=103,xve=104,_ve=200,bve=201,wve=202,Sve=203,bT=204,wT=205,Cve=206,Eve=207,Mve=208,Ave=209,Tve=210,Pve=211,Nve=212,Rve=213,kve=214,ST=0,CT=1,ET=2,Ap=3,MT=4,AT=5,TT=6,PT=7,y1=0,Ove=1,Ive=2,Zl=0,jve=1,Dve=2,Lve=3,nz=4,Fve=5,Bve=6,Uve=7,OF="attached",$ve="detached",PN=300,wu=301,sf=302,ew=303,tw=304,ux=306,nw=1e3,la=1001,rw=1002,Li=1003,rz=1004,jyt=1004,Ng=1005,Dyt=1005,pi=1006,b_=1007,Lyt=1007,Ul=1008,Fyt=1008,pa=1009,iz=1010,sz=1011,vy=1012,NN=1013,Su=1014,Gs=1015,dx=1016,RN=1017,kN=1018,yy=1020,oz=35902,az=35899,lz=1021,cz=1022,rs=1023,xy=1026,_y=1027,ON=1028,x1=1029,uz=1030,IN=1031,Byt=1032,jN=1033,w_=33776,S_=33777,C_=33778,E_=33779,NT=35840,RT=35841,kT=35842,OT=35843,IT=36196,jT=37492,DT=37496,LT=37808,FT=37809,BT=37810,UT=37811,$T=37812,zT=37813,HT=37814,VT=37815,WT=37816,GT=37817,qT=37818,KT=37819,XT=37820,YT=37821,ZT=36492,QT=36494,JT=36495,eP=36283,tP=36284,nP=36285,rP=36286,zve=2200,Hve=2201,Vve=2202,iw=2300,iP=2301,eM=2302,Ph=2400,Nh=2401,sw=2402,DN=2500,dz=2501,Uyt=0,$yt=1,zyt=2,Wve=3200,Gve=3201,Hyt=3202,Vyt=3203,Sf=0,qve=1,zc="",Bs="srgb",Tp="srgb-linear",ow="linear",qn="srgb",Wyt=0,mh=7680,Gyt=7681,qyt=7682,Kyt=7683,Xyt=34055,Yyt=34056,Zyt=5386,Qyt=512,Jyt=513,ext=514,txt=515,nxt=516,rxt=517,ixt=518,IF=519,Kve=512,Xve=513,Yve=514,fz=515,Zve=516,Qve=517,Jve=518,eye=519,aw=35044,sxt=35048,oxt=35040,axt=35045,lxt=35049,cxt=35041,uxt=35046,dxt=35050,fxt=35042,hxt="100",jF="300 es",bo=2e3,by=2001,pxt={COMPUTE:"compute",RENDER:"render"},mxt={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},gxt={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};let gc=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}};const Ki=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let kX=1234567;const Qh=Math.PI/180,wy=180/Math.PI;function Ao(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Ki[t&255]+Ki[t>>8&255]+Ki[t>>16&255]+Ki[t>>24&255]+"-"+Ki[e&255]+Ki[e>>8&255]+"-"+Ki[e>>16&15|64]+Ki[e>>24&255]+"-"+Ki[n&63|128]+Ki[n>>8&255]+"-"+Ki[n>>16&255]+Ki[n>>24&255]+Ki[r&255]+Ki[r>>8&255]+Ki[r>>16&255]+Ki[r>>24&255]).toLowerCase()}function Xt(t,e,n){return Math.max(e,Math.min(n,t))}function hz(t,e){return(t%e+e)%e}function vxt(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function yxt(t,e,n){return t!==e?(n-t)/(e-t):0}function M_(t,e,n){return(1-n)*t+n*e}function xxt(t,e,n,r){return M_(t,e,1-Math.exp(-n*r))}function _xt(t,e=1){return e-Math.abs(hz(t,e*2)-e)}function bxt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function wxt(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Sxt(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Cxt(t,e){return t+Math.random()*(e-t)}function Ext(t){return t*(.5-Math.random())}function Mxt(t){t!==void 0&&(kX=t);let e=kX+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Axt(t){return t*Qh}function Txt(t){return t*wy}function Pxt(t){return(t&t-1)===0&&t!==0}function Nxt(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function Rxt(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function kxt(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),f=o((e+r)/2),d=s((e-r)/2),h=o((e-r)/2),g=s((r-e)/2),v=o((r-e)/2);switch(i){case"XYX":t.set(a*f,l*d,l*h,a*c);break;case"YZY":t.set(l*h,a*f,l*d,a*c);break;case"ZXZ":t.set(l*d,l*h,a*f,a*c);break;case"XZX":t.set(a*f,l*v,l*g,a*c);break;case"YXY":t.set(l*g,a*f,l*v,a*c);break;case"ZYZ":t.set(l*v,l*g,a*f,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function _s(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function an(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const tye={DEG2RAD:Qh,RAD2DEG:wy,generateUUID:Ao,clamp:Xt,euclideanModulo:hz,mapLinear:vxt,inverseLerp:yxt,lerp:M_,damp:xxt,pingpong:_xt,smoothstep:bxt,smootherstep:wxt,randInt:Sxt,randFloat:Cxt,randFloatSpread:Ext,seededRandom:Mxt,degToRad:Axt,radToDeg:Txt,isPowerOfTwo:Pxt,ceilPowerOfTwo:Nxt,floorPowerOfTwo:Rxt,setQuaternionFromProperEuler:kxt,normalize:an,denormalize:_s};class He{constructor(e=0,n=0){He.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Xt(this.x,e.x,n.x),this.y=Xt(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=Xt(this.x,e,n),this.y=Xt(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Xt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Xt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class as{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],f=r[i+2],d=r[i+3];const h=s[o+0],g=s[o+1],v=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=f,e[n+3]=d;return}if(a===1){e[n+0]=h,e[n+1]=g,e[n+2]=v,e[n+3]=x;return}if(d!==x||l!==h||c!==g||f!==v){let m=1-a;const p=l*h+c*g+f*v+d*x,y=p>=0?1:-1,_=1-p*p;if(_>Number.EPSILON){const w=Math.sqrt(_),E=Math.atan2(w,p*y);m=Math.sin(m*E)/w,a=Math.sin(a*E)/w}const b=a*y;if(l=l*m+h*b,c=c*m+g*b,f=f*m+v*b,d=d*m+x*b,m===1-a){const w=1/Math.sqrt(l*l+c*c+f*f+d*d);l*=w,c*=w,f*=w,d*=w}}e[n]=l,e[n+1]=c,e[n+2]=f,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],f=r[i+3],d=s[o],h=s[o+1],g=s[o+2],v=s[o+3];return e[n]=a*v+f*d+l*g-c*h,e[n+1]=l*v+f*h+c*d-a*g,e[n+2]=c*v+f*g+a*h-l*d,e[n+3]=f*v-a*d-l*h-c*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),f=a(i/2),d=a(s/2),h=l(r/2),g=l(i/2),v=l(s/2);switch(o){case"XYZ":this._x=h*f*d+c*g*v,this._y=c*g*d-h*f*v,this._z=c*f*v+h*g*d,this._w=c*f*d-h*g*v;break;case"YXZ":this._x=h*f*d+c*g*v,this._y=c*g*d-h*f*v,this._z=c*f*v-h*g*d,this._w=c*f*d+h*g*v;break;case"ZXY":this._x=h*f*d-c*g*v,this._y=c*g*d+h*f*v,this._z=c*f*v+h*g*d,this._w=c*f*d-h*g*v;break;case"ZYX":this._x=h*f*d-c*g*v,this._y=c*g*d+h*f*v,this._z=c*f*v-h*g*d,this._w=c*f*d+h*g*v;break;case"YZX":this._x=h*f*d+c*g*v,this._y=c*g*d+h*f*v,this._z=c*f*v-h*g*d,this._w=c*f*d-h*g*v;break;case"XZY":this._x=h*f*d-c*g*v,this._y=c*g*d-h*f*v,this._z=c*f*v+h*g*d,this._w=c*f*d+h*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],f=n[6],d=n[10],h=r+a+d;if(h>0){const g=.5/Math.sqrt(h+1);this._w=.25/g,this._x=(f-l)*g,this._y=(s-c)*g,this._z=(o-i)*g}else if(r>a&&r>d){const g=2*Math.sqrt(1+r-a-d);this._w=(f-l)/g,this._x=.25*g,this._y=(i+o)/g,this._z=(s+c)/g}else if(a>d){const g=2*Math.sqrt(1+a-r-d);this._w=(s-c)/g,this._x=(i+o)/g,this._y=.25*g,this._z=(l+f)/g}else{const g=2*Math.sqrt(1+d-r-a);this._w=(o-i)/g,this._x=(s+c)/g,this._y=(l+f)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Xt(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,f=n._w;return this._x=r*f+o*a+i*c-s*l,this._y=i*f+o*l+s*a-r*c,this._z=s*f+o*c+r*l-i*a,this._w=o*f-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const g=1-n;return this._w=g*o+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),f=Math.atan2(c,a),d=Math.sin((1-n)*f)/c,h=Math.sin(n*f)/c;return this._w=o*d+this._w*h,this._x=r*d+this._x*h,this._y=i*d+this._y*h,this._z=s*d+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ce{constructor(e=0,n=0,r=0){ce.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(OX.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(OX.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),f=2*(a*n-s*i),d=2*(s*r-o*n);return this.x=n+l*c+o*d-a*f,this.y=r+l*f+a*c-s*d,this.z=i+l*d+s*f-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Xt(this.x,e.x,n.x),this.y=Xt(this.y,e.y,n.y),this.z=Xt(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=Xt(this.x,e,n),this.y=Xt(this.y,e,n),this.z=Xt(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Xt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return wI.copy(this).projectOnVector(e),this.sub(wI)}reflect(e){return this.sub(wI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Xt(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const wI=new ce,OX=new as;class on{constructor(e,n,r,i,s,o,a,l,c){on.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const f=this.elements;return f[0]=e,f[1]=i,f[2]=a,f[3]=n,f[4]=s,f[5]=l,f[6]=r,f[7]=o,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],f=r[4],d=r[7],h=r[2],g=r[5],v=r[8],x=i[0],m=i[3],p=i[6],y=i[1],_=i[4],b=i[7],w=i[2],E=i[5],A=i[8];return s[0]=o*x+a*y+l*w,s[3]=o*m+a*_+l*E,s[6]=o*p+a*b+l*A,s[1]=c*x+f*y+d*w,s[4]=c*m+f*_+d*E,s[7]=c*p+f*b+d*A,s[2]=h*x+g*y+v*w,s[5]=h*m+g*_+v*E,s[8]=h*p+g*b+v*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8];return n*o*f-n*a*c-r*s*f+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],d=f*o-a*c,h=a*l-f*s,g=c*s-o*l,v=n*d+r*h+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/v;return e[0]=d*x,e[1]=(i*c-f*r)*x,e[2]=(a*r-i*o)*x,e[3]=h*x,e[4]=(f*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=g*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(SI.makeScale(e,n)),this}rotate(e){return this.premultiply(SI.makeRotation(-e)),this}translate(e,n){return this.premultiply(SI.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const SI=new on;function nye(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Oxt={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Rg(t,e){return new Oxt[t](e)}function lw(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function rye(){const t=lw("canvas");return t.style.display="block",t}const IX={};function cw(t){t in IX||(IX[t]=!0,console.warn(t))}function Ixt(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}const jX=new on().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),DX=new on().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function jxt(){const t={enabled:!0,workingColorSpace:Tp,spaces:{},convert:function(i,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===qn&&(i.r=su(i.r),i.g=su(i.g),i.b=su(i.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===qn&&(i.r=rv(i.r),i.g=rv(i.g),i.b=rv(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===zc?ow:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,o){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return cw("THREE.ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return cw("THREE.ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[Tp]:{primaries:e,whitePoint:r,transfer:ow,toXYZ:jX,fromXYZ:DX,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:Bs},outputColorSpaceConfig:{drawingBufferColorSpace:Bs}},[Bs]:{primaries:e,whitePoint:r,transfer:qn,toXYZ:jX,fromXYZ:DX,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:Bs}}}),t}const Cn=jxt();function su(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function rv(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Nm;class iye{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Nm===void 0&&(Nm=lw("canvas")),Nm.width=e.width,Nm.height=e.height;const i=Nm.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Nm}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=lw("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=su(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(su(n[r]/255)*255):n[r]=su(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Dxt=0;class jd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Dxt++}),this.uuid=Ao(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(CI(i[o].image)):s.push(CI(i[o]))}else s=CI(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function CI(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?iye.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Lxt=0;const EI=new ce;class Ur extends gc{constructor(e=Ur.DEFAULT_IMAGE,n=Ur.DEFAULT_MAPPING,r=la,i=la,s=pi,o=Ul,a=rs,l=pa,c=Ur.DEFAULT_ANISOTROPY,f=zc){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Lxt++}),this.uuid=Ao(),this.name="",this.source=new jd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new He(0,0),this.repeat=new He(1,1),this.center=new He(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new on,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=f,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(EI).x}get height(){return this.source.getSize(EI).y}get depth(){return this.source.getSize(EI).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==PN)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case nw:e.x=e.x-Math.floor(e.x);break;case la:e.x=e.x<0?0:1;break;case rw:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case nw:e.y=e.y-Math.floor(e.y);break;case la:e.y=e.y<0?0:1;break;case rw:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Ur.DEFAULT_IMAGE=null;Ur.DEFAULT_MAPPING=PN;Ur.DEFAULT_ANISOTROPY=1;class Tn{constructor(e=0,n=0,r=0,i=1){Tn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],f=l[4],d=l[8],h=l[1],g=l[5],v=l[9],x=l[2],m=l[6],p=l[10];if(Math.abs(f-h)<.01&&Math.abs(d-x)<.01&&Math.abs(v-m)<.01){if(Math.abs(f+h)<.1&&Math.abs(d+x)<.1&&Math.abs(v+m)<.1&&Math.abs(c+g+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,b=(g+1)/2,w=(p+1)/2,E=(f+h)/4,A=(d+x)/4,T=(v+m)/4;return _>b&&_>w?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=E/r,s=A/r):b>w?b<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(b),r=E/i,s=T/i):w<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(w),r=A/s,i=T/s),this.set(r,i,s,n),this}let y=Math.sqrt((m-v)*(m-v)+(d-x)*(d-x)+(h-f)*(h-f));return Math.abs(y)<.001&&(y=1),this.x=(m-v)/y,this.y=(d-x)/y,this.z=(h-f)/y,this.w=Math.acos((c+g+p-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Xt(this.x,e.x,n.x),this.y=Xt(this.y,e.y,n.y),this.z=Xt(this.z,e.z,n.z),this.w=Xt(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=Xt(this.x,e,n),this.y=Xt(this.y,e,n),this.z=Xt(this.z,e,n),this.w=Xt(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Xt(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class pz extends gc{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:pi,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Tn(0,0,e,n),this.scissorTest=!1,this.viewport=new Tn(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new Ur(i);this.textures=[];const o=r.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:pi,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isArrayTexture=this.textures[i].image.depth>1;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new jd(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ac extends pz{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class LN extends Ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Li,this.minFilter=Li,this.wrapR=la,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Fxt extends ac{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new LN(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class FN extends Ur{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Li,this.minFilter=Li,this.wrapR=la,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Bxt extends ac{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new FN(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class ls{constructor(e=new ce(1/0,1/0,1/0),n=new ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ta.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ta.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ta.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Ta):Ta.fromBufferAttribute(s,o),Ta.applyMatrix4(e.matrixWorld),this.expandByPoint(Ta);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),CC.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),CC.copy(r.boundingBox)),CC.applyMatrix4(e.matrixWorld),this.union(CC)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ta),Ta.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(m0),EC.subVectors(this.max,m0),Rm.subVectors(e.a,m0),km.subVectors(e.b,m0),Om.subVectors(e.c,m0),ed.subVectors(km,Rm),td.subVectors(Om,km),Vf.subVectors(Rm,Om);let n=[0,-ed.z,ed.y,0,-td.z,td.y,0,-Vf.z,Vf.y,ed.z,0,-ed.x,td.z,0,-td.x,Vf.z,0,-Vf.x,-ed.y,ed.x,0,-td.y,td.x,0,-Vf.y,Vf.x,0];return!MI(n,Rm,km,Om,EC)||(n=[1,0,0,0,1,0,0,0,1],!MI(n,Rm,km,Om,EC))?!1:(MC.crossVectors(ed,td),n=[MC.x,MC.y,MC.z],MI(n,Rm,km,Om,EC))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ta).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ta).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Pc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Pc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Pc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Pc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Pc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Pc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Pc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Pc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Pc),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const Pc=[new ce,new ce,new ce,new ce,new ce,new ce,new ce,new ce],Ta=new ce,CC=new ls,Rm=new ce,km=new ce,Om=new ce,ed=new ce,td=new ce,Vf=new ce,m0=new ce,EC=new ce,MC=new ce,Wf=new ce;function MI(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Wf.fromArray(t,s);const a=i.x*Math.abs(Wf.x)+i.y*Math.abs(Wf.y)+i.z*Math.abs(Wf.z),l=e.dot(Wf),c=n.dot(Wf),f=r.dot(Wf);if(Math.max(-Math.max(l,c,f),Math.min(l,c,f))>a)return!1}return!0}const Uxt=new ls,g0=new ce,AI=new ce;let Fi=class{constructor(e=new ce,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Uxt.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;g0.subVectors(e,this.center);const n=g0.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(g0,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(AI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(g0.copy(e.center).add(AI)),this.expandByPoint(g0.copy(e.center).sub(AI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}};const Nc=new ce,TI=new ce,AC=new ce,nd=new ce,PI=new ce,TC=new ce,NI=new ce;class Gp{constructor(e=new ce,n=new ce(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Nc)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Nc.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Nc.copy(this.origin).addScaledVector(this.direction,n),Nc.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){TI.copy(e).add(n).multiplyScalar(.5),AC.copy(n).sub(e).normalize(),nd.copy(this.origin).sub(TI);const s=e.distanceTo(n)*.5,o=-this.direction.dot(AC),a=nd.dot(this.direction),l=-nd.dot(AC),c=nd.lengthSq(),f=Math.abs(1-o*o);let d,h,g,v;if(f>0)if(d=o*l-a,h=o*a-l,v=s*f,d>=0)if(h>=-v)if(h<=v){const x=1/f;d*=x,h*=x,g=d*(d+o*h+2*a)+h*(o*d+h+2*l)+c}else h=s,d=Math.max(0,-(o*h+a)),g=-d*d+h*(h+2*l)+c;else h=-s,d=Math.max(0,-(o*h+a)),g=-d*d+h*(h+2*l)+c;else h<=-v?(d=Math.max(0,-(-o*s+a)),h=d>0?-s:Math.min(Math.max(-s,-l),s),g=-d*d+h*(h+2*l)+c):h<=v?(d=0,h=Math.min(Math.max(-s,-l),s),g=h*(h+2*l)+c):(d=Math.max(0,-(o*s+a)),h=d>0?s:Math.min(Math.max(-s,-l),s),g=-d*d+h*(h+2*l)+c);else h=o>0?-s:s,d=Math.max(0,-(o*h+a)),g=-d*d+h*(h+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy(TI).addScaledVector(AC,h),g}intersectSphere(e,n){Nc.subVectors(e.center,this.origin);const r=Nc.dot(this.direction),i=Nc.dot(Nc)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,f=1/this.direction.y,d=1/this.direction.z,h=this.origin;return c>=0?(r=(e.min.x-h.x)*c,i=(e.max.x-h.x)*c):(r=(e.max.x-h.x)*c,i=(e.min.x-h.x)*c),f>=0?(s=(e.min.y-h.y)*f,o=(e.max.y-h.y)*f):(s=(e.max.y-h.y)*f,o=(e.min.y-h.y)*f),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),d>=0?(a=(e.min.z-h.z)*d,l=(e.max.z-h.z)*d):(a=(e.max.z-h.z)*d,l=(e.min.z-h.z)*d),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Nc)!==null}intersectTriangle(e,n,r,i,s){PI.subVectors(n,e),TC.subVectors(r,e),NI.crossVectors(PI,TC);let o=this.direction.dot(NI),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;nd.subVectors(this.origin,e);const l=a*this.direction.dot(TC.crossVectors(nd,TC));if(l<0)return null;const c=a*this.direction.dot(PI.cross(nd));if(c<0||l+c>o)return null;const f=-a*nd.dot(NI);return f<0?null:this.at(f/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Qt{constructor(e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m){Qt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m)}set(e,n,r,i,s,o,a,l,c,f,d,h,g,v,x,m){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=f,p[10]=d,p[14]=h,p[3]=g,p[7]=v,p[11]=x,p[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Qt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Im.setFromMatrixColumn(e,0).length(),s=1/Im.setFromMatrixColumn(e,1).length(),o=1/Im.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),f=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const h=o*f,g=o*d,v=a*f,x=a*d;n[0]=l*f,n[4]=-l*d,n[8]=c,n[1]=g+v*c,n[5]=h-x*c,n[9]=-a*l,n[2]=x-h*c,n[6]=v+g*c,n[10]=o*l}else if(e.order==="YXZ"){const h=l*f,g=l*d,v=c*f,x=c*d;n[0]=h+x*a,n[4]=v*a-g,n[8]=o*c,n[1]=o*d,n[5]=o*f,n[9]=-a,n[2]=g*a-v,n[6]=x+h*a,n[10]=o*l}else if(e.order==="ZXY"){const h=l*f,g=l*d,v=c*f,x=c*d;n[0]=h-x*a,n[4]=-o*d,n[8]=v+g*a,n[1]=g+v*a,n[5]=o*f,n[9]=x-h*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const h=o*f,g=o*d,v=a*f,x=a*d;n[0]=l*f,n[4]=v*c-g,n[8]=h*c+x,n[1]=l*d,n[5]=x*c+h,n[9]=g*c-v,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,g=o*c,v=a*l,x=a*c;n[0]=l*f,n[4]=x-h*d,n[8]=v*d+g,n[1]=d,n[5]=o*f,n[9]=-a*f,n[2]=-c*f,n[6]=g*d+v,n[10]=h-x*d}else if(e.order==="XZY"){const h=o*l,g=o*c,v=a*l,x=a*c;n[0]=l*f,n[4]=-d,n[8]=c*f,n[1]=h*d+x,n[5]=o*f,n[9]=g*d-v,n[2]=v*d-g,n[6]=a*f,n[10]=x*d+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose($xt,e,zxt)}lookAt(e,n,r){const i=this.elements;return ao.subVectors(e,n),ao.lengthSq()===0&&(ao.z=1),ao.normalize(),rd.crossVectors(r,ao),rd.lengthSq()===0&&(Math.abs(r.z)===1?ao.x+=1e-4:ao.z+=1e-4,ao.normalize(),rd.crossVectors(r,ao)),rd.normalize(),PC.crossVectors(ao,rd),i[0]=rd.x,i[4]=PC.x,i[8]=ao.x,i[1]=rd.y,i[5]=PC.y,i[9]=ao.y,i[2]=rd.z,i[6]=PC.z,i[10]=ao.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],f=r[1],d=r[5],h=r[9],g=r[13],v=r[2],x=r[6],m=r[10],p=r[14],y=r[3],_=r[7],b=r[11],w=r[15],E=i[0],A=i[4],T=i[8],P=i[12],N=i[1],O=i[5],I=i[9],D=i[13],F=i[2],$=i[6],z=i[10],H=i[14],R=i[3],j=i[7],B=i[11],W=i[15];return s[0]=o*E+a*N+l*F+c*R,s[4]=o*A+a*O+l*$+c*j,s[8]=o*T+a*I+l*z+c*B,s[12]=o*P+a*D+l*H+c*W,s[1]=f*E+d*N+h*F+g*R,s[5]=f*A+d*O+h*$+g*j,s[9]=f*T+d*I+h*z+g*B,s[13]=f*P+d*D+h*H+g*W,s[2]=v*E+x*N+m*F+p*R,s[6]=v*A+x*O+m*$+p*j,s[10]=v*T+x*I+m*z+p*B,s[14]=v*P+x*D+m*H+p*W,s[3]=y*E+_*N+b*F+w*R,s[7]=y*A+_*O+b*$+w*j,s[11]=y*T+_*I+b*z+w*B,s[15]=y*P+_*D+b*H+w*W,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],f=e[2],d=e[6],h=e[10],g=e[14],v=e[3],x=e[7],m=e[11],p=e[15];return v*(+s*l*d-i*c*d-s*a*h+r*c*h+i*a*g-r*l*g)+x*(+n*l*g-n*c*h+s*o*h-i*o*g+i*c*f-s*l*f)+m*(+n*c*d-n*a*g-s*o*d+r*o*g+s*a*f-r*c*f)+p*(-i*a*f-n*l*d+n*a*h+i*o*d-r*o*h+r*l*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],f=e[8],d=e[9],h=e[10],g=e[11],v=e[12],x=e[13],m=e[14],p=e[15],y=d*m*c-x*h*c+x*l*g-a*m*g-d*l*p+a*h*p,_=v*h*c-f*m*c-v*l*g+o*m*g+f*l*p-o*h*p,b=f*x*c-v*d*c+v*a*g-o*x*g-f*a*p+o*d*p,w=v*d*l-f*x*l-v*a*h+o*x*h+f*a*m-o*d*m,E=n*y+r*_+i*b+s*w;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/E;return e[0]=y*A,e[1]=(x*h*s-d*m*s-x*i*g+r*m*g+d*i*p-r*h*p)*A,e[2]=(a*m*s-x*l*s+x*i*c-r*m*c-a*i*p+r*l*p)*A,e[3]=(d*l*s-a*h*s-d*i*c+r*h*c+a*i*g-r*l*g)*A,e[4]=_*A,e[5]=(f*m*s-v*h*s+v*i*g-n*m*g-f*i*p+n*h*p)*A,e[6]=(v*l*s-o*m*s-v*i*c+n*m*c+o*i*p-n*l*p)*A,e[7]=(o*h*s-f*l*s+f*i*c-n*h*c-o*i*g+n*l*g)*A,e[8]=b*A,e[9]=(v*d*s-f*x*s-v*r*g+n*x*g+f*r*p-n*d*p)*A,e[10]=(o*x*s-v*a*s+v*r*c-n*x*c-o*r*p+n*a*p)*A,e[11]=(f*a*s-o*d*s-f*r*c+n*d*c+o*r*g-n*a*g)*A,e[12]=w*A,e[13]=(f*x*i-v*d*i+v*r*h-n*x*h-f*r*m+n*d*m)*A,e[14]=(v*a*i-o*x*i-v*r*l+n*x*l+o*r*m-n*a*m)*A,e[15]=(o*d*i-f*a*i+f*r*l-n*d*l-o*r*h+n*a*h)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,f=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,f*a+r,f*l-i*o,0,c*l-i*a,f*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,f=o+o,d=a+a,h=s*c,g=s*f,v=s*d,x=o*f,m=o*d,p=a*d,y=l*c,_=l*f,b=l*d,w=r.x,E=r.y,A=r.z;return i[0]=(1-(x+p))*w,i[1]=(g+b)*w,i[2]=(v-_)*w,i[3]=0,i[4]=(g-b)*E,i[5]=(1-(h+p))*E,i[6]=(m+y)*E,i[7]=0,i[8]=(v+_)*A,i[9]=(m-y)*A,i[10]=(1-(h+x))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Im.set(i[0],i[1],i[2]).length();const o=Im.set(i[4],i[5],i[6]).length(),a=Im.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Pa.copy(this);const c=1/s,f=1/o,d=1/a;return Pa.elements[0]*=c,Pa.elements[1]*=c,Pa.elements[2]*=c,Pa.elements[4]*=f,Pa.elements[5]*=f,Pa.elements[6]*=f,Pa.elements[8]*=d,Pa.elements[9]*=d,Pa.elements[10]*=d,n.setFromRotationMatrix(Pa),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=bo,l=!1){const c=this.elements,f=2*s/(n-e),d=2*s/(r-i),h=(n+e)/(n-e),g=(r+i)/(r-i);let v,x;if(l)v=s/(o-s),x=o*s/(o-s);else if(a===bo)v=-(o+s)/(o-s),x=-2*o*s/(o-s);else if(a===by)v=-o/(o-s),x=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return c[0]=f,c[4]=0,c[8]=h,c[12]=0,c[1]=0,c[5]=d,c[9]=g,c[13]=0,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=bo,l=!1){const c=this.elements,f=2/(n-e),d=2/(r-i),h=-(n+e)/(n-e),g=-(r+i)/(r-i);let v,x;if(l)v=1/(o-s),x=o/(o-s);else if(a===bo)v=-2/(o-s),x=-(o+s)/(o-s);else if(a===by)v=-1/(o-s),x=-s/(o-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return c[0]=f,c[4]=0,c[8]=0,c[12]=h,c[1]=0,c[5]=d,c[9]=0,c[13]=g,c[2]=0,c[6]=0,c[10]=v,c[14]=x,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Im=new ce,Pa=new Qt,$xt=new ce(0,0,0),zxt=new ce(1,1,1),rd=new ce,PC=new ce,ao=new ce,LX=new Qt,FX=new as;class ko{constructor(e=0,n=0,r=0,i=ko.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],f=i[9],d=i[2],h=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Xt(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Xt(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(a,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(Xt(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-d,g),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Xt(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(h,g),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Xt(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(a,g));break;case"XZY":this._z=Math.asin(-Xt(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return LX.makeRotationFromQuaternion(e),this.setFromRotationMatrix(LX,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return FX.setFromEuler(this),this.setFromQuaternion(FX,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ko.DEFAULT_ORDER="XYZ";class Jh{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Hxt=0;const BX=new ce,jm=new as,Rc=new Qt,NC=new ce,v0=new ce,Vxt=new ce,Wxt=new as,UX=new ce(1,0,0),$X=new ce(0,1,0),zX=new ce(0,0,1),HX={type:"added"},Gxt={type:"removed"},Dm={type:"childadded",child:null},RI={type:"childremoved",child:null};class Nn extends gc{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Hxt++}),this.uuid=Ao(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Nn.DEFAULT_UP.clone();const e=new ce,n=new ko,r=new as,i=new ce(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Qt},normalMatrix:{value:new on}}),this.matrix=new Qt,this.matrixWorld=new Qt,this.matrixAutoUpdate=Nn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Jh,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return jm.setFromAxisAngle(e,n),this.quaternion.multiply(jm),this}rotateOnWorldAxis(e,n){return jm.setFromAxisAngle(e,n),this.quaternion.premultiply(jm),this}rotateX(e){return this.rotateOnAxis(UX,e)}rotateY(e){return this.rotateOnAxis($X,e)}rotateZ(e){return this.rotateOnAxis(zX,e)}translateOnAxis(e,n){return BX.copy(e).applyQuaternion(this.quaternion),this.position.add(BX.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(UX,e)}translateY(e){return this.translateOnAxis($X,e)}translateZ(e){return this.translateOnAxis(zX,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Rc.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?NC.copy(e):NC.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),v0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Rc.lookAt(v0,NC,this.up):Rc.lookAt(NC,v0,this.up),this.quaternion.setFromRotationMatrix(Rc),i&&(Rc.extractRotation(i.matrixWorld),jm.setFromRotationMatrix(Rc),this.quaternion.premultiply(jm.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(HX),Dm.child=e,this.dispatchEvent(Dm),Dm.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Gxt),RI.child=e,this.dispatchEvent(RI),RI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Rc.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Rc.multiply(e.parent.matrixWorld)),e.applyMatrix4(Rc),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(HX),Dm.child=e,this.dispatchEvent(Dm),Dm.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(v0,e,Vxt),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(v0,Wxt,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(a=>({...a,boundingBox:a.boundingBox?a.boundingBox.toJSON():void 0,boundingSphere:a.boundingSphere?a.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(a=>({...a})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),f=o(e.images),d=o(e.shapes),h=o(e.skeletons),g=o(e.animations),v=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),d.length>0&&(r.shapes=d),h.length>0&&(r.skeletons=h),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function o(a){const l=[];for(const c in a){const f=a[c];delete f.metadata,l.push(f)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Nn.DEFAULT_UP=new ce(0,1,0);Nn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Nn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Na=new ce,kc=new ce,kI=new ce,Oc=new ce,Lm=new ce,Fm=new ce,VX=new ce,OI=new ce,II=new ce,jI=new ce,DI=new Tn,LI=new Tn,FI=new Tn;class zs{constructor(e=new ce,n=new ce,r=new ce){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Na.subVectors(e,n),i.cross(Na);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Na.subVectors(i,n),kc.subVectors(r,n),kI.subVectors(e,n);const o=Na.dot(Na),a=Na.dot(kc),l=Na.dot(kI),c=kc.dot(kc),f=kc.dot(kI),d=o*c-a*a;if(d===0)return s.set(0,0,0),null;const h=1/d,g=(c*l-a*f)*h,v=(o*f-a*l)*h;return s.set(1-g-v,v,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Oc)===null?!1:Oc.x>=0&&Oc.y>=0&&Oc.x+Oc.y<=1}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Oc)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Oc.x),l.addScaledVector(o,Oc.y),l.addScaledVector(a,Oc.z),l)}static getInterpolatedAttribute(e,n,r,i,s,o){return DI.setScalar(0),LI.setScalar(0),FI.setScalar(0),DI.fromBufferAttribute(e,n),LI.fromBufferAttribute(e,r),FI.fromBufferAttribute(e,i),o.setScalar(0),o.addScaledVector(DI,s.x),o.addScaledVector(LI,s.y),o.addScaledVector(FI,s.z),o}static isFrontFacing(e,n,r,i){return Na.subVectors(r,n),kc.subVectors(e,n),Na.cross(kc).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Na.subVectors(this.c,this.b),kc.subVectors(this.a,this.b),Na.cross(kc).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return zs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return zs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return zs.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return zs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return zs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;Lm.subVectors(i,r),Fm.subVectors(s,r),OI.subVectors(e,r);const l=Lm.dot(OI),c=Fm.dot(OI);if(l<=0&&c<=0)return n.copy(r);II.subVectors(e,i);const f=Lm.dot(II),d=Fm.dot(II);if(f>=0&&d<=f)return n.copy(i);const h=l*d-f*c;if(h<=0&&l>=0&&f<=0)return o=l/(l-f),n.copy(r).addScaledVector(Lm,o);jI.subVectors(e,s);const g=Lm.dot(jI),v=Fm.dot(jI);if(v>=0&&g<=v)return n.copy(s);const x=g*c-l*v;if(x<=0&&c>=0&&v<=0)return a=c/(c-v),n.copy(r).addScaledVector(Fm,a);const m=f*v-g*d;if(m<=0&&d-f>=0&&g-v>=0)return VX.subVectors(s,i),a=(d-f)/(d-f+(g-v)),n.copy(i).addScaledVector(VX,a);const p=1/(m+x+h);return o=x*p,a=h*p,n.copy(r).addScaledVector(Lm,o).addScaledVector(Fm,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const sye={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},id={h:0,s:0,l:0},RC={h:0,s:0,l:0};function BI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class gt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Bs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Cn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=Cn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Cn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=Cn.workingColorSpace){if(e=hz(e,1),n=Xt(n,0,1),r=Xt(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=BI(o,s,e+1/3),this.g=BI(o,s,e),this.b=BI(o,s,e-1/3)}return Cn.colorSpaceToWorking(this,i),this}setStyle(e,n=Bs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Bs){const r=sye[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=su(e.r),this.g=su(e.g),this.b=su(e.b),this}copyLinearToSRGB(e){return this.r=rv(e.r),this.g=rv(e.g),this.b=rv(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Bs){return Cn.workingToColorSpace(Xi.copy(this),e),Math.round(Xt(Xi.r*255,0,255))*65536+Math.round(Xt(Xi.g*255,0,255))*256+Math.round(Xt(Xi.b*255,0,255))}getHexString(e=Bs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Cn.workingColorSpace){Cn.workingToColorSpace(Xi.copy(this),n);const r=Xi.r,i=Xi.g,s=Xi.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const f=(a+o)/2;if(a===o)l=0,c=0;else{const d=o-a;switch(c=f<=.5?d/(o+a):d/(2-o-a),o){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=f,e}getRGB(e,n=Cn.workingColorSpace){return Cn.workingToColorSpace(Xi.copy(this),n),e.r=Xi.r,e.g=Xi.g,e.b=Xi.b,e}getStyle(e=Bs){Cn.workingToColorSpace(Xi.copy(this),e);const n=Xi.r,r=Xi.g,i=Xi.b;return e!==Bs?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(id),this.setHSL(id.h+e,id.s+n,id.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(id),e.getHSL(RC);const r=M_(id.h,RC.h,n),i=M_(id.s,RC.s,n),s=M_(id.l,RC.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Xi=new gt;gt.NAMES=sye;let qxt=0;class us extends gc{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:qxt++}),this.uuid=Ao(),this.name="",this.type="Material",this.blending=Zh,this.side=bu,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bT,this.blendDst=wT,this.blendEquation=xd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new gt(0,0,0),this.blendAlpha=0,this.depthFunc=Ap,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=IF,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=mh,this.stencilZFail=mh,this.stencilZPass=mh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Zh&&(r.blending=this.blending),this.side!==bu&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==bT&&(r.blendSrc=this.blendSrc),this.blendDst!==wT&&(r.blendDst=this.blendDst),this.blendEquation!==xd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ap&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==IF&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==mh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==mh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==mh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Cf extends us{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ko,this.combine=y1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Hc=Kxt();function Kxt(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,f=0;for(;!(c&8388608);)c<<=1,f-=8388608;c&=-8388609,f+=947912704,s[l]=c|f}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function js(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Xt(t,-65504,65504),Hc.floatView[0]=t;const e=Hc.uint32View[0],n=e>>23&511;return Hc.baseTable[n]+((e&8388607)>>Hc.shiftTable[n])}function q0(t){const e=t>>10;return Hc.uint32View[0]=Hc.mantissaTable[Hc.offsetTable[e]+(t&1023)]+Hc.exponentTable[e],Hc.floatView[0]}class Xxt{static toHalfFloat(e){return js(e)}static fromHalfFloat(e){return q0(e)}}const Qr=new ce,kC=new He;let Yxt=0;class Jn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:Yxt++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=aw,this.updateRanges=[],this.gpuType=Gs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)kC.fromBufferAttribute(this,n),kC.applyMatrix3(e),this.setXY(n,kC.x,kC.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.applyMatrix3(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.applyMatrix4(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.applyNormalMatrix(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Qr.fromBufferAttribute(this,n),Qr.transformDirection(e),this.setXYZ(n,Qr.x,Qr.y,Qr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=_s(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=an(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=_s(n,this.array)),n}setX(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=_s(n,this.array)),n}setY(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=_s(n,this.array)),n}setZ(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=_s(n,this.array)),n}setW(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),r=an(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),r=an(r,this.array),i=an(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==aw&&(e.usage=this.usage),e}}class Zxt extends Jn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Qxt extends Jn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Jxt extends Jn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class e0t extends Jn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class mz extends Jn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class t0t extends Jn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class gz extends Jn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class n0t extends Jn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=q0(this.array[e*this.itemSize]);return this.normalized&&(n=_s(n,this.array)),n}setX(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize]=js(n),this}getY(e){let n=q0(this.array[e*this.itemSize+1]);return this.normalized&&(n=_s(n,this.array)),n}setY(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+1]=js(n),this}getZ(e){let n=q0(this.array[e*this.itemSize+2]);return this.normalized&&(n=_s(n,this.array)),n}setZ(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+2]=js(n),this}getW(e){let n=q0(this.array[e*this.itemSize+3]);return this.normalized&&(n=_s(n,this.array)),n}setW(e,n){return this.normalized&&(n=an(n,this.array)),this.array[e*this.itemSize+3]=js(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),r=an(r,this.array)),this.array[e+0]=js(n),this.array[e+1]=js(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),r=an(r,this.array),i=an(i,this.array)),this.array[e+0]=js(n),this.array[e+1]=js(r),this.array[e+2]=js(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=an(n,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.array[e+0]=js(n),this.array[e+1]=js(r),this.array[e+2]=js(i),this.array[e+3]=js(s),this}}class At extends Jn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let r0t=0;const Yo=new Qt,UI=new Nn,Bm=new ce,lo=new ls,y0=new ls,Si=new ce;class cn extends gc{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:r0t++}),this.uuid=Ao(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(nye(e)?gz:mz)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new on().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Yo.makeRotationFromQuaternion(e),this.applyMatrix4(Yo),this}rotateX(e){return Yo.makeRotationX(e),this.applyMatrix4(Yo),this}rotateY(e){return Yo.makeRotationY(e),this.applyMatrix4(Yo),this}rotateZ(e){return Yo.makeRotationZ(e),this.applyMatrix4(Yo),this}translate(e,n,r){return Yo.makeTranslation(e,n,r),this.applyMatrix4(Yo),this}scale(e,n,r){return Yo.makeScale(e,n,r),this.applyMatrix4(Yo),this}lookAt(e){return UI.lookAt(e),UI.updateMatrix(),this.applyMatrix4(UI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bm).negate(),this.translate(Bm.x,Bm.y,Bm.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const o=e[i];r.push(o.x,o.y,o.z||0)}this.setAttribute("position",new At(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ls);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ce(-1/0,-1/0,-1/0),new ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];lo.setFromBufferAttribute(s),this.morphTargetsRelative?(Si.addVectors(this.boundingBox.min,lo.min),this.boundingBox.expandByPoint(Si),Si.addVectors(this.boundingBox.max,lo.max),this.boundingBox.expandByPoint(Si)):(this.boundingBox.expandByPoint(lo.min),this.boundingBox.expandByPoint(lo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ce,1/0);return}if(e){const r=this.boundingSphere.center;if(lo.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];y0.setFromBufferAttribute(a),this.morphTargetsRelative?(Si.addVectors(lo.min,y0.min),lo.expandByPoint(Si),Si.addVectors(lo.max,y0.max),lo.expandByPoint(Si)):(lo.expandByPoint(y0.min),lo.expandByPoint(y0.max))}lo.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Si.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Si));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,f=a.count;c<f;c++)Si.fromBufferAttribute(a,c),l&&(Bm.fromBufferAttribute(e,c),Si.add(Bm)),i=Math.max(i,r.distanceToSquared(Si))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Jn(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let T=0;T<r.count;T++)a[T]=new ce,l[T]=new ce;const c=new ce,f=new ce,d=new ce,h=new He,g=new He,v=new He,x=new ce,m=new ce;function p(T,P,N){c.fromBufferAttribute(r,T),f.fromBufferAttribute(r,P),d.fromBufferAttribute(r,N),h.fromBufferAttribute(s,T),g.fromBufferAttribute(s,P),v.fromBufferAttribute(s,N),f.sub(c),d.sub(c),g.sub(h),v.sub(h);const O=1/(g.x*v.y-v.x*g.y);isFinite(O)&&(x.copy(f).multiplyScalar(v.y).addScaledVector(d,-g.y).multiplyScalar(O),m.copy(d).multiplyScalar(g.x).addScaledVector(f,-v.x).multiplyScalar(O),a[T].add(x),a[P].add(x),a[N].add(x),l[T].add(m),l[P].add(m),l[N].add(m))}let y=this.groups;y.length===0&&(y=[{start:0,count:e.count}]);for(let T=0,P=y.length;T<P;++T){const N=y[T],O=N.start,I=N.count;for(let D=O,F=O+I;D<F;D+=3)p(e.getX(D+0),e.getX(D+1),e.getX(D+2))}const _=new ce,b=new ce,w=new ce,E=new ce;function A(T){w.fromBufferAttribute(i,T),E.copy(w);const P=a[T];_.copy(P),_.sub(w.multiplyScalar(w.dot(P))).normalize(),b.crossVectors(E,P);const O=b.dot(l[T])<0?-1:1;o.setXYZW(T,_.x,_.y,_.z,O)}for(let T=0,P=y.length;T<P;++T){const N=y[T],O=N.start,I=N.count;for(let D=O,F=O+I;D<F;D+=3)A(e.getX(D+0)),A(e.getX(D+1)),A(e.getX(D+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Jn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,g=r.count;h<g;h++)r.setXYZ(h,0,0,0);const i=new ce,s=new ce,o=new ce,a=new ce,l=new ce,c=new ce,f=new ce,d=new ce;if(e)for(let h=0,g=e.count;h<g;h+=3){const v=e.getX(h+0),x=e.getX(h+1),m=e.getX(h+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,m),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),a.fromBufferAttribute(r,v),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,m),a.add(f),l.add(f),c.add(f),r.setXYZ(v,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let h=0,g=n.count;h<g;h+=3)i.fromBufferAttribute(n,h+0),s.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),f.subVectors(o,s),d.subVectors(i,s),f.cross(d),r.setXYZ(h+0,f.x,f.y,f.z),r.setXYZ(h+1,f.x,f.y,f.z),r.setXYZ(h+2,f.x,f.y,f.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Si.fromBufferAttribute(e,n),Si.normalize(),e.setXYZ(n,Si.x,Si.y,Si.z)}toNonIndexed(){function e(a,l){const c=a.array,f=a.itemSize,d=a.normalized,h=new c.constructor(l.length*f);let g=0,v=0;for(let x=0,m=l.length;x<m;x++){a.isInterleavedBufferAttribute?g=l[x]*a.data.stride+a.offset:g=l[x]*f;for(let p=0;p<f;p++)h[v++]=c[g++]}return new Jn(h,f,d)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new cn,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let f=0,d=c.length;f<d;f++){const h=c[f],g=e(h,r);l.push(g)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],f=[];for(let d=0,h=c.length;d<h;d++){const g=c[d];f.push(g.toJSON(e.data))}f.length>0&&(i[l]=f,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere=a.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const f=i[c];this.setAttribute(c,f.clone(n))}const s=e.morphAttributes;for(const c in s){const f=[],d=s[c];for(let h=0,g=d.length;h<g;h++)f.push(d[h].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,f=o.length;c<f;c++){const d=o[c];this.addGroup(d.start,d.count,d.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const WX=new Qt,Gf=new Gp,OC=new Fi,GX=new ce,IC=new ce,jC=new ce,DC=new ce,$I=new ce,LC=new ce,qX=new ce,FC=new ce;class ri extends Nn{constructor(e=new cn,n=new Cf){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){LC.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const f=a[l],d=s[l];f!==0&&($I.fromBufferAttribute(d,e),o?LC.addScaledVector($I,f):LC.addScaledVector($I.sub(n),f))}n.add(LC)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),OC.copy(r.boundingSphere),OC.applyMatrix4(s),Gf.copy(e.ray).recast(e.near),!(OC.containsPoint(Gf.origin)===!1&&(Gf.intersectSphere(OC,GX)===null||Gf.origin.distanceToSquared(GX)>(e.far-e.near)**2))&&(WX.copy(s).invert(),Gf.copy(e.ray).applyMatrix4(WX),!(r.boundingBox!==null&&Gf.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Gf)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,f=s.attributes.uv1,d=s.attributes.normal,h=s.groups,g=s.drawRange;if(a!==null)if(Array.isArray(o))for(let v=0,x=h.length;v<x;v++){const m=h[v],p=o[m.materialIndex],y=Math.max(m.start,g.start),_=Math.min(a.count,Math.min(m.start+m.count,g.start+g.count));for(let b=y,w=_;b<w;b+=3){const E=a.getX(b),A=a.getX(b+1),T=a.getX(b+2);i=BC(this,p,e,r,c,f,d,E,A,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(a.count,g.start+g.count);for(let m=v,p=x;m<p;m+=3){const y=a.getX(m),_=a.getX(m+1),b=a.getX(m+2);i=BC(this,o,e,r,c,f,d,y,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let v=0,x=h.length;v<x;v++){const m=h[v],p=o[m.materialIndex],y=Math.max(m.start,g.start),_=Math.min(l.count,Math.min(m.start+m.count,g.start+g.count));for(let b=y,w=_;b<w;b+=3){const E=b,A=b+1,T=b+2;i=BC(this,p,e,r,c,f,d,E,A,T),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),x=Math.min(l.count,g.start+g.count);for(let m=v,p=x;m<p;m+=3){const y=m,_=m+1,b=m+2;i=BC(this,o,e,r,c,f,d,y,_,b),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}}}function i0t(t,e,n,r,i,s,o,a){let l;if(e.side===os?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===bu,a),l===null)return null;FC.copy(a),FC.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(FC);return c<n.near||c>n.far?null:{distance:c,point:FC.clone(),object:t}}function BC(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,IC),t.getVertexPosition(l,jC),t.getVertexPosition(c,DC);const f=i0t(t,e,n,r,IC,jC,DC,qX);if(f){const d=new ce;zs.getBarycoord(qX,IC,jC,DC,d),i&&(f.uv=zs.getInterpolatedAttribute(i,a,l,c,d,new He)),s&&(f.uv1=zs.getInterpolatedAttribute(s,a,l,c,d,new He)),o&&(f.normal=zs.getInterpolatedAttribute(o,a,l,c,d,new ce),f.normal.dot(r.direction)>0&&f.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new ce,materialIndex:0};zs.getNormal(IC,jC,DC,h.normal),f.face=h,f.barycoord=d}return f}class qp extends cn{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],f=[],d=[];let h=0,g=0;v("z","y","x",-1,-1,r,n,e,o,s,0),v("z","y","x",1,-1,r,n,-e,o,s,1),v("x","z","y",1,1,e,r,n,i,o,2),v("x","z","y",1,-1,e,r,-n,i,o,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new At(c,3)),this.setAttribute("normal",new At(f,3)),this.setAttribute("uv",new At(d,2));function v(x,m,p,y,_,b,w,E,A,T,P){const N=b/A,O=w/T,I=b/2,D=w/2,F=E/2,$=A+1,z=T+1;let H=0,R=0;const j=new ce;for(let B=0;B<z;B++){const W=B*O-D;for(let G=0;G<$;G++){const K=G*N-I;j[x]=K*y,j[m]=W*_,j[p]=F,c.push(j.x,j.y,j.z),j[x]=0,j[m]=0,j[p]=E>0?1:-1,f.push(j.x,j.y,j.z),d.push(G/A),d.push(1-B/T),H+=1}}for(let B=0;B<T;B++)for(let W=0;W<A;W++){const G=h+W+$*B,K=h+W+$*(B+1),ie=h+(W+1)+$*(B+1),le=h+(W+1)+$*B;l.push(G,K,le),l.push(K,ie,le),R+=6}a.addGroup(g,R,P),g+=R,h+=H}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qp(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Sy(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ms(t){const e={};for(let n=0;n<t.length;n++){const r=Sy(t[n]);for(const i in r)e[i]=r[i]}return e}function s0t(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function oye(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Cn.workingColorSpace}const vz={clone:Sy,merge:ms};var o0t=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,a0t=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ma extends us{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=o0t,this.fragmentShader=a0t,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sy(e.uniforms),this.uniformsGroups=s0t(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class _1 extends Nn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Qt,this.projectionMatrix=new Qt,this.projectionMatrixInverse=new Qt,this.coordinateSystem=bo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const sd=new ce,KX=new He,XX=new He;class Mr extends _1{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=wy*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Qh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wy*2*Math.atan(Math.tan(Qh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){sd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(sd.x,sd.y).multiplyScalar(-e/sd.z),sd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(sd.x,sd.y).multiplyScalar(-e/sd.z)}getViewSize(e,n){return this.getViewBounds(e,KX,XX),n.subVectors(XX,KX)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Qh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Um=-90,$m=1;class aye extends Nn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Mr(Um,$m,e,n);i.layers=this.layers,this.add(i);const s=new Mr(Um,$m,e,n);s.layers=this.layers,this.add(s);const o=new Mr(Um,$m,e,n);o.layers=this.layers,this.add(o);const a=new Mr(Um,$m,e,n);a.layers=this.layers,this.add(a);const l=new Mr(Um,$m,e,n);l.layers=this.layers,this.add(l);const c=new Mr(Um,$m,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===bo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===by)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,f]=this.children,d=e.getRenderTarget(),h=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,f),e.setRenderTarget(d,h,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class b1 extends Ur{constructor(e=[],n=wu,r,i,s,o,a,l,c,f){super(e,n,r,i,s,o,a,l,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lye extends ac{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new b1(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new qp(5,5,5),s=new ma({name:"CubemapFromEquirect",uniforms:Sy(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:os,blending:iu});s.uniforms.tEquirect.value=n;const o=new ri(i,s),a=n.minFilter;return n.minFilter===Ul&&(n.minFilter=pi),new aye(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}class kg extends Nn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const l0t={type:"move"};class tM{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new kg,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new kg,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new kg,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const m=n.getJointPose(x,r),p=this._getHandJoint(c,x);m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=m.radius),p.visible=m!==null}const f=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],h=f.position.distanceTo(d.position),g=.02,v=.005;c.inputState.pinching&&h>g+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=g-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(l0t)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new kg;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class BN{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new gt(e),this.density=n}clone(){return new BN(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class UN{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new gt(e),this.near=n,this.far=r}clone(){return new UN(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let yz=class extends Nn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new ko,this.environmentIntensity=1,this.environmentRotation=new ko,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}};class $N{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=aw,this.updateRanges=[],this.version=0,this.uuid=Ao()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ao()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ps=new ce;class Pp{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ps.fromBufferAttribute(this,n),ps.applyMatrix4(e),this.setXYZ(n,ps.x,ps.y,ps.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ps.fromBufferAttribute(this,n),ps.applyNormalMatrix(e),this.setXYZ(n,ps.x,ps.y,ps.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ps.fromBufferAttribute(this,n),ps.transformDirection(e),this.setXYZ(n,ps.x,ps.y,ps.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=_s(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=an(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=an(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=_s(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=_s(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=_s(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=_s(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=an(n,this.array),r=an(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=an(n,this.array),r=an(r,this.array),i=an(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=an(n,this.array),r=an(r,this.array),i=an(i,this.array),s=an(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Jn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pp(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class xz extends us{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let zm;const x0=new ce,Hm=new ce,Vm=new ce,Wm=new He,_0=new He,cye=new Qt,UC=new ce,b0=new ce,$C=new ce,YX=new He,zI=new He,ZX=new He;class uye extends Nn{constructor(e=new xz){if(super(),this.isSprite=!0,this.type="Sprite",zm===void 0){zm=new cn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new $N(n,5);zm.setIndex([0,1,2,0,2,3]),zm.setAttribute("position",new Pp(r,3,0,!1)),zm.setAttribute("uv",new Pp(r,2,3,!1))}this.geometry=zm,this.material=e,this.center=new He(.5,.5),this.count=1}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Hm.setFromMatrixScale(this.matrixWorld),cye.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Vm.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Hm.multiplyScalar(-Vm.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;zC(UC.set(-.5,-.5,0),Vm,o,Hm,i,s),zC(b0.set(.5,-.5,0),Vm,o,Hm,i,s),zC($C.set(.5,.5,0),Vm,o,Hm,i,s),YX.set(0,0),zI.set(1,0),ZX.set(1,1);let a=e.ray.intersectTriangle(UC,b0,$C,!1,x0);if(a===null&&(zC(b0.set(-.5,.5,0),Vm,o,Hm,i,s),zI.set(0,1),a=e.ray.intersectTriangle(UC,$C,b0,!1,x0),a===null))return;const l=e.ray.origin.distanceTo(x0);l<e.near||l>e.far||n.push({distance:l,point:x0.clone(),uv:zs.getInterpolation(x0,UC,b0,$C,YX,zI,ZX,new He),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function zC(t,e,n,r,i,s){Wm.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(_0.x=s*Wm.x-i*Wm.y,_0.y=i*Wm.x+s*Wm.y):_0.copy(Wm),t.copy(e),t.x+=_0.x,t.y+=_0.y,t.applyMatrix4(cye)}const HC=new ce,QX=new ce;class dye extends Nn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){HC.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(HC);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){HC.setFromMatrixPosition(e.matrixWorld),QX.setFromMatrixPosition(this.matrixWorld);const r=HC.distanceTo(QX)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const JX=new ce,eY=new Tn,tY=new Tn,c0t=new ce,nY=new Qt,VC=new ce,HI=new Fi,rY=new Qt,VI=new Gp;class fye extends ri{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=OF,this.bindMatrix=new Qt,this.bindMatrixInverse=new Qt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ls),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,VC),this.boundingBox.expandByPoint(VC)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Fi),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,VC),this.boundingSphere.expandByPoint(VC)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),HI.copy(this.boundingSphere),HI.applyMatrix4(i),e.ray.intersectsSphere(HI)!==!1&&(rY.copy(i).invert(),VI.copy(e.ray).applyMatrix4(rY),!(this.boundingBox!==null&&VI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,VI)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Tn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===OF?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===$ve?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;eY.fromBufferAttribute(i.attributes.skinIndex,e),tY.fromBufferAttribute(i.attributes.skinWeight,e),JX.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=tY.getComponent(s);if(o!==0){const a=eY.getComponent(s);nY.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(c0t.copy(JX).applyMatrix4(nY),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class _z extends Nn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Ql extends Ur{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Li,f=Li,d,h){super(null,o,a,l,c,f,i,s,d,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const iY=new Qt,u0t=new Qt;class zN{constructor(e=[],n=[]){this.uuid=Ao(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Qt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Qt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:u0t;iY.multiplyMatrices(a,n[s]),iY.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new zN(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Ql(n,e,e,rs,Gs);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new _z),this.bones.push(o),this.boneInverses.push(new Qt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Cy extends Jn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Gm=new Qt,sY=new Qt,WC=[],oY=new ls,d0t=new Qt,w0=new ri,S0=new Fi;class hye extends ri{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Cy(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,d0t)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ls),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Gm),oY.copy(e.boundingBox).applyMatrix4(Gm),this.boundingBox.union(oY)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Fi),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Gm),S0.copy(e.boundingSphere).applyMatrix4(Gm),this.boundingSphere.union(S0)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,o=e*s+1;for(let a=0;a<r.length;a++)r[a]=i[o+a]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(w0.geometry=this.geometry,w0.material=this.material,w0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),S0.copy(this.boundingSphere),S0.applyMatrix4(r),e.ray.intersectsSphere(S0)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Gm),sY.multiplyMatrices(r,Gm),w0.matrixWorld=sY,w0.raycast(e,WC);for(let o=0,a=WC.length;o<a;o++){const l=WC[o];l.instanceId=s,l.object=this,n.push(l)}WC.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Cy(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Ql(new Float32Array(i*this.count),i,this.count,ON,Gs));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<r.length;c++)o+=r[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=i*e;s[l]=a,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const WI=new ce,f0t=new ce,h0t=new on;class Ol{constructor(e=new ce(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=WI.subVectors(r,n).cross(f0t.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(WI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||h0t.getNormalMatrix(e),i=this.coplanarPoint(WI).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const qf=new Fi,p0t=new He(.5,.5),GC=new ce;class fx{constructor(e=new Ol,n=new Ol,r=new Ol,i=new Ol,s=new Ol,o=new Ol){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=bo,r=!1){const i=this.planes,s=e.elements,o=s[0],a=s[1],l=s[2],c=s[3],f=s[4],d=s[5],h=s[6],g=s[7],v=s[8],x=s[9],m=s[10],p=s[11],y=s[12],_=s[13],b=s[14],w=s[15];if(i[0].setComponents(c-o,g-f,p-v,w-y).normalize(),i[1].setComponents(c+o,g+f,p+v,w+y).normalize(),i[2].setComponents(c+a,g+d,p+x,w+_).normalize(),i[3].setComponents(c-a,g-d,p-x,w-_).normalize(),r)i[4].setComponents(l,h,m,b).normalize(),i[5].setComponents(c-l,g-h,p-m,w-b).normalize();else if(i[4].setComponents(c-l,g-h,p-m,w-b).normalize(),n===bo)i[5].setComponents(c+l,g+h,p+m,w+b).normalize();else if(n===by)i[5].setComponents(l,h,m,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),qf.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),qf.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(qf)}intersectsSprite(e){qf.center.set(0,0,0);const n=p0t.distanceTo(e.center);return qf.radius=.7071067811865476+n,qf.applyMatrix4(e.matrixWorld),this.intersectsSphere(qf)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(GC.x=i.normal.x>0?e.max.x:e.min.x,GC.y=i.normal.y>0?e.max.y:e.min.y,GC.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(GC)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const Ml=new Qt,Al=new fx;class HN{constructor(){this.coordinateSystem=bo}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ml.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Al.setFromProjectionMatrix(Ml,i.coordinateSystem,i.reversedDepth),Al.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ml.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Al.setFromProjectionMatrix(Ml,i.coordinateSystem,i.reversedDepth),Al.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ml.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Al.setFromProjectionMatrix(Ml,i.coordinateSystem,i.reversedDepth),Al.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ml.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Al.setFromProjectionMatrix(Ml,i.coordinateSystem,i.reversedDepth),Al.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(Ml.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),Al.setFromProjectionMatrix(Ml,i.coordinateSystem,i.reversedDepth),Al.containsPoint(e))return!0}return!1}clone(){return new HN}}function GI(t,e){return t-e}function m0t(t,e){return t.z-e.z}function g0t(t,e){return e.z-t.z}class v0t{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,o=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const a=s[this.index];o.push(a),this.index++,a.start=e,a.count=n,a.z=r,a.index=i}reset(){this.list.length=0,this.index=0}}const Os=new Qt,y0t=new gt(1,1,1),aY=new fx,x0t=new HN,qC=new ls,Kf=new Fi,C0=new ce,lY=new ce,_0t=new ce,qI=new v0t,Yi=new ri,KC=[];function b0t(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Xf(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class pye extends ri{constructor(e,n,r=n*2,i){super(new cn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Ql(n,e,e,rs,Gs);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Ql(n,e,e,x1,Su);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Ql(n,e,e,rs,Gs);r.colorSpace=Cn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const o=e.getAttribute(s),{array:a,itemSize:l,normalized:c}=o,f=new a.constructor(r*l),d=new Jn(f,l,c);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new Jn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ls);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Os),this.getBoundingBoxAt(s,qC).applyMatrix4(Os),e.union(qC)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Fi);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Os),this.getBoundingSphereAt(s,Kf).applyMatrix4(Os),e.union(Kf)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(GI),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;Os.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const o=this._colorsTexture;return o&&(y0t.toArray(o.image.data,i*4),o.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const o=e.getIndex();if(o!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?o.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(GI),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._geometryInfo[e];if(i&&o.count>a.reservedIndexCount||n.attributes.position.count>a.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.reservedVertexCount;a.vertexCount=n.getAttribute("position").count;for(const f in r.attributes){const d=n.getAttribute(f),h=r.getAttribute(f);b0t(d,h,l);const g=d.itemSize;for(let v=d.count,x=c;v<x;v++){const m=l+v;for(let p=0;p<g;p++)h.setComponent(m,p,0)}h.needsUpdate=!0,h.addUpdateRange(l*g,c*g)}if(i){const f=a.indexStart,d=a.reservedIndexCount;a.indexCount=n.getIndex().count;for(let h=0;h<o.count;h++)s.setX(f+h,l+o.getX(h));for(let h=o.count,g=d;h<g;h++)s.setX(f+h,l);s.needsUpdate=!0,s.addUpdateRange(f,a.reservedIndexCount)}return a.start=i?a.indexStart:a.vertexStart,a.count=i?a.indexCount:a.vertexCount,a.boundingBox=null,n.boundingBox!==null&&(a.boundingBox=n.boundingBox.clone()),a.boundingSphere=null,n.boundingSphere!==null&&(a.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((o,a)=>a).sort((o,a)=>r[o].vertexStart-r[a].vertexStart),s=this.geometry;for(let o=0,a=r.length;o<a;o++){const l=i[o],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:f,vertexStart:d,reservedIndexCount:h}=c,g=s.index,v=g.array,x=e-d;for(let m=f;m<f+h;m++)v[m]=v[m]+x;g.array.copyWithin(n,f,f+h),g.addUpdateRange(n,h),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:f,reservedVertexCount:d}=c,h=s.attributes;for(const g in h){const v=h[g],{array:x,itemSize:m}=v;x.copyWithin(e*m,f*m,(f+d)*m),v.addUpdateRange(e*m,d*m)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new ls,o=r.index,a=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let f=l;o&&(f=o.getX(f)),s.expandByPoint(C0.fromBufferAttribute(a,f))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Fi;this.getBoundingBoxAt(e,qC),qC.getCenter(s.center);const o=r.index,a=r.attributes.position;let l=0;for(let c=i.start,f=i.start+i.count;c<f;c++){let d=c;o&&(d=o.getX(d)),C0.fromBufferAttribute(a,d),l=Math.max(l,s.center.distanceToSquared(C0))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(GI);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);Xf(this._multiDrawCounts,i),Xf(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const o=this._indirectTexture,a=this._matricesTexture,l=this._colorsTexture;o.dispose(),this._initIndirectTexture(),Xf(o.image.data,this._indirectTexture.image.data),a.dispose(),this._initMatricesTexture(),Xf(a.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Xf(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(a=>a.active);if(Math.max(...r.map(a=>a.vertexStart+a.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new cn,this._initializeGeometry(s));const o=this.geometry;s.index&&Xf(s.index.array,o.index.array);for(const a in s.attributes)Xf(s.attributes[a].array,o.attributes[a].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,o=this.geometry;Yi.material=this.material,Yi.geometry.index=o.index,Yi.geometry.attributes=o.attributes,Yi.geometry.boundingBox===null&&(Yi.geometry.boundingBox=new ls),Yi.geometry.boundingSphere===null&&(Yi.geometry.boundingSphere=new Fi);for(let a=0,l=r.length;a<l;a++){if(!r[a].visible||!r[a].active)continue;const c=r[a].geometryIndex,f=i[c];Yi.geometry.setDrawRange(f.start,f.count),this.getMatrixAt(a,Yi.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Yi.geometry.boundingBox),this.getBoundingSphereAt(c,Yi.geometry.boundingSphere),Yi.raycast(e,KC);for(let d=0,h=KC.length;d<h;d++){const g=KC[d];g.object=this,g.batchId=a,n.push(g)}KC.length=0}Yi.material=null,Yi.geometry.index=null,Yi.geometry.attributes={},Yi.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,f=this._multiDrawCounts,d=this._geometryInfo,h=this.perObjectFrustumCulled,g=this._indirectTexture,v=g.image.data,x=r.isArrayCamera?x0t:aY;h&&!r.isArrayCamera&&(Os.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),aY.setFromProjectionMatrix(Os,r.coordinateSystem,r.reversedDepth));let m=0;if(this.sortObjects){Os.copy(this.matrixWorld).invert(),C0.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Os),lY.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Os);for(let _=0,b=l.length;_<b;_++)if(l[_].visible&&l[_].active){const w=l[_].geometryIndex;this.getMatrixAt(_,Os),this.getBoundingSphereAt(w,Kf).applyMatrix4(Os);let E=!1;if(h&&(E=!x.intersectsSphere(Kf,r)),!E){const A=d[w],T=_0t.subVectors(Kf.center,C0).dot(lY);qI.push(A.start,A.count,T,_)}}const p=qI.list,y=this.customSort;y===null?p.sort(s.transparent?g0t:m0t):y.call(this,p,r);for(let _=0,b=p.length;_<b;_++){const w=p[_];c[m]=w.start*a,f[m]=w.count,v[m]=w.index,m++}qI.reset()}else for(let p=0,y=l.length;p<y;p++)if(l[p].visible&&l[p].active){const _=l[p].geometryIndex;let b=!1;if(h&&(this.getMatrixAt(p,Os),this.getBoundingSphereAt(_,Kf).applyMatrix4(Os),b=!x.intersectsSphere(Kf,r)),!b){const w=d[_];c[m]=w.start*a,f[m]=w.count,v[m]=p,m++}}g.needsUpdate=!0,this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class Ts extends us{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new gt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const sP=new ce,oP=new ce,cY=new Qt,E0=new Gp,XC=new Fi,KI=new ce,uY=new ce;class of extends Nn{constructor(e=new cn,n=new Ts){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)sP.fromBufferAttribute(n,i-1),oP.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=sP.distanceTo(oP);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),XC.copy(r.boundingSphere),XC.applyMatrix4(i),XC.radius+=s,e.ray.intersectsSphere(XC)===!1)return;cY.copy(i).invert(),E0.copy(e.ray).applyMatrix4(cY);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,f=r.index,h=r.attributes.position;if(f!==null){const g=Math.max(0,o.start),v=Math.min(f.count,o.start+o.count);for(let x=g,m=v-1;x<m;x+=c){const p=f.getX(x),y=f.getX(x+1),_=YC(this,e,E0,l,p,y,x);_&&n.push(_)}if(this.isLineLoop){const x=f.getX(v-1),m=f.getX(g),p=YC(this,e,E0,l,x,m,v-1);p&&n.push(p)}}else{const g=Math.max(0,o.start),v=Math.min(h.count,o.start+o.count);for(let x=g,m=v-1;x<m;x+=c){const p=YC(this,e,E0,l,x,x+1,x);p&&n.push(p)}if(this.isLineLoop){const x=YC(this,e,E0,l,v-1,g,v-1);x&&n.push(x)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function YC(t,e,n,r,i,s,o){const a=t.geometry.attributes.position;if(sP.fromBufferAttribute(a,i),oP.fromBufferAttribute(a,s),n.distanceSqToSegment(sP,oP,KI,uY)>r)return;KI.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(KI);if(!(c<e.near||c>e.far))return{distance:c,point:uY.clone().applyMatrix4(t.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:t}}const dY=new ce,fY=new ce;class vc extends of{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)dY.fromBufferAttribute(n,i),fY.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+dY.distanceTo(fY);e.setAttribute("lineDistance",new At(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class mye extends of{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class bz extends us{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new gt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const hY=new Qt,DF=new Gp,ZC=new Fi,QC=new ce;class gye extends Nn{constructor(e=new cn,n=new bz){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ZC.copy(r.boundingSphere),ZC.applyMatrix4(i),ZC.radius+=s,e.ray.intersectsSphere(ZC)===!1)return;hY.copy(i).invert(),DF.copy(e.ray).applyMatrix4(hY);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,d=r.attributes.position;if(c!==null){const h=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let v=h,x=g;v<x;v++){const m=c.getX(v);QC.fromBufferAttribute(d,m),pY(QC,m,l,i,e,n,this)}}else{const h=Math.max(0,o.start),g=Math.min(d.count,o.start+o.count);for(let v=h,x=g;v<x;v++)QC.fromBufferAttribute(d,v),pY(QC,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function pY(t,e,n,r,i,s,o){const a=DF.distanceSqToPoint(t);if(a<n){const l=new ce;DF.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class vye extends Ur{constructor(e,n,r,i,s=pi,o=pi,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const f=this;function d(){f.needsUpdate=!0,f._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),super.dispose()}}class w0t extends vye{constructor(e,n,r,i,s,o,a,l){super({},e,n,r,i,s,o,a,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class S0t extends Ur{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Li,this.minFilter=Li,this.generateMipmaps=!1,this.needsUpdate=!0}}class VN extends Ur{constructor(e,n,r,i,s,o,a,l,c,f,d,h){super(null,o,a,l,c,f,i,s,d,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class C0t extends VN{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=la,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class E0t extends VN{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,wu),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class M0t extends Ur{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class wz extends Ur{constructor(e,n,r=Su,i,s,o,a=Li,l=Li,c,f=xy,d=1){if(f!==xy&&f!==_y)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const h={width:e,height:n,depth:d};super(h,i,s,o,a,l,f,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new jd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Sz extends Ur{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class WN extends cn{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const o=[],a=[],l=[],c=[],f=n/2,d=Math.PI/2*e,h=n,g=2*d+h,v=r*2+s,x=i+1,m=new ce,p=new ce;for(let y=0;y<=v;y++){let _=0,b=0,w=0,E=0;if(y<=r){const P=y/r,N=P*Math.PI/2;b=-f-e*Math.cos(N),w=e*Math.sin(N),E=-e*Math.cos(N),_=P*d}else if(y<=r+s){const P=(y-r)/s;b=-f+P*n,w=e,E=0,_=d+P*h}else{const P=(y-r-s)/r,N=P*Math.PI/2;b=f+e*Math.sin(N),w=e*Math.cos(N),E=e*Math.sin(N),_=d+h+P*d}const A=Math.max(0,Math.min(1,_/g));let T=0;y===0?T=.5/i:y===v&&(T=-.5/i);for(let P=0;P<=i;P++){const N=P/i,O=N*Math.PI*2,I=Math.sin(O),D=Math.cos(O);p.x=-w*D,p.y=b,p.z=w*I,a.push(p.x,p.y,p.z),m.set(-w*D,E,w*I),m.normalize(),l.push(m.x,m.y,m.z),c.push(N+T,A)}if(y>0){const P=(y-1)*x;for(let N=0;N<i;N++){const O=P+N,I=P+N+1,D=y*x+N,F=y*x+N+1;o.push(O,I,D),o.push(I,F,D)}}}this.setIndex(o),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(l,3)),this.setAttribute("uv",new At(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WN(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class GN extends cn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new ce,f=new He;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let d=0,h=3;d<=n;d++,h+=3){const g=r+d/n*i;c.x=e*Math.cos(g),c.y=e*Math.sin(g),o.push(c.x,c.y,c.z),a.push(0,0,1),f.x=(o[h]/e+1)/2,f.y=(o[h+1]/e+1)/2,l.push(f.x,f.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new At(o,3)),this.setAttribute("normal",new At(a,3)),this.setAttribute("uv",new At(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new GN(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class w1 extends cn{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const f=[],d=[],h=[],g=[];let v=0;const x=[],m=r/2;let p=0;y(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(f),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(g,2));function y(){const b=new ce,w=new ce;let E=0;const A=(n-e)/r;for(let T=0;T<=s;T++){const P=[],N=T/s,O=N*(n-e)+e;for(let I=0;I<=i;I++){const D=I/i,F=D*l+a,$=Math.sin(F),z=Math.cos(F);w.x=O*$,w.y=-N*r+m,w.z=O*z,d.push(w.x,w.y,w.z),b.set($,A,z).normalize(),h.push(b.x,b.y,b.z),g.push(D,1-N),P.push(v++)}x.push(P)}for(let T=0;T<i;T++)for(let P=0;P<s;P++){const N=x[P][T],O=x[P+1][T],I=x[P+1][T+1],D=x[P][T+1];(e>0||P!==0)&&(f.push(N,O,D),E+=3),(n>0||P!==s-1)&&(f.push(O,I,D),E+=3)}c.addGroup(p,E,0),p+=E}function _(b){const w=v,E=new He,A=new ce;let T=0;const P=b===!0?e:n,N=b===!0?1:-1;for(let I=1;I<=i;I++)d.push(0,m*N,0),h.push(0,N,0),g.push(.5,.5),v++;const O=v;for(let I=0;I<=i;I++){const F=I/i*l+a,$=Math.cos(F),z=Math.sin(F);A.x=P*z,A.y=m*N,A.z=P*$,d.push(A.x,A.y,A.z),h.push(0,N,0),E.x=$*.5+.5,E.y=z*.5*N+.5,g.push(E.x,E.y),v++}for(let I=0;I<i;I++){const D=w+I,F=O+I;b===!0?f.push(F,F+1,D):f.push(F+1,F,D),T+=3}c.addGroup(p,T,b===!0?1:2),p+=T}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new w1(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class S1 extends w1{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new S1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ef extends cn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),f(),this.setAttribute("position",new At(s,3)),this.setAttribute("normal",new At(s.slice(),3)),this.setAttribute("uv",new At(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(y){const _=new ce,b=new ce,w=new ce;for(let E=0;E<n.length;E+=3)g(n[E+0],_),g(n[E+1],b),g(n[E+2],w),l(_,b,w,y)}function l(y,_,b,w){const E=w+1,A=[];for(let T=0;T<=E;T++){A[T]=[];const P=y.clone().lerp(b,T/E),N=_.clone().lerp(b,T/E),O=E-T;for(let I=0;I<=O;I++)I===0&&T===E?A[T][I]=P:A[T][I]=P.clone().lerp(N,I/O)}for(let T=0;T<E;T++)for(let P=0;P<2*(E-T)-1;P++){const N=Math.floor(P/2);P%2===0?(h(A[T][N+1]),h(A[T+1][N]),h(A[T][N])):(h(A[T][N+1]),h(A[T+1][N+1]),h(A[T+1][N]))}}function c(y){const _=new ce;for(let b=0;b<s.length;b+=3)_.x=s[b+0],_.y=s[b+1],_.z=s[b+2],_.normalize().multiplyScalar(y),s[b+0]=_.x,s[b+1]=_.y,s[b+2]=_.z}function f(){const y=new ce;for(let _=0;_<s.length;_+=3){y.x=s[_+0],y.y=s[_+1],y.z=s[_+2];const b=m(y)/2/Math.PI+.5,w=p(y)/Math.PI+.5;o.push(b,1-w)}v(),d()}function d(){for(let y=0;y<o.length;y+=6){const _=o[y+0],b=o[y+2],w=o[y+4],E=Math.max(_,b,w),A=Math.min(_,b,w);E>.9&&A<.1&&(_<.2&&(o[y+0]+=1),b<.2&&(o[y+2]+=1),w<.2&&(o[y+4]+=1))}}function h(y){s.push(y.x,y.y,y.z)}function g(y,_){const b=y*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function v(){const y=new ce,_=new ce,b=new ce,w=new ce,E=new He,A=new He,T=new He;for(let P=0,N=0;P<s.length;P+=9,N+=6){y.set(s[P+0],s[P+1],s[P+2]),_.set(s[P+3],s[P+4],s[P+5]),b.set(s[P+6],s[P+7],s[P+8]),E.set(o[N+0],o[N+1]),A.set(o[N+2],o[N+3]),T.set(o[N+4],o[N+5]),w.copy(y).add(_).add(b).divideScalar(3);const O=m(w);x(E,N+0,y,O),x(A,N+2,_,O),x(T,N+4,b,O)}}function x(y,_,b,w){w<0&&y.x===1&&(o[_]=y.x-1),b.x===0&&b.z===0&&(o[_]=w/2/Math.PI+.5)}function m(y){return Math.atan2(y.z,-y.x)}function p(y){return Math.atan2(-y.y,Math.sqrt(y.x*y.x+y.z*y.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ef(e.vertices,e.indices,e.radius,e.details)}}class qN extends Ef{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new qN(e.radius,e.detail)}}const JC=new ce,eE=new ce,XI=new ce,tE=new zs;class yye extends cn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Qh*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],f=["a","b","c"],d=new Array(3),h={},g=[];for(let v=0;v<l;v+=3){o?(c[0]=o.getX(v),c[1]=o.getX(v+1),c[2]=o.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:x,b:m,c:p}=tE;if(x.fromBufferAttribute(a,c[0]),m.fromBufferAttribute(a,c[1]),p.fromBufferAttribute(a,c[2]),tE.getNormal(XI),d[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,d[1]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,d[2]=`${Math.round(p.x*i)},${Math.round(p.y*i)},${Math.round(p.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let y=0;y<3;y++){const _=(y+1)%3,b=d[y],w=d[_],E=tE[f[y]],A=tE[f[_]],T=`${b}_${w}`,P=`${w}_${b}`;P in h&&h[P]?(XI.dot(h[P].normal)<=s&&(g.push(E.x,E.y,E.z),g.push(A.x,A.y,A.z)),h[P]=null):T in h||(h[T]={index0:c[y],index1:c[_],normal:XI.clone()})}}for(const v in h)if(h[v]){const{index0:x,index1:m}=h[v];JC.fromBufferAttribute(a,x),eE.fromBufferAttribute(a,m),g.push(JC.x,JC.y,JC.z),g.push(eE.x,eE.y,eE.z)}this.setAttribute("position",new At(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class vl{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const f=r[i],h=r[i+1]-f,g=(o-f)/h;return(i+g)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new He:new ce);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new ce,i=[],s=[],o=[],a=new ce,l=new Qt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new ce)}s[0]=new ce,o[0]=new ce;let c=Number.MAX_VALUE;const f=Math.abs(i[0].x),d=Math.abs(i[0].y),h=Math.abs(i[0].z);f<=c&&(c=f,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),h<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let g=1;g<=e;g++){if(s[g]=s[g-1].clone(),o[g]=o[g-1].clone(),a.crossVectors(i[g-1],i[g]),a.length()>Number.EPSILON){a.normalize();const v=Math.acos(Xt(i[g-1].dot(i[g]),-1,1));s[g].applyMatrix4(l.makeRotationAxis(a,v))}o[g].crossVectors(i[g],s[g])}if(n===!0){let g=Math.acos(Xt(s[0].dot(s[e]),-1,1));g/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(g=-g);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),o[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class KN extends vl{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n=new He){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const f=Math.cos(this.aRotation),d=Math.sin(this.aRotation),h=l-this.aX,g=c-this.aY;l=h*f-g*d+this.aX,c=h*d+g*f+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class xye extends KN{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function Cz(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,f,d){let h=(o-s)/c-(a-s)/(c+f)+(a-o)/f,g=(a-o)/f-(l-o)/(f+d)+(l-a)/d;h*=f,g*=f,i(o,a,h,g)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const nE=new ce,YI=new Cz,ZI=new Cz,QI=new Cz;class _ye extends vl{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ce){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,f;this.closed||a>0?c=i[(a-1)%s]:(nE.subVectors(i[0],i[1]).add(i[0]),c=nE);const d=i[a%s],h=i[(a+1)%s];if(this.closed||a+2<s?f=i[(a+2)%s]:(nE.subVectors(i[s-1],i[s-2]).add(i[s-1]),f=nE),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(d),g),x=Math.pow(d.distanceToSquared(h),g),m=Math.pow(h.distanceToSquared(f),g);x<1e-4&&(x=1),v<1e-4&&(v=x),m<1e-4&&(m=x),YI.initNonuniformCatmullRom(c.x,d.x,h.x,f.x,v,x,m),ZI.initNonuniformCatmullRom(c.y,d.y,h.y,f.y,v,x,m),QI.initNonuniformCatmullRom(c.z,d.z,h.z,f.z,v,x,m)}else this.curveType==="catmullrom"&&(YI.initCatmullRom(c.x,d.x,h.x,f.x,this.tension),ZI.initCatmullRom(c.y,d.y,h.y,f.y,this.tension),QI.initCatmullRom(c.z,d.z,h.z,f.z,this.tension));return r.set(YI.calc(l),ZI.calc(l),QI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function mY(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function A0t(t,e){const n=1-t;return n*n*e}function T0t(t,e){return 2*(1-t)*t*e}function P0t(t,e){return t*t*e}function A_(t,e,n,r){return A0t(t,e)+T0t(t,n)+P0t(t,r)}function N0t(t,e){const n=1-t;return n*n*n*e}function R0t(t,e){const n=1-t;return 3*n*n*t*e}function k0t(t,e){return 3*(1-t)*t*t*e}function O0t(t,e){return t*t*t*e}function T_(t,e,n,r,i){return N0t(t,e)+R0t(t,n)+k0t(t,r)+O0t(t,i)}class Ez extends vl{constructor(e=new He,n=new He,r=new He,i=new He){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new He){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(T_(e,i.x,s.x,o.x,a.x),T_(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class bye extends vl{constructor(e=new ce,n=new ce,r=new ce,i=new ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ce){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(T_(e,i.x,s.x,o.x,a.x),T_(e,i.y,s.y,o.y,a.y),T_(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class Mz extends vl{constructor(e=new He,n=new He){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new He){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new He){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wye extends vl{constructor(e=new ce,n=new ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ce){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ce){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Az extends vl{constructor(e=new He,n=new He,r=new He){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new He){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(A_(e,i.x,s.x,o.x),A_(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Tz extends vl{constructor(e=new ce,n=new ce,r=new ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ce){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(A_(e,i.x,s.x,o.x),A_(e,i.y,s.y,o.y),A_(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Pz extends vl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new He){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],f=i[o>i.length-2?i.length-1:o+1],d=i[o>i.length-3?i.length-1:o+2];return r.set(mY(a,l.x,c.x,f.x,d.x),mY(a,l.y,c.y,f.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new He().fromArray(i))}return this}}var aP=Object.freeze({__proto__:null,ArcCurve:xye,CatmullRomCurve3:_ye,CubicBezierCurve:Ez,CubicBezierCurve3:bye,EllipseCurve:KN,LineCurve:Mz,LineCurve3:wye,QuadraticBezierCurve:Az,QuadraticBezierCurve3:Tz,SplineCurve:Pz});class Sye extends vl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new aP[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const f=l[c];r&&r.equals(f)||(n.push(f),r=f)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new aP[i.type]().fromJSON(i))}return this}}class lP extends Sye{constructor(e){super(),this.type="Path",this.currentPoint=new He,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new Mz(this.currentPoint.clone(),new He(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new Az(this.currentPoint.clone(),new He(e,n),new He(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new Ez(this.currentPoint.clone(),new He(e,n),new He(r,i),new He(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new Pz(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,f=this.currentPoint.y;return this.absellipse(e+c,n+f,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new KN(e,n,r,i,s,o,a,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const f=c.getPoint(1);return this.currentPoint.copy(f),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class ep extends lP{constructor(e){super(e),this.uuid=Ao(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new lP().fromJSON(i))}return this}}function I0t(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Cye(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c;if(r&&(s=B0t(t,e,s,n)),t.length>80*n){a=1/0,l=1/0;let f=-1/0,d=-1/0;for(let h=n;h<i;h+=n){const g=t[h],v=t[h+1];g<a&&(a=g),v<l&&(l=v),g>f&&(f=g),v>d&&(d=v)}c=Math.max(f-a,d-l),c=c!==0?32767/c:0}return uw(s,o,n,a,l,c,0),o}function Cye(t,e,n,r,i){let s;if(i===Y0t(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=gY(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=gY(o/r|0,t[o],t[o+1],s);return s&&Ey(s,s.next)&&(fw(s),s=s.next),s}function Np(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Ey(n,n.next)||Pr(n.prev,n,n.next)===0)){if(fw(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function uw(t,e,n,r,i,s,o){if(!t)return;!o&&s&&V0t(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?D0t(t,r,i,s):j0t(t)){e.push(l.i,t.i,c.i),fw(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=L0t(Np(t),e),uw(t,e,n,r,i,s,2)):o===2&&F0t(t,e,n,r,i,s):uw(Np(t),e,n,r,i,s,1);break}}}function j0t(t){const e=t.prev,n=t,r=t.next;if(Pr(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,f=Math.min(i,s,o),d=Math.min(a,l,c),h=Math.max(i,s,o),g=Math.max(a,l,c);let v=r.next;for(;v!==e;){if(v.x>=f&&v.x<=h&&v.y>=d&&v.y<=g&&K0(i,a,s,l,o,c,v.x,v.y)&&Pr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function D0t(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Pr(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,f=i.y,d=s.y,h=o.y,g=Math.min(a,l,c),v=Math.min(f,d,h),x=Math.max(a,l,c),m=Math.max(f,d,h),p=LF(g,v,e,n,r),y=LF(x,m,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=p&&b&&b.z<=y;){if(_.x>=g&&_.x<=x&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&K0(a,f,l,d,c,h,_.x,_.y)&&Pr(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=g&&b.x<=x&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&K0(a,f,l,d,c,h,b.x,b.y)&&Pr(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=p;){if(_.x>=g&&_.x<=x&&_.y>=v&&_.y<=m&&_!==i&&_!==o&&K0(a,f,l,d,c,h,_.x,_.y)&&Pr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=y;){if(b.x>=g&&b.x<=x&&b.y>=v&&b.y<=m&&b!==i&&b!==o&&K0(a,f,l,d,c,h,b.x,b.y)&&Pr(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function L0t(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Ey(r,i)&&Mye(r,n,n.next,i)&&dw(r,i)&&dw(i,r)&&(e.push(r.i,n.i,i.i),fw(n),fw(n.next),n=t=i),n=n.next}while(n!==t);return Np(n)}function F0t(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&q0t(o,a)){let l=Aye(o,a);o=Np(o,o.next),l=Np(l,l.next),uw(o,e,n,r,i,s,0),uw(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function B0t(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=Cye(t,a,l,r,!1);c===c.next&&(c.steiner=!0),i.push(G0t(c))}i.sort(U0t);for(let s=0;s<i.length;s++)n=$0t(i[s],n);return n}function U0t(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function $0t(t,e){const n=z0t(t,e);if(!n)return e;const r=Aye(n,t);return Np(r,r.next),Np(n,n.next)}function z0t(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(Ey(t,n))return n;do{if(Ey(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>s&&(s=d,o=n.x<n.next.x?n:n.next,d===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,c=o.y;let f=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Eye(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);dw(n,t)&&(d<f||d===f&&(n.x>o.x||n.x===o.x&&H0t(o,n)))&&(o=n,f=d)}n=n.next}while(n!==a);return o}function H0t(t,e){return Pr(t.prev,t,e.prev)<0&&Pr(e.next,t,t.next)<0}function V0t(t,e,n,r){let i=t;do i.z===0&&(i.z=LF(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,W0t(i)}function W0t(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let c=0;c<n&&(a++,o=o.nextZ,!!o);c++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function LF(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function G0t(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Eye(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function K0(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&Eye(t,e,n,r,i,s,o,a)}function q0t(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!K0t(t,e)&&(dw(t,e)&&dw(e,t)&&X0t(t,e)&&(Pr(t.prev,t,e.prev)||Pr(t,e.prev,e))||Ey(t,e)&&Pr(t.prev,t,t.next)>0&&Pr(e.prev,e,e.next)>0)}function Pr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ey(t,e){return t.x===e.x&&t.y===e.y}function Mye(t,e,n,r){const i=iE(Pr(t,e,n)),s=iE(Pr(t,e,r)),o=iE(Pr(n,r,t)),a=iE(Pr(n,r,e));return!!(i!==s&&o!==a||i===0&&rE(t,n,e)||s===0&&rE(t,r,e)||o===0&&rE(n,t,r)||a===0&&rE(n,e,r))}function rE(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function iE(t){return t>0?1:t<0?-1:0}function K0t(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Mye(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function dw(t,e){return Pr(t.prev,t,t.next)<0?Pr(t,e,t.next)>=0&&Pr(t,t.prev,e)>=0:Pr(t,e,t.prev)<0||Pr(t,t.next,e)<0}function X0t(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Aye(t,e){const n=FF(t.i,t.x,t.y),r=FF(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function gY(t,e,n,r){const i=FF(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function fw(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function FF(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function Y0t(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Z0t{static triangulate(e,n,r=2){return I0t(e,n,r)}}class Ya{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Ya.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];vY(e),yY(r,e);let o=e.length;n.forEach(vY);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,yY(r,n[l]);const a=Z0t.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function vY(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function yY(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class XN extends cn{constructor(e=new ep([new He(.5,.5),new He(-.5,.5),new He(-.5,-.5),new He(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new At(i,3)),this.setAttribute("uv",new At(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,f=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:g-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,m=n.bevelSegments!==void 0?n.bevelSegments:3;const p=n.extrudePath,y=n.UVGenerator!==void 0?n.UVGenerator:Q0t;let _,b=!1,w,E,A,T;p&&(_=p.getSpacedPoints(f),b=!0,h=!1,w=p.computeFrenetFrames(f,!1),E=new ce,A=new ce,T=new ce),h||(m=0,g=0,v=0,x=0);const P=a.extractPoints(c);let N=P.shape;const O=P.holes;if(!Ya.isClockWise(N)){N=N.reverse();for(let se=0,re=O.length;se<re;se++){const me=O[se];Ya.isClockWise(me)&&(O[se]=me.reverse())}}function D(se){const me=10000000000000001e-36;let he=se[0];for(let Ae=1;Ae<=se.length;Ae++){const Se=Ae%se.length,Re=se[Se],ot=Re.x-he.x,rt=Re.y-he.y,oe=ot*ot+rt*rt,Z=Math.max(Math.abs(Re.x),Math.abs(Re.y),Math.abs(he.x),Math.abs(he.y)),ve=me*Z*Z;if(oe<=ve){se.splice(Se,1),Ae--;continue}he=Re}}D(N),O.forEach(D);const F=O.length,$=N;for(let se=0;se<F;se++){const re=O[se];N=N.concat(re)}function z(se,re,me){return re||console.error("THREE.ExtrudeGeometry: vec does not exist"),se.clone().addScaledVector(re,me)}const H=N.length;function R(se,re,me){let he,Ae,Se;const Re=se.x-re.x,ot=se.y-re.y,rt=me.x-se.x,oe=me.y-se.y,Z=Re*Re+ot*ot,ve=Re*oe-ot*rt;if(Math.abs(ve)>Number.EPSILON){const Ee=Math.sqrt(Z),je=Math.sqrt(rt*rt+oe*oe),Te=re.x-ot/Ee,ct=re.y+Re/Ee,We=me.x-oe/je,lt=me.y+rt/je,Ye=((We-Te)*oe-(lt-ct)*rt)/(Re*oe-ot*rt);he=Te+Re*Ye-se.x,Ae=ct+ot*Ye-se.y;const Ve=he*he+Ae*Ae;if(Ve<=2)return new He(he,Ae);Se=Math.sqrt(Ve/2)}else{let Ee=!1;Re>Number.EPSILON?rt>Number.EPSILON&&(Ee=!0):Re<-Number.EPSILON?rt<-Number.EPSILON&&(Ee=!0):Math.sign(ot)===Math.sign(oe)&&(Ee=!0),Ee?(he=-ot,Ae=Re,Se=Math.sqrt(Z)):(he=Re,Ae=ot,Se=Math.sqrt(Z/2))}return new He(he/Se,Ae/Se)}const j=[];for(let se=0,re=$.length,me=re-1,he=se+1;se<re;se++,me++,he++)me===re&&(me=0),he===re&&(he=0),j[se]=R($[se],$[me],$[he]);const B=[];let W,G=j.concat();for(let se=0,re=F;se<re;se++){const me=O[se];W=[];for(let he=0,Ae=me.length,Se=Ae-1,Re=he+1;he<Ae;he++,Se++,Re++)Se===Ae&&(Se=0),Re===Ae&&(Re=0),W[he]=R(me[he],me[Se],me[Re]);B.push(W),G=G.concat(W)}let K;if(m===0)K=Ya.triangulateShape($,O);else{const se=[],re=[];for(let me=0;me<m;me++){const he=me/m,Ae=g*Math.cos(he*Math.PI/2),Se=v*Math.sin(he*Math.PI/2)+x;for(let Re=0,ot=$.length;Re<ot;Re++){const rt=z($[Re],j[Re],Se);Q(rt.x,rt.y,-Ae),he===0&&se.push(rt)}for(let Re=0,ot=F;Re<ot;Re++){const rt=O[Re];W=B[Re];const oe=[];for(let Z=0,ve=rt.length;Z<ve;Z++){const Ee=z(rt[Z],W[Z],Se);Q(Ee.x,Ee.y,-Ae),he===0&&oe.push(Ee)}he===0&&re.push(oe)}}K=Ya.triangulateShape(se,re)}const ie=K.length,le=v+x;for(let se=0;se<H;se++){const re=h?z(N[se],G[se],le):N[se];b?(A.copy(w.normals[0]).multiplyScalar(re.x),E.copy(w.binormals[0]).multiplyScalar(re.y),T.copy(_[0]).add(A).add(E),Q(T.x,T.y,T.z)):Q(re.x,re.y,0)}for(let se=1;se<=f;se++)for(let re=0;re<H;re++){const me=h?z(N[re],G[re],le):N[re];b?(A.copy(w.normals[se]).multiplyScalar(me.x),E.copy(w.binormals[se]).multiplyScalar(me.y),T.copy(_[se]).add(A).add(E),Q(T.x,T.y,T.z)):Q(me.x,me.y,d/f*se)}for(let se=m-1;se>=0;se--){const re=se/m,me=g*Math.cos(re*Math.PI/2),he=v*Math.sin(re*Math.PI/2)+x;for(let Ae=0,Se=$.length;Ae<Se;Ae++){const Re=z($[Ae],j[Ae],he);Q(Re.x,Re.y,d+me)}for(let Ae=0,Se=O.length;Ae<Se;Ae++){const Re=O[Ae];W=B[Ae];for(let ot=0,rt=Re.length;ot<rt;ot++){const oe=z(Re[ot],W[ot],he);b?Q(oe.x,oe.y+_[f-1].y,_[f-1].x+me):Q(oe.x,oe.y,d+me)}}}J(),U();function J(){const se=i.length/3;if(h){let re=0,me=H*re;for(let he=0;he<ie;he++){const Ae=K[he];te(Ae[2]+me,Ae[1]+me,Ae[0]+me)}re=f+m*2,me=H*re;for(let he=0;he<ie;he++){const Ae=K[he];te(Ae[0]+me,Ae[1]+me,Ae[2]+me)}}else{for(let re=0;re<ie;re++){const me=K[re];te(me[2],me[1],me[0])}for(let re=0;re<ie;re++){const me=K[re];te(me[0]+H*f,me[1]+H*f,me[2]+H*f)}}r.addGroup(se,i.length/3-se,0)}function U(){const se=i.length/3;let re=0;X($,re),re+=$.length;for(let me=0,he=O.length;me<he;me++){const Ae=O[me];X(Ae,re),re+=Ae.length}r.addGroup(se,i.length/3-se,1)}function X(se,re){let me=se.length;for(;--me>=0;){const he=me;let Ae=me-1;Ae<0&&(Ae=se.length-1);for(let Se=0,Re=f+m*2;Se<Re;Se++){const ot=H*Se,rt=H*(Se+1),oe=re+he+ot,Z=re+Ae+ot,ve=re+Ae+rt,Ee=re+he+rt;ue(oe,Z,ve,Ee)}}}function Q(se,re,me){l.push(se),l.push(re),l.push(me)}function te(se,re,me){ee(se),ee(re),ee(me);const he=i.length/3,Ae=y.generateTopUV(r,i,he-3,he-2,he-1);Y(Ae[0]),Y(Ae[1]),Y(Ae[2])}function ue(se,re,me,he){ee(se),ee(re),ee(he),ee(re),ee(me),ee(he);const Ae=i.length/3,Se=y.generateSideWallUV(r,i,Ae-6,Ae-3,Ae-2,Ae-1);Y(Se[0]),Y(Se[1]),Y(Se[3]),Y(Se[1]),Y(Se[2]),Y(Se[3])}function ee(se){i.push(l[se*3+0]),i.push(l[se*3+1]),i.push(l[se*3+2])}function Y(se){s.push(se.x),s.push(se.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return J0t(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new aP[i.type]().fromJSON(i)),new XN(r,e.options)}}const Q0t={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],f=e[i*3+1];return[new He(s,o),new He(a,l),new He(c,f)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],f=e[r*3+1],d=e[r*3+2],h=e[i*3],g=e[i*3+1],v=e[i*3+2],x=e[s*3],m=e[s*3+1],p=e[s*3+2];return Math.abs(a-f)<Math.abs(o-c)?[new He(o,1-l),new He(c,1-d),new He(h,1-v),new He(x,1-p)]:[new He(a,1-l),new He(f,1-d),new He(g,1-v),new He(m,1-p)]}};function J0t(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class YN extends Ef{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new YN(e.radius,e.detail)}}class ZN extends cn{constructor(e=[new He(0,-.5),new He(.5,0),new He(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Xt(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],f=1/n,d=new ce,h=new He,g=new ce,v=new ce,x=new ce;let m=0,p=0;for(let y=0;y<=e.length-1;y++)switch(y){case 0:m=e[y+1].x-e[y].x,p=e[y+1].y-e[y].y,g.x=p*1,g.y=-m,g.z=p*0,x.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:m=e[y+1].x-e[y].x,p=e[y+1].y-e[y].y,g.x=p*1,g.y=-m,g.z=p*0,v.copy(g),g.x+=x.x,g.y+=x.y,g.z+=x.z,g.normalize(),l.push(g.x,g.y,g.z),x.copy(v)}for(let y=0;y<=n;y++){const _=r+y*f*i,b=Math.sin(_),w=Math.cos(_);for(let E=0;E<=e.length-1;E++){d.x=e[E].x*b,d.y=e[E].y,d.z=e[E].x*w,o.push(d.x,d.y,d.z),h.x=y/n,h.y=E/(e.length-1),a.push(h.x,h.y);const A=l[3*E+0]*b,T=l[3*E+1],P=l[3*E+0]*w;c.push(A,T,P)}}for(let y=0;y<n;y++)for(let _=0;_<e.length-1;_++){const b=_+y*e.length,w=b,E=b+e.length,A=b+e.length+1,T=b+1;s.push(w,E,T),s.push(A,T,E)}this.setIndex(s),this.setAttribute("position",new At(o,3)),this.setAttribute("uv",new At(a,2)),this.setAttribute("normal",new At(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ZN(e.points,e.segments,e.phiStart,e.phiLength)}}class C1 extends Ef{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new C1(e.radius,e.detail)}}class hx extends cn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,f=l+1,d=e/a,h=n/l,g=[],v=[],x=[],m=[];for(let p=0;p<f;p++){const y=p*h-o;for(let _=0;_<c;_++){const b=_*d-s;v.push(b,-y,0),x.push(0,0,1),m.push(_/a),m.push(1-p/l)}}for(let p=0;p<l;p++)for(let y=0;y<a;y++){const _=y+c*p,b=y+c*(p+1),w=y+1+c*(p+1),E=y+1+c*p;g.push(_,b,E),g.push(b,w,E)}this.setIndex(g),this.setAttribute("position",new At(v,3)),this.setAttribute("normal",new At(x,3)),this.setAttribute("uv",new At(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hx(e.width,e.height,e.widthSegments,e.heightSegments)}}class QN extends cn{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],f=[];let d=e;const h=(n-e)/i,g=new ce,v=new He;for(let x=0;x<=i;x++){for(let m=0;m<=r;m++){const p=s+m/r*o;g.x=d*Math.cos(p),g.y=d*Math.sin(p),l.push(g.x,g.y,g.z),c.push(0,0,1),v.x=(g.x/n+1)/2,v.y=(g.y/n+1)/2,f.push(v.x,v.y)}d+=h}for(let x=0;x<i;x++){const m=x*(r+1);for(let p=0;p<r;p++){const y=p+m,_=y,b=y+r+1,w=y+r+2,E=y+1;a.push(_,b,E),a.push(b,w,E)}}this.setIndex(a),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QN(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class JN extends cn{constructor(e=new ep([new He(0,.5),new He(-.5,-.5),new He(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let f=0;f<e.length;f++)c(e[f]),this.addGroup(a,l,f),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new At(i,3)),this.setAttribute("normal",new At(s,3)),this.setAttribute("uv",new At(o,2));function c(f){const d=i.length/3,h=f.extractPoints(n);let g=h.shape;const v=h.holes;Ya.isClockWise(g)===!1&&(g=g.reverse());for(let m=0,p=v.length;m<p;m++){const y=v[m];Ya.isClockWise(y)===!0&&(v[m]=y.reverse())}const x=Ya.triangulateShape(g,v);for(let m=0,p=v.length;m<p;m++){const y=v[m];g=g.concat(y)}for(let m=0,p=g.length;m<p;m++){const y=g[m];i.push(y.x,y.y,0),s.push(0,0,1),o.push(y.x,y.y)}for(let m=0,p=x.length;m<p;m++){const y=x[m],_=y[0]+d,b=y[1]+d,w=y[2]+d;r.push(_,b,w),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return e_t(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new JN(r,e.curveSegments)}}function e_t(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class E1 extends cn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const f=[],d=new ce,h=new ce,g=[],v=[],x=[],m=[];for(let p=0;p<=r;p++){const y=[],_=p/r;let b=0;p===0&&o===0?b=.5/n:p===r&&l===Math.PI&&(b=-.5/n);for(let w=0;w<=n;w++){const E=w/n;d.x=-e*Math.cos(i+E*s)*Math.sin(o+_*a),d.y=e*Math.cos(o+_*a),d.z=e*Math.sin(i+E*s)*Math.sin(o+_*a),v.push(d.x,d.y,d.z),h.copy(d).normalize(),x.push(h.x,h.y,h.z),m.push(E+b,1-_),y.push(c++)}f.push(y)}for(let p=0;p<r;p++)for(let y=0;y<n;y++){const _=f[p][y+1],b=f[p][y],w=f[p+1][y],E=f[p+1][y+1];(p!==0||o>0)&&g.push(_,b,E),(p!==r-1||l<Math.PI)&&g.push(b,w,E)}this.setIndex(g),this.setAttribute("position",new At(v,3)),this.setAttribute("normal",new At(x,3)),this.setAttribute("uv",new At(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new E1(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class eR extends Ef{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new eR(e.radius,e.detail)}}class tR extends cn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],f=new ce,d=new ce,h=new ce;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const x=v/i*s,m=g/r*Math.PI*2;d.x=(e+n*Math.cos(m))*Math.cos(x),d.y=(e+n*Math.cos(m))*Math.sin(x),d.z=n*Math.sin(m),a.push(d.x,d.y,d.z),f.x=e*Math.cos(x),f.y=e*Math.sin(x),h.subVectors(d,f).normalize(),l.push(h.x,h.y,h.z),c.push(v/i),c.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const x=(i+1)*g+v-1,m=(i+1)*(g-1)+v-1,p=(i+1)*(g-1)+v,y=(i+1)*g+v;o.push(x,m,y),o.push(m,p,y)}this.setIndex(o),this.setAttribute("position",new At(a,3)),this.setAttribute("normal",new At(l,3)),this.setAttribute("uv",new At(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tR(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class nR extends cn{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],f=[],d=new ce,h=new ce,g=new ce,v=new ce,x=new ce,m=new ce,p=new ce;for(let _=0;_<=r;++_){const b=_/r*s*Math.PI*2;y(b,s,o,e,g),y(b+.01,s,o,e,v),m.subVectors(v,g),p.addVectors(v,g),x.crossVectors(m,p),p.crossVectors(x,m),x.normalize(),p.normalize();for(let w=0;w<=i;++w){const E=w/i*Math.PI*2,A=-n*Math.cos(E),T=n*Math.sin(E);d.x=g.x+(A*p.x+T*x.x),d.y=g.y+(A*p.y+T*x.y),d.z=g.z+(A*p.z+T*x.z),l.push(d.x,d.y,d.z),h.subVectors(d,g).normalize(),c.push(h.x,h.y,h.z),f.push(_/r),f.push(w/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const w=(i+1)*(_-1)+(b-1),E=(i+1)*_+(b-1),A=(i+1)*_+b,T=(i+1)*(_-1)+b;a.push(w,E,T),a.push(E,A,T)}this.setIndex(a),this.setAttribute("position",new At(l,3)),this.setAttribute("normal",new At(c,3)),this.setAttribute("uv",new At(f,2));function y(_,b,w,E,A){const T=Math.cos(_),P=Math.sin(_),N=w/b*_,O=Math.cos(N);A.x=E*(2+O)*.5*T,A.y=E*(2+O)*P*.5,A.z=E*Math.sin(N)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nR(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class rR extends cn{constructor(e=new Tz(new ce(-1,-1,0),new ce(-1,1,0),new ce(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new ce,l=new ce,c=new He;let f=new ce;const d=[],h=[],g=[],v=[];x(),this.setIndex(v),this.setAttribute("position",new At(d,3)),this.setAttribute("normal",new At(h,3)),this.setAttribute("uv",new At(g,2));function x(){for(let _=0;_<n;_++)m(_);m(s===!1?n:0),y(),p()}function m(_){f=e.getPointAt(_/n,f);const b=o.normals[_],w=o.binormals[_];for(let E=0;E<=i;E++){const A=E/i*Math.PI*2,T=Math.sin(A),P=-Math.cos(A);l.x=P*b.x+T*w.x,l.y=P*b.y+T*w.y,l.z=P*b.z+T*w.z,l.normalize(),h.push(l.x,l.y,l.z),a.x=f.x+r*l.x,a.y=f.y+r*l.y,a.z=f.z+r*l.z,d.push(a.x,a.y,a.z)}}function p(){for(let _=1;_<=n;_++)for(let b=1;b<=i;b++){const w=(i+1)*(_-1)+(b-1),E=(i+1)*_+(b-1),A=(i+1)*_+b,T=(i+1)*(_-1)+b;v.push(w,E,T),v.push(E,A,T)}}function y(){for(let _=0;_<=n;_++)for(let b=0;b<=i;b++)c.x=_/n,c.y=b/i,g.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rR(new aP[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Tye extends cn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ce,s=new ce;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,f=l.length;c<f;++c){const d=l[c],h=d.start,g=d.count;for(let v=h,x=h+g;v<x;v+=3)for(let m=0;m<3;m++){const p=a.getX(v+m),y=a.getX(v+(m+1)%3);i.fromBufferAttribute(o,p),s.fromBufferAttribute(o,y),xY(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const f=3*a+c,d=3*a+(c+1)%3;i.fromBufferAttribute(o,f),s.fromBufferAttribute(o,d),xY(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new At(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function xY(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var _Y=Object.freeze({__proto__:null,BoxGeometry:qp,CapsuleGeometry:WN,CircleGeometry:GN,ConeGeometry:S1,CylinderGeometry:w1,DodecahedronGeometry:qN,EdgesGeometry:yye,ExtrudeGeometry:XN,IcosahedronGeometry:YN,LatheGeometry:ZN,OctahedronGeometry:C1,PlaneGeometry:hx,PolyhedronGeometry:Ef,RingGeometry:QN,ShapeGeometry:JN,SphereGeometry:E1,TetrahedronGeometry:eR,TorusGeometry:tR,TorusKnotGeometry:nR,TubeGeometry:rR,WireframeGeometry:Tye});class Pye extends us{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new gt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Nye extends ma{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class Nz extends us{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new gt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sf,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ko,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Rye extends Nz{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new He(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Xt(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new gt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new gt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new gt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class kye extends us{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new gt(16777215),this.specular=new gt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sf,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ko,this.combine=y1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Oye extends us{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new gt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sf,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Iye extends us{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sf,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class jye extends us{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new gt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new gt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sf,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new ko,this.combine=y1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Rz extends us{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Wve,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class kz extends us{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class Dye extends us{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new gt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Sf,this.normalScale=new He(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Lye extends Ts{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Rh(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Fye(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bye(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function BF(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function Oz(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push(...o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function t_t(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],f=c.getValueSize(),d=[],h=[];for(let g=0;g<c.times.length;++g){const v=c.times[g]*i;if(!(v<n||v>=r)){d.push(c.times[g]);for(let x=0;x<f;++x)h.push(c.values[g*f+x])}}d.length!==0&&(c.times=Rh(d,c.times.constructor),c.values=Rh(h,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function n_t(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(p){return p.name===a.name&&p.ValueTypeName===l});if(c===void 0)continue;let f=0;const d=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=d/3);let h=0;const g=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=g/3);const v=a.times.length-1;let x;if(s<=a.times[0]){const p=f,y=d-f;x=a.values.slice(p,y)}else if(s>=a.times[v]){const p=v*d+f,y=p+d-f;x=a.values.slice(p,y)}else{const p=a.createInterpolant(),y=f,_=d-f;p.evaluate(s),x=p.resultBuffer.slice(y,_)}l==="quaternion"&&new as().fromArray(x).normalize().conjugate().toArray(x);const m=c.times.length;for(let p=0;p<m;++p){const y=p*g+h;if(l==="quaternion")as.multiplyQuaternionsFlat(c.values,y,x,0,c.values,y);else{const _=g-h*2;for(let b=0;b<_;++b)c.values[y+b]-=x[b]}}}return t.blendMode=dz,t}class r_t{static convertArray(e,n){return Rh(e,n)}static isTypedArray(e){return Fye(e)}static getKeyframeOrder(e){return Bye(e)}static sortedArray(e,n,r){return BF(e,n,r)}static flattenJSON(e,n,r,i){Oz(e,n,r,i)}static subclip(e,n,r,i,s=30){return t_t(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return n_t(e,n,r,i)}}class M1{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Uye extends M1{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Ph,endingEnd:Ph}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Nh:s=e,a=2*n-r;break;case sw:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Nh:o=e,l=2*r-n;break;case sw:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,f=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*f,this._offsetNext=o*f}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=this._offsetPrev,d=this._offsetNext,h=this._weightPrev,g=this._weightNext,v=(r-n)/(i-n),x=v*v,m=x*v,p=-h*m+2*h*x-h*v,y=(1+h)*m+(-1.5-2*h)*x+(-.5+h)*v+1,_=(-1-g)*m+(1.5+g)*x+.5*v,b=g*m-g*x;for(let w=0;w!==a;++w)s[w]=p*o[f+w]+y*o[c+w]+_*o[l+w]+b*o[d+w];return s}}class Iz extends M1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,f=(r-n)/(i-n),d=1-f;for(let h=0;h!==a;++h)s[h]=o[c+h]*d+o[l+h]*f;return s}}class $ye extends M1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ba{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Rh(n,this.TimeBufferType),this.values=Rh(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Rh(e.times,Array),values:Rh(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new $ye(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Iz(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Uye(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case iw:n=this.InterpolantFactoryMethodDiscrete;break;case iP:n=this.InterpolantFactoryMethodLinear;break;case eM:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return iw;case this.InterpolantFactoryMethodLinear:return iP;case this.InterpolantFactoryMethodSmooth:return eM}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Fye(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===eM,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],f=e[a+1];if(c!==f&&(a!==1||c!==e[0]))if(i)l=!0;else{const d=a*r,h=d-r,g=d+r;for(let v=0;v!==r;++v){const x=n[d+v];if(x!==n[h+v]||x!==n[g+v]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const d=a*r,h=o*r;for(let g=0;g!==r;++g)n[h+g]=n[d+g]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ba.prototype.ValueTypeName="";ba.prototype.TimeBufferType=Float32Array;ba.prototype.ValueBufferType=Float32Array;ba.prototype.DefaultInterpolation=iP;class Kp extends ba{constructor(e,n,r){super(e,n,r)}}Kp.prototype.ValueTypeName="bool";Kp.prototype.ValueBufferType=Array;Kp.prototype.DefaultInterpolation=iw;Kp.prototype.InterpolantFactoryMethodLinear=void 0;Kp.prototype.InterpolantFactoryMethodSmooth=void 0;class jz extends ba{constructor(e,n,r,i){super(e,n,r,i)}}jz.prototype.ValueTypeName="color";class hw extends ba{constructor(e,n,r,i){super(e,n,r,i)}}hw.prototype.ValueTypeName="number";class zye extends M1{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let f=c+a;c!==f;c+=4)as.slerpFlat(s,0,o,c-a,o,c,l);return s}}class A1 extends ba{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new zye(this.times,this.values,this.getValueSize(),e)}}A1.prototype.ValueTypeName="quaternion";A1.prototype.InterpolantFactoryMethodSmooth=void 0;class Xp extends ba{constructor(e,n,r){super(e,n,r)}}Xp.prototype.ValueTypeName="string";Xp.prototype.ValueBufferType=Array;Xp.prototype.DefaultInterpolation=iw;Xp.prototype.InterpolantFactoryMethodLinear=void 0;Xp.prototype.InterpolantFactoryMethodSmooth=void 0;class pw extends ba{constructor(e,n,r,i){super(e,n,r,i)}}pw.prototype.ValueTypeName="vector";class mw{constructor(e="",n=-1,r=[],i=DN){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ao(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(s_t(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,o=r.length;s!==o;++s)n.push(ba.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const f=Bye(l);l=BF(l,1,f),c=BF(c,1,f),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new hw(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],f=c.name.match(s);if(f&&f.length>1){const d=f[1];let h=i[d];h||(i[d]=h=[]),h.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(d,h,g,v,x){if(g.length!==0){const m=[],p=[];Oz(g,m,p,v),m.length!==0&&x.push(new d(h,m,p))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const h=c[d].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const g={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let x=0;x<h[v].morphTargets.length;x++)g[h[v].morphTargets[x]]=-1;for(const x in g){const m=[],p=[];for(let y=0;y!==h[v].morphTargets.length;++y){const _=h[v];m.push(_.time),p.push(_.morphTarget===x?1:0)}i.push(new hw(".morphTargetInfluence["+x+"]",m,p))}l=g.length*o}else{const g=".bones["+n[d].name+"]";r(pw,g+".position",h,"pos",i),r(A1,g+".quaternion",h,"rot",i),r(pw,g+".scale",h,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function i_t(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hw;case"vector":case"vector2":case"vector3":case"vector4":return pw;case"color":return jz;case"quaternion":return A1;case"bool":case"boolean":return Kp;case"string":return Xp}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function s_t(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=i_t(t.type);if(t.times===void 0){const n=[],r=[];Oz(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const $l={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class Dz{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.abortController=new AbortController,this.itemStart=function(f){a++,s===!1&&i.onStart!==void 0&&i.onStart(f,o,a),s=!0},this.itemEnd=function(f){o++,i.onProgress!==void 0&&i.onProgress(f,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(f){i.onError!==void 0&&i.onError(f)},this.resolveURL=function(f){return l?l(f):f},this.setURLModifier=function(f){return l=f,this},this.addHandler=function(f,d){return c.push(f,d),this},this.removeHandler=function(f){const d=c.indexOf(f);return d!==-1&&c.splice(d,2),this},this.getHandler=function(f){for(let d=0,h=c.length;d<h;d+=2){const g=c[d],v=c[d+1];if(g.global&&(g.lastIndex=0),g.test(f))return v}return null},this.abort=function(){return this.abortController.abort(),this.abortController=new AbortController,this}}}const Hye=new Dz;class no{constructor(e){this.manager=e!==void 0?e:Hye,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}no.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ic={};class o_t extends Error{constructor(e,n){super(e),this.response=n}}class Cu extends no{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=$l.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(Ic[e]!==void 0){Ic[e].push({onLoad:n,onProgress:r,onError:i});return}Ic[e]=[],Ic[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=Ic[e],d=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),g=h?parseInt(h):0,v=g!==0;let x=0;const m=new ReadableStream({start(p){y();function y(){d.read().then(({done:_,value:b})=>{if(_)p.close();else{x+=b.byteLength;const w=new ProgressEvent("progress",{lengthComputable:v,loaded:x,total:g});for(let E=0,A=f.length;E<A;E++){const T=f[E];T.onProgress&&T.onProgress(w)}p.enqueue(b),y()}},_=>{p.error(_)})}}});return new Response(m)}else throw new o_t(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,a));case"json":return c.json();default:if(a==="")return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(a),h=d&&d[1]?d[1].toLowerCase():void 0,g=new TextDecoder(h);return c.arrayBuffer().then(v=>g.decode(v))}}}).then(c=>{$l.add(`file:${e}`,c);const f=Ic[e];delete Ic[e];for(let d=0,h=f.length;d<h;d++){const g=f[d];g.onLoad&&g.onLoad(c)}}).catch(c=>{const f=Ic[e];if(f===void 0)throw this.manager.itemError(e),c;delete Ic[e];for(let d=0,h=f.length;d<h;d++){const g=f[d];g.onError&&g.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class a_t extends no{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cu(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=mw.parse(e[r]);n.push(i)}return n}}class l_t extends no{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new VN,l=new Cu(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function f(d){l.load(e[d],function(h){const g=s.parse(h,!0);o[d]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},c+=1,c===6&&(g.mipmapCount===1&&(a.minFilter=pi),a.image=o,a.format=g.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let d=0,h=e.length;d<h;++d)f(d);else l.load(e,function(d){const h=s.parse(d,!0);if(h.isCubemap){const g=h.mipmaps.length/h.mipmapCount;for(let v=0;v<g;v++){o[v]={mipmaps:[]};for(let x=0;x<h.mipmapCount;x++)o[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+x]),o[v].format=h.format,o[v].width=h.width,o[v].height=h.height}a.image=o}else a.image.width=h.width,a.image.height=h.height,a.mipmaps=h.mipmaps;h.mipmapCount===1&&(a.minFilter=pi),a.format=h.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}const qm=new WeakMap;class gw extends no{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$l.get(`image:${e}`);if(o!==void 0){if(o.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0);else{let d=qm.get(o);d===void 0&&(d=[],qm.set(o,d)),d.push({onLoad:n,onError:i})}return o}const a=lw("img");function l(){f(),n&&n(this);const d=qm.get(this)||[];for(let h=0;h<d.length;h++){const g=d[h];g.onLoad&&g.onLoad(this)}qm.delete(this),s.manager.itemEnd(e)}function c(d){f(),i&&i(d),$l.remove(`image:${e}`);const h=qm.get(this)||[];for(let g=0;g<h.length;g++){const v=h[g];v.onError&&v.onError(d)}qm.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function f(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),$l.add(`image:${e}`,a),s.manager.itemStart(e),a.src=e,a}}class c_t extends no{constructor(e){super(e)}load(e,n,r,i){const s=new b1;s.colorSpace=Bs;const o=new gw(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(f){s.images[c]=f,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class u_t extends no{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ql,a=new Cu(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(f){if(i!==void 0)i(f);else{console.error(f);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:la,o.wrapT=c.wrapT!==void 0?c.wrapT:la,o.magFilter=c.magFilter!==void 0?c.magFilter:pi,o.minFilter=c.minFilter!==void 0?c.minFilter:pi,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ul),c.mipmapCount===1&&(o.minFilter=pi),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class d_t extends no{constructor(e){super(e)}load(e,n,r,i){const s=new Ur,o=new gw(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Mf extends Nn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new gt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Vye extends Mf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new gt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const JI=new Qt,bY=new ce,wY=new ce;class Lz{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new He(512,512),this.mapType=pa,this.map=null,this.mapPass=null,this.matrix=new Qt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fx,this._frameExtents=new He(1,1),this._viewportCount=1,this._viewports=[new Tn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;bY.setFromMatrixPosition(e.matrixWorld),n.position.copy(bY),wY.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(wY),n.updateMatrixWorld(),JI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JI,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(JI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class f_t extends Lz{constructor(){super(new Mr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=wy*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Wye extends Mf{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new f_t}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const SY=new Qt,M0=new ce,ej=new ce;class h_t extends Lz{constructor(){super(new Mr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new He(4,2),this._viewportCount=6,this._viewports=[new Tn(2,1,1,1),new Tn(0,1,1,1),new Tn(3,1,1,1),new Tn(1,1,1,1),new Tn(3,0,1,1),new Tn(1,0,1,1)],this._cubeDirections=[new ce(1,0,0),new ce(-1,0,0),new ce(0,0,1),new ce(0,0,-1),new ce(0,1,0),new ce(0,-1,0)],this._cubeUps=[new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,1,0),new ce(0,0,1),new ce(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),M0.setFromMatrixPosition(e.matrixWorld),r.position.copy(M0),ej.copy(r.position),ej.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(ej),r.updateMatrixWorld(),i.makeTranslation(-M0.x,-M0.y,-M0.z),SY.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SY,r.coordinateSystem,r.reversedDepth)}}class Gye extends Mf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new h_t}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Jl extends _1{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=f*this.view.offsetY,l=a-f*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class p_t extends Lz{constructor(){super(new Jl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class qye extends Mf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Nn.DEFAULT_UP),this.updateMatrix(),this.target=new Nn,this.shadow=new p_t}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Kye extends Mf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Xye extends Mf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Yye{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ce)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Zye extends Mf{constructor(e=new Yye,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class iR extends no{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Cu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new gt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new gt().setHex(o.value);break;case"v2":i.uniforms[s].value=new He().fromArray(o.value);break;case"v3":i.uniforms[s].value=new ce().fromArray(o.value);break;case"v4":i.uniforms[s].value=new Tn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new on().fromArray(o.value);break;case"m4":i.uniforms[s].value=new Qt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new He().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new He().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return iR.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:Pye,SpriteMaterial:xz,RawShaderMaterial:Nye,ShaderMaterial:ma,PointsMaterial:bz,MeshPhysicalMaterial:Rye,MeshStandardMaterial:Nz,MeshPhongMaterial:kye,MeshToonMaterial:Oye,MeshNormalMaterial:Iye,MeshLambertMaterial:jye,MeshDepthMaterial:Rz,MeshDistanceMaterial:kz,MeshBasicMaterial:Cf,MeshMatcapMaterial:Dye,LineDashedMaterial:Lye,LineBasicMaterial:Ts,Material:us};return new n[e]}}class UF{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Qye extends cn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Jye extends no{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cu(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,v){if(n[v]!==void 0)return n[v];const m=g.interleavedBuffers[v],p=s(g,m.buffer),y=Rg(m.type,p),_=new $N(y,m.stride);return _.uuid=m.uuid,n[v]=_,_}function s(g,v){if(r[v]!==void 0)return r[v];const m=g.arrayBuffers[v],p=new Uint32Array(m).buffer;return r[v]=p,p}const o=e.isInstancedBufferGeometry?new Qye:new cn,a=e.data.index;if(a!==void 0){const g=Rg(a.type,a.array);o.setIndex(new Jn(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let x;if(v.isInterleavedBufferAttribute){const m=i(e.data,v.data);x=new Pp(m,v.itemSize,v.offset,v.normalized)}else{const m=Rg(v.type,v.array),p=v.isInstancedBufferAttribute?Cy:Jn;x=new p(m,v.itemSize,v.normalized)}v.name!==void 0&&(x.name=v.name),v.usage!==void 0&&x.setUsage(v.usage),o.setAttribute(g,x)}const c=e.data.morphAttributes;if(c)for(const g in c){const v=c[g],x=[];for(let m=0,p=v.length;m<p;m++){const y=v[m];let _;if(y.isInterleavedBufferAttribute){const b=i(e.data,y.data);_=new Pp(b,y.itemSize,y.offset,y.normalized)}else{const b=Rg(y.type,y.array);_=new Jn(b,y.itemSize,y.normalized)}y.name!==void 0&&(_.name=y.name),x.push(_)}o.morphAttributes[g]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let g=0,v=d.length;g!==v;++g){const x=d[g];o.addGroup(x.start,x.count,x.materialIndex)}const h=e.data.boundingSphere;return h!==void 0&&(o.boundingSphere=new Fi().fromJSON(h)),e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class m_t extends no{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?UF.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Cu(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),console.error("THREE:ObjectLoader: Can't parse "+e+".",d.message);return}const f=c.metadata;if(f===void 0||f.type===void 0||f.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?UF.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Cu(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),f=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,f),this.bindLightTargets(c),n!==void 0){let d=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ep().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new zN().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Jye;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in _Y?a=_Y[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new iR;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=mw.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,f=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(f)}else return l.data?{data:Rg(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new Dz(n);s=new gw(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,f=e.length;c<f;c++){const d=e[c],h=d.url;if(Array.isArray(h)){const g=[];for(let v=0,x=h.length;v<x;v++){const m=h[v],p=a(m);p!==null&&(p instanceof HTMLImageElement?g.push(p):g.push(new Ql(p.data,p.width,p.height)))}i[d.uuid]=new jd(g)}else{const g=a(d.url);i[d.uuid]=new jd(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Rg(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new gw(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const f=[];for(let d=0,h=c.length;d<h;d++){const g=c[d],v=await s(g);v!==null&&(v instanceof HTMLImageElement?f.push(v):f.push(new Ql(v.data,v.width,v.height)))}r[l.uuid]=new jd(f)}else{const f=await s(l.url);r[l.uuid]=new jd(f)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let f;Array.isArray(c)?(f=new b1,c.length===6&&(f.needsUpdate=!0)):(c&&c.data?f=new Ql:f=new Ur,c&&(f.needsUpdate=!0)),f.source=l,f.uuid=a.uuid,a.name!==void 0&&(f.name=a.name),a.mapping!==void 0&&(f.mapping=r(a.mapping,g_t)),a.channel!==void 0&&(f.channel=a.channel),a.offset!==void 0&&f.offset.fromArray(a.offset),a.repeat!==void 0&&f.repeat.fromArray(a.repeat),a.center!==void 0&&f.center.fromArray(a.center),a.rotation!==void 0&&(f.rotation=a.rotation),a.wrap!==void 0&&(f.wrapS=r(a.wrap[0],CY),f.wrapT=r(a.wrap[1],CY)),a.format!==void 0&&(f.format=a.format),a.internalFormat!==void 0&&(f.internalFormat=a.internalFormat),a.type!==void 0&&(f.type=a.type),a.colorSpace!==void 0&&(f.colorSpace=a.colorSpace),a.minFilter!==void 0&&(f.minFilter=r(a.minFilter,EY)),a.magFilter!==void 0&&(f.magFilter=r(a.magFilter,EY)),a.anisotropy!==void 0&&(f.anisotropy=a.anisotropy),a.flipY!==void 0&&(f.flipY=a.flipY),a.generateMipmaps!==void 0&&(f.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(f.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(f.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(f.compareFunction=a.compareFunction),a.userData!==void 0&&(f.userData=a.userData),i[a.uuid]=f}return i}parseObject(e,n,r,i,s){let o;function a(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const g=[];for(let v=0,x=h.length;v<x;v++){const m=h[v];r[m]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",m),g.push(r[m])}return g}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function c(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let f,d;switch(e.type){case"Scene":o=new yz,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new gt(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new UN(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new BN(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new Mr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Jl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new Kye(e.color,e.intensity);break;case"DirectionalLight":o=new qye(e.color,e.intensity),o.target=e.target||"";break;case"PointLight":o=new Gye(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Xye(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Wye(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),o.target=e.target||"";break;case"HemisphereLight":o=new Vye(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Zye().fromJSON(e);break;case"SkinnedMesh":f=a(e.geometry),d=l(e.material),o=new fye(f,d),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":f=a(e.geometry),d=l(e.material),o=new ri(f,d);break;case"InstancedMesh":f=a(e.geometry),d=l(e.material);const h=e.count,g=e.instanceMatrix,v=e.instanceColor;o=new hye(f,d,h),o.instanceMatrix=new Cy(new Float32Array(g.array),16),v!==void 0&&(o.instanceColor=new Cy(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":f=a(e.geometry),d=l(e.material),o=new pye(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),o.geometry=f,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._geometryInfo=e.geometryInfo.map(x=>{let m=null,p=null;return x.boundingBox!==void 0&&(m=new ls().fromJSON(x.boundingBox)),x.boundingSphere!==void 0&&(p=new Fi().fromJSON(x.boundingSphere)),{...x,boundingBox:m,boundingSphere:p}}),o._instanceInfo=e.instanceInfo,o._availableInstanceIds=e._availableInstanceIds,o._availableGeometryIds=e._availableGeometryIds,o._nextIndexStart=e.nextIndexStart,o._nextVertexStart=e.nextVertexStart,o._geometryCount=e.geometryCount,o._maxInstanceCount=e.maxInstanceCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._matricesTexture=c(e.matricesTexture.uuid),o._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(o.boundingSphere=new Fi().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(o.boundingBox=new ls().fromJSON(e.boundingBox));break;case"LOD":o=new dye;break;case"Line":o=new of(a(e.geometry),l(e.material));break;case"LineLoop":o=new mye(a(e.geometry),l(e.material));break;case"LineSegments":o=new vc(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new gye(a(e.geometry),l(e.material));break;case"Sprite":o=new uye(l(e.material));break;case"Group":o=new kg;break;case"Bone":o=new _z;break;default:o=new Nn}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(o.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let g=0;g<h.length;g++)o.add(this.parseObject(h[g],n,r,i,s))}if(e.animations!==void 0){const h=e.animations;for(let g=0;g<h.length;g++){const v=h[g];o.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let g=0;g<h.length;g++){const v=h[g],x=o.getObjectByProperty("uuid",v.object);x!==void 0&&o.addLevel(x,v.distance,v.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Nn}})}}const g_t={UVMapping:PN,CubeReflectionMapping:wu,CubeRefractionMapping:sf,EquirectangularReflectionMapping:ew,EquirectangularRefractionMapping:tw,CubeUVReflectionMapping:ux},CY={RepeatWrapping:nw,ClampToEdgeWrapping:la,MirroredRepeatWrapping:rw},EY={NearestFilter:Li,NearestMipmapNearestFilter:rz,NearestMipmapLinearFilter:Ng,LinearFilter:pi,LinearMipmapNearestFilter:b_,LinearMipmapLinearFilter:Ul},tj=new WeakMap;class v_t extends no{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=$l.get(`image-bitmap:${e}`);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{if(tj.has(o)===!0)i&&i(tj.get(o)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader,a.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return $l.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),tj.set(l,c),$l.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});$l.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let sE;class Fz{static getContext(){return sE===void 0&&(sE=new(window.AudioContext||window.webkitAudioContext)),sE}static setContext(e){sE=e}}class y_t extends no{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Cu(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);Fz.getContext().decodeAudioData(c,function(d){n(d)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const MY=new Qt,AY=new Qt,Yf=new Qt;class x_t{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Mr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Mr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Yf.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Qh*n.fov*.5)/n.zoom;let a,l;AY.elements[12]=-i,MY.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,Yf.elements[0]=2*n.near/(l-a),Yf.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Yf),a=-o*n.aspect-s,l=o*n.aspect-s,Yf.elements[0]=2*n.near/(l-a),Yf.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Yf)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(AY),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(MY)}}class exe extends Mr{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class Bz{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const Zf=new ce,nj=new as,__t=new ce,Qf=new ce,Jf=new ce;class b_t extends Nn{constructor(){super(),this.type="AudioListener",this.context=Fz.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Bz}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Zf,nj,__t),Qf.set(0,0,-1).applyQuaternion(nj),Jf.set(0,1,0).applyQuaternion(nj),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Zf.x,r),n.positionY.linearRampToValueAtTime(Zf.y,r),n.positionZ.linearRampToValueAtTime(Zf.z,r),n.forwardX.linearRampToValueAtTime(Qf.x,r),n.forwardY.linearRampToValueAtTime(Qf.y,r),n.forwardZ.linearRampToValueAtTime(Qf.z,r),n.upX.linearRampToValueAtTime(Jf.x,r),n.upY.linearRampToValueAtTime(Jf.y,r),n.upZ.linearRampToValueAtTime(Jf.z,r)}else n.setPosition(Zf.x,Zf.y,Zf.z),n.setOrientation(Qf.x,Qf.y,Qf.z,Jf.x,Jf.y,Jf.z)}}class txe extends Nn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const eh=new ce,TY=new as,w_t=new ce,th=new ce;class S_t extends txe{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(eh,TY,w_t),th.set(0,0,1).applyQuaternion(TY);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(eh.x,r),n.positionY.linearRampToValueAtTime(eh.y,r),n.positionZ.linearRampToValueAtTime(eh.z,r),n.orientationX.linearRampToValueAtTime(th.x,r),n.orientationY.linearRampToValueAtTime(th.y,r),n.orientationZ.linearRampToValueAtTime(th.z,r)}else n.setPosition(eh.x,eh.y,eh.z),n.setOrientation(th.x,th.y,th.z)}}class C_t{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class nxe{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){as.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;as.multiplyQuaternionsFlat(e,o,e,n,e,r),as.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const Uz="\\[\\]\\.:\\/",E_t=new RegExp("["+Uz+"]","g"),$z="[^"+Uz+"]",M_t="[^"+Uz.replace("\\.","")+"]",A_t=/((?:WC+[\/:])*)/.source.replace("WC",$z),T_t=/(WCOD+)?/.source.replace("WCOD",M_t),P_t=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$z),N_t=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$z),R_t=new RegExp("^"+A_t+T_t+P_t+N_t+"$"),k_t=["material","materials","bones","map"];class O_t{constructor(e,n,r){const i=r||An.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class An{constructor(e,n,r){this.path=n,this.parsedPath=r||An.parseTrackName(n),this.node=An.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new An.Composite(e,n,r):new An(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(E_t,"")}static parseTrackName(e){const n=R_t.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);k_t.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=An.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}An.Composite=O_t;An.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};An.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};An.prototype.GetterByBindingType=[An.prototype._getValue_direct,An.prototype._getValue_array,An.prototype._getValue_arrayElement,An.prototype._getValue_toArray];An.prototype.SetterByBindingTypeAndVersioning=[[An.prototype._setValue_direct,An.prototype._setValue_direct_setNeedsUpdate,An.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[An.prototype._setValue_array,An.prototype._setValue_array_setNeedsUpdate,An.prototype._setValue_array_setMatrixWorldNeedsUpdate],[An.prototype._setValue_arrayElement,An.prototype._setValue_arrayElement_setNeedsUpdate,An.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[An.prototype._setValue_fromArray,An.prototype._setValue_fromArray_setNeedsUpdate,An.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class I_t{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ao(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let f=0,d=arguments.length;f!==d;++f){const h=arguments[f],g=h.uuid;let v=n[g];if(v===void 0){v=l++,n[g]=v,e.push(h);for(let x=0,m=o;x!==m;++x)s[x].push(new An(h,r[x],i[x]))}else if(v<c){a=e[v];const x=--c,m=e[x];n[m.uuid]=v,e[v]=m,n[g]=x,e[x]=h;for(let p=0,y=o;p!==y;++p){const _=s[p],b=_[x];let w=_[v];_[v]=b,w===void 0&&(w=new An(h,r[p],i[p])),_[x]=w}}else e[v]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,f=n[c];if(f!==void 0&&f>=s){const d=s++,h=e[d];n[h.uuid]=f,e[f]=h,n[c]=d,e[d]=l;for(let g=0,v=i;g!==v;++g){const x=r[g],m=x[d],p=x[f];x[f]=m,x[d]=p}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],f=c.uuid,d=n[f];if(d!==void 0)if(delete n[f],d<s){const h=--s,g=e[h],v=--o,x=e[v];n[g.uuid]=d,e[d]=g,n[x.uuid]=h,e[h]=x,e.pop();for(let m=0,p=i;m!==p;++m){const y=r[m],_=y[h],b=y[v];y[d]=_,y[h]=b,y.pop()}}else{const h=--o,g=e[h];h>0&&(n[g.uuid]=d),e[d]=g,e.pop();for(let v=0,x=i;v!==x;++v){const m=r[v];m[d]=m[h],m.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,f=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(d);for(let h=f,g=l.length;h!==g;++h){const v=l[h];d[h]=new An(v,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class rxe{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Ph,endingEnd:Ph};for(let c=0;c!==o;++c){const f=s[c].createInterpolant(null);a[c]=f,f.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Hve,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case dz:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),c[f].accumulateAdditive(a);break;case DN:default:for(let f=0,d=l.length;f!==d;++f)l[f].evaluate(o),c[f].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===Vve;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===zve){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Nh,i.endingEnd=Nh):(e?i.endingStart=this.zeroSlopeAtStart?Nh:Ph:i.endingStart=sw,n?i.endingEnd=this.zeroSlopeAtEnd?Nh:Ph:i.endingEnd=sw)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const j_t=new Float32Array(1);class D_t extends gc{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let f=c[l];f===void 0&&(f={},c[l]=f);for(let d=0;d!==s;++d){const h=i[d],g=h.name;let v=f[g];if(v!==void 0)++v.referenceCount,o[d]=v;else{if(v=o[d],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const x=n&&n._propertyBindings[d].binding.parsedPath;v=new nxe(An.create(r,g,x),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),o[d]=v}a[d].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],f=e._byClipCacheIndex;c._byClipCacheIndex=f,l[f]=c,l.pop(),e._byClipCacheIndex=null;const d=a.actionByRoot,h=(e._localRoot||this._root).uuid;delete d[h],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new Iz(new Float32Array(2),new Float32Array(2),1,j_t),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?mw.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=DN),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const f=new rxe(this,o,n,r);return this._bindAction(f,c),this._addInactiveAction(f,a,s),f}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?mw.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const f=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=f,n[f]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class L_t extends pz{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new FN(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class zz{constructor(e){this.value=e}clone(){return new zz(this.value.clone===void 0?this.value:this.value.clone())}}let F_t=0;class B_t extends gc{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:F_t++}),this.name="",this.usage=aw,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class U_t extends $N{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class $_t{constructor(e,n,r,i,s,o=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const PY=new Qt;class ixe{constructor(e,n,r=0,i=1/0){this.ray=new Gp(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Jh,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return PY.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(PY),this}intersectObject(e,n=!0,r=[]){return $F(e,this,r,n),r.sort(NY),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)$F(e[i],this,r,n);return r.sort(NY),r}}function NY(t,e){return t.distance-e.distance}function $F(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let o=0,a=s.length;o<a;o++)$F(s[o],e,n,!0)}}class z_t{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=H_t.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function H_t(){this._document.hidden===!1&&this.reset()}class zF{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Xt(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Xt(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class V_t{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class Hz{constructor(e,n,r,i){Hz.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const RY=new He;class W_t{constructor(e=new He(1/0,1/0),n=new He(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=RY.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,RY).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const kY=new ce,oE=new ce,Km=new ce,Xm=new ce,rj=new ce,G_t=new ce,q_t=new ce;class K_t{constructor(e=new ce,n=new ce){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){kY.subVectors(e,this.start),oE.subVectors(this.end,this.start);const r=oE.dot(oE);let s=oE.dot(kY)/r;return n&&(s=Xt(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=G_t,r=q_t){const i=10000000000000001e-32;let s,o;const a=this.start,l=e.start,c=this.end,f=e.end;Km.subVectors(c,a),Xm.subVectors(f,l),rj.subVectors(a,l);const d=Km.dot(Km),h=Xm.dot(Xm),g=Xm.dot(rj);if(d<=i&&h<=i)return n.copy(a),r.copy(l),n.sub(r),n.dot(n);if(d<=i)s=0,o=g/h,o=Xt(o,0,1);else{const v=Km.dot(rj);if(h<=i)o=0,s=Xt(-v/d,0,1);else{const x=Km.dot(Xm),m=d*h-x*x;m!==0?s=Xt((x*g-v*h)/m,0,1):s=0,o=(x*s+g)/h,o<0?(o=0,s=Xt(-v/d,0,1)):o>1&&(o=1,s=Xt((x-v)/d,0,1))}}return n.copy(a).add(Km.multiplyScalar(s)),r.copy(l).add(Xm.multiplyScalar(o)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const OY=new ce;class X_t extends Nn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new cn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,f=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(f),Math.sin(f),1)}r.setAttribute("position",new At(i,3));const s=new Ts({fog:!1,toneMapped:!1});this.cone=new vc(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),OY.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(OY),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const od=new ce,aE=new Qt,ij=new Qt;class Y_t extends vc{constructor(e){const n=sxe(e),r=new cn,i=[],s=[];for(let c=0;c<n.length;c++){const f=n[c];f.parent&&f.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new At(i,3)),r.setAttribute("color",new At(s,3));const o=new Ts({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,o),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const a=new gt(255),l=new gt(65280);this.setColors(a,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");ij.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(aE.multiplyMatrices(ij,a.matrixWorld),od.setFromMatrixPosition(aE),i.setXYZ(o,od.x,od.y,od.z),aE.multiplyMatrices(ij,a.parent.matrixWorld),od.setFromMatrixPosition(aE),i.setXYZ(o+1,od.x,od.y,od.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function sxe(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...sxe(t.children[n]));return e}class Z_t extends ri{constructor(e,n,r){const i=new E1(n,4,2),s=new Cf({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Q_t=new ce,IY=new gt,jY=new gt;class J_t extends Nn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new C1(n);i.rotateY(Math.PI*.5),this.material=new Cf({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Jn(o,3)),this.add(new ri(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");IY.copy(this.light.color),jY.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?IY:jY;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Q_t.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ebt extends vc{constructor(e=10,n=10,r=4473924,i=8947848){r=new gt(r),i=new gt(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let h=0,g=0,v=-a;h<=n;h++,v+=o){l.push(-a,0,v,a,0,v),l.push(v,0,-a,v,0,a);const x=h===s?r:i;x.toArray(c,g),g+=3,x.toArray(c,g),g+=3,x.toArray(c,g),g+=3,x.toArray(c,g),g+=3}const f=new cn;f.setAttribute("position",new At(l,3)),f.setAttribute("color",new At(c,3));const d=new Ts({vertexColors:!0,toneMapped:!1});super(f,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class tbt extends vc{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new gt(s),o=new gt(o);const a=[],l=[];if(n>1)for(let d=0;d<n;d++){const h=d/n*(Math.PI*2),g=Math.sin(h)*e,v=Math.cos(h)*e;a.push(0,0,0),a.push(g,0,v);const x=d&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let d=0;d<r;d++){const h=d&1?s:o,g=e-e/r*d;for(let v=0;v<i;v++){let x=v/i*(Math.PI*2),m=Math.sin(x)*g,p=Math.cos(x)*g;a.push(m,0,p),l.push(h.r,h.g,h.b),x=(v+1)/i*(Math.PI*2),m=Math.sin(x)*g,p=Math.cos(x)*g,a.push(m,0,p),l.push(h.r,h.g,h.b)}}const c=new cn;c.setAttribute("position",new At(a,3)),c.setAttribute("color",new At(l,3));const f=new Ts({vertexColors:!0,toneMapped:!1});super(c,f),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const DY=new ce,lE=new ce,LY=new ce;class nbt extends Nn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new cn;i.setAttribute("position",new At([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ts({fog:!1,toneMapped:!1});this.lightPlane=new of(i,s),this.add(this.lightPlane),i=new cn,i.setAttribute("position",new At([0,0,0,0,0,1],3)),this.targetLine=new of(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),DY.setFromMatrixPosition(this.light.matrixWorld),lE.setFromMatrixPosition(this.light.target.matrixWorld),LY.subVectors(lE,DY),this.lightPlane.lookAt(lE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(lE),this.targetLine.scale.z=LY.length()}}const cE=new ce,Ir=new _1;class rbt extends vc{constructor(e){const n=new cn,r=new Ts({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(v,x){l(v),l(x)}function l(v){i.push(0,0,0),s.push(0,0,0),o[v]===void 0&&(o[v]=[]),o[v].push(i.length/3-1)}n.setAttribute("position",new At(i,3)),n.setAttribute("color",new At(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new gt(16755200),f=new gt(16711680),d=new gt(43775),h=new gt(16777215),g=new gt(3355443);this.setColors(c,f,d,h,g)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");return a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,o;if(Ir.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,o=0;else if(this.camera.coordinateSystem===bo)s=-1,o=1;else if(this.camera.coordinateSystem===by)s=0,o=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);Hr("c",n,e,Ir,0,0,s),Hr("t",n,e,Ir,0,0,o),Hr("n1",n,e,Ir,-r,-i,s),Hr("n2",n,e,Ir,r,-i,s),Hr("n3",n,e,Ir,-r,i,s),Hr("n4",n,e,Ir,r,i,s),Hr("f1",n,e,Ir,-r,-i,o),Hr("f2",n,e,Ir,r,-i,o),Hr("f3",n,e,Ir,-r,i,o),Hr("f4",n,e,Ir,r,i,o),Hr("u1",n,e,Ir,r*.7,i*1.1,s),Hr("u2",n,e,Ir,-r*.7,i*1.1,s),Hr("u3",n,e,Ir,0,i*2,s),Hr("cf1",n,e,Ir,-r,0,o),Hr("cf2",n,e,Ir,r,0,o),Hr("cf3",n,e,Ir,0,-i,o),Hr("cf4",n,e,Ir,0,i,o),Hr("cn1",n,e,Ir,-r,0,s),Hr("cn2",n,e,Ir,r,0,s),Hr("cn3",n,e,Ir,0,-i,s),Hr("cn4",n,e,Ir,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Hr(t,e,n,r,i,s,o){cE.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,f=a.length;c<f;c++)l.setXYZ(a[c],cE.x,cE.y,cE.z)}}const uE=new ls;class ibt extends vc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new cn;s.setIndex(new Jn(r,1)),s.setAttribute("position",new Jn(i,3)),super(s,new Ts({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&uE.setFromObject(this.object),uE.isEmpty())return;const e=uE.min,n=uE.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class sbt extends vc{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new cn;s.setIndex(new Jn(r,1)),s.setAttribute("position",new At(i,3)),super(s,new Ts({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class obt extends of{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new cn;o.setAttribute("position",new At(s,3)),o.computeBoundingSphere(),super(o,new Ts({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new cn;l.setAttribute("position",new At(a,3)),l.computeBoundingSphere(),this.add(new ri(l,new Cf({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const FY=new ce;let dE,sj;class abt extends Nn{constructor(e=new ce(0,0,1),n=new ce(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",dE===void 0&&(dE=new cn,dE.setAttribute("position",new At([0,0,0,0,1,0],3)),sj=new S1(.5,1,5,1),sj.translate(0,-.5,0)),this.position.copy(n),this.line=new of(dE,new Ts({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new ri(sj,new Cf({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{FY.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(FY,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class lbt extends vc{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new cn;i.setAttribute("position",new At(n,3)),i.setAttribute("color",new At(r,3));const s=new Ts({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new gt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cbt{constructor(){this.type="ShapePath",this.color=new gt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new lP,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(p){const y=[];for(let _=0,b=p.length;_<b;_++){const w=p[_],E=new ep;E.curves=w.curves,y.push(E)}return y}function r(p,y){const _=y.length;let b=!1;for(let w=_-1,E=0;E<_;w=E++){let A=y[w],T=y[E],P=T.x-A.x,N=T.y-A.y;if(Math.abs(N)>Number.EPSILON){if(N<0&&(A=y[E],P=-P,T=y[w],N=-N),p.y<A.y||p.y>T.y)continue;if(p.y===A.y){if(p.x===A.x)return!0}else{const O=N*(p.x-A.x)-P*(p.y-A.y);if(O===0)return!0;if(O<0)continue;b=!b}}else{if(p.y!==A.y)continue;if(T.x<=p.x&&p.x<=A.x||A.x<=p.x&&p.x<=T.x)return!0}}return b}const i=Ya.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new ep,l.curves=a.curves,c.push(l),c;let f=!i(s[0].getPoints());f=e?!f:f;const d=[],h=[];let g=[],v=0,x;h[v]=void 0,g[v]=[];for(let p=0,y=s.length;p<y;p++)a=s[p],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!f&&h[v]&&v++,h[v]={s:new ep,p:x},h[v].s.curves=a.curves,f&&v++,g[v]=[]):g[v].push({h:a,p:x[0]});if(!h[0])return n(s);if(h.length>1){let p=!1,y=0;for(let _=0,b=h.length;_<b;_++)d[_]=[];for(let _=0,b=h.length;_<b;_++){const w=g[_];for(let E=0;E<w.length;E++){const A=w[E];let T=!0;for(let P=0;P<h.length;P++)r(A.p,h[P].p)&&(_!==P&&y++,T?(T=!1,d[P].push(A)):p=!0);T&&d[_].push(A)}}y>0&&p===!1&&(g=d)}let m;for(let p=0,y=h.length;p<y;p++){l=h[p].s,c.push(l),m=g[p];for(let _=0,b=m.length;_<b;_++)l.holes.push(m[_].h)}return c}}class ubt extends gc{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function dbt(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function fbt(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function hbt(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function HF(t,e,n,r){const i=pbt(r);switch(n){case lz:return t*e;case ON:return t*e/i.components*i.byteLength;case x1:return t*e/i.components*i.byteLength;case uz:return t*e*2/i.components*i.byteLength;case IN:return t*e*2/i.components*i.byteLength;case cz:return t*e*3/i.components*i.byteLength;case rs:return t*e*4/i.components*i.byteLength;case jN:return t*e*4/i.components*i.byteLength;case w_:case S_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case C_:case E_:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RT:case OT:return Math.max(t,16)*Math.max(e,8)/4;case NT:case kT:return Math.max(t,8)*Math.max(e,8)/2;case IT:case jT:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case DT:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case LT:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case FT:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case BT:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case UT:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case $T:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case zT:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case HT:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case VT:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case WT:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case GT:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case qT:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case KT:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case XT:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case YT:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case ZT:case QT:case JT:return Math.ceil(t/4)*Math.ceil(e/4)*16;case eP:case tP:return Math.ceil(t/4)*Math.ceil(e/4)*8;case nP:case rP:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function pbt(t){switch(t){case pa:case iz:return{byteLength:1,components:1};case vy:case sz:case dx:return{byteLength:2,components:1};case RN:case kN:return{byteLength:2,components:4};case Su:case NN:case Gs:return{byteLength:4,components:1};case oz:case az:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class mbt{static contain(e,n){return dbt(e,n)}static cover(e,n){return fbt(e,n)}static fill(e){return hbt(e)}static getByteLength(e,n,r,i){return HF(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:v1}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=v1);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function oxe(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function gbt(t){const e=new WeakMap;function n(a,l){const c=a.array,f=a.usage,d=c.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,c,f),a.onUploadCallback();let g;if(c instanceof Float32Array)g=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)g=t.HALF_FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)g=t.SHORT;else if(c instanceof Uint32Array)g=t.UNSIGNED_INT;else if(c instanceof Int32Array)g=t.INT;else if(c instanceof Int8Array)g=t.BYTE;else if(c instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:g,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:d}}function r(a,l,c){const f=l.array,d=l.updateRanges;if(t.bindBuffer(c,a),d.length===0)t.bufferSubData(c,0,f);else{d.sort((g,v)=>g.start-v.start);let h=0;for(let g=1;g<d.length;g++){const v=d[h],x=d[g];x.start<=v.start+v.count+1?v.count=Math.max(v.count,x.start+x.count-v.start):(++h,d[h]=x)}d.length=h+1;for(let g=0,v=d.length;g<v;g++){const x=d[g];t.bufferSubData(c,x.start*f.BYTES_PER_ELEMENT,f,x.start,x.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(t.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const f=e.get(a);(!f||f.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,n(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,a,l),c.version=a.version}}return{get:i,remove:s,update:o}}var vbt=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,ybt=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,xbt=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,_bt=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,bbt=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,wbt=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Sbt=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Cbt=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Ebt=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,Mbt=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,Abt=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Tbt=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Pbt=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Nbt=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Rbt=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,kbt=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,Obt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Ibt=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,jbt=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Dbt=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,Lbt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Fbt=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,Bbt=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,Ubt=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$bt=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,zbt=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Hbt=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Vbt=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Wbt=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Gbt=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,qbt="gl_FragColor = linearToOutputTexel( gl_FragColor );",Kbt=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Xbt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Ybt=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Zbt=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Qbt=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Jbt=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ewt=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,twt=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,nwt=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,rwt=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,iwt=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,swt=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,owt=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,awt=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lwt=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,cwt=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,uwt=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,dwt=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,fwt=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,hwt=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,pwt=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,mwt=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,gwt=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,vwt=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ywt=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,xwt=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,_wt=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,bwt=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,wwt=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Swt=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Cwt=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Ewt=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Mwt=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Awt=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Twt=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Pwt=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,Nwt=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Rwt=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,kwt=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,Owt=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Iwt=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,jwt=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Dwt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Lwt=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Fwt=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Bwt=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Uwt=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$wt=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,zwt=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Hwt=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Vwt=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Wwt=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Gwt=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,qwt=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Kwt=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Xwt=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Ywt=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Zwt=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Qwt=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,Jwt=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,e1t=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,t1t=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,n1t=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,r1t=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,i1t=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,s1t=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,o1t=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,a1t=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,l1t=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,c1t=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,u1t=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,d1t=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,f1t=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,h1t=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,p1t=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,m1t=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const g1t=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,v1t=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,y1t=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,x1t=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_1t=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,b1t=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,w1t=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,S1t=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,C1t=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,E1t=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,M1t=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,A1t=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,T1t=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,P1t=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,N1t=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,R1t=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,k1t=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,O1t=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,I1t=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,j1t=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,D1t=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,L1t=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,F1t=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,B1t=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,U1t=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$1t=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,z1t=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,H1t=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,V1t=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,W1t=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,G1t=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,q1t=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,K1t=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,X1t=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,dn={alphahash_fragment:vbt,alphahash_pars_fragment:ybt,alphamap_fragment:xbt,alphamap_pars_fragment:_bt,alphatest_fragment:bbt,alphatest_pars_fragment:wbt,aomap_fragment:Sbt,aomap_pars_fragment:Cbt,batching_pars_vertex:Ebt,batching_vertex:Mbt,begin_vertex:Abt,beginnormal_vertex:Tbt,bsdfs:Pbt,iridescence_fragment:Nbt,bumpmap_pars_fragment:Rbt,clipping_planes_fragment:kbt,clipping_planes_pars_fragment:Obt,clipping_planes_pars_vertex:Ibt,clipping_planes_vertex:jbt,color_fragment:Dbt,color_pars_fragment:Lbt,color_pars_vertex:Fbt,color_vertex:Bbt,common:Ubt,cube_uv_reflection_fragment:$bt,defaultnormal_vertex:zbt,displacementmap_pars_vertex:Hbt,displacementmap_vertex:Vbt,emissivemap_fragment:Wbt,emissivemap_pars_fragment:Gbt,colorspace_fragment:qbt,colorspace_pars_fragment:Kbt,envmap_fragment:Xbt,envmap_common_pars_fragment:Ybt,envmap_pars_fragment:Zbt,envmap_pars_vertex:Qbt,envmap_physical_pars_fragment:cwt,envmap_vertex:Jbt,fog_vertex:ewt,fog_pars_vertex:twt,fog_fragment:nwt,fog_pars_fragment:rwt,gradientmap_pars_fragment:iwt,lightmap_pars_fragment:swt,lights_lambert_fragment:owt,lights_lambert_pars_fragment:awt,lights_pars_begin:lwt,lights_toon_fragment:uwt,lights_toon_pars_fragment:dwt,lights_phong_fragment:fwt,lights_phong_pars_fragment:hwt,lights_physical_fragment:pwt,lights_physical_pars_fragment:mwt,lights_fragment_begin:gwt,lights_fragment_maps:vwt,lights_fragment_end:ywt,logdepthbuf_fragment:xwt,logdepthbuf_pars_fragment:_wt,logdepthbuf_pars_vertex:bwt,logdepthbuf_vertex:wwt,map_fragment:Swt,map_pars_fragment:Cwt,map_particle_fragment:Ewt,map_particle_pars_fragment:Mwt,metalnessmap_fragment:Awt,metalnessmap_pars_fragment:Twt,morphinstance_vertex:Pwt,morphcolor_vertex:Nwt,morphnormal_vertex:Rwt,morphtarget_pars_vertex:kwt,morphtarget_vertex:Owt,normal_fragment_begin:Iwt,normal_fragment_maps:jwt,normal_pars_fragment:Dwt,normal_pars_vertex:Lwt,normal_vertex:Fwt,normalmap_pars_fragment:Bwt,clearcoat_normal_fragment_begin:Uwt,clearcoat_normal_fragment_maps:$wt,clearcoat_pars_fragment:zwt,iridescence_pars_fragment:Hwt,opaque_fragment:Vwt,packing:Wwt,premultiplied_alpha_fragment:Gwt,project_vertex:qwt,dithering_fragment:Kwt,dithering_pars_fragment:Xwt,roughnessmap_fragment:Ywt,roughnessmap_pars_fragment:Zwt,shadowmap_pars_fragment:Qwt,shadowmap_pars_vertex:Jwt,shadowmap_vertex:e1t,shadowmask_pars_fragment:t1t,skinbase_vertex:n1t,skinning_pars_vertex:r1t,skinning_vertex:i1t,skinnormal_vertex:s1t,specularmap_fragment:o1t,specularmap_pars_fragment:a1t,tonemapping_fragment:l1t,tonemapping_pars_fragment:c1t,transmission_fragment:u1t,transmission_pars_fragment:d1t,uv_pars_fragment:f1t,uv_pars_vertex:h1t,uv_vertex:p1t,worldpos_vertex:m1t,background_vert:g1t,background_frag:v1t,backgroundCube_vert:y1t,backgroundCube_frag:x1t,cube_vert:_1t,cube_frag:b1t,depth_vert:w1t,depth_frag:S1t,distanceRGBA_vert:C1t,distanceRGBA_frag:E1t,equirect_vert:M1t,equirect_frag:A1t,linedashed_vert:T1t,linedashed_frag:P1t,meshbasic_vert:N1t,meshbasic_frag:R1t,meshlambert_vert:k1t,meshlambert_frag:O1t,meshmatcap_vert:I1t,meshmatcap_frag:j1t,meshnormal_vert:D1t,meshnormal_frag:L1t,meshphong_vert:F1t,meshphong_frag:B1t,meshphysical_vert:U1t,meshphysical_frag:$1t,meshtoon_vert:z1t,meshtoon_frag:H1t,points_vert:V1t,points_frag:W1t,shadow_vert:G1t,shadow_frag:q1t,sprite_vert:K1t,sprite_frag:X1t},ft={common:{diffuse:{value:new gt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new on}},envmap:{envMap:{value:null},envMapRotation:{value:new on},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new on}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new on}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new on},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new on},normalScale:{value:new He(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new on},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new on}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new on}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new on}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new gt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new gt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0},uvTransform:{value:new on}},sprite:{diffuse:{value:new gt(16777215)},opacity:{value:1},center:{value:new He(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new on},alphaMap:{value:null},alphaMapTransform:{value:new on},alphaTest:{value:0}}},Va={basic:{uniforms:ms([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.fog]),vertexShader:dn.meshbasic_vert,fragmentShader:dn.meshbasic_frag},lambert:{uniforms:ms([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,ft.lights,{emissive:{value:new gt(0)}}]),vertexShader:dn.meshlambert_vert,fragmentShader:dn.meshlambert_frag},phong:{uniforms:ms([ft.common,ft.specularmap,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,ft.lights,{emissive:{value:new gt(0)},specular:{value:new gt(1118481)},shininess:{value:30}}]),vertexShader:dn.meshphong_vert,fragmentShader:dn.meshphong_frag},standard:{uniforms:ms([ft.common,ft.envmap,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.roughnessmap,ft.metalnessmap,ft.fog,ft.lights,{emissive:{value:new gt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag},toon:{uniforms:ms([ft.common,ft.aomap,ft.lightmap,ft.emissivemap,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.gradientmap,ft.fog,ft.lights,{emissive:{value:new gt(0)}}]),vertexShader:dn.meshtoon_vert,fragmentShader:dn.meshtoon_frag},matcap:{uniforms:ms([ft.common,ft.bumpmap,ft.normalmap,ft.displacementmap,ft.fog,{matcap:{value:null}}]),vertexShader:dn.meshmatcap_vert,fragmentShader:dn.meshmatcap_frag},points:{uniforms:ms([ft.points,ft.fog]),vertexShader:dn.points_vert,fragmentShader:dn.points_frag},dashed:{uniforms:ms([ft.common,ft.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:dn.linedashed_vert,fragmentShader:dn.linedashed_frag},depth:{uniforms:ms([ft.common,ft.displacementmap]),vertexShader:dn.depth_vert,fragmentShader:dn.depth_frag},normal:{uniforms:ms([ft.common,ft.bumpmap,ft.normalmap,ft.displacementmap,{opacity:{value:1}}]),vertexShader:dn.meshnormal_vert,fragmentShader:dn.meshnormal_frag},sprite:{uniforms:ms([ft.sprite,ft.fog]),vertexShader:dn.sprite_vert,fragmentShader:dn.sprite_frag},background:{uniforms:{uvTransform:{value:new on},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:dn.background_vert,fragmentShader:dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new on}},vertexShader:dn.backgroundCube_vert,fragmentShader:dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:dn.cube_vert,fragmentShader:dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:dn.equirect_vert,fragmentShader:dn.equirect_frag},distanceRGBA:{uniforms:ms([ft.common,ft.displacementmap,{referencePosition:{value:new ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:dn.distanceRGBA_vert,fragmentShader:dn.distanceRGBA_frag},shadow:{uniforms:ms([ft.lights,ft.fog,{color:{value:new gt(0)},opacity:{value:1}}]),vertexShader:dn.shadow_vert,fragmentShader:dn.shadow_frag}};Va.physical={uniforms:ms([Va.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new on},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new on},clearcoatNormalScale:{value:new He(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new on},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new on},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new on},sheen:{value:0},sheenColor:{value:new gt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new on},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new on},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new on},transmissionSamplerSize:{value:new He},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new on},attenuationDistance:{value:0},attenuationColor:{value:new gt(0)},specularColor:{value:new gt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new on},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new on},anisotropyVector:{value:new He},anisotropyMap:{value:null},anisotropyMapTransform:{value:new on}}]),vertexShader:dn.meshphysical_vert,fragmentShader:dn.meshphysical_frag};const fE={r:0,b:0,g:0},nh=new ko,Y1t=new Qt;function Z1t(t,e,n,r,i,s,o){const a=new gt(0);let l=s===!0?0:1,c,f,d=null,h=0,g=null;function v(_){let b=_.isScene===!0?_.background:null;return b&&b.isTexture&&(b=(_.backgroundBlurriness>0?n:e).get(b)),b}function x(_){let b=!1;const w=v(_);w===null?p(a,l):w&&w.isColor&&(p(w,1),b=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||b)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function m(_,b){const w=v(b);w&&(w.isCubeTexture||w.mapping===ux)?(f===void 0&&(f=new ri(new qp(1,1,1),new ma({name:"BackgroundCubeMaterial",uniforms:Sy(Va.backgroundCube.uniforms),vertexShader:Va.backgroundCube.vertexShader,fragmentShader:Va.backgroundCube.fragmentShader,side:os,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(E,A,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(f)),nh.copy(b.backgroundRotation),nh.x*=-1,nh.y*=-1,nh.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(nh.y*=-1,nh.z*=-1),f.material.uniforms.envMap.value=w,f.material.uniforms.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=b.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,f.material.uniforms.backgroundRotation.value.setFromMatrix4(Y1t.makeRotationFromEuler(nh)),f.material.toneMapped=Cn.getTransfer(w.colorSpace)!==qn,(d!==w||h!==w.version||g!==t.toneMapping)&&(f.material.needsUpdate=!0,d=w,h=w.version,g=t.toneMapping),f.layers.enableAll(),_.unshift(f,f.geometry,f.material,0,0,null)):w&&w.isTexture&&(c===void 0&&(c=new ri(new hx(2,2),new ma({name:"BackgroundMaterial",uniforms:Sy(Va.background.uniforms),vertexShader:Va.background.vertexShader,fragmentShader:Va.background.fragmentShader,side:bu,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=w,c.material.uniforms.backgroundIntensity.value=b.backgroundIntensity,c.material.toneMapped=Cn.getTransfer(w.colorSpace)!==qn,w.matrixAutoUpdate===!0&&w.updateMatrix(),c.material.uniforms.uvTransform.value.copy(w.matrix),(d!==w||h!==w.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,d=w,h=w.version,g=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function p(_,b){_.getRGB(fE,oye(t)),r.buffers.color.setClear(fE.r,fE.g,fE.b,b,o)}function y(){f!==void 0&&(f.geometry.dispose(),f.material.dispose(),f=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(_,b=1){a.set(_),l=b,p(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,p(a,l)},render:x,addToRenderList:m,dispose:y}}function Q1t(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let s=i,o=!1;function a(N,O,I,D,F){let $=!1;const z=d(D,I,O);s!==z&&(s=z,c(s.object)),$=g(N,D,I,F),$&&v(N,D,I,F),F!==null&&e.update(F,t.ELEMENT_ARRAY_BUFFER),($||o)&&(o=!1,b(N,O,I,D),F!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(F).buffer))}function l(){return t.createVertexArray()}function c(N){return t.bindVertexArray(N)}function f(N){return t.deleteVertexArray(N)}function d(N,O,I){const D=I.wireframe===!0;let F=r[N.id];F===void 0&&(F={},r[N.id]=F);let $=F[O.id];$===void 0&&($={},F[O.id]=$);let z=$[D];return z===void 0&&(z=h(l()),$[D]=z),z}function h(N){const O=[],I=[],D=[];for(let F=0;F<n;F++)O[F]=0,I[F]=0,D[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:I,attributeDivisors:D,object:N,attributes:{},index:null}}function g(N,O,I,D){const F=s.attributes,$=O.attributes;let z=0;const H=I.getAttributes();for(const R in H)if(H[R].location>=0){const B=F[R];let W=$[R];if(W===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(W=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(W=N.instanceColor)),B===void 0||B.attribute!==W||W&&B.data!==W.data)return!0;z++}return s.attributesNum!==z||s.index!==D}function v(N,O,I,D){const F={},$=O.attributes;let z=0;const H=I.getAttributes();for(const R in H)if(H[R].location>=0){let B=$[R];B===void 0&&(R==="instanceMatrix"&&N.instanceMatrix&&(B=N.instanceMatrix),R==="instanceColor"&&N.instanceColor&&(B=N.instanceColor));const W={};W.attribute=B,B&&B.data&&(W.data=B.data),F[R]=W,z++}s.attributes=F,s.attributesNum=z,s.index=D}function x(){const N=s.newAttributes;for(let O=0,I=N.length;O<I;O++)N[O]=0}function m(N){p(N,0)}function p(N,O){const I=s.newAttributes,D=s.enabledAttributes,F=s.attributeDivisors;I[N]=1,D[N]===0&&(t.enableVertexAttribArray(N),D[N]=1),F[N]!==O&&(t.vertexAttribDivisor(N,O),F[N]=O)}function y(){const N=s.newAttributes,O=s.enabledAttributes;for(let I=0,D=O.length;I<D;I++)O[I]!==N[I]&&(t.disableVertexAttribArray(I),O[I]=0)}function _(N,O,I,D,F,$,z){z===!0?t.vertexAttribIPointer(N,O,I,F,$):t.vertexAttribPointer(N,O,I,D,F,$)}function b(N,O,I,D){x();const F=D.attributes,$=I.getAttributes(),z=O.defaultAttributeValues;for(const H in $){const R=$[H];if(R.location>=0){let j=F[H];if(j===void 0&&(H==="instanceMatrix"&&N.instanceMatrix&&(j=N.instanceMatrix),H==="instanceColor"&&N.instanceColor&&(j=N.instanceColor)),j!==void 0){const B=j.normalized,W=j.itemSize,G=e.get(j);if(G===void 0)continue;const K=G.buffer,ie=G.type,le=G.bytesPerElement,J=ie===t.INT||ie===t.UNSIGNED_INT||j.gpuType===NN;if(j.isInterleavedBufferAttribute){const U=j.data,X=U.stride,Q=j.offset;if(U.isInstancedInterleavedBuffer){for(let te=0;te<R.locationSize;te++)p(R.location+te,U.meshPerAttribute);N.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=U.meshPerAttribute*U.count)}else for(let te=0;te<R.locationSize;te++)m(R.location+te);t.bindBuffer(t.ARRAY_BUFFER,K);for(let te=0;te<R.locationSize;te++)_(R.location+te,W/R.locationSize,ie,B,X*le,(Q+W/R.locationSize*te)*le,J)}else{if(j.isInstancedBufferAttribute){for(let U=0;U<R.locationSize;U++)p(R.location+U,j.meshPerAttribute);N.isInstancedMesh!==!0&&D._maxInstanceCount===void 0&&(D._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let U=0;U<R.locationSize;U++)m(R.location+U);t.bindBuffer(t.ARRAY_BUFFER,K);for(let U=0;U<R.locationSize;U++)_(R.location+U,W/R.locationSize,ie,B,W*le,W/R.locationSize*U*le,J)}}else if(z!==void 0){const B=z[H];if(B!==void 0)switch(B.length){case 2:t.vertexAttrib2fv(R.location,B);break;case 3:t.vertexAttrib3fv(R.location,B);break;case 4:t.vertexAttrib4fv(R.location,B);break;default:t.vertexAttrib1fv(R.location,B)}}}}y()}function w(){T();for(const N in r){const O=r[N];for(const I in O){const D=O[I];for(const F in D)f(D[F].object),delete D[F];delete O[I]}delete r[N]}}function E(N){if(r[N.id]===void 0)return;const O=r[N.id];for(const I in O){const D=O[I];for(const F in D)f(D[F].object),delete D[F];delete O[I]}delete r[N.id]}function A(N){for(const O in r){const I=r[O];if(I[N.id]===void 0)continue;const D=I[N.id];for(const F in D)f(D[F].object),delete D[F];delete I[N.id]}}function T(){P(),o=!0,s!==i&&(s=i,c(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:a,reset:T,resetDefaultState:P,dispose:w,releaseStatesOfGeometry:E,releaseStatesOfProgram:A,initAttributes:x,enableAttribute:m,disableUnusedAttributes:y}}function J1t(t,e,n){let r;function i(c){r=c}function s(c,f){t.drawArrays(r,c,f),n.update(f,r,1)}function o(c,f,d){d!==0&&(t.drawArraysInstanced(r,c,f,d),n.update(f,r,d))}function a(c,f,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,f,0,d);let g=0;for(let v=0;v<d;v++)g+=f[v];n.update(g,r,1)}function l(c,f,d,h){if(d===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<c.length;v++)o(c[v],f[v],h[v]);else{g.multiDrawArraysInstancedWEBGL(r,c,0,f,0,h,0,d);let v=0;for(let x=0;x<d;x++)v+=f[x]*h[x];n.update(v,r,1)}}this.setMode=i,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function eSt(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(A){return!(A!==rs&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(A){const T=A===dx&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(A!==pa&&r.convert(A)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&A!==Gs&&!T)}function l(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const f=l(c);f!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",f,"instead."),c=f);const d=n.logarithmicDepthBuffer===!0,h=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),x=t.getParameter(t.MAX_TEXTURE_SIZE),m=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),p=t.getParameter(t.MAX_VERTEX_ATTRIBS),y=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),w=v>0,E=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:h,maxTextures:g,maxVertexTextures:v,maxTextureSize:x,maxCubemapSize:m,maxAttributes:p,maxVertexUniforms:y,maxVaryings:_,maxFragmentUniforms:b,vertexTextures:w,maxSamples:E}}function tSt(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Ol,a=new on,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){const g=d.length!==0||h||r!==0||i;return i=h,r=d.length,g},this.beginShadows=function(){s=!0,f(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,h){n=f(d,h,0)},this.setState=function(d,h,g){const v=d.clippingPlanes,x=d.clipIntersection,m=d.clipShadows,p=t.get(d);if(!i||v===null||v.length===0||s&&!m)s?f(null):c();else{const y=s?0:r,_=y*4;let b=p.clippingState||null;l.value=b,b=f(v,h,_,g);for(let w=0;w!==_;++w)b[w]=n[w];p.clippingState=b,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function f(d,h,g,v){const x=d!==null?d.length:0;let m=null;if(x!==0){if(m=l.value,v!==!0||m===null){const p=g+x*4,y=h.matrixWorldInverse;a.getNormalMatrix(y),(m===null||m.length<p)&&(m=new Float32Array(p));for(let _=0,b=g;_!==x;++_,b+=4)o.copy(d[_]).applyMatrix4(y,a),o.normal.toArray(m,b),m[b+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,m}}function nSt(t){let e=new WeakMap;function n(o,a){return a===ew?o.mapping=wu:a===tw&&(o.mapping=sf),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===ew||a===tw)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new lye(l.height);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Og=4,BY=[.125,.215,.35,.446,.526,.582],yh=20,oj=new Jl,UY=new gt;let aj=null,lj=0,cj=0,uj=!1;const gh=(1+Math.sqrt(5))/2,Ym=1/gh,$Y=[new ce(-gh,Ym,0),new ce(gh,Ym,0),new ce(-Ym,0,gh),new ce(Ym,0,gh),new ce(0,gh,-Ym),new ce(0,gh,Ym),new ce(-1,1,-1),new ce(1,1,-1),new ce(-1,1,1),new ce(1,1,1)],rSt=new ce;class VF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100,s={}){const{size:o=256,position:a=rSt}=s;aj=this._renderer.getRenderTarget(),lj=this._renderer.getActiveCubeFace(),cj=this._renderer.getActiveMipmapLevel(),uj=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(o);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,a),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=VY(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=HY(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(aj,lj,cj),this._renderer.xr.enabled=uj,e.scissorTest=!1,hE(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===wu||e.mapping===sf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),aj=this._renderer.getRenderTarget(),lj=this._renderer.getActiveCubeFace(),cj=this._renderer.getActiveMipmapLevel(),uj=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:pi,minFilter:pi,generateMipmaps:!1,type:dx,format:rs,colorSpace:Tp,depthBuffer:!1},i=zY(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=zY(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=iSt(s)),this._blurMaterial=sSt(s,e,n)}return i}_compileMaterial(e){const n=new ri(this._lodPlanes[0],e);this._renderer.compile(n,oj)}_sceneToCubeUV(e,n,r,i,s){const l=new Mr(90,1,n,r),c=[1,-1,1,1,1,1],f=[1,1,1,-1,-1,-1],d=this._renderer,h=d.autoClear,g=d.toneMapping;d.getClearColor(UY),d.toneMapping=Zl,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null));const x=new Cf({name:"PMREM.Background",side:os,depthWrite:!1,depthTest:!1}),m=new ri(new qp,x);let p=!1;const y=e.background;y?y.isColor&&(x.color.copy(y),e.background=null,p=!0):(x.color.copy(UY),p=!0);for(let _=0;_<6;_++){const b=_%3;b===0?(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+f[_],s.y,s.z)):b===1?(l.up.set(0,0,c[_]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+f[_],s.z)):(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+f[_]));const w=this._cubeSize;hE(i,b*w,_>2?w:0,w,w),d.setRenderTarget(i),p&&d.render(m,l),d.render(e,l)}m.geometry.dispose(),m.material.dispose(),d.toneMapping=g,d.autoClear=h,e.background=y}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===wu||e.mapping===sf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=VY()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=HY());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new ri(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;hE(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,oj)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let s=1;s<i;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=$Y[(i-s-1)%$Y.length];this._blur(e,s-1,s,o,a)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,d=new ri(this._lodPlanes[i],c),h=c.uniforms,g=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*g):2*Math.PI/(2*yh-1),x=s/v,m=isFinite(s)?1+Math.floor(f*x):yh;m>yh&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${yh}`);const p=[];let y=0;for(let A=0;A<yh;++A){const T=A/x,P=Math.exp(-T*T/2);p.push(P),A===0?y+=P:A<m&&(y+=2*P)}for(let A=0;A<p.length;A++)p[A]=p[A]/y;h.envMap.value=e.texture,h.samples.value=m,h.weights.value=p,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:_}=this;h.dTheta.value=v,h.mipInt.value=_-r;const b=this._sizeLods[i],w=3*b*(i>_-Og?i-_+Og:0),E=4*(this._cubeSize-b);hE(n,w,E,3*b,2*b),l.setRenderTarget(n),l.render(d,oj)}}function iSt(t){const e=[],n=[],r=[];let i=t;const s=t-Og+1+BY.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Og?l=BY[o-t+Og-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),f=-c,d=1+c,h=[f,f,d,f,d,d,f,f,d,d,f,d],g=6,v=6,x=3,m=2,p=1,y=new Float32Array(x*v*g),_=new Float32Array(m*v*g),b=new Float32Array(p*v*g);for(let E=0;E<g;E++){const A=E%3*2/3-1,T=E>2?0:-1,P=[A,T,0,A+2/3,T,0,A+2/3,T+1,0,A,T,0,A+2/3,T+1,0,A,T+1,0];y.set(P,x*v*E),_.set(h,m*v*E);const N=[E,E,E,E,E,E];b.set(N,p*v*E)}const w=new cn;w.setAttribute("position",new Jn(y,x)),w.setAttribute("uv",new Jn(_,m)),w.setAttribute("faceIndex",new Jn(b,p)),e.push(w),i>Og&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function zY(t,e,n){const r=new ac(t,e,n);return r.texture.mapping=ux,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function hE(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function sSt(t,e,n){const r=new Float32Array(yh),i=new ce(0,1,0);return new ma({name:"SphericalGaussianBlur",defines:{n:yh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Vz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function HY(){return new ma({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Vz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function VY(){return new ma({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Vz(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:iu,depthTest:!1,depthWrite:!1})}function Vz(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function oSt(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===ew||l===tw,f=l===wu||l===sf;if(c||f){let d=e.get(a);const h=d!==void 0?d.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return n===null&&(n=new VF(t)),d=c?n.fromEquirectangular(a,d):n.fromCubemap(a,d),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),d.texture;if(d!==void 0)return d.texture;{const g=a.image;return c&&g&&g.height>0||f&&g&&i(g)?(n===null&&(n=new VF(t)),d=c?n.fromEquirectangular(a):n.fromCubemap(a),d.texture.pmremVersion=a.pmremVersion,e.set(a,d),a.addEventListener("dispose",s),d.texture):null}}}return a}function i(a){let l=0;const c=6;for(let f=0;f<c;f++)a[f]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function aSt(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&cw("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function lSt(t,e,n,r){const i={},s=new WeakMap;function o(d){const h=d.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);h.removeEventListener("dispose",o),delete i[h.id];const g=s.get(h);g&&(e.remove(g),s.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function a(d,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(d){const h=d.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER)}function c(d){const h=[],g=d.index,v=d.attributes.position;let x=0;if(g!==null){const y=g.array;x=g.version;for(let _=0,b=y.length;_<b;_+=3){const w=y[_+0],E=y[_+1],A=y[_+2];h.push(w,E,E,A,A,w)}}else if(v!==void 0){const y=v.array;x=v.version;for(let _=0,b=y.length/3-1;_<b;_+=3){const w=_+0,E=_+1,A=_+2;h.push(w,E,E,A,A,w)}}else return;const m=new(nye(h)?gz:mz)(h,1);m.version=x;const p=s.get(d);p&&e.remove(p),s.set(d,m)}function f(d){const h=s.get(d);if(h){const g=d.index;g!==null&&h.version<g.version&&c(d)}else c(d);return s.get(d)}return{get:a,update:l,getWireframeAttribute:f}}function cSt(t,e,n){let r;function i(h){r=h}let s,o;function a(h){s=h.type,o=h.bytesPerElement}function l(h,g){t.drawElements(r,g,s,h*o),n.update(g,r,1)}function c(h,g,v){v!==0&&(t.drawElementsInstanced(r,g,s,h*o,v),n.update(g,r,v))}function f(h,g,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,s,h,0,v);let m=0;for(let p=0;p<v;p++)m+=g[p];n.update(m,r,1)}function d(h,g,v,x){if(v===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let p=0;p<h.length;p++)c(h[p]/o,g[p],x[p]);else{m.multiDrawElementsInstancedWEBGL(r,g,0,s,h,0,x,0,v);let p=0;for(let y=0;y<v;y++)p+=g[y]*x[y];n.update(p,r,1)}}this.setMode=i,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=f,this.renderMultiDrawInstances=d}function uSt(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function dSt(t,e,n){const r=new WeakMap,i=new Tn;function s(o,a,l){const c=o.morphTargetInfluences,f=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,d=f!==void 0?f.length:0;let h=r.get(a);if(h===void 0||h.count!==d){let N=function(){T.dispose(),r.delete(a),a.removeEventListener("dispose",N)};var g=N;h!==void 0&&h.texture.dispose();const v=a.morphAttributes.position!==void 0,x=a.morphAttributes.normal!==void 0,m=a.morphAttributes.color!==void 0,p=a.morphAttributes.position||[],y=a.morphAttributes.normal||[],_=a.morphAttributes.color||[];let b=0;v===!0&&(b=1),x===!0&&(b=2),m===!0&&(b=3);let w=a.attributes.position.count*b,E=1;w>e.maxTextureSize&&(E=Math.ceil(w/e.maxTextureSize),w=e.maxTextureSize);const A=new Float32Array(w*E*4*d),T=new LN(A,w,E,d);T.type=Gs,T.needsUpdate=!0;const P=b*4;for(let O=0;O<d;O++){const I=p[O],D=y[O],F=_[O],$=w*E*4*O;for(let z=0;z<I.count;z++){const H=z*P;v===!0&&(i.fromBufferAttribute(I,z),A[$+H+0]=i.x,A[$+H+1]=i.y,A[$+H+2]=i.z,A[$+H+3]=0),x===!0&&(i.fromBufferAttribute(D,z),A[$+H+4]=i.x,A[$+H+5]=i.y,A[$+H+6]=i.z,A[$+H+7]=0),m===!0&&(i.fromBufferAttribute(F,z),A[$+H+8]=i.x,A[$+H+9]=i.y,A[$+H+10]=i.z,A[$+H+11]=F.itemSize===4?i.w:1)}}h={count:d,texture:T,size:new He(w,E)},r.set(a,h),a.addEventListener("dispose",N)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let v=0;for(let m=0;m<c.length;m++)v+=c[m];const x=a.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",x),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:s}}function fSt(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,f=l.geometry,d=e.get(l,f);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==c&&(h.update(),i.set(h,c))}return d}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const axe=new Ur,WY=new wz(1,1),lxe=new LN,cxe=new FN,uxe=new b1,GY=[],qY=[],KY=new Float32Array(16),XY=new Float32Array(9),YY=new Float32Array(4);function px(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=GY[i];if(s===void 0&&(s=new Float32Array(i),GY[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function mi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function gi(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function sR(t,e){let n=qY[e];n===void 0&&(n=new Int32Array(e),qY[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function hSt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function pSt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2fv(this.addr,e),gi(n,e)}}function mSt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mi(n,e))return;t.uniform3fv(this.addr,e),gi(n,e)}}function gSt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4fv(this.addr,e),gi(n,e)}}function vSt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;YY.set(r),t.uniformMatrix2fv(this.addr,!1,YY),gi(n,r)}}function ySt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;XY.set(r),t.uniformMatrix3fv(this.addr,!1,XY),gi(n,r)}}function xSt(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),gi(n,e)}else{if(mi(n,r))return;KY.set(r),t.uniformMatrix4fv(this.addr,!1,KY),gi(n,r)}}function _St(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function bSt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2iv(this.addr,e),gi(n,e)}}function wSt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mi(n,e))return;t.uniform3iv(this.addr,e),gi(n,e)}}function SSt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4iv(this.addr,e),gi(n,e)}}function CSt(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function ESt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mi(n,e))return;t.uniform2uiv(this.addr,e),gi(n,e)}}function MSt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mi(n,e))return;t.uniform3uiv(this.addr,e),gi(n,e)}}function ASt(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mi(n,e))return;t.uniform4uiv(this.addr,e),gi(n,e)}}function TSt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(WY.compareFunction=fz,s=WY):s=axe,n.setTexture2D(e||s,i)}function PSt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||cxe,i)}function NSt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||uxe,i)}function RSt(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||lxe,i)}function kSt(t){switch(t){case 5126:return hSt;case 35664:return pSt;case 35665:return mSt;case 35666:return gSt;case 35674:return vSt;case 35675:return ySt;case 35676:return xSt;case 5124:case 35670:return _St;case 35667:case 35671:return bSt;case 35668:case 35672:return wSt;case 35669:case 35673:return SSt;case 5125:return CSt;case 36294:return ESt;case 36295:return MSt;case 36296:return ASt;case 35678:case 36198:case 36298:case 36306:case 35682:return TSt;case 35679:case 36299:case 36307:return PSt;case 35680:case 36300:case 36308:case 36293:return NSt;case 36289:case 36303:case 36311:case 36292:return RSt}}function OSt(t,e){t.uniform1fv(this.addr,e)}function ISt(t,e){const n=px(e,this.size,2);t.uniform2fv(this.addr,n)}function jSt(t,e){const n=px(e,this.size,3);t.uniform3fv(this.addr,n)}function DSt(t,e){const n=px(e,this.size,4);t.uniform4fv(this.addr,n)}function LSt(t,e){const n=px(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function FSt(t,e){const n=px(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function BSt(t,e){const n=px(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function USt(t,e){t.uniform1iv(this.addr,e)}function $St(t,e){t.uniform2iv(this.addr,e)}function zSt(t,e){t.uniform3iv(this.addr,e)}function HSt(t,e){t.uniform4iv(this.addr,e)}function VSt(t,e){t.uniform1uiv(this.addr,e)}function WSt(t,e){t.uniform2uiv(this.addr,e)}function GSt(t,e){t.uniform3uiv(this.addr,e)}function qSt(t,e){t.uniform4uiv(this.addr,e)}function KSt(t,e,n){const r=this.cache,i=e.length,s=sR(n,i);mi(r,s)||(t.uniform1iv(this.addr,s),gi(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||axe,s[o])}function XSt(t,e,n){const r=this.cache,i=e.length,s=sR(n,i);mi(r,s)||(t.uniform1iv(this.addr,s),gi(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||cxe,s[o])}function YSt(t,e,n){const r=this.cache,i=e.length,s=sR(n,i);mi(r,s)||(t.uniform1iv(this.addr,s),gi(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||uxe,s[o])}function ZSt(t,e,n){const r=this.cache,i=e.length,s=sR(n,i);mi(r,s)||(t.uniform1iv(this.addr,s),gi(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||lxe,s[o])}function QSt(t){switch(t){case 5126:return OSt;case 35664:return ISt;case 35665:return jSt;case 35666:return DSt;case 35674:return LSt;case 35675:return FSt;case 35676:return BSt;case 5124:case 35670:return USt;case 35667:case 35671:return $St;case 35668:case 35672:return zSt;case 35669:case 35673:return HSt;case 5125:return VSt;case 36294:return WSt;case 36295:return GSt;case 36296:return qSt;case 35678:case 36198:case 36298:case 36306:case 35682:return KSt;case 35679:case 36299:case 36307:return XSt;case 35680:case 36300:case 36308:case 36293:return YSt;case 36289:case 36303:case 36311:case 36292:return ZSt}}class JSt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=kSt(n.type)}}class eCt{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=QSt(n.type)}}class tCt{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const dj=/(\w+)(\])?(\[|\.)?/g;function ZY(t,e){t.seq.push(e),t.map[e.id]=e}function nCt(t,e,n){const r=t.name,i=r.length;for(dj.lastIndex=0;;){const s=dj.exec(r),o=dj.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){ZY(n,c===void 0?new JSt(a,t,e):new eCt(a,t,e));break}else{let d=n.map[a];d===void 0&&(d=new tCt(a),ZY(n,d)),n=d}}}class nM{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);nCt(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function QY(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const rCt=37297;let iCt=0;function sCt(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}const JY=new on;function oCt(t){Cn._getMatrix(JY,Cn.workingColorSpace,t);const e=`mat3( ${JY.elements.map(n=>n.toFixed(4))} )`;switch(Cn.getTransfer(t)){case ow:return[e,"LinearTransferOETF"];case qn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function eZ(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const o=/ERROR: 0:(\d+)/.exec(s);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+s+`

`+sCt(t.getShaderSource(e),a)}else return s}function aCt(t,e){const n=oCt(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function lCt(t,e){let n;switch(e){case jve:n="Linear";break;case Dve:n="Reinhard";break;case Lve:n="Cineon";break;case nz:n="ACESFilmic";break;case Bve:n="AgX";break;case Uve:n="Neutral";break;case Fve:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const pE=new ce;function cCt(){Cn.getLuminanceCoefficients(pE);const t=pE.x.toFixed(4),e=pE.y.toFixed(4),n=pE.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function uCt(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(X0).join(`
`)}function dCt(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function fCt(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function X0(t){return t!==""}function tZ(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function nZ(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const hCt=/^[ \t]*#include +<([\w\d./]+)>/gm;function WF(t){return t.replace(hCt,mCt)}const pCt=new Map;function mCt(t,e){let n=dn[e];if(n===void 0){const r=pCt.get(e);if(r!==void 0)n=dn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return WF(n)}const gCt=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function rZ(t){return t.replace(gCt,vCt)}function vCt(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function iZ(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function yCt(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===TN?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===__?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Ia&&(e="SHADOWMAP_TYPE_VSM"),e}function xCt(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case wu:case sf:e="ENVMAP_TYPE_CUBE";break;case ux:e="ENVMAP_TYPE_CUBE_UV";break}return e}function _Ct(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case sf:e="ENVMAP_MODE_REFRACTION";break}return e}function bCt(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case y1:e="ENVMAP_BLENDING_MULTIPLY";break;case Ove:e="ENVMAP_BLENDING_MIX";break;case Ive:e="ENVMAP_BLENDING_ADD";break}return e}function wCt(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function SCt(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=yCt(n),c=xCt(n),f=_Ct(n),d=bCt(n),h=wCt(n),g=uCt(n),v=dCt(s),x=i.createProgram();let m,p,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(X0).join(`
`),m.length>0&&(m+=`
`),p=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(X0).join(`
`),p.length>0&&(p+=`
`)):(m=[iZ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(X0).join(`
`),p=[iZ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Zl?"#define TONE_MAPPING":"",n.toneMapping!==Zl?dn.tonemapping_pars_fragment:"",n.toneMapping!==Zl?lCt("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",dn.colorspace_pars_fragment,aCt("linearToOutputTexel",n.outputColorSpace),cCt(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(X0).join(`
`)),o=WF(o),o=tZ(o,n),o=nZ(o,n),a=WF(a),a=tZ(a,n),a=nZ(a,n),o=rZ(o),a=rZ(a),n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,m=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,p=["#define varying in",n.glslVersion===jF?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===jF?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const _=y+m+o,b=y+p+a,w=QY(i,i.VERTEX_SHADER,_),E=QY(i,i.FRAGMENT_SHADER,b);i.attachShader(x,w),i.attachShader(x,E),n.index0AttributeName!==void 0?i.bindAttribLocation(x,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(x,0,"position"),i.linkProgram(x);function A(O){if(t.debug.checkShaderErrors){const I=i.getProgramInfoLog(x)||"",D=i.getShaderInfoLog(w)||"",F=i.getShaderInfoLog(E)||"",$=I.trim(),z=D.trim(),H=F.trim();let R=!0,j=!0;if(i.getProgramParameter(x,i.LINK_STATUS)===!1)if(R=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,x,w,E);else{const B=eZ(i,w,"vertex"),W=eZ(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(x,i.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+$+`
`+B+`
`+W)}else $!==""?console.warn("THREE.WebGLProgram: Program Info Log:",$):(z===""||H==="")&&(j=!1);j&&(O.diagnostics={runnable:R,programLog:$,vertexShader:{log:z,prefix:m},fragmentShader:{log:H,prefix:p}})}i.deleteShader(w),i.deleteShader(E),T=new nM(i,x),P=fCt(i,x)}let T;this.getUniforms=function(){return T===void 0&&A(this),T};let P;this.getAttributes=function(){return P===void 0&&A(this),P};let N=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return N===!1&&(N=i.getProgramParameter(x,rCt)),N},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(x),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=iCt++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=w,this.fragmentShader=E,this}let CCt=0;class ECt{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new MCt(e),n.set(e,r)),r}}class MCt{constructor(e){this.id=CCt++,this.code=e,this.usedTimes=0}}function ACt(t,e,n,r,i,s,o){const a=new Jh,l=new ECt,c=new Set,f=[],d=i.logarithmicDepthBuffer,h=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(P){return c.add(P),P===0?"uv":`uv${P}`}function m(P,N,O,I,D){const F=I.fog,$=D.geometry,z=P.isMeshStandardMaterial?I.environment:null,H=(P.isMeshStandardMaterial?n:e).get(P.envMap||z),R=H&&H.mapping===ux?H.image.height:null,j=v[P.type];P.precision!==null&&(g=i.getMaxPrecision(P.precision),g!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",g,"instead."));const B=$.morphAttributes.position||$.morphAttributes.normal||$.morphAttributes.color,W=B!==void 0?B.length:0;let G=0;$.morphAttributes.position!==void 0&&(G=1),$.morphAttributes.normal!==void 0&&(G=2),$.morphAttributes.color!==void 0&&(G=3);let K,ie,le,J;if(j){const qt=Va[j];K=qt.vertexShader,ie=qt.fragmentShader}else K=P.vertexShader,ie=P.fragmentShader,l.update(P),le=l.getVertexShaderID(P),J=l.getFragmentShaderID(P);const U=t.getRenderTarget(),X=t.state.buffers.depth.getReversed(),Q=D.isInstancedMesh===!0,te=D.isBatchedMesh===!0,ue=!!P.map,ee=!!P.matcap,Y=!!H,se=!!P.aoMap,re=!!P.lightMap,me=!!P.bumpMap,he=!!P.normalMap,Ae=!!P.displacementMap,Se=!!P.emissiveMap,Re=!!P.metalnessMap,ot=!!P.roughnessMap,rt=P.anisotropy>0,oe=P.clearcoat>0,Z=P.dispersion>0,ve=P.iridescence>0,Ee=P.sheen>0,je=P.transmission>0,Te=rt&&!!P.anisotropyMap,ct=oe&&!!P.clearcoatMap,We=oe&&!!P.clearcoatNormalMap,lt=oe&&!!P.clearcoatRoughnessMap,Ye=ve&&!!P.iridescenceMap,Ve=ve&&!!P.iridescenceThicknessMap,at=Ee&&!!P.sheenColorMap,Tt=Ee&&!!P.sheenRoughnessMap,pe=!!P.specularMap,Me=!!P.specularColorMap,Je=!!P.specularIntensityMap,de=je&&!!P.transmissionMap,ke=je&&!!P.thicknessMap,$e=!!P.gradientMap,Ge=!!P.alphaMap,ze=P.alphaTest>0,Le=!!P.alphaHash,et=!!P.extensions;let vt=Zl;P.toneMapped&&(U===null||U.isXRRenderTarget===!0)&&(vt=t.toneMapping);const zt={shaderID:j,shaderType:P.type,shaderName:P.name,vertexShader:K,fragmentShader:ie,defines:P.defines,customVertexShaderID:le,customFragmentShaderID:J,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:g,batching:te,batchingColor:te&&D._colorsTexture!==null,instancing:Q,instancingColor:Q&&D.instanceColor!==null,instancingMorph:Q&&D.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:U===null?t.outputColorSpace:U.isXRRenderTarget===!0?U.texture.colorSpace:Tp,alphaToCoverage:!!P.alphaToCoverage,map:ue,matcap:ee,envMap:Y,envMapMode:Y&&H.mapping,envMapCubeUVHeight:R,aoMap:se,lightMap:re,bumpMap:me,normalMap:he,displacementMap:h&&Ae,emissiveMap:Se,normalMapObjectSpace:he&&P.normalMapType===qve,normalMapTangentSpace:he&&P.normalMapType===Sf,metalnessMap:Re,roughnessMap:ot,anisotropy:rt,anisotropyMap:Te,clearcoat:oe,clearcoatMap:ct,clearcoatNormalMap:We,clearcoatRoughnessMap:lt,dispersion:Z,iridescence:ve,iridescenceMap:Ye,iridescenceThicknessMap:Ve,sheen:Ee,sheenColorMap:at,sheenRoughnessMap:Tt,specularMap:pe,specularColorMap:Me,specularIntensityMap:Je,transmission:je,transmissionMap:de,thicknessMap:ke,gradientMap:$e,opaque:P.transparent===!1&&P.blending===Zh&&P.alphaToCoverage===!1,alphaMap:Ge,alphaTest:ze,alphaHash:Le,combine:P.combine,mapUv:ue&&x(P.map.channel),aoMapUv:se&&x(P.aoMap.channel),lightMapUv:re&&x(P.lightMap.channel),bumpMapUv:me&&x(P.bumpMap.channel),normalMapUv:he&&x(P.normalMap.channel),displacementMapUv:Ae&&x(P.displacementMap.channel),emissiveMapUv:Se&&x(P.emissiveMap.channel),metalnessMapUv:Re&&x(P.metalnessMap.channel),roughnessMapUv:ot&&x(P.roughnessMap.channel),anisotropyMapUv:Te&&x(P.anisotropyMap.channel),clearcoatMapUv:ct&&x(P.clearcoatMap.channel),clearcoatNormalMapUv:We&&x(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:lt&&x(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Ye&&x(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ve&&x(P.iridescenceThicknessMap.channel),sheenColorMapUv:at&&x(P.sheenColorMap.channel),sheenRoughnessMapUv:Tt&&x(P.sheenRoughnessMap.channel),specularMapUv:pe&&x(P.specularMap.channel),specularColorMapUv:Me&&x(P.specularColorMap.channel),specularIntensityMapUv:Je&&x(P.specularIntensityMap.channel),transmissionMapUv:de&&x(P.transmissionMap.channel),thicknessMapUv:ke&&x(P.thicknessMap.channel),alphaMapUv:Ge&&x(P.alphaMap.channel),vertexTangents:!!$.attributes.tangent&&(he||rt),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!$.attributes.color&&$.attributes.color.itemSize===4,pointsUvs:D.isPoints===!0&&!!$.attributes.uv&&(ue||Ge),fog:!!F,useFog:P.fog===!0,fogExp2:!!F&&F.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:X,skinning:D.isSkinnedMesh===!0,morphTargets:$.morphAttributes.position!==void 0,morphNormals:$.morphAttributes.normal!==void 0,morphColors:$.morphAttributes.color!==void 0,morphTargetsCount:W,morphTextureStride:G,numDirLights:N.directional.length,numPointLights:N.point.length,numSpotLights:N.spot.length,numSpotLightMaps:N.spotLightMap.length,numRectAreaLights:N.rectArea.length,numHemiLights:N.hemi.length,numDirLightShadows:N.directionalShadowMap.length,numPointLightShadows:N.pointShadowMap.length,numSpotLightShadows:N.spotShadowMap.length,numSpotLightShadowsWithMaps:N.numSpotLightShadowsWithMaps,numLightProbes:N.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:vt,decodeVideoTexture:ue&&P.map.isVideoTexture===!0&&Cn.getTransfer(P.map.colorSpace)===qn,decodeVideoTextureEmissive:Se&&P.emissiveMap.isVideoTexture===!0&&Cn.getTransfer(P.emissiveMap.colorSpace)===qn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Ga,flipSided:P.side===os,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:et&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(et&&P.extensions.multiDraw===!0||te)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return zt.vertexUv1s=c.has(1),zt.vertexUv2s=c.has(2),zt.vertexUv3s=c.has(3),c.clear(),zt}function p(P){const N=[];if(P.shaderID?N.push(P.shaderID):(N.push(P.customVertexShaderID),N.push(P.customFragmentShaderID)),P.defines!==void 0)for(const O in P.defines)N.push(O),N.push(P.defines[O]);return P.isRawShaderMaterial===!1&&(y(N,P),_(N,P),N.push(t.outputColorSpace)),N.push(P.customProgramCacheKey),N.join()}function y(P,N){P.push(N.precision),P.push(N.outputColorSpace),P.push(N.envMapMode),P.push(N.envMapCubeUVHeight),P.push(N.mapUv),P.push(N.alphaMapUv),P.push(N.lightMapUv),P.push(N.aoMapUv),P.push(N.bumpMapUv),P.push(N.normalMapUv),P.push(N.displacementMapUv),P.push(N.emissiveMapUv),P.push(N.metalnessMapUv),P.push(N.roughnessMapUv),P.push(N.anisotropyMapUv),P.push(N.clearcoatMapUv),P.push(N.clearcoatNormalMapUv),P.push(N.clearcoatRoughnessMapUv),P.push(N.iridescenceMapUv),P.push(N.iridescenceThicknessMapUv),P.push(N.sheenColorMapUv),P.push(N.sheenRoughnessMapUv),P.push(N.specularMapUv),P.push(N.specularColorMapUv),P.push(N.specularIntensityMapUv),P.push(N.transmissionMapUv),P.push(N.thicknessMapUv),P.push(N.combine),P.push(N.fogExp2),P.push(N.sizeAttenuation),P.push(N.morphTargetsCount),P.push(N.morphAttributeCount),P.push(N.numDirLights),P.push(N.numPointLights),P.push(N.numSpotLights),P.push(N.numSpotLightMaps),P.push(N.numHemiLights),P.push(N.numRectAreaLights),P.push(N.numDirLightShadows),P.push(N.numPointLightShadows),P.push(N.numSpotLightShadows),P.push(N.numSpotLightShadowsWithMaps),P.push(N.numLightProbes),P.push(N.shadowMapType),P.push(N.toneMapping),P.push(N.numClippingPlanes),P.push(N.numClipIntersection),P.push(N.depthPacking)}function _(P,N){a.disableAll(),N.supportsVertexTextures&&a.enable(0),N.instancing&&a.enable(1),N.instancingColor&&a.enable(2),N.instancingMorph&&a.enable(3),N.matcap&&a.enable(4),N.envMap&&a.enable(5),N.normalMapObjectSpace&&a.enable(6),N.normalMapTangentSpace&&a.enable(7),N.clearcoat&&a.enable(8),N.iridescence&&a.enable(9),N.alphaTest&&a.enable(10),N.vertexColors&&a.enable(11),N.vertexAlphas&&a.enable(12),N.vertexUv1s&&a.enable(13),N.vertexUv2s&&a.enable(14),N.vertexUv3s&&a.enable(15),N.vertexTangents&&a.enable(16),N.anisotropy&&a.enable(17),N.alphaHash&&a.enable(18),N.batching&&a.enable(19),N.dispersion&&a.enable(20),N.batchingColor&&a.enable(21),N.gradientMap&&a.enable(22),P.push(a.mask),a.disableAll(),N.fog&&a.enable(0),N.useFog&&a.enable(1),N.flatShading&&a.enable(2),N.logarithmicDepthBuffer&&a.enable(3),N.reversedDepthBuffer&&a.enable(4),N.skinning&&a.enable(5),N.morphTargets&&a.enable(6),N.morphNormals&&a.enable(7),N.morphColors&&a.enable(8),N.premultipliedAlpha&&a.enable(9),N.shadowMapEnabled&&a.enable(10),N.doubleSided&&a.enable(11),N.flipSided&&a.enable(12),N.useDepthPacking&&a.enable(13),N.dithering&&a.enable(14),N.transmission&&a.enable(15),N.sheen&&a.enable(16),N.opaque&&a.enable(17),N.pointsUvs&&a.enable(18),N.decodeVideoTexture&&a.enable(19),N.decodeVideoTextureEmissive&&a.enable(20),N.alphaToCoverage&&a.enable(21),P.push(a.mask)}function b(P){const N=v[P.type];let O;if(N){const I=Va[N];O=vz.clone(I.uniforms)}else O=P.uniforms;return O}function w(P,N){let O;for(let I=0,D=f.length;I<D;I++){const F=f[I];if(F.cacheKey===N){O=F,++O.usedTimes;break}}return O===void 0&&(O=new SCt(t,N,P,s),f.push(O)),O}function E(P){if(--P.usedTimes===0){const N=f.indexOf(P);f[N]=f[f.length-1],f.pop(),P.destroy()}}function A(P){l.remove(P)}function T(){l.dispose()}return{getParameters:m,getProgramCacheKey:p,getUniforms:b,acquireProgram:w,releaseProgram:E,releaseShaderCache:A,programs:f,dispose:T}}function TCt(){let t=new WeakMap;function e(o){return t.has(o)}function n(o){let a=t.get(o);return a===void 0&&(a={},t.set(o,a)),a}function r(o){t.delete(o)}function i(o,a,l){t.get(o)[a]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function PCt(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function sZ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function oZ(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(d,h,g,v,x,m){let p=t[e];return p===void 0?(p={id:d.id,object:d,geometry:h,material:g,groupOrder:v,renderOrder:d.renderOrder,z:x,group:m},t[e]=p):(p.id=d.id,p.object=d,p.geometry=h,p.material=g,p.groupOrder=v,p.renderOrder=d.renderOrder,p.z=x,p.group=m),e++,p}function a(d,h,g,v,x,m){const p=o(d,h,g,v,x,m);g.transmission>0?r.push(p):g.transparent===!0?i.push(p):n.push(p)}function l(d,h,g,v,x,m){const p=o(d,h,g,v,x,m);g.transmission>0?r.unshift(p):g.transparent===!0?i.unshift(p):n.unshift(p)}function c(d,h){n.length>1&&n.sort(d||PCt),r.length>1&&r.sort(h||sZ),i.length>1&&i.sort(h||sZ)}function f(){for(let d=e,h=t.length;d<h;d++){const g=t[d];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:f,sort:c}}function NCt(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new oZ,t.set(r,[o])):i>=s.length?(o=new oZ,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function RCt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ce,color:new gt};break;case"SpotLight":n={position:new ce,direction:new ce,color:new gt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ce,color:new gt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ce,skyColor:new gt,groundColor:new gt};break;case"RectAreaLight":n={color:new gt,position:new ce,halfWidth:new ce,halfHeight:new ce};break}return t[e.id]=n,n}}}function kCt(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new He,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let OCt=0;function ICt(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function jCt(t){const e=new RCt,n=kCt(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new ce);const i=new ce,s=new Qt,o=new Qt;function a(c){let f=0,d=0,h=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let g=0,v=0,x=0,m=0,p=0,y=0,_=0,b=0,w=0,E=0,A=0;c.sort(ICt);for(let P=0,N=c.length;P<N;P++){const O=c[P],I=O.color,D=O.intensity,F=O.distance,$=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)f+=I.r*D,d+=I.g*D,h+=I.b*D;else if(O.isLightProbe){for(let z=0;z<9;z++)r.probe[z].addScaledVector(O.sh.coefficients[z],D);A++}else if(O.isDirectionalLight){const z=e.get(O);if(z.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const H=O.shadow,R=n.get(O);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,r.directionalShadow[g]=R,r.directionalShadowMap[g]=$,r.directionalShadowMatrix[g]=O.shadow.matrix,y++}r.directional[g]=z,g++}else if(O.isSpotLight){const z=e.get(O);z.position.setFromMatrixPosition(O.matrixWorld),z.color.copy(I).multiplyScalar(D),z.distance=F,z.coneCos=Math.cos(O.angle),z.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),z.decay=O.decay,r.spot[x]=z;const H=O.shadow;if(O.map&&(r.spotLightMap[w]=O.map,w++,H.updateMatrices(O),O.castShadow&&E++),r.spotLightMatrix[x]=H.matrix,O.castShadow){const R=n.get(O);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,r.spotShadow[x]=R,r.spotShadowMap[x]=$,b++}x++}else if(O.isRectAreaLight){const z=e.get(O);z.color.copy(I).multiplyScalar(D),z.halfWidth.set(O.width*.5,0,0),z.halfHeight.set(0,O.height*.5,0),r.rectArea[m]=z,m++}else if(O.isPointLight){const z=e.get(O);if(z.color.copy(O.color).multiplyScalar(O.intensity),z.distance=O.distance,z.decay=O.decay,O.castShadow){const H=O.shadow,R=n.get(O);R.shadowIntensity=H.intensity,R.shadowBias=H.bias,R.shadowNormalBias=H.normalBias,R.shadowRadius=H.radius,R.shadowMapSize=H.mapSize,R.shadowCameraNear=H.camera.near,R.shadowCameraFar=H.camera.far,r.pointShadow[v]=R,r.pointShadowMap[v]=$,r.pointShadowMatrix[v]=O.shadow.matrix,_++}r.point[v]=z,v++}else if(O.isHemisphereLight){const z=e.get(O);z.skyColor.copy(O.color).multiplyScalar(D),z.groundColor.copy(O.groundColor).multiplyScalar(D),r.hemi[p]=z,p++}}m>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ft.LTC_FLOAT_1,r.rectAreaLTC2=ft.LTC_FLOAT_2):(r.rectAreaLTC1=ft.LTC_HALF_1,r.rectAreaLTC2=ft.LTC_HALF_2)),r.ambient[0]=f,r.ambient[1]=d,r.ambient[2]=h;const T=r.hash;(T.directionalLength!==g||T.pointLength!==v||T.spotLength!==x||T.rectAreaLength!==m||T.hemiLength!==p||T.numDirectionalShadows!==y||T.numPointShadows!==_||T.numSpotShadows!==b||T.numSpotMaps!==w||T.numLightProbes!==A)&&(r.directional.length=g,r.spot.length=x,r.rectArea.length=m,r.point.length=v,r.hemi.length=p,r.directionalShadow.length=y,r.directionalShadowMap.length=y,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=y,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=b+w-E,r.spotLightMap.length=w,r.numSpotLightShadowsWithMaps=E,r.numLightProbes=A,T.directionalLength=g,T.pointLength=v,T.spotLength=x,T.rectAreaLength=m,T.hemiLength=p,T.numDirectionalShadows=y,T.numPointShadows=_,T.numSpotShadows=b,T.numSpotMaps=w,T.numLightProbes=A,r.version=OCt++)}function l(c,f){let d=0,h=0,g=0,v=0,x=0;const m=f.matrixWorldInverse;for(let p=0,y=c.length;p<y;p++){const _=c[p];if(_.isDirectionalLight){const b=r.directional[d];b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),d++}else if(_.isSpotLight){const b=r.spot[g];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(m),g++}else if(_.isRectAreaLight){const b=r.rectArea[v];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),o.identity(),s.copy(_.matrixWorld),s.premultiply(m),o.extractRotation(s),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),v++}else if(_.isPointLight){const b=r.point[h];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(m),h++}else if(_.isHemisphereLight){const b=r.hemi[x];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(m),x++}}}return{setup:a,setupView:l,state:r}}function aZ(t){const e=new jCt(t),n=[],r=[];function i(f){c.camera=f,n.length=0,r.length=0}function s(f){n.push(f)}function o(f){r.push(f)}function a(){e.setup(n)}function l(f){e.setupView(n,f)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function DCt(t){let e=new WeakMap;function n(i,s=0){const o=e.get(i);let a;return o===void 0?(a=new aZ(t),e.set(i,[a])):s>=o.length?(a=new aZ(t),o.push(a)):a=o[s],a}function r(){e=new WeakMap}return{get:n,dispose:r}}const LCt=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,FCt=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function BCt(t,e,n){let r=new fx;const i=new He,s=new He,o=new Tn,a=new Rz({depthPacking:Gve}),l=new kz,c={},f=n.maxTextureSize,d={[bu]:os,[os]:bu,[Ga]:Ga},h=new ma({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new He},radius:{value:4}},vertexShader:LCt,fragmentShader:FCt}),g=h.clone();g.defines.HORIZONTAL_PASS=1;const v=new cn;v.setAttribute("position",new Jn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new ri(v,h),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=TN;let p=this.type;this.render=function(E,A,T){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||E.length===0)return;const P=t.getRenderTarget(),N=t.getActiveCubeFace(),O=t.getActiveMipmapLevel(),I=t.state;I.setBlending(iu),I.buffers.depth.getReversed()===!0?I.buffers.color.setClear(0,0,0,0):I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const D=p!==Ia&&this.type===Ia,F=p===Ia&&this.type!==Ia;for(let $=0,z=E.length;$<z;$++){const H=E[$],R=H.shadow;if(R===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(R.autoUpdate===!1&&R.needsUpdate===!1)continue;i.copy(R.mapSize);const j=R.getFrameExtents();if(i.multiply(j),s.copy(R.mapSize),(i.x>f||i.y>f)&&(i.x>f&&(s.x=Math.floor(f/j.x),i.x=s.x*j.x,R.mapSize.x=s.x),i.y>f&&(s.y=Math.floor(f/j.y),i.y=s.y*j.y,R.mapSize.y=s.y)),R.map===null||D===!0||F===!0){const W=this.type!==Ia?{minFilter:Li,magFilter:Li}:{};R.map!==null&&R.map.dispose(),R.map=new ac(i.x,i.y,W),R.map.texture.name=H.name+".shadowMap",R.camera.updateProjectionMatrix()}t.setRenderTarget(R.map),t.clear();const B=R.getViewportCount();for(let W=0;W<B;W++){const G=R.getViewport(W);o.set(s.x*G.x,s.y*G.y,s.x*G.z,s.y*G.w),I.viewport(o),R.updateMatrices(H,W),r=R.getFrustum(),b(A,T,R.camera,H,this.type)}R.isPointLightShadow!==!0&&this.type===Ia&&y(R,T),R.needsUpdate=!1}p=this.type,m.needsUpdate=!1,t.setRenderTarget(P,N,O)};function y(E,A){const T=e.update(x);h.defines.VSM_SAMPLES!==E.blurSamples&&(h.defines.VSM_SAMPLES=E.blurSamples,g.defines.VSM_SAMPLES=E.blurSamples,h.needsUpdate=!0,g.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new ac(i.x,i.y)),h.uniforms.shadow_pass.value=E.map.texture,h.uniforms.resolution.value=E.mapSize,h.uniforms.radius.value=E.radius,t.setRenderTarget(E.mapPass),t.clear(),t.renderBufferDirect(A,null,T,h,x,null),g.uniforms.shadow_pass.value=E.mapPass.texture,g.uniforms.resolution.value=E.mapSize,g.uniforms.radius.value=E.radius,t.setRenderTarget(E.map),t.clear(),t.renderBufferDirect(A,null,T,g,x,null)}function _(E,A,T,P){let N=null;const O=T.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(O!==void 0)N=O;else if(N=T.isPointLight===!0?l:a,t.localClippingEnabled&&A.clipShadows===!0&&Array.isArray(A.clippingPlanes)&&A.clippingPlanes.length!==0||A.displacementMap&&A.displacementScale!==0||A.alphaMap&&A.alphaTest>0||A.map&&A.alphaTest>0||A.alphaToCoverage===!0){const I=N.uuid,D=A.uuid;let F=c[I];F===void 0&&(F={},c[I]=F);let $=F[D];$===void 0&&($=N.clone(),F[D]=$,A.addEventListener("dispose",w)),N=$}if(N.visible=A.visible,N.wireframe=A.wireframe,P===Ia?N.side=A.shadowSide!==null?A.shadowSide:A.side:N.side=A.shadowSide!==null?A.shadowSide:d[A.side],N.alphaMap=A.alphaMap,N.alphaTest=A.alphaToCoverage===!0?.5:A.alphaTest,N.map=A.map,N.clipShadows=A.clipShadows,N.clippingPlanes=A.clippingPlanes,N.clipIntersection=A.clipIntersection,N.displacementMap=A.displacementMap,N.displacementScale=A.displacementScale,N.displacementBias=A.displacementBias,N.wireframeLinewidth=A.wireframeLinewidth,N.linewidth=A.linewidth,T.isPointLight===!0&&N.isMeshDistanceMaterial===!0){const I=t.properties.get(N);I.light=T}return N}function b(E,A,T,P,N){if(E.visible===!1)return;if(E.layers.test(A.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&N===Ia)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,E.matrixWorld);const D=e.update(E),F=E.material;if(Array.isArray(F)){const $=D.groups;for(let z=0,H=$.length;z<H;z++){const R=$[z],j=F[R.materialIndex];if(j&&j.visible){const B=_(E,j,P,N);E.onBeforeShadow(t,E,A,T,D,B,R),t.renderBufferDirect(T,null,D,B,E,R),E.onAfterShadow(t,E,A,T,D,B,R)}}}else if(F.visible){const $=_(E,F,P,N);E.onBeforeShadow(t,E,A,T,D,$,null),t.renderBufferDirect(T,null,D,$,E,null),E.onAfterShadow(t,E,A,T,D,$,null)}}const I=E.children;for(let D=0,F=I.length;D<F;D++)b(I[D],A,T,P,N)}function w(E){E.target.removeEventListener("dispose",w);for(const T in c){const P=c[T],N=E.target.uuid;N in P&&(P[N].dispose(),delete P[N])}}}const UCt={[ST]:CT,[ET]:TT,[MT]:PT,[Ap]:AT,[CT]:ST,[TT]:ET,[PT]:MT,[AT]:Ap};function $Ct(t,e){function n(){let de=!1;const ke=new Tn;let $e=null;const Ge=new Tn(0,0,0,0);return{setMask:function(ze){$e!==ze&&!de&&(t.colorMask(ze,ze,ze,ze),$e=ze)},setLocked:function(ze){de=ze},setClear:function(ze,Le,et,vt,zt){zt===!0&&(ze*=vt,Le*=vt,et*=vt),ke.set(ze,Le,et,vt),Ge.equals(ke)===!1&&(t.clearColor(ze,Le,et,vt),Ge.copy(ke))},reset:function(){de=!1,$e=null,Ge.set(-1,0,0,0)}}}function r(){let de=!1,ke=!1,$e=null,Ge=null,ze=null;return{setReversed:function(Le){if(ke!==Le){const et=e.get("EXT_clip_control");Le?et.clipControlEXT(et.LOWER_LEFT_EXT,et.ZERO_TO_ONE_EXT):et.clipControlEXT(et.LOWER_LEFT_EXT,et.NEGATIVE_ONE_TO_ONE_EXT),ke=Le;const vt=ze;ze=null,this.setClear(vt)}},getReversed:function(){return ke},setTest:function(Le){Le?U(t.DEPTH_TEST):X(t.DEPTH_TEST)},setMask:function(Le){$e!==Le&&!de&&(t.depthMask(Le),$e=Le)},setFunc:function(Le){if(ke&&(Le=UCt[Le]),Ge!==Le){switch(Le){case ST:t.depthFunc(t.NEVER);break;case CT:t.depthFunc(t.ALWAYS);break;case ET:t.depthFunc(t.LESS);break;case Ap:t.depthFunc(t.LEQUAL);break;case MT:t.depthFunc(t.EQUAL);break;case AT:t.depthFunc(t.GEQUAL);break;case TT:t.depthFunc(t.GREATER);break;case PT:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ge=Le}},setLocked:function(Le){de=Le},setClear:function(Le){ze!==Le&&(ke&&(Le=1-Le),t.clearDepth(Le),ze=Le)},reset:function(){de=!1,$e=null,Ge=null,ze=null,ke=!1}}}function i(){let de=!1,ke=null,$e=null,Ge=null,ze=null,Le=null,et=null,vt=null,zt=null;return{setTest:function(qt){de||(qt?U(t.STENCIL_TEST):X(t.STENCIL_TEST))},setMask:function(qt){ke!==qt&&!de&&(t.stencilMask(qt),ke=qt)},setFunc:function(qt,Gn,Un){($e!==qt||Ge!==Gn||ze!==Un)&&(t.stencilFunc(qt,Gn,Un),$e=qt,Ge=Gn,ze=Un)},setOp:function(qt,Gn,Un){(Le!==qt||et!==Gn||vt!==Un)&&(t.stencilOp(qt,Gn,Un),Le=qt,et=Gn,vt=Un)},setLocked:function(qt){de=qt},setClear:function(qt){zt!==qt&&(t.clearStencil(qt),zt=qt)},reset:function(){de=!1,ke=null,$e=null,Ge=null,ze=null,Le=null,et=null,vt=null,zt=null}}}const s=new n,o=new r,a=new i,l=new WeakMap,c=new WeakMap;let f={},d={},h=new WeakMap,g=[],v=null,x=!1,m=null,p=null,y=null,_=null,b=null,w=null,E=null,A=new gt(0,0,0),T=0,P=!1,N=null,O=null,I=null,D=null,F=null;const $=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,H=0;const R=t.getParameter(t.VERSION);R.indexOf("WebGL")!==-1?(H=parseFloat(/^WebGL (\d)/.exec(R)[1]),z=H>=1):R.indexOf("OpenGL ES")!==-1&&(H=parseFloat(/^OpenGL ES (\d)/.exec(R)[1]),z=H>=2);let j=null,B={};const W=t.getParameter(t.SCISSOR_BOX),G=t.getParameter(t.VIEWPORT),K=new Tn().fromArray(W),ie=new Tn().fromArray(G);function le(de,ke,$e,Ge){const ze=new Uint8Array(4),Le=t.createTexture();t.bindTexture(de,Le),t.texParameteri(de,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(de,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let et=0;et<$e;et++)de===t.TEXTURE_3D||de===t.TEXTURE_2D_ARRAY?t.texImage3D(ke,0,t.RGBA,1,1,Ge,0,t.RGBA,t.UNSIGNED_BYTE,ze):t.texImage2D(ke+et,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ze);return Le}const J={};J[t.TEXTURE_2D]=le(t.TEXTURE_2D,t.TEXTURE_2D,1),J[t.TEXTURE_CUBE_MAP]=le(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),J[t.TEXTURE_2D_ARRAY]=le(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),J[t.TEXTURE_3D]=le(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),U(t.DEPTH_TEST),o.setFunc(Ap),me(!1),he(PF),U(t.CULL_FACE),se(iu);function U(de){f[de]!==!0&&(t.enable(de),f[de]=!0)}function X(de){f[de]!==!1&&(t.disable(de),f[de]=!1)}function Q(de,ke){return d[de]!==ke?(t.bindFramebuffer(de,ke),d[de]=ke,de===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=ke),de===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=ke),!0):!1}function te(de,ke){let $e=g,Ge=!1;if(de){$e=h.get(ke),$e===void 0&&($e=[],h.set(ke,$e));const ze=de.textures;if($e.length!==ze.length||$e[0]!==t.COLOR_ATTACHMENT0){for(let Le=0,et=ze.length;Le<et;Le++)$e[Le]=t.COLOR_ATTACHMENT0+Le;$e.length=ze.length,Ge=!0}}else $e[0]!==t.BACK&&($e[0]=t.BACK,Ge=!0);Ge&&t.drawBuffers($e)}function ue(de){return v!==de?(t.useProgram(de),v=de,!0):!1}const ee={[xd]:t.FUNC_ADD,[gve]:t.FUNC_SUBTRACT,[vve]:t.FUNC_REVERSE_SUBTRACT};ee[yve]=t.MIN,ee[xve]=t.MAX;const Y={[_ve]:t.ZERO,[bve]:t.ONE,[wve]:t.SRC_COLOR,[bT]:t.SRC_ALPHA,[Tve]:t.SRC_ALPHA_SATURATE,[Mve]:t.DST_COLOR,[Cve]:t.DST_ALPHA,[Sve]:t.ONE_MINUS_SRC_COLOR,[wT]:t.ONE_MINUS_SRC_ALPHA,[Ave]:t.ONE_MINUS_DST_COLOR,[Eve]:t.ONE_MINUS_DST_ALPHA,[Pve]:t.CONSTANT_COLOR,[Nve]:t.ONE_MINUS_CONSTANT_COLOR,[Rve]:t.CONSTANT_ALPHA,[kve]:t.ONE_MINUS_CONSTANT_ALPHA};function se(de,ke,$e,Ge,ze,Le,et,vt,zt,qt){if(de===iu){x===!0&&(X(t.BLEND),x=!1);return}if(x===!1&&(U(t.BLEND),x=!0),de!==mve){if(de!==m||qt!==P){if((p!==xd||b!==xd)&&(t.blendEquation(t.FUNC_ADD),p=xd,b=xd),qt)switch(de){case Zh:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case NF:t.blendFunc(t.ONE,t.ONE);break;case RF:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case kF:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}else switch(de){case Zh:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case NF:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case RF:console.error("THREE.WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case kF:console.error("THREE.WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:console.error("THREE.WebGLState: Invalid blending: ",de);break}y=null,_=null,w=null,E=null,A.set(0,0,0),T=0,m=de,P=qt}return}ze=ze||ke,Le=Le||$e,et=et||Ge,(ke!==p||ze!==b)&&(t.blendEquationSeparate(ee[ke],ee[ze]),p=ke,b=ze),($e!==y||Ge!==_||Le!==w||et!==E)&&(t.blendFuncSeparate(Y[$e],Y[Ge],Y[Le],Y[et]),y=$e,_=Ge,w=Le,E=et),(vt.equals(A)===!1||zt!==T)&&(t.blendColor(vt.r,vt.g,vt.b,zt),A.copy(vt),T=zt),m=de,P=!1}function re(de,ke){de.side===Ga?X(t.CULL_FACE):U(t.CULL_FACE);let $e=de.side===os;ke&&($e=!$e),me($e),de.blending===Zh&&de.transparent===!1?se(iu):se(de.blending,de.blendEquation,de.blendSrc,de.blendDst,de.blendEquationAlpha,de.blendSrcAlpha,de.blendDstAlpha,de.blendColor,de.blendAlpha,de.premultipliedAlpha),o.setFunc(de.depthFunc),o.setTest(de.depthTest),o.setMask(de.depthWrite),s.setMask(de.colorWrite);const Ge=de.stencilWrite;a.setTest(Ge),Ge&&(a.setMask(de.stencilWriteMask),a.setFunc(de.stencilFunc,de.stencilRef,de.stencilFuncMask),a.setOp(de.stencilFail,de.stencilZFail,de.stencilZPass)),Se(de.polygonOffset,de.polygonOffsetFactor,de.polygonOffsetUnits),de.alphaToCoverage===!0?U(t.SAMPLE_ALPHA_TO_COVERAGE):X(t.SAMPLE_ALPHA_TO_COVERAGE)}function me(de){N!==de&&(de?t.frontFace(t.CW):t.frontFace(t.CCW),N=de)}function he(de){de!==fve?(U(t.CULL_FACE),de!==O&&(de===PF?t.cullFace(t.BACK):de===hve?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):X(t.CULL_FACE),O=de}function Ae(de){de!==I&&(z&&t.lineWidth(de),I=de)}function Se(de,ke,$e){de?(U(t.POLYGON_OFFSET_FILL),(D!==ke||F!==$e)&&(t.polygonOffset(ke,$e),D=ke,F=$e)):X(t.POLYGON_OFFSET_FILL)}function Re(de){de?U(t.SCISSOR_TEST):X(t.SCISSOR_TEST)}function ot(de){de===void 0&&(de=t.TEXTURE0+$-1),j!==de&&(t.activeTexture(de),j=de)}function rt(de,ke,$e){$e===void 0&&(j===null?$e=t.TEXTURE0+$-1:$e=j);let Ge=B[$e];Ge===void 0&&(Ge={type:void 0,texture:void 0},B[$e]=Ge),(Ge.type!==de||Ge.texture!==ke)&&(j!==$e&&(t.activeTexture($e),j=$e),t.bindTexture(de,ke||J[de]),Ge.type=de,Ge.texture=ke)}function oe(){const de=B[j];de!==void 0&&de.type!==void 0&&(t.bindTexture(de.type,null),de.type=void 0,de.texture=void 0)}function Z(){try{t.compressedTexImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ve(){try{t.compressedTexImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ee(){try{t.texSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function je(){try{t.texSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Te(){try{t.compressedTexSubImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function ct(){try{t.compressedTexSubImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function We(){try{t.texStorage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function lt(){try{t.texStorage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ye(){try{t.texImage2D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function Ve(){try{t.texImage3D(...arguments)}catch(de){console.error("THREE.WebGLState:",de)}}function at(de){K.equals(de)===!1&&(t.scissor(de.x,de.y,de.z,de.w),K.copy(de))}function Tt(de){ie.equals(de)===!1&&(t.viewport(de.x,de.y,de.z,de.w),ie.copy(de))}function pe(de,ke){let $e=c.get(ke);$e===void 0&&($e=new WeakMap,c.set(ke,$e));let Ge=$e.get(de);Ge===void 0&&(Ge=t.getUniformBlockIndex(ke,de.name),$e.set(de,Ge))}function Me(de,ke){const Ge=c.get(ke).get(de);l.get(ke)!==Ge&&(t.uniformBlockBinding(ke,Ge,de.__bindingPointIndex),l.set(ke,Ge))}function Je(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),o.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},j=null,B={},d={},h=new WeakMap,g=[],v=null,x=!1,m=null,p=null,y=null,_=null,b=null,w=null,E=null,A=new gt(0,0,0),T=0,P=!1,N=null,O=null,I=null,D=null,F=null,K.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:U,disable:X,bindFramebuffer:Q,drawBuffers:te,useProgram:ue,setBlending:se,setMaterial:re,setFlipSided:me,setCullFace:he,setLineWidth:Ae,setPolygonOffset:Se,setScissorTest:Re,activeTexture:ot,bindTexture:rt,unbindTexture:oe,compressedTexImage2D:Z,compressedTexImage3D:ve,texImage2D:Ye,texImage3D:Ve,updateUBOMapping:pe,uniformBlockBinding:Me,texStorage2D:We,texStorage3D:lt,texSubImage2D:Ee,texSubImage3D:je,compressedTexSubImage2D:Te,compressedTexSubImage3D:ct,scissor:at,viewport:Tt,reset:Je}}function zCt(t,e,n,r,i,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new He,f=new WeakMap;let d;const h=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(oe,Z){return g?new OffscreenCanvas(oe,Z):lw("canvas")}function x(oe,Z,ve){let Ee=1;const je=rt(oe);if((je.width>ve||je.height>ve)&&(Ee=ve/Math.max(je.width,je.height)),Ee<1)if(typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&oe instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&oe instanceof ImageBitmap||typeof VideoFrame<"u"&&oe instanceof VideoFrame){const Te=Math.floor(Ee*je.width),ct=Math.floor(Ee*je.height);d===void 0&&(d=v(Te,ct));const We=Z?v(Te,ct):d;return We.width=Te,We.height=ct,We.getContext("2d").drawImage(oe,0,0,Te,ct),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+je.width+"x"+je.height+") to ("+Te+"x"+ct+")."),We}else return"data"in oe&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+je.width+"x"+je.height+")."),oe;return oe}function m(oe){return oe.generateMipmaps}function p(oe){t.generateMipmap(oe)}function y(oe){return oe.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:oe.isWebGL3DRenderTarget?t.TEXTURE_3D:oe.isWebGLArrayRenderTarget||oe.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(oe,Z,ve,Ee,je=!1){if(oe!==null){if(t[oe]!==void 0)return t[oe];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+oe+"'")}let Te=Z;if(Z===t.RED&&(ve===t.FLOAT&&(Te=t.R32F),ve===t.HALF_FLOAT&&(Te=t.R16F),ve===t.UNSIGNED_BYTE&&(Te=t.R8)),Z===t.RED_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.R8UI),ve===t.UNSIGNED_SHORT&&(Te=t.R16UI),ve===t.UNSIGNED_INT&&(Te=t.R32UI),ve===t.BYTE&&(Te=t.R8I),ve===t.SHORT&&(Te=t.R16I),ve===t.INT&&(Te=t.R32I)),Z===t.RG&&(ve===t.FLOAT&&(Te=t.RG32F),ve===t.HALF_FLOAT&&(Te=t.RG16F),ve===t.UNSIGNED_BYTE&&(Te=t.RG8)),Z===t.RG_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.RG8UI),ve===t.UNSIGNED_SHORT&&(Te=t.RG16UI),ve===t.UNSIGNED_INT&&(Te=t.RG32UI),ve===t.BYTE&&(Te=t.RG8I),ve===t.SHORT&&(Te=t.RG16I),ve===t.INT&&(Te=t.RG32I)),Z===t.RGB_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.RGB8UI),ve===t.UNSIGNED_SHORT&&(Te=t.RGB16UI),ve===t.UNSIGNED_INT&&(Te=t.RGB32UI),ve===t.BYTE&&(Te=t.RGB8I),ve===t.SHORT&&(Te=t.RGB16I),ve===t.INT&&(Te=t.RGB32I)),Z===t.RGBA_INTEGER&&(ve===t.UNSIGNED_BYTE&&(Te=t.RGBA8UI),ve===t.UNSIGNED_SHORT&&(Te=t.RGBA16UI),ve===t.UNSIGNED_INT&&(Te=t.RGBA32UI),ve===t.BYTE&&(Te=t.RGBA8I),ve===t.SHORT&&(Te=t.RGBA16I),ve===t.INT&&(Te=t.RGBA32I)),Z===t.RGB&&(ve===t.UNSIGNED_INT_5_9_9_9_REV&&(Te=t.RGB9_E5),ve===t.UNSIGNED_INT_10F_11F_11F_REV&&(Te=t.R11F_G11F_B10F)),Z===t.RGBA){const ct=je?ow:Cn.getTransfer(Ee);ve===t.FLOAT&&(Te=t.RGBA32F),ve===t.HALF_FLOAT&&(Te=t.RGBA16F),ve===t.UNSIGNED_BYTE&&(Te=ct===qn?t.SRGB8_ALPHA8:t.RGBA8),ve===t.UNSIGNED_SHORT_4_4_4_4&&(Te=t.RGBA4),ve===t.UNSIGNED_SHORT_5_5_5_1&&(Te=t.RGB5_A1)}return(Te===t.R16F||Te===t.R32F||Te===t.RG16F||Te===t.RG32F||Te===t.RGBA16F||Te===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Te}function b(oe,Z){let ve;return oe?Z===null||Z===Su||Z===yy?ve=t.DEPTH24_STENCIL8:Z===Gs?ve=t.DEPTH32F_STENCIL8:Z===vy&&(ve=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):Z===null||Z===Su||Z===yy?ve=t.DEPTH_COMPONENT24:Z===Gs?ve=t.DEPTH_COMPONENT32F:Z===vy&&(ve=t.DEPTH_COMPONENT16),ve}function w(oe,Z){return m(oe)===!0||oe.isFramebufferTexture&&oe.minFilter!==Li&&oe.minFilter!==pi?Math.log2(Math.max(Z.width,Z.height))+1:oe.mipmaps!==void 0&&oe.mipmaps.length>0?oe.mipmaps.length:oe.isCompressedTexture&&Array.isArray(oe.image)?Z.mipmaps.length:1}function E(oe){const Z=oe.target;Z.removeEventListener("dispose",E),T(Z),Z.isVideoTexture&&f.delete(Z)}function A(oe){const Z=oe.target;Z.removeEventListener("dispose",A),N(Z)}function T(oe){const Z=r.get(oe);if(Z.__webglInit===void 0)return;const ve=oe.source,Ee=h.get(ve);if(Ee){const je=Ee[Z.__cacheKey];je.usedTimes--,je.usedTimes===0&&P(oe),Object.keys(Ee).length===0&&h.delete(ve)}r.remove(oe)}function P(oe){const Z=r.get(oe);t.deleteTexture(Z.__webglTexture);const ve=oe.source,Ee=h.get(ve);delete Ee[Z.__cacheKey],o.memory.textures--}function N(oe){const Z=r.get(oe);if(oe.depthTexture&&(oe.depthTexture.dispose(),r.remove(oe.depthTexture)),oe.isWebGLCubeRenderTarget)for(let Ee=0;Ee<6;Ee++){if(Array.isArray(Z.__webglFramebuffer[Ee]))for(let je=0;je<Z.__webglFramebuffer[Ee].length;je++)t.deleteFramebuffer(Z.__webglFramebuffer[Ee][je]);else t.deleteFramebuffer(Z.__webglFramebuffer[Ee]);Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer[Ee])}else{if(Array.isArray(Z.__webglFramebuffer))for(let Ee=0;Ee<Z.__webglFramebuffer.length;Ee++)t.deleteFramebuffer(Z.__webglFramebuffer[Ee]);else t.deleteFramebuffer(Z.__webglFramebuffer);if(Z.__webglDepthbuffer&&t.deleteRenderbuffer(Z.__webglDepthbuffer),Z.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Z.__webglMultisampledFramebuffer),Z.__webglColorRenderbuffer)for(let Ee=0;Ee<Z.__webglColorRenderbuffer.length;Ee++)Z.__webglColorRenderbuffer[Ee]&&t.deleteRenderbuffer(Z.__webglColorRenderbuffer[Ee]);Z.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Z.__webglDepthRenderbuffer)}const ve=oe.textures;for(let Ee=0,je=ve.length;Ee<je;Ee++){const Te=r.get(ve[Ee]);Te.__webglTexture&&(t.deleteTexture(Te.__webglTexture),o.memory.textures--),r.remove(ve[Ee])}r.remove(oe)}let O=0;function I(){O=0}function D(){const oe=O;return oe>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+oe+" texture units while this GPU supports only "+i.maxTextures),O+=1,oe}function F(oe){const Z=[];return Z.push(oe.wrapS),Z.push(oe.wrapT),Z.push(oe.wrapR||0),Z.push(oe.magFilter),Z.push(oe.minFilter),Z.push(oe.anisotropy),Z.push(oe.internalFormat),Z.push(oe.format),Z.push(oe.type),Z.push(oe.generateMipmaps),Z.push(oe.premultiplyAlpha),Z.push(oe.flipY),Z.push(oe.unpackAlignment),Z.push(oe.colorSpace),Z.join()}function $(oe,Z){const ve=r.get(oe);if(oe.isVideoTexture&&Re(oe),oe.isRenderTargetTexture===!1&&oe.isExternalTexture!==!0&&oe.version>0&&ve.__version!==oe.version){const Ee=oe.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(ve,oe,Z);return}}else oe.isExternalTexture&&(ve.__webglTexture=oe.sourceTexture?oe.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,ve.__webglTexture,t.TEXTURE0+Z)}function z(oe,Z){const ve=r.get(oe);if(oe.isRenderTargetTexture===!1&&oe.version>0&&ve.__version!==oe.version){J(ve,oe,Z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ve.__webglTexture,t.TEXTURE0+Z)}function H(oe,Z){const ve=r.get(oe);if(oe.isRenderTargetTexture===!1&&oe.version>0&&ve.__version!==oe.version){J(ve,oe,Z);return}n.bindTexture(t.TEXTURE_3D,ve.__webglTexture,t.TEXTURE0+Z)}function R(oe,Z){const ve=r.get(oe);if(oe.version>0&&ve.__version!==oe.version){U(ve,oe,Z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ve.__webglTexture,t.TEXTURE0+Z)}const j={[nw]:t.REPEAT,[la]:t.CLAMP_TO_EDGE,[rw]:t.MIRRORED_REPEAT},B={[Li]:t.NEAREST,[rz]:t.NEAREST_MIPMAP_NEAREST,[Ng]:t.NEAREST_MIPMAP_LINEAR,[pi]:t.LINEAR,[b_]:t.LINEAR_MIPMAP_NEAREST,[Ul]:t.LINEAR_MIPMAP_LINEAR},W={[Kve]:t.NEVER,[eye]:t.ALWAYS,[Xve]:t.LESS,[fz]:t.LEQUAL,[Yve]:t.EQUAL,[Jve]:t.GEQUAL,[Zve]:t.GREATER,[Qve]:t.NOTEQUAL};function G(oe,Z){if(Z.type===Gs&&e.has("OES_texture_float_linear")===!1&&(Z.magFilter===pi||Z.magFilter===b_||Z.magFilter===Ng||Z.magFilter===Ul||Z.minFilter===pi||Z.minFilter===b_||Z.minFilter===Ng||Z.minFilter===Ul)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(oe,t.TEXTURE_WRAP_S,j[Z.wrapS]),t.texParameteri(oe,t.TEXTURE_WRAP_T,j[Z.wrapT]),(oe===t.TEXTURE_3D||oe===t.TEXTURE_2D_ARRAY)&&t.texParameteri(oe,t.TEXTURE_WRAP_R,j[Z.wrapR]),t.texParameteri(oe,t.TEXTURE_MAG_FILTER,B[Z.magFilter]),t.texParameteri(oe,t.TEXTURE_MIN_FILTER,B[Z.minFilter]),Z.compareFunction&&(t.texParameteri(oe,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(oe,t.TEXTURE_COMPARE_FUNC,W[Z.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(Z.magFilter===Li||Z.minFilter!==Ng&&Z.minFilter!==Ul||Z.type===Gs&&e.has("OES_texture_float_linear")===!1)return;if(Z.anisotropy>1||r.get(Z).__currentAnisotropy){const ve=e.get("EXT_texture_filter_anisotropic");t.texParameterf(oe,ve.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,i.getMaxAnisotropy())),r.get(Z).__currentAnisotropy=Z.anisotropy}}}function K(oe,Z){let ve=!1;oe.__webglInit===void 0&&(oe.__webglInit=!0,Z.addEventListener("dispose",E));const Ee=Z.source;let je=h.get(Ee);je===void 0&&(je={},h.set(Ee,je));const Te=F(Z);if(Te!==oe.__cacheKey){je[Te]===void 0&&(je[Te]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,ve=!0),je[Te].usedTimes++;const ct=je[oe.__cacheKey];ct!==void 0&&(je[oe.__cacheKey].usedTimes--,ct.usedTimes===0&&P(Z)),oe.__cacheKey=Te,oe.__webglTexture=je[Te].texture}return ve}function ie(oe,Z,ve){return Math.floor(Math.floor(oe/ve)/Z)}function le(oe,Z,ve,Ee){const Te=oe.updateRanges;if(Te.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,Z.width,Z.height,ve,Ee,Z.data);else{Te.sort((Ve,at)=>Ve.start-at.start);let ct=0;for(let Ve=1;Ve<Te.length;Ve++){const at=Te[ct],Tt=Te[Ve],pe=at.start+at.count,Me=ie(Tt.start,Z.width,4),Je=ie(at.start,Z.width,4);Tt.start<=pe+1&&Me===Je&&ie(Tt.start+Tt.count-1,Z.width,4)===Me?at.count=Math.max(at.count,Tt.start+Tt.count-at.start):(++ct,Te[ct]=Tt)}Te.length=ct+1;const We=t.getParameter(t.UNPACK_ROW_LENGTH),lt=t.getParameter(t.UNPACK_SKIP_PIXELS),Ye=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,Z.width);for(let Ve=0,at=Te.length;Ve<at;Ve++){const Tt=Te[Ve],pe=Math.floor(Tt.start/4),Me=Math.ceil(Tt.count/4),Je=pe%Z.width,de=Math.floor(pe/Z.width),ke=Me,$e=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Je),t.pixelStorei(t.UNPACK_SKIP_ROWS,de),n.texSubImage2D(t.TEXTURE_2D,0,Je,de,ke,$e,ve,Ee,Z.data)}oe.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,We),t.pixelStorei(t.UNPACK_SKIP_PIXELS,lt),t.pixelStorei(t.UNPACK_SKIP_ROWS,Ye)}}function J(oe,Z,ve){let Ee=t.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(Ee=t.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(Ee=t.TEXTURE_3D);const je=K(oe,Z),Te=Z.source;n.bindTexture(Ee,oe.__webglTexture,t.TEXTURE0+ve);const ct=r.get(Te);if(Te.version!==ct.__version||je===!0){n.activeTexture(t.TEXTURE0+ve);const We=Cn.getPrimaries(Cn.workingColorSpace),lt=Z.colorSpace===zc?null:Cn.getPrimaries(Z.colorSpace),Ye=Z.colorSpace===zc||We===lt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ye);let Ve=x(Z.image,!1,i.maxTextureSize);Ve=ot(Z,Ve);const at=s.convert(Z.format,Z.colorSpace),Tt=s.convert(Z.type);let pe=_(Z.internalFormat,at,Tt,Z.colorSpace,Z.isVideoTexture);G(Ee,Z);let Me;const Je=Z.mipmaps,de=Z.isVideoTexture!==!0,ke=ct.__version===void 0||je===!0,$e=Te.dataReady,Ge=w(Z,Ve);if(Z.isDepthTexture)pe=b(Z.format===_y,Z.type),ke&&(de?n.texStorage2D(t.TEXTURE_2D,1,pe,Ve.width,Ve.height):n.texImage2D(t.TEXTURE_2D,0,pe,Ve.width,Ve.height,0,at,Tt,null));else if(Z.isDataTexture)if(Je.length>0){de&&ke&&n.texStorage2D(t.TEXTURE_2D,Ge,pe,Je[0].width,Je[0].height);for(let ze=0,Le=Je.length;ze<Le;ze++)Me=Je[ze],de?$e&&n.texSubImage2D(t.TEXTURE_2D,ze,0,0,Me.width,Me.height,at,Tt,Me.data):n.texImage2D(t.TEXTURE_2D,ze,pe,Me.width,Me.height,0,at,Tt,Me.data);Z.generateMipmaps=!1}else de?(ke&&n.texStorage2D(t.TEXTURE_2D,Ge,pe,Ve.width,Ve.height),$e&&le(Z,Ve,at,Tt)):n.texImage2D(t.TEXTURE_2D,0,pe,Ve.width,Ve.height,0,at,Tt,Ve.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){de&&ke&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,pe,Je[0].width,Je[0].height,Ve.depth);for(let ze=0,Le=Je.length;ze<Le;ze++)if(Me=Je[ze],Z.format!==rs)if(at!==null)if(de){if($e)if(Z.layerUpdates.size>0){const et=HF(Me.width,Me.height,Z.format,Z.type);for(const vt of Z.layerUpdates){const zt=Me.data.subarray(vt*et/Me.data.BYTES_PER_ELEMENT,(vt+1)*et/Me.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ze,0,0,vt,Me.width,Me.height,1,at,zt)}Z.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,ze,0,0,0,Me.width,Me.height,Ve.depth,at,Me.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,ze,pe,Me.width,Me.height,Ve.depth,0,Me.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else de?$e&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,ze,0,0,0,Me.width,Me.height,Ve.depth,at,Tt,Me.data):n.texImage3D(t.TEXTURE_2D_ARRAY,ze,pe,Me.width,Me.height,Ve.depth,0,at,Tt,Me.data)}else{de&&ke&&n.texStorage2D(t.TEXTURE_2D,Ge,pe,Je[0].width,Je[0].height);for(let ze=0,Le=Je.length;ze<Le;ze++)Me=Je[ze],Z.format!==rs?at!==null?de?$e&&n.compressedTexSubImage2D(t.TEXTURE_2D,ze,0,0,Me.width,Me.height,at,Me.data):n.compressedTexImage2D(t.TEXTURE_2D,ze,pe,Me.width,Me.height,0,Me.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):de?$e&&n.texSubImage2D(t.TEXTURE_2D,ze,0,0,Me.width,Me.height,at,Tt,Me.data):n.texImage2D(t.TEXTURE_2D,ze,pe,Me.width,Me.height,0,at,Tt,Me.data)}else if(Z.isDataArrayTexture)if(de){if(ke&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,pe,Ve.width,Ve.height,Ve.depth),$e)if(Z.layerUpdates.size>0){const ze=HF(Ve.width,Ve.height,Z.format,Z.type);for(const Le of Z.layerUpdates){const et=Ve.data.subarray(Le*ze/Ve.data.BYTES_PER_ELEMENT,(Le+1)*ze/Ve.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Le,Ve.width,Ve.height,1,at,Tt,et)}Z.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,at,Tt,Ve.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,pe,Ve.width,Ve.height,Ve.depth,0,at,Tt,Ve.data);else if(Z.isData3DTexture)de?(ke&&n.texStorage3D(t.TEXTURE_3D,Ge,pe,Ve.width,Ve.height,Ve.depth),$e&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,at,Tt,Ve.data)):n.texImage3D(t.TEXTURE_3D,0,pe,Ve.width,Ve.height,Ve.depth,0,at,Tt,Ve.data);else if(Z.isFramebufferTexture){if(ke)if(de)n.texStorage2D(t.TEXTURE_2D,Ge,pe,Ve.width,Ve.height);else{let ze=Ve.width,Le=Ve.height;for(let et=0;et<Ge;et++)n.texImage2D(t.TEXTURE_2D,et,pe,ze,Le,0,at,Tt,null),ze>>=1,Le>>=1}}else if(Je.length>0){if(de&&ke){const ze=rt(Je[0]);n.texStorage2D(t.TEXTURE_2D,Ge,pe,ze.width,ze.height)}for(let ze=0,Le=Je.length;ze<Le;ze++)Me=Je[ze],de?$e&&n.texSubImage2D(t.TEXTURE_2D,ze,0,0,at,Tt,Me):n.texImage2D(t.TEXTURE_2D,ze,pe,at,Tt,Me);Z.generateMipmaps=!1}else if(de){if(ke){const ze=rt(Ve);n.texStorage2D(t.TEXTURE_2D,Ge,pe,ze.width,ze.height)}$e&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,at,Tt,Ve)}else n.texImage2D(t.TEXTURE_2D,0,pe,at,Tt,Ve);m(Z)&&p(Ee),ct.__version=Te.version,Z.onUpdate&&Z.onUpdate(Z)}oe.__version=Z.version}function U(oe,Z,ve){if(Z.image.length!==6)return;const Ee=K(oe,Z),je=Z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,oe.__webglTexture,t.TEXTURE0+ve);const Te=r.get(je);if(je.version!==Te.__version||Ee===!0){n.activeTexture(t.TEXTURE0+ve);const ct=Cn.getPrimaries(Cn.workingColorSpace),We=Z.colorSpace===zc?null:Cn.getPrimaries(Z.colorSpace),lt=Z.colorSpace===zc||ct===We?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,lt);const Ye=Z.isCompressedTexture||Z.image[0].isCompressedTexture,Ve=Z.image[0]&&Z.image[0].isDataTexture,at=[];for(let Le=0;Le<6;Le++)!Ye&&!Ve?at[Le]=x(Z.image[Le],!0,i.maxCubemapSize):at[Le]=Ve?Z.image[Le].image:Z.image[Le],at[Le]=ot(Z,at[Le]);const Tt=at[0],pe=s.convert(Z.format,Z.colorSpace),Me=s.convert(Z.type),Je=_(Z.internalFormat,pe,Me,Z.colorSpace),de=Z.isVideoTexture!==!0,ke=Te.__version===void 0||Ee===!0,$e=je.dataReady;let Ge=w(Z,Tt);G(t.TEXTURE_CUBE_MAP,Z);let ze;if(Ye){de&&ke&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Ge,Je,Tt.width,Tt.height);for(let Le=0;Le<6;Le++){ze=at[Le].mipmaps;for(let et=0;et<ze.length;et++){const vt=ze[et];Z.format!==rs?pe!==null?de?$e&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et,0,0,vt.width,vt.height,pe,vt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et,Je,vt.width,vt.height,0,vt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):de?$e&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et,0,0,vt.width,vt.height,pe,Me,vt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et,Je,vt.width,vt.height,0,pe,Me,vt.data)}}}else{if(ze=Z.mipmaps,de&&ke){ze.length>0&&Ge++;const Le=rt(at[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,Ge,Je,Le.width,Le.height)}for(let Le=0;Le<6;Le++)if(Ve){de?$e&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,at[Le].width,at[Le].height,pe,Me,at[Le].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Je,at[Le].width,at[Le].height,0,pe,Me,at[Le].data);for(let et=0;et<ze.length;et++){const zt=ze[et].image[Le].image;de?$e&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et+1,0,0,zt.width,zt.height,pe,Me,zt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et+1,Je,zt.width,zt.height,0,pe,Me,zt.data)}}else{de?$e&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,0,0,pe,Me,at[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0,Je,pe,Me,at[Le]);for(let et=0;et<ze.length;et++){const vt=ze[et];de?$e&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et+1,0,0,pe,Me,vt.image[Le]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Le,et+1,Je,pe,Me,vt.image[Le])}}}m(Z)&&p(t.TEXTURE_CUBE_MAP),Te.__version=je.version,Z.onUpdate&&Z.onUpdate(Z)}oe.__version=Z.version}function X(oe,Z,ve,Ee,je,Te){const ct=s.convert(ve.format,ve.colorSpace),We=s.convert(ve.type),lt=_(ve.internalFormat,ct,We,ve.colorSpace),Ye=r.get(Z),Ve=r.get(ve);if(Ve.__renderTarget=Z,!Ye.__hasExternalTextures){const at=Math.max(1,Z.width>>Te),Tt=Math.max(1,Z.height>>Te);je===t.TEXTURE_3D||je===t.TEXTURE_2D_ARRAY?n.texImage3D(je,Te,lt,at,Tt,Z.depth,0,ct,We,null):n.texImage2D(je,Te,lt,at,Tt,0,ct,We,null)}n.bindFramebuffer(t.FRAMEBUFFER,oe),Se(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Ee,je,Ve.__webglTexture,0,Ae(Z)):(je===t.TEXTURE_2D||je>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&je<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Ee,je,Ve.__webglTexture,Te),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Q(oe,Z,ve){if(t.bindRenderbuffer(t.RENDERBUFFER,oe),Z.depthBuffer){const Ee=Z.depthTexture,je=Ee&&Ee.isDepthTexture?Ee.type:null,Te=b(Z.stencilBuffer,je),ct=Z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,We=Ae(Z);Se(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,We,Te,Z.width,Z.height):ve?t.renderbufferStorageMultisample(t.RENDERBUFFER,We,Te,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,Te,Z.width,Z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,ct,t.RENDERBUFFER,oe)}else{const Ee=Z.textures;for(let je=0;je<Ee.length;je++){const Te=Ee[je],ct=s.convert(Te.format,Te.colorSpace),We=s.convert(Te.type),lt=_(Te.internalFormat,ct,We,Te.colorSpace),Ye=Ae(Z);ve&&Se(Z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Ye,lt,Z.width,Z.height):Se(Z)?a.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ye,lt,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,lt,Z.width,Z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function te(oe,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,oe),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ee=r.get(Z.depthTexture);Ee.__renderTarget=Z,(!Ee.__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),$(Z.depthTexture,0);const je=Ee.__webglTexture,Te=Ae(Z);if(Z.depthTexture.format===xy)Se(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,je,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,je,0);else if(Z.depthTexture.format===_y)Se(Z)?a.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,je,0,Te):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,je,0);else throw new Error("Unknown depthTexture format")}function ue(oe){const Z=r.get(oe),ve=oe.isWebGLCubeRenderTarget===!0;if(Z.__boundDepthTexture!==oe.depthTexture){const Ee=oe.depthTexture;if(Z.__depthDisposeCallback&&Z.__depthDisposeCallback(),Ee){const je=()=>{delete Z.__boundDepthTexture,delete Z.__depthDisposeCallback,Ee.removeEventListener("dispose",je)};Ee.addEventListener("dispose",je),Z.__depthDisposeCallback=je}Z.__boundDepthTexture=Ee}if(oe.depthTexture&&!Z.__autoAllocateDepthBuffer){if(ve)throw new Error("target.depthTexture not supported in Cube render targets");const Ee=oe.texture.mipmaps;Ee&&Ee.length>0?te(Z.__webglFramebuffer[0],oe):te(Z.__webglFramebuffer,oe)}else if(ve){Z.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)if(n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[Ee]),Z.__webglDepthbuffer[Ee]===void 0)Z.__webglDepthbuffer[Ee]=t.createRenderbuffer(),Q(Z.__webglDepthbuffer[Ee],oe,!1);else{const je=oe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=Z.__webglDepthbuffer[Ee];t.bindRenderbuffer(t.RENDERBUFFER,Te),t.framebufferRenderbuffer(t.FRAMEBUFFER,je,t.RENDERBUFFER,Te)}}else{const Ee=oe.texture.mipmaps;if(Ee&&Ee.length>0?n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer===void 0)Z.__webglDepthbuffer=t.createRenderbuffer(),Q(Z.__webglDepthbuffer,oe,!1);else{const je=oe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Te=Z.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,Te),t.framebufferRenderbuffer(t.FRAMEBUFFER,je,t.RENDERBUFFER,Te)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ee(oe,Z,ve){const Ee=r.get(oe);Z!==void 0&&X(Ee.__webglFramebuffer,oe,oe.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ve!==void 0&&ue(oe)}function Y(oe){const Z=oe.texture,ve=r.get(oe),Ee=r.get(Z);oe.addEventListener("dispose",A);const je=oe.textures,Te=oe.isWebGLCubeRenderTarget===!0,ct=je.length>1;if(ct||(Ee.__webglTexture===void 0&&(Ee.__webglTexture=t.createTexture()),Ee.__version=Z.version,o.memory.textures++),Te){ve.__webglFramebuffer=[];for(let We=0;We<6;We++)if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer[We]=[];for(let lt=0;lt<Z.mipmaps.length;lt++)ve.__webglFramebuffer[We][lt]=t.createFramebuffer()}else ve.__webglFramebuffer[We]=t.createFramebuffer()}else{if(Z.mipmaps&&Z.mipmaps.length>0){ve.__webglFramebuffer=[];for(let We=0;We<Z.mipmaps.length;We++)ve.__webglFramebuffer[We]=t.createFramebuffer()}else ve.__webglFramebuffer=t.createFramebuffer();if(ct)for(let We=0,lt=je.length;We<lt;We++){const Ye=r.get(je[We]);Ye.__webglTexture===void 0&&(Ye.__webglTexture=t.createTexture(),o.memory.textures++)}if(oe.samples>0&&Se(oe)===!1){ve.__webglMultisampledFramebuffer=t.createFramebuffer(),ve.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ve.__webglMultisampledFramebuffer);for(let We=0;We<je.length;We++){const lt=je[We];ve.__webglColorRenderbuffer[We]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ve.__webglColorRenderbuffer[We]);const Ye=s.convert(lt.format,lt.colorSpace),Ve=s.convert(lt.type),at=_(lt.internalFormat,Ye,Ve,lt.colorSpace,oe.isXRRenderTarget===!0),Tt=Ae(oe);t.renderbufferStorageMultisample(t.RENDERBUFFER,Tt,at,oe.width,oe.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+We,t.RENDERBUFFER,ve.__webglColorRenderbuffer[We])}t.bindRenderbuffer(t.RENDERBUFFER,null),oe.depthBuffer&&(ve.__webglDepthRenderbuffer=t.createRenderbuffer(),Q(ve.__webglDepthRenderbuffer,oe,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Te){n.bindTexture(t.TEXTURE_CUBE_MAP,Ee.__webglTexture),G(t.TEXTURE_CUBE_MAP,Z);for(let We=0;We<6;We++)if(Z.mipmaps&&Z.mipmaps.length>0)for(let lt=0;lt<Z.mipmaps.length;lt++)X(ve.__webglFramebuffer[We][lt],oe,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+We,lt);else X(ve.__webglFramebuffer[We],oe,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+We,0);m(Z)&&p(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ct){for(let We=0,lt=je.length;We<lt;We++){const Ye=je[We],Ve=r.get(Ye);let at=t.TEXTURE_2D;(oe.isWebGL3DRenderTarget||oe.isWebGLArrayRenderTarget)&&(at=oe.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(at,Ve.__webglTexture),G(at,Ye),X(ve.__webglFramebuffer,oe,Ye,t.COLOR_ATTACHMENT0+We,at,0),m(Ye)&&p(at)}n.unbindTexture()}else{let We=t.TEXTURE_2D;if((oe.isWebGL3DRenderTarget||oe.isWebGLArrayRenderTarget)&&(We=oe.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(We,Ee.__webglTexture),G(We,Z),Z.mipmaps&&Z.mipmaps.length>0)for(let lt=0;lt<Z.mipmaps.length;lt++)X(ve.__webglFramebuffer[lt],oe,Z,t.COLOR_ATTACHMENT0,We,lt);else X(ve.__webglFramebuffer,oe,Z,t.COLOR_ATTACHMENT0,We,0);m(Z)&&p(We),n.unbindTexture()}oe.depthBuffer&&ue(oe)}function se(oe){const Z=oe.textures;for(let ve=0,Ee=Z.length;ve<Ee;ve++){const je=Z[ve];if(m(je)){const Te=y(oe),ct=r.get(je).__webglTexture;n.bindTexture(Te,ct),p(Te),n.unbindTexture()}}}const re=[],me=[];function he(oe){if(oe.samples>0){if(Se(oe)===!1){const Z=oe.textures,ve=oe.width,Ee=oe.height;let je=t.COLOR_BUFFER_BIT;const Te=oe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ct=r.get(oe),We=Z.length>1;if(We)for(let Ye=0;Ye<Z.length;Ye++)n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,ct.__webglMultisampledFramebuffer);const lt=oe.texture.mipmaps;lt&&lt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglFramebuffer);for(let Ye=0;Ye<Z.length;Ye++){if(oe.resolveDepthBuffer&&(oe.depthBuffer&&(je|=t.DEPTH_BUFFER_BIT),oe.stencilBuffer&&oe.resolveStencilBuffer&&(je|=t.STENCIL_BUFFER_BIT)),We){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,ct.__webglColorRenderbuffer[Ye]);const Ve=r.get(Z[Ye]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ve,0)}t.blitFramebuffer(0,0,ve,Ee,0,0,ve,Ee,je,t.NEAREST),l===!0&&(re.length=0,me.length=0,re.push(t.COLOR_ATTACHMENT0+Ye),oe.depthBuffer&&oe.resolveDepthBuffer===!1&&(re.push(Te),me.push(Te),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,re))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),We)for(let Ye=0;Ye<Z.length;Ye++){n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.RENDERBUFFER,ct.__webglColorRenderbuffer[Ye]);const Ve=r.get(Z[Ye]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,ct.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ye,t.TEXTURE_2D,Ve,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,ct.__webglMultisampledFramebuffer)}else if(oe.depthBuffer&&oe.resolveDepthBuffer===!1&&l){const Z=oe.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Z])}}}function Ae(oe){return Math.min(i.maxSamples,oe.samples)}function Se(oe){const Z=r.get(oe);return oe.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function Re(oe){const Z=o.render.frame;f.get(oe)!==Z&&(f.set(oe,Z),oe.update())}function ot(oe,Z){const ve=oe.colorSpace,Ee=oe.format,je=oe.type;return oe.isCompressedTexture===!0||oe.isVideoTexture===!0||ve!==Tp&&ve!==zc&&(Cn.getTransfer(ve)===qn?(Ee!==rs||je!==pa)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ve)),Z}function rt(oe){return typeof HTMLImageElement<"u"&&oe instanceof HTMLImageElement?(c.width=oe.naturalWidth||oe.width,c.height=oe.naturalHeight||oe.height):typeof VideoFrame<"u"&&oe instanceof VideoFrame?(c.width=oe.displayWidth,c.height=oe.displayHeight):(c.width=oe.width,c.height=oe.height),c}this.allocateTextureUnit=D,this.resetTextureUnits=I,this.setTexture2D=$,this.setTexture2DArray=z,this.setTexture3D=H,this.setTextureCube=R,this.rebindTextures=ee,this.setupRenderTarget=Y,this.updateRenderTargetMipmap=se,this.updateMultisampleRenderTarget=he,this.setupDepthRenderbuffer=ue,this.setupFrameBufferTexture=X,this.useMultisampledRTT=Se}function dxe(t,e){function n(r,i=zc){let s;const o=Cn.getTransfer(i);if(r===pa)return t.UNSIGNED_BYTE;if(r===RN)return t.UNSIGNED_SHORT_4_4_4_4;if(r===kN)return t.UNSIGNED_SHORT_5_5_5_1;if(r===oz)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===az)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===iz)return t.BYTE;if(r===sz)return t.SHORT;if(r===vy)return t.UNSIGNED_SHORT;if(r===NN)return t.INT;if(r===Su)return t.UNSIGNED_INT;if(r===Gs)return t.FLOAT;if(r===dx)return t.HALF_FLOAT;if(r===lz)return t.ALPHA;if(r===cz)return t.RGB;if(r===rs)return t.RGBA;if(r===xy)return t.DEPTH_COMPONENT;if(r===_y)return t.DEPTH_STENCIL;if(r===ON)return t.RED;if(r===x1)return t.RED_INTEGER;if(r===uz)return t.RG;if(r===IN)return t.RG_INTEGER;if(r===jN)return t.RGBA_INTEGER;if(r===w_||r===S_||r===C_||r===E_)if(o===qn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===w_)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===S_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===C_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===E_)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===w_)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===S_)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===C_)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===E_)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===NT||r===RT||r===kT||r===OT)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===NT)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===RT)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===kT)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===OT)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===IT||r===jT||r===DT)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===IT||r===jT)return o===qn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===DT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===LT||r===FT||r===BT||r===UT||r===$T||r===zT||r===HT||r===VT||r===WT||r===GT||r===qT||r===KT||r===XT||r===YT)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===LT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===FT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===BT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===UT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===$T)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===zT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===HT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===VT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===WT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===GT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===qT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===KT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===XT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===YT)return o===qn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===ZT||r===QT||r===JT)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===ZT)return o===qn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===QT)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===JT)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===eP||r===tP||r===nP||r===rP)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===eP)return s.COMPRESSED_RED_RGTC1_EXT;if(r===tP)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===nP)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===rP)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===yy?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const HCt=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,VCt=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class WCt{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new Sz(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ma({vertexShader:HCt,fragmentShader:VCt,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new ri(new hx(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class GCt extends gc{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,f=null,d=null,h=null,g=null,v=null;const x=typeof XRWebGLBinding<"u",m=new WCt,p={},y=n.getContextAttributes();let _=null,b=null;const w=[],E=[],A=new He;let T=null;const P=new Mr;P.viewport=new Tn;const N=new Mr;N.viewport=new Tn;const O=[P,N],I=new exe;let D=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let U=w[J];return U===void 0&&(U=new tM,w[J]=U),U.getTargetRaySpace()},this.getControllerGrip=function(J){let U=w[J];return U===void 0&&(U=new tM,w[J]=U),U.getGripSpace()},this.getHand=function(J){let U=w[J];return U===void 0&&(U=new tM,w[J]=U),U.getHandSpace()};function $(J){const U=E.indexOf(J.inputSource);if(U===-1)return;const X=w[U];X!==void 0&&(X.update(J.inputSource,J.frame,c||o),X.dispatchEvent({type:J.type,data:J.inputSource}))}function z(){i.removeEventListener("select",$),i.removeEventListener("selectstart",$),i.removeEventListener("selectend",$),i.removeEventListener("squeeze",$),i.removeEventListener("squeezestart",$),i.removeEventListener("squeezeend",$),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",H);for(let J=0;J<w.length;J++){const U=E[J];U!==null&&(E[J]=null,w[J].disconnect(U))}D=null,F=null,m.reset();for(const J in p)delete p[J];e.setRenderTarget(_),g=null,h=null,d=null,i=null,b=null,le.stop(),r.isPresenting=!1,e.setPixelRatio(T),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return h!==null?h:g},this.getBinding=function(){return d===null&&x&&(d=new XRWebGLBinding(i,n)),d},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",$),i.addEventListener("selectstart",$),i.addEventListener("selectend",$),i.addEventListener("squeeze",$),i.addEventListener("squeezestart",$),i.addEventListener("squeezeend",$),i.addEventListener("end",z),i.addEventListener("inputsourceschange",H),y.xrCompatible!==!0&&await n.makeXRCompatible(),T=e.getPixelRatio(),e.getSize(A),x&&"createProjectionLayer"in XRWebGLBinding.prototype){let X=null,Q=null,te=null;y.depth&&(te=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,X=y.stencil?_y:xy,Q=y.stencil?yy:Su);const ue={colorFormat:n.RGBA8,depthFormat:te,scaleFactor:s};d=this.getBinding(),h=d.createProjectionLayer(ue),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),b=new ac(h.textureWidth,h.textureHeight,{format:rs,type:pa,depthTexture:new wz(h.textureWidth,h.textureHeight,Q,void 0,void 0,void 0,void 0,void 0,void 0,X),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}else{const X={antialias:y.antialias,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};g=new XRWebGLLayer(i,n,X),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),b=new ac(g.framebufferWidth,g.framebufferHeight,{format:rs,type:pa,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil,resolveDepthBuffer:g.ignoreDepthValues===!1,resolveStencilBuffer:g.ignoreDepthValues===!1})}b.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),le.setContext(i),le.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return m.getDepthTexture()};function H(J){for(let U=0;U<J.removed.length;U++){const X=J.removed[U],Q=E.indexOf(X);Q>=0&&(E[Q]=null,w[Q].disconnect(X))}for(let U=0;U<J.added.length;U++){const X=J.added[U];let Q=E.indexOf(X);if(Q===-1){for(let ue=0;ue<w.length;ue++)if(ue>=E.length){E.push(X),Q=ue;break}else if(E[ue]===null){E[ue]=X,Q=ue;break}if(Q===-1)break}const te=w[Q];te&&te.connect(X)}}const R=new ce,j=new ce;function B(J,U,X){R.setFromMatrixPosition(U.matrixWorld),j.setFromMatrixPosition(X.matrixWorld);const Q=R.distanceTo(j),te=U.projectionMatrix.elements,ue=X.projectionMatrix.elements,ee=te[14]/(te[10]-1),Y=te[14]/(te[10]+1),se=(te[9]+1)/te[5],re=(te[9]-1)/te[5],me=(te[8]-1)/te[0],he=(ue[8]+1)/ue[0],Ae=ee*me,Se=ee*he,Re=Q/(-me+he),ot=Re*-me;if(U.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(ot),J.translateZ(Re),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert(),te[10]===-1)J.projectionMatrix.copy(U.projectionMatrix),J.projectionMatrixInverse.copy(U.projectionMatrixInverse);else{const rt=ee+Re,oe=Y+Re,Z=Ae-ot,ve=Se+(Q-ot),Ee=se*Y/oe*rt,je=re*Y/oe*rt;J.projectionMatrix.makePerspective(Z,ve,Ee,je,rt,oe),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}}function W(J,U){U===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(U.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;let U=J.near,X=J.far;m.texture!==null&&(m.depthNear>0&&(U=m.depthNear),m.depthFar>0&&(X=m.depthFar)),I.near=N.near=P.near=U,I.far=N.far=P.far=X,(D!==I.near||F!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),D=I.near,F=I.far),I.layers.mask=J.layers.mask|6,P.layers.mask=I.layers.mask&3,N.layers.mask=I.layers.mask&5;const Q=J.parent,te=I.cameras;W(I,Q);for(let ue=0;ue<te.length;ue++)W(te[ue],Q);te.length===2?B(I,P,N):I.projectionMatrix.copy(P.projectionMatrix),G(J,I,Q)};function G(J,U,X){X===null?J.matrix.copy(U.matrixWorld):(J.matrix.copy(X.matrixWorld),J.matrix.invert(),J.matrix.multiply(U.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(U.projectionMatrix),J.projectionMatrixInverse.copy(U.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=wy*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(h===null&&g===null))return l},this.setFoveation=function(J){l=J,h!==null&&(h.fixedFoveation=J),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=J)},this.hasDepthSensing=function(){return m.texture!==null},this.getDepthSensingMesh=function(){return m.getMesh(I)},this.getCameraTexture=function(J){return p[J]};let K=null;function ie(J,U){if(f=U.getViewerPose(c||o),v=U,f!==null){const X=f.views;g!==null&&(e.setRenderTargetFramebuffer(b,g.framebuffer),e.setRenderTarget(b));let Q=!1;X.length!==I.cameras.length&&(I.cameras.length=0,Q=!0);for(let Y=0;Y<X.length;Y++){const se=X[Y];let re=null;if(g!==null)re=g.getViewport(se);else{const he=d.getViewSubImage(h,se);re=he.viewport,Y===0&&(e.setRenderTargetTextures(b,he.colorTexture,he.depthStencilTexture),e.setRenderTarget(b))}let me=O[Y];me===void 0&&(me=new Mr,me.layers.enable(Y),me.viewport=new Tn,O[Y]=me),me.matrix.fromArray(se.transform.matrix),me.matrix.decompose(me.position,me.quaternion,me.scale),me.projectionMatrix.fromArray(se.projectionMatrix),me.projectionMatrixInverse.copy(me.projectionMatrix).invert(),me.viewport.set(re.x,re.y,re.width,re.height),Y===0&&(I.matrix.copy(me.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),Q===!0&&I.cameras.push(me)}const te=i.enabledFeatures;if(te&&te.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&x){d=r.getBinding();const Y=d.getDepthInformation(X[0]);Y&&Y.isValid&&Y.texture&&m.init(Y,i.renderState)}if(te&&te.includes("camera-access")&&x){e.state.unbindTexture(),d=r.getBinding();for(let Y=0;Y<X.length;Y++){const se=X[Y].camera;if(se){let re=p[se];re||(re=new Sz,p[se]=re);const me=d.getCameraImage(se);re.sourceTexture=me}}}}for(let X=0;X<w.length;X++){const Q=E[X],te=w[X];Q!==null&&te!==void 0&&te.update(Q,U,c||o)}K&&K(J,U),U.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:U}),v=null}const le=new oxe;le.setAnimationLoop(ie),this.setAnimationLoop=function(J){K=J},this.dispose=function(){}}}const rh=new ko,qCt=new Qt;function KCt(t,e){function n(m,p){m.matrixAutoUpdate===!0&&m.updateMatrix(),p.value.copy(m.matrix)}function r(m,p){p.color.getRGB(m.fogColor.value,oye(t)),p.isFog?(m.fogNear.value=p.near,m.fogFar.value=p.far):p.isFogExp2&&(m.fogDensity.value=p.density)}function i(m,p,y,_,b){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(m,p):p.isMeshToonMaterial?(s(m,p),d(m,p)):p.isMeshPhongMaterial?(s(m,p),f(m,p)):p.isMeshStandardMaterial?(s(m,p),h(m,p),p.isMeshPhysicalMaterial&&g(m,p,b)):p.isMeshMatcapMaterial?(s(m,p),v(m,p)):p.isMeshDepthMaterial?s(m,p):p.isMeshDistanceMaterial?(s(m,p),x(m,p)):p.isMeshNormalMaterial?s(m,p):p.isLineBasicMaterial?(o(m,p),p.isLineDashedMaterial&&a(m,p)):p.isPointsMaterial?l(m,p,y,_):p.isSpriteMaterial?c(m,p):p.isShadowMaterial?(m.color.value.copy(p.color),m.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(m,p){m.opacity.value=p.opacity,p.color&&m.diffuse.value.copy(p.color),p.emissive&&m.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.bumpMap&&(m.bumpMap.value=p.bumpMap,n(p.bumpMap,m.bumpMapTransform),m.bumpScale.value=p.bumpScale,p.side===os&&(m.bumpScale.value*=-1)),p.normalMap&&(m.normalMap.value=p.normalMap,n(p.normalMap,m.normalMapTransform),m.normalScale.value.copy(p.normalScale),p.side===os&&m.normalScale.value.negate()),p.displacementMap&&(m.displacementMap.value=p.displacementMap,n(p.displacementMap,m.displacementMapTransform),m.displacementScale.value=p.displacementScale,m.displacementBias.value=p.displacementBias),p.emissiveMap&&(m.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,m.emissiveMapTransform)),p.specularMap&&(m.specularMap.value=p.specularMap,n(p.specularMap,m.specularMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest);const y=e.get(p),_=y.envMap,b=y.envMapRotation;_&&(m.envMap.value=_,rh.copy(b),rh.x*=-1,rh.y*=-1,rh.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(rh.y*=-1,rh.z*=-1),m.envMapRotation.value.setFromMatrix4(qCt.makeRotationFromEuler(rh)),m.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=p.reflectivity,m.ior.value=p.ior,m.refractionRatio.value=p.refractionRatio),p.lightMap&&(m.lightMap.value=p.lightMap,m.lightMapIntensity.value=p.lightMapIntensity,n(p.lightMap,m.lightMapTransform)),p.aoMap&&(m.aoMap.value=p.aoMap,m.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,m.aoMapTransform))}function o(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform))}function a(m,p){m.dashSize.value=p.dashSize,m.totalSize.value=p.dashSize+p.gapSize,m.scale.value=p.scale}function l(m,p,y,_){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.size.value=p.size*y,m.scale.value=_*.5,p.map&&(m.map.value=p.map,n(p.map,m.uvTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function c(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.rotation.value=p.rotation,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function f(m,p){m.specular.value.copy(p.specular),m.shininess.value=Math.max(p.shininess,1e-4)}function d(m,p){p.gradientMap&&(m.gradientMap.value=p.gradientMap)}function h(m,p){m.metalness.value=p.metalness,p.metalnessMap&&(m.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,m.metalnessMapTransform)),m.roughness.value=p.roughness,p.roughnessMap&&(m.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,m.roughnessMapTransform)),p.envMap&&(m.envMapIntensity.value=p.envMapIntensity)}function g(m,p,y){m.ior.value=p.ior,p.sheen>0&&(m.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),m.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(m.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,m.sheenColorMapTransform)),p.sheenRoughnessMap&&(m.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,m.sheenRoughnessMapTransform))),p.clearcoat>0&&(m.clearcoat.value=p.clearcoat,m.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(m.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,m.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(m.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===os&&m.clearcoatNormalScale.value.negate())),p.dispersion>0&&(m.dispersion.value=p.dispersion),p.iridescence>0&&(m.iridescence.value=p.iridescence,m.iridescenceIOR.value=p.iridescenceIOR,m.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(m.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,m.iridescenceMapTransform)),p.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),p.transmission>0&&(m.transmission.value=p.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),p.transmissionMap&&(m.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,m.transmissionMapTransform)),m.thickness.value=p.thickness,p.thicknessMap&&(m.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=p.attenuationDistance,m.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(m.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(m.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=p.specularIntensity,m.specularColor.value.copy(p.specularColor),p.specularColorMap&&(m.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,m.specularColorMapTransform)),p.specularIntensityMap&&(m.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,m.specularIntensityMapTransform))}function v(m,p){p.matcap&&(m.matcap.value=p.matcap)}function x(m,p){const y=e.get(p).light;m.referencePosition.value.setFromMatrixPosition(y.matrixWorld),m.nearDistance.value=y.shadow.camera.near,m.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function XCt(t,e,n,r){let i={},s={},o=[];const a=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(y,_){const b=_.program;r.uniformBlockBinding(y,b)}function c(y,_){let b=i[y.id];b===void 0&&(v(y),b=f(y),i[y.id]=b,y.addEventListener("dispose",m));const w=_.program;r.updateUBOMapping(y,w);const E=e.render.frame;s[y.id]!==E&&(h(y),s[y.id]=E)}function f(y){const _=d();y.__bindingPointIndex=_;const b=t.createBuffer(),w=y.__size,E=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,w,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,b),b}function d(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(y){const _=i[y.id],b=y.uniforms,w=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let E=0,A=b.length;E<A;E++){const T=Array.isArray(b[E])?b[E]:[b[E]];for(let P=0,N=T.length;P<N;P++){const O=T[P];if(g(O,E,P,w)===!0){const I=O.__offset,D=Array.isArray(O.value)?O.value:[O.value];let F=0;for(let $=0;$<D.length;$++){const z=D[$],H=x(z);typeof z=="number"||typeof z=="boolean"?(O.__data[0]=z,t.bufferSubData(t.UNIFORM_BUFFER,I+F,O.__data)):z.isMatrix3?(O.__data[0]=z.elements[0],O.__data[1]=z.elements[1],O.__data[2]=z.elements[2],O.__data[3]=0,O.__data[4]=z.elements[3],O.__data[5]=z.elements[4],O.__data[6]=z.elements[5],O.__data[7]=0,O.__data[8]=z.elements[6],O.__data[9]=z.elements[7],O.__data[10]=z.elements[8],O.__data[11]=0):(z.toArray(O.__data,F),F+=H.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,O.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(y,_,b,w){const E=y.value,A=_+"_"+b;if(w[A]===void 0)return typeof E=="number"||typeof E=="boolean"?w[A]=E:w[A]=E.clone(),!0;{const T=w[A];if(typeof E=="number"||typeof E=="boolean"){if(T!==E)return w[A]=E,!0}else if(T.equals(E)===!1)return T.copy(E),!0}return!1}function v(y){const _=y.uniforms;let b=0;const w=16;for(let A=0,T=_.length;A<T;A++){const P=Array.isArray(_[A])?_[A]:[_[A]];for(let N=0,O=P.length;N<O;N++){const I=P[N],D=Array.isArray(I.value)?I.value:[I.value];for(let F=0,$=D.length;F<$;F++){const z=D[F],H=x(z),R=b%w,j=R%H.boundary,B=R+j;b+=j,B!==0&&w-B<H.storage&&(b+=w-B),I.__data=new Float32Array(H.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=b,b+=H.storage}}}const E=b%w;return E>0&&(b+=w-E),y.__size=b,y.__cache={},this}function x(y){const _={boundary:0,storage:0};return typeof y=="number"||typeof y=="boolean"?(_.boundary=4,_.storage=4):y.isVector2?(_.boundary=8,_.storage=8):y.isVector3||y.isColor?(_.boundary=16,_.storage=12):y.isVector4?(_.boundary=16,_.storage=16):y.isMatrix3?(_.boundary=48,_.storage=48):y.isMatrix4?(_.boundary=64,_.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),_}function m(y){const _=y.target;_.removeEventListener("dispose",m);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function p(){for(const y in i)t.deleteBuffer(i[y]);o=[],i={},s={}}return{bind:l,update:c,dispose:p}}class fxe{constructor(e={}){const{canvas:n=rye(),context:r=null,depth:i=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=o;const v=new Uint32Array(4),x=new Int32Array(4);let m=null,p=null;const y=[],_=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Zl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const b=this;let w=!1;this._outputColorSpace=Bs;let E=0,A=0,T=null,P=-1,N=null;const O=new Tn,I=new Tn;let D=null;const F=new gt(0);let $=0,z=n.width,H=n.height,R=1,j=null,B=null;const W=new Tn(0,0,z,H),G=new Tn(0,0,z,H);let K=!1;const ie=new fx;let le=!1,J=!1;const U=new Qt,X=new ce,Q=new Tn,te={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ue=!1;function ee(){return T===null?R:1}let Y=r;function se(ae,_e){return n.getContext(ae,_e)}try{const ae={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${v1}`),n.addEventListener("webglcontextlost",$e,!1),n.addEventListener("webglcontextrestored",Ge,!1),n.addEventListener("webglcontextcreationerror",ze,!1),Y===null){const _e="webgl2";if(Y=se(_e,ae),Y===null)throw se(_e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(ae){throw console.error("THREE.WebGLRenderer: "+ae.message),ae}let re,me,he,Ae,Se,Re,ot,rt,oe,Z,ve,Ee,je,Te,ct,We,lt,Ye,Ve,at,Tt,pe,Me,Je;function de(){re=new aSt(Y),re.init(),pe=new dxe(Y,re),me=new eSt(Y,re,e,pe),he=new $Ct(Y,re),me.reversedDepthBuffer&&h&&he.buffers.depth.setReversed(!0),Ae=new uSt(Y),Se=new TCt,Re=new zCt(Y,re,he,Se,me,pe,Ae),ot=new nSt(b),rt=new oSt(b),oe=new gbt(Y),Me=new Q1t(Y,oe),Z=new lSt(Y,oe,Ae,Me),ve=new fSt(Y,Z,oe,Ae),Ve=new dSt(Y,me,Re),We=new tSt(Se),Ee=new ACt(b,ot,rt,re,me,Me,We),je=new KCt(b,Se),Te=new NCt,ct=new DCt(re),Ye=new Z1t(b,ot,rt,he,ve,g,l),lt=new BCt(b,ve,me),Je=new XCt(Y,Ae,me,he),at=new J1t(Y,re,Ae),Tt=new cSt(Y,re,Ae),Ae.programs=Ee.programs,b.capabilities=me,b.extensions=re,b.properties=Se,b.renderLists=Te,b.shadowMap=lt,b.state=he,b.info=Ae}de();const ke=new GCt(b,Y);this.xr=ke,this.getContext=function(){return Y},this.getContextAttributes=function(){return Y.getContextAttributes()},this.forceContextLoss=function(){const ae=re.get("WEBGL_lose_context");ae&&ae.loseContext()},this.forceContextRestore=function(){const ae=re.get("WEBGL_lose_context");ae&&ae.restoreContext()},this.getPixelRatio=function(){return R},this.setPixelRatio=function(ae){ae!==void 0&&(R=ae,this.setSize(z,H,!1))},this.getSize=function(ae){return ae.set(z,H)},this.setSize=function(ae,_e,Ne=!0){if(ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=ae,H=_e,n.width=Math.floor(ae*R),n.height=Math.floor(_e*R),Ne===!0&&(n.style.width=ae+"px",n.style.height=_e+"px"),this.setViewport(0,0,ae,_e)},this.getDrawingBufferSize=function(ae){return ae.set(z*R,H*R).floor()},this.setDrawingBufferSize=function(ae,_e,Ne){z=ae,H=_e,R=Ne,n.width=Math.floor(ae*Ne),n.height=Math.floor(_e*Ne),this.setViewport(0,0,ae,_e)},this.getCurrentViewport=function(ae){return ae.copy(O)},this.getViewport=function(ae){return ae.copy(W)},this.setViewport=function(ae,_e,Ne,Oe){ae.isVector4?W.set(ae.x,ae.y,ae.z,ae.w):W.set(ae,_e,Ne,Oe),he.viewport(O.copy(W).multiplyScalar(R).round())},this.getScissor=function(ae){return ae.copy(G)},this.setScissor=function(ae,_e,Ne,Oe){ae.isVector4?G.set(ae.x,ae.y,ae.z,ae.w):G.set(ae,_e,Ne,Oe),he.scissor(I.copy(G).multiplyScalar(R).round())},this.getScissorTest=function(){return K},this.setScissorTest=function(ae){he.setScissorTest(K=ae)},this.setOpaqueSort=function(ae){j=ae},this.setTransparentSort=function(ae){B=ae},this.getClearColor=function(ae){return ae.copy(Ye.getClearColor())},this.setClearColor=function(){Ye.setClearColor(...arguments)},this.getClearAlpha=function(){return Ye.getClearAlpha()},this.setClearAlpha=function(){Ye.setClearAlpha(...arguments)},this.clear=function(ae=!0,_e=!0,Ne=!0){let Oe=0;if(ae){let be=!1;if(T!==null){const Qe=T.texture.format;be=Qe===jN||Qe===IN||Qe===x1}if(be){const Qe=T.texture.type,ut=Qe===pa||Qe===Su||Qe===vy||Qe===yy||Qe===RN||Qe===kN,_t=Ye.getClearColor(),yt=Ye.getClearAlpha(),Lt=_t.r,jt=_t.g,St=_t.b;ut?(v[0]=Lt,v[1]=jt,v[2]=St,v[3]=yt,Y.clearBufferuiv(Y.COLOR,0,v)):(x[0]=Lt,x[1]=jt,x[2]=St,x[3]=yt,Y.clearBufferiv(Y.COLOR,0,x))}else Oe|=Y.COLOR_BUFFER_BIT}_e&&(Oe|=Y.DEPTH_BUFFER_BIT),Ne&&(Oe|=Y.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Y.clear(Oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",$e,!1),n.removeEventListener("webglcontextrestored",Ge,!1),n.removeEventListener("webglcontextcreationerror",ze,!1),Ye.dispose(),Te.dispose(),ct.dispose(),Se.dispose(),ot.dispose(),rt.dispose(),ve.dispose(),Me.dispose(),Je.dispose(),Ee.dispose(),ke.dispose(),ke.removeEventListener("sessionstart",Un),ke.removeEventListener("sessionend",wa),Ps.stop()};function $e(ae){ae.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Ge(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const ae=Ae.autoReset,_e=lt.enabled,Ne=lt.autoUpdate,Oe=lt.needsUpdate,be=lt.type;de(),Ae.autoReset=ae,lt.enabled=_e,lt.autoUpdate=Ne,lt.needsUpdate=Oe,lt.type=be}function ze(ae){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",ae.statusMessage)}function Le(ae){const _e=ae.target;_e.removeEventListener("dispose",Le),et(_e)}function et(ae){vt(ae),Se.remove(ae)}function vt(ae){const _e=Se.get(ae).programs;_e!==void 0&&(_e.forEach(function(Ne){Ee.releaseProgram(Ne)}),ae.isShaderMaterial&&Ee.releaseShaderCache(ae))}this.renderBufferDirect=function(ae,_e,Ne,Oe,be,Qe){_e===null&&(_e=te);const ut=be.isMesh&&be.matrixWorld.determinant()<0,_t=tm(ae,_e,Ne,Oe,be);he.setMaterial(Oe,ut);let yt=Ne.index,Lt=1;if(Oe.wireframe===!0){if(yt=Z.getWireframeAttribute(Ne),yt===void 0)return;Lt=2}const jt=Ne.drawRange,St=Ne.attributes.position;let Mt=jt.start*Lt,Ot=(jt.start+jt.count)*Lt;Qe!==null&&(Mt=Math.max(Mt,Qe.start*Lt),Ot=Math.min(Ot,(Qe.start+Qe.count)*Lt)),yt!==null?(Mt=Math.max(Mt,0),Ot=Math.min(Ot,yt.count)):St!=null&&(Mt=Math.max(Mt,0),Ot=Math.min(Ot,St.count));const Mn=Ot-Mt;if(Mn<0||Mn===1/0)return;Me.setup(be,Oe,_t,Ne,yt);let en,tn=at;if(yt!==null&&(en=oe.get(yt),tn=Tt,tn.setIndex(en)),be.isMesh)Oe.wireframe===!0?(he.setLineWidth(Oe.wireframeLinewidth*ee()),tn.setMode(Y.LINES)):tn.setMode(Y.TRIANGLES);else if(be.isLine){let Pt=Oe.linewidth;Pt===void 0&&(Pt=1),he.setLineWidth(Pt*ee()),be.isLineSegments?tn.setMode(Y.LINES):be.isLineLoop?tn.setMode(Y.LINE_LOOP):tn.setMode(Y.LINE_STRIP)}else be.isPoints?tn.setMode(Y.POINTS):be.isSprite&&tn.setMode(Y.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)cw("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),tn.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(re.get("WEBGL_multi_draw"))tn.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const Pt=be._multiDrawStarts,kn=be._multiDrawCounts,Kt=be._multiDrawCount,wr=yt?oe.get(yt).bytesPerElement:1,Sa=Se.get(Oe).currentProgram.getUniforms();for(let xi=0;xi<Kt;xi++)Sa.setValue(Y,"_gl_DrawID",xi),tn.render(Pt[xi]/wr,kn[xi])}else if(be.isInstancedMesh)tn.renderInstances(Mt,Mn,be.count);else if(Ne.isInstancedBufferGeometry){const Pt=Ne._maxInstanceCount!==void 0?Ne._maxInstanceCount:1/0,kn=Math.min(Ne.instanceCount,Pt);tn.renderInstances(Mt,Mn,kn)}else tn.render(Mt,Mn)};function zt(ae,_e,Ne){ae.transparent===!0&&ae.side===Ga&&ae.forceSinglePass===!1?(ae.side=os,ae.needsUpdate=!0,Fu(ae,_e,Ne),ae.side=bu,ae.needsUpdate=!0,Fu(ae,_e,Ne),ae.side=Ga):Fu(ae,_e,Ne)}this.compile=function(ae,_e,Ne=null){Ne===null&&(Ne=ae),p=ct.get(Ne),p.init(_e),_.push(p),Ne.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),ae!==Ne&&ae.traverseVisible(function(be){be.isLight&&be.layers.test(_e.layers)&&(p.pushLight(be),be.castShadow&&p.pushShadow(be))}),p.setupLights();const Oe=new Set;return ae.traverse(function(be){if(!(be.isMesh||be.isPoints||be.isLine||be.isSprite))return;const Qe=be.material;if(Qe)if(Array.isArray(Qe))for(let ut=0;ut<Qe.length;ut++){const _t=Qe[ut];zt(_t,Ne,be),Oe.add(_t)}else zt(Qe,Ne,be),Oe.add(Qe)}),p=_.pop(),Oe},this.compileAsync=function(ae,_e,Ne=null){const Oe=this.compile(ae,_e,Ne);return new Promise(be=>{function Qe(){if(Oe.forEach(function(ut){Se.get(ut).currentProgram.isReady()&&Oe.delete(ut)}),Oe.size===0){be(ae);return}setTimeout(Qe,10)}re.get("KHR_parallel_shader_compile")!==null?Qe():setTimeout(Qe,10)})};let qt=null;function Gn(ae){qt&&qt(ae)}function Un(){Ps.stop()}function wa(){Ps.start()}const Ps=new oxe;Ps.setAnimationLoop(Gn),typeof self<"u"&&Ps.setContext(self),this.setAnimationLoop=function(ae){qt=ae,ke.setAnimationLoop(ae),ae===null?Ps.stop():Ps.start()},ke.addEventListener("sessionstart",Un),ke.addEventListener("sessionend",wa),this.render=function(ae,_e){if(_e!==void 0&&_e.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;if(ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),_e.parent===null&&_e.matrixWorldAutoUpdate===!0&&_e.updateMatrixWorld(),ke.enabled===!0&&ke.isPresenting===!0&&(ke.cameraAutoUpdate===!0&&ke.updateCamera(_e),_e=ke.getCamera()),ae.isScene===!0&&ae.onBeforeRender(b,ae,_e,T),p=ct.get(ae,_.length),p.init(_e),_.push(p),U.multiplyMatrices(_e.projectionMatrix,_e.matrixWorldInverse),ie.setFromProjectionMatrix(U,bo,_e.reversedDepth),J=this.localClippingEnabled,le=We.init(this.clippingPlanes,J),m=Te.get(ae,y.length),m.init(),y.push(m),ke.enabled===!0&&ke.isPresenting===!0){const Qe=b.xr.getDepthSensingMesh();Qe!==null&&Du(Qe,_e,-1/0,b.sortObjects)}Du(ae,_e,0,b.sortObjects),m.finish(),b.sortObjects===!0&&m.sort(j,B),ue=ke.enabled===!1||ke.isPresenting===!1||ke.hasDepthSensing()===!1,ue&&Ye.addToRenderList(m,ae),this.info.render.frame++,le===!0&&We.beginShadows();const Ne=p.state.shadowsArray;lt.render(Ne,ae,_e),le===!0&&We.endShadows(),this.info.autoReset===!0&&this.info.reset();const Oe=m.opaque,be=m.transmissive;if(p.setupLights(),_e.isArrayCamera){const Qe=_e.cameras;if(be.length>0)for(let ut=0,_t=Qe.length;ut<_t;ut++){const yt=Qe[ut];Zp(Oe,be,ae,yt)}ue&&Ye.render(ae);for(let ut=0,_t=Qe.length;ut<_t;ut++){const yt=Qe[ut];Lu(m,ae,yt,yt.viewport)}}else be.length>0&&Zp(Oe,be,ae,_e),ue&&Ye.render(ae),Lu(m,ae,_e);T!==null&&A===0&&(Re.updateMultisampleRenderTarget(T),Re.updateRenderTargetMipmap(T)),ae.isScene===!0&&ae.onAfterRender(b,ae,_e),Me.resetDefaultState(),P=-1,N=null,_.pop(),_.length>0?(p=_[_.length-1],le===!0&&We.setGlobalState(b.clippingPlanes,p.state.camera)):p=null,y.pop(),y.length>0?m=y[y.length-1]:m=null};function Du(ae,_e,Ne,Oe){if(ae.visible===!1)return;if(ae.layers.test(_e.layers)){if(ae.isGroup)Ne=ae.renderOrder;else if(ae.isLOD)ae.autoUpdate===!0&&ae.update(_e);else if(ae.isLight)p.pushLight(ae),ae.castShadow&&p.pushShadow(ae);else if(ae.isSprite){if(!ae.frustumCulled||ie.intersectsSprite(ae)){Oe&&Q.setFromMatrixPosition(ae.matrixWorld).applyMatrix4(U);const ut=ve.update(ae),_t=ae.material;_t.visible&&m.push(ae,ut,_t,Ne,Q.z,null)}}else if((ae.isMesh||ae.isLine||ae.isPoints)&&(!ae.frustumCulled||ie.intersectsObject(ae))){const ut=ve.update(ae),_t=ae.material;if(Oe&&(ae.boundingSphere!==void 0?(ae.boundingSphere===null&&ae.computeBoundingSphere(),Q.copy(ae.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),Q.copy(ut.boundingSphere.center)),Q.applyMatrix4(ae.matrixWorld).applyMatrix4(U)),Array.isArray(_t)){const yt=ut.groups;for(let Lt=0,jt=yt.length;Lt<jt;Lt++){const St=yt[Lt],Mt=_t[St.materialIndex];Mt&&Mt.visible&&m.push(ae,ut,Mt,Ne,Q.z,St)}}else _t.visible&&m.push(ae,ut,_t,Ne,Q.z,null)}}const Qe=ae.children;for(let ut=0,_t=Qe.length;ut<_t;ut++)Du(Qe[ut],_e,Ne,Oe)}function Lu(ae,_e,Ne,Oe){const be=ae.opaque,Qe=ae.transmissive,ut=ae.transparent;p.setupLightsView(Ne),le===!0&&We.setGlobalState(b.clippingPlanes,Ne),Oe&&he.viewport(O.copy(Oe)),be.length>0&&jo(be,_e,Ne),Qe.length>0&&jo(Qe,_e,Ne),ut.length>0&&jo(ut,_e,Ne),he.buffers.depth.setTest(!0),he.buffers.depth.setMask(!0),he.buffers.color.setMask(!0),he.setPolygonOffset(!1)}function Zp(ae,_e,Ne,Oe){if((Ne.isScene===!0?Ne.overrideMaterial:null)!==null)return;p.state.transmissionRenderTarget[Oe.id]===void 0&&(p.state.transmissionRenderTarget[Oe.id]=new ac(1,1,{generateMipmaps:!0,type:re.has("EXT_color_buffer_half_float")||re.has("EXT_color_buffer_float")?dx:pa,minFilter:Ul,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Cn.workingColorSpace}));const Qe=p.state.transmissionRenderTarget[Oe.id],ut=Oe.viewport||O;Qe.setSize(ut.z*b.transmissionResolutionScale,ut.w*b.transmissionResolutionScale);const _t=b.getRenderTarget(),yt=b.getActiveCubeFace(),Lt=b.getActiveMipmapLevel();b.setRenderTarget(Qe),b.getClearColor(F),$=b.getClearAlpha(),$<1&&b.setClearColor(16777215,.5),b.clear(),ue&&Ye.render(Ne);const jt=b.toneMapping;b.toneMapping=Zl;const St=Oe.viewport;if(Oe.viewport!==void 0&&(Oe.viewport=void 0),p.setupLightsView(Oe),le===!0&&We.setGlobalState(b.clippingPlanes,Oe),jo(ae,Ne,Oe),Re.updateMultisampleRenderTarget(Qe),Re.updateRenderTargetMipmap(Qe),re.has("WEBGL_multisampled_render_to_texture")===!1){let Mt=!1;for(let Ot=0,Mn=_e.length;Ot<Mn;Ot++){const en=_e[Ot],tn=en.object,Pt=en.geometry,kn=en.material,Kt=en.group;if(kn.side===Ga&&tn.layers.test(Oe.layers)){const wr=kn.side;kn.side=os,kn.needsUpdate=!0,Qp(tn,Ne,Oe,Pt,kn,Kt),kn.side=wr,kn.needsUpdate=!0,Mt=!0}}Mt===!0&&(Re.updateMultisampleRenderTarget(Qe),Re.updateRenderTargetMipmap(Qe))}b.setRenderTarget(_t,yt,Lt),b.setClearColor(F,$),St!==void 0&&(Oe.viewport=St),b.toneMapping=jt}function jo(ae,_e,Ne){const Oe=_e.isScene===!0?_e.overrideMaterial:null;for(let be=0,Qe=ae.length;be<Qe;be++){const ut=ae[be],_t=ut.object,yt=ut.geometry,Lt=ut.group;let jt=ut.material;jt.allowOverride===!0&&Oe!==null&&(jt=Oe),_t.layers.test(Ne.layers)&&Qp(_t,_e,Ne,yt,jt,Lt)}}function Qp(ae,_e,Ne,Oe,be,Qe){ae.onBeforeRender(b,_e,Ne,Oe,be,Qe),ae.modelViewMatrix.multiplyMatrices(Ne.matrixWorldInverse,ae.matrixWorld),ae.normalMatrix.getNormalMatrix(ae.modelViewMatrix),be.onBeforeRender(b,_e,Ne,Oe,ae,Qe),be.transparent===!0&&be.side===Ga&&be.forceSinglePass===!1?(be.side=os,be.needsUpdate=!0,b.renderBufferDirect(Ne,_e,Oe,be,ae,Qe),be.side=bu,be.needsUpdate=!0,b.renderBufferDirect(Ne,_e,Oe,be,ae,Qe),be.side=Ga):b.renderBufferDirect(Ne,_e,Oe,be,ae,Qe),ae.onAfterRender(b,_e,Ne,Oe,be,Qe)}function Fu(ae,_e,Ne){_e.isScene!==!0&&(_e=te);const Oe=Se.get(ae),be=p.state.lights,Qe=p.state.shadowsArray,ut=be.state.version,_t=Ee.getParameters(ae,be.state,Qe,_e,Ne),yt=Ee.getProgramCacheKey(_t);let Lt=Oe.programs;Oe.environment=ae.isMeshStandardMaterial?_e.environment:null,Oe.fog=_e.fog,Oe.envMap=(ae.isMeshStandardMaterial?rt:ot).get(ae.envMap||Oe.environment),Oe.envMapRotation=Oe.environment!==null&&ae.envMap===null?_e.environmentRotation:ae.envMapRotation,Lt===void 0&&(ae.addEventListener("dispose",Le),Lt=new Map,Oe.programs=Lt);let jt=Lt.get(yt);if(jt!==void 0){if(Oe.currentProgram===jt&&Oe.lightsStateVersion===ut)return em(ae,_t),jt}else _t.uniforms=Ee.getUniforms(ae),ae.onBeforeCompile(_t,b),jt=Ee.acquireProgram(_t,yt),Lt.set(yt,jt),Oe.uniforms=_t.uniforms;const St=Oe.uniforms;return(!ae.isShaderMaterial&&!ae.isRawShaderMaterial||ae.clipping===!0)&&(St.clippingPlanes=We.uniform),em(ae,_t),Oe.needsLights=rm(ae),Oe.lightsStateVersion=ut,Oe.needsLights&&(St.ambientLightColor.value=be.state.ambient,St.lightProbe.value=be.state.probe,St.directionalLights.value=be.state.directional,St.directionalLightShadows.value=be.state.directionalShadow,St.spotLights.value=be.state.spot,St.spotLightShadows.value=be.state.spotShadow,St.rectAreaLights.value=be.state.rectArea,St.ltc_1.value=be.state.rectAreaLTC1,St.ltc_2.value=be.state.rectAreaLTC2,St.pointLights.value=be.state.point,St.pointLightShadows.value=be.state.pointShadow,St.hemisphereLights.value=be.state.hemi,St.directionalShadowMap.value=be.state.directionalShadowMap,St.directionalShadowMatrix.value=be.state.directionalShadowMatrix,St.spotShadowMap.value=be.state.spotShadowMap,St.spotLightMatrix.value=be.state.spotLightMatrix,St.spotLightMap.value=be.state.spotLightMap,St.pointShadowMap.value=be.state.pointShadowMap,St.pointShadowMatrix.value=be.state.pointShadowMatrix),Oe.currentProgram=jt,Oe.uniformsList=null,jt}function Jp(ae){if(ae.uniformsList===null){const _e=ae.currentProgram.getUniforms();ae.uniformsList=nM.seqWithValue(_e.seq,ae.uniforms)}return ae.uniformsList}function em(ae,_e){const Ne=Se.get(ae);Ne.outputColorSpace=_e.outputColorSpace,Ne.batching=_e.batching,Ne.batchingColor=_e.batchingColor,Ne.instancing=_e.instancing,Ne.instancingColor=_e.instancingColor,Ne.instancingMorph=_e.instancingMorph,Ne.skinning=_e.skinning,Ne.morphTargets=_e.morphTargets,Ne.morphNormals=_e.morphNormals,Ne.morphColors=_e.morphColors,Ne.morphTargetsCount=_e.morphTargetsCount,Ne.numClippingPlanes=_e.numClippingPlanes,Ne.numIntersection=_e.numClipIntersection,Ne.vertexAlphas=_e.vertexAlphas,Ne.vertexTangents=_e.vertexTangents,Ne.toneMapping=_e.toneMapping}function tm(ae,_e,Ne,Oe,be){_e.isScene!==!0&&(_e=te),Re.resetTextureUnits();const Qe=_e.fog,ut=Oe.isMeshStandardMaterial?_e.environment:null,_t=T===null?b.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Tp,yt=(Oe.isMeshStandardMaterial?rt:ot).get(Oe.envMap||ut),Lt=Oe.vertexColors===!0&&!!Ne.attributes.color&&Ne.attributes.color.itemSize===4,jt=!!Ne.attributes.tangent&&(!!Oe.normalMap||Oe.anisotropy>0),St=!!Ne.morphAttributes.position,Mt=!!Ne.morphAttributes.normal,Ot=!!Ne.morphAttributes.color;let Mn=Zl;Oe.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(Mn=b.toneMapping);const en=Ne.morphAttributes.position||Ne.morphAttributes.normal||Ne.morphAttributes.color,tn=en!==void 0?en.length:0,Pt=Se.get(Oe),kn=p.state.lights;if(le===!0&&(J===!0||ae!==N)){const Xr=ae===N&&Oe.id===P;We.setState(Oe,ae,Xr)}let Kt=!1;Oe.version===Pt.__version?(Pt.needsLights&&Pt.lightsStateVersion!==kn.state.version||Pt.outputColorSpace!==_t||be.isBatchedMesh&&Pt.batching===!1||!be.isBatchedMesh&&Pt.batching===!0||be.isBatchedMesh&&Pt.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&Pt.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&Pt.instancing===!1||!be.isInstancedMesh&&Pt.instancing===!0||be.isSkinnedMesh&&Pt.skinning===!1||!be.isSkinnedMesh&&Pt.skinning===!0||be.isInstancedMesh&&Pt.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&Pt.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&Pt.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&Pt.instancingMorph===!1&&be.morphTexture!==null||Pt.envMap!==yt||Oe.fog===!0&&Pt.fog!==Qe||Pt.numClippingPlanes!==void 0&&(Pt.numClippingPlanes!==We.numPlanes||Pt.numIntersection!==We.numIntersection)||Pt.vertexAlphas!==Lt||Pt.vertexTangents!==jt||Pt.morphTargets!==St||Pt.morphNormals!==Mt||Pt.morphColors!==Ot||Pt.toneMapping!==Mn||Pt.morphTargetsCount!==tn)&&(Kt=!0):(Kt=!0,Pt.__version=Oe.version);let wr=Pt.currentProgram;Kt===!0&&(wr=Fu(Oe,_e,be));let Sa=!1,xi=!1,Do=!1;const $n=wr.getUniforms(),rr=Pt.uniforms;if(he.useProgram(wr.program)&&(Sa=!0,xi=!0,Do=!0),Oe.id!==P&&(P=Oe.id,xi=!0),Sa||N!==ae){he.buffers.depth.getReversed()&&ae.reversedDepth!==!0&&(ae._reversedDepth=!0,ae.updateProjectionMatrix()),$n.setValue(Y,"projectionMatrix",ae.projectionMatrix),$n.setValue(Y,"viewMatrix",ae.matrixWorldInverse);const $i=$n.map.cameraPosition;$i!==void 0&&$i.setValue(Y,X.setFromMatrixPosition(ae.matrixWorld)),me.logarithmicDepthBuffer&&$n.setValue(Y,"logDepthBufFC",2/(Math.log(ae.far+1)/Math.LN2)),(Oe.isMeshPhongMaterial||Oe.isMeshToonMaterial||Oe.isMeshLambertMaterial||Oe.isMeshBasicMaterial||Oe.isMeshStandardMaterial||Oe.isShaderMaterial)&&$n.setValue(Y,"isOrthographic",ae.isOrthographicCamera===!0),N!==ae&&(N=ae,xi=!0,Do=!0)}if(be.isSkinnedMesh){$n.setOptional(Y,be,"bindMatrix"),$n.setOptional(Y,be,"bindMatrixInverse");const Xr=be.skeleton;Xr&&(Xr.boneTexture===null&&Xr.computeBoneTexture(),$n.setValue(Y,"boneTexture",Xr.boneTexture,Re))}be.isBatchedMesh&&($n.setOptional(Y,be,"batchingTexture"),$n.setValue(Y,"batchingTexture",be._matricesTexture,Re),$n.setOptional(Y,be,"batchingIdTexture"),$n.setValue(Y,"batchingIdTexture",be._indirectTexture,Re),$n.setOptional(Y,be,"batchingColorTexture"),be._colorsTexture!==null&&$n.setValue(Y,"batchingColorTexture",be._colorsTexture,Re));const Ui=Ne.morphAttributes;if((Ui.position!==void 0||Ui.normal!==void 0||Ui.color!==void 0)&&Ve.update(be,Ne,wr),(xi||Pt.receiveShadow!==be.receiveShadow)&&(Pt.receiveShadow=be.receiveShadow,$n.setValue(Y,"receiveShadow",be.receiveShadow)),Oe.isMeshGouraudMaterial&&Oe.envMap!==null&&(rr.envMap.value=yt,rr.flipEnvMap.value=yt.isCubeTexture&&yt.isRenderTargetTexture===!1?-1:1),Oe.isMeshStandardMaterial&&Oe.envMap===null&&_e.environment!==null&&(rr.envMapIntensity.value=_e.environmentIntensity),xi&&($n.setValue(Y,"toneMappingExposure",b.toneMappingExposure),Pt.needsLights&&nm(rr,Do),Qe&&Oe.fog===!0&&je.refreshFogUniforms(rr,Qe),je.refreshMaterialUniforms(rr,Oe,R,H,p.state.transmissionRenderTarget[ae.id]),nM.upload(Y,Jp(Pt),rr,Re)),Oe.isShaderMaterial&&Oe.uniformsNeedUpdate===!0&&(nM.upload(Y,Jp(Pt),rr,Re),Oe.uniformsNeedUpdate=!1),Oe.isSpriteMaterial&&$n.setValue(Y,"center",be.center),$n.setValue(Y,"modelViewMatrix",be.modelViewMatrix),$n.setValue(Y,"normalMatrix",be.normalMatrix),$n.setValue(Y,"modelMatrix",be.matrixWorld),Oe.isShaderMaterial||Oe.isRawShaderMaterial){const Xr=Oe.uniformsGroups;for(let $i=0,Bu=Xr.length;$i<Bu;$i++){const Lo=Xr[$i];Je.update(Lo,wr),Je.bind(Lo,wr)}}return wr}function nm(ae,_e){ae.ambientLightColor.needsUpdate=_e,ae.lightProbe.needsUpdate=_e,ae.directionalLights.needsUpdate=_e,ae.directionalLightShadows.needsUpdate=_e,ae.pointLights.needsUpdate=_e,ae.pointLightShadows.needsUpdate=_e,ae.spotLights.needsUpdate=_e,ae.spotLightShadows.needsUpdate=_e,ae.rectAreaLights.needsUpdate=_e,ae.hemisphereLights.needsUpdate=_e}function rm(ae){return ae.isMeshLambertMaterial||ae.isMeshToonMaterial||ae.isMeshPhongMaterial||ae.isMeshStandardMaterial||ae.isShadowMaterial||ae.isShaderMaterial&&ae.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return A},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(ae,_e,Ne){const Oe=Se.get(ae);Oe.__autoAllocateDepthBuffer=ae.resolveDepthBuffer===!1,Oe.__autoAllocateDepthBuffer===!1&&(Oe.__useRenderToTexture=!1),Se.get(ae.texture).__webglTexture=_e,Se.get(ae.depthTexture).__webglTexture=Oe.__autoAllocateDepthBuffer?void 0:Ne,Oe.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(ae,_e){const Ne=Se.get(ae);Ne.__webglFramebuffer=_e,Ne.__useDefaultFramebuffer=_e===void 0};const im=Y.createFramebuffer();this.setRenderTarget=function(ae,_e=0,Ne=0){T=ae,E=_e,A=Ne;let Oe=!0,be=null,Qe=!1,ut=!1;if(ae){const yt=Se.get(ae);if(yt.__useDefaultFramebuffer!==void 0)he.bindFramebuffer(Y.FRAMEBUFFER,null),Oe=!1;else if(yt.__webglFramebuffer===void 0)Re.setupRenderTarget(ae);else if(yt.__hasExternalTextures)Re.rebindTextures(ae,Se.get(ae.texture).__webglTexture,Se.get(ae.depthTexture).__webglTexture);else if(ae.depthBuffer){const St=ae.depthTexture;if(yt.__boundDepthTexture!==St){if(St!==null&&Se.has(St)&&(ae.width!==St.image.width||ae.height!==St.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");Re.setupDepthRenderbuffer(ae)}}const Lt=ae.texture;(Lt.isData3DTexture||Lt.isDataArrayTexture||Lt.isCompressedArrayTexture)&&(ut=!0);const jt=Se.get(ae).__webglFramebuffer;ae.isWebGLCubeRenderTarget?(Array.isArray(jt[_e])?be=jt[_e][Ne]:be=jt[_e],Qe=!0):ae.samples>0&&Re.useMultisampledRTT(ae)===!1?be=Se.get(ae).__webglMultisampledFramebuffer:Array.isArray(jt)?be=jt[Ne]:be=jt,O.copy(ae.viewport),I.copy(ae.scissor),D=ae.scissorTest}else O.copy(W).multiplyScalar(R).floor(),I.copy(G).multiplyScalar(R).floor(),D=K;if(Ne!==0&&(be=im),he.bindFramebuffer(Y.FRAMEBUFFER,be)&&Oe&&he.drawBuffers(ae,be),he.viewport(O),he.scissor(I),he.setScissorTest(D),Qe){const yt=Se.get(ae.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_CUBE_MAP_POSITIVE_X+_e,yt.__webglTexture,Ne)}else if(ut){const yt=_e;for(let Lt=0;Lt<ae.textures.length;Lt++){const jt=Se.get(ae.textures[Lt]);Y.framebufferTextureLayer(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0+Lt,jt.__webglTexture,Ne,yt)}}else if(ae!==null&&Ne!==0){const yt=Se.get(ae.texture);Y.framebufferTexture2D(Y.FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,yt.__webglTexture,Ne)}P=-1},this.readRenderTargetPixels=function(ae,_e,Ne,Oe,be,Qe,ut,_t=0){if(!(ae&&ae.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=Se.get(ae).__webglFramebuffer;if(ae.isWebGLCubeRenderTarget&&ut!==void 0&&(yt=yt[ut]),yt){he.bindFramebuffer(Y.FRAMEBUFFER,yt);try{const Lt=ae.textures[_t],jt=Lt.format,St=Lt.type;if(!me.textureFormatReadable(jt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!me.textureTypeReadable(St)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}_e>=0&&_e<=ae.width-Oe&&Ne>=0&&Ne<=ae.height-be&&(ae.textures.length>1&&Y.readBuffer(Y.COLOR_ATTACHMENT0+_t),Y.readPixels(_e,Ne,Oe,be,pe.convert(jt),pe.convert(St),Qe))}finally{const Lt=T!==null?Se.get(T).__webglFramebuffer:null;he.bindFramebuffer(Y.FRAMEBUFFER,Lt)}}},this.readRenderTargetPixelsAsync=async function(ae,_e,Ne,Oe,be,Qe,ut,_t=0){if(!(ae&&ae.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let yt=Se.get(ae).__webglFramebuffer;if(ae.isWebGLCubeRenderTarget&&ut!==void 0&&(yt=yt[ut]),yt)if(_e>=0&&_e<=ae.width-Oe&&Ne>=0&&Ne<=ae.height-be){he.bindFramebuffer(Y.FRAMEBUFFER,yt);const Lt=ae.textures[_t],jt=Lt.format,St=Lt.type;if(!me.textureFormatReadable(jt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!me.textureTypeReadable(St))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Mt=Y.createBuffer();Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Mt),Y.bufferData(Y.PIXEL_PACK_BUFFER,Qe.byteLength,Y.STREAM_READ),ae.textures.length>1&&Y.readBuffer(Y.COLOR_ATTACHMENT0+_t),Y.readPixels(_e,Ne,Oe,be,pe.convert(jt),pe.convert(St),0);const Ot=T!==null?Se.get(T).__webglFramebuffer:null;he.bindFramebuffer(Y.FRAMEBUFFER,Ot);const Mn=Y.fenceSync(Y.SYNC_GPU_COMMANDS_COMPLETE,0);return Y.flush(),await Ixt(Y,Mn,4),Y.bindBuffer(Y.PIXEL_PACK_BUFFER,Mt),Y.getBufferSubData(Y.PIXEL_PACK_BUFFER,0,Qe),Y.deleteBuffer(Mt),Y.deleteSync(Mn),Qe}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(ae,_e=null,Ne=0){const Oe=Math.pow(2,-Ne),be=Math.floor(ae.image.width*Oe),Qe=Math.floor(ae.image.height*Oe),ut=_e!==null?_e.x:0,_t=_e!==null?_e.y:0;Re.setTexture2D(ae,0),Y.copyTexSubImage2D(Y.TEXTURE_2D,Ne,0,0,ut,_t,be,Qe),he.unbindTexture()};const mx=Y.createFramebuffer(),gx=Y.createFramebuffer();this.copyTextureToTexture=function(ae,_e,Ne=null,Oe=null,be=0,Qe=null){Qe===null&&(be!==0?(cw("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Qe=be,be=0):Qe=0);let ut,_t,yt,Lt,jt,St,Mt,Ot,Mn;const en=ae.isCompressedTexture?ae.mipmaps[Qe]:ae.image;if(Ne!==null)ut=Ne.max.x-Ne.min.x,_t=Ne.max.y-Ne.min.y,yt=Ne.isBox3?Ne.max.z-Ne.min.z:1,Lt=Ne.min.x,jt=Ne.min.y,St=Ne.isBox3?Ne.min.z:0;else{const Ui=Math.pow(2,-be);ut=Math.floor(en.width*Ui),_t=Math.floor(en.height*Ui),ae.isDataArrayTexture?yt=en.depth:ae.isData3DTexture?yt=Math.floor(en.depth*Ui):yt=1,Lt=0,jt=0,St=0}Oe!==null?(Mt=Oe.x,Ot=Oe.y,Mn=Oe.z):(Mt=0,Ot=0,Mn=0);const tn=pe.convert(_e.format),Pt=pe.convert(_e.type);let kn;_e.isData3DTexture?(Re.setTexture3D(_e,0),kn=Y.TEXTURE_3D):_e.isDataArrayTexture||_e.isCompressedArrayTexture?(Re.setTexture2DArray(_e,0),kn=Y.TEXTURE_2D_ARRAY):(Re.setTexture2D(_e,0),kn=Y.TEXTURE_2D),Y.pixelStorei(Y.UNPACK_FLIP_Y_WEBGL,_e.flipY),Y.pixelStorei(Y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),Y.pixelStorei(Y.UNPACK_ALIGNMENT,_e.unpackAlignment);const Kt=Y.getParameter(Y.UNPACK_ROW_LENGTH),wr=Y.getParameter(Y.UNPACK_IMAGE_HEIGHT),Sa=Y.getParameter(Y.UNPACK_SKIP_PIXELS),xi=Y.getParameter(Y.UNPACK_SKIP_ROWS),Do=Y.getParameter(Y.UNPACK_SKIP_IMAGES);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,en.width),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,en.height),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Lt),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,jt),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,St);const $n=ae.isDataArrayTexture||ae.isData3DTexture,rr=_e.isDataArrayTexture||_e.isData3DTexture;if(ae.isDepthTexture){const Ui=Se.get(ae),Xr=Se.get(_e),$i=Se.get(Ui.__renderTarget),Bu=Se.get(Xr.__renderTarget);he.bindFramebuffer(Y.READ_FRAMEBUFFER,$i.__webglFramebuffer),he.bindFramebuffer(Y.DRAW_FRAMEBUFFER,Bu.__webglFramebuffer);for(let Lo=0;Lo<yt;Lo++)$n&&(Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Se.get(ae).__webglTexture,be,St+Lo),Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Se.get(_e).__webglTexture,Qe,Mn+Lo)),Y.blitFramebuffer(Lt,jt,ut,_t,Mt,Ot,ut,_t,Y.DEPTH_BUFFER_BIT,Y.NEAREST);he.bindFramebuffer(Y.READ_FRAMEBUFFER,null),he.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else if(be!==0||ae.isRenderTargetTexture||Se.has(ae)){const Ui=Se.get(ae),Xr=Se.get(_e);he.bindFramebuffer(Y.READ_FRAMEBUFFER,mx),he.bindFramebuffer(Y.DRAW_FRAMEBUFFER,gx);for(let $i=0;$i<yt;$i++)$n?Y.framebufferTextureLayer(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Ui.__webglTexture,be,St+$i):Y.framebufferTexture2D(Y.READ_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Ui.__webglTexture,be),rr?Y.framebufferTextureLayer(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Xr.__webglTexture,Qe,Mn+$i):Y.framebufferTexture2D(Y.DRAW_FRAMEBUFFER,Y.COLOR_ATTACHMENT0,Y.TEXTURE_2D,Xr.__webglTexture,Qe),be!==0?Y.blitFramebuffer(Lt,jt,ut,_t,Mt,Ot,ut,_t,Y.COLOR_BUFFER_BIT,Y.NEAREST):rr?Y.copyTexSubImage3D(kn,Qe,Mt,Ot,Mn+$i,Lt,jt,ut,_t):Y.copyTexSubImage2D(kn,Qe,Mt,Ot,Lt,jt,ut,_t);he.bindFramebuffer(Y.READ_FRAMEBUFFER,null),he.bindFramebuffer(Y.DRAW_FRAMEBUFFER,null)}else rr?ae.isDataTexture||ae.isData3DTexture?Y.texSubImage3D(kn,Qe,Mt,Ot,Mn,ut,_t,yt,tn,Pt,en.data):_e.isCompressedArrayTexture?Y.compressedTexSubImage3D(kn,Qe,Mt,Ot,Mn,ut,_t,yt,tn,en.data):Y.texSubImage3D(kn,Qe,Mt,Ot,Mn,ut,_t,yt,tn,Pt,en):ae.isDataTexture?Y.texSubImage2D(Y.TEXTURE_2D,Qe,Mt,Ot,ut,_t,tn,Pt,en.data):ae.isCompressedTexture?Y.compressedTexSubImage2D(Y.TEXTURE_2D,Qe,Mt,Ot,en.width,en.height,tn,en.data):Y.texSubImage2D(Y.TEXTURE_2D,Qe,Mt,Ot,ut,_t,tn,Pt,en);Y.pixelStorei(Y.UNPACK_ROW_LENGTH,Kt),Y.pixelStorei(Y.UNPACK_IMAGE_HEIGHT,wr),Y.pixelStorei(Y.UNPACK_SKIP_PIXELS,Sa),Y.pixelStorei(Y.UNPACK_SKIP_ROWS,xi),Y.pixelStorei(Y.UNPACK_SKIP_IMAGES,Do),Qe===0&&_e.generateMipmaps&&Y.generateMipmap(kn),he.unbindTexture()},this.initRenderTarget=function(ae){Se.get(ae).__webglFramebuffer===void 0&&Re.setupRenderTarget(ae)},this.initTexture=function(ae){ae.isCubeTexture?Re.setTextureCube(ae,0):ae.isData3DTexture?Re.setTexture3D(ae,0):ae.isDataArrayTexture||ae.isCompressedArrayTexture?Re.setTexture2DArray(ae,0):Re.setTexture2D(ae,0),he.unbindTexture()},this.resetState=function(){E=0,A=0,T=null,he.reset(),Me.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return bo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Cn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Cn._getUnpackColorSpace()}}const YCt=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:nz,AddEquation:xd,AddOperation:Ive,AdditiveAnimationBlendMode:dz,AdditiveBlending:NF,AgXToneMapping:Bve,AlphaFormat:lz,AlwaysCompare:eye,AlwaysDepth:CT,AlwaysStencilFunc:IF,AmbientLight:Kye,AnimationAction:rxe,AnimationClip:mw,AnimationLoader:a_t,AnimationMixer:D_t,AnimationObjectGroup:I_t,AnimationUtils:r_t,ArcCurve:xye,ArrayCamera:exe,ArrowHelper:abt,AttachedBindMode:OF,Audio:txe,AudioAnalyser:C_t,AudioContext:Fz,AudioListener:b_t,AudioLoader:y_t,AxesHelper:lbt,BackSide:os,BasicDepthPacking:Wve,BasicShadowMap:pve,BatchedMesh:pye,Bone:_z,BooleanKeyframeTrack:Kp,Box2:W_t,Box3:ls,Box3Helper:sbt,BoxGeometry:qp,BoxHelper:ibt,BufferAttribute:Jn,BufferGeometry:cn,BufferGeometryLoader:Jye,ByteType:iz,Cache:$l,Camera:_1,CameraHelper:rbt,CanvasTexture:M0t,CapsuleGeometry:WN,CatmullRomCurve3:_ye,CineonToneMapping:Lve,CircleGeometry:GN,ClampToEdgeWrapping:la,Clock:Bz,Color:gt,ColorKeyframeTrack:jz,ColorManagement:Cn,CompressedArrayTexture:C0t,CompressedCubeTexture:E0t,CompressedTexture:VN,CompressedTextureLoader:l_t,ConeGeometry:S1,ConstantAlphaFactor:Rve,ConstantColorFactor:Pve,Controls:ubt,CubeCamera:aye,CubeReflectionMapping:wu,CubeRefractionMapping:sf,CubeTexture:b1,CubeTextureLoader:c_t,CubeUVReflectionMapping:ux,CubicBezierCurve:Ez,CubicBezierCurve3:bye,CubicInterpolant:Uye,CullFaceBack:PF,CullFaceFront:hve,CullFaceFrontBack:Iyt,CullFaceNone:fve,Curve:vl,CurvePath:Sye,CustomBlending:mve,CustomToneMapping:Fve,CylinderGeometry:w1,Cylindrical:V_t,Data3DTexture:FN,DataArrayTexture:LN,DataTexture:Ql,DataTextureLoader:u_t,DataUtils:Xxt,DecrementStencilOp:Kyt,DecrementWrapStencilOp:Yyt,DefaultLoadingManager:Hye,DepthFormat:xy,DepthStencilFormat:_y,DepthTexture:wz,DetachedBindMode:$ve,DirectionalLight:qye,DirectionalLightHelper:nbt,DiscreteInterpolant:$ye,DodecahedronGeometry:qN,DoubleSide:Ga,DstAlphaFactor:Cve,DstColorFactor:Mve,DynamicCopyUsage:dxt,DynamicDrawUsage:sxt,DynamicReadUsage:lxt,EdgesGeometry:yye,EllipseCurve:KN,EqualCompare:Yve,EqualDepth:MT,EqualStencilFunc:ext,EquirectangularReflectionMapping:ew,EquirectangularRefractionMapping:tw,Euler:ko,EventDispatcher:gc,ExternalTexture:Sz,ExtrudeGeometry:XN,FileLoader:Cu,Float16BufferAttribute:n0t,Float32BufferAttribute:At,FloatType:Gs,Fog:UN,FogExp2:BN,FramebufferTexture:S0t,FrontSide:bu,Frustum:fx,FrustumArray:HN,GLBufferAttribute:$_t,GLSL1:hxt,GLSL3:jF,GreaterCompare:Zve,GreaterDepth:TT,GreaterEqualCompare:Jve,GreaterEqualDepth:AT,GreaterEqualStencilFunc:ixt,GreaterStencilFunc:nxt,GridHelper:ebt,Group:kg,HalfFloatType:dx,HemisphereLight:Vye,HemisphereLightHelper:J_t,IcosahedronGeometry:YN,ImageBitmapLoader:v_t,ImageLoader:gw,ImageUtils:iye,IncrementStencilOp:qyt,IncrementWrapStencilOp:Xyt,InstancedBufferAttribute:Cy,InstancedBufferGeometry:Qye,InstancedInterleavedBuffer:U_t,InstancedMesh:hye,Int16BufferAttribute:e0t,Int32BufferAttribute:t0t,Int8BufferAttribute:Zxt,IntType:NN,InterleavedBuffer:$N,InterleavedBufferAttribute:Pp,Interpolant:M1,InterpolateDiscrete:iw,InterpolateLinear:iP,InterpolateSmooth:eM,InterpolationSamplingMode:gxt,InterpolationSamplingType:mxt,InvertStencilOp:Zyt,KeepStencilOp:mh,KeyframeTrack:ba,LOD:dye,LatheGeometry:ZN,Layers:Jh,LessCompare:Xve,LessDepth:ET,LessEqualCompare:fz,LessEqualDepth:Ap,LessEqualStencilFunc:txt,LessStencilFunc:Jyt,Light:Mf,LightProbe:Zye,Line:of,Line3:K_t,LineBasicMaterial:Ts,LineCurve:Mz,LineCurve3:wye,LineDashedMaterial:Lye,LineLoop:mye,LineSegments:vc,LinearFilter:pi,LinearInterpolant:Iz,LinearMipMapLinearFilter:Fyt,LinearMipMapNearestFilter:Lyt,LinearMipmapLinearFilter:Ul,LinearMipmapNearestFilter:b_,LinearSRGBColorSpace:Tp,LinearToneMapping:jve,LinearTransfer:ow,Loader:no,LoaderUtils:UF,LoadingManager:Dz,LoopOnce:zve,LoopPingPong:Vve,LoopRepeat:Hve,MOUSE:hh,Material:us,MaterialLoader:iR,MathUtils:tye,Matrix2:Hz,Matrix3:on,Matrix4:Qt,MaxEquation:xve,Mesh:ri,MeshBasicMaterial:Cf,MeshDepthMaterial:Rz,MeshDistanceMaterial:kz,MeshLambertMaterial:jye,MeshMatcapMaterial:Dye,MeshNormalMaterial:Iye,MeshPhongMaterial:kye,MeshPhysicalMaterial:Rye,MeshStandardMaterial:Nz,MeshToonMaterial:Oye,MinEquation:yve,MirroredRepeatWrapping:rw,MixOperation:Ove,MultiplyBlending:kF,MultiplyOperation:y1,NearestFilter:Li,NearestMipMapLinearFilter:Dyt,NearestMipMapNearestFilter:jyt,NearestMipmapLinearFilter:Ng,NearestMipmapNearestFilter:rz,NeutralToneMapping:Uve,NeverCompare:Kve,NeverDepth:ST,NeverStencilFunc:Qyt,NoBlending:iu,NoColorSpace:zc,NoToneMapping:Zl,NormalAnimationBlendMode:DN,NormalBlending:Zh,NotEqualCompare:Qve,NotEqualDepth:PT,NotEqualStencilFunc:rxt,NumberKeyframeTrack:hw,Object3D:Nn,ObjectLoader:m_t,ObjectSpaceNormalMap:qve,OctahedronGeometry:C1,OneFactor:bve,OneMinusConstantAlphaFactor:kve,OneMinusConstantColorFactor:Nve,OneMinusDstAlphaFactor:Eve,OneMinusDstColorFactor:Ave,OneMinusSrcAlphaFactor:wT,OneMinusSrcColorFactor:Sve,OrthographicCamera:Jl,PCFShadowMap:TN,PCFSoftShadowMap:__,PMREMGenerator:VF,Path:lP,PerspectiveCamera:Mr,Plane:Ol,PlaneGeometry:hx,PlaneHelper:obt,PointLight:Gye,PointLightHelper:Z_t,Points:gye,PointsMaterial:bz,PolarGridHelper:tbt,PolyhedronGeometry:Ef,PositionalAudio:S_t,PropertyBinding:An,PropertyMixer:nxe,QuadraticBezierCurve:Az,QuadraticBezierCurve3:Tz,Quaternion:as,QuaternionKeyframeTrack:A1,QuaternionLinearInterpolant:zye,RED_GREEN_RGTC2_Format:nP,RED_RGTC1_Format:eP,REVISION:v1,RGBADepthPacking:Gve,RGBAFormat:rs,RGBAIntegerFormat:jN,RGBA_ASTC_10x10_Format:KT,RGBA_ASTC_10x5_Format:WT,RGBA_ASTC_10x6_Format:GT,RGBA_ASTC_10x8_Format:qT,RGBA_ASTC_12x10_Format:XT,RGBA_ASTC_12x12_Format:YT,RGBA_ASTC_4x4_Format:LT,RGBA_ASTC_5x4_Format:FT,RGBA_ASTC_5x5_Format:BT,RGBA_ASTC_6x5_Format:UT,RGBA_ASTC_6x6_Format:$T,RGBA_ASTC_8x5_Format:zT,RGBA_ASTC_8x6_Format:HT,RGBA_ASTC_8x8_Format:VT,RGBA_BPTC_Format:ZT,RGBA_ETC2_EAC_Format:DT,RGBA_PVRTC_2BPPV1_Format:OT,RGBA_PVRTC_4BPPV1_Format:kT,RGBA_S3TC_DXT1_Format:S_,RGBA_S3TC_DXT3_Format:C_,RGBA_S3TC_DXT5_Format:E_,RGBDepthPacking:Hyt,RGBFormat:cz,RGBIntegerFormat:Byt,RGB_BPTC_SIGNED_Format:QT,RGB_BPTC_UNSIGNED_Format:JT,RGB_ETC1_Format:IT,RGB_ETC2_Format:jT,RGB_PVRTC_2BPPV1_Format:RT,RGB_PVRTC_4BPPV1_Format:NT,RGB_S3TC_DXT1_Format:w_,RGDepthPacking:Vyt,RGFormat:uz,RGIntegerFormat:IN,RawShaderMaterial:Nye,Ray:Gp,Raycaster:ixe,RectAreaLight:Xye,RedFormat:ON,RedIntegerFormat:x1,ReinhardToneMapping:Dve,RenderTarget:pz,RenderTarget3D:L_t,RepeatWrapping:nw,ReplaceStencilOp:Gyt,ReverseSubtractEquation:vve,RingGeometry:QN,SIGNED_RED_GREEN_RGTC2_Format:rP,SIGNED_RED_RGTC1_Format:tP,SRGBColorSpace:Bs,SRGBTransfer:qn,Scene:yz,ShaderChunk:dn,ShaderLib:Va,ShaderMaterial:ma,ShadowMaterial:Pye,Shape:ep,ShapeGeometry:JN,ShapePath:cbt,ShapeUtils:Ya,ShortType:sz,Skeleton:zN,SkeletonHelper:Y_t,SkinnedMesh:fye,Source:jd,Sphere:Fi,SphereGeometry:E1,Spherical:zF,SphericalHarmonics3:Yye,SplineCurve:Pz,SpotLight:Wye,SpotLightHelper:X_t,Sprite:uye,SpriteMaterial:xz,SrcAlphaFactor:bT,SrcAlphaSaturateFactor:Tve,SrcColorFactor:wve,StaticCopyUsage:uxt,StaticDrawUsage:aw,StaticReadUsage:axt,StereoCamera:x_t,StreamCopyUsage:fxt,StreamDrawUsage:oxt,StreamReadUsage:cxt,StringKeyframeTrack:Xp,SubtractEquation:gve,SubtractiveBlending:RF,TOUCH:ph,TangentSpaceNormalMap:Sf,TetrahedronGeometry:eR,Texture:Ur,TextureLoader:d_t,TextureUtils:mbt,Timer:z_t,TimestampQuery:pxt,TorusGeometry:tR,TorusKnotGeometry:nR,Triangle:zs,TriangleFanDrawMode:zyt,TriangleStripDrawMode:$yt,TrianglesDrawMode:Uyt,TubeGeometry:rR,UVMapping:PN,Uint16BufferAttribute:mz,Uint32BufferAttribute:gz,Uint8BufferAttribute:Qxt,Uint8ClampedBufferAttribute:Jxt,Uniform:zz,UniformsGroup:B_t,UniformsLib:ft,UniformsUtils:vz,UnsignedByteType:pa,UnsignedInt101111Type:az,UnsignedInt248Type:yy,UnsignedInt5999Type:oz,UnsignedIntType:Su,UnsignedShort4444Type:RN,UnsignedShort5551Type:kN,UnsignedShortType:vy,VSMShadowMap:Ia,Vector2:He,Vector3:ce,Vector4:Tn,VectorKeyframeTrack:pw,VideoFrameTexture:w0t,VideoTexture:vye,WebGL3DRenderTarget:Bxt,WebGLArrayRenderTarget:Fxt,WebGLCoordinateSystem:bo,WebGLCubeRenderTarget:lye,WebGLRenderTarget:ac,WebGLRenderer:fxe,WebGLUtils:dxe,WebGPUCoordinateSystem:by,WebXRController:tM,WireframeGeometry:Tye,WrapAroundEnding:sw,ZeroCurvatureEnding:Ph,ZeroFactor:_ve,ZeroSlopeEnding:Nh,ZeroStencilOp:Wyt,createCanvasElement:rye},Symbol.toStringTag,{value:"Module"}));var hxe={exports:{}},Yp={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Yp.ConcurrentRoot=1;Yp.ContinuousEventPriority=4;Yp.DefaultEventPriority=16;Yp.DiscreteEventPriority=1;Yp.IdleEventPriority=536870912;Yp.LegacyRoot=0;hxe.exports=Yp;var Ig=hxe.exports;function ZCt(t){let e;const n=new Set,r=(c,f)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const h=e;e=f?d:Object.assign({},e,d),n.forEach(g=>g(e,h))}},i=()=>e,s=(c,f=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=f(e);function g(){const v=f(e);if(!d(h,v)){const x=h;c(h=v,x)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(c,f,d)=>f||d?s(c,f,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const QCt=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),lZ=QCt?M.useEffect:M.useLayoutEffect;function JCt(t){const e=typeof t=="function"?ZCt(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=M.useReducer(m=>m+1,0),o=e.getState(),a=M.useRef(o),l=M.useRef(r),c=M.useRef(i),f=M.useRef(!1),d=M.useRef();d.current===void 0&&(d.current=r(o));let h,g=!1;(a.current!==o||l.current!==r||c.current!==i||f.current)&&(h=r(o),g=!i(d.current,h)),lZ(()=>{g&&(d.current=h),a.current=o,l.current=r,c.current=i,f.current=!1});const v=M.useRef(o);lZ(()=>{const m=()=>{try{const y=e.getState(),_=l.current(y);c.current(d.current,_)||(a.current=y,d.current=_,s())}catch{f.current=!0,s()}},p=e.subscribe(m);return e.getState()!==v.current&&m(),p},[]);const x=g?h:d.current;return M.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var pxe={exports:{}},fj={exports:{}},hj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cZ;function eEt(){return cZ||(cZ=1,function(t){function e(R,j){var B=R.length;R.push(j);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,j))R[W]=j,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],B=R.pop();if(B!==j){R[0]=B;e:for(var W=0,G=R.length,K=G>>>1;W<K;){var ie=2*(W+1)-1,le=R[ie],J=ie+1,U=R[J];if(0>i(le,B))J<G&&0>i(U,le)?(R[W]=U,R[J]=B,W=J):(R[W]=le,R[ie]=B,W=ie);else if(J<G&&0>i(U,B))R[W]=U,R[J]=B,W=J;else break e}}return j}function i(R,j){var B=R.sortIndex-j.sortIndex;return B!==0?B:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,g=!1,v=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=R)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function b(R){if(x=!1,_(R),!v)if(n(l)!==null)v=!0,z(w);else{var j=n(c);j!==null&&H(b,j.startTime-R)}}function w(R,j){v=!1,x&&(x=!1,p(T),T=-1),g=!0;var B=h;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||R&&!O());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var G=W(d.expirationTime<=j);j=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(j)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var ie=n(c);ie!==null&&H(b,ie.startTime-j),K=!1}return K}finally{d=null,h=B,g=!1}}var E=!1,A=null,T=-1,P=5,N=-1;function O(){return!(t.unstable_now()-N<P)}function I(){if(A!==null){var R=t.unstable_now();N=R;var j=!0;try{j=A(!0,R)}finally{j?D():(E=!1,A=null)}}else E=!1}var D;if(typeof y=="function")D=function(){y(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=I,D=function(){$.postMessage(null)}}else D=function(){m(I,0)};function z(R){A=R,E||(E=!0,D())}function H(R,j){T=m(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,z(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var B=h;h=j;try{return R()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return j()}finally{h=B}},t.unstable_scheduleCallback=function(R,j,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:f++,callback:j,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(x?(p(T),T=-1):x=!0,H(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,z(w))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var j=h;return function(){var B=h;h=j;try{return R.apply(this,arguments)}finally{h=B}}}}(hj)),hj}var uZ;function tEt(){return uZ||(uZ=1,fj.exports=eEt()),fj.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nEt=function(e){var n={},r=M,i=tEt(),s=Object.assign;function o(S){for(var C="https://reactjs.org/docs/error-decoder.html?invariant="+S,k=1;k<arguments.length;k++)C+="&args[]="+encodeURIComponent(arguments[k]);return"Minified React error #"+S+"; visit "+C+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),w=Symbol.iterator;function E(S){return S===null||typeof S!="object"?null:(S=w&&S[w]||S["@@iterator"],typeof S=="function"?S:null)}function A(S){if(S==null)return null;if(typeof S=="function")return S.displayName||S.name||null;if(typeof S=="string")return S;switch(S){case f:return"Fragment";case c:return"Portal";case h:return"Profiler";case d:return"StrictMode";case m:return"Suspense";case p:return"SuspenseList"}if(typeof S=="object")switch(S.$$typeof){case v:return(S.displayName||"Context")+".Consumer";case g:return(S._context.displayName||"Context")+".Provider";case x:var C=S.render;return S=S.displayName,S||(S=C.displayName||C.name||"",S=S!==""?"ForwardRef("+S+")":"ForwardRef"),S;case y:return C=S.displayName||null,C!==null?C:A(S.type)||"Memo";case _:C=S._payload,S=S._init;try{return A(S(C))}catch{}}return null}function T(S){var C=S.type;switch(S.tag){case 24:return"Cache";case 9:return(C.displayName||"Context")+".Consumer";case 10:return(C._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return S=C.render,S=S.displayName||S.name||"",C.displayName||(S!==""?"ForwardRef("+S+")":"ForwardRef");case 7:return"Fragment";case 5:return C;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(C);case 8:return C===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof C=="function")return C.displayName||C.name||null;if(typeof C=="string")return C}return null}function P(S){var C=S,k=S;if(S.alternate)for(;C.return;)C=C.return;else{S=C;do C=S,C.flags&4098&&(k=C.return),S=C.return;while(S)}return C.tag===3?k:null}function N(S){if(P(S)!==S)throw Error(o(188))}function O(S){var C=S.alternate;if(!C){if(C=P(S),C===null)throw Error(o(188));return C!==S?null:S}for(var k=S,L=C;;){var V=k.return;if(V===null)break;var q=V.alternate;if(q===null){if(L=V.return,L!==null){k=L;continue}break}if(V.child===q.child){for(q=V.child;q;){if(q===k)return N(V),S;if(q===L)return N(V),C;q=q.sibling}throw Error(o(188))}if(k.return!==L.return)k=V,L=q;else{for(var fe=!1,ye=V.child;ye;){if(ye===k){fe=!0,k=V,L=q;break}if(ye===L){fe=!0,L=V,k=q;break}ye=ye.sibling}if(!fe){for(ye=q.child;ye;){if(ye===k){fe=!0,k=q,L=V;break}if(ye===L){fe=!0,L=q,k=V;break}ye=ye.sibling}if(!fe)throw Error(o(189))}}if(k.alternate!==L)throw Error(o(190))}if(k.tag!==3)throw Error(o(188));return k.stateNode.current===k?S:C}function I(S){return S=O(S),S!==null?D(S):null}function D(S){if(S.tag===5||S.tag===6)return S;for(S=S.child;S!==null;){var C=D(S);if(C!==null)return C;S=S.sibling}return null}function F(S){if(S.tag===5||S.tag===6)return S;for(S=S.child;S!==null;){if(S.tag!==4){var C=F(S);if(C!==null)return C}S=S.sibling}return null}var $=Array.isArray,z=e.getPublicInstance,H=e.getRootHostContext,R=e.getChildHostContext,j=e.prepareForCommit,B=e.resetAfterCommit,W=e.createInstance,G=e.appendInitialChild,K=e.finalizeInitialChildren,ie=e.prepareUpdate,le=e.shouldSetTextContent,J=e.createTextInstance,U=e.scheduleTimeout,X=e.cancelTimeout,Q=e.noTimeout,te=e.isPrimaryRenderer,ue=e.supportsMutation,ee=e.supportsPersistence,Y=e.supportsHydration,se=e.getInstanceFromNode,re=e.preparePortalMount,me=e.getCurrentEventPriority,he=e.detachDeletedInstance,Ae=e.supportsMicrotasks,Se=e.scheduleMicrotask,Re=e.supportsTestSelectors,ot=e.findFiberRoot,rt=e.getBoundingRect,oe=e.getTextContent,Z=e.isHiddenSubtree,ve=e.matchAccessibilityRole,Ee=e.setFocusIfFocusable,je=e.setupIntersectionObserver,Te=e.appendChild,ct=e.appendChildToContainer,We=e.commitTextUpdate,lt=e.commitMount,Ye=e.commitUpdate,Ve=e.insertBefore,at=e.insertInContainerBefore,Tt=e.removeChild,pe=e.removeChildFromContainer,Me=e.resetTextContent,Je=e.hideInstance,de=e.hideTextInstance,ke=e.unhideInstance,$e=e.unhideTextInstance,Ge=e.clearContainer,ze=e.cloneInstance,Le=e.createContainerChildSet,et=e.appendChildToContainerChildSet,vt=e.finalizeContainerChildren,zt=e.replaceContainerChildren,qt=e.cloneHiddenInstance,Gn=e.cloneHiddenTextInstance,Un=e.canHydrateInstance,wa=e.canHydrateTextInstance,Ps=e.canHydrateSuspenseInstance,Du=e.isSuspenseInstancePending,Lu=e.isSuspenseInstanceFallback,Zp=e.registerSuspenseInstanceRetry,jo=e.getNextHydratableSibling,Qp=e.getFirstHydratableChild,Fu=e.getFirstHydratableChildWithinContainer,Jp=e.getFirstHydratableChildWithinSuspenseInstance,em=e.hydrateInstance,tm=e.hydrateTextInstance,nm=e.hydrateSuspenseInstance,rm=e.getNextHydratableInstanceAfterSuspenseInstance,im=e.commitHydratedContainer,mx=e.commitHydratedSuspenseInstance,gx=e.clearSuspenseBoundary,ae=e.clearSuspenseBoundaryFromContainer,_e=e.shouldDeleteUnhydratedTailInstances,Ne=e.didNotMatchHydratedContainerTextInstance,Oe=e.didNotMatchHydratedTextInstance,be;function Qe(S){if(be===void 0)try{throw Error()}catch(k){var C=k.stack.trim().match(/\n( *(at )?)/);be=C&&C[1]||""}return`
`+be+S}var ut=!1;function _t(S,C){if(!S||ut)return"";ut=!0;var k=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(C)if(C=function(){throw Error()},Object.defineProperty(C.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(C,[])}catch(st){var L=st}Reflect.construct(S,[],C)}else{try{C.call()}catch(st){L=st}S.call(C.prototype)}else{try{throw Error()}catch(st){L=st}S()}}catch(st){if(st&&L&&typeof st.stack=="string"){for(var V=st.stack.split(`
`),q=L.stack.split(`
`),fe=V.length-1,ye=q.length-1;1<=fe&&0<=ye&&V[fe]!==q[ye];)ye--;for(;1<=fe&&0<=ye;fe--,ye--)if(V[fe]!==q[ye]){if(fe!==1||ye!==1)do if(fe--,ye--,0>ye||V[fe]!==q[ye]){var Fe=`
`+V[fe].replace(" at new "," at ");return S.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",S.displayName)),Fe}while(1<=fe&&0<=ye);break}}}finally{ut=!1,Error.prepareStackTrace=k}return(S=S?S.displayName||S.name:"")?Qe(S):""}var yt=Object.prototype.hasOwnProperty,Lt=[],jt=-1;function St(S){return{current:S}}function Mt(S){0>jt||(S.current=Lt[jt],Lt[jt]=null,jt--)}function Ot(S,C){jt++,Lt[jt]=S.current,S.current=C}var Mn={},en=St(Mn),tn=St(!1),Pt=Mn;function kn(S,C){var k=S.type.contextTypes;if(!k)return Mn;var L=S.stateNode;if(L&&L.__reactInternalMemoizedUnmaskedChildContext===C)return L.__reactInternalMemoizedMaskedChildContext;var V={},q;for(q in k)V[q]=C[q];return L&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=C,S.__reactInternalMemoizedMaskedChildContext=V),V}function Kt(S){return S=S.childContextTypes,S!=null}function wr(){Mt(tn),Mt(en)}function Sa(S,C,k){if(en.current!==Mn)throw Error(o(168));Ot(en,C),Ot(tn,k)}function xi(S,C,k){var L=S.stateNode;if(C=C.childContextTypes,typeof L.getChildContext!="function")return k;L=L.getChildContext();for(var V in L)if(!(V in C))throw Error(o(108,T(S)||"Unknown",V));return s({},k,L)}function Do(S){return S=(S=S.stateNode)&&S.__reactInternalMemoizedMergedChildContext||Mn,Pt=en.current,Ot(en,S),Ot(tn,tn.current),!0}function $n(S,C,k){var L=S.stateNode;if(!L)throw Error(o(169));k?(S=xi(S,C,Pt),L.__reactInternalMemoizedMergedChildContext=S,Mt(tn),Mt(en),Ot(en,S)):Mt(tn),Ot(tn,k)}var rr=Math.clz32?Math.clz32:$i,Ui=Math.log,Xr=Math.LN2;function $i(S){return S>>>=0,S===0?32:31-(Ui(S)/Xr|0)|0}var Bu=64,Lo=4194304;function vx(S){switch(S&-S){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return S&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return S&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return S}}function N1(S,C){var k=S.pendingLanes;if(k===0)return 0;var L=0,V=S.suspendedLanes,q=S.pingedLanes,fe=k&268435455;if(fe!==0){var ye=fe&~V;ye!==0?L=vx(ye):(q&=fe,q!==0&&(L=vx(q)))}else fe=k&~V,fe!==0?L=vx(fe):q!==0&&(L=vx(q));if(L===0)return 0;if(C!==0&&C!==L&&!(C&V)&&(V=L&-L,q=C&-C,V>=q||V===16&&(q&4194240)!==0))return C;if(L&4&&(L|=k&16),C=S.entangledLanes,C!==0)for(S=S.entanglements,C&=L;0<C;)k=31-rr(C),V=1<<k,L|=S[k],C&=~V;return L}function $xe(S,C){switch(S){case 1:case 2:case 4:return C+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return C+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zxe(S,C){for(var k=S.suspendedLanes,L=S.pingedLanes,V=S.expirationTimes,q=S.pendingLanes;0<q;){var fe=31-rr(q),ye=1<<fe,Fe=V[fe];Fe===-1?(!(ye&k)||ye&L)&&(V[fe]=$xe(ye,C)):Fe<=C&&(S.expiredLanes|=ye),q&=~ye}}function aR(S){return S=S.pendingLanes&-1073741825,S!==0?S:S&1073741824?1073741824:0}function lR(S){for(var C=[],k=0;31>k;k++)C.push(S);return C}function yx(S,C,k){S.pendingLanes|=C,C!==536870912&&(S.suspendedLanes=0,S.pingedLanes=0),S=S.eventTimes,C=31-rr(C),S[C]=k}function Hxe(S,C){var k=S.pendingLanes&~C;S.pendingLanes=C,S.suspendedLanes=0,S.pingedLanes=0,S.expiredLanes&=C,S.mutableReadLanes&=C,S.entangledLanes&=C,C=S.entanglements;var L=S.eventTimes;for(S=S.expirationTimes;0<k;){var V=31-rr(k),q=1<<V;C[V]=0,L[V]=-1,S[V]=-1,k&=~q}}function cR(S,C){var k=S.entangledLanes|=C;for(S=S.entanglements;k;){var L=31-rr(k),V=1<<L;V&C|S[L]&C&&(S[L]|=C),k&=~V}}var On=0;function Xz(S){return S&=-S,1<S?4<S?S&268435455?16:536870912:4:1}var uR=i.unstable_scheduleCallback,Yz=i.unstable_cancelCallback,Vxe=i.unstable_shouldYield,Wxe=i.unstable_requestPaint,_i=i.unstable_now,dR=i.unstable_ImmediatePriority,Gxe=i.unstable_UserBlockingPriority,fR=i.unstable_NormalPriority,qxe=i.unstable_IdlePriority,R1=null,yl=null;function Kxe(S){if(yl&&typeof yl.onCommitFiberRoot=="function")try{yl.onCommitFiberRoot(R1,S,void 0,(S.current.flags&128)===128)}catch{}}function Xxe(S,C){return S===C&&(S!==0||1/S===1/C)||S!==S&&C!==C}var xl=typeof Object.is=="function"?Object.is:Xxe,yc=null,k1=!1,hR=!1;function Zz(S){yc===null?yc=[S]:yc.push(S)}function Yxe(S){k1=!0,Zz(S)}function _l(){if(!hR&&yc!==null){hR=!0;var S=0,C=On;try{var k=yc;for(On=1;S<k.length;S++){var L=k[S];do L=L(!0);while(L!==null)}yc=null,k1=!1}catch(V){throw yc!==null&&(yc=yc.slice(S+1)),uR(dR,_l),V}finally{On=C,hR=!1}}return null}var Zxe=a.ReactCurrentBatchConfig;function O1(S,C){if(xl(S,C))return!0;if(typeof S!="object"||S===null||typeof C!="object"||C===null)return!1;var k=Object.keys(S),L=Object.keys(C);if(k.length!==L.length)return!1;for(L=0;L<k.length;L++){var V=k[L];if(!yt.call(C,V)||!xl(S[V],C[V]))return!1}return!0}function Qxe(S){switch(S.tag){case 5:return Qe(S.type);case 16:return Qe("Lazy");case 13:return Qe("Suspense");case 19:return Qe("SuspenseList");case 0:case 2:case 15:return S=_t(S.type,!1),S;case 11:return S=_t(S.type.render,!1),S;case 1:return S=_t(S.type,!0),S;default:return""}}function Ca(S,C){if(S&&S.defaultProps){C=s({},C),S=S.defaultProps;for(var k in S)C[k]===void 0&&(C[k]=S[k]);return C}return C}var I1=St(null),j1=null,sm=null,pR=null;function mR(){pR=sm=j1=null}function Qz(S,C,k){te?(Ot(I1,C._currentValue),C._currentValue=k):(Ot(I1,C._currentValue2),C._currentValue2=k)}function gR(S){var C=I1.current;Mt(I1),te?S._currentValue=C:S._currentValue2=C}function vR(S,C,k){for(;S!==null;){var L=S.alternate;if((S.childLanes&C)!==C?(S.childLanes|=C,L!==null&&(L.childLanes|=C)):L!==null&&(L.childLanes&C)!==C&&(L.childLanes|=C),S===k)break;S=S.return}}function om(S,C){j1=S,pR=sm=null,S=S.dependencies,S!==null&&S.firstContext!==null&&(S.lanes&C&&(so=!0),S.firstContext=null)}function Fo(S){var C=te?S._currentValue:S._currentValue2;if(pR!==S)if(S={context:S,memoizedValue:C,next:null},sm===null){if(j1===null)throw Error(o(308));sm=S,j1.dependencies={lanes:0,firstContext:S}}else sm=sm.next=S;return C}var bl=null,Uu=!1;function yR(S){S.updateQueue={baseState:S.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jz(S,C){S=S.updateQueue,C.updateQueue===S&&(C.updateQueue={baseState:S.baseState,firstBaseUpdate:S.firstBaseUpdate,lastBaseUpdate:S.lastBaseUpdate,shared:S.shared,effects:S.effects})}function xc(S,C){return{eventTime:S,lane:C,tag:0,payload:null,callback:null,next:null}}function $u(S,C){var k=S.updateQueue;k!==null&&(k=k.shared,Yr!==null&&S.mode&1&&!(mn&2)?(S=k.interleaved,S===null?(C.next=C,bl===null?bl=[k]:bl.push(k)):(C.next=S.next,S.next=C),k.interleaved=C):(S=k.pending,S===null?C.next=C:(C.next=S.next,S.next=C),k.pending=C))}function D1(S,C,k){if(C=C.updateQueue,C!==null&&(C=C.shared,(k&4194240)!==0)){var L=C.lanes;L&=S.pendingLanes,k|=L,C.lanes=k,cR(S,k)}}function eH(S,C){var k=S.updateQueue,L=S.alternate;if(L!==null&&(L=L.updateQueue,k===L)){var V=null,q=null;if(k=k.firstBaseUpdate,k!==null){do{var fe={eventTime:k.eventTime,lane:k.lane,tag:k.tag,payload:k.payload,callback:k.callback,next:null};q===null?V=q=fe:q=q.next=fe,k=k.next}while(k!==null);q===null?V=q=C:q=q.next=C}else V=q=C;k={baseState:L.baseState,firstBaseUpdate:V,lastBaseUpdate:q,shared:L.shared,effects:L.effects},S.updateQueue=k;return}S=k.lastBaseUpdate,S===null?k.firstBaseUpdate=C:S.next=C,k.lastBaseUpdate=C}function L1(S,C,k,L){var V=S.updateQueue;Uu=!1;var q=V.firstBaseUpdate,fe=V.lastBaseUpdate,ye=V.shared.pending;if(ye!==null){V.shared.pending=null;var Fe=ye,st=Fe.next;Fe.next=null,fe===null?q=st:fe.next=st,fe=Fe;var Ct=S.alternate;Ct!==null&&(Ct=Ct.updateQueue,ye=Ct.lastBaseUpdate,ye!==fe&&(ye===null?Ct.firstBaseUpdate=st:ye.next=st,Ct.lastBaseUpdate=Fe))}if(q!==null){var rn=V.baseState;fe=0,Ct=st=Fe=null,ye=q;do{var Bt=ye.lane,er=ye.eventTime;if((L&Bt)===Bt){Ct!==null&&(Ct=Ct.next={eventTime:er,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var It=S,Wi=ye;switch(Bt=C,er=k,Wi.tag){case 1:if(It=Wi.payload,typeof It=="function"){rn=It.call(er,rn,Bt);break e}rn=It;break e;case 3:It.flags=It.flags&-65537|128;case 0:if(It=Wi.payload,Bt=typeof It=="function"?It.call(er,rn,Bt):It,Bt==null)break e;rn=s({},rn,Bt);break e;case 2:Uu=!0}}ye.callback!==null&&ye.lane!==0&&(S.flags|=64,Bt=V.effects,Bt===null?V.effects=[ye]:Bt.push(ye))}else er={eventTime:er,lane:Bt,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},Ct===null?(st=Ct=er,Fe=rn):Ct=Ct.next=er,fe|=Bt;if(ye=ye.next,ye===null){if(ye=V.shared.pending,ye===null)break;Bt=ye,ye=Bt.next,Bt.next=null,V.lastBaseUpdate=Bt,V.shared.pending=null}}while(!0);if(Ct===null&&(Fe=rn),V.baseState=Fe,V.firstBaseUpdate=st,V.lastBaseUpdate=Ct,C=V.shared.interleaved,C!==null){V=C;do fe|=V.lane,V=V.next;while(V!==C)}else q===null&&(V.shared.lanes=0);mm|=fe,S.lanes=fe,S.memoizedState=rn}}function tH(S,C,k){if(S=C.effects,C.effects=null,S!==null)for(C=0;C<S.length;C++){var L=S[C],V=L.callback;if(V!==null){if(L.callback=null,L=k,typeof V!="function")throw Error(o(191,V));V.call(L)}}}var nH=new r.Component().refs;function xR(S,C,k,L){C=S.memoizedState,k=k(L,C),k=k==null?C:s({},C,k),S.memoizedState=k,S.lanes===0&&(S.updateQueue.baseState=k)}var F1={isMounted:function(S){return(S=S._reactInternals)?P(S)===S:!1},enqueueSetState:function(S,C,k){S=S._reactInternals;var L=fs(),V=Vu(S),q=xc(L,V);q.payload=C,k!=null&&(q.callback=k),$u(S,q),C=Ho(S,V,L),C!==null&&D1(C,S,V)},enqueueReplaceState:function(S,C,k){S=S._reactInternals;var L=fs(),V=Vu(S),q=xc(L,V);q.tag=1,q.payload=C,k!=null&&(q.callback=k),$u(S,q),C=Ho(S,V,L),C!==null&&D1(C,S,V)},enqueueForceUpdate:function(S,C){S=S._reactInternals;var k=fs(),L=Vu(S),V=xc(k,L);V.tag=2,C!=null&&(V.callback=C),$u(S,V),C=Ho(S,L,k),C!==null&&D1(C,S,L)}};function rH(S,C,k,L,V,q,fe){return S=S.stateNode,typeof S.shouldComponentUpdate=="function"?S.shouldComponentUpdate(L,q,fe):C.prototype&&C.prototype.isPureReactComponent?!O1(k,L)||!O1(V,q):!0}function iH(S,C,k){var L=!1,V=Mn,q=C.contextType;return typeof q=="object"&&q!==null?q=Fo(q):(V=Kt(C)?Pt:en.current,L=C.contextTypes,q=(L=L!=null)?kn(S,V):Mn),C=new C(k,q),S.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=F1,S.stateNode=C,C._reactInternals=S,L&&(S=S.stateNode,S.__reactInternalMemoizedUnmaskedChildContext=V,S.__reactInternalMemoizedMaskedChildContext=q),C}function sH(S,C,k,L){S=C.state,typeof C.componentWillReceiveProps=="function"&&C.componentWillReceiveProps(k,L),typeof C.UNSAFE_componentWillReceiveProps=="function"&&C.UNSAFE_componentWillReceiveProps(k,L),C.state!==S&&F1.enqueueReplaceState(C,C.state,null)}function _R(S,C,k,L){var V=S.stateNode;V.props=k,V.state=S.memoizedState,V.refs=nH,yR(S);var q=C.contextType;typeof q=="object"&&q!==null?V.context=Fo(q):(q=Kt(C)?Pt:en.current,V.context=kn(S,q)),V.state=S.memoizedState,q=C.getDerivedStateFromProps,typeof q=="function"&&(xR(S,C,q,k),V.state=S.memoizedState),typeof C.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(C=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),C!==V.state&&F1.enqueueReplaceState(V,V.state,null),L1(S,k,V,L),V.state=S.memoizedState),typeof V.componentDidMount=="function"&&(S.flags|=4194308)}var am=[],lm=0,B1=null,U1=0,Bo=[],Uo=0,Af=null,_c=1,bc="";function Tf(S,C){am[lm++]=U1,am[lm++]=B1,B1=S,U1=C}function oH(S,C,k){Bo[Uo++]=_c,Bo[Uo++]=bc,Bo[Uo++]=Af,Af=S;var L=_c;S=bc;var V=32-rr(L)-1;L&=~(1<<V),k+=1;var q=32-rr(C)+V;if(30<q){var fe=V-V%5;q=(L&(1<<fe)-1).toString(32),L>>=fe,V-=fe,_c=1<<32-rr(C)+V|k<<V|L,bc=q+S}else _c=1<<q|k<<V|L,bc=S}function bR(S){S.return!==null&&(Tf(S,1),oH(S,1,0))}function wR(S){for(;S===B1;)B1=am[--lm],am[lm]=null,U1=am[--lm],am[lm]=null;for(;S===Af;)Af=Bo[--Uo],Bo[Uo]=null,bc=Bo[--Uo],Bo[Uo]=null,_c=Bo[--Uo],Bo[Uo]=null}var ro=null,io=null,vr=!1,xx=!1,Ea=null;function aH(S,C){var k=Vo(5,null,null,0);k.elementType="DELETED",k.stateNode=C,k.return=S,C=S.deletions,C===null?(S.deletions=[k],S.flags|=16):C.push(k)}function lH(S,C){switch(S.tag){case 5:return C=Un(C,S.type,S.pendingProps),C!==null?(S.stateNode=C,ro=S,io=Qp(C),!0):!1;case 6:return C=wa(C,S.pendingProps),C!==null?(S.stateNode=C,ro=S,io=null,!0):!1;case 13:if(C=Ps(C),C!==null){var k=Af!==null?{id:_c,overflow:bc}:null;return S.memoizedState={dehydrated:C,treeContext:k,retryLane:1073741824},k=Vo(18,null,null,0),k.stateNode=C,k.return=S,S.child=k,ro=S,io=null,!0}return!1;default:return!1}}function SR(S){return(S.mode&1)!==0&&(S.flags&128)===0}function CR(S){if(vr){var C=io;if(C){var k=C;if(!lH(S,C)){if(SR(S))throw Error(o(418));C=jo(k);var L=ro;C&&lH(S,C)?aH(L,k):(S.flags=S.flags&-4097|2,vr=!1,ro=S)}}else{if(SR(S))throw Error(o(418));S.flags=S.flags&-4097|2,vr=!1,ro=S}}}function cH(S){for(S=S.return;S!==null&&S.tag!==5&&S.tag!==3&&S.tag!==13;)S=S.return;ro=S}function _x(S){if(!Y||S!==ro)return!1;if(!vr)return cH(S),vr=!0,!1;if(S.tag!==3&&(S.tag!==5||_e(S.type)&&!le(S.type,S.memoizedProps))){var C=io;if(C){if(SR(S)){for(S=io;S;)S=jo(S);throw Error(o(418))}for(;C;)aH(S,C),C=jo(C)}}if(cH(S),S.tag===13){if(!Y)throw Error(o(316));if(S=S.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(o(317));io=rm(S)}else io=ro?jo(S.stateNode):null;return!0}function cm(){Y&&(io=ro=null,xx=vr=!1)}function ER(S){Ea===null?Ea=[S]:Ea.push(S)}function bx(S,C,k){if(S=k.ref,S!==null&&typeof S!="function"&&typeof S!="object"){if(k._owner){if(k=k._owner,k){if(k.tag!==1)throw Error(o(309));var L=k.stateNode}if(!L)throw Error(o(147,S));var V=L,q=""+S;return C!==null&&C.ref!==null&&typeof C.ref=="function"&&C.ref._stringRef===q?C.ref:(C=function(fe){var ye=V.refs;ye===nH&&(ye=V.refs={}),fe===null?delete ye[q]:ye[q]=fe},C._stringRef=q,C)}if(typeof S!="string")throw Error(o(284));if(!k._owner)throw Error(o(290,S))}return S}function $1(S,C){throw S=Object.prototype.toString.call(C),Error(o(31,S==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":S))}function uH(S){var C=S._init;return C(S._payload)}function dH(S){function C(Pe,xe){if(S){var De=Pe.deletions;De===null?(Pe.deletions=[xe],Pe.flags|=16):De.push(xe)}}function k(Pe,xe){if(!S)return null;for(;xe!==null;)C(Pe,xe),xe=xe.sibling;return null}function L(Pe,xe){for(Pe=new Map;xe!==null;)xe.key!==null?Pe.set(xe.key,xe):Pe.set(xe.index,xe),xe=xe.sibling;return Pe}function V(Pe,xe){return Pe=Gu(Pe,xe),Pe.index=0,Pe.sibling=null,Pe}function q(Pe,xe,De){return Pe.index=De,S?(De=Pe.alternate,De!==null?(De=De.index,De<xe?(Pe.flags|=2,xe):De):(Pe.flags|=2,xe)):(Pe.flags|=1048576,xe)}function fe(Pe){return S&&Pe.alternate===null&&(Pe.flags|=2),Pe}function ye(Pe,xe,De,mt){return xe===null||xe.tag!==6?(xe=lk(De,Pe.mode,mt),xe.return=Pe,xe):(xe=V(xe,De),xe.return=Pe,xe)}function Fe(Pe,xe,De,mt){var Rt=De.type;return Rt===f?Ct(Pe,xe,De.props.children,mt,De.key):xe!==null&&(xe.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===_&&uH(Rt)===xe.type)?(mt=V(xe,De.props),mt.ref=bx(Pe,xe,De),mt.return=Pe,mt):(mt=yS(De.type,De.key,De.props,null,Pe.mode,mt),mt.ref=bx(Pe,xe,De),mt.return=Pe,mt)}function st(Pe,xe,De,mt){return xe===null||xe.tag!==4||xe.stateNode.containerInfo!==De.containerInfo||xe.stateNode.implementation!==De.implementation?(xe=ck(De,Pe.mode,mt),xe.return=Pe,xe):(xe=V(xe,De.children||[]),xe.return=Pe,xe)}function Ct(Pe,xe,De,mt,Rt){return xe===null||xe.tag!==7?(xe=jf(De,Pe.mode,mt,Rt),xe.return=Pe,xe):(xe=V(xe,De),xe.return=Pe,xe)}function rn(Pe,xe,De){if(typeof xe=="string"&&xe!==""||typeof xe=="number")return xe=lk(""+xe,Pe.mode,De),xe.return=Pe,xe;if(typeof xe=="object"&&xe!==null){switch(xe.$$typeof){case l:return De=yS(xe.type,xe.key,xe.props,null,Pe.mode,De),De.ref=bx(Pe,null,xe),De.return=Pe,De;case c:return xe=ck(xe,Pe.mode,De),xe.return=Pe,xe;case _:var mt=xe._init;return rn(Pe,mt(xe._payload),De)}if($(xe)||E(xe))return xe=jf(xe,Pe.mode,De,null),xe.return=Pe,xe;$1(Pe,xe)}return null}function Bt(Pe,xe,De,mt){var Rt=xe!==null?xe.key:null;if(typeof De=="string"&&De!==""||typeof De=="number")return Rt!==null?null:ye(Pe,xe,""+De,mt);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case l:return De.key===Rt?Fe(Pe,xe,De,mt):null;case c:return De.key===Rt?st(Pe,xe,De,mt):null;case _:return Rt=De._init,Bt(Pe,xe,Rt(De._payload),mt)}if($(De)||E(De))return Rt!==null?null:Ct(Pe,xe,De,mt,null);$1(Pe,De)}return null}function er(Pe,xe,De,mt,Rt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return Pe=Pe.get(De)||null,ye(xe,Pe,""+mt,Rt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case l:return Pe=Pe.get(mt.key===null?De:mt.key)||null,Fe(xe,Pe,mt,Rt);case c:return Pe=Pe.get(mt.key===null?De:mt.key)||null,st(xe,Pe,mt,Rt);case _:var fn=mt._init;return er(Pe,xe,De,fn(mt._payload),Rt)}if($(mt)||E(mt))return Pe=Pe.get(De)||null,Ct(xe,Pe,mt,Rt,null);$1(xe,mt)}return null}function It(Pe,xe,De,mt){for(var Rt=null,fn=null,sn=xe,In=xe=0,wi=null;sn!==null&&In<De.length;In++){sn.index>In?(wi=sn,sn=null):wi=sn.sibling;var jn=Bt(Pe,sn,De[In],mt);if(jn===null){sn===null&&(sn=wi);break}S&&sn&&jn.alternate===null&&C(Pe,sn),xe=q(jn,xe,In),fn===null?Rt=jn:fn.sibling=jn,fn=jn,sn=wi}if(In===De.length)return k(Pe,sn),vr&&Tf(Pe,In),Rt;if(sn===null){for(;In<De.length;In++)sn=rn(Pe,De[In],mt),sn!==null&&(xe=q(sn,xe,In),fn===null?Rt=sn:fn.sibling=sn,fn=sn);return vr&&Tf(Pe,In),Rt}for(sn=L(Pe,sn);In<De.length;In++)wi=er(sn,Pe,In,De[In],mt),wi!==null&&(S&&wi.alternate!==null&&sn.delete(wi.key===null?In:wi.key),xe=q(wi,xe,In),fn===null?Rt=wi:fn.sibling=wi,fn=wi);return S&&sn.forEach(function(qu){return C(Pe,qu)}),vr&&Tf(Pe,In),Rt}function Wi(Pe,xe,De,mt){var Rt=E(De);if(typeof Rt!="function")throw Error(o(150));if(De=Rt.call(De),De==null)throw Error(o(151));for(var fn=Rt=null,sn=xe,In=xe=0,wi=null,jn=De.next();sn!==null&&!jn.done;In++,jn=De.next()){sn.index>In?(wi=sn,sn=null):wi=sn.sibling;var qu=Bt(Pe,sn,jn.value,mt);if(qu===null){sn===null&&(sn=wi);break}S&&sn&&qu.alternate===null&&C(Pe,sn),xe=q(qu,xe,In),fn===null?Rt=qu:fn.sibling=qu,fn=qu,sn=wi}if(jn.done)return k(Pe,sn),vr&&Tf(Pe,In),Rt;if(sn===null){for(;!jn.done;In++,jn=De.next())jn=rn(Pe,jn.value,mt),jn!==null&&(xe=q(jn,xe,In),fn===null?Rt=jn:fn.sibling=jn,fn=jn);return vr&&Tf(Pe,In),Rt}for(sn=L(Pe,sn);!jn.done;In++,jn=De.next())jn=er(sn,Pe,In,jn.value,mt),jn!==null&&(S&&jn.alternate!==null&&sn.delete(jn.key===null?In:jn.key),xe=q(jn,xe,In),fn===null?Rt=jn:fn.sibling=jn,fn=jn);return S&&sn.forEach(function(T0e){return C(Pe,T0e)}),vr&&Tf(Pe,In),Rt}function Wo(Pe,xe,De,mt){if(typeof De=="object"&&De!==null&&De.type===f&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case l:e:{for(var Rt=De.key,fn=xe;fn!==null;){if(fn.key===Rt){if(Rt=De.type,Rt===f){if(fn.tag===7){k(Pe,fn.sibling),xe=V(fn,De.props.children),xe.return=Pe,Pe=xe;break e}}else if(fn.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===_&&uH(Rt)===fn.type){k(Pe,fn.sibling),xe=V(fn,De.props),xe.ref=bx(Pe,fn,De),xe.return=Pe,Pe=xe;break e}k(Pe,fn);break}else C(Pe,fn);fn=fn.sibling}De.type===f?(xe=jf(De.props.children,Pe.mode,mt,De.key),xe.return=Pe,Pe=xe):(mt=yS(De.type,De.key,De.props,null,Pe.mode,mt),mt.ref=bx(Pe,xe,De),mt.return=Pe,Pe=mt)}return fe(Pe);case c:e:{for(fn=De.key;xe!==null;){if(xe.key===fn)if(xe.tag===4&&xe.stateNode.containerInfo===De.containerInfo&&xe.stateNode.implementation===De.implementation){k(Pe,xe.sibling),xe=V(xe,De.children||[]),xe.return=Pe,Pe=xe;break e}else{k(Pe,xe);break}else C(Pe,xe);xe=xe.sibling}xe=ck(De,Pe.mode,mt),xe.return=Pe,Pe=xe}return fe(Pe);case _:return fn=De._init,Wo(Pe,xe,fn(De._payload),mt)}if($(De))return It(Pe,xe,De,mt);if(E(De))return Wi(Pe,xe,De,mt);$1(Pe,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,xe!==null&&xe.tag===6?(k(Pe,xe.sibling),xe=V(xe,De),xe.return=Pe,Pe=xe):(k(Pe,xe),xe=lk(De,Pe.mode,mt),xe.return=Pe,Pe=xe),fe(Pe)):k(Pe,xe)}return Wo}var um=dH(!0),fH=dH(!1),wx={},$o=St(wx),Sx=St(wx),dm=St(wx);function wl(S){if(S===wx)throw Error(o(174));return S}function MR(S,C){Ot(dm,C),Ot(Sx,S),Ot($o,wx),S=H(C),Mt($o),Ot($o,S)}function fm(){Mt($o),Mt(Sx),Mt(dm)}function hH(S){var C=wl(dm.current),k=wl($o.current);C=R(k,S.type,C),k!==C&&(Ot(Sx,S),Ot($o,C))}function AR(S){Sx.current===S&&(Mt($o),Mt(Sx))}var Sr=St(0);function z1(S){for(var C=S;C!==null;){if(C.tag===13){var k=C.memoizedState;if(k!==null&&(k=k.dehydrated,k===null||Du(k)||Lu(k)))return C}else if(C.tag===19&&C.memoizedProps.revealOrder!==void 0){if(C.flags&128)return C}else if(C.child!==null){C.child.return=C,C=C.child;continue}if(C===S)break;for(;C.sibling===null;){if(C.return===null||C.return===S)return null;C=C.return}C.sibling.return=C.return,C=C.sibling}return null}var TR=[];function PR(){for(var S=0;S<TR.length;S++){var C=TR[S];te?C._workInProgressVersionPrimary=null:C._workInProgressVersionSecondary=null}TR.length=0}var H1=a.ReactCurrentDispatcher,zo=a.ReactCurrentBatchConfig,hm=0,Or=null,zi=null,bi=null,V1=!1,Cx=!1,Ex=0,Jxe=0;function Hi(){throw Error(o(321))}function NR(S,C){if(C===null)return!1;for(var k=0;k<C.length&&k<S.length;k++)if(!xl(S[k],C[k]))return!1;return!0}function RR(S,C,k,L,V,q){if(hm=q,Or=C,C.memoizedState=null,C.updateQueue=null,C.lanes=0,H1.current=S===null||S.memoizedState===null?r0e:i0e,S=k(L,V),Cx){q=0;do{if(Cx=!1,Ex=0,25<=q)throw Error(o(301));q+=1,bi=zi=null,C.updateQueue=null,H1.current=s0e,S=k(L,V)}while(Cx)}if(H1.current=X1,C=zi!==null&&zi.next!==null,hm=0,bi=zi=Or=null,V1=!1,C)throw Error(o(300));return S}function kR(){var S=Ex!==0;return Ex=0,S}function wc(){var S={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?Or.memoizedState=bi=S:bi=bi.next=S,bi}function Sl(){if(zi===null){var S=Or.alternate;S=S!==null?S.memoizedState:null}else S=zi.next;var C=bi===null?Or.memoizedState:bi.next;if(C!==null)bi=C,zi=S;else{if(S===null)throw Error(o(310));zi=S,S={memoizedState:zi.memoizedState,baseState:zi.baseState,baseQueue:zi.baseQueue,queue:zi.queue,next:null},bi===null?Or.memoizedState=bi=S:bi=bi.next=S}return bi}function Pf(S,C){return typeof C=="function"?C(S):C}function W1(S){var C=Sl(),k=C.queue;if(k===null)throw Error(o(311));k.lastRenderedReducer=S;var L=zi,V=L.baseQueue,q=k.pending;if(q!==null){if(V!==null){var fe=V.next;V.next=q.next,q.next=fe}L.baseQueue=V=q,k.pending=null}if(V!==null){q=V.next,L=L.baseState;var ye=fe=null,Fe=null,st=q;do{var Ct=st.lane;if((hm&Ct)===Ct)Fe!==null&&(Fe=Fe.next={lane:0,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null}),L=st.hasEagerState?st.eagerState:S(L,st.action);else{var rn={lane:Ct,action:st.action,hasEagerState:st.hasEagerState,eagerState:st.eagerState,next:null};Fe===null?(ye=Fe=rn,fe=L):Fe=Fe.next=rn,Or.lanes|=Ct,mm|=Ct}st=st.next}while(st!==null&&st!==q);Fe===null?fe=L:Fe.next=ye,xl(L,C.memoizedState)||(so=!0),C.memoizedState=L,C.baseState=fe,C.baseQueue=Fe,k.lastRenderedState=L}if(S=k.interleaved,S!==null){V=S;do q=V.lane,Or.lanes|=q,mm|=q,V=V.next;while(V!==S)}else V===null&&(k.lanes=0);return[C.memoizedState,k.dispatch]}function G1(S){var C=Sl(),k=C.queue;if(k===null)throw Error(o(311));k.lastRenderedReducer=S;var L=k.dispatch,V=k.pending,q=C.memoizedState;if(V!==null){k.pending=null;var fe=V=V.next;do q=S(q,fe.action),fe=fe.next;while(fe!==V);xl(q,C.memoizedState)||(so=!0),C.memoizedState=q,C.baseQueue===null&&(C.baseState=q),k.lastRenderedState=q}return[q,L]}function pH(){}function mH(S,C){var k=Or,L=Sl(),V=C(),q=!xl(L.memoizedState,V);if(q&&(L.memoizedState=V,so=!0),L=L.queue,Ax(yH.bind(null,k,L,S),[S]),L.getSnapshot!==C||q||bi!==null&&bi.memoizedState.tag&1){if(k.flags|=2048,Mx(9,vH.bind(null,k,L,V,C),void 0,null),Yr===null)throw Error(o(349));hm&30||gH(k,C,V)}return V}function gH(S,C,k){S.flags|=16384,S={getSnapshot:C,value:k},C=Or.updateQueue,C===null?(C={lastEffect:null,stores:null},Or.updateQueue=C,C.stores=[S]):(k=C.stores,k===null?C.stores=[S]:k.push(S))}function vH(S,C,k,L){C.value=k,C.getSnapshot=L,xH(C)&&Ho(S,1,-1)}function yH(S,C,k){return k(function(){xH(C)&&Ho(S,1,-1)})}function xH(S){var C=S.getSnapshot;S=S.value;try{var k=C();return!xl(S,k)}catch{return!0}}function OR(S){var C=wc();return typeof S=="function"&&(S=S()),C.memoizedState=C.baseState=S,S={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:S},C.queue=S,S=S.dispatch=n0e.bind(null,Or,S),[C.memoizedState,S]}function Mx(S,C,k,L){return S={tag:S,create:C,destroy:k,deps:L,next:null},C=Or.updateQueue,C===null?(C={lastEffect:null,stores:null},Or.updateQueue=C,C.lastEffect=S.next=S):(k=C.lastEffect,k===null?C.lastEffect=S.next=S:(L=k.next,k.next=S,S.next=L,C.lastEffect=S)),S}function _H(){return Sl().memoizedState}function q1(S,C,k,L){var V=wc();Or.flags|=S,V.memoizedState=Mx(1|C,k,void 0,L===void 0?null:L)}function K1(S,C,k,L){var V=Sl();L=L===void 0?null:L;var q=void 0;if(zi!==null){var fe=zi.memoizedState;if(q=fe.destroy,L!==null&&NR(L,fe.deps)){V.memoizedState=Mx(C,k,q,L);return}}Or.flags|=S,V.memoizedState=Mx(1|C,k,q,L)}function IR(S,C){return q1(8390656,8,S,C)}function Ax(S,C){return K1(2048,8,S,C)}function bH(S,C){return K1(4,2,S,C)}function wH(S,C){return K1(4,4,S,C)}function SH(S,C){if(typeof C=="function")return S=S(),C(S),function(){C(null)};if(C!=null)return S=S(),C.current=S,function(){C.current=null}}function CH(S,C,k){return k=k!=null?k.concat([S]):null,K1(4,4,SH.bind(null,C,S),k)}function jR(){}function EH(S,C){var k=Sl();C=C===void 0?null:C;var L=k.memoizedState;return L!==null&&C!==null&&NR(C,L[1])?L[0]:(k.memoizedState=[S,C],S)}function MH(S,C){var k=Sl();C=C===void 0?null:C;var L=k.memoizedState;return L!==null&&C!==null&&NR(C,L[1])?L[0]:(S=S(),k.memoizedState=[S,C],S)}function e0e(S,C){var k=On;On=k!==0&&4>k?k:4,S(!0);var L=zo.transition;zo.transition={};try{S(!1),C()}finally{On=k,zo.transition=L}}function AH(){return Sl().memoizedState}function t0e(S,C,k){var L=Vu(S);k={lane:L,action:k,hasEagerState:!1,eagerState:null,next:null},TH(S)?PH(C,k):(NH(S,C,k),k=fs(),S=Ho(S,L,k),S!==null&&RH(S,C,L))}function n0e(S,C,k){var L=Vu(S),V={lane:L,action:k,hasEagerState:!1,eagerState:null,next:null};if(TH(S))PH(C,V);else{NH(S,C,V);var q=S.alternate;if(S.lanes===0&&(q===null||q.lanes===0)&&(q=C.lastRenderedReducer,q!==null))try{var fe=C.lastRenderedState,ye=q(fe,k);if(V.hasEagerState=!0,V.eagerState=ye,xl(ye,fe))return}catch{}finally{}k=fs(),S=Ho(S,L,k),S!==null&&RH(S,C,L)}}function TH(S){var C=S.alternate;return S===Or||C!==null&&C===Or}function PH(S,C){Cx=V1=!0;var k=S.pending;k===null?C.next=C:(C.next=k.next,k.next=C),S.pending=C}function NH(S,C,k){Yr!==null&&S.mode&1&&!(mn&2)?(S=C.interleaved,S===null?(k.next=k,bl===null?bl=[C]:bl.push(C)):(k.next=S.next,S.next=k),C.interleaved=k):(S=C.pending,S===null?k.next=k:(k.next=S.next,S.next=k),C.pending=k)}function RH(S,C,k){if(k&4194240){var L=C.lanes;L&=S.pendingLanes,k|=L,C.lanes=k,cR(S,k)}}var X1={readContext:Fo,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useInsertionEffect:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useSyncExternalStore:Hi,useId:Hi,unstable_isNewReconciler:!1},r0e={readContext:Fo,useCallback:function(S,C){return wc().memoizedState=[S,C===void 0?null:C],S},useContext:Fo,useEffect:IR,useImperativeHandle:function(S,C,k){return k=k!=null?k.concat([S]):null,q1(4194308,4,SH.bind(null,C,S),k)},useLayoutEffect:function(S,C){return q1(4194308,4,S,C)},useInsertionEffect:function(S,C){return q1(4,2,S,C)},useMemo:function(S,C){var k=wc();return C=C===void 0?null:C,S=S(),k.memoizedState=[S,C],S},useReducer:function(S,C,k){var L=wc();return C=k!==void 0?k(C):C,L.memoizedState=L.baseState=C,S={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:S,lastRenderedState:C},L.queue=S,S=S.dispatch=t0e.bind(null,Or,S),[L.memoizedState,S]},useRef:function(S){var C=wc();return S={current:S},C.memoizedState=S},useState:OR,useDebugValue:jR,useDeferredValue:function(S){var C=OR(S),k=C[0],L=C[1];return IR(function(){var V=zo.transition;zo.transition={};try{L(S)}finally{zo.transition=V}},[S]),k},useTransition:function(){var S=OR(!1),C=S[0];return S=e0e.bind(null,S[1]),wc().memoizedState=S,[C,S]},useMutableSource:function(){},useSyncExternalStore:function(S,C,k){var L=Or,V=wc();if(vr){if(k===void 0)throw Error(o(407));k=k()}else{if(k=C(),Yr===null)throw Error(o(349));hm&30||gH(L,C,k)}V.memoizedState=k;var q={value:k,getSnapshot:C};return V.queue=q,IR(yH.bind(null,L,q,S),[S]),L.flags|=2048,Mx(9,vH.bind(null,L,q,k,C),void 0,null),k},useId:function(){var S=wc(),C=Yr.identifierPrefix;if(vr){var k=bc,L=_c;k=(L&~(1<<32-rr(L)-1)).toString(32)+k,C=":"+C+"R"+k,k=Ex++,0<k&&(C+="H"+k.toString(32)),C+=":"}else k=Jxe++,C=":"+C+"r"+k.toString(32)+":";return S.memoizedState=C},unstable_isNewReconciler:!1},i0e={readContext:Fo,useCallback:EH,useContext:Fo,useEffect:Ax,useImperativeHandle:CH,useInsertionEffect:bH,useLayoutEffect:wH,useMemo:MH,useReducer:W1,useRef:_H,useState:function(){return W1(Pf)},useDebugValue:jR,useDeferredValue:function(S){var C=W1(Pf),k=C[0],L=C[1];return Ax(function(){var V=zo.transition;zo.transition={};try{L(S)}finally{zo.transition=V}},[S]),k},useTransition:function(){var S=W1(Pf)[0],C=Sl().memoizedState;return[S,C]},useMutableSource:pH,useSyncExternalStore:mH,useId:AH,unstable_isNewReconciler:!1},s0e={readContext:Fo,useCallback:EH,useContext:Fo,useEffect:Ax,useImperativeHandle:CH,useInsertionEffect:bH,useLayoutEffect:wH,useMemo:MH,useReducer:G1,useRef:_H,useState:function(){return G1(Pf)},useDebugValue:jR,useDeferredValue:function(S){var C=G1(Pf),k=C[0],L=C[1];return Ax(function(){var V=zo.transition;zo.transition={};try{L(S)}finally{zo.transition=V}},[S]),k},useTransition:function(){var S=G1(Pf)[0],C=Sl().memoizedState;return[S,C]},useMutableSource:pH,useSyncExternalStore:mH,useId:AH,unstable_isNewReconciler:!1};function DR(S,C){try{var k="",L=C;do k+=Qxe(L),L=L.return;while(L);var V=k}catch(q){V=`
Error generating stack: `+q.message+`
`+q.stack}return{value:S,source:C,stack:V}}function LR(S,C){try{console.error(C.value)}catch(k){setTimeout(function(){throw k})}}var o0e=typeof WeakMap=="function"?WeakMap:Map;function kH(S,C,k){k=xc(-1,k),k.tag=3,k.payload={element:null};var L=C.value;return k.callback=function(){dS||(dS=!0,tk=L),LR(S,C)},k}function OH(S,C,k){k=xc(-1,k),k.tag=3;var L=S.type.getDerivedStateFromError;if(typeof L=="function"){var V=C.value;k.payload=function(){return L(V)},k.callback=function(){LR(S,C)}}var q=S.stateNode;return q!==null&&typeof q.componentDidCatch=="function"&&(k.callback=function(){LR(S,C),typeof L!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var fe=C.stack;this.componentDidCatch(C.value,{componentStack:fe!==null?fe:""})}),k}function IH(S,C,k){var L=S.pingCache;if(L===null){L=S.pingCache=new o0e;var V=new Set;L.set(C,V)}else V=L.get(C),V===void 0&&(V=new Set,L.set(C,V));V.has(k)||(V.add(k),S=_0e.bind(null,S,C,k),C.then(S,S))}function jH(S){do{var C;if((C=S.tag===13)&&(C=S.memoizedState,C=C!==null?C.dehydrated!==null:!0),C)return S;S=S.return}while(S!==null);return null}function DH(S,C,k,L,V){return S.mode&1?(S.flags|=65536,S.lanes=V,S):(S===C?S.flags|=65536:(S.flags|=128,k.flags|=131072,k.flags&=-52805,k.tag===1&&(k.alternate===null?k.tag=17:(C=xc(-1,1),C.tag=2,$u(k,C))),k.lanes|=1),S)}function Cl(S){S.flags|=4}function LH(S,C){if(S!==null&&S.child===C.child)return!0;if(C.flags&16)return!1;for(S=C.child;S!==null;){if(S.flags&12854||S.subtreeFlags&12854)return!1;S=S.sibling}return!0}var Tx,Px,Y1,Z1;if(ue)Tx=function(S,C){for(var k=C.child;k!==null;){if(k.tag===5||k.tag===6)G(S,k.stateNode);else if(k.tag!==4&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===C)break;for(;k.sibling===null;){if(k.return===null||k.return===C)return;k=k.return}k.sibling.return=k.return,k=k.sibling}},Px=function(){},Y1=function(S,C,k,L,V){if(S=S.memoizedProps,S!==L){var q=C.stateNode,fe=wl($o.current);k=ie(q,k,S,L,V,fe),(C.updateQueue=k)&&Cl(C)}},Z1=function(S,C,k,L){k!==L&&Cl(C)};else if(ee){Tx=function(S,C,k,L){for(var V=C.child;V!==null;){if(V.tag===5){var q=V.stateNode;k&&L&&(q=qt(q,V.type,V.memoizedProps,V)),G(S,q)}else if(V.tag===6)q=V.stateNode,k&&L&&(q=Gn(q,V.memoizedProps,V)),G(S,q);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)q=V.child,q!==null&&(q.return=V),Tx(S,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===C)break;for(;V.sibling===null;){if(V.return===null||V.return===C)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};var FH=function(S,C,k,L){for(var V=C.child;V!==null;){if(V.tag===5){var q=V.stateNode;k&&L&&(q=qt(q,V.type,V.memoizedProps,V)),et(S,q)}else if(V.tag===6)q=V.stateNode,k&&L&&(q=Gn(q,V.memoizedProps,V)),et(S,q);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)q=V.child,q!==null&&(q.return=V),FH(S,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===C)break;for(;V.sibling===null;){if(V.return===null||V.return===C)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};Px=function(S,C){var k=C.stateNode;if(!LH(S,C)){S=k.containerInfo;var L=Le(S);FH(L,C,!1,!1),k.pendingChildren=L,Cl(C),vt(S,L)}},Y1=function(S,C,k,L,V){var q=S.stateNode,fe=S.memoizedProps;if((S=LH(S,C))&&fe===L)C.stateNode=q;else{var ye=C.stateNode,Fe=wl($o.current),st=null;fe!==L&&(st=ie(ye,k,fe,L,V,Fe)),S&&st===null?C.stateNode=q:(q=ze(q,st,k,fe,L,C,S,ye),K(q,k,L,V,Fe)&&Cl(C),C.stateNode=q,S?Cl(C):Tx(q,C,!1,!1))}},Z1=function(S,C,k,L){k!==L?(S=wl(dm.current),k=wl($o.current),C.stateNode=J(L,S,k,C),Cl(C)):C.stateNode=S.stateNode}}else Px=function(){},Y1=function(){},Z1=function(){};function Nx(S,C){if(!vr)switch(S.tailMode){case"hidden":C=S.tail;for(var k=null;C!==null;)C.alternate!==null&&(k=C),C=C.sibling;k===null?S.tail=null:k.sibling=null;break;case"collapsed":k=S.tail;for(var L=null;k!==null;)k.alternate!==null&&(L=k),k=k.sibling;L===null?C||S.tail===null?S.tail=null:S.tail.sibling=null:L.sibling=null}}function Vi(S){var C=S.alternate!==null&&S.alternate.child===S.child,k=0,L=0;if(C)for(var V=S.child;V!==null;)k|=V.lanes|V.childLanes,L|=V.subtreeFlags&14680064,L|=V.flags&14680064,V.return=S,V=V.sibling;else for(V=S.child;V!==null;)k|=V.lanes|V.childLanes,L|=V.subtreeFlags,L|=V.flags,V.return=S,V=V.sibling;return S.subtreeFlags|=L,S.childLanes=k,C}function a0e(S,C,k){var L=C.pendingProps;switch(wR(C),C.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vi(C),null;case 1:return Kt(C.type)&&wr(),Vi(C),null;case 3:return L=C.stateNode,fm(),Mt(tn),Mt(en),PR(),L.pendingContext&&(L.context=L.pendingContext,L.pendingContext=null),(S===null||S.child===null)&&(_x(C)?Cl(C):S===null||S.memoizedState.isDehydrated&&!(C.flags&256)||(C.flags|=1024,Ea!==null&&(ik(Ea),Ea=null))),Px(S,C),Vi(C),null;case 5:AR(C),k=wl(dm.current);var V=C.type;if(S!==null&&C.stateNode!=null)Y1(S,C,V,L,k),S.ref!==C.ref&&(C.flags|=512,C.flags|=2097152);else{if(!L){if(C.stateNode===null)throw Error(o(166));return Vi(C),null}if(S=wl($o.current),_x(C)){if(!Y)throw Error(o(175));S=em(C.stateNode,C.type,C.memoizedProps,k,S,C,!xx),C.updateQueue=S,S!==null&&Cl(C)}else{var q=W(V,L,k,S,C);Tx(q,C,!1,!1),C.stateNode=q,K(q,V,L,k,S)&&Cl(C)}C.ref!==null&&(C.flags|=512,C.flags|=2097152)}return Vi(C),null;case 6:if(S&&C.stateNode!=null)Z1(S,C,S.memoizedProps,L);else{if(typeof L!="string"&&C.stateNode===null)throw Error(o(166));if(S=wl(dm.current),k=wl($o.current),_x(C)){if(!Y)throw Error(o(176));if(S=C.stateNode,L=C.memoizedProps,(k=tm(S,L,C,!xx))&&(V=ro,V!==null))switch(q=(V.mode&1)!==0,V.tag){case 3:Ne(V.stateNode.containerInfo,S,L,q);break;case 5:Oe(V.type,V.memoizedProps,V.stateNode,S,L,q)}k&&Cl(C)}else C.stateNode=J(L,S,k,C)}return Vi(C),null;case 13:if(Mt(Sr),L=C.memoizedState,vr&&io!==null&&C.mode&1&&!(C.flags&128)){for(S=io;S;)S=jo(S);return cm(),C.flags|=98560,C}if(L!==null&&L.dehydrated!==null){if(L=_x(C),S===null){if(!L)throw Error(o(318));if(!Y)throw Error(o(344));if(S=C.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(o(317));nm(S,C)}else cm(),!(C.flags&128)&&(C.memoizedState=null),C.flags|=4;return Vi(C),null}return Ea!==null&&(ik(Ea),Ea=null),C.flags&128?(C.lanes=k,C):(L=L!==null,k=!1,S===null?_x(C):k=S.memoizedState!==null,L&&!k&&(C.child.flags|=8192,C.mode&1&&(S===null||Sr.current&1?oi===0&&(oi=3):ok())),C.updateQueue!==null&&(C.flags|=4),Vi(C),null);case 4:return fm(),Px(S,C),S===null&&re(C.stateNode.containerInfo),Vi(C),null;case 10:return gR(C.type._context),Vi(C),null;case 17:return Kt(C.type)&&wr(),Vi(C),null;case 19:if(Mt(Sr),V=C.memoizedState,V===null)return Vi(C),null;if(L=(C.flags&128)!==0,q=V.rendering,q===null)if(L)Nx(V,!1);else{if(oi!==0||S!==null&&S.flags&128)for(S=C.child;S!==null;){if(q=z1(S),q!==null){for(C.flags|=128,Nx(V,!1),S=q.updateQueue,S!==null&&(C.updateQueue=S,C.flags|=4),C.subtreeFlags=0,S=k,L=C.child;L!==null;)k=L,V=S,k.flags&=14680066,q=k.alternate,q===null?(k.childLanes=0,k.lanes=V,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=q.childLanes,k.lanes=q.lanes,k.child=q.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=q.memoizedProps,k.memoizedState=q.memoizedState,k.updateQueue=q.updateQueue,k.type=q.type,V=q.dependencies,k.dependencies=V===null?null:{lanes:V.lanes,firstContext:V.firstContext}),L=L.sibling;return Ot(Sr,Sr.current&1|2),C.child}S=S.sibling}V.tail!==null&&_i()>ek&&(C.flags|=128,L=!0,Nx(V,!1),C.lanes=4194304)}else{if(!L)if(S=z1(q),S!==null){if(C.flags|=128,L=!0,S=S.updateQueue,S!==null&&(C.updateQueue=S,C.flags|=4),Nx(V,!0),V.tail===null&&V.tailMode==="hidden"&&!q.alternate&&!vr)return Vi(C),null}else 2*_i()-V.renderingStartTime>ek&&k!==1073741824&&(C.flags|=128,L=!0,Nx(V,!1),C.lanes=4194304);V.isBackwards?(q.sibling=C.child,C.child=q):(S=V.last,S!==null?S.sibling=q:C.child=q,V.last=q)}return V.tail!==null?(C=V.tail,V.rendering=C,V.tail=C.sibling,V.renderingStartTime=_i(),C.sibling=null,S=Sr.current,Ot(Sr,L?S&1|2:S&1),C):(Vi(C),null);case 22:case 23:return sk(),L=C.memoizedState!==null,S!==null&&S.memoizedState!==null!==L&&(C.flags|=8192),L&&C.mode&1?oo&1073741824&&(Vi(C),ue&&C.subtreeFlags&6&&(C.flags|=8192)):Vi(C),null;case 24:return null;case 25:return null}throw Error(o(156,C.tag))}var l0e=a.ReactCurrentOwner,so=!1;function ds(S,C,k,L){C.child=S===null?fH(C,null,k,L):um(C,S.child,k,L)}function BH(S,C,k,L,V){k=k.render;var q=C.ref;return om(C,V),L=RR(S,C,k,L,q,V),k=kR(),S!==null&&!so?(C.updateQueue=S.updateQueue,C.flags&=-2053,S.lanes&=~V,Sc(S,C,V)):(vr&&k&&bR(C),C.flags|=1,ds(S,C,L,V),C.child)}function UH(S,C,k,L,V){if(S===null){var q=k.type;return typeof q=="function"&&!ak(q)&&q.defaultProps===void 0&&k.compare===null&&k.defaultProps===void 0?(C.tag=15,C.type=q,$H(S,C,q,L,V)):(S=yS(k.type,null,L,C,C.mode,V),S.ref=C.ref,S.return=C,C.child=S)}if(q=S.child,!(S.lanes&V)){var fe=q.memoizedProps;if(k=k.compare,k=k!==null?k:O1,k(fe,L)&&S.ref===C.ref)return Sc(S,C,V)}return C.flags|=1,S=Gu(q,L),S.ref=C.ref,S.return=C,C.child=S}function $H(S,C,k,L,V){if(S!==null&&O1(S.memoizedProps,L)&&S.ref===C.ref)if(so=!1,(S.lanes&V)!==0)S.flags&131072&&(so=!0);else return C.lanes=S.lanes,Sc(S,C,V);return FR(S,C,k,L,V)}function zH(S,C,k){var L=C.pendingProps,V=L.children,q=S!==null?S.memoizedState:null;if(L.mode==="hidden")if(!(C.mode&1))C.memoizedState={baseLanes:0,cachePool:null},Ot(pm,oo),oo|=k;else if(k&1073741824)C.memoizedState={baseLanes:0,cachePool:null},L=q!==null?q.baseLanes:k,Ot(pm,oo),oo|=L;else return S=q!==null?q.baseLanes|k:k,C.lanes=C.childLanes=1073741824,C.memoizedState={baseLanes:S,cachePool:null},C.updateQueue=null,Ot(pm,oo),oo|=S,null;else q!==null?(L=q.baseLanes|k,C.memoizedState=null):L=k,Ot(pm,oo),oo|=L;return ds(S,C,V,k),C.child}function HH(S,C){var k=C.ref;(S===null&&k!==null||S!==null&&S.ref!==k)&&(C.flags|=512,C.flags|=2097152)}function FR(S,C,k,L,V){var q=Kt(k)?Pt:en.current;return q=kn(C,q),om(C,V),k=RR(S,C,k,L,q,V),L=kR(),S!==null&&!so?(C.updateQueue=S.updateQueue,C.flags&=-2053,S.lanes&=~V,Sc(S,C,V)):(vr&&L&&bR(C),C.flags|=1,ds(S,C,k,V),C.child)}function VH(S,C,k,L,V){if(Kt(k)){var q=!0;Do(C)}else q=!1;if(om(C,V),C.stateNode===null)S!==null&&(S.alternate=null,C.alternate=null,C.flags|=2),iH(C,k,L),_R(C,k,L,V),L=!0;else if(S===null){var fe=C.stateNode,ye=C.memoizedProps;fe.props=ye;var Fe=fe.context,st=k.contextType;typeof st=="object"&&st!==null?st=Fo(st):(st=Kt(k)?Pt:en.current,st=kn(C,st));var Ct=k.getDerivedStateFromProps,rn=typeof Ct=="function"||typeof fe.getSnapshotBeforeUpdate=="function";rn||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(ye!==L||Fe!==st)&&sH(C,fe,L,st),Uu=!1;var Bt=C.memoizedState;fe.state=Bt,L1(C,L,fe,V),Fe=C.memoizedState,ye!==L||Bt!==Fe||tn.current||Uu?(typeof Ct=="function"&&(xR(C,k,Ct,L),Fe=C.memoizedState),(ye=Uu||rH(C,k,ye,L,Bt,Fe,st))?(rn||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(C.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(C.flags|=4194308),C.memoizedProps=L,C.memoizedState=Fe),fe.props=L,fe.state=Fe,fe.context=st,L=ye):(typeof fe.componentDidMount=="function"&&(C.flags|=4194308),L=!1)}else{fe=C.stateNode,Jz(S,C),ye=C.memoizedProps,st=C.type===C.elementType?ye:Ca(C.type,ye),fe.props=st,rn=C.pendingProps,Bt=fe.context,Fe=k.contextType,typeof Fe=="object"&&Fe!==null?Fe=Fo(Fe):(Fe=Kt(k)?Pt:en.current,Fe=kn(C,Fe));var er=k.getDerivedStateFromProps;(Ct=typeof er=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(ye!==rn||Bt!==Fe)&&sH(C,fe,L,Fe),Uu=!1,Bt=C.memoizedState,fe.state=Bt,L1(C,L,fe,V);var It=C.memoizedState;ye!==rn||Bt!==It||tn.current||Uu?(typeof er=="function"&&(xR(C,k,er,L),It=C.memoizedState),(st=Uu||rH(C,k,st,L,Bt,It,Fe)||!1)?(Ct||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(L,It,Fe),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(L,It,Fe)),typeof fe.componentDidUpdate=="function"&&(C.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(C.flags|=1024)):(typeof fe.componentDidUpdate!="function"||ye===S.memoizedProps&&Bt===S.memoizedState||(C.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||ye===S.memoizedProps&&Bt===S.memoizedState||(C.flags|=1024),C.memoizedProps=L,C.memoizedState=It),fe.props=L,fe.state=It,fe.context=Fe,L=st):(typeof fe.componentDidUpdate!="function"||ye===S.memoizedProps&&Bt===S.memoizedState||(C.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||ye===S.memoizedProps&&Bt===S.memoizedState||(C.flags|=1024),L=!1)}return BR(S,C,k,L,q,V)}function BR(S,C,k,L,V,q){HH(S,C);var fe=(C.flags&128)!==0;if(!L&&!fe)return V&&$n(C,k,!1),Sc(S,C,q);L=C.stateNode,l0e.current=C;var ye=fe&&typeof k.getDerivedStateFromError!="function"?null:L.render();return C.flags|=1,S!==null&&fe?(C.child=um(C,S.child,null,q),C.child=um(C,null,ye,q)):ds(S,C,ye,q),C.memoizedState=L.state,V&&$n(C,k,!0),C.child}function WH(S){var C=S.stateNode;C.pendingContext?Sa(S,C.pendingContext,C.pendingContext!==C.context):C.context&&Sa(S,C.context,!1),MR(S,C.containerInfo)}function GH(S,C,k,L,V){return cm(),ER(V),C.flags|=256,ds(S,C,k,L),C.child}var Q1={dehydrated:null,treeContext:null,retryLane:0};function J1(S){return{baseLanes:S,cachePool:null}}function qH(S,C,k){var L=C.pendingProps,V=Sr.current,q=!1,fe=(C.flags&128)!==0,ye;if((ye=fe)||(ye=S!==null&&S.memoizedState===null?!1:(V&2)!==0),ye?(q=!0,C.flags&=-129):(S===null||S.memoizedState!==null)&&(V|=1),Ot(Sr,V&1),S===null)return CR(C),S=C.memoizedState,S!==null&&(S=S.dehydrated,S!==null)?(C.mode&1?Lu(S)?C.lanes=8:C.lanes=1073741824:C.lanes=1,null):(V=L.children,S=L.fallback,q?(L=C.mode,q=C.child,V={mode:"hidden",children:V},!(L&1)&&q!==null?(q.childLanes=0,q.pendingProps=V):q=xS(V,L,0,null),S=jf(S,L,k,null),q.return=C,S.return=C,q.sibling=S,C.child=q,C.child.memoizedState=J1(k),C.memoizedState=Q1,S):UR(C,V));if(V=S.memoizedState,V!==null){if(ye=V.dehydrated,ye!==null){if(fe)return C.flags&256?(C.flags&=-257,eS(S,C,k,Error(o(422)))):C.memoizedState!==null?(C.child=S.child,C.flags|=128,null):(q=L.fallback,V=C.mode,L=xS({mode:"visible",children:L.children},V,0,null),q=jf(q,V,k,null),q.flags|=2,L.return=C,q.return=C,L.sibling=q,C.child=L,C.mode&1&&um(C,S.child,null,k),C.child.memoizedState=J1(k),C.memoizedState=Q1,q);if(!(C.mode&1))C=eS(S,C,k,null);else if(Lu(ye))C=eS(S,C,k,Error(o(419)));else if(L=(k&S.childLanes)!==0,so||L){if(L=Yr,L!==null){switch(k&-k){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}L=q&(L.suspendedLanes|k)?0:q,L!==0&&L!==V.retryLane&&(V.retryLane=L,Ho(S,L,-1))}ok(),C=eS(S,C,k,Error(o(421)))}else Du(ye)?(C.flags|=128,C.child=S.child,C=b0e.bind(null,S),Zp(ye,C),C=null):(k=V.treeContext,Y&&(io=Jp(ye),ro=C,vr=!0,Ea=null,xx=!1,k!==null&&(Bo[Uo++]=_c,Bo[Uo++]=bc,Bo[Uo++]=Af,_c=k.id,bc=k.overflow,Af=C)),C=UR(C,C.pendingProps.children),C.flags|=4096);return C}return q?(L=XH(S,C,L.children,L.fallback,k),q=C.child,V=S.child.memoizedState,q.memoizedState=V===null?J1(k):{baseLanes:V.baseLanes|k,cachePool:null},q.childLanes=S.childLanes&~k,C.memoizedState=Q1,L):(k=KH(S,C,L.children,k),C.memoizedState=null,k)}return q?(L=XH(S,C,L.children,L.fallback,k),q=C.child,V=S.child.memoizedState,q.memoizedState=V===null?J1(k):{baseLanes:V.baseLanes|k,cachePool:null},q.childLanes=S.childLanes&~k,C.memoizedState=Q1,L):(k=KH(S,C,L.children,k),C.memoizedState=null,k)}function UR(S,C){return C=xS({mode:"visible",children:C},S.mode,0,null),C.return=S,S.child=C}function KH(S,C,k,L){var V=S.child;return S=V.sibling,k=Gu(V,{mode:"visible",children:k}),!(C.mode&1)&&(k.lanes=L),k.return=C,k.sibling=null,S!==null&&(L=C.deletions,L===null?(C.deletions=[S],C.flags|=16):L.push(S)),C.child=k}function XH(S,C,k,L,V){var q=C.mode;S=S.child;var fe=S.sibling,ye={mode:"hidden",children:k};return!(q&1)&&C.child!==S?(k=C.child,k.childLanes=0,k.pendingProps=ye,C.deletions=null):(k=Gu(S,ye),k.subtreeFlags=S.subtreeFlags&14680064),fe!==null?L=Gu(fe,L):(L=jf(L,q,V,null),L.flags|=2),L.return=C,k.return=C,k.sibling=L,C.child=k,L}function eS(S,C,k,L){return L!==null&&ER(L),um(C,S.child,null,k),S=UR(C,C.pendingProps.children),S.flags|=2,C.memoizedState=null,S}function YH(S,C,k){S.lanes|=C;var L=S.alternate;L!==null&&(L.lanes|=C),vR(S.return,C,k)}function $R(S,C,k,L,V){var q=S.memoizedState;q===null?S.memoizedState={isBackwards:C,rendering:null,renderingStartTime:0,last:L,tail:k,tailMode:V}:(q.isBackwards=C,q.rendering=null,q.renderingStartTime=0,q.last=L,q.tail=k,q.tailMode=V)}function ZH(S,C,k){var L=C.pendingProps,V=L.revealOrder,q=L.tail;if(ds(S,C,L.children,k),L=Sr.current,L&2)L=L&1|2,C.flags|=128;else{if(S!==null&&S.flags&128)e:for(S=C.child;S!==null;){if(S.tag===13)S.memoizedState!==null&&YH(S,k,C);else if(S.tag===19)YH(S,k,C);else if(S.child!==null){S.child.return=S,S=S.child;continue}if(S===C)break e;for(;S.sibling===null;){if(S.return===null||S.return===C)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}L&=1}if(Ot(Sr,L),!(C.mode&1))C.memoizedState=null;else switch(V){case"forwards":for(k=C.child,V=null;k!==null;)S=k.alternate,S!==null&&z1(S)===null&&(V=k),k=k.sibling;k=V,k===null?(V=C.child,C.child=null):(V=k.sibling,k.sibling=null),$R(C,!1,V,k,q);break;case"backwards":for(k=null,V=C.child,C.child=null;V!==null;){if(S=V.alternate,S!==null&&z1(S)===null){C.child=V;break}S=V.sibling,V.sibling=k,k=V,V=S}$R(C,!0,k,null,q);break;case"together":$R(C,!1,null,null,void 0);break;default:C.memoizedState=null}return C.child}function Sc(S,C,k){if(S!==null&&(C.dependencies=S.dependencies),mm|=C.lanes,!(k&C.childLanes))return null;if(S!==null&&C.child!==S.child)throw Error(o(153));if(C.child!==null){for(S=C.child,k=Gu(S,S.pendingProps),C.child=k,k.return=C;S.sibling!==null;)S=S.sibling,k=k.sibling=Gu(S,S.pendingProps),k.return=C;k.sibling=null}return C.child}function c0e(S,C,k){switch(C.tag){case 3:WH(C),cm();break;case 5:hH(C);break;case 1:Kt(C.type)&&Do(C);break;case 4:MR(C,C.stateNode.containerInfo);break;case 10:Qz(C,C.type._context,C.memoizedProps.value);break;case 13:var L=C.memoizedState;if(L!==null)return L.dehydrated!==null?(Ot(Sr,Sr.current&1),C.flags|=128,null):k&C.child.childLanes?qH(S,C,k):(Ot(Sr,Sr.current&1),S=Sc(S,C,k),S!==null?S.sibling:null);Ot(Sr,Sr.current&1);break;case 19:if(L=(k&C.childLanes)!==0,S.flags&128){if(L)return ZH(S,C,k);C.flags|=128}var V=C.memoizedState;if(V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),Ot(Sr,Sr.current),L)break;return null;case 22:case 23:return C.lanes=0,zH(S,C,k)}return Sc(S,C,k)}function u0e(S,C){switch(wR(C),C.tag){case 1:return Kt(C.type)&&wr(),S=C.flags,S&65536?(C.flags=S&-65537|128,C):null;case 3:return fm(),Mt(tn),Mt(en),PR(),S=C.flags,S&65536&&!(S&128)?(C.flags=S&-65537|128,C):null;case 5:return AR(C),null;case 13:if(Mt(Sr),S=C.memoizedState,S!==null&&S.dehydrated!==null){if(C.alternate===null)throw Error(o(340));cm()}return S=C.flags,S&65536?(C.flags=S&-65537|128,C):null;case 19:return Mt(Sr),null;case 4:return fm(),null;case 10:return gR(C.type._context),null;case 22:case 23:return sk(),null;case 24:return null;default:return null}}var tS=!1,Nf=!1,d0e=typeof WeakSet=="function"?WeakSet:Set,pt=null;function nS(S,C){var k=S.ref;if(k!==null)if(typeof k=="function")try{k(null)}catch(L){ks(S,C,L)}else k.current=null}function zR(S,C,k){try{k()}catch(L){ks(S,C,L)}}var QH=!1;function f0e(S,C){for(j(S.containerInfo),pt=C;pt!==null;)if(S=pt,C=S.child,(S.subtreeFlags&1028)!==0&&C!==null)C.return=S,pt=C;else for(;pt!==null;){S=pt;try{var k=S.alternate;if(S.flags&1024)switch(S.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var L=k.memoizedProps,V=k.memoizedState,q=S.stateNode,fe=q.getSnapshotBeforeUpdate(S.elementType===S.type?L:Ca(S.type,L),V);q.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:ue&&Ge(S.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){ks(S,S.return,ye)}if(C=S.sibling,C!==null){C.return=S.return,pt=C;break}pt=S.return}return k=QH,QH=!1,k}function Rf(S,C,k){var L=C.updateQueue;if(L=L!==null?L.lastEffect:null,L!==null){var V=L=L.next;do{if((V.tag&S)===S){var q=V.destroy;V.destroy=void 0,q!==void 0&&zR(C,k,q)}V=V.next}while(V!==L)}}function Rx(S,C){if(C=C.updateQueue,C=C!==null?C.lastEffect:null,C!==null){var k=C=C.next;do{if((k.tag&S)===S){var L=k.create;k.destroy=L()}k=k.next}while(k!==C)}}function HR(S){var C=S.ref;if(C!==null){var k=S.stateNode;switch(S.tag){case 5:S=z(k);break;default:S=k}typeof C=="function"?C(S):C.current=S}}function JH(S,C,k){if(yl&&typeof yl.onCommitFiberUnmount=="function")try{yl.onCommitFiberUnmount(R1,C)}catch{}switch(C.tag){case 0:case 11:case 14:case 15:if(S=C.updateQueue,S!==null&&(S=S.lastEffect,S!==null)){var L=S=S.next;do{var V=L,q=V.destroy;V=V.tag,q!==void 0&&(V&2||V&4)&&zR(C,k,q),L=L.next}while(L!==S)}break;case 1:if(nS(C,k),S=C.stateNode,typeof S.componentWillUnmount=="function")try{S.props=C.memoizedProps,S.state=C.memoizedState,S.componentWillUnmount()}catch(fe){ks(C,k,fe)}break;case 5:nS(C,k);break;case 4:ue?s6(S,C,k):ee&&ee&&(C=C.stateNode.containerInfo,k=Le(C),zt(C,k))}}function e6(S,C,k){for(var L=C;;)if(JH(S,L,k),L.child===null||ue&&L.tag===4){if(L===C)break;for(;L.sibling===null;){if(L.return===null||L.return===C)return;L=L.return}L.sibling.return=L.return,L=L.sibling}else L.child.return=L,L=L.child}function t6(S){var C=S.alternate;C!==null&&(S.alternate=null,t6(C)),S.child=null,S.deletions=null,S.sibling=null,S.tag===5&&(C=S.stateNode,C!==null&&he(C)),S.stateNode=null,S.return=null,S.dependencies=null,S.memoizedProps=null,S.memoizedState=null,S.pendingProps=null,S.stateNode=null,S.updateQueue=null}function n6(S){return S.tag===5||S.tag===3||S.tag===4}function r6(S){e:for(;;){for(;S.sibling===null;){if(S.return===null||n6(S.return))return null;S=S.return}for(S.sibling.return=S.return,S=S.sibling;S.tag!==5&&S.tag!==6&&S.tag!==18;){if(S.flags&2||S.child===null||S.tag===4)continue e;S.child.return=S,S=S.child}if(!(S.flags&2))return S.stateNode}}function i6(S){if(ue){e:{for(var C=S.return;C!==null;){if(n6(C))break e;C=C.return}throw Error(o(160))}var k=C;switch(k.tag){case 5:C=k.stateNode,k.flags&32&&(Me(C),k.flags&=-33),k=r6(S),WR(S,k,C);break;case 3:case 4:C=k.stateNode.containerInfo,k=r6(S),VR(S,k,C);break;default:throw Error(o(161))}}}function VR(S,C,k){var L=S.tag;if(L===5||L===6)S=S.stateNode,C?at(k,S,C):ct(k,S);else if(L!==4&&(S=S.child,S!==null))for(VR(S,C,k),S=S.sibling;S!==null;)VR(S,C,k),S=S.sibling}function WR(S,C,k){var L=S.tag;if(L===5||L===6)S=S.stateNode,C?Ve(k,S,C):Te(k,S);else if(L!==4&&(S=S.child,S!==null))for(WR(S,C,k),S=S.sibling;S!==null;)WR(S,C,k),S=S.sibling}function s6(S,C,k){for(var L=C,V=!1,q,fe;;){if(!V){V=L.return;e:for(;;){if(V===null)throw Error(o(160));switch(q=V.stateNode,V.tag){case 5:fe=!1;break e;case 3:q=q.containerInfo,fe=!0;break e;case 4:q=q.containerInfo,fe=!0;break e}V=V.return}V=!0}if(L.tag===5||L.tag===6)e6(S,L,k),fe?pe(q,L.stateNode):Tt(q,L.stateNode);else if(L.tag===18)fe?ae(q,L.stateNode):gx(q,L.stateNode);else if(L.tag===4){if(L.child!==null){q=L.stateNode.containerInfo,fe=!0,L.child.return=L,L=L.child;continue}}else if(JH(S,L,k),L.child!==null){L.child.return=L,L=L.child;continue}if(L===C)break;for(;L.sibling===null;){if(L.return===null||L.return===C)return;L=L.return,L.tag===4&&(V=!1)}L.sibling.return=L.return,L=L.sibling}}function GR(S,C){if(ue){switch(C.tag){case 0:case 11:case 14:case 15:Rf(3,C,C.return),Rx(3,C),Rf(5,C,C.return);return;case 1:return;case 5:var k=C.stateNode;if(k!=null){var L=C.memoizedProps;S=S!==null?S.memoizedProps:L;var V=C.type,q=C.updateQueue;C.updateQueue=null,q!==null&&Ye(k,q,V,S,L,C)}return;case 6:if(C.stateNode===null)throw Error(o(162));k=C.memoizedProps,We(C.stateNode,S!==null?S.memoizedProps:k,k);return;case 3:Y&&S!==null&&S.memoizedState.isDehydrated&&im(C.stateNode.containerInfo);return;case 12:return;case 13:rS(C);return;case 19:rS(C);return;case 17:return}throw Error(o(163))}switch(C.tag){case 0:case 11:case 14:case 15:Rf(3,C,C.return),Rx(3,C),Rf(5,C,C.return);return;case 12:return;case 13:rS(C);return;case 19:rS(C);return;case 3:Y&&S!==null&&S.memoizedState.isDehydrated&&im(C.stateNode.containerInfo);break;case 22:case 23:return}e:if(ee){switch(C.tag){case 1:case 5:case 6:break e;case 3:case 4:C=C.stateNode,zt(C.containerInfo,C.pendingChildren);break e}throw Error(o(163))}}function rS(S){var C=S.updateQueue;if(C!==null){S.updateQueue=null;var k=S.stateNode;k===null&&(k=S.stateNode=new d0e),C.forEach(function(L){var V=w0e.bind(null,S,L);k.has(L)||(k.add(L),L.then(V,V))})}}function h0e(S,C){for(pt=C;pt!==null;){C=pt;var k=C.deletions;if(k!==null)for(var L=0;L<k.length;L++){var V=k[L];try{var q=S;ue?s6(q,V,C):e6(q,V,C);var fe=V.alternate;fe!==null&&(fe.return=null),V.return=null}catch(Rt){ks(V,C,Rt)}}if(k=C.child,C.subtreeFlags&12854&&k!==null)k.return=C,pt=k;else for(;pt!==null;){C=pt;try{var ye=C.flags;if(ye&32&&ue&&Me(C.stateNode),ye&512){var Fe=C.alternate;if(Fe!==null){var st=Fe.ref;st!==null&&(typeof st=="function"?st(null):st.current=null)}}if(ye&8192)switch(C.tag){case 13:if(C.memoizedState!==null){var Ct=C.alternate;(Ct===null||Ct.memoizedState===null)&&(JR=_i())}break;case 22:var rn=C.memoizedState!==null,Bt=C.alternate,er=Bt!==null&&Bt.memoizedState!==null;if(k=C,ue){e:if(L=k,V=rn,q=null,ue)for(var It=L;;){if(It.tag===5){if(q===null){q=It;var Wi=It.stateNode;V?Je(Wi):ke(It.stateNode,It.memoizedProps)}}else if(It.tag===6){if(q===null){var Wo=It.stateNode;V?de(Wo):$e(Wo,It.memoizedProps)}}else if((It.tag!==22&&It.tag!==23||It.memoizedState===null||It===L)&&It.child!==null){It.child.return=It,It=It.child;continue}if(It===L)break;for(;It.sibling===null;){if(It.return===null||It.return===L)break e;q===It&&(q=null),It=It.return}q===It&&(q=null),It.sibling.return=It.return,It=It.sibling}}if(rn&&!er&&k.mode&1){pt=k;for(var Pe=k.child;Pe!==null;){for(k=pt=Pe;pt!==null;){L=pt;var xe=L.child;switch(L.tag){case 0:case 11:case 14:case 15:Rf(4,L,L.return);break;case 1:nS(L,L.return);var De=L.stateNode;if(typeof De.componentWillUnmount=="function"){var mt=L.return;try{De.props=L.memoizedProps,De.state=L.memoizedState,De.componentWillUnmount()}catch(Rt){ks(L,mt,Rt)}}break;case 5:nS(L,L.return);break;case 22:if(L.memoizedState!==null){l6(k);continue}}xe!==null?(xe.return=L,pt=xe):l6(k)}Pe=Pe.sibling}}}switch(ye&4102){case 2:i6(C),C.flags&=-3;break;case 6:i6(C),C.flags&=-3,GR(C.alternate,C);break;case 4096:C.flags&=-4097;break;case 4100:C.flags&=-4097,GR(C.alternate,C);break;case 4:GR(C.alternate,C)}}catch(Rt){ks(C,C.return,Rt)}if(k=C.sibling,k!==null){k.return=C.return,pt=k;break}pt=C.return}}}function p0e(S,C,k){pt=S,o6(S)}function o6(S,C,k){for(var L=(S.mode&1)!==0;pt!==null;){var V=pt,q=V.child;if(V.tag===22&&L){var fe=V.memoizedState!==null||tS;if(!fe){var ye=V.alternate,Fe=ye!==null&&ye.memoizedState!==null||Nf;ye=tS;var st=Nf;if(tS=fe,(Nf=Fe)&&!st)for(pt=V;pt!==null;)fe=pt,Fe=fe.child,fe.tag===22&&fe.memoizedState!==null?c6(V):Fe!==null?(Fe.return=fe,pt=Fe):c6(V);for(;q!==null;)pt=q,o6(q),q=q.sibling;pt=V,tS=ye,Nf=st}a6(S)}else V.subtreeFlags&8772&&q!==null?(q.return=V,pt=q):a6(S)}}function a6(S){for(;pt!==null;){var C=pt;if(C.flags&8772){var k=C.alternate;try{if(C.flags&8772)switch(C.tag){case 0:case 11:case 15:Nf||Rx(5,C);break;case 1:var L=C.stateNode;if(C.flags&4&&!Nf)if(k===null)L.componentDidMount();else{var V=C.elementType===C.type?k.memoizedProps:Ca(C.type,k.memoizedProps);L.componentDidUpdate(V,k.memoizedState,L.__reactInternalSnapshotBeforeUpdate)}var q=C.updateQueue;q!==null&&tH(C,q,L);break;case 3:var fe=C.updateQueue;if(fe!==null){if(k=null,C.child!==null)switch(C.child.tag){case 5:k=z(C.child.stateNode);break;case 1:k=C.child.stateNode}tH(C,fe,k)}break;case 5:var ye=C.stateNode;k===null&&C.flags&4&&lt(ye,C.type,C.memoizedProps,C);break;case 6:break;case 4:break;case 12:break;case 13:if(Y&&C.memoizedState===null){var Fe=C.alternate;if(Fe!==null){var st=Fe.memoizedState;if(st!==null){var Ct=st.dehydrated;Ct!==null&&mx(Ct)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Nf||C.flags&512&&HR(C)}catch(rn){ks(C,C.return,rn)}}if(C===S){pt=null;break}if(k=C.sibling,k!==null){k.return=C.return,pt=k;break}pt=C.return}}function l6(S){for(;pt!==null;){var C=pt;if(C===S){pt=null;break}var k=C.sibling;if(k!==null){k.return=C.return,pt=k;break}pt=C.return}}function c6(S){for(;pt!==null;){var C=pt;try{switch(C.tag){case 0:case 11:case 15:var k=C.return;try{Rx(4,C)}catch(Fe){ks(C,k,Fe)}break;case 1:var L=C.stateNode;if(typeof L.componentDidMount=="function"){var V=C.return;try{L.componentDidMount()}catch(Fe){ks(C,V,Fe)}}var q=C.return;try{HR(C)}catch(Fe){ks(C,q,Fe)}break;case 5:var fe=C.return;try{HR(C)}catch(Fe){ks(C,fe,Fe)}}}catch(Fe){ks(C,C.return,Fe)}if(C===S){pt=null;break}var ye=C.sibling;if(ye!==null){ye.return=C.return,pt=ye;break}pt=C.return}}var iS=0,sS=1,oS=2,aS=3,lS=4;if(typeof Symbol=="function"&&Symbol.for){var kx=Symbol.for;iS=kx("selector.component"),sS=kx("selector.has_pseudo_class"),oS=kx("selector.role"),aS=kx("selector.test_id"),lS=kx("selector.text")}function qR(S){var C=se(S);if(C!=null){if(typeof C.memoizedProps["data-testname"]!="string")throw Error(o(364));return C}if(S=ot(S),S===null)throw Error(o(362));return S.stateNode.current}function KR(S,C){switch(C.$$typeof){case iS:if(S.type===C.value)return!0;break;case sS:e:{C=C.value,S=[S,0];for(var k=0;k<S.length;){var L=S[k++],V=S[k++],q=C[V];if(L.tag!==5||!Z(L)){for(;q!=null&&KR(L,q);)V++,q=C[V];if(V===C.length){C=!0;break e}else for(L=L.child;L!==null;)S.push(L,V),L=L.sibling}}C=!1}return C;case oS:if(S.tag===5&&ve(S.stateNode,C.value))return!0;break;case lS:if((S.tag===5||S.tag===6)&&(S=oe(S),S!==null&&0<=S.indexOf(C.value)))return!0;break;case aS:if(S.tag===5&&(S=S.memoizedProps["data-testname"],typeof S=="string"&&S.toLowerCase()===C.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function XR(S){switch(S.$$typeof){case iS:return"<"+(A(S.value)||"Unknown")+">";case sS:return":has("+(XR(S)||"")+")";case oS:return'[role="'+S.value+'"]';case lS:return'"'+S.value+'"';case aS:return'[data-testname="'+S.value+'"]';default:throw Error(o(365))}}function u6(S,C){var k=[];S=[S,0];for(var L=0;L<S.length;){var V=S[L++],q=S[L++],fe=C[q];if(V.tag!==5||!Z(V)){for(;fe!=null&&KR(V,fe);)q++,fe=C[q];if(q===C.length)k.push(V);else for(V=V.child;V!==null;)S.push(V,q),V=V.sibling}}return k}function YR(S,C){if(!Re)throw Error(o(363));S=qR(S),S=u6(S,C),C=[],S=Array.from(S);for(var k=0;k<S.length;){var L=S[k++];if(L.tag===5)Z(L)||C.push(L.stateNode);else for(L=L.child;L!==null;)S.push(L),L=L.sibling}return C}var m0e=Math.ceil,cS=a.ReactCurrentDispatcher,ZR=a.ReactCurrentOwner,zr=a.ReactCurrentBatchConfig,mn=0,Yr=null,Zr=null,ki=0,oo=0,pm=St(0),oi=0,Ox=null,mm=0,uS=0,QR=0,Ix=null,Ns=null,JR=0,ek=1/0;function gm(){ek=_i()+500}var dS=!1,tk=null,zu=null,fS=!1,Hu=null,hS=0,jx=0,nk=null,pS=-1,mS=0;function fs(){return mn&6?_i():pS!==-1?pS:pS=_i()}function Vu(S){return S.mode&1?mn&2&&ki!==0?ki&-ki:Zxe.transition!==null?(mS===0&&(S=Bu,Bu<<=1,!(Bu&4194240)&&(Bu=64),mS=S),mS):(S=On,S!==0?S:me()):1}function Ho(S,C,k){if(50<jx)throw jx=0,nk=null,Error(o(185));var L=gS(S,C);return L===null?null:(yx(L,C,k),(!(mn&2)||L!==Yr)&&(L===Yr&&(!(mn&2)&&(uS|=C),oi===4&&Wu(L,ki)),Rs(L,k),C===1&&mn===0&&!(S.mode&1)&&(gm(),k1&&_l())),L)}function gS(S,C){S.lanes|=C;var k=S.alternate;for(k!==null&&(k.lanes|=C),k=S,S=S.return;S!==null;)S.childLanes|=C,k=S.alternate,k!==null&&(k.childLanes|=C),k=S,S=S.return;return k.tag===3?k.stateNode:null}function Rs(S,C){var k=S.callbackNode;zxe(S,C);var L=N1(S,S===Yr?ki:0);if(L===0)k!==null&&Yz(k),S.callbackNode=null,S.callbackPriority=0;else if(C=L&-L,S.callbackPriority!==C){if(k!=null&&Yz(k),C===1)S.tag===0?Yxe(f6.bind(null,S)):Zz(f6.bind(null,S)),Ae?Se(function(){mn===0&&_l()}):uR(dR,_l),k=null;else{switch(Xz(L)){case 1:k=dR;break;case 4:k=Gxe;break;case 16:k=fR;break;case 536870912:k=qxe;break;default:k=fR}k=b6(k,d6.bind(null,S))}S.callbackPriority=C,S.callbackNode=k}}function d6(S,C){if(pS=-1,mS=0,mn&6)throw Error(o(327));var k=S.callbackNode;if(If()&&S.callbackNode!==k)return null;var L=N1(S,S===Yr?ki:0);if(L===0)return null;if(L&30||L&S.expiredLanes||C)C=vS(S,L);else{C=L;var V=mn;mn|=2;var q=m6();(Yr!==S||ki!==C)&&(gm(),kf(S,C));do try{y0e();break}catch(ye){p6(S,ye)}while(!0);mR(),cS.current=q,mn=V,Zr!==null?C=0:(Yr=null,ki=0,C=oi)}if(C!==0){if(C===2&&(V=aR(S),V!==0&&(L=V,C=rk(S,V))),C===1)throw k=Ox,kf(S,0),Wu(S,L),Rs(S,_i()),k;if(C===6)Wu(S,L);else{if(V=S.current.alternate,!(L&30)&&!g0e(V)&&(C=vS(S,L),C===2&&(q=aR(S),q!==0&&(L=q,C=rk(S,q))),C===1))throw k=Ox,kf(S,0),Wu(S,L),Rs(S,_i()),k;switch(S.finishedWork=V,S.finishedLanes=L,C){case 0:case 1:throw Error(o(345));case 2:Of(S,Ns);break;case 3:if(Wu(S,L),(L&130023424)===L&&(C=JR+500-_i(),10<C)){if(N1(S,0)!==0)break;if(V=S.suspendedLanes,(V&L)!==L){fs(),S.pingedLanes|=S.suspendedLanes&V;break}S.timeoutHandle=U(Of.bind(null,S,Ns),C);break}Of(S,Ns);break;case 4:if(Wu(S,L),(L&4194240)===L)break;for(C=S.eventTimes,V=-1;0<L;){var fe=31-rr(L);q=1<<fe,fe=C[fe],fe>V&&(V=fe),L&=~q}if(L=V,L=_i()-L,L=(120>L?120:480>L?480:1080>L?1080:1920>L?1920:3e3>L?3e3:4320>L?4320:1960*m0e(L/1960))-L,10<L){S.timeoutHandle=U(Of.bind(null,S,Ns),L);break}Of(S,Ns);break;case 5:Of(S,Ns);break;default:throw Error(o(329))}}}return Rs(S,_i()),S.callbackNode===k?d6.bind(null,S):null}function rk(S,C){var k=Ix;return S.current.memoizedState.isDehydrated&&(kf(S,C).flags|=256),S=vS(S,C),S!==2&&(C=Ns,Ns=k,C!==null&&ik(C)),S}function ik(S){Ns===null?Ns=S:Ns.push.apply(Ns,S)}function g0e(S){for(var C=S;;){if(C.flags&16384){var k=C.updateQueue;if(k!==null&&(k=k.stores,k!==null))for(var L=0;L<k.length;L++){var V=k[L],q=V.getSnapshot;V=V.value;try{if(!xl(q(),V))return!1}catch{return!1}}}if(k=C.child,C.subtreeFlags&16384&&k!==null)k.return=C,C=k;else{if(C===S)break;for(;C.sibling===null;){if(C.return===null||C.return===S)return!0;C=C.return}C.sibling.return=C.return,C=C.sibling}}return!0}function Wu(S,C){for(C&=~QR,C&=~uS,S.suspendedLanes|=C,S.pingedLanes&=~C,S=S.expirationTimes;0<C;){var k=31-rr(C),L=1<<k;S[k]=-1,C&=~L}}function f6(S){if(mn&6)throw Error(o(327));If();var C=N1(S,0);if(!(C&1))return Rs(S,_i()),null;var k=vS(S,C);if(S.tag!==0&&k===2){var L=aR(S);L!==0&&(C=L,k=rk(S,L))}if(k===1)throw k=Ox,kf(S,0),Wu(S,C),Rs(S,_i()),k;if(k===6)throw Error(o(345));return S.finishedWork=S.current.alternate,S.finishedLanes=C,Of(S,Ns),Rs(S,_i()),null}function h6(S){Hu!==null&&Hu.tag===0&&!(mn&6)&&If();var C=mn;mn|=1;var k=zr.transition,L=On;try{if(zr.transition=null,On=1,S)return S()}finally{On=L,zr.transition=k,mn=C,!(mn&6)&&_l()}}function sk(){oo=pm.current,Mt(pm)}function kf(S,C){S.finishedWork=null,S.finishedLanes=0;var k=S.timeoutHandle;if(k!==Q&&(S.timeoutHandle=Q,X(k)),Zr!==null)for(k=Zr.return;k!==null;){var L=k;switch(wR(L),L.tag){case 1:L=L.type.childContextTypes,L!=null&&wr();break;case 3:fm(),Mt(tn),Mt(en),PR();break;case 5:AR(L);break;case 4:fm();break;case 13:Mt(Sr);break;case 19:Mt(Sr);break;case 10:gR(L.type._context);break;case 22:case 23:sk()}k=k.return}if(Yr=S,Zr=S=Gu(S.current,null),ki=oo=C,oi=0,Ox=null,QR=uS=mm=0,Ns=Ix=null,bl!==null){for(C=0;C<bl.length;C++)if(k=bl[C],L=k.interleaved,L!==null){k.interleaved=null;var V=L.next,q=k.pending;if(q!==null){var fe=q.next;q.next=V,L.next=fe}k.pending=L}bl=null}return S}function p6(S,C){do{var k=Zr;try{if(mR(),H1.current=X1,V1){for(var L=Or.memoizedState;L!==null;){var V=L.queue;V!==null&&(V.pending=null),L=L.next}V1=!1}if(hm=0,bi=zi=Or=null,Cx=!1,Ex=0,ZR.current=null,k===null||k.return===null){oi=1,Ox=C,Zr=null;break}e:{var q=S,fe=k.return,ye=k,Fe=C;if(C=ki,ye.flags|=32768,Fe!==null&&typeof Fe=="object"&&typeof Fe.then=="function"){var st=Fe,Ct=ye,rn=Ct.tag;if(!(Ct.mode&1)&&(rn===0||rn===11||rn===15)){var Bt=Ct.alternate;Bt?(Ct.updateQueue=Bt.updateQueue,Ct.memoizedState=Bt.memoizedState,Ct.lanes=Bt.lanes):(Ct.updateQueue=null,Ct.memoizedState=null)}var er=jH(fe);if(er!==null){er.flags&=-257,DH(er,fe,ye,q,C),er.mode&1&&IH(q,st,C),C=er,Fe=st;var It=C.updateQueue;if(It===null){var Wi=new Set;Wi.add(Fe),C.updateQueue=Wi}else It.add(Fe);break e}else{if(!(C&1)){IH(q,st,C),ok();break e}Fe=Error(o(426))}}else if(vr&&ye.mode&1){var Wo=jH(fe);if(Wo!==null){!(Wo.flags&65536)&&(Wo.flags|=256),DH(Wo,fe,ye,q,C),ER(Fe);break e}}q=Fe,oi!==4&&(oi=2),Ix===null?Ix=[q]:Ix.push(q),Fe=DR(Fe,ye),ye=fe;do{switch(ye.tag){case 3:ye.flags|=65536,C&=-C,ye.lanes|=C;var Pe=kH(ye,Fe,C);eH(ye,Pe);break e;case 1:q=Fe;var xe=ye.type,De=ye.stateNode;if(!(ye.flags&128)&&(typeof xe.getDerivedStateFromError=="function"||De!==null&&typeof De.componentDidCatch=="function"&&(zu===null||!zu.has(De)))){ye.flags|=65536,C&=-C,ye.lanes|=C;var mt=OH(ye,q,C);eH(ye,mt);break e}}ye=ye.return}while(ye!==null)}v6(k)}catch(Rt){C=Rt,Zr===k&&k!==null&&(Zr=k=k.return);continue}break}while(!0)}function m6(){var S=cS.current;return cS.current=X1,S===null?X1:S}function ok(){(oi===0||oi===3||oi===2)&&(oi=4),Yr===null||!(mm&268435455)&&!(uS&268435455)||Wu(Yr,ki)}function vS(S,C){var k=mn;mn|=2;var L=m6();Yr===S&&ki===C||kf(S,C);do try{v0e();break}catch(V){p6(S,V)}while(!0);if(mR(),mn=k,cS.current=L,Zr!==null)throw Error(o(261));return Yr=null,ki=0,oi}function v0e(){for(;Zr!==null;)g6(Zr)}function y0e(){for(;Zr!==null&&!Vxe();)g6(Zr)}function g6(S){var C=_6(S.alternate,S,oo);S.memoizedProps=S.pendingProps,C===null?v6(S):Zr=C,ZR.current=null}function v6(S){var C=S;do{var k=C.alternate;if(S=C.return,C.flags&32768){if(k=u0e(k,C),k!==null){k.flags&=32767,Zr=k;return}if(S!==null)S.flags|=32768,S.subtreeFlags=0,S.deletions=null;else{oi=6,Zr=null;return}}else if(k=a0e(k,C,oo),k!==null){Zr=k;return}if(C=C.sibling,C!==null){Zr=C;return}Zr=C=S}while(C!==null);oi===0&&(oi=5)}function Of(S,C){var k=On,L=zr.transition;try{zr.transition=null,On=1,x0e(S,C,k)}finally{zr.transition=L,On=k}return null}function x0e(S,C,k){do If();while(Hu!==null);if(mn&6)throw Error(o(327));var L=S.finishedWork,V=S.finishedLanes;if(L===null)return null;if(S.finishedWork=null,S.finishedLanes=0,L===S.current)throw Error(o(177));S.callbackNode=null,S.callbackPriority=0;var q=L.lanes|L.childLanes;if(Hxe(S,q),S===Yr&&(Zr=Yr=null,ki=0),!(L.subtreeFlags&2064)&&!(L.flags&2064)||fS||(fS=!0,b6(fR,function(){return If(),null})),q=(L.flags&15990)!==0,L.subtreeFlags&15990||q){q=zr.transition,zr.transition=null;var fe=On;On=1;var ye=mn;mn|=4,ZR.current=null,f0e(S,L),h0e(S,L),B(S.containerInfo),S.current=L,p0e(L),Wxe(),mn=ye,On=fe,zr.transition=q}else S.current=L;if(fS&&(fS=!1,Hu=S,hS=V),q=S.pendingLanes,q===0&&(zu=null),Kxe(L.stateNode),Rs(S,_i()),C!==null)for(k=S.onRecoverableError,L=0;L<C.length;L++)k(C[L]);if(dS)throw dS=!1,S=tk,tk=null,S;return hS&1&&S.tag!==0&&If(),q=S.pendingLanes,q&1?S===nk?jx++:(jx=0,nk=S):jx=0,_l(),null}function If(){if(Hu!==null){var S=Xz(hS),C=zr.transition,k=On;try{if(zr.transition=null,On=16>S?16:S,Hu===null)var L=!1;else{if(S=Hu,Hu=null,hS=0,mn&6)throw Error(o(331));var V=mn;for(mn|=4,pt=S.current;pt!==null;){var q=pt,fe=q.child;if(pt.flags&16){var ye=q.deletions;if(ye!==null){for(var Fe=0;Fe<ye.length;Fe++){var st=ye[Fe];for(pt=st;pt!==null;){var Ct=pt;switch(Ct.tag){case 0:case 11:case 15:Rf(8,Ct,q)}var rn=Ct.child;if(rn!==null)rn.return=Ct,pt=rn;else for(;pt!==null;){Ct=pt;var Bt=Ct.sibling,er=Ct.return;if(t6(Ct),Ct===st){pt=null;break}if(Bt!==null){Bt.return=er,pt=Bt;break}pt=er}}}var It=q.alternate;if(It!==null){var Wi=It.child;if(Wi!==null){It.child=null;do{var Wo=Wi.sibling;Wi.sibling=null,Wi=Wo}while(Wi!==null)}}pt=q}}if(q.subtreeFlags&2064&&fe!==null)fe.return=q,pt=fe;else e:for(;pt!==null;){if(q=pt,q.flags&2048)switch(q.tag){case 0:case 11:case 15:Rf(9,q,q.return)}var Pe=q.sibling;if(Pe!==null){Pe.return=q.return,pt=Pe;break e}pt=q.return}}var xe=S.current;for(pt=xe;pt!==null;){fe=pt;var De=fe.child;if(fe.subtreeFlags&2064&&De!==null)De.return=fe,pt=De;else e:for(fe=xe;pt!==null;){if(ye=pt,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:Rx(9,ye)}}catch(Rt){ks(ye,ye.return,Rt)}if(ye===fe){pt=null;break e}var mt=ye.sibling;if(mt!==null){mt.return=ye.return,pt=mt;break e}pt=ye.return}}if(mn=V,_l(),yl&&typeof yl.onPostCommitFiberRoot=="function")try{yl.onPostCommitFiberRoot(R1,S)}catch{}L=!0}return L}finally{On=k,zr.transition=C}}return!1}function y6(S,C,k){C=DR(k,C),C=kH(S,C,1),$u(S,C),C=fs(),S=gS(S,1),S!==null&&(yx(S,1,C),Rs(S,C))}function ks(S,C,k){if(S.tag===3)y6(S,S,k);else for(;C!==null;){if(C.tag===3){y6(C,S,k);break}else if(C.tag===1){var L=C.stateNode;if(typeof C.type.getDerivedStateFromError=="function"||typeof L.componentDidCatch=="function"&&(zu===null||!zu.has(L))){S=DR(k,S),S=OH(C,S,1),$u(C,S),S=fs(),C=gS(C,1),C!==null&&(yx(C,1,S),Rs(C,S));break}}C=C.return}}function _0e(S,C,k){var L=S.pingCache;L!==null&&L.delete(C),C=fs(),S.pingedLanes|=S.suspendedLanes&k,Yr===S&&(ki&k)===k&&(oi===4||oi===3&&(ki&130023424)===ki&&500>_i()-JR?kf(S,0):QR|=k),Rs(S,C)}function x6(S,C){C===0&&(S.mode&1?(C=Lo,Lo<<=1,!(Lo&130023424)&&(Lo=4194304)):C=1);var k=fs();S=gS(S,C),S!==null&&(yx(S,C,k),Rs(S,k))}function b0e(S){var C=S.memoizedState,k=0;C!==null&&(k=C.retryLane),x6(S,k)}function w0e(S,C){var k=0;switch(S.tag){case 13:var L=S.stateNode,V=S.memoizedState;V!==null&&(k=V.retryLane);break;case 19:L=S.stateNode;break;default:throw Error(o(314))}L!==null&&L.delete(C),x6(S,k)}var _6;_6=function(S,C,k){if(S!==null)if(S.memoizedProps!==C.pendingProps||tn.current)so=!0;else{if(!(S.lanes&k)&&!(C.flags&128))return so=!1,c0e(S,C,k);so=!!(S.flags&131072)}else so=!1,vr&&C.flags&1048576&&oH(C,U1,C.index);switch(C.lanes=0,C.tag){case 2:var L=C.type;S!==null&&(S.alternate=null,C.alternate=null,C.flags|=2),S=C.pendingProps;var V=kn(C,en.current);om(C,k),V=RR(null,C,L,S,V,k);var q=kR();return C.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(C.tag=1,C.memoizedState=null,C.updateQueue=null,Kt(L)?(q=!0,Do(C)):q=!1,C.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,yR(C),V.updater=F1,C.stateNode=V,V._reactInternals=C,_R(C,L,S,k),C=BR(null,C,L,!0,q,k)):(C.tag=0,vr&&q&&bR(C),ds(null,C,V,k),C=C.child),C;case 16:L=C.elementType;e:{switch(S!==null&&(S.alternate=null,C.alternate=null,C.flags|=2),S=C.pendingProps,V=L._init,L=V(L._payload),C.type=L,V=C.tag=C0e(L),S=Ca(L,S),V){case 0:C=FR(null,C,L,S,k);break e;case 1:C=VH(null,C,L,S,k);break e;case 11:C=BH(null,C,L,S,k);break e;case 14:C=UH(null,C,L,Ca(L.type,S),k);break e}throw Error(o(306,L,""))}return C;case 0:return L=C.type,V=C.pendingProps,V=C.elementType===L?V:Ca(L,V),FR(S,C,L,V,k);case 1:return L=C.type,V=C.pendingProps,V=C.elementType===L?V:Ca(L,V),VH(S,C,L,V,k);case 3:e:{if(WH(C),S===null)throw Error(o(387));L=C.pendingProps,q=C.memoizedState,V=q.element,Jz(S,C),L1(C,L,null,k);var fe=C.memoizedState;if(L=fe.element,Y&&q.isDehydrated)if(q={element:L,isDehydrated:!1,cache:fe.cache,transitions:fe.transitions},C.updateQueue.baseState=q,C.memoizedState=q,C.flags&256){V=Error(o(423)),C=GH(S,C,L,k,V);break e}else if(L!==V){V=Error(o(424)),C=GH(S,C,L,k,V);break e}else for(Y&&(io=Fu(C.stateNode.containerInfo),ro=C,vr=!0,Ea=null,xx=!1),k=fH(C,null,L,k),C.child=k;k;)k.flags=k.flags&-3|4096,k=k.sibling;else{if(cm(),L===V){C=Sc(S,C,k);break e}ds(S,C,L,k)}C=C.child}return C;case 5:return hH(C),S===null&&CR(C),L=C.type,V=C.pendingProps,q=S!==null?S.memoizedProps:null,fe=V.children,le(L,V)?fe=null:q!==null&&le(L,q)&&(C.flags|=32),HH(S,C),ds(S,C,fe,k),C.child;case 6:return S===null&&CR(C),null;case 13:return qH(S,C,k);case 4:return MR(C,C.stateNode.containerInfo),L=C.pendingProps,S===null?C.child=um(C,null,L,k):ds(S,C,L,k),C.child;case 11:return L=C.type,V=C.pendingProps,V=C.elementType===L?V:Ca(L,V),BH(S,C,L,V,k);case 7:return ds(S,C,C.pendingProps,k),C.child;case 8:return ds(S,C,C.pendingProps.children,k),C.child;case 12:return ds(S,C,C.pendingProps.children,k),C.child;case 10:e:{if(L=C.type._context,V=C.pendingProps,q=C.memoizedProps,fe=V.value,Qz(C,L,fe),q!==null)if(xl(q.value,fe)){if(q.children===V.children&&!tn.current){C=Sc(S,C,k);break e}}else for(q=C.child,q!==null&&(q.return=C);q!==null;){var ye=q.dependencies;if(ye!==null){fe=q.child;for(var Fe=ye.firstContext;Fe!==null;){if(Fe.context===L){if(q.tag===1){Fe=xc(-1,k&-k),Fe.tag=2;var st=q.updateQueue;if(st!==null){st=st.shared;var Ct=st.pending;Ct===null?Fe.next=Fe:(Fe.next=Ct.next,Ct.next=Fe),st.pending=Fe}}q.lanes|=k,Fe=q.alternate,Fe!==null&&(Fe.lanes|=k),vR(q.return,k,C),ye.lanes|=k;break}Fe=Fe.next}}else if(q.tag===10)fe=q.type===C.type?null:q.child;else if(q.tag===18){if(fe=q.return,fe===null)throw Error(o(341));fe.lanes|=k,ye=fe.alternate,ye!==null&&(ye.lanes|=k),vR(fe,k,C),fe=q.sibling}else fe=q.child;if(fe!==null)fe.return=q;else for(fe=q;fe!==null;){if(fe===C){fe=null;break}if(q=fe.sibling,q!==null){q.return=fe.return,fe=q;break}fe=fe.return}q=fe}ds(S,C,V.children,k),C=C.child}return C;case 9:return V=C.type,L=C.pendingProps.children,om(C,k),V=Fo(V),L=L(V),C.flags|=1,ds(S,C,L,k),C.child;case 14:return L=C.type,V=Ca(L,C.pendingProps),V=Ca(L.type,V),UH(S,C,L,V,k);case 15:return $H(S,C,C.type,C.pendingProps,k);case 17:return L=C.type,V=C.pendingProps,V=C.elementType===L?V:Ca(L,V),S!==null&&(S.alternate=null,C.alternate=null,C.flags|=2),C.tag=1,Kt(L)?(S=!0,Do(C)):S=!1,om(C,k),iH(C,L,V),_R(C,L,V,k),BR(null,C,L,!0,S,k);case 19:return ZH(S,C,k);case 22:return zH(S,C,k)}throw Error(o(156,C.tag))};function b6(S,C){return uR(S,C)}function S0e(S,C,k,L){this.tag=S,this.key=k,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=C,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=L,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vo(S,C,k,L){return new S0e(S,C,k,L)}function ak(S){return S=S.prototype,!(!S||!S.isReactComponent)}function C0e(S){if(typeof S=="function")return ak(S)?1:0;if(S!=null){if(S=S.$$typeof,S===x)return 11;if(S===y)return 14}return 2}function Gu(S,C){var k=S.alternate;return k===null?(k=Vo(S.tag,C,S.key,S.mode),k.elementType=S.elementType,k.type=S.type,k.stateNode=S.stateNode,k.alternate=S,S.alternate=k):(k.pendingProps=C,k.type=S.type,k.flags=0,k.subtreeFlags=0,k.deletions=null),k.flags=S.flags&14680064,k.childLanes=S.childLanes,k.lanes=S.lanes,k.child=S.child,k.memoizedProps=S.memoizedProps,k.memoizedState=S.memoizedState,k.updateQueue=S.updateQueue,C=S.dependencies,k.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext},k.sibling=S.sibling,k.index=S.index,k.ref=S.ref,k}function yS(S,C,k,L,V,q){var fe=2;if(L=S,typeof S=="function")ak(S)&&(fe=1);else if(typeof S=="string")fe=5;else e:switch(S){case f:return jf(k.children,V,q,C);case d:fe=8,V|=8;break;case h:return S=Vo(12,k,C,V|2),S.elementType=h,S.lanes=q,S;case m:return S=Vo(13,k,C,V),S.elementType=m,S.lanes=q,S;case p:return S=Vo(19,k,C,V),S.elementType=p,S.lanes=q,S;case b:return xS(k,V,q,C);default:if(typeof S=="object"&&S!==null)switch(S.$$typeof){case g:fe=10;break e;case v:fe=9;break e;case x:fe=11;break e;case y:fe=14;break e;case _:fe=16,L=null;break e}throw Error(o(130,S==null?S:typeof S,""))}return C=Vo(fe,k,C,V),C.elementType=S,C.type=L,C.lanes=q,C}function jf(S,C,k,L){return S=Vo(7,S,L,C),S.lanes=k,S}function xS(S,C,k,L){return S=Vo(22,S,L,C),S.elementType=b,S.lanes=k,S.stateNode={},S}function lk(S,C,k){return S=Vo(6,S,null,C),S.lanes=k,S}function ck(S,C,k){return C=Vo(4,S.children!==null?S.children:[],S.key,C),C.lanes=k,C.stateNode={containerInfo:S.containerInfo,pendingChildren:null,implementation:S.implementation},C}function E0e(S,C,k,L,V){this.tag=C,this.containerInfo=S,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Q,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lR(0),this.expirationTimes=lR(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lR(0),this.identifierPrefix=L,this.onRecoverableError=V,Y&&(this.mutableSourceEagerHydrationData=null)}function w6(S,C,k,L,V,q,fe,ye,Fe){return S=new E0e(S,C,k,ye,Fe),C===1?(C=1,q===!0&&(C|=8)):C=0,q=Vo(3,null,null,C),S.current=q,q.stateNode=S,q.memoizedState={element:L,isDehydrated:k,cache:null,transitions:null},yR(q),S}function S6(S){if(!S)return Mn;S=S._reactInternals;e:{if(P(S)!==S||S.tag!==1)throw Error(o(170));var C=S;do{switch(C.tag){case 3:C=C.stateNode.context;break e;case 1:if(Kt(C.type)){C=C.stateNode.__reactInternalMemoizedMergedChildContext;break e}}C=C.return}while(C!==null);throw Error(o(171))}if(S.tag===1){var k=S.type;if(Kt(k))return xi(S,k,C)}return C}function C6(S){var C=S._reactInternals;if(C===void 0)throw typeof S.render=="function"?Error(o(188)):(S=Object.keys(S).join(","),Error(o(268,S)));return S=I(C),S===null?null:S.stateNode}function E6(S,C){if(S=S.memoizedState,S!==null&&S.dehydrated!==null){var k=S.retryLane;S.retryLane=k!==0&&k<C?k:C}}function uk(S,C){E6(S,C),(S=S.alternate)&&E6(S,C)}function M0e(S){return S=I(S),S===null?null:S.stateNode}function A0e(){return null}return n.attemptContinuousHydration=function(S){if(S.tag===13){var C=fs();Ho(S,134217728,C),uk(S,134217728)}},n.attemptHydrationAtCurrentPriority=function(S){if(S.tag===13){var C=fs(),k=Vu(S);Ho(S,k,C),uk(S,k)}},n.attemptSynchronousHydration=function(S){switch(S.tag){case 3:var C=S.stateNode;if(C.current.memoizedState.isDehydrated){var k=vx(C.pendingLanes);k!==0&&(cR(C,k|1),Rs(C,_i()),!(mn&6)&&(gm(),_l()))}break;case 13:var L=fs();h6(function(){return Ho(S,1,L)}),uk(S,1)}},n.batchedUpdates=function(S,C){var k=mn;mn|=1;try{return S(C)}finally{mn=k,mn===0&&(gm(),k1&&_l())}},n.createComponentSelector=function(S){return{$$typeof:iS,value:S}},n.createContainer=function(S,C,k,L,V,q,fe){return w6(S,C,!1,null,k,L,V,q,fe)},n.createHasPseudoClassSelector=function(S){return{$$typeof:sS,value:S}},n.createHydrationContainer=function(S,C,k,L,V,q,fe,ye,Fe){return S=w6(k,L,!0,S,V,q,fe,ye,Fe),S.context=S6(null),k=S.current,L=fs(),V=Vu(k),q=xc(L,V),q.callback=C??null,$u(k,q),S.current.lanes=V,yx(S,V,L),Rs(S,L),S},n.createPortal=function(S,C,k){var L=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:L==null?null:""+L,children:S,containerInfo:C,implementation:k}},n.createRoleSelector=function(S){return{$$typeof:oS,value:S}},n.createTestNameSelector=function(S){return{$$typeof:aS,value:S}},n.createTextSelector=function(S){return{$$typeof:lS,value:S}},n.deferredUpdates=function(S){var C=On,k=zr.transition;try{return zr.transition=null,On=16,S()}finally{On=C,zr.transition=k}},n.discreteUpdates=function(S,C,k,L,V){var q=On,fe=zr.transition;try{return zr.transition=null,On=1,S(C,k,L,V)}finally{On=q,zr.transition=fe,mn===0&&gm()}},n.findAllNodes=YR,n.findBoundingRects=function(S,C){if(!Re)throw Error(o(363));C=YR(S,C),S=[];for(var k=0;k<C.length;k++)S.push(rt(C[k]));for(C=S.length-1;0<C;C--){k=S[C];for(var L=k.x,V=L+k.width,q=k.y,fe=q+k.height,ye=C-1;0<=ye;ye--)if(C!==ye){var Fe=S[ye],st=Fe.x,Ct=st+Fe.width,rn=Fe.y,Bt=rn+Fe.height;if(L>=st&&q>=rn&&V<=Ct&&fe<=Bt){S.splice(C,1);break}else if(L!==st||k.width!==Fe.width||Bt<q||rn>fe){if(!(q!==rn||k.height!==Fe.height||Ct<L||st>V)){st>L&&(Fe.width+=st-L,Fe.x=L),Ct<V&&(Fe.width=V-st),S.splice(C,1);break}}else{rn>q&&(Fe.height+=rn-q,Fe.y=q),Bt<fe&&(Fe.height=fe-rn),S.splice(C,1);break}}}return S},n.findHostInstance=C6,n.findHostInstanceWithNoPortals=function(S){return S=O(S),S=S!==null?F(S):null,S===null?null:S.stateNode},n.findHostInstanceWithWarning=function(S){return C6(S)},n.flushControlled=function(S){var C=mn;mn|=1;var k=zr.transition,L=On;try{zr.transition=null,On=1,S()}finally{On=L,zr.transition=k,mn=C,mn===0&&(gm(),_l())}},n.flushPassiveEffects=If,n.flushSync=h6,n.focusWithin=function(S,C){if(!Re)throw Error(o(363));for(S=qR(S),C=u6(S,C),C=Array.from(C),S=0;S<C.length;){var k=C[S++];if(!Z(k)){if(k.tag===5&&Ee(k.stateNode))return!0;for(k=k.child;k!==null;)C.push(k),k=k.sibling}}return!1},n.getCurrentUpdatePriority=function(){return On},n.getFindAllNodesFailureDescription=function(S,C){if(!Re)throw Error(o(363));var k=0,L=[];S=[qR(S),0];for(var V=0;V<S.length;){var q=S[V++],fe=S[V++],ye=C[fe];if((q.tag!==5||!Z(q))&&(KR(q,ye)&&(L.push(XR(ye)),fe++,fe>k&&(k=fe)),fe<C.length))for(q=q.child;q!==null;)S.push(q,fe),q=q.sibling}if(k<C.length){for(S=[];k<C.length;k++)S.push(XR(C[k]));return`findAllNodes was able to match part of the selector:
  `+(L.join(" > ")+`

No matching component was found for:
  `)+S.join(" > ")}return null},n.getPublicRootInstance=function(S){if(S=S.current,!S.child)return null;switch(S.child.tag){case 5:return z(S.child.stateNode);default:return S.child.stateNode}},n.injectIntoDevTools=function(S){if(S={bundleType:S.bundleType,version:S.version,rendererPackageName:S.rendererPackageName,rendererConfig:S.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:M0e,findFiberByHostInstance:S.findFiberByHostInstance||A0e,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")S=!1;else{var C=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(C.isDisabled||!C.supportsFiber)S=!0;else{try{R1=C.inject(S),yl=C}catch{}S=!!C.checkDCE}}return S},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(S,C,k,L){if(!Re)throw Error(o(363));S=YR(S,C);var V=je(S,k,L).disconnect;return{disconnect:function(){V()}}},n.registerMutableSourceForHydration=function(S,C){var k=C._getVersion;k=k(C._source),S.mutableSourceEagerHydrationData==null?S.mutableSourceEagerHydrationData=[C,k]:S.mutableSourceEagerHydrationData.push(C,k)},n.runWithPriority=function(S,C){var k=On;try{return On=S,C()}finally{On=k}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(S,C,k,L){var V=C.current,q=fs(),fe=Vu(V);return k=S6(k),C.context===null?C.context=k:C.pendingContext=k,C=xc(q,fe),C.payload={element:S},L=L===void 0?null:L,L!==null&&(C.callback=L),$u(V,C),S=Ho(V,fe,q),S!==null&&D1(S,V,fe),fe},n};pxe.exports=nEt;var rEt=pxe.exports;const iEt=Sn(rEt);var mxe={exports:{}},gxe={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,j){var B=R.length;R.push(j);e:for(;0<B;){var W=B-1>>>1,G=R[W];if(0<i(G,j))R[W]=j,R[B]=G,B=W;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],B=R.pop();if(B!==j){R[0]=B;e:for(var W=0,G=R.length,K=G>>>1;W<K;){var ie=2*(W+1)-1,le=R[ie],J=ie+1,U=R[J];if(0>i(le,B))J<G&&0>i(U,le)?(R[W]=U,R[J]=B,W=J):(R[W]=le,R[ie]=B,W=ie);else if(J<G&&0>i(U,B))R[W]=U,R[J]=B,W=J;else break e}}return j}function i(R,j){var B=R.sortIndex-j.sortIndex;return B!==0?B:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,h=3,g=!1,v=!1,x=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=R)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(c)}}function b(R){if(x=!1,_(R),!v)if(n(l)!==null)v=!0,z(w);else{var j=n(c);j!==null&&H(b,j.startTime-R)}}function w(R,j){v=!1,x&&(x=!1,p(T),T=-1),g=!0;var B=h;try{for(_(j),d=n(l);d!==null&&(!(d.expirationTime>j)||R&&!O());){var W=d.callback;if(typeof W=="function"){d.callback=null,h=d.priorityLevel;var G=W(d.expirationTime<=j);j=t.unstable_now(),typeof G=="function"?d.callback=G:d===n(l)&&r(l),_(j)}else r(l);d=n(l)}if(d!==null)var K=!0;else{var ie=n(c);ie!==null&&H(b,ie.startTime-j),K=!1}return K}finally{d=null,h=B,g=!1}}var E=!1,A=null,T=-1,P=5,N=-1;function O(){return!(t.unstable_now()-N<P)}function I(){if(A!==null){var R=t.unstable_now();N=R;var j=!0;try{j=A(!0,R)}finally{j?D():(E=!1,A=null)}}else E=!1}var D;if(typeof y=="function")D=function(){y(I)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,$=F.port2;F.port1.onmessage=I,D=function(){$.postMessage(null)}}else D=function(){m(I,0)};function z(R){A=R,E||(E=!0,D())}function H(R,j){T=m(function(){R(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,z(w))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var B=h;h=j;try{return R()}finally{h=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return j()}finally{h=B}},t.unstable_scheduleCallback=function(R,j,B){var W=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?W+B:W):B=W,R){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,R={id:f++,callback:j,priorityLevel:R,startTime:B,expirationTime:G,sortIndex:-1},B>W?(R.sortIndex=B,e(c,R),n(l)===null&&R===n(c)&&(x?(p(T),T=-1):x=!0,H(b,B-W))):(R.sortIndex=G,e(l,R),v||g||(v=!0,z(w))),R},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(R){var j=h;return function(){var B=h;h=j;try{return R.apply(this,arguments)}finally{h=B}}}})(gxe);mxe.exports=gxe;var dZ=mxe.exports;const Wz={},vxe=t=>void Object.assign(Wz,t);function sEt(t,e){function n(f,{args:d=[],attach:h,...g},v){let x=`${f[0].toUpperCase()}${f.slice(1)}`,m;if(f==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const p=g.object;m=rg(p,{type:f,root:v,attach:h,primitive:!0})}else{const p=Wz[x];if(!p)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");m=rg(new p(...d),{type:f,root:v,attach:h,memoizedProps:{args:d}})}return m.__r3f.attach===void 0&&(m.isBufferGeometry?m.__r3f.attach="geometry":m.isMaterial&&(m.__r3f.attach="material")),x!=="inject"&&gj(m,g),m}function r(f,d){let h=!1;if(d){var g,v;(g=d.__r3f)!=null&&g.attach?mj(f,d,d.__r3f.attach):d.isObject3D&&f.isObject3D&&(f.add(d),h=!0),h||(v=f.__r3f)==null||v.objects.push(d),d.__r3f||rg(d,{}),d.__r3f.parent=f,qF(d),ig(d)}}function i(f,d,h){let g=!1;if(d){var v,x;if((v=d.__r3f)!=null&&v.attach)mj(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){d.parent=f,d.dispatchEvent({type:"added"}),f.dispatchEvent({type:"childadded",child:d});const m=f.children.filter(y=>y!==d),p=m.indexOf(h);f.children=[...m.slice(0,p),d,...m.slice(p)],g=!0}g||(x=f.__r3f)==null||x.objects.push(d),d.__r3f||rg(d,{}),d.__r3f.parent=f,qF(d),ig(d)}}function s(f,d,h=!1){f&&[...f].forEach(g=>o(d,g,h))}function o(f,d,h){if(d){var g,v,x;if(d.__r3f&&(d.__r3f.parent=null),(g=f.__r3f)!=null&&g.objects&&(f.__r3f.objects=f.__r3f.objects.filter(b=>b!==d)),(v=d.__r3f)!=null&&v.attach)gZ(f,d,d.__r3f.attach);else if(d.isObject3D&&f.isObject3D){var m;f.remove(d),(m=d.__r3f)!=null&&m.root&&hEt(rM(d),d)}const y=(x=d.__r3f)==null?void 0:x.primitive,_=!y&&(h===void 0?d.dispose!==null:h);if(!y){var p;s((p=d.__r3f)==null?void 0:p.objects,d,_),s(d.children,d,_)}if(delete d.__r3f,_&&d.dispose&&d.type!=="Scene"){const b=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?dZ.unstable_scheduleCallback(dZ.unstable_IdlePriority,b):b()}ig(f)}}function a(f,d,h,g){var v;const x=(v=f.__r3f)==null?void 0:v.parent;if(!x)return;const m=n(d,h,f.__r3f.root);if(f.children){for(const p of f.children)p.__r3f&&r(m,p);f.children=f.children.filter(p=>!p.__r3f)}f.__r3f.objects.forEach(p=>r(m,p)),f.__r3f.objects=[],f.__r3f.autoRemovedBeforeAppend||o(x,f),m.parent&&(m.__r3f.autoRemovedBeforeAppend=!0),r(x,m),m.raycast&&m.__r3f.eventCount&&rM(m).getState().internal.interaction.push(m),[g,g.alternate].forEach(p=>{p!==null&&(p.stateNode=m,p.ref&&(typeof p.ref=="function"?p.ref(m):p.ref.current=m))})}const l=()=>{};return{reconciler:iEt({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(f,d)=>{if(!d)return;const h=f.getState().scene;h.__r3f&&(h.__r3f.root=f,r(h,d))},removeChildFromContainer:(f,d)=>{d&&o(f.getState().scene,d)},insertInContainerBefore:(f,d,h)=>{if(!d||!h)return;const g=f.getState().scene;g.__r3f&&i(g,d,h)},getRootHostContext:()=>null,getChildHostContext:f=>f,finalizeInitialChildren(f){var d;return!!((d=f==null?void 0:f.__r3f)!=null?d:{}).handlers},prepareUpdate(f,d,h,g){var v;if(((v=f==null?void 0:f.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==f)return[!0];{const{args:m=[],children:p,...y}=g,{args:_=[],children:b,...w}=h;if(!Array.isArray(m))throw new Error("R3F: the args prop must be an array!");if(m.some((A,T)=>A!==_[T]))return[!0];const E=Cxe(f,y,w,!0);return E.changes.length?[!1,E]:null}},commitUpdate(f,[d,h],g,v,x,m){d?a(f,g,x,m):gj(f,h)},commitMount(f,d,h,g){var v;const x=(v=f.__r3f)!=null?v:{};f.raycast&&x.handlers&&x.eventCount&&rM(f).getState().internal.interaction.push(f)},getPublicInstance:f=>f,prepareForCommit:()=>null,preparePortalMount:f=>rg(f.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(f){var d;const{attach:h,parent:g}=(d=f.__r3f)!=null?d:{};h&&g&&gZ(g,f,h),f.isObject3D&&(f.visible=!1),ig(f)},unhideInstance(f,d){var h;const{attach:g,parent:v}=(h=f.__r3f)!=null?h:{};g&&v&&mj(v,f,g),(f.isObject3D&&d.visible==null||d.visible)&&(f.visible=!0),ig(f)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Ig.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&hr.fun(performance.now)?performance.now:hr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:hr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:hr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:gj}}var fZ,hZ;const pj=t=>"colorSpace"in t||"outputColorSpace"in t,yxe=()=>{var t;return(t=Wz.ColorManagement)!=null?t:null},xxe=t=>t&&t.isOrthographicCamera,oEt=t=>t&&t.hasOwnProperty("current"),T1=typeof window<"u"&&((fZ=window.document)!=null&&fZ.createElement||((hZ=window.navigator)==null?void 0:hZ.product)==="ReactNative")?M.useLayoutEffect:M.useEffect;function _xe(t){const e=M.useRef(t);return T1(()=>void(e.current=t),[t]),e}function aEt({set:t}){return T1(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class bxe extends M.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}bxe.getDerivedStateFromError=()=>({error:!0});const wxe="__default",pZ=new Map,lEt=t=>t&&!!t.memoized&&!!t.changes;function Sxe(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const A0=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function rM(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const hr={obj:t=>t===Object(t)&&!hr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(hr.str(t)||hr.num(t)||hr.boo(t))return t===e;const s=hr.obj(t);if(s&&r==="reference")return t===e;const o=hr.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!hr.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(hr.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function cEt(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function rg(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function GF(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const mZ=/-\d+$/;function mj(t,e,n){if(hr.str(n)){if(mZ.test(n)){const s=n.replace(mZ,""),{target:o,key:a}=GF(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=GF(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function gZ(t,e,n){var r,i;if(hr.str(n)){const{target:s,key:o}=GF(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function Cxe(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const f=t.__r3f,d=Object.entries(i),h=[];if(c){const v=Object.keys(l);for(let x=0;x<v.length;x++)i.hasOwnProperty(v[x])||d.unshift([v[x],wxe+"remove"])}d.forEach(([v,x])=>{var m;if((m=t.__r3f)!=null&&m.primitive&&v==="object"||hr.equ(x,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return h.push([v,x,!0,[]]);let p=[];v.includes("-")&&(p=v.split("-")),h.push([v,x,!1,p]);for(const y in i){const _=i[y];y.startsWith(`${v}-`)&&h.push([y,_,!1,y.split("-")])}});const g={...i};return f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f!=null&&f.memoizedProps&&f!=null&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:h}}const uEt=typeof process<"u"&&!1;function gj(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=lEt(e)?e:Cxe(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<a.length;h++){let[g,v,x,m]=a[h];if(pj(t)){const b="srgb",w="srgb-linear";g==="encoding"?(g="colorSpace",v=v===3001?b:w):g==="outputEncoding"&&(g="outputColorSpace",v=v===3001?b:w)}let p=t,y=p[g];if(m.length&&(y=m.reduce((_,b)=>_[b],t),!(y&&y.set))){const[_,...b]=m.reverse();p=b.reverse().reduce((w,E)=>w[E],t),g=_}if(v===wxe+"remove")if(p.constructor){let _=pZ.get(p.constructor);_||(_=new p.constructor,pZ.set(p.constructor,_)),v=_[g]}else v=0;if(x&&r)v?r.handlers[g]=v:delete r.handlers[g],r.eventCount=Object.keys(r.handlers).length;else if(y&&y.set&&(y.copy||y instanceof Jh)){if(Array.isArray(v))y.fromArray?y.fromArray(v):y.set(...v);else if(y.copy&&v&&v.constructor&&(uEt?y.constructor.name===v.constructor.name:y.constructor===v.constructor))y.copy(v);else if(v!==void 0){var c;const _=(c=y)==null?void 0:c.isColor;!_&&y.setScalar?y.setScalar(v):y instanceof Jh&&v instanceof Jh?y.mask=v.mask:y.set(v),!yxe()&&s&&!s.linear&&_&&y.convertSRGBToLinear()}}else{var f;if(p[g]=v,(f=p[g])!=null&&f.isTexture&&p[g].format===rs&&p[g].type===pa&&s){const _=p[g];pj(_)&&pj(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}ig(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=rM(t).getState().internal,g=h.interaction.indexOf(t);g>-1&&h.interaction.splice(g,1),r.eventCount&&h.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&qF(t),t}function ig(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function qF(t){t.onUpdate==null||t.onUpdate(t)}function dEt(t,e){t.manual||(xxe(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function mE(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function fEt(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Ig.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ig.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ig.ContinuousEventPriority;default:return Ig.DefaultEventPriority}}function Exe(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function hEt(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{Exe(n.capturedMap,e,r,i)})}function pEt(t){function e(l){const{internal:c}=t.getState(),f=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(f*f+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(f=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+f]}))}function r(l,c){const f=t.getState(),d=new Set,h=[],g=c?c(f.internal.interaction):f.internal.interaction;for(let p=0;p<g.length;p++){const y=A0(g[p]);y&&(y.raycaster.camera=void 0)}f.previousRoot||f.events.compute==null||f.events.compute(l,f);function v(p){const y=A0(p);if(!y||!y.events.enabled||y.raycaster.camera===null)return[];if(y.raycaster.camera===void 0){var _;y.events.compute==null||y.events.compute(l,y,(_=y.previousRoot)==null?void 0:_.getState()),y.raycaster.camera===void 0&&(y.raycaster.camera=null)}return y.raycaster.camera?y.raycaster.intersectObject(p,!0):[]}let x=g.flatMap(v).sort((p,y)=>{const _=A0(p.object),b=A0(y.object);return!_||!b?p.distance-y.distance:b.events.priority-_.events.priority||p.distance-y.distance}).filter(p=>{const y=mE(p);return d.has(y)?!1:(d.add(y),!0)});f.events.filter&&(x=f.events.filter(x,f));for(const p of x){let y=p.object;for(;y;){var m;(m=y.__r3f)!=null&&m.eventCount&&h.push({...p,eventObject:y}),y=y.parent}}if("pointerId"in l&&f.internal.capturedMap.has(l.pointerId))for(let p of f.internal.capturedMap.get(l.pointerId).values())d.has(mE(p.intersection))||h.push(p.intersection);return h}function i(l,c,f,d){const h=t.getState();if(l.length){const g={stopped:!1};for(const v of l){const x=A0(v.object)||h,{raycaster:m,pointer:p,camera:y,internal:_}=x,b=new ce(p.x,p.y,0).unproject(y),w=N=>{var O,I;return(O=(I=_.capturedMap.get(N))==null?void 0:I.has(v.eventObject))!=null?O:!1},E=N=>{const O={intersection:v,target:c.target};_.capturedMap.has(N)?_.capturedMap.get(N).set(v.eventObject,O):_.capturedMap.set(N,new Map([[v.eventObject,O]])),c.target.setPointerCapture(N)},A=N=>{const O=_.capturedMap.get(N);O&&Exe(_.capturedMap,v.eventObject,O,N)};let T={};for(let N in c){let O=c[N];typeof O!="function"&&(T[N]=O)}let P={...v,...T,pointer:p,intersections:l,stopped:g.stopped,delta:f,unprojectedPoint:b,ray:m.ray,camera:y,stopPropagation(){const N="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!N||N.has(v.eventObject))&&(P.stopped=g.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(O=>O.eventObject===v.eventObject))){const O=l.slice(0,l.indexOf(v));s([...O,v])}},target:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:A},currentTarget:{hasPointerCapture:w,setPointerCapture:E,releasePointerCapture:A},nativeEvent:c};if(d(P),g.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const f of c.hovered.values())if(!l.length||!l.find(d=>d.object===f.object&&d.index===f.index&&d.instanceId===f.instanceId)){const h=f.eventObject.__r3f,g=h==null?void 0:h.handlers;if(c.hovered.delete(mE(f)),h!=null&&h.eventCount){const v={...f,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function o(l,c){for(let f=0;f<c.length;f++){const d=c[f].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:f}=t.getState();"pointerId"in c&&f.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{f.capturedMap.has(c.pointerId)&&(f.capturedMap.delete(c.pointerId),s([]))})}}return function(f){const{onPointerMissed:d,internal:h}=t.getState();h.lastEvent.current=f;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",m=r(f,g?n:void 0),p=v?e(f):0;l==="onPointerDown"&&(h.initialClick=[f.offsetX,f.offsetY],h.initialHits=m.map(_=>_.eventObject)),v&&!m.length&&p<=2&&(o(f,h.interaction),d&&d(f)),g&&s(m);function y(_){const b=_.eventObject,w=b.__r3f,E=w==null?void 0:w.handlers;if(w!=null&&w.eventCount)if(g){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const A=mE(_),T=h.hovered.get(A);T?T.stopped&&_.stopPropagation():(h.hovered.set(A,_),E.onPointerOver==null||E.onPointerOver(_),E.onPointerEnter==null||E.onPointerEnter(_))}E.onPointerMove==null||E.onPointerMove(_)}else{const A=E[l];A?(!v||h.initialHits.includes(b))&&(o(f,h.interaction.filter(T=>!h.initialHits.includes(T))),A(_)):v&&h.initialHits.includes(b)&&o(f,h.interaction.filter(T=>!h.initialHits.includes(T)))}}i(m,f,p,y)}}return{handlePointer:a}}const Mxe=t=>!!(t!=null&&t.render),Axe=M.createContext(null),mEt=(t,e)=>{const n=JCt((a,l)=>{const c=new ce,f=new ce,d=new ce;function h(p=l().camera,y=f,_=l().size){const{width:b,height:w,top:E,left:A}=_,T=b/w;y.isVector3?d.copy(y):d.set(...y);const P=p.getWorldPosition(c).distanceTo(d);if(xxe(p))return{width:b/p.zoom,height:w/p.zoom,top:E,left:A,factor:1,distance:P,aspect:T};{const N=p.fov*Math.PI/180,O=2*Math.tan(N/2)*P,I=O*(b/w);return{width:I,height:O,top:E,left:A,factor:b/I,distance:P,aspect:T}}}let g;const v=p=>a(y=>({performance:{...y.performance,current:p}})),x=new He;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(p=1)=>t(l(),p),advance:(p,y)=>e(p,y,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new Bz,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const p=l();g&&clearTimeout(g),p.performance.current!==p.performance.min&&v(p.performance.min),g=setTimeout(()=>v(l().performance.max),p.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:p=>a(y=>({...y,events:{...y.events,...p}})),setSize:(p,y,_,b,w)=>{const E=l().camera,A={width:p,height:y,top:b||0,left:w||0,updateStyle:_};a(T=>({size:A,viewport:{...T.viewport,...h(E,f,A)}}))},setDpr:p=>a(y=>{const _=Sxe(p);return{viewport:{...y.viewport,dpr:_,initialDpr:y.viewport.initialDpr||_}}}),setFrameloop:(p="always")=>{const y=l().clock;y.stop(),y.elapsedTime=0,p!=="never"&&(y.start(),y.elapsedTime=0),a(()=>({frameloop:p}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:M.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(p,y,_)=>{const b=l().internal;return b.priority=b.priority+(y>0?1:0),b.subscribers.push({ref:p,priority:y,store:_}),b.subscribers=b.subscribers.sort((w,E)=>w.priority-E.priority),()=>{const w=l().internal;w!=null&&w.subscribers&&(w.priority=w.priority-(y>0?1:0),w.subscribers=w.subscribers.filter(E=>E.ref!==p))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:f,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var h;i=l,s=c.dpr,dEt(a,l),f.setPixelRatio(c.dpr);const g=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&f.domElement instanceof HTMLCanvasElement;f.setSize(l.width,l.height,g)}a!==o&&(o=a,d(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let gE,gEt=new Set,vEt=new Set,yEt=new Set;function vj(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function T0(t,e){switch(t){case"before":return vj(gEt,e);case"after":return vj(vEt,e);case"tail":return vj(yEt,e)}}let yj,xj;function _j(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),yj=e.internal.subscribers,gE=0;gE<yj.length;gE++)xj=yj[gE],xj.ref.current(xj.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function xEt(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,T0("before",c),n=!0;for(const d of t.values()){var f;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((f=s.gl.xr)!=null&&f.isPresenting)&&(r+=_j(c,s))}if(n=!1,T0("after",c),r===0)return T0("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,f=1){var d;if(!c)return t.forEach(h=>a(h.store.getState(),f));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(f>1?c.internal.frames=Math.min(60,c.internal.frames+f):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,f=!0,d,h){if(f&&T0("before",c),d)_j(c,d,h);else for(const g of t.values())_j(c,g.store.getState());f&&T0("after",c)}return{loop:o,invalidate:a,advance:l}}function Txe(){const t=M.useContext(Axe);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Dc(t=n=>n,e){return Txe()(t,e)}function oR(t,e=0){const n=Txe(),r=n.getState().internal.subscribe,i=_xe(t);return T1(()=>r(i,e,n),[e,r,n]),null}const My=new Map,{invalidate:vZ,advance:yZ}=xEt(My),{reconciler:cP,applyProps:Zm}=sEt(My,fEt),Qm={objects:"shallow",strict:!1},_Et=(t,e)=>{const n=typeof t=="function"?t(e):t;return Mxe(n)?n:new fxe({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function bEt(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function wEt(t){const e=My.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||mEt(vZ,yZ),o=n||cP.createContainer(s,Ig.ConcurrentRoot,null,!1,null,"",i,null);e||My.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(f={}){let{gl:d,size:h,scene:g,events:v,onCreated:x,shadows:m=!1,linear:p=!1,flat:y=!1,legacy:_=!1,orthographic:b=!1,frameloop:w="always",dpr:E=[1,2],performance:A,raycaster:T,camera:P,onPointerMissed:N}=f,O=s.getState(),I=O.gl;O.gl||O.set({gl:I=_Et(d,t)});let D=O.raycaster;D||O.set({raycaster:D=new ixe});const{params:F,...$}=T||{};if(hr.equ($,D,Qm)||Zm(D,{...$}),hr.equ(F,D.params,Qm)||Zm(D,{params:{...D.params,...F}}),!O.camera||O.camera===c&&!hr.equ(c,P,Qm)){c=P;const B=P instanceof _1,W=B?P:b?new Jl(0,0,0,0,.1,1e3):new Mr(75,0,.1,1e3);B||(W.position.z=5,P&&(Zm(W,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(W.manual=!0,W.updateProjectionMatrix())),!O.camera&&!(P!=null&&P.rotation)&&W.lookAt(0,0,0)),O.set({camera:W}),D.camera=W}if(!O.scene){let B;g!=null&&g.isScene?B=g:(B=new yz,g&&Zm(B,g)),O.set({scene:rg(B)})}if(!O.xr){var z;const B=(K,ie)=>{const le=s.getState();le.frameloop!=="never"&&yZ(K,!0,le,ie)},W=()=>{const K=s.getState();K.gl.xr.enabled=K.gl.xr.isPresenting,K.gl.xr.setAnimationLoop(K.gl.xr.isPresenting?B:null),K.gl.xr.isPresenting||vZ(K)},G={connect(){const K=s.getState().gl;K.xr.addEventListener("sessionstart",W),K.xr.addEventListener("sessionend",W)},disconnect(){const K=s.getState().gl;K.xr.removeEventListener("sessionstart",W),K.xr.removeEventListener("sessionend",W)}};typeof((z=I.xr)==null?void 0:z.addEventListener)=="function"&&G.connect(),O.set({xr:G})}if(I.shadowMap){const B=I.shadowMap.enabled,W=I.shadowMap.type;if(I.shadowMap.enabled=!!m,hr.boo(m))I.shadowMap.type=__;else if(hr.str(m)){var H;const G={basic:pve,percentage:TN,soft:__,variance:Ia};I.shadowMap.type=(H=G[m])!=null?H:__}else hr.obj(m)&&Object.assign(I.shadowMap,m);(B!==I.shadowMap.enabled||W!==I.shadowMap.type)&&(I.shadowMap.needsUpdate=!0)}const R=yxe();R&&("enabled"in R?R.enabled=!_:"legacyMode"in R&&(R.legacyMode=_)),l||Zm(I,{outputEncoding:p?3e3:3001,toneMapping:y?Zl:nz}),O.legacy!==_&&O.set(()=>({legacy:_})),O.linear!==p&&O.set(()=>({linear:p})),O.flat!==y&&O.set(()=>({flat:y})),d&&!hr.fun(d)&&!Mxe(d)&&!hr.equ(d,I,Qm)&&Zm(I,d),v&&!O.events.handlers&&O.set({events:v(s)});const j=bEt(t,h);return hr.equ(j,O.size,Qm)||O.setSize(j.width,j.height,j.updateStyle,j.top,j.left),E&&O.viewport.dpr!==Sxe(E)&&O.setDpr(E),O.frameloop!==w&&O.setFrameloop(w),O.onPointerMissed||O.set({onPointerMissed:N}),A&&!hr.equ(A,O.performance,Qm)&&O.set(B=>({performance:{...B.performance,...A}})),a=x,l=!0,this},render(f){return l||this.configure(),cP.updateContainer(u.jsx(SEt,{store:s,children:f,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){Pxe(t)}}}function SEt({store:t,children:e,onCreated:n,rootElement:r}){return T1(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),u.jsx(Axe.Provider,{value:t,children:e})}function Pxe(t,e){const n=My.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),cP.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),cEt(i),My.delete(t)}catch{}},500)})}}cP.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:M.version});const bj={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function CEt(t){const{handlePointer:e}=pEt(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(bj).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=bj[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=bj[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function xZ(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function EEt({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=M.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=M.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,f=M.useRef(!1);M.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[d,h,g]=M.useMemo(()=>{const p=()=>{if(!a.current.element)return;const{left:y,top:_,width:b,height:w,bottom:E,right:A,x:T,y:P}=a.current.element.getBoundingClientRect(),N={left:y,top:_,width:b,height:w,bottom:E,right:A,x:T,y:P};a.current.element instanceof HTMLElement&&r&&(N.height=a.current.element.offsetHeight,N.width=a.current.element.offsetWidth),Object.freeze(N),f.current&&!PEt(a.current.lastBounds,N)&&o(a.current.lastBounds=N)};return[p,c?xZ(p,c):p,l?xZ(p,l):p]},[o,r,l,c]);function v(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(p=>p.removeEventListener("scroll",g,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new i(g),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(p=>p.addEventListener("scroll",g,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const m=p=>{!p||p===a.current.element||(v(),a.current.element=p,a.current.scrollContainers=Nxe(p),x())};return AEt(g,!!e),MEt(h),M.useEffect(()=>{v(),x()},[e,g,h]),M.useEffect(()=>v,[]),[m,s,d]}function MEt(t){M.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function AEt(t,e){M.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Nxe(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...Nxe(t.parentElement)]}const TEt=["x","y","top","bottom","left","right","width","height"],PEt=(t,e)=>TEt.every(n=>t[n]===e[n]);var NEt=Object.defineProperty,REt=Object.defineProperties,kEt=Object.getOwnPropertyDescriptors,_Z=Object.getOwnPropertySymbols,OEt=Object.prototype.hasOwnProperty,IEt=Object.prototype.propertyIsEnumerable,bZ=(t,e,n)=>e in t?NEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,wZ=(t,e)=>{for(var n in e||(e={}))OEt.call(e,n)&&bZ(t,n,e[n]);if(_Z)for(var n of _Z(e))IEt.call(e,n)&&bZ(t,n,e[n]);return t},jEt=(t,e)=>REt(t,kEt(e)),SZ,CZ;typeof window<"u"&&((SZ=window.document)!=null&&SZ.createElement||((CZ=window.navigator)==null?void 0:CZ.product)==="ReactNative")?M.useLayoutEffect:M.useEffect;function Rxe(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=Rxe(r,e,n);if(i)return i;r=r.sibling}}function kxe(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const EZ=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=EZ;return}return EZ.apply(this,arguments)};const Gz=kxe(M.createContext(null));class Oxe extends M.Component{render(){return M.createElement(Gz.Provider,{value:this._reactInternals},this.props.children)}}function DEt(){const t=M.useContext(Gz);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=M.useId();return M.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=Rxe(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function LEt(){const t=DEt(),[e]=M.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==Gz&&!e.has(i)&&e.set(i,M.useContext(kxe(i)))}n=n.return}return e}function FEt(){const t=LEt();return M.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>M.createElement(e,null,M.createElement(n.Provider,jEt(wZ({},r),{value:t.get(n)}))),e=>M.createElement(Oxe,wZ({},e))),[t])}const BEt=M.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=CEt,eventSource:a,eventPrefix:l,shadows:c,linear:f,flat:d,legacy:h,orthographic:g,frameloop:v,dpr:x,performance:m,raycaster:p,camera:y,scene:_,onPointerMissed:b,onCreated:w,...E},A){M.useMemo(()=>vxe(YCt),[]);const T=FEt(),[P,N]=EEt({scroll:!0,debounce:{scroll:50,resize:0},...r}),O=M.useRef(null),I=M.useRef(null);M.useImperativeHandle(A,()=>O.current);const D=_xe(b),[F,$]=M.useState(!1),[z,H]=M.useState(!1);if(F)throw F;if(z)throw z;const R=M.useRef(null);T1(()=>{const B=O.current;N.width>0&&N.height>0&&B&&(R.current||(R.current=wEt(B)),R.current.configure({gl:s,events:o,shadows:c,linear:f,flat:d,legacy:h,orthographic:g,frameloop:v,dpr:x,performance:m,raycaster:p,camera:y,scene:_,size:N,onPointerMissed:(...W)=>D.current==null?void 0:D.current(...W),onCreated:W=>{W.events.connect==null||W.events.connect(a?oEt(a)?a.current:a:I.current),l&&W.setEvents({compute:(G,K)=>{const ie=G[l+"X"],le=G[l+"Y"];K.pointer.set(ie/K.size.width*2-1,-(le/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),w==null||w(W)}}),R.current.render(u.jsx(T,{children:u.jsx(bxe,{set:H,children:u.jsx(M.Suspense,{fallback:u.jsx(aEt,{set:$}),children:e??null})})})))}),M.useEffect(()=>{const B=O.current;if(B)return()=>Pxe(B)},[]);const j=a?"none":"auto";return u.jsx("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...E,children:u.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:u.jsx("canvas",{ref:O,style:{display:"block"},children:n})})})}),Ixe=M.forwardRef(function(e,n){return u.jsx(Oxe,{children:u.jsx(BEt,{...e,ref:n})})}),P1=new ce,qz=new ce,UEt=new ce,MZ=new He;function $Et(t,e,n){const r=P1.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function zEt(t,e){const n=P1.setFromMatrixPosition(t.matrixWorld),r=qz.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(UEt);return i.angleTo(s)>Math.PI/2}function HEt(t,e,n,r){const i=P1.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),MZ.set(s.x,s.y),n.setFromCamera(MZ,e);const o=n.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(n.ray.origin)<a}return!0}function VEt(t,e){if(e instanceof Jl)return e.zoom;if(e instanceof Mr){const n=P1.setFromMatrixPosition(t.matrixWorld),r=qz.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function WEt(t,e,n){if(e instanceof Mr||e instanceof Jl){const r=P1.setFromMatrixPosition(t.matrixWorld),i=qz.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(n[1]-n[0])/(e.far-e.near),a=n[1]-o*e.far;return Math.round(o*s+a)}}const KF=t=>Math.abs(t)<1e-10?0:t;function jxe(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=KF(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const GEt=(t=>e=>jxe(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),qEt=(t=>(e,n)=>jxe(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function KEt(t){return t&&typeof t=="object"&&"current"in t}const Kz=M.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:f=!1,occlude:d,onOcclude:h,castShadow:g,receiveShadow:v,material:x,geometry:m,zIndexRange:p=[16777271,0],calculatePosition:y=$Et,as:_="div",wrapperClass:b,pointerEvents:w="auto",...E},A)=>{const{gl:T,camera:P,scene:N,size:O,raycaster:I,events:D,viewport:F}=Dc(),[$]=M.useState(()=>document.createElement(_)),z=M.useRef(),H=M.useRef(null),R=M.useRef(0),j=M.useRef([0,0]),B=M.useRef(null),W=M.useRef(null),G=(a==null?void 0:a.current)||D.connected||T.domElement.parentNode,K=M.useRef(null),ie=M.useRef(!1),le=M.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&KEt(d[0]),[d]);M.useLayoutEffect(()=>{const te=T.domElement;d&&d==="blending"?(te.style.zIndex=`${Math.floor(p[0]/2)}`,te.style.position="absolute",te.style.pointerEvents="none"):(te.style.zIndex=null,te.style.position=null,te.style.pointerEvents=null)},[d]),M.useLayoutEffect(()=>{if(H.current){const te=z.current=H4($);if(N.updateMatrixWorld(),f)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ue=y(H.current,P,O);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ue[0]}px,${ue[1]}px,0);transform-origin:0 0;`}return G&&(i?G.prepend($):G.appendChild($)),()=>{G&&G.removeChild($),te.unmount()}}},[G,f]),M.useLayoutEffect(()=>{b&&($.className=b)},[b]);const J=M.useMemo(()=>f?{position:"absolute",top:0,left:0,width:O.width,height:O.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-O.height/2,left:-O.width/2,width:O.width,height:O.height},...n},[n,s,o,O,f]),U=M.useMemo(()=>({position:"absolute",pointerEvents:w}),[w]);M.useLayoutEffect(()=>{if(ie.current=!1,f){var te;(te=z.current)==null||te.render(M.createElement("div",{ref:B,style:J},M.createElement("div",{ref:W,style:U},M.createElement("div",{ref:A,className:r,style:n,children:t}))))}else{var ue;(ue=z.current)==null||ue.render(M.createElement("div",{ref:A,style:J,className:r,children:t}))}});const X=M.useRef(!0);oR(te=>{if(H.current){P.updateMatrixWorld(),H.current.updateWorldMatrix(!0,!1);const ue=f?j.current:y(H.current,P,O);if(f||Math.abs(R.current-P.zoom)>e||Math.abs(j.current[0]-ue[0])>e||Math.abs(j.current[1]-ue[1])>e){const ee=zEt(H.current,P);let Y=!1;le&&(Array.isArray(d)?Y=d.map(he=>he.current):d!=="blending"&&(Y=[N]));const se=X.current;if(Y){const he=HEt(H.current,P,I,Y);X.current=he&&!ee}else X.current=!ee;se!==X.current&&(h?h(!X.current):$.style.display=X.current?"block":"none");const re=Math.floor(p[0]/2),me=d?le?[p[0],re]:[re-1,0]:p;if($.style.zIndex=`${WEt(H.current,P,me)}`,f){const[he,Ae]=[O.width/2,O.height/2],Se=P.projectionMatrix.elements[5]*Ae,{isOrthographicCamera:Re,top:ot,left:rt,bottom:oe,right:Z}=P,ve=GEt(P.matrixWorldInverse),Ee=Re?`scale(${Se})translate(${KF(-(Z+rt)/2)}px,${KF((ot+oe)/2)}px)`:`translateZ(${Se}px)`;let je=H.current.matrixWorld;c&&(je=P.matrixWorldInverse.clone().transpose().copyPosition(je).scale(H.current.scale),je.elements[3]=je.elements[7]=je.elements[11]=0,je.elements[15]=1),$.style.width=O.width+"px",$.style.height=O.height+"px",$.style.perspective=Re?"":`${Se}px`,B.current&&W.current&&(B.current.style.transform=`${Ee}${ve}translate(${he}px,${Ae}px)`,W.current.style.transform=qEt(je,1/((l||10)/400)))}else{const he=l===void 0?1:VEt(H.current,P)*l;$.style.transform=`translate3d(${ue[0]}px,${ue[1]}px,0) scale(${he})`}j.current=ue,R.current=P.zoom}}if(!le&&K.current&&!ie.current)if(f){if(B.current){const ue=B.current.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const{isOrthographicCamera:ee}=P;if(ee||m)E.scale&&(Array.isArray(E.scale)?E.scale instanceof ce?K.current.scale.copy(E.scale.clone().divideScalar(1)):K.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):K.current.scale.setScalar(1/E.scale));else{const Y=(l||10)/400,se=ue.clientWidth*Y,re=ue.clientHeight*Y;K.current.scale.set(se,re,1)}ie.current=!0}}}else{const ue=$.children[0];if(ue!=null&&ue.clientWidth&&ue!=null&&ue.clientHeight){const ee=1/F.factor,Y=ue.clientWidth*ee,se=ue.clientHeight*ee;K.current.scale.set(Y,se,1),ie.current=!0}K.current.lookAt(te.camera.position)}});const Q=M.useMemo(()=>({vertexShader:f?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[f]);return M.createElement("group",xp({},E,{ref:H}),d&&!le&&M.createElement("mesh",{castShadow:g,receiveShadow:v,ref:K},m||M.createElement("planeGeometry",null),x||M.createElement("shaderMaterial",{side:Ga,vertexShader:Q.vertexShader,fragmentShader:Q.fragmentShader})))});var XEt=Object.defineProperty,YEt=(t,e,n)=>e in t?XEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ZEt=(t,e,n)=>(YEt(t,e+"",n),n);class QEt{constructor(){ZEt(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}var JEt=Object.defineProperty,eMt=(t,e,n)=>e in t?JEt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ut=(t,e,n)=>(eMt(t,typeof e!="symbol"?e+"":e,n),n);const vE=new Gp,AZ=new Ol,tMt=Math.cos(70*(Math.PI/180)),TZ=(t,e)=>(t%e+e)%e;let nMt=class extends QEt{constructor(e,n){super(),Ut(this,"object"),Ut(this,"domElement"),Ut(this,"enabled",!0),Ut(this,"target",new ce),Ut(this,"minDistance",0),Ut(this,"maxDistance",1/0),Ut(this,"minZoom",0),Ut(this,"maxZoom",1/0),Ut(this,"minPolarAngle",0),Ut(this,"maxPolarAngle",Math.PI),Ut(this,"minAzimuthAngle",-1/0),Ut(this,"maxAzimuthAngle",1/0),Ut(this,"enableDamping",!1),Ut(this,"dampingFactor",.05),Ut(this,"enableZoom",!0),Ut(this,"zoomSpeed",1),Ut(this,"enableRotate",!0),Ut(this,"rotateSpeed",1),Ut(this,"enablePan",!0),Ut(this,"panSpeed",1),Ut(this,"screenSpacePanning",!0),Ut(this,"keyPanSpeed",7),Ut(this,"zoomToCursor",!1),Ut(this,"autoRotate",!1),Ut(this,"autoRotateSpeed",2),Ut(this,"reverseOrbit",!1),Ut(this,"reverseHorizontalOrbit",!1),Ut(this,"reverseVerticalOrbit",!1),Ut(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ut(this,"mouseButtons",{LEFT:hh.ROTATE,MIDDLE:hh.DOLLY,RIGHT:hh.PAN}),Ut(this,"touches",{ONE:ph.ROTATE,TWO:ph.DOLLY_PAN}),Ut(this,"target0"),Ut(this,"position0"),Ut(this,"zoom0"),Ut(this,"_domElementKeyEvents",null),Ut(this,"getPolarAngle"),Ut(this,"getAzimuthalAngle"),Ut(this,"setPolarAngle"),Ut(this,"setAzimuthalAngle"),Ut(this,"getDistance"),Ut(this,"getZoomScale"),Ut(this,"listenToKeyEvents"),Ut(this,"stopListenToKeyEvents"),Ut(this,"saveState"),Ut(this,"reset"),Ut(this,"update"),Ut(this,"connect"),Ut(this,"dispose"),Ut(this,"dollyIn"),Ut(this,"dollyOut"),Ut(this,"getScale"),Ut(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>f.phi,this.getAzimuthalAngle=()=>f.theta,this.setPolarAngle=pe=>{let Me=TZ(pe,2*Math.PI),Je=f.phi;Je<0&&(Je+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let de=Math.abs(Me-Je);2*Math.PI-de<de&&(Me<Je?Me+=2*Math.PI:Je+=2*Math.PI),d.phi=Me-Je,r.update()},this.setAzimuthalAngle=pe=>{let Me=TZ(pe,2*Math.PI),Je=f.theta;Je<0&&(Je+=2*Math.PI),Me<0&&(Me+=2*Math.PI);let de=Math.abs(Me-Je);2*Math.PI-de<de&&(Me<Je?Me+=2*Math.PI:Je+=2*Math.PI),d.theta=Me-Je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=pe=>{pe.addEventListener("keydown",Te),this._domElementKeyEvents=pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Te),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const pe=new ce,Me=new ce(0,1,0),Je=new as().setFromUnitVectors(e.up,Me),de=Je.clone().invert(),ke=new ce,$e=new as,Ge=2*Math.PI;return function(){const Le=r.object.position;Je.setFromUnitVectors(e.up,Me),de.copy(Je).invert(),pe.copy(Le).sub(r.target),pe.applyQuaternion(Je),f.setFromVector3(pe),r.autoRotate&&l===a.NONE&&F(I()),r.enableDamping?(f.theta+=d.theta*r.dampingFactor,f.phi+=d.phi*r.dampingFactor):(f.theta+=d.theta,f.phi+=d.phi);let et=r.minAzimuthAngle,vt=r.maxAzimuthAngle;isFinite(et)&&isFinite(vt)&&(et<-Math.PI?et+=Ge:et>Math.PI&&(et-=Ge),vt<-Math.PI?vt+=Ge:vt>Math.PI&&(vt-=Ge),et<=vt?f.theta=Math.max(et,Math.min(vt,f.theta)):f.theta=f.theta>(et+vt)/2?Math.max(et,f.theta):Math.min(vt,f.theta)),f.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,f.phi)),f.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&P||r.object.isOrthographicCamera?f.radius=K(f.radius):f.radius=K(f.radius*h),pe.setFromSpherical(f),pe.applyQuaternion(de),Le.copy(r.target).add(pe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),g.set(0,0,0));let zt=!1;if(r.zoomToCursor&&P){let qt=null;if(r.object instanceof Mr&&r.object.isPerspectiveCamera){const Gn=pe.length();qt=K(Gn*h);const Un=Gn-qt;r.object.position.addScaledVector(A,Un),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Gn=new ce(T.x,T.y,0);Gn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),zt=!0;const Un=new ce(T.x,T.y,0);Un.unproject(r.object),r.object.position.sub(Un).add(Gn),r.object.updateMatrixWorld(),qt=pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;qt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(qt).add(r.object.position):(vE.origin.copy(r.object.position),vE.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(vE.direction))<tMt?e.lookAt(r.target):(AZ.setFromNormalAndCoplanarPoint(r.object.up,r.target),vE.intersectPlane(AZ,r.target))))}else r.object instanceof Jl&&r.object.isOrthographicCamera&&(zt=h!==1,zt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,P=!1,zt||ke.distanceToSquared(r.object.position)>c||8*(1-$e.dot(r.object.quaternion))>c?(r.dispatchEvent(i),ke.copy(r.object.position),$e.copy(r.object.quaternion),zt=!1,!0):!1}})(),this.connect=pe=>{r.domElement=pe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",lt),r.domElement.addEventListener("pointerdown",rt),r.domElement.addEventListener("pointercancel",Z),r.domElement.addEventListener("wheel",je)},this.dispose=()=>{var pe,Me,Je,de,ke,$e;r.domElement&&(r.domElement.style.touchAction="auto"),(pe=r.domElement)==null||pe.removeEventListener("contextmenu",lt),(Me=r.domElement)==null||Me.removeEventListener("pointerdown",rt),(Je=r.domElement)==null||Je.removeEventListener("pointercancel",Z),(de=r.domElement)==null||de.removeEventListener("wheel",je),(ke=r.domElement)==null||ke.ownerDocument.removeEventListener("pointermove",oe),($e=r.domElement)==null||$e.ownerDocument.removeEventListener("pointerup",Z),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Te)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,f=new zF,d=new zF;let h=1;const g=new ce,v=new He,x=new He,m=new He,p=new He,y=new He,_=new He,b=new He,w=new He,E=new He,A=new ce,T=new He;let P=!1;const N=[],O={};function I(){return 2*Math.PI/60/60*r.autoRotateSpeed}function D(){return Math.pow(.95,r.zoomSpeed)}function F(pe){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=pe:d.theta-=pe}function $(pe){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=pe:d.phi-=pe}const z=(()=>{const pe=new ce;return function(Je,de){pe.setFromMatrixColumn(de,0),pe.multiplyScalar(-Je),g.add(pe)}})(),H=(()=>{const pe=new ce;return function(Je,de){r.screenSpacePanning===!0?pe.setFromMatrixColumn(de,1):(pe.setFromMatrixColumn(de,0),pe.crossVectors(r.object.up,pe)),pe.multiplyScalar(Je),g.add(pe)}})(),R=(()=>{const pe=new ce;return function(Je,de){const ke=r.domElement;if(ke&&r.object instanceof Mr&&r.object.isPerspectiveCamera){const $e=r.object.position;pe.copy($e).sub(r.target);let Ge=pe.length();Ge*=Math.tan(r.object.fov/2*Math.PI/180),z(2*Je*Ge/ke.clientHeight,r.object.matrix),H(2*de*Ge/ke.clientHeight,r.object.matrix)}else ke&&r.object instanceof Jl&&r.object.isOrthographicCamera?(z(Je*(r.object.right-r.object.left)/r.object.zoom/ke.clientWidth,r.object.matrix),H(de*(r.object.top-r.object.bottom)/r.object.zoom/ke.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(pe){r.object instanceof Mr&&r.object.isPerspectiveCamera||r.object instanceof Jl&&r.object.isOrthographicCamera?h=pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function B(pe){j(h/pe)}function W(pe){j(h*pe)}function G(pe){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Me=r.domElement.getBoundingClientRect(),Je=pe.clientX-Me.left,de=pe.clientY-Me.top,ke=Me.width,$e=Me.height;T.x=Je/ke*2-1,T.y=-(de/$e)*2+1,A.set(T.x,T.y,1).unproject(r.object).sub(r.object.position).normalize()}function K(pe){return Math.max(r.minDistance,Math.min(r.maxDistance,pe))}function ie(pe){v.set(pe.clientX,pe.clientY)}function le(pe){G(pe),b.set(pe.clientX,pe.clientY)}function J(pe){p.set(pe.clientX,pe.clientY)}function U(pe){x.set(pe.clientX,pe.clientY),m.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Me=r.domElement;Me&&(F(2*Math.PI*m.x/Me.clientHeight),$(2*Math.PI*m.y/Me.clientHeight)),v.copy(x),r.update()}function X(pe){w.set(pe.clientX,pe.clientY),E.subVectors(w,b),E.y>0?B(D()):E.y<0&&W(D()),b.copy(w),r.update()}function Q(pe){y.set(pe.clientX,pe.clientY),_.subVectors(y,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(y),r.update()}function te(pe){G(pe),pe.deltaY<0?W(D()):pe.deltaY>0&&B(D()),r.update()}function ue(pe){let Me=!1;switch(pe.code){case r.keys.UP:R(0,r.keyPanSpeed),Me=!0;break;case r.keys.BOTTOM:R(0,-r.keyPanSpeed),Me=!0;break;case r.keys.LEFT:R(r.keyPanSpeed,0),Me=!0;break;case r.keys.RIGHT:R(-r.keyPanSpeed,0),Me=!0;break}Me&&(pe.preventDefault(),r.update())}function ee(){if(N.length==1)v.set(N[0].pageX,N[0].pageY);else{const pe=.5*(N[0].pageX+N[1].pageX),Me=.5*(N[0].pageY+N[1].pageY);v.set(pe,Me)}}function Y(){if(N.length==1)p.set(N[0].pageX,N[0].pageY);else{const pe=.5*(N[0].pageX+N[1].pageX),Me=.5*(N[0].pageY+N[1].pageY);p.set(pe,Me)}}function se(){const pe=N[0].pageX-N[1].pageX,Me=N[0].pageY-N[1].pageY,Je=Math.sqrt(pe*pe+Me*Me);b.set(0,Je)}function re(){r.enableZoom&&se(),r.enablePan&&Y()}function me(){r.enableZoom&&se(),r.enableRotate&&ee()}function he(pe){if(N.length==1)x.set(pe.pageX,pe.pageY);else{const Je=Tt(pe),de=.5*(pe.pageX+Je.x),ke=.5*(pe.pageY+Je.y);x.set(de,ke)}m.subVectors(x,v).multiplyScalar(r.rotateSpeed);const Me=r.domElement;Me&&(F(2*Math.PI*m.x/Me.clientHeight),$(2*Math.PI*m.y/Me.clientHeight)),v.copy(x)}function Ae(pe){if(N.length==1)y.set(pe.pageX,pe.pageY);else{const Me=Tt(pe),Je=.5*(pe.pageX+Me.x),de=.5*(pe.pageY+Me.y);y.set(Je,de)}_.subVectors(y,p).multiplyScalar(r.panSpeed),R(_.x,_.y),p.copy(y)}function Se(pe){const Me=Tt(pe),Je=pe.pageX-Me.x,de=pe.pageY-Me.y,ke=Math.sqrt(Je*Je+de*de);w.set(0,ke),E.set(0,Math.pow(w.y/b.y,r.zoomSpeed)),B(E.y),b.copy(w)}function Re(pe){r.enableZoom&&Se(pe),r.enablePan&&Ae(pe)}function ot(pe){r.enableZoom&&Se(pe),r.enableRotate&&he(pe)}function rt(pe){var Me,Je;r.enabled!==!1&&(N.length===0&&((Me=r.domElement)==null||Me.ownerDocument.addEventListener("pointermove",oe),(Je=r.domElement)==null||Je.ownerDocument.addEventListener("pointerup",Z)),Ye(pe),pe.pointerType==="touch"?ct(pe):ve(pe))}function oe(pe){r.enabled!==!1&&(pe.pointerType==="touch"?We(pe):Ee(pe))}function Z(pe){var Me,Je,de;Ve(pe),N.length===0&&((Me=r.domElement)==null||Me.releasePointerCapture(pe.pointerId),(Je=r.domElement)==null||Je.ownerDocument.removeEventListener("pointermove",oe),(de=r.domElement)==null||de.ownerDocument.removeEventListener("pointerup",Z)),r.dispatchEvent(o),l=a.NONE}function ve(pe){let Me;switch(pe.button){case 0:Me=r.mouseButtons.LEFT;break;case 1:Me=r.mouseButtons.MIDDLE;break;case 2:Me=r.mouseButtons.RIGHT;break;default:Me=-1}switch(Me){case hh.DOLLY:if(r.enableZoom===!1)return;le(pe),l=a.DOLLY;break;case hh.ROTATE:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enablePan===!1)return;J(pe),l=a.PAN}else{if(r.enableRotate===!1)return;ie(pe),l=a.ROTATE}break;case hh.PAN:if(pe.ctrlKey||pe.metaKey||pe.shiftKey){if(r.enableRotate===!1)return;ie(pe),l=a.ROTATE}else{if(r.enablePan===!1)return;J(pe),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Ee(pe){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;U(pe);break;case a.DOLLY:if(r.enableZoom===!1)return;X(pe);break;case a.PAN:if(r.enablePan===!1)return;Q(pe);break}}function je(pe){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(pe.preventDefault(),r.dispatchEvent(s),te(pe),r.dispatchEvent(o))}function Te(pe){r.enabled===!1||r.enablePan===!1||ue(pe)}function ct(pe){switch(at(pe),N.length){case 1:switch(r.touches.ONE){case ph.ROTATE:if(r.enableRotate===!1)return;ee(),l=a.TOUCH_ROTATE;break;case ph.PAN:if(r.enablePan===!1)return;Y(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case ph.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;re(),l=a.TOUCH_DOLLY_PAN;break;case ph.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;me(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function We(pe){switch(at(pe),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;he(pe),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Ae(pe),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Re(pe),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ot(pe),r.update();break;default:l=a.NONE}}function lt(pe){r.enabled!==!1&&pe.preventDefault()}function Ye(pe){N.push(pe)}function Ve(pe){delete O[pe.pointerId];for(let Me=0;Me<N.length;Me++)if(N[Me].pointerId==pe.pointerId){N.splice(Me,1);return}}function at(pe){let Me=O[pe.pointerId];Me===void 0&&(Me=new He,O[pe.pointerId]=Me),Me.set(pe.pageX,pe.pageY)}function Tt(pe){const Me=pe.pointerId===N[0].pointerId?N[1]:N[0];return O[Me.pointerId]}this.dollyIn=(pe=D())=>{W(pe),r.update()},this.dollyOut=(pe=D())=>{B(pe),r.update()},this.getScale=()=>h,this.setScale=pe=>{j(pe),r.update()},this.getZoomScale=()=>D(),n!==void 0&&this.connect(n),this.update()}};function rMt(t,e,n,r){const i=class extends ma{constructor(o={}){const a=Object.entries(t);super({uniforms:a.reduce((l,[c,f])=>{const d=vz.clone({[c]:{value:f}});return{...l,...d}},{}),vertexShader:e,fragmentShader:n}),this.key="",a.forEach(([l])=>Object.defineProperty(this,l,{get:()=>this.uniforms[l].value,set:c=>this.uniforms[l].value=c})),Object.assign(this,o)}};return i.key=tye.generateUUID(),i}const iMt=()=>parseInt(v1.replace(/\D+/g,"")),sMt=iMt(),Dxe=M.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},f)=>{const d=Dc(E=>E.invalidate),h=Dc(E=>E.camera),g=Dc(E=>E.gl),v=Dc(E=>E.events),x=Dc(E=>E.setEvents),m=Dc(E=>E.set),p=Dc(E=>E.get),y=Dc(E=>E.performance),_=e||h,b=r||v.connected||g.domElement,w=M.useMemo(()=>new nMt(_),[_]);return oR(()=>{w.enabled&&w.update()},-1),M.useEffect(()=>(s&&w.connect(s===!0?b:s),w.connect(b),()=>void w.dispose()),[s,b,n,w,d]),M.useEffect(()=>{const E=P=>{d(),n&&y.regress(),o&&o(P)},A=P=>{a&&a(P)},T=P=>{l&&l(P)};return w.addEventListener("change",E),w.addEventListener("start",A),w.addEventListener("end",T),()=>{w.removeEventListener("start",A),w.removeEventListener("end",T),w.removeEventListener("change",E)}},[o,a,l,w,d,x]),M.useEffect(()=>{if(t){const E=p().controls;return m({controls:w}),()=>m({controls:E})}},[t,w]),M.createElement("primitive",xp({ref:f,object:w,enableDamping:i},c))}),oMt=rMt({cellSize:.5,sectionSize:1,fadeDistance:100,fadeStrength:1,fadeFrom:1,cellThickness:.5,sectionThickness:1,cellColor:new gt,sectionColor:new gt,infiniteGrid:!1,followCamera:!1,worldCamProjPosition:new ce,worldPlanePosition:new ce},`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform vec3 worldPlanePosition;
    uniform float fadeDistance;
    uniform bool infiniteGrid;
    uniform bool followCamera;

    void main() {
      localPosition = position.xzy;
      if (infiniteGrid) localPosition *= 1.0 + fadeDistance;
      
      worldPosition = modelMatrix * vec4(localPosition, 1.0);
      if (followCamera) {
        worldPosition.xyz += (worldCamProjPosition - worldPlanePosition);
        localPosition = (inverse(modelMatrix) * worldPosition).xyz;
      }

      gl_Position = projectionMatrix * viewMatrix * worldPosition;
    }
  `,`
    varying vec3 localPosition;
    varying vec4 worldPosition;

    uniform vec3 worldCamProjPosition;
    uniform float cellSize;
    uniform float sectionSize;
    uniform vec3 cellColor;
    uniform vec3 sectionColor;
    uniform float fadeDistance;
    uniform float fadeStrength;
    uniform float fadeFrom;
    uniform float cellThickness;
    uniform float sectionThickness;

    float getGrid(float size, float thickness) {
      vec2 r = localPosition.xz / size;
      vec2 grid = abs(fract(r - 0.5) - 0.5) / fwidth(r);
      float line = min(grid.x, grid.y) + 1.0 - thickness;
      return 1.0 - min(line, 1.0);
    }

    void main() {
      float g1 = getGrid(cellSize, cellThickness);
      float g2 = getGrid(sectionSize, sectionThickness);

      vec3 from = worldCamProjPosition*vec3(fadeFrom);
      float dist = distance(from, worldPosition.xyz);
      float d = 1.0 - min(dist / fadeDistance, 1.0);
      vec3 color = mix(cellColor, sectionColor, min(1.0, sectionThickness * g2));

      gl_FragColor = vec4(color, (g1 + g2) * pow(d, fadeStrength));
      gl_FragColor.a = mix(0.75 * gl_FragColor.a, gl_FragColor.a, g2);
      if (gl_FragColor.a <= 0.0) discard;

      #include <tonemapping_fragment>
      #include <${sMt>=154?"colorspace_fragment":"encodings_fragment"}>
    }
  `),aMt=M.forwardRef(({args:t,cellColor:e="#000000",sectionColor:n="#2080ff",cellSize:r=.5,sectionSize:i=1,followCamera:s=!1,infiniteGrid:o=!1,fadeDistance:a=100,fadeStrength:l=1,fadeFrom:c=1,cellThickness:f=.5,sectionThickness:d=1,side:h=os,...g},v)=>{vxe({GridMaterial:oMt});const x=M.useRef(null);M.useImperativeHandle(v,()=>x.current,[]);const m=new Ol,p=new ce(0,1,0),y=new ce(0,0,0);oR(w=>{m.setFromNormalAndCoplanarPoint(p,y).applyMatrix4(x.current.matrixWorld);const E=x.current.material,A=E.uniforms.worldCamProjPosition,T=E.uniforms.worldPlanePosition;m.projectPoint(w.camera.position,A.value),T.value.set(0,0,0).applyMatrix4(x.current.matrixWorld)});const _={cellSize:r,sectionSize:i,cellColor:e,sectionColor:n,cellThickness:f,sectionThickness:d},b={fadeDistance:a,fadeStrength:l,fadeFrom:c,infiniteGrid:o,followCamera:s};return M.createElement("mesh",xp({ref:x,frustumCulled:!1},g),M.createElement("gridMaterial",xp({transparent:!0,"extensions-derivatives":!0,side:h},_,b)),M.createElement("planeGeometry",{args:t}))});function Lxe(t,e){const n=t+"Geometry";return M.forwardRef(({args:r,children:i,...s},o)=>{const a=M.useRef(null);return M.useImperativeHandle(o,()=>a.current),M.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),M.createElement("mesh",xp({ref:a},s),M.createElement(n,{attach:"geometry",args:r}),i)})}const lMt=Lxe("box"),Fxe=Lxe("sphere");function cMt(){return u.jsxs("mesh",{children:[u.jsx("boxGeometry",{args:[2,2,2]}),u.jsx("meshStandardMaterial",{color:"hsl(var(--primary))"})]})}function uMt(){const[t,e]=M.useState("1"),{data:n}=gn({queryKey:["/api/devices"],queryFn:async()=>{const h=await fetch("/api/devices");if(!h.ok)throw new Error("Network response was not ok");return h.json()}}),{toast:r}=wf(),i=Ni(),s=Ft({mutationFn:async h=>{const g=await fetch(`/api/devices/${h}/connect`,{method:"POST"});if(!g.ok)throw new Error("Failed to connect to device");return g.json()},onSuccess:()=>{r({title:"Device Connected",description:"Successfully connected to device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:h=>{r({title:"Error",description:`Failed to connect: ${h.message}`,variant:"destructive"})}}),o=Ft({mutationFn:async h=>{const g=await fetch(`/api/devices/${h}/disconnect`,{method:"POST"});if(!g.ok)throw new Error("Failed to disconnect from device");return g.json()},onSuccess:()=>{r({title:"Device Disconnected",description:"Successfully disconnected from device."}),i.invalidateQueries({queryKey:["/api/devices"]})},onError:h=>{r({title:"Error",description:`Failed to disconnect: ${h.message}`,variant:"destructive"})}});Ft({mutationFn:async({deviceId:h,command:g})=>{const v=await fetch(`/api/devices/${h}/command`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({command:g})});if(!v.ok)throw new Error("Failed to send command");return v.json()},onSuccess:()=>{r({title:"Command Sent",description:"Command successfully sent to device."})},onError:h=>{r({title:"Error",description:`Failed to send command: ${h.message}`,variant:"destructive"})}});const a=Ft({mutationFn:async({deviceId:h,file:g})=>{const v=new FormData;v.append("file",g);const x=await fetch(`/api/devices/${h}/upload`,{method:"POST",body:v});if(!x.ok)throw new Error("Failed to upload file");return x.json()},onSuccess:()=>{r({title:"File Uploaded",description:"File successfully uploaded to device."})},onError:h=>{r({title:"Error",description:`Failed to upload file: ${h.message}`,variant:"destructive"})}}),[l,c]=M.useState({}),[f,d]=M.useState([]);return M.useEffect(()=>{if(!t)return;const h=window.location.protocol==="https:"?"wss:":"ws:",g=localStorage.getItem("access_token"),v=new WebSocket(`${h}//${window.location.host}/ws/telemetry/${t}?token=${g}`);return v.onopen=()=>{console.log(`Telemetry WebSocket connected for device ${t}`),d(x=>[...x,`[${new Date().toLocaleTimeString()}] Connected to telemetry stream.`])},v.onmessage=x=>{const m=JSON.parse(x.data);m.type==="telemetry"?c(m.payload):m.type==="log"&&d(p=>[...p,`[${new Date().toLocaleTimeString()}] ${m.payload}`])},v.onclose=()=>{console.log(`Telemetry WebSocket disconnected for device ${t}`),d(x=>[...x,`[${new Date().toLocaleTimeString()}] Disconnected from telemetry stream.`])},v.onerror=x=>{console.error(`Telemetry WebSocket error for device ${t}:`,x),d(m=>[...m,`[${new Date().toLocaleTimeString()}] Telemetry stream error.`])},()=>{v.close(),c({}),d([])}},[t]),u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Ja,{className:"h-5 w-5 text-primary"}),"Device Control Center"]}),u.jsx(Et,{children:"Monitor and control connected hardware devices"})]}),u.jsx(Ke,{children:u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:n==null?void 0:n.map(h=>u.jsxs(Be,{className:`cursor-pointer hover-elevate ${t===h.id?"border-primary":""}`,onClick:()=>e(h.id),"data-testid":`card-device-${h.id}`,children:[u.jsxs(Xe,{className:"pb-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(qe,{className:"text-sm",children:h.name}),u.jsx(nv,{status:h.status,size:"sm"})]}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(ln,{variant:"outline",className:"text-xs",children:h.type.toUpperCase()}),h.port&&u.jsx("span",{className:"text-xs text-muted-foreground font-mono",children:h.port})]})]}),u.jsx(Ke,{className:"flex justify-end gap-2",children:h.status==="connected"?u.jsx(Ce,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),o.mutate(h.id)},disabled:o.isPending,children:o.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):"Disconnect"}):u.jsx(Ce,{variant:"outline",size:"sm",onClick:g=>{g.stopPropagation(),s.mutate(h.id)},disabled:s.isPending,children:s.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):"Connect"})}),h.lastSeen&&u.jsx(Ke,{children:u.jsxs("div",{className:"text-xs text-muted-foreground",children:["Last seen: ",new Date(h.lastSeen).toLocaleString()]})})]},h.id))})})]}),u.jsxs(pc,{defaultValue:"3d",children:[u.jsxs(ml,{className:"grid w-full grid-cols-3",children:[u.jsxs(lr,{value:"3d","data-testid":"tab-3d-viewer",children:[u.jsx(K_,{className:"h-4 w-4 mr-2"}),"3D Viewer"]}),u.jsxs(lr,{value:"telemetry","data-testid":"tab-telemetry",children:[u.jsx(Kr,{className:"h-4 w-4 mr-2"}),"Telemetry"]}),u.jsxs(lr,{value:"upload","data-testid":"tab-upload",children:[u.jsx(Wg,{className:"h-4 w-4 mr-2"}),"Upload"]})]}),u.jsx(xn,{value:"3d",className:"mt-4",children:u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"3D Model Viewer"}),u.jsx(Et,{children:"Preview CAD/CAM designs and G-code toolpaths"})]}),u.jsxs(Ke,{children:[u.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border overflow-hidden",children:u.jsx(Ixe,{camera:{position:[5,5,5]},children:u.jsxs(M.Suspense,{fallback:null,children:[u.jsx("ambientLight",{intensity:.5}),u.jsx("directionalLight",{position:[10,10,5],intensity:1}),u.jsx(cMt,{}),u.jsx(aMt,{args:[10,10],cellColor:"hsl(var(--muted-foreground))",sectionColor:"hsl(var(--primary))"}),u.jsx(Dxe,{enablePan:!0,enableZoom:!0,enableRotate:!0})]})})}),u.jsxs("div",{className:"flex gap-2 mt-4",children:[u.jsx(Ce,{variant:"outline",size:"sm",children:"Load STL"}),u.jsx(Ce,{variant:"outline",size:"sm",children:"Load OBJ"}),u.jsx(Ce,{variant:"outline",size:"sm",children:"Load G-Code"}),u.jsx(Ce,{variant:"outline",size:"sm",className:"ml-auto",children:"Reset View"})]})]})]})}),u.jsx(xn,{value:"telemetry",className:"mt-4",children:u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Live Telemetry"}),u.jsx(Et,{children:"Real-time device metrics and sensor data"})]}),u.jsxs(Ke,{children:[u.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Temperature"}),u.jsx("div",{className:"text-2xl font-bold mt-1",children:l.temperature?`${l.temperature}C`:"N/A"})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Speed"}),u.jsx("div",{className:"text-2xl font-bold mt-1",children:l.speed?`${l.speed} RPM`:"N/A"})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Position X"}),u.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionX!==void 0?l.positionX:"N/A"})]}),u.jsxs("div",{className:"p-4 border rounded-lg",children:[u.jsx("div",{className:"text-sm text-muted-foreground",children:"Position Y"}),u.jsx("div",{className:"text-2xl font-bold mt-1 font-mono",children:l.positionY!==void 0?l.positionY:"N/A"})]})]}),u.jsx("div",{className:"mt-4 p-4 bg-background/50 rounded-lg font-mono text-xs space-y-1 h-48 overflow-y-auto",children:f.map((h,g)=>u.jsx("div",{children:h},g))})]})]})}),u.jsx(xn,{value:"upload",className:"mt-4",children:u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Upload to Device"}),u.jsx(Et,{children:"Upload G-code or firmware to connected device"})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsx("input",{type:"file",id:"file-upload",className:"hidden",onChange:h=>{h.target.files&&h.target.files[0]&&t&&a.mutate({deviceId:t,file:h.target.files[0]})}}),u.jsxs("label",{htmlFor:"file-upload",className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer block",children:[u.jsx(Wg,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Drop G-code or firmware file here, or click to select"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports .gcode, .nc, .hex, .bin formats"})]}),u.jsxs(Ce,{className:"w-full","data-testid":"button-upload-to-device",onClick:()=>{const h=document.getElementById("file-upload");h&&h.click()},disabled:!t||a.isPending,children:[a.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Wg,{className:"h-4 w-4 mr-2"}),"Upload to Device"]})]})]})})]})]})}const Bxe=[{id:"1",name:"Workflow: Data Pipeline",type:"workflow",status:"running",progress:67,createdAt:new Date(Date.now()-18e5)},{id:"2",name:"Model Training: GPT Fine-tune",type:"training",status:"pending",progress:0,createdAt:new Date(Date.now()-3e5)},{id:"3",name:"Data Processing: Cleanup",type:"data",status:"completed",progress:100,createdAt:new Date(Date.now()-72e5)},{id:"4",name:"Device Sync: CNC-01",type:"device",status:"running",progress:45,createdAt:new Date(Date.now()-9e5)}],dMt=[{id:"1",name:"GPT-4",provider:"openai",type:"chat",isActive:!0,reasoning:!0,role:"conversation"},{id:"2",name:"Claude-3.5-Sonnet",provider:"anthropic",type:"chat",isActive:!0,reasoning:!0,role:"reasoning"},{id:"3",name:"Codestral",provider:"mistral",type:"code",isActive:!0,reasoning:!1,role:"code_generation"},{id:"4",name:"Gemini-Pro",provider:"google",type:"chat",isActive:!0,reasoning:!1,role:"summarization"},{id:"5",name:"Llama-3-70B",provider:"meta",type:"chat",isActive:!1,reasoning:!1,role:"general"},{id:"6",name:"Mixtral-8x7B",provider:"mistral",type:"chat",isActive:!0,reasoning:!1,role:"intent_detection"},{id:"7",name:"Command-R",provider:"cohere",type:"chat",isActive:!0,reasoning:!1,role:"shell_conversion"}],Uxe={tokenUsage:[{date:"2024-01-01",tokens:125e3},{date:"2024-01-02",tokens:142e3},{date:"2024-01-03",tokens:138e3},{date:"2024-01-04",tokens:156e3},{date:"2024-01-05",tokens:149e3},{date:"2024-01-06",tokens:167e3},{date:"2024-01-07",tokens:171e3}],modelUsage:[{model:"GPT-4",count:1543},{model:"Claude-3.5",count:892},{model:"Gemini-Pro",count:654},{model:"Codestral",count:421},{model:"Mixtral",count:234}],systemMetrics:{cpu:[65,72,68,75,71,69,73,70,68,74],memory:[78,81,79,82,80,83,81,79,82,80],network:[42,38,45,41,39,43,40,44,42,38]}};function fMt(){const{data:t}=gn({queryKey:["/api/telemetry"],initialData:Uxe}),{data:e}=gn({queryKey:["/api/jobs"],initialData:Bxe}),n=t.systemMetrics.cpu.map((i,s)=>({time:s,value:i})),r=t.systemMetrics.memory.map((i,s)=>({time:s,value:i}));return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsx(Be,{children:u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(lp,{className:"h-5 w-5 text-primary"}),"Resource Monitor"]}),u.jsx(Et,{children:"System resources and job activity monitoring"})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[u.jsxs(Be,{children:[u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(qe,{className:"text-sm text-muted-foreground",children:"CPU Usage"}),u.jsx(Ja,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsxs(Ke,{children:[u.jsxs("div",{className:"text-3xl font-bold",children:[n[n.length-1].value,"%"]}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["Avg: ",Math.round(n.reduce((i,s)=>i+s.value,0)/n.length),"%"]})]})]}),u.jsxs(Be,{children:[u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(qe,{className:"text-sm text-muted-foreground",children:"Memory Usage"}),u.jsx(BSe,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsxs(Ke,{children:[u.jsxs("div",{className:"text-3xl font-bold",children:[r[r.length-1].value,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"12.8 GB / 16 GB"})]})]}),u.jsxs(Be,{children:[u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(qe,{className:"text-sm text-muted-foreground",children:"Active Jobs"}),u.jsx(Kr,{className:"h-4 w-4 text-muted-foreground"})]})}),u.jsxs(Ke,{children:[u.jsx("div",{className:"text-3xl font-bold",children:e==null?void 0:e.filter(i=>i.status==="running").length}),u.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[e==null?void 0:e.filter(i=>i.status==="pending").length," pending"]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"CPU Usage"}),u.jsx(Et,{children:"Real-time CPU utilization"})]}),u.jsx(Ke,{children:u.jsx(Dl,{width:"100%",height:200,children:u.jsxs(dle,{data:n,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorCpu",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"hsl(var(--chart-1))",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"hsl(var(--chart-1))",stopOpacity:0})]})}),u.jsx(Id,{strokeDasharray:"3 3",opacity:.1}),u.jsx(xo,{dataKey:"time",tick:{fontSize:12}}),u.jsx(_o,{domain:[0,100],tick:{fontSize:12}}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(Iu,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",fillOpacity:1,fill:"url(#colorCpu)"})]})})})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Memory Usage"}),u.jsx(Et,{children:"RAM utilization over time"})]}),u.jsx(Ke,{children:u.jsx(Dl,{width:"100%",height:200,children:u.jsxs(g_,{data:r,children:[u.jsx(Id,{strokeDasharray:"3 3",opacity:.1}),u.jsx(xo,{dataKey:"time",tick:{fontSize:12}}),u.jsx(_o,{domain:[0,100],tick:{fontSize:12}}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(aa,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})})]})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Job Activity"}),u.jsx(Et,{children:"Current running and pending jobs"})]}),u.jsx(Ke,{className:"space-y-3",children:e==null?void 0:e.map(i=>u.jsxs("div",{className:"flex items-center gap-4 p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:i.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(ln,{variant:i.status==="running"?"default":i.status==="completed"?"secondary":"outline",className:"text-xs",children:i.status}),u.jsx("span",{className:"text-xs text-muted-foreground",children:i.type})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("div",{className:"text-sm font-mono font-medium",children:[i.progress,"%"]}),u.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(i.createdAt).toLocaleTimeString()})]})]},i.id))})]})]})}function hMt({id:t,offset:e,color:n,speed:r}){const i=M.useRef(null);return oR(({clock:s})=>{const o=s.getElapsedTime()*r+e,a=5*Math.cos(o),l=5*Math.sin(o);i.current.position.set(a,0,l)}),u.jsxs(Fxe,{ref:i,args:[.3,32,32],children:[u.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.5}),u.jsx(Kz,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function pMt({id:t,position:e,color:n}){return u.jsxs(lMt,{position:e,args:[.5,.5,.5],children:[u.jsx("meshStandardMaterial",{color:n,emissive:n,emissiveIntensity:.2}),u.jsx(Kz,{distanceFactor:10,position:[0,.5,0],className:"text-white text-xs whitespace-nowrap",children:t})]})}function mMt(){const t=M.useMemo(()=>[{id:"Agent-001",offset:0,color:"#33a0e8",speed:.5},{id:"Agent-002",offset:Math.PI/2,color:"#33e885",speed:.4},{id:"Agent-003",offset:Math.PI,color:"#e8335a",speed:.6},{id:"Agent-004",offset:3*Math.PI/2,color:"#e8e233",speed:.3}],[]),e=M.useMemo(()=>[{id:"Device-A",position:[3,2,-3],color:"#888"},{id:"Device-B",position:[-3,-2,3],color:"#888"},{id:"Device-C",position:[4,-1,4],color:"#888"}],[]);return u.jsxs(u.Fragment,{children:[u.jsx("ambientLight",{intensity:.2}),u.jsx("pointLight",{position:[10,10,10],intensity:1}),u.jsxs(Fxe,{args:[1,32,32],position:[0,0,0],children:[u.jsx("meshStandardMaterial",{color:"#fff",emissive:"#fff",emissiveIntensity:.8,roughness:.2,metalness:.8}),u.jsx(Kz,{distanceFactor:10,position:[0,1.3,0],className:"text-white text-sm whitespace-nowrap",children:"MYNTRIX Core"})]}),t.map(n=>u.jsx(hMt,{...n},n.id)),e.map(n=>u.jsx(pMt,{...n},n.id)),u.jsx(Dxe,{enablePan:!0,enableZoom:!0,enableRotate:!0}),u.jsx("gridHelper",{args:[20,20,"#555","#222"]})]})}function gMt(){return u.jsx("div",{className:"w-full h-[calc(100vh-200px)] bg-gray-900 rounded-lg overflow-hidden",children:u.jsx(Ixe,{camera:{position:[0,5,12],fov:60},children:u.jsx(mMt,{})})})}const vMt=[{value:"agents",label:"Agent Manager",icon:Vl},{value:"scheduler",label:"Task Scheduler",icon:rte},{value:"devices",label:"Device Control",icon:Ja},{value:"monitor",label:"Resource Monitor",icon:lp},{value:"3d-viz",label:"3D Visualization",icon:lp}];function yMt(){const t=TP(),[,e]=vi(),r=new URLSearchParams(t).get("tab")||"agents",[i,s]=M.useState(r);M.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/myntrix?tab=${a}`)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"border-b bg-card px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"MYNTRIX Core"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"AI Core & Hardware Integration Platform"})]}),u.jsx(ln,{variant:"outline",children:"v1.8.2"})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsxs(pc,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[u.jsx("div",{className:"border-b bg-card/50 px-6",children:u.jsx(ml,{className:"bg-transparent h-12 w-full justify-start gap-1",children:vMt.map(a=>u.jsxs(lr,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[u.jsx(a.icon,{className:"h-4 w-4"}),a.label]},a.value))})}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[u.jsx(xn,{value:"agents",className:"h-full m-0 p-6",children:u.jsx(Nyt,{})}),u.jsx(xn,{value:"scheduler",className:"h-full m-0 p-6",children:u.jsx(Oyt,{})}),u.jsx(xn,{value:"devices",className:"h-full m-0 p-6",children:u.jsx(uMt,{})}),u.jsx(xn,{value:"monitor",className:"h-full m-0 p-6",children:u.jsx(fMt,{})}),u.jsx(xn,{value:"3d-viz",className:"h-full m-0 p-6",children:u.jsx(gMt,{})})]})]})})]})}function xMt(){const[t,e]=M.useState(""),{data:n,isLoading:r,error:i}=gn({queryKey:["/api/neosyntis/datasets"],queryFn:async()=>{const p=await fetch("/api/neosyntis/datasets");if(!p.ok)throw new Error("Network response was not ok");return p.json()}}),{toast:s}=wf(),o=Ni(),[a,l]=M.useState(""),[c,f]=M.useState(""),[d,h]=M.useState("custom"),g=Ft({mutationFn:async p=>{const y=await fetch("/api/neosyntis/datasets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error("Failed to create dataset");return y.json()},onSuccess:()=>{o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]}),l(""),f(""),h("custom")},onError:p=>{s({title:"Error",description:`Failed to create dataset: ${p.message}`,variant:"destructive"})}}),v=Ft({mutationFn:async p=>{const y=new FormData;y.append("file",p);const _=await fetch("/api/neosyntis/datasets/upload",{method:"POST",body:y});if(!_.ok)throw new Error("Failed to upload dataset");return _.json()},onSuccess:()=>{s({title:"Dataset Uploaded",description:"Dataset file successfully uploaded."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to upload dataset: ${p.message}`,variant:"destructive"})}}),x=Ft({mutationFn:async p=>{const y=await fetch(`/api/neosyntis/datasets/${p}`,{method:"DELETE"});if(!y.ok)throw new Error("Failed to delete dataset");return y.json()},onSuccess:()=>{s({title:"Dataset Deleted",description:"Dataset has been successfully deleted."}),o.invalidateQueries({queryKey:["/api/neosyntis/datasets"]})},onError:p=>{s({title:"Error",description:`Failed to delete dataset: ${p.message}`,variant:"destructive"})}}),m=n==null?void 0:n.filter(p=>{var y;return p.name.toLowerCase().includes(t.toLowerCase())||((y=p.description)==null?void 0:y.toLowerCase().includes(t.toLowerCase()))});return r?u.jsx("div",{className:"p-6 text-center",children:"Loading datasets..."}):i?(console.error("Error loading datasets:",i),u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading datasets: ",i.message]})):(console.log("Datasets:",n),console.log("Filtered Datasets:",m),u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(kP,{className:"h-5 w-5 text-primary"}),"Dataset Management"]}),u.jsx(Et,{className:"mt-1",children:"Create, manage, and deploy custom datasets for model fine-tuning"})]}),u.jsxs(tx,{children:[u.jsx(e$,{asChild:!0,children:u.jsxs(Ce,{"data-testid":"button-create-dataset",children:[u.jsx(is,{className:"h-4 w-4 mr-2"}),"Create Dataset"]})}),u.jsxs(Wp,{children:[u.jsxs(nx,{children:[u.jsx(rx,{children:"Create New Dataset"}),u.jsx(ix,{children:"Build a custom dataset from scratch or import existing data"})]}),u.jsxs("div",{className:"space-y-4 pt-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Dataset Name"}),u.jsx(Dt,{placeholder:"My Custom Dataset","data-testid":"input-dataset-name",value:a,onChange:p=>l(p.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Description"}),u.jsx(Dt,{placeholder:"Dataset description...","data-testid":"input-dataset-description",value:c,onChange:p=>f(p.target.value)})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Type"}),u.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-dataset-type",value:d,onChange:p=>h(p.target.value),children:[u.jsx("option",{value:"custom",children:"Custom"}),u.jsx("option",{value:"qa",children:"Question-Answer"}),u.jsx("option",{value:"code",children:"Code Examples"}),u.jsx("option",{value:"text",children:"Text"}),u.jsx("option",{value:"structured",children:"Structured Data"})]})]}),u.jsxs("div",{className:"flex gap-2 pt-4",children:[u.jsx(Ce,{className:"flex-1","data-testid":"button-create",onClick:()=>g.mutate({name:a,description:c,type:d}),disabled:g.isPending||!a,children:g.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):"Create"}),u.jsx(Ce,{variant:"outline",className:"flex-1",children:"Cancel"})]})]})]})]})]})}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"flex gap-3",children:[u.jsx(Dt,{placeholder:"Search datasets...",value:t,onChange:p=>e(p.target.value),className:"flex-1","data-testid":"input-search-datasets"}),u.jsx("input",{type:"file",id:"dataset-file-upload",className:"hidden",onChange:p=>{p.target.files&&p.target.files[0]&&v.mutate(p.target.files[0])}}),u.jsxs(Ce,{variant:"outline","data-testid":"button-import",onClick:()=>{const p=document.getElementById("dataset-file-upload");p&&p.click()},disabled:v.isPending,children:[v.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Wg,{className:"h-4 w-4 mr-2"}),"Import"]})]}),u.jsx("div",{className:"border rounded-lg",children:u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Name"}),u.jsx(yn,{children:"Type"}),u.jsx(yn,{children:"Size"}),u.jsx(yn,{children:"Created"}),u.jsx(yn,{className:"text-right",children:"Actions"})]})}),u.jsx(xu,{children:(m==null?void 0:m.length)===0?u.jsx(Ti,{children:u.jsx(vn,{colSpan:5,className:"text-center text-muted-foreground",children:"No datasets found. Create one or import from a file."})}):m==null?void 0:m.map(p=>u.jsxs(Ti,{"data-testid":`row-dataset-${p.id}`,children:[u.jsx(vn,{children:u.jsxs("div",{children:[u.jsx("div",{className:"font-medium",children:p.name}),u.jsx("div",{className:"text-sm text-muted-foreground",children:p.description})]})}),u.jsx(vn,{children:u.jsx(ln,{variant:"outline",children:p.type})}),u.jsxs(vn,{className:"font-mono text-sm",children:[p.size.toLocaleString()," rows"]}),u.jsx(vn,{className:"text-sm text-muted-foreground",children:new Date(p.createdAt).toLocaleDateString()}),u.jsx(vn,{className:"text-right",children:u.jsxs("div",{className:"flex items-center justify-end gap-2",children:[u.jsx(Ce,{variant:"ghost",size:"sm","data-testid":`button-view-${p.id}`,children:"View"}),u.jsx(Ce,{variant:"ghost",size:"sm","data-testid":`button-export-${p.id}`,children:u.jsx(kSe,{className:"h-4 w-4"})}),u.jsx(Ce,{variant:"ghost",size:"sm","data-testid":`button-huggingface-${p.id}`,children:u.jsx(Rd,{className:"h-4 w-4"})}),u.jsx(Ce,{variant:"ghost",size:"sm","data-testid":`button-delete-${p.id}`,onClick:()=>x.mutate(p.id),disabled:x.isPending,children:x.isPending?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(tc,{className:"h-4 w-4"})})]})})]},p.id))})]})}),u.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[u.jsxs("span",{children:["Showing ",m==null?void 0:m.length," of ",n==null?void 0:n.length," datasets"]}),u.jsxs(Ce,{variant:"outline",size:"sm",children:[u.jsx(Rd,{className:"h-4 w-4 mr-2"}),"Push to HuggingFace"]})]})]})]}),u.jsxs(Be,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Dataset Injection"})}),u.jsxs(Ke,{className:"text-sm text-muted-foreground space-y-2",children:[u.jsx("p",{children:"VAREON uses dataset injection for prompt enhancement. Before LLM inference, selected datasets are checked and relevant context is automatically injected into the prompt."}),u.jsx("p",{children:"This approach allows fine-tuning-like results without training custom models, perfect for using cloud LLM providers like OpenRouter, Gemini API, or HuggingFace Inference."})]})]})]}))}const _Mt={id:"res-1",query:"Impact of AI on renewable energy",provider:"google",createdAt:new Date().toISOString(),summary:"AI is revolutionizing the renewable energy sector by optimizing grid management, improving forecasting for wind and solar, and accelerating the discovery of new materials for batteries and solar panels. This leads to increased efficiency, lower costs, and greater grid stability.",results:[{title:"How AI is transforming renewable energy - McKinsey",snippet:"AI can help optimize energy consumption, improve the accuracy of weather forecasting for renewables, and support the development of new clean energy technologies.",url:"#"},{title:"The Role of AI in the Energy Transition - BCG",snippet:"Artificial intelligence is a critical enabler for the energy transition, helping to integrate variable renewables and manage complex power grids.",url:"#"}],entities:[{type:"Organization",text:"McKinsey",count:1},{type:"Organization",text:"BCG",count:1},{type:"Person",text:"Sundar Pichai",count:0},{type:"Location",text:"California",count:0}],sentiment:{positive:85,neutral:10,negative:5}},bMt=({type:t})=>{switch(t){case"Person":return u.jsx(eCe,{className:"h-4 w-4 text-blue-400"});case"Organization":return u.jsx(ESe,{className:"h-4 w-4 text-green-400"});case"Location":return u.jsx(HSe,{className:"h-4 w-4 text-red-400"});default:return null}};function wMt(){const[t,e]=M.useState("Impact of AI on renewable energy"),[n,r]=M.useState("google");wf(),Ni();const{data:i,refetch:s,isLoading:o}=gn({queryKey:["/api/search",t,n],queryFn:async()=>t.trim()?Promise.resolve(_Mt):Promise.reject(new Error("Query is empty")),enabled:!1}),a=()=>{t.trim()&&s()};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(el,{className:"h-5 w-5 text-primary"}),"Intelligent Search Engine"]}),u.jsx(Et,{children:"Search the web with AI-powered summarization and knowledge extraction."})]}),u.jsx(Ke,{className:"space-y-4",children:u.jsxs("div",{className:"flex gap-3",children:[u.jsxs(Hn,{value:n,onValueChange:r,children:[u.jsx(Fn,{className:"w-[180px]",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"google",children:"Google"}),u.jsx(dt,{value:"bing",children:"Bing"})]})]}),u.jsx(Dt,{placeholder:"Enter your search query...",value:t,onChange:l=>e(l.target.value),onKeyDown:l=>l.key==="Enter"&&a(),className:"flex-1"}),u.jsxs(Ce,{onClick:a,disabled:o,children:[o?u.jsx(Kr,{className:"h-4 w-4 animate-spin"}):u.jsx(el,{className:"h-4 w-4"}),u.jsx("span",{className:"ml-2",children:"Search"})]})]})})]}),o&&u.jsx("div",{className:"text-center p-12",children:"Searching..."}),i?u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsx("div",{className:"lg:col-span-2 space-y-4",children:u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs(qe,{children:['Search Results for "',i.query,'"']})}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"p-4 bg-primary/5 rounded-lg border border-primary/10",children:[u.jsxs("div",{className:"flex items-start gap-2 mb-2",children:[u.jsx(IP,{className:"h-4 w-4 text-primary mt-0.5"}),u.jsx("span",{className:"text-sm font-medium",children:"AI Summary"})]}),u.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i.summary})]}),i.results.map((l,c)=>u.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg border hover:bg-muted/50",children:[u.jsx(Rd,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("h5",{className:"font-medium text-sm truncate",children:l.title}),u.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-1",children:l.snippet}),u.jsx("a",{href:l.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-primary hover:underline mt-1 inline-block",children:l.url})]})]},c))]})]})}),u.jsx("div",{className:"lg:col-span-1 space-y-6",children:u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Knowledge Panel"})}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Extracted Entities"}),u.jsx("div",{className:"space-y-2",children:i.entities.filter(l=>l.count>0).map(l=>u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(bMt,{type:l.type}),u.jsx("span",{children:l.text})]}),u.jsx(ln,{variant:"secondary",children:l.count})]},l.text))})]}),u.jsxs("div",{children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Sentiment Analysis"}),u.jsx(Dl,{width:"100%",height:150,children:u.jsxs(mtt,{data:[{name:"Positive",value:i.sentiment.positive,fill:"#22c55e"},{name:"Neutral",value:i.sentiment.neutral,fill:"#a1a1aa"},{name:"Negative",value:i.sentiment.negative,fill:"#ef4444"}],layout:"vertical",children:[u.jsx(xo,{type:"number",hide:!0}),u.jsx(_o,{type:"category",dataKey:"name",tickLine:!1,axisLine:!1,width:60,fontSize:12}),u.jsx(Mi,{cursor:{fill:"rgba(128,128,128,0.1)"}}),u.jsx(zp,{dataKey:"value",barSize:20})]})})]})]})]})})]}):!o&&u.jsx(Be,{className:"p-12",children:u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(el,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),u.jsx("h3",{className:"text-lg font-medium",children:"No search results yet"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Enter a query above to start searching"})]})})]})}const SMt={input:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-green-500",children:[u.jsx("div",{className:"text-xs font-bold text-green-600",children:"INPUT"}),u.jsx("div",{className:"text-sm",children:t.label})]}),llm:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-primary",children:[u.jsx("div",{className:"text-xs font-bold text-primary",children:"LLM"}),u.jsx("div",{className:"text-sm",children:t.label}),t.model&&u.jsx("div",{className:"text-xs text-muted-foreground",children:t.model})]}),action:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-accent",children:[u.jsx("div",{className:"text-xs font-bold text-accent",children:"ACTION"}),u.jsx("div",{className:"text-sm",children:t.label})]}),output:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-orange-500",children:[u.jsx("div",{className:"text-xs font-bold text-orange-600",children:"OUTPUT"}),u.jsx("div",{className:"text-sm",children:t.label})]}),delay:({data:t})=>u.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-card border-2 border-yellow-500",children:[u.jsx("div",{className:"text-xs font-bold text-yellow-600",children:"DELAY"}),u.jsx("div",{className:"text-sm",children:t.label})]})};function CMt(){const{toast:t}=wf(),e=Ni(),[n,r]=M.useState(null),{data:i,isLoading:s,error:o}=gn({queryKey:["workflow",n],queryFn:async()=>{if(!n)return{nodes:[],edges:[]};const p=await fetch(`/api/workflows/${n}`);if(!p.ok)throw new Error("Network response was not ok");return p.json()},enabled:!!n,initialData:{nodes:[],edges:[]}}),[a,l,c]=ive(i.nodes),[f,d,h]=sve(i.edges);M.useEffect(()=>{l(i.nodes),d(i.edges)},[i,l,d]);const g=M.useCallback(p=>d(y=>X$(p,y)),[d]),v=Ft({mutationFn:async p=>{const y=n?"PUT":"POST",_=n?`/api/workflows/${n}`:"/api/workflows",b=await fetch(_,{method:y,headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!b.ok)throw new Error("Failed to save workflow");return b.json()},onSuccess:p=>{t({title:"Workflow Saved",description:"Workflow has been successfully saved."}),!n&&p.id&&r(p.id),e.invalidateQueries({queryKey:["workflow",n]})},onError:p=>{t({title:"Error",description:`Failed to save workflow: ${p.message}`,variant:"destructive"})}}),x=Ft({mutationFn:async p=>{const y=await fetch(`/api/workflows/${p}/run`,{method:"POST"});if(!y.ok)throw new Error("Failed to run workflow");return y.json()},onSuccess:()=>{t({title:"Workflow Started",description:"Workflow execution initiated."})},onError:p=>{t({title:"Error",description:`Failed to run workflow: ${p.message}`,variant:"destructive"})}}),m=Ft({mutationFn:async p=>{if(!n)throw new Error("Cannot add node without a workflow. Please save the workflow first.");const y=await fetch(`/api/workflows/${n}/nodes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)});if(!y.ok)throw new Error("Failed to add node");return y.json()},onSuccess:p=>{l(y=>y.concat(p)),t({title:"Node Added",description:"New node added to workflow."})},onError:p=>{t({title:"Error",description:`Failed to add node: ${p.message}`,variant:"destructive"})}});return s?u.jsx("div",{className:"p-6 text-center",children:"Loading workflow..."}):o?u.jsxs("div",{className:"p-6 text-center text-red-500",children:["Error loading workflow: ",o.message]}):u.jsxs("div",{className:"space-y-6",children:[u.jsx(Be,{children:u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(jM,{className:"h-5 w-5 text-primary"}),"Workflow Builder"]}),u.jsx(Et,{className:"mt-1",children:"Create agentic workflows with drag-and-drop node editor"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{variant:"outline","data-testid":"button-add-node",onClick:()=>m.mutate({id:`node-${Date.now()}`,type:"llm",position:{x:Math.random()*250,y:Math.random()*250},data:{label:"New LLM Node",model:"GPT-3.5"}}),disabled:m.isPending||!n,children:[m.isPending?u.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Node"]}),u.jsxs(Ce,{variant:"outline","data-testid":"button-save-workflow",onClick:()=>v.mutate({nodes:a,edges:f}),disabled:v.isPending,children:[v.isPending?u.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(OP,{className:"h-4 w-4 mr-2"}),"Save"]}),u.jsxs(Ce,{"data-testid":"button-run-workflow",onClick:()=>n&&x.mutate(n),disabled:x.isPending||!n,children:[x.isPending?u.jsx(Kr,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(Mv,{className:"h-4 w-4 mr-2"}),"Run"]})]})]})})}),u.jsx(Be,{className:"h-[600px]",children:u.jsx(Ke,{className:"h-full p-0",children:u.jsxs(rve,{nodes:a,edges:f,onNodesChange:c,onEdgesChange:h,onConnect:g,nodeTypes:SMt,fitView:!0,className:"bg-background h-[500px]",children:[u.jsx(cve,{}),u.jsx(dve,{className:"bg-card border"}),u.jsx(ave,{gap:12,size:1})]})})}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Available Node Types"})}),u.jsx(Ke,{children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx(ln,{variant:"outline",className:"border-green-500 text-green-600",children:"Input - Entry point"}),u.jsx(ln,{variant:"outline",className:"border-primary text-primary",children:"LLM - AI Processing"}),u.jsx(ln,{variant:"outline",className:"border-accent text-accent",children:"Action - Execute Task"}),u.jsx(ln,{variant:"outline",className:"border-orange-500 text-orange-600",children:"Output - Result"}),u.jsx(ln,{variant:"outline",className:"border-yellow-500 text-yellow-600",children:"Delay - Wait Timer"})]})})]})]})}const PZ=["hsl(var(--chart-1))","hsl(var(--chart-2))","hsl(var(--chart-3))","hsl(var(--chart-4))","hsl(var(--chart-5))"];function EMt(){const{data:t}=gn({queryKey:["/api/telemetry"],initialData:Uxe}),{data:e}=gn({queryKey:["/api/jobs"],initialData:Bxe});return u.jsxs("div",{className:"space-y-6 max-w-7xl mx-auto",children:[u.jsx(Be,{children:u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(lp,{className:"h-5 w-5 text-primary"}),"Telemetry Dashboard"]}),u.jsx(Et,{children:"Real-time metrics, statistics, and system performance monitoring"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Token Usage (Last 7 Days)"})}),u.jsx(Ke,{children:u.jsx(Dl,{width:"100%",height:250,children:u.jsxs(dle,{data:t.tokenUsage,children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"colorTokens",x1:"0",y1:"0",x2:"0",y2:"1",children:[u.jsx("stop",{offset:"5%",stopColor:"hsl(var(--primary))",stopOpacity:.3}),u.jsx("stop",{offset:"95%",stopColor:"hsl(var(--primary))",stopOpacity:0})]})}),u.jsx(Id,{strokeDasharray:"3 3",opacity:.1}),u.jsx(xo,{dataKey:"date",tick:{fontSize:12}}),u.jsx(_o,{tick:{fontSize:12}}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(Iu,{type:"monotone",dataKey:"tokens",stroke:"hsl(var(--primary))",fillOpacity:1,fill:"url(#colorTokens)"})]})})})]}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Model Usage Distribution"})}),u.jsx(Ke,{children:u.jsx(Dl,{width:"100%",height:250,children:u.jsxs(gtt,{children:[u.jsx(Ou,{data:t.modelUsage,cx:"50%",cy:"50%",labelLine:!1,label:({name:n,percent:r})=>`${n} ${(r*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:t.modelUsage.map((n,r)=>u.jsx(g2,{fill:PZ[r%PZ.length]},`cell-${r}`))}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}})]})})})]})]}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"System Resources"})}),u.jsx(Ke,{children:u.jsxs(pc,{defaultValue:"cpu",children:[u.jsxs(ml,{children:[u.jsx(lr,{value:"cpu",children:"CPU"}),u.jsx(lr,{value:"memory",children:"Memory"}),u.jsx(lr,{value:"network",children:"Network"})]}),u.jsx(xn,{value:"cpu",className:"mt-4",children:u.jsx(Dl,{width:"100%",height:200,children:u.jsxs(g_,{data:t.systemMetrics.cpu.map((n,r)=>({time:r,value:n})),children:[u.jsx(Id,{strokeDasharray:"3 3",opacity:.1}),u.jsx(xo,{dataKey:"time"}),u.jsx(_o,{domain:[0,100]}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(aa,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-1))",strokeWidth:2})]})})}),u.jsx(xn,{value:"memory",className:"mt-4",children:u.jsx(Dl,{width:"100%",height:200,children:u.jsxs(g_,{data:t.systemMetrics.memory.map((n,r)=>({time:r,value:n})),children:[u.jsx(Id,{strokeDasharray:"3 3",opacity:.1}),u.jsx(xo,{dataKey:"time"}),u.jsx(_o,{domain:[0,100]}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(aa,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-2))",strokeWidth:2})]})})}),u.jsx(xn,{value:"network",className:"mt-4",children:u.jsx(Dl,{width:"100%",height:200,children:u.jsxs(g_,{data:t.systemMetrics.network.map((n,r)=>({time:r,value:n})),children:[u.jsx(Id,{strokeDasharray:"3 3",opacity:.1}),u.jsx(xo,{dataKey:"time"}),u.jsx(_o,{}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(aa,{type:"monotone",dataKey:"value",stroke:"hsl(var(--chart-3))",strokeWidth:2})]})})})]})})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Kr,{className:"h-5 w-5 text-primary"}),"Active Jobs"]}),u.jsx(Et,{children:"Real-time job execution status and logs"})]}),u.jsx(Ke,{className:"space-y-4",children:e==null?void 0:e.map(n=>u.jsxs(Be,{className:"bg-card/50",children:[u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(qe,{className:"text-sm",children:n.name}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:`h-2 w-2 rounded-full ${n.status==="running"?"bg-green-500":n.status==="completed"?"bg-blue-500":"bg-yellow-500"}`}),u.jsx("span",{className:"text-xs text-muted-foreground capitalize",children:n.status})]})]})}),u.jsx(Ke,{children:u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Progress"}),u.jsxs("span",{className:"font-mono font-medium",children:[n.progress,"%"]})]}),u.jsx("div",{className:"h-2 bg-muted rounded-full overflow-hidden",children:u.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${n.progress}%`}})}),u.jsxs("div",{className:"mt-3 p-3 bg-background/50 rounded-md font-mono text-xs",children:[u.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job started"]}),n.status==="running"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"text-blue-500",children:["[",new Date(Date.now()-3e4).toLocaleTimeString(),"] Processing data..."]}),u.jsxs("div",{className:"text-yellow-500",children:["[",new Date(Date.now()-1e4).toLocaleTimeString(),"] ",n.progress,"% complete"]})]}),n.status==="completed"&&u.jsxs("div",{className:"text-green-500",children:["[",new Date(n.createdAt).toLocaleTimeString(),"] Job completed successfully"]})]})]})})]},n.id))})]})]})}function MMt(){const[t,e]=M.useState("cnc"),[n,r]=M.useState("cad");return u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Ja,{className:"h-5 w-5 text-primary"}),"Device Integration Settings"]}),u.jsx(Et,{children:"Configure connections to CNC machines, ESP32, Arduino, and other hardware"})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Device Type"}),u.jsxs(Hn,{value:t,onValueChange:i=>e(i),children:[u.jsx(Fn,{"data-testid":"select-device-type",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"cnc",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(K_,{className:"h-4 w-4"}),"CNC Machine"]})}),u.jsx(dt,{value:"esp32",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ja,{className:"h-4 w-4"}),"ESP32"]})}),u.jsx(dt,{value:"arduino",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ja,{className:"h-4 w-4"}),"Arduino"]})})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Serial Port"}),u.jsxs(Hn,{children:[u.jsx(Fn,{"data-testid":"select-serial-port",children:u.jsx(Vn,{placeholder:"Select port..."})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"/dev/ttyUSB0",children:"/dev/ttyUSB0"}),u.jsx(dt,{value:"/dev/ttyUSB1",children:"/dev/ttyUSB1"}),u.jsx(dt,{value:"/dev/ttyUSB2",children:"/dev/ttyUSB2"}),u.jsx(dt,{value:"COM3",children:"COM3"}),u.jsx(dt,{value:"COM4",children:"COM4"})]})]})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{"data-testid":"button-connect-device",children:[u.jsx(JSe,{className:"h-4 w-4 mr-2"}),"Connect"]}),u.jsx(Ce,{variant:"outline",children:"Disconnect"}),u.jsx(Ce,{variant:"outline",children:"Test Connection"})]}),u.jsxs("div",{className:"flex items-center gap-4 p-4 bg-card/50 rounded-lg border",children:[u.jsx(nv,{status:"connected"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium text-sm",children:"Connection Status"}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"Device connected on /dev/ttyUSB0"})]}),u.jsx(ln,{variant:"outline",children:"115200 baud"})]})]})]}),t==="cnc"?u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"CNC Control Interface"}),u.jsx(Et,{children:"CAD/CAM mode for G-code generation and machine control"})]}),u.jsx(Ke,{children:u.jsxs(pc,{value:n,onValueChange:i=>r(i),children:[u.jsxs(ml,{children:[u.jsx(lr,{value:"cad","data-testid":"tab-cad",children:"CAD Mode"}),u.jsx(lr,{value:"cam","data-testid":"tab-cam",children:"CAM Mode"})]}),u.jsxs(xn,{value:"cad",className:"mt-4 space-y-4",children:[u.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border border-dashed flex items-center justify-center",children:u.jsxs("div",{className:"text-center space-y-2",children:[u.jsx(K_,{className:"h-12 w-12 mx-auto text-muted-foreground opacity-50"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"CAD Viewer"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:"3D model viewer would appear here"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{variant:"outline",children:"Import STL"}),u.jsx(Ce,{variant:"outline",children:"Import OBJ"}),u.jsx(Ce,{children:"Generate Toolpath"})]})]}),u.jsx(xn,{value:"cam",className:"mt-4 space-y-4",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Tool Diameter (mm)"}),u.jsx(Dt,{type:"number",defaultValue:"6"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Spindle Speed (RPM)"}),u.jsx(Dt,{type:"number",defaultValue:"12000"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Feed Rate (mm/min)"}),u.jsx(Dt,{type:"number",defaultValue:"800"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-sm font-medium",children:"Depth Per Pass (mm)"}),u.jsx(Dt,{type:"number",defaultValue:"2"})]})]}),u.jsx(Ce,{className:"w-full",children:"Generate G-Code"})]})})]})})]}):u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Ev,{className:"h-5 w-5 text-primary"}),"Integrated Development Environment"]}),u.jsxs(Et,{children:["Code editor for ",t.toUpperCase()," development"]})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsx("div",{className:"h-96 bg-muted/20 rounded-lg border font-mono text-sm p-4 overflow-auto",children:u.jsxs("div",{className:"space-y-1",children:[u.jsxs("div",{className:"text-green-500",children:["// ",t.toUpperCase()," Sketch"]}),u.jsx("div",{children:"void setup() {"}),u.jsx("div",{className:"pl-4",children:"Serial.begin(115200);"}),u.jsx("div",{className:"pl-4",children:"pinMode(LED_BUILTIN, OUTPUT);"}),u.jsx("div",{children:"}"}),u.jsx("div",{className:"mt-2",children:"void loop() {"}),u.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, HIGH);"}),u.jsx("div",{className:"pl-4",children:"delay(1000);"}),u.jsx("div",{className:"pl-4",children:"digitalWrite(LED_BUILTIN, LOW);"}),u.jsx("div",{className:"pl-4",children:"delay(1000);"}),u.jsx("div",{children:"}"})]})}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{children:[u.jsx(Ev,{className:"h-4 w-4 mr-2"}),"Verify"]}),u.jsx(Ce,{variant:"outline",children:"Upload to Device"}),u.jsx(Ce,{variant:"outline",children:"Serial Monitor"})]})]})]})]})}const NZ=[{id:"reasoning",label:"Reasoning Model",description:"Deep thinking and problem solving"},{id:"code_generation",label:"Code Generation",description:"Generate and refactor code"},{id:"conversation",label:"Conversation",description:"Natural dialogue and chat"},{id:"shell_conversion",label:"Shell Conversion",description:"Natural language to shell commands"},{id:"summarization",label:"Summarization",description:"Condense and summarize content"},{id:"intent_detection",label:"Intent Detection",description:"Understand user intentions"},{id:"general",label:"General Purpose",description:"Universal model for naming files, etc"}];function AMt(){const[t,e]=M.useState(!1),[n,r]=M.useState("openrouter");return u.jsxs("div",{className:"space-y-6 max-w-4xl mx-auto",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(df,{className:"h-5 w-5 text-primary"}),"COGNISYS Configuration"]}),u.jsx(Et,{children:"Configure API providers, model assignments, and reasoning settings"})]}),u.jsx(Ke,{className:"space-y-6",children:u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"LLM Provider"}),u.jsxs(Hn,{value:n,onValueChange:r,children:[u.jsx(Fn,{"data-testid":"select-provider",children:u.jsx(Vn,{})}),u.jsxs(Bn,{children:[u.jsx(dt,{value:"openrouter",children:"OpenRouter"}),u.jsx(dt,{value:"openai",children:"OpenAI"}),u.jsx(dt,{value:"anthropic",children:"Anthropic"}),u.jsx(dt,{value:"google",children:"Google Gemini API"}),u.jsx(dt,{value:"huggingface",children:"HuggingFace Inference"}),u.jsx(dt,{value:"local",children:"Local Deployment"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"API Key"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Dt,{type:t?"text":"password",placeholder:"sk-...","data-testid":"input-api-key"}),u.jsx(Ce,{variant:"outline",size:"icon",onClick:()=>e(!t),"data-testid":"button-toggle-api-key",children:t?u.jsx(kM,{className:"h-4 w-4"}):u.jsx(OM,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"API Base URL (optional)"}),u.jsx(Dt,{placeholder:"https://api.openrouter.ai/v1","data-testid":"input-api-url"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Organization ID (optional)"}),u.jsx(Dt,{placeholder:"org-...","data-testid":"input-org-id"})]})]})]})})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Model Assignment per Role"}),u.jsx(Et,{children:"Assign specific models to different tasks for optimal performance"})]}),u.jsx(Ke,{className:"space-y-4",children:NZ.map(i=>u.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:i.label}),u.jsx("div",{className:"text-sm text-muted-foreground",children:i.description})]}),u.jsxs(Hn,{defaultValue:"gpt-4",children:[u.jsx(Fn,{className:"w-[200px]","data-testid":`select-model-${i.id}`,children:u.jsx(Vn,{})}),u.jsx(Bn,{children:dMt.filter(s=>s.isActive).map(s=>u.jsx(dt,{value:s.id,children:s.name},s.id))})]})]},i.id))})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Reasoning Configuration"}),u.jsx(Et,{children:"Enable reasoning for specific models to improve accuracy"})]}),u.jsx(Ke,{children:u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-sm text-muted-foreground",children:"Reasoning adds a thinking step before responses. Enable selectively to balance accuracy with token usage and inference speed."}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:NZ.map(i=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsx(ht,{htmlFor:`reasoning-${i.id}`,className:"flex-1 cursor-pointer",children:i.label}),u.jsx(ru,{id:`reasoning-${i.id}`,"data-testid":`switch-reasoning-${i.id}`})]},i.id))})]})})]}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Advanced Settings"})}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Token Limit"}),u.jsx(Dt,{type:"number",defaultValue:"4096","data-testid":"input-token-limit"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Temperature"}),u.jsx(Dt,{type:"number",step:"0.1",min:"0",max:"2",defaultValue:"0.7","data-testid":"input-temperature"})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Search Engine API Key (optional)"}),u.jsx(Dt,{placeholder:"For Serper or similar providers","data-testid":"input-search-api-key"})]}),u.jsx(Ce,{className:"w-full","data-testid":"button-save-config",children:"Save Configuration"})]})]})]})}function TMt(){const t=[{name:"VAREON",color:"bg-blue-500",connected:!0},{name:"NEOSYNTIS",color:"bg-purple-500",connected:!0},{name:"MYNTRIX",color:"bg-green-500",connected:!0},{name:"COGNISYS",color:"bg-orange-500",connected:!0},{name:"ARCANA",color:"bg-pink-500",connected:!0}];return u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsx(Be,{children:u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(K_,{className:"h-5 w-5 text-primary"}),"Ecosystem Architecture Builder"]}),u.jsx(Et,{children:"Visualize and customize your VAREON ecosystem architecture"})]})}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"System Architecture"}),u.jsx(Et,{children:"Visual representation of module connections and data flow"})]}),u.jsx(Ke,{children:u.jsx("div",{className:"h-96 bg-gradient-to-br from-primary/5 via-background to-accent/5 rounded-lg border border-dashed flex items-center justify-center relative overflow-hidden",children:u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsxs("svg",{className:"w-full h-full",viewBox:"0 0 800 600",children:[u.jsx("defs",{children:u.jsxs("linearGradient",{id:"line-gradient",x1:"0%",y1:"0%",x2:"100%",y2:"0%",children:[u.jsx("stop",{offset:"0%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"}),u.jsx("stop",{offset:"50%",stopColor:"hsl(var(--accent))",stopOpacity:"0.5"}),u.jsx("stop",{offset:"100%",stopColor:"hsl(var(--primary))",stopOpacity:"0.3"})]})}),u.jsx("line",{x1:"400",y1:"100",x2:"400",y2:"200",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"400",y1:"250",x2:"250",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"400",y1:"250",x2:"550",y2:"350",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"250",y1:"400",x2:"150",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"250",y1:"400",x2:"350",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("line",{x1:"550",y1:"400",x2:"650",y2:"500",stroke:"url(#line-gradient)",strokeWidth:"2"}),u.jsx("circle",{cx:"400",cy:"100",r:"60",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"3"}),u.jsx("text",{x:"400",y:"110",textAnchor:"middle",className:"fill-current text-sm font-bold",children:"VAREON"}),u.jsx("circle",{cx:"400",cy:"250",r:"50",fill:"hsl(var(--card))",stroke:"hsl(var(--primary))",strokeWidth:"2"}),u.jsx("text",{x:"400",y:"260",textAnchor:"middle",className:"fill-current text-xs font-medium",children:"COGNISYS"}),u.jsx("circle",{cx:"250",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),u.jsx("text",{x:"250",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"NEOSYNTIS"}),u.jsx("circle",{cx:"550",cy:"400",r:"45",fill:"hsl(var(--card))",stroke:"hsl(var(--accent))",strokeWidth:"2"}),u.jsx("text",{x:"550",y:"407",textAnchor:"middle",className:"fill-current text-xs",children:"MYNTRIX"}),u.jsx("circle",{cx:"150",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),u.jsx("text",{x:"150",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Search"}),u.jsx("circle",{cx:"350",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-3))",strokeWidth:"2"}),u.jsx("text",{x:"350",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"Workflow"}),u.jsx("circle",{cx:"650",cy:"520",r:"35",fill:"hsl(var(--card))",stroke:"hsl(var(--chart-4))",strokeWidth:"2"}),u.jsx("text",{x:"650",y:"527",textAnchor:"middle",className:"fill-current text-xs",children:"ARCANA"})]})})})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2 text-base",children:[u.jsx(ute,{className:"h-5 w-5 text-primary"}),"Active Modules"]})}),u.jsx(Ke,{className:"space-y-3",children:t.map(e=>u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`h-3 w-3 rounded-full ${e.color}`}),u.jsx("span",{className:"font-medium",children:e.name})]}),u.jsx(ln,{variant:e.connected?"default":"outline",children:e.connected?"Connected":"Disconnected"})]},e.name))})]}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs(qe,{className:"flex items-center gap-2 text-base",children:[u.jsx(df,{className:"h-5 w-5 text-primary"}),"Integration Points"]})}),u.jsxs(Ke,{className:"space-y-3",children:[u.jsxs("div",{className:"p-3 border rounded-lg",children:[u.jsx("div",{className:"font-medium text-sm",children:"NEOSYNTIS  ARCANA"}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Search results auto-save to chat memory"})]}),u.jsxs("div",{className:"p-3 border rounded-lg",children:[u.jsx("div",{className:"font-medium text-sm",children:"ARCANA  MYNTRIX"}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Chat commands trigger agent jobs"})]}),u.jsxs("div",{className:"p-3 border rounded-lg",children:[u.jsx("div",{className:"font-medium text-sm",children:"COGNISYS  ALL"}),u.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:"Model routing for all modules"})]}),u.jsxs(Ce,{variant:"outline",className:"w-full mt-2","data-testid":"button-add-integration",children:[u.jsx(is,{className:"h-4 w-4 mr-2"}),"Add Custom Integration"]})]})]})]}),u.jsxs(Be,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Custom Architecture"})}),u.jsxs(Ke,{className:"text-sm text-muted-foreground space-y-2",children:[u.jsx("p",{children:"This is a placeholder for advanced ecosystem customization. You can define:"}),u.jsxs("ul",{className:"list-disc list-inside space-y-1 ml-2",children:[u.jsx("li",{children:"Custom module relationships and data flows"}),u.jsx("li",{children:"Conditional routing rules between components"}),u.jsx("li",{children:"Event-driven triggers and webhooks"}),u.jsx("li",{children:"Custom API endpoints and integrations"}),u.jsx("li",{children:"Resource allocation and scaling policies"})]})]})]})]})}const PMt=[{name:"Llama-3-8B-Instruct",status:"deployed",uptime:"15d 4h",requests:12453},{name:"Mistral-7B-v0.3",status:"deploying",progress:67,eta:"5 min"},{name:"CodeLlama-13B",status:"pending",queuePosition:3}];function NMt(){return u.jsxs("div",{className:"space-y-6 max-w-5xl mx-auto",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(i8,{className:"h-5 w-5 text-primary"}),"Model Deployment"]}),u.jsx(Et,{children:"Deploy and manage self-hosted LLM models"})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Model Name"}),u.jsx(Dt,{placeholder:"llama-3-8b-instruct","data-testid":"input-model-name"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Model Format"}),u.jsxs("select",{className:"w-full h-9 rounded-md border px-3 text-sm","data-testid":"select-model-format",children:[u.jsx("option",{value:"gguf",children:"GGUF"}),u.jsx("option",{value:"safetensors",children:"SafeTensors"}),u.jsx("option",{value:"pytorch",children:"PyTorch"})]})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{children:"Upload Model File"}),u.jsxs("div",{className:"border-2 border-dashed rounded-lg p-8 text-center hover-elevate cursor-pointer",children:[u.jsx(Wg,{className:"h-8 w-8 mx-auto text-muted-foreground mb-2"}),u.jsx("p",{className:"text-sm text-muted-foreground",children:"Drag and drop your model file here, or click to browse"}),u.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Supports GGUF, SafeTensors, PyTorch formats (max 50GB)"})]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{className:"flex-1","data-testid":"button-deploy-model",children:[u.jsx(i8,{className:"h-4 w-4 mr-2"}),"Deploy Model"]}),u.jsx(Ce,{variant:"outline","data-testid":"button-import-huggingface",children:"Import from HuggingFace"})]})]})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Active Deployments"}),u.jsx(Et,{children:"Monitor and manage deployed models"})]}),u.jsx(Ke,{className:"space-y-4",children:PMt.map(t=>{var e;return u.jsxs(Be,{className:"bg-card/50",children:[u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx(qe,{className:"text-sm",children:t.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.status==="deployed"&&u.jsxs(u.Fragment,{children:[u.jsxs(ln,{variant:"default",className:"gap-1",children:[u.jsx(oB,{className:"h-3 w-3"}),"Deployed"]}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:[t.uptime," uptime"]})]}),t.status==="deploying"&&u.jsxs(u.Fragment,{children:[u.jsxs(ln,{variant:"secondary",className:"gap-1",children:[u.jsx(ote,{className:"h-3 w-3"}),"Deploying"]}),u.jsxs("span",{className:"text-xs text-muted-foreground",children:["ETA ",t.eta]})]}),t.status==="pending"&&u.jsxs(ln,{variant:"outline",children:["Queue #",t.queuePosition]})]})]}),t.status==="deployed"&&u.jsxs("div",{className:"text-right",children:[u.jsx("div",{className:"text-sm font-mono font-medium",children:(e=t.requests)==null?void 0:e.toLocaleString()}),u.jsx("div",{className:"text-xs text-muted-foreground",children:"requests"})]})]})}),u.jsxs(Ke,{children:[t.status==="deploying"&&u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Progress"}),u.jsxs("span",{className:"font-medium",children:[t.progress,"%"]})]}),u.jsx(m$,{value:t.progress})]}),t.status==="deployed"&&u.jsxs("div",{className:"flex gap-2",children:[u.jsx(Ce,{variant:"outline",size:"sm",children:"View Logs"}),u.jsx(Ce,{variant:"outline",size:"sm",children:"Metrics"}),u.jsx(Ce,{variant:"outline",size:"sm",className:"text-destructive",children:"Stop"})]}),t.status==="pending"&&u.jsx("p",{className:"text-sm text-muted-foreground",children:"Waiting for available resources..."})]})]},t.name)})})]}),u.jsxs(Be,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Self-Hosted Deployment Benefits"})}),u.jsx(Ke,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Complete data privacy and control"}),u.jsx("li",{children:"No API rate limits or usage costs"}),u.jsx("li",{children:"Custom fine-tuned models"}),u.jsx("li",{children:"Lower latency for local inference"}),u.jsx("li",{children:"Independence from cloud LLM providers"})]})})]})]})}const RMt=[{epoch:1,loss:2.4,accuracy:.45,val_loss:2.6,val_accuracy:.42},{epoch:2,loss:1.8,accuracy:.58,val_loss:2.1,val_accuracy:.51},{epoch:3,loss:1.3,accuracy:.68,val_loss:1.7,val_accuracy:.63},{epoch:4,loss:.9,accuracy:.76,val_loss:1.4,val_accuracy:.71},{epoch:5,loss:.6,accuracy:.84,val_loss:1.2,val_accuracy:.78}],kMt=[{name:"GPT-2 Fine-tune",status:"training",epoch:"3/10",accuracy:.76,eta:"2h 15m"},{name:"BERT QA Model",status:"completed",accuracy:.92,duration:"4h 32m"},{name:"Code Generation",status:"paused",epoch:"5/20",accuracy:.68}];function OMt(){return u.jsxs("div",{className:"space-y-6 max-w-6xl mx-auto",children:[u.jsx(Be,{children:u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(uf,{className:"h-5 w-5 text-primary"}),"Machine Learning Dashboard"]}),u.jsx(Et,{children:"Train and monitor custom ML models for self-deployment"})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs(Be,{className:"lg:col-span-2",children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-base",children:"Training Metrics"}),u.jsx(Et,{children:"Loss and accuracy over epochs"})]}),u.jsx(Ke,{children:u.jsx(Dl,{width:"100%",height:300,children:u.jsxs(g_,{data:RMt,children:[u.jsx(Id,{strokeDasharray:"3 3",opacity:.1}),u.jsx(xo,{dataKey:"epoch",label:{value:"Epoch",position:"insideBottom",offset:-5}}),u.jsx(_o,{}),u.jsx(Mi,{contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"6px"}}),u.jsx(Hh,{}),u.jsx(aa,{type:"monotone",dataKey:"loss",stroke:"hsl(var(--chart-1))",name:"Training Loss",strokeWidth:2}),u.jsx(aa,{type:"monotone",dataKey:"val_loss",stroke:"hsl(var(--chart-1))",strokeDasharray:"5 5",name:"Val Loss",strokeWidth:2}),u.jsx(aa,{type:"monotone",dataKey:"accuracy",stroke:"hsl(var(--chart-2))",name:"Training Acc",strokeWidth:2}),u.jsx(aa,{type:"monotone",dataKey:"val_accuracy",stroke:"hsl(var(--chart-2))",strokeDasharray:"5 5",name:"Val Acc",strokeWidth:2})]})})})]}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"Current Training"})}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Model"}),u.jsx("span",{className:"font-medium",children:"GPT-2 Fine-tune"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Epoch"}),u.jsx("span",{className:"font-mono",children:"3 / 10"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Accuracy"}),u.jsx("span",{className:"font-mono",children:"76%"})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"ETA"}),u.jsx("span",{className:"font-mono",children:"2h 15m"})]})]}),u.jsx(m$,{value:30}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(Ce,{variant:"outline",size:"sm",className:"flex-1","data-testid":"button-pause-training",children:[u.jsx(dte,{className:"h-4 w-4 mr-2"}),"Pause"]}),u.jsx(Ce,{variant:"outline",size:"sm","data-testid":"button-training-settings",children:u.jsx(cp,{className:"h-4 w-4"})})]})]})]})]}),u.jsxs(Be,{children:[u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx(qe,{className:"text-base",children:"Training Experiments"}),u.jsx(Et,{children:"Manage and monitor ML training runs"})]}),u.jsxs(Ce,{"data-testid":"button-new-experiment",children:[u.jsx(Mv,{className:"h-4 w-4 mr-2"}),"New Experiment"]})]})}),u.jsx(Ke,{className:"space-y-4",children:kMt.map(t=>u.jsxs(Be,{className:"bg-card/50",children:[u.jsx(Xe,{className:"pb-3",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx(qe,{className:"text-sm",children:t.name}),u.jsx(ln,{variant:t.status==="training"?"default":t.status==="completed"?"secondary":"outline",children:t.status})]})}),u.jsx(Ke,{children:u.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[t.status==="training"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Epoch"}),u.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),u.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"ETA"}),u.jsx("div",{className:"font-mono font-medium",children:t.eta})]})]}),t.status==="completed"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),u.jsxs("div",{className:"font-mono font-medium text-green-600",children:[(t.accuracy*100).toFixed(1),"%"]})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Duration"}),u.jsx("div",{className:"font-mono font-medium",children:t.duration})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx(Ce,{variant:"outline",size:"sm",children:"Deploy"})})]}),t.status==="paused"&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Progress"}),u.jsx("div",{className:"font-mono font-medium",children:t.epoch})]}),u.jsxs("div",{children:[u.jsx("div",{className:"text-muted-foreground",children:"Accuracy"}),u.jsxs("div",{className:"font-mono font-medium",children:[(t.accuracy*100).toFixed(1),"%"]})]}),u.jsx("div",{className:"flex items-end justify-end",children:u.jsx(Ce,{variant:"outline",size:"sm",children:u.jsx(Mv,{className:"h-4 w-4"})})})]})]})})]},t.name))})]}),u.jsxs(Be,{className:"bg-gradient-to-br from-primary/10 via-background to-accent/10 border-primary/20",children:[u.jsx(Xe,{children:u.jsx(qe,{className:"text-base",children:"ML Training Features"})}),u.jsx(Ke,{className:"text-sm text-muted-foreground space-y-2",children:u.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[u.jsx("li",{children:"Fine-tune pre-trained models on custom datasets"}),u.jsx("li",{children:"Real-time training metrics and visualization"}),u.jsx("li",{children:"Automatic checkpointing and resume capability"}),u.jsx("li",{children:"Hyperparameter optimization and tuning"}),u.jsx("li",{children:"Model evaluation and comparison tools"}),u.jsx("li",{children:"Export trained models for deployment"})]})})]})]})}const IMt=[{value:"search",label:"Search Engine",icon:el},{value:"datasets",label:"Datasets",icon:kP},{value:"workflow",label:"Workflow",icon:jM},{value:"telemetry",label:"Telemetry",icon:lp},{value:"devices",label:"Device Settings",icon:cp},{value:"cognisys",label:"COGNISYS Config",icon:df},{value:"ecosystem",label:"Ecosystem Builder",icon:K_},{value:"deployment",label:"Model Deployment",icon:Wg},{value:"ml",label:"Machine Learning",icon:uf}];function jMt(){const t=TP(),[,e]=vi(),r=new URLSearchParams(t).get("tab")||"search",[i,s]=M.useState(r);M.useEffect(()=>{s(r)},[r]);const o=a=>{s(a),e(`/dashboard/neosyntis?tab=${a}`)};return u.jsxs("div",{className:"flex flex-col h-full",children:[u.jsx("div",{className:"border-b bg-card px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:"NEOSYNTIS Lab"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Research & Workflow Automation Platform"})]}),u.jsx(ln,{variant:"outline",children:"v2.1.0"})]})}),u.jsx("div",{className:"flex-1 overflow-hidden",children:u.jsxs(pc,{value:i,onValueChange:o,className:"h-full flex flex-col",children:[u.jsx("div",{className:"border-b bg-card/50 px-6 overflow-x-auto",children:u.jsx(ml,{className:"bg-transparent h-12 w-full justify-start gap-1",children:IMt.map(a=>u.jsxs(lr,{value:a.value,className:"gap-2 data-[state=active]:bg-background","data-testid":`tab-${a.value}`,children:[u.jsx(a.icon,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden sm:inline",children:a.label})]},a.value))})}),u.jsxs("div",{className:"flex-1 overflow-auto",children:[u.jsx(xn,{value:"search",className:"h-full m-0 p-6",children:u.jsx(wMt,{})}),u.jsx(xn,{value:"datasets",className:"h-full m-0 p-6",children:u.jsx(xMt,{})}),u.jsx(xn,{value:"workflow",className:"h-full m-0 p-6",children:u.jsx(CMt,{})}),u.jsx(xn,{value:"telemetry",className:"h-full m-0 p-6",children:u.jsx(EMt,{})}),u.jsx(xn,{value:"devices",className:"h-full m-0 p-6",children:u.jsx(MMt,{})}),u.jsx(xn,{value:"cognisys",className:"h-full m-0 p-6",children:u.jsx(AMt,{})}),u.jsx(xn,{value:"ecosystem",className:"h-full m-0 p-6",children:u.jsx(TMt,{})}),u.jsx(xn,{value:"deployment",className:"h-full m-0 p-6",children:u.jsx(NMt,{})}),u.jsx(xn,{value:"ml",className:"h-full m-0 p-6",children:u.jsx(OMt,{})})]})]})})]})}function DMt(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Be,{className:"w-full max-w-md mx-4",children:u.jsxs(Ke,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(RM,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const LMt=()=>{const{toast:t}=to(),e=Ni(),{token:n}=_a(),[r,i]=vi(),[s,o]=M.useState({}),{data:a,isLoading:l,error:c}=gn({queryKey:["userGitConfig"],queryFn:async()=>{const y=await fetch("/api/git/config",{headers:{Authorization:`Bearer ${n}`}});if(!y.ok){if(y.status===404)return null;const _=await y.json();throw new Error(_.detail||"Failed to fetch user Git config")}return y.json()},enabled:!!n,retry:!1});M.useEffect(()=>{o(a?{default_author_name:a.default_author_name,default_author_email:a.default_author_email,default_repo_url:a.default_repo_url,default_local_path:a.default_local_path,default_branch:a.default_branch}:{})},[a]),M.useEffect(()=>{new URLSearchParams(r.split("?")[1]).get("github_app_installed")==="true"&&(t({title:"GitHub App Installed",description:"The GitHub App has been successfully installed."}),e.invalidateQueries({queryKey:["userGitConfig"]}),i(r.split("?")[0],{replace:!0}))},[r,i,t,e]);const f=Ft({mutationFn:async y=>{const b=await fetch("/api/git/config",{method:a?"PUT":"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(y)});if(!b.ok){const w=await b.json();throw new Error(w.detail||"Failed to save Git configuration")}return b.json()},onSuccess:()=>{t({title:"Success",description:"Git configuration saved."}),e.invalidateQueries({queryKey:["userGitConfig"]})},onError:y=>{t({title:"Error",description:`Failed to save config: ${y.message}`,variant:"destructive"})}}),d=Ft({mutationFn:async()=>{const y=await fetch("/api/git/config/disconnect-github",{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!y.ok){const _=await y.json();throw new Error(_.detail||"Failed to disconnect GitHub")}return y.json()},onSuccess:()=>{t({title:"GitHub Disconnected",description:"Your GitHub account has been disconnected."}),e.invalidateQueries({queryKey:["userGitConfig"]})},onError:y=>{t({title:"Error",description:`Failed to disconnect GitHub: ${y.message}`,variant:"destructive"})}}),h=y=>{const{id:_,value:b}=y.target;o(w=>({...w,[_]:b}))},g=()=>{const y={default_author_name:s.default_author_name,default_author_email:s.default_author_email,default_repo_url:s.default_repo_url,default_local_path:s.default_local_path,default_branch:s.default_branch};f.mutate(y)},v=()=>{if(!n){t({title:"Authentication Error",description:"Could not find authentication token.",variant:"destructive"});return}window.location.href=`/api/git/github/app/install?token=${n}`},x=()=>{m.mutate()},m=Ft({mutationFn:async()=>{const y=await fetch("/api/git/github/app/disconnect",{method:"POST",headers:{Authorization:`Bearer ${n}`}});if(!y.ok){const _=await y.json();throw new Error(_.detail||"Failed to disconnect GitHub App")}return y.json()},onSuccess:()=>{t({title:"GitHub App Disconnected",description:"Your GitHub App has been disconnected."}),e.invalidateQueries({queryKey:["userGitConfig"]})},onError:y=>{t({title:"Error",description:`Failed to disconnect GitHub App: ${y.message}`,variant:"destructive"})}}),p=a&&a.github_app_installation_id;return l?u.jsxs("div",{className:"p-4 text-center",children:[u.jsx(Zt,{className:"h-6 w-6 animate-spin mx-auto"})," Loading Git settings..."]}):c&&c.message!=="Failed to fetch user Git config"?u.jsxs("div",{className:"p-4 text-center text-red-500",children:["Error: ",c.message]}):u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(IM,{className:"h-5 w-5"})," GitHub Integration"]}),u.jsx(Et,{children:"Connect your GitHub account for seamless repository operations."})]}),u.jsxs(Ke,{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-md",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[p?u.jsx($Se,{className:"h-5 w-5 text-green-500"}):u.jsx(o8,{className:"h-5 w-5 text-red-500"}),u.jsx("span",{className:"font-medium",children:p?"Connected to GitHub":"Not Connected to GitHub"})]}),p?u.jsxs(Ce,{variant:"destructive",onClick:x,disabled:d.isPending,children:[d.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(o8,{className:"h-4 w-4 mr-2"}),"Disconnect"]}):u.jsxs(Ce,{onClick:v,disabled:f.isPending,children:[u.jsx(IM,{className:"h-4 w-4 mr-2"})," Connect to GitHub"]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"default_author_name",children:"Default Author Name"}),u.jsx(Dt,{id:"default_author_name",placeholder:"Your Name",value:s.default_author_name||"",onChange:h,disabled:f.isPending})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"default_author_email",children:"Default Author Email"}),u.jsx(Dt,{id:"default_author_email",placeholder:"your@email.com",value:s.default_author_email||"",onChange:h,disabled:f.isPending})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"default_repo_url",children:"Default Repository URL"}),u.jsx(Dt,{id:"default_repo_url",placeholder:"https://github.com/user/repo.git",value:s.default_repo_url||"",onChange:h,disabled:f.isPending})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"default_local_path",children:"Default Local Path"}),u.jsx(Dt,{id:"default_local_path",placeholder:"my-project",value:s.default_local_path||"",onChange:h,disabled:f.isPending})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"default_branch",children:"Default Branch"}),u.jsx(Dt,{id:"default_branch",placeholder:"main",value:s.default_branch||"",onChange:h,disabled:f.isPending})]})]}),u.jsxs(Ce,{className:"w-full",onClick:g,disabled:f.isPending,children:[f.isPending?u.jsx(Zt,{className:"h-4 w-4 mr-2 animate-spin"}):u.jsx(OP,{className:"h-4 w-4 mr-2"}),"Save Git Settings"]})]})]})},FMt=()=>localStorage.getItem("access_token");class BMt extends Error{constructor(e,n,r){super(e),this.name="ApiError",this.status=n,this.data=r}}const yE=async(t,e,n=null)=>{const r=FMt(),i={"Content-Type":"application/json"};r&&(i.Authorization=`Bearer ${r}`);const s={method:t,headers:i};n&&(s.body=JSON.stringify(n));const o=await fetch(e,s);if(!o.ok){let a;try{a=await o.json()}catch{a={detail:"An unknown error occurred."}}throw new BMt(a.detail||`Request failed with status ${o.status}`,o.status,a)}return o.status===204?null:o.json()},ta={get:t=>yE("GET",t),post:(t,e)=>yE("POST",t,e),put:(t,e)=>yE("PUT",t,e),delete:t=>yE("DELETE",t)},UMt=async()=>new Promise(t=>{setTimeout(()=>{t({username:"vareon_user",email:"user@vareon.com"})},500)}),RZ=async t=>new Promise((e,n)=>{setTimeout(()=>{t.username==="admin"?n(new Error('Username "admin" is reserved.')):e({message:"Profile updated successfully!"})},1e3)});function $Mt(){const{toast:t}=to(),{logout:e}=_a(),[,n]=vi(),[r,i]=M.useState(""),[s,o]=M.useState(""),[a,l]=M.useState(""),[c,f]=M.useState(""),[d,h]=M.useState(""),[g,v]=M.useState(!1),[x,m]=M.useState(!1),{data:p,isLoading:y,error:_}=gn({queryKey:["userSubscription"],queryFn:async()=>await ta.get("/api/subscriptions/my-plan"),staleTime:5*60*1e3});M.useEffect(()=>{v(!0),UMt().then(A=>{i(A.username),o(A.email),v(!1)}).catch(A=>{t({title:"Error",description:`Failed to load user data: ${A.message}`,variant:"destructive"}),v(!1)})},[t]);const b=async()=>{v(!0);try{const A={};r&&(A.username=r),s&&(A.email=s),await RZ(A),t({title:"Profile Updated",description:"Your profile information has been updated."})}catch(A){t({title:"Error",description:`Failed to update profile: ${A.message}`,variant:"destructive"})}finally{v(!1)}},w=async()=>{if(v(!0),c!==d){t({title:"Error",description:"New password and confirmation do not match.",variant:"destructive"}),v(!1);return}if(!a||!c){t({title:"Error",description:"Current and new passwords cannot be empty.",variant:"destructive"}),v(!1);return}try{await RZ({password:c}),t({title:"Password Updated",description:"Your password has been changed successfully."}),l(""),f(""),h("")}catch(A){t({title:"Error",description:`Failed to change password: ${A.message}`,variant:"destructive"})}finally{v(!1)}},E=()=>{e(),n("/auth"),t({title:"Logged Out",description:"You have been successfully logged out."})};return g||y?u.jsx("div",{className:"flex justify-center items-center h-full",children:u.jsx("p",{className:"text-muted-foreground",children:"Loading user profile..."})}):(_&&t({title:"Error",description:`Failed to load subscription data: ${_.message}`,variant:"destructive"}),u.jsxs("div",{className:"space-y-6 max-w-3xl mx-auto p-6",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Av,{className:"h-5 w-5 text-primary"}),"User Profile"]}),u.jsx(Et,{children:"Manage your account settings and profile information."})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"username",children:"Username"}),u.jsx(Dt,{id:"username",type:"text",value:r,onChange:A=>i(A.target.value),disabled:g,placeholder:"Enter your username"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"email",children:"Email"}),u.jsx(Dt,{id:"email",type:"email",value:s,onChange:A=>o(A.target.value),disabled:g,placeholder:"Enter your email"})]}),u.jsxs(Ce,{onClick:b,disabled:g,children:[u.jsx(Av,{className:"h-4 w-4 mr-2"}),g?"Saving...":"Save Profile"]})]})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(LD,{className:"h-5 w-5 text-primary"}),"Change Password"]}),u.jsx(Et,{children:"Update your account password."})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"current-password",children:"Current Password"}),u.jsx(Dt,{id:"current-password",type:"password",value:a,onChange:A=>l(A.target.value),disabled:g,placeholder:"Enter your current password"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"new-password",children:"New Password"}),u.jsx(Dt,{id:"new-password",type:"password",value:c,onChange:A=>f(A.target.value),disabled:g,placeholder:"Enter your new password"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(ht,{htmlFor:"confirm-new-password",children:"Confirm New Password"}),u.jsx(Dt,{id:"confirm-new-password",type:"password",value:d,onChange:A=>h(A.target.value),disabled:g,placeholder:"Confirm your new password"})]}),u.jsxs(Ce,{onClick:w,disabled:g,children:[u.jsx(LD,{className:"h-4 w-4 mr-2"}),g?"Changing...":"Change Password"]})]})]}),u.jsx(LMt,{}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(ate,{className:"h-5 w-5 text-primary"}),"Subscription Management"]}),u.jsx(Et,{children:"Manage your subscription and view plan details."})]}),u.jsxs(Ke,{className:"space-y-4",children:[y?u.jsx("p",{className:"text-muted-foreground",children:"Loading subscription details..."}):p?u.jsxs("div",{className:"space-y-2",children:[u.jsxs("p",{children:["Your current plan: ",u.jsx("span",{className:"font-bold text-green-400",children:p.plan.name})]}),u.jsxs("p",{children:["Status: ",u.jsx("span",{className:"font-bold",children:p.status})]}),p.end_date&&u.jsxs("p",{children:["Renews on: ",u.jsx("span",{className:"font-bold",children:So(new Date(p.end_date),"PPP")})]}),p.plan.demo_credits!==void 0&&p.plan.demo_credits!==null&&u.jsxs("p",{children:["Remaining Demo Credits: ",u.jsx("span",{className:"font-bold",children:p.plan.demo_credits})]})]}):u.jsx("p",{className:"text-muted-foreground",children:"No active subscription found."}),u.jsx(La,{href:"/pricing",children:u.jsx(Ce,{variant:"outline",children:p&&p.plan.name!=="Enterprise"?"Upgrade Plan":"View Plans"})})]})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(n8,{className:"h-5 w-5 text-primary"}),"Account Actions"]}),u.jsx(Et,{children:"Perform actions related to your account."})]}),u.jsx(Ke,{children:u.jsxs(Ce,{variant:"destructive",onClick:E,disabled:g,children:[u.jsx(n8,{className:"h-4 w-4 mr-2"}),"Logout"]})})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsxs(qe,{className:"flex items-center gap-2",children:[u.jsx(Ev,{className:"h-5 w-5 text-primary"}),"Developer Program"]}),u.jsx(Et,{children:"Join the Vareon Developer Program to access SDKs for ecosystem modules and earn rewards."})]}),u.jsxs(Ke,{children:[u.jsx(Ce,{onClick:()=>m(A=>!A),children:x?"Leave Developer Program":"Join as Vareon Developer"}),x&&u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"You have access to Aura (SDK) and Nexa (Rewards) pages."})]})]})]}))}function zMt(){return u.jsxs("div",{className:"min-h-screen",children:[u.jsx(hdt,{}),u.jsx(fdt,{}),u.jsx(ldt,{})]})}function HMt(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(hN,{}),u.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary/20 via-background to-background py-24",children:[u.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle at 2px 2px, hsl(var(--primary) / 0.15) 1px, transparent 0)",backgroundSize:"32px 32px"}}),u.jsx("div",{className:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"text-center",children:[u.jsxs("div",{className:"mb-6 inline-flex items-center space-x-2 rounded-full border border-primary/20 bg-primary/10 px-4 py-2",children:[u.jsx(uf,{className:"h-4 w-4 text-primary"}),u.jsx("span",{className:"text-sm font-medium text-primary",children:"AI Core Engine"})]}),u.jsx("h1",{className:"mb-6 text-5xl font-bold tracking-tight text-foreground sm:text-6xl",children:"Arcana AI"}),u.jsx("p",{className:"mx-auto mb-12 max-w-3xl text-xl text-muted-foreground",children:"Multi-model LLM orchestration platform powering intelligent code generation, shell command conversion, and contextual reasoning across the VAREON ecosystem."}),u.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[u.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[u.jsx("div",{className:"text-2xl font-bold text-primary",children:"6"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Core Capabilities"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[u.jsx("div",{className:"text-2xl font-bold text-chart-2",children:"5+"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"LLM Models"})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card px-6 py-4",children:[u.jsx("div",{className:"text-2xl font-bold text-chart-3",children:"Real-time"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Streaming"})]})]})]})})]}),u.jsx(adt,{}),u.jsx("div",{className:"bg-card py-24",children:u.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:u.jsx("div",{className:"rounded-2xl border border-border bg-background p-8 md:p-12",children:u.jsxs("div",{className:"flex items-start space-x-4",children:[u.jsx(IP,{className:"h-8 w-8 shrink-0 text-primary"}),u.jsxs("div",{children:[u.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"Seamless Integration with MYNTRIX"}),u.jsxs("p",{className:"mb-6 text-muted-foreground",children:["The legacy Arcana codebase has been integrated into MYNTRIX Core through a sophisticated adapter layer. All original modules (ai_core.py, ai_services.py, llm_utils.py, file_utils.py, shell_utils.py) are preserved in ",u.jsx("code",{className:"rounded bg-muted px-2 py-1 font-mono text-sm",children:"myntrix_core/lib/legacy/"})," and accessed through safe wrapper functions. This architecture enables:"]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Code Preservation"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Original Arcana files remain untouched, ensuring backward compatibility and easy updates"})]}),u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Modern API Integration"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"New MYNTRIX endpoints leverage legacy AI capabilities through clean adapter interfaces"})]}),u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Safety Wrappers"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Timeout protection, error handling, and validation layers around legacy functions"})]}),u.jsxs("div",{className:"rounded-lg border border-border bg-card p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Gradual Migration Path"}),u.jsx("div",{className:"text-sm text-muted-foreground",children:"Ability to refactor legacy code incrementally while maintaining full system functionality"})]})]})]})]})})})}),u.jsx(pN,{})]})}function VMt(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(hN,{}),u.jsx("div",{className:"bg-gradient-to-br from-chart-2/20 via-background to-background py-16",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[u.jsx(lte,{className:"h-8 w-8 text-chart-2"}),u.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"NEOSYNTIS Lab"})]}),u.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Interactive AI research dashboard powered by NeuroNet. Real-time chat, code generation, shell terminal, and telemetry visualization in a unified development environment."})]})}),u.jsx("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:u.jsxs(pc,{defaultValue:"chat",className:"space-y-6",children:[u.jsxs(ml,{className:"grid w-full grid-cols-3 lg:w-auto",children:[u.jsx(lr,{value:"chat","data-testid":"tab-chat",children:"AI Chat"}),u.jsx(lr,{value:"terminal","data-testid":"tab-terminal",children:"Terminal"}),u.jsx(lr,{value:"telemetry","data-testid":"tab-telemetry",children:"Telemetry"})]}),u.jsx(xn,{value:"chat",className:"space-y-6",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(udt,{})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Active Models"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Intent Detection"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Code Generation"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]}),u.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-muted/50 p-3",children:[u.jsx("span",{className:"text-sm text-foreground",children:"Conversation"}),u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"})]})]})]}),u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Token Usage"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Session"}),u.jsx("span",{className:"font-medium text-foreground",children:"2,450"})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Total"}),u.jsx("span",{className:"font-medium text-foreground",children:"15,230"})]}),u.jsx("div",{className:"h-2 overflow-hidden rounded-full bg-muted",children:u.jsx("div",{className:"h-full w-[45%] bg-primary"})})]})]})]})]})}),u.jsx(xn,{value:"terminal",children:u.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(vdt,{})}),u.jsxs("div",{className:"rounded-xl border border-border bg-card p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Command History"}),u.jsxs("div",{className:"space-y-2 font-mono text-sm",children:[u.jsx("div",{className:"text-muted-foreground",children:"$ ls -la"}),u.jsx("div",{className:"text-muted-foreground",children:"$ pwd"}),u.jsx("div",{className:"text-muted-foreground",children:"$ cat ai_core.py"}),u.jsx("div",{className:"text-muted-foreground",children:"$ python main.py"})]})]})]})}),u.jsx(xn,{value:"telemetry",children:u.jsx(gdt,{})})]})}),u.jsx(pN,{})]})}const WMt=[{icon:XSe,title:"Safety Validation",description:"Multi-layer safety checks including forbidden command detection, coordinate bounds validation, and feedrate limits."},{icon:cB,title:"Dry-run Simulation",description:"Execute jobs in simulation mode to validate behavior before committing to production hardware."},{icon:kP,title:"Telemetry & Logging",description:"Real-time telemetry ingestion with journal entries and comprehensive execution history."}];function GMt(){return u.jsxs("div",{className:"min-h-screen bg-background",children:[u.jsx(hN,{}),u.jsx("div",{className:"bg-gradient-to-br from-chart-3/20 via-background to-background py-16",children:u.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8 flex items-center space-x-3",children:[u.jsx(Ja,{className:"h-8 w-8 text-chart-3"}),u.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"MYNTRIX Core"})]}),u.jsx("p",{className:"max-w-3xl text-lg text-muted-foreground",children:"Manufacturing execution system adapted from NeuroNet architecture. Intelligent job planning, validation, and execution with human-in-loop safety protocols."})]})}),u.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"grid gap-8 lg:grid-cols-3",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx(pdt,{})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs(Be,{className:"border border-card-border p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"System Status"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Validator"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-sm text-foreground",children:"Online"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"Executor"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-3"}),u.jsx("span",{className:"text-sm text-foreground",children:"Ready"})]})]}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm text-muted-foreground",children:"MQTT Bridge"}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"h-2 w-2 rounded-full bg-chart-5"}),u.jsx("span",{className:"text-sm text-foreground",children:"Mock Mode"})]})]})]})]}),u.jsxs(Be,{className:"border border-card-border p-6",children:[u.jsx("h3",{className:"mb-4 font-semibold text-foreground",children:"Recent Jobs"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[u.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_x7k2m"}),u.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),u.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 1 - Dry Run"})]}),u.jsxs("div",{className:"rounded-lg bg-muted/50 p-3",children:[u.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[u.jsx("span",{className:"font-mono text-xs text-muted-foreground",children:"job_p9n4q"}),u.jsx("span",{className:"text-xs text-chart-3",children:"Success"})]}),u.jsx("div",{className:"text-sm text-foreground",children:"CNC Node 2 - Validate"})]})]})]})]})]}),u.jsxs("div",{className:"mt-16",children:[u.jsx("h2",{className:"mb-8 text-center text-3xl font-bold text-foreground",children:"Core Modules"}),u.jsx("div",{className:"grid gap-6 md:grid-cols-3",children:WMt.map(t=>u.jsxs(Be,{className:"border border-card-border p-6 hover-elevate",children:[u.jsx(t.icon,{className:"mb-4 h-10 w-10 text-primary"}),u.jsx("h3",{className:"mb-3 text-xl font-semibold text-foreground",children:t.title}),u.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},t.title))})]}),u.jsxs("div",{className:"mt-16 rounded-2xl border border-primary/20 bg-primary/10 p-8",children:[u.jsx("h3",{className:"mb-4 text-2xl font-bold text-foreground",children:"NeuroNet Integration"}),u.jsx("p",{className:"text-muted-foreground",children:"MYNTRIX Core is built on the foundation of the legacy NeuroNet system. The planner module uses the NeuroNet AI adapter to leverage reasoning capabilities, while the validator integrates legacy safety checks. This hybrid architecture combines proven AI intelligence with modern manufacturing execution standards."}),u.jsxs("div",{className:"mt-6 grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"rounded-lg bg-background p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"Legacy Adapter Layer"}),u.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/legacy_adapter.py"})]}),u.jsxs("div",{className:"rounded-lg bg-background p-4",children:[u.jsx("div",{className:"mb-2 font-semibold text-foreground",children:"MQTT Bridge"}),u.jsx("code",{className:"text-sm text-muted-foreground",children:"myntrix_core/adapters/mqtt_bridge.py"})]})]})]})]}),u.jsx(pN,{})]})}function qMt(){return u.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:u.jsx(Be,{className:"w-full max-w-md mx-4",children:u.jsxs(Ke,{className:"pt-6",children:[u.jsxs("div",{className:"flex mb-4 gap-2",children:[u.jsx(RM,{className:"h-8 w-8 text-red-500"}),u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),u.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function KMt(){return u.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center py-12",children:u.jsx(cdt,{})})}const XMt="";function YMt(){const[t,e]=vi(),[n,r]=M.useState(null),[i,s]=M.useState(null),{toast:o}=to(),a=Ft({mutationFn:async({email:d,token:h})=>{const g=await fetch(`${XMt}/api/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:d,token:h})});if(!g.ok){const v=await g.json();throw new Error(v.detail||"Verification failed.")}return g.json()},onSuccess:d=>{o({title:"Success!",description:d.message||"Email verified successfully. Redirecting...",variant:"default"}),setTimeout(()=>{e("/pricing")},1500)},onError:d=>{o({title:"Verification Failed",description:d.message||"An error occurred during verification.",variant:"destructive"})}});M.useEffect(()=>{const d=window.location.search.substring(1),h=new URLSearchParams(d||""),g=h.get("email"),v=h.get("token");r(g),s(v),(!g||!v)&&o({title:"Invalid Link",description:"The verification link is missing required parameters.",variant:"destructive"})},[t,o]);const l=()=>{e("/auth")},c=()=>{n&&i?a.mutate({email:n,token:i}):o({title:"Error",description:"Cannot verify: email or token is missing.",variant:"destructive"})},f=()=>a.isPending?u.jsxs(Ce,{className:"w-full",disabled:!0,children:[u.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Verifying..."]}):a.isSuccess?u.jsx(Ce,{onClick:l,className:"w-full",children:"Back to Login"}):n&&i?u.jsx(Ce,{onClick:c,className:"w-full",children:"Verify Email"}):u.jsx(Ce,{onClick:l,className:"w-full",children:"Back to Login"});return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:u.jsxs(Be,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[u.jsxs(Xe,{className:"text-center",children:[u.jsx(qe,{className:"text-3xl font-bold",children:"Email Verification"}),u.jsx(Et,{children:a.isPending?"Verifying your email address...":a.isSuccess?"Your email has been successfully verified!":a.isError?"There was an issue verifying your email. Please try again or request a new link.":"Click the button below to verify your email address."})]}),u.jsx(Ke,{className:"flex flex-col items-center space-y-4",children:f()})]})})}function ZMt(){const[,t]=vi(),e=()=>{t("/auth")};return u.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center py-12",children:u.jsxs(Be,{className:"w-full max-w-md mx-auto bg-card/80 backdrop-blur-sm border-primary/20 shadow-lg",children:[u.jsxs(Xe,{className:"text-center",children:[u.jsx(qe,{className:"text-3xl font-bold",children:"Check Your Email"}),u.jsx(Et,{children:"A verification link has been sent to your email address. Please click the link in the email to verify your account and complete your registration."})]}),u.jsx(Ke,{className:"flex flex-col items-center space-y-4",children:u.jsx(Ce,{onClick:e,className:"w-full",children:"Back to Login"})})]})})}const QMt=({plan:t,billingCycle:e,onSelect:n})=>{const r=t.name==="Enterprise",i=t.name==="Professional",s=e==="monthly"?t.price_monthly:t.price_yearly,o=e==="monthly"?"/mo":"/yr",a=l=>l===-1?"Custom":`Rp ${l.toLocaleString("id-ID")}`;return u.jsxs("div",{className:`
        border-2 rounded-lg p-4 flex flex-col min-h-[300px]
        ${i?"border-purple-500 bg-purple-900/10":"border-gray-700"}
        transform hover:scale-105 transition-transform duration-300
      `,children:[i&&u.jsx("div",{className:"text-center mb-3",children:u.jsx("span",{className:"bg-purple-500 text-white text-sm font-bold px-3 py-1 rounded-full",children:"Most Popular"})}),u.jsx("h2",{className:"text-2xl font-bold text-center mb-3",children:t.name}),u.jsxs("div",{className:"text-3xl font-bold text-center mb-4",children:[a(s),s>0&&u.jsx("span",{className:"text-base font-normal text-gray-400",children:o})]}),u.jsx("ul",{className:"space-y-2 mb-6 text-gray-300 flex-grow",children:t.features.map((l,c)=>u.jsxs("li",{className:"flex items-start",children:[u.jsx("svg",{className:"w-5 h-5 mr-2 text-green-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),u.jsx("span",{children:l})]},c))}),u.jsx("button",{onClick:n,className:`
          w-full py-3 rounded-lg font-bold text-lg mt-auto
          transition-all duration-300
          ${r?"bg-indigo-600 hover:bg-indigo-700":i?"bg-purple-600 hover:bg-purple-700":"bg-gray-600 hover:bg-gray-700"}
          text-white
        `,children:r?"Contact Us":"Select Plan"})]})},JMt=()=>{const[t,e]=M.useState([]),[n,r]=M.useState(!0),[i,s]=M.useState(null),[,o]=vi(),[a,l]=M.useState("monthly");M.useEffect(()=>{(async()=>{try{r(!0);const h=await ta.get("/api/subscriptions/plans");e(h.sort((g,v)=>g.name==="Enterprise"?1:v.name==="Enterprise"?-1:0)),s(null)}catch(h){s("Failed to load subscription plans. Please try again later."),console.error(h)}finally{r(!1)}})()},[]);const c=async d=>{try{await ta.post("/api/subscriptions/select-plan",{plan_id:d}),o("/")}catch(h){s("Failed to select a plan. Please try again."),console.error(h)}},f=async()=>{try{await ta.post("/api/subscriptions/skip",{}),o("/")}catch(d){s("An error occurred. Please try again."),console.error(d)}};return n?u.jsx("div",{className:"text-center p-8",children:"Loading plans..."}):i?u.jsx("div",{className:"text-center p-8 text-red-500",children:i}):u.jsx("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-4 sm:p-6 md:p-8",children:u.jsxs("div",{className:"w-full max-w-6xl mx-auto",children:[u.jsxs("div",{className:"text-center mb-12",children:[u.jsx("h1",{className:"text-4xl sm:text-5xl font-bold mb-4",children:"Choose Your Plan"}),u.jsx("p",{className:"text-lg text-gray-400",children:"Start your journey with Vareon. Pick a plan that suits your needs."})]}),u.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-12",children:[u.jsx(ht,{htmlFor:"billing-cycle",className:a==="monthly"?"text-white":"text-gray-400",children:"Monthly"}),u.jsx(ru,{id:"billing-cycle",checked:a==="yearly",onCheckedChange:d=>l(d?"yearly":"monthly")}),u.jsx(ht,{htmlFor:"billing-cycle",className:a==="yearly"?"text-white":"text-gray-400",children:"Yearly"}),u.jsx("span",{className:"bg-green-500 text-white text-xs font-bold px-2 py-1 rounded-full",children:"Save 2 Months!"})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map(d=>u.jsx(QMt,{plan:d,billingCycle:a,onSelect:()=>c(d.id)},d.id))}),u.jsx("div",{className:"text-center mt-12",children:u.jsx("button",{onClick:f,className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Skip for now "})})]})})},wj=[{name:"Neosyntis Core SDK",description:"Integrate Neosyntis data processing and storage capabilities into your applications.",docsLink:"#",repoLink:"#",status:"stable"},{name:"Myntrix AI SDK",description:"Leverage Myntrix AI models for advanced analytics and intelligent decision-making.",docsLink:"#",repoLink:"#",status:"stable"},{name:"Arcana Agent SDK",description:"Develop custom AI agents and integrate them seamlessly into the Arcana orchestration layer.",docsLink:"#",repoLink:"#",status:"beta"},{name:"Cognisys Vision SDK",description:"Access Cognisys computer vision and perception services for image and video analysis.",docsLink:"#",repoLink:"#",status:"stable"},{name:"Vareon Ecosystem Builder SDK",description:"Build and integrate new modules into the Vareon ecosystem via Neosyntis.",docsLink:"#",repoLink:"#",status:"alpha"}];function eAt(){var t,e;return u.jsx("div",{className:"space-y-8 p-6 max-w-6xl mx-auto",children:u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-3xl font-bold",children:"Aura SDK Platform"}),u.jsx(Et,{children:"Empower your development with Vareon's modular ecosystem. Integrate existing powerful modules or build your own with our comprehensive SDKs."})]}),u.jsxs(Ke,{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Existing Vareon Module SDKs"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:wj.filter(n=>n.status!=="alpha").map((n,r)=>u.jsxs(Be,{className:"flex flex-col justify-between",children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-xl",children:n.name}),u.jsx(Et,{children:n.description})]}),u.jsxs(Ke,{className:"flex flex-col space-y-2",children:[u.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:["Status: ",u.jsx("span",{className:`font-medium ${n.status==="stable"?"text-green-500":"text-yellow-500"}`,children:n.status.toUpperCase()})]}),u.jsxs("div",{className:"flex space-x-2 mt-auto",children:[u.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("a",{href:n.docsLink,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Rd,{className:"h-4 w-4 mr-2"})," Docs"]})}),u.jsx(Ce,{variant:"outline",size:"sm",asChild:!0,children:u.jsxs("a",{href:n.repoLink,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Rd,{className:"h-4 w-4 mr-2"})," Repo"]})})]})]})]},r))})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-2xl font-semibold mb-4",children:"Ecosystem Builder SDK (via Neosyntis)"}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-xl",children:"Vareon Ecosystem Builder SDK"}),u.jsx(Et,{children:"Utilize the Neosyntis framework to develop and integrate your own custom modules into the Vareon ecosystem. Expand Vareon's capabilities with your innovations."})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsx("p",{className:"text-muted-foreground",children:"This SDK provides tools, APIs, and guidelines to ensure seamless integration and compatibility with existing Vareon services."}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Ce,{asChild:!0,children:u.jsxs("a",{href:(t=wj.find(n=>n.name==="Vareon Ecosystem Builder SDK"))==null?void 0:t.docsLink,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Rd,{className:"h-4 w-4 mr-2"})," Get Started with Builder SDK"]})}),u.jsx(Ce,{variant:"outline",asChild:!0,children:u.jsxs("a",{href:(e=wj.find(n=>n.name==="Vareon Ecosystem Builder SDK"))==null?void 0:e.repoLink,target:"_blank",rel:"noopener noreferrer",children:[u.jsx(Rd,{className:"h-4 w-4 mr-2"})," View Builder SDK on GitHub"]})})]}),u.jsxs("div",{className:"mt-6 p-4 border-l-4 border-blue-500 bg-blue-900/10 text-blue-200",children:[u.jsx("p",{className:"font-semibold",children:"Backend Integration Placeholder:"}),u.jsx("p",{className:"text-sm",children:"Future API endpoints will provide dynamic SDK listings, versioning, and developer-specific resources."}),u.jsxs("p",{className:"text-sm",children:["e.g., ",u.jsx("code",{className:"bg-blue-800/50 p-1 rounded",children:"GET /api/aura/sdks"}),",",u.jsx("code",{className:"bg-blue-800/50 p-1 rounded",children:"POST /api/aura/modules/register"})]})]})]})]})]})]})]})})}const kZ=[{id:"tx_001",type:"reward",amount:100,token:"VAI",date:"2025-11-10T10:00:00Z",hash:"0xabc123def456abc123def456abc123def456abc1"},{id:"tx_002",type:"transfer",amount:-50,token:"VAI",date:"2025-11-09T14:30:00Z",hash:"0xdef456abc123def456abc123def456abc123def"},{id:"tx_003",type:"reward",amount:250,token:"VAI",date:"2025-11-08T09:15:00Z",hash:"0x123def456abc123def456abc123def456abc12"},{id:"tx_004",type:"liquidity",amount:500,token:"VAI",date:"2025-11-07T11:00:00Z",hash:"0x456abc123def456abc123def456abc123def45"}];function tAt(){const[t,e]=M.useState(.75),[n,r]=M.useState(15e6),[i,s]=M.useState(5e6);return M.useEffect(()=>{const o=setInterval(()=>{e(a=>parseFloat((a+(Math.random()-.5)*.01).toFixed(2))),r(a=>a+Math.floor((Math.random()-.5)*1e5)),s(a=>a+Math.floor((Math.random()-.5)*1e4))},5e3);return()=>clearInterval(o)},[]),u.jsx("div",{className:"space-y-8 p-6 max-w-6xl mx-auto",children:u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-3xl font-bold",children:"Nexa Rewards & Tokenomics"}),u.jsx(Et,{children:"Track your VAI token rewards, real-time token data, and transaction history."})]}),u.jsxs(Ke,{className:"space-y-6",children:[u.jsxs("section",{children:[u.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx(hte,{className:"h-6 w-6 text-primary"})," Real-time VAI Token Data"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs(Be,{className:"p-4",children:[u.jsx(qe,{className:"text-lg text-muted-foreground",children:"Current VAI Price"}),u.jsxs(Ke,{className:"text-3xl font-bold text-primary",children:["$",t.toFixed(2)]})]}),u.jsxs(Be,{className:"p-4",children:[u.jsx(qe,{className:"text-lg text-muted-foreground",children:"Market Cap"}),u.jsxs(Ke,{className:"text-3xl font-bold",children:["$",n.toLocaleString()]})]}),u.jsxs(Be,{className:"p-4",children:[u.jsx(qe,{className:"text-lg text-muted-foreground",children:"Total Liquidity"}),u.jsxs(Ke,{className:"text-3xl font-bold",children:["$",i.toLocaleString()]})]})]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Data simulated for demonstration. Real-time data will be fetched from Etherscan."}),u.jsxs("div",{className:"mt-6 p-4 border-l-4 border-purple-500 bg-purple-900/10 text-purple-200",children:[u.jsx("p",{className:"font-semibold",children:"Etherscan Integration Placeholder:"}),u.jsx("p",{className:"text-sm",children:"Future integration with Etherscan API for real-time token price, liquidity, and contract information."}),u.jsxs("p",{className:"text-sm",children:["e.g., ",u.jsx("code",{className:"bg-purple-800/50 p-1 rounded",children:"GET https://api.etherscan.io/api?..."})]})]})]}),u.jsxs("section",{children:[u.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx(cte,{className:"h-6 w-6 text-primary"})," Your Transaction History"]}),kZ.length===0?u.jsx("p",{className:"text-muted-foreground",children:"No transactions found."}):u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Type"}),u.jsx(yn,{children:"Amount"}),u.jsx(yn,{children:"Date"}),u.jsx(yn,{children:"Transaction Hash"}),u.jsx(yn,{className:"text-right",children:"Details"})]})}),u.jsx(xu,{children:kZ.map(o=>u.jsxs(Ti,{children:[u.jsx(vn,{className:"font-medium capitalize",children:o.type}),u.jsxs(vn,{className:o.amount>0?"text-green-500":"text-red-500",children:[o.amount>0?"+":"",o.amount," ",o.token]}),u.jsx(vn,{children:So(new Date(o.date),"PPP p")}),u.jsxs(vn,{className:"font-mono text-xs",children:[o.hash.substring(0,10),"...",o.hash.substring(o.hash.length-8)]}),u.jsx(vn,{className:"text-right",children:u.jsx(Ce,{variant:"ghost",size:"sm",asChild:!0,children:u.jsx("a",{href:`https://etherscan.io/tx/${o.hash}`,target:"_blank",rel:"noopener noreferrer",children:u.jsx(Rd,{className:"h-4 w-4"})})})})]},o.id))})]}),u.jsxs("div",{className:"mt-6 p-4 border-l-4 border-blue-500 bg-blue-900/10 text-blue-200",children:[u.jsx("p",{className:"font-semibold",children:"Backend Reward API Placeholder:"}),u.jsx("p",{className:"text-sm",children:"Future API endpoints will provide user-specific reward history and token balances."}),u.jsxs("p",{className:"text-sm",children:["e.g., ",u.jsx("code",{className:"bg-blue-800/50 p-1 rounded",children:"GET /api/nexa/rewards/history"}),",",u.jsx("code",{className:"bg-blue-800/50 p-1 rounded",children:"GET /api/nexa/balance"})]})]})]}),u.jsxs("section",{children:[u.jsxs("h3",{className:"text-2xl font-semibold mb-4 flex items-center gap-2",children:[u.jsx(tCe,{className:"h-6 w-6 text-primary"})," Your VAI Wallet"]}),u.jsxs(Be,{className:"p-4",children:[u.jsx(qe,{className:"text-lg text-muted-foreground",children:"Current VAI Balance"}),u.jsx(Ke,{className:"text-4xl font-bold text-primary",children:"1,234.56 VAI"}),u.jsx(Et,{children:"This balance reflects your VAI tokens earned through contributions and development."}),u.jsx(Ce,{className:"mt-4",children:"Withdraw VAI"})]})]})]})]})})}const OZ=({text:t,delay:e=20,onComplete:n,prefix:r=""})=>{const[i,s]=M.useState(""),[o,a]=M.useState(0);return M.useEffect(()=>{if(o<t.length){const l=setTimeout(()=>{s(c=>c+t[o]),a(c=>c+1)},e);return()=>clearTimeout(l)}else n&&n()},[t,e,o,n]),u.jsxs(u.Fragment,{children:[r,i]})};function nAt(){const{toast:t}=to(),[e,n]=M.useState([]),[r,i]=M.useState(""),[s,o]=M.useState(!0),[a,l]=M.useState(!1),[c,f]=M.useState(null),[d,h]=M.useState(null),[g,v]=M.useState(null),[x,m]=M.useState([]),[p,y]=M.useState(!1),_=["> arcana login --key <YOUR_API_KEY>","Successfully authenticated with Arcana CLI.","> arcana agent list","Fetching available agents...","  ID        NAME","  --------------------","  agent-1   CodeGenerator","  agent-2   DataAnalyzer","  agent-3   ResearchAssistant",'> arcana task create --agent CodeGenerator --prompt "Develop a Python script for data parsing."',"Task 'develop-python-script' created successfully.","Monitoring task 'develop-python-script'...","Task 'develop-python-script' completed. Output saved to 'output/develop-python-script.py'."];M.useEffect(()=>{let re=0,me;const he=()=>{if(re<_.length){const Se=_[re];m(Re=>[...Re,Se]),re++,y(!0),me=setTimeout(()=>{y(!1),he()},Se.length*50+1e3)}},Ae=setTimeout(()=>{he()},1e3);return()=>{clearTimeout(me),clearTimeout(Ae)}},[]);const[b,w]=M.useState([]),[E,A]=M.useState(""),[T,P]=M.useState(""),[N,O]=M.useState(!0),[I,D]=M.useState(!1),[F,$]=M.useState(null),[z,H]=M.useState([]),[R,j]=M.useState([]),[B,W]=M.useState(""),[G,K]=M.useState(""),ie=re=>{v(g===re?null:re)},le=async()=>{o(!0);try{const re=await ta.get("/arcana/api-keys/");n(re)}catch(re){t({title:"Error fetching API keys",description:re.message||"An unexpected error occurred.",variant:"destructive"})}finally{o(!1)}},J=async()=>{O(!0);try{const re=await ta.get("/arcana/cli-configs/");w(re)}catch(re){t({title:"Error fetching CLI configurations",description:re.message||"An unexpected error occurred.",variant:"destructive"})}finally{O(!1)}},U=async()=>{try{const re=await ta.get("/arcana/agents/");H(re)}catch(re){t({title:"Error fetching agents",description:re.message||"An unexpected error occurred.",variant:"destructive"})}},X=async()=>{try{const re=await ta.get("/cognisys/models/");j(re)}catch(re){t({title:"Error fetching models",description:re.message||"An unexpected error occurred.",variant:"destructive"})}};M.useEffect(()=>{le(),J(),U(),X()},[]),M.useEffect(()=>{const re=b.find(he=>he.key==="default_agent_id");re&&W(re.value);const me=b.find(he=>he.key==="preferred_model");me&&K(me.value)},[b]);const Q=async()=>{if(!r.trim()){t({title:"API Key name is required",variant:"destructive"});return}l(!0);try{const re=await ta.post("/arcana/api-keys/",{name:r});n(me=>[...me,re]),i(""),t({title:"API Key generated successfully!",description:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"font-mono bg-gray-100 dark:bg-gray-700 p-1 rounded text-foreground select-all",children:re.key}),u.jsxs(Ce,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(re.key),t({title:"Copied to clipboard!",duration:2e3})},children:[u.jsx(t8,{className:"h-4 w-4 mr-2"})," Copy"]})]}),duration:1e4})}catch(re){t({title:"Error generating API key",description:re.message||"An unexpected error occurred.",variant:"destructive"})}finally{l(!1)}},te=async re=>{h(re)},ue=async()=>{if(d){f(d);try{await ta.delete(`/arcana/api-keys/${d}`),n(re=>re.map(me=>me.id===d?{...me,is_active:!1}:me)),t({title:"API Key deactivated",description:"The API key has been successfully deactivated."})}catch(re){t({title:"Error deactivating API key",description:re.message||"An unexpected error occurred.",variant:"destructive"})}finally{f(null),h(null)}}},ee=()=>{h(null)},Y=async(re,me)=>{if(!re.trim()||!me.trim()){t({title:"Configuration key and value are required",variant:"destructive"});return}D(!0);try{const he=await ta.post("/arcana/cli-configs/",{key:re,value:me});w(Ae=>{const Se=Ae.findIndex(Re=>Re.key===he.key);if(Se>-1){const Re=[...Ae];return Re[Se]=he,Re}return[...Ae,he]}),re===E&&me===T&&(A(""),P("")),t({title:"CLI Configuration set successfully!",description:`Key: ${he.key}, Value: ${he.value}`})}catch(he){t({title:"Error setting CLI configuration",description:he.message||"An unexpected error occurred.",variant:"destructive"})}finally{D(!1)}},se=async re=>{$(re);try{await ta.delete(`/arcana/cli-configs/${re}`),w(me=>me.filter(he=>he.key!==re)),t({title:"CLI Configuration deleted",description:`Configuration for key '${re}' has been deleted.`})}catch(me){t({title:"Error deleting CLI configuration",description:me.message||"An unexpected error occurred.",variant:"destructive"})}finally{$(null)}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{children:"Arcana CLI Agent"}),u.jsx(Et,{children:"Integrate Arcana's powerful AI capabilities directly into your terminal."})]}),u.jsxs(Ke,{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Installation"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"To install the Arcana CLI Agent, please refer to the official documentation for platform-specific instructions. Typically, it involves a global npm installation:"}),u.jsxs("div",{className:"relative rounded-md bg-gray-800 p-3 font-mono text-sm text-white",children:[u.jsx("pre",{children:"npm install -g @vareon/arcana-cli-agent"}),u.jsx(Ce,{variant:"ghost",size:"sm",className:"absolute right-2 top-2 text-gray-400 hover:text-white",onClick:()=>{navigator.clipboard.writeText("npm install -g @vareon/arcana-cli-agent"),t({title:"Copied to clipboard!"})},children:u.jsx(t8,{className:"h-4 w-4"})})]}),u.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"After installation, configure your CLI using the API Key generated below."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Generate API Key"}),u.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Generate an API key to authenticate your CLI agent with Vareon."}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(Dt,{placeholder:"Name for your API Key (e.g., 'My Laptop CLI')",value:r,onChange:re=>i(re.target.value),disabled:a}),u.jsxs(Ce,{onClick:Q,disabled:a,children:[a&&u.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Generate Key"]})]})]})]})]}),u.jsxs(Be,{className:"bg-gray-900 text-green-400 font-mono",children:[u.jsxs(Xe,{children:[u.jsx(qe,{className:"text-green-300",children:"Arcana CLI Usage Example"}),u.jsx(Et,{className:"text-gray-400",children:"See how to interact with the Arcana CLI Agent."})]}),u.jsxs(Ke,{className:"space-y-1 p-4",children:[x.map((re,me)=>u.jsx("div",{className:"flex items-center",children:re.startsWith(">")?u.jsx(OZ,{text:re.substring(2),prefix:"> ",delay:50}):u.jsx(OZ,{text:re,delay:30})},me)),p&&u.jsx("span",{className:"animate-blink-caret text-green-400",children:"_"})]})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{children:"CLI Configurations"}),u.jsx(Et,{children:"Manage user-specific configurations for your Arcana CLI Agent."})]}),u.jsxs(Ke,{className:"space-y-6",children:[" ",u.jsxs("div",{className:"grid gap-4",children:[" ",u.jsxs("div",{className:"grid grid-cols-[120px_1fr_auto] items-center gap-4",children:[" ",u.jsx("label",{htmlFor:"default-agent-id",className:"text-right text-sm",children:"Default Agent:"}),u.jsxs(Hn,{value:B,onValueChange:W,disabled:I,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select a default agent"})}),u.jsxs(Bn,{children:[z.length===0&&u.jsx(dt,{value:"no-agents-available",disabled:!0,children:"No agents available"}),z.map(re=>u.jsx(dt,{value:re.id,children:re.name},re.id))]})]}),u.jsxs(Ce,{onClick:()=>Y("default_agent_id",B),disabled:I||!B,children:[I&&u.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Set Agent"]})]}),u.jsxs("div",{className:"grid grid-cols-[120px_1fr_auto] items-center gap-4",children:[" ",u.jsx("label",{htmlFor:"preferred-model",className:"text-right text-sm",children:"Preferred Model:"}),u.jsxs(Hn,{value:G,onValueChange:K,disabled:I,children:[u.jsx(Fn,{children:u.jsx(Vn,{placeholder:"Select a preferred model"})}),u.jsxs(Bn,{children:[R.length===0&&u.jsx(dt,{value:"no-models-available",disabled:!0,children:"No models available"}),R.map(re=>u.jsx(dt,{value:re.id,children:re.name},re.id))]})]}),u.jsxs(Ce,{onClick:()=>Y("preferred_model",G),disabled:I||!G,children:[I&&u.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Set Model"]})]}),u.jsxs("div",{className:"grid grid-cols-[120px_1fr_1fr_auto] items-center gap-4",children:[" ",u.jsx("label",{htmlFor:"custom-config",className:"text-right text-sm",children:"Custom Config:"}),u.jsx(Dt,{id:"custom-config-key",placeholder:"Configuration Key",value:E,onChange:re=>A(re.target.value),disabled:I}),u.jsx(Dt,{id:"custom-config-value",placeholder:"Configuration Value",value:T,onChange:re=>P(re.target.value),disabled:I}),u.jsxs(Ce,{onClick:()=>Y(E,T),disabled:I||!E.trim()||!T.trim(),children:[I&&u.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Set Custom"]})]})]}),N?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"})}):b.length===0?u.jsx("p",{className:"text-center text-muted-foreground",children:"No CLI configurations found."}):u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Key"}),u.jsx(yn,{children:"Value"}),u.jsx(yn,{children:"Last Updated"}),u.jsx(yn,{className:"text-right",children:"Actions"})]})}),u.jsx(xu,{children:b.map(re=>u.jsxs(Ti,{children:[u.jsx(vn,{className:"font-medium",children:re.key}),u.jsx(vn,{children:re.value}),u.jsx(vn,{children:So(new Date(re.updated_at),"PPP p")}),u.jsx(vn,{className:"text-right",children:u.jsx(Ce,{variant:"destructive",size:"sm",onClick:()=>se(re.key),disabled:F===re.key,children:F===re.key?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(tc,{className:"h-4 w-4"})})})]},re.id))})]})]})]}),u.jsxs(Be,{children:[u.jsxs(Xe,{children:[u.jsx(qe,{children:"Your API Keys"}),u.jsx(Et,{children:"Manage your existing Arcana CLI API keys."})]}),u.jsx(Ke,{children:s?u.jsx("div",{className:"flex justify-center items-center p-8",children:u.jsx(Zt,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?u.jsx("p",{className:"text-center text-muted-foreground",children:"No API keys found. Generate one above!"}):u.jsxs(vu,{children:[u.jsx(yu,{children:u.jsxs(Ti,{children:[u.jsx(yn,{children:"Name"}),u.jsx(yn,{children:"Key (Masked)"}),u.jsx(yn,{children:"Created At"}),u.jsx(yn,{children:"Expires At"}),u.jsx(yn,{children:"Status"}),u.jsx(yn,{className:"text-right",children:"Actions"})]})}),u.jsx(xu,{children:e.map(re=>u.jsxs(Ti,{children:[u.jsx(vn,{className:"font-medium",children:re.name}),u.jsx(vn,{children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:"font-mono text-sm text-muted-foreground",children:re.is_active?g===re.id?re.key:"****************":"Deactivated"}),re.is_active&&u.jsx(Ce,{variant:"ghost",size:"sm",onClick:()=>ie(re.id),children:g===re.id?u.jsx(kM,{className:"h-4 w-4"}):u.jsx(OM,{className:"h-4 w-4"})})]})}),u.jsx(vn,{children:So(new Date(re.created_at),"PPP")}),u.jsx(vn,{children:re.expires_at?So(new Date(re.expires_at),"PPP"):"Never"}),u.jsx(vn,{children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${re.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:re.is_active?"Active":"Inactive"})}),u.jsx(vn,{className:"text-right",children:re.is_active&&u.jsx(Ce,{variant:"destructive",size:"sm",onClick:()=>te(re.id),disabled:c===re.id,children:c===re.id?u.jsx(Zt,{className:"h-4 w-4 animate-spin"}):u.jsx(tc,{className:"h-4 w-4"})})})]},re.id))})]})})]}),d&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:u.jsxs(Be,{className:"w-full max-w-md",children:[u.jsxs(Xe,{children:[u.jsx(qe,{children:"Confirm Deactivation"}),u.jsx(Et,{children:"Are you sure you want to deactivate this API key? This action cannot be undone."})]}),u.jsxs(Ke,{className:"flex justify-end space-x-2",children:[u.jsx(Ce,{variant:"outline",onClick:ee,children:"Cancel"}),u.jsxs(Ce,{variant:"destructive",onClick:ue,disabled:c!==null,children:[c!==null&&u.jsx(Zt,{className:"mr-2 h-4 w-4 animate-spin"}),"Deactivate"]})]})]})})]})}function IZ(){return u.jsx(mdt,{children:u.jsx(V0,{children:u.jsxs(See,{children:[u.jsx(Wr,{path:"/pricing",component:JMt}),u.jsx(Wr,{path:"/dashboard",component:Ayt}),u.jsx(Wr,{path:"/dashboard/neosyntis",component:jMt}),u.jsx(Wr,{path:"/dashboard/myntrix",component:yMt}),u.jsx(Wr,{path:"/dashboard/cognisys",component:Cyt}),u.jsx(Wr,{path:"/dashboard/arcana",component:jdt}),u.jsx(Wr,{path:"/dashboard/arcana/cli",component:nAt}),u.jsx(Wr,{path:"/dashboard/profile",component:$Mt}),u.jsx(Wr,{path:"/dashboard/aura",component:eAt}),u.jsx(Wr,{path:"/dashboard/nexa",component:tAt}),u.jsx(Wr,{component:DMt})," "]})})})}function rAt(){return u.jsxs(See,{children:[u.jsx(Wr,{path:"/",component:zMt}),u.jsx(Wr,{path:"/arcana-demo",component:HMt}),u.jsx(Wr,{path:"/neosyntis-demo",component:VMt}),u.jsx(Wr,{path:"/myntrix-demo",component:GMt}),u.jsx(Wr,{path:"/auth",component:KMt}),u.jsx(Wr,{path:"/verify-email",component:YMt}),u.jsx(Wr,{path:"/waiting-for-verification",component:ZMt}),u.jsx(Wr,{path:"/dashboard/:rest*",component:IZ}),u.jsx(Wr,{path:"/pricing",component:IZ}),u.jsx(Wr,{component:qMt})]})}function iAt(){const[t]=vi(),e={initial:{opacity:0,x:50},in:{opacity:1,x:0},out:{opacity:0,x:-50}},n={type:"tween",ease:"anticipate",duration:.4};return u.jsxs(M1e,{client:U1e,children:[u.jsx(Rwe,{titleTemplate:"%s | VAREON",defaultTitle:"VAREON - Engineering Adaptive Intelligence",children:u.jsx("meta",{name:"description",content:"Vareon is an advanced platform to build, manage, and orchestrate multi-agent AI systems. Connect, automate, and visualize your agentic workflows."})}),u.jsx(ndt,{children:u.jsxs(F$,{children:[u.jsx(sdt,{children:u.jsx(YB,{mode:"wait",children:u.jsx(ti.div,{initial:"initial",animate:"in",exit:"out",variants:e,transition:n,className:"h-full w-full",children:u.jsx(rAt,{})},t)})}),u.jsx(idt,{}),u.jsx(Cut,{})]})})]})}H4(document.getElementById("root")).render(u.jsx(uee,{children:u.jsx(iAt,{})}));
